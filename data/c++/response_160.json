[{"tags": ["c++", "templates", "visual-studio-2017", "project"], "comments": [{"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1519101020, "post_id": 48553375, "comment_id": 84759762, "body": "VS 2017 has inbuilt CMake. You can alternatively use it to create CMakeLists.txt file for your project which will help to rebuild the project in another system. It works like charm in conjunction with git also."}], "answers": [{"tags": [], "owner": {"reputation": 39, "user_id": 8355175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpTQi.jpg?s=128&g=1", "display_name": "poorgoat", "link": "https://stackoverflow.com/users/8355175/poorgoat"}, "is_accepted": false, "score": 0, "last_activity_date": 1518925546, "creation_date": 1518925546, "answer_id": 48848234, "question_id": 48553375, "link": "https://stackoverflow.com/questions/48553375/exported-project-template-in-vs2017-misses-source-files/48848234#48848234", "title": "Exported project template in VS2017 misses source files", "body": "<p>yeah, I just put the source within it, ...I've had luck exporting code from github because it contains multiple projects...\nIt's this stupid thing ... under Project Dependencies \"The Project Dependencies option is only available in a solution with more than one project\" so I have no option to select the source. ...they made it like this on purpose but I don't know why.</p>\n"}, {"comments": [{"owner": {"reputation": 725, "user_id": 4579181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56cfadf3b1b082848d9144d72b26b074?s=128&d=identicon&r=PG&f=1", "display_name": "Fry Simpson", "link": "https://stackoverflow.com/users/4579181/fry-simpson"}, "edited": false, "score": 0, "creation_date": 1527642029, "post_id": 48935559, "comment_id": 88199072, "body": "Adding <code>&lt;CreateInPlace&gt;true&lt;&#47;CreateInPlace&gt;</code> in the <code>&lt;TemplateData&gt;</code> works to <a href=\"http://irisclasson.com/2017/06/14/visual-studio-2017-templates-and-the-missing-content/\" rel=\"nofollow noreferrer\">fix a similar problem</a> which arises when exporting a C# .NET Core template, but it doesn&#39;t seem to work when exporting a C++ template.  <a href=\"https://stackoverflow.com/a/48966864/4579181\">Hawkeye5450&#39;s answer</a> fixes the bug when exporting a C++ template."}, {"owner": {"reputation": 942, "user_id": 4034192, "user_type": "registered", "profile_image": "https://graph.facebook.com/1236216622/picture?type=large", "display_name": "hardyVeles", "link": "https://stackoverflow.com/users/4034192/hardyveles"}, "edited": false, "score": 0, "creation_date": 1529855846, "post_id": 48935559, "comment_id": 89015843, "body": "Just to confirm this also works for C# .NET Standard templates."}], "tags": [], "owner": {"reputation": 336, "user_id": 8105131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eab4ec4795fec6a47903c83ba6585694?s=128&d=identicon&r=PG&f=1", "display_name": "King Henry", "link": "https://stackoverflow.com/users/8105131/king-henry"}, "is_accepted": true, "score": 7, "last_activity_date": 1519327160, "creation_date": 1519327160, "answer_id": 48935559, "question_id": 48553375, "link": "https://stackoverflow.com/questions/48553375/exported-project-template-in-vs2017-misses-source-files/48935559#48935559", "title": "Exported project template in VS2017 misses source files", "body": "<p>You need to manually edit the <strong>.vstemplate</strong> file and add <code>&lt;CreateInPlace&gt;true&lt;/CreateInPlace&gt;</code> in the <code>&lt;TemplateData&gt;</code> tag so it looks like this:</p>\n\n<pre><code>&lt;VSTemplate Version=\"3.0.0\" xmlns=\"http://schemas.microsoft.com/developer/vstemplate/2005\" Type=\"Project\"&gt;\n    &lt;TemplateData&gt;\n        &lt;Name&gt;TemplateTest&lt;/Name&gt;\n        &lt;Description&gt;&lt;No description available&gt;&lt;/Description&gt;\n        &lt;ProjectType&gt;JavaScript&lt;/ProjectType&gt;\n        &lt;ProjectSubType&gt;\n        &lt;/ProjectSubType&gt;\n        &lt;SortOrder&gt;1000&lt;/SortOrder&gt;\n        &lt;CreateNewFolder&gt;true&lt;/CreateNewFolder&gt;\n        &lt;CreateInPlace&gt;true&lt;/CreateInPlace&gt;\n        &lt;DefaultName&gt;CodovaTemplateTest&lt;/DefaultName&gt;\n        &lt;ProvideDefaultName&gt;true&lt;/ProvideDefaultName&gt;\n        &lt;LocationField&gt;Enabled&lt;/LocationField&gt;\n        &lt;EnableLocationBrowseButton&gt;true&lt;/EnableLocationBrowseButton&gt;\n        &lt;Icon&gt;__TemplateIcon.ico&lt;/Icon&gt;\n  &lt;/TemplateData&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 544, "user_id": 9277550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d8032e3e443f4c8937d9601338c9ad7?s=128&d=identicon&r=PG&f=1", "display_name": "Hawkeye5450", "link": "https://stackoverflow.com/users/9277550/hawkeye5450"}, "is_accepted": false, "score": 1, "last_activity_date": 1519501338, "creation_date": 1519501338, "answer_id": 48966864, "question_id": 48553375, "link": "https://stackoverflow.com/questions/48553375/exported-project-template-in-vs2017-misses-source-files/48966864#48966864", "title": "Exported project template in VS2017 misses source files", "body": "<p>The problem is in your <code>.vstemplate</code> file. What you need to do is edit it so that VS knows that there is supposed to be additional files. Unzip the file that was exported, add the files you want, then open the <code>.vstemplate</code> file. The part of the <code>.vstemplate</code> you should change is between the <code>&lt;TemplateContent&gt;</code> tags:</p>\n\n<pre><code>    &lt;TemplateContent&gt;\n                &lt;Project TargetFileName=\"project.vcxproj\" File=\"project.vcxproj\" ReplaceParameters=\"true\"&gt;\n                    &lt;ProjectItem ReplaceParameters=\"false\" TargetFileName=\"$projectname$.vcxproj.filters\"&gt;project.vcxproj.filters&lt;/ProjectItem&gt;\n                    &lt;ProjectItem ReplaceParameters=\"true\" TargetFileName=\"file1.cpp\"&gt;file1.cpp&lt;/ProjectItem&gt;\n                    &lt;ProjectItem ReplaceParameters=\"true\" TargetFileName=\"file2.h\"&gt;file2.h&lt;/ProjectItem&gt;\n                    &lt;ProjectItem ReplaceParameters=\"true\" TargetFileName=\"input.txt\"&gt;input.txt&lt;/ProjectItem&gt;\n                &lt;/Project&gt;\n    &lt;/TemplateContent&gt;\n</code></pre>\n\n<p>This tells VS to add the files <code>file1.cpp</code>, <code>file2.h</code> and <code>input.txt</code> to the project when you make it. Just change the names to the files you want, save everything and rezip the folder. </p>\n"}], "owner": {"reputation": 7975, "user_id": 238180, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f90984ad0b6147f68c5044f4a12252b2?s=128&d=identicon&r=PG", "display_name": "Overv", "link": "https://stackoverflow.com/users/238180/overv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 2, "accepted_answer_id": 48935559, "answer_count": 3, "score": 9, "last_activity_date": 1519501338, "creation_date": 1517442900, "question_id": 48553375, "link": "https://stackoverflow.com/questions/48553375/exported-project-template-in-vs2017-misses-source-files", "title": "Exported project template in VS2017 misses source files", "body": "<p>When I use the <code>Project -&gt; Export template</code> option in Visual Studio 2017, the resulting ZIP file includes the main project files, but not any of the <code>*.cpp</code> and <code>*.hpp</code> files that I've added. How do I include everything with the template? I should also note that this behavior seems to have changed in an update at some point.</p>\n"}, {"tags": ["android", "c++", "opencv", "android-ndk"], "answers": [{"tags": [], "owner": {"reputation": 168, "user_id": 9007256, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006477133622/picture?type=large", "display_name": "anon", "link": "https://stackoverflow.com/users/9007256/anon"}, "is_accepted": true, "score": 0, "last_activity_date": 1542563692, "creation_date": 1542563692, "answer_id": 53363866, "question_id": 48553332, "link": "https://stackoverflow.com/questions/48553332/how-to-build-and-install-opencvcontrib-so-libraries-for-android/53363866#53363866", "title": "how to build and install opencv+contrib .so libraries for android", "body": "<p>I ended up using </p>\n\n<blockquote>\n  <p>org.bytedeco:javacv:1.3.2</p>\n</blockquote>\n\n<p>. If you still want to answer this question I don't know.</p>\n"}], "owner": {"reputation": 168, "user_id": 9007256, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006477133622/picture?type=large", "display_name": "anon", "link": "https://stackoverflow.com/users/9007256/anon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 303, "favorite_count": 0, "accepted_answer_id": 53363866, "answer_count": 1, "score": 1, "last_activity_date": 1542563692, "creation_date": 1517442622, "question_id": 48553332, "link": "https://stackoverflow.com/questions/48553332/how-to-build-and-install-opencvcontrib-so-libraries-for-android", "title": "how to build and install opencv+contrib .so libraries for android", "body": "<p>I'm trying to use the opencv contrib modules in android. I compiled the project and got the jar file, which I imported on my android project.\nThe problem is that when I try to instantiate the LBPHFaceRecognizer with the line <code>LBPHFaceRecognizer.create()</code> the program crashes and error says </p>\n\n<blockquote>\n  <p>No implementation found for long\n  org.opencv.face.LBPHFaceRecognizer.create_0</p>\n</blockquote>\n\n<p>Googling I found that I hadn't built the .so for the opencv_contrib modules. Following the idea from <a href=\"http://tzutalin.blogspot.com.tr/2016/01/installing-opencv-310-and-contrib-lib.html\" rel=\"nofollow noreferrer\">this blog</a> I built all the modules using <code>make -j4</code>, and in the <code>lib</code> folder I got many .so files including <code>libopencv_java340.so</code> and <code>libopencv_face.so</code> (the one I need) and many more. </p>\n\n<p>Which one should I add to the ndk build path? At the moment I have the configuration as in <a href=\"https://stackoverflow.com/questions/27406303/opencv-in-android-studio\">here</a>. And the one I built is for <code>armeabi-v7a</code>, same as what my phone supports, but still says the same thing.</p>\n\n<p>Anyone has been able to add opencv contrib modules in android?</p>\n"}, {"tags": ["c++", "gcc", "floating-point", "powerpc", "long-double"], "comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1517442604, "post_id": 48553127, "comment_id": 84103075, "body": "Not your problem, but I&#39;d compute all constants from a single definition of <code>pi</code>, and would reserve <b>ALL UPPERCASE</b> for macros. Using that convention for constants is a Java/Python thing. Those languages don&#39;t have a preprocessor."}, {"owner": {"reputation": 15145, "user_id": 4271923, "user_type": "registered", "profile_image": "https://graph.facebook.com/543414580/picture?type=large", "display_name": "Ped7g", "link": "https://stackoverflow.com/users/4271923/ped7g"}, "edited": false, "score": 1, "creation_date": 1517442788, "post_id": 48553127, "comment_id": 84103128, "body": "For some weird reason on godbolt with powerpc compilers <code>const constexpr long double RAD_TO_DEGREE = pow(DEGREE_TO_RAD, -1.0l);</code> works... while on x86 the clang will bail out as <code>pow</code> being non-const function, and gcc works either way. Unfortunately I don&#39;t have any explanation, <code>1.0l &#47; &lt;long double constant&gt;</code> seems to me as something what can be definitely computed at compile time, even if with risk of some minor accuracy loss, that would be maybe worth of warning without some explicit way of noting some inaccuracy is fine."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1517442835, "post_id": 48553127, "comment_id": 84103142, "body": "Why not just remove the <code>constexpr</code>."}, {"owner": {"reputation": 15145, "user_id": 4271923, "user_type": "registered", "profile_image": "https://graph.facebook.com/543414580/picture?type=large", "display_name": "Ped7g", "link": "https://stackoverflow.com/users/4271923/ped7g"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1517443063, "post_id": 48553127, "comment_id": 84103199, "body": "@Cheersandhth.-Alf It&#39;s quite pointless in modern C++ to reserve all uppercase for macros, because you basically should avoid macros completely. In some unfortunate case you need macros, you can still use something like <code>MACRO_&lt;SOME_UPPERCASE_NAME&gt;</code>, so at least anyone reading source will be aware which part of source needs refactoring. ... And by removing <code>constexpr</code> you completely change the meaning of the definition."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1517443397, "post_id": 48553127, "comment_id": 84103278, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/20791333/constexpr-errors-with-floating-point-representation\" title=\"constexpr errors with floating point representation\">stackoverflow.com/questions/20791333/&hellip;</a>."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 15145, "user_id": 4271923, "user_type": "registered", "profile_image": "https://graph.facebook.com/543414580/picture?type=large", "display_name": "Ped7g", "link": "https://stackoverflow.com/users/4271923/ped7g"}, "edited": false, "score": 0, "creation_date": 1517443751, "post_id": 48553127, "comment_id": 84103362, "body": "@Ped7g: Your idea of a common prefix for macros is interesting, but IMO utterly impractical. The note about changing the meaning of the definition is pretty much meaningless, as I see it. There&#39;s nothing you can do  at compile time with a compile time floating point constant, other than computing other such constants."}, {"owner": {"reputation": 15145, "user_id": 4271923, "user_type": "registered", "profile_image": "https://graph.facebook.com/543414580/picture?type=large", "display_name": "Ped7g", "link": "https://stackoverflow.com/users/4271923/ped7g"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1517444074, "post_id": 48553127, "comment_id": 84103442, "body": "@Cheersandhth.-Alf how about being termination condition in <code>for</code> loop? ... tried it on godbolt ... x86-64 gcc 7.3 will just calculate result of some summing loop and return that, power pc gcc generates actual loop. The x86-64 generates result at compile time even without <code>constexpr</code> .. thinking about it, I can pretty much agree, that the resulting machine code will be highly likely same in both cases, but the source is semantically different a lot. And powerpc compilers available at godbolt are hopelessly inefficient when compared to modern x86 versions :/"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1517444265, "post_id": 48553127, "comment_id": 84103477, "body": "are you compiling with <code>-frounding-math</code> by any chance?"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1517927950, "post_id": 48553127, "comment_id": 84288003, "body": "note that you need the L suffix for <code>long double</code> because <code>0.0174532925199432954743716805978693</code> and <code>1.</code> are <code>double</code> constants"}, {"owner": {"reputation": 1776, "user_id": 285759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b643b8e2268b4b02fcee9bf0fa3c0b7?s=128&d=identicon&r=PG", "display_name": "Jeremy Kerr", "link": "https://stackoverflow.com/users/285759/jeremy-kerr"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1518169258, "post_id": 48553127, "comment_id": 84403912, "body": "@PeteBecker  &amp; @M.M : I see the same, without specifying <code>-frounding-math</code> using a powerpc64le compiler. So, perhaps not a dup."}], "answers": [{"tags": [], "owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "is_accepted": false, "score": 1, "last_activity_date": 1584636048, "last_edit_date": 1584636048, "creation_date": 1555341520, "answer_id": 55692362, "question_id": 48553127, "link": "https://stackoverflow.com/questions/48553127/error-with-long-doubles-on-powerpc-when-compiling-with-gcc/55692362#55692362", "title": "Error with long doubles on PowerPC when compiling with gcc", "body": "<p>It's a bug (or perhaps multiple bugs) related to <code>constexpr</code>.  Clang for PowerPC <a href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qhkAUgBMAISnTSAZ0ztkBPHUqZa6AMKpWAVwC2tQVvQAZPLUwA5YwCNMxLrwAOqBYXW09hk4IeXmp0Vjb2Rk4uPIrKmKo%2BDATMxAR%2BxqacsSohtEkpBGF2js6uismp6QFZChWF1sWRpTwAlIqoBsTIHADkrHTAANToHQ7sg1QQ/aLDo%2BMAHi3iAAwAguIA7LJrg7uDaLS1%2B3S1mPNuxIPTQyMGY5iDACLYAOIAStjYAPoAKgDyXzeq0eg3EAGYQcsAHTLTgbbgAVjBkgAnJIEZwUSjuMiUQjuPCwRtOAA2AAcywRKI2ZJJKLB4O2qz2x0OBFZp3Ol2uszu4yBj1%2BAOe70%2BoIhg04UMGAHonq8Pt9/oDgYyVsy9sRMAROrRBvMAFQCoVfEWKtVrTaPdXqnm3e4TSRTAa8h2LG1bdUsg5HH0EM4XK4u%2B3jM2fE0C8WQmFwxG49GY7G4/GE4nkynU2n0iwWjW7P0c/1coMzEMPY3KsPYKOSqEWWXy0VKgEC3MsrU64h6w0V4UKz65q3qnptVggHoInqkUw9ZZT1DjnRyOSDBQdLoPKRgzhTgjjuctNoAaxAYJRUJJCOWKM4FJJRMksIRCKE4%2B4U5nc9IC56U4UIGWUg91nEdSDgWAkDQIw3DwdgyAoCAoJguCQDcNxkBJbhkGEURSCoWD/WIf8IAcfcpwcawUgAT3HHdSCgowtAIP5aFYGiQNILAjBEYB2DIzi8C1BIADdMH/DizniAx/VoqdrH9McONYPAHGIai9CwWSgOIPAjFktoaHoJg2A4GIBCyHCxGXGQhBU/9IDaVA3FycSAFo/kkQZXNqdBwUeCQZDkHg/ziBINAgcwqkyUhzCKCIokCTxvDoKLEuCHw4pKaJsniXJ8kqfQMkEJQckSOpMqabLagKVKanKhp4uaNo106bouFHcdJ2nfifw8AB3Zx0Mw/ZLMGCACGIAxaCPFoxtwQgSFBSRt1IQY9Gg2DnCW7dZqXQKZF3Mi2ggSDUA2uDyEoJDNpcNCMO4FRLLwgjnGI0iOIo2hqK0himJYtj%2BK4ni%2BI4/AhLUUTxK/STkGk3o6Pk5R%2BOU1T1IweHdx0vSeh3Ay6EYFg%2BLMkBJCEHiUGs%2BQUfsiBHOcnw3I8ryfL8gLZBkTg6JK3KfE0bRapi7QKoSrIgmS3xCuqUgxdyYXmhysK8jqAXucV/L6nCLLiuVyXouq1I5eiZr1zazgOonD8evHfrnEw8ZsJ4saJqmma5vwIhLi3LI1rO5Ctq3SRdspw6QOO07zucS7EN9m7UKGh74ie/DWEIt7%2BM%2B76canX76H%2B9ivyB0QQYLwSech/iYbhrTEcUr8UbU4gqI0jHtN0/S8Px4yid4AQwTJ0QKf2qm7PgOmXPHbyCF8iE2aC98FdyPndF1swhYarXRaS3IBZljL18q4rQrynX/D1o%2ByoKQ3tZqle6sv/eReN1rTPNrrP3na3UAG4g7YeB2ZnGpNaas0IDzQ9ttb260/ae2WmCIOQ8Q4HmPCAEk0IwTcBRMsMkmIwQkkkBsFEZJESvh6PPPSnBliAXft%2Bccf4AJASOubSQlsOI/kQSONookiK824EAA\" rel=\"nofollow noreferrer\">does compile your snippet</a> without any issues. And if you remove the <code>constexpr</code> then GCC also compiles it properly in both <a href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qgA%2BhOSkAzpnbICeOpUy10AYVSsArgFtag1egAyeWpgByegEaZiXXgAdU0wktqad%2Bwc9eK6puZWurb2PDJymAruDATMxASeegacEfL%2BtLHxBIGWNnYOMnEJSd6p0sU5ZnkhBTwAlDKo2sTIHADkrHTAANTozdbsPVQQXaJ9A0MAHvUApAAMAIKzAOwAQguLPds9aLQVPWO9/dqDmD0AItgA4gBK2NhiACoA8mK3ixc9swDMX/MAOnmnBW3AArD8AEwATkhYM40Oh3Ch0LB3FBPxWnAAbAAOeZg6ErXHY6E/X4bJY7XZ0A5HCanIYfC7PN5XO4Pb5/HqcAE9AD0lxu90er3enwpm2pxEwBBatB6UwAVMzWWJ2SLJUtVhdNpt6SczsNIaNugyjTM9espTs9nSzYahhqHmrmVz/kCQeCUXCEUiUWiMVi8QSiSSycYtVtbbSCIcHZNzqqxc7sO6eQDjAKhRzRW9mVHpbL5YqVZ81amozrNu1GqwQO0we1SAZ2vNm6gG%2BoetJmq1zrNIT9OM2CA32/VGgBrECQ3EAtE/ZFg7HYmHYiG4n5CBvcZut9ukTvtZvSEDzUhjtu10hwWAwRAoVC6Rx4dhkCgQNAvt8FZCORxkGAbhcVIKg3wIOwzwgaxx2bawzHiABPBsR1Ib9dFUAgXloVgUOvUgsF0ERgHYODCLwGVogAN0wM8CMwKYom0SDUObMxIPrAjWDwaxiGQzQsDYy9iDwXQ2MaGh6CYNgOHCARt2EUQQAkMQpB46wz0gRpUEcDJ6IAWheSEegMip0F%2BC5kERU9ImiZQICMUoUlIIxcmCUIfBcNw6Gcry/Hcdz8jCNIogyLISi0ZJBFkdIYkqILahCipsj88oEuqDy6kaXsWjaLg6wbJsW3I48AAVUAAdzsMru2AZBkB6bgAXnMEeggXBCBIb4h1SHpNB/d8ep%2BH56n60c4MaCAkG/V933IShZt/ex/0A7FuHYYBsR%2BC9wNYSDiGg2CCIQ2hkOEjCsJwvDyKIkiyII/AqMUWj6MPRjmNY9o0I4uRyI0/jiCQwSOjQghRPE76bykxgWDI%2BTBCU8RJCEXitIgHS9PcQzjNM8zLOs6FbLihynKispXLURLPNSXwfI8cmXLpjJqbqUL7MySo0vZ8KMqCYKYq5xnBeyVmwhyvt8s4QrG33UqGwq6riFq9aenqxrsQBH4gXazqiGIYa%2BoGua7ENsb1Am68ppm58TY/RbbeWlAAOQdbgFAvaDqO8jTvOqH0OfTD6Gu/DDzu0QHrDyiwrwV7yI%2B5AWNB9j6D%2B7jeMB4GMGTkSxIksC6Fh2TCgESEhBIlSUY09HMf0hsjJMsyCAsv5CeJmPSbUPy50pkxMoFzgL2Z9xu9A4eAn7pKuAvWKO851LhZ72eOYiqp%2BanweigXrwDCXvmahp%2BYJbyuSZeKg8OwbZwldVxYnk4SEdegBrcTGjr8H1w3SH6x2hsHKFzaWwnNOEAYILxcT3KQcS2IVhAlxJCPEI15grBGpCGEJUCLHlPLOS8k1bwPmmiAZoBBHAsQWl%2BX%2BbNMAfxIIIGGMl4a8EqvxRw%2BcuLn3lu0f%2BnAeiVUIAgHoisarqFVurHomttaHivBOW8SBiGkIIOQpa74cHUK6iFehcM5JMJYWwoqctMENn/iZPhBABHXzsLfe%2Bj95jtXVq/IBN5CHyLIZ%2BZRBRtxqP1nQwuDDtGkGYcwVhUMz4GMPMef%2BPxeH8MEVVYRasGpNRaguRxk4dztEgeJKEAJoQgmHKuWEq4VgrHmLwC%2BR4GzYLLtI2sICsQAnBBudaI0SlLjXOkn4YTL4nlwVbGWkIukVJ6TUtJtFDruBANwIAA%3D%3D\" rel=\"nofollow noreferrer\">C mode</a> and <a href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAM1QDsCBlZAQwBtMQBGAFlICsupVs1qhkAUgBMAISnTSAZ0ztkBPHUqZa6AMKpWAVwC2tQVvQAZPLUwA5YwCNMxLrwAOqBYXW09hk4IeXmp0Vjb2Rk4uPIrKmKo%2BDATMxAR%2BxqacsSohtEkpBGF2js6uismp6QFZChWF1sWRpTwAlIqoBsTIHADkrHTAANToHQ7sg1QQ/aLDo%2BMAHi3iAAwAguIA7LJrg7uDaLS1g9NDIwZjmIMAItgA4gBK2NgA%2BgAqAPLP96tXg%2BIAzL9lgA6ZacDbcACs/0kAE5JJDOLDYdwYbDIdwIf8NpwAGwADmWkNhG3xuNh/wB21We32dCOJ1m53G3yub0%2BNweTz%2BgMGnGBgwA9Nc7o8Xh8vj8qSsaXtiJgCJ1aIN5gAqVns56csXStabK4ymWMs4XCaSKYDJmmxaGrYy2kHBmWk3jbVPTWsnlA0HgqFohFIlFojFYnEEokkskUiy62W7R0EY7OuaXDUSt3YL184EWIUirniz6s2O0%2BWK4jKtVpjmip6x/UynptVggHqQnqkUw9ZYd1CtnRyOSDBQdLqXKT/TgdgitnstNoAaxAknxwIx/1RkNxuLhuOh%2BP%2BQlb3A7XZ7pD7PQ7ChAy1IM%2B7TdIcFgMEQKFQRjceHYZAoEDQL8f1KNw3GQYBuHxUgqB/AhnBvCAHFnDsHGsFIAE9WynUhAKMLQCHeWhWEwx9SCwIwRGAdhkLIvB5QSAA3TAb1IzB5niAw4KwjtrDgltSNYPAHGIDC9Cwbj72IPAjG4toaHoJg2A4GIBCyYRRBQQcZCEISb0gNpUDcXIWIAWneSRBhM2p0ABK4JBkOROGwpQch8TRtCqTJSHMIoIiiQJPG8OhPIC4IfF8kpomyeJcnySp9AyQQXJixI6gipootqAoQpqNKGj85o2hHTpui4ZtW3bTsaMvAAFVAAHdnBqnRBmAZBkEGbhgVXSFBggXBCBIP5JEnUhBj0IDf2GycWnGrTpGnZC2ggJBAO/X9yEoNbgJcUDkFxbh2GAXF/jvGDWDg4gEKQ0jUNoDCJNw/DCOImjyMo6jSPwei1CYljzzYjiuJ6bDeOUGjBOE0SMF6bCCCkmSQafeTGBYaiVOXIRKM0hztMhvSIAMoyfFM8zLOs2z7NkGQeGvOIEg0CBzBy7ztHS/ysiCILfAS6pSC53J2eaaKGbyOoWeS0W4vqcJIqS8Xea8rLUiF6IitHUrOHKttT2q1sPEa4gDvGNqOtxYF/lBPqBqIYhpqycbP3W5xpskWaB1xhb7yW59VqdnbNoA/3fxAPaDuAKDzsu66aLuh6kZwz88PoF6SPPd7RE%2B9O6JSv6aMB5BONhnj6HBgShJE4h0LE4vJOk2ToLoVGlLKARD3UsR5p0hwCaJ4zWzMiyrIIGzASpxznPp3J3N0RWzDZ/K5c5wLchZgXwsXjKkqn1Lsrnmod7oaXVflvf/CVvLZa3rX2hK5Ttcqs9e31hrnAOwZVleThJCt/r8Ft%2B2Y0JrOzthOf47t5qLUfPOUgS5IR3n4ieUgMkcTAlxMsAkB1JAQkhBsZYJIqqkUvNeW83toHPjfCtEAHQCBuE4oHbaIcsiYH/iQQQKNFLo14PVESbgG78UfnrHoE5OCDHqoQBAgw6qG2aq1dqnVuprigXOX21DOJ0IIAw4OpRJDeVYVFDhaNlLcN4fwiqusiGtgnBZcRBBJEGzfodS4ptBjm0tueB8KiqE0I0VoyapRDwsMGgYpunDjGkB4cwPhSMH4WPPJeMBYiJGDAcUbbgH8v4/w8UtbWSCZIrgthSTg/xcEIm4HCMEuJCHxNbCQ3RnimyLhAKgqEe4Dr/GxMsDcO4jw9H%2BHE5%2BV4yFzm1pIAZF5anDMaaQJiV03LcCAA%3D%3D%3D\" rel=\"nofollow noreferrer\">C++ mode</a></p>\n\n<hr>\n\n<p>Regarding the bug, the first issue can be seen right from GCC's error message</p>\n\n<blockquote>\n<pre><code>               \u2193                                        \u2193\nerror: \u2018(1.0e+0l / 1.74532925199432954743716805978693e-2l)\u2019 is not a constant expression\nconst constexpr long double RAD_TO_DEGREE = 1. / DEGREE_TO_RAD;\n</code></pre>\n</blockquote>\n\n<p>There's no <code>L</code> suffix in the source file, but somehow it appeared in the error output. And if I correct the code by adding the suffix it still fails with the same reason. I don't have a newer version of GCC for PowerPC so I can't verify this but the error occurs with <a href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAKxAEZSAbAQwDtRkBSAJgCFufSAZ1QBXYskwgA5A1RsA1OlEAjBpnkAzCLIVKRq9QA8AlBwAMAQQ4B2PpfkP5aFoIJO5rzIYAOxeTuBFFTV5ABFsAHEAJWxsAH0AFQB5OKiLUPkOAGYMswA6M1prABYAViyuAE4uUtpKyuKKytLikqzrWgA2AA4zUsrrbs7KrOy7C0d3FzdnTx8/AKD9ELTQxJTw6NjMnPlaPPkAejDImPjk1PSx8wnHYkwCMRZ5QwAqVfW4zbPryxtQm43RZ6AyaLjaOSBEEhEyA2w3SazGYeAheXz%2BSFLUHfWKfVY7XIFIplJo1OoNJotNodHp9AZDEYAGV%2BtwcSKmc3RwOC6g%2BFxx2AJezyjKOJy25xSqxZk3uj2IzzefI2p1iLP%2BNykxkY0lKUlILGkZn1qGkAGF%2BPx5MIxBJMlwsrR9QQjVrtQBrEBcbp5FpZRqlTqdKqdcrdLI6qTFfWGqTG0imqT6wQgMykF1xrWkOCwGCIFCoAC23jwajIFAgaGLpcwxBA3m8yGAxW6pA0pdRxBTEGUrtIyjwLCYxAAntInaQq4XMCwCEkWAwx5nSFhC6xgGo%2B/h7sgCHgAG6YFPLryYZAiVHj/WD1EMPsMPDKYjDkdmjCSKQTgjEPCFq/a5g2BQS1eEYR8U0gbVUG8PcPGkABaVx0GyUJOF4fhaAnG1xEkWgAN1GM%2B0TAAFVAAHda2Is15GAZBkHkYo8h9Up5AgXBCBIe1HVIeQ32rMsuLw3iQJ4Z1XW1CAkCrEsy3IShpJrOsG2QTpijUYBOiyNN2wYTtu17ZcByHUcr0nItp1nedFy3TA1zYTdl23M890PY941Pc9L0/a9Z0wO9lwfJ8XzfLBTO/X9/0YddgPQ0DAogiAoJgvA4KkRCCGQnI0L4XhaGjIRRBwuh8KkPUDSI6RvHI2tVJCWj6M6PIsgKVj2KIPxuG43iixk2suK4YxhNi0T03E7MpJ6xS5MrSay3rRtVOAVsdL0ygDPjIyX1MqcZznBcl3jVd1wcw68B3Fyjz7DyLw/Ccbz8%2B9H2fUcQtu50fz/byAOi7L%2BDA5QEqS2CXAQpCUN%2B3KsMKiRisjMrY3jRMqoo4hVPkCwEloLgWrY/B2sEni%2BN6jqHSyQaLWGsTM2MD0QFKNN/Pyv9ikqPJ6nZjnOfK5dE2TVNRup7M80kkBRAIbwL2mhS5voTA8ZIOhSDI59vEi/z4YqqROtoeQyMIBB5FIlGqJouiGKY30qeNCSkDFiWCCl2bay9Ug5Y4ut6GVphVa%2BuHCJ56ROq4XX9fkZGarU9R6vkRrmvjDNrfG0WL3tx3%2BOdiM3faxWvZ9p0So1gOtdJkOCAN8PUeKdHMex%2BPxJKpmQBZtnOdb%2BpucR6Q%2Ba4AXrdpjo8jKUNVKydozH9YNIyyf3O6TXu3UjLgZ5NLv55p0hDy7FLDWKIA%3D%3D\" rel=\"nofollow noreferrer\">GCC 4.8.5 and 6.3.0, and even AT12.0 (which is based on GCC 8) on Compiler Explorer</a></p>\n\n<p>Indeed PowerPC uses <a href=\"https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format#Double-double_arithmetic\" rel=\"nofollow noreferrer\">double-double arithmetic</a> for <a href=\"https://en.wikipedia.org/wiki/Long_double\" rel=\"nofollow noreferrer\"><code>long double</code></a> by default, but floating-point format is just an <strong>internal implementation detail</strong> that's <em>transparent to users</em>. It should <strong>not</strong> affect the compilation of correct code. Most embedded systems don't have floating-point support, and most current platforms don't have hardware for 128-bit <code>long double</code>. They all use software for those operations, yet floating-point code still compile fine on them. Regardless of the format, <strong>valid code should compile and</strong></p>\n\n<p>They do work if I <a href=\"https://godbolt.org/#z:OYLghAFBqd5QCxAYwPYBMCmBRdBLAF1QCcAaPECAKxAEZSAbAQwDtRkBSAJgCFufSAZ1QBXYskwgA5A1RsA1OlEAjBpnkAzCLIVKRq9QA8AlBwAMAQQ4B2PpfkP5aFoIJO5rzIYAOxeTuBFFTV5ABFsAHEAJWxsAH0AFQB5OKiLUPkOAGYMswA6M1prABYAViyuAE4uUtpKyuKKytLikqzrWgA2AA4zUsrrbs7KrOy7C0d3FzdnTx8/AKD9ELTQxJTw6NjMnPlaPPkAejDImPjk1PSx8wnHYkwCMRZ5QwAqVfW4zbPryxtQm43RZ6AyaLjaOSBEEhEyA2w3SazGYeAheXz%2BSFLUHfWKfVY7XIFIplJo1OoNJotNodHp9AZDEYAGV%2BtwcSKmc3RwOC6g%2BFxx2AJezyjKOJy25xSqxZk3uj2IzzefI2p1iLP%2BNykxkY0lKUlILGkZn1qGkAGF%2BPx5MIxBJMlwsrR9QQjVrtQBrEBZLJ5DpcB3WTpZeqdTqlHVSYr6w1SY2kU1SfWCEBmUgu2Na0hwWBINAAW28eDUZAoEHzheLIG83mQwGK3VIGiLqOIyYgyldpGUeBYTGIAE9pE7SPm85gWAQkiwGIOM6QsHnWMA1J38PdkAQ8AA3TDJudeTDIESoof6nuohidhh4ZTEPv9s0YSRSYcEYh4POn7XMNgoS28Rgb2TSBtVQbxNw8aQAFoki4eQoNcdBslCTheH4WhaHgxdu2QvBMHwgJoUwJNRHESRaG/XVo07BMAAVUAAd0wYhaLNeRgGQZB5GKPJujyUp5AgXBCBIe1HVIeRHwLItmLEijJP/HhnVdbUIFzVBpOLchKHLGTiCrGtOmKNRgCDVMmwYFs2w7Odu17AdTxHDSxwnKcZ1XTBFzYFc5zXQ9Nx3Pc4wPI8TxfM8J0wS852vW970fLBHLfD8v0YJc/zQgDYuAiBQPAvBIKkGC4IQggkJyVC%2BF4WhiiwpgcJyPCCMhIiSNtcjKKkPUDRo6RvEY5ijJCDiuM6PIfTMQThKIPxuHEySNIrWS5q4YwFMypS0xUrN1M05jtLLRa9IM5AjOABsLKsygbLjOz70c0dx0nadZzjBclx8t68HXALd07ELj2fYdzyiq8bzvAcEqB5130/cLv3Syr%2BEA5QcryiCXGg2D4MQ5CkeqzCoOwvBcPwqKWp5NqyLoTrupjOME36pjiCM%2BQLASWguAKKb8BmuSJKkpbZodLI1otDblIzYwPRAUM8i4bprEDB1OjMMxvXrCMo1IT96jyeoDcNo2ernBMkxTLapc6rhqNN6RJeNaXSB3VsCsNYogA%3D%3D\" rel=\"nofollow noreferrer\">specify <code>-mabi=ieeelongdouble</code></a> though. Here you can also clearly see the difference between using and not using the <code>L</code> suffix, because without it the literal is a <code>double</code> and will be constructed at <code>double</code> precision before upcasting to <code>long double</code>, which means you'll lose all the digits beyond double precision. <strong>Remember to always use the correct suffix in floating-point types if you don't use <code>double</code></strong></p>\n\n<pre><code>.LC0:    # 1./0.0174532925199432954743716805978693\n        .long   1074055773\n        .long   3248897055\n        .long   2108954270\n        .long   2705146754\n.LC1:    # 1.L/0.0174532925199432954743716805978693L\n        .long   1074055773\n        .long   3248897055\n        .long   2108954270\n        .long   2705146739\n</code></pre>\n\n<p>The constants are the same for <a href=\"https://godbolt.org/#g:!((g:!((g:!((h:codeEditor,i:(j:1,lang:c%2B%2B,source:&#39;long+double+f(long+double+x)%0A%7B%0A++++const+constexpr+long+double+DEGREE_TO_RAD+%3D+0.0174532925199432954743716805978693%3B%0A++++const+constexpr+long+double+RAD_TO_DEGREE+%3D+1.+/+DEGREE_TO_RAD%3B%0A++++return+x*RAD_TO_DEGREE%3B%0A%7D%0A%0Along+double+f2(long+double+x)%0A%7B%0A++++const+constexpr+long+double+DEGREE_TO_RAD+%3D+0.0174532925199432954743716805978693L%3B%0A++++const+constexpr+long+double+RAD_TO_DEGREE+%3D+1.L+/+DEGREE_TO_RAD%3B%0A++++return+x*RAD_TO_DEGREE%3B%0A%7D%0A&#39;),l:&#39;5&#39;,n:&#39;0&#39;,o:&#39;C%2B%2B+source+%231&#39;,t:&#39;0&#39;)),k:33.7122376399665,l:&#39;4&#39;,n:&#39;0&#39;,o:&#39;&#39;,s:0,t:&#39;0&#39;),(g:!((h:compiler,i:(compiler:mips564,filters:(b:&#39;0&#39;,binary:&#39;1&#39;,commentOnly:&#39;0&#39;,demangle:&#39;0&#39;,directives:&#39;0&#39;,execute:&#39;1&#39;,intel:&#39;0&#39;,libraryCode:&#39;1&#39;,trim:&#39;1&#39;),lang:c%2B%2B,libs:!(),options:&#39;-O2+-std%3Dc%2B%2B11&#39;,source:1),l:&#39;5&#39;,n:&#39;0&#39;,o:&#39;MIPS64+gcc+5.4+(Editor+%231,+Compiler+%231)+C%2B%2B&#39;,t:&#39;0&#39;),(h:compiler,i:(compiler:arm64g820,filters:(b:&#39;0&#39;,binary:&#39;1&#39;,commentOnly:&#39;0&#39;,demangle:&#39;0&#39;,directives:&#39;0&#39;,execute:&#39;1&#39;,intel:&#39;0&#39;,libraryCode:&#39;1&#39;,trim:&#39;1&#39;),lang:c%2B%2B,libs:!(),options:&#39;-O2+-std%3Dc%2B%2B14&#39;,source:1),l:&#39;5&#39;,n:&#39;0&#39;,o:&#39;ARM64+gcc+8.2+(Editor+%231,+Compiler+%232)+C%2B%2B&#39;,t:&#39;0&#39;),(h:compiler,i:(compiler:riscv820,filters:(b:&#39;0&#39;,binary:&#39;1&#39;,commentOnly:&#39;0&#39;,demangle:&#39;0&#39;,directives:&#39;0&#39;,execute:&#39;1&#39;,intel:&#39;0&#39;,libraryCode:&#39;1&#39;,trim:&#39;1&#39;),lang:c%2B%2B,libs:!(),options:&#39;-O2+-std%3Dc%2B%2B11&#39;,source:1),l:&#39;5&#39;,n:&#39;0&#39;,o:&#39;RISC-V+gcc+8.2.0+(Editor+%231,+Compiler+%233)+C%2B%2B&#39;,t:&#39;0&#39;)),k:66.28776236003348,l:&#39;4&#39;,m:99.99999999999999,n:&#39;0&#39;,o:&#39;&#39;,s:2,t:&#39;0&#39;)),l:&#39;2&#39;,n:&#39;0&#39;,o:&#39;&#39;,t:&#39;0&#39;)),version:4\" rel=\"nofollow noreferrer\">other platforms</a> that use <a href=\"https://en.wikipedia.org/wiki/Quadruple-precision_floating-point_format\" rel=\"nofollow noreferrer\">IEEE-754 quadruple-precision floating-point format</a></p>\n"}], "owner": {"reputation": 203, "user_id": 7954808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c281dd63e654e7e4617a15d713d90736?s=128&d=identicon&r=PG", "display_name": "Fred Byrd", "link": "https://stackoverflow.com/users/7954808/fred-byrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1584636048, "creation_date": 1517441304, "last_edit_date": 1555379288, "question_id": 48553127, "link": "https://stackoverflow.com/questions/48553127/error-with-long-doubles-on-powerpc-when-compiling-with-gcc", "title": "Error with long doubles on PowerPC when compiling with gcc", "body": "<p>I'm running into a curious bug when I assign values to <code>long double</code> variable types. (PowerPC architecture, gcc v4.9.2)</p>\n\n<p>Specifically:</p>\n\n<pre><code>const constexpr long double DEGREE_TO_RAD = 0.0174532925199432954743716805978693;\nconst constexpr long double RAD_TO_DEGREE = 1. / DEGREE_TO_RAD;\n</code></pre>\n\n<p>seems to result in the following compiler error:</p>\n\n<pre><code>error: \u2018(1.0e+0l / 1.74532925199432954743716805978693e-2l)\u2019 is not a constant expression\n const constexpr long double RAD_TO_DEGREE = 1. / DEGREE_TO_RAD;\n</code></pre>\n\n<p>I am not an expert in C++; this is software I'm attempting to build specifically for my development machine's environment. However, my research has led me to the following tidbit:</p>\n\n<blockquote>\n  <p>On some PowerPC and SPARCv9 machines, <code>long double</code> is implemented as a double-double arithmetic, where a <code>long double</code> value is regarded as the exact sum of two double-precision values, giving at least a 106-bit precision; with such a format, the <code>long double</code> type does not conform to the IEEE floating-point standard. Otherwise, <code>long double</code> is simply a synonym for <code>double</code> (double precision). <a href=\"https://en.wikipedia.org/wiki/Long_double#Implementations\" rel=\"nofollow noreferrer\">[wiki]</a></p>\n</blockquote>\n\n<p>Which leads me to believe the build failure is due to long double having a different interpretation in my architecture vs the standard x86. Changing <code>long double</code> to <code>double</code> in the source allows the compilation to succeed. Is this a coincidence? Why would g++ throw a fit about it in this instance?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1517441213, "post_id": 48553098, "comment_id": 84102677, "body": "There is no direct equivalent. The closest you can get to it are stream manipulators and <code>std::stringstream</code>."}, {"owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "reply_to_user": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1517441344, "post_id": 48553098, "comment_id": 84102722, "body": "Darn, I mean I have ideas of how to implement something similar.... but that would of just been so handy haha."}, {"owner": {"reputation": 5781, "user_id": 8746007, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Wr8CIbEqJ4w/AAAAAAAAAAI/AAAAAAAAAFE/Ym-NjswzViM/photo.jpg?sz=128", "display_name": "Killzone Kid", "link": "https://stackoverflow.com/users/8746007/killzone-kid"}, "edited": false, "score": 0, "creation_date": 1517441575, "post_id": 48553098, "comment_id": 84102798, "body": "Are you looking for something like <code>sprintf</code> that writes into string buffer? <a href=\"http://en.cppreference.com/w/cpp/io/c/fprintf\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/c/fprintf</a>"}, {"owner": {"reputation": 1472, "user_id": 6942918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EzNAX.png?s=128&g=1", "display_name": "kyriakosSt", "link": "https://stackoverflow.com/users/6942918/kyriakosst"}, "edited": false, "score": 0, "creation_date": 1517441594, "post_id": 48553098, "comment_id": 84102801, "body": "@what are you talking about? @Rick There is old C&#39;s <code>sprintf()</code> function which works exactly like <code>printf</code> but it prints to string rather than stdout"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 2, "creation_date": 1517441599, "post_id": 48553098, "comment_id": 84102804, "body": "You might want to use one of the many formatting libraries. <a href=\"https://github.com/fmtlib/fmt\" rel=\"nofollow noreferrer\">fmt</a> is one of them, but there are several listed <a href=\"https://github.com/fffaraz/awesome-cpp#miscellaneous\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 4940, "user_id": 1673574, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/ubyAU.png?s=128&g=1", "display_name": "Chiel", "link": "https://stackoverflow.com/users/1673574/chiel"}, "edited": false, "score": 0, "creation_date": 1517441648, "post_id": 48553098, "comment_id": 84102820, "body": "Are you only adding strings?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1517442593, "post_id": 48553098, "comment_id": 84103070, "body": "Could you expand on what you mean with &quot;then keep adding parameters to replace them sequentially&quot;?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1517443359, "post_id": 48553098, "comment_id": 84103271, "body": "Maybe look up <a href=\"http://en.cppreference.com/w/cpp/io/basic_ostringstream\" rel=\"nofollow noreferrer\">std::ostringstream</a>."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1517443836, "post_id": 48553098, "comment_id": 84103386, "body": "Perhaps <code>n = snprintf(0,0, ...);</code> then <code>s = new char[n+1];  snprintf(s,n+1, ...);</code> and convert array to <code>string</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1517444348, "post_id": 48553098, "comment_id": 84103494, "body": "@chux you can just allocate the string and write into it, without intermediate <code>new</code>"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1517445054, "post_id": 48553098, "comment_id": 84103617, "body": "Boost.format exists pretty much because there is no native method to do it."}], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 6688377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d53bfc643286b2bdd0ed2219ce7925c?s=128&d=identicon&r=PG&f=1", "display_name": "codebender", "link": "https://stackoverflow.com/users/6688377/codebender"}, "is_accepted": false, "score": 0, "last_activity_date": 1517493609, "last_edit_date": 1517493609, "creation_date": 1517442864, "answer_id": 48553368, "question_id": 48553098, "link": "https://stackoverflow.com/questions/48553098/is-there-a-way-to-replace-a-string-with-parameters-like-in-printf-in-c/48553368#48553368", "title": "Is there a way to replace a string with parameters like in printf in C++?", "body": "<p>You can use any of the existing <a href=\"http://en.cppreference.com/w/cpp/language/variadic_arguments\" rel=\"nofollow noreferrer\">variadic</a> functions that work like <a href=\"http://en.cppreference.com/w/c/io/fprintf\" rel=\"nofollow noreferrer\">printf</a> or make your own.  Note many people warn against using <a href=\"http://www.learncpp.com/cpp-tutorial/714-ellipsis-and-why-to-avoid-them/\" rel=\"nofollow noreferrer\">ellipsis</a>, but sometimes, it's what is needed for the job.</p>\n\n<pre><code>int specialprintf(string fmt, ...) {\n  int i;\n  va_list vl;\n  size_t n = std::count(fmt.begin(), fmt.end(), '%');\n  va_start(vl,n);\n  for (i=0;i&lt;n;i++) {\n     // do something with each arg\n  }\n  va_end(vl);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1517455986, "post_id": 48553466, "comment_id": 84106074, "body": "As nice as streams sound, they just don&#39;t cut it for translatable strings, as parameter order changes in other languages. Eg: <i>&quot;&lt;foo&gt;&#39;s &lt;bar&gt;&quot;</i> would be <i>&quot;le &lt;bar&gt; de &lt;foo&gt;&quot;</i> in French."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1517458419, "post_id": 48553466, "comment_id": 84106601, "body": "@spectras you can&#39;t (easily) accomplish that with something like <code>printf</code> since the order of passed parameters depends on the cost tent of the format string. You would be better off creating a list of name=value pairs for the replacement texts, then search the format string looking for named tokens and replacing them with the corresponding values."}, {"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1517481334, "post_id": 48553466, "comment_id": 84116782, "body": "@RemyLebeau <code>printf</code> accepts order specifiers.  <code>printf(&quot;Hello %2$s %1$s&quot;, &quot;Lebeau&quot;, &quot;Remy&quot;)</code> prints <code>Hello Remy Lebeau</code>. Granted, named parameters would be cleaner but at least position-based do the job."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1517515163, "post_id": 48553466, "comment_id": 84138067, "body": "@spectras: &quot;<i><code>printf</code> accepts order specifiers</i>&quot; - <a href=\"https://stackoverflow.com/a/6322594/65863\">POSIX defines that behavior</a>, but that is not a guarantee that every compiler actually implements it (I&#39;ve certainly never seen it before today). Case in point, VC++ does implement it, but <a href=\"https://docs.microsoft.com/en-us/cpp/c-runtime-library/printf-p-positional-parameters\" rel=\"nofollow noreferrer\">only in non-standard <code>_printf_p()</code>, not in standard <code>printf()</code></a>. I would stick with named token replacement. It is language-agnostic and safer to implement and support across compilers/platforms."}], "tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": false, "score": 1, "last_activity_date": 1517444008, "last_edit_date": 1517444008, "creation_date": 1517443632, "answer_id": 48553466, "question_id": 48553098, "link": "https://stackoverflow.com/questions/48553098/is-there-a-way-to-replace-a-string-with-parameters-like-in-printf-in-c/48553466#48553466", "title": "Is there a way to replace a string with parameters like in printf in C++?", "body": "<p>In <code>C++</code> I would most likely just do:</p>\n\n<pre><code>std::string firstname = \"Bob\";\nstd::string lastname = \"Jones\";\n\nstd::ostringstream oss;\n\noss &lt;&lt; \"This is \" &lt;&lt; firstname &lt;&lt; \", their last name is \" &lt;&lt; lastname;\n\nstd::string mystring = oss.str();\n</code></pre>\n\n<p>And you can still use <code>std::printf</code> and <code>std::sprintf</code> in <code>C++</code> they are officially part of the <code>C++</code> standard. Although they are less type safe.</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 8595100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b1bfd20fe53462151bc93bc490c2cd7?s=128&d=identicon&r=PG", "display_name": "Cyclonite", "link": "https://stackoverflow.com/users/8595100/cyclonite"}, "is_accepted": false, "score": 0, "last_activity_date": 1517448504, "creation_date": 1517448504, "answer_id": 48554021, "question_id": 48553098, "link": "https://stackoverflow.com/questions/48553098/is-there-a-way-to-replace-a-string-with-parameters-like-in-printf-in-c/48554021#48554021", "title": "Is there a way to replace a string with parameters like in printf in C++?", "body": "<p>In this case you could utilize <a href=\"http://www.cplusplus.com/reference/cstdarg/\" rel=\"nofollow noreferrer\">variable arguments handling</a> feature. By writing your own function with variable arguments, you could define both fixed arguments as well as unnamed arguments. The following is an implementation of <code>DebugPrint</code> function in my simple game engine.</p>\n\n<pre><code>int DebugPrint(const char* file, const char* func, const int line, const char* fmt, ...)\n{\n    const size_t tempLength = 1024 + 1024;\n    char temp[tempLength] = { 0 };\n    sprintf_s(temp, fmt);\n    va_list argp;\n    const size_t outputLength = tempLength + 1024;\n    char output[outputLength] = { 0 };\n    va_start(argp, fmt);\n    sprintf_s(temp, tempLength, \"File: %s\\n\", file);\n    OutputDebugStringA(temp);\n    sprintf_s(temp, tempLength, \"Func: %s\\n\", func);\n    OutputDebugStringA(temp);\n    sprintf_s(temp, tempLength, \"Line: %d\\n\", line);\n    OutputDebugStringA(temp);\n    vsprintf_s(output, outputLength, fmt, argp);\n    va_end(argp);\n    OutputDebugStringA(output);\n    OutputDebugStringA(\"\\n\");\n    return 0;\n}\n</code></pre>\n\n<p><code>OutputDebugStringA</code> just lets me print output into Visual Studio output window instead of the console. The real focus is on <code>va_list</code>, <code>va_start</code> and <code>va_end</code>.</p>\n\n<p>If you want to <code>#define</code> so that you don't have to input fixed arguments every time and you know that input to those arguments would be set (in this case, I will use <code>__FILE__</code>, <code>__FUNCTION__</code> and <code>__LINE__</code> as input values for <code>file</code>, <code>func</code> and <code>line</code> every time when I call this function) you could do something like:</p>\n\n<pre><code>#define DEBUG_LOG(fmt, ...) DebugPrint(__FILE__, __FUNCTION__, __LINE__, fmt, __VA_ARGS__)\n</code></pre>\n\n<p>And whenever I need to call this function I will just write:</p>\n\n<pre><code>DEBUG_LOG(\"This monster is at [%d, %d] now.\\n\", monsterList[i].GetPosition().GetX(), monsterList[i].GetPosition().GetY());\n</code></pre>\n\n<p>And this function will output the file, function and line where it's getting called as well as the custom data you want it to output.</p>\n"}], "owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1517493609, "creation_date": 1517441139, "last_edit_date": 1517441440, "question_id": 48553098, "link": "https://stackoverflow.com/questions/48553098/is-there-a-way-to-replace-a-string-with-parameters-like-in-printf-in-c", "title": "Is there a way to replace a string with parameters like in printf in C++?", "body": "<p>I'm writing a localization file, and some of the text needs to be fed data... Which made me think of printf and how we can assign %s values and then keep adding parameters to replace them sequentially.</p>\n\n<p>Like this...</p>\n\n<pre><code>printf(\"This is %s, their last name is %s\", \"Bob\", \"Jones\");\n</code></pre>\n\n<p>Is there a native C++ way of doing this and storing the result in a string?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1517440151, "post_id": 48552933, "comment_id": 84102329, "body": "You need to call <code>dis(gen)</code> in your loop. As written your value <code>random</code> never changes after it is assigned"}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 2, "creation_date": 1517440167, "post_id": 48552933, "comment_id": 84102337, "body": "<code>random</code> won&#39;t change until you reassign it"}, {"owner": {"reputation": 24042, "user_id": 422289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e5f72d9050f96c79a80795e1dd10b1b?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Tavares", "link": "https://stackoverflow.com/users/422289/chris-tavares"}, "edited": false, "score": 1, "creation_date": 1517440180, "post_id": 48552933, "comment_id": 84102343, "body": "You don&#39;t get a new random number in your loop, you just print the same one over and over. Call <code>random = dis(gen)</code> again inside your while loop."}], "answers": [{"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 3, "last_activity_date": 1517440812, "creation_date": 1517440812, "answer_id": 48553054, "question_id": 48552933, "link": "https://stackoverflow.com/questions/48552933/generate-more-than-one-random-value-using-mersenne-twister/48553054#48553054", "title": "Generate more than one random value using Mersenne-Twister", "body": "<p><code>random</code> is an integer object. The value of an integer object does not change unless you set its value. What you're doing here is analogous to rolling a die, writing down the random result, then repeatedly read what you wrote, expecting the written result to change.</p>\n\n<p>You can generate more than one random number by applying the generator object on the distribution function more than once:</p>\n\n<pre><code>while (...)\n    cout &lt;&lt; dis(gen) &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": false, "score": 0, "last_activity_date": 1517445690, "creation_date": 1517445690, "answer_id": 48553695, "question_id": 48552933, "link": "https://stackoverflow.com/questions/48552933/generate-more-than-one-random-value-using-mersenne-twister/48553695#48553695", "title": "Generate more than one random value using Mersenne-Twister", "body": "<p>You need to put the command to get the random number <em>inside</em> the loop, otherwise you just print the same value over and over:</p>\n\n<pre><code>int i = 1;\nwhile (i = 1) {\n\n    int random = dis(gen); // get a new random number\n    cout &lt;&lt; random &lt;&lt; '\\n'; // print it\n}\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9297093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z4Dvc.jpg?s=128&g=1", "display_name": "Koi", "link": "https://stackoverflow.com/users/9297093/koi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 48553054, "answer_count": 2, "score": 0, "last_activity_date": 1517445690, "creation_date": 1517440085, "question_id": 48552933, "link": "https://stackoverflow.com/questions/48552933/generate-more-than-one-random-value-using-mersenne-twister", "title": "Generate more than one random value using Mersenne-Twister", "body": "<p>I have recently encountered a problem while generating random numbers in C++, using the <code>Mersenne-Twister</code> algorithm. When iterating through the <code>for</code> loop and using <code>cout</code> to output the generated number, it outputs the same number repeatedly. For example, it outputs something like <code>11 11 11</code> instead of <code>11 43 124</code>. How would I achieve this with code? My current code is posted below.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;Windows.h&gt;\n#include &lt;unistd.h&gt;\n\nusing namespace std;\n\nint main() \n{\n  random_device rd;\n  mt19937 gen(rd());\n  uniform_int_distribution&lt;&gt; dis(15000, 120000);\n  int random = dis(gen);\n\n  int i = 1;\n  while (i = 1) {\n    cout &lt;&lt; random &lt;&lt; endl;\n}\nreturn 0;\n</code></pre>\n\n<p>Any help is greatly appreciated.</p>\n"}, {"tags": ["c++", "c++11", "vector"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 10, "creation_date": 1517438765, "post_id": 48552684, "comment_id": 84101800, "body": "Why not use a <code>std::array</code>?"}, {"owner": {"reputation": 1472, "user_id": 1024581, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9Ddxp.jpg?s=128&g=1", "display_name": "Semjon M&#246;ssinger", "link": "https://stackoverflow.com/users/1024581/semjon-m%c3%b6ssinger"}, "edited": false, "score": 0, "creation_date": 1517439124, "post_id": 48552684, "comment_id": 84101944, "body": "I&#39;m have not done it myself, but I heard this could be done via a custom (or predifinded) allocator, different to the standard allocator. But I don&#39;t know if this really makes sense in your case."}, {"owner": {"reputation": 165, "user_id": 9214270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5015413cdd23101b12239a68dfffc89?s=128&d=identicon&r=PG", "display_name": "CookiePLMonster", "link": "https://stackoverflow.com/users/9214270/cookieplmonster"}, "edited": false, "score": 0, "creation_date": 1517441034, "post_id": 48552684, "comment_id": 84102616, "body": "Remember range based for loops and iterators work just fine with C style arrays too - so a constexpr char array ought to be as easy to use as an STL container."}, {"owner": {"reputation": 2144, "user_id": 9760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixxpj.jpg?s=128&g=1", "display_name": "Daniel Waechter", "link": "https://stackoverflow.com/users/9760/daniel-waechter"}, "edited": false, "score": 0, "creation_date": 1517443349, "post_id": 48552684, "comment_id": 84103269, "body": "If you&#39;re just trying to avoid the heap, a custom allocator is an alternative. Eg, this stack-based arena allocator: <a href=\"https://howardhinnant.github.io/stack_alloc.html\" rel=\"nofollow noreferrer\">howardhinnant.github.io/stack_alloc.html</a>"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1517487823, "post_id": 48552684, "comment_id": 84120929, "body": "<code>std::vector</code> more or less <i>has to</i> use heap memory to implement the required O(1) swap with no iterator invalidations. The constructor doesn&#39;t know that the object will be <code>const</code> and thus never swapped."}, {"owner": {"reputation": 4732, "user_id": 8477999, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f8172e1919af53269de92316dcf03a03?s=128&d=identicon&r=PG&f=1", "display_name": "Gem Taylor", "link": "https://stackoverflow.com/users/8477999/gem-taylor"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1517508269, "post_id": 48552684, "comment_id": 84134362, "body": "@Bo yes, but if you wrapped your vector in something that provided the storage, forced a reserve to request storage, and an allocator object that failed for larger storage? Actually you have just reinvented std::array."}], "answers": [{"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 3, "creation_date": 1517440204, "post_id": 48552730, "comment_id": 84102359, "body": "I&#39;d even consider making it <code>constexpr</code>. That gives the compiler even more opportunity to eliminate the storage for <code>v</code>."}, {"owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 0, "creation_date": 1517495274, "post_id": 48552730, "comment_id": 84125993, "body": "Thanks -- that works. Although I wish there were an overload for <code>std::array</code> that took the size from the initializer_list."}, {"owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "reply_to_user": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "edited": false, "score": 1, "creation_date": 1517497634, "post_id": 48552730, "comment_id": 84127644, "body": "@GaryO You can use <a href=\"http://en.cppreference.com/w/cpp/experimental/make_array\" rel=\"nofollow noreferrer\"><code>std::experimental::make_array</code></a> for that; there&#39;s an example implementation at the link if your compiler lacks the <code>&lt;experimental&#47;array&gt;</code> header."}, {"owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "edited": false, "score": 0, "creation_date": 1517498680, "post_id": 48552730, "comment_id": 84128384, "body": "@ArnavBorborah re: &quot;eliminating the storage for <code>v</code>.&quot; Assuming <code>v</code> is local to a function, declaring it <code>static</code> makes this impossible. It&#39;s faster to never declare function-local <code>constexpr</code> variables <code>static</code>. Another optimization tip for immutable arrays is to use an <a href=\"http://en.cppreference.com/w/cpp/utility/initializer_list\" rel=\"nofollow noreferrer\"><code>initializer_list</code></a> directly: <code>constexpr auto v = {1, 2, 3, 4, 5};</code> (size: <code>v.size()</code>, random access: <code>v.begin()[2]</code>). Compilers generate slightly more efficient code for <code>initializer_list</code> than C or <code>std::array</code>s, although I don&#39;t know enough to tell you why that is."}], "tags": [], "owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "is_accepted": true, "score": 13, "last_activity_date": 1517440560, "last_edit_date": 1517440560, "creation_date": 1517438890, "answer_id": 48552730, "question_id": 48552684, "link": "https://stackoverflow.com/questions/48552684/static-const-stdvectorchar-initialization-without-heap/48552730#48552730", "title": "static const std::vector&lt;char&gt; initialization without heap?", "body": "<p>Why not just use a <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> for this?</p>\n\n<pre><code>static const std::array&lt;char, 5&gt; v{0x1, 0x2, 0x3, 0x0, 0x5};\n</code></pre>\n\n<p>This avoids any dynamic allocation, since <code>std::array</code> uses an internal array that is most likely declared as <code>T arr[N]</code> where N is the size you passed in the template (Here 5).</p>\n\n<p>While you're here, you might even want to make the variable <a href=\"http://en.cppreference.com/w/cpp/language/constexpr\" rel=\"nofollow noreferrer\"><code>constexpr</code></a>, which, as @MSalters points out, \"gives the compiler even more opportunity to eliminate the storage for <code>v</code>.\"</p>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "is_accepted": false, "score": 4, "last_activity_date": 1517450838, "creation_date": 1517450838, "answer_id": 48554299, "question_id": 48552684, "link": "https://stackoverflow.com/questions/48552684/static-const-stdvectorchar-initialization-without-heap/48554299#48554299", "title": "static const std::vector&lt;char&gt; initialization without heap?", "body": "<p>If a fixed-size <code>std::array</code> or builtin array isn't suitable, you can <a href=\"http://en.cppreference.com/w/cpp/concept/Allocator\" rel=\"nofollow noreferrer\">define a custom allocator</a> that uses <a href=\"http://en.cppreference.com/w/cpp/language/new\" rel=\"nofollow noreferrer\">placement new</a>.</p>\n\n<p>That's a lot of boilerplate to write, so if you can use Boost, <a href=\"http://www.boost.org/doc/libs/1_66_0/doc/html/boost/container/static_vector.html\" rel=\"nofollow noreferrer\"><code>boost::container::static_vector</code></a> is exactly what you're looking for.</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 7443483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3afe4db4a322c6e4e1d7f0db991926?s=128&d=identicon&r=PG&f=1", "display_name": "Will Wray", "link": "https://stackoverflow.com/users/7443483/will-wray"}, "is_accepted": false, "score": 3, "last_activity_date": 1517529677, "creation_date": 1517529677, "answer_id": 48573744, "question_id": 48552684, "link": "https://stackoverflow.com/questions/48552684/static-const-stdvectorchar-initialization-without-heap/48573744#48573744", "title": "static const std::vector&lt;char&gt; initialization without heap?", "body": "<p>OP further asks:</p>\n\n<blockquote>\n  <p>I wish there were an overload for std::array that took the size from the initializer_list</p>\n</blockquote>\n\n<p>Your wish is granted by a C++17 deduction guide:</p>\n\n<pre><code>std::array v {'\\x1','\\x2','\\x3','\\x0','\\x5'};\nstatic_assert(std::is_same_v&lt;decltype(v), std::array&lt;char,5&gt;&gt;);\n</code></pre>\n\n<p><code>g++ -std=c++17</code> since 7.1.0\n(Clang doesn't appear to accept this yet).</p>\n\n<p>cppreference links: <a href=\"http://en.cppreference.com/w/cpp/container/array/deduction_guides\" rel=\"nofollow noreferrer\" title=\"deduction guides for std::array\">Deduction guides for std::array</a>, <a href=\"http://en.cppreference.com/w/cpp/language/class_template_argument_deduction\" rel=\"nofollow noreferrer\">Class template argument deduction</a></p>\n\n<p>Note that the init-list now has to contain all <code>char</code> values in order to deduce the array's value type. Class deduction is all or none - you can't declare <code>array&lt;char&gt;</code> and have just size deduced.</p>\n"}], "owner": {"reputation": 4832, "user_id": 258894, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4e52f8ae459fe3a2793b570a851275e6?s=128&d=identicon&r=PG", "display_name": "GaryO", "link": "https://stackoverflow.com/users/258894/garyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1607, "favorite_count": 0, "accepted_answer_id": 48552730, "answer_count": 3, "score": 5, "last_activity_date": 1517529677, "creation_date": 1517438649, "question_id": 48552684, "link": "https://stackoverflow.com/questions/48552684/static-const-stdvectorchar-initialization-without-heap", "title": "static const std::vector&lt;char&gt; initialization without heap?", "body": "<p>Let's say I'd like to have a std::vector of unsigned chars. It's initialized with an initializer-list (this is C++11) and will never change. I'd like to avoid any heap allocation, even at startup time, and have the whole vector live in the data segment like const strings. Is that possible? I.e:\n<code>\nstatic const vector&lt;char&gt; v{0x1, 0x2, 0x3, 0x0, 0x5};\n</code>\n(This is a somewhat academic question; I know it's not that hard to just use C arrays for this.)</p>\n"}, {"tags": ["c++", "unique-ptr"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 1, "creation_date": 1517438661, "post_id": 48552644, "comment_id": 84101763, "body": "Well, you constructed two <code>nle::Window</code> with <code>std::make_unique</code>, so that&#39;s what you get out. Just construct a <code>Console</code> in <code>AddConsole</code> :)"}, {"owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517439153, "post_id": 48552644, "comment_id": 84101956, "body": "That was an error from my copy and pasting, it still does not deduce the proper type even when emplacing a Console Window."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 1, "creation_date": 1517439200, "post_id": 48552644, "comment_id": 84101978, "body": "Then we&#39;ll need an actual <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> because <code>std::unique_ptr</code>s sure are polymorphic."}, {"owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517439993, "post_id": 48552644, "comment_id": 84102269, "body": "I&#39;ve added a complete, minimal example. Am I required to dynamic_cast the pointers i obtain from <code>GetConsoleWindow()</code>?"}, {"owner": {"reputation": 21240, "user_id": 951423, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/UlSg8.png?s=128&g=1", "display_name": "Pixelchemist", "link": "https://stackoverflow.com/users/951423/pixelchemist"}, "edited": false, "score": 1, "creation_date": 1517440083, "post_id": 48552644, "comment_id": 84102299, "body": "A complete example implies that others can actually compile it. Just copy everything to a single source file until it compiles and then strip it down."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1517440594, "post_id": 48552644, "comment_id": 84102488, "body": "@OmarMartinez Really the best thing to do is a link to an online compiler/runner: <a href=\"http://coliru.stacked-crooked.com/\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com</a>. Put the code there, actually write out basic implementations for the functions (they can just print &quot;I am base&quot;, etc), then comment some line of code: &quot;I expected foo to be printed&quot;, and when you compile and run, it prints something else."}, {"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 0, "creation_date": 1517470349, "post_id": 48552644, "comment_id": 84110647, "body": "What do you mean by <i>&quot;when calling the Get___Window functions the base class is always called&quot;</i>? Your Get___Window does not invoke any function of your custom classes."}], "owner": {"reputation": 666, "user_id": 7144080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49830c5c842b4f51af8d4067ac5a37bd?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Martinez", "link": "https://stackoverflow.com/users/7144080/omar-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517439937, "creation_date": 1517438452, "last_edit_date": 1517439937, "question_id": 48552644, "link": "https://stackoverflow.com/questions/48552644/return-an-instance-of-a-stdunique-ptr-that-automatically-deduces-the-base-and", "title": "Return an instance of a std::unique_ptr that automatically deduces the base and parent classes", "body": "<p>I have a parent class <code>Window</code></p>\n\n<pre><code>class Window \n{\npublic:\n    Window(int x, int y);\n    virtual void Display();\n    virtual ~Window();\n}\n</code></pre>\n\n<p>and a base class <code>Console</code></p>\n\n<pre><code>class Console : public Window \n{\npublic:\n    Console(int x, int y);\n    virtual void Display();\n    virtual ~Console();\n}\n</code></pre>\n\n<p>I store the results in a manager class with the following signature:</p>\n\n<pre><code>class WindowManager\n{\npublic:\n    WindowManager() {};\n    void AddWindow(int x, int y)\n    {\n        m_Windows.emplace(nle::WindowType::RenderWindow, std::make_unique&lt;nle::Window&gt;(x,y))\n    }\n    void AddConsole(int x, int y)\n    {\n       m_Windows.emplace(nle::WindowType::ConsoleWindow, std::make_unique&lt;nle::Console&gt;(x,y));\n    }\n\n    nle::Window* GetRenderWindow()\n    {\n        return m_Windows[nle::WindowType::RenderWindow].get();\n    }\n\n    nle::Window* GetConsoleWindow()\n    {\n        return m_Windows[nle::WindowType::ConsoleWindow].get();\n    }\nprivate:\n        std::unordered_map&lt;WindowType, std::unique_ptr&lt;nle::Window&gt;&gt; m_Windows;\n};\n</code></pre>\n\n<p>When calling the Get___Window functions the base class is always called, I tried returning a reference to the windows instead of a pointer but the base class is still called, I've seen references of others doing a for ranged loop to directly access the container:</p>\n\n<pre><code>for(const window&amp; : m_Windows)\n{\n    window-&gt;Display();\n}\n</code></pre>\n\n<p>This would work, but i would like to avoid using direct access to my manager.</p>\n\n<p>An example of this code is:</p>\n\n<pre><code>static WindowManager m_WindowManager; // static purely for simplicity to avoid using a class for SO\nint main()\n{\n    InitResources();\n    while(1)\n    {\n        DisplayWindow();\n    }\n    return 1;\n}\n\nvoid InitResources()\n{\n     m_WindowManager.AddConsoleWindow(1080, 720);\n}\n\nvoid DisplayWindow()\n{\n     m_WindowManager.GetConsoleWindow()-&gt;Display(); // Base class is called\n}\n</code></pre>\n"}, {"tags": ["c++", "macros"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1517438356, "post_id": 48552572, "comment_id": 84101653, "body": "What a mess, I would look for another job if I was you."}, {"owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 0, "creation_date": 1517438376, "post_id": 48552572, "comment_id": 84101660, "body": "Can you give an example of what calls to <code>B</code> constrictors that become <code>SomethingElse</code> and <code>C</code> should get replaced by?"}, {"owner": {"reputation": 3787, "user_id": 5437543, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ad76496c936d384dac2888bae0126dde?s=128&d=identicon&r=PG&f=1", "display_name": "StoneThrow", "link": "https://stackoverflow.com/users/5437543/stonethrow"}, "reply_to_user": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "edited": false, "score": 0, "creation_date": 1517438884, "post_id": 48552572, "comment_id": 84101850, "body": "@Davislor if <code>DEBUG</code> defined, then <code>B b( a )</code> becomes <code>SomethingElse somethingelse_a( a )</code>. If <code>DEBUG</code> undefined then <code>B b( a )</code> becomes <code>C c_a( a, __FILE__, __LINE__ )</code>. Like I said: I don&#39;t think it is possible, but I&#39;m open to suggestion."}, {"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 1, "creation_date": 1517439488, "post_id": 48552572, "comment_id": 84102112, "body": "@StoneThrow I think it was aimed at your job place practices and was in good faith."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517492419, "post_id": 48552572, "comment_id": 84123960, "body": "@StoneThrow I clearly understood that you are enforced to do this crap, did not realize my comment is ambiguous (English is not my first language, sorry for misunderstanding)"}, {"owner": {"reputation": 3787, "user_id": 5437543, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ad76496c936d384dac2888bae0126dde?s=128&d=identicon&r=PG&f=1", "display_name": "StoneThrow", "link": "https://stackoverflow.com/users/5437543/stonethrow"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517527042, "post_id": 48552572, "comment_id": 84143466, "body": "@Slava - Ok, sorry, Slava. It&#39;s hard to judge &quot;tone&quot; or &quot;intent&quot; given only text without any face-to-face. I was too quick to assume malicious intent - sorry for my misunderstanding as well."}], "answers": [{"tags": [], "owner": {"reputation": 12194, "user_id": 4474419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04ce27f0ebe4713b51911cd8475c3b42?s=128&d=identicon&r=PG", "display_name": "Davislor", "link": "https://stackoverflow.com/users/4474419/davislor"}, "is_accepted": false, "score": 0, "last_activity_date": 1517439660, "creation_date": 1517439660, "answer_id": 48552857, "question_id": 48552572, "link": "https://stackoverflow.com/questions/48552572/can-i-use-the-preprocessor-to-replace-one-type-declaration-with-another/48552857#48552857", "title": "Can I use the preprocessor to replace one type declaration with another?", "body": "<p>I'm on my phone, so this is untested, but you might try:</p>\n\n<pre><code>#if DEBUG\n#  define CREATEB(a) somethingelse(a)\n#else\n#  define CREATEB(a) C( (a), __FILE__, __LINE__ )\n#endif\n</code></pre>\n\n<p>These should work on the right-hand-side of an <code>auto</code> or reference-to-base-class declaration.</p>\n"}, {"comments": [{"owner": {"reputation": 3787, "user_id": 5437543, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ad76496c936d384dac2888bae0126dde?s=128&d=identicon&r=PG&f=1", "display_name": "StoneThrow", "link": "https://stackoverflow.com/users/5437543/stonethrow"}, "edited": false, "score": 0, "creation_date": 1517443812, "post_id": 48552897, "comment_id": 84103378, "body": "This is a very interesting solution. I use &quot;<code>template &lt;int T&gt;</code>&quot; style templatization (as opposed to &quot;<code>template &lt;typename T&gt;</code>&quot;) so rarely it&#39;d never pop to mind when it makes itself useful. I have a rudimentary proof of concept working based on your answer, and I think I can parlay this to apply to the actual situation. Thank you; this was a clever angle to approach this from."}], "tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": true, "score": 4, "last_activity_date": 1517439882, "creation_date": 1517439882, "answer_id": 48552897, "question_id": 48552572, "link": "https://stackoverflow.com/questions/48552572/can-i-use-the-preprocessor-to-replace-one-type-declaration-with-another/48552897#48552897", "title": "Can I use the preprocessor to replace one type declaration with another?", "body": "<p>This is fairly easy, once you realize that C++ inheritance implements an IS-A relation.</p>\n\n<p>You define a new class <code>realB&lt;const str* FILE, int LINE&gt;</code>, which IS-A (derives from) either <code>C</code> or <code>SomethingElse</code>. The only small trick you need is a helper <code>constexpr const char*</code> to capture <code>__FILE__</code>, see <a href=\"https://stackoverflow.com/a/18031951/15416\">here</a>. </p>\n\n<p>Now <code>realB&lt;FILE, LINE&gt;</code> has a ctor which takes only one parameter, <code>A a</code>, but if it inherits from <code>C</code> it can still pass <code>(a, FILE, LINE)</code> to <code>C::C</code></p>\n"}], "owner": {"reputation": 3787, "user_id": 5437543, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ad76496c936d384dac2888bae0126dde?s=128&d=identicon&r=PG&f=1", "display_name": "StoneThrow", "link": "https://stackoverflow.com/users/5437543/stonethrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 48552897, "answer_count": 2, "score": 0, "last_activity_date": 1517442181, "creation_date": 1517438098, "last_edit_date": 1517442181, "question_id": 48552572, "link": "https://stackoverflow.com/questions/48552572/can-i-use-the-preprocessor-to-replace-one-type-declaration-with-another", "title": "Can I use the preprocessor to replace one type declaration with another?", "body": "<p>The following code shows class <code>A</code>, <code>B</code>, and <code>C</code>. An <code>A</code> is the ctor argument to <code>B</code> and <code>C</code>.</p>\n\n<p>Macro <code>X</code> conditionally creates either an <code>A</code> or a <code>B</code> instance.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass A\n{\n};\n\nclass B\n{\npublic:\n  B( const A&amp; a ) : a_( a ) { std::cout &lt;&lt; __FUNCTION__ &lt;&lt; std::endl; }\nprivate:\n  const A&amp; a_;\n};\n\nclass C\n{\npublic:\n  C( const A&amp; a, const std::string&amp; file, int line )\n    : b_( ( (std::cout &lt;&lt; \"@ \" &lt;&lt; file &lt;&lt; \":\" &lt;&lt; line &lt;&lt; std::endl), a ) )\n  {\n    std::cout &lt;&lt; \"After\" &lt;&lt; std::endl;\n  }\nprivate:\n  B b_;\n};\n\n#undef DEBUG\n#ifdef DEBUG\n#define X( Z ) B b##Z( Z )\n#else\n#define X( Z ) C c##Z( Z, __FILE__, __LINE__ )\n#endif\n\nint main( int argc, char* argv[] )\n{\n  A a;\n  B b( a );\n  C c( a, __FILE__, __LINE__ );\n  X( a );\n  return 0;\n}\n</code></pre>\n\n<p>I was asked to rename <code>B</code> to <code>SomethingElse</code> and create a <code>B</code> macro such that all existing instances of <code>B b( a )</code> becomes either a <code>SomethingElse</code> or a <code>C</code>.</p>\n\n<p>I don't think this ask can be satisfied because <code>SomethingElse</code> and <code>C</code> constructors have different signatures, so I cannot just do:</p>\n\n<pre><code>#ifdef DEBUG\n#define B SomethingElse\n#else\n#define B C\n#endif\n</code></pre>\n\n<p>Are there C preprocessor experts out there who can confirm whether or not there is a way to satisfy the ask? Can a macro be created such that all existing instantiations of <code>B</code> can be swapped at compile-time to instantiations of <code>SomethingElse</code> or <code>C</code>? You can assume the second and third arguments to <code>C</code> will be <code>__FILE__</code> and <code>__LINE__</code>.</p>\n"}, {"tags": ["c++", "mod"], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 1415769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6e7f59d114c4d945fb1c2aa29840d01?s=128&d=identicon&r=PG", "display_name": "lotyrin", "link": "https://stackoverflow.com/users/1415769/lotyrin"}, "is_accepted": false, "score": 1, "last_activity_date": 1517438568, "creation_date": 1517438568, "answer_id": 48552664, "question_id": 48552501, "link": "https://stackoverflow.com/questions/48552501/how-to-calculate-how-high-x-has-to-be-in-x-y-z-before-numbers-are-repeated/48552664#48552664", "title": "How to calculate how high x has to be in (x * y) % z before numbers are repeated", "body": "<p>This is called Least Common Multiple. For your example, the LCM of x=100 and y=3600 is 1800 / x = your 18.</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/numeric/lcm\" rel=\"nofollow noreferrer\">std:lcm</a> exists as of C++17. </p>\n\n<p>If you can't use that, consult <a href=\"https://stackoverflow.com/questions/4229870/c-algorithm-to-calculate-least-common-multiple-for-multiple-numbers\">C++ algorithm to calculate least common multiple for multiple numbers</a> for some implementations, though yours can be simpler than those since they support more than 2 inputs.</p>\n"}, {"tags": [], "owner": {"reputation": 1125, "user_id": 5672740, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c16baffcdc08015ed0b3f9dcfd424751?s=128&d=identicon&r=PG&f=1", "display_name": "SenselessCoder", "link": "https://stackoverflow.com/users/5672740/senselesscoder"}, "is_accepted": true, "score": 1, "last_activity_date": 1517438732, "creation_date": 1517438732, "answer_id": 48552699, "question_id": 48552501, "link": "https://stackoverflow.com/questions/48552501/how-to-calculate-how-high-x-has-to-be-in-x-y-z-before-numbers-are-repeated/48552699#48552699", "title": "How to calculate how high x has to be in (x * y) % z before numbers are repeated", "body": "<p>This is more of a math problem than a programming problem, but here goes:</p>\n\n<p>You need to observe one key thing: (A * B) % C will be zero if A, B, or A * B is divisible by C without remainders. So one thing you need to find is the least common multiple.</p>\n\n<p>Example: y = 5, z = 12. Your loop will yield 0 every 12 iterations. And on your example, 100 / 360 => 5 / 18. So you need x to be 18 since 5 and 18 are coprime, ie. A * B will need to be zero.</p>\n\n<p>There are many algorithms to find the least common multiple of 2 numbers. I'll share one from <a href=\"https://rosettacode.org/wiki/Least_common_multiple#C\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 2058, "user_id": 3958875, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f6149ddd4636bcab17c52b751d79f7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Prime_Aqasix", "link": "https://stackoverflow.com/users/3958875/prime-aqasix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48552699, "answer_count": 2, "score": -2, "last_activity_date": 1517438732, "creation_date": 1517437737, "question_id": 48552501, "link": "https://stackoverflow.com/questions/48552501/how-to-calculate-how-high-x-has-to-be-in-x-y-z-before-numbers-are-repeated", "title": "How to calculate how high x has to be in (x * y) % z before numbers are repeated", "body": "<p>I am trying to work out an equation for calculating how many times the code below (y and z are constants) will run before it starts to repeat itself.</p>\n\n<pre><code>while (true) {\n    std::cout &lt;&lt; (x * y) % z &lt;&lt; std::endl;\n    x++\n}\n</code></pre>\n\n<p>For example, with a being 100 and z being 360, the code will run 18 times before the output becomes 0 again.</p>\n\n<pre><code>int y = 100;\nfor (int i = 0; i &lt; 19; ++i) {\n    std::cout &lt;&lt; y*i % 360 &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "ofstream"], "comments": [{"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "edited": false, "score": 0, "creation_date": 1517437839, "post_id": 48552491, "comment_id": 84101425, "body": "This <i>might</i> be <a href=\"https://stackoverflow.com/a/960562/6525260\">helpful</a>."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1517438004, "post_id": 48552491, "comment_id": 84101498, "body": "Vote to close unless question is edited to include the root of the problem as stated in the <a href=\"https://stackoverflow.com/a/48552518/7571258\">answer</a>."}, {"owner": {"reputation": 3, "user_id": 2921768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34876cd5855b3e2a24085de7e982898?s=128&d=identicon&r=PG&f=1", "display_name": "DesertBroncoFan", "link": "https://stackoverflow.com/users/2921768/desertbroncofan"}, "edited": false, "score": 0, "creation_date": 1517494955, "post_id": 48552491, "comment_id": 84125748, "body": "How do I vote to close?"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 2921768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34876cd5855b3e2a24085de7e982898?s=128&d=identicon&r=PG&f=1", "display_name": "DesertBroncoFan", "link": "https://stackoverflow.com/users/2921768/desertbroncofan"}, "is_accepted": false, "score": 0, "last_activity_date": 1517437837, "creation_date": 1517437837, "answer_id": 48552518, "question_id": 48552491, "link": "https://stackoverflow.com/questions/48552491/what-can-cause-failbit-to-be-set-on-ofsreamopen/48552518#48552518", "title": "What can cause failbit to be set on ofsream::open", "body": "<p>I figured it out.  I had used the ofstream earlier in my function and didn't close it before trying to open it with a different filename.</p>\n\n<p>Sorry everyone.</p>\n"}], "owner": {"reputation": 3, "user_id": 2921768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a34876cd5855b3e2a24085de7e982898?s=128&d=identicon&r=PG&f=1", "display_name": "DesertBroncoFan", "link": "https://stackoverflow.com/users/2921768/desertbroncofan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1517437837, "creation_date": 1517437686, "question_id": 48552491, "link": "https://stackoverflow.com/questions/48552491/what-can-cause-failbit-to-be-set-on-ofsreamopen", "title": "What can cause failbit to be set on ofsream::open", "body": "<p>When I try to write a binary file using ofstream::open the failbit is getting set I am unable to write the file and the exception reason is \"basic_ios::clear\".  This should be so simple but I can't figure out what I'm doing wrong.</p>\n\n<pre><code>string fname (\"/home/tim/data/kv.bin\");\n\nfile.exceptions (std::ofstream::failbit | std::ofstream::badbit );\n\ntry\n{\n    file.open (fname, ios::binary);\n}\ncatch (std::ofstream::failure e)\n{\n    string error (e.what());\n}\n</code></pre>\n\n<p>From an xterm I can touch the filename listed without a problem but whenever I try to create it programmatically it fails.</p>\n\n<p>I tried this</p>\n\n<pre><code>FILE *fp;\nif ((fp = fopen (fname, \"w')) == NULL)\n{\n    int err = errno;\n}\n</code></pre>\n\n<p>and it opened the file without a problem.  I guess I could use the C file pointer to write my file but I would like to remain consistent using the C++ streams that I use in the rest of my code.</p>\n\n<p>Is there anyway to figure out why ofstream::open is failing and how to fix it?</p>\n"}, {"tags": ["c++", "class", "inheritance"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 7, "creation_date": 1517436618, "post_id": 48552263, "comment_id": 84100863, "body": "A shopping cart should not be a customer."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1517436794, "post_id": 48552263, "comment_id": 84100937, "body": "Look into <code>std::string</code>, shared pointers. And avoid friends. Perhaps <code>std::vector</code>"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1517436815, "post_id": 48552263, "comment_id": 84100943, "body": "And initialization lists"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1517436816, "post_id": 48552263, "comment_id": 84100944, "body": "&quot;Every customer has a shopping cart.&quot; that clearly shows that it is &quot;Has-A&quot; relationship and not &quot;Is-A&quot;"}, {"owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "edited": false, "score": 0, "creation_date": 1517436843, "post_id": 48552263, "comment_id": 84100958, "body": "Thats a good point but I want them to be related. I want the cart to have access to the name of the customer and his ID"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517436852, "post_id": 48552263, "comment_id": 84100961, "body": "@Slava - so does every canal have a shopping cart!"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1517436897, "post_id": 48552263, "comment_id": 84100980, "body": "@rom &quot;poof&quot; - Leave me out of this"}, {"owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517436911, "post_id": 48552263, "comment_id": 84100991, "body": "@Slava so what could I use to show a has-a relationship. I&#39;m kinda teaching myself this."}, {"owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "edited": false, "score": 0, "creation_date": 1517436993, "post_id": 48552263, "comment_id": 84101033, "body": "@George I have it as a friend function because during the additem function I want to increase the &quot;items&quot; variable"}, {"owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517437039, "post_id": 48552263, "comment_id": 84101053, "body": "@Slava yeah that&#39;s why I&#39;m here"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517437094, "post_id": 48552263, "comment_id": 84101078, "body": "@DemarcusSales it is possible that one customer can have more than one shopping card, so inherit one from another is clearly wrong."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1517437105, "post_id": 48552263, "comment_id": 84101087, "body": "&quot;class ShoppingCart : public Customer&quot; - Is a shopping cart a type of customer? i.e. shoppingcat isa customer"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1517437162, "post_id": 48552263, "comment_id": 84101116, "body": "And a customer might not have a shopping cart. Might just be popping into the shop for a packet of luckies"}, {"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 3, "creation_date": 1517437328, "post_id": 48552263, "comment_id": 84101178, "body": "There is inheritance, composition and aggregation. See <a href=\"https://stackoverflow.com/questions/2218937/has-a-is-a-terminology-in-object-oriented-language\">this SO post</a> for more information."}, {"owner": {"reputation": 193, "user_id": 7927672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349c309560c1a72c588d75e757b651b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ian4264 ", "link": "https://stackoverflow.com/users/7927672/ian4264"}, "edited": false, "score": 1, "creation_date": 1517437362, "post_id": 48552263, "comment_id": 84101205, "body": "You already have a &quot;has a&quot; relationship by having ShoppingCart as a member of Customer. You could then have a pointer or reference from the ShoppingCart to the Customer and get rid of the weird subclassing relationship."}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "edited": false, "score": 0, "creation_date": 1517437969, "post_id": 48552291, "comment_id": 84101480, "body": "Is there any way I could make the shopping cart aware of the of the private member variables in customer"}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "reply_to_user": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "edited": false, "score": 1, "creation_date": 1517438091, "post_id": 48552291, "comment_id": 84101531, "body": "Yes, make <code>ShoppingCart</code> a <a href=\"http://en.cppreference.com/w/cpp/language/friend\" rel=\"nofollow noreferrer\"><code>friend</code></a> of <code>Customer</code>."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1517444221, "post_id": 48552291, "comment_id": 84103473, "body": "I would highly advise against the use of <code>friend</code> here as that breaks encapsulation when setters and getters would work just fine. <code>friend</code> should be reserved for special cases like <code>operator&lt;&lt;</code> and when you need to write unit tests."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1517445329, "post_id": 48552291, "comment_id": 84103689, "body": "On the other hand, <code>public</code> accessor functions can globally weaken or break encapsulation, while <code>friend</code> restricts that break to only trusted classes and  functions. In this case I agree though. Add <code>removeItem</code> and <code>checkout</code> methods and all the accessibility anyone should need is present in <code>ShoppingCart</code>. <code>ShoppingCart</code> should be looking after itself, not letting others poke around inside it."}], "tags": [], "owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "is_accepted": false, "score": 1, "last_activity_date": 1517437154, "last_edit_date": 1517437154, "creation_date": 1517436642, "answer_id": 48552291, "question_id": 48552263, "link": "https://stackoverflow.com/questions/48552263/child-class-defined-before-its-parent/48552291#48552291", "title": "Child Class defined before its parent", "body": "<p>As for your problem, no, there is no solution to the problem other than declaring and defining the base class before the derived class. Forward declaration would not work here (As I naively thought), since the child class needs contextual information from the base class.</p>\n\n<p>While the above may work, I would like to point out that you really aren't understanding inheritance. Inheritance is based off a <em>is a</em> relationship i.e Derived <em>is a</em> Base, not a <em>has a</em> relationship, which is what your code is trying to emulate. If you want to emulate a <em>has a</em> relationship, then you should make the class <code>ShoppingCart</code> a <em>member</em> of <code>Customer</code>, since that will show that each <code>Customer</code> has a shopping cart. Inheritance is not the right method to solve your problem here.</p>\n"}], "owner": {"reputation": 67, "user_id": 9296913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b07ea36f587c255e6527028f213e1111?s=128&d=identicon&r=PG&f=1", "display_name": "MaxAttax", "link": "https://stackoverflow.com/users/9296913/maxattax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517437154, "creation_date": 1517436504, "question_id": 48552263, "link": "https://stackoverflow.com/questions/48552263/child-class-defined-before-its-parent", "title": "Child Class defined before its parent", "body": "<p>I am writing a program for a shopping cart. Everything is derived from the customer. Every customer has a shopping cart. Therefore I thought to put the shopping cart before the Customer class. When doing this I can't declare Shopping cart as a child of Customer. Any fixes?</p>\n\n<pre><code>class ShoppingCart : public Customer\n{\n    private:\n    Item* cart[MAX_SIZE] = {NULL};  //problem  may occur\n    int size;\n\n    public:\n    void addItem(char* type, char* title, char* description, double price);\n    void showCart();\n};\n\nclass Customer\n{\n    private:\n    int ID, items;\n    char* firstName, *lastName;\n    ShoppingCart* Cart;\n\n    public:\n    Customer(char* userFirst, char* userLast, int userID, ShoppingCart* cart)\n    {\n        this-&gt;ID = userID;\n        this-&gt;firstName = userFirst;\n        this-&gt;lastName = userLast;\n        this-&gt;Cart = cart;\n    }\n    friend void ShoppingCart::addItem(char* type, char* title, char* description, double price);\n};\n</code></pre>\n"}, {"tags": ["c++", "netbeans", "netbeans-8"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 2, "creation_date": 1517436488, "post_id": 48552213, "comment_id": 84100805, "body": "the <code>-l</code> switch does not require a space, but that&#39;s used for linking.  Are you specifying <code>all_in_one.cpp</code> as a library to link to vs. a file to compile?"}, {"owner": {"reputation": 1, "user_id": 8466573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9757891da9c3508f935620d0e9ac27?s=128&d=identicon&r=PG&f=1", "display_name": "M.Ango", "link": "https://stackoverflow.com/users/8466573/m-ango"}, "reply_to_user": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1517447621, "post_id": 48552213, "comment_id": 84104204, "body": "I am adding it as a library in the &quot;Linker&quot; section of the project properties."}, {"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1517447670, "post_id": 48552213, "comment_id": 84104211, "body": "Don&#39;t do that - a .cpp file is not a library.  It is a source file."}], "owner": {"reputation": 1, "user_id": 8466573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c9757891da9c3508f935620d0e9ac27?s=128&d=identicon&r=PG&f=1", "display_name": "M.Ango", "link": "https://stackoverflow.com/users/8466573/m-ango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517436299, "creation_date": 1517436299, "question_id": 48552213, "link": "https://stackoverflow.com/questions/48552213/netbeans-not-formatting-compile-instructions-c", "title": "Netbeans Not Formatting Compile Instructions - C++", "body": "<p>Netbeans is not forming the compile instructions correctly. The line below is the compile instructions.</p>\n\n<pre><code>g++ -m64    -o dist/Debug/MinGW-Windows/firebirdconnection_test build/Debug/MinGW-Windows/main.o -lall_in_one.cpp -static\n</code></pre>\n\n<p>and you can see that it is not putting the space between -l and all_in_one.cpp.</p>\n\n<p>This there anyway to modify the build instructions to allow for that space?</p>\n"}, {"tags": ["c++", "tensorflow", "cuda"], "comments": [{"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517463311, "post_id": 48552139, "comment_id": 84108003, "body": "You are not compiling the cuda code for your GPUs architecture, in all likelihood"}, {"owner": {"reputation": 183, "user_id": 1456477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0b2782e20d8741e2c3e139639a71f0f7?s=128&d=identicon&r=PG", "display_name": "p.koch", "link": "https://stackoverflow.com/users/1456477/p-koch"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517501077, "post_id": 48552139, "comment_id": 84130047, "body": "@talonmies Can you elaborate? My Makefile is given in the question; is there some other way I should be compiling the code?"}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517503166, "post_id": 48552139, "comment_id": 84131460, "body": "<i>if</i> that is really an underlying CUDA API error being reported by Tensorflow, then you might need to add an <code>arch=...</code> to match whatever your GPU is to the nvcc state. But I am not 100% certain that what Tensorflow is reporting is actually a CUDA error"}, {"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517572909, "post_id": 48552139, "comment_id": 84160862, "body": "OK so that wasn&#39;t a CUDA runtime error, even though it is worded almost exactly like one"}, {"owner": {"reputation": 183, "user_id": 1456477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0b2782e20d8741e2c3e139639a71f0f7?s=128&d=identicon&r=PG", "display_name": "p.koch", "link": "https://stackoverflow.com/users/1456477/p-koch"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517604472, "post_id": 48552139, "comment_id": 84178492, "body": "Nope, but your comment did lead me to Google the right things to figure out errors I found down the road. Thanks! :)"}], "answers": [{"tags": [], "owner": {"reputation": 183, "user_id": 1456477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0b2782e20d8741e2c3e139639a71f0f7?s=128&d=identicon&r=PG", "display_name": "p.koch", "link": "https://stackoverflow.com/users/1456477/p-koch"}, "is_accepted": false, "score": 2, "last_activity_date": 1517521395, "creation_date": 1517521395, "answer_id": 48572215, "question_id": 48552139, "link": "https://stackoverflow.com/questions/48552139/why-cant-tensorflow-find-the-gpu-kernel-of-my-custom-op/48572215#48572215", "title": "Why can&#39;t Tensorflow find the GPU kernel of my custom Op?", "body": "<p>Tensorflow documentation is just bad and incomplete like normal. The <code>g++</code> command was missing <code>-D GOOGLE_CUDA=1</code>. I'll edit the question to reflect this.</p>\n"}], "owner": {"reputation": 183, "user_id": 1456477, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0b2782e20d8741e2c3e139639a71f0f7?s=128&d=identicon&r=PG", "display_name": "p.koch", "link": "https://stackoverflow.com/users/1456477/p-koch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 577, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1524844480, "creation_date": 1517435969, "last_edit_date": 1517525087, "question_id": 48552139, "link": "https://stackoverflow.com/questions/48552139/why-cant-tensorflow-find-the-gpu-kernel-of-my-custom-op", "title": "Why can&#39;t Tensorflow find the GPU kernel of my custom Op?", "body": "<p>I have followed the <a href=\"https://www.tensorflow.org/extend/adding_an_op#gpu_kernels\" rel=\"nofollow noreferrer\">Adding a New Op</a> example on the Tensorflow website for adding a GPU kernel to my custom Op. It compiles fine, but when I try to use the GPU kernel, Tensorflow gives me this error:</p>\n\n<p><code>InvalidArgumentError (see above for traceback): Cannot assign a device to node 'b': Could not satisfy explicit device specification '/device:GPU:0' because no supported kernel for GPU devices is available.</code></p>\n\n<p><s>Can anyone point me to where I went wrong?</s> I'm using the exact example code given on the page linked above, with the following fixes/changes (found on various other forums and StackOverflow pages):</p>\n\n<ul>\n<li>Added <code>#include \"third_party/eigen3/unsupported/Eigen/CXX11/Tensor\"</code> to <code>kernel_example.cu.cc</code></li>\n<li>Changed <code>\"example.h\"</code> to <code>\"kernel_example.h\"</code> in <code>kernel_example.cu.cc</code> and <code>kernel_example.cc</code></li>\n<li>Added <code>//</code> to the line <code>#endif // KERNEL_EXAMPLE_H_</code> in <code>kernel_example.h</code></li>\n<li><p>Corrected the partial specialization in <code>kernel_example.h</code> to:</p>\n\n<p><code>template &lt;typename T&gt; struct ExampleFunctor&lt;Eigen::GpuDevice, T&gt; { ... };</code></p></li>\n<li><p>Registered the op in <code>kernel_example.cc</code>:</p>\n\n<p><code>REGISTER_OP(\"Example\").Attr(\"T: {float, int32} = DT_FLOAT\").Input(\"input: T\").Output(\"output: T\"));</code></p></li>\n<li><p>Corrected the last lines of the <code>.cu.cc</code> file to <code>template struct ExampleFunctor&lt;GPUDevice, float&gt;;</code> (the <code>struct</code> was missing)</p></li>\n</ul>\n\n<p>Makefile:</p>\n\n<pre><code>TF_LIB := $(shell python -c 'import tensorflow as tf; print(tf.sysconfig.get_lib())' 2&gt;/dev/null)\nTF_INC := $(shell python -c 'import tensorflow as tf; print(tf.sysconfig.get_include())' 2&gt;/dev/null)\n\nCUDA_LIB=/z/sw/packages/cuda/8.0/lib64\n\nall: kernel_example.cu.cc kernel_example.cc\n    nvcc -std=c++11 -c -o kernel_example.cu.o kernel_example.cu.cc -I $(TF_INC) -I$(TF_INC)/external/nsync/public -D GOOGLE_CUDA=1 -x cu -Xcompiler -fPIC -D_MWAITXINTRIN_H_INCLUDED --expt-relaxed-constexpr\n\n    g++ -std=c++11 -shared -o kernel_example.so kernel_example.cc kernel_example.cu.o -I $(TF_INC) -I$(TF_INC)/external/nsync/public -fPIC -L$(CUDA_LIB) -lcudart -L$(TF_LIB) -D_GLIBCXX_USE_CXX11_ABI=0 -D GOOGLE_CUDA=1\n</code></pre>\n\n<p><strong>EDIT: As noted in my answer below, the issue arose from <code>g++</code> call lacking <code>-D GOOGLE_CUDA=1</code>.</strong></p>\n\n<p>Testing code:</p>\n\n<pre><code>import tensorflow as tf\nexample_lib = tf.load_op_library('kernel_example.so')\n\nwith tf.device('/gpu:0'):\n    a = tf.constant([1.0, 2.0, 3.0, 4.0, 5.0, 6.0], name='a')\n    b = example_lib.example(a, name='b')\nsess = tf.Session()\nprint(sess.run(b))\n</code></pre>\n"}, {"tags": ["c++", "python-3.x", "anaconda", "boost-python", "python-embedding"], "owner": {"reputation": 675, "user_id": 2303067, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6aa110b96d8e4f94e9d949ee7ee81965?s=128&d=identicon&r=PG", "display_name": "GoFaster", "link": "https://stackoverflow.com/users/2303067/gofaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517435791, "creation_date": 1517435791, "question_id": 48552092, "link": "https://stackoverflow.com/questions/48552092/boost-python-embedding-error", "title": "Boost Python Embedding Error", "body": "<p>I've just built <a href=\"http://www.boost.org/doc/libs/1_66_0/libs/python/doc/html/index.html\" rel=\"nofollow noreferrer\" title=\"Boost Python\">Boost Python</a> on Windows 10 with an  <a href=\"https://www.anaconda.com/\" rel=\"nofollow noreferrer\">Anaconda</a> version of Python 3.5 (64 bit).  I used these <a href=\"http://www.sigverse.org/wiki/en/index.php?Compiling%20Boost.Python%20for%20Python%20in%20Visual%20Studio\" rel=\"nofollow noreferrer\">instructions</a> modified to my suit my installation and have successfully built the testCode.cpp using Visual Studio 2015:</p>\n\n<pre><code>#include &lt;boost/python.hpp&gt;  \nusing namespace boost::python;  \n\nint main()  \n{  \n    try {  \n        Py_Initialize();  \n\n        object main_module((  \n            handle&lt;&gt;(borrowed(PyImport_AddModule(\"__main__\")))));  \n\n        object main_namespace = main_module.attr(\"__dict__\");  \n\n        handle&lt;&gt; ignored(( PyRun_String( \"print (\\\"Hello, World\\\")\",  \n            Py_file_input,  \n            main_namespace.ptr(),  \n            main_namespace.ptr() ) ));  \n    } catch( error_already_set ) {  \n        PyErr_Print();  \n    }  \n}  \n</code></pre>\n\n<p>However when I run the application I get these errors:</p>\n\n<pre><code>C:\\Users\\Stephen\\Source\\Repos\\TestPythonEmbedding\\x64\\Release&gt;TestPythonEmbedding\nFailed to import the site module\nTraceback (most recent call last):\nFile \"C:\\Users\\Stephen\\Anaconda3\\Lib\\site.py\", line 73, in &lt;module&gt;\nimport os\nFile \"C:\\Users\\Stephen\\Anaconda3\\Lib\\os.py\", line 652, in &lt;module&gt;\nfrom _collections_abc import MutableMapping\nFile \"C:\\Users\\Stephen\\Anaconda3\\Lib\\_collections_abc.py\", line 64\nasync def _ag(): yield\n                ^\nSyntaxError: 'yield' inside async function\n</code></pre>\n\n<p>Does anyone know what's wrong here and how to fix it?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "c++11", "cmake"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 2, "creation_date": 1517435572, "post_id": 48552044, "comment_id": 84100371, "body": "/OT <i>@El Dude</i> <b>HEY!!</b>"}, {"owner": {"reputation": 18613, "user_id": 818182, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89b420763192c3b763f4cffa789fe39f?s=128&d=identicon&r=PG", "display_name": "Austin Brunkhorst", "link": "https://stackoverflow.com/users/818182/austin-brunkhorst"}, "edited": false, "score": 0, "creation_date": 1517435592, "post_id": 48552044, "comment_id": 84100378, "body": "Are these system properties available in CMake?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 1, "creation_date": 1517435657, "post_id": 48552044, "comment_id": 84100414, "body": "Pass a preprocessor macro definition to the compiler?"}], "answers": [{"comments": [{"owner": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "edited": false, "score": 0, "creation_date": 1517438547, "post_id": 48552230, "comment_id": 84101720, "body": "Can I automate reading <code>a,b,c</code> from a specified file with cmake?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "reply_to_user": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "edited": false, "score": 0, "creation_date": 1517438755, "post_id": 48552230, "comment_id": 84101793, "body": "@ElDude Include some other <code>CMakeLists.txt</code> formatted file that contains the definitions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "reply_to_user": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "edited": false, "score": 0, "creation_date": 1517439052, "post_id": 48552230, "comment_id": 84101914, "body": "@ElDude Let&#39;s have a &quot;white russian&quot; together ;-). There&#39;s plenty of ways you could go with CMake to realize what you want to achieve. Actually your question comes up <i>too-broad</i> regarding this. Finally it boils down, how you pass <code>N</code> downwards to your c++ code, and <code>-D</code> in <code>CXX_FLAGS</code> is the way to go. The rest is covered in the CMake documentation."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "is_accepted": false, "score": 1, "last_activity_date": 1517436337, "creation_date": 1517436337, "answer_id": 48552230, "question_id": 48552044, "link": "https://stackoverflow.com/questions/48552044/cmake-parse-parameters-into-code/48552230#48552230", "title": "Cmake parse parameters into code", "body": "<p>You can pass preprocessor macro definitions to the c++ compiler using the <code>-D</code> compiler flag:</p>\n\n<pre><code>MY_CALCULATED_ARRAY_SIZE = \"(a - b) / c\"\nCXX_FLAGS = $(CXX_FLAGS) -DN=$(MY_CALCULATED_ARRAY_SIZE)\n</code></pre>\n"}], "owner": {"reputation": 4428, "user_id": 2058333, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Ux6ck.jpg?s=128&g=1", "display_name": "El Dude", "link": "https://stackoverflow.com/users/2058333/el-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517436337, "creation_date": 1517435510, "question_id": 48552044, "link": "https://stackoverflow.com/questions/48552044/cmake-parse-parameters-into-code", "title": "Cmake parse parameters into code", "body": "<p>Can I parse a parameter out of a configuration file in <code>cmake</code> and paste this as a parameter into the <code>C++</code> code?</p>\n\n<p>I need to dynamically set the template value <code>N</code> for <code>std::array&lt;T,N&gt;</code> that depends on some system properties?</p>\n\n<p><code>N = (a - b) / c</code></p>\n\n<p>Where all should be system parameters. </p>\n"}, {"tags": ["c++", "graph", "multiple-inheritance"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 6946468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIgpz.jpg?s=128&g=1", "display_name": "C. Miranda", "link": "https://stackoverflow.com/users/6946468/c-miranda"}, "edited": false, "score": 0, "creation_date": 1517435854, "post_id": 48552076, "comment_id": 84100508, "body": "Thank you for your quick answer! And could you tell me if you think this is a good practice or not? It seems quite natural to me but I don&#39;t know if there is a better way."}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "reply_to_user": {"reputation": 65, "user_id": 6946468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIgpz.jpg?s=128&g=1", "display_name": "C. Miranda", "link": "https://stackoverflow.com/users/6946468/c-miranda"}, "edited": false, "score": 1, "creation_date": 1517436021, "post_id": 48552076, "comment_id": 84100589, "body": "@CarlosMiranda Something such as multiple inheritance is best <a href=\"https://stackoverflow.com/questions/406081/why-should-i-avoid-multiple-inheritance-in-c\">avoided</a>. (The linked answer is very good). While this may not apply in your case, it is best to be careful with this kind of inheritance."}], "tags": [], "owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "is_accepted": false, "score": 2, "last_activity_date": 1517435916, "last_edit_date": 1517435916, "creation_date": 1517435700, "answer_id": 48552076, "question_id": 48551974, "link": "https://stackoverflow.com/questions/48551974/empty-class-inheriting-from-two-classes-one-being-a-template/48552076#48552076", "title": "Empty class inheriting from two classes, one being a template", "body": "<blockquote>\n  <p>So... Yeah. <strong>Can I have an empty <code>dw_edge</code> class?</strong> Is it bad or rather good?</p>\n</blockquote>\n\n<p>Yes, you can have an empty <code>dw_edge</code> class, and it will inherit all methods from its parent classes. As far as it being bad or good depends on what you plan on doing with the derived class. Your current example looks fine.</p>\n\n<blockquote>\n  <p><strong>Does <code>dw_edge</code> have to be a template class, or can I just remove the statement?</strong></p>\n</blockquote>\n\n<p>Nope, you can do the following:</p>\n\n<pre><code>class dw_edge: public d_edge, public w_edge&lt;Type&gt; {};\n</code></pre>\n\n<p>Where type is a type that you specify (<code>int</code>, <code>char</code>, <code>long</code>, whatever). Since you are inheriting from a templated class, it does need its template parameter passed to it.</p>\n"}, {"comments": [{"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "edited": false, "score": 0, "creation_date": 1517435959, "post_id": 48552118, "comment_id": 84100555, "body": "Or you could just specify the type while inheriting without making dw_edge a template class. (Such as <code>class dw_edge: public d_edge, public w_edge&lt;int&gt; {};</code>)"}, {"owner": {"reputation": 65, "user_id": 6946468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIgpz.jpg?s=128&g=1", "display_name": "C. Miranda", "link": "https://stackoverflow.com/users/6946468/c-miranda"}, "edited": false, "score": 0, "creation_date": 1517436106, "post_id": 48552118, "comment_id": 84100634, "body": "Ok, thanks! I want it to be templated since I want to use it to solve some problems in my Automata Theory course and in some cases I want doubles or integers, and in some others characters and strings."}], "tags": [], "owner": {"reputation": 161, "user_id": 9260020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f709479154c250e6f3a7f0314eeb608?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/9260020/karl"}, "is_accepted": false, "score": 0, "last_activity_date": 1517435891, "creation_date": 1517435891, "answer_id": 48552118, "question_id": 48551974, "link": "https://stackoverflow.com/questions/48551974/empty-class-inheriting-from-two-classes-one-being-a-template/48552118#48552118", "title": "Empty class inheriting from two classes, one being a template", "body": "<p>There are far more elegant ways to solve this problem than inheritance. You could just create a single edge class and set the weight to 1 if the edge is unweighted (why does the weight need to be templated?), and an enum to indicate a forwards, backwards, or undirected edge. </p>\n\n<p>That being said, if you want to use inheritance, you'll need to write it like this:</p>\n\n<pre><code>template &lt;class T&gt; class dw_edge: public d_edge, public w_edge&lt;T&gt; {};\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 6946468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FIgpz.jpg?s=128&g=1", "display_name": "C. Miranda", "link": "https://stackoverflow.com/users/6946468/c-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517435916, "creation_date": 1517435173, "last_edit_date": 1517435559, "question_id": 48551974, "link": "https://stackoverflow.com/questions/48551974/empty-class-inheriting-from-two-classes-one-being-a-template", "title": "Empty class inheriting from two classes, one being a template", "body": "<p>I am building a small graph library to learn C++ and graph theory. I come from a year using nothing but Java, so there are a few things I don't quite get about C++.</p>\n\n<p>To represent <strong>edges of a graph</strong>, I have built four classes <code>edge</code>, <code>d_edge</code>, <code>w_edge</code> and <code>dw_edge</code>, for edges (no direction, no weight), directed edges (no weight), weighted edges (no direction) and directed weighted edges, respectively.</p>\n\n<p>Instinctively, <code>edge</code> will be my base class, from which the other classes will inherit. But, as I understand it, as <code>dw_edge</code> is a \"combination\" of both <code>d_edge</code> and <code>w_edge</code>, it should inherit from both classes.</p>\n\n<p>At the moment, I have defined some headers : </p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// edge.hpp\nclass edge {\n    public:\n        edge();\n        std::pair&lt;vertex&amp;, vertex&amp;&gt; get_vertices();\n    protected:\n        vertex&amp; v1, v2;\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// d_edge.hpp\nclass d_edge: public edge {\n    public:\n        vertex&amp; get_starting_vertex();\n        vertex&amp; get_ending_vertex();\n        void reverse();\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// w_edge.hpp\ntemplate &lt;class T&gt;\nclass w_edge: public edge {\n    public:\n        w_edge(vertex&amp; v1, vertex&amp; v2, T&amp; weight);\n        w_edge(edge&amp; e, T&amp; weight);\n        T&amp; get_weight();\n        void set_weight(T&amp; weight);\n    protected:\n        T&amp; weight;\n};\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// dw_edge.hpp\ntemplate &lt;class T&gt; // ?????\nclass dw_edge: public d_edge, public w_edge {};\n</code></pre>\n\n<p>So... Yeah. <strong>Can I have an empty <code>dw_edge</code> class implementation?</strong> Is it bad or rather good?</p>\n\n<p>Moreover, as you can see in the code above, <code>dw_edge</code> extends <code>w_edge</code> which is a template class. <strong>Does <code>dw_edge</code> have to be a template class, or can I just remove the statement?</strong></p>\n"}, {"tags": ["c++", "multithreading", "c++11", "pass-by-reference", "atomic"], "comments": [{"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1517435986, "post_id": 48551964, "comment_id": 84100570, "body": "You code is buggy, ` j -= (j - (std::rand() % j));` might make j=0, and next turn a divide-by-zero error."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1517435998, "post_id": 48551964, "comment_id": 84100576, "body": "Aliasing with <code>std::thread</code> parameters doesn&#39;t work any differently than multiple threads referring to a single global object -- setting up the reference is strongly ordered with respect to starting the thread, so you definitely are aliasing the <code>std::atomic</code> object correctly.  After that, it&#39;s up to how the object handles concurrent access (just fine, for <code>std::atomic</code>, and don&#39;t even try it for most other types)"}], "answers": [{"tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 5, "last_activity_date": 1517437110, "creation_date": 1517437110, "answer_id": 48552383, "question_id": 48551964, "link": "https://stackoverflow.com/questions/48551964/c-11-can-you-safely-pass-and-access-stdatomics-by-reference-in-different-thr/48552383#48552383", "title": "C++ 11 can you safely pass and access std::atomics by reference in different threads", "body": "<p>According to [intro.races]/20.2,</p>\n\n<blockquote>\n  <p>The execution of a program contains a data race if it contains two potentially concurrent conflicting actions,\n  at least one of which is not atomic, and neither happens before the other, except for the special case for\n  signal handlers described below. Any such data race results in undefined behavior.</p>\n</blockquote>\n\n<p>According to [intro.races]/2,</p>\n\n<blockquote>\n  <p>Two expression evaluations conflict if one of them modifies a memory location (4.4) and the other one reads\n  or modifies the same memory location.</p>\n</blockquote>\n\n<p>Accessing an atomic variable through a reference doesn't introduce any additional accesses or modifications, because references do not occupy memory locations. Therefore, performing potentially concurrent atomic operations is still safe when those operations occur through references.</p>\n\n<p>In fact, in the abstract model of evaluation in C++, there is no difference between accessing an object by its name and accessing an object through a reference variable bound to that object. Both are merely lvalues referring to the object.</p>\n\n<p>Beware of the <code>std::atomic_init</code> function, which is non-atomic:</p>\n\n<pre><code>std::atomic&lt;int&gt; x;\nvoid f(std::atomic&lt;int&gt;&amp; r) {\n    std::atomic_init(&amp;r, 0);\n}\nvoid g(std::atomic&lt;int&gt;&amp; r) {\n    r = 42;\n}\n</code></pre>\n\n<p>In the above code, if <code>f</code> and <code>g</code> run in separate threads and both access the atomic variable <code>x</code>, a data race can occur, because one of the operations is not atomic. However, this is no different from triggering the data race like so:</p>\n\n<pre><code>std::atomic&lt;int&gt; x;\nvoid f() {\n    std::atomic_init(&amp;x, 0);\n}\nvoid g() {\n    x = 42;\n}\n</code></pre>\n\n<p>where no references are involved.</p>\n"}], "owner": {"reputation": 63, "user_id": 8721191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74ac4ba7aa122ec993ad9adea9417b3f?s=128&d=identicon&r=PG&f=1", "display_name": "scholarhedge", "link": "https://stackoverflow.com/users/8721191/scholarhedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2427, "favorite_count": 3, "accepted_answer_id": 48552383, "answer_count": 1, "score": 4, "last_activity_date": 1517437110, "creation_date": 1517435142, "question_id": 48551964, "link": "https://stackoverflow.com/questions/48551964/c-11-can-you-safely-pass-and-access-stdatomics-by-reference-in-different-thr", "title": "C++ 11 can you safely pass and access std::atomics by reference in different threads", "body": "<p>I am wondering if you can pass a an atomic by reference to a thread and for the .load and .store operations still be thread safe. For instance:</p>\n\n<pre><code>#include &lt;thread&gt;\n#include &lt;atomic&gt;\n#include &lt;cstdlib&gt;\n\nvoid addLoop(std::atomic_int&amp; adder)\n{\n    int i = adder.load();\n    std::srand(std::time(0));\n    while(i &lt; 200)\n    {\n        i = adder.load();\n        i += (i + (std::rand() % i));\n        adder.store(i);\n    }\n}\n\nvoid subLoop (std::atomic_int&amp; subber)\n{\n    int j = subber.load();\n    std::srand(std::time(0));\n    while(j &lt; 200)\n    {\n        j = subber.load();\n        j -= (j - (std::rand() % j));\n        subber.store(j);\n    }\n}\n\nint main()\n{\n    std::atomic_int dummyInt(1);\n    std::thread add(addLoop, std::ref(dummyInt));\n    std::thread sub(subLoop, std::ref(dummyInt));\n    add.join();\n    sub.join();\n    return 0;\n}\n</code></pre>\n\n<p>When the addLoop thread stores the new value into the atomic if subLoop were to access it using the load and store functions would it end up being an undefined state?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1517435205, "post_id": 48551924, "comment_id": 84100202, "body": "<code>std::wstring</code> and <code>std::istringstream</code> don&#39;t go well together."}, {"owner": {"reputation": 77, "user_id": 7429643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d04796667cb5167b9ae447a54dde17f3?s=128&d=identicon&r=PG&f=1", "display_name": "vadtam", "link": "https://stackoverflow.com/users/7429643/vadtam"}, "reply_to_user": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1517435742, "post_id": 48551924, "comment_id": 84100457, "body": "<code>std::string</code> with <code>std::stringstream</code> didn&#39;t work also."}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1517436151, "post_id": 48551924, "comment_id": 84100651, "body": "<a href=\"http://coliru.stacked-crooked.com/a/455cafe0604283de\" rel=\"nofollow noreferrer\">Works here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 7429643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d04796667cb5167b9ae447a54dde17f3?s=128&d=identicon&r=PG&f=1", "display_name": "vadtam", "link": "https://stackoverflow.com/users/7429643/vadtam"}, "edited": false, "score": 0, "creation_date": 1517464349, "post_id": 48552679, "comment_id": 84108358, "body": "Also, I got Year 116, I guess it is because 2016-1900 = 116, i.e. I just always add 1900 to the output year. Any other &quot;stones under the water&quot; of this string parsing?"}], "tags": [], "owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "is_accepted": true, "score": 1, "last_activity_date": 1517458623, "last_edit_date": 1517458623, "creation_date": 1517438635, "answer_id": 48552679, "question_id": 48551924, "link": "https://stackoverflow.com/questions/48551924/format-of-datetime-in-stdget-time/48552679#48552679", "title": "Format of datetime in std::get_time", "body": "<p>You are mixing wide characters with narrow chars.</p>\n\n<p>For wide chars, the code should be:</p>\n\n<pre><code>    struct tm           date_time = {};\n    std::wstring        dateTimeFormat{L\"%d/%m/%Y %H:%M:%S\"};\n    std::wistringstream ss(L\"22/12/2016 01:12:10\");\n\n    ss &gt;&gt; std::get_time( &amp;date_time, dateTimeFormat.c_str() );\n</code></pre>\n\n<p>For narrow chars, it should be:</p>\n\n<pre><code>    struct tm          date_time = {};\n    std::string        dateTimeFormat{\"%d/%m/%Y %H:%M:%S\"};\n    std::istringstream ss(\"22/12/2016 01:12:10\");\n\n    ss &gt;&gt; std::get_time( &amp;date_time, dateTimeFormat.c_str() );\n</code></pre>\n\n<p>The following headers are required either way:</p>\n\n<pre><code>#include &lt;iomanip&gt;\n#include &lt;sstream&gt;\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 7429643, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d04796667cb5167b9ae447a54dde17f3?s=128&d=identicon&r=PG&f=1", "display_name": "vadtam", "link": "https://stackoverflow.com/users/7429643/vadtam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "closed_date": 1517493976, "accepted_answer_id": 48552679, "answer_count": 1, "score": 1, "last_activity_date": 1517458623, "creation_date": 1517434925, "question_id": 48551924, "link": "https://stackoverflow.com/questions/48551924/format-of-datetime-in-stdget-time", "closed_reason": "Not suitable for this site", "title": "Format of datetime in std::get_time", "body": "<p>How to modify this code to be able to correctly parse this string \"<strong>22/12/2016 01:12:10</strong>\" to the <strong>date_time</strong> variable?</p>\n\n<pre><code>struct tm date_time = {};\nstd::wstring dateTimeFormat{ L\"%d/%m/%Y %H:%M:%S\" };\nstd::istringstream ss(\"22/12/2016 01:12:10\");\nss &gt;&gt; std::get_time(&amp;date_time, dateTimeFormat.c_str());\n\n\n 1&gt;c:\\program files (x86)\\microsoft visual studio\\2017\\community\\vc\\tools\n\\msvc\\14.12.25827\\include\\iomanip(190): error C2338: wrong character type for \nget_time\n 1&gt;c:\\...\\procedure.cpp(70): note: see reference to function template \ninstantiation 'std::basic_istream&lt;char,std::char_traits&lt;char&gt;&gt; &amp;std::operator \n&gt;&gt;&lt;char,std::char_traits&lt;char&gt;,_Elem&gt;(std::basic_istream&lt;char,std::char_traits&lt;char&gt;&gt;\n &amp;,const std::_Timeobj&lt;_Elem,tm    *&gt; &amp;)' being compiled\n 1&gt;                   with\n 1&gt;                    [\n 1&gt;                     _Elem=wchar_t\n 1&gt;                     ]\n 1&gt;Done building project \"projectname\" -- FAILED.\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "recursion"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1517434479, "post_id": 48551776, "comment_id": 84099836, "body": "You are missing something in the <code>else</code> branch (which causes your code to invoke <i>undefined behavior</i>)"}, {"owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1517434517, "post_id": 48551776, "comment_id": 84099852, "body": "@UnholySheep Do you know what it is I am missing, am I calling the recursion incorrectly?"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1517434557, "post_id": 48551776, "comment_id": 84099877, "body": "Your <code>else</code> branch does not use the return value of the function it calls. Also it doesn&#39;t return anything itself (though it should be, as the function is declared to return an <code>int</code>)"}, {"owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1517434671, "post_id": 48551776, "comment_id": 84099947, "body": "@UnholySheep See edits"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1517435453, "post_id": 48551776, "comment_id": 84100320, "body": "@Wolfy <code>pow(nums[i],2)</code> -- <a href=\"https://stackoverflow.com/questions/25678481/why-does-pown-2-return-24-when-n-5-with-my-compiler-and-os\">Don&#39;t do this</a>  Not only isn&#39;t it guaranteed to give you the correct results, it slows the code down by invoking floating point routines."}], "answers": [{"comments": [{"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "edited": false, "score": 0, "creation_date": 1517434781, "post_id": 48551832, "comment_id": 84099989, "body": "@Wolfy try this code now, you will understand your mistake"}, {"owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "edited": false, "score": 0, "creation_date": 1517434895, "post_id": 48551832, "comment_id": 84100051, "body": "Just curious I know I initially got downvotes any reason why?"}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "edited": false, "score": 0, "creation_date": 1517434971, "post_id": 48551832, "comment_id": 84100094, "body": "glad it helped, there are no specific reasons for downvotes, generally these types are questions shouldn&#39;t be asked here. You can mark this as answer if it helped you"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1517435539, "post_id": 48551832, "comment_id": 84100357, "body": "@zenwraight -- Read my comment in the main post about using <code>pow</code>.  By using <code>pow</code> you will turn an integer solution into a floating point one."}, {"owner": {"reputation": 193, "user_id": 7927672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349c309560c1a72c588d75e757b651b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ian4264 ", "link": "https://stackoverflow.com/users/7927672/ian4264"}, "edited": false, "score": 0, "creation_date": 1517438558, "post_id": 48551832, "comment_id": 84101723, "body": "Also, when the number is not &quot;Happy&quot; it will recurse until it runs out of stack and crashes, so you would want to have some way to prevent this and also indicate that you either don&#39;t know or have given up."}, {"owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "reply_to_user": {"reputation": 193, "user_id": 7927672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/349c309560c1a72c588d75e757b651b7?s=128&d=identicon&r=PG&f=1", "display_name": "Ian4264 ", "link": "https://stackoverflow.com/users/7927672/ian4264"}, "edited": false, "score": 0, "creation_date": 1517440804, "post_id": 48551832, "comment_id": 84102551, "body": "Good point @Ian4264, I assumed that this condition would, also I just wanted to point out what mistake the author of the code is making. I will place a condition for it"}], "tags": [], "owner": {"reputation": 1853, "user_id": 6232665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41eeea507e28cddc2bc1efc3b2b73c45?s=128&d=identicon&r=PG&f=1", "display_name": "zenwraight", "link": "https://stackoverflow.com/users/6232665/zenwraight"}, "is_accepted": true, "score": 3, "last_activity_date": 1517440863, "last_edit_date": 1517440863, "creation_date": 1517434556, "answer_id": 48551832, "question_id": 48551776, "link": "https://stackoverflow.com/questions/48551776/leetcode-algorithm-exercise-for-finding-happy-number/48551832#48551832", "title": "Leetcode algorithm exercise for finding happy number", "body": "<p>You forgot to place a return in your code, Also you n becomes <code>0</code>, and you are returning n when you find <code>sum == 1</code>. It should return the <code>original_num</code>.</p>\n\n<p>To Store the original number reference pass it along with your call to happy method.</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cmath&gt;\nusing namespace std;\n\n\nint Happy(int n, int original_num) {\n    vector&lt;int&gt; nums;\n    int length = to_string(n).length();\n        for(int i = 0; i &lt; length; i++) {\n            int digit = n % 10;\n            n /= 10;\n            nums.push_back(digit);\n        }\n        //reverse(nums.begin(), nums.end());\n        int sum = 0;\n        for(int i = 0; i &lt; length; i++) {\n             sum += nums[i]*nums[i];\n        }\n    if (sum == 1) {\n        return original_num;\n    }\n    else {\n        return Happy(sum, original_num);\n    }\n}\n\n\n\nint main() {\n    int n = 19;\n    int result = Happy(n, n);\n    cout &lt;&lt; result &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 362, "favorite_count": 0, "accepted_answer_id": 48551832, "answer_count": 1, "score": -3, "last_activity_date": 1517440863, "creation_date": 1517434275, "last_edit_date": 1517435262, "question_id": 48551776, "link": "https://stackoverflow.com/questions/48551776/leetcode-algorithm-exercise-for-finding-happy-number", "title": "Leetcode algorithm exercise for finding happy number", "body": "<p><strong>Background:</strong></p>\n\n<p>This problem comes from leetcode.com</p>\n\n<p>Write an algorithm to determine if a number is \"happy\".</p>\n\n<p>A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it loops endlessly in a cycle which does not include 1. Those numbers for which this process ends in 1 are happy numbers.</p>\n\n<p>Example: 19 is a happy number</p>\n\n<p>1^2 + 9^2 = 82</p>\n\n<p>8^2 + 2^2 = 68</p>\n\n<p>6^2 + 8^2 = 100</p>\n\n<p>1^2 + 0^2 + 0^2 = 1</p>\n\n<p><strong>Question:</strong></p>\n\n<p>I thought of doing a recursion for this particular problem to keep repeating the squaring of the integers until we arrive at 1. I am new with recursion (just read Absolute C++ Ch 13 --- Recursion yesterday).I thought I would give this problem a shot but I am having some trouble.</p>\n\n<p>When I call my function I created I should get a return of 19 since 19 is a \"Happy Number\", but instead my function just returns 0, and I am not sure why. I just need some help with my approach I have taken and suggestions to changes in my code.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cmath&gt;\nusing namespace std;\n\n\nint Happy(int n) {\n    vector&lt;int&gt; nums;\n    int length = to_string(n).length();\n        for(int i = 0; i &lt; length; i++) {\n            int digit = n % 10;\n            n /= 10;\n            nums.push_back(digit);\n        }\n        reverse(nums.begin(), nums.end());\n        int sum = 0;\n        for(int i = 0; i &lt; length; i++) {\n             sum += pow(nums[i],2);\n        }\n    if (sum == 1) {\n        return n;\n    }\n    else {\n        return Happy(sum);\n    }\n}\n\n\n\nint main() {\n    int n = 19;\n    int result = Happy(n);\n    cout &lt;&lt; result &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Again, I am not sure why I get 0 as the result, when it should return 19.</p>\n"}, {"tags": ["c++", "opengl", "glfw", "glew", "shadow-mapping"], "comments": [{"owner": {"reputation": 305, "user_id": 7642367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGRHn.jpg?s=128&g=1", "display_name": "Kyy13", "link": "https://stackoverflow.com/users/7642367/kyy13"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1517495203, "post_id": 48551587, "comment_id": 84125933, "body": "Yes, that&#39;s it. Thank you for your help again! I&#39;ve been stuck on that for a while. I guess I need to review the basics on the view and projection matrices before I move on! Do you program for EliteCAD?"}], "answers": [{"tags": [], "owner": {"reputation": 305, "user_id": 7642367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGRHn.jpg?s=128&g=1", "display_name": "Kyy13", "link": "https://stackoverflow.com/users/7642367/kyy13"}, "is_accepted": false, "score": 0, "last_activity_date": 1517513399, "last_edit_date": 1517513399, "creation_date": 1517502192, "answer_id": 48567345, "question_id": 48551587, "link": "https://stackoverflow.com/questions/48551587/shadowmapping-and-sampler2dshadow/48567345#48567345", "title": "shadowmapping and sampler2DShadow", "body": "<p>The sun position was too far away for the far plane given by <code>glm::ortho</code></p>\n"}], "owner": {"reputation": 305, "user_id": 7642367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGRHn.jpg?s=128&g=1", "display_name": "Kyy13", "link": "https://stackoverflow.com/users/7642367/kyy13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 717, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1520886194, "creation_date": 1517433435, "last_edit_date": 1520886194, "question_id": 48551587, "link": "https://stackoverflow.com/questions/48551587/shadowmapping-and-sampler2dshadow", "title": "shadowmapping and sampler2DShadow", "body": "<p>I have been trying to implement shadowmapping in my terrain LOD program. I have spent quite some time researching different techniques and playing around with my code, but I just can't find my error, so it's time to ask the opengl gurus on stack overflow :)</p>\n\n<p>I am using c++, opengl, GLFW3, GLM, GLEW, GLSL (430)</p>\n\n<p>I have messed around with different ways of doing this, but the result is always one of the following:</p>\n\n<ol>\n<li>Entire scene is rendered with visibility = 0.0;</li>\n<li>Entire scene is rendered with visibility = 1.0;</li>\n</ol>\n\n<p>////// project summary</p>\n\n<p><a href=\"https://i.stack.imgur.com/b77lo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b77lo.jpg\" alt=\"no shadows, diffuse lighting\"></a></p>\n\n<p>The terrain is built using quads that span from &lt;0,0,0> to &lt;2048, 400, 2048>, then tesselated by the tess control and evaluation shaders depending on charPos.</p>\n\n<p>I use different *.cpp files to store render functions for different parts of the scene, so the vp_matrix variable gets computed in \"main.cpp\" and passed to every render function e.g. renderTerrain(vp_matrix). Then, I use mvp = vp_matrix * m depending on the case. For terrain, I use m to translate the vp_matrix by &lt;-charPos.x, 0, -charPos.z> to center the map on the player before it is rendered to color. When I render to the depthBuffer for shadows, I do not use this translation. I render the entire scene as an ortho projection from the perspective of the sun with the bounds of my map (&lt;0,0,0> to &lt;2048, 400, 2048>).</p>\n\n<p>I use static variables, because I reuse certain names in certain files. e.g. ProgramID, and I do not want them to overlap, so any variable that isn't defined in the \"reduced\" code is a static global to that file.</p>\n\n<p>I should add that all shaders compile with no errors.</p>\n\n<p>////// code</p>\n\n<p>I did my best to reduce the code into only parts that effect shadowmapping.\nThe 2 files that are relevant are \"main.cpp\" and \"terrain.cpp\".</p>\n\n<p>\"main.cpp\" has FBO initialization and the main rendering loop.\n\"terrain.cpp\" contains most of the meat.</p>\n\n<p>I didn't include boilerplate code e.g. generating the VAO.</p>\n\n<p>*********** main.cpp ***********</p>\n\n<p><strong>* init *</strong></p>\n\n<pre><code>ShadowFrameBufferID = 0;\nglGenFramebuffers(1, &amp;ShadowFrameBufferID);\nglBindFramebuffer(GL_FRAMEBUFFER, ShadowFrameBufferID);\n\nglGenTextures(1, &amp;depthTexture);\nglBindTexture(GL_TEXTURE_2D, depthTexture);\nglTexImage2D(GL_TEXTURE_2D, 0, GL_DEPTH_COMPONENT32, 1024, 1024, 0, GL_DEPTH_COMPONENT, GL_FLOAT, NULL);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_BORDER);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_BORDER);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_COMPARE_FUNC, GL_LEQUAL);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_COMPARE_MODE, GL_COMPARE_REF_TO_TEXTURE);\n\nglFramebufferTexture2D(GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_TEXTURE_2D, depthTexture, 0);\nglDrawBuffer(GL_NONE);\nglReadBuffer(GL_NONE);\n\nif (glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE)\n{\n    printf(\"shadow framebuffer error\\n\");\n}\n</code></pre>\n\n<p><strong>* render loop *</strong></p>\n\n<pre><code>glBindFramebuffer(GL_DRAW_FRAMEBUFFER, ShadowFrameBufferID);\n\nglViewport(0, 0, 1024, 1024);\nglClear(GL_DEPTH_BUFFER_BIT);\n\nglEnable(GL_DEPTH_TEST);\nglDepthFunc(GL_LESS);\nglEnable(GL_CULL_FACE);\nglCullFace(GL_BACK);\n\nglm::mat4 depthProjectionMatrix = glm::ortho&lt;float&gt;(0.0f, 2048.0f, 0.0f, 400.0f, 0.0f, 2048.0f);\nglm::mat4 depthViewMatrix = glm::lookAt(sunPos, glm::vec3(0), glm::vec3(0.0f, 1.0f, 0.0f));\nglm::mat4 depth_vp_matrix = depthProjectionMatrix * depthViewMatrix;\n\nrenderTerrainShadows(depth_vp_matrix);\n\nglBindFramebuffer(GL_FRAMEBUFFER, 0);\n\nglViewport(0, 0, WINDOW_WIDTH, WINDOW_HEIGHT);\n\nglClearColor(0.478f, 0.702f, 0.816f, 1.0f);\nglClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\nglEnable(GL_DEPTH_TEST);\nglDepthFunc(GL_LESS);\nglEnable(GL_CULL_FACE);\nglCullFace(GL_BACK);\n\nrenderTerrain(vp_matrix, depth_vp_matrix, depthTexture);\n\nglfwSwapBuffers(window);\nglfwPollEvents();\n</code></pre>\n\n<p>*********** terrain.cpp ***********</p>\n\n<p><strong>* shader source *</strong></p>\n\n<pre><code>// shadow/main vertex shaders (passthrough)\n#version 430\nlayout(location = 0) in vec2 position;\nout vec2 vposition;\nvoid main()\n{\n    vposition = position;\\n\"\n}\n\n// shadow tess evaluation shader\n#version 430\nuniform mat4 shadowMVP;\nvoid main()\n{\n    computeXYZ(); // world coordinates\n\n    gl_Position = shadowMVP * vec4(x, y, z, 1.0f);\n}\n\n// shadow fragment shader\n#version 430\nlayout(location=0) out float fragmentDepth;\nvoid main()\n{\n    fragmentDepth = gl_FragCoord.z;\n}\n\n// main tess evaluation shader\n#version 430\nuniform mat4 mvp, shadowBiasMVP;\nout vec4 shadowPosition;\nvoid main()\n{\n    computeXYZ(); // world coordinates\n\n    gl_Position =    mvp * vec4(x, y, z, 1.0f);\n    shadowPosition = shadowBiasMVP * vec4(x, y, z, 1.0f);\n}\n\n// main fragment shader\n#version 430\nout vec3 color;\nuniform sampler2DShadow shadowMap;\nin vec4 shadowPosition;\nvoid main()\n{\n    color = doStuff(); // compute from diffuse / fog effect / etc\n\n    float visibility = texture(shadowMap, vec3(shadowPosition.xy/shadowPosition.w, shadowPosition.z/shadowPosition.w));\n    color = color * visibility;\n}\n</code></pre>\n\n<p><strong>* init *</strong></p>\n\n<pre><code>// shadow program\nShadowProgramID = loadshaders4(shadow_vertex_shader_source, shadow_tessellation_control_shader_source, shadow_tessellation_evaluation_shader_source, shadow_fragment_shader_source);\nShadowMatrixID = glGetUniformLocation(ShadowProgramID, \"shadowMVP\");\n\n// main program\nProgramID = loadshaders4(vertex_shader_source, tessellation_control_shader_source, tessellation_evaluation_shader_source, fragment_shader_source);\nShadowMapID = glGetUniformLocation(ProgramID, \"shadowMap\");\nMatrixID = glGetUniformLocation(ProgramID, \"mvp\");\nShadowBiasMatrixID = glGetUniformLocation(ProgramID, \"shadowBiasMVP\");\n</code></pre>\n\n<p><strong>* renderTerrainShadows *</strong></p>\n\n<pre><code>void renderTerrainShadows(glm::mat4 depth_vp_matrix)\n{\n    glUseProgram(ShadowProgramID);\n\n    // uniforms\n    glUniformMatrix4fv(ShadowMatrixID, 1, GL_FALSE, &amp;depth_vp_matrix[0][0]);\n\n    // buffers\n    glEnableVertexAttribArray(0);\n    glBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\n    glVertexAttribPointer(0, 2, GL_FLOAT, GL_FALSE, 0, (void*)0);\n\n    glPatchParameteri(GL_PATCH_VERTICES, 4);\n\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementbuffer);\n    glDrawElements(GL_PATCHES, indices.size(), GL_UNSIGNED_INT, (void*)0);\n\n    glDisableVertexAttribArray(0);\n}\n</code></pre>\n\n<p><strong>* renderTerrain *</strong></p>\n\n<pre><code>void renderTerrain(glm::mat4 vp_matrix, glm::mat4 depth_vp_matrix, GLuint depthTexture)\n{\n    glUseProgram(ProgramID);\n\n    // uniforms\n    // mvp matrix for rendering the scene needs to be translated to be centered on player\n    glm::mat4 mvp = glm::translate(vp_matrix, glm::vec3(-charPos.x, 0.0f, -charPos.z));\n    glUniformMatrix4fv(MatrixID, 1, GL_FALSE, &amp;mvp[0][0]);\n\n    // depth_mvp needs to be biased to change from [-1,1] to [0,1]\n    glm::mat4 biasMatrix = glm::mat4(0.5f, 0.0f, 0.0f, 0.0f,\n                                     0.0f, 0.5f, 0.0f, 0.0f,\n                                     0.0f, 0.0f, 0.5f, 0.0f,\n                                     0.5f, 0.5f, 0.5f, 1.0f);\n    glm::mat4 depth_mvp = biasMatrix * depth_vp_matrix;\n    glUniformMatrix4fv(ShadowBiasMatrixID, 1, GL_FALSE, &amp;depth_mvp[0][0]);\n\n    // shadow texture (0)\n    glActiveTexture(GL_TEXTURE0);\n    glBindTexture(GL_TEXTURE_2D, depthTexture);\n    glUniform1i(ShadowMapID, 0);\n\n    // buffers\n    glEnableVertexAttribArray(0);\n    glBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\n    glVertexAttribPointer(0, 2, GL_FLOAT, GL_FALSE, 0, (void*)0);\n\n    glPatchParameteri(GL_PATCH_VERTICES, 4);\n\n    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementbuffer);\n    glDrawElements(GL_PATCHES, indices.size(), GL_UNSIGNED_INT, (void*)0);\n\n    glDisableVertexAttribArray(0);\n}\n</code></pre>\n"}, {"tags": ["c++", "node.js", "curl", "libcurl"], "comments": [{"owner": {"reputation": 2144, "user_id": 9760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixxpj.jpg?s=128&g=1", "display_name": "Daniel Waechter", "link": "https://stackoverflow.com/users/9760/daniel-waechter"}, "edited": false, "score": 0, "creation_date": 1517436224, "post_id": 48551582, "comment_id": 84100690, "body": "How are you calling postRequest?"}, {"owner": {"reputation": 2057, "user_id": 3671995, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/yFpFb.jpg?s=128&g=1", "display_name": "alfredopacino", "link": "https://stackoverflow.com/users/3671995/alfredopacino"}, "reply_to_user": {"reputation": 2144, "user_id": 9760, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixxpj.jpg?s=128&g=1", "display_name": "Daniel Waechter", "link": "https://stackoverflow.com/users/9760/daniel-waechter"}, "edited": false, "score": 0, "creation_date": 1517439448, "post_id": 48551582, "comment_id": 84102089, "body": "the code it&#39;s a bit long (not complex) but the end of the day <code>content</code> is a simple string. <code>socket</code> is IP+port, obiouvsly that&#39;s not the problem.."}], "owner": {"reputation": 2057, "user_id": 3671995, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/yFpFb.jpg?s=128&g=1", "display_name": "alfredopacino", "link": "https://stackoverflow.com/users/3671995/alfredopacino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517434053, "creation_date": 1517433416, "last_edit_date": 1517434053, "question_id": 48551582, "link": "https://stackoverflow.com/questions/48551582/c-client-nodejs-server-send-post-binary-data", "title": "C++ Client/Nodejs Server send POST binary data", "body": "<p>I have a C++ client and a Nodejs Server. I want to send binary data (an hex string) via POST. I'm struggling trying to understand what's the problem here.\nThe problem: I get on server a Buffer with <strong>all the same bytes</strong> everytime. No matter what I send. </p>\n\n<p>I guess I do not handle the Buffer on server the right way.\nPlease note bodyParser.raw usage, I'm not sure about it.\nThis is the part of the Client sending data:</p>\n\n<pre><code>//http POST request\nint Remote::postRequest(const char *socket, char *content) {\n    CURL *curl;\n    CURLcode res;\n    curl_global_init(CURL_GLOBAL_ALL);\n    curl = curl_easy_init();\n    if (curl) {\n        struct curl_slist *headers = NULL;\n        headers = curl_slist_append(headers, \"Accept: */*\");\n        headers = curl_slist_append(headers, \"Content-Type: application/octet-stream\");\n        curl_easy_setopt(curl, CURLOPT_HTTPHEADER, headers);\n        curl_easy_setopt(curl, CURLOPT_URL, socket);\n        curl_easy_setopt(curl, CURLOPT_POST, 1);\n        curl_easy_setopt(curl, CURLOPT_POSTFIELDS, content);\n        res = curl_easy_perform(curl);                                                                                    \n        if (res != CURLE_OK)\n            fprintf(stderr, \"curl_easy_perform() failed: %s\\n\",\n                curl_easy_strerror(res));\n        curl_easy_cleanup(curl);\n    }\n    curl_global_cleanup();\n    return 0;\n}\n</code></pre>\n\n<p>This is the server</p>\n\n<pre><code>const app = require('express')(),\napp\n    .use(bodyParser.raw({type: 'application/octet-stream'}))\n    .post('/', (req, res) =&gt; {\n        console.log('body: ',req.body);\n        console.log('binToHex: ',new Buffer(req.body.toString('hex'),'binary'));\n        console.log('bin: ', Buffer(req.body,'binary'))\n        res.send(\"ok\")  \n    }).listen(3000, () =&gt; console.info('listening on port 3000..'))\n</code></pre>\n\n<p>That's what the server prints <strong>no matter what I send</strong></p>\n\n<pre><code>body:  &lt;Buffer cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc&gt;\nbinToHex:  &lt;Buffer 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 63 ... &gt;\nbin:  &lt;Buffer cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc cc&gt;\n</code></pre>\n"}, {"tags": ["c++", "dev-c++"], "comments": [{"owner": {"reputation": 5859, "user_id": 2143128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2CZQF.jpg?s=128&g=1", "display_name": "Ratul Sharker", "link": "https://stackoverflow.com/users/2143128/ratul-sharker"}, "edited": false, "score": 1, "creation_date": 1517433944, "post_id": 48551580, "comment_id": 84099564, "body": "Please put more detail so that anyone can help."}, {"owner": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1517434187, "post_id": 48551580, "comment_id": 84099685, "body": "1) explain in more detail 2) Use a debugger before post, so you can see your logic running and most of times you&#39;ll see the problem."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1517434282, "post_id": 48551580, "comment_id": 84099726, "body": "<b>Indentation</b> please. This code is a wreck and really hard to follow because of it."}, {"owner": {"reputation": 2174, "user_id": 3349368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c9f50cb5783614c67eef86caf63139?s=128&d=identicon&r=PG", "display_name": "Paul Belanger", "link": "https://stackoverflow.com/users/3349368/paul-belanger"}, "edited": false, "score": 0, "creation_date": 1517434373, "post_id": 48551580, "comment_id": 84099779, "body": "3) Indent your code so that it is easy to follow."}, {"owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "reply_to_user": {"reputation": 2174, "user_id": 3349368, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57c9f50cb5783614c67eef86caf63139?s=128&d=identicon&r=PG", "display_name": "Paul Belanger", "link": "https://stackoverflow.com/users/3349368/paul-belanger"}, "edited": false, "score": 0, "creation_date": 1517434457, "post_id": 48551580, "comment_id": 84099823, "body": "@PaulB I edited the indentation in."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1517436009, "post_id": 48551908, "comment_id": 84100583, "body": "I recommend putting <code>bool found = false;</code> at the beginning of the first loop body, then you don&#39;t need to repeat it at the bottom."}, {"owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1517437948, "post_id": 48551908, "comment_id": 84101468, "body": "@Barmar That&#39;s true! Edited accordingly."}, {"owner": {"reputation": 17, "user_id": 3821478, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Y3tVN.jpg?s=128&g=1", "display_name": "Amiga 500", "link": "https://stackoverflow.com/users/3821478/amiga-500"}, "edited": false, "score": 0, "creation_date": 1517564188, "post_id": 48551908, "comment_id": 84155515, "body": "Thank you so much @Felix i tried your solution with  l = 9 but i don&#39;t understand a thingh or i was not able to explaine it, if i want to found the found element in the 2 arrays until 10 cycle, why  l = 9? maybe i wrong at start with my for cycle i must to use i &lt;=10 and j &lt;= 10 ? thank you."}, {"owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "reply_to_user": {"reputation": 17, "user_id": 3821478, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Y3tVN.jpg?s=128&g=1", "display_name": "Amiga 500", "link": "https://stackoverflow.com/users/3821478/amiga-500"}, "edited": false, "score": 0, "creation_date": 1517592696, "post_id": 48551908, "comment_id": 84173044, "body": "@Amiga500 Arrays in C++ start from zero. So the tenth element is element at index 9. We set the flag &#180;found&#180; to be true if the similar element is found. So we know if &#180;found&#180; is still false after every element, there must be no match. Does that help? Did it work?"}, {"owner": {"reputation": 17, "user_id": 3821478, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Y3tVN.jpg?s=128&g=1", "display_name": "Amiga 500", "link": "https://stackoverflow.com/users/3821478/amiga-500"}, "edited": false, "score": 0, "creation_date": 1517669759, "post_id": 48551908, "comment_id": 84193784, "body": "@Felix it&#39;s all ok, just in your first solution i obtain at the end of the program i obtain &quot;92 is only in one array&quot;, but the number 92 i ever putted in my arrays, so where is the problem? have you the same like me? thank you in advance"}], "tags": [], "owner": {"reputation": 2132, "user_id": 7089239, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/390a878ef8da2514a56dd703a896afe5?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/7089239/felix"}, "is_accepted": true, "score": 2, "last_activity_date": 1517437927, "last_edit_date": 1517437927, "creation_date": 1517434855, "answer_id": 48551908, "question_id": 48551580, "link": "https://stackoverflow.com/questions/48551580/c-array-elements-comparison/48551908#48551908", "title": "C++ array elements comparison", "body": "<p>Your <code>l</code> can never be 10, which is the condition to show the unique element. The loop will stop at 9.</p>\n\n<p>I'd suggest you only use one variable to flag the uniqueness. For example:</p>\n\n<pre><code>bool found = false;\nfor(i = 0; i &lt; 10; i++) \n{ \n    for(l = 0; l &lt; 10; l++) \n    { \n        if ((v1[i] == v2[l])) \n        { \n            cout &lt;&lt; v1[i] &lt;&lt; \" e \" &lt;&lt; v2[l] &lt;&lt; \" are common\" &lt;&lt; endl; \n            found = true; \n        } \n        else if(!found &amp;&amp; l==9) \n        { \n            cout &lt;&lt; v1[i] &lt;&lt; \" it s in only one array\" &lt;&lt; endl; \n        }\n    } \n    found = false; \n}\n</code></pre>\n\n<p>Also if one wanted to change the code a bit the check can be only after the inner loop:</p>\n\n<pre><code>for(int i = 0; i &lt; 10; i++){\n    bool found = false;\n    for(int j = 0; j &lt; 10; j++){ \n        if ((v1[i] == v2[j])){ \n            cout &lt;&lt; v1[i] &lt;&lt; \" e \" &lt;&lt; v2[j] &lt;&lt; \" are common\" &lt;&lt; endl; \n            found = true; \n        }\n    }\n    if(!found){\n        cout &lt;&lt; v1[i] &lt;&lt; \" is in only one array\" &lt;&lt; endl; \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 3821478, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/Y3tVN.jpg?s=128&g=1", "display_name": "Amiga 500", "link": "https://stackoverflow.com/users/3821478/amiga-500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1943, "favorite_count": 0, "accepted_answer_id": 48551908, "answer_count": 1, "score": -3, "last_activity_date": 1517933756, "creation_date": 1517433412, "last_edit_date": 1517933756, "question_id": 48551580, "link": "https://stackoverflow.com/questions/48551580/c-array-elements-comparison", "title": "C++ array elements comparison", "body": "<p>I want to have a comparison in two <code>arrays</code>, I tried in this way:</p>\n\n<pre><code>#include &lt;iostream&gt; \n\nusing namespace std; \n\nint main(){ \nint v1[10] = {1, 5, 77, 3, 4, 0, 2, 6, 8, 9}; \nint v2[10] = {20, 18, 2, 3, 4, 0, 1, 9, 6, 8}; \nint i,l,c=0,n=0; \n\n//comparision\nfor(i=0; i&lt;10; i++) \n{ \n    for(l=0;l&lt;10;l++) \n    { \n        if ((v1[i] == v2[l]) &amp;&amp; (c==0)) \n        { \n            cout &lt;&lt; v1[i] &lt;&lt; \" e \" &lt;&lt; v2[l] &lt;&lt; \" are common\" &lt;&lt; endl; \n            c = 1; \n        } \n        else if((n==0) &amp;&amp; (l==10)) \n        { \n            cout &lt;&lt; v1[i] &lt;&lt; \" it s in only one array\" &lt;&lt; endl; \n            n = 1; \n        };\n    } \n    c=0,n=0; \n} \n\nsystem(\"pause\"); \nreturn 0; \n}\n</code></pre>\n\n<p>But it seems not working for the uncommon element, the program show me only the common elements but not the uncommon. I can't understand why.\nSomeone can help me?</p>\n\n<p>Thanks for your help in advance.</p>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1517433401, "post_id": 48551537, "comment_id": 84099310, "body": "What behavior did you notice that makes you think that the function does not work?"}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1517434498, "post_id": 48551537, "comment_id": 84099843, "body": "Do not override"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1517434789, "post_id": 48551537, "comment_id": 84099992, "body": "Works for me. <a href=\"https://ideone.com/Lz9baw\" rel=\"nofollow noreferrer\">ideone.com/Lz9baw</a>."}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1517435143, "post_id": 48551537, "comment_id": 84100177, "body": "It is interesting but i use RTTI. Is it can influence for that?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1517435355, "post_id": 48551537, "comment_id": 84100271, "body": "I am not sure I understand the problem you are running into. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 32386, "user_id": 4706785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdee2789e9bac57bfdd97abc4e533a4d?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/4706785/peter"}, "edited": false, "score": 0, "creation_date": 1517435574, "post_id": 48551537, "comment_id": 84100372, "body": "Normally the workings of an expression <code>some_array+b</code> would actually use the value of <code>b</code> somewhere in the <code>operator+()</code>.   Neither of your definitions use the argument <code>b</code>.    It is probably better not to have them as virtual functions - the effects may not be what you intend."}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1517436195, "post_id": 48551537, "comment_id": 84100674, "body": "<a href=\"https://ideone.com/6kQ1HG\" rel=\"nofollow noreferrer\">ideone.com/6kQ1HG</a>"}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1517437099, "post_id": 48551537, "comment_id": 84101083, "body": "This function do not override"}, {"owner": {"reputation": 816, "user_id": 5352221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8451ba1b588ab60305b93c6fa2658c7?s=128&d=identicon&r=PG&f=1", "display_name": "AdvSphere", "link": "https://stackoverflow.com/users/5352221/advsphere"}, "edited": false, "score": 0, "creation_date": 1517437159, "post_id": 48551537, "comment_id": 84101115, "body": "From your ideone code: <code>prog.cpp:39:2: error: expected \u2018}\u2019 at end of input  };</code> Add the close bracket for first class."}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1517437475, "post_id": 48551537, "comment_id": 84101249, "body": "I only show how i white my class"}], "answers": [{"comments": [{"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "edited": false, "score": 0, "creation_date": 1517439683, "post_id": 48552547, "comment_id": 84102175, "body": "Down voted because it&#39;s a low quality explaination. What was missing in the users code? What about some general information about the mechasim which You understand, but is incorrectly implemented in the question?"}, {"owner": {"reputation": 816, "user_id": 5352221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8451ba1b588ab60305b93c6fa2658c7?s=128&d=identicon&r=PG&f=1", "display_name": "AdvSphere", "link": "https://stackoverflow.com/users/5352221/advsphere"}, "reply_to_user": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "edited": false, "score": 0, "creation_date": 1517439781, "post_id": 48552547, "comment_id": 84102205, "body": "@RobertAndrzejuk, thank you for the explanation, will remember next time :)"}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "edited": false, "score": 0, "creation_date": 1517439963, "post_id": 48552547, "comment_id": 84102257, "body": "Fix Your answer, and the downvote will be changed to an upvote or none. A downvote costs the giver -1 point. It&#39;s there to tell You to fix something."}, {"owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "edited": false, "score": 0, "creation_date": 1517476543, "post_id": 48552547, "comment_id": 84113762, "body": "But i saw this example <a href=\"https://stackoverflow.com/questions/669818/virtual-assignment-operator-c\" title=\"virtual assignment operator c\">stackoverflow.com/questions/669818/&hellip;</a>"}], "tags": [], "owner": {"reputation": 816, "user_id": 5352221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8451ba1b588ab60305b93c6fa2658c7?s=128&d=identicon&r=PG&f=1", "display_name": "AdvSphere", "link": "https://stackoverflow.com/users/5352221/advsphere"}, "is_accepted": false, "score": 1, "last_activity_date": 1517440176, "last_edit_date": 1517440176, "creation_date": 1517437968, "answer_id": 48552547, "question_id": 48551537, "link": "https://stackoverflow.com/questions/48551537/operator-overloading-to-another-class/48552547#48552547", "title": "operator overloading to another class", "body": "<p>The signature of your base class <code>Array&amp; operator+(const double b)</code> does not match the derived <code>ArrayComplex&amp; operator+(const double b)</code> that's why it does not work. Make sure the return types are the same.</p>\n"}], "owner": {"reputation": 1, "user_id": 9296753, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BLmgBkO-xTQ/AAAAAAAAAAI/AAAAAAAAACc/28Jb7tGO1tU/photo.jpg?sz=128", "display_name": "\u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432 \u0421\u0438\u043b\u044c\u0447\u0435\u043d\u043a\u043e", "link": "https://stackoverflow.com/users/9296753/%d0%92%d0%bb%d0%b0%d0%b4%d0%b8%d1%81%d0%bb%d0%b0%d0%b2-%d0%a1%d0%b8%d0%bb%d1%8c%d1%87%d0%b5%d0%bd%d0%ba%d0%be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1517440176, "creation_date": 1517433222, "last_edit_date": 1517433436, "question_id": 48551537, "link": "https://stackoverflow.com/questions/48551537/operator-overloading-to-another-class", "title": "operator overloading to another class", "body": "<p>How override operator+ in first class to second class. I found more information about this but it does not work. Please help me</p>\n\n<pre><code>virtual Array&amp; operator+(const double b) {\n        cout &lt;&lt; \"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u043b\u0430 10: \";\n        Array&amp; x(*this);\n        for (int i = 0; i &lt; size; i++) {\n\n        }\n        cout &lt;&lt; x &lt;&lt; endl;\n        return x;\n    }\n\nvirtual ArrayComplex&amp; operator+(const double b) {\n        cout &lt;&lt; \"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0441\u043b\u0430 1011111111111: \";\n        ArrayComplex&amp; x(*this);\n        for (int i = 0; i &lt; size; i++) {\n            x[i] += 10;\n        }\n        cout &lt;&lt; x &lt;&lt; endl;\n        return *this;\n    }\n</code></pre>\n"}, {"tags": ["c++", "c++11", "c++14", "constexpr", "c++17"], "owner": {"reputation": 14872, "user_id": 3919155, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/3034f14bf0b65847592b2c2e08b9253e?s=128&d=identicon&r=PG&f=1", "display_name": "jotik", "link": "https://stackoverflow.com/users/3919155/jotik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1517433226, "answer_count": 0, "score": 1, "last_activity_date": 1517433095, "creation_date": 1517433095, "question_id": 48551514, "link": "https://stackoverflow.com/questions/48551514/is-it-possible-to-test-whether-something-is-constexpr", "closed_reason": "Duplicate", "title": "Is it possible to test whether something is constexpr?", "body": "<p>In C++11 and later, is it possible at compile-time for any given identifier to derive (without compile errors) a <code>constexpr bool</code> value, which is <code>true</code> if and only if that given identifier refers to a <code>constexpr</code> variable?</p>\n\n<p>If not, why? If yes, how? Is it also possible to detect <code>constexpr</code> functions?</p>\n"}, {"tags": ["c++", "stringstream", "c++17", "string-view"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 3, "creation_date": 1517432779, "post_id": 48551406, "comment_id": 84098977, "body": "<code>istrstream</code> has been deprecated since C++98..."}, {"owner": {"reputation": 8647, "user_id": 112755, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/653e9876709910096ccdde524a306bf8?s=128&d=identicon&r=PG", "display_name": "Mordachai", "link": "https://stackoverflow.com/users/112755/mordachai"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1517433020, "post_id": 48551406, "comment_id": 84099103, "body": "sure - and I&#39;ve been waiting for a string_view since then as well... which they finally got off their butts long enough to do for &#39;17, only to fail to actually use it in any of the most obvious library interfaces..."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 3, "creation_date": 1517433138, "post_id": 48551406, "comment_id": 84099173, "body": "Nobody&#39;s been stopping you from imparting your apparently infinite wisdom upon the committee and writing proposals for these things."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1517433210, "post_id": 48551406, "comment_id": 84099210, "body": "Shouldn&#39;t <code>getline()</code> on a fixed buffer itself return a substring as a <code>string_view</code>?  It&#39;s trivial to create a new independent string if you need one, but impossible to undo a copy done inside the library."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1517433286, "post_id": 48551406, "comment_id": 84099253, "body": "In any case, building atop iostreams is not what you want if efficiency is a concern."}, {"owner": {"reputation": 8647, "user_id": 112755, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/653e9876709910096ccdde524a306bf8?s=128&d=identicon&r=PG", "display_name": "Mordachai", "link": "https://stackoverflow.com/users/112755/mordachai"}, "edited": false, "score": 0, "creation_date": 1517433836, "post_id": 48551406, "comment_id": 84099517, "body": "Ben - that would change the interface - would need a getline_view() or similar, to return a view.  The linked proposal above operates using spans, rather than views, but the idea is to never generate an allocation, just views within views."}], "answers": [{"comments": [{"owner": {"reputation": 5397, "user_id": 1482455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dZ1fN.jpg?s=128&g=1", "display_name": "YePhIcK", "link": "https://stackoverflow.com/users/1482455/yephick"}, "edited": false, "score": 0, "creation_date": 1517466122, "post_id": 48554838, "comment_id": 84108922, "body": "A few lines of code to illustrate what you are talking about would be very useful for not-as-experienced C++ developers, IMHO"}, {"owner": {"reputation": 8647, "user_id": 112755, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/653e9876709910096ccdde524a306bf8?s=128&d=identicon&r=PG", "display_name": "Mordachai", "link": "https://stackoverflow.com/users/112755/mordachai"}, "edited": false, "score": 0, "creation_date": 1517494659, "post_id": 48554838, "comment_id": 84125538, "body": "I use <code>istrstream</code> in a couple of places - one could trivially be converted as you say to simply look for the next EOL or EOS.  The other uses more stream features, including locale injection, so wouldn&#39;t be so trivial and although those could be rewritten too - would be considerably more involved.  Thanks for the feedback &amp; answer."}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 6, "last_activity_date": 1517455895, "last_edit_date": 1517455895, "creation_date": 1517455448, "answer_id": 48554838, "question_id": 48551406, "link": "https://stackoverflow.com/questions/48551406/a-better-replacement-for-istrstream/48554838#48554838", "title": "A better replacement for istrstream?", "body": "<p>Continue using <code>istrstream</code> for the time being. It likely won't be removed until either <a href=\"http://wg21.link/P0448\" rel=\"noreferrer\">P0448</a> (using <code>std::span&lt;char&gt;</code> as the source/destination of a stream buffer) or <a href=\"http://wg21.link/P0408\" rel=\"noreferrer\">P0408</a> (the ability to move data into/outof <code>stringstream</code>s) is adopted by the standard. Either of those would serve your needs well.</p>\n\n<p>That being said, if all you're trying to do is get substrings between <code>\\n</code>s, it would be far more efficient (even with the above proposals) to just use a regex search. Or just a <em>regular</em> search, since you're just looking for <code>\\n</code>. That would give you a pair of iterators that represents a line. Using iostreams for line-by-line processing of an already-loaded character buffer is overkill and will never be as efficient as the alternative.</p>\n"}], "owner": {"reputation": 8647, "user_id": 112755, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/653e9876709910096ccdde524a306bf8?s=128&d=identicon&r=PG", "display_name": "Mordachai", "link": "https://stackoverflow.com/users/112755/mordachai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 48554838, "answer_count": 1, "score": 4, "last_activity_date": 1517455895, "creation_date": 1517432727, "last_edit_date": 1517433001, "question_id": 48551406, "link": "https://stackoverflow.com/questions/48551406/a-better-replacement-for-istrstream", "title": "A better replacement for istrstream?", "body": "<p><code>istrstream</code> was perfect for my needs - basically, take a fixed char buffer, and give me a simple way to extract lines <code>getline()</code> and test for <code>eof()</code></p>\n\n<p>I'm switching our projects to C++ 17 compliance - which has deprecated <code>istrsteam</code> - apparently because there are too many C++ programmers who cannot fathom fixed buffer memory management (are you serious?!)</p>\n\n<p>At any rate, the <code>istringstream</code> provides the same use semantics, but it imposes the need to now copy the entire fixed character buffer at construction time.</p>\n\n<p>This is an anti-pattern.</p>\n\n<p>What I am looking for is either a way to use a <code>string_view</code> in place of a <code>string</code> for the <code>istringstream</code>, or alternately a better replacement for <code>stringstream</code> which itself handles externally managed fixed buffer (it need only point into it, it never need worry about managing that resource, just as <code>strstream</code> did).</p>\n\n<p>Currently, in VS 2017, this is illegal, and if I understand things correctly, is illegal everywhere in the current state-of-art of C++ (I'm sure you'll correct me if I'm wrong!)</p>\n\n<pre><code>    std::string_view raw_view(reinterpret_cast&lt;const char *&gt;(raw_buffer.get()), raw_buffer.size());\n    std::istringstream raw_stream(raw_view);\n</code></pre>\n\n<p><strong>So - ideas?</strong></p>\n\n<p>Note: Peter Sommerlad has a proposal for this exact idea here for the C++ standards body:\n<a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0448r1.pdf\" rel=\"nofollow noreferrer\">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/p0448r1.pdf</a></p>\n"}, {"tags": ["c++", "inheritance", "googletest", "gmock"], "comments": [{"owner": {"reputation": 3990, "user_id": 6095394, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e512acda63343ac20eedd20c3964911?s=128&d=identicon&r=PG&f=1", "display_name": "pschill", "link": "https://stackoverflow.com/users/6095394/pschill"}, "edited": false, "score": 0, "creation_date": 1517433135, "post_id": 48551397, "comment_id": 84099169, "body": "Do you really mean <code>class Wrapper: public T&lt;A&gt;</code>? I think <code>class Wrapper: public Generic&lt;A&gt;</code> makes more sense."}, {"owner": {"reputation": 834, "user_id": 9295224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f257d8a2c3096d45044d0807a2f8e43?s=128&d=identicon&r=PG&f=1", "display_name": "bogdan tudose", "link": "https://stackoverflow.com/users/9295224/bogdan-tudose"}, "reply_to_user": {"reputation": 3990, "user_id": 6095394, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e512acda63343ac20eedd20c3964911?s=128&d=identicon&r=PG&f=1", "display_name": "pschill", "link": "https://stackoverflow.com/users/6095394/pschill"}, "edited": false, "score": 0, "creation_date": 1517433208, "post_id": 48551397, "comment_id": 84099207, "body": "You are right. It was a typo. I will modify"}, {"owner": {"reputation": 3990, "user_id": 6095394, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e512acda63343ac20eedd20c3964911?s=128&d=identicon&r=PG&f=1", "display_name": "pschill", "link": "https://stackoverflow.com/users/6095394/pschill"}, "edited": false, "score": 0, "creation_date": 1517433258, "post_id": 48551397, "comment_id": 84099232, "body": "What object does <code>functionReturnPointerToA</code> actually create? Does it create a <code>Wrapper</code> or does it create another object derived from <code>A</code>?"}, {"owner": {"reputation": 834, "user_id": 9295224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f257d8a2c3096d45044d0807a2f8e43?s=128&d=identicon&r=PG&f=1", "display_name": "bogdan tudose", "link": "https://stackoverflow.com/users/9295224/bogdan-tudose"}, "reply_to_user": {"reputation": 3990, "user_id": 6095394, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e512acda63343ac20eedd20c3964911?s=128&d=identicon&r=PG&f=1", "display_name": "pschill", "link": "https://stackoverflow.com/users/6095394/pschill"}, "edited": false, "score": 0, "creation_date": 1517433339, "post_id": 48551397, "comment_id": 84099283, "body": "It returns a shared pointer to A"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517435019, "post_id": 48551397, "comment_id": 84100115, "body": "&quot;Google Mock requires expectations to be set before the mock functions are called, otherwise the behavior is undefined.&quot; <a href=\"https://github.com/google/googletest/blob/master/googlemock/docs/ForDummies.md\" rel=\"nofollow noreferrer\">github.com/google/googletest/blob/master/googlemock/docs/&hellip;</a>"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517435094, "post_id": 48551397, "comment_id": 84100152, "body": "&quot;This means EXPECT_CALL() should be read as expecting that a call will occur in the future, not that a call has occurred.&quot; from there as well."}, {"owner": {"reputation": 834, "user_id": 9295224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f257d8a2c3096d45044d0807a2f8e43?s=128&d=identicon&r=PG&f=1", "display_name": "bogdan tudose", "link": "https://stackoverflow.com/users/9295224/bogdan-tudose"}, "edited": false, "score": 0, "creation_date": 1517472187, "post_id": 48551397, "comment_id": 84111537, "body": "Can you please detail what do you mean by setting expectation before calling mock function?"}, {"owner": {"reputation": 671, "user_id": 7898100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef63bacd8554153c3ad9127ce502180d?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias Wollgam", "link": "https://stackoverflow.com/users/7898100/tobias-wollgam"}, "edited": false, "score": 0, "creation_date": 1517530625, "post_id": 48551397, "comment_id": 84144489, "body": "It is hard to believe that the given code would have a segmentation fault, because the if-block should never be entered. The dynamic cast should always deliver a null-ptr if <code>functionReturnPointerToA()</code> really returns an <code>A</code>, because <code>A</code> is not a <code>Wrapper</code>."}], "owner": {"reputation": 834, "user_id": 9295224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f257d8a2c3096d45044d0807a2f8e43?s=128&d=identicon&r=PG&f=1", "display_name": "bogdan tudose", "link": "https://stackoverflow.com/users/9295224/bogdan-tudose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517433261, "creation_date": 1517432674, "last_edit_date": 1517433261, "question_id": 48551397, "link": "https://stackoverflow.com/questions/48551397/mock-base-class-method-in-chain-template-inheritance", "title": "Mock base class method in chain template inheritance", "body": "<p>Suppose you have a template class like the one below which inherit from a wide range of other classes.</p>\n\n<pre><code>template&lt;typename T&gt; \nclass Generic : public T\n{\n    //implementation\n}\n</code></pre>\n\n<p>It's not allowed to modify class <code>Generic</code>. To overcome this I write a wrapper to this class which inherit a specific type of <code>Generic</code> class. Inside this class I mocked a virtual method from class <code>A</code></p>\n\n<pre><code>class Wrapper: public Generic&lt;A&gt;\n{\n    MOCK_METHOD2(methodFromA,void(int a,int b));\n}\n</code></pre>\n\n<p>Then I write a test which looks like this. The problem is that I get segmentation fault when <code>EXPECT_CALL</code> is invoked. Calling other methods from class <code>A</code> works as expected.</p>\n\n<pre><code>TEST(classA, TC0)\n{\n    std::shared_ptr&lt;Wrapper&gt; wrapper = std::dynamic_pointer_cast&lt;Wrapper&gt;(functionReturnPointerToA())\n    if(wrapper)\n    {\n        EXPECT_EQ(1,methodFromAwhichReturns1()); //it works\n        EXPECT_CALL(*wrapper,methodFromA(_,_); //segmentation fault\n    }\n}\n</code></pre>\n\n<p>I also tried template specialization but this doesn't seems to works either since MOCK_METHOD is an preprocessor directive</p>\n\n<pre><code>template &lt;&gt; inline Wrapper&lt;A&gt;::MOCK_METHOD2(methodFromA,void(int a,int b)); \n</code></pre>\n"}, {"tags": ["c++", "qt", "user-interface", "dialog", "modal-dialog"], "answers": [{"comments": [{"owner": {"reputation": 886, "user_id": 8170773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b971ec934427a008d8b263ad4142b9?s=128&d=identicon&r=PG&f=1", "display_name": "hedgar2017", "link": "https://stackoverflow.com/users/8170773/hedgar2017"}, "edited": false, "score": 0, "creation_date": 1517443299, "post_id": 48552747, "comment_id": 84103258, "body": "I have tried this, but my child dialog had been refusing to show unless I provided NULL as its parent. I fixed it with removing setWindowFlags(Qt::WindowCloseButtonHint) from the dialog&#39;s constructor."}], "tags": [], "owner": {"reputation": 8919, "user_id": 8873508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uDHi.png?s=128&g=1", "display_name": "p-a-o-l-o", "link": "https://stackoverflow.com/users/8873508/p-a-o-l-o"}, "is_accepted": true, "score": 3, "last_activity_date": 1517438997, "creation_date": 1517438997, "answer_id": 48552747, "question_id": 48551381, "link": "https://stackoverflow.com/questions/48551381/qdialog-window-modality/48552747#48552747", "title": "QDialog window modality", "body": "<p>In Qt there exist <a href=\"http://doc.qt.io/qt-5/qt.html#WindowModality-enum\" rel=\"nofollow noreferrer\">window-modality</a>.</p>\n\n<p>For example, showing a dialog this way, from inside a QWidget-derived class, will make the dialog window-modal to its parent:</p>\n\n<pre><code>  QDialog d(this);\n  //...\n  d.setWindowModality(Qt::WindowModal);\n  d.exec();\n</code></pre>\n\n<p>being <code>this</code> a <code>QWidget</code>, set as the <code>QDialog</code> parent.</p>\n"}], "owner": {"reputation": 886, "user_id": 8170773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61b971ec934427a008d8b263ad4142b9?s=128&d=identicon&r=PG&f=1", "display_name": "hedgar2017", "link": "https://stackoverflow.com/users/8170773/hedgar2017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1448, "favorite_count": 0, "accepted_answer_id": 48552747, "answer_count": 1, "score": 2, "last_activity_date": 1570001358, "creation_date": 1517432625, "question_id": 48551381, "link": "https://stackoverflow.com/questions/48551381/qdialog-window-modality", "title": "QDialog window modality", "body": "<p>Is there a way of opening a QDialog window-modal with exec()?\nopen() returns immediately, and exec() shows the dialog application-modal instead of window-modal.\nHow to take the best of both methods?</p>\n"}, {"tags": ["c++", "c++14", "immutability"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1517432572, "post_id": 48551344, "comment_id": 84098867, "body": "Hint 1. It isn&#39;t an assignment operator. Hint 2. Look into <code>explicit</code>."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1517432615, "post_id": 48551344, "comment_id": 84098891, "body": "the <code>explicit</code> on your first constructor disallows this."}], "answers": [{"comments": [{"owner": {"reputation": 4988, "user_id": 1208289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/97c181541960937621a547a4287d0362?s=128&d=identicon&r=PG", "display_name": "Brannon", "link": "https://stackoverflow.com/users/1208289/brannon"}, "edited": false, "score": 0, "creation_date": 1517434385, "post_id": 48551379, "comment_id": 84099787, "body": "So when do I need to use <code>explicit</code>?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 4988, "user_id": 1208289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/97c181541960937621a547a4287d0362?s=128&d=identicon&r=PG", "display_name": "Brannon", "link": "https://stackoverflow.com/users/1208289/brannon"}, "edited": false, "score": 0, "creation_date": 1517434499, "post_id": 48551379, "comment_id": 84099845, "body": "@Brannon when you don&#39;t want this form of initialization to work."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 4, "last_activity_date": 1517432618, "creation_date": 1517432618, "answer_id": 48551379, "question_id": 48551344, "link": "https://stackoverflow.com/questions/48551344/make-assignment-operator-work-on-declaration/48551379#48551379", "title": "make assignment operator work on declaration", "body": "<p>In a definition of the form</p>\n\n<pre><code>Angle e = 27.0;\n</code></pre>\n\n<p>there is only initialization, no assignment. This will attempt to call a constructor of <code>Angle</code> that will accept the <code>double</code> argument. However, since you've marked the <code>Angle(double)</code> constructor <code>explicit</code>, you cannot perform this conversion with this syntax.</p>\n\n<p>If you want this to work, remove the <code>explicit</code> keyword.</p>\n"}], "owner": {"reputation": 4988, "user_id": 1208289, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/97c181541960937621a547a4287d0362?s=128&d=identicon&r=PG", "display_name": "Brannon", "link": "https://stackoverflow.com/users/1208289/brannon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 48551379, "answer_count": 1, "score": 1, "last_activity_date": 1517432618, "creation_date": 1517432482, "question_id": 48551344, "link": "https://stackoverflow.com/questions/48551344/make-assignment-operator-work-on-declaration", "title": "make assignment operator work on declaration", "body": "<p>I was trying to make an immutable Angle class (shown below). <code>Angle z = 42;</code> doesn't work. How do I make it work? Sample:</p>\n\n<pre><code>  Angle a(1); // works\n  Angle b; b = 2; // works\n  Angle c {25}; // works\n  Angle d {26.0}; // works\n  Angle e = 27.0; // doesn't compile -- why not?\n  auto f = Angle(28.0); // works\n</code></pre>\n\n<p>Source:</p>\n\n<pre><code>  class Angle {\n      double _angle;\n\n    public:\n      explicit Angle(double value) noexcept : _angle(wrap0To2Pi(value)) {}\n      Angle() = default;\n      Angle(const Angle&amp; angle) noexcept : _angle(angle._angle) {}\n      Angle(const Angle&amp;&amp; angle) noexcept : _angle(angle._angle) {}\n\n      operator double() const { return _angle; }\n\n      Angle&amp; operator=(const Angle&amp; f) noexcept { _angle = f._angle; return *this; }\n      Angle&amp; operator=(double t) { _angle = wrap0To2Pi(t); return *this; }\n\n      Angle operator+(Angle value) const { return Angle(_angle + value._angle); }\n      Angle operator-(Angle value) const { return Angle(_angle - value._angle); }\n      Angle operator*(Angle value) const { return Angle(_angle * value._angle); }\n\n      constexpr static double DEFAULT_ANGLE_TOLERANCE = 0.0001;\n      bool equals(Angle value, double tolerance = DEFAULT_ANGLE_TOLERANCE) const; // needs to wrap\n\n      bool operator==(Angle value) const { return equals(value); }\n      bool operator!=(Angle value) const { return !equals(value); }\n      ...\n</code></pre>\n\n<p>Anything else I should change here? Thanks for your time.</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517439049, "post_id": 48551322, "comment_id": 84101911, "body": "if you want us to help you, you must provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, also for this type of cases it is advisable to show images that illustrate the problem."}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1517685397, "post_id": 48551322, "comment_id": 84198684, "body": "@Jacek Duraj possible duplicate of <a href=\"https://stackoverflow.com/questions/11000083/cant-resize-widgets-in-qvboxlayout\" title=\"cant resize widgets in qvboxlayout\">stackoverflow.com/questions/11000083/&hellip;</a>"}], "owner": {"reputation": 85, "user_id": 8568467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418ea5a55001c1849162d3984829df90?s=128&d=identicon&r=PG&f=1", "display_name": "Jacek Duraj", "link": "https://stackoverflow.com/users/8568467/jacek-duraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517524990, "creation_date": 1517432365, "last_edit_date": 1517524990, "question_id": 48551322, "link": "https://stackoverflow.com/questions/48551322/how-to-change-layout-size-in-main-window", "title": "How to change layout size in main window?", "body": "<p>I've created a <code>QVBoxLayout</code> in mainwindow and put the video player widget into it. But when I try to change the size of the window, the layout's size does not want to change. How to change it?</p>\n\n<pre><code>player = new QMediaPlayer(this);\nvw = new VideoWidget(this);\nplayer-&gt;setVideoOutput(vw);\nui-&gt;playerLayout-&gt;addWidget(vw);\n</code></pre>\n"}, {"tags": ["c++", "segmentation-fault"], "comments": [{"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 4, "creation_date": 1517432196, "post_id": 48551162, "comment_id": 84098666, "body": "It might be guaranteed with a specific compiler on a specific platform, but C++ itself doesn&#39;t guarantee anything."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 0, "creation_date": 1517432966, "post_id": 48551162, "comment_id": 84099068, "body": "reading from null is likely to do it <code>std::cout &lt;&lt; *(int*)nullptr;</code> but its not a guarantee"}, {"owner": {"reputation": 3699, "user_id": 375399, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2ee1c857b767375e1fc848279f64584b?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/375399/nick"}, "edited": false, "score": 0, "creation_date": 1517433122, "post_id": 48551162, "comment_id": 84099163, "body": "Segfaults are guaranteed to happen when you try to access memory that process does not have access to. At least, I hope they are..."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 3, "creation_date": 1517433321, "post_id": 48551162, "comment_id": 84099274, "body": "C++ does not have a concept of &quot;segmentation fault&quot;. So C++ itself cannot possibly guarantee it. It is a platform-specific/implementation-specific detail."}, {"owner": {"reputation": 14053, "user_id": 2189130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trlri.png?s=128&g=1", "display_name": "kmdreko", "link": "https://stackoverflow.com/users/2189130/kmdreko"}, "edited": false, "score": 3, "creation_date": 1517433448, "post_id": 48551162, "comment_id": 84099336, "body": "you can call <code>std::raise(SIGSEGV)</code> to raise an invalid memory access <a href=\"http://en.cppreference.com/w/cpp/header/csignal\" rel=\"nofollow noreferrer\">signal</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5781, "user_id": 470535, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed4289282ca2bd2a6478c596c5cbd78c?s=128&d=identicon&r=PG", "display_name": "Peter C", "link": "https://stackoverflow.com/users/470535/peter-c"}, "is_accepted": true, "score": 6, "last_activity_date": 1517446199, "last_edit_date": 1517446199, "creation_date": 1517434656, "answer_id": 48551861, "question_id": 48551162, "link": "https://stackoverflow.com/questions/48551162/when-is-a-segmentation-fault-guaranteed/48551861#48551861", "title": "When is a segmentation fault guaranteed?", "body": "<p>Segfaults occur in an operating system with memory protection when you attempt to read or write memory that you do not have permission to access \u2014 special values like <code>nullptr</code>, memory reserved for the OS, or memory of another process.</p>\n\n<p>Because segfaults are raised by the OS, they are an inherently platform-specific concept. Something that causes a segfault on Windows will not necessarily cause a segfault on e.g. AmigaOS. The C++ standard, being platform-agnostic, doesn't even mention segfaults.</p>\n\n<p>On modern OSes with memory protection, you can always be assured a segfault when you access memory that you don't own. Dereferencing <code>nullptr</code> will cause it for sure. Accessing a random address is probably not within your process's address space, so that will likely cause a segfault (hence why accessing uninitialized pointers or dangling pointers often causes a segfault). On AmigaOS or classic Mac OS, which lack memory protection, you won't get a segfault from accessing random pointers. Instead, you could overwrite the memory of the OS or another process (which would likely be disastrous).</p>\n\n<p>Basically, a segfault is an OS concept, not a C++ concept, so what you can do to cause one in C++ depends on what you're running on.</p>\n"}], "owner": {"reputation": 1113, "user_id": 4289914, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/4de669c2747d8e32bc663fa98f3925ae?s=128&d=identicon&r=PG&f=1", "display_name": "Blubber", "link": "https://stackoverflow.com/users/4289914/blubber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 567, "favorite_count": 0, "accepted_answer_id": 48551861, "answer_count": 1, "score": 2, "last_activity_date": 1517446199, "creation_date": 1517431719, "last_edit_date": 1517432700, "question_id": 48551162, "link": "https://stackoverflow.com/questions/48551162/when-is-a-segmentation-fault-guaranteed", "title": "When is a segmentation fault guaranteed?", "body": "<p>I'm learning c++ and I've learned that segfaults can happen because of undefined behaviour.  Are there ever cases though, where segfaults are guaranteed to happen?  Or is it always undefined behaviour?</p>\n"}, {"tags": ["c++", "inheritance", "optimization", "virtual-functions"], "comments": [{"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1517430987, "post_id": 48550968, "comment_id": 84098076, "body": "I think you need to check out <a href=\"https://stackoverflow.com/questions/4173254/what-is-the-curiously-recurring-template-pattern-crtp\">CRTP</a>."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 6, "creation_date": 1517431015, "post_id": 48550968, "comment_id": 84098092, "body": "&quot;I am trying to optimize the run time of my code and I was told that removing unnecessary virtual functions was the way to go.&quot; Suspect advice, if you ask me."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 1, "creation_date": 1517431150, "post_id": 48550968, "comment_id": 84098164, "body": "Have you profiled your code? Are you sure that virtual functions are the bottleneck indeed?"}, {"owner": {"reputation": 163, "user_id": 9211144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/136ef82ab6552777d179174c617e64dc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryoku", "link": "https://stackoverflow.com/users/9211144/ryoku"}, "reply_to_user": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1517431278, "post_id": 48550968, "comment_id": 84098224, "body": "@MarkRansom I heard that using templates would cause extreme bloat, is that true? From my understanding, every time I would instantiate a class using the template it would duplicate the class code. In my mind this means that the i-cache would suffer, but I may be thinking about this wrong"}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1517431294, "post_id": 48550968, "comment_id": 84098234, "body": "Don&#39;t worry about the memory required for an extra <code>int</code>, it&#39;s the same or less than would be taken by a vptr if you had a virtual function."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1517431313, "post_id": 48550968, "comment_id": 84098239, "body": "vtable calls are not that much more expensive than static calls. Real performance gains are seen through aggressive inlining which does preclude virtual calls, but it doesn&#39;t mean a static call will necessarily be much faster or inlined: <a href=\"https://eli.thegreenplace.net/2013/12/05/the-cost-of-dynamic-virtual-calls-vs-static-crtp-dispatch-in-c\" rel=\"nofollow noreferrer\">eli.thegreenplace.net/2013/12/05/&hellip;</a>"}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1517431366, "post_id": 48550968, "comment_id": 84098280, "body": "Templates <i>can</i> lead to bloat, if your compiler is poor and can&#39;t optimize properly. Ideally only one copy of each member function for each template type will be generated."}, {"owner": {"reputation": 163, "user_id": 9211144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/136ef82ab6552777d179174c617e64dc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryoku", "link": "https://stackoverflow.com/users/9211144/ryoku"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517431368, "post_id": 48550968, "comment_id": 84098282, "body": "@HolyBlackCat I am trying to develop a game and I was told it was a common downfall to rely on virtual functions due to the potential cache misses that might occur when performing operations over large vectors of entities"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 5, "creation_date": 1517431401, "post_id": 48550968, "comment_id": 84098294, "body": "&quot;I am trying to optimize the run time of my code and I was told that removing unnecessary virtual functions was the way to go.&quot; you got a wrong advice. Way to go is to revisit your algorithms and data structures first, then profile and find bottlenecks. Then you would know how to improve."}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 3, "creation_date": 1517431571, "post_id": 48550968, "comment_id": 84098361, "body": "@Ryoku \u2022 if you are getting rid of virtual functions, and using dynamic casting, and groveling for types, and maybe using switch/case blocks you&#39;re going down the wrong path.  <i>&quot;I would still like to use inheritance to avoid unnecessary code bloat&quot;</i> ... is also not what inheritance is for; inheritance is for code reuse <b>by the consumer</b> of the polymorphic object.  The answer here is PROFILE PROFILE PROFILE, rather than try to do premature optimization."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 4, "creation_date": 1517431600, "post_id": 48550968, "comment_id": 84098374, "body": "You would get same cache issues with manual dispatching. and your implementation would certainly be worst than virtual (performance and readability)..."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1517432053, "post_id": 48550968, "comment_id": 84098603, "body": "What you end up with - poor manual implementation of virtual functions, which will work even worse (if vitual functions would work bad, which is questionable)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517433051, "post_id": 48551251, "comment_id": 84099118, "body": "There are <i>real life</i> use cases, where you don&#39;t want to <i>&quot;go ahead&quot;</i> with <code>virtual</code> functions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517433720, "post_id": 48551251, "comment_id": 84099461, "body": "I already did so, even before writing that comment. Any doubts about the usefulness of <i>Static Polymorphism</i>? It has it&#39;s use cases, and there&#39;s a probability your TV broadcast provider runs some nifty 24/7 up code, based on that design (where I used it)."}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1517433952, "post_id": 48551251, "comment_id": 84099568, "body": "@TheDude sorry I figured that out shortly after my comment. And it&#39;s nothing I didn&#39;t know, see my comment on the question. My problem is that there isn&#39;t good guidance on when CRTP is appropriate and when it isn&#39;t."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517434349, "post_id": 48551251, "comment_id": 84099768, "body": "<i>&quot;My problem is that there isn&#39;t good guidance on when CRTP is appropriat&quot;</i> I mostly used the CRTP, when there&#39;s need to have configurable adaptions for specifically targeted hardware, and there&#39;s no need to provide any <i>runtime flexibility</i> provided for <i>plugins</i> or such, or providing a framework library, which should be prepared for any runtime circumstances. If you have a hardware, that is fixed in capabilities, you just need to configure and adapt your firmware, no need for runtime extensibility."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517435429, "post_id": 48551251, "comment_id": 84100311, "body": "I tried to point out more about that in my answer, kindly have a look at it."}], "tags": [], "owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 0, "last_activity_date": 1517503041, "last_edit_date": 1517503041, "creation_date": 1517432109, "answer_id": 48551251, "question_id": 48550968, "link": "https://stackoverflow.com/questions/48550968/polymorphism-without-virtual-functions/48551251#48551251", "title": "Polymorphism Without Virtual Functions", "body": "<p>Go ahead and use virtual functions, but make sure each of those functions is doing enough work that the overhead of an indirect call is insignificant. That shouldn't be very hard to do, a virtual call is pretty fast - it wouldn't be part of C++ if it wasn't.</p>\n\n<p>Doing your own pointer casting is likely to be even slower, unless you can use that pointer a significant number of times.</p>\n\n<p>To make this a little more concrete, here's some code:</p>\n\n<pre><code>class A {\npublic:\n    int type;\n    int buffer[1000000];\n    A() : type(0) {}\n    virtual void VirtualIncrease(int n) { buffer[n] += 1; }\n    void NonVirtualIncrease(int n) { buffer[n] += 1; }\n    virtual void IncreaseAll() { for i=0; i&lt;1000000; ++i) buffer[i] += 1; }\n};\n\nclass B : public A {\npublic:\n    B() : {type = 1}\n    virtual void VirtualIncrease(int n) { buffer[n] += 2; }\n    void NonVirtualIncrease(int n) { buffer[n] += 2; }\n    virtual void IncreaseAll() { for i=0; i&lt;1000000; ++i) buffer[i] += 2; }\n};\n\nint main() {\n    A *a = new B();\n\n    // easy way with virtual\n    for (int i = 0; i &lt; 1000000; ++i)\n        a-&gt;VirtualIncrease(i);\n\n    // hard way with switch\n    for (int i = 0; i &lt; 1000000; ++i) {\n        switch(a-&gt;type) {\n            case 0:\n                a-&gt;NonVirtualIncrease(i);\n                break;\n            case 1:\n                static_cast&lt;B*&gt;(a)-&gt;NonVirtualIncrease(i);\n                break;\n        }\n    }\n\n    // fast way\n    a-&gt;IncreaseAll();\n\n    getchar();\n    return 0;\n}\n</code></pre>\n\n<p>The code that switches using a type code is not only much harder to read, it's probably slower as well. Doing more work inside a virtual function ends up being both cleanest and fastest.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "is_accepted": true, "score": 2, "last_activity_date": 1517444160, "last_edit_date": 1592644375, "creation_date": 1517432254, "answer_id": 48551288, "question_id": 48550968, "link": "https://stackoverflow.com/questions/48550968/polymorphism-without-virtual-functions/48551288#48551288", "title": "Polymorphism Without Virtual Functions", "body": "<blockquote>\n<p>Question 1: Is there a better way to store type so that I do not need to waste memory for each instance of the object created (like the static keyword would allow)?</p>\n</blockquote>\n<p>There's the <code>typeid()</code> already enabled with RTTI, there's no need you implement that yourself in an error prone and unreliable way.</p>\n<blockquote>\n<p>Question 2: Would it be more effective to put the switch statement in the function to decide that it should do based on the type value, or switch statement -&gt; downcast then use a derived class specific function.</p>\n</blockquote>\n<p>Certainly no! That's a heavy indicator of <strong>bad</strong> (sic!) class inheritance hierarchy design.</p>\n<blockquote>\n<p>Question 3: Is there a better way to handle this that I am entirely overlooking that does not use virtual functions? For Example, should I just create an entirely new class that has many of the same variables</p>\n</blockquote>\n<p>The typical way to realize polymorphism without usage of <code>virtual</code> functions is the <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">CRTP</a> (aka <em>Static Polymorphism</em>).<br />\nThat's a widely used technique to avoid the overhead of <a href=\"https://stackoverflow.com/questions/99297/how-are-virtual-functions-and-vtable-implemented\"><em>virtual function tables</em></a> when you don't really need them, and just want to adapt your specific needs (e.g. with small targets, where low memory overhead is crucial).</p>\n<p>Given your example<sup>1</sup>, that would be something like this:</p>\n<pre><code>template&lt;class Derived&gt;\nclass A {\nprotected:\n    int InternalGetType() { return 0; }\npublic:\n    int GetType() { static_cast&lt;Derived*&gt;(this)-&gt;InternalGetType(); }\n};\n\nclass B : public A&lt;B&gt; {\n    friend class A&lt;B&gt;;\nprotected:\n    int InternalGetType() { return 1; }\n};\n</code></pre>\n<p>All binding will be done at compile time, and there's zero runtime overhead.<br />\nAlso binding is <em>safely</em> guaranteed using the <code>static_cast</code>, that will throw compiler errors, if <code>B</code> doesn't actually inherits <code>A&lt;B&gt;</code>.</p>\n<hr />\n<h3>Note (almost disclaimer):</h3>\n<p>Don't use that pattern as a <em>golden hammer</em>! It has it's drawbacks also:</p>\n<ul>\n<li><p>It's harder to provide <em>abstract</em> interfaces, and without prior <em>type trait</em> checks or <em>concepts</em>, you'll confuse your clients with hard to read compiler error messages at template instantiantion.</p>\n</li>\n<li><p>That's not applicable for <em>plugin</em> like architecture models, where you really want to have <em>late binding</em>, and modules loaded at runtime.</p>\n</li>\n<li><p>If you don't have really heavy restrictions regarding executable's code size and performance, it's not worth doing the extra work necessary. For most systems you can simply neglect the dispatch overhead done with <code>virtual</code> function defintions.</p>\n</li>\n</ul>\n<hr />\n<p><sup>1)</sup><sub>The semantics of <code>GetType()</code> isn't necessarily the best one, but well ...</sub></p>\n"}], "owner": {"reputation": 163, "user_id": 9211144, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/136ef82ab6552777d179174c617e64dc?s=128&d=identicon&r=PG&f=1", "display_name": "Ryoku", "link": "https://stackoverflow.com/users/9211144/ryoku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 0, "accepted_answer_id": 48551288, "answer_count": 2, "score": -1, "last_activity_date": 1517503041, "creation_date": 1517430748, "last_edit_date": 1517442680, "question_id": 48550968, "link": "https://stackoverflow.com/questions/48550968/polymorphism-without-virtual-functions", "title": "Polymorphism Without Virtual Functions", "body": "<p>I am trying to optimize the run time of my code and I was told that removing unnecessary virtual functions was the way to go. With that in mind I would still like to use inheritance to avoid unnecessary code bloat. I thought that if I simply redefined the functions I wanted and initialized different variable values I could get by with just downcasting to my derived class whenever I needed derived class specific behavior.</p>\n\n<p>So I need a variable that identifies the type of class that I am dealing with so I can use a switch statement to downcast properly. I am using the following code to test this approach:</p>\n\n<p>Classes.h</p>\n\n<pre><code>#pragma once\n\nclass A {\npublic:\n    int type;\n    static const int GetType() { return 0; }\n    A() : type(0) {}\n};\n\nclass B : public A {\npublic:\n    int type;\n    static const int GetType() { return 1; }\n    B() : {type = 1}\n};\n</code></pre>\n\n<p>Main.cpp</p>\n\n<pre><code>#include \"Classes.h\"\n#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\nusing std::getchar;\n\nint main() {\n    A *a = new B();\n    cout &lt;&lt; a-&gt;GetType() &lt;&lt; endl;\n    cout &lt;&lt; a-&gt;type;\n    getchar();\n    return 0;\n}\n</code></pre>\n\n<p>I get the output expected: 0 1</p>\n\n<p>Question 1: Is there a better way to store type so that I do not need to waste memory for each instance of the object created (like the static keyword would allow)?</p>\n\n<p>Question 2: Would it be more effective to put the switch statement in the function to decide that it should do based on the type value, or switch statement -> downcast then use a derived class specific function.</p>\n\n<p>Question 3: Is there a better way to handle this that I am entirely overlooking that does not use virtual functions? For Example, should I just create an entirely new class that has many of the same variables</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 979, "user_id": 5705476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0cd079d6824c714d9bc1a5ef840ac99?s=128&d=identicon&r=PG&f=1", "display_name": "Sujil Maharjan", "link": "https://stackoverflow.com/users/5705476/sujil-maharjan"}, "edited": false, "score": 0, "creation_date": 1517430780, "post_id": 48550944, "comment_id": 84097981, "body": "what is the data type of response?"}, {"owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "edited": false, "score": 0, "creation_date": 1517431113, "post_id": 48550944, "comment_id": 84098142, "body": "Assuming this properly compiled (because <code>response</code> is a <code>char</code>), the problem lies with <code>playOneGame()</code>. Make sure that you completely reset the game state so that <code>playOneGame()</code> doesn&#39;t still think the game is over."}], "answers": [{"comments": [{"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1517431216, "post_id": 48551046, "comment_id": 84098194, "body": "Should make it clear that this is only true if <code>response</code> is of type <code>char</code>."}, {"owner": {"reputation": 11, "user_id": 8419612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660758757268778/picture?type=large", "display_name": "Jonas Manno", "link": "https://stackoverflow.com/users/8419612/jonas-manno"}, "edited": false, "score": 0, "creation_date": 1517433559, "post_id": 48551046, "comment_id": 84099388, "body": "Sorry, yes in the beginning of my code it is char response;"}, {"owner": {"reputation": 11, "user_id": 8419612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660758757268778/picture?type=large", "display_name": "Jonas Manno", "link": "https://stackoverflow.com/users/8419612/jonas-manno"}, "edited": false, "score": 0, "creation_date": 1517433596, "post_id": 48551046, "comment_id": 84099404, "body": "But why does &quot;yy&quot; get the char &#39;y&#39; response? Wouldn&#39;t &quot;yy&quot; be a string and not a char?"}, {"owner": {"reputation": 1510, "user_id": 2577784, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0UtjR.png?s=128&g=1", "display_name": "djs", "link": "https://stackoverflow.com/users/2577784/djs"}, "edited": false, "score": 0, "creation_date": 1517439772, "post_id": 48551046, "comment_id": 84102201, "body": "The type into which you&#39;re reading the input is a <code>char</code>, not a <code>string</code>."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1517446466, "post_id": 48551046, "comment_id": 84103954, "body": "Length check is indeed unnecessary because <code>response[response.length()]==&#39;\\0&#39;</code>, so for empty strings <code>response[0]==&#39;\\0&#39;</code>"}], "tags": [], "owner": {"reputation": 1510, "user_id": 2577784, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/0UtjR.png?s=128&g=1", "display_name": "djs", "link": "https://stackoverflow.com/users/2577784/djs"}, "is_accepted": false, "score": 2, "last_activity_date": 1517439866, "last_edit_date": 1517439866, "creation_date": 1517431116, "answer_id": 48551046, "question_id": 48550944, "link": "https://stackoverflow.com/questions/48550944/if-you-enter-the-desired-input-twice-it-outputs-twice/48551046#48551046", "title": "If you enter the desired input twice, it outputs twice?", "body": "<p>Since you are comparing it to a <code>char</code> (<code>result == 'y'</code>), I'm assuming <code>result</code> is also a <code>char</code>.</p>\n\n<p>The <code>cin</code> operation is going just read one char, and leave the second one on the input buffer. Then, the next time through the loop, it reads the second 'y' without any additional user input required.</p>\n\n<p>If you want to be sure there is nothing left in the buffer, read until you get a line terminator. Or you can read into a <code>string</code>:</p>\n\n<pre><code>string response = \"y\";\n// continues on anything that starts with lowercase 'y'.\n// exits on anything else.\nwhile (response.length() &gt;= 1 &amp;&amp; response[0] == 'y') // length check maybe unnecessary?\n{\n    playOneGame();\n    cout &lt;&lt; \"Great! Do you want to play again (y/n)? \";\n    cin &gt;&gt; response;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 8419612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660758757268778/picture?type=large", "display_name": "Jonas Manno", "link": "https://stackoverflow.com/users/8419612/jonas-manno"}, "edited": false, "score": 0, "creation_date": 1517444833, "post_id": 48553003, "comment_id": 84103574, "body": "Thank you, I understand now when you explain cin reads all chars."}], "tags": [], "owner": {"reputation": 80, "user_id": 2011464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b118503f2478e924ae3d571eb97979?s=128&d=identicon&r=PG", "display_name": "O Dundar", "link": "https://stackoverflow.com/users/2011464/o-dundar"}, "is_accepted": false, "score": 0, "last_activity_date": 1517440534, "creation_date": 1517440534, "answer_id": 48553003, "question_id": 48550944, "link": "https://stackoverflow.com/questions/48550944/if-you-enter-the-desired-input-twice-it-outputs-twice/48553003#48553003", "title": "If you enter the desired input twice, it outputs twice?", "body": "<p>It is not clear the type of <code>response</code>, but I assume it is <code>char</code>.</p>\n\n<pre><code>char response;\n\nwhile(response=='y'){\n    playOneGame();\n    cout &lt;&lt; \"Great! Do you want to play again (y/n)? \";\n    cin &gt;&gt; response;\n}\n</code></pre>\n\n<p><code>cin</code> reads all the chars until you stop sending chars to it. Simply, <code>cin</code> gets whole terminal line so when you press 'yy', while loop runs twice.</p>\n\n<p>If loop runs twice and prints the message two times:\n1. It doesn't start game again.\n2. Even, it starts the game, when it is over, for the second y, it does starts game again without asking.</p>\n\n<p>Modify your code to read one char and continue. You can use <a href=\"https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/getche-getwche\" rel=\"nofollow noreferrer\">getche()</a> to get one char and continue.</p>\n"}, {"tags": [], "owner": {"reputation": 8220, "user_id": 3305546, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/G2mbe.png?s=128&g=1", "display_name": "Yves", "link": "https://stackoverflow.com/users/3305546/yves"}, "is_accepted": false, "score": 0, "last_activity_date": 1517453451, "last_edit_date": 1517453451, "creation_date": 1517446965, "answer_id": 48553850, "question_id": 48550944, "link": "https://stackoverflow.com/questions/48550944/if-you-enter-the-desired-input-twice-it-outputs-twice/48553850#48553850", "title": "If you enter the desired input twice, it outputs twice?", "body": "<p>This is exactly what you need. Apply the code below to your real case.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;limits&gt;\nusing namespace std;\nint main()\n{\n        char response = 0;\n        while(cin &gt;&gt; response){\n                cin.clear();\n                cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\\n');\n                cout &lt;&lt; \"You enterd: \" &lt;&lt; response &lt;&lt; endl;\n        }\n        return 0;\n}\n</code></pre>\n\n<p>Here is the explanation:<br>\n<a href=\"https://stackoverflow.com/questions/5131647/why-would-we-call-cin-clear-and-cin-ignore-after-reading-input\">Why would we call cin.clear() and cin.ignore() after reading input?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8419612, "user_type": "registered", "profile_image": "https://graph.facebook.com/1660758757268778/picture?type=large", "display_name": "Jonas Manno", "link": "https://stackoverflow.com/users/8419612/jonas-manno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1517453451, "creation_date": 1517430676, "question_id": 48550944, "link": "https://stackoverflow.com/questions/48550944/if-you-enter-the-desired-input-twice-it-outputs-twice", "title": "If you enter the desired input twice, it outputs twice?", "body": "<p>Heres my example: </p>\n\n<pre><code>while (response == 'y')\n{\n    playOneGame();\n    cout &lt;&lt; \"Great! Do you want to play again (y/n)? \";\n    cin &gt;&gt; response;\n}\n</code></pre>\n\n<p>And if you type in: yy</p>\n\n<p>It prints the output twice:</p>\n\n<p>\"Great! Do you want to play again (y/n)? Great! Do you want to play again (y/n)? \"</p>\n\n<p>I would just like to understand why. This program is written in C++ if that matters. Thanks. </p>\n"}, {"tags": ["c++", "templates"], "answers": [{"comments": [{"owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1517432083, "post_id": 48550982, "comment_id": 84098615, "body": "<code>static_assert(std::true_type::value, &quot;&quot;)</code> should also work. I remember somewhere that compiler should not check semantics when parsing template declaration, thus it works. But I can&#39;t recall where exactly in the standard..."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1517432279, "post_id": 48550982, "comment_id": 84098705, "body": "@liliscent Yes that is valid, but why would you have that? The rules are more complicated than that and so I have no idea which &quot;semantics&quot; you are talking about :)"}], "tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": false, "score": 3, "last_activity_date": 1517430809, "creation_date": 1517430809, "answer_id": 48550982, "question_id": 48550889, "link": "https://stackoverflow.com/questions/48550889/partial-template-specification-of-template-member-function-to-disable-instantiat/48550982#48550982", "title": "Partial template specification of template member function to disable instantiation of class with template parameter", "body": "<p>Your version fails because <code>static_assert(false)</code> is always false and the compiler can diagnose it early on. The common trick here is to make the condition depend on a template parameter and to trick the compiler into thinking it can't evaluate the condition, but in your case, you can do this easier:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass X\n{\n    static_assert(sizeof(T) == 1, \"illegal type\");\n};\n</code></pre>\n\n<p>Now as you can see, the condition clearly depends on <code>T</code> and so the compiler will only diagnose the <code>static_assert</code> when instantiating <code>X</code> with a specific <code>T</code>, which is exactly what you want.</p>\n"}, {"comments": [{"owner": {"reputation": 1039, "user_id": 53861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/19207cf7aad82452e6031f4006c38f8b?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/53861/boris"}, "edited": false, "score": 0, "creation_date": 1517431695, "post_id": 48551131, "comment_id": 84098426, "body": "Can you elaborate on why this kind of specialization is not possible?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 1039, "user_id": 53861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/19207cf7aad82452e6031f4006c38f8b?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/53861/boris"}, "edited": false, "score": 0, "creation_date": 1517431722, "post_id": 48551131, "comment_id": 84098438, "body": "@Boris that is just a rule in the standard, I would have to think carefully about why that rule exists. Maybe if you post another question then someone will answer."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 1, "last_activity_date": 1517431513, "creation_date": 1517431513, "answer_id": 48551131, "question_id": 48550889, "link": "https://stackoverflow.com/questions/48550889/partial-template-specification-of-template-member-function-to-disable-instantiat/48551131#48551131", "title": "Partial template specification of template member function to disable instantiation of class with template parameter", "body": "<p>Your code has a few issues.</p>\n\n<ol>\n<li><p>A template for which no valid specialization can be generated makes the program ill-formed, even if the template is never instantiated ([temp.res]/8.1). This implies that <code>static_assert(false, \"illegal type\")</code> can never be part of a well-formed program; you must make the condition dependent on a template parameter.</p></li>\n<li><p>It is not possible to declare an explicit (full) specialization for a member of an unspecialized class template ([temp.expl.spec]/16), which is what you're trying to do with <code>X&lt;T&gt;::foo</code>.</p></li>\n<li><p>Even if not for the above, if you changed the <code>static_assert</code> condition to <code>S == 1</code>, it couldn't prevent the enclosing class template from being instantiated because (a) instantiating a class template doesn't automatically instantiate the definitions of its member functions, and (b) providing default arguments for all template parameters doesn't automatically cause the template to be instantiated with those default arguments. The instantiation would only occur if you called <code>x.foo()</code> or did something else requiring the definition to exist.</p></li>\n</ol>\n\n<p>Instead of this song and dance, it's better to put the <code>static_assert</code> directly in the class:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass X {\n    static_assert(sizeof(T) == 1, \"illegal type\");\n    // ...\n};\n</code></pre>\n\n<p>It's legal to put <code>static_assert</code> there because <code>static_assert</code> is a declaration, not an expression.</p>\n"}], "owner": {"reputation": 1039, "user_id": 53861, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/19207cf7aad82452e6031f4006c38f8b?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/53861/boris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 48551131, "answer_count": 2, "score": 0, "last_activity_date": 1517431513, "creation_date": 1517430424, "last_edit_date": 1517431318, "question_id": 48550889, "link": "https://stackoverflow.com/questions/48550889/partial-template-specification-of-template-member-function-to-disable-instantiat", "title": "Partial template specification of template member function to disable instantiation of class with template parameter", "body": "<p>The idea behind the following code is to enable the class only for types with certain sizes, like 1 in the following example:</p>\n\n<pre><code>#include &lt;assert.h&gt;\n\ntemplate&lt;typename T&gt;\nclass X\n{\n  private:\n\n  template&lt;int S=sizeof(T)&gt;\n  inline void foo(void) {static_assert(false,\"illegal type\");}\n\n};\n\ntemplate&lt;typename T&gt; template&lt;int S&gt;\ninline void X&lt;T&gt;::foo&lt;1&gt;(void){};\n\nint main()\n{\n\n  X&lt;char&gt; x;\n  return 0;\n}\n</code></pre>\n\n<p>However this doesn't compile in gcc, which fails with the following error message:</p>\n\n<pre><code>q.cpp: In member function \u2018void X&lt;T&gt;::foo()\u2019:\nq.cpp:9:26: error: static assertion failed: illegal type\n   inline void foo(void) {static_assert(false,\"illegal type\");}\n                          ^~~~~~~~~~~~~\nq.cpp: At global scope:\nq.cpp:14:30: error: non-class, non-variable partial specialization \u2018foo&lt;1&gt;\u2019 is not allowed\n inline void X&lt;T&gt;::foo&lt;1&gt;(void){};\n                              ^\nq.cpp:14:13: error: redefinition of \u2018void X&lt;T&gt;::foo()\u2019\n inline void X&lt;T&gt;::foo&lt;1&gt;(void){};\n             ^~~~\nq.cpp:9:15: note: \u2018void X&lt;T&gt;::foo()\u2019 previously declared here\n   inline void foo(void) {static_assert(false,\"illegal type\");}\n</code></pre>\n\n<p>What would be the right syntax to define foo to achieve the desired results?</p>\n"}, {"tags": ["java", "c++", "c", "operating-system"], "comments": [{"owner": {"reputation": 496326, "user_id": 57695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/53ee9941b3fefef67175daf212e62d41?s=128&d=identicon&r=PG", "display_name": "Peter Lawrey", "link": "https://stackoverflow.com/users/57695/peter-lawrey"}, "edited": false, "score": 0, "creation_date": 1517430615, "post_id": 48550861, "comment_id": 84097896, "body": "File Descriptor 1 is created for the process before it starts, and anything written to that is written to the standard output."}, {"owner": {"reputation": 18530, "user_id": 3344003, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/988af95d5692ee66b1fc2fe725ba738e?s=128&d=identicon&r=PG&f=1", "display_name": "user3344003", "link": "https://stackoverflow.com/users/3344003/user3344003"}, "edited": false, "score": 0, "creation_date": 1517448351, "post_id": 48550861, "comment_id": 84104377, "body": "The answer is highly system specific. These days most people are used to Windoze and Eunuch-style brain damaged I/O that is highly limited."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1517605570, "post_id": 48551258, "comment_id": 84178911, "body": "Thanks for your explanation. First I could not understand all this. But after looking at various blogs, now I understood what you meant. It was high level explanation for me but to the point."}], "tags": [], "owner": {"reputation": 4313, "user_id": 2706707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BoAxS.gif?s=128&g=1", "display_name": "D&#250;thomhas", "link": "https://stackoverflow.com/users/2706707/d%c3%bathomhas"}, "is_accepted": false, "score": 5, "last_activity_date": 1517432139, "creation_date": 1517432139, "answer_id": 48551258, "question_id": 48550861, "link": "https://stackoverflow.com/questions/48550861/standard-stream-and-operating-systems/48551258#48551258", "title": "Standard Stream and Operating Systems", "body": "<h3>Definitions</h3>\n\n<p>A \u201cstream\u201d is a catch-all word, like \u201cwindow\u201d. All a stream means is that there is some thing (a \u201cdevice\u201d) that produces sequential data or accepts sequential data.</p>\n\n<p>For example, I can make a string into an input stream (produces data), by simply keeping track of what the next character to produce is. When we run out of characters, we've reached the end of the stream. C++:</p>\n\n<pre><code>struct my_hello_stream\n{\n  static const char* s = \"Hello world!\";\n  int n;\n  my_stream(): n(0) {}\n\n  int get()\n  {\n    if (s[n]) return s[n++];\n    return EOF;\n  }\n};\n</code></pre>\n\n<h3>Abstractions</h3>\n\n<p>Every system has its own way of abstracting a stream. The OS does it through <em>files</em>, <em>pipes</em> and <em>character devices</em>, which you can open for reading or writing. How exactly this is done depends entirely on the design of the OS. Consult your OS API documentation.</p>\n\n<p>On top of that sits a programming language, like C or C++ or Java or FORTRAN \u2014 you name it. The programming language itself <em>also</em> defines a stream in a way convenient for the users of that language. In C you have a <code>FILE*</code>. In C++ you have <code>std::iostream</code>s. In Java you have <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"noreferrer\">I/O streams</a>. Whatever the case, this works above the OS stream to read and write data from and to files, etc.</p>\n\n<p>Moreover, these language features often allow you to do more powerful things with these stream interfaces, such as convert the character sequence <code>1234567</code> into a native integer value, and to perform these operations over strings.</p>\n\n<p>Beyond that, there are also external libraries that allow us to treat things like internet connections and port connections with the printer like a stream. Some of this stuff the OS handles for us. Some of it it doesn't.</p>\n\n<h3>tl;dr</h3>\n\n<p>It all depends. What matters is the <em>abstraction</em> you have access to \u2014 which is typically your programming language. Hence, read about how your programming language expects you to open a file and read and write data, then act as if that is right. Whatever else actually happens underneath is magic.</p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1517518665, "post_id": 48564624, "comment_id": 84139854, "body": "I have one more question, Is it like System.in read from a device( and that part is abstracted and use System calls like read(OS dependent)) and then when we use read(), we read from the System.in stream? Or System.in.read() invokes the system call? Please take a look at this link: <a href=\"http://journals.ecs.soton.ac.uk/java/tutorial/java/nutsandbolts/inputOutput.html\" rel=\"nofollow noreferrer\">journals.ecs.soton.ac.uk/java/tutorial/java/nutsandbolts/&hellip;</a>"}, {"owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "reply_to_user": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1517545655, "post_id": 48564624, "comment_id": 84147928, "body": "I don&#39;t think i understand first part of your question but answer to the second part is yes."}, {"owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1517586401, "post_id": 48564624, "comment_id": 84169288, "body": "First part is regarding the link and your answer, in that link it is mentioned that Input stream reads the data coming from the device and then our program reads the bytes/ characters from that Input Stream when we use Syste.in.read method. So that suggests that it is a two step process."}, {"owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "edited": false, "score": 0, "creation_date": 1517588428, "post_id": 48564624, "comment_id": 84170585, "body": "Suppose I am entering Input &quot;Hi&quot;, then according to that link, first Input Stream would read the input from device and this step itself would make system call(read function of OS) and then in the second step when we call System.in.read() of Java I/O API then we would read from InputStream. So is it a 2 step process? Or it is a single step process i.e. when we call System.in.read() then itself system call would be invoked to read the input from device?"}], "tags": [], "owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "is_accepted": false, "score": 0, "last_activity_date": 1517493917, "creation_date": 1517493917, "answer_id": 48564624, "question_id": 48550861, "link": "https://stackoverflow.com/questions/48550861/standard-stream-and-operating-systems/48564624#48564624", "title": "Standard Stream and Operating Systems", "body": "<p><strong>What is a stream?</strong></p>\n\n<p>Stream is an abstraction which is either an input source or an output destination. In UNIX for example everything is a file so your keyboard will be represented by a read only file (why?). Whenever you want to read something from keyboard you just use the read system call using the keyboard file as parameter.</p>\n\n<blockquote>\n  <p>Does OS(i.e Windows) provide a Common Standard Input Stream and all\n  the languages use it(i.e. Java refers to it as System.in and same\n  Standard Input Stream is referred with stdin in c)?</p>\n</blockquote>\n\n<p>OS only provides the very basic functionality such as read and write system calls (OS dependent) which can be used to read and write raw bytes. All the programming languages use this basic functionality to create abstractions (such as translating raw bytes to certain character set or buffering the data before writing).</p>\n"}], "owner": {"reputation": 73, "user_id": 3677837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a3908209c0e0da4c6bb3d0ed2dcbce9?s=128&d=identicon&r=PG&f=1", "display_name": "Prakhar", "link": "https://stackoverflow.com/users/3677837/prakhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517493917, "creation_date": 1517430291, "question_id": 48550861, "link": "https://stackoverflow.com/questions/48550861/standard-stream-and-operating-systems", "title": "Standard Stream and Operating Systems", "body": "<p>I am very much confused about Streams.</p>\n\n<p>1) Does OS(i.e Windows) provide a Common Standard Input Stream and all the languages use it(i.e. Java refers to it as System.in and same Standard Input Stream is referred with stdin in c)?</p>\n\n<p>Is it like keyboard has some port or physical address and OS has stored that\nin some variable and when a program needs that it will give that same address to stdin or System.in depending on the language?</p>\n\n<p>OR,</p>\n\n<p>2) Is it like each language has its own API written for standard streams and when we run the program, a stream will get connected to the input device?</p>\n\n<p>And what information that stream would have apart from data? i.e. Physical Port or address of device or what?</p>\n\n<p>Also, Please tell about what is the meaning of System.in get \"connected\" to program when we run it. what does \"connected\" mean here?</p>\n\n<p>Please share some link.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 4, "creation_date": 1517430057, "post_id": 48550794, "comment_id": 84097609, "body": "What&#39;s the right calculation and what are you getting?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1517431361, "post_id": 48550794, "comment_id": 84098277, "body": "There is a mathematical law that can be applied that says <code>result = result*base % mod</code> looped <code>exp</code> times will give the same result as <code>base&lt;sup&gt;exp&lt;&#47;sup&gt; % mod</code>. Can&#39;t remember what it&#39;s called, though. Anyway, it lets you compute huge numbers and never leave integer space."}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1517432169, "post_id": 48550794, "comment_id": 84098650, "body": "Your variables are promoted to <code>double</code> when <code>std::fmod</code> is called, and that type hasn&#39;t enough precision for your test case: <a href=\"https://ideone.com/hBbKyV\" rel=\"nofollow noreferrer\">ideone.com/hBbKyV</a> . If you need to calculate even bigger values, you should take advantage of modular arithmetic."}], "answers": [{"tags": [], "owner": {"reputation": 4562, "user_id": 9254539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b45538511384660bfaef5092e30b7ea?s=128&d=identicon&r=PG&f=1", "display_name": "BessieTheCookie", "link": "https://stackoverflow.com/users/9254539/bessiethecookie"}, "is_accepted": true, "score": 0, "last_activity_date": 1570057416, "last_edit_date": 1570057416, "creation_date": 1517444377, "answer_id": 48553561, "question_id": 48550794, "link": "https://stackoverflow.com/questions/48550794/why-i-get-wrong-result-with-stdpow-and-stdfmod/48553561#48553561", "title": "Why I get wrong result with std::pow and std::fmod?", "body": "<p>Your problem is floating point error. The numbers are converted to doubles when passed into <code>pow()</code>, and doubles can store 54 significant binary digits, which is not enough to accurately store 20^27. It is better to take advantage of modular arithmetic by repeating <code>result = result * base % mod</code> exp times like this:</p>\n\n<pre><code>int result = 1;\nfor(int i = 0; i &lt; exp; i++)\n{\n    result = result * base % mod;\n}\n</code></pre>\n\n<p>This should keep the values under the int limit and run in a few seconds as long as the inputs are not too big. For a faster algorithm, use <a href=\"https://en.wikipedia.org/wiki/Exponentiation_by_squaring\" rel=\"nofollow noreferrer\">binary exponentiation</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7653297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/scc0Z.png?s=128&g=1", "display_name": "Dryadxon", "link": "https://stackoverflow.com/users/7653297/dryadxon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "closed_date": 1517472477, "accepted_answer_id": 48553561, "answer_count": 1, "score": -3, "last_activity_date": 1570057416, "creation_date": 1517429988, "question_id": 48550794, "link": "https://stackoverflow.com/questions/48550794/why-i-get-wrong-result-with-stdpow-and-stdfmod", "closed_reason": "Duplicate", "title": "Why I get wrong result with std::pow and std::fmod?", "body": "<p>The following lines of code end up returning a wrong result after a calculation, could this be caused by the approximation of the \"double\" type?</p>\n\n<pre><code>    int base = 20, exp = 27, mod = 123;\n    std::fmod(std::pow(base, exp), mod)\n</code></pre>\n\n<p>Is there a way to get the right calculation? (also with base = 128, Exp >= 50 mod >= 200?)\nSorry for my bad English </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517429240, "post_id": 48550501, "comment_id": 84097171, "body": "At least you need to replace <code>size</code> in the second call with <code>size * sizeof(wchar_t)</code>."}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517429293, "post_id": 48550501, "comment_id": 84097201, "body": "@HolyBlackCat if it were that easy, the ASCII string would be chopped in half already."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 2, "creation_date": 1517429410, "post_id": 48550501, "comment_id": 84097260, "body": "Your example English text contains 10 characters, so you add 10 bytes to the buffer - but half (if you are on Windows) or three quarters (if you are on Linux) of those bytes will be null.  Exactly <i>what</i> is the client expecting to recieve?  UTC-4? UTF16-LE? UTF16-BE? UTF8? ASCII with unicode characters escaped in some way?"}, {"owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517429423, "post_id": 48550501, "comment_id": 84097268, "body": "@HolyBlackCat that might work for Chinese (I&#39;m not sure)... but it would break for English &amp; Korean at least.."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1517429561, "post_id": 48550501, "comment_id": 84097333, "body": "@Rick why would it break for English?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517429671, "post_id": 48550501, "comment_id": 84097388, "body": "You seem to think that different characters in your strings occupy different number of bytes. That&#39;s (probably) not true. (That would be true if you used UTF-8.)"}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1517429705, "post_id": 48550501, "comment_id": 84097415, "body": "Do you know what encoding is used for the wide characters? If it&#39;s UTF-16 then you&#39;ll need a code page translation."}, {"owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1517430119, "post_id": 48550501, "comment_id": 84097650, "body": "@MartinBonner it would break because for english... the size would be 10, but with the * sizeof(wchar_t) it would be 20. I just tested it.... and only the first letter ended up showing on the client lol."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1517430378, "post_id": 48550501, "comment_id": 84097776, "body": "@Rick, how did you display those bytes?  If you treated them as a null-terminated string of narrow characters, then yes, it will break.  You need to treat them as a sequence of wchar_t characters (and hope that the client has the same definition of wchar_t as the server)."}, {"owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1517430447, "post_id": 48550501, "comment_id": 84097800, "body": "@MartinBonner the client does expect &amp; require each string to be null terminated (I left that part out)."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517430494, "post_id": 48550501, "comment_id": 84097819, "body": "If you can change that (i.e. pass length separately), you probably should, otherwise you need to bother with encoding/decoding."}, {"owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "edited": false, "score": 0, "creation_date": 1517433407, "post_id": 48550501, "comment_id": 84099313, "body": "I need to convert the encoding to GBK... trying to find out how now."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1517436196, "post_id": 48550501, "comment_id": 84100675, "body": "@Rick &quot;How to convert from std::wstring to GBK format&quot; would be a <i>much</i> better question that this one.  You need to indicate your platform (because, eg, Windows may be able to do it for you)"}, {"owner": {"reputation": 7714, "user_id": 6083222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/io3di.png?s=128&g=1", "display_name": "Jeff Zeitlin", "link": "https://stackoverflow.com/users/6083222/jeff-zeitlin"}, "edited": false, "score": 0, "creation_date": 1517493140, "post_id": 48550501, "comment_id": 84124479, "body": "You provide an example of what you <i>expect</i> from the Chinese, but you don&#39;t indicate what you <i>actually get</i>. Please provide this information; it will help clarify your issue, and may provide additional clues toward solving it."}], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "is_accepted": false, "score": 0, "last_activity_date": 1517441294, "creation_date": 1517441294, "answer_id": 48553124, "question_id": 48550501, "link": "https://stackoverflow.com/questions/48550501/how-can-i-convert-a-wstring-containing-chinese-or-korean-into-hex-bytes/48553124#48553124", "title": "How can I convert a wstring containing Chinese or Korean into hex/bytes?", "body": "<p>If anyone runs into a similar situation... In my case, I had to use UTF-8 encoding to store the values in a wstring. Then, I converted the wstring to a string and provided a code page specific to the language I needed.</p>\n"}], "owner": {"reputation": 301, "user_id": 8825121, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/64b07523f29bb03455569640c4146f52?s=128&d=identicon&r=PG&f=1", "display_name": "Rick", "link": "https://stackoverflow.com/users/8825121/rick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 343, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1517441294, "creation_date": 1517428815, "question_id": 48550501, "link": "https://stackoverflow.com/questions/48550501/how-can-i-convert-a-wstring-containing-chinese-or-korean-into-hex-bytes", "title": "How can I convert a wstring containing Chinese or Korean into hex/bytes?", "body": "<p>I have a program that needs to be able to make the hexadecimal representation of English, Chinese, or Korean words (depending on the users language selection) and store it in a buffer.</p>\n\n<p>I do this quite easily with English characters by doing the following...</p>\n\n<pre><code>const std::wstring word_sample = \"SampleWord\";  \nconst int size = static_cast&lt;int&gt;(word_sample.size());\n\nAddDataToBuffer(reinterpret_cast&lt;const unsigned char*&gt;(&amp;stringSize), sizeof(size));\n\nAddDataToBuffer(reinterpret_cast&lt;const unsigned char*&gt;(word_sample .c_str()), size);\n</code></pre>\n\n<p>However, when I try to do this with Chinese or Korean (languages that combine multiple symbols into one character), it comes out as gibberish when received by the client.</p>\n\n<p>I found out that this is because I need to have EACH symbol (not each character) converted into hex for the buffer.</p>\n\n<p>So for example, with this Chinese text, \"\u9632\u8eab\u5200\", the total size should be 6 and the hex output should be </p>\n\n<pre><code>0xb7, 0xc0, 0xc9, 0xed, 0xb5, 0xb6\n</code></pre>\n\n<p>My problem is that I have no idea how to actually determine if a character is comprised of multiple symbols &amp; split it into symbols...</p>\n"}, {"tags": ["c++", "gcc"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1517429217, "post_id": 48550370, "comment_id": 84097157, "body": "&quot;vector&#39;s capacity should be previous double&quot; you should stop to deduce requirements from behavior, but rely on documentation instead"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1517430348, "post_id": 48550370, "comment_id": 84097760, "body": "There is a smurf-load of research on just how much capacity should increase on a resize, and no one agrees on exactly how much.  I recall that the general consensus was somewhere between 1.5 and 2 is best for most cases. Looks like MSVC is putting a bit more thought into it, but how much that helps needs to be profiled on a case-by-case basis."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1517430494, "post_id": 48550370, "comment_id": 84097818, "body": "Two related questions popped up yesterday that may also be of interest to you: <a href=\"https://stackoverflow.com/questions/48535727/why-are-c-stl-vectors-1000x-slower-when-doing-many-reserves\">Why are C++ STL vectors 1000x slower when doing many reserves?</a> and <a href=\"https://stackoverflow.com/questions/48537812/why-does-stdvector-reserve-not-double-its-capacity-while-resize-does\">Why does std::vector reserve not \u201cdouble\u201d its capacity, while resize does?</a>"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "is_accepted": true, "score": 6, "last_activity_date": 1517429477, "last_edit_date": 1517429477, "creation_date": 1517428519, "answer_id": 48550424, "question_id": 48550370, "link": "https://stackoverflow.com/questions/48550370/vector-behavior-differ-between-msvc-and-gcc/48550424#48550424", "title": "vector behavior differ between MSVC and GCC", "body": "<blockquote>\n  <p>vector's capacity should be previous double, why MSVC not work in this? </p>\n</blockquote>\n\n<p>Where did you get that from?</p>\n\n<p>That's implementation specific behavior. There's nothing said in the standard how <code>capacity()</code> should change after calling <code>push_back()</code>, besides it must guarantee the <code>std::vector</code> has <em>enough</em> (not <em>double</em> than before) space allocated.</p>\n"}, {"tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1517428689, "creation_date": 1517428689, "answer_id": 48550466, "question_id": 48550370, "link": "https://stackoverflow.com/questions/48550370/vector-behavior-differ-between-msvc-and-gcc/48550466#48550466", "title": "vector behavior differ between MSVC and GCC", "body": "<blockquote>\n  <p>vector's capacity should be previous double</p>\n</blockquote>\n\n<p>That is wrong.  The only requirement is that <code>vector::push_back</code> performs amortized O(1) copies.  That can be achieved by multiplying the capacity by a constant factor every time a reallocation is required - but that constant does not have to be 2 (it does have to be greater than 1).  GCC uses 2, MSVC uses 3/2.  (The advantage of the latter is that it uses less space, at a cost of more copies)</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "is_accepted": false, "score": 0, "last_activity_date": 1517429305, "creation_date": 1517429305, "answer_id": 48550623, "question_id": 48550370, "link": "https://stackoverflow.com/questions/48550370/vector-behavior-differ-between-msvc-and-gcc/48550623#48550623", "title": "vector behavior differ between MSVC and GCC", "body": "<p>\"vector's capacity should be previous double\". No it should not. How and by how much a <code>std::vector</code> increases its capacity when it grows is <em>implementation defined</em>.</p>\n\n<p>This means that every implementation is free to do its own thing. It can double the size, increase it by 2, increase it 10-fold or whatever. From your point, as a user of the container, you cannot know and you are not supposed to care.</p>\n"}], "owner": {"reputation": 3, "user_id": 9109807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b8468be9bcec8b4670a68791e281079?s=128&d=identicon&r=PG", "display_name": "user9109807", "link": "https://stackoverflow.com/users/9109807/user9109807"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 48550424, "answer_count": 3, "score": 0, "last_activity_date": 1517429477, "creation_date": 1517428344, "question_id": 48550370, "link": "https://stackoverflow.com/questions/48550370/vector-behavior-differ-between-msvc-and-gcc", "title": "vector behavior differ between MSVC and GCC", "body": "<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    vector&lt;int&gt; v;\n    auto vsize = v.capacity();\n    for (int tmp = 0; tmp &lt; 1000;tmp++)\n    {\n        v.push_back(tmp);\n        if(vsize!=v.capacity())\n        {\n            vsize = v.capacity();\n            cout &lt;&lt; \"capacity changed : \" &lt;&lt; vsize &lt;&lt; endl;\n        }\n    }\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/P8eIZ.png\" rel=\"nofollow noreferrer\">compiled by MSVC</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LpTeq.png\" rel=\"nofollow noreferrer\">compiled by GCC</a></p>\n\n<p>vector's capacity should be previous double, why MSVC not work in this? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 5, "creation_date": 1517428090, "post_id": 48550272, "comment_id": 84096591, "body": "<code>if (red &amp;&amp; yellow)</code> doesn&#39;t do what you think it does."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517428257, "post_id": 48550272, "comment_id": 84096668, "body": "You never assign any values to <code>red</code>, <code>yellow</code> and <code>blue</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1517428257, "post_id": 48550272, "comment_id": 84096669, "body": "The content of the strings <code>red</code> and <code>yellow</code> are not defined nor initialized before they are compared."}], "answers": [{"tags": [], "owner": {"reputation": 70931, "user_id": 882003, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/de71acd9a8eab73186dea35aea7a68f2?s=128&d=identicon&r=PG", "display_name": "john", "link": "https://stackoverflow.com/users/882003/john"}, "is_accepted": false, "score": 5, "last_activity_date": 1517428127, "creation_date": 1517428127, "answer_id": 48550309, "question_id": 48550272, "link": "https://stackoverflow.com/questions/48550272/how-do-i-combine-strings-in-an-if-else-statements-in-c/48550309#48550309", "title": "How do I combine strings in an if/else statements in C++?", "body": "<p>Something like</p>\n\n<pre><code>if (color == \"red\" &amp;&amp; color2 == \"yellow\")\n</code></pre>\n\n<p>The names of variables are not strings.</p>\n"}, {"tags": [], "owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "is_accepted": true, "score": 5, "last_activity_date": 1517428175, "creation_date": 1517428175, "answer_id": 48550325, "question_id": 48550272, "link": "https://stackoverflow.com/questions/48550272/how-do-i-combine-strings-in-an-if-else-statements-in-c/48550325#48550325", "title": "How do I combine strings in an if/else statements in C++?", "body": "<pre><code>if (red &amp;&amp; yellow)\n</code></pre>\n\n<p><code>&amp;&amp;</code> asks if each side evaluates to true, and if so, will itself evaluate to true.</p>\n\n<p>This means your code is asking if the variable <code>red</code> evaluates to true and the variable <code>yellow</code> evaluates to true.</p>\n\n<p>But those are strings! (and empty ones at that!) Instead, you want to compare the strings that were input and see if the comparisons evaluate true:</p>\n\n<pre><code>if (color1 == \"red\" &amp;&amp; color2 == \"yellow\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1517428232, "creation_date": 1517428232, "answer_id": 48550339, "question_id": 48550272, "link": "https://stackoverflow.com/questions/48550272/how-do-i-combine-strings-in-an-if-else-statements-in-c/48550339#48550339", "title": "How do I combine strings in an if/else statements in C++?", "body": "<p>The operator <code>&amp;&amp;</code> is valid when both sides of the operator are <code>bool</code> objects or objects that can be converted to <code>bool</code>. Hence, the line</p>\n\n<pre><code>    if (red &amp;&amp; yellow)\n</code></pre>\n\n<p>is syntactically incorrect.</p>\n\n<p>Your intent can be correctly expressed in code by using:</p>\n\n<pre><code>    if (color == \"red\" &amp;&amp; color2 == \"yellow\" )\n</code></pre>\n\n<p>If you define the vlaues of the variables <code>red</code> and <code>yellow</code> as:</p>\n\n<pre><code>    string red = \"red\";\n    string yellow = \"yellow\";\n</code></pre>\n\n<p>then you may also use:</p>\n\n<pre><code>    if (color == red &amp;&amp; color2 == yellow )\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9296463, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-osc_qw6Wc30/AAAAAAAAAAI/AAAAAAAAAEQ/4zuc9GzZyM4/photo.jpg?sz=128", "display_name": "leedah", "link": "https://stackoverflow.com/users/9296463/leedah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 48550325, "answer_count": 3, "score": -5, "last_activity_date": 1517443797, "creation_date": 1517427988, "last_edit_date": 1517443797, "question_id": 48550272, "link": "https://stackoverflow.com/questions/48550272/how-do-i-combine-strings-in-an-if-else-statements-in-c", "title": "How do I combine strings in an if/else statements in C++?", "body": "<p>I'm a beginner learning C++, and I'm confused about where I've gone wrong here. So far I have what is below, but it's not recognizing the &amp;&amp; operand for this. What would I use in place of &amp;&amp;?</p>\n\n<p>What I'm suppose to be doing is writing a program that prompts the user to enter the names of two primary colors to mix. I'd appreciate any and all advice.</p>\n\n<p>Thank you. </p>\n\n<pre><code> #include &lt;iostream&gt;\n    #include &lt;string&gt;\n    #include &lt;iomanip&gt;\n\n    using namespace std;\n\n    int main()\n    {\n        //Declare string variables for colors to mix\n\n        string color;\n        string color2;\n        string red;\n        string yellow;\n        string blue; \n\n        //Output instructions for creating secondary color\n        cout&lt;&lt; \" Enter first primary color to help create a secondary color.\";\n        cout&lt;&lt; \" Must be in lowercase letters. \"&lt;&lt;endl;\n\n        cin&gt;&gt;color;\n\n        cout&lt;&lt; \"Enter another primary color to help create a secondary color: \";\n        cout&lt;&lt; \" Must be in lowercase letters. \"&lt;&lt;endl;\n        cin&gt;&gt;color2;\n\n\n        //Create statements to help determine the results\n        if (red &amp;&amp; yellow)\n        {cout&lt;&lt; \" Your secondary color is Orange! \";\n\n        }\n\n        else if (red &amp;&amp; blue) \n        {cout&lt;&lt; \" Your secondary color is Purple! \";\n\n\n        }\n\n        else if (blue &amp;&amp; yellow) \n        {cout&lt;&lt; \" Your secondary color is Green! \";\n\n        }\n\n        else \n        {cout&lt;&lt; \"Input is inaccurate. Please enter a different color. \";\n\n\n        }\n\n\n        return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "vector", "memory-leaks", "allegro", "allegro5"], "comments": [{"owner": {"reputation": 646, "user_id": 7251286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e021813332cd736c36621f3a549487f?s=128&d=identicon&r=PG&f=1", "display_name": "florgeng", "link": "https://stackoverflow.com/users/7251286/florgeng"}, "edited": false, "score": 0, "creation_date": 1517428357, "post_id": 48550239, "comment_id": 84096722, "body": "What is that for each? Why dont you call al_destroy_bitmap(*it) in the range based for before deleting *it."}, {"owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "reply_to_user": {"reputation": 646, "user_id": 7251286, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0e021813332cd736c36621f3a549487f?s=128&d=identicon&r=PG&f=1", "display_name": "florgeng", "link": "https://stackoverflow.com/users/7251286/florgeng"}, "edited": false, "score": 0, "creation_date": 1517429095, "post_id": 48550239, "comment_id": 84097097, "body": "It was just for testing, works the same, but you are right I should rather posted it this way"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1517432841, "post_id": 48550854, "comment_id": 84099007, "body": "Thanks, I&#39;ll try it. I don&#39;t know anything about unique_ptr so far, so please wait for my acceptance of the answer until I learn enought about it and then test it. (tomorrow)"}, {"owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1517503399, "post_id": 48550854, "comment_id": 84131618, "body": "I tried but I can&#39;t figure out how to make al_destroy_bitmap as deleter..."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1517505622, "post_id": 48550854, "comment_id": 84132974, "body": "You may need to create a class which has an <code>operator()</code> and call <code>al_destroy_bitmap</code> from that."}, {"owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1517514922, "post_id": 48550854, "comment_id": 84137907, "body": "I made it as you told but it doesn&#39;t call this function in destruction of the vector. My code is written as EDIT in my question above."}, {"owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "edited": false, "score": 0, "creation_date": 1517527014, "post_id": 48550854, "comment_id": 84143455, "body": "I figured out why and now it calls deleters. However, it still leaves occupied the size of pointers themselves."}], "tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1517430261, "creation_date": 1517430261, "answer_id": 48550854, "question_id": 48550239, "link": "https://stackoverflow.com/questions/48550239/destroying-a-vector-of-allegro-bitmap/48550854#48550854", "title": "Destroying a vector of ALLEGRO_BITMAP*", "body": "<p>Don't make <code>sprites</code> a <code>std::vector&lt;ALLEGRO_BITMAP*&gt;</code>, make it a <code>std::vector&lt;std::unique_ptr&lt;ALLEGRO_BITMAP*,al_destroy_bitmap&gt;&gt;</code>.  That way, when the destructor of <code>sprites</code> is called (or when you resize it to zero), the unique_ptr destructor will free the bitmap.</p>\n"}], "owner": {"reputation": 11, "user_id": 9104113, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c2700acfd1b8bdd1b3e7d91feb91ccf?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Carlos", "link": "https://stackoverflow.com/users/9104113/juan-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 48550854, "answer_count": 1, "score": 0, "last_activity_date": 1517526783, "creation_date": 1517427845, "last_edit_date": 1517526783, "question_id": 48550239, "link": "https://stackoverflow.com/questions/48550239/destroying-a-vector-of-allegro-bitmap", "title": "Destroying a vector of ALLEGRO_BITMAP*", "body": "<p>I use library Allegro5.\nIn my class named Animation I have <code>vector&lt;ALLEGRO_BITMAP*&gt; sprites</code>.\nIn constructor, I populate it with some bitmaps and in destructor I would like to delete it properly. However, my solutions still lead to memory leaking:</p>\n\n<pre><code>for each (ALLEGRO_BITMAP* it in sprites)\n{\n    al_destroy_bitmap(it);\n}\n\nfor (auto it : sprites)\n    delete it;\n\nsprites.~vector();\n</code></pre>\n\n<p>or any other combination of those.</p>\n\n<p>I really can't find out why it isn't deleting properly.</p>\n\n<p>EDIT:</p>\n\n<p>Now I have this and there is still a small memory leak, but in the size less then 1 MB</p>\n\n<pre><code>class Deleter\n{\npublic:\nvoid operator()(ALLEGRO_BITMAP* ptrToBitmap)\n    {\n        cout &lt;&lt; \"deleted\"&lt;&lt;'\\n';\n        al_destroy_bitmap(ptrToBitmap);\n    }\n};\n</code></pre>\n\n<p>and</p>\n\n<pre><code>vector&lt;unique_ptr&lt;ALLEGRO_BITMAP, Deleter&gt;&gt; sprites;\n\nfor (int i = 0; i &lt; 100; i++)\n{\n    ALLEGRO_BITMAP* temp = al_load_bitmap(\"Fireball1.png\");\n    unique_ptr&lt;ALLEGRO_BITMAP, Deleter&gt; uptr;\n    uptr = unique_ptr&lt;ALLEGRO_BITMAP, Deleter&gt;(temp);\n\n    sprites.push_back(move(uptr));\n}\n\nsprites.~vector();\n</code></pre>\n"}, {"tags": ["c++", "sdl", "sdl-2"], "comments": [{"owner": {"reputation": 15322, "user_id": 291737, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/432bda8139dee981e1411f40cab0a13e?s=128&d=identicon&r=PG", "display_name": "StilesCrisis", "link": "https://stackoverflow.com/users/291737/stilescrisis"}, "edited": false, "score": 0, "creation_date": 1517467375, "post_id": 48550177, "comment_id": 84109383, "body": "Try running it in Instruments and see if a profile gives you any clues."}, {"owner": {"reputation": 1222, "user_id": 1576803, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/5fPDS.gif?s=128&g=1", "display_name": "aram", "link": "https://stackoverflow.com/users/1576803/aram"}, "edited": false, "score": 1, "creation_date": 1517833393, "post_id": 48550177, "comment_id": 84241391, "body": "I&#39;ve run your program on my iMac (after fixing the incomplete example) but I don&#39;t get what type of delay you are talking about. Are you talking about the delta time just doubling in value between 2 pollEvents? Could you be a bit more specific."}], "answers": [{"tags": [], "owner": {"reputation": 346, "user_id": 9208298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/749887b052f98fc012969900b1d96bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Licensed Slacker", "link": "https://stackoverflow.com/users/9208298/licensed-slacker"}, "is_accepted": false, "score": 1, "last_activity_date": 1517839404, "creation_date": 1517839404, "answer_id": 48624321, "question_id": 48550177, "link": "https://stackoverflow.com/questions/48550177/my-sdl2-apps-have-a-severe-delay-only-after-the-first-keyboard-input/48624321#48624321", "title": "My SDL2 apps have a severe delay ONLY after the first keyboard input", "body": "<p>I think you should set start_time with SDL_GetTicks() rather than set it to zero before entering to the main loop. SDL_GetTicks() returns time since SDL_Init() and it might be something else than zero at this point.</p>\n"}], "owner": {"reputation": 21, "user_id": 9296299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c59f1d1990bff1dda4c2b5e0d2836024?s=128&d=identicon&r=PG&f=1", "display_name": "synaodev", "link": "https://stackoverflow.com/users/9296299/synaodev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1517839404, "creation_date": 1517427611, "last_edit_date": 1517838315, "question_id": 48550177, "link": "https://stackoverflow.com/questions/48550177/my-sdl2-apps-have-a-severe-delay-only-after-the-first-keyboard-input", "title": "My SDL2 apps have a severe delay ONLY after the first keyboard input", "body": "<p>In all of my C++ SDL2 programs, there is a severe delay following the first keyboard input. After that first input, everything else seems to work just fine. </p>\n\n<p>It happens even in the most bare-bones programs.</p>\n\n<p>Is there something that I'm doing wrong, or is this a bug?</p>\n\n<p>If it's relevant, my operating system is macOS.</p>\n\n<p>And here is some code with the problem:</p>\n\n<pre><code>#include &lt;SDL2/SDL.h&gt;\n#include &lt;iostream&gt; \n#include &lt;stdexcept&gt;\n\nint main(int argc, char *argv[])\n{\n    if(SDL_Init(SDL_INIT_VIDEO) != 0)\n    {\n        throw std::runtime_error(\"SDL failed to initialize.\\n\");\n    }\n\n    SDL_Window *window = SDL_CreateWindow(\"App\", SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED, 640, 480, NULL);\n\n    bool done = false;\n\n    unsigned start_time = 0;\n    unsigned tick_time = 0;\n\n    while(!done)\n    {\n        SDL_Event event;\n\n        while(SDL_PollEvent(&amp;event))\n        {\n            if(event.type == SDL_QUIT)\n            {\n                done = true;\n            }\n        }\n\n        start_time = tick_time;\n\n        tick_time = SDL_GetTicks();\n\n        const unsigned delta_time = tick_time - start_time;\n\n        if(delta_time != 0)\n        {\n            if((1000 / delta_time) &lt; 30)\n            {\n                std::cout &lt;&lt; 1000 / delta_time &lt;&lt; '\\n';\n            }\n        }\n    }\n\n    SDL_DestroyWindow(window);\n\n    SDL_Quit();\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "oop", "inheritance", "multiple-inheritance"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 7, "creation_date": 1517427498, "post_id": 48550130, "comment_id": 84096299, "body": "It sounds like you should be using data members instead."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1517427530, "post_id": 48550130, "comment_id": 84096313, "body": "This isn&#39;t allowed: <a href=\"https://godbolt.org/g/EFcteo\" rel=\"nofollow noreferrer\">godbolt.org/g/EFcteo</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "edited": false, "score": 2, "creation_date": 1517427537, "post_id": 48550130, "comment_id": 84096316, "body": "Inheritance is the wrong way to go. See <a href=\"http://www.artima.com/designtechniques/compoinh.html\" rel=\"nofollow noreferrer\">artima.com/designtechniques/compoinh.html</a>"}, {"owner": {"reputation": 968, "user_id": 5391777, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JpKwN.jpg?s=128&g=1", "display_name": "Mahathi Vempati", "link": "https://stackoverflow.com/users/5391777/mahathi-vempati"}, "edited": false, "score": 0, "creation_date": 1517427976, "post_id": 48550130, "comment_id": 84096518, "body": "Why the downvote?"}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 8, "last_activity_date": 1517427644, "creation_date": 1517427644, "answer_id": 48550190, "question_id": 48550130, "link": "https://stackoverflow.com/questions/48550130/inherit-same-class-twice-in-c-on-purpose/48550190#48550190", "title": "Inherit same class twice in C++ (on purpose)", "body": "<blockquote>\n  <p>I have a Circle class and a Rectangle class. I now want to make a class FunnyObject, each made of one circle and two rectangles.</p>\n</blockquote>\n\n<p>Use object composition rather than inheritance.</p>\n\n<pre><code>class FunnyObject\n{\n    Circle circle;\n    Rectangle rectangle1;\n    Rectangle rectangle2;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "is_accepted": true, "score": 8, "last_activity_date": 1517427666, "creation_date": 1517427666, "answer_id": 48550202, "question_id": 48550130, "link": "https://stackoverflow.com/questions/48550130/inherit-same-class-twice-in-c-on-purpose/48550202#48550202", "title": "Inherit same class twice in C++ (on purpose)", "body": "<p>An easy trick to help with inheritance is to think about \"<em>is a</em>\" vs. \"<em>has a</em>\".</p>\n\n<p>If you have an \"<em>is a</em>\" relationship, you use inheritance. If you have a \"<em>has a</em>\" relationship, you make a new data member.</p>\n\n<p><strong>Is</strong> FunnyObject a Rectangle and a Circle? If so, inherit.</p>\n\n<p>Does FunnyObject <strong>have</strong> two Rectangles and Circle? If so, make member variables.</p>\n"}, {"tags": [], "owner": {"reputation": 380, "user_id": 7503657, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Zk2rPIVsg9M/AAAAAAAAAAI/AAAAAAAAAIA/E4nXqMqd33w/photo.jpg?sz=128", "display_name": "Haroon", "link": "https://stackoverflow.com/users/7503657/haroon"}, "is_accepted": false, "score": 5, "last_activity_date": 1517427718, "creation_date": 1517427718, "answer_id": 48550217, "question_id": 48550130, "link": "https://stackoverflow.com/questions/48550130/inherit-same-class-twice-in-c-on-purpose/48550217#48550217", "title": "Inherit same class twice in C++ (on purpose)", "body": "<p>You don't need inheritance in this case, use composition:</p>\n\n<pre><code>class FunnyObject\n{\n    Circle myCircle;\n    Rectangle myRectangle1;\n    Rectangle myRectangle2;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11186, "user_id": 266978, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/936f8c28b401a914224af1e0e9891633?s=128&d=identicon&r=PG", "display_name": "Baltasarq", "link": "https://stackoverflow.com/users/266978/baltasarq"}, "is_accepted": false, "score": 2, "last_activity_date": 1517568472, "last_edit_date": 1517568472, "creation_date": 1517479676, "answer_id": 48560088, "question_id": 48550130, "link": "https://stackoverflow.com/questions/48550130/inherit-same-class-twice-in-c-on-purpose/48560088#48560088", "title": "Inherit same class twice in C++ (on purpose)", "body": "<p>As you said:</p>\n\n<blockquote>\n  <p>I have a Circle class and a Rectangle class. I now want to make a\n  class FunnyObject, each made of one circle and two rectangles.</p>\n</blockquote>\n\n<p>\"... each <strong>made of</strong> one circle and two rectangles.\" The solution is in the wording of your own question. As @scoohe01 said, one trick is to choose between FunnyObject <em>is a</em> Circle and two Rectangles, or FunnyObject <em>is composed by</em> a Circle and two Rectangles. In your case, and following the wording you chose, your design should correspond to the latter choice.</p>\n\n<p>Another trick is that you cannot inherit more than once. In your example, you would like to inherit twice from Rectangle. Suppose there is a <code>getSide1()</code> method. How would you refer to it? <code>getSide1'1()</code> and <code>getSide1'2()</code>... there is just no way.</p>\n\n<p>It is also confusing. If you inherit from a <strong>Circle</strong> and a <strong>Rectangle</strong>, you will end up with a mixing (thus its name) with methods like <code>getRadius()</code>, <code>getSide1()</code> and <code>getSide2()</code>. It would be seem to have both a radius and sides, which makes no sense.</p>\n\n<p>Finally, there is the subclassing rule or Liskov's substitution principle. \nCan the inheriting class (<strong>FunnyObject</strong>?) be used in all situations in which a Circle or a Rectangle is used? Not at all. Well, at least in a meaningful way.</p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 968, "user_id": 5391777, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JpKwN.jpg?s=128&g=1", "display_name": "Mahathi Vempati", "link": "https://stackoverflow.com/users/5391777/mahathi-vempati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "accepted_answer_id": 48550202, "answer_count": 4, "score": 2, "last_activity_date": 1517568472, "creation_date": 1517427415, "question_id": 48550130, "link": "https://stackoverflow.com/questions/48550130/inherit-same-class-twice-in-c-on-purpose", "title": "Inherit same class twice in C++ (on purpose)", "body": "<p>I have a <code>Circle</code> class and a <code>Rectangle</code> class.\nI now want to make a class <code>FunnyObject</code>, each made of one circle and two rectangles.</p>\n\n<p>If I do this:</p>\n\n<pre><code>class FunnyObject:public Circle, public Rectangle, public Rectangle{\n//How do I refer to each of the Rectangle classes?\n\n}\n</code></pre>\n\n<p>How do I refer to the functions and variables in both the Rectangle classes, since there is ambiguity?</p>\n\n<p>Also, generally the constructor is:</p>\n\n<pre><code>FunnyObject::FunnyObject:Circle(arguments), Rectangle(arguments){\n//....\n}\n</code></pre>\n\n<p>How will the constructor look in my case?</p>\n"}, {"tags": ["c++", "nan", "armadillo"], "answers": [{"tags": [], "owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "is_accepted": true, "score": 3, "last_activity_date": 1517439976, "last_edit_date": 1517439976, "creation_date": 1517430244, "answer_id": 48550849, "question_id": 48550049, "link": "https://stackoverflow.com/questions/48550049/what-are-the-differences-between-the-c-nan-and-armadillo-nan/48550849#48550849", "title": "What are the differences between the C++ NaN and Armadillo NaN?", "body": "<p>NaN is a class of values of the underlying <code>double</code> implementation, which, on virtually any platform where <code>std::nan</code> is defined and Armadillo can run, will be the usual IEEE 754. Any quiet NaN is just as ugly as any other - i.e. they will all compare different than any value (including itself), and this is a thing that is handled in hardware, not by Armadillo or the standard library. </p>\n\n<p>The only difference between what <code>std::nan</code> returns and the Armadillo NaNs may be that they can have a different underlying bit pattern - as there are many different values that are valid NaN. Still, it's a difference that would be visible only to code that examines explicitly the underlying bytes, so in numerical code should be completely irrelevant. </p>\n"}], "owner": {"reputation": 10578, "user_id": 756329, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/53a4d0622387325b2c25401aa7e7c491?s=128&d=identicon&r=PG", "display_name": "Joseph Hansen", "link": "https://stackoverflow.com/users/756329/joseph-hansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "accepted_answer_id": 48550849, "answer_count": 1, "score": 2, "last_activity_date": 1517439976, "creation_date": 1517427085, "question_id": 48550049, "link": "https://stackoverflow.com/questions/48550049/what-are-the-differences-between-the-c-nan-and-armadillo-nan", "title": "What are the differences between the C++ NaN and Armadillo NaN?", "body": "<p>The \"C++ NaN\" I'm talking about is the one that may be returned by <a href=\"http://www.cplusplus.com/reference/cmath/nan-function/\" rel=\"nofollow noreferrer\">this cmath function</a>:</p>\n\n<pre><code>double nan (const char* tagp);\n</code></pre>\n\n<p>The \"Armadillo NaN\" is the one that is part of the <a href=\"http://arma.sourceforge.net/docs.html#constants\" rel=\"nofollow noreferrer\">Armadillo linear algebra package</a>:</p>\n\n<pre><code>datum::nan      \u201cnot a number\u201d (NaN); caveat: NaN is not equal to anything, even itself\n</code></pre>\n\n<p>Is it safe to mix them?</p>\n\n<hr>\n\n<p>Thought exercise:</p>\n\n<p>Say you have a function that finds and returns a value from an Armadillo matrix:</p>\n\n<pre><code>arma::mat lookup_table;\nin a loop or something\ndouble val = deriving_value_from_table(lookup_table, input1, input2, input3 ...)\n</code></pre>\n\n<p>Say the function determines that it should return <code>lookup_table(3, 2)</code>, and said value is <code>arma::datum::nan</code>.</p>\n\n<p>Can I use <code>val</code> and expect it to be a proper NaN? What if I later put <code>val</code> into a different Armadillo matrix, will functions like <code>arma::is_finite(X)</code> still work as expected?</p>\n"}, {"tags": ["c++", "namespaces", "c++14", "generic-lambda"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517426626, "post_id": 48549691, "comment_id": 84095805, "body": "I would guess if MSVC does not accept that then it is correct code and vice versa"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 2, "creation_date": 1517427254, "post_id": 48549691, "comment_id": 84096158, "body": "This is definitely a MSVC bug. Even if the code is invalid, <a href=\"https://docs.microsoft.com/en-us/cpp/error-messages/compiler-errors-2/compiler-error-c2888\" rel=\"nofollow noreferrer\">the error that MSVC gives</a> doesn&#39;t make sense here."}, {"owner": {"reputation": 161, "user_id": 9260020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f709479154c250e6f3a7f0314eeb608?s=128&d=identicon&r=PG&f=1", "display_name": "Karl", "link": "https://stackoverflow.com/users/9260020/karl"}, "edited": false, "score": 4, "creation_date": 1517427589, "post_id": 48549691, "comment_id": 84096340, "body": "This is a MSVC bug. There is nothing in the standard that says generic lambdas can only be used in the global namespace."}], "answers": [{"comments": [{"owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 1, "creation_date": 1517482839, "post_id": 48560975, "comment_id": 84117889, "body": "This is a fine answer. Why would you need to add a comment?"}, {"owner": {"reputation": 770, "user_id": 6314639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e0926de6c943fe98f71a15dbc25905e5?s=128&d=identicon&r=PG", "display_name": "Ivan Sanz-Carasa", "link": "https://stackoverflow.com/users/6314639/ivan-sanz-carasa"}, "reply_to_user": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "edited": false, "score": 0, "creation_date": 1517484691, "post_id": 48560975, "comment_id": 84118969, "body": "@SebastianRedl I wanted to add a comment with the workaround instead of a full answer"}], "tags": [], "owner": {"reputation": 770, "user_id": 6314639, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e0926de6c943fe98f71a15dbc25905e5?s=128&d=identicon&r=PG", "display_name": "Ivan Sanz-Carasa", "link": "https://stackoverflow.com/users/6314639/ivan-sanz-carasa"}, "is_accepted": true, "score": 6, "last_activity_date": 1517486887, "last_edit_date": 1517486887, "creation_date": 1517482269, "answer_id": 48560975, "question_id": 48549691, "link": "https://stackoverflow.com/questions/48549691/generic-lambda-cannot-be-used-within-a-namespace/48560975#48560975", "title": "Generic lambda cannot be used within a namespace?", "body": "<p>Yes, this is a MSVC bug but <strong>it has been fixed on VS2017 15.6 preview 2.0</strong></p>\n\n<p>There is no specification in the standard that restricts generic lambdas to exist only in the global namespace. </p>\n\n<p>POC of the problem can be found here: <a href=\"https://godbolt.org/g/BESMK4\" rel=\"noreferrer\">https://godbolt.org/g/BESMK4</a></p>\n\n<p>MSVC is not able to deduce that <code>auto</code> is exactly <code>T</code> in every case, and fails.</p>\n\n<p>In case you need to make it work with MSVC, replace <code>auto</code> with explicit <code>T</code>:</p>\n\n<pre><code>template&lt;typename T&gt;\ntypename X&lt;T&gt;::Function X&lt;T&gt;::f = [](T) { return 42; };\n</code></pre>\n\n<p><a href=\"https://godbolt.org/g/cYG9GC\" rel=\"noreferrer\">https://godbolt.org/g/cYG9GC</a></p>\n"}], "owner": {"reputation": 193, "user_id": 8439458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/122331977fb2e1c0da9987d66a2af0ed?s=128&d=identicon&r=PG&f=1", "display_name": "rafalc", "link": "https://stackoverflow.com/users/8439458/rafalc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 0, "accepted_answer_id": 48560975, "answer_count": 1, "score": 6, "last_activity_date": 1517486887, "creation_date": 1517425707, "question_id": 48549691, "link": "https://stackoverflow.com/questions/48549691/generic-lambda-cannot-be-used-within-a-namespace", "title": "Generic lambda cannot be used within a namespace?", "body": "<p>Consider the following piece of code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n\nnamespace A {\n    template&lt;typename T&gt;\n    struct X {\n        using Function = std::function&lt;int(T)&gt;;\n        static Function f;\n    };\n\n    template&lt;typename T&gt;\n    typename X&lt;T&gt;::Function X&lt;T&gt;::f = [](auto) { return 42; };\n\n}\n\nint main() {\n    std::cout &lt;&lt; A::X&lt;int&gt;::f(0);\n}\n</code></pre>\n\n<p>Both GCC and clang accept this code but MSVC (tested version 19.00.23506) gives:</p>\n\n<p><code>error C2888: 'auto &lt;lambda_ce48e25aa4b9e3d225584044e4eae9e2&gt;::operator ()(_T1) const': symbol cannot be defined within namespace 'A'</code></p>\n\n<p>And indeed, if I remove namespace A and define everything in the global namespace, the code is accepted. Same if I make lambda expression non-generic.</p>\n\n<p>Can someone explain what is the problem that MSVC sees in this code? Does C++ Standard restrict usage of generic lambdas in contexts like above?</p>\n"}, {"tags": ["c++", "divide"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 3, "creation_date": 1517425395, "post_id": 48549584, "comment_id": 84095175, "body": "Do you know the purpose of <code>endl</code>?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 2, "creation_date": 1517425481, "post_id": 48549584, "comment_id": 84095221, "body": "I suspect you&#39;re making it just one character too wide and the console is adding a line because of it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 1, "creation_date": 1517427318, "post_id": 48549584, "comment_id": 84096194, "body": "<i>@sss34</i> However, that&#39;s not really answerable without a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Post one in your question please."}], "answers": [{"tags": [], "owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "is_accepted": false, "score": 0, "last_activity_date": 1517428515, "last_edit_date": 1517428515, "creation_date": 1517428049, "answer_id": 48550292, "question_id": 48549584, "link": "https://stackoverflow.com/questions/48549584/divider-in-a-program/48550292#48550292", "title": "Divider in a program", "body": "<p>I duplicated your problem using MinGW and running in a 80 column Windows console with SCREEN_WIDTH set to 80. If the console is wider than SCREEN_WIDTH + 1, the problem is not exhibited.</p>\n\n<p>Your code will print exactly SCREEN_WIDTH asterisks followed by a space. If your console is exactly SCREEN_WIDTH columns wide, that space will actually be printed on the next line (though you can't see it -- it's a space!). Even if you subtract one, the space will still be on the last column of the line, causing the cursor to drop a line. The <code>endl</code> will do that again.</p>\n\n<p>I was able to get results very close to what you're looking for with this:</p>\n\n<pre><code> cout &lt;&lt; setfill('*') &lt;&lt; setw(SCREEN_WIDTH) &lt;&lt; \"\\n\" &lt;&lt; setfill(' ');\n</code></pre>\n\n<p>It's one asterisk short of a full line, but that's about the best you can do. If you know you will always run on the same console type with exactly SCREEN_WIDTH columns, you could use empty quotes instead of the <code>\"\\n\"</code>. But that's assuming a lot of the console.</p>\n\n<p>Resulting code I used:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nusing namespace std; // BLECH!!\n\nint main()\n{\n    const auto SCREEN_WIDTH = 80;\n    const auto COLLEGE = \"Broome\";\n    const auto COURSE = \"CST 113 Y01\";\n    const auto LAB_NAME = \"LAB\";\n    const auto PROGRAMMER_NAME = \"Stan\";\n\n    //Output the divider to the screen\n    cout &lt;&lt; setfill('*') &lt;&lt; setw(SCREEN_WIDTH) &lt;&lt; \"\\n\" &lt;&lt; setfill(' ');\n\n    // Output the course heading to the screen\n    cout &lt;&lt; setw((SCREEN_WIDTH + 11) / 2) &lt;&lt; COLLEGE &lt;&lt; endl;\n    cout &lt;&lt; setw((SCREEN_WIDTH + 11) / 2) &lt;&lt; COURSE &lt;&lt; endl;\n    cout &lt;&lt; setw((SCREEN_WIDTH + 5) / 2) &lt;&lt; LAB_NAME &lt;&lt; endl;\n    cout &lt;&lt; setw((SCREEN_WIDTH + 15) / 2) &lt;&lt; PROGRAMMER_NAME &lt;&lt; endl;\n\n    //Output the divider to the screen\n    cout &lt;&lt; setfill('*') &lt;&lt; setw(SCREEN_WIDTH) &lt;&lt; \"\\n\" &lt;&lt; setfill(' ');\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>*******************************************************************************\n                                       Broome\n                                  CST 113 Y01\n                                       LAB\n                                           Stan\n*******************************************************************************\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5879886, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/00afedb533fa080344c91cb90ef50fcf?s=128&d=identicon&r=PG&f=1", "display_name": "sss34", "link": "https://stackoverflow.com/users/5879886/sss34"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 933, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1517428515, "creation_date": 1517425332, "question_id": 48549584, "link": "https://stackoverflow.com/questions/48549584/divider-in-a-program", "title": "Divider in a program", "body": "<p>I am trying to get a divider in my program, I got it to output however I notice their is a gap on the top. For example my code outputs:</p>\n\n<pre><code>*******************************************************************************************\n\n                                                  Broome\n                                                  CST 113 Y01\n                                                     LAB \n                                                  Stan\n******************************************************************************************\n</code></pre>\n\n<p>I just want the code to output like this:</p>\n\n<pre><code>  *******************************************************************************************                   \n                                                  Broome\n                                                  CST 113 Y01\n                                                     LAB \n                                                  Stan\n******************************************************************************************\n</code></pre>\n\n<p>without that annoying gap. Here is my that outputs the divider:</p>\n\n<pre><code>//Output the divider to the screen\ncout &lt;&lt; setfill('*') &lt;&lt; setw(SCREEN_WIDTH + 1) &lt;&lt; \" \" &lt;&lt; setfill(' ') \n     &lt;&lt; endl;\n\n// Output the course heading to the screen\ncout &lt;&lt; setw((SCREEN_WIDTH + 11) / 2) &lt;&lt; COLLEGE &lt;&lt; endl;\ncout &lt;&lt; setw((SCREEN_WIDTH + 11) / 2) &lt;&lt; COURSE &lt;&lt; endl;\ncout &lt;&lt; setw((SCREEN_WIDTH + 5) / 2) &lt;&lt; LAB_NAME &lt;&lt; endl;\ncout &lt;&lt; setw((SCREEN_WIDTH + 15) / 2) &lt;&lt; PROGRAMMER_NAME &lt;&lt; endl;\n\n//Output the divider to the screen\ncout &lt;&lt; setfill('*') &lt;&lt; setw(SCREEN_WIDTH + 1) &lt;&lt; \" \" &lt;&lt; setfill(' ') &lt;&lt; endl;\n</code></pre>\n\n<p>I am sure it is something simple I am missing</p>\n"}, {"tags": ["c++", "arrays", "merge"], "comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1517424976, "post_id": 48549488, "comment_id": 84094947, "body": "What is merge (logically) supposed to return?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 6, "creation_date": 1517425043, "post_id": 48549488, "comment_id": 84094981, "body": "There are no VLA&#39;s in c++. Your code is fundametally wrong."}, {"owner": {"reputation": 11, "user_id": 9277084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07284839c49942ebc04c38edbdfd9560?s=128&d=identicon&r=PG&f=1", "display_name": "150", "link": "https://stackoverflow.com/users/9277084/150"}, "edited": false, "score": 0, "creation_date": 1517425146, "post_id": 48549488, "comment_id": 84095039, "body": "It should return an array whose number of elements is the sum of the number of elements of my two starter arrays"}, {"owner": {"reputation": 3638, "user_id": 3893262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2c2858a4f4f41634337f78973b0281aa?s=128&d=identicon&r=PG&f=1", "display_name": "O&#39;Neil", "link": "https://stackoverflow.com/users/3893262/oneil"}, "edited": false, "score": 0, "creation_date": 1517425537, "post_id": 48549488, "comment_id": 84095254, "body": "Welcome to C++ and its dynamic size array: <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\"><code>std::vector</code></a>."}, {"owner": {"reputation": 2179, "user_id": 2630666, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/VIN5F.jpg?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2630666/matt"}, "edited": false, "score": 3, "creation_date": 1517425887, "post_id": 48549488, "comment_id": 84095434, "body": "<code>&#47;&#47;Code here</code> .... along with &quot;I got errors...&quot; not a very complete question..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517426983, "post_id": 48549488, "comment_id": 84095988, "body": "<i>@150</i> <i>&quot;but I got errors...&quot;</i> Isn&#39;t a particularly precise problem description."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 1, "creation_date": 1517426101, "post_id": 48549748, "comment_id": 84095537, "body": "Worth to mention there&#39;s already <a href=\"http://en.cppreference.com/w/cpp/algorithm/merge\" rel=\"nofollow noreferrer\"><code>std::merge()</code></a>."}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 1, "creation_date": 1517426553, "post_id": 48549748, "comment_id": 84095766, "body": "@TheDude added a note about <code>std::merge</code>.  God, I can&#39;t wait until we get ranges to make those invocations less verbose."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517426707, "post_id": 48549748, "comment_id": 84095842, "body": "<i>&quot;... to make those invocations less verbose.&quot;</i> Using <code>std::begin(arrc)</code> and <code>std::end(arrc)</code>, etc. helps a little bit IMO. At least with explicit <code>using</code> directives."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517428863, "post_id": 48549748, "comment_id": 84096988, "body": "Since you know the size of the final vector, it probably makes sense to do <code>ret.reserve(a.size() + b.size());</code> before stuffing things into it. Also, you can ditch the first <code>for</code> loop by just creating <code>ret</code> from <code>a</code> like <code>std::vector&lt;int&gt; ret{a.begin(), a.end()};</code>."}], "tags": [], "owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "is_accepted": false, "score": 4, "last_activity_date": 1517426459, "last_edit_date": 1517426459, "creation_date": 1517425903, "answer_id": 48549748, "question_id": 48549488, "link": "https://stackoverflow.com/questions/48549488/create-a-function-out-of-main-that-merge-two-arrays-c/48549748#48549748", "title": "Create a function out of main that merge two arrays C++", "body": "<p>The code</p>\n\n<pre><code>int arrc[dim1];\nint arrd[dim2];\n</code></pre>\n\n<p>Is not valid C++.  C++ does not have variable length arrays, so for that to work, <code>dim1</code> and <code>dim2</code> would have to be compile-time constants.  Instead, you will have to use either dynamically-allocated arrays, or better yet, <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\"><code>std::vector</code></a> (which is basically just a wrapper for a dynamically-allocated array that can re-allocate to allow the array to grow):</p>\n\n<pre><code>std::vector&lt;int&gt; arrc(dim1);\nstd::vector&lt;int&gt; arrd(dim2);\n</code></pre>\n\n<p>Similarly, you would then change your <code>merge</code> function's signature to be something like:</p>\n\n<pre><code>std::vector&lt;int&gt; merge(const std::vector&lt;int&gt;&amp; a, const std::vector&lt;int&gt;&amp; b)\n{\n    std::vector&lt;int&gt; ret;\n    for (int i : a)\n    {\n        ret.push_back(i);\n    }\n    for (int i : b)\n    {\n        ret.push_back(i);\n    }\n    return ret;\n}\n</code></pre>\n\n<p>You don't actually need to implement your own <code>merge</code> function though.  The C++ standard library already provides <a href=\"http://en.cppreference.com/w/cpp/algorithm/merge\" rel=\"nofollow noreferrer\"><code>std::merge</code></a>, which you would like this:</p>\n\n<pre><code>std::vector&lt;int&gt; arrc(dim1);\nstd::vector&lt;int&gt; arrd(dim2);\n// Fill arrc and arrd somehow\n\nstd::vector&lt;int&gt; merged;\nstd::merge(arrc.begin(), arrc.end(),\n           arrd.begin(), arrd.end(),\n           std::back_inserter(merged));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1119, "user_id": 6797534, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Tu8Gt9iJGt8/AAAAAAAAAAI/AAAAAAAAAI0/Diz261BzMYk/photo.jpg?sz=128", "display_name": "Ray Hamel", "link": "https://stackoverflow.com/users/6797534/ray-hamel"}, "is_accepted": false, "score": 0, "last_activity_date": 1517428125, "last_edit_date": 1517428125, "creation_date": 1517427721, "answer_id": 48550218, "question_id": 48549488, "link": "https://stackoverflow.com/questions/48549488/create-a-function-out-of-main-that-merge-two-arrays-c/48550218#48550218", "title": "Create a function out of main that merge two arrays C++", "body": "<p>C-style arrays can't be directly returned from a function, and when they're passed to a function by value they implicitly convert to a pointer, losing their size information.</p>\n\n<p>To preserve the size information of a C-style array, you can take it by reference in a template function like so:</p>\n\n<pre><code>#include &lt;cstddef&gt;\n\ntemplate&lt;std::size_t N&gt;\nint &amp;last_element(int(&amp;a)[N])\n{\n    return a[N - 1];\n}\n</code></pre>\n\n<p>While C-style arrays can't be directly returned from a function, <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> from the standard library can.</p>\n\n<pre><code>#include &lt;array&gt;\n\nstd::array&lt;int, 3&gt; get_array()\n{\n    return {};\n}\n</code></pre>\n\n<p>Putting the two together, you can do something like</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;array&gt;\n#include &lt;cstddef&gt;\n\nnamespace detail {\n\ntemplate&lt;std::size_t N1, std::size_t N2&gt;\ninline auto join_(const int a1[], const int a2[]) noexcept\n{\n    std::array&lt;int, N1 + N2&gt; joined;\n\n    std::copy_n(a1, N1, joined.begin());\n    std::copy_n(a2, N2, joined.begin() + N1);\n\n    return joined;\n}\n\n}//detail\n\n// std::array overload\ntemplate&lt;std::size_t N1, std::size_t N2&gt;\nauto join(const std::array&lt;int, N1&gt; &amp;a1, const std::array&lt;int, N2&gt; &amp;a2) noexcept\n{\n    return detail::join_&lt;N1, N2&gt;(a1.data(), a2.data());\n}\n\n// C-style array overload\ntemplate&lt;std::size_t N1, std::size_t N2&gt;\nauto join(const int(&amp;a1)[N1], const int(&amp;a2)[N2]) noexcept\n{\n    return detail::join_&lt;N1, N2&gt;(a1, a2);\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9277084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07284839c49942ebc04c38edbdfd9560?s=128&d=identicon&r=PG&f=1", "display_name": "150", "link": "https://stackoverflow.com/users/9277084/150"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517428125, "creation_date": 1517424886, "last_edit_date": 1517425322, "question_id": 48549488, "link": "https://stackoverflow.com/questions/48549488/create-a-function-out-of-main-that-merge-two-arrays-c", "title": "Create a function out of main that merge two arrays C++", "body": "<p>In my main function i have:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\nint merge(int a[], int b[]);\n\n int dim1, dim2;\n\n\ncin &gt;&gt; dim1 &gt;&gt; dim2;\n int arrc[dim1];\n int arrd[dim2];\n</code></pre>\n\n<p>I fill my arrays with:</p>\n\n<pre><code>    for(int i = 0; i &lt; dim1; i++){\n        cin &gt;&gt; arrc[i];\n    }\n\n    for(int i = 0; i &lt; dim2; i++){\n        cin &gt;&gt; arrd[i];\n    }\n</code></pre>\n\n<p>Out of main func, then i have:</p>\n\n<pre><code>int merge(int a[], int b[]){\n    int q;\n    int arrf[q];\n //Code here\n}\n</code></pre>\n\n<p>How can I make my int q be the sum of dim1 and dim2?\nI tried to declare merge function as:</p>\n\n<pre><code> int merge(int a[something], int b[something2]);\n</code></pre>\n\n<p>but I got errors...</p>\n"}, {"tags": ["c++", "multidimensional-array"], "comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1517424804, "post_id": 48549436, "comment_id": 84094865, "body": "Related: <a href=\"https://stackoverflow.com/questions/20574631/swap-rows-for-columns-in-c\" title=\"swap rows for columns in c\">stackoverflow.com/questions/20574631/swap-rows-for-columns-i&zwnj;&#8203;n-c</a>"}, {"owner": {"reputation": 1295, "user_id": 4360863, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/heWif.png?s=128&g=1", "display_name": "Philip Brack", "link": "https://stackoverflow.com/users/4360863/philip-brack"}, "edited": false, "score": 2, "creation_date": 1517425286, "post_id": 48549436, "comment_id": 84095118, "body": "welcome to the site.  Please show your code so far and explain what happens and where you thing the issue is."}, {"owner": {"reputation": 973, "user_id": 7023562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1291556954197383/picture?type=large", "display_name": "theboringdeveloper", "link": "https://stackoverflow.com/users/7023562/theboringdeveloper"}, "edited": false, "score": 0, "creation_date": 1517475939, "post_id": 48549436, "comment_id": 84113423, "body": "If you did find the solution to your question you should accept the correct answer. So that others can be sure it worked."}], "answers": [{"tags": [], "owner": {"reputation": 973, "user_id": 7023562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1291556954197383/picture?type=large", "display_name": "theboringdeveloper", "link": "https://stackoverflow.com/users/7023562/theboringdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1517425041, "creation_date": 1517425041, "answer_id": 48549531, "question_id": 48549436, "link": "https://stackoverflow.com/questions/48549436/swapping-of-first-column-with-the-first-row-of-3x3-array/48549531#48549531", "title": "Swapping of first column with the first row of [3x3] array", "body": "<p>You can try-</p>\n\n<pre><code>for( i = 1; i &lt; arraySize ; i++){\n    int temp = array[0][i];\n    array[0][i] = array[i][0]\n    array[i][0] = temp;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9296233, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hca7We75T8k/AAAAAAAAAAI/AAAAAAAABso/JUOSBtbWKLk/photo.jpg?sz=128", "display_name": "Vikas Ganwani", "link": "https://stackoverflow.com/users/9296233/vikas-ganwani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1517425041, "creation_date": 1517424645, "last_edit_date": 1517424822, "question_id": 48549436, "link": "https://stackoverflow.com/questions/48549436/swapping-of-first-column-with-the-first-row-of-3x3-array", "title": "Swapping of first column with the first row of [3x3] array", "body": "<p>How to swap the first column with the first row of a [3x3] array?\nI don't want any changes in the other rows or columns.</p>\n"}, {"tags": ["python", "c++", "swig"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517424692, "post_id": 48549416, "comment_id": 84094795, "body": "Related: <a href=\"https://stackoverflow.com/questions/31816095/why-should-i-not-include-bits-stdc-h\" title=\"why should i not include bits stdc h\">stackoverflow.com/questions/31816095/&hellip;</a>"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 2, "creation_date": 1517424769, "post_id": 48549416, "comment_id": 84094841, "body": "<code>&lt;forward_list&gt;</code> was added in C++11 check your compiler and compiler flags. see: <a href=\"http://en.cppreference.com/w/cpp/header\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/header</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1517424792, "post_id": 48549416, "comment_id": 84094857, "body": "That question linked is irrelevant here. the asker&#39;s not directly including parts of bits. I suspect this stems from not having C++11 enabled."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 9093234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2345f3b8e7305294793e484b34cad531?s=128&d=identicon&r=PG&f=1", "display_name": "Hungry Python", "link": "https://stackoverflow.com/users/9093234/hungry-python"}, "is_accepted": false, "score": 0, "last_activity_date": 1517438118, "creation_date": 1517438118, "answer_id": 48552577, "question_id": 48549416, "link": "https://stackoverflow.com/questions/48549416/swig-either-missing-bits-cconfig-h-or-includes-cannot-be-found/48552577#48552577", "title": "Swig: either missing /bits/c++config.h or includes cannot be found", "body": "<p>It seems that I have simply forgotton to add the  <code>-c++</code> option in the command. This obviously lets swig know, that it is c++ code. The error messages concerning <code>bits/&lt;xy&gt;.h</code> are gone then. </p>\n"}], "owner": {"reputation": 11, "user_id": 9093234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2345f3b8e7305294793e484b34cad531?s=128&d=identicon&r=PG&f=1", "display_name": "Hungry Python", "link": "https://stackoverflow.com/users/9093234/hungry-python"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517438118, "creation_date": 1517424563, "last_edit_date": 1517424775, "question_id": 48549416, "link": "https://stackoverflow.com/questions/48549416/swig-either-missing-bits-cconfig-h-or-includes-cannot-be-found", "title": "Swig: either missing /bits/c++config.h or includes cannot be found", "body": "<p>I am having huge troubles with swig. \nI want to write a library in C++ to include it and use it as python extension.\nThe problem is, that swig complains about additional includes, that it cannot find, when i use the following command:</p>\n\n<pre><code>swig -python -Isrc myModule.i\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>Error: unable to find 'forward_list'\n</code></pre>\n\n<p>and a few more that are specified in my interface file:</p>\n\n<pre><code>/* file: myModule.i */\n%module myModule\n%{\n#include &lt;forward_list&gt;\n#include &lt;string&gt;\n#include &lt;set&gt;\n#include \"myModule.h\"\n%}\n\n%include \"myModule.h\"\n%include &lt;forward_list&gt;\n%include &lt;string&gt;\n%include &lt;set&gt;\n</code></pre>\n\n<p>I followed the intructions to incorporate additional directories and used the following command:</p>\n\n<pre><code>swig -python -I/usr/include/c++/5 -Isrc myModule.h\n</code></pre>\n\n<p>Then swig was complaining about missing files in </p>\n\n<pre><code>/usr/include/c++/5/bits\n</code></pre>\n\n<p>For example c++config.h. I have both c++-multilib and g++-multilib installed.\nHowever, these packages have been installed to another directory: </p>\n\n<pre><code>/usr/include/x86_64-linux-gnu/c++/5/bits\n</code></pre>\n\n<p>So I can decide now, if I want swig to find the necessary files by specifying -I to these, or to be able to find the includes, which are located in the other folder.\nWhat can I do or rather, what am I doing wrong?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1517423502, "post_id": 48549113, "comment_id": 84094149, "body": "It says dot, not <code>size()</code>, but I agree that this is somewhat confusing."}, {"owner": {"reputation": 153, "user_id": 9241516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1506147516173378/picture?type=large", "display_name": "Hovhannes  Vardanyan", "link": "https://stackoverflow.com/users/9241516/hovhannes-vardanyan"}, "reply_to_user": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1517423570, "post_id": 48549113, "comment_id": 84094184, "body": "look it talks about that size() example  explaining p -&gt; size() // p is a pointer to string"}, {"owner": {"reputation": 153, "user_id": 9241516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1506147516173378/picture?type=large", "display_name": "Hovhannes  Vardanyan", "link": "https://stackoverflow.com/users/9241516/hovhannes-vardanyan"}, "reply_to_user": {"reputation": 2105, "user_id": 4593721, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MQ5ui.jpg?s=128&g=1", "display_name": "Incomputable", "link": "https://stackoverflow.com/users/4593721/incomputable"}, "edited": false, "score": 0, "creation_date": 1517423587, "post_id": 48549113, "comment_id": 84094191, "body": "and says that arrow operator returns lvalue"}, {"owner": {"reputation": 10203, "user_id": 4672588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edcbc85fb3b43202dab37afb2bd5281e?s=128&d=identicon&r=PG&f=1", "display_name": "cpplearner", "link": "https://stackoverflow.com/users/4672588/cpplearner"}, "edited": false, "score": 0, "creation_date": 1517424155, "post_id": 48549113, "comment_id": 84094510, "body": "<code>x.size()</code> is a function call expression. <code>x.size</code> is a class member access, but it&#39;s not quite useful to know whether <code>x.size</code> is an lvalue."}], "answers": [{"comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 2, "creation_date": 1517423829, "post_id": 48549159, "comment_id": 84094316, "body": "Yes, it is a member. A member function, specifically."}, {"owner": {"reputation": 128, "user_id": 9270351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35c46013d34eef296562e448cf68276?s=128&d=identicon&r=PG", "display_name": "MarcusS", "link": "https://stackoverflow.com/users/9270351/marcuss"}, "edited": false, "score": 3, "creation_date": 1517424062, "post_id": 48549159, "comment_id": 84094452, "body": "I don&#39;t think this is a correct answer. The key in the statement is the difference between lvalue and rvalue. The used method is simply a rvalue. There are methods which can be used as lvalue."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 128, "user_id": 9270351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35c46013d34eef296562e448cf68276?s=128&d=identicon&r=PG", "display_name": "MarcusS", "link": "https://stackoverflow.com/users/9270351/marcuss"}, "edited": false, "score": 0, "creation_date": 1517424497, "post_id": 48549159, "comment_id": 84094684, "body": "@MarcusS you cannot use member function as an lvalue syntactically so it is irrelevant is <code>x.size</code> an lvalue or not, but this cannot apply to the result of a function call."}, {"owner": {"reputation": 128, "user_id": 9270351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35c46013d34eef296562e448cf68276?s=128&d=identicon&r=PG", "display_name": "MarcusS", "link": "https://stackoverflow.com/users/9270351/marcuss"}, "edited": false, "score": 0, "creation_date": 1517424885, "post_id": 48549159, "comment_id": 84094901, "body": "@Slava You can use methods as lvalue when they are returning a reference."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 128, "user_id": 9270351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a35c46013d34eef296562e448cf68276?s=128&d=identicon&r=PG", "display_name": "MarcusS", "link": "https://stackoverflow.com/users/9270351/marcuss"}, "edited": false, "score": 0, "creation_date": 1517425003, "post_id": 48549159, "comment_id": 84094961, "body": "@MarcusS yes you can use result of a function (member or not) call as lvalue in some cases, how is that related to the question and how that makes my answer incorrect?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1517425573, "post_id": 48549159, "comment_id": 84095274, "body": "In your original answer, which is still the first part of your answer, are you talking about the function itself, or its result? If you are contesting that the function itself is not a member, C++ parlance (derived from the original books on C++, and now embedded in the standard itself) disagrees. What some other languages call methods, are (and have have always been) called member functions in C++. If you&#39;re instead referring to the result of the function, I&#39;ve never heard anyone, in any language, refer to the result of the function as a method."}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1517425594, "post_id": 48549159, "comment_id": 84095285, "body": "So either way, I don&#39;t see the relevance of the first part of your answer."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 3, "last_activity_date": 1517425123, "last_edit_date": 1517425123, "creation_date": 1517423551, "answer_id": 48549159, "question_id": 48549113, "link": "https://stackoverflow.com/questions/48549113/does-calling-a-member-from-an-object-that-is-lvalue-return-lvalue/48549159#48549159", "title": "Does calling a member from an object that is lvalue return lvalue?", "body": "<blockquote>\n  <p>\"The dot operator yields an lvalue if the object from which the <strong>member</strong> is fetched is an lvalue;otherwise the result is an rvalue.\"</p>\n</blockquote>\n\n<p><code>std::string::size()</code> is not a member, but method so your example does not follow the statement.</p>\n\n<p>Note: we can have discussion if we can call method a member in this sense. This is questionable, but citation then would apply to member function itself, not the result of the call which relies on different rules. Maybe we can discuss if  <code>x.size</code> is an lvalue or not(which does not make much sense as you cannot assign to pointer to member function or standalone one), but this rule definitely would not apply to <code>x.size()</code></p>\n\n<p>Look like though this statement is simplified for clarity, for example \"otherwise the result is an rvalue\" is not quite correct as it is actually <code>xvalue</code>:</p>\n\n<blockquote>\n  <p>a.m, the member of object expression, where a is an rvalue and m is a non-static data member of non-reference type;</p>\n</blockquote>\n\n<p>Details can be found here <a href=\"http://en.cppreference.com/w/cpp/language/value_category\" rel=\"nofollow noreferrer\">value category</a></p>\n"}, {"comments": [{"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517424003, "post_id": 48549201, "comment_id": 84094419, "body": "Not sure, but I would rather guess, it&#39;s an <a href=\"http://en.cppreference.com/w/cpp/language/value_category#xvalue\" rel=\"nofollow noreferrer\"><code>xvalue</code></a> or plain rvalue."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1517425158, "post_id": 48549201, "comment_id": 84095043, "body": "Returning by value returns a prvalue"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517425186, "post_id": 48549201, "comment_id": 84095067, "body": "&quot;a function call or an overloaded operator expression, whose return type is non-reference, such as &quot; that is from <code>prvalue</code>"}], "tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": 3, "last_activity_date": 1517423692, "creation_date": 1517423692, "answer_id": 48549201, "question_id": 48549113, "link": "https://stackoverflow.com/questions/48549113/does-calling-a-member-from-an-object-that-is-lvalue-return-lvalue/48549201#48549201", "title": "Does calling a member from an object that is lvalue return lvalue?", "body": "<p>The error message complains about the <em>result</em> of <code>x.size()</code>, and not about <code>x</code> or <code>x.size()</code> itself. And the result (<code>std::string::size_type</code>) is not a l-value but an r-value.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 6, "last_activity_date": 1517424605, "last_edit_date": 1517424605, "creation_date": 1517424228, "answer_id": 48549335, "question_id": 48549113, "link": "https://stackoverflow.com/questions/48549113/does-calling-a-member-from-an-object-that-is-lvalue-return-lvalue/48549335#48549335", "title": "Does calling a member from an object that is lvalue return lvalue?", "body": "<blockquote>\n  <p>\"The dot operator yields an lvalue if the object from which the member is fetched is an lvalue;otherwise the result is an rvalue.\"</p>\n</blockquote>\n\n<p>This is relevant when the member is an object, not a function.</p>\n\n<p>Let's say you have:</p>\n\n<pre><code>struct Foo\n{\n   int a;\n};\n\nFoo bar() { return Foo{}; }\n</code></pre>\n\n<p>and use <code>Foo</code> and <code>bar</code> as:</p>\n\n<pre><code>int main()\n{\n    Foo f1;  // f1 is an lvalue.\n    f1.a = 10;   // Valid. f1 is an lvalue. Implies that f1.a is an lvalue.\n\n    bar();   // The object returned is not an lvalue.\n    bar().a = 20; // Not vaild since bar().a is not an lvalue.\n}\n</code></pre>\n\n<p>In your case,</p>\n\n<pre><code>x.size() = 20;\n</code></pre>\n\n<p>fails not because <code>x</code> is not an lvalue but because <code>x.size()</code> returns an object that is not an lvalue.</p>\n"}], "owner": {"reputation": 153, "user_id": 9241516, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1506147516173378/picture?type=large", "display_name": "Hovhannes  Vardanyan", "link": "https://stackoverflow.com/users/9241516/hovhannes-vardanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 48549335, "answer_count": 3, "score": 3, "last_activity_date": 1517425123, "creation_date": 1517423363, "last_edit_date": 1517424492, "question_id": 48549113, "link": "https://stackoverflow.com/questions/48549113/does-calling-a-member-from-an-object-that-is-lvalue-return-lvalue", "title": "Does calling a member from an object that is lvalue return lvalue?", "body": "<p>I am studying C++ primer 5th edition by Lipman and I have a question. In that book is written:</p>\n\n<blockquote>\n  <p>The dot operator yields an lvalue if the object from which the member is fetched is an lvalue; otherwise the result is an rvalue.</p>\n</blockquote>\n\n<pre><code>string x = \"Hello World\";\nx.size() = 20; // I get an error saying that left-hand operand should be an l-\n               //  value\n</code></pre>\n\n<p>Can anyone explain why?</p>\n"}, {"tags": ["c++", "templates", "error-handling"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1517423375, "post_id": 48549095, "comment_id": 84094090, "body": "Just do not catch that exception, or throw new one"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1517424899, "post_id": 48549095, "comment_id": 84094912, "body": "OT: don\u2019t throw a char*. Always throw something derived from std::exception. Catch as const &amp;. Use std::runtime_error to get an exception that handles a std::string message."}], "answers": [{"comments": [{"owner": {"reputation": 203, "user_id": 8822312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/536b6e87a5483fd42203c6f9d5a13328?s=128&d=identicon&r=PG&f=1", "display_name": "Yongliang He", "link": "https://stackoverflow.com/users/8822312/yongliang-he"}, "edited": false, "score": 0, "creation_date": 1517937916, "post_id": 48549160, "comment_id": 84294792, "body": "if I re-throw an exception, it seems the error message <code>msg</code> won&#39;t be printed out? In the end, there would be an unhandled exception. How can I get the <code>msg</code> showed?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "reply_to_user": {"reputation": 203, "user_id": 8822312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/536b6e87a5483fd42203c6f9d5a13328?s=128&d=identicon&r=PG&f=1", "display_name": "Yongliang He", "link": "https://stackoverflow.com/users/8822312/yongliang-he"}, "edited": false, "score": 0, "creation_date": 1517939229, "post_id": 48549160, "comment_id": 84295537, "body": "@YongliangHe Try printing to <code>std::cerr</code> instead."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "is_accepted": false, "score": 3, "last_activity_date": 1517423552, "creation_date": 1517423552, "answer_id": 48549160, "question_id": 48549095, "link": "https://stackoverflow.com/questions/48549095/c-catch-error-and-exit-the-function/48549160#48549160", "title": "C++ catch error and exit the function", "body": "<blockquote>\n  <p>However, I don't want the outside get return any value if checkIndex throws an error, because the returned value may be used by other functions or printed out incorrectly.</p>\n</blockquote>\n\n<p>You can always re-throw the exception after logging </p>\n\n<pre><code>T get (int iOffset) const\n{\n    try {\n        checkIndex(iOffset);\n    }\n    catch (char const* msg) {\n        std::cout &lt;&lt; msg &lt;&lt; std::endl;\n        throw; // Just re-throw the exception\n    }\n    int index = (m_iReadIdx + iOffset) % m_iBuffLength;\n    float  a = m_ptBuff[index];\n    return a;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 203, "user_id": 8822312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/536b6e87a5483fd42203c6f9d5a13328?s=128&d=identicon&r=PG&f=1", "display_name": "Yongliang He", "link": "https://stackoverflow.com/users/8822312/yongliang-he"}, "edited": false, "score": 0, "creation_date": 1517937625, "post_id": 48549264, "comment_id": 84294641, "body": "I&#39;m trying to get a value from a buffer with this particular offset, so I&#39;m afraid returning any <code>special_value_for_errors</code> may be misleading? As the value stored in buffer might be equal to `special_value_for errors&#39; by accident?"}], "tags": [], "owner": {"reputation": 28, "user_id": 7496666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a718f7a563c59adb99fb140c3c2a8c?s=128&d=identicon&r=PG&f=1", "display_name": "White Owl", "link": "https://stackoverflow.com/users/7496666/white-owl"}, "is_accepted": false, "score": 1, "last_activity_date": 1517423913, "creation_date": 1517423913, "answer_id": 48549264, "question_id": 48549095, "link": "https://stackoverflow.com/questions/48549095/c-catch-error-and-exit-the-function/48549264#48549264", "title": "C++ catch error and exit the function", "body": "<p>One of the easiest way is first to decide: What exactly should your get() return if it cannot return the 'proper' value?\nIn many cases it is just 0, or -1, or some other special value. \nAnd then the code become very simple:</p>\n\n<pre><code> T get (int iOffset) const\n    {\n        T a;\n        try {\n            checkIndex(iOffset);\n            int index = (m_iReadIdx + iOffset) % m_iBuffLength;\n            a = m_ptBuff[index];\n        }\n        catch (char const* msg) {\n            a = special_value_for_errors;\n            std::cout &lt;&lt; msg &lt;&lt; std::endl;\n        }\n        return a;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 7592072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6115e8b9fc628e6363dea9200d9057?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Smirnov", "link": "https://stackoverflow.com/users/7592072/nikita-smirnov"}, "is_accepted": false, "score": 2, "last_activity_date": 1517423969, "creation_date": 1517423969, "answer_id": 48549277, "question_id": 48549095, "link": "https://stackoverflow.com/questions/48549095/c-catch-error-and-exit-the-function/48549277#48549277", "title": "C++ catch error and exit the function", "body": "<p>You can also use optional for this situation. One of idea of this construct was to indicate that value cannot be set correctly because of some mistakes. </p>\n\n<pre><code>std::optional&lt; T &gt; get (int iOffset ) const\n    {\n        try {\n            checkIndex(iOffset);\n        }\n        catch (char const* msg) {\n            std::cout &lt;&lt; msg &lt;&lt; std::endl;\n            return std::optional&lt; T &gt;();\n        }\n        int index = (m_iReadIdx + iOffset) % m_iBuffLength;\n        float  a = m_ptBuff[index];\n        return return std::optional&lt; T &gt;( a );\n    }\n</code></pre>\n\n<p>Using of such function can look like this:</p>\n\n<pre><code>auto result = get( someOffset );\nif( result )\n{\n  // correct, processing result\n}\n</code></pre>\n"}], "owner": {"reputation": 203, "user_id": 8822312, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/536b6e87a5483fd42203c6f9d5a13328?s=128&d=identicon&r=PG&f=1", "display_name": "Yongliang He", "link": "https://stackoverflow.com/users/8822312/yongliang-he"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2139, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1517423969, "creation_date": 1517423300, "question_id": 48549095, "link": "https://stackoverflow.com/questions/48549095/c-catch-error-and-exit-the-function", "title": "C++ catch error and exit the function", "body": "<p>I use try{} catch(){} to handle errors in a function which return a template type.</p>\n\n<pre><code> T get (int iOffset) const\n    {\n        try {\n            checkIndex(iOffset);\n        }\n        catch (char const* msg) {\n            std::cout &lt;&lt; msg &lt;&lt; std::endl;\n        }\n        int index = (m_iReadIdx + iOffset) % m_iBuffLength;\n        float  a = m_ptBuff[index];\n        return a;\n    }\n</code></pre>\n\n<p>The function would first call <code>checkIndex</code> to check whether the input is out of range and throw an error if so. </p>\n\n<p>However, I don't want the outside <code>get</code> return any value if <code>checkIndex</code> throws an error, because the returned value may be used by other functions or printed out incorrectly. If I put a return in the catch block, I don't know what to return since it's a template. If I don't, the codes following the catch block will still get executed and therefore return a value.</p>\n\n<p>Is there any way to do that? I'm new to C++ and wondering how people usually do the error handling in this condition? THanks!</p>\n"}, {"tags": ["c++", "c", "function", "assembly", "x86"], "comments": [{"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 2, "creation_date": 1517423156, "post_id": 48549014, "comment_id": 84093955, "body": "On x86-64 some args are passed in registers others on the stack. Start with <a href=\"https://en.wikipedia.org/wiki/X86_calling_conventions\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/X86_calling_conventions</a>"}, {"owner": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "edited": false, "score": 1, "creation_date": 1517423594, "post_id": 48549014, "comment_id": 84094194, "body": "First parameter is in <code>rcx</code>, second in <code>rdx</code> (then <code>r8</code> and <code>r9</code>). You also need to create an <a href=\"https://docs.microsoft.com/en-us/cpp/build/stack-allocation\" rel=\"nofollow noreferrer\">home area</a>, possibly via a <code>sub rsp, 20h</code>."}, {"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "reply_to_user": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "edited": false, "score": 1, "creation_date": 1517423902, "post_id": 48549014, "comment_id": 84094352, "body": "@MargaretBloom Depends on the calling convention..."}, {"owner": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "reply_to_user": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1517424150, "post_id": 48549014, "comment_id": 84094505, "body": "@Macmade Yes. Windows 64 bit C++ code, compiled with VC++, used this calling convention last time I checked."}, {"owner": {"reputation": 41564, "user_id": 3857942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXLnN.jpg?s=128&g=1", "display_name": "Michael Petch", "link": "https://stackoverflow.com/users/3857942/michael-petch"}, "reply_to_user": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "edited": false, "score": 0, "creation_date": 1517424192, "post_id": 48549014, "comment_id": 84094533, "body": "@MargaretBloom : Yep x86-64 has pretty much standardized to that one convention on Windows."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 1, "creation_date": 1517425130, "post_id": 48549014, "comment_id": 84095033, "body": "If program A isn&#39;t a debugger it has no business using <code>CreateRemoteThread</code>. That that API even <i>exists</i> is a strong contender for the biggest single design mistake in Windows."}, {"owner": {"reputation": 67, "user_id": 5261139, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd4c2f7c8c672d728884f986a098aed7?s=128&d=identicon&r=PG&f=1", "display_name": "ChronicUser", "link": "https://stackoverflow.com/users/5261139/chronicuser"}, "reply_to_user": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "edited": false, "score": 0, "creation_date": 1517425973, "post_id": 48549014, "comment_id": 84095477, "body": "@Maxim Egorushkin How do I determine if my function requires args to be passes in registers or on the stack?"}, {"owner": {"reputation": 57021, "user_id": 1517578, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gd070.png?s=128&g=1", "display_name": "Simon Whitehead", "link": "https://stackoverflow.com/users/1517578/simon-whitehead"}, "edited": false, "score": 0, "creation_date": 1517435951, "post_id": 48549014, "comment_id": 84100551, "body": "@ChronicUser its simply the amount of arguments. The first four always go in <code>rcx</code>, <code>rdx</code>, <code>r8</code> and <code>r9</code> (in 64-bit Windows anyway..). The rest are placed on the stack AFTER the shadow/home/scratch space. Basically, if you&#39;ve got 6 args you&#39;re passing, arg 5 would go to <code>[rsp+0x28]</code> and arg 6 would go to <code>[rsp+0x30]</code> ... etc (this takes into account the return address already present on the stack ... you would need to adjust it if you are setting up another local frame)."}], "answers": [{"comments": [{"owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1517427906, "post_id": 48549475, "comment_id": 84096487, "body": "ABI is also related to the OS, not only the machine."}, {"owner": {"reputation": 455, "user_id": 9253686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28afb8ac49796a9fae1a9bec60bba686?s=128&d=identicon&r=PG&f=1", "display_name": "0x51ba", "link": "https://stackoverflow.com/users/9253686/0x51ba"}, "reply_to_user": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "edited": false, "score": 0, "creation_date": 1517428726, "post_id": 48549475, "comment_id": 84096919, "body": "@Macmade Thanks for your comment. I edited my answer."}, {"owner": {"reputation": 67, "user_id": 5261139, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd4c2f7c8c672d728884f986a098aed7?s=128&d=identicon&r=PG&f=1", "display_name": "ChronicUser", "link": "https://stackoverflow.com/users/5261139/chronicuser"}, "edited": false, "score": 0, "creation_date": 1517434799, "post_id": 48549475, "comment_id": 84099999, "body": "Thank you so much for the instructions. I went over the assembly code of the function a few more times. The simple problem was the fact that you must determine the order of the arguments and then pass them in a reverse order. Furthermore you must see what arguments go to the stack and which ones will go into to the registries."}], "tags": [], "owner": {"reputation": 455, "user_id": 9253686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28afb8ac49796a9fae1a9bec60bba686?s=128&d=identicon&r=PG&f=1", "display_name": "0x51ba", "link": "https://stackoverflow.com/users/9253686/0x51ba"}, "is_accepted": false, "score": 1, "last_activity_date": 1517428696, "last_edit_date": 1517428696, "creation_date": 1517424829, "answer_id": 48549475, "question_id": 48549014, "link": "https://stackoverflow.com/questions/48549014/how-to-call-a-function-and-pass-arguments-to-it-in-x86-assembly/48549475#48549475", "title": "How to call a function and pass arguments to it in x86 assembly", "body": "<p>Since you are looking for a way to understand and clarify what is happening internally, I recommend to start with generating an assembler file for the specific machine you are working with. If you are using gcc or g++ you can use the <code>-S</code> flag to generate the associated assembler files. For the beginning you can implement a function with two arguments and call that function inside your main function. Using the assembler files, you should get a really good picture of how the stack is filled before your function is called and where your return value is put. In the next step you should compare what you see in the assembler file with the <a href=\"https://en.wikipedia.org/wiki/X86_calling_conventions\" rel=\"nofollow noreferrer\">x86 calling convetion</a>.</p>\n"}], "owner": {"reputation": 67, "user_id": 5261139, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bd4c2f7c8c672d728884f986a098aed7?s=128&d=identicon&r=PG&f=1", "display_name": "ChronicUser", "link": "https://stackoverflow.com/users/5261139/chronicuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1517434599, "creation_date": 1517423002, "last_edit_date": 1517434599, "question_id": 48549014, "link": "https://stackoverflow.com/questions/48549014/how-to-call-a-function-and-pass-arguments-to-it-in-x86-assembly", "title": "How to call a function and pass arguments to it in x86 assembly", "body": "<p>Intel CPU\nWindows 10 64bit\nC++\nx86 assembly</p>\n\n<p>I have two programs, both written by me in C++. For the sake of simplicity I will refer to them as program A and program B. They do not do anything special really, I am just using them to test things out and have some fun in the process. </p>\n\n<p>The idea is that program A injects code into program B and that injected code will set the parameters of a function in program B and will call a function in program B.</p>\n\n<p>I must say I have learned a lot from this experiment. As I needed to open up a handle to a process with proper permissions and then construct assembly code to inject, call it with CreateRemoteThread and clean up afterwards.</p>\n\n<p>I ve managed to do this and call a function from program B and that function takes one parameter of type UINT64. </p>\n\n<p>I do this by injecting the following assembly code:</p>\n\n<pre><code>b9 paramAddr\ne8 funcAddr\nc3\n</code></pre>\n\n<p>By calling this code snippet from program A with CreateRemoteThread in program B I manage to call a function at an address and with a parameter passed. And this works fine. Nothing too complex just call a function that takes one param. One thing to note here is that I have injected the parameter prior to this code and just provided a parameter address to b9.</p>\n\n<p>Now what I am failing to do is call a function in program B from program A that takes two parameters.</p>\n\n<p>Function Example: \nmyFunction(uint num1, int num2)</p>\n\n<p>The procedure for injection is the same, and all that works just fine windows API provides plenty of well documented functionalities. </p>\n\n<p>What I do not seam to be able to do is pass the two parameters to the function. This is where my troubles begin. I have been looking at x86 assembly function call conventions. And what they do is either just</p>\n\n<pre><code>push param2\npush param1\ncall functAddr\nretn\n</code></pre>\n\n<p>or</p>\n\n<p>perform a mov to esi</p>\n\n<p>Could anyone please clarify,explain and provide a clear example of how to call a function in x86 assembly that takes two parameters or type uint and int.</p>\n\n<p>Thank you all for your time and effort. </p>\n"}, {"tags": ["c++", "eclipse"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9212993"}, "edited": false, "score": 0, "creation_date": 1517423091, "post_id": 48548956, "comment_id": 84093914, "body": "Format your code correctly please (indent every code line with four spaces). Also take a look at all the other error messages appearing with the 1st version of your program."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1517423286, "post_id": 48548956, "comment_id": 84094041, "body": "You&#39;re missing a <code>{</code> in your <code>main</code> function."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1517425808, "post_id": 48548956, "comment_id": 84095389, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1950974/cannot-run-program-make-launching-failed-in-eclipse\">&#39;(Cannot run program &quot;make&quot;: Launching failed) .&#39; in Eclipse</a>"}, {"owner": {"reputation": 19, "user_id": 6156759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O8uPk.jpg?s=128&g=1", "display_name": "Seelvuplee", "link": "https://stackoverflow.com/users/6156759/seelvuplee"}, "edited": false, "score": 0, "creation_date": 1517845732, "post_id": 48548956, "comment_id": 84249430, "body": "Thank you guys your answers!"}], "owner": {"reputation": 19, "user_id": 6156759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O8uPk.jpg?s=128&g=1", "display_name": "Seelvuplee", "link": "https://stackoverflow.com/users/6156759/seelvuplee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517423317, "creation_date": 1517422823, "last_edit_date": 1517423317, "question_id": 48548956, "link": "https://stackoverflow.com/questions/48548956/eclipse-error-the-selection-cannot-be-launched-and-there-are-no-recent-launc", "title": "eclipse: Error - The selection cannot be launched, and there are no recent launches", "body": "<p><a href=\"https://i.stack.imgur.com/BOCqu.jpg\" rel=\"nofollow noreferrer\">The selection cannot be launched, and there are no recent launches.</a></p>\n\n<p>At the end of this windows there is an error message about PATH. Please take a look: \n<a href=\"https://i.stack.imgur.com/PeSd8.jpg\" rel=\"nofollow noreferrer\">MAKE PATH</a>\nThe Program what I tried to run: </p>\n\n<pre><code>#include &lt;iostream&gt;\nint main ()\n cout&lt;&lt;\"Hello World!\";\n\n return 0;\n}\n</code></pre>\n\n<p>When I click on the 'Play' button/ Run command, it keeps showing this disgusting-annoying error message. </p>\n\n<p>What could be the solution? </p>\n\n<p>I check another articles where they stated that it has a problem with 'main ()' \nbut it is not missing from my code. </p>\n\n<p>Now the full code looks like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main ()\n cout &lt;&lt; \"Hello World!\";\n\n return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "waveform", "redhawksdr", "sca"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5481353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NsTzY.jpg?s=128&g=1", "display_name": "jdclfc", "link": "https://stackoverflow.com/users/5481353/jdclfc"}, "edited": false, "score": 0, "creation_date": 1518624187, "post_id": 48753438, "comment_id": 84584745, "body": "Yes, I basically did create and  allocate the project in the way this chapter describes."}], "tags": [], "owner": {"reputation": 450, "user_id": 1311595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81a720e5663647c0fd6909927c8d196?s=128&d=identicon&r=PG", "display_name": "Daniel Wille", "link": "https://stackoverflow.com/users/1311595/daniel-wille"}, "is_accepted": false, "score": 0, "last_activity_date": 1518461319, "creation_date": 1518461319, "answer_id": 48753438, "question_id": 48548904, "link": "https://stackoverflow.com/questions/48548904/redhawksdr-connecting-multiple-instances-of-a-waveform-to-a-device-with-multiple/48753438#48753438", "title": "redhawksdr Connecting multiple instances of a waveform to a device with multiple channels", "body": "<p>Have you looked at <a href=\"http://redhawksdr.github.io/Documentation/mainch8.html\" rel=\"nofollow noreferrer\">Chapter 8</a> of the manual, specifically in section 8.1.2, \"Interacting with an FEI Device with the Python Package\"? There are several examples of allocating FEI devices and connecting the device to a component to ingest the allocated tuner's data.</p>\n"}], "owner": {"reputation": 1, "user_id": 5481353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NsTzY.jpg?s=128&g=1", "display_name": "jdclfc", "link": "https://stackoverflow.com/users/5481353/jdclfc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 152, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518461319, "creation_date": 1517422612, "last_edit_date": 1517578680, "question_id": 48548904, "link": "https://stackoverflow.com/questions/48548904/redhawksdr-connecting-multiple-instances-of-a-waveform-to-a-device-with-multiple", "title": "redhawksdr Connecting multiple instances of a waveform to a device with multiple channels", "body": "<p>I am using Redhawk 2.0.5</p>\n\n<p>I was given a Redhawk FRONTEND::TUNER device that communicates with two tuners and maps the I/Q data to a single multi-out bulkio port; with the allocationId/streamId differentiating the streams. (I have the source code so it can be modified.)</p>\n\n<p>I need to connect identical SDR waveform instances so that they can use the tuner device's outputs. (I also need to connect other waveforms, but connecting a different waveform is not an issue because it will have a unique allocation ID.)</p>\n\n<p>Manually I can allocate using different allocation ids .</p>\n\n<p>What I need is a waveform usesdevice method OR a python code method that allows me to attach two identical waveforms to the multi-out bulkio port of the tuner device without hard coding the allocation id in the waveform's MAP file. When I try it it shows an error message something like, ALLOCATION ID ALREADY USED</p>\n\n<p>There must be a way to do this but I haven't stumbled upon it yet.</p>\n\n<ul>\n<li>Perhaps when launching the application waveform I can pass in a unique id that can be used.</li>\n<li>Perhaps I can create two other dummy devices that will  break out the tuner device into two tuner devices.</li>\n</ul>\n"}, {"tags": ["c++", "if-statement", "switch-statement", "duffs-device"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 5, "creation_date": 1517421983, "post_id": 48548672, "comment_id": 84093314, "body": "&quot;Would this code even compile,&quot; - why not compile it and find out?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1517421985, "post_id": 48548672, "comment_id": 84093317, "body": "Look at <a href=\"https://en.wikipedia.org/wiki/Duff%27s_device\" rel=\"nofollow noreferrer\">Duff&#39;s_device</a>."}, {"owner": {"reputation": 15800, "user_id": 1274314, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/gSYsp.jpg?s=128&g=1", "display_name": "TypeIA", "link": "https://stackoverflow.com/users/1274314/typeia"}, "edited": false, "score": 0, "creation_date": 1517422105, "post_id": 48548672, "comment_id": 84093397, "body": "This is evil. I love it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1517422566, "post_id": 48548672, "comment_id": 84093648, "body": "Related: <a href=\"https://stackoverflow.com/questions/17192246/switch-case-weird-scoping\" title=\"switch case weird scoping\">stackoverflow.com/questions/17192246/switch-case-weird-scopi&zwnj;&#8203;ng</a>"}], "owner": {"reputation": 676, "user_id": 8340131, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213822252052614/picture?type=large", "display_name": "Johnathan Gross", "link": "https://stackoverflow.com/users/8340131/johnathan-gross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "closed_date": 1517422872, "answer_count": 0, "score": 1, "last_activity_date": 1517423057, "creation_date": 1517421782, "last_edit_date": 1517422484, "question_id": 48548672, "link": "https://stackoverflow.com/questions/48548672/how-do-if-else-work-intermixed-with-switch-case-interact", "closed_reason": "Duplicate", "title": "How do if/else work intermixed with switch/case interact?", "body": "<p>In a question about switch and goto, <a href=\"https://stackoverflow.com/a/20125146/8340131\">this answer</a> used this code to avoid using a goto altogether:</p>\n\n<pre><code>switch(color)\ncase YELLOW:\n    if(AlsoHasCriteriaX)\ncase GREEN:\ncase RED:\ncase BLUE:\n        Paint();\n    else\ndefault:\n        Print(\"Ugly color, no paint.\");\n</code></pre>\n\n<p>How does this code work? I understand that cases automatically fall through, so I don't need it explained when <code>color</code> is <code>YELLOW</code>, but what about when <code>color</code> is <code>GREEN</code>? How does C++ handle <code>else</code> when it never encountered <code>if</code>. Would this code even compile, would it be a runtime error, or would it just ignore the <code>else</code>?</p>\n"}, {"tags": ["c++", "type-conversion", "c++14", "implicit-conversion"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 4, "creation_date": 1517421737, "post_id": 48548598, "comment_id": 84093148, "body": "Conciser the maximum magnitude of floats vs ints. See <b>Range of values</b> in: <a href=\"http://en.cppreference.com/w/cpp/language/types\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/types</a>  (3) see: <a href=\"http://en.cppreference.com/w/cpp/types/climits\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/types/climits</a>"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517422351, "post_id": 48548598, "comment_id": 84093535, "body": "Also, I&#39;d bet on <code>NaN</code>. <code>NaN</code> is always the weird one."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1517422593, "post_id": 48548598, "comment_id": 84093660, "body": "<code>auto x = static_cast&lt;int&gt;(f);</code> is just an obscure way of writing <code>int x = f;</code>. Neither is more or less safe than the other, regardless of how you define &quot;safe&quot;."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1517422742, "post_id": 48548598, "comment_id": 84093737, "body": "@PeteBecker I wouldn&#39;t call <code>static_cast</code> obscure. It&#39;s actually quite explicit that the cast is intended whereas in the case of <code>int x = f;</code>it&#39;s anyone&#39;s guess rather it&#39;s an intended implicit cast or a mistake."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1517422855, "post_id": 48548598, "comment_id": 84093790, "body": "@Fran&#231;oisAndrieux -- I didn&#39;t say that <code>static_cast</code> is obscure. I said that the <b>statement</b> is obscure; there&#39;s more in it than the <code>static_cast</code>."}, {"owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "edited": false, "score": 0, "creation_date": 1517424878, "post_id": 48548598, "comment_id": 84094897, "body": "See <a href=\"https://randomascii.wordpress.com/2017/06/19/sometimes-floating-point-math-is-perfect/\" rel=\"nofollow noreferrer\">this blog post</a>"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1517424893, "post_id": 48548598, "comment_id": 84094909, "body": "@PeteBecker <code>static_cast</code> is the correct way to do it; most compilers support and many (most?) companies use warnings that will flag <code>int x = f</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1517425775, "post_id": 48548598, "comment_id": 84095370, "body": "@NirFriedman -- my company doesn&#39;t. Labelling &quot;the way I prefer to do it&quot; as &quot;the correct way to do it&quot; is inappropriate."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 3, "creation_date": 1517425954, "post_id": 48548598, "comment_id": 84095464, "body": "@PeteBecker Congrats, some companies don&#39;t use -Werror either. Point? There are recognized good practices. Flagging narrowing conversions are widely (but not universally) recognized as a good practice."}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "edited": false, "score": 0, "creation_date": 1517428171, "post_id": 48548598, "comment_id": 84096624, "body": "Sounds like you mean &quot;to an integer-valued float&quot;. Because there&#39;s no &quot;proper way&quot; to make an <code>int</code> whose value cannot be represented by <code>int</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517424259, "post_id": 48549243, "comment_id": 84094565, "body": "Thanks for the answer. Could you clarify what you meant with the bit about &quot;when the truncating to zero matters&quot; and the part about comparing to INT_MIN/INT_MAX?"}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "reply_to_user": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 1, "creation_date": 1517424749, "post_id": 48549243, "comment_id": 84094831, "body": "The range of float when its got a close value to INT_MAX is something like 1 float every 150 numbers. So it hasn&#39;t got a fractional part for numbers of that magnitude. (But doubles with values close to them do). INT_MIN and INT_MAX cannot be represented by floats so casting INT_MIN to a float is lossy and therefore any calculation you do with it will have an error. And you must be exact to not give UB."}, {"owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517424987, "post_id": 48549243, "comment_id": 84094953, "body": "OK, and what do you mean by &quot;the only time when the truncating to zero matters is float -&gt; int64_t&quot;?"}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "reply_to_user": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517425249, "post_id": 48549243, "comment_id": 84095103, "body": "EDIT: I meant double -&gt; int32!. For INT_MAX (~2147483647) the 2 closest floats are 2147483520 below it and 2147483648 above it. There&#39;s simply no floating point representation of 2147483647.xxx where truncation matters. For double -&gt; int32 there are double values with things like 2147483647.99 and so as the standard says to truncate this means that 2147483647.99 WILL fit into an int32."}, {"owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517425399, "post_id": 48549243, "comment_id": 84095178, "body": "OK, great. Very insightful answer, even if it assumes particular representations"}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "reply_to_user": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517425537, "post_id": 48549243, "comment_id": 84095253, "body": "@ricab I thought a wile about this and it seemed really hard to get better than this. The language really doesn&#39;t make it easy to do this in a portable way."}, {"owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517426078, "post_id": 48549243, "comment_id": 84095521, "body": "Right, and so your answer is very valuable, but I suppose I would rather offload that to <code>boost::numeric_cast</code> as suggested in another answer."}], "tags": [], "owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "is_accepted": false, "score": 7, "last_activity_date": 1517425466, "last_edit_date": 1517425466, "creation_date": 1517423821, "answer_id": 48549243, "question_id": 48548598, "link": "https://stackoverflow.com/questions/48548598/what-float-values-could-not-be-converted-to-int-without-undefined-behavior-c/48549243#48549243", "title": "What float values could not be converted to int without undefined behavior [c++]?", "body": "<p>We hit this a while back and I manually made some tables that have the exact bit patterns of floats at the edges of various conversions to various sizes of integers. Note this assumes iee754 4 byte <code>floats</code> and 8 bytes <code>doubles</code> and 2's complement signed integers (<code>int32_t</code> of 4 bytes and <code>int64_t</code> of 8 bytes).</p>\n\n<p>If you need to convert the bit patterns to floats or doubles you'll need to either type pun them (technically UB) or <code>memcpy</code> them.</p>\n\n<p>And to answer your question anything which is too big to fit in the target integer is UB on conversion, and the only time when the truncating to zero matters is <code>double</code> -> <code>int32_t</code>. So using the following values you can compare the float against the relevant min/max and only cast if they're in range.</p>\n\n<p>Note that using <code>INT_MIN</code>/<code>INT_MAX</code> (or their modern limit counterparts) to cross convert and then compare doesn't always work as the accuracy of floats for those sized values are very low.</p>\n\n<p>Inf/NaN are also UB on conversion.</p>\n\n<pre><code>// float-&gt;int64 edgecases\nstatic const uint32_t FloatbitsMaxFitInt64 = 0x5effffff; // [9223371487098961920] Largest float which still fits int an signed int64\nstatic const uint32_t FloatbitsMinNofitInt64 = 0x5f000000; // [9223372036854775808] the bit pattern of the smallest float which is too big for a signed int64\nstatic const uint32_t FloatbitsMinFitInt64 = 0xdf000000; // [-9223372036854775808] Smallest float which still fits int an signed int64\nstatic const uint32_t FloatbitsMaxNotfitInt64 = 0xdf000001; // [-9223373136366403584] Largest float which to small for a signed int64\n\n// float-&gt;int32 edgecases\nstatic const uint32_t FloatbitsMaxFitInt32 = 0x4effffff; // [2147483520] the bit pattern of the largest float which still fits int an signed int32\nstatic const uint32_t FloatbitsMinNofitInt32 = 0x4f000000; // [2147483648] the bit pattern of the smallest float which is too big for a signed int32\nstatic const uint32_t FloatbitsMinFitInt32 = 0xcf000000; // [-2147483648] the bit pattern of the smallest float which still fits int an signed int32\nstatic const uint32_t FloatbitsMaxNotfitInt32 = 0xcf000001; // [-2147483904] the bit pattern of the largest float which to small for a signed int32\n\n// double-&gt;int64 edgecases\nstatic const uint64_t DoubleBitsMaxFitInt64 = 0x43dfffffffffffff; // [9223372036854774784] Largest double which fits into an int64\nstatic const uint64_t DoubleBitsMinNofitInt64 = 0x43e0000000000000; // [9223372036854775808] Smallest double which is too big for an int64\nstatic const uint64_t DoubleBitsMinFitInt64 = 0xc3e0000000000000; // [-9223372036854775808] Smallest double which fits into an int64\nstatic const uint64_t DoubleBitsMaxNotfitInt64 = 0xc3e0000000000001; // [-9223372036854777856] largest double which is too small to fit into an int64\n\n// double-&gt;int32 edgecases[when truncating(round towards zero)]\nstatic const uint64_t DoubleBitsMaxTruncFitInt32 = 0x41dfffffffffffff; // [~2147483647.9999998] Largest double that when truncated will fit into an int32\nstatic const uint64_t DoubleBitsMinTruncNofitInt32 = 0x41e0000000000000; // [2147483648.0000000] Smallest double that when truncated wont fit into an int32\nstatic const uint64_t DoubleBitsMinTruncFitInt32 = 0xc1e00000001fffff; // [~2147483648.9999995] Smallest double that when truncated will fit into an int32\nstatic const uint64_t DoubleBitsMaxTruncNofitInt32 = 0xc1e0000000200000; // [2147483649.0000000] Largest double that when truncated wont fit into an int32\n\n// double-&gt;int32 edgecases [when rounding via bankers method(round to nearest, round to even on half)]\nstatic const uint64_t DoubleBitsMaxRoundFitInt32 = 0x41dfffffffdfffff; // [2147483647.5000000] Largest double that when rounded will fit into an int32\nstatic const uint64_t DoubleBitsMinRoundNofitInt32 = 0x41dfffffffe00000; // [~2147483647.5000002] Smallest double that when rounded wont fit into an int32\nstatic const uint64_t DoubleBitsMinRoundFitInt32 = 0xc1e0000000100000; // [-2147483648.5000000] Smallest double that when rounded will fit into an int32\nstatic const uint64_t DoubleBitsMaxRoundNofitInt32 = 0xc1e0000000100001; // [~2147483648.5000005] Largest double that when rounded wont fit into an int32\n</code></pre>\n\n<p>So for your example you want:</p>\n\n<pre><code>if( f &gt;= B2F(FloatbitsMinFitInt32) &amp;&amp; f &lt;= B2F(FloatbitsMaxFitInt32))\n    // cast is valid.\n</code></pre>\n\n<p>Where B2F is something like:</p>\n\n<pre><code>float B2F(uint32_t bits)\n{\n    static_assert(sizeof(float) == sizeof(uint32_t), \"Weird arch\");\n    float f;\n    memcpy(&amp;f, &amp;bits, sizeof(float));\n    return f;\n}\n</code></pre>\n\n<p>Note that this conversion picks up nans/inf correctly (as comparisons with them are false) <em>unless</em> you're using a non-iee754 mode of your compiler (e.g. ffast-math on gcc or /fp:fast on msvc)</p>\n"}, {"comments": [{"owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "edited": false, "score": 0, "creation_date": 1517425768, "post_id": 48549360, "comment_id": 84095366, "body": "I was perhaps not clear enough with &quot;proper/safe what&quot; in point 3. I should have added something like &quot;assuming you want to keep to the truncation&quot; (see edit)."}], "tags": [], "owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "is_accepted": true, "score": 4, "last_activity_date": 1517424331, "creation_date": 1517424331, "answer_id": 48549360, "question_id": 48548598, "link": "https://stackoverflow.com/questions/48548598/what-float-values-could-not-be-converted-to-int-without-undefined-behavior-c/48549360#48549360", "title": "What float values could not be converted to int without undefined behavior [c++]?", "body": "<p>It shouldn't be surprising at all that <code>float</code> has values outside of <code>int</code> range. Floating-point values were invented to represent very large (and also very small) values adequately.</p>\n\n<ol>\n<li><code>INT_MAX + 1</code> (usually equal to <code>2147483648</code>) cannot be represented by <code>int</code>, but can be represented by <code>float</code>.</li>\n<li>Yes, <code>static_cast&lt;int&gt;(float)</code> is as unsafe as undefined behavior can be. However, something as simple as <code>x + y</code> for sufficiently large integers <code>x</code> and <code>y</code> is also UB, so no big surprise here either.</li>\n<li><p>The proper way to do stuff depends on the application, as always in C++. Boost has <code>numeric_cast</code> that throws an exception on overflow; this might be good for you. To do saturation (convert too big values to <code>INT_MIN</code> and <code>INT_MAX</code>), write some code like this</p>\n\n<pre><code>float f;\nint i;\n...\nif (static_cast&lt;double&gt;(INT_MIN) &lt;= f &amp;&amp; f &lt; static_cast&lt;double&gt;(INT_MAX))\n    i = static_cast&lt;int&gt;(f);\nelse if (f &lt; 0)\n    i = INT_MIN;\nelse\n    i = INT_MAX;\n</code></pre>\n\n<p>However, this is not ideal. Does your system have <code>double</code> type that can represent the maximal value of <code>int</code>? If yes, it will work. Also, how exactly do you want to round values that are close to minimum or maximum of <code>int</code>? If you don't want to consider such questions, use <code>boost::numeric_cast</code>, as described <a href=\"https://stackoverflow.com/a/4424208/509868\">here</a>.</p></li>\n</ol>\n"}], "owner": {"reputation": 2141, "user_id": 563765, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/49ab6bfeccff0c206a8725ef0329d3a9?s=128&d=identicon&r=PG", "display_name": "ricab", "link": "https://stackoverflow.com/users/563765/ricab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2066, "favorite_count": 0, "accepted_answer_id": 48549360, "answer_count": 2, "score": 8, "last_activity_date": 1517425636, "creation_date": 1517421539, "last_edit_date": 1592644375, "question_id": 48548598, "link": "https://stackoverflow.com/questions/48548598/what-float-values-could-not-be-converted-to-int-without-undefined-behavior-c", "title": "What float values could not be converted to int without undefined behavior [c++]?", "body": "<p>I just read this from the C++14 standard (my emphasis):</p>\n<blockquote>\n<p><strong>4.9 Floating-integral conversions [conv.fpint]</strong></p>\n<p><strong>1</strong> A prvalue of a floating point type can be converted to a prvalue of an integer type. The conversion truncates; that is, the fractional part is discarded. <em>The behavior is undefined if the truncated value cannot be\nrepresented in the destination type.</em> <em>[...]</em></p>\n</blockquote>\n<p>Which got me thinking</p>\n<ol>\n<li>Which, if any, <code>float</code> values could not be represented as <code>int</code> after truncation? (Does that depend on the implementation?)</li>\n<li>If there are any, does this mean that <code>auto x = static_cast&lt;int&gt;(float)</code> is unsafe?</li>\n<li>what is the proper/safe way of converting <code>float</code> to <code>int</code> then (assuming you want truncation)?</li>\n</ol>\n"}, {"tags": ["c++", "lambda", "conditional-operator", "fizzbuzz"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 2, "creation_date": 1517421867, "post_id": 48548595, "comment_id": 84093233, "body": "Don&#39;t know what MSVC is trying to do here, but Clang gives <code>error: incompatible operand types (&#39;basic_ostream&lt;char, std::__1::char_traits&lt;char&gt; &gt;&#39; and &#39;int&#39;)</code>. Bottom line: stop abusing the conditional operator, use an <code>if</code> instead."}, {"owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517422011, "post_id": 48548595, "comment_id": 84093335, "body": "oops, couldn&#39;t post the code comment,  auto buzz = [](std::ostream&amp; os) { os &lt;&lt; &quot;buzz&quot;; };  But why not inside the inline-if???"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1517422246, "post_id": 48548595, "comment_id": 84093488, "body": "<code>? X : Y</code> returns either <code>X</code> or <code>Y</code>. Because you cannot have types decided at runtime <code>X</code> and <code>Y</code> must have at least a common type. <code>std::ostream</code> and <code>int</code> do not have a common type, so it fails to compile. Since you don&#39;t actually want the <code>0</code> or the return value of <code>?:</code> you should simply write <code>if (x % 3 == 0) os &lt;&lt; &quot;fizz&quot;;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1517422817, "post_id": 48548832, "comment_id": 84093773, "body": "Might help to further clarify to OP that <code>os &lt;&lt; &quot;fizz&quot;</code> actually returns <code>os</code>, which is type <code>ostream</code>. Since their question doesn&#39;t show chaining they might not be aware of it or understand how it works."}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1517423051, "post_id": 48548832, "comment_id": 84093896, "body": "@NirFriedman I don&#39;t understand what you are saying about chaining (more specifically how it relates to this example)."}, {"owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "edited": false, "score": 0, "creation_date": 1517423101, "post_id": 48548832, "comment_id": 84093924, "body": "I really need to find that talk again, there was a beautiful <code>inline-if</code>"}, {"owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "edited": false, "score": 0, "creation_date": 1517423198, "post_id": 48548832, "comment_id": 84093981, "body": "<code>&lt;&lt;&#39;</code>operator is a function that returns an <code>ostream</code> object hence the chaining of <code>&lt;&lt; x &lt;&lt; endl</code> calls on each returned obj, but had no clue that it affected the functions return like that. Thx a lot!"}, {"owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "reply_to_user": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "edited": false, "score": 0, "creation_date": 1517423248, "post_id": 48548832, "comment_id": 84094013, "body": "Ok, so you do understand it, so I presume you do not need any clarification @FistyTries?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1517423366, "post_id": 48548832, "comment_id": 84094085, "body": "Also, technically this answer isn&#39;t quite right: it makes it sound like the problem is with the lambda (&quot;returning types&quot;) but the problem actually occurs earlier, in the ternary operator."}, {"owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "edited": false, "score": 0, "creation_date": 1517423387, "post_id": 48548832, "comment_id": 84094099, "body": "@ArnavBorborah nono, edited previous message. Got the point I think!"}, {"owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1517423460, "post_id": 48548832, "comment_id": 84094130, "body": "@NirFriedman Nope... the point is gone! Could you expand a bit?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "edited": false, "score": 1, "creation_date": 1517424083, "post_id": 48548832, "comment_id": 84094459, "body": "@FistyTries <code>os &lt;&lt; &quot;fizz&quot;</code> is an expression, and that expression actually returns a reference to <code>os</code>. That&#39;s why <code>os &lt;&lt; &quot;fizz&quot; &lt;&lt; &quot;buzz&quot;</code> works; it evaluates from left to right, so after evaluating <code>os &lt;&lt; &quot;fizz&quot;</code>, you have a reference to os, so it then does <code>os &lt;&lt; &quot;buzz&quot;</code>. So your ternary expression actually returns <code>os</code> in one branch, but an int (0) in the other. A ternary expression has compile time fixed return type, so the expressions in both branches must be of same (or compatible) type."}], "tags": [], "owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "is_accepted": false, "score": 4, "last_activity_date": 1517423465, "last_edit_date": 1517423465, "creation_date": 1517422394, "answer_id": 48548832, "question_id": 48548595, "link": "https://stackoverflow.com/questions/48548595/c-lambda-and-inlined-fizzbuzz/48548832#48548832", "title": "C++ lambda and inlined fizzbuzz", "body": "<p>Your problem is quite clear. Since <a href=\"http://en.cppreference.com/w/cpp/io/basic_ostream\" rel=\"nofollow noreferrer\"><code>std::ostream</code></a> and <code>int</code> are not of the same type, providing types that are not the same  to the ternary operator creates an error. To solve this, you probably want to avoid an else clause altogether, so your functions would look like this:</p>\n\n<pre><code>auto fizz = [](int&amp; x, std::ostream&amp; os) { if (x % 3 == 0) os &lt;&lt; \"fizz\"; };\nauto buzz = [](int&amp; x, std::ostream&amp; os) { if (x % 5 == 0) os &lt;&lt; \"buzz\"; };\n</code></pre>\n\n<hr>\n"}], "owner": {"reputation": 99, "user_id": 9184138, "user_type": "registered", "profile_image": "https://graph.facebook.com/10159933761685387/picture?type=large", "display_name": "FistyTries", "link": "https://stackoverflow.com/users/9184138/fistytries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1528143463, "creation_date": 1517421513, "last_edit_date": 1528143463, "question_id": 48548595, "link": "https://stackoverflow.com/questions/48548595/c-lambda-and-inlined-fizzbuzz", "title": "C++ lambda and inlined fizzbuzz", "body": "<p>Heoi, I've seen a C++ talk where someone made a lambda fizzbuzz implementation.</p>\n\n<p>This is not it! Not even close to it!\nMy question is, why can't I use the ostream&amp; </p>\n\n<pre><code>auto fizz = [](int&amp; x, std::ostream&amp; os) { x % 3 == 0 ? os &lt;&lt; \"fizz\" : 0; };\nauto buzz = [](int&amp; x, std::ostream&amp; os) { x % 5 == 0 ? os &lt;&lt; \"buzz\" : 0; };\n\n\n    for (int i = 0; i != 100; ++i)\n    {\n        fizz(i, std::cout);\n        buzz(i, std::cout);\n    }\n</code></pre>\n\n<p>And my Error message is :</p>\n\n<pre><code>        E1776   function \"std::basic_ostream&lt;_Elem, _Traits&gt;::basic_ostream(const std::basic_ostream&lt;_Elem, _Traits&gt;::_Myt &amp;) [with _Elem=char, _Traits=std::char_traits&lt;char&gt;]\" (declared at line 83 of \"c:\\Program Files (x86)\\Microsoft Visual Studio\\2017\\Community\\VC\\Tools\\MSVC\\14.12.25827\\include\\ostream\") cannot be referenced -- it is a deleted function    56  \n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422116, "post_id": 48548450, "comment_id": 84093408, "body": "Change <code>MainWindow w ; w.show();</code> to <code>MainWindow* w= new MainWindow; w-&gt;show();</code>"}, {"owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422328, "post_id": 48548450, "comment_id": 84093527, "body": "hi ... tnx for the reply ... can you tell me the difference"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422459, "post_id": 48548450, "comment_id": 84093595, "body": "A local variable is destroyed when the function ends, so your window will be deleted. On the other hand if you store the position of the memory it will remain, but your duty is that when you do not need it you will have to eliminate it."}, {"owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422588, "post_id": 48548450, "comment_id": 84093656, "body": "can i declare it in the main or in some header extern way for the parent child purposes and in the ok_push_buuton slot just call show()? as the Kanan proposed is it not well to handle it this way ?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422760, "post_id": 48548450, "comment_id": 84093752, "body": "It depends on what you want to do, what are you going to do in your QDialog?"}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1517422837, "post_id": 48548450, "comment_id": 84093784, "body": "@Parano, seeing a mainwindow does not mean  a good code! <code>a good answer should have a quality solution</code> .. even if you create a pointer to mainwindow inside dialog object .. when your dialog object expires .. how can you reference your mainwindow?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1517422960, "post_id": 48548450, "comment_id": 84093843, "body": "@MohammadKanan that&#39;s why it depends on the use that it gives to the program, and since the author does not give a broader context I only give a possible solution, I have not published it because I think the author has not given adequate information."}, {"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1517423098, "post_id": 48548450, "comment_id": 84093922, "body": "@eyllanesc, no problem. most qt new programmers are not aware of  good design practices .. thats why I did not include code in my answer .."}, {"owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "edited": false, "score": 0, "creation_date": 1517423465, "post_id": 48548450, "comment_id": 84094134, "body": "guys tnx for your all answers ... can i declare class in the extern way"}, {"owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "edited": false, "score": 0, "creation_date": 1517423556, "post_id": 48548450, "comment_id": 84094178, "body": "my application used high performance opencv tasks so it is pretty important for me to how to declare MainWindow"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "edited": false, "score": 0, "creation_date": 1517421847, "post_id": 48548619, "comment_id": 84093224, "body": "well ... i test this to ... but when i add the following   Dialog diag ;   diag.show() nothing happens neither"}], "tags": [], "owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1517421591, "creation_date": 1517421591, "answer_id": 48548619, "question_id": 48548450, "link": "https://stackoverflow.com/questions/48548450/how-to-call-mainwindow-class-from-another-qt-widget-form-class/48548619#48548619", "title": "How to call MainWindow class from another Qt Widget form class", "body": "<p>In your way the dialog object is the parent of your mainwindow, thats not good design because dialog is usually a temporary object while mainwindow will be your main UI, so I prefer to create the dialog inside your mainwindow, when you want to show the dialog <code>hide()</code> the mainwindow first and dont forget to either <code>accept()</code> or <code>reject()</code> your dialog</p>\n"}, {"comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422818, "post_id": 48548931, "comment_id": 84093775, "body": "MainWindow does not have the exec method."}, {"owner": {"reputation": 636, "user_id": 1777490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc8997bae0a18f9229c768de09a015c9?s=128&d=identicon&r=PG", "display_name": "BiTOk", "link": "https://stackoverflow.com/users/1777490/bitok"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517422990, "post_id": 48548931, "comment_id": 84093868, "body": "Oh, I was wrong. MainWindow inherits from QWidget, not from QDialog."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1517423093, "post_id": 48548931, "comment_id": 84093916, "body": "Edit your question and improve it."}], "tags": [], "owner": {"reputation": 636, "user_id": 1777490, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc8997bae0a18f9229c768de09a015c9?s=128&d=identicon&r=PG", "display_name": "BiTOk", "link": "https://stackoverflow.com/users/1777490/bitok"}, "is_accepted": true, "score": 2, "last_activity_date": 1517423174, "last_edit_date": 1517423174, "creation_date": 1517422730, "answer_id": 48548931, "question_id": 48548450, "link": "https://stackoverflow.com/questions/48548450/how-to-call-mainwindow-class-from-another-qt-widget-form-class/48548931#48548931", "title": "How to call MainWindow class from another Qt Widget form class", "body": "<p>Your problem in the lifetime of objects. In on_ok_butt_clicked() you create MainWindow object. And after you return from on_ok_butt_clicked() MainWindow object will be destroyed.</p>\n\n<p>You need to create an object so that it remains after exiting on_ok_butt_clicked() method. Another option is to stop the execution of the method when displaying dialog (this is unapplicable to QMainWindow, because QMainWindow inherits from QWidget, not from QDialog).\nFirst solution:</p>\n\n<pre><code>MainWindow *w = new MainWindow(this);\nw-&gt;show();\n</code></pre>\n\n<p>Second solution:</p>\n\n<pre><code>SomeDialog w;\nw.exec();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4289845, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-BXhUOXKzits/AAAAAAAAAAI/AAAAAAAAAnE/LzO97BDUyfk/photo.jpg?sz=128", "display_name": "Parano", "link": "https://stackoverflow.com/users/4289845/parano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 48548931, "answer_count": 2, "score": 0, "last_activity_date": 1517423174, "creation_date": 1517420996, "last_edit_date": 1517422023, "question_id": 48548450, "link": "https://stackoverflow.com/questions/48548450/how-to-call-mainwindow-class-from-another-qt-widget-form-class", "title": "How to call MainWindow class from another Qt Widget form class", "body": "<p>I want to display a dialog at startup of my program, For this purpose I create a new Qt Designer Form Class called <code>Dialog</code>.\nIn main.cpp I have the following code which executes the <code>Dialog</code> class:</p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n\n   QApplication a(argc, argv);\n\n    Dialog diag  ;\n    diag.show() ;\n\n   return a.exec();\n}\n</code></pre>\n\n<p>The <code>Dialog</code> class contains an \"OK\" button. When user pushes that button the Dialog Window close and the <code>MainWindow</code> opens. For this I code it like this:</p>\n\n<pre><code>void Dialog::on_ok_butt_clicked()\n{\n\n   MainWindow w ;\n   w.show() ;\n}\n</code></pre>\n\n<p>but the MainWindow window not displaying... \nhow can I solve this problem? </p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1517420786, "post_id": 48548333, "comment_id": 84092604, "body": "on what lines are the errors? did you enable c++11? I dont see any <code>override</code> btw"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1517420846, "post_id": 48548333, "comment_id": 84092652, "body": "Seems you might use more forward declaration... Maybe a circular dependency ?"}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1517420858, "post_id": 48548333, "comment_id": 84092661, "body": "@tobi303 The error is on line CollisionSystem collisionSys; in LocalWorld.hpp"}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1517420924, "post_id": 48548333, "comment_id": 84092697, "body": "@Jarod42 I tried declaring CollisionSystem in LocalWorld.hpp but it says undefined class"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1517421067, "post_id": 48548333, "comment_id": 84092768, "body": "<i>&quot;CollisionSystem.hpp&quot;</i> only need <code>&lt;vector&gt;</code> and <code>&lt;memory&gt;</code> as includes."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1517422189, "post_id": 48548333, "comment_id": 84093450, "body": "@Jarod42 for simplicity, I didn&#39;t post the code in the run function of CollisionSystem, so other headers are used in this function"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1517422420, "post_id": 48548333, "comment_id": 84093573, "body": "@Ashar7: all those headers should go in cpp not in header. That&#39;s my point."}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517422490, "post_id": 48548333, "comment_id": 84093610, "body": "Precompiled headers issue?"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1517423296, "post_id": 48548333, "comment_id": 84094045, "body": "@tobi303 that&#39;s MSVC&#39;s way of barfing when it encounters an undeclared identifier. Well, one of them anyway."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517451164, "post_id": 48548333, "comment_id": 84105015, "body": "@Ripi2 What does that mean? I&#39;m just a beginner to VS"}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517488916, "post_id": 48548333, "comment_id": 84121684, "body": "Using PH is a technique to avoid compiling the same header time and time. No changes in the header,  no recompilation. But sometimes, changes in your code (about including some header) make the compiler to mess up. The solution is to delete the precompiled headers and re-compile the whole project again."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517490906, "post_id": 48548333, "comment_id": 84122986, "body": "@Ripi2 I added CollisionSystem.hpp in include ditectories, does that treat it as a PH?"}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517501071, "post_id": 48548333, "comment_id": 84130040, "body": "<a href=\"https://stackoverflow.com/a/15823048/3871028\">stackoverflow.com/a/15823048/3871028</a>"}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517501947, "post_id": 48548333, "comment_id": 84130634, "body": "@Ripi2 Well, I don&#39;t need PH as I&#39;m always editing those files."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517501997, "post_id": 48548333, "comment_id": 84130662, "body": "@Ripi2 I created a new project and put everything there, but still the error isn&#39;t solved"}, {"owner": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517502849, "post_id": 48548333, "comment_id": 84131248, "body": "Does <code>GameState</code> class has a member called <code>collisionSys</code>? If so, you are trying to redefine it without being virtual."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 6058, "user_id": 3871028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfbe44ff5c56628e85683c8918602c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ripi2", "link": "https://stackoverflow.com/users/3871028/ripi2"}, "edited": false, "score": 0, "creation_date": 1517504839, "post_id": 48548333, "comment_id": 84132505, "body": "@Ripi2 No, it doesn&#39;t."}, {"owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1517504925, "post_id": 48548333, "comment_id": 84132546, "body": "Oh and the error is fixed now by moving <code>#include &lt;Level.hpp&gt;</code> to <code>CollisionSystem.cpp</code> from <code>CollisionSystem.hpp</code>. Thanks to @Jarod42"}], "owner": {"reputation": 260, "user_id": 6912045, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/nC83t.jpg?s=128&g=1", "display_name": "Se7eN", "link": "https://stackoverflow.com/users/6912045/se7en"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1085, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517505337, "creation_date": 1517420563, "last_edit_date": 1517505337, "question_id": 48548333, "link": "https://stackoverflow.com/questions/48548333/unknown-override-specifier-and-missing-type-specifier-visual-studio-2017", "title": "unknown override specifier and missing type specifier - Visual Studio 2017", "body": "<p>I've been getting a strange error in Visual Studio 2017. The error is</p>\n\n<blockquote>\n  <p>Error C3646   'collisionSys': unknown override specifier\n     <br> Error   C4430   missing type specifier - int assumed. Note: C++ does not\n      support default-int </p>\n</blockquote>\n\n<p>The strange thing about it is that when I build the solution, I get this error but when I delete the declaration of <code>collisionSys</code> and build, then re-declare <code>collisionSys</code> and build again, it succeeds. Though it happens again when I make some changes in <code>CollisionSystem.hpp</code>\n<br> My code is as follows:</p>\n\n<h3>CollisionSystem.hpp</h3>\n\n<pre><code> #ifndef COLLISION_SYSTEM__HPP\n    #define COLLISION_SYSTEM__HPP\n\n    #include &lt;iostream&gt;\n    #include &lt;vector&gt;\n    #include &lt;SFML/Graphics.hpp&gt;\n    #include \"../EntityManager.hpp\"\n    #include \"../Entity.hpp\"\n    #include \"../Components/Display.hpp\"\n    #include \"../Components/Flags.hpp\"\n    #include \"../Components/Movement.hpp\"\n    #include &lt;Level.hpp&gt;\n\n    class Level;\n\n    class CollisionSystem\n    {\n    public:\n        CollisionSystem();\n        void run(Level&amp;, CameraSystem*, EntityManager*);\n    private:\n        static std::vector&lt;std::shared_ptr&lt;Entity&gt;&gt; m_Ents;\n    };\n#endif\n</code></pre>\n\n<h3>CollisionSystem.cpp</h3>\n\n<pre><code>#include &lt;Systems/CollisionSystem.hpp&gt;\n\nstd::vector&lt;std::shared_ptr&lt;Entity&gt;&gt; CollisionSystem::m_Ents;\n\nCollisionSystem::CollisionSystem()\n{\n\n}\n\nvoid CollisionSystem::run(Level&amp; level, CameraSystem* cameraSys, \nEntityManager* EntMan)\n{\n    // Some collision detection here\n}\n</code></pre>\n\n<h3>LocalWorld.hpp</h3>\n\n<pre><code>#ifndef LOCAL_WORLD__HPP\n#define LOCAL_WORLD__HPP\n\n#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;conio.h&gt;\n#include \"GameState.hpp\"\n#include \"StateMgr.hpp\"\n#include \"Game.hpp\" \n#include \"TileMap.hpp\"\n#include \"Level.hpp\"\n#include \"ECS/Entity.hpp\"\n#include \"ECS/Components/IncludeAllComponents.hpp\"\n#include \"ECS/ResourceManager.hpp\"\n#include \"ECS/EntityManager.hpp\"\n#include \"ECS/Systems/IncludeAllSystems.hpp\"\n\n// Map Names\nenum class MapName\n{\n    Map1\n};\n\n// Forward declaration\nclass Level;\n\nclass LocalWorld : public GameState\n{\npublic:\n    LocalWorld();\n    ~LocalWorld();\n\n    virtual void Pause();\n    virtual void Resume();\n\n    virtual void HandleEvents(sf::Event&amp; eType);\n    virtual void Update();\n    virtual void Draw();\nprivate:\n    std::map&lt;MapName, Level*&gt; Maps;\n    Level* activeLevel;\n\n    ResourceManager ResMan;\n    EntityManager EntMan;\n\n    CameraSystem cameraSys;\n    MovementSystem movementSys;\n    ControlSystem controlSys;\n    RenderSystem renderSys;\n    CollisionSystem collisionSys;\n};\n\n#endif\n</code></pre>\n\n<p> The error is on line <code>CollisionSystem collisionSys;</code> in <code>LocalWorld.hpp</code></p>\n\n<h3>IncludeAllSystems.hpp</h3>\n\n<pre><code>#ifndef INCLUDE_ALL_SYSTEMS__HPP\n#define INCLUDE_ALL_SYSTEMS__HPP\n\n#include \"CameraSystem.hpp\"\n#include \"ControlSystem.hpp\"\n#include \"MovementSystem.hpp\"\n#include \"RenderSystem.hpp\"\n#include \"CollisionSystem.hpp\"\n\n#endif\n</code></pre>\n\n<p>Here, this file includes all the Systems with <code>CollisionSystem.hpp</code>\nI looked at other questions with the same error but still can't fix it.</p>\n\n<h2>EDIT:</h2>\n\n<p>The error is fixed by moving <code>#include &lt;Level.hpp&gt;</code> from <code>CollisionSystem.hpp</code> to <code>CollisionSystem.cpp</code>. Can anyone explain why is that so?</p>\n"}, {"tags": ["c++", "arrays", "indexing", "slice"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517420652, "post_id": 48548322, "comment_id": 84092534, "body": "Depends on what you do with that slice. I&#39;d lean towards a pair of pointers."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1517420653, "post_id": 48548322, "comment_id": 84092535, "body": "other than x[0,1,2,...,49] ? i guess you meant <code>x[0], x[1], x[2]...</code> for single elements. The way to access a portion of an array is via iterators"}, {"owner": {"reputation": 5859, "user_id": 2143128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2CZQF.jpg?s=128&g=1", "display_name": "Ratul Sharker", "link": "https://stackoverflow.com/users/2143128/ratul-sharker"}, "edited": false, "score": 0, "creation_date": 1517420762, "post_id": 48548322, "comment_id": 84092591, "body": "if array elements are primitive type, <code>std::memcpy</code> will be a good choice."}, {"owner": {"reputation": 1, "user_id": 7978022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5599bd585cdc0a3954df436c8bd65add?s=128&d=identicon&r=PG&f=1", "display_name": "kl0f", "link": "https://stackoverflow.com/users/7978022/kl0f"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517420984, "post_id": 48548322, "comment_id": 84092718, "body": "@Quentin I want to assign/update that portion of the array."}, {"owner": {"reputation": 2784, "user_id": 8413636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d8c46d1ea221e93d32a1b3d2ee354cae?s=128&d=identicon&r=PG&f=1", "display_name": "zzxyz", "link": "https://stackoverflow.com/users/8413636/zzxyz"}, "edited": false, "score": 0, "creation_date": 1517421210, "post_id": 48548322, "comment_id": 84092851, "body": "It kinda also depends on whether you are talking about raw C-style arrays, or <code>std::array</code>.  (And <code>std::vector</code> is another class to consider).  I would <i>recommend</i> using those classes, and the answers here might be helpful.  <a href=\"https://stackoverflow.com/questions/11102029/how-can-i-copy-a-part-of-an-array-to-another-array-in-c\" title=\"how can i copy a part of an array to another array in c\">stackoverflow.com/questions/11102029/&hellip;</a>  If you wanted to <i>modify</i> the elements in question in the original array, you could consider making it an array of int references or pointers.  Or just have the function doing the modifying take <code>begin</code> and <code>end</code> parameters."}, {"owner": {"reputation": 2663, "user_id": 6301420, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9f4693f2fcba86b5f59737b94120acc2?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Schepler", "link": "https://stackoverflow.com/users/6301420/daniel-schepler"}, "edited": false, "score": 0, "creation_date": 1517422019, "post_id": 48548322, "comment_id": 84093340, "body": "Boost provides an &quot;iterator range&quot; pseudo-container.  e.g. <code>for (auto&amp; elt : boost::make_iterator_range(x.begin(), x.begin() + 50)) { ... }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 697, "user_id": 1160404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431cd02524d6ee187fcd1b3d9658498c?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1160404/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1517421562, "creation_date": 1517421562, "answer_id": 48548608, "question_id": 48548322, "link": "https://stackoverflow.com/questions/48548322/c-equivalent-of-pythons-for-array-indexing/48548608#48548608", "title": "C++ equivalent of Python&#39;s : for array indexing", "body": "<p>you can do something like below </p>\n\n<pre><code>int main()\n{\n  int myints[]={10,20,30,40,50,60,70};\n  array&lt;int,5&gt; mysubints;\n\n  std::copy(myints, myints+5, mysubints.begin());\n\n  for (auto it = mysubints.begin(); it!=mysubints.end(); ++it)\n        std::cout &lt;&lt; ' ' &lt;&lt; *it;\n\n  std::cout &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>you can also use vector instead of array data type</p>\n"}, {"comments": [{"owner": {"reputation": 697, "user_id": 1160404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431cd02524d6ee187fcd1b3d9658498c?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1160404/maddy"}, "edited": false, "score": 0, "creation_date": 1517421899, "post_id": 48548609, "comment_id": 84093258, "body": "The question says you need to retrieve first 50 values sort of thing"}], "tags": [], "owner": {"reputation": 207, "user_id": 9271064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfb4229520d6be6d0af22f2aac6cb250?s=128&d=identicon&r=PG&f=1", "display_name": "rain city", "link": "https://stackoverflow.com/users/9271064/rain-city"}, "is_accepted": false, "score": 0, "last_activity_date": 1517422389, "last_edit_date": 1517422389, "creation_date": 1517421564, "answer_id": 48548609, "question_id": 48548322, "link": "https://stackoverflow.com/questions/48548322/c-equivalent-of-pythons-for-array-indexing/48548609#48548609", "title": "C++ equivalent of Python&#39;s : for array indexing", "body": "<p>The closest you can come is probably using iterators. In <code>&lt;algorithm&gt;</code> you can find a bunch of functions that act on an iterator range, for example:</p>\n\n<pre><code>int x[100];\nint new_value = 1;\nstd::fill(std::begin(x), std::begin(x) + 50, new_value);\n</code></pre>\n\n<p>This would change the values in the range to <code>new_value</code>. Other functions in <code>&lt;algorithm&gt;</code> can copy a range (<code>std::copy</code>), apply a function to elements in a range (<code>std::transform</code>), etc.</p>\n\n<p>If you are using this, be aware that <code>std::begin</code> and <code>std::end</code> only work with arrays, not with pointers! Safer and easier would be to use containers like <code>std::vector</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7978022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5599bd585cdc0a3954df436c8bd65add?s=128&d=identicon&r=PG&f=1", "display_name": "kl0f", "link": "https://stackoverflow.com/users/7978022/kl0f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 730, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1517423964, "creation_date": 1517420522, "last_edit_date": 1517423964, "question_id": 48548322, "link": "https://stackoverflow.com/questions/48548322/c-equivalent-of-pythons-for-array-indexing", "title": "C++ equivalent of Python&#39;s : for array indexing", "body": "<p>When working with arrays in C++, is there a simple way to access multiple indices of an array at once \u00e0 la Python's <code>:</code>?</p>\n\n<p>E.g. I have an array x of length 100. If I wanted the first 50 values of this array in Python I could write <code>x[0:50]</code>. In C++ is there an easier way to access this same portion of the array other than <code>x[0,1,2,...,49]</code>?</p>\n"}, {"tags": ["c++", "shader", "sfml"], "comments": [{"owner": {"reputation": 639, "user_id": 4189215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1839e6135c1f59d86d8aeebdf3285cd?s=128&d=identicon&r=PG&f=1", "display_name": "progsource", "link": "https://stackoverflow.com/users/4189215/progsource"}, "edited": false, "score": 0, "creation_date": 1517425402, "post_id": 48548292, "comment_id": 84095180, "body": "<a href=\"https://www.sfml-dev.org/tutorials/2.4/graphics-shader.php\" rel=\"nofollow noreferrer\">sfml-dev.org/tutorials/2.4/graphics-shader.php</a> yes - a shader can be a solution to this"}, {"owner": {"reputation": 123, "user_id": 2209566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9960bde7fc580b5cc2c99b3d3857a397?s=128&d=identicon&r=PG", "display_name": "Ozan Deniz", "link": "https://stackoverflow.com/users/2209566/ozan-deniz"}, "reply_to_user": {"reputation": 639, "user_id": 4189215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1839e6135c1f59d86d8aeebdf3285cd?s=128&d=identicon&r=PG&f=1", "display_name": "progsource", "link": "https://stackoverflow.com/users/4189215/progsource"}, "edited": false, "score": 0, "creation_date": 1517425627, "post_id": 48548292, "comment_id": 84095297, "body": "Thanks,  but is there any other way for this? Like an sfml class for this job?"}, {"owner": {"reputation": 639, "user_id": 4189215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1839e6135c1f59d86d8aeebdf3285cd?s=128&d=identicon&r=PG&f=1", "display_name": "progsource", "link": "https://stackoverflow.com/users/4189215/progsource"}, "edited": false, "score": 0, "creation_date": 1517426171, "post_id": 48548292, "comment_id": 84095567, "body": "You could probably also use a spritesheet for each sprite - of course that might end up in more work depending on how many sprites have to have that animation..."}, {"owner": {"reputation": 123, "user_id": 2209566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9960bde7fc580b5cc2c99b3d3857a397?s=128&d=identicon&r=PG", "display_name": "Ozan Deniz", "link": "https://stackoverflow.com/users/2209566/ozan-deniz"}, "reply_to_user": {"reputation": 639, "user_id": 4189215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1839e6135c1f59d86d8aeebdf3285cd?s=128&d=identicon&r=PG&f=1", "display_name": "progsource", "link": "https://stackoverflow.com/users/4189215/progsource"}, "edited": false, "score": 0, "creation_date": 1517431007, "post_id": 48548292, "comment_id": 84098086, "body": "Yeah, would work for 3-5 sprites but thats out of question for the current project with 100+ enemies."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 2209566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9960bde7fc580b5cc2c99b3d3857a397?s=128&d=identicon&r=PG", "display_name": "Ozan Deniz", "link": "https://stackoverflow.com/users/2209566/ozan-deniz"}, "edited": false, "score": 0, "creation_date": 1517431057, "post_id": 48549932, "comment_id": 84098113, "body": "Thanks for the reply, but thats not possible or effective since there will be 100 + enemies"}], "tags": [], "owner": {"reputation": 3, "user_id": 9279232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379adf0005f1284383421ff147a18e7e?s=128&d=identicon&r=PG", "display_name": "Tercalen", "link": "https://stackoverflow.com/users/9279232/tercalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1517426606, "creation_date": 1517426606, "answer_id": 48549932, "question_id": 48548292, "link": "https://stackoverflow.com/questions/48548292/sfml-c-flashing-hit-effect-on-sfsprite/48549932#48549932", "title": "SFML/C++ Flashing hit effect on sf::Sprite", "body": "<p>I don't think there is an out of the box solution for this.</p>\n\n<p>However, you could try to create yours by having a white sprite of the size of the ennemy you want to make the animation on and that is following it. During the game, you set the transparency of the white sprite to 0 to make it invisible (with the setColor as you mentioned), and when the ennemy is hit, set the transparency value at 255. You can then decrease it over time to make the \"fade away\" effect.</p>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 2209566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9960bde7fc580b5cc2c99b3d3857a397?s=128&d=identicon&r=PG", "display_name": "Ozan Deniz", "link": "https://stackoverflow.com/users/2209566/ozan-deniz"}, "is_accepted": true, "score": 3, "last_activity_date": 1517613824, "last_edit_date": 1517613824, "creation_date": 1517497651, "answer_id": 48565910, "question_id": 48548292, "link": "https://stackoverflow.com/questions/48548292/sfml-c-flashing-hit-effect-on-sfsprite/48565910#48565910", "title": "SFML/C++ Flashing hit effect on sf::Sprite", "body": "<p>Seems like the best solution is to write your own shader for this.\nI've solved the problem this way. Here is the code:</p>\n\n<p><strong>tint.frag</strong></p>\n\n<pre><code>uniform sampler2D texture;\n\nuniform vec4 flashColor;\n\nvoid main()\n{\n\n\nvec4 pixel_color = texture2D(texture, gl_TexCoord[0].xy);\nfloat percent = flashColor.a;\n\nvec4 colorDifference = vec4(0,0,0,1);\n\ncolorDifference.r = flashColor.r - pixel_color.r;\ncolorDifference.g = flashColor.g - pixel_color.g;\ncolorDifference.b = flashColor.b - pixel_color.b;\npixel_color.r = pixel_color.r + colorDifference.r * percent;\npixel_color.g = pixel_color.g +colorDifference.g * percent;\npixel_color.b =pixel_color.b + colorDifference.b * percent;\n\n\ngl_FragColor = pixel_color; \n\n}\n</code></pre>\n\n<p>to use tint.frag file(it's a shader file) you should send flashColor value \nto sf::Shader object this way:</p>\n\n<p><strong>.cpp code</strong></p>\n\n<pre><code>flashColor.a = 1.0;//1.0 for 100% effect to 0.0 for 0% effect\nshader.loadFromFile(\"shader/tint.frag\", sf::Shader::Fragment);//use your own \n//file path\nshader.setUniform(\"flashColor\", sf::Glsl::Vec4(1, 0, 0, 1));//from left to \n//right: red,green,blue,alpha. Alpha is useless in this shader file.\n//max is 1, not 255.\nwindow.draw(yoursprite, &amp;shader);\n</code></pre>\n\n<p>by chaning flashColor.a, you can change the tinting effect. 0 is the original color, 1 is fully coloring the texture with the color you want.</p>\n"}], "owner": {"reputation": 123, "user_id": 2209566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9960bde7fc580b5cc2c99b3d3857a397?s=128&d=identicon&r=PG", "display_name": "Ozan Deniz", "link": "https://stackoverflow.com/users/2209566/ozan-deniz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "accepted_answer_id": 48565910, "answer_count": 2, "score": 1, "last_activity_date": 1517613824, "creation_date": 1517420405, "question_id": 48548292, "link": "https://stackoverflow.com/questions/48548292/sfml-c-flashing-hit-effect-on-sfsprite", "title": "SFML/C++ Flashing hit effect on sf::Sprite", "body": "<p>as I've searched for a solution, I've only realized the way sfml handles setColor on sf::Sprite objects.\nIt's just multiplication of current RGB values of each pixel in the sprite.</p>\n\n<p>This way it's impossible to make a \"White\" flashing hit effect on a sprite.\nBy flashing hit effect I mean this: When you hit an enemy, it will turn pure white for a second then this effect fades away quickly until the sprite is it's original form.</p>\n\n<p>how can I make this white flashing hit effect on SFML?\n(Maybe using shaders?)</p>\n\n<p>thanks</p>\n"}, {"tags": ["c++", "opencv", "disparity-mapping"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 6627018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e84b761949b50f40561fdf4e77f43290?s=128&d=identicon&r=PG&f=1", "display_name": "user9870", "link": "https://stackoverflow.com/users/6627018/user9870"}, "edited": false, "score": 0, "creation_date": 1517523478, "post_id": 48555528, "comment_id": 84142117, "body": "yea, my object is static. Regarding the calibration of the camera, is that just normal single camera calibration? This is because as I looked up online, I found out that people do stereo vision camera calibration (which is assume it is different compare with mono vision camera system).  For block matching, that is also one of the problem that I was struggling on. This is because as you know, since it is a smooth surface it is very hard for the algorithm to identify. Besides Block Matching, do you know any algorithm that can work better under low texture?"}, {"owner": {"reputation": 158, "user_id": 5880781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a16d75968163e4e7f791127e369731a0?s=128&d=identicon&r=PG&f=1", "display_name": "jodis", "link": "https://stackoverflow.com/users/5880781/jodis"}, "reply_to_user": {"reputation": 35, "user_id": 6627018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e84b761949b50f40561fdf4e77f43290?s=128&d=identicon&r=PG&f=1", "display_name": "user9870", "link": "https://stackoverflow.com/users/6627018/user9870"}, "edited": false, "score": 0, "creation_date": 1517533561, "post_id": 48555528, "comment_id": 84145195, "body": "You can&#39;t really do stereo calibration with one moving camera unless the camera is always moving the exact same vector. So, if you do single camera calibration, you can <code>undistort</code>. You could try <code>cuda::StereoBeliefPropagation</code> but I don&#39;t know this algorithm. If speed is not too important, you can also try <a href=\"https://docs.opencv.org/trunk/d3/d14/tutorial_ximgproc_disparity_filtering.html\" rel=\"nofollow noreferrer\">post filtering</a>"}, {"owner": {"reputation": 158, "user_id": 5880781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a16d75968163e4e7f791127e369731a0?s=128&d=identicon&r=PG&f=1", "display_name": "jodis", "link": "https://stackoverflow.com/users/5880781/jodis"}, "reply_to_user": {"reputation": 35, "user_id": 6627018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e84b761949b50f40561fdf4e77f43290?s=128&d=identicon&r=PG&f=1", "display_name": "user9870", "link": "https://stackoverflow.com/users/6627018/user9870"}, "edited": false, "score": 0, "creation_date": 1517871580, "post_id": 48555528, "comment_id": 84262852, "body": "Did this help? I believe in OpenCV stereo matching the best you can do about low textured regions is SGBM and post filtering. If that&#39;s not enough you might want to check out <a href=\"https://github.com/t-taniai/LocalExpStereo\" rel=\"nofollow noreferrer\">github.com/t-taniai/LocalExpStereo</a> that is currently top in the Middlebury dataset. Or you might consider to use another sensor, for example a time of flight camera like the Kinect v2."}, {"owner": {"reputation": 35, "user_id": 6627018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e84b761949b50f40561fdf4e77f43290?s=128&d=identicon&r=PG&f=1", "display_name": "user9870", "link": "https://stackoverflow.com/users/6627018/user9870"}, "edited": false, "score": 1, "creation_date": 1517872428, "post_id": 48555528, "comment_id": 84263101, "body": "Hi thank you! The stereo belief propagation is too slow...Your comment about the low texture helps alot. I tried using a laplacian mask to sharpen the image (therefore more texture), and now it can give a very good result. On top of that, I use a thresholding method (threshold to zero) to remove the background...But at the same time, it preserve the texture of the image itself."}], "tags": [], "owner": {"reputation": 158, "user_id": 5880781, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a16d75968163e4e7f791127e369731a0?s=128&d=identicon&r=PG&f=1", "display_name": "jodis", "link": "https://stackoverflow.com/users/5880781/jodis"}, "is_accepted": true, "score": 0, "last_activity_date": 1517460534, "creation_date": 1517460534, "answer_id": 48555528, "question_id": 48548158, "link": "https://stackoverflow.com/questions/48548158/depth-disparity-map-from-a-moving-camera-in-opencv/48555528#48555528", "title": "Depth/Disparity Map from a moving camera in OpenCV", "body": "<p>It is possible if the object is static.</p>\n\n<p>To properly do stereo matching, you first need to rectify your images! If you don't have calibrated cameras, you can do this from detected feature points. Also note that for <code>cuda::StereoBM</code> the minimum default disparity is 0. (I have never used cuda, but I don't think your <code>setMinDisparity</code> is doing anything, see <a href=\"http://answers.opencv.org/question/132013/cuda-stereobm-setmindisparity-function/\" rel=\"nofollow noreferrer\">this anser</a>.)</p>\n\n<p>Now, in your example images corresponding points are only about 1 row apart, therefore your disparity map actually doesn't look too bad. Maybe having a larger <code>blockSize</code> would already do in this special case.</p>\n\n<p>Finally, your objects have very low texture, therefore the block matching algorithm can't detect much.</p>\n"}], "owner": {"reputation": 35, "user_id": 6627018, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e84b761949b50f40561fdf4e77f43290?s=128&d=identicon&r=PG&f=1", "display_name": "user9870", "link": "https://stackoverflow.com/users/6627018/user9870"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1490, "favorite_count": 0, "accepted_answer_id": 48555528, "answer_count": 1, "score": 0, "last_activity_date": 1521557655, "creation_date": 1517419920, "question_id": 48548158, "link": "https://stackoverflow.com/questions/48548158/depth-disparity-map-from-a-moving-camera-in-opencv", "title": "Depth/Disparity Map from a moving camera in OpenCV", "body": "<p>Is that possible to get the depth/disparity map from a moving camera? Let say I capture an image at x location, after I travelled let say 5cm and I capture another picture, and from there I calculate the depth map of the image.</p>\n\n<p>I have tried using BlockMatching in opencv but the result is not good.The first and second image are as following:\n<a href=\"https://i.stack.imgur.com/tLkKS.jpg\" rel=\"nofollow noreferrer\">first image</a>,<a href=\"https://i.stack.imgur.com/OaPjt.jpg\" rel=\"nofollow noreferrer\">second image</a>,\n<a href=\"https://i.stack.imgur.com/5BRi2.jpg\" rel=\"nofollow noreferrer\">disparity map (colour)</a>,<a href=\"https://i.stack.imgur.com/4jQSj.png\" rel=\"nofollow noreferrer\">disparity map</a></p>\n\n<p>My code is as following:</p>\n\n<pre><code>    GpuMat leftGPU;\n    GpuMat rightGPU;\n    leftGPU.upload(left);rightGPU.upload(right);\n    GpuMat disparityGPU;\n    GpuMat disparityGPU2;\n    Mat disparity;Mat disparity1,disparity2;\n    Ptr&lt;cuda::StereoBM&gt; stereo = createStereoBM(256,3);\n    stereo-&gt;setMinDisparity(-39);\n        stereo-&gt;setPreFilterCap(61);\n        stereo-&gt;setPreFilterSize(3);\n        stereo-&gt;setSpeckleRange(1);\n        stereo-&gt;setUniquenessRatio(0);\n    stereo-&gt;compute(leftGPU,rightGPU,disparityGPU);\n    drawColorDisp(disparityGPU, disparityGPU2,256);\n    disparityGPU.download(disparity);\n    disparityGPU2.download(disparity2);\n    imshow(\"display img\",disparityGPU);\n</code></pre>\n\n<p>how can I improve upon this? From the colour disparity map, there are quite a lot error (ie. the tall circle is red in colour and it is the same as some of the part of the table.). Also,from the disparity map, there are small noise (all the black dots in the picture), how can I pad those black dots with nearby disparities?</p>\n"}, {"tags": ["c++", "memory", "visual-c++", "memory-management", "buffer-overflow"], "answers": [{"comments": [{"owner": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "edited": false, "score": 0, "creation_date": 1517595233, "post_id": 48588536, "comment_id": 84174290, "body": "Question about the &#39;why&#39; portion: does that also hold true if it&#39;s a buffer overflow situation?  In other words, if I allocate a 10-byte slot of memory near the very end of the exe&#39;s memory space, and try to write 1000 bytes to it, does the OS check that?  My worry is that an sprintf() or strcpy() statement is trying to copy 1000+ bytes to a char[100] or something, and is overflowing onto another app&#39;s memory space."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "reply_to_user": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "edited": false, "score": 0, "creation_date": 1517596552, "post_id": 48588536, "comment_id": 84174904, "body": "@Kevin:  Yes, memory protection works even in the case of a buffer overflow.  The memory of other processes will be protected, and the buffer overflow can only damage the program with the bug."}, {"owner": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "edited": false, "score": 0, "creation_date": 1517599273, "post_id": 48588536, "comment_id": 84176099, "body": "Thanks!  Okay, one final angle on the question: does anything in the picture change if the first .exe is running on a remote desktop session, and the second .exe is the one responsible for remote desktop (csrss.exe)?"}, {"owner": {"reputation": 17562, "user_id": 568635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25f0758867b3f251cfdf101b9611b9b5?s=128&d=identicon&r=PG", "display_name": "Eelke", "link": "https://stackoverflow.com/users/568635/eelke"}, "edited": false, "score": 0, "creation_date": 1517599972, "post_id": 48588536, "comment_id": 84176454, "body": "Not really csrss.exe is listed as a user mode portion of windows which should mean that it runs as a normal user program just like your c++ program. It could be that it the OS grants is some special rights but that would mean it could write over memory owned by your application not the other way around."}, {"owner": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "edited": false, "score": 0, "creation_date": 1517600242, "post_id": 48588536, "comment_id": 84176586, "body": "Excellent!  Thanks for your help, everyone!"}], "tags": [], "owner": {"reputation": 17562, "user_id": 568635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/25f0758867b3f251cfdf101b9611b9b5?s=128&d=identicon&r=PG", "display_name": "Eelke", "link": "https://stackoverflow.com/users/568635/eelke"}, "is_accepted": true, "score": 2, "last_activity_date": 1517596637, "last_edit_date": 1517596637, "creation_date": 1517594939, "answer_id": 48588536, "question_id": 48548147, "link": "https://stackoverflow.com/questions/48548147/buffer-overflow-into-a-different-exes-memory-or-onto-csrss-exe-from-a-remote-d/48588536#48588536", "title": "Buffer Overflow into a different exe&#39;s memory? Or onto csrss.exe from a remote desktop prog?", "body": "<p>Short answer no it is not.</p>\n\n<p>Simplified explanation of why. Each program runs in it's own virtual address space. This virtual address space is controlled by the page table which is essentially a lookup table to map virtual addresses (the addresses in the pointers of the executable) onto physical memory addresses. When the OS switches to a task it hands the correct table to the cpu/core running the task. Any physical address not mentioned in this table will not be accessible from the program. Physical addresses belonging to another application should not appear in this table so it would be impossible to access memory belonging to another application. When a program misbehaves and accesses invalid memory location it will attempt to use virtual addresses not mentioned in the table. This will trigger an exception/fault on the cpu which is normally reported in windows as an \"Access violation\".</p>\n\n<p>Of course the OS and the CPU can contain bugs so it is impossible to guarantee that it doesn't happen. But if your C++ program misbehaves then still most of the time this would be caught by the CPU and reported as an access violation and not result in a BSOD. If you do not see your C++ program generating access violations I would expect it to be much more likely that the problem is caused by faulty memory or a buggy driver (drivers run at a higher privilege and can do things normal programs can't).</p>\n\n<p>I would say start with doing an extensive memory test with a program like memtest86. BTW if the server is a \"real\" server with ECC memory, faulty memory shouldn't be the problem as this should have been reported by the system.</p>\n\n<p><strong>Update</strong>\nDoesn't matter how the memory access happens underflow, overflow, uninitialized pointer. The virtual address used is either mapped to a physical memory location reserved for the program or it is not mapped at all. BTW the checking is done by the CPU the OS only maintains the tables used to do the lookups.</p>\n\n<p>However this doesn't mean every error by the program will be detected because as long as it is accessing addresses for which it was assigned memory the access is ok as far as the CPU is concerned. The heap manager in your program might think otherwise but has no way of detecting this. So even a buffer overflow at the end of the address space doesn't always cause an access violation because memory is assigned to the program in pages of atleast 4kB and the heap manager subdivides those pages into the smaller chunks the program asks it for. So your small 10 byte buffer can be at the start of such a page and writing a thousand bytes to it will be perfectly fine as far as the cpu is concerned. Because all that memory was setup for use by the program. However when your 10 byte buffer is at the end of the page and the next entry is not assigned to a physical address location an access violation will occur.</p>\n"}], "owner": {"reputation": 2041, "user_id": 6321291, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f2ca2f73db77b821c5a5ddb8e54203?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/6321291/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 48588536, "answer_count": 1, "score": 0, "last_activity_date": 1517596637, "creation_date": 1517419893, "question_id": 48548147, "link": "https://stackoverflow.com/questions/48548147/buffer-overflow-into-a-different-exes-memory-or-onto-csrss-exe-from-a-remote-d", "title": "Buffer Overflow into a different exe&#39;s memory? Or onto csrss.exe from a remote desktop prog?", "body": "<p><strong>Short, Question Form:</strong></p>\n\n<p>I did some googling but wasn't able to come up with the answer to this: is it possible to buffer overflow memory into another exe's memory?  And/or, is it possible to overflow csrss.exe's memory from an exe running on a remote desktop session?</p>\n\n<p><strong>Longer Story - Here's Our Situation:</strong></p>\n\n<p>We've got a server with an always-running remote desktop session that has a 24/7 program running - a C++ .exe.  To make things worse, the C++ exe was programmed using all sorts of unsafe memory operations (raw strcpy, sprintf, etc)  You don't need to tell me how bad this is structurally - I completely agree.</p>\n\n<p>Recently, our server's been having Blue Screen Of Death, and the dumpfile is indicating that csrss.exe is being terminated by our C++ exe (which will cause a BSOD, and csrss.exe is also responsible for managing remote desktop sessions.</p>\n\n<p>So I wanted to know if anyone knew whether it was possible for one app to do a memory buffer overflow that overflowed onto another app's memory space, or whether it'd be possible for an app on a remote desktop session to do so onto csrss.exe?</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 21, "user_id": 9295772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2748cd9e8c41f64fa2394e43432b31?s=128&d=identicon&r=PG&f=1", "display_name": "Uchida", "link": "https://stackoverflow.com/users/9295772/uchida"}, "reply_to_user": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1517420857, "post_id": 48548145, "comment_id": 84092660, "body": "I am not sure what you are referring to. I can translate those names if it helps tho."}, {"owner": {"reputation": 21, "user_id": 9295772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2748cd9e8c41f64fa2394e43432b31?s=128&d=identicon&r=PG&f=1", "display_name": "Uchida", "link": "https://stackoverflow.com/users/9295772/uchida"}, "reply_to_user": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "edited": false, "score": 0, "creation_date": 1517422787, "post_id": 48548145, "comment_id": 84093762, "body": "Alrighty, it should be more comprehensible now. Thanks for your point."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9295772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2748cd9e8c41f64fa2394e43432b31?s=128&d=identicon&r=PG&f=1", "display_name": "Uchida", "link": "https://stackoverflow.com/users/9295772/uchida"}, "edited": false, "score": 0, "creation_date": 1517431820, "post_id": 48550864, "comment_id": 84098484, "body": "Thank you, I managed to get my own solution to this problem about 10 minutes ago, but I appreciate that you took your time to answer my question :)"}], "tags": [], "owner": {"reputation": 15050, "user_id": 8605791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ae3be140b26db13a86d624dba4ef1c8?s=128&d=identicon&r=PG&f=1", "display_name": "llllllllll", "link": "https://stackoverflow.com/users/8605791/llllllllll"}, "is_accepted": true, "score": 0, "last_activity_date": 1517430297, "creation_date": 1517430297, "answer_id": 48550864, "question_id": 48548145, "link": "https://stackoverflow.com/questions/48548145/c-topdown-pyramid/48550864#48550864", "title": "C++ TopDown Pyramid", "body": "<p>For solving this kind of problem, if you find you need a <code>new</code>, then something is wrong. Just keep tracing the current state of printing, everything can be done in one-pass.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() {\n    int n = 0, half_n = 0;\n\n    std::cin &gt;&gt; n;\n    if ( n % 2 == 0 ) return -1;\n    half_n = n / 2;\n\n    // the first symbol to print, 1 or 0\n    int start_symbol = 1 - half_n % 2;\n\n    // how many steps from beginning require alternating symbol ?\n    int alternate_range = 0;\n\n    // 0 for upperhalf, 1 for lowerhalf\n    int direct = 0; \n\n    for ( int i = 0; i &lt; n; ++i ) {\n        int current_symbol = start_symbol;\n        for ( int j = 0; j &lt; alternate_range; ++j ) {\n            std::cout &lt;&lt; current_symbol;\n            current_symbol = 1 - current_symbol;\n        }\n\n        for ( int j = alternate_range; j &lt; n - alternate_range; ++j ) {\n            std::cout &lt;&lt; current_symbol;\n        }\n\n        for ( int j = n - alternate_range; j &lt; n; ++j ) {\n            current_symbol = 1 - current_symbol;\n            std::cout &lt;&lt; current_symbol;\n        }\n        std::cout &lt;&lt; \"\\n\";\n\n        if ( alternate_range == half_n ) {\n            direct = 1;\n        }\n\n        if ( direct == 0 ) {\n            ++alternate_range;\n        } else {\n            --alternate_range;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9295772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f2748cd9e8c41f64fa2394e43432b31?s=128&d=identicon&r=PG&f=1", "display_name": "Uchida", "link": "https://stackoverflow.com/users/9295772/uchida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 48550864, "answer_count": 1, "score": 0, "last_activity_date": 1517442209, "creation_date": 1517419891, "last_edit_date": 1517442209, "question_id": 48548145, "link": "https://stackoverflow.com/questions/48548145/c-topdown-pyramid", "title": "C++ TopDown Pyramid", "body": "<p>I had an idea to make a program that would take user input and make a... I am not quite sure how to call it correctly, so my WIP is top down pyramid. So that we don't get confused it should look something like this.</p>\n\n<p>If c is 5:</p>\n\n<pre><code>11111\n10001\n10101\n10001\n11111\n</code></pre>\n\n<p>If c is 7:</p>\n\n<pre><code>0000000\n0111110\n0100010\n0101010\n0100010\n0111110\n0000000\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WASKk.png\" rel=\"nofollow noreferrer\">Here is an image to help visualize the problem</a></p>\n\n<p>The only conditions are that there has to be a 1 in the middle and that cin is odd.</p>\n\n<p>Now, I've been thinking about it in my spare time and it seemed quite easy in my head, but when I try to put my thoughts into my code it never works out.\nIs there anyone who could help me? I am quite desperate .-.</p>\n\n<p>PS: Here is my WIP code so far (Please excuse my Czech ints and texts)</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid FillArray(int **PyramidArray,int a,int b,int c);\nvoid ExtractArray(int **PyramidArray,int a,int b,int c);\nint main()\n{\ncout &lt;&lt; \"input array size.(only odd numbers)\" &lt;&lt; endl;\nint c;\ncin &gt;&gt; c;\nif (c%2 == 0)\n{\ncout &lt;&lt; \"Only odd numbers!\" &lt;&lt; endl;\nreturn 1;\n}\nint **PyramidArray;\n    PyramidArray = new int*[c];\n    for (int i =0;i&lt;c;i++)\n    {\n        PyramidArray[i] = new int[i];\n    }\n    FillArray(PyramidArray,c,c,c);\n    ExtractArray(PyramidArray,c,c,c);\n\n\n\nreturn 0;\n}\n\nvoid FillArray(int **PyramidArray, int a, int b, int c)\n{\n\n    for(int i=0;i&lt;a;i++)\n    {\n\n        for (int j=0;j&lt;b;j++)\n        {\n            PyramidArray [i][j] = 1;\n        }\n    }\n\n }\nvoid ExtractArray(int **PyramidArray, int a,int b,int c)\n {\nfor(int i=0;i&lt;a;i++)\n    {\n    for (int j=0;j&lt;b;j++)\n        {\n        cout &lt;&lt; PyramidArray [i][j] &lt;&lt; \" \";\n        }\n        cout &lt;&lt; endl;\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows"], "comments": [{"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 2, "creation_date": 1517419776, "post_id": 48548075, "comment_id": 84092058, "body": "It is unclear what you are asking. Possibly too broad. Please take <a href=\"https://stackoverflow.com/tour\">the tour</a> and read <a href=\"https://stackoverflow.com/help\">the help page</a>. Welcome to SO."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1517419814, "post_id": 48548075, "comment_id": 84092079, "body": "Try to run your program in some terminal..... thru some command...."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 1, "creation_date": 1517419815, "post_id": 48548075, "comment_id": 84092080, "body": "My crystal ball says that you need to right click on the title bar of the console, open settings, then disable mouse selection."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1517421968, "post_id": 48548075, "comment_id": 84093299, "body": "It could be operating system specific, and your question does not mention any OS. BTW, a program can be started without any mouse (e.g. on some command line), and some computers (e.g. web servers) don&#39;t have mouses."}, {"owner": {"reputation": 21, "user_id": 8401641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04dedbadee91e083ec3ae3e88ac8aad1?s=128&d=identicon&r=PG&f=1", "display_name": "user66769", "link": "https://stackoverflow.com/users/8401641/user66769"}, "edited": false, "score": 0, "creation_date": 1517422446, "post_id": 48548075, "comment_id": 84093585, "body": "My OS is Windows 10. This problem occurs either when I run the program by double clicking on the .exe file, or when i run the program thrus the command terminal."}], "answers": [{"tags": [], "owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "is_accepted": true, "score": 1, "last_activity_date": 1517422581, "creation_date": 1517422581, "answer_id": 48548896, "question_id": 48548075, "link": "https://stackoverflow.com/questions/48548075/how-to-prevent-a-c-program-to-stop-when-click-on-the-window/48548896#48548896", "title": "How to prevent a c++ program to stop when click on the window?", "body": "<p>It doesn't \"kill\" your program; it only suspends it. You can press Enter, and your program will resume.</p>\n\n<hr>\n\n<p>This is a feature of Windows. When it runs a program in the console (aka the \"black window\"), it lets you grab the output of the program by selecting a rectangular region by dragging with the left mouse button.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IHwRO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IHwRO.png\" alt=\"Marking in Windows console\"></a></p>\n\n<p>This is what annoys you. Windows thinks you want to select a region in the output window, but you don't want to do it - you only want to click the window (e.g. to bring it above other windows). To fix this, disable the \"Quick Edit\" mode by right-clicking on the window's title, and Choosing \"Properties\", \"Options\", \"Edit Options\", \"QuickEdit Mode\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/bUgEl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bUgEl.png\" alt=\"Quick Edit\"></a></p>\n\n<p>It seems that Windows remembers this setting, so you only need to do it \"once\" (until you decide that you actually need this feature back).</p>\n"}], "owner": {"reputation": 21, "user_id": 8401641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04dedbadee91e083ec3ae3e88ac8aad1?s=128&d=identicon&r=PG&f=1", "display_name": "user66769", "link": "https://stackoverflow.com/users/8401641/user66769"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 48548896, "answer_count": 1, "score": -2, "last_activity_date": 1517422581, "creation_date": 1517419697, "last_edit_date": 1517421965, "question_id": 48548075, "link": "https://stackoverflow.com/questions/48548075/how-to-prevent-a-c-program-to-stop-when-click-on-the-window", "title": "How to prevent a c++ program to stop when click on the window?", "body": "<p>I am using CodeBlocks to complie my c++ programs.</p>\n\n<p>When I run the .exe file and click on the window, the program is stopping (is that normal ?).</p>\n\n<blockquote>\n  <p>How do I prevent the program to stop when I click on it ? Or how do I make the program continue after clicking on it ?</p>\n</blockquote>\n\n<p><strong>EDIT:</strong> for example with this minimal code</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    while (true)\n        std::cout &lt;&lt; \"*\";\n}\n</code></pre>\n\n<p>When I run the program, it should run endlessly, but whenever I leftclick inside the window opened by the program, it kills the program.\nIs that intended, or is that to some sort of bug ?</p>\n"}, {"tags": ["c++", "matrix", "spiral"], "comments": [{"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1517421496, "post_id": 48548063, "comment_id": 84093009, "body": "As you wrote, you need 4 loops, one for going left, one for going down, one for going right and one for going up again. However, you need to keep track of from where to where you need to go. Eg. The first time you go left, you go from 0 to n-1, the second time only from 1 to n-2, etc. I&#39;m convinced you can do this."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 8512629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb3b504750ffa77c41356780da0be8e0?s=128&d=identicon&r=PG&f=1", "display_name": "lkriener", "link": "https://stackoverflow.com/users/8512629/lkriener"}, "is_accepted": true, "score": 0, "last_activity_date": 1517421475, "creation_date": 1517421475, "answer_id": 48548583, "question_id": 48548063, "link": "https://stackoverflow.com/questions/48548063/spiral-matrix-in-c/48548583#48548583", "title": "Spiral matrix in C++?", "body": "<p>There are several thing that need to be tweeked:</p>\n\n<ul>\n<li>You need another loop around what you already have that repeats your circle motion for each round of the spiral and reduces the size of the circle with every iteration (this is the <code>m</code> in my example which is reduced towards zero).</li>\n<li>You initialize <code>int i</code> and <code>int j</code> at the beginning of your main function but in the loops you use <code>for (int i=0;...)</code> which means that you are not using the values of previously defined integers. </li>\n</ul>\n\n<p>In the end this looks like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nvoid print();\nconst int n=6;\nint a[n][n];\nint main()\n{\n    int counter = 1;\n    for (int m = n; m &gt; 0; m--)\n    {\n        int j=n-m,i=0;\n        for(i=n-m; i&lt;m; i++)\n        {\n            a[i][j]=counter;\n            counter++;\n        }\n        counter--;\n        for(int k=n-m; k&lt;m; k++)\n        {\n            a[m-1][k]=counter;\n            counter++;\n        }\n        counter--;\n        for(i=m-1; i&gt;=n-m; i--)\n        {\n            a[i][m-1]=counter;\n            counter++;\n        }\n        counter--;\n        for(j=m-1; j&gt;n-m; j--)\n        {\n            a[n-m][j]=counter;\n            counter++;\n        }\n    }\n    print();    \n    return 0;\n}\n</code></pre>\n\n<p>Using your <code>print()</code> this yields:</p>\n\n<pre><code>1       20      19      18      17      16                                                                                     \n2       21      32      31      30      15                                                                                     \n3       22      33      36      29      14                                                                                     \n4       23      34      35      28      13                                                                                     \n5       24      25      26      27      12                                                                                     \n6       7       8       9       10      11\n</code></pre>\n\n<p>Note that I chose <code>n=6</code> here.</p>\n"}], "owner": {"reputation": 33, "user_id": 9273873, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c118acdbacc070ddac3b952587136e2a?s=128&d=identicon&r=PG&f=1", "display_name": "A.Petrov", "link": "https://stackoverflow.com/users/9273873/a-petrov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 48548583, "answer_count": 1, "score": 0, "last_activity_date": 1517421475, "creation_date": 1517419646, "question_id": 48548063, "link": "https://stackoverflow.com/questions/48548063/spiral-matrix-in-c", "title": "Spiral matrix in C++?", "body": "<p>I have a program where I have to fill a matrix a[n][n] with the numbers from 1 to n in a spiral form. However my program fills only the border of the matrix. My question is how can I optimize the algorithm so that it fills the whole 2d-array.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid print();\nconst int n=9;\nint a[n][n];\nint main()\n{\n    int counter=1,j=0,i=0;\n    for(int i=0; i&lt;n; i++)\n    {\n        a[i][j]=counter;\n        counter++;\n    }\n    counter--;\n    for(int k=0; k&lt;n; k++)\n    {\n\n        a[n-1][k]=counter;\n        counter++;\n    }\n    counter--;\n    for(int i=n-1; i&gt;=0; i--)\n    {\n        a[i][n-1]=counter;\n        counter++;\n    }\n    counter--;\n    for(int j=n-1; j&gt;0; j--)\n    {\n        a[i][j]=counter;\n        counter++;\n    }\n    print();\n    return 0;\n}\n\nvoid print ()\n{\n    for(int i=0; i&lt;n; i++)\n    {\n        for(int j=0; j&lt;n; j++)\n        {\n\n            cout&lt;&lt;a[i][j]&lt;&lt;'\\t';\n        }\n        cout&lt;&lt;endl;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "linux", "gcc", "libgcrypt"], "comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1517419881, "post_id": 48548050, "comment_id": 84092125, "body": "Can code not use <code>static</code> in the data definitions?"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1517419934, "post_id": 48548050, "comment_id": 84092154, "body": "If it is <code>static</code>, the author&#39;s idea was that it should not be directly accessed by other modules."}, {"owner": {"reputation": 1529, "user_id": 2191202, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/6b276e74b1bc731105d163bbb79906c0?s=128&d=identicon&r=PG", "display_name": "bholanath", "link": "https://stackoverflow.com/users/2191202/bholanath"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1517420037, "post_id": 48548050, "comment_id": 84092222, "body": "@chux, inside the libgcrypt library , static function inside other source file are using these (i.e. encT) static data."}, {"owner": {"reputation": 1529, "user_id": 2191202, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/6b276e74b1bc731105d163bbb79906c0?s=128&d=identicon&r=PG", "display_name": "bholanath", "link": "https://stackoverflow.com/users/2191202/bholanath"}, "edited": false, "score": 0, "creation_date": 1517420186, "post_id": 48548050, "comment_id": 84092309, "body": "I want to access those static data from other independent C program (not part of library). As the static data section are located/loaded at fixed OFFSET, we may access those data with respect to address of some function."}, {"owner": {"reputation": 1056, "user_id": 4319483, "user_type": "registered", "profile_image": "https://graph.facebook.com/668992100/picture?type=large", "display_name": "Bjorn A.", "link": "https://stackoverflow.com/users/4319483/bjorn-a"}, "edited": false, "score": 1, "creation_date": 1517423188, "post_id": 48548050, "comment_id": 84093975, "body": "Can&#39;t you just copy the definitions? They&#39;re const anyway and won&#39;t change."}, {"owner": {"reputation": 1529, "user_id": 2191202, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/6b276e74b1bc731105d163bbb79906c0?s=128&d=identicon&r=PG", "display_name": "bholanath", "link": "https://stackoverflow.com/users/2191202/bholanath"}, "reply_to_user": {"reputation": 1056, "user_id": 4319483, "user_type": "registered", "profile_image": "https://graph.facebook.com/668992100/picture?type=large", "display_name": "Bjorn A.", "link": "https://stackoverflow.com/users/4319483/bjorn-a"}, "edited": false, "score": 0, "creation_date": 1517487490, "post_id": 48548050, "comment_id": 84120697, "body": "@BjornA., no I want to access static data of shared library. so by simply copying is not  a solution."}], "owner": {"reputation": 1529, "user_id": 2191202, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/6b276e74b1bc731105d163bbb79906c0?s=128&d=identicon&r=PG", "display_name": "bholanath", "link": "https://stackoverflow.com/users/2191202/bholanath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517488165, "creation_date": 1517419601, "last_edit_date": 1517488165, "question_id": 48548050, "link": "https://stackoverflow.com/questions/48548050/how-to-access-read-only-static-const-data-of-shared-library-from-c-c-program", "title": "How to access read-only (static const) data of shared library from C/C++ program with known OFFSET", "body": "<p>I have installed libgcrypt shared library. libgcrypt.so file is generated .\nIt has some read-only data.</p>\n\n<pre><code>./configure   ( without -g option for debug symbol)\nmake install \n\n\nstatic const u32 encT[256] =\n  {\n    0xa56363c6, 0x847c7cf8, 0x997777ee, 0x8d7b7bf6,\n    0x0df2f2ff, 0xbd6b6bd6, 0xb16f6fde, 0x54c5c591,\n    0x50303060, 0x03010102, 0xa96767ce, 0x7d2b2b56,\n...\n\n}\n\nstatic const struct\n{\n  u32 T[256];\n  byte inv_sbox[256];\n} dec_tables =\n  {\n    {\n      0x50a7f451, 0x5365417e, 0xc3a4171a, 0x965e273a,\n      0xcb6bab3b, 0xf1459d1f, 0xab58faac, 0x9303e34b,\n      0x55fa3020, 0xf66d76ad, 0x9176cc88, 0x254c02f5,\n      .....},\n\n    {\n      0x52,0x09,0x6a,0xd5,0x30,0x36,0xa5,0x38,\n      0xbf,0x40,0xa3,0x9e,0x81,0xf3,0xd7,0xfb,\n      0x7c,0xe3,0x39,0x82,0x9b,0x2f,0xff,0x87,\n      .....\n    }  \n }\n</code></pre>\n\n<p>Using nm command I am able to find the offset of read-only data.</p>\n\n<pre><code>nm /usr/lib/libgcrypt.so | grep encT\n0008ffc0 r encT\n\nnm /usr/lib/libgcrypt.so | grep dec_tables\n0008fac0 r dec_tables\n</code></pre>\n\n<p>I want to access those read-only data from C/C++ program.</p>\n\n<pre><code>    //sample.c\n    // gcc sample.c -lgcrypt \n\n    #include &lt;gcrypt.h&gt;\n\n    int main()\n    {\n\n    // ADDRESS of encT[0] = ? + OFFSET  (0008ffc0)\n    //print value of encT[0] as 0xa56363c6\n    // ADDRESS of dec_tables.T[0] = ? + OFFSET (0008fac0)\n    //print value of dec_tables.T[0] as 0x50a7f451\n    //print value of dec_tables.inv_sbox[0] as 0x52\n\n    }\n</code></pre>\n\n<p>I have following questions </p>\n\n<ol>\n<li><p>How to use those offset to access those read-only data (encT,\ndec_tables.T,dec_tables.inv_sbox)  from C program ?</p>\n\n<p><strong>2. Is there any other way to find the ADDRESS of encT, dec_tables.T,dec_tables.inv_sbox ?</strong></p></li>\n</ol>\n\n<p>EDIT-1 :\nglobal(extern) function, gcry_cipher_decrypt()  is used to perform decryption and it calls static do_decrypt --> static do_decrypt_fn() which uses dec_tables.T,dec_tables.inv_sbox. So it is possible to find ADDRESS of dec_tables.T,dec_tables.inv_sbox with respect to address of \ngcry_cipher_decrypt ?    </p>\n\n<p>I am using gcc-4.9, Ubuntu 16.04.</p>\n\n<p>It will be a great help if someone help me to complete the above sample program or any link to understand how I can do that ? Thanks in advance.   </p>\n"}, {"tags": ["c++", "constructor", "function-call"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 3, "creation_date": 1517419415, "post_id": 48547973, "comment_id": 84091833, "body": "<code>foo( { 1, 2 } );</code>"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 3, "creation_date": 1517419580, "post_id": 48547973, "comment_id": 84091933, "body": "... provided that <code>Object</code>&#39;s constructor is not explicit."}, {"owner": {"reputation": 23, "user_id": 9286976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1994419500574644/picture?type=large", "display_name": "Connor Crabtree", "link": "https://stackoverflow.com/users/9286976/connor-crabtree"}, "edited": false, "score": 0, "creation_date": 1517420423, "post_id": 48547973, "comment_id": 84092438, "body": "C++ does do implicit conversions using single value constructors that are not qualified with the &#39;explicit&#39; keyword. <a href=\"https://stackoverflow.com/questions/121162/what-does-the-explicit-keyword-mean\">This was a helpful read</a>"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517421556, "post_id": 48547973, "comment_id": 84093039, "body": "@ConnorCrabtree this also applies to constructors with no or several parameters since C++11 (which brought uniform initialization)."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 4, "last_activity_date": 1517426750, "last_edit_date": 1517426750, "creation_date": 1517419590, "answer_id": 48548048, "question_id": 48547973, "link": "https://stackoverflow.com/questions/48547973/c-constructors-during-function-calls/48548048#48548048", "title": "C++ constructors during function calls", "body": "<blockquote>\n  <p>A couple years ago someone told me that you can pass arguments that fit the constructor of an object that is an argument to a function.</p>\n</blockquote>\n\n<p>If you recall it right, what was said is wrong.</p>\n\n<p>Given your function and class, you may not use:</p>\n\n<pre><code>f(1, 2);\n</code></pre>\n\n<p>However, you may use:</p>\n\n<pre><code>f({1, 2});\n</code></pre>\n\n<p>The <code>{...}</code> will call an appropriate constructor, if one matches.</p>\n\n<p>As a matter of personal preference, I would still use:</p>\n\n<pre><code>f(Object{1, 2});\n</code></pre>\n\n<p>IMO, the intent is more clearly expressed when using <code>Object{1, 2}</code> than when using just <code>{1, 2}</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 9286976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1994419500574644/picture?type=large", "display_name": "Connor Crabtree", "link": "https://stackoverflow.com/users/9286976/connor-crabtree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 48548048, "answer_count": 1, "score": 2, "last_activity_date": 1517426750, "creation_date": 1517419329, "last_edit_date": 1517419426, "question_id": 48547973, "link": "https://stackoverflow.com/questions/48547973/c-constructors-during-function-calls", "title": "C++ constructors during function calls", "body": "<p>In C++ when you have an object that is passed to a function by value the copy constructor is invoked. Such as in this function signature:</p>\n\n<pre><code>void foo(Object o);\n</code></pre>\n\n<p>A couple years ago someone told me that you can pass arguments that fit the constructor of an object that is an argument to a function. So, using the above function signature foo, let's say Object has the constructor:</p>\n\n<pre><code>Object(int a, int b);\n</code></pre>\n\n<p>we would be able to call the function foo like this:</p>\n\n<pre><code>foo(1,2);\n</code></pre>\n\n<p>I haven't been able to find any information about this and I think that I either misinterpreted what I heard years ago or that the person was just wrong. Is there any way to do this other than:</p>\n\n<pre><code>foo(Object(1,2));\n</code></pre>\n\n<p>and if not, is there a reason that this constructor can not be implicitly invoked during a function call?</p>\n"}, {"tags": ["c++", "struct", "stl", "iterator"], "comments": [{"owner": {"reputation": 10055, "user_id": 2466431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gSQh3.png?s=128&g=1", "display_name": "JVApen", "link": "https://stackoverflow.com/users/2466431/jvapen"}, "edited": false, "score": 0, "creation_date": 1517419928, "post_id": 48547958, "comment_id": 84092152, "body": "Why would this not work, the little amount of code looks fine. Can you provide the real code?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1517419979, "post_id": 48547958, "comment_id": 84092182, "body": "Compiles fine, after adding the boilerplate: <a href=\"https://ideone.com/NpW6zj\" rel=\"nofollow noreferrer\">ideone.com/NpW6zj</a>"}, {"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517422876, "post_id": 48547958, "comment_id": 84093809, "body": "Here is the complete code: <a href=\"https://ideone.com/tBpSBF\" rel=\"nofollow noreferrer\">ideone.com/tBpSBF</a>"}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "edited": false, "score": 0, "creation_date": 1517429979, "post_id": 48547958, "comment_id": 84097566, "body": "Why are you doing <code>h.insert(&amp;headA);</code> shouldn&#39;t it be <code>h.insert(headA);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517432805, "post_id": 48550888, "comment_id": 84098990, "body": "I want to save the address. I&#39;m not sure why we would need double pointers (**). A line on that would be greatly helpful.  I did try your suggestion and its stuck on a particular line (Marked in comment). Please see: <a href=\"https://ideone.com/P5AZR7\" rel=\"nofollow noreferrer\">ideone.com/P5AZR7</a>"}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517433450, "post_id": 48550888, "comment_id": 84099337, "body": "Double pointers are needed because of the refrence of a pointer. Why are You using a refrence?"}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517433643, "post_id": 48550888, "comment_id": 84099425, "body": "Actually in this case the ampersand means <code>address_of</code>. <a href=\"https://docs.microsoft.com/en-us/cpp/cpp/address-of-operator-amp\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/cpp/cpp/address-of-operator-amp</a>"}, {"owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517433919, "post_id": 48550888, "comment_id": 84099554, "body": "My understanding was that a single pointer is sufficient to store the address of a variable. Is that wrong? The question is to detect the meeting points of two linked lists. My strategy is to make a hash of the addresses of each node in one linked list and then see which address of the other node exists in the hash ( as that is the common node, hence the meeting point). Since I am comparing addresses, hence the reference/ address operator (&amp;) is needed."}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517434054, "post_id": 48550888, "comment_id": 84099621, "body": "But You already have an address <code>headA</code> and <code>headB</code> is of type <code>Node*</code> so You don&#39;t have to take it&#39;s address."}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 0, "creation_date": 1517434521, "post_id": 48550888, "comment_id": 84099858, "body": "A variable of type <code>Node*</code> is already storing an address. So You just use the variable."}, {"owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "reply_to_user": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "edited": false, "score": 1, "creation_date": 1517435256, "post_id": 48550888, "comment_id": 84100225, "body": "Remove the address of operator (<code>&amp;</code>), revert the types to <code>Node*</code>. The problem is in the HeadB loop. The next element is never assigned to HeadB. The while loops have the incorrect condition. It should be <code>while (headA)</code> or <code>headB</code>."}], "tags": [], "owner": {"reputation": 4533, "user_id": 2504757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef5b308d33027fab8440d223828fe4c?s=128&d=identicon&r=PG", "display_name": "Robert Andrzejuk", "link": "https://stackoverflow.com/users/2504757/robert-andrzejuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1517440117, "last_edit_date": 1517440117, "creation_date": 1517430421, "answer_id": 48550888, "question_id": 48547958, "link": "https://stackoverflow.com/questions/48547958/use-stl-containers-with-struct/48550888#48550888", "title": "Use STL Containers with Struct", "body": "<p>You are inserting and finding incorrectly.\nYour elements are of type <code>Node*</code>.</p>\n\n<p>You have an \"address of\" operator (<code>&amp;</code>) before Your elements. Which means You are trying to add a <code>Node**</code>, which is the incorrect type.\nSo the compiler is saying:</p>\n\n<pre><code>prog.cpp:67:24: error: no matching function for call to \u2018std::unordered_set&lt;Node*&gt;::insert(Node**)\u2019\n</code></pre>\n\n<p>The correct way is to add an element of the correct type, which is <code>Node*</code>, by removing the address of operator (<code>&amp;</code>);</p>\n\n<p>Unless You wanted the address of a pointer, then You need the container to store <code>Node**</code></p>\n"}], "owner": {"reputation": 1219, "user_id": 3426358, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/9f7fcc552dd4e78b2347319cd670a61e?s=128&d=identicon&r=PG&f=1", "display_name": "FlyingAura", "link": "https://stackoverflow.com/users/3426358/flyingaura"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 48550888, "answer_count": 1, "score": 0, "last_activity_date": 1517440117, "creation_date": 1517419272, "question_id": 48547958, "link": "https://stackoverflow.com/questions/48547958/use-stl-containers-with-struct", "title": "Use STL Containers with Struct", "body": "<p>I want to store the address of each of the items of my linked list represented by this struct:</p>\n\n<pre><code>struct Node\n   {\n       int data;\n       Node* next;\n   };\n</code></pre>\n\n<p>I made an unordered set for this as:</p>\n\n<pre><code>unordered_set&lt;Node*&gt; h;\n</code></pre>\n\n<p>I defined the iterator as </p>\n\n<pre><code>unordered_set &lt;Node*&gt;::iterator got = h.find (&amp;headB);\n</code></pre>\n\n<p>This naturally threw a lot of compiler errors. Reading up on forums, I realized that this was wrong because since Node isnt a standard data type, this iterator wouldnt work. Reading up more, I also saw somewhere that I also needed to define an operator for this implementation. I searched a lot on Stack Overflow but didnt find anything that answers this question. </p>\n\n<p>So basically, I just want to know how do we make struct's work with any STL containers and iterators: How do we define containers and implement algorithms ( insert, search, deletion on them)</p>\n"}, {"tags": ["c++", "winapi", "timer"], "comments": [{"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1517419728, "post_id": 48547935, "comment_id": 84092029, "body": "why this not visible - no code. but why you use <code>g_operational</code> and <code>TimerDoneEvent</code> at all ? you need by sense use <code>DeleteTimerQueueTimer</code> with <code>INVALID_HANDLE_VALUE</code> or <code>CompletionEvent</code> instead"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1517419870, "post_id": 48547935, "comment_id": 84092123, "body": "Defining static variables in header files is usually not a good idea."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1517419966, "post_id": 48547935, "comment_id": 84092175, "body": "@JonathanPotter - yes, every cpp file will be have private copy of it. as result <code>main_timer</code>  will be use another <code>g_operational</code> variable than <code>g_operational = false;</code> but anyway use <code>g_operational</code> is error by winapi. need <code>DeleteTimerQueueTimer</code>"}], "owner": {"reputation": 199, "user_id": 7936610, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/5cc3a5257b19038cb58effb85443ed69?s=128&d=identicon&r=PG&f=1", "display_name": "778899", "link": "https://stackoverflow.com/users/7936610/778899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1517495044, "answer_count": 0, "score": 1, "last_activity_date": 1517419229, "creation_date": 1517419229, "question_id": 48547935, "link": "https://stackoverflow.com/questions/48547935/createtimerqueuetimer-termination-on-wm-close", "closed_reason": "Duplicate", "title": "CreateTimerQueueTimer termination on WM_CLOSE", "body": "<p>I have this in a header:</p>\n\n<pre><code>static volatile bool g_operational = true;\n</code></pre>\n\n<p>then <code>WM_CLOSE</code> has this:</p>\n\n<pre><code>g_operational = false;\nWaitForSingleObject(TimerDoneEvent , INFINITE);\nDeleteTimerQueueEx(t_main , NULL);\n</code></pre>\n\n<p>with the timer callback function looking like this:</p>\n\n<pre><code>VOID CALLBACK main_timer(PVOID lpParam , BOOLEAN TimerOrWaitFired) {\n    // doing stuff\n    if ( !g_operational ) \n        SetEvent(TimerDoneEvent);\n}\n</code></pre>\n\n<p>The timer itself is doing what I expect but the issue is shutting it down from <code>WM_CLOSE</code>, what's happening is <code>g_operational</code> is set to <code>false</code> then the timer thread that's running every second should pick up on <code>g_operational</code> being false then call <code>SetEvent</code> to signal that the thread is done so <code>WaitForSingleObject</code> can continue but within the callback function <code>g_operational</code> always remains <code>true</code>, why is this?</p>\n"}, {"tags": ["c++", "if-statement"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 3, "creation_date": 1517419188, "post_id": 48547893, "comment_id": 84091674, "body": "If you care you have to measure."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1517419257, "post_id": 48547893, "comment_id": 84091718, "body": "Why should one be faster then the other?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 2, "creation_date": 1517419317, "post_id": 48547893, "comment_id": 84091769, "body": "Don&#39;t worry about this at all. You will have to worry about a lot of other things when writing an application that solves some real world problems."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1517419641, "post_id": 48547893, "comment_id": 84091974, "body": "Premature optimisation is the root of all evil.... don&#39;t do it."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1517419787, "post_id": 48547893, "comment_id": 84092066, "body": "I say if it takes 1 billionth of a second or even 20 billionths of a second more how would you even know? The <code>cout</code> is going to take much longer."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1517420073, "post_id": 48547893, "comment_id": 84092241, "body": "How about <code>std::cout &lt;&lt; (a == b)[&quot;ba&quot;];</code> ? :-)"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1517420154, "post_id": 48547893, "comment_id": 84092289, "body": "Speed up your algorithms, use efficient data structures, and not concern yourself with rinky-dink <code>if</code> statements."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1517421873, "post_id": 48547893, "comment_id": 84093237, "body": "The truth is in the assembly language output.  Most processors require at least 2 instructions for a conditional expression:  compare and branch.  Most processors don&#39;t like branch instructions because they may cause a reload of the instruction cache.  Regardless, generate the assembly language for each example and compare them.  Reduce branching if possible."}], "answers": [{"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1517419329, "post_id": 48547942, "comment_id": 84091778, "body": "@HolyBlackCat: Did I mess up my operator precedence?!"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 1, "creation_date": 1517419370, "post_id": 48547942, "comment_id": 84091799, "body": "Apparently so. :P"}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 4, "last_activity_date": 1517419385, "last_edit_date": 1517419385, "creation_date": 1517419253, "answer_id": 48547942, "question_id": 48547893, "link": "https://stackoverflow.com/questions/48547893/c-which-if-else-is-faster/48547942#48547942", "title": "C++ which if/else is faster", "body": "<p>The ternary conditional is an abuse since it's a mere coincidence that <code>decltype(cout&lt;&lt;\"a\")</code> is a type that can be used in a ternary conditional:</p>\n\n<pre><code>cout &lt;&lt; (a == b ? \"a\" : \"b\");\n</code></pre>\n\n<p>would be more palatable, and possibly more tractable than the <code>if</code>, <code>else</code>, which you should otherwise prefer for its clarity.</p>\n\n<p>And trust your compiler to make the optimisations. checking the output assembly if you have any suspicions.</p>\n"}, {"tags": [], "owner": {"reputation": 973, "user_id": 7023562, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1291556954197383/picture?type=large", "display_name": "theboringdeveloper", "link": "https://stackoverflow.com/users/7023562/theboringdeveloper"}, "is_accepted": false, "score": 2, "last_activity_date": 1517419470, "creation_date": 1517419470, "answer_id": 48548008, "question_id": 48547893, "link": "https://stackoverflow.com/questions/48547893/c-which-if-else-is-faster/48548008#48548008", "title": "C++ which if/else is faster", "body": "<p>The performance of either would never be catastrophic for your program.</p>\n\n<p>It all comes down to Code readability.</p>\n\n<p>The tertiary operator has its limitation of only one statement either true or false.</p>\n"}], "owner": {"reputation": 135, "user_id": 8082529, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e5fa6fef62da0e5e9dc24a71dc3d741c?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Clarkson", "link": "https://stackoverflow.com/users/8082529/jeremy-clarkson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 1, "closed_date": 1517419951, "accepted_answer_id": 48547942, "answer_count": 2, "score": -1, "last_activity_date": 1517419470, "creation_date": 1517419113, "question_id": 48547893, "link": "https://stackoverflow.com/questions/48547893/c-which-if-else-is-faster", "closed_reason": "Duplicate", "title": "C++ which if/else is faster", "body": "<p>I have seen two types of if/else, which one is faster?</p>\n\n<pre><code>if(a==b) cout&lt;&lt;\"a\";\nelse cout&lt;&lt;\"b\";\n</code></pre>\n\n<p>OR </p>\n\n<pre><code>a==b ? cout&lt;&lt;\"a\" : cout&lt;&lt;\"b\";\n</code></pre>\n"}, {"tags": ["c++", "r", "rcpp"], "comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517418994, "post_id": 48547750, "comment_id": 84091550, "body": "Please tell us, what <i>is</i> &quot;Rcpp&quot;?"}, {"owner": {"reputation": 46, "user_id": 9295590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXA1Y.jpg?s=128&g=1", "display_name": "Oriol", "link": "https://stackoverflow.com/users/9295590/oriol"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1517419331, "post_id": 48547750, "comment_id": 84091779, "body": "It was wrongly spelled, it is an R package to combine C++ and R code"}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1517419487, "post_id": 48547750, "comment_id": 84091876, "body": "@JesperJuhl Click on the tag and see the info--it is an R extension package which greatly facilitates C++ integration into R."}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 9295590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXA1Y.jpg?s=128&g=1", "display_name": "Oriol", "link": "https://stackoverflow.com/users/9295590/oriol"}, "edited": false, "score": 0, "creation_date": 1517483647, "post_id": 48548071, "comment_id": 84118396, "body": "Using Rcpp.package skeleton I am able to compile and call C++ functions in R, so it works, thank you."}], "tags": [], "owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "is_accepted": false, "score": 0, "last_activity_date": 1517419674, "creation_date": 1517419674, "answer_id": 48548071, "question_id": 48547750, "link": "https://stackoverflow.com/questions/48547750/cannot-use-sourcecpp-from-file/48548071#48548071", "title": "cannot use sourceCpp from file", "body": "<p>You may be editing your source with an inappropriate application leaving odd things behind:</p>\n\n<pre><code>/home/userD/map:1:1: error: stray \u2018\\177\u2019 in program\n</code></pre>\n\n<p>Take care of that first, and things will improve.  </p>\n\n<p>You can also <em>greatly</em> help yourself if you use one of (at least two) generators for <em>working</em> examples:</p>\n\n<ol>\n<li>Call <code>Rcpp.package.skeleton(\"mypackagenamehere\")</code></li>\n<li>Use RStudio and do File -> New Project -> New Directory after which you can select Package / Package with Rcpp.</li>\n</ol>\n\n<p>Build the generated example. Rejoice that it works.  Then modify it.</p>\n"}], "owner": {"reputation": 46, "user_id": 9295590, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXA1Y.jpg?s=128&g=1", "display_name": "Oriol", "link": "https://stackoverflow.com/users/9295590/oriol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 931, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517419674, "creation_date": 1517418689, "last_edit_date": 1517419251, "question_id": 48547750, "link": "https://stackoverflow.com/questions/48547750/cannot-use-sourcecpp-from-file", "title": "cannot use sourceCpp from file", "body": "<p>I am trying to play with Rcpp package from R statistical software. Unfortunately, I cannot compile a basic example with sourceCpp function. My toy example is the following:</p>\n\n<pre><code>#include &lt;Rcpp.h&gt;\nusing namespace Rcpp;\n\n// [[Rcpp::export]]                                                                                                                            \nint hello(int a)\n{\nreturn a;\n}\n</code></pre>\n\n<p>Saved into the file \"helloworldR.cpp\nThen when I call sourceCpp:</p>\n\n<pre><code>library(Rcpp)\nsourceCpp(\"helloworldR.cpp\")\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>In file included from /home/userD/R/x86_64-pc-linux-gnu-library/3.4/Rcpp/include/RcppCommon.h:65:0,\n                  from /home/master/R/x86_64-pc-linux-gnu-library/3.4/Rcpp/include/Rcpp.h:27,\n                  from helloworldR.cpp:1:                                                                                                      \n /home/userD/map:1:1: error: stray \u2018\\177\u2019 in program\n  ^?ELF^B^A^A         ^B &gt; ^A    ^K@     @       Xw          @ 8   @   ^] ^F   ^E\n  ^                                                                                                                                            \n /home/userD/map:1:8: warning: null character(s) ignored\n\nmake: *** [helloworldR.o] Error 1\ng++  -I/usr/local/lib/R/include -DNDEBUG   -I\"/home/master/R/x86_64-pc-linux-gnu-library/3.4/Rcpp/include\" -I\"/home/userD\" -I/usr/local/include   -fpic  -g -O2  -c helloworldR.cpp -o helloworldR.o\n /usr/local/lib/R/etc/Makeconf:168: recipe for target 'helloworldR.o' failed\n Error in sourceCpp(\"helloworldR.cpp\") :\n   Error 1 occurred building shared library.\n</code></pre>\n\n<p>But if I put the code as a string it works:</p>\n\n<pre><code>sourceCpp(code = \"#include &lt;Rcpp.h&gt;                                                                                                           \n + using namespace Rcpp;                                                                                                                       \n +                                                                                                                                             \n + // [[Rcpp::export]]                                                                                                                         \n + int hello(int a)                                                                                                                            \n + {                                                                                                                                           \n +   return a;                                                                                                                                 \n + }                                                                                                                                           \n + \")                                                                                                                                          \n &gt; hello(2)\n [1] 2\n</code></pre>\n\n<p>What do you think it can be? Any help is kindly appreciated, here is my session info</p>\n\n<pre><code>sessionInfo()\n R version 3.4.3 (2017-11-30)\n Platform: x86_64-pc-linux-gnu (64-bit)\n Running under: Ubuntu 16.04.3 LTS\n\n Matrix products: default\n BLAS: /usr/local/lib/R/lib/libRblas.so\n LAPACK: /usr/local/lib/R/lib/libRlapack.so\n\n locale:\n  [1] LC_CTYPE=ca_ES.UTF-8       LC_NUMERIC=C\n  [3] LC_TIME=ca_ES.UTF-8        LC_COLLATE=ca_ES.UTF-8\n  [5] LC_MONETARY=ca_ES.UTF-8    LC_MESSAGES=ca_ES.UTF-8\n  [7] LC_PAPER=ca_ES.UTF-8       LC_NAME=C\n  [9] LC_ADDRESS=C               LC_TELEPHONE=C\n [11] LC_MEASUREMENT=ca_ES.UTF-8 LC_IDENTIFICATION=C\n\n attached base packages:\n [1] stats     graphics  grDevices utils     datasets  methods   base\n\n other attached packages:\n [1] ggplot2_2.2.1 Rcpp_0.12.15\n\n loaded via a namespace (and not attached):\n  [1] colorspace_1.3-2 scales_0.5.0     compiler_3.4.3   lazyeval_0.2.1\n  [5] plyr_1.8.4       tools_3.4.3      pillar_1.1.0     gtable_0.2.0\n  [9] tibble_1.4.2     grid_3.4.3       rlang_0.1.6      munsell_0.4.3\n</code></pre>\n"}, {"tags": ["c++", "makefile", "cmake", "msys"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1517419018, "post_id": 48547690, "comment_id": 84091567, "body": "It seems that when <code>cmake</code> has been run, its path was actually <code>&#47;usr&#47;bin&#47;cmake</code>. From which environment (Windows, MSYS) you have run <code>cmake</code> and which <a href=\"https://cmake.org/cmake/help/v3.7/manual/cmake-generators.7.html\" rel=\"nofollow noreferrer\">generator</a> you have used?"}], "answers": [{"tags": [], "owner": {"reputation": 70803, "user_id": 28128, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4e974a514f0764fdfe99a8915f192002?s=128&d=identicon&r=PG", "display_name": "David Grayson", "link": "https://stackoverflow.com/users/28128/david-grayson"}, "is_accepted": false, "score": 2, "last_activity_date": 1517420444, "creation_date": 1517420444, "answer_id": 48548300, "question_id": 48547690, "link": "https://stackoverflow.com/questions/48547690/cmake-is-not-found-when-running-through-make/48548300#48548300", "title": "CMake is not found when running through make", "body": "<p>Make sure that you launch MSYS2 using the <code>mingw32.exe</code> executable at the top level of your MSYS2 installation, and that you use that environment when you first run <code>cmake</code>.  If you ran CMake in a different environment, remove all the files it created.  The commands for running <code>cmake</code> and building the project should be something like this, assuming the developers have set it up in a reasonable way:</p>\n\n<pre><code>mkdir build\ncd build\ncmake .. -G\"MSYS Makefiles\"\nmake\n</code></pre>\n\n<p>I didn't try this myself because I am wary of running random code from the internet, but I found this note in the CMakefile indicating that the developers do not support MSYS2:</p>\n\n<pre><code>if (WIN32)\n  if (NOT MSVC)\n        message(FATAL_ERROR \"Only MSVC is supported on this platform\")\n  endif ()\n  ...\n</code></pre>\n\n<p>So you will have to spend some effort on porting the Windows-specific code in this program to GCC if you really want to do this.</p>\n"}], "owner": {"reputation": 1694, "user_id": 1538258, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e2c17f9d54320c341a0d7b0b39bff036?s=128&d=identicon&r=PG", "display_name": "Praneeth Peiris", "link": "https://stackoverflow.com/users/1538258/praneeth-peiris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4911, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517420444, "creation_date": 1517418486, "question_id": 48547690, "link": "https://stackoverflow.com/questions/48547690/cmake-is-not-found-when-running-through-make", "title": "CMake is not found when running through make", "body": "<p>I'm trying to build <a href=\"https://github.com/AlbertWerner/cryptonotecoinwallet\" rel=\"nofollow noreferrer\">https://github.com/AlbertWerner/cryptonotecoinwallet</a> and facing an issue.</p>\n\n<p>According to the README of the repo, I can run <code>cmake</code> command and it completes without any errors. But then, when I run <code>make</code>, it gives me the below error.</p>\n\n<pre><code>$ make\nmake: /usr/bin/cmake: Command not found\nmake: *** [Makefile:5138: cmake_check_build_system] Error 127\n</code></pre>\n\n<p>I'm using MSYS on Windows and here are the corresponding details.</p>\n\n<pre><code>$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/opt/bin:/c/Windows/System32:/c/Windows:/c/Windows/System32/Wbem:/c/Windows/System32/WindowsPowerShell/v1.0/:/usr/bin/site_perl:/usr/bin/vendor_perl:/usr/bin/core_perl:/mingw32/bin\n\n$ which cmake\n/mingw32/bin/cmake\n</code></pre>\n\n<p>Seems like it's looking for <code>cmake</code> in the wrong path.</p>\n\n<p>Makefile</p>\n\n<pre><code>cmake_check_build_system:\n    $(CMAKE_COMMAND) -H$(CMAKE_SOURCE_DIR) -B$(CMAKE_BINARY_DIR) --check-build-system CMakeFiles/Makefile.cmake 0\n.PHONY : cmake_check_build_system # &lt;== Line 5139\n</code></pre>\n\n<p>I'm not sure what's wrong. Please help me out.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "cuda", "variadic-templates", "gpu-cooperative-groups"], "answers": [{"tags": [], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "is_accepted": true, "score": 2, "last_activity_date": 1568892296, "last_edit_date": 1568892296, "creation_date": 1517479717, "answer_id": 48560098, "question_id": 48547409, "link": "https://stackoverflow.com/questions/48547409/can-i-launch-a-cooperative-kernel-without-passing-an-array-of-pointers/48560098#48560098", "title": "Can I launch a cooperative kernel without passing an array of pointers?", "body": "<p>We can use something like the following workaround (requires <code>--std=c++11</code> or a more recent C++ language standard):</p>\n\n<pre><code>namespace detail {\n\ntemplate &lt;typename F, typename... Args&gt;\nvoid for_each_argument_address(F f, Args&amp;&amp;... args) {\n    [](...){}((f( (void*) &amp;std::forward&lt;Args&gt;(args) ), 0)...);\n}\n\n} // namespace detail\n\ntemplate&lt;typename KernelFunction, typename... KernelParameters&gt;\ninline void cooperative_launch(\n    const KernelFunction&amp;       kernel_function,\n    stream::id_t                stream_id,\n    launch_configuration_t      launch_configuration,\n    KernelParameters...         parameters)\n{\n    void* arguments_ptrs[sizeof...(KernelParameters)];\n    auto arg_index = 0;\n    detail::for_each_argument_address(\n        [&amp;](void * x) {arguments_ptrs[arg_index++] = x;},\n        parameters...);\n    cudaLaunchCooperativeKernel&lt;KernelFunction&gt;(\n        &amp;kernel_function,\n        launch_configuration.grid_dimensions,\n        launch_configuration.block_dimensions,\n        arguments_ptrs,\n        launch_configuration.dynamic_shared_memory_size,\n        stream_id);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "is_accepted": false, "score": 2, "last_activity_date": 1517485364, "last_edit_date": 1517485364, "creation_date": 1517480097, "answer_id": 48560218, "question_id": 48547409, "link": "https://stackoverflow.com/questions/48547409/can-i-launch-a-cooperative-kernel-without-passing-an-array-of-pointers/48560218#48560218", "title": "Can I launch a cooperative kernel without passing an array of pointers?", "body": "<p>The answer is no.</p>\n\n<p>Under the hood, the <code>&lt;&lt;&lt; &gt;&gt;&gt;</code> syntax gets expanded like this:</p>\n\n<pre><code>deviceReduceBlockKernel0&lt;&lt;&lt;nblocks, 256&gt;&gt;&gt;(input, scratch, N);\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>(cudaConfigureCall(nblocks, 256)) ? (void)0 : deviceReduceBlockKernel0(input, scratch, N); \n</code></pre>\n\n<p>and a boilerplate wrapper function gets emitted:</p>\n\n<pre><code>void deviceReduceBlockKernel0(int *in, int2 *out, int N) ;\n\n// ....\n\nvoid deviceReduceBlockKernel0( int *__cuda_0,struct int2 *__cuda_1,int __cuda_2)\n{\n__device_stub__Z24deviceReduceBlockKernel0PiP4int2i(_cuda_0,__cuda_1,__cuda_2);\n}\n\nvoid __device_stub__Z24deviceReduceBlockKernel1P4int2Pii( struct int2 *__par0,  int *__par1,  int __par2) \n{  \n    __cudaSetupArgSimple(__par0, 0UL); \n    __cudaSetupArgSimple(__par1, 8UL); \n    __cudaSetupArgSimple(__par2, 16UL); \n    __cudaLaunch(((char *)((void ( *)(struct int2 *, int *, int))deviceReduceBlockKernel1))); \n}\n</code></pre>\n\n<p>ie. the toolchain is just automagically doing what you would have to do yourself by hand (or via fancy generator templates) in code when you explicitly use the kernel launch APIs, be they the conventional single launch or new cooperative launch APIs. In the deprecated version of the APIs, there is an internal stack which does the dirty work for you. In the newer APIs, you make arrays of arguments yourself. Same thing, just different dog food.</p>\n"}, {"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1527837636, "post_id": 50635153, "comment_id": 88286095, "body": "But this means changing the kernel signatures... doesn&#39;t it?"}, {"owner": {"reputation": 2670, "user_id": 231742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d756a616899cb9dc1b1dd726ad13b8e2?s=128&d=identicon&r=PG", "display_name": "Andrei Pokrovsky", "link": "https://stackoverflow.com/users/231742/andrei-pokrovsky"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1527909386, "post_id": 50635153, "comment_id": 88316911, "body": "Correct. I still think this answer is helpful here in that it clarifies the API  and also you can pack everything you need inside the params struct including all the pointers and other params, which can often be a good practice for kernels with lots of arguments."}], "tags": [], "owner": {"reputation": 2670, "user_id": 231742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d756a616899cb9dc1b1dd726ad13b8e2?s=128&d=identicon&r=PG", "display_name": "Andrei Pokrovsky", "link": "https://stackoverflow.com/users/231742/andrei-pokrovsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1527909480, "last_edit_date": 1527909480, "creation_date": 1527818783, "answer_id": 50635153, "question_id": 48547409, "link": "https://stackoverflow.com/questions/48547409/can-i-launch-a-cooperative-kernel-without-passing-an-array-of-pointers/50635153#50635153", "title": "Can I launch a cooperative kernel without passing an array of pointers?", "body": "<p>FWIW you can pass arbitrary structs (not immediately obvious from API docs) by just passing it via void* args. It's not obvious that the sizeof gets computed by the compiler in this case from the function signature and  the right size is copied to the kernel. The API docs don't seem to elaborate on that.</p>\n\n<pre><code>struct Param { int a, b; void* device_ptr; };\nParam param{aa, bb, d_ptr};\nvoid *kArgs = {&amp;param};\ncudaLaunchCooperativeKernel(..., kArgs, ...);\n</code></pre>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 1, "accepted_answer_id": 48560098, "answer_count": 3, "score": 2, "last_activity_date": 1568892296, "creation_date": 1517417607, "question_id": 48547409, "link": "https://stackoverflow.com/questions/48547409/can-i-launch-a-cooperative-kernel-without-passing-an-array-of-pointers", "title": "Can I launch a cooperative kernel without passing an array of pointers?", "body": "<p>The CUDA runtime API allows us to launch kernels using the variable-number-of-arguments triple-chevron syntax:</p>\n\n<pre><code>my_kernel&lt;&lt;&lt;grid_dims, block_dims, shared_mem_size&gt;&gt;&gt;(\n    first_arg, second_arg, and_as_many, as_we, want_to, etc, etc);\n</code></pre>\n\n<p>but as regards \"collaborative\" kernels, the CUDA Programming Guide says (<a href=\"http://docs.nvidia.com/cuda/cuda-c-programming-guide/index.html#grid-synchronization-cg\" rel=\"nofollow noreferrer\">section C.3</a>):</p>\n\n<blockquote>\n  <p>To enable grid synchronization, when launching the kernel it is\n  necessary to use, instead of the <code>&lt;&lt;&lt;...&gt;&gt;&gt;</code> execution configuration\n  syntax, the <code>cuLaunchCooperativeKernel</code> CUDA runtime launch API:</p>\n\n<pre><code>cudaLaunchCooperativeKernel(\n  const T *func,\n  dim3 gridDim,\n  dim3 blockDim,\n  void **args,\n  size_t sharedMem = 0,\n  cudaStream_t stream = 0\n)      \n</code></pre>\n  \n  <p>(or the CUDA driver equivalent).</p>\n</blockquote>\n\n<p>I would rather not have to write my own wrapper code for building an array of pointers... is there really no facility in the runtime API to avoid that?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517417423, "post_id": 48547264, "comment_id": 84090436, "body": "Provided that you use the correct syntax (<code>template &lt;class&gt; class C</code>), yes. But why?"}, {"owner": {"reputation": 2820, "user_id": 1804543, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/u2EW6.jpg?s=128&g=1", "display_name": "WhatABeautifulWorld", "link": "https://stackoverflow.com/users/1804543/whatabeautifulworld"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517417608, "post_id": 48547264, "comment_id": 84090588, "body": "@Quentin easier if I want to access the container type, no?"}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "edited": false, "score": 1, "creation_date": 1517417894, "post_id": 48547264, "comment_id": 84090823, "body": "@WhatABeautifulWorld You have to declare <code>C</code> as template template parameter, otherwise <code>C&lt;T&gt;</code> is invalid."}], "answers": [{"comments": [{"owner": {"reputation": 2820, "user_id": 1804543, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/u2EW6.jpg?s=128&g=1", "display_name": "WhatABeautifulWorld", "link": "https://stackoverflow.com/users/1804543/whatabeautifulworld"}, "edited": false, "score": 0, "creation_date": 1517417843, "post_id": 48547341, "comment_id": 84090772, "body": "in this case do you know how to access the type of Container for stack?"}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 2820, "user_id": 1804543, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/u2EW6.jpg?s=128&g=1", "display_name": "WhatABeautifulWorld", "link": "https://stackoverflow.com/users/1804543/whatabeautifulworld"}, "edited": false, "score": 0, "creation_date": 1517418147, "post_id": 48547341, "comment_id": 84091005, "body": "@WhatABeautifulWorld Answer revised. Do you mean that?"}, {"owner": {"reputation": 2820, "user_id": 1804543, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/u2EW6.jpg?s=128&g=1", "display_name": "WhatABeautifulWorld", "link": "https://stackoverflow.com/users/1804543/whatabeautifulworld"}, "edited": false, "score": 0, "creation_date": 1517418394, "post_id": 48547341, "comment_id": 84091195, "body": "no worries, forget about that :)"}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 3, "last_activity_date": 1517419735, "last_edit_date": 1517419735, "creation_date": 1517417429, "answer_id": 48547341, "question_id": 48547264, "link": "https://stackoverflow.com/questions/48547264/replace-default-template-argument-with-alias/48547341#48547341", "title": "Replace default template argument with alias", "body": "<p>Yes you can, but the default template argument (i.e. <code>std::deque&lt;T&gt;</code>) is lost.</p>\n\n<p>The more close one might be:</p>\n\n<pre><code>template&lt;typename T, template &lt;typename...&gt; typename C = std::deque&gt;\nclass stack {\n    using Container = C&lt;T&gt;;  // replace with alias\n    template &lt;typename X&gt;\n    using Underlying_Container = C&lt;X&gt;; // an alias for C\n};\n</code></pre>\n"}], "owner": {"reputation": 2820, "user_id": 1804543, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/u2EW6.jpg?s=128&g=1", "display_name": "WhatABeautifulWorld", "link": "https://stackoverflow.com/users/1804543/whatabeautifulworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1517451551, "accepted_answer_id": 48547341, "answer_count": 1, "score": 1, "last_activity_date": 1517511107, "creation_date": 1517417221, "last_edit_date": 1517511107, "question_id": 48547264, "link": "https://stackoverflow.com/questions/48547264/replace-default-template-argument-with-alias", "closed_reason": "Needs details or clarity", "title": "Replace default template argument with alias", "body": "<p>For a template with the following definition, The <strong>'typename Container = std::deque'</strong> seems to be the default template arguments. In this case can I just use alias instead? </p>\n\n<pre><code>template&lt;typename T, typename Container = std::deque&lt;T&gt; &gt;\nclass stack {\n    // ...\n}\n</code></pre>\n\n<p>Can I replace it with Alias?</p>\n\n<pre><code>template&lt;typename T, typename C&gt;\nclass stack {\n    using Container = C&lt;T&gt;  // replace with alias\n}\n</code></pre>\n\n<p>Updates:\nI am curious about how to pass in a template param if C is a template. The answer below actually answers my question pretty well.</p>\n"}, {"tags": ["c++", "cuda"], "comments": [{"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517417690, "post_id": 48547236, "comment_id": 84090650, "body": "How is this different from  the other question you asked today?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517417788, "post_id": 48547236, "comment_id": 84090729, "body": "Hi, i am no longer using int**, i have pulled my image data into int* instead, and have simplified the example code"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1517417956, "post_id": 48547236, "comment_id": 84090873, "body": ".. is this not what you meant in your other comment? (thank you again for taking the time)"}], "answers": [{"comments": [{"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517425601, "post_id": 48549619, "comment_id": 84095288, "body": "Thanks for your reply.  So cudamallocmanaged is replacing the data with zeroes? What is the correct way to do this?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517425635, "post_id": 48549619, "comment_id": 84095301, "body": "How can I get the data from tri to the kernel?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517428393, "post_id": 48549619, "comment_id": 84096747, "body": "Ah I see what I was missing! Thank you very much."}], "tags": [], "owner": {"reputation": 412, "user_id": 5206464, "user_type": "registered", "profile_image": "https://graph.facebook.com/792316447555621/picture?type=large", "display_name": "Abator Abetor", "link": "https://stackoverflow.com/users/5206464/abator-abetor"}, "is_accepted": true, "score": 1, "last_activity_date": 1517426211, "last_edit_date": 1517426211, "creation_date": 1517425448, "answer_id": 48549619, "question_id": 48547236, "link": "https://stackoverflow.com/questions/48547236/returning-data-from-a-global-cuda-function/48549619#48549619", "title": "returning data from a global cuda function?", "body": "<p>The values of array tri are different from the values of array tri2.</p>\n\n<p>With</p>\n\n<pre><code>cudaMallocManaged(&amp;tri2, N * sizeof(int));\n</code></pre>\n\n<p>you allocate new memory on the device, which I assume just happens to be zero. Then in the kernel you copy this array of zeros to y. The values of array tri are never copied.</p>\n\n<p>Here is some example how you could do it. (untested)</p>\n\n<pre><code>int* tri = ....\n\nint* tri_managed;\n//allocate new managed memory and save pointer in tri_managed\ncudaMallocManaged(&amp;tri_managed, sizeof(int) * N);\n//now copy entries of tri to tri_managed\nfor(int i = 0; i &lt; N; i++)\n    tri_managed[i] = tri[i];\n\nint* y;\ncudaMallocManaged(&amp;y, N * sizeof(int));\n\n// initialize y array\nfor (int i = 0; i &lt; N; i++) {\n    y[i] = 2;\n}\n\n//copy entries of tri_managed to y\nadd &lt;&lt; &lt;1, 256 &gt;&gt; &gt;(N, tri_managed, y);\n\n// Wait for GPU to finish before accessing on host\ncudaDeviceSynchronize();\n\n//copy back to host\nint i = 0;\nint f = -999.0; /* CPU copy of value */\n//cudaMemcpy(&amp;f, &amp;y[i], sizeof(int), cudaMemcpyDeviceToHost);\n//since managed memory is accessible on host and device, we can just to this\nf = y[i];\n\nstd::cout &lt;&lt; \"back: \" &lt;&lt; f &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"orig: \" &lt;&lt; tri[i] &lt;&lt; std::endl;\n\n//don't forget to free memory after usage\ncudaFree(tri_managed);\ncudaFree(y);\n</code></pre>\n"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "accepted_answer_id": 48549619, "answer_count": 1, "score": 0, "last_activity_date": 1517426211, "creation_date": 1517417133, "question_id": 48547236, "link": "https://stackoverflow.com/questions/48547236/returning-data-from-a-global-cuda-function", "title": "returning data from a global cuda function?", "body": "<p>I am starting out with cuda, and am trying a simple example where I send two arrays into a global function, copy one to the other, and return the second one.</p>\n\n<p>I have:</p>\n\n<pre><code>__global__\nvoid add(int n, int *tri, int *y)\n{\n    int index = threadIdx.x;\n    int stride = blockDim.x;\n    for (int i = index; i &lt; n; i += stride)\n        y[i] = tri[i];\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>   //local copy of data\n    int *tri2 = tri; // data checked, and is valid\n\n    int *y = new int[width * height]; // same size as `tri`\n    int N = width * height;\n\n    // Allocate Unified Memory \u2013 accessible from CPU or GPU\n    cudaMallocManaged(&amp;tri2, N * sizeof(int));\n    cudaMallocManaged(&amp;y, N * sizeof(int));\n\n    // initialize y array on the host\n    for (int i = 0; i &lt; N; i++) {\n        y[i] = 2;\n    }\n\n    // Run kernel on the GPU\n    add &lt;&lt; &lt;1, 256 &gt;&gt; &gt;(N, tri2, y);\n\n    // Wait for GPU to finish before accessing on host\n    cudaDeviceSynchronize();\n\n    //copy back to host\n    int i = 0;\n    int f = -999.0; /* CPU copy of value */\n    cudaMemcpy(&amp;f, &amp;y[i], sizeof(int), cudaMemcpyDeviceToHost);\n\n    std::cout &lt;&lt; \"back: \" &lt;&lt; f &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"orig: \" &lt;&lt; tri[i] &lt;&lt; std::endl;\n</code></pre>\n\n<p>The <code>orig</code> value is 128, the same as when it went in. the returned <code>f</code> value is always 0. What am i missing?</p>\n"}, {"tags": ["c++", "xcode", "clang"], "comments": [{"owner": {"reputation": 10055, "user_id": 2466431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gSQh3.png?s=128&g=1", "display_name": "JVApen", "link": "https://stackoverflow.com/users/2466431/jvapen"}, "edited": false, "score": 0, "creation_date": 1517420083, "post_id": 48547194, "comment_id": 84092247, "body": "5.0.0 is already out for a half year, in a month we&#39;ll have 6.0.0"}, {"owner": {"reputation": 6932, "user_id": 774236, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7e46879a230ff1e28cd975e3b0a0873b?s=128&d=identicon&r=PG", "display_name": "Matteo Monti", "link": "https://stackoverflow.com/users/774236/matteo-monti"}, "reply_to_user": {"reputation": 10055, "user_id": 2466431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gSQh3.png?s=128&g=1", "display_name": "JVApen", "link": "https://stackoverflow.com/users/2466431/jvapen"}, "edited": false, "score": 0, "creation_date": 1517421559, "post_id": 48547194, "comment_id": 84093042, "body": "Well, I evidently have a very low clang-refresh rate :)"}], "owner": {"reputation": 6932, "user_id": 774236, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7e46879a230ff1e28cd975e3b0a0873b?s=128&d=identicon&r=PG", "display_name": "Matteo Monti", "link": "https://stackoverflow.com/users/774236/matteo-monti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517417005, "creation_date": 1517417005, "question_id": 48547194, "link": "https://stackoverflow.com/questions/48547194/getting-clang5-0-to-work-on-xcode", "title": "Getting clang++5.0 to work on Xcode", "body": "<p>Clang 5 is finally <a href=\"http://releases.llvm.org/5.0.0/tools/clang/docs/ReleaseNotes.html\" rel=\"nofollow noreferrer\">out there</a> and I have eagerly downloaded it and tried the <a href=\"https://wandbox.org/permlink/Dth1IO5q8Oe31ew2\" rel=\"nofollow noreferrer\">coroutine example</a>. Everything works nicely from command line and I am very happy about it.</p>\n\n<p>Now, I would like Xcode to use clang5.0 to compile my code, so that I can play with coroutines and other experimental C++20 features with my favorite editor. Is it possible to do such a thing?</p>\n\n<p>I have seen <a href=\"https://stackoverflow.com/questions/16261612/is-it-possible-to-compile-a-newer-version-of-llvm-and-use-it-with-xcode/16265711\">this question</a> and, full of hope, I followed the instructions to replace <code>clang</code> and <code>libclang</code> within the Xcode package.</p>\n\n<p>Xcode starts properly, however when I try to compile an hello world I get a lengthy linker error message that ends with <code>Cannot specify -o when generating multiple output fiels</code>.</p>\n\n<p>Am I doing something wrong? Is there any guides out there to get this to work? Otherwise, I guess I'll just have to change IDE. Sigh.</p>\n"}, {"tags": ["c++", "operator-precedence"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 12, "creation_date": 1517416883, "post_id": 48547139, "comment_id": 84090082, "body": "That is not a reference, it is a pointer."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 3, "creation_date": 1517416900, "post_id": 48547139, "comment_id": 84090093, "body": "Short answer: operator precedence."}, {"owner": {"reputation": 57, "user_id": 5509546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XqDMD-0k1f4/AAAAAAAAAAI/AAAAAAAAE-0/VF2xq9pVCjU/photo.jpg?sz=128", "display_name": "Naman Sood", "link": "https://stackoverflow.com/users/5509546/naman-sood"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1517417654, "post_id": 48547139, "comment_id": 84090620, "body": "@juanchopanza Sorry, that&#39;s what was taught in school. I guess I&#39;ll have to look up the correct terminology."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 3, "creation_date": 1517417874, "post_id": 48547139, "comment_id": 84090809, "body": "In C++ many things (including &amp;) mean different thing in different context. In this case it is not a reference, but operator &quot;take address of&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517418317, "post_id": 48547170, "comment_id": 84091141, "body": "This is more of a comment than an answer."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517420054, "post_id": 48547170, "comment_id": 84092235, "body": "@Slava I tried to improve the answer; if it&#39;s still not complete enough, please tell me how to improve it more."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517423162, "post_id": 48547170, "comment_id": 84093960, "body": "Your modification makes it better but I think it could be edited even more - to make main focus on explaining that this is not a reference, and then why last expression does not compile and how to fix it."}, {"owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517449115, "post_id": 48547170, "comment_id": 84104543, "body": "@Slava Fine, answer revised."}], "tags": [], "owner": {"reputation": 144568, "user_id": 3309790, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7d1c7e499132b9945b412ac79d0e22f7?s=128&d=identicon&r=PG&f=1", "display_name": "songyuanyao", "link": "https://stackoverflow.com/users/3309790/songyuanyao"}, "is_accepted": true, "score": 5, "last_activity_date": 1517448985, "last_edit_date": 1517448985, "creation_date": 1517416913, "answer_id": 48547170, "question_id": 48547139, "link": "https://stackoverflow.com/questions/48547139/why-does-a-reference-to-a-variable-behave-as-an-array-of-size-1-sometimes/48547170#48547170", "title": "Why does a reference to a variable behave as an array of size 1 sometimes?", "body": "<blockquote>\n  <p>Why can I use a reference to an int </p>\n</blockquote>\n\n<p>Note that <code>&amp;x</code> doesn't mean reference to <code>x</code>, it means <a href=\"http://en.cppreference.com/w/cpp/language/operator_member_access#Built-in_address-of_operator\" rel=\"nofollow noreferrer\">taking the address of</a> <code>x</code> and you'll get a pointer (i.e. <code>int*</code>) from it. So <code>int *y = &amp;x;</code> means taking the address from <code>x</code>, then <code>y[0]</code> means get the 1st element of the array pointed by the pointer (as if it points to the 1st element of the array which contains only one element (i.e. <code>x</code>) ), so at last it returns <code>x</code> itself.</p>\n\n<p>And about why <code>&amp;x[0]</code> doesn't work, note that <code>operator[]</code> has higher <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">precedence</a> than <code>operator&amp;</code>. Then <code>&amp;x[0]</code> is interpreted as <code>&amp;(x[0])</code>, while <code>x[0]</code> is invalid since <code>x</code> is just an <code>int</code>.</p>\n\n<p>You should add parentheses to specify the precedence explicitly, e.g.</p>\n\n<pre><code>cout &lt;&lt; (&amp;x)[0] &lt;&lt; endl;\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 5509546, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XqDMD-0k1f4/AAAAAAAAAAI/AAAAAAAAE-0/VF2xq9pVCjU/photo.jpg?sz=128", "display_name": "Naman Sood", "link": "https://stackoverflow.com/users/5509546/naman-sood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 48547170, "answer_count": 1, "score": 2, "last_activity_date": 1517448985, "creation_date": 1517416823, "last_edit_date": 1517419356, "question_id": 48547139, "link": "https://stackoverflow.com/questions/48547139/why-does-a-reference-to-a-variable-behave-as-an-array-of-size-1-sometimes", "title": "Why does a reference to a variable behave as an array of size 1 sometimes?", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nvoid outputFirst(int x[]) {\n    cout &lt;&lt; x[0] &lt;&lt; endl;\n}\n\nint main() {\n    int x = 40;\n\n    // works\n    outputFirst(&amp;x);\n\n    // works\n    int *y = &amp;x;\n    cout &lt;&lt; y[0] &lt;&lt; endl;\n\n    // invalid types \u2018int[int]\u2019 for array subscript\n    cout &lt;&lt; &amp;x[0] &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Why can I use a reference to an int as an array when I pass it to a function or assign it to another variable first, but not directly?</p>\n\n<p>I'm using g++-6.3.</p>\n"}, {"tags": ["c++", "eclipse", "eclipse-cdt"], "comments": [{"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 1, "creation_date": 1517416243, "post_id": 48546907, "comment_id": 84089616, "body": "How long is the string <code>Ans</code>? It could be that <code>x\\0340</code> is all it contains up to the zero delimiter. Anyway it&#39;s the <code>char*</code> <i>pointer</i> which has the address value 0x7fffffffd070, not the string itself"}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1517417106, "post_id": 48546907, "comment_id": 84090226, "body": "How I should understand <code>\\0340</code> value? Can I assume it is two bytes : 0x01  and 0x54 ?"}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1517417444, "post_id": 48546907, "comment_id": 84090452, "body": "<code>\\0340</code> constitutes two values, the first being the <a href=\"https://en.wikipedia.org/wiki/Escape_sequences_in_C#Table_of_escape_sequences\" rel=\"nofollow noreferrer\">octal escape sequence</a> <code>\\034</code> (corresponding to hex value <code>0x1C</code>), and the second being &quot;0&quot;"}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1517418868, "post_id": 48546907, "comment_id": 84091464, "body": "How to ask Eclipse show hex representation instead of octal (now idea how this format might be useful) ?"}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518522121, "post_id": 48546907, "comment_id": 84532168, "body": "I have updated message body with one more picture with my interpretation of debug info"}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518522790, "post_id": 48546907, "comment_id": 84532543, "body": "What do you see if you cast the pointer to <code>wchar_t*</code>?"}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518524533, "post_id": 48546907, "comment_id": 84533636, "body": "I&#39;m not willing to interpret this to some human readable string. My program uses it as some array of bytes that sometimes might have not unicode characters."}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518524798, "post_id": 48546907, "comment_id": 84533808, "body": "In that case the string in &quot;Details&quot; is all you are going to get. In C/C++ the sizes of memory blocks are not exposed, so eclipse is unable to print a general array pointer. Strings are only printable due to the zero delimiter."}, {"owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518524984, "post_id": 48546907, "comment_id": 84533926, "body": "I know that my array will end with zero. I just want confirmation that I understand Eclipse debig info correctly - <code>first three characters are &quot;\\b&lt;&quot; and forth one is 027 in Octal (or 0x17)</code>"}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1518525326, "post_id": 48546907, "comment_id": 84534159, "body": "The second line <code>(x)= *Ans</code> in your edit shows that the first character is <code>\\b</code>, which is a <a href=\"https://en.wikipedia.org/wiki/Escape_sequences_in_C#Table_of_escape_sequences\" rel=\"nofollow noreferrer\">backspace character</a>. <code>&lt;</code> is just a character by itself, and <code>\\027</code> = hex value <code>0x17</code> which is <a href=\"https://en.wikipedia.org/wiki/End-of-Transmission-Block_character\" rel=\"nofollow noreferrer\">ETB</a>(end of transmission block). Use a GDB breakpoint and call <code>strlen</code> on it to confirm that it is 3 characters long."}, {"owner": {"reputation": 2287, "user_id": 5267751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd62e8fd8fbb37abc7e2a39d23828047?s=128&d=identicon&r=PG&f=1", "display_name": "user202729", "link": "https://stackoverflow.com/users/5267751/user202729"}, "edited": false, "score": 0, "creation_date": 1610338815, "post_id": 48546907, "comment_id": 116092055, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/1824685/eclipse-c-debugging-see-content-of-an-array\">Eclipse-C++-Debugging: see content of an Array</a>"}], "owner": {"reputation": 13579, "user_id": 1501700, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/1394f16d55f1c0f4cc4bc5ce4336cf20?s=128&d=identicon&r=PG", "display_name": "vico", "link": "https://stackoverflow.com/users/1501700/vico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518522043, "creation_date": 1517416066, "last_edit_date": 1518522043, "question_id": 48546907, "link": "https://stackoverflow.com/questions/48546907/debugger-information-of-char", "title": "Debugger information of char *", "body": "<p>I have char* type variable that contains some data at this address can be visible while debugging:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tsEEB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tsEEB.png\" alt=\"enter image description here\"></a></p>\n\n<p>But I would like to see more data at this pointer, not just first character, I would like to see A[0]...A[16] array. How to achieve that?</p>\n\n<p>Debugger shows that I have data <code>\"x\\0340\"</code> that might be represented as <code>0x7fffffffd070</code>. <code>x</code> according ascii table is <code>0x78</code>, but there is no such value in hex representation. Why?</p>\n\n<p>UPD</p>\n\n<p>Can I assume that I have string that's first three characters are <code>\"\\b&lt;\"</code> and forth one is <code>027 in Octal</code> (<code>or 0x17</code>) ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/wk4sb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wk4sb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 3, "creation_date": 1517416294, "post_id": 48546896, "comment_id": 84089656, "body": "I get both errors with your 2nd example in VS."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517416593, "post_id": 48546896, "comment_id": 84089896, "body": "As for defaulting the dtor vs providing an empty user-defined one, see: <a href=\"http://en.cppreference.com/w/cpp/language/destructor\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/destructor</a> read the bit about &quot;<i>trivial</i> destructor&quot;."}, {"owner": {"reputation": 108, "user_id": 6206485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1d7498273223b976bc5a92e82b33?s=128&d=identicon&r=PG&f=1", "display_name": "Kassiar", "link": "https://stackoverflow.com/users/6206485/kassiar"}, "edited": false, "score": 0, "creation_date": 1517416748, "post_id": 48546896, "comment_id": 84090001, "body": "Here&#39;s a link to <a href=\"https://godbolt.org/g/weXZkp\" rel=\"nofollow noreferrer\">godbolt.org</a> with the second example - you can see the number of errors changing as you (un)comment the <code>int x = 0;</code> line."}, {"owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1517419403, "post_id": 48546896, "comment_id": 84091825, "body": "@UKMonkey Which version of VS are you using?  I only get one error in the 2nd example with VS 2017 v15.5 (<code>Microsoft (R) C&#47;C++ Optimizing Compiler Version 19.12.25830.2 for x86</code>), which is newer than the one in the godbolt setup."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "edited": false, "score": 0, "creation_date": 1517419554, "post_id": 48546896, "comment_id": 84091915, "body": "@1201ProgramAlarm 2015 - 14.0"}], "owner": {"reputation": 108, "user_id": 6206485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88fa1d7498273223b976bc5a92e82b33?s=128&d=identicon&r=PG&f=1", "display_name": "Kassiar", "link": "https://stackoverflow.com/users/6206485/kassiar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517417611, "creation_date": 1517416039, "last_edit_date": 1517417611, "question_id": 48546896, "link": "https://stackoverflow.com/questions/48546896/visual-c-accessible-private-destructor", "title": "Visual C++ accessible private destructor", "body": "<p>Consider a simple example (note that the destructor is private):</p>\n\n<pre><code>class Resource {\nprivate:\n    ~Resource() = default;\n};\n\nint main(int argc, char** argv) {\n    // Object on the stack\n    Resource r1; // line L1\n\n    // Object on the heap\n    Resource* r2 = new Resource();\n    delete r2; // line L2\n\n    return 0;\n}\n</code></pre>\n\n<p>Compiling this snippet in MSVC 2017 produced, as I'd expect, two C2248 errors on lines L1 and L2 saying that the <code>~Resource</code> destructor cannot be accessed.</p>\n\n<p>Now if we add another primitive field to the <code>Resource</code> class, say an <code>int</code>: </p>\n\n<pre><code>class Resource {\nprivate:\n    int x = 0;\n    ~Resource() = default;\n};\n</code></pre>\n\n<p>the compilation result suddenly changes: now the L1 line no longer gives an error, only L2 does.</p>\n\n<p>If instead of a primitive type we'd use a class member of a more complex type, like a <code>vector</code>, the second compilation error would be back again.</p>\n\n<p>And finally, if instead of defaulting the destructor we'd explicitly provide an empty body:</p>\n\n<pre><code>class Resource {\nprivate:\n    ~Resource() {};\n};\n</code></pre>\n\n<p>then the 2 errors would be present in all of the above cases.</p>\n\n<p>The same snippets compiled with GCC and Clang always produce 2 errors for both destructors.</p>\n\n<p>So the question is:\neven though it could just be a compiler bug, I suspect that this behaviour might have something to do with the class being or not being an aggregate based on the fields and the destructor being user-provided or not.\nWhat could be the actual reason for this behaviour? Or to be more precise: is it ever OK for the compiler to ignore the privateness of the destructor?</p>\n\n<p><strong>Edit</strong>: here's a link to this setup on <a href=\"https://godbolt.org/g/weXZkp\" rel=\"nofollow noreferrer\">godbolt.org</a>. This behaviour can be seen by (un)commenting the <code>int x = 0;</code> line.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1517416022, "post_id": 48546853, "comment_id": 84089468, "body": "You should get <a href=\"https://stackoverflow.com/a/388282/440558\">a couple of good books to read</a>. And learn about pointers. They don&#39;t just &quot;magically&quot; point somewhere valid, you have to <i>make</i> them point somewhere."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 2, "creation_date": 1517416062, "post_id": 48546853, "comment_id": 84089498, "body": "When you attached your debugger to it, and stepped through it line by line, where did it fail?"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517416181, "post_id": 48546853, "comment_id": 84089577, "body": "<code>str</code> points to some semi-random location, <code>std::cout</code> tries to write to that location, your operating system sees a rogue program trying to write to memory that doesn&#39;t belong to it and kills it."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9015680, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MJjQQaMlXdI/AAAAAAAAAAI/AAAAAAAACbw/L7Gul0B_2H8/photo.jpg?sz=128", "display_name": "Sahil Yadav", "link": "https://stackoverflow.com/users/9015680/sahil-yadav"}, "edited": false, "score": 0, "creation_date": 1517588450, "post_id": 48546929, "comment_id": 84170592, "body": "my bad I used to code in turboc++ in the past because of outdated college and all and turboc++ didn&#39;t have anything like string. so thanks or putting some light on this"}], "tags": [], "owner": {"reputation": 9936, "user_id": 6525260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-DdsW6uGdpjg/AAAAAAAAAAI/AAAAAAAAAAw/srXxxqCzyW0/photo.jpg?sz=128", "display_name": "Arnav Borborah", "link": "https://stackoverflow.com/users/6525260/arnav-borborah"}, "is_accepted": true, "score": 4, "last_activity_date": 1517416151, "creation_date": 1517416151, "answer_id": 48546929, "question_id": 48546853, "link": "https://stackoverflow.com/questions/48546853/why-does-this-program-crashes/48546929#48546929", "title": "Why does this program crashes?", "body": "<p>No, no, no, just use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code></a>! Easier to use, and easier to understand!</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;  \n\nint main(){\n    string name,add;\n    cout&lt;&lt;\"Name: \";\n    getline(cin, name); // A name probably has more than 1 word\n    cout&lt;&lt;\"\\n\\tadd: \";\n    cin&gt;&gt;add;\n    cout&lt;&lt;\"\\n\\tName:\"&lt;&lt;name;\n    cout&lt;&lt;\"\\n\\t Add:\"&lt;&lt;add;\n    return 0;\n}\n</code></pre>\n\n<p>As far as your problem goes with your original code, it is that you haven't allocated any memory for your <code>char*</code>, and are reading into memory that isn't yours.</p>\n"}, {"comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1517416491, "post_id": 48546931, "comment_id": 84089827, "body": "<i>First allocate memory for str</i> -- and second...?  Aren&#39;t you forgetting the caveat of needing to call <code>delete []</code> to not leak memory?"}, {"owner": {"reputation": 11619, "user_id": 5346306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsACH.jpg?s=128&g=1", "display_name": "Achal", "link": "https://stackoverflow.com/users/5346306/achal"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1517416823, "post_id": 48546931, "comment_id": 84090041, "body": "@PaulMcKenzie yes surely memory should be freed once job is done"}], "tags": [], "owner": {"reputation": 11619, "user_id": 5346306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BsACH.jpg?s=128&g=1", "display_name": "Achal", "link": "https://stackoverflow.com/users/5346306/achal"}, "is_accepted": false, "score": 2, "last_activity_date": 1517416855, "last_edit_date": 1517416855, "creation_date": 1517416153, "answer_id": 48546931, "question_id": 48546853, "link": "https://stackoverflow.com/questions/48546853/why-does-this-program-crashes/48546931#48546931", "title": "Why does this program crashes?", "body": "<p><code>str</code> is a member of structure and its of <code>pointer</code> type and while doing <code>name.str;</code> it doesn't have any <code>valid memory</code> thats why it crashes at run time.</p>\n\n<p>First allocate memory for <code>str</code> as</p>\n\n<pre><code>name.str = new char [SIZE]; /* SIZE is the no of bytes you want to allocate */\n</code></pre>\n\n<p>Once work is done free the memory by using <code>delete</code> to avoid memory leakage. </p>\n\n<pre><code>delete [] name.str;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9015680, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MJjQQaMlXdI/AAAAAAAAAAI/AAAAAAAACbw/L7Gul0B_2H8/photo.jpg?sz=128", "display_name": "Sahil Yadav", "link": "https://stackoverflow.com/users/9015680/sahil-yadav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 48546929, "answer_count": 2, "score": -6, "last_activity_date": 1517416855, "creation_date": 1517415874, "last_edit_date": 1517415989, "question_id": 48546853, "link": "https://stackoverflow.com/questions/48546853/why-does-this-program-crashes", "title": "Why does this program crashes?", "body": "<pre><code>#include&lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;  \ntypedef struct {char *str;}String;\nint main(){\n    String name,add;\n    cout&lt;&lt;\"Name: \";\n    cin&gt;&gt;name.str;\n    cout&lt;&lt;\"\\n\\tadd: \";\n    cin&gt;&gt;add.str;\n    cout&lt;&lt;\"\\n\\tName:\"&lt;&lt;name.str;\n    cout&lt;&lt;\"\\n\\t Add:\"&lt;&lt;add.str;\n    return 0;\n}\n</code></pre>\n\n<p>Input is successful and then the program crashes.<br>\nError displayed: stopped working</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 8, "creation_date": 1517415931, "post_id": 48546841, "comment_id": 84089409, "body": "You don\u2019t ignore errors. You fix them. Don\u2019t go out of bounds. Just add checks."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 1, "creation_date": 1517415938, "post_id": 48546841, "comment_id": 84089417, "body": "so then detect the edge conditions and adjust as needed."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1517415939, "post_id": 48546841, "comment_id": 84089418, "body": "If there was, it would be called Javascript..."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1517415941, "post_id": 48546841, "comment_id": 84089419, "body": "Such special cases have to be handled explicitly by the code."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 2, "creation_date": 1517416106, "post_id": 48546841, "comment_id": 84089527, "body": "or add extra cells around the minefield and iterate inside that border. So instead of loop from from 0 to 9 for 10 cells, have 14 cells and loop from 2 to 11"}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1517416510, "post_id": 48546841, "comment_id": 84089836, "body": "@pm100 I don&#39;t think that&#39;s a good option because then they need special code to ensure those dummy cells have valid values, get reset as required, etc. Which is a waste of time when they&#39;re ultimately pointless."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1517419021, "post_id": 48546841, "comment_id": 84091570, "body": "If you don&#39;t want to check boundary conditions, then change your board so that there is a buffer around your board, so you don&#39;t access memory that is out of bounds.  You&#39;ll have to adjust your indices by 1 since you can&#39;t declare array bounds starting at -1."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "reply_to_user": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 0, "creation_date": 1517421659, "post_id": 48546841, "comment_id": 84093099, "body": "@underscore_d they are set as empty. trivially easy to do. This is a common technique"}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "reply_to_user": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1517481218, "post_id": 48546841, "comment_id": 84116691, "body": "@pm100 Right, it&#39;s not as bad as I made out. The &#39;border&#39; solution can indeed be implemented simply in cases like this and be used to avoid checks and branching. I&#39;ve even used it in the past! But that was on a Z80, where every cycle mattered; I think on modern hardware, I&#39;d probably want to specifically code for the edge cases."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 9295134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c61c68be881dc391947589896063131?s=128&d=identicon&r=PG&f=1", "display_name": "Maaza123", "link": "https://stackoverflow.com/users/9295134/maaza123"}, "edited": false, "score": 0, "creation_date": 1517417807, "post_id": 48546937, "comment_id": 84090745, "body": "I edited my guestion, I think i wasnt specific enough"}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 19, "user_id": 9295134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c61c68be881dc391947589896063131?s=128&d=identicon&r=PG&f=1", "display_name": "Maaza123", "link": "https://stackoverflow.com/users/9295134/maaza123"}, "edited": false, "score": 0, "creation_date": 1517418024, "post_id": 48546937, "comment_id": 84090916, "body": "I hope you&#39;re not trying to learn C++ just from stackoverflow questions. Any C++ book or course should cover how to handle exceptions."}, {"owner": {"reputation": 5304, "user_id": 2757035, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/fade5daafd5717576b33f2e08f4f9429?s=128&d=identicon&r=PG&f=1", "display_name": "underscore_d", "link": "https://stackoverflow.com/users/2757035/underscore-d"}, "edited": false, "score": 1, "creation_date": 1517425186, "post_id": 48546937, "comment_id": 84095066, "body": "Amen to that. However, IMO using exceptions is absolutely not a proper way to do this. Your program will be wading through exception handling machinery multiple times for every turn simply because you couldn&#39;t be bothered to write code with a decent level of hygiene by using one of the other, suggested solutions. Exceptions are for exceptional circumstances, not saving typing in mundane ones."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 1, "creation_date": 1517425489, "post_id": 48546937, "comment_id": 84095227, "body": "Totally agreed, which is why I decided not to show the code to handle the exceptions. That and the fact that needing to be shown that at all is quite lazy, it&#39;s easy to find the answer on the web."}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 3, "last_activity_date": 1517418078, "last_edit_date": 1517418078, "creation_date": 1517416168, "answer_id": 48546937, "question_id": 48546841, "link": "https://stackoverflow.com/questions/48546841/is-there-a-simple-way-to-ignore-index-error-in-c/48546937#48546937", "title": "Is there a simple way to ignore index error in c++?", "body": "<blockquote>\n  <p>The problem is that when counting the nearby mines of a square of a square that is on the edge of the board, the program throws an index error.</p>\n</blockquote>\n\n<p>Yes, it's telling you not to do that. You don't ignore the error, you fix the code to stop doing that.</p>\n\n<p>You need to make the program detect the <a href=\"https://en.wikipedia.org/wiki/Edge_case\" rel=\"nofollow noreferrer\">edge case</a> and handle it differently. That's what programming is about, not just doing the same thing for all cases and ignoring the bugs.</p>\n\n<p><strong>Edit:</strong></p>\n\n<blockquote>\n  <p>Is there a similar way to do it in c++ ?</p>\n</blockquote>\n\n<p>You need to read about <code>try</code> and <code>catch</code> in C++.</p>\n"}, {"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1517416187, "creation_date": 1517416187, "answer_id": 48546940, "question_id": 48546841, "link": "https://stackoverflow.com/questions/48546841/is-there-a-simple-way-to-ignore-index-error-in-c/48546940#48546940", "title": "Is there a simple way to ignore index error in c++?", "body": "<p>You can ignore the error by using <code>[valuex]</code> instead of <code>at(values)</code> etc. That will land you squarely in undefined-behavior-land. Don't do that. There are two straightforward approaches to this problem: add guard squares, or check the boundaries before indexing into the array.</p>\n\n<p>For guard squares, instead of whatever size your array is, increase each dimension by two. When you access the \"real\" squares, add 1 to each index value. When you're counting, just access the squares in the same way you're doing it now. By putting a border of guard squares around the minefield, you make it possible to use index values that are 1-off from the boundaries of the minefield without going outside the underlying array.</p>\n\n<p>To check the boundaries, just don't use the -1 or +2 indexes when you're on the edge of the minefield.</p>\n"}, {"tags": [], "owner": {"reputation": 60956, "user_id": 8922, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1634a09333f7b391db92e1d2bea6253?s=128&d=identicon&r=PG", "display_name": "Sebastian Redl", "link": "https://stackoverflow.com/users/8922/sebastian-redl"}, "is_accepted": false, "score": 0, "last_activity_date": 1517416438, "creation_date": 1517416438, "answer_id": 48547025, "question_id": 48546841, "link": "https://stackoverflow.com/questions/48546841/is-there-a-simple-way-to-ignore-index-error-in-c/48547025#48547025", "title": "Is there a simple way to ignore index error in c++?", "body": "<p>Your problem is a lack of abstraction.</p>\n\n<p>If you had a class for the playing field which has a nice accessor function for whether a field is a mine, then you can modify just that accessor to return false for out-of-bounds instead of an error.</p>\n"}, {"tags": [], "owner": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "is_accepted": false, "score": 0, "last_activity_date": 1517483648, "creation_date": 1517483648, "answer_id": 48561390, "question_id": 48546841, "link": "https://stackoverflow.com/questions/48546841/is-there-a-simple-way-to-ignore-index-error-in-c/48561390#48561390", "title": "Is there a simple way to ignore index error in c++?", "body": "<p>Calculate your limits ahead of time and use them, instead of including the calculation in the for loops. You'll also fix your other errors (valuey &lt; valuey+2 is always true until you overflow your integer).</p>\n\n<pre><code>int Square::countmines(){\n    int numofmines = 0;\n    auto lowerx = std::max(x_ - 1, 0);\n    auto upperx = std::min(x_ + 1, (int)lauta_-&gt;size());\n    for (int valuex = lowerx; valuex &lt; upperx; valuex ++){\n        auto lowery = std::max(y_ - 1, 0);\n        auto uppery = std::min(y_ + 1, (int)lauta_-&gt;at(valuex).size());\n        for (int valuey = lowery; valuey &lt; uppery; valuey ++){\n            if(lauta_-&gt; at(valuex).at(valuey).returnmine() == true){\n                numofmines ++;\n            }\n        }\n    }\n    return numofmines;\n}\n</code></pre>\n\n<p>If you have the width and height stored as values in your class, you can place those size() calls and the cast to int with those valiables instead</p>\n"}], "owner": {"reputation": 19, "user_id": 9295134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c61c68be881dc391947589896063131?s=128&d=identicon&r=PG&f=1", "display_name": "Maaza123", "link": "https://stackoverflow.com/users/9295134/maaza123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1517483648, "creation_date": 1517415845, "last_edit_date": 1517416342, "question_id": 48546841, "link": "https://stackoverflow.com/questions/48546841/is-there-a-simple-way-to-ignore-index-error-in-c", "title": "Is there a simple way to ignore index error in c++?", "body": "<pre><code>int Square::countmines(){\n    int numofmines = 0;\n    for (int valuey = y_ - 1; valuey &lt; valuey + 2; valuey ++){\n        for (int valuex = x_ -1; valuex &lt; valuex + 2; valuex ++){\n            if(lauta_-&gt; at(valuex).at(valuey).returnmine() == true){\n            numofmines ++;\n            }\n        }\n</code></pre>\n\n<p>Im trying to code a minesweeper game in c++  for a school project. Square is an object that has an x and y coordinate, and a boolean value if there is a mine. Count mines calculates how many mines are near the square by going through every square around it and adding +1 to the numofmines value if there is a mine.</p>\n\n<p>The problem is that when counting the nearby mines of a square of a square that is on the edge of the board, the program throws an index error. In python I could just fix it like this: </p>\n\n<pre><code>try:\n         &lt;MY CODE&gt;\n     except IndexError:\n         pass\n</code></pre>\n\n<p>Is there a similar way to do it in c++ ?</p>\n"}, {"tags": ["c++", "qt", "uwp", "qt-creator"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1517416486, "post_id": 48546790, "comment_id": 84089823, "body": "Unclear what you mean by &quot;rich APIs.&quot; UWP is a limited subset of Win32 so there&#39;s nothing about it I&#39;d call &quot;rich.&quot; That said UWP is supported by Qt."}], "answers": [{"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1517418123, "creation_date": 1517418123, "answer_id": 48547593, "question_id": 48546790, "link": "https://stackoverflow.com/questions/48546790/how-to-access-uwp-apis-from-qt-application/48547593#48547593", "title": "How to access UWP APIs from Qt Application?", "body": "<p>Qt code is C++ code. That you're using Qt doesn't mean all that much. You'll need to use some projection of Windows Runtime to C++. The canonical one is <a href=\"https://github.com/Microsoft/cppwinrt\" rel=\"nofollow noreferrer\">C++/WinRT</a>. You can then easily use the runtime APIs from your code.</p>\n\n<p>See <a href=\"https://moderncpp.com/2017/11/15/cppwinrt-exe-in-the-windows-sdk/\" rel=\"nofollow noreferrer\">this blog post</a> for a quick introduction.</p>\n"}], "owner": {"reputation": 471, "user_id": 1504826, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Bp8vY.jpg?s=128&g=1", "display_name": "Pawe\u0142 Skorupi\u0144ski", "link": "https://stackoverflow.com/users/1504826/pawe%c5%82-skorupi%c5%84ski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1517418123, "creation_date": 1517415666, "question_id": 48546790, "link": "https://stackoverflow.com/questions/48546790/how-to-access-uwp-apis-from-qt-application", "title": "How to access UWP APIs from Qt Application?", "body": "<p>I am creating an application to run on Windows 10 using Qt Creator.</p>\n\n<p>Is it possible to access the <a href=\"https://docs.microsoft.com/en-us/uwp/win32-and-com/win32-and-com-for-uwp-apps\" rel=\"nofollow noreferrer\">rich APIs available to UWP applications</a> from my the C++ Qt project?</p>\n\n<p>I have seen <a href=\"https://blogs.windows.com/buildingapps/2017/01/25/calling-windows-10-apis-desktop-application/#ahs7RDilZ5wwVG1d.97\" rel=\"nofollow noreferrer\">this tutorial</a> but it is just specific for Visual Studio, so did not help me much.</p>\n"}, {"tags": ["c++", "boolean", "adventure"], "comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1517415450, "post_id": 48546707, "comment_id": 84089047, "body": "Have a look at &quot;actors&quot;. Boost phoenix and spirit put this kind of thing to good use."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1517415686, "post_id": 48546707, "comment_id": 84089228, "body": "Try to stay away from <code>manager</code> and <code>master</code> classes, they tend to produce bad code. The easiest solution is probably to put required data into the appropriate places, so <code>manager</code> needs <code>a</code> and <code>b</code>, so it should have them as members instead of putting them inside <code>main</code>. This might solve all problems of this type."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517415788, "post_id": 48546707, "comment_id": 84089302, "body": "You technically can use lambdas for later evaluation, but you will get into object lifetime troubles because you need to guarantee that the things you want to evaluate still exist when you evaluate them, which can get quite tricky."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1517415876, "post_id": 48546707, "comment_id": 84089365, "body": "&quot;condition&quot; is not a bool, it&#39;s a &quot;closure&quot; - something that keeps reference to some (possibly external) state and returns bool value that depends on that state. Depending on the version of C++ you&#39;re using and on the third-party libraries, there are different ways to implement this pattern."}, {"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517416222, "post_id": 48546707, "comment_id": 84089602, "body": "@nwp why is this considered bad code? In my implementation of the actual game I intended to make the manager have all kind of stuff including a and b in the example. But somehow I need to pass the conditional a&lt;b to it. The goal is an implementation which allows this in the main function: <code>special ghost(&quot;a ghost appears!&quot;); ghost.set_condition( player-&gt;get_location() == room1 ); game.add_special( &amp;ghost );</code> . This way I could very easy add and remove special effects without having to worry about the logic of the rest of the program."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 2, "creation_date": 1517416583, "post_id": 48546707, "comment_id": 84089889, "body": "It is considered bad because of &quot;intended to make the manager have all kind of stuff including a and b in the example&quot;. Your classes should generally have exactly one responsibility and not do everything. See <a href=\"https://en.wikipedia.org/wiki/God_object\" rel=\"nofollow noreferrer\">god object</a>. For games specifically look up &quot;Entity component system&quot;. You really do not want a <code>special ghost(&quot;a ghost appears!&quot;);</code>, instead you probably want a <code>std::vector&lt;special&gt; the_monsters;</code>."}, {"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517419666, "post_id": 48546707, "comment_id": 84091993, "body": "@nwp ok, I get the problem with the master class... Concerning the ghost, in order to fill the <code>vector&lt;special&gt; monsters</code> I still need to declare <code>special ghost(&quot;a ghost appears!&quot;)</code> at some point? What routine would you suggest to check if there are specals that need to happen? Manually adding a loop that goes through all elements in <code>the_monsters</code> without defining a class that handles these kinds of loops?"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517421834, "post_id": 48546707, "comment_id": 84093213, "body": "It depends a lot on context and is a bit difficult to describe. Without context you probably want some kind of even handler that handles clicks that cause actions like <code>if (input == Keys::forward) { move_forward(); }</code>. The implementation of <code>move_forward</code> does something like <code>if (collided_with_wall()) { play_oomph_sound(); return; } if (random_chance(42)) { monsters = create_random_encounter(player_level, area);}</code> and then implement <code>create_random_encounter</code> with something like <code>Monster_types types[] = {&quot;Ghost&quot;, &quot;Goblin&quot;, &quot;Grue&quot;}; return Monster{ types[random_int(0, 2)]};</code> and so on."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517421983, "post_id": 48546707, "comment_id": 84093315, "body": "Adding more monsters to my above code is relatively easy, but adding a ghoul when you must write <code>special ghoul(&quot;a ghoul appears!&quot;);</code> somewhere isn&#39;t. Try to keep every function simple and only do what the name says and you should end up with a reasonable design. Also see <a href=\"https://chat.stackoverflow.com/rooms/116940/c-questions-and-answers\">this chat</a> for C++ questions and <a href=\"https://chat.stackexchange.com/rooms/19/game-development\">this chat</a> for game design questions."}, {"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "reply_to_user": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 0, "creation_date": 1517423147, "post_id": 48546707, "comment_id": 84093950, "body": "@nwp thank you very much! So do I get this right: you state it would be easier to write a function that creates monsters instead of declaring them beforehand?  PS: actually the game is text-based, so i won&#39;t have any <code>play_oomph_sound()</code> ;) The game having no other interactions than <code>cout</code> and <code>cin</code> with the player makes the routine step-by-step like, nothing needs to happen simultaneously, that&#39;s why i thought it would be nice to have an instance that checks for every new step if there is some predefined special thing to happen or not."}], "answers": [{"comments": [{"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 1, "creation_date": 1517419490, "post_id": 48546835, "comment_id": 84091877, "body": "Why can&#39;t defaulted copy constructor be relied on?"}, {"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "edited": false, "score": 0, "creation_date": 1517421107, "post_id": 48546835, "comment_id": 84092790, "body": "my problem with this solution is that the condition is fixed to be a comparison of two values. I the context of the game, I need to be able to pass arbitrary conditions"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 0, "creation_date": 1517424446, "post_id": 48546835, "comment_id": 84094661, "body": "@xskxzr No reason - I was getting confused with the case where member variable references are set to other member variables: not the case here so no issue. Thanks for pointing out."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": false, "score": 2, "last_activity_date": 1517424373, "last_edit_date": 1517424373, "creation_date": 1517415821, "answer_id": 48546835, "question_id": 48546707, "link": "https://stackoverflow.com/questions/48546707/c-evaluate-value-of-variable-type-bool-dynamically/48546835#48546835", "title": "c++ evaluate value of variable type bool dynamically", "body": "<p>You could build a <code>Cond</code> class, prototyped with:</p>\n\n<pre><code>struct Cond\n{\n    int&amp; a;\n    int&amp; b;\n    operator bool() const {return a &lt; b;}\n};\n</code></pre>\n\n<p>which you'd instantiate with </p>\n\n<pre><code>Cond cond{a, b};\n</code></pre>\n\n<p>in place of your current declaration of <code>cond</code>.</p>\n\n<p>You'd then write <code>if (cond)</code> at the point of testing, which would use the current values of <code>a</code> and <code>b</code> via the references.</p>\n\n<p><em>That's</em> the bear bones of this lazy-evaluation technique, but <strong>it's just the start</strong>. The main pitfall is the potential for  <em>dangling references</em>, perhaps solve with <code>std::reference_wrapper</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "edited": false, "score": 0, "creation_date": 1517416641, "post_id": 48546955, "comment_id": 84089926, "body": "could you explain what the [&amp;] means?  Does this make <code>cond</code> a pointer to the function <code>return a&lt;b;</code>? (can&#39;t try it out right now by myself :( )"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "reply_to_user": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "edited": false, "score": 0, "creation_date": 1517416741, "post_id": 48546955, "comment_id": 84089996, "body": "It is a lambda, that captures all local variables by reference (as you need to keep track of <code>a</code> and <code>b</code> values). Of course you need to be careful that lambda does not outlive that variables. I make that lambda capture everything for simplicity, you may explicitly write that you capture <code>a</code> and <code>b</code>"}, {"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 0, "creation_date": 1517418996, "post_id": 48546955, "comment_id": 84091553, "body": "The key is catch-by-reference. I think you better highlight it."}, {"owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "edited": false, "score": 0, "creation_date": 1517420677, "post_id": 48546955, "comment_id": 84092547, "body": "I&#39;m afraid I don&#39;t understand the syntax... I get errors <code>function does not name a type</code> and same for predicate."}], "tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1517416208, "creation_date": 1517416208, "answer_id": 48546955, "question_id": 48546707, "link": "https://stackoverflow.com/questions/48546707/c-evaluate-value-of-variable-type-bool-dynamically/48546955#48546955", "title": "c++ evaluate value of variable type bool dynamically", "body": "<p>You pass variable of type <code>bool</code> to method <code>cond()</code> and variable can only hold value. What you need to pass is a function, that returns <code>bool</code>:</p>\n\n<pre><code>class special{\n  public:\n      using predicate = std::function&lt;bool()&gt;;\n\n      void set_conditions( predicate p );\n      ...\n};\n</code></pre>\n\n<p>now you can pass a function, functor, lambda etc, which will be evaluated later:</p>\n\n<pre><code>int main()\n{\n  int a=3; int b=2;\n  auto cond = [&amp;]{ return a&lt;b; };\n  special effect1;\n  effect1.set_conditions( cond );\n  ...\n}\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 9295366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54221da51c66e5e8a5e7d69a63c84ff2?s=128&d=identicon&r=PG", "display_name": "rolly", "link": "https://stackoverflow.com/users/9295366/rolly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1517424373, "creation_date": 1517415410, "question_id": 48546707, "link": "https://stackoverflow.com/questions/48546707/c-evaluate-value-of-variable-type-bool-dynamically", "title": "c++ evaluate value of variable type bool dynamically", "body": "<p><strong>The Situation:</strong> I'm trying to implement two classes, one which is called 'special'. <code>special</code> has a member variable <code>bool conditions</code> and a method <code>perform_special</code>.\nThe other class is named <code>manager</code> and it has as a member variable of type <code>special</code>. I want <code>manager</code> to call <code>perform_special</code> on its <code>special</code> member only if <code>condition</code> is true.</p>\n\n<p>So far I have implemented this chunk of code:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nclass special{\n  public:\n    special(){};\n    void perform_special();\n    void set_conditions( bool cond );\n    bool get_conditions();\n  private:\n    bool conditions;\n};\nvoid special::perform_special(){ cout&lt;&lt;\"special performed.\"&lt;&lt;endl; }\nvoid special::set_conditions( bool cond ){ conditions = cond; }\nbool special::get_conditions(){ return conditions; }\n\nclass manager{\n  public:\n    manager(){};\n    void check_specials();\n    void set_effect( special* eff );\n  private:\n    special* effect;\n};\nvoid manager::check_specials(){\n  if(effect-&gt;get_conditions()){ effect-&gt;perform_special(); }\n}\nvoid manager::set_effect( special *eff ){ effect = eff; }\n\nint main(){\n  int a=3; int b=2;\n  bool cond = a&lt;b;\n  special effect1;\n  effect1.set_conditions( cond );\n\n  a=2; b=3;\n  manager manager1;\n  manager1.set_effect( &amp;effect1 );\n  manager1.check_specials();\n\n  return 0;\n}\n</code></pre>\n\n<p>This is what it does: It creates the boolean <code>cond</code> which is immediately evaluated to be <code>false</code> because at this point, <code>a&lt;b</code> is false. Now it gives this condition to a special variable which is again given to a manager variable. When the manager calls <code>check_special</code> on its special variable, nothing happens because <code>cond</code> is false.</p>\n\n<p><strong>here's my problem:</strong> I don't want <code>cond</code> to be evaluated immediately. As you can see in the code, the values of a and be may change and thus the value of the expression <code>a&lt;b</code>. How can I achieve that the value of <code>cond</code> is only evaluated when the function <code>check_specials()</code> is called and using the latest values of the variables a and b?</p>\n\n<p><strong>Background:</strong> I'm trying to implement a text-based adventure-game, so 'special' would be some kind of special effect that happens if a bunch of conditions is true. 'manager' would be some kind of master class which handles the game and holds all the special effects etc. I want to declare those special effects in the main function and pass them to a variable 'game' of type <code>manager</code> and then start the routine of the game so I need <code>manager</code> to evaluate the conditional expressions for the special effects dynamically as the conditions obviously change over time.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 5, "creation_date": 1517415153, "post_id": 48546617, "comment_id": 84088855, "body": "What do you mean &quot;stops working&quot;? Does it rash? Does it hang/block? Have you step through it with a debugger? If not, that would be a first step."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1517415214, "post_id": 48546617, "comment_id": 84088890, "body": "Welcome to stackoverflow.com. Please take some time to read <a href=\"http://stackoverflow.com/help\">the help pages</a>, especially the sections named <a href=\"http://stackoverflow.com/help/on-topic\">&quot;What topics can I ask about here?&quot;</a> and <a href=\"http://stackoverflow.com/help/dont-ask\">&quot;What types of questions should I avoid asking?&quot;</a>. Also please <a href=\"http://stackoverflow.com/tour\">take the tour</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">read about how to ask good questions</a>. Lastly please learn how to create a <a href=\"http://stackoverflow.com/help/mcve\"><b>Minimal</b>, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1517415308, "post_id": 48546617, "comment_id": 84088961, "body": "As for your problem, I suggest you please <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">learn how to debug your programs</a>."}, {"owner": {"reputation": 3, "user_id": 9295474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_gh71LStslk/AAAAAAAAAAI/AAAAAAAAAMA/YLooyulzQ98/photo.jpg?sz=128", "display_name": "kasra shamsaee", "link": "https://stackoverflow.com/users/9295474/kasra-shamsaee"}, "edited": false, "score": 0, "creation_date": 1517415932, "post_id": 48546617, "comment_id": 84089411, "body": "it crashes after i entering the values.says &quot;.exe has stopped working&quot;"}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1517416159, "post_id": 48546617, "comment_id": 84089560, "body": "@kasra shamsaee run it in the debugger and you can get more info as to <i>why</i> it has &quot;stopped working&quot;."}, {"owner": {"reputation": 3, "user_id": 9295474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_gh71LStslk/AAAAAAAAAAI/AAAAAAAAAMA/YLooyulzQ98/photo.jpg?sz=128", "display_name": "kasra shamsaee", "link": "https://stackoverflow.com/users/9295474/kasra-shamsaee"}, "edited": false, "score": 0, "creation_date": 1517416380, "post_id": 48546617, "comment_id": 84089726, "body": "segmentation fault at line 42 which would be this part if (i==0 || i==z)         {             for (int j=0;j&lt;t+1;j++)                 u[i][j] = 0;          }"}], "answers": [{"tags": [], "owner": {"reputation": 1066, "user_id": 3359878, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/9WfKf.jpg?s=128&g=1", "display_name": "Amadeusz", "link": "https://stackoverflow.com/users/3359878/amadeusz"}, "is_accepted": true, "score": 0, "last_activity_date": 1517416343, "creation_date": 1517416343, "answer_id": 48547007, "question_id": 48546617, "link": "https://stackoverflow.com/questions/48546617/stop-working-when-running/48547007#48547007", "title": "Stop working when running", "body": "<p>You have an error in data allocation:</p>\n\n<pre><code>double **u = new double * [z+1];\nfor (int i=0;i&lt;z;i++)\n</code></pre>\n\n<p>You actually want to change this to:</p>\n\n<pre><code>double **u = new double * [z+1];\nfor (int i=0;i&lt;z+1;i++)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9295474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_gh71LStslk/AAAAAAAAAAI/AAAAAAAAAMA/YLooyulzQ98/photo.jpg?sz=128", "display_name": "kasra shamsaee", "link": "https://stackoverflow.com/users/9295474/kasra-shamsaee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "closed_date": 1517418154, "accepted_answer_id": 48547007, "answer_count": 1, "score": -3, "last_activity_date": 1517416343, "creation_date": 1517415095, "question_id": 48546617, "link": "https://stackoverflow.com/questions/48546617/stop-working-when-running", "closed_reason": "Not suitable for this site", "title": "Stop working when running", "body": "<p>i wrote this code for my university project but it stop working when i try to run it.\ncan any one please help me where the problem is?\ni guess its the pointers but i dont know where its wrong\nfor t and z if u want to try it use 20 and 5\nand when i enter them it stop working instead of giving me outputs\nit should give 2 .txt file including some numbers</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\nint main()\n{\n    int t;\n    int z;\n    double deltaz;\n    double deltat;\n    double beta;\n    double mv=0;\n\n    ofstream out1(\"Time-setllment.txt\");\n    ofstream out2(\"isochrones.txt\");\n\n    cout&lt;&lt;\"Enter time step(&gt;9&amp;integer only):\";\n    cin&gt;&gt;t;\n    cout&lt;&lt;endl&lt;&lt;\"Enter height step(integer only):\";\n    cin&gt;&gt;z;\n    cout&lt;&lt;endl;\n    double **u = new double * [z+1];\n    for (int i=0;i&lt;z;i++)\n        u[i]=new double [t+1];\n    double *s = new double [t+1];\n    mv = (0.00000003*365*24*3600)/(2*10);\n    deltaz = 20/z;\n    deltat = 50/t;\n    beta = (2*deltat)/(deltaz*deltaz);\n    if (beta&gt;0.5)\n        cout&lt;&lt;\"Beta is more than 0.5 :|\"&lt;&lt;endl;\n    else\n    {\n    for (int i=0;i&lt;z+1;i++)\n    {\n        if (i==0 || i==z)\n        {\n            for (int j=0;j&lt;t+1;j++)\n                u[i][j] = 0;\n        }\n        else\n        {\n            u[i][0]=70-3.5*(i*deltaz);\n        }\n    }\n    for (int j=1;j&lt;t;j++)\n    {\n        for (int i=1;i&lt;z;i++)\n        {\n            u[i][j] = u[i][j-1]+beta*(u[i-1][j-1]+u[i+1][j-1]-2*u[i][j-1]);\n        }\n    }\n    for (int j=1;j&lt;t+1;j++)\n    {\n        double sigmau=0;\n        for (int i=1;i&lt;z;i++)\n        {\n            sigmau +=u[i][j];\n        }\n        s[j]=mv*(35*20-deltaz*((u[0][j]+u[z][j])/2+sigmau));\n    }\n\n\n    out1&lt;&lt;\"Time \\t Settlment \\n\";\n    for (int j=1;j&lt;t+1;j++)\n    {\n        out1&lt;&lt;j*deltat&lt;&lt;\"\\t\"&lt;&lt;s[j]&lt;&lt;\"\\n\";\n    }\n    out2&lt;&lt;\"Depth \\t\";\n    for (int j=0;j&lt;t+1;j++)\n    {\n        out2&lt;&lt;\"t(year)=\"&lt;&lt;j*deltat&lt;&lt;\"\\t\";\n    }\n    out2&lt;&lt;\"\\n\";\n    for (int i=0;i&lt;z+1;i++)\n    {\n        out2&lt;&lt;i*deltaz&lt;&lt;\"\\t\";\n        for (int j=0;j&lt;t+1;j++)\n        {\n            out2&lt;&lt;u[i][j]&lt;&lt;\"\\t\";\n        }\n    }\n    for (int i=0;i&lt;z+1;i++)\n        delete []u[i];\n    delete []u;\n    delete []s;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 10, "creation_date": 1517414690, "post_id": 48546459, "comment_id": 84088565, "body": "<code>int i=0.0275;</code> gives <code>i == 0</code>. The compiler is likely warning you about this."}], "answers": [{"tags": [], "owner": {"reputation": 697, "user_id": 1160404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431cd02524d6ee187fcd1b3d9658498c?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1160404/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1517415038, "creation_date": 1517415038, "answer_id": 48546597, "question_id": 48546459, "link": "https://stackoverflow.com/questions/48546459/i-keep-getting-the-same-answer-no-matter-what-i-put-in/48546597#48546597", "title": "I keep getting the same answer, no matter what I put in", "body": "<p>Datatype of i is int as a result of which your floating point value of i will be rounded of to 0 and you will end up getting the same output doesn't matter what your n value is. Change the datatype of your i and FV varaiable from int to float then your output changes based on what n value you key in</p>\n"}, {"comments": [{"owner": {"reputation": 130, "user_id": 8781554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9Cm8.png?s=128&g=1", "display_name": "Xam", "link": "https://stackoverflow.com/users/8781554/xam"}, "edited": false, "score": 0, "creation_date": 1517423739, "post_id": 48546604, "comment_id": 84094259, "body": "It&#39;s better to use <code>double</code>."}], "tags": [], "owner": {"reputation": 148, "user_id": 8951714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50eea11a2843254a4cace1723f4ed163?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruva-404", "link": "https://stackoverflow.com/users/8951714/dhruva-404"}, "is_accepted": true, "score": 0, "last_activity_date": 1517415051, "creation_date": 1517415051, "answer_id": 48546604, "question_id": 48546459, "link": "https://stackoverflow.com/questions/48546459/i-keep-getting-the-same-answer-no-matter-what-i-put-in/48546604#48546604", "title": "I keep getting the same answer, no matter what I put in", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int P=1000;\n    float i=0.0275; //float instead of int\n    float FV; //FV should also be float as it will be storing decimal values\n    int n;\n    cout &lt;&lt; \"enter number of years:\"&lt;&lt; endl;\n    cin &gt;&gt; n;\n    cout &lt;&lt; \"the future value is:\"&lt;&lt; endl;\n    FV = P*(1+(i*n));\n    cout &lt;&lt; FV &lt;&lt; endl;\n    return 0;\n    }\n</code></pre>\n\n<p>the mistake you have done is the type you assigned to your variables! as int only handles integer values i becomes 0 and your result becomes 1000! use float instead of int for numbers with decimal points!</p>\n"}], "owner": {"reputation": 13, "user_id": 9269858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/759522884edc35a7eaf1e002761e3b4a?s=128&d=identicon&r=PG&f=1", "display_name": "Jane", "link": "https://stackoverflow.com/users/9269858/jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1517438542, "accepted_answer_id": 48546604, "answer_count": 2, "score": -2, "last_activity_date": 1517415051, "creation_date": 1517414635, "question_id": 48546459, "link": "https://stackoverflow.com/questions/48546459/i-keep-getting-the-same-answer-no-matter-what-i-put-in", "closed_reason": "Not suitable for this site", "title": "I keep getting the same answer, no matter what I put in", "body": "<p>We're doing an assignment in my computer science class that requires us to find the future value of an investment after \"n\" number of years that the user inputs. It's written in C++. This is the code as I have it now:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n    int P=1000;\n    int i=0.0275;\n    int FV;\n    int n;\n    cout &lt;&lt; \"enter number of years:\"&lt;&lt; endl;\n    cin &gt;&gt; n;\n    cout &lt;&lt; \"the future value is:\"&lt;&lt; endl;\n    FV = P*(1+(i*n));\n    cout &lt;&lt; FV &lt;&lt; endl;\n    return 0;\n    }\n</code></pre>\n\n<p>I keep ending up with an answer of 1000 no matter what \"n\" I input. Can someone tell me what's wrong with the code?</p>\n"}, {"tags": ["c++", "opengl", "framebuffer", "post-processing"], "comments": [{"owner": {"reputation": 11225, "user_id": 241013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0825ba5ec12464a2b8176642830e6a7?s=128&d=identicon&r=PG", "display_name": "Sorin", "link": "https://stackoverflow.com/users/241013/sorin"}, "edited": false, "score": 0, "creation_date": 1517415293, "post_id": 48546444, "comment_id": 84088951, "body": "I would guess you are not clearing the depthbuffer. Try one of the glClearBuffer* ."}, {"owner": {"reputation": 210, "user_id": 8721422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/774e269d7c2a9de88a98d850776daab3?s=128&d=identicon&r=PG&f=1", "display_name": "Calum McManus", "link": "https://stackoverflow.com/users/8721422/calum-mcmanus"}, "edited": false, "score": 1, "creation_date": 1517419320, "post_id": 48546444, "comment_id": 84091771, "body": "@Raddid76 That was was the issue, needed to clear the depth buffer after binding the frame buffer! Thanks for your help, if you convert your comment to an answer I will mark it as resolved!"}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 2, "last_activity_date": 1517421204, "last_edit_date": 1517421204, "creation_date": 1517420488, "answer_id": 48548311, "question_id": 48546444, "link": "https://stackoverflow.com/questions/48546444/framebuffer-cutting-out-section-of-models-when-moved/48548311#48548311", "title": "Framebuffer cutting out section of models when moved", "body": "<p>When rendering into a framebuffer that has a depth buffer and the depth test is enabled, then the depth buffer must be cleared. The depth buffer must be cleared after binding the framebuffer and before drawing to the framebuffer: </p>\n\n<pre><code>gllBindFramebuffer( GL_FRAMEBUFFER, m_FrameBuffer );\nglClear( GL_DEPTH_BUFFER_BIT );\n</code></pre>\n\n<p>Note, if you do not clear the deep buffer, it retains its content. This causes that the depth test may fail at positions, where the geometry has been in the past. It follows that parts are missing in the geometry, as in the image in the question.</p>\n"}], "owner": {"reputation": 210, "user_id": 8721422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/774e269d7c2a9de88a98d850776daab3?s=128&d=identicon&r=PG&f=1", "display_name": "Calum McManus", "link": "https://stackoverflow.com/users/8721422/calum-mcmanus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 48548311, "answer_count": 1, "score": 0, "last_activity_date": 1517421204, "creation_date": 1517414604, "question_id": 48546444, "link": "https://stackoverflow.com/questions/48546444/framebuffer-cutting-out-section-of-models-when-moved", "title": "Framebuffer cutting out section of models when moved", "body": "<p>I am having an issue with implementing a frame buffer for post processing. So far I can draw everything to a textured quad and a apply a shader to change the screen, so in that respect it works. </p>\n\n<p>My issue is when I move my models or camera, the model start to render incorrectly and parts of them get \"cut off\". See the following screen shots as it is hard to explain.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tANry.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tANry.jpg\" alt=\"Image 1\"></a><a href=\"https://i.stack.imgur.com/EMezk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EMezk.jpg\" alt=\"Image 2\"></a></p>\n\n<p>To avoid putting pages and pages of code, all the rendering works fine without the Frame Buffer and every looks fine if I don't move the camera or models.</p>\n\n<p>I set up the frame buffer like this.</p>\n\n<pre><code>//Set up FBO\nglGenFramebuffers(1, &amp;m_FrameBuffer);\nglBindFramebuffer(GL_FRAMEBUFFER, m_FrameBuffer);\n\nglActiveTexture(GL_TEXTURE2);\nglGenTextures(1, &amp;m_TexColorBuffer);\nglBindTexture(GL_TEXTURE_2D, m_TexColorBuffer);\n\n\nglTexImage2D(\n    GL_TEXTURE_2D, 0, GL_RGB, 1280, 720, 0, GL_RGB, GL_UNSIGNED_BYTE, 0\n);\n\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);\n\nglFramebufferTexture2D(\n    GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, m_TexColorBuffer, 0\n);\n\nglGenRenderbuffers(1, &amp;m_RBODepthStencil);\nglBindRenderbuffer(GL_RENDERBUFFER, m_RBODepthStencil);\nglRenderbufferStorage(GL_RENDERBUFFER, GL_DEPTH_COMPONENT, 1280, 720);\n\nglFramebufferRenderbuffer(\n    GL_FRAMEBUFFER, GL_DEPTH_ATTACHMENT, GL_RENDERBUFFER, m_RBODepthStencil\n);\n\nglFramebufferTexture(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, m_TexColorBuffer, 0);\n\nGLenum DrawBuffers[1] = { GL_COLOR_ATTACHMENT0 };\nglDrawBuffers(1, DrawBuffers); // \"1\" is the size of DrawBuffers\n\nif (glCheckFramebufferStatus(GL_FRAMEBUFFER) != GL_FRAMEBUFFER_COMPLETE)\n    std::cout &lt;&lt; \"Frame Buffer: Contructor: Issue completing frame buffer\" &lt;&lt; std::endl;\n\n\n//Set Up Shader\nm_ScreenShader = new Shader(\"../Assets/Shaders/screen.vert\", \"../Assets/Shaders/screen.frag\");\n\n//Setup Quad VAO\n\nglGenBuffers(1, &amp;m_QuadVBO);\nglBindBuffer(GL_ARRAY_BUFFER, m_QuadVBO);\nglBufferData(GL_ARRAY_BUFFER, 24 * sizeof(float), points, GL_STATIC_DRAW);\n\nglGenVertexArrays(1, &amp;m_QuadVAO);\nglBindVertexArray(m_QuadVAO);\n//glEnableVertexAttribArray(0);\nglBindBuffer(GL_ARRAY_BUFFER, m_QuadVBO);\n//glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, NULL);\n\nGLint posAttrib = glGetAttribLocation(m_ScreenShader-&gt;getID(), \"position\");\nglEnableVertexAttribArray(posAttrib);\nglVertexAttribPointer(posAttrib, 2, GL_FLOAT, GL_FALSE, 4 * sizeof(GLfloat), 0);\n\nGLint texAttrib = glGetAttribLocation(m_ScreenShader-&gt;getID(), \"texcoord\");\nglEnableVertexAttribArray(texAttrib);\nglVertexAttribPointer(texAttrib, 2, GL_FLOAT, GL_FALSE, 4 * sizeof(GLfloat), (void*)(2 * sizeof(GLfloat)));\n</code></pre>\n\n<p>I then Bind it prior to drawing the scene (skybox and models) and then draw it like this.</p>\n\n<pre><code>Unbind();\nglBindVertexArray(m_QuadVAO);\nglDisable(GL_DEPTH_TEST);\nm_ScreenShader-&gt;enable();\nm_ScreenShader-&gt;setUniform1f(\"time\", glfwGetTime());\nGLint baseImageLoc = glGetUniformLocation(m_ScreenShader-&gt;getID(), \"texFramebuffer\");\nglUniform1i(baseImageLoc, 2);\nglActiveTexture(GL_TEXTURE2);\nglBindTexture(GL_TEXTURE_2D, m_TexColorBuffer);\n\nglDrawArrays(GL_TRIANGLES, 0, 6);\n</code></pre>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["c++", "opencv", "vector"], "answers": [{"comments": [{"owner": {"reputation": 457, "user_id": 6400277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206759054794233/picture?type=large", "display_name": "Mathieu Gauquelin", "link": "https://stackoverflow.com/users/6400277/mathieu-gauquelin"}, "edited": false, "score": 0, "creation_date": 1517471873, "post_id": 48551300, "comment_id": 84111394, "body": "Thank you for your answer ! For the first pixel, your link tell to to at&lt;uchar&gt;(0,0)` but you add a third argument. Is it volontary ?"}, {"owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "reply_to_user": {"reputation": 457, "user_id": 6400277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206759054794233/picture?type=large", "display_name": "Mathieu Gauquelin", "link": "https://stackoverflow.com/users/6400277/mathieu-gauquelin"}, "edited": false, "score": 1, "creation_date": 1517852668, "post_id": 48551300, "comment_id": 84253633, "body": "When I call the at() method I used the template &lt;uchar&gt;. Each pixel is made up of three uchars (B,G,R). Since we are pointing to a uchar we have to tell the at() method which of the three uchars we want so we give it (X,Y, and channel)."}], "tags": [], "owner": {"reputation": 2052, "user_id": 4434679, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Vrsg.png?s=128&g=1", "display_name": "BHawk", "link": "https://stackoverflow.com/users/4434679/bhawk"}, "is_accepted": true, "score": 1, "last_activity_date": 1517432290, "creation_date": 1517432290, "answer_id": 48551300, "question_id": 48546336, "link": "https://stackoverflow.com/questions/48546336/opencv-slicing-of-a-vector-mat/48551300#48551300", "title": "opencv slicing of a vector Mat", "body": "<p>Assuming that you have got all of your images properly packed into your image list you can do the following:</p>\n\n<p>This will get the mean of all images in your list:</p>\n\n<pre><code>cv::Scalar meansum(0.0f,0.0f,0.0f);\nsize_t length = listImages.size();\nfor (size_t i = 0; i &lt; length; i++){\n  //mu == mean of current image\n  cv::Scalar mu = cv::mean(listImages[i]);\n  meansum += mu;\n}\n\nfloat means[3] = { meansum[0] / length, meansum[1] / length, meansum[2] / length };\n  std::cout &lt;&lt; \"Means \" &lt;&lt; means[0] &lt;&lt; \" \" &lt;&lt; means[1] &lt;&lt; \" \" &lt;&lt; means[2] &lt;&lt; std::endl;\n</code></pre>\n\n<p>To get the first pixel in your third image you can use the at() method or a row pointer. (Row pointers are faster, but don't have any guards against accessing out of bounds memory locations.)</p>\n\n<pre><code>Mat third_image = list_images[2];\n//using at()\nuchar first_pixel_blue_value = third_image.at&lt;uchar&gt;(0,0,0);\nstd::cout&lt;&lt;(int)first_pixel_blue_value&lt;&lt;std::endl;\n\n//using row pointer\nuchar* row = third_image.ptr&lt;uchar&gt;(0); //pointer to row 0\nstd::cout&lt;&lt;\"blue: \"  &lt;&lt;(int)row[0];\nstd::cout&lt;&lt;\" green: \"&lt;&lt;(int)row[1];\nstd::cout&lt;&lt;\" red: \"  &lt;&lt;(int)row[2];\n</code></pre>\n\n<p>More info can be found here:</p>\n\n<p><a href=\"https://docs.opencv.org/3.1.0/d2/de8/group__core__array.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.1.0/d2/de8/group__core__array.html</a> (under functions)</p>\n\n<p>and here:</p>\n\n<p><a href=\"https://docs.opencv.org/trunk/d3/d63/classcv_1_1Mat.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/trunk/d3/d63/classcv_1_1Mat.html</a></p>\n"}], "owner": {"reputation": 457, "user_id": 6400277, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10206759054794233/picture?type=large", "display_name": "Mathieu Gauquelin", "link": "https://stackoverflow.com/users/6400277/mathieu-gauquelin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1346, "favorite_count": 0, "accepted_answer_id": 48551300, "answer_count": 1, "score": 0, "last_activity_date": 1517432290, "creation_date": 1517414312, "question_id": 48546336, "link": "https://stackoverflow.com/questions/48546336/opencv-slicing-of-a-vector-mat", "title": "opencv slicing of a vector Mat", "body": "<p>I am new with <strong>OpenCV</strong>. I am working on <strong>Visual Studio 2017</strong> and use the plugin <strong>Image Watch</strong> to see Mat file of openCV.</p>\n\n<p><em>What I've done:</em></p>\n\n<p>I have to read a binary file to get 1000 images (256*320 pixels uint16 so 2 octets by pixel) in an array of double. After this, I wanted to see with Image Watch my data to be sure all is okay. So I convert the first image into a uchar on 8 bit to visualise it. I add my code (most part don't read it, just go to the end) :</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include \"stdio.h\"\n#include &lt;fstream&gt;\n#include &lt;stdint.h&gt;\n#include \"windows.h\"\n#include &lt;opencv2/core/core.hpp&gt;           // cv::Mat\n#include &lt;math.h&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\nusing namespace cv;\n\ntemplate&lt;class T&gt;\nT my_ntoh_little(unsigned char* buf) {\n    const auto s = sizeof(T);\n    T value = 0;\n    for (unsigned i = 0; i &lt; s; i++)\n        value |= buf[i] &lt;&lt; CHAR_BIT * i;\n    return value;\n}\n\nint main()\n{\n    ifstream is(\"Filename\", ifstream::binary);\n    if (is) {\n        // Reading size of the file and initialising variables\n        is.seekg(0, is.end);\n        int length = is.tellg();\n        int main_header_size = 3000;\n        int frame_header_size = 1000;\n        int width = 320, height = 256, count_frames = 1000;\n        int buffer_image = width * height * 2;\n        unsigned char *data_char = new unsigned char[length]; // Variable which will contains all the data\n\n        // Initializing 3D array for stocking all images\n        double ***data;\n        data = new double**[count_frames];\n        for (unsigned i = 0; i &lt; count_frames; i++) {\n            data[i] = new double*[height];\n            for (unsigned j = 0; j &lt; height; j++)\n                data[i][j] = new double[width];\n        }\n\n        // Reading the file once\n        is.seekg(0, is.beg);\n        is.read(reinterpret_cast&lt;char*&gt;(data_char), length);\n\n        // Convert pixel by pixel uchar into uint16 (using pointer on data_char)\n        int indice, minid = 65536.0, maxid = 0.0;\n        for (unsigned count = 0; count &lt; count_frames; count++) {\n            // Initialize pointer address\n            indice = main_header_size + count * (frame_header_size + buffer_image) + frame_header_size;\n\n            for (unsigned i = 0; i &lt; height; i++) {\n                for (unsigned j = 0; j &lt; width; j++) {\n                    data[count][i][j] = my_ntoh_little&lt;uint16_t&gt;(data_char + indice);\n\n                    // Search for min/max for normalize after\n                    if (data[count][i][j] &lt; minid and count == 0)\n                        minid = data[count][i][j];\n                    if (data[count][i][j] &gt; maxid and count == 0)\n                        maxid = data[count][i][j];\n\n                    // Updating pointer to next pixel\n                    indice += 2;\n                }\n            }\n        }\n\n        // Get back first image, normalize between 0-255, cast into uchar to the future Mat object\n        uchar *dataImRGB = new uchar[width * height * 3];\n        int image_display = 900;\n        int pixel_norm;\n        for (unsigned i = 0; i &lt; height; i++) {\n            for (unsigned j = 0; j &lt; width; j++) {\n                pixel_norm = round((data[image_display][i][j] - double(minid)) / double(maxid - minid) * 255);\n                dataImRGB[i * 320 * 3 + 3 * j] = static_cast&lt;uchar&gt;(pixel_norm);\n                dataImRGB[i * 320 * 3 + 3 * j + 1] = static_cast&lt;uchar&gt;(pixel_norm);\n                dataImRGB[i * 320 * 3 + 3 * j + 2] = static_cast&lt;uchar&gt;(pixel_norm);\n            }\n        }\n\n        // Create Mat object (it is imageRGB8 I can see on Image watch)\n        Mat imageRGB8 = Mat(width, height, CV_8UC3, dataImRGB);\n\n        // Creating a list of Map and add first Mat\n        vector&lt;Mat&gt; listImages;\n        listImages.push_back(imageRGB8);\n\n        // -----------------------------------------------------------------------------------------\n        // -----------------------------------------------------------------------------------------\n        // Future : directly keep the uchar read in the original file and import it on a Mat object\n        // But how to get the pixel at (0,0) of the first Mat on the vector ?\n        // -----------------------------------------------------------------------------------------\n        // -----------------------------------------------------------------------------------------\n\n        // De-Allocate memory to prevent memory leak\n        for (int i = 0; i &lt; count_frames; ++i) {\n            for (int j = 0; j &lt; height; ++j)\n                delete[] data[i][j];\n\n            delete[] data[i];\n        }\n        delete[] data;\n    }\n    return 0;\n}\n</code></pre>\n\n<p><em>Where I am stuck:</em></p>\n\n<p>I don't know how to work with this vector, how to manipulate the data. For example, if i want to do the mean of all images, so the mean of all Mat objects in the vector, how to do this ? Or just how to get the first pixel of the third image in the vector ? These examples have for aim to explain me the slicing with such type of data because I know how it works with vector of double, but not with openCv object.</p>\n\n<p>Thank you in advance for any help/advice.</p>\n"}, {"tags": ["c++", "binary-tree", "operator-keyword", "return-type", "auto"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1517413718, "post_id": 48545908, "comment_id": 84087830, "body": "So you want <code>root()</code> to either return a node or a leaf depending on the parameters passed?"}, {"owner": {"reputation": 311, "user_id": 6394092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AF9cW.png?s=128&g=1", "display_name": "Maxime Coorevits", "link": "https://stackoverflow.com/users/6394092/maxime-coorevits"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1517414132, "post_id": 48545908, "comment_id": 84088146, "body": "@Rakete Yes, and if possible by using automatic return type deduction. Something like this : <a href=\"https://stackoverflow.com/questions/16675654/variadic-multidimensional-array\">link</a>"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1517414273, "post_id": 48545908, "comment_id": 84088249, "body": "But then the parameters can&#39;t be known at runtime, because C++ is a static language. How do I know whether <code>2, 4, 5</code> is a leaf or node?"}, {"owner": {"reputation": 311, "user_id": 6394092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AF9cW.png?s=128&g=1", "display_name": "Maxime Coorevits", "link": "https://stackoverflow.com/users/6394092/maxime-coorevits"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1517414651, "post_id": 48545908, "comment_id": 84088532, "body": "This is why I ask you if something is possible. Even with exception throwing for the &#39;<code>out_of_range</code>&#39; indexes. The idea is that to have a easy access. Basically, this is not for a public access but for an internal code."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1517415524, "post_id": 48545908, "comment_id": 84089106, "body": "Is the tree a compile-time structure or a runtime one? Type must be determined at compile-time, from information known at compile time (unless you want to return <code>variant</code> or use some other runtime dispatch)."}, {"owner": {"reputation": 311, "user_id": 6394092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AF9cW.png?s=128&g=1", "display_name": "Maxime Coorevits", "link": "https://stackoverflow.com/users/6394092/maxime-coorevits"}, "reply_to_user": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1517416187, "post_id": 48545908, "comment_id": 84089586, "body": "@Useless - at runtime. So if understand, auto &amp; decltype are only available for compile-time structure. Note that the structure is based on <code>std::vector</code> with composite around a base class that can hold or not derived classes. I already can do the job at runtime but I just want to hide the <code>typename T</code> of the return class for an undetermined <code>auto</code> with an conditionnal casting in the variadic template unfolding."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 1, "creation_date": 1517484669, "post_id": 48545908, "comment_id": 84118956, "body": "So you must use runtime dispatch, not compile time dispatch. You either need an <code>if</code> in the client code (handling a different type in each branch), or a visitor-style dispatch (you provide a different callback overload for each type, and the container forwards to the right one)"}], "owner": {"reputation": 311, "user_id": 6394092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AF9cW.png?s=128&g=1", "display_name": "Maxime Coorevits", "link": "https://stackoverflow.com/users/6394092/maxime-coorevits"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517413040, "creation_date": 1517413040, "question_id": 48545908, "link": "https://stackoverflow.com/questions/48545908/c-return-type-deduction-with-variadic-template-on-binary-tree", "title": "C++ return type deduction with variadic template on binary tree", "body": "<p>Imagine you have a simple composite structure like a binary tree and on the root you want to be able to automaticaly get either node or leaf by something like :</p>\n\n<pre><code>template &lt;typename... Args&gt;\nauto operator()(Args...);\n</code></pre>\n\n<p>Allowing to :</p>\n\n<pre><code>auto node_or_leaf = root()(1, 2, 3);\n</code></pre>\n\n<p>Or :</p>\n\n<pre><code>Node node = root()(1, 2);\nLeaf leaf = root()(1, 2, 3);\n</code></pre>\n\n<p>I already can do the job with this syntax, but this is not return type deducing.</p>\n\n<pre><code>template &lt;typename T, typename... Args&gt;\nstd::shared_ptr&lt;T&gt; operator()(Args...);\n</code></pre>\n\n<p>And that need some template specialization to work. And i'm not sure that this syntax works on differents compiler (work on MSVC2017):</p>\n\n<pre><code>auto leaf = root-&gt;operator()&lt;Leaf&gt;(1, 2, 3);\n</code></pre>\n\n<p>I'm not really warned about C++14/17 capabilities, so I need your help if you want. And I thank you by advance.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2796, "user_id": 6121044, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d36000b5ea58961acf50354041457af9?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/6121044/andreas"}, "edited": false, "score": 0, "creation_date": 1517421690, "post_id": 48545839, "comment_id": 84093118, "body": "use a simpler image that triggers the behavior (e.g. 4x4), derive expected output and print the living shit out of every step in your algorithm. tell us what you find."}, {"owner": {"reputation": 1, "user_id": 6309449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339241989422881/picture?type=large", "display_name": "Jonas Nacken Hansson", "link": "https://stackoverflow.com/users/6309449/jonas-nacken-hansson"}, "reply_to_user": {"reputation": 2796, "user_id": 6121044, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d36000b5ea58961acf50354041457af9?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/6121044/andreas"}, "edited": false, "score": 0, "creation_date": 1520338194, "post_id": 48545839, "comment_id": 85265406, "body": "Sorry for late reply, I tried changing my texture to a 10x10 and it still appears the same way"}, {"owner": {"reputation": 1, "user_id": 6309449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339241989422881/picture?type=large", "display_name": "Jonas Nacken Hansson", "link": "https://stackoverflow.com/users/6309449/jonas-nacken-hansson"}, "reply_to_user": {"reputation": 2796, "user_id": 6121044, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d36000b5ea58961acf50354041457af9?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/6121044/andreas"}, "edited": false, "score": 0, "creation_date": 1526897369, "post_id": 48545839, "comment_id": 87906464, "body": "Hi again! I&#39;ve been busy with other assignments and a game project. I tried with a box and a 10x10 texture, but only the corner of the box is textured, any suggestions?"}], "owner": {"reputation": 1, "user_id": 6309449, "user_type": "registered", "profile_image": "https://graph.facebook.com/1339241989422881/picture?type=large", "display_name": "Jonas Nacken Hansson", "link": "https://stackoverflow.com/users/6309449/jonas-nacken-hansson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517412842, "creation_date": 1517412842, "question_id": 48545839, "link": "https://stackoverflow.com/questions/48545839/texture-debug-for-rasterizer", "title": "Texture Debug for Rasterizer", "body": "<p>I got an assignment at university to make a Rasterizer, I've come this far by making my own math library and all necessary parts, but the results are not perfect</p>\n\n<p><a href=\"https://i.stack.imgur.com/g1Bgf.png\" rel=\"nofollow noreferrer\">Cat in rasterizer</a></p>\n\n<p>I've tested to mix up the colors a bit and the mesh is whole, no empty areas on it, but I think it's something with the texture, can somebody hint or tell me how to get a clear and complete texture cover?</p>\n\n<pre><code>void Rasterizer::scanline(const Scanline &amp;scan)\n{    \n    int diffX = scan.xEnd - scan.xBegin;\n\n    if (diffX == 0)\n    {\n        return;\n    }\n\n    for (int x = scan.xBegin; x &lt;= scan.xEnd; x++)\n    {\n        float u, v, w;\n        barycentric(vector2D(x, scan.Y), vector2D(vertexOne.vecOrigin[0], \n        vertexOne.vecOrigin[1]), vector2D(vertexTwo.vecOrigin[0], \n        vertexTwo.vecOrigin[1]), vector2D(vertexThree.vecOrigin[0], \n        vertexThree.vecOrigin[1]), u, v, w);\n        float corrW = (u * wOne + v * wTwo + w * wThree);\n        float zPixel = ((vertexOne.vecOrigin[2] * u) + (vertexTwo.vecOrigin[2] * v) + (vertexThree.vecOrigin[2] * w));\n\n        int index = (scan.Y * width + x);\n\n        if (index &lt; 0 || index &gt;= (width * height))\n        {\n            continue;\n        }\n\n        if (zDepth[index] &gt; zPixel)\n        {\n            continue;\n        }\n\n        zDepth[index] = zPixel;\n\n        vector2D texture = ((uvOne * u) * wOne + (uvTwo * v) * wTwo + (uvThree * w) * wThree) / corrW;\n        vector3D normal = ((normOne * u) * wOne + (normTwo * v) * wTwo + (normThree * w) * wThree) / corrW;\n        vector3D diff = ((diffColorOne * u) * wOne + (diffColorTwo * v) * wTwo + (diffColorThree * w) * wThree) / corrW;\n\n        PixelColor col = fragments({ texture.vecOrigin[0], 1 - texture.vecOrigin[1] }, normal, image, this-&gt;w, this-&gt;h, n);\n\n        col.r = std::min((col.r * diff.vecOrigin[0]), 255.0f);\n        col.g = std::min((col.g * diff.vecOrigin[1]), 255.0f);\n        col.b = std::min((col.b * diff.vecOrigin[2]), 255.0f);\n\n        if ((scan.Y * width + x) &lt; 0)\n        {\n            continue;\n        }\n        else if ((scan.Y * width + x) &gt;= width * height)\n        {\n            continue;\n        }   \n\n        if (x &gt; 0 &amp;&amp; x &lt; width)\n        {\n            this-&gt;pixels[index] = col;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "dll", "cmake"], "comments": [{"owner": {"reputation": 31426, "user_id": 4763489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89773f016f1f4cc2c4e790a6c3f7b004?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/4763489/florian"}, "edited": false, "score": 2, "creation_date": 1517412958, "post_id": 48545720, "comment_id": 84087317, "body": "<code>$&lt;TARGET_LINKER_FILE:tgt&gt;</code>?"}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1517413677, "post_id": 48545720, "comment_id": 84087807, "body": "Just know that Cmake does not want you to use these things and they may have unexpected values in unexpected situations. If you need these, you&#39;re probably going at it the wrong way"}], "answers": [{"tags": [], "owner": {"reputation": 673, "user_id": 7702053, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/ujL06.png?s=128&g=1", "display_name": "CDZ", "link": "https://stackoverflow.com/users/7702053/cdz"}, "is_accepted": false, "score": 2, "last_activity_date": 1517413374, "creation_date": 1517413374, "answer_id": 48546010, "question_id": 48545720, "link": "https://stackoverflow.com/questions/48545720/cmake-shared-library-how-to-get-the-lib-name-instead-of-dll-name/48546010#48546010", "title": "cmake : shared library : how to get the .lib name instead of .dll name?", "body": "<p>Just found how, maybe it will be useful for someone else, so I share.</p>\n\n<p>Simply use TARGET_LINKER_FILE instead of TARGET_FILE !</p>\n"}], "owner": {"reputation": 673, "user_id": 7702053, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/ujL06.png?s=128&g=1", "display_name": "CDZ", "link": "https://stackoverflow.com/users/7702053/cdz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517413374, "creation_date": 1517412437, "question_id": 48545720, "link": "https://stackoverflow.com/questions/48545720/cmake-shared-library-how-to-get-the-lib-name-instead-of-dll-name", "title": "cmake : shared library : how to get the .lib name instead of .dll name?", "body": "<p>Under Windows, with cmake I generate a shared library and an executable.</p>\n\n<p>The shared lib generate 2 files, a .DLL and a .LIB</p>\n\n<p>I use <code>add_custom_command</code> with <code>$&lt;TARGET_FILE:mylibname&gt;</code>, this output the name of the .DLL file.</p>\n\n<p>But, I need the name of the .LIB file.</p>\n\n<p>How can I do ? Any idea ?</p>\n"}, {"tags": ["c++", "gcc"], "comments": [{"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 1, "creation_date": 1517411892, "post_id": 48545363, "comment_id": 84086556, "body": "It depends on what you&#39;re going to be doing.  If you need to rebuild the kernel, you may be better off staying with the official compiler.  If you&#39;re doing application development without tinkering with the kernel, I&#39;d go with the latest version you can lay hands on (7.3.0 as of 2018-01-26).  I&#39;d install the upgraded version separately from the official build; I don&#39;t tinker with the official release, but I don&#39;t use it, either."}, {"owner": {"reputation": 648, "user_id": 2234578, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/303e4fbf21525edd1f704671d9705d4d?s=128&d=identicon&r=PG", "display_name": "Nasir", "link": "https://stackoverflow.com/users/2234578/nasir"}, "reply_to_user": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1517412019, "post_id": 48545363, "comment_id": 84086647, "body": "@JonathanLeffler its for application development. But link i mentioned gives some reason as why in distro its not upgraded. Is that applicable only if kernel is being compiled?"}, {"owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "edited": false, "score": 0, "creation_date": 1517412583, "post_id": 48545363, "comment_id": 84087064, "body": "I&#39;ve not yet read your link; the first thing I had to do was fix the link in the question so it was usable.  In my experience, if you build the compiler on the system where it is to run, you shouldn&#39;t run into problems.  I&#39;ve never run into problems with it.  (For obscure reasons that I hate, one of my work machines is running archaic RHEL 5.x; it&#39;s also got GCC 7.3.0 on it (and 7.2.0, and 6.x, and 5.x) \u2014 I built them on the machine \u2014 and I&#39;ve never run into a problem.  If you import a GCC built elsewhere, you may be subject to problems.) . I&#39;m primarily working in C, but there is C++ around."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1517412580, "creation_date": 1517412580, "answer_id": 48545759, "question_id": 48545363, "link": "https://stackoverflow.com/questions/48545363/is-there-any-issue-in-upgrading-gcc-version-to-other-than-the-ones-come-with-dis/48545759#48545759", "title": "Is there any issue in upgrading GCC version to other than the ones come with distro?", "body": "<p>You do not want to update/replace the system ones because it may cause incompatibility/ABI issues.</p>\n\n<p>Install the new gcc in a different location.</p>\n\n<p>Or, easier, just get <a href=\"https://developers.redhat.com/products/developertoolset/updates/\" rel=\"nofollow noreferrer\">Red Hat Developer Toolset</a>.</p>\n"}], "owner": {"reputation": 648, "user_id": 2234578, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/303e4fbf21525edd1f704671d9705d4d?s=128&d=identicon&r=PG", "display_name": "Nasir", "link": "https://stackoverflow.com/users/2234578/nasir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 408, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517412580, "creation_date": 1517411324, "last_edit_date": 1517412281, "question_id": 48545363, "link": "https://stackoverflow.com/questions/48545363/is-there-any-issue-in-upgrading-gcc-version-to-other-than-the-ones-come-with-dis", "title": "Is there any issue in upgrading GCC version to other than the ones come with distro?", "body": "<p>I am using RHEL7.2 and default GCC version is  4.8.5 20150623</p>\n\n<p>I would like to upgrade GCC to 6.1 and above for few reasons. (Like C++14 support, good sanitize\n options, SSO)</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31228579/why-is-cow-stdstring-optimization-still-enabled-in-gcc-5-1\">This link</a> says distro's keep default version of GCC due to some reasons and else it may break ABI. </p>\n\n<p>Is it ok to upgrade GCC if I build all the libs/files I am using same compiler? Do I need to take care anything else?</p>\n"}, {"tags": ["c++", "juce", "filefilter"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 7752625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb72965e1473f8da41c8222023417366?s=128&d=identicon&r=PG&f=1", "display_name": "harry97uk", "link": "https://stackoverflow.com/users/7752625/harry97uk"}, "edited": false, "score": 0, "creation_date": 1517414551, "post_id": 48545391, "comment_id": 84088460, "body": "When I do this it says &quot;No viable conversion from &#39;juce::WildcardFileFilter&#39; to &#39;const juce::FileFilter *&#39;&quot;"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "reply_to_user": {"reputation": 33, "user_id": 7752625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb72965e1473f8da41c8222023417366?s=128&d=identicon&r=PG&f=1", "display_name": "harry97uk", "link": "https://stackoverflow.com/users/7752625/harry97uk"}, "edited": false, "score": 0, "creation_date": 1517416138, "post_id": 48545391, "comment_id": 84089547, "body": "@harry97uk Exactly, because you need to pass a pointer, not an object."}, {"owner": {"reputation": 33, "user_id": 7752625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb72965e1473f8da41c8222023417366?s=128&d=identicon&r=PG&f=1", "display_name": "harry97uk", "link": "https://stackoverflow.com/users/7752625/harry97uk"}, "edited": false, "score": 0, "creation_date": 1517423356, "post_id": 48545391, "comment_id": 84094074, "body": "fileChooser-&gt;setFileFilter(WildcardFileFilter(&quot;*.wav&quot;));   I put this and it says the same thing"}], "tags": [], "owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "is_accepted": true, "score": 1, "last_activity_date": 1517411485, "creation_date": 1517411485, "answer_id": 48545391, "question_id": 48545359, "link": "https://stackoverflow.com/questions/48545359/how-do-i-describe-what-file-filter-i-want-using-juces-filefilter/48545391#48545391", "title": "How do I describe what file filter I want using juce&#39;s FileFilter?", "body": "<p>You should use a <code>WildcardFileFilter</code> instead, since <code>FileFilter</code> is an abstract base class:</p>\n\n<pre><code>fileChooser-&gt;setFileFilter(WildcardFileFilter(\"*.wav\", \"*\", \"somedescription\"));\n</code></pre>\n\n<p><a href=\"https://juce.com/doc/classWildcardFileFilter\" rel=\"nofollow noreferrer\">Docs</a>.</p>\n\n<p>Note that <code>setFileFilter</code> asks for a <code>const*</code>, meaning that you must manage it's lifetime.</p>\n\n<p>At this moment, you're passing a temporary that will be destructed leaving the <code>fileChooser</code> with a dangling pointer, you should use something with a longer lifetime.</p>\n"}], "owner": {"reputation": 33, "user_id": 7752625, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bb72965e1473f8da41c8222023417366?s=128&d=identicon&r=PG&f=1", "display_name": "harry97uk", "link": "https://stackoverflow.com/users/7752625/harry97uk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 48545391, "answer_count": 1, "score": 0, "last_activity_date": 1517411485, "creation_date": 1517411303, "question_id": 48545359, "link": "https://stackoverflow.com/questions/48545359/how-do-i-describe-what-file-filter-i-want-using-juces-filefilter", "title": "How do I describe what file filter I want using juce&#39;s FileFilter?", "body": "<p>I'm trying to have the browser only show audio files, however, I don't know what syntax to use to describe what file type I would like</p>\n\n<pre><code>fileChooser-&gt;setFileFilter(FileFilter(\".wav\"));\n</code></pre>\n\n<p>When I put this it says \"Allocating an object of abstract class type 'juce::FileFilter'\" </p>\n\n<p>Sorry if this is an easy one</p>\n"}, {"tags": ["c++", "file-io"], "comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "reply_to_user": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1517411441, "post_id": 48545330, "comment_id": 84086246, "body": "I found this reference on using ifstream, but without enough details <a href=\"https://lemire.me/blog/2012/06/26/which-is-fastest-read-fread-ifstream-or-mmap/\" rel=\"nofollow noreferrer\">lemire.me/blog/2012/06/26/&hellip;</a>"}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "edited": false, "score": 1, "creation_date": 1517411660, "post_id": 48545330, "comment_id": 84086406, "body": "Do you want the best approach or the fastest way? You probably can&#39;t have both."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1517411697, "post_id": 48545330, "comment_id": 84086425, "body": "why do you need to read line by line? Reading all the file contents as a whole and then processing line by line will most likely be faster"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1517412443, "post_id": 48545330, "comment_id": 84086976, "body": "See also: <a href=\"https://stackoverflow.com/q/31162367/10077\">stackoverflow.com/q/31162367/10077</a>"}, {"owner": {"reputation": 865, "user_id": 2539126, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/AFbXK.png?s=128&g=1", "display_name": "Arkoudinos", "link": "https://stackoverflow.com/users/2539126/arkoudinos"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1517486434, "post_id": 48545330, "comment_id": 84120050, "body": "@UKMonkey Oh you didn&#39;t know? They shouldn&#39;t learn, they should just DISAPPEAR from this holy website - Of course I&#39;m kidding. But that&#39;s how a big part of SO users behave."}], "answers": [{"comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1517412050, "post_id": 48545401, "comment_id": 84086672, "body": "Thanks. How would that change if I have to read through pipe, i.e. piping a text file through terminal?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 1, "creation_date": 1517412194, "post_id": 48545401, "comment_id": 84086771, "body": "@BaronYugovich: If you&#39;re just piping into stdin, just use something like <code>std::getline(std::cin, line)</code>."}], "tags": [], "owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "is_accepted": false, "score": 7, "last_activity_date": 1517411501, "creation_date": 1517411501, "answer_id": 48545401, "question_id": 48545330, "link": "https://stackoverflow.com/questions/48545330/c-fastest-way-to-read-file-line-by-line/48545401#48545401", "title": "C++ fastest way to read file line by line", "body": "<p>Just use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"noreferrer\">std::getline</a>. Pretty straightforward solution:</p>\n\n<pre><code>std::ifstream file(\"filePath\");\nstd::string line;\nwhile (std::getline(file, line)) {\n    // line contains the current line\n}\n</code></pre>\n"}], "owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13297, "favorite_count": 0, "closed_date": 1517411811, "answer_count": 1, "score": 0, "last_activity_date": 1517413525, "creation_date": 1517411194, "last_edit_date": 1517413525, "question_id": 48545330, "link": "https://stackoverflow.com/questions/48545330/c-fastest-way-to-read-file-line-by-line", "closed_reason": "Duplicate", "title": "C++ fastest way to read file line by line", "body": "<p>I don't want any boost dependency or anything external. I could read the file line by line, and process each line separately. But if it works better, I can also load the whole file in memory, and process it line by line afterwards.</p>\n\n<p>What's the best approach? Also, what is the fastest approach, how do they differ?</p>\n\n<p>Also, this should both work with a regular text file, and piping a file through terminal.</p>\n"}, {"tags": ["c++", "qt", "character-encoding", "qtextstream"], "comments": [{"owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "edited": false, "score": 0, "creation_date": 1517412137, "post_id": 48545222, "comment_id": 84086734, "body": "<code>void QTextStream::setCodec</code> , If QTextStream operates on a string, this function does nothing."}], "answers": [{"tags": [], "owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "is_accepted": false, "score": 0, "last_activity_date": 1517412945, "creation_date": 1517412945, "answer_id": 48545877, "question_id": 48545222, "link": "https://stackoverflow.com/questions/48545222/how-to-create-an-iso-8859-15-instead-of-default-utf-8-encoded-text-file-on-lin/48545877#48545877", "title": "How to create an ISO 8859-15 (instead of default UTF-8) encoded text file on Linux using QTextStream?", "body": "<p>Usually this is what I do:</p>\n\n<pre><code>QTextCodec *codec1 = QTextCodec::codecForName(\"ISO 8859-15\");\nQByteArray csvStreambyteArray = \" .... \"; // from your file\nQString csvStreamString = codec1-&gt;toUnicode(csvStreambyteArray);\ncsvStream &lt;&lt; csvStreamString ;\n</code></pre>\n"}], "owner": {"reputation": 6940, "user_id": 1559401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t9DjW.jpg?s=128&g=1", "display_name": "rbaleksandar", "link": "https://stackoverflow.com/users/1559401/rbaleksandar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 711, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517412945, "creation_date": 1517410905, "last_edit_date": 1517411641, "question_id": 48545222, "link": "https://stackoverflow.com/questions/48545222/how-to-create-an-iso-8859-15-instead-of-default-utf-8-encoded-text-file-on-lin", "title": "How to create an ISO 8859-15 (instead of default UTF-8) encoded text file on Linux using QTextStream?", "body": "<p>The function below is something I have created in a unit test for a Qt project I'm working on.</p>\n\n<p>It creates a file (empty or filled) that is then opened in various use cases, processed and the outcome evaluated. One special use case I have identified is that the encoding actually does affect my application so I decided to cover non-UTF-8 files too (as far as this is possible).</p>\n\n<pre><code>void TestCsvParserOperators::createCsvFile(QString&amp; path, CsvType type, bool utf8)\n{\n    path = \"test_data.txt\";\n\n    QFile csv(path);\n    // Make sure both reading and writing access is possible. Also turn on truncation to replace any existing files\n    QVERIFY(csv.open(QIODevice::ReadWrite | QIODevice::Truncate | QIODevice::Text) == true);\n\n    QTextStream csvStream(&amp;csv);\n\n    // Set encoding\n    if (utf8)\n    {\n        csvStream.setCodec(\"UTF-8\");\n    }\n    else\n    {\n        csvStream.setCodec(\"ISO 8859-15\");\n        csvStream.setGenerateByteOrderMark(false);\n    }\n\n    switch(type)\n    {\n    case EMPTY:     // File doesn't contain any data\n        break;\n    case INVALID:   // File contains data that is not supported\n        csvStream &lt;&lt; \"abc\" &lt;&lt; '\\n';\n        break;\n    case VALID:\n    {\n        // ...\n        break;\n    }\n    }\n\n    csv.close();\n}\n</code></pre>\n\n<p>While the project runs on <strong>Linux</strong> the data is exported as a <strong>plain text file</strong> on <strong>Windows</strong> (and possibly edited with <strong>Notepad</strong>) and used by my application as it is. I discovered that it is encoded not as UTF-8 but as ISO 8859-15. This led to a bunch of problems including incorrectly processed characters etc.</p>\n\n<p>The actual part in my application that is tested is</p>\n\n<pre><code>// ...\n\nQTextStream in(&amp;csvFile);\nif (in.codec() != QTextCodec::codecForName(\"UTF-8\"))\n{\n    LOG(WARNING) &lt;&lt; this-&gt;sTag &lt;&lt; \"Expecting CSV file with UTF-8 encoding. Found \" &lt;&lt; QString(in.codec()-&gt;name()) &lt;&lt; \". Will attempt to convert to supported encoding\";\n\n    // Handle encoding\n    // ...\n}\n\n// ...\n</code></pre>\n\n<p>Regardless of the combination of values for <code>type</code> and <code>utf8</code> I always get my test text file. However the encoding remains <strong>UTF-8</strong> regardless of the <code>utf8</code> flag.</p>\n\n<p>Calling <code>file</code> on the CSV file with the actual data (shipped by the client) returns</p>\n\n<pre><code>../trunk/resources/data.txt: ISO-8859 text, with CRLF line terminators\n</code></pre>\n\n<p>while doing the same on <code>test_data.txt</code> gives me</p>\n\n<pre><code>../../build/test-bin/test_data.txt: UTF-8 Unicode text\n</code></pre>\n\n<p>I've read somewhere that if I want to use some encoding other than UTF-8 I have to work with <code>QByteArray</code>. However I am unable to verify this in the Qt documentation. I've also read that setting the <code>BOM</code> should do the trick but I tried with both enabling and disabling its generation without any luck.</p>\n\n<p>I've already written a small bash script which converts the encoding to UTF-8 (given that the input file is ISO 8859) but I'd like to</p>\n\n<ul>\n<li>have this integrated in my actual application</li>\n<li>not being forced to take care of this every single time</li>\n<li>have at least some basic test coverage for the encoding that the client uses</li>\n</ul>\n\n<p>Any ideas how to achieve this?</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong> I replaced the content I'm writing to the text file as</p>\n\n<pre><code>csvStream &lt;&lt; QString(\"...\").toLatin1() &lt;&lt; ...;\n</code></pre>\n\n<p>and now I get</p>\n\n<pre><code>../../build/test-bin/test_data.txt: ASCII text\n</code></pre>\n\n<p>which is still not what I'm looking for.</p>\n"}, {"tags": ["c++", "eclipse", "eclipse-cdt", "declaration", "auto"], "answers": [{"comments": [{"owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "reply_to_user": {"reputation": 2312, "user_id": 2200058, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/eb6c5930c5e17bb33b1429acc61fee88?s=128&d=identicon&r=PG", "display_name": "Alex Gidan", "link": "https://stackoverflow.com/users/2200058/alex-gidan"}, "edited": false, "score": 0, "creation_date": 1550031867, "post_id": 48554317, "comment_id": 96115879, "body": "@AlexGidan: Please give a complete code example. Probably easiest to do so in a new question (you can link to it from a comment here)."}], "tags": [], "owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "is_accepted": true, "score": 2, "last_activity_date": 1517450935, "creation_date": 1517450935, "answer_id": 48554317, "question_id": 48544973, "link": "https://stackoverflow.com/questions/48544973/eclipse-cdt-open-declaration-of-auto-type-variable/48554317#48554317", "title": "Eclipse CDT open declaration of auto type variable", "body": "<p>This has <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=511522\" rel=\"nofollow noreferrer\">recently been implemented</a>. It's available in Eclipse Oxygen (released June 2017) and later.</p>\n"}], "owner": {"reputation": 5012, "user_id": 2416647, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f471b80868ae9c93d0903127ed27e2f9?s=128&d=identicon&r=PG", "display_name": "schorsch312", "link": "https://stackoverflow.com/users/2416647/schorsch312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 48554317, "answer_count": 1, "score": 3, "last_activity_date": 1527139391, "creation_date": 1517410217, "last_edit_date": 1527139391, "question_id": 48544973, "link": "https://stackoverflow.com/questions/48544973/eclipse-cdt-open-declaration-of-auto-type-variable", "title": "Eclipse CDT open declaration of auto type variable", "body": "<p>With <a href=\"https://www.eclipse.org/cdt/\" rel=\"nofollow noreferrer\">Eclipse CDT</a> one can use \"Open Declaration\" to goto the declaration of a class, function, ... . This function can be accessed by the shortcut key <code>F3</code>.</p>\n\n<p>If one hovers with the mouse over <code>auto</code> in code looking like this</p>\n\n<pre><code>const auto A = getA();\n</code></pre>\n\n<p>eclipse resolves the type of <code>A</code>. A popup displays the correct type. Nevertheless, one can not use <code>F3</code> to goto the declaration of the type of <code>A</code>.</p>\n\n<p>Can eclipse be configured to activate this?<br>\nI'm using C++ 11.</p>\n"}, {"tags": ["c++", "visual-studio", "opencv"], "comments": [{"owner": {"reputation": 1395, "user_id": 3808426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6388b9d4ea9d6e02525fa212aa9d817d?s=128&d=identicon&r=PG&f=1", "display_name": "Demosthenes", "link": "https://stackoverflow.com/users/3808426/demosthenes"}, "edited": false, "score": 0, "creation_date": 1517409676, "post_id": 48544759, "comment_id": 84084891, "body": "What exception is thrown?"}, {"owner": {"reputation": 1, "user_id": 9248060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915173c1578c677334b72ef6f838e8be?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9248060/nick"}, "reply_to_user": {"reputation": 1395, "user_id": 3808426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6388b9d4ea9d6e02525fa212aa9d817d?s=128&d=identicon&r=PG&f=1", "display_name": "Demosthenes", "link": "https://stackoverflow.com/users/3808426/demosthenes"}, "edited": false, "score": 0, "creation_date": 1517410456, "post_id": 48544759, "comment_id": 84085503, "body": "Exception thrown at 0x00007FF8E3533FB8 in SVM classifier.exe: Microsoft C++ exception: cv::Exception at memory location 0x000000A4E8AFCA48. . Thanks @Demosthenes"}, {"owner": {"reputation": 1395, "user_id": 3808426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6388b9d4ea9d6e02525fa212aa9d817d?s=128&d=identicon&r=PG&f=1", "display_name": "Demosthenes", "link": "https://stackoverflow.com/users/3808426/demosthenes"}, "edited": false, "score": 0, "creation_date": 1517413938, "post_id": 48544759, "comment_id": 84087992, "body": "I think all (or at least most) of OpenCV exceptions have an accompanying text, stating what is wrong. Not sure how to display them in Visual C++."}, {"owner": {"reputation": 1395, "user_id": 3808426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6388b9d4ea9d6e02525fa212aa9d817d?s=128&d=identicon&r=PG&f=1", "display_name": "Demosthenes", "link": "https://stackoverflow.com/users/3808426/demosthenes"}, "edited": false, "score": 0, "creation_date": 1517413966, "post_id": 48544759, "comment_id": 84088016, "body": "Alternative approach: when it breaks there, what is size.p, and what is i?"}, {"owner": {"reputation": 1, "user_id": 9248060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915173c1578c677334b72ef6f838e8be?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9248060/nick"}, "reply_to_user": {"reputation": 1395, "user_id": 3808426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6388b9d4ea9d6e02525fa212aa9d817d?s=128&d=identicon&r=PG&f=1", "display_name": "Demosthenes", "link": "https://stackoverflow.com/users/3808426/demosthenes"}, "edited": false, "score": 0, "creation_date": 1517416173, "post_id": 48544759, "comment_id": 84089571, "body": "Don&#39;t know ! Can&#39;t test this on release mode. Anyway, I haven&#39;t written that part of code, it&#39;s written out of my soruce code. It belongs to mat.inl.hpp @Demosthenes"}], "owner": {"reputation": 1, "user_id": 9248060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/915173c1578c677334b72ef6f838e8be?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9248060/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1517411007, "creation_date": 1517409565, "last_edit_date": 1517411007, "question_id": 48544759, "link": "https://stackoverflow.com/questions/48544759/exception-thrown-with-opencvs-svm-training-c", "title": "Exception thrown with OpenCV&#39;s SVM training, c++", "body": "<p>I have a problem with the Support Vector Machine , coding with visual studio, c++.\nTried to replicate the example of the tutorial at the following link \n<a href=\"https://docs.opencv.org/3.4.0/d1/d73/tutorial_introduction_to_svm.html\" rel=\"nofollow noreferrer\">https://docs.opencv.org/3.4.0/d1/d73/tutorial_introduction_to_svm.html</a> and the situation is\n(having a breakpoint at \"return 0;\" line)</p>\n\n<p>1) In debug , x64 I run the solution, and after \"return 0\" statement I have an exception thrown\nat memory location (not unhandled, luckily) and then the program exit correctly.</p>\n\n<p>2) In release, x64, I run the solution, and after \"return 0\" statement I have an exception thrown\nat memory location but clicking on \"continue\" button, this appears (of mat.inl.hpp)</p>\n\n<pre><code>inline\nvoid Mat::release()\n{\n    if( u &amp;&amp; CV_XADD(&amp;u-&gt;refcount, -1) == 1 )\n        deallocate();\n    u = NULL;\n    datastart = dataend = datalimit = data = 0;\n    for(int i = 0; i &lt; dims; i++)\n    ----&gt;    size.p[i] = 0; &lt;----- // (that's the exact line)!\n#ifdef _DEBUG\n    flags = MAGIC_VAL;\n    dims = rows = cols = 0;\n    if(step.p != step.buf)\n    {\n        fastFree(step.p);\n        step.p = step.buf;\n        size.p = &amp;rows;\n    }\n#endif\n}\n</code></pre>\n\n<p>And I have the correct exit of the program only clicking on \"continue\" bottom several times.\nThis happens only in release mode.\nHow to fix it?</p>\n"}, {"tags": ["c++", "point-cloud-library", "point-clouds"], "comments": [{"owner": {"reputation": 2105, "user_id": 6076911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-uN56dPJT9f4/AAAAAAAAAAI/AAAAAAAAALM/o4JOjdOOzQQ/photo.jpg?sz=128", "display_name": "David de la Iglesia", "link": "https://stackoverflow.com/users/6076911/david-de-la-iglesia"}, "edited": false, "score": 0, "creation_date": 1519109756, "post_id": 48544628, "comment_id": 84762863, "body": "Could you share the point cloud???"}, {"owner": {"reputation": 2105, "user_id": 6076911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-uN56dPJT9f4/AAAAAAAAAAI/AAAAAAAAALM/o4JOjdOOzQQ/photo.jpg?sz=128", "display_name": "David de la Iglesia", "link": "https://stackoverflow.com/users/6076911/david-de-la-iglesia"}, "edited": false, "score": 0, "creation_date": 1519109761, "post_id": 48544628, "comment_id": 84762867, "body": "This is just a quick guess but have you considered that the template sphere you are generating is bigger than the sphere you are trying to find??. Maybe if you adjust the size of the template you could get the aligment you want."}, {"owner": {"reputation": 5084, "user_id": 1175065, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5d39d28e20ba99165ad648135d853ff3?s=128&d=identicon&r=PG", "display_name": "Ravi Joshi", "link": "https://stackoverflow.com/users/1175065/ravi-joshi"}, "reply_to_user": {"reputation": 2105, "user_id": 6076911, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-uN56dPJT9f4/AAAAAAAAAAI/AAAAAAAAALM/o4JOjdOOzQQ/photo.jpg?sz=128", "display_name": "David de la Iglesia", "link": "https://stackoverflow.com/users/6076911/david-de-la-iglesia"}, "edited": false, "score": 0, "creation_date": 1519110046, "post_id": 48544628, "comment_id": 84762998, "body": "Thank you very much. I checked it and concluded few interesting points. the captured point cloud data doesn&#39;t contain sufficient information to detect sphere. The sphere in the point cloud is too noisy to detect. However, if I capture the point cloud with a bigger sphere, the detection is possible. Also depending on the point cloud capture sensor, the captured point cloud sometimes depends on light and object material conditions."}], "owner": {"reputation": 5084, "user_id": 1175065, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5d39d28e20ba99165ad648135d853ff3?s=128&d=identicon&r=PG", "display_name": "Ravi Joshi", "link": "https://stackoverflow.com/users/1175065/ravi-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 886, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1517409140, "creation_date": 1517409140, "question_id": 48544628, "link": "https://stackoverflow.com/questions/48544628/sphere-detection-in-point-cloud-using-pcl", "title": "Sphere Detection in Point Cloud using PCL", "body": "<p>I have captured a point cloud of a scene in which a ball is mounted on a robotic arm. The Ball is rigid and having the diameter approximately 150 mm. Below is the screenshot of Point Cloud-</p>\n\n<p><a href=\"https://i.stack.imgur.com/r7f89.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r7f89.png\" alt=\"enter image description here\"></a></p>\n\n<p>In order to track the ball (orange color in above screenshot), I tried to use Sample Consensus Initial Alignment (SAC-IA) algorithm, hence I first made a template, which is the point cloud of ball using following code-</p>\n\n<pre><code>typedef pcl::PointXYZRGB Point;\ntypedef pcl::PointCloud&lt;Point&gt; PointCloud;\n\nPointCloud sphere;\n\nfloat r = 0.075; // in meters\nfor(float phi = 0;  phi &lt; 2* M_PI; phi+=0.01)\n{\n  float z = r * cos(phi);\n  for(float th = 0;  th &lt; M_PI; th+=0.01)\n  {\n    float x = r * sin(phi) * cos(th);\n    float y = r * sin(phi) * sin(th);\n\n    Point point;\n    point.x = x; point.y = y; point.z = z;  // position\n    point.b = 51; point.g = 87; point.r = 255; // color\n\n    sphere.push_back(point);\n  }\n}\nsphere.is_dense = true;\nsphere.height = 1;\nsphere.width = sphere.points.size();\n</code></pre>\n\n<p>The template is then matched with point cloud using the code provided in <a href=\"http://pointclouds.org/documentation/tutorials/template_alignment.php\" rel=\"nofollow noreferrer\">official PCL website here</a>. I am not putting the code here since it is too long (approximately 300 lines).</p>\n\n<p>Below is the screenshot of the detection, in which I painted a green sphere in detected location-</p>\n\n<p><a href=\"https://i.stack.imgur.com/xhNC0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xhNC0.png\" alt=\"enter image description here\"></a></p>\n\n<p>Clearly, the <strong>ball detection has failed</strong>. Below are my queries-</p>\n\n<ol>\n<li>How to make it working? Any fine-tuning of parameters?</li>\n<li>Is there any better approach for sphere detection in PCL?</li>\n</ol>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 5, "creation_date": 1517409063, "post_id": 48544575, "comment_id": 84084373, "body": "<code>std::cout &lt;&lt; &quot;1 2 3 4 0\\n1 2 3 0 5\\n1 2 0 4 5\\n1 0 3 4 5&quot;;</code>"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 64493, "user_id": 272109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32170c62eb744820e8afdd023379a95a?s=128&d=identicon&r=PG", "display_name": "David Makogon", "link": "https://stackoverflow.com/users/272109/david-makogon"}, "edited": false, "score": 1, "creation_date": 1517409142, "post_id": 48544575, "comment_id": 84084438, "body": "@DavidMakogon Well, the question contains the actual, and expected output."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 1, "creation_date": 1517409205, "post_id": 48544575, "comment_id": 84084482, "body": "for the sake of your own sanity: let your loops go from <code>0</code> to <code>n</code> such that <code>i,j</code> refers to the position you are currently printing. With the code as is, it is hard to figure out what <code>i</code> and <code>j</code> are actually refering to"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1517410037, "post_id": 48544575, "comment_id": 84085171, "body": "actually not my buisness, but I disagree with the close votes. The question does contain the necessary code, actual and desired output and a more or less clear problem statement."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1517411033, "post_id": 48544575, "comment_id": 84085959, "body": "@tobi303 not close flagger, and I agree with you, but I think it does demonstrate a lack of research effort (since it&#39;s a trivial debugging issue) which makes it downvote worthy."}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 6, "creation_date": 1517409944, "post_id": 48544638, "comment_id": 84085108, "body": "Fixing the code without explaining the error or the fix is makes for an incomplete answer."}, {"owner": {"reputation": 313, "user_id": 8704612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1951589321719339/picture?type=large", "display_name": "Mohamed Magdy", "link": "https://stackoverflow.com/users/8704612/mohamed-magdy"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1517410868, "post_id": 48544638, "comment_id": 84085838, "body": "@Fran&#231;oisAndrieux I just changed j to j-1, if he understands i == j  of course he will understand i == j - 1"}, {"owner": {"reputation": 9, "user_id": 9294994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82fbd9036bee874a955e6bcadcda08ef?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Paul", "link": "https://stackoverflow.com/users/9294994/logan-paul"}, "edited": false, "score": 0, "creation_date": 1517411053, "post_id": 48544638, "comment_id": 84085980, "body": "I do not need an explanation for this."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1517411138, "post_id": 48544638, "comment_id": 84086049, "body": "@MohamedMagdy Don&#39;t tell me, add it to the answer. If the answer doesn&#39;t require an explanation because it&#39;s a typo, the question should be closed for being a typo and not answered."}, {"owner": {"reputation": 313, "user_id": 8704612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1951589321719339/picture?type=large", "display_name": "Mohamed Magdy", "link": "https://stackoverflow.com/users/8704612/mohamed-magdy"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1517411679, "post_id": 48544638, "comment_id": 84086413, "body": "@Fran&#231;oisAndrieux I edited it."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1517411828, "post_id": 48544638, "comment_id": 84086501, "body": "Use the remainder operator, <code>%</code>."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1517412842, "post_id": 48544638, "comment_id": 84087247, "body": "I did not downvote, but this is really a good example on how bugs in code should not be fixed. :)"}], "tags": [], "owner": {"reputation": 313, "user_id": 8704612, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1951589321719339/picture?type=large", "display_name": "Mohamed Magdy", "link": "https://stackoverflow.com/users/8704612/mohamed-magdy"}, "is_accepted": true, "score": 2, "last_activity_date": 1517412074, "last_edit_date": 1517412074, "creation_date": 1517409178, "answer_id": 48544638, "question_id": 48544575, "link": "https://stackoverflow.com/questions/48544575/how-can-i-print-this-rectangle-shape-using-c/48544638#48544638", "title": "How can I print this rectangle shape using c++?", "body": "<p>Try this  : <br></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nint main () {\n\n\nfor (int i = 4 ; i &gt;= 1; i--){\n    for (int j = 1; j &lt;=5 ; j++){\n            if (i==j-1)\n                cout &lt;&lt;\"0\";\n            else\n            cout &lt;&lt;j;\n    }\n    cout &lt;&lt; endl;\n}\nreturn 0;\n}\n</code></pre>\n\n<p>I just changed <code>i == j</code> to <code>i == j -1</code> so: <br> \nj = 1 4 == 0  it will go to else and print 1 <br>\nj = 2 4 == 1  it will go to else and print 2 <br>\nj = 3 4 == 2  it will go to else and print 3 <br>\nj = 4 4 == 3  it will go to else and print 4 <br>\nhere  it will print 0 <br> \nj = 5 4 == 4 if is true so it will print 0 and so on until the outer loop ends.</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 4, "last_activity_date": 1517409635, "creation_date": 1517409635, "answer_id": 48544784, "question_id": 48544575, "link": "https://stackoverflow.com/questions/48544575/how-can-i-print-this-rectangle-shape-using-c/48544784#48544784", "title": "How can I print this rectangle shape using c++?", "body": "<p>You need 0 to be in 5th then 4th, 3th and 2nd position, but <code>i</code> iterates from 4 to 1. Just change first loop:</p>\n\n<pre><code>for (int i = 5 ; i &gt;= 2; i--){\n</code></pre>\n\n<p>so <code>i</code> iterates from 5 to 2 as you need.</p>\n"}, {"comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1517412702, "post_id": 48545218, "comment_id": 84087156, "body": "Thank you for this code snippet, which might provide some limited short-term help.  A proper explanation <a href=\"//meta.stackexchange.com/q/114762\">would greatly improve</a> its long-term value by showing <i>why</i> this is a good solution to the problem, and would make it more useful to future readers with other, similar questions.  Please <a href=\"https://stackoverflow.com/posts/48545218/edit\">edit</a> your answer to add some explanation, including the assumptions you&#39;ve made."}], "tags": [], "owner": {"reputation": 47, "user_id": 6013976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc82071ccd36e1f1e06e06d2be5c6ab?s=128&d=identicon&r=PG", "display_name": "Erez", "link": "https://stackoverflow.com/users/6013976/erez"}, "is_accepted": false, "score": 0, "last_activity_date": 1517410903, "creation_date": 1517410903, "answer_id": 48545218, "question_id": 48544575, "link": "https://stackoverflow.com/questions/48544575/how-can-i-print-this-rectangle-shape-using-c/48545218#48545218", "title": "How can I print this rectangle shape using c++?", "body": "<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nint main () {\n    for (int i = 0 ; i &lt;4 ; i++){\n        for (int j = 1 ; j &lt;=5 ; j++){\n            if (i==(5-j))\n                cout &lt;&lt;\"0\";\n            else\n                cout &lt;&lt;j;\n        }\n        cout &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>12340\n12305\n12045\n10345\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9294994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82fbd9036bee874a955e6bcadcda08ef?s=128&d=identicon&r=PG&f=1", "display_name": "Logan Paul", "link": "https://stackoverflow.com/users/9294994/logan-paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1517451704, "accepted_answer_id": 48544638, "answer_count": 3, "score": -4, "last_activity_date": 1517412664, "creation_date": 1517408946, "last_edit_date": 1517412664, "question_id": 48544575, "link": "https://stackoverflow.com/questions/48544575/how-can-i-print-this-rectangle-shape-using-c", "closed_reason": "Not suitable for this site", "title": "How can I print this rectangle shape using c++?", "body": "<p>I tried to draw this pattern:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 4 0\n1 2 3 0 5\n1 2 0 4 5\n1 0 3 4 5\n</code></pre>\n\n<p>I got this pattern instead:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1 2 3 0 5\n1 2 0 4 5\n1 0 3 4 5\n0 2 3 4 5\n</code></pre>\n\n<p>The program is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\nint main () {\n\n\nfor (int i = 4 ; i &gt;= 1; i--){\n    for (int j = 1; j &lt;=5 ; j++){\n            if (i==j)\n                cout &lt;&lt;\"0\";\n            else\n            cout &lt;&lt;j;\n    }\n    cout &lt;&lt; endl;\n}\nreturn 0;\n}\n</code></pre>\n\n<p>What should I do to fix this, and print the expected pattern?</p>\n"}, {"tags": ["c++", "string", "compile-time", "c++17"], "comments": [{"owner": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1517409297, "post_id": 48544573, "comment_id": 84084568, "body": "isn&#39;t your <code>StringType</code> equal to <code>std::wstring</code>?"}, {"owner": {"reputation": 6507, "user_id": 472647, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/ytEy0.jpg?s=128&g=1", "display_name": "CodeMouse92", "link": "https://stackoverflow.com/users/472647/codemouse92"}, "edited": false, "score": 0, "creation_date": 1517409388, "post_id": 48544573, "comment_id": 84084632, "body": "You know, you could also just overload the <code>&lt;&lt;</code> operator instead of wrapping <code>std::cout</code>..."}, {"owner": {"reputation": 9543, "user_id": 245376, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i8mL8.png?s=128&g=1", "display_name": "hkBattousai", "link": "https://stackoverflow.com/users/245376/hkbattousai"}, "reply_to_user": {"reputation": 5538, "user_id": 5980430, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e941fd748178dc871ae6a9974d5099d4?s=128&d=identicon&r=PG&f=1", "display_name": "apple apple", "link": "https://stackoverflow.com/users/5980430/apple-apple"}, "edited": false, "score": 0, "creation_date": 1517409496, "post_id": 48544573, "comment_id": 84084731, "body": "@appleapple @Ron The char type I defined is changable during development. There are a lot of other definitions in my code that are defined according to this char type at compile time. So, <code>CharType</code> is not always <code>wchar_t</code>, therefore it is not possible to simply assign <code>std::wcout</code> to <code>COUT</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517410286, "post_id": 48544684, "comment_id": 84085370, "body": "I don&#39;t believe this would work with tag dispatching, as the return type of <code>get_cout</code> would be inconsistent. The question is tagged C++17 though, so this is fine."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "reply_to_user": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517410592, "post_id": 48544684, "comment_id": 84085609, "body": "@zennehoy Why would the return types need to be consistent? Your solution with a getter function instead of a <code>static constexpr</code> member would work just fine."}, {"owner": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517411174, "post_id": 48544684, "comment_id": 84086077, "body": "Your <code>get_cout</code> function has an <code>auto &amp;</code> return type that is resolved as either <code>std::ostream</code> or <code>std::wostream</code>, based on which return statement is chosen. This works in C++17 with the <code>if constexpr</code>, but you could not have two such incompatible return statements in C++14 or before."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "reply_to_user": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517411570, "post_id": 48544684, "comment_id": 84086340, "body": "@zennehoy Hmm, <a href=\"http://coliru.stacked-crooked.com/a/019573b91c4615c5\" rel=\"nofollow noreferrer\">works fine for me</a> in C++11. It probably compiles in C++98 too, but coliru&#39;s standard library doesn&#39;t support it anymore."}, {"owner": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517412030, "post_id": 48544684, "comment_id": 84086654, "body": "Sure, but that&#39;s not tag dispatching, that&#39;s a traits-based solution. All I&#39;m getting at is that in C++14 and before, you cannot return two different types from the same function depending on an if within that function (as your <code>get_cout</code> is doing)."}, {"owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "reply_to_user": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "edited": false, "score": 0, "creation_date": 1517412319, "post_id": 48544684, "comment_id": 84086878, "body": "@zennehoy You are right, I used the wrong term. Fixed, I think."}], "tags": [], "owner": {"reputation": 8847, "user_id": 3484570, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/r5BRZ.png?s=128&g=1", "display_name": "nwp", "link": "https://stackoverflow.com/users/3484570/nwp"}, "is_accepted": true, "score": 5, "last_activity_date": 1517412301, "last_edit_date": 1517412301, "creation_date": 1517409334, "answer_id": 48544684, "question_id": 48544573, "link": "https://stackoverflow.com/questions/48544573/how-do-i-choose-between-stdcout-and-stdwcout-according-to-the-defined-st/48544684#48544684", "title": "How do I choose between `std::cout` and `std::wcout` according to the defined string type?", "body": "<p>This is an option in C++17:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;class T&gt;\nauto &amp;get_cout() {\n    if constexpr(std::is_same_v&lt;T, char&gt;){\n        return std::cout;\n    }else{\n        return std::wcout;\n    }\n}\n\nint main() {\n    {\n        using CharType = char;\n        std::basic_ostream&lt;CharType&gt; &amp; MyTestClass_COUT = get_cout&lt;CharType&gt;();\n        MyTestClass_COUT &lt;&lt; \"Hello\";\n    }\n    {\n        using CharType = wchar_t;\n        std::basic_ostream&lt;CharType&gt; &amp; MyTestClass_COUT = get_cout&lt;CharType&gt;();\n        MyTestClass_COUT &lt;&lt; L\"World\";\n    }\n}\n</code></pre>\n\n<p>If you don't have C++17 you can replace <code>if constexpr</code> with a trait-based solution.</p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/12e9890a67fbcb2d\" rel=\"nofollow noreferrer\">Demo</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6191, "user_id": 694509, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/af284e79108b30c1dbbcde576755f048?s=128&d=identicon&r=PG", "display_name": "zennehoy", "link": "https://stackoverflow.com/users/694509/zennehoy"}, "is_accepted": false, "score": 2, "last_activity_date": 1517409694, "creation_date": 1517409694, "answer_id": 48544811, "question_id": 48544573, "link": "https://stackoverflow.com/questions/48544573/how-do-i-choose-between-stdcout-and-stdwcout-according-to-the-defined-st/48544811#48544811", "title": "How do I choose between `std::cout` and `std::wcout` according to the defined string type?", "body": "<p>You could also use a specialized class to do the selection for you:</p>\n\n<pre><code>template &lt;typename T_Char&gt;\nstruct StreamSelector;\n\ntemplate &lt;&gt;\nstruct StreamSelector&lt;char&gt; {\n    static constexpr std::ostream &amp;stream = std::cout;\n};\n\ntemplate &lt;&gt;\nstruct StreamSelector&lt;wchar_t&gt; {\n    static constexpr std::wostream &amp;stream = std::wcout;\n};\n\nstd::basic_ostream&lt;CharType&gt; &amp;COUT = StreamSelector&lt;CharType&gt;::stream;\n</code></pre>\n\n<p>This works starting with C++11, though it could be modified slightly to work before that.</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 4, "last_activity_date": 1517410178, "last_edit_date": 1517410178, "creation_date": 1517409851, "answer_id": 48544852, "question_id": 48544573, "link": "https://stackoverflow.com/questions/48544573/how-do-i-choose-between-stdcout-and-stdwcout-according-to-the-defined-st/48544852#48544852", "title": "How do I choose between `std::cout` and `std::wcout` according to the defined string type?", "body": "<p>Old fashioned trait style solution:</p>\n\n<pre><code>template&lt;class T&gt;\nstruct cout_trait {};\n\ntemplate&lt;&gt;\nstruct cout_trait&lt;char&gt; {\n    using type = decltype(std::cout);\n    static constexpr type&amp; cout = std::cout;\n    static constexpr type&amp; cerr = std::cerr;\n    static constexpr type&amp; clog = std::clog;\n};\ntemplate&lt;&gt;\nstruct cout_trait&lt;wchar_t&gt; {\n    using type = decltype(std::wcout);\n    static constexpr type&amp; cout = std::wcout;\n    static constexpr type&amp; cerr = std::wcerr;\n    static constexpr type&amp; clog = std::wclog\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>auto&amp; cout = cout_trait&lt;char&gt;::cout;\n</code></pre>\n"}], "owner": {"reputation": 9543, "user_id": 245376, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i8mL8.png?s=128&g=1", "display_name": "hkBattousai", "link": "https://stackoverflow.com/users/245376/hkbattousai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 48544684, "answer_count": 3, "score": 2, "last_activity_date": 1517412301, "creation_date": 1517408945, "question_id": 48544573, "link": "https://stackoverflow.com/questions/48544573/how-do-i-choose-between-stdcout-and-stdwcout-according-to-the-defined-st", "title": "How do I choose between `std::cout` and `std::wcout` according to the defined string type?", "body": "<p>I defined my own string type in the code.</p>\n\n<pre><code>typedef wchar_t CharType;\ntypedef std::basic_string&lt;CharType&gt; StringType;\n</code></pre>\n\n<p>I have a static class (it won't have an instance) which will print string messages on the screen. I decided to put a <code>COUT</code> static member which will refer to <code>std::cout</code> or <code>std::wcout</code> according to the string type I defined.</p>\n\n<p>Header:</p>\n\n<pre><code>#include &lt;ostream&gt;\n\nclass MyTestClass\n{\n    public:\n        // ...\n        static std::basic_ostream&lt;CharType&gt; &amp; COUT;\n        // ...\n}\n</code></pre>\n\n<p>CPP:</p>\n\n<pre><code>std::basic_ostream&lt;CharType&gt; &amp; MyTestClass::COUT = /* How do I initialize this? */;\n</code></pre>\n\n<p>Is there a way of initializing this static member <code>COUT</code>?</p>\n"}, {"tags": ["c++", "return-value"], "comments": [{"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1517409026, "post_id": 48544550, "comment_id": 84084344, "body": "Need to initialize the values"}, {"owner": {"reputation": 885, "user_id": 1758897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hMoc1.png?s=128&g=1", "display_name": "basslo", "link": "https://stackoverflow.com/users/1758897/basslo"}, "edited": false, "score": 0, "creation_date": 1517409089, "post_id": 48544550, "comment_id": 84084390, "body": "you just need call calcNetSalary in displayNetSalary !"}, {"owner": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "reply_to_user": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1517409152, "post_id": 48544550, "comment_id": 84084449, "body": "@JakeFreeman: I have initialized value in the <code>Main.cpp</code>"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "edited": false, "score": 0, "creation_date": 1517409192, "post_id": 48544550, "comment_id": 84084475, "body": "@user8794865 you never assign the instance variables"}], "answers": [{"comments": [{"owner": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1517409239, "post_id": 48544629, "comment_id": 84084518, "body": "How do I assign the value to my private member variable salary? Can you show me an example?"}, {"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1517409265, "post_id": 48544629, "comment_id": 84084538, "body": "Check my answer @user8794865"}, {"owner": {"reputation": 697, "user_id": 1160404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431cd02524d6ee187fcd1b3d9658498c?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1160404/maddy"}, "reply_to_user": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "edited": false, "score": 1, "creation_date": 1517409357, "post_id": 48544629, "comment_id": 84084615, "body": "@user8794865 I would recommend you to go through C++ reference docs before posting your questions"}], "tags": [], "owner": {"reputation": 697, "user_id": 1160404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/431cd02524d6ee187fcd1b3d9658498c?s=128&d=identicon&r=PG", "display_name": "Maddy", "link": "https://stackoverflow.com/users/1160404/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1517409142, "creation_date": 1517409142, "answer_id": 48544629, "question_id": 48544550, "link": "https://stackoverflow.com/questions/48544550/how-to-return-a-value-in-one-method-to-another-method-of-the-same-class/48544629#48544629", "title": "How to return a value in one method to another method of the same class", "body": "<p>You are assigning value to a local variable within calcNetSalary function. Assign the value to your private member variable salary</p>\n\n<p>Another option is to call calcNetSalary within displayNetSalary function</p>\n"}, {"comments": [{"owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "reply_to_user": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1517409492, "post_id": 48544652, "comment_id": 84084727, "body": "Thanks, if it solved your problem make sure to accept as an answer"}, {"owner": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1517409590, "post_id": 48544652, "comment_id": 84084809, "body": "Yep, 3 more minutes ;)"}], "tags": [], "owner": {"reputation": 1706, "user_id": 9005255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67457c27150ca6906c2d06b7a43fc3e5?s=128&d=identicon&r=PG&f=1", "display_name": "Jake Freeman", "link": "https://stackoverflow.com/users/9005255/jake-freeman"}, "is_accepted": true, "score": 3, "last_activity_date": 1517409245, "creation_date": 1517409245, "answer_id": 48544652, "question_id": 48544550, "link": "https://stackoverflow.com/questions/48544550/how-to-return-a-value-in-one-method-to-another-method-of-the-same-class/48544652#48544652", "title": "How to return a value in one method to another method of the same class", "body": "<p>The answer is to use this which assigns the value to the instance variable not a temporary variable:</p>\n\n<pre><code>double Employee::calcNetSalary(double basicSalary,double othrs, double otrate){\n    salary=(basicSalary+othrs*otrate);   \n    return salary;\n}\n</code></pre>\n"}], "owner": {"reputation": 583, "user_id": 8794865, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/66a919755e9418236959974de144b8a0?s=128&d=identicon&r=PG&f=1", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/8794865/jananath-banuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 48544652, "answer_count": 2, "score": 0, "last_activity_date": 1517409245, "creation_date": 1517408891, "question_id": 48544550, "link": "https://stackoverflow.com/questions/48544550/how-to-return-a-value-in-one-method-to-another-method-of-the-same-class", "title": "How to return a value in one method to another method of the same class", "body": "<p>I have this two code samples <code>Employee.h</code> and <code>Employee.cpp</code></p>\n\n<p><code>Employee.h</code> is as follows:</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n#define SIZE 20\n\nclass Employee{\nprivate:\n    double othrs, otrate,salary;\nprotected:\n    int Empno;\n    char name[SIZE];\n    int telephone;\n    double basicSalary;\npublic:\n    Employee();\n    ~Employee();\n    double calcNetSalary(double basicSalary,double othrs, double otrate);\n    void displayNetSalary();\n};\n</code></pre>\n\n<p>And here's my <code>Employee.cpp</code></p>\n\n<pre><code>#include&lt;iostream&gt;\n#include \"Employee.h\"\nusing namespace std;\n\nEmployee::Employee(){\n\n}\nEmployee::~Employee(){\n\n}\ndouble Employee::calcNetSalary(double basicSalary,double othrs, double otrate){\n    double salary=(basicSalary+othrs*otrate);   \n    return salary;\n}\nvoid Employee::displayNetSalary(){\n    cout&lt;&lt;\"Net Salary : \"&lt;&lt;salary; //This line doesn't print the correct value but some other values (**6.01347e-154**)\n}\n</code></pre>\n\n<p>And here's my <code>Main.cpp</code></p>\n\n<pre><code>#include&lt;iostream&gt;\n#include \"Employee.h\"\nusing namespace std;\n\nint main(){\n    Employee *emp=new Employee();\n    emp-&gt;calcNetSalary(10,20,30);\n    emp-&gt;displayNetSalary();\nreturn 0;\n};\n</code></pre>\n\n<p>And is there a way I could use the returning value(salary) in <code>calcNetSalary(double basicSalary,double othrs, double otrate)</code> in <code>displayNetSalary()</code> method?</p>\n"}, {"tags": ["c++", "opencv", "mat"], "comments": [{"owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "edited": false, "score": 0, "creation_date": 1517409190, "post_id": 48544501, "comment_id": 84084474, "body": "Depends on the pixel type of <code>pImg</code>. What is the pixel type?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "edited": false, "score": 0, "creation_date": 1517409259, "post_id": 48544501, "comment_id": 84084533, "body": "I actually need to do two Mats, a <code>uchar</code> and an  int."}], "answers": [{"comments": [{"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517409830, "post_id": 48544730, "comment_id": 84085023, "body": "Am I right in thinking that this equates to: ( for CV_8UC1)  <code>data[x * step + y * channels]</code>"}], "tags": [], "owner": {"reputation": 1073, "user_id": 8855783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3db067b033a034c53710b8d29e2cf36?s=128&d=identicon&r=PG&f=1", "display_name": "wdudzik", "link": "https://stackoverflow.com/users/8855783/wdudzik"}, "is_accepted": false, "score": 4, "last_activity_date": 1517409590, "last_edit_date": 1517409590, "creation_date": 1517409478, "answer_id": 48544730, "question_id": 48544501, "link": "https://stackoverflow.com/questions/48544501/opencvmat-get-pixel-value-from-the-raw-data/48544730#48544730", "title": "opencv::Mat, get pixel value from the raw data?", "body": "<p>It is pretty easy but you need to remember one thing, this <code>image.elemSize()</code> indicates how many bytes there are per pixel (this function is taken from OpenCV mat). So this loop will look little bit different for different image formats. There is a example inside the loop</p>\n\n<pre><code>   for (auto i = 0; i &lt; image.rows * image.cols; i+=image.elemSize())\n   {\n      //for CV_8UC1  \n      //auto pixel = *(image.data + i)\n\n      //for RGB as CV_8UC3 \n      auto r = *(image.data + i)\n      auto g = *(image.data + i + 1)\n      auto b = *(image.data + i + 2)\n   }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517412126, "post_id": 48544909, "comment_id": 84086727, "body": "Thank you. I am still having problems. The following will crash:  <code>int* tri = new int[width * height];</code>  <code>for (int i = 0; i &lt; height; ++i) \t{ \t\tfor (int j = 0; j &lt; width; ++j) \t\t{ \t\t \t\t\ttri[i * step + j * channels] = 0;\t  \t\t} \t}</code>  what am i doing wrong?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517412702, "post_id": 48544909, "comment_id": 84087157, "body": "To be more specific, i am running this:  <code>int* tData = new int[trimap.cols * trimap.rows];</code>    <code>for (auto i = 0; i &lt; trimap.rows * trimap.cols; i += trimap.elemSize()) \t{ \t\t&#47;&#47;for CV_8UC1   \t\tauto pixel = *(trimap.data + i); \t\ttData[i] = pixel;\t  \t}</code>    Then accessing the data with:  <code>tData [i * step + j * channel</code> will crash"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517413611, "post_id": 48544909, "comment_id": 84087765, "body": "Ah, I needed to cvt to gray before i stored the step and channels. Runs fine. thanks again."}, {"owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "reply_to_user": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "edited": false, "score": 0, "creation_date": 1517466375, "post_id": 48544909, "comment_id": 84109001, "body": "@anti.. The <code>step</code> value for <code>uchar</code> is not applicable to <code>int</code>. If <code>tri</code> is just a simple array, its <code>step</code> will be equal to <code>width</code>. In other words, the step has to be divided by the size of data type before accessing an element."}], "tags": [], "owner": {"reputation": 15243, "user_id": 1231073, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/lSwuI.jpg?s=128&g=1", "display_name": "sgarizvi", "link": "https://stackoverflow.com/users/1231073/sgarizvi"}, "is_accepted": false, "score": 2, "last_activity_date": 1517410010, "creation_date": 1517410010, "answer_id": 48544909, "question_id": 48544501, "link": "https://stackoverflow.com/questions/48544501/opencvmat-get-pixel-value-from-the-raw-data/48544909#48544909", "title": "opencv::Mat, get pixel value from the raw data?", "body": "<p>The correct pixel value can be accessed from the raw data provided the following parameters are known:</p>\n\n<ul>\n<li>X coordinate of pixel ( column number )</li>\n<li>Y coordinate of pixel ( row number )</li>\n<li>Image depth (actual data type of a single pixel i.e. <code>uchar</code>, <code>ushort</code>, <code>float</code> etc)</li>\n<li>Number of channels of the image</li>\n<li>Image step in bytes</li>\n</ul>\n\n<p>Given the above information, the pixel can be accessed as follows (for <code>CV_8UC3</code> type):</p>\n\n<pre><code>uchar* data = (uchar *)pImg.data;\nfor (int i = 0; i &lt; image.rows; ++i)\n{\n    for (int j = 0; j &lt; image.cols; ++j)\n    {\n        uchar b = data[i * pImg.step + pImg.channels() * j + 0];\n        uchar g = data[i * pImg.step + pImg.channels() * j + 1];\n        uchar r = data[i * pImg.step + pImg.channels() * j + 2];\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4360, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1557222593, "creation_date": 1517408709, "last_edit_date": 1557222593, "question_id": 48544501, "link": "https://stackoverflow.com/questions/48544501/opencvmat-get-pixel-value-from-the-raw-data", "title": "opencv::Mat, get pixel value from the raw data?", "body": "<p>I have an image, as a <code>cv::Mat</code>. I am getting the raw data from this, with:</p>\n\n<pre><code>uchar* data = (uchar *)pImg.data;\n</code></pre>\n\n<p>I need to pass this data to a function, then cycle through each pixel of the image. I would have done:</p>\n\n<pre><code>for (int i = 0; i &lt; image.rows; ++i)\n    {\n        for (int j = 0; j &lt; image.cols; ++j)\n        {\n            //pixel = cv::Point(i,j);\n        }\n    }\n</code></pre>\n\n<p>What is the equivalent of this, using the <code>uchar*</code> data?</p>\n"}]