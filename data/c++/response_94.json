[{"tags": ["python", "c++", "linux", "pyqt", "raspberry-pi3"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1477526445, "post_id": 40273901, "comment_id": 67807558, "body": "QT Creator is for C++ code so it needs C++ compiler."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1477527281, "post_id": 40273901, "comment_id": 67807782, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/q/14700965/1889329\">Qt Creator needs a compiler set up to build. Configure a compiler in the kit options</a>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7077719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nzkQSbGwbc/AAAAAAAAAAI/AAAAAAAAABA/SLnreExGkpw/photo.jpg?sz=128", "display_name": "Mona Omari", "link": "https://stackoverflow.com/users/7077719/mona-omari"}, "edited": false, "score": 0, "creation_date": 1477543018, "post_id": 40276075, "comment_id": 67811355, "body": "Im using raspberry pi 3, and I downloaded python 2 and 3. I downloaded these: sudo apt-get install g++  sudo apt-get install libgl1-mesa-dev libglu1-mesa-dev? are those similar to gcc or clang? if not, how do I download them?"}, {"owner": {"reputation": 92, "user_id": 4868335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XldAm.png?s=128&g=1", "display_name": "telis80", "link": "https://stackoverflow.com/users/4868335/telis80"}, "reply_to_user": {"reputation": 11, "user_id": 7077719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nzkQSbGwbc/AAAAAAAAAAI/AAAAAAAAABA/SLnreExGkpw/photo.jpg?sz=128", "display_name": "Mona Omari", "link": "https://stackoverflow.com/users/7077719/mona-omari"}, "edited": false, "score": 0, "creation_date": 1477544841, "post_id": 40276075, "comment_id": 67811885, "body": "There&#39;s a metapackage called build-essential which should install the compiler and a bunch of related/needed packages:  [code]sudo apt-get install build-essential[/code]"}, {"owner": {"reputation": 92, "user_id": 4868335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XldAm.png?s=128&g=1", "display_name": "telis80", "link": "https://stackoverflow.com/users/4868335/telis80"}, "reply_to_user": {"reputation": 11, "user_id": 7077719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nzkQSbGwbc/AAAAAAAAAAI/AAAAAAAAABA/SLnreExGkpw/photo.jpg?sz=128", "display_name": "Mona Omari", "link": "https://stackoverflow.com/users/7077719/mona-omari"}, "edited": false, "score": 0, "creation_date": 1477545355, "post_id": 40276075, "comment_id": 67812058, "body": "Install these, try again, and comment if you have a problem!"}, {"owner": {"reputation": 11, "user_id": 7077719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nzkQSbGwbc/AAAAAAAAAAI/AAAAAAAAABA/SLnreExGkpw/photo.jpg?sz=128", "display_name": "Mona Omari", "link": "https://stackoverflow.com/users/7077719/mona-omari"}, "edited": false, "score": 0, "creation_date": 1477588829, "post_id": 40276075, "comment_id": 67839620, "body": "I still get an error saying in compile output:  error while building/deploying project GUI (kit:desktop) when exciting step &quot;Make&quot; and in the issues: QT creator needs a compiler set up to build. Configure a compiler in the kit options"}], "tags": [], "owner": {"reputation": 92, "user_id": 4868335, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XldAm.png?s=128&g=1", "display_name": "telis80", "link": "https://stackoverflow.com/users/4868335/telis80"}, "is_accepted": false, "score": 0, "last_activity_date": 1477542212, "creation_date": 1477542212, "answer_id": 40276075, "question_id": 40273901, "link": "https://stackoverflow.com/questions/40273901/qt-creator-on-raspberry-pi-gui/40276075#40276075", "title": "QT creator on raspberry pi GUI", "body": "<p>There is no difference between running QT on a raspberry pi and a normal computer. First of all, which OS are you running? QT just needs a compiler to use. Just install gcc or clang compiler and you will be fine. Next time just read the output carefully. Configure a compiler in the kit options means there is no compiler!</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 6512945, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3b704fb82e59df080a9248a68fec50ec?s=128&d=identicon&r=PG&f=1", "display_name": "randy sandy", "link": "https://stackoverflow.com/users/6512945/randy-sandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1480524309, "creation_date": 1480524309, "answer_id": 40893743, "question_id": 40273901, "link": "https://stackoverflow.com/questions/40273901/qt-creator-on-raspberry-pi-gui/40893743#40893743", "title": "QT creator on raspberry pi GUI", "body": "<p>I will assume you already have gcc 4.9 installed on your RPi.</p>\n\n<p>Tools --> Options\nBuild &amp; Run --> Compilers Tab\nThe compiler path should be /usr/bin/arm-linux-gnueabihf-gcc-4.9</p>\n"}], "owner": {"reputation": 11, "user_id": 7077719, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_nzkQSbGwbc/AAAAAAAAAAI/AAAAAAAAABA/SLnreExGkpw/photo.jpg?sz=128", "display_name": "Mona Omari", "link": "https://stackoverflow.com/users/7077719/mona-omari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 944, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1480524309, "creation_date": 1477525699, "question_id": 40273901, "link": "https://stackoverflow.com/questions/40273901/qt-creator-on-raspberry-pi-gui", "title": "QT creator on raspberry pi GUI", "body": "<p>IM trying to create a GUI on QT creator with a raspberry pi 3. Every time I put a widget and try to run it to check if its working, this message shows up \"QT Creator needs a compiler set up to build. Configure a compiler in the kit options. </p>\n\n<p>I'm not sure what to do about this!</p>\n"}, {"tags": ["c++", "c++11", "logging", "iostream"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1477525091, "post_id": 40273809, "comment_id": 67807240, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/511768/how-to-use-my-logging-class-like-a-std-c-stream\">How to use my logging class like a std C++ stream?</a>"}, {"owner": {"reputation": 55, "user_id": 2622601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec3c136d5f6f3e839e93ffa58d9a428?s=128&d=identicon&r=PG", "display_name": "psorek", "link": "https://stackoverflow.com/users/2622601/psorek"}, "edited": false, "score": 0, "creation_date": 1477525414, "post_id": 40273809, "comment_id": 67807323, "body": "Almost a duplicate, I want something different: I want to process whole input of one <code>convinient_log()</code> at once, not piece-by-piece.  If you say &quot;good luck&quot;, do you have any better (in terms of implementation and similar convinience of interface) solutions? I would really appreciate those too :)"}], "answers": [{"comments": [{"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1477526318, "post_id": 40273935, "comment_id": 67807525, "body": "And for the OP&#39;s case they can simply store a reference to their logger instance in the constructor, so it would look like <code>convenient_log(logger) &lt;&lt;&quot;Same text &quot;&lt;&lt;with_variables&lt;&lt;&quot; but passed directly&quot;;</code>"}, {"owner": {"reputation": 55, "user_id": 2622601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec3c136d5f6f3e839e93ffa58d9a428?s=128&d=identicon&r=PG", "display_name": "psorek", "link": "https://stackoverflow.com/users/2622601/psorek"}, "edited": false, "score": 0, "creation_date": 1477560640, "post_id": 40273935, "comment_id": 67820508, "body": "That&#39;s exactly what I need! One more question: what is scope of <code>log()</code> eg. when will it be destroyed?"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "reply_to_user": {"reputation": 55, "user_id": 2622601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec3c136d5f6f3e839e93ffa58d9a428?s=128&d=identicon&r=PG", "display_name": "psorek", "link": "https://stackoverflow.com/users/2622601/psorek"}, "edited": false, "score": 0, "creation_date": 1477582193, "post_id": 40273935, "comment_id": 67835427, "body": "@psorek Temporaries live until the end of the expression that created them, i.e. the semicolon.  See <a href=\"http://en.cppreference.com/w/cpp/language/lifetime#Temporary_object_lifetime\" rel=\"nofollow noreferrer\">Temporary object lifetime</a>."}], "tags": [], "owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "is_accepted": true, "score": 5, "last_activity_date": 1477526344, "last_edit_date": 1477526344, "creation_date": 1477525948, "answer_id": 40273935, "question_id": 40273809, "link": "https://stackoverflow.com/questions/40273809/how-to-write-iostream-like-interface-to-logging-library/40273935#40273935", "title": "How to write iostream-like interface to logging library?", "body": "<p>This is how <a href=\"http://www.boost.org/doc/libs/release/libs/log/doc/html/index.html\" rel=\"nofollow\">Boost.Log</a> works, for example.  The basic idea is simple:</p>\n\n<pre><code>struct log\n{\n    log() {\n        uncaught = std::uncaught_exceptions();\n    }\n\n    ~log() {\n        if (uncaught &gt;= std::uncaught_exceptions()) {\n            std::cout &lt;&lt; \"prefix: \" &lt;&lt; stream.str() &lt;&lt; \" suffix\\n\";\n        }\n    }\n\n    std::stringstream stream;\n    int uncaught;\n};\n\ntemplate &lt;typename T&gt;\nlog&amp; operator&lt;&lt;(log&amp; record, T&amp;&amp; t) {\n    record.stream &lt;&lt; std::forward&lt;T&gt;(t);\n    return record;\n}\n\ntemplate &lt;typename T&gt;\nlog&amp; operator&lt;&lt;(log&amp;&amp; record, T&amp;&amp; t) {\n    return record &lt;&lt; std::forward&lt;T&gt;(t);\n}\n\n// Usage:\nlog() &lt;&lt; \"Hello world! \" &lt;&lt; 42;\n</code></pre>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/error/uncaught_exception\" rel=\"nofollow\"><code>std::uncaught_exceptions()</code></a> is used to avoid logging an incomplete message if an exception is thrown in the middle.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1477528108, "last_edit_date": 1477528108, "creation_date": 1477527751, "answer_id": 40274175, "question_id": 40273809, "link": "https://stackoverflow.com/questions/40273809/how-to-write-iostream-like-interface-to-logging-library/40274175#40274175", "title": "How to write iostream-like interface to logging library?", "body": "<p>Create a custom class derived from <code>std::basic_streambuf</code> to write to your logger, eg:</p>\n\n<pre><code>class LoggerBuf : public std::stringbuf\n{\nprivate:\n    Logger logger;\npublic:\n    LoggerBuf(params) : std::stringbuf(), logger(params) {\n        ...\n    }\n\n    virtual int sync() {\n        int ret = std::stringbuf::sync();\n        logger.log(str());\n        return ret;\n    }\n};\n</code></pre>\n\n<p>And then you can instantiate a <code>std::basic_ostream</code> object giving it a pointer to a <code>LoggerBuf</code> object, eg:</p>\n\n<pre><code>LoggerBuf buff(params);\nstd::ostream stream(&amp;buf);\nstream &lt;&lt; \"Some text \" &lt;&lt; and_variables &lt;&lt; \" formated using standard string stream\";\nstream &lt;&lt; std::flush; // only if you need to log before the destructor is called\n</code></pre>\n\n<p>Alternatively, derive a custom class from <code>std::basic_ostream</code> to wrap your <code>LoggerBuf</code> class, eg:</p>\n\n<pre><code>class logger_ostream : public std::ostream\n{\nprivate:\n    LoggerBuf buff;\npublic:\n    logger_ostream(params) : std:ostream(), buff(params)\n    {\n        init(&amp;buff);\n    }\n};\n\nstd::logger_ostream logger(params);\nlogger &lt;&lt; \"Some text \" &lt;&lt; and_variables &lt;&lt; \" formated using standard string stream\";\nlogger &lt;&lt; std::flush; // only if you need to log before the destructor is called\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 697, "user_id": 4443865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I7KyS.jpg?s=128&g=1", "display_name": "Monza", "link": "https://stackoverflow.com/users/4443865/monza"}, "edited": false, "score": 0, "creation_date": 1618194196, "post_id": 40424272, "comment_id": 118519823, "body": "FWIW, flush will be triggered when a std::endl is encountered.  Simple and exactly what I needed."}], "tags": [], "owner": {"reputation": 2998, "user_id": 1723954, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/qM3Yc.jpg?s=128&g=1", "display_name": "Stewart", "link": "https://stackoverflow.com/users/1723954/stewart"}, "is_accepted": false, "score": 5, "last_activity_date": 1478267100, "creation_date": 1478267100, "answer_id": 40424272, "question_id": 40273809, "link": "https://stackoverflow.com/questions/40273809/how-to-write-iostream-like-interface-to-logging-library/40424272#40424272", "title": "How to write iostream-like interface to logging library?", "body": "<p>Here's a class I've togeather a while ago.  It sounds like what you're looking for is this.  I was able to achieve it without any daunting inheriting of ostreams, stream_buf or anything else.  You can write to files, console, sockets, or whatever you want whenever a flush is caught.</p>\n\n<p>It doesn't work with ostream_iterators but handles all of the io_manip functions well. </p>\n\n<p>Usage: </p>\n\n<pre><code>Logger log;\n\nint age = 32;\nlog &lt;&lt; \"Hello, I am \" &lt;&lt; age &lt;&lt; \" years old\" &lt;&lt; std::endl;\nlog &lt;&lt; \"That's \" &lt;&lt; std::setbase(16) &lt;&lt; age &lt;&lt; \" years in hex\" &lt;&lt; std::endl;\nlog(Logger::ERROR) &lt;&lt; \"Now I'm logging an error\" &lt;&lt; std::endl;\nlog &lt;&lt; \"However, after a flush/endl, the error will revert to INFO\" &lt;&lt; std::end;\n</code></pre>\n\n<p>Implementation</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;string&gt;\n\nclass Logger\n{\npublic:\n    typedef std::ostream&amp;  (*ManipFn)(std::ostream&amp;);\n    typedef std::ios_base&amp; (*FlagsFn)(std::ios_base&amp;);\n\n    enum LogLevel\n    {\n        INFO,\n        WARN,\n        ERROR\n    };\n\n    Logger() : m_logLevel(INFO) {}\n\n    template&lt;class T&gt;  // int, double, strings, etc\n    Logger&amp; operator&lt;&lt;(const T&amp; output)\n    {\n        m_stream &lt;&lt; output;\n        return *this;\n    }\n\n    Logger&amp; operator&lt;&lt;(ManipFn manip) /// endl, flush, setw, setfill, etc.\n    { \n        manip(m_stream);\n\n        if (manip == static_cast&lt;ManipFn&gt;(std::flush)\n         || manip == static_cast&lt;ManipFn&gt;(std::endl ) )\n            this-&gt;flush();\n\n        return *this;\n    }\n\n    Logger&amp; operator&lt;&lt;(FlagsFn manip) /// setiosflags, resetiosflags\n    {\n        manip(m_stream);\n        return *this;\n    }\n\n    Logger&amp; operator()(LogLevel e)\n    {\n        m_logLevel = e;\n        return *this;\n    }\n\n    void flush() \n    {\n    /*\n      m_stream.str() has your full message here.\n      Good place to prepend time, log-level.\n      Send to console, file, socket, or whatever you like here.\n    */      \n\n        m_logLevel = INFO;\n\n        m_stream.str( std::string() );\n        m_stream.clear();\n    }\n\nprivate:\n    std::stringstream  m_stream;\n    int                m_logLevel;\n};\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 2622601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ec3c136d5f6f3e839e93ffa58d9a428?s=128&d=identicon&r=PG", "display_name": "psorek", "link": "https://stackoverflow.com/users/2622601/psorek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2918, "favorite_count": 2, "accepted_answer_id": 40273935, "answer_count": 3, "score": 2, "last_activity_date": 1478267100, "creation_date": 1477525001, "last_edit_date": 1477525311, "question_id": 40273809, "link": "https://stackoverflow.com/questions/40273809/how-to-write-iostream-like-interface-to-logging-library", "title": "How to write iostream-like interface to logging library?", "body": "<p>I would like to write a convinient interface to my very simple logging library. Take two following pieces of code. The first one is what I do now, the second one is my idea for an intuitive interface:</p>\n\n<pre><code>std::ostringstream stream;\nstream&lt;&lt;\"Some text \"&lt;&lt;and_variables&lt;&lt;\" formated using standard string stream\"\nlogger.log(stream.str()); //then passed to the logger\n</code></pre>\n\n<p>And</p>\n\n<pre><code>logger.convinient_log()&lt;&lt;\"Same text \"&lt;&lt;with_variables&lt;&lt;\" but passed directly\";\n</code></pre>\n\n<p>My thought-design process behind that idea is to return some kind of temporary stringstream-like object from <code>logger.convinient_log()</code> function. That object on destruction (I hope it happens at the end of the line or in a similar, convinient place) would collect string from itself and call an actual <code>logger.log()</code>. The point is I want to process it whole, not term-by-term, so that log() can add eg. prefix and sufix to whole line of text.</p>\n\n<p>I'm very well avare that it might be straight impossible or impossible without some heavy magic. If that's the case, what would be an almost-as-convinient way to do that and how to implement it? I bet on passing some special variable that would force collect-call-<code>logger.log()</code> operation.</p>\n\n<p>If you don't know an exact answer, resources on the topic (eg. extending stringstream) would be also welcome.</p>\n"}, {"tags": ["c++", "linux", "sockets", "firewall", "portforwarding"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477525203, "post_id": 40273773, "comment_id": 67807269, "body": "I changed it to use AF_INET and tested; it still worked on localhost but still didn&#39;t work from external network."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1477525207, "post_id": 40273773, "comment_id": 67807270, "body": "To expand on this, you can also end up with errors if <code>IPV6_V6ONLY</code> defaults to true on your system."}, {"owner": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477525417, "post_id": 40273773, "comment_id": 67807324, "body": "How can I check if IPV6_V6ONLY is true or false? I think the process is running on IPv4 from running netstat -tulpn and getting tcp        0      0 0.0.0.0:6555            0.0.0.0:*               LISTEN      10292/netsrv"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477525737, "post_id": 40273773, "comment_id": 67807382, "body": "@RobNo: If you still cannot connect over the network, then either the client is connecting to the wrong IP/Port, there is no network route between the client and your server (make sure the network router&#39;s port forwarding is configured correctly), or a firewall is blocking the connection."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477526382, "post_id": 40273773, "comment_id": 67807538, "body": "@RobNo: the <a href=\"http://man7.org/linux/man-pages/man7/ipv6.7.html\" rel=\"nofollow noreferrer\">man page</a> for <code>IPV6_V6ONLY</code> says &quot;<i>The default value for [IPV6_V6ONLY] is defined by the contents of the file <code>&#47;proc&#47;sys&#47;net&#47;ipv6&#47;bindv6only</code>. The default value for that file is 0 (false).</i>&quot; However, you should not rely on that, just set the value explicitly via <code>setsockopt()</code> based on your own needs when you create an <code>AF_INET6</code> socket. When <code>IPv6_V6ONLY</code> is disabled, an <code>AF_INET6</code> socket can support both IPv4 and IPv6 peers if the OS supports dual-stack sockets, which simplifies coding, but not all platforms support that."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477526451, "post_id": 40273773, "comment_id": 67807561, "body": "@RobNo: if <code>IPV6_V6ONLY</code> is enabled, you run into an error if an IPv4 client tries to connect to an IPv6 server, same as if <code>IPV6_V6ONLY</code> is not supported at all."}, {"owner": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "edited": false, "score": 0, "creation_date": 1477527225, "post_id": 40273773, "comment_id": 67807766, "body": "What firewall could be blocking the connection? The only one I can think of is the iptables on my server, and I turned that off."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477528516, "post_id": 40273773, "comment_id": 67808066, "body": "Since you are dealing with someone else as the network admin, maybe he has another firewall setup on the network that you don&#39;t know about.  Or maybe the client is behind its own firewall.  You haven&#39;t provided any information about your network setup or test environment, so we can&#39;t possibly tell you why your client is not reaching your server. Talk to the network admin and have him debug the connection while you run your tests."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1477525816, "last_edit_date": 1477525816, "creation_date": 1477524786, "answer_id": 40273773, "question_id": 40273719, "link": "https://stackoverflow.com/questions/40273719/cant-connect-to-c-linux-sockets-program-from-outside-local-network/40273773#40273773", "title": "Can&#39;t connect to c++ linux sockets program from outside local network", "body": "<p><code>getSrvSocket()</code> is specifying <code>AF_UNSPEC</code> when calling <code>getaddrinfo()</code>, which means it can output both IPv4 and IPv6 addresses.  But you are only binding to one address and then stopping.  So it is <em>possible</em> that you are actually binding to an IPv6 address, and then your client is trying to connect to it using IPv4 instead (or vice versa), which will obviously not work.</p>\n\n<p>If you want to support both IPv4 and IPv6, you should bind a separate listening socket to each address that <code>getaddrinfo()</code> returns.  You should also log the addresses that you successfully bind to, so you know what clients can connect to (and what you need to tell the network admin to forward to).</p>\n\n<p>Otherwise, don't use <code>AF_UNSPEC</code> with <code>getaddrinfo()</code>.  Use <code>AF_INET</code> (IPv4) or <code>AF_INET6</code> (IPv6) instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 7055603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0557b9343c840cbdcd657f5ee24ef5f9?s=128&d=identicon&r=PG&f=1", "display_name": "RobNo", "link": "https://stackoverflow.com/users/7055603/robno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1477525816, "creation_date": 1477524384, "question_id": 40273719, "link": "https://stackoverflow.com/questions/40273719/cant-connect-to-c-linux-sockets-program-from-outside-local-network", "title": "Can&#39;t connect to c++ linux sockets program from outside local network", "body": "<p>I have a ubuntu linux server which is running a c++ socket program which should listen on port 6555 for incoming connections and send \"Welcome to the server!\" to them. It works when I telnet from localhost, but when I telnet from outside the network it doesn't work.</p>\n\n<p>The local network administrator has told me he has forwarded the port 6555 to the server's local IP, as he did previously for 80.</p>\n\n<p>I also have a web server running on the 80 port, and I can telnet into that from anywhere, so I don't know what the problem is.</p>\n\n<p>I tried disabling the iptables (ufw) firewall on my server temporarily and trying to connect, but there was no difference.</p>\n\n<p>Open Port Checker says the port is closed. Does this mean the forwarding has not worked?\nHere is the code, compiled in g++:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/socket.h&gt;\n#include &lt;netdb.h&gt;\n#include &lt;cstring&gt;\n#include &lt;netinet/in.h&gt;\n#include &lt;unistd.h&gt;\n\n#include \"../include/netutils.hh\"\n\nint main() {\n    sockaddr_storage clt_addr;\n    socklen_t sin_size;\n    int cltSock = -1;\n    const std::string port = \"6555\";\n    int servSock = -1;\n    try {\n        servSock = getSrvSocket(port, 10);\n        while (true) {\n            sin_size = sizeof clt_addr;\n            cltSock = accept(servSock, (sockaddr*)&amp;clt_addr, &amp;sin_size);\n            if (cltSock == -1) continue;\n            if (!fork()) {\n                close(servSock);\n                send(cltSock, \"Welcome to the server!\\n\", 23, 0);\n                while(true);\n            }\n            close(cltSock);\n        }\n\n    }\n    catch(std::string excpt)\n    {\n        std::cerr &lt;&lt; excpt &lt;&lt; '\\n';\n        return -1;\n    }\n    return 0;\n\n}\n</code></pre>\n\n<p>with getSrvSocket() in netutils.cc:</p>\n\n<pre><code>int getSrvSocket(std::string port, int BACKLOG) {\n    int yes = 1;\n    addrinfo *p;\n    addrinfo hints;\n    addrinfo *servinfo;\n    memset(&amp;hints, 0, sizeof hints);\n    hints.ai_family = AF_UNSPEC;     //Can use either IPv4 or IPv6\n    hints.ai_socktype = SOCK_STREAM;\n    hints.ai_flags = AI_PASSIVE;     //Automatically set IP address\n    int sock = -1;\n    if (getaddrinfo(NULL, port.c_str(), &amp;hints, &amp;servinfo) !=0) {\n        throw std::string(\"Error: Could not resolve address info\");\n    }\n\n    for (p = servinfo; p != NULL; p = p-&gt;ai_next) {\n        sock = socket(p-&gt;ai_family, p-&gt;ai_socktype, p-&gt;ai_protocol);\n        if (sock == -1) continue;\n        if (setsockopt(sock, SOL_SOCKET, SO_REUSEADDR, &amp;yes,\n                    sizeof(int)) == -1) {\n            throw std::string(\"Error: setsockopt() failure\");\n        }\n        if (bind(sock, p-&gt;ai_addr, p-&gt;ai_addrlen) == -1) {\n            close(sock);\n            continue;\n        }\n        break;\n    }\n    freeaddrinfo(servinfo);\n    if (NULL == p) throw std::string(\"Error: Server failed to bind\");\n    if (listen(sock, BACKLOG) == -1) {\n        throw std::string(\"Error: Failed to to start listen()\");\n    }\n    struct sigaction sa;\n    sa.sa_handler = sigchld_handler;\n    sigemptyset(&amp;sa.sa_mask);\n    sa.sa_flags = SA_RESTART;\n\n    if (sigaction(SIGCHLD, &amp;sa, NULL) == -1) {\n        throw std::string(\"Error: sigaction() failed\");\n    }\n    return sock;\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "int", "try-catch"], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477524982, "post_id": 40273741, "comment_id": 67807216, "body": "The usual warning that input of 3.14 will result in a valid <code>int</code>, 3, and a .4 waiting in the stream to wreak havoc on the next read."}, {"owner": {"reputation": 45, "user_id": 7002736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126ef49c02a7a2c448a06fc547bd955?s=128&d=identicon&r=PG&f=1", "display_name": "DavidJ85", "link": "https://stackoverflow.com/users/7002736/davidj85"}, "edited": false, "score": 0, "creation_date": 1477593609, "post_id": 40273741, "comment_id": 67842249, "body": "Thanks, this worked for me. The only thing that didn&#39;t work was that when I put that in a while loop or if statement, it didn&#39;t just execute it once but for the entirety of the code where I have string inputs. Is there some way to end that check?"}, {"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 0, "creation_date": 1477620729, "post_id": 40273741, "comment_id": 67852096, "body": "You could use a <code>for</code> loop to end the check.. By simply replacing <code>while(!(std::cin &gt;&gt; num))</code> with <code>for(int i = 0; i &lt; 5 &amp;&amp; !(std::cin &gt;&gt; num)); i++)</code>. That will do at most 5 retries."}], "tags": [], "owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "is_accepted": true, "score": 1, "last_activity_date": 1477525757, "last_edit_date": 1495535655, "creation_date": 1477524550, "answer_id": 40273741, "question_id": 40273698, "link": "https://stackoverflow.com/questions/40273698/how-to-create-a-catch-for-data-type/40273741#40273741", "title": "How to create a catch for data type", "body": "<p>The C++ IOstream library does that for you. by default, <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream\" rel=\"nofollow noreferrer\"><code>std::istream</code></a> objects will fail if <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt\" rel=\"nofollow noreferrer\">formatted extraction</a> operations fail.</p>\n\n<p>So when you have something like this.</p>\n\n<pre><code>int num;\n\nif(!(std::cin &gt;&gt; num)){\n    //operation failed\n}\n</code></pre>\n\n<p>If the user enters characters other than numbers. <code>std::cin</code> will fail. Hence all you need to do is to check the status of the <code>stream</code> object to know if a formatted input succeeded</p>\n\n<blockquote>\n  <p>is there a way to recognize if the data entered does not match the\n  data type of the declared variable and ask to re-input it?</p>\n</blockquote>\n\n<p>You could do something like this:</p>\n\n<pre><code>#include &lt;limits&gt; //for std::numeric_limits\n#include &lt;ios&gt;    //for std::streamsize\n......\n\nint num;\nwhile(!(std::cin &gt;&gt; num)){\n    std::cerr &lt;&lt; \"Please enter a valid number!\\n\";\n    std::cin.clear();\n    std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\n}\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>As <em>user4581301</em> pointed out in the <a href=\"https://stackoverflow.com/questions/40273698/how-to-create-a-catch-for-data-type/40273741#comment67807216_40273741\">comment</a>, there are a few corner cases to watch out for.</p>\n\n<p>A slight improvement hack for <code>ints/floats</code> hullabalo may be:</p>\n\n<pre><code>while(!(std::cin &gt;&gt; num) || std::cin.get() == static_cast&lt;int&gt;('.') ){\n    std::cerr &lt;&lt; \"Please enter a valid number!\\n\";\n    std::cin.clear();\n    std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n');\n}\n</code></pre>\n\n<p>Note, that this hack only applies to <code>ints</code></p>\n"}, {"comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1477736016, "post_id": 40273748, "comment_id": 67892249, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/14109543\">From Review</a>"}, {"owner": {"reputation": 4778, "user_id": 4688119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ajaGK.png?s=128&g=1", "display_name": "Ashish Ahuja", "link": "https://stackoverflow.com/users/4688119/ashish-ahuja"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1477902130, "post_id": 40273748, "comment_id": 67931585, "body": "@Jean-Fran&#231;oisFabre This <b>is an answer.</b> Without the link, the body remains as &quot;Well, you can store the input of the user on a string; then use stoi or a similar function to convert it back to int (or other type). That function can thow an exception if the conversion is invalid.&quot; which is an answer. Also <a href=\"http://meta.stackoverflow.com/questions/287563/youre-doing-it-wrong-a-plea-for-sanity-in-the-low-quality-posts-queue\">read this post.</a>"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1477902950, "post_id": 40273748, "comment_id": 67931883, "body": "I never failed a review audit and I always review posts carefully. However, this answer is prone to be downvoted and it is low quality. Ok, maybe the reason is incorrect but it is still a bad answer."}], "tags": [], "owner": {"reputation": 4112, "user_id": 6303785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rugie.png?s=128&g=1", "display_name": "Daniel Illescas", "link": "https://stackoverflow.com/users/6303785/daniel-illescas"}, "is_accepted": false, "score": 0, "last_activity_date": 1477524605, "creation_date": 1477524605, "answer_id": 40273748, "question_id": 40273698, "link": "https://stackoverflow.com/questions/40273698/how-to-create-a-catch-for-data-type/40273748#40273748", "title": "How to create a catch for data type", "body": "<p>Well, you can store the input of the user on a string; then use <code>stoi</code> or a similar function to convert it back to int (or other type). That function can thow an exception if the conversion is invalid.</p>\n\n<p>I did something similar here: <a href=\"https://gist.github.com/illescasDaniel/40ad9811af35855132d7588d08bf672a\" rel=\"nofollow\">https://gist.github.com/illescasDaniel/40ad9811af35855132d7588d08bf672a</a></p>\n"}], "owner": {"reputation": 45, "user_id": 7002736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126ef49c02a7a2c448a06fc547bd955?s=128&d=identicon&r=PG&f=1", "display_name": "DavidJ85", "link": "https://stackoverflow.com/users/7002736/davidj85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 40273741, "answer_count": 2, "score": 0, "last_activity_date": 1477525757, "creation_date": 1477524229, "question_id": 40273698, "link": "https://stackoverflow.com/questions/40273698/how-to-create-a-catch-for-data-type", "title": "How to create a catch for data type", "body": "<p>I have been making some simple programs such as number guessing games, betting games, etc. One thing I am trying to do in these programs is to create a catch for inputting the wrong data type. So if I had the variable <code>int num;</code> and the user inputted a string, is there a way to recognize if the data entered does not match the data type of the declared variable and ask to re-input it?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "curses", "pdcurses"], "comments": [{"owner": {"reputation": 7873, "user_id": 2225104, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/195de66794c596e35bc145c80e9f5515?s=128&d=identicon&r=PG", "display_name": "BitTickler", "link": "https://stackoverflow.com/users/2225104/bittickler"}, "edited": false, "score": 0, "creation_date": 1477642949, "post_id": 40273563, "comment_id": 67859388, "body": "If you are on Win64, why not use the standard console functions instead of some unix-port thing?"}], "answers": [{"comments": [{"owner": {"reputation": 773, "user_id": 5627734, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ecb940b4218ff250f966e1d25e8aa7bf?s=128&d=identicon&r=PG&f=1", "display_name": "SergeantPenguin", "link": "https://stackoverflow.com/users/5627734/sergeantpenguin"}, "edited": false, "score": 0, "creation_date": 1477560687, "post_id": 40280126, "comment_id": 67820536, "body": "Sorry I wasn&#39;t clear enough. The question is about PDcurses on 64-bit Windows. I&#39;ll edit my OP."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 3, "last_activity_date": 1477642718, "last_edit_date": 1495541411, "creation_date": 1477558044, "answer_id": 40280126, "question_id": 40273563, "link": "https://stackoverflow.com/questions/40273563/pdcurses-resize-term-seems-to-work-randomly/40280126#40280126", "title": "Pdcurses&#39; resize_term seems to work randomly", "body": "<p><code>resize_term</code> is an ncurses function.</p>\n\n<p>The <a href=\"http://invisible-island.net/ncurses/man/resizeterm.3x.html#h3-resize_term\" rel=\"nofollow noreferrer\"><code>resize_term</code></a> function does not change your <em>terminal's</em> size; it changes the size which <em>ncurses assumes</em>.</p>\n\n<p>Since nothing is displayed by curses, and (see <a href=\"http://invisible-island.net/ncurses/man/resizeterm.3x.html#h2-NOTES\" rel=\"nofollow noreferrer\">notes in the manual page</a>), your example does no <a href=\"http://invisible-island.net/ncurses/man/curs_getch.3x.html#h3-Reading-characters\" rel=\"nofollow noreferrer\"><code>getch</code></a>, there's nothing to show by curses as a change.</p>\n\n<p>Interestingly, PDCurses implemented a function with the same name (inspired by ncurses: there are several of these) which is described differently.  Quoting from the comments in <code>pdcurses/initscr.c</code>:</p>\n\n<pre><code>    resize_term() is effectively two functions: When called with  \n    nonzero values for nlines and ncols, it attempts to resize the  \n    screen to the given size. When called with (0, 0), it merely  \n    adjusts the internal structures to match the current size after  \n    the screen is resized by the user. On the currently supported  \n    platforms, this functionality is mutually exclusive: X11 allows  \n    user resizing, while DOS, OS/2 and Win32 allow programmatic  \n    resizing. If you want to support user resizing, you should check  \n    for getch() returning KEY_RESIZE, and/or call is_termresized()  \n    at appropriate times; if either condition occurs, call  \n    resize_term(0, 0). Then, with either user or programmatic  \n    resizing, you'll have to resize any windows you've created, as  \n    appropriate; resize_term() only handles stdscr and curscr. \n</code></pre>\n\n<p>and the function begins with this:</p>\n\n<pre><code>int resize_term(int nlines, int ncols)\n{   \n    PDC_LOG((\"resize_term() - called: nlines %d\\n\", nlines));\n\n    if (!stdscr || PDC_resize_screen(nlines, ncols) == ERR)\n        return ERR;\n\n    SP-&gt;lines = PDC_get_rows();\n    LINES = SP-&gt;lines - SP-&gt;linesrippedoff - SP-&gt;slklines;\n    SP-&gt;cols = COLS = PDC_get_columns();\n</code></pre>\n\n<p>which in turn calls this for Windows console:</p>\n\n<pre><code>int PDC_resize_screen(int nlines, int ncols)\n{\n    SMALL_RECT rect;\n    COORD size, max;\n\n    if (nlines &lt; 2 || ncols &lt; 2)\n        return ERR;\n\n    max = GetLargestConsoleWindowSize(pdc_con_out);\n\n    rect.Left = rect.Top = 0;\n    rect.Right = ncols - 1;\n\n    if (rect.Right &gt; max.X)\n        rect.Right = max.X;\n\n    rect.Bottom = nlines - 1;\n\n    if (rect.Bottom &gt; max.Y)\n        rect.Bottom = max.Y;\n\n    size.X = rect.Right + 1;\n    size.Y = rect.Bottom + 1;\n\n    _fit_console_window(pdc_con_out, &amp;rect);\n    SetConsoleScreenBufferSize(pdc_con_out, size);\n    _fit_console_window(pdc_con_out, &amp;rect);\n    SetConsoleScreenBufferSize(pdc_con_out, size);\n    SetConsoleActiveScreenBuffer(pdc_con_out);\n\n    return OK;\n}\n</code></pre>\n\n<p>so that you can see the result is an incompatible function.  (There is a port to SDL which is similar).  There are a few questions related to PDCurses behavior:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/14364041/pdcurses-resize-term-arbitrarily-fails-or-succeeds\">PDCurses resize_term arbitrarily fails or succeeds</a></li>\n<li><a href=\"https://stackoverflow.com/questions/18818600/method-to-tell-pdcurses-to-make-the-window-the-same-size-as-the-physical-screen\">Method to tell PDCurses to make the window the same size as the physical screen programatically?</a></li>\n</ul>\n\n<p>However, PDCurses usually installs its header file as <strong><code>&lt;xcurses.h&gt;</code></strong> to denote its differences from curses (or ncurses).  I assumed that the question was about ncurses, and the problem is confusion about what the library function does:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/4738803/resize-terminal-and-scrolling-problem-with-ncurses\">Resize terminal and scrolling problem with ncurses</a></li>\n</ul>\n\n<p>Back to PDCurses, it is odd that it makes the same two calls <em>twice</em>.  The PDCurses function makes possibly several tries, reducing the given values until they fit - or not:</p>\n\n<pre><code> /* Calls SetConsoleWindowInfo with the given parameters, but fits them  \n    if a scoll bar shrinks the maximum possible value. The rectangle  \n    must at least fit in a half-sized window. */\n\nstatic BOOL _fit_console_window(HANDLE con_out, CONST SMALL_RECT *rect)\n{   \n    SMALL_RECT run;\n    SHORT mx, my;\n\n    if (SetConsoleWindowInfo(con_out, TRUE, rect))\n        return TRUE;\n\n    run = *rect;\n    run.Right /= 2;\n    run.Bottom /= 2;\n\n    mx = run.Right;\n    my = run.Bottom;\n\n    if (!SetConsoleWindowInfo(con_out, TRUE, &amp;run))\n        return FALSE;\n\n    for (run.Right = rect-&gt;Right; run.Right &gt;= mx; run.Right--)\n        if (SetConsoleWindowInfo(con_out, TRUE, &amp;run))\n            break;\n\n    if (run.Right &lt; mx)\n        return FALSE;\n\n    for (run.Bottom = rect-&gt;Bottom; run.Bottom &gt;= my; run.Bottom--)\n        if (SetConsoleWindowInfo(con_out, TRUE, &amp;run))\n            return TRUE;\n\n    return FALSE;\n}\n</code></pre>\n\n<p>The code looks ... odd, besides doing the same thing twice.  Referring to the MSDN description of <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686125%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">SetConsoleWindowInfo</a>, the rectangle parameter is an <em>in</em> parameter (not modified).  Following the parameters through, it's taking the requested size, and trying in succession to</p>\n\n<ol>\n<li>set the requested size, or</li>\n<li>set the requested lines while reducing columns down to half the initial size, or</li>\n<li>set the requested columns while reducing lines down to half the initial size.</li>\n</ol>\n\n<p>Perhaps the reason it does this twice is because there is some indeterminate behavior in the console API.  The comments in the code offer no help.</p>\n"}], "owner": {"reputation": 773, "user_id": 5627734, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/ecb940b4218ff250f966e1d25e8aa7bf?s=128&d=identicon&r=PG&f=1", "display_name": "SergeantPenguin", "link": "https://stackoverflow.com/users/5627734/sergeantpenguin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477642718, "creation_date": 1477523415, "last_edit_date": 1477560917, "question_id": 40273563, "link": "https://stackoverflow.com/questions/40273563/pdcurses-resize-term-seems-to-work-randomly", "title": "Pdcurses&#39; resize_term seems to work randomly", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;curses.h&gt;\n#include \"SourceFiles/generalFunc.h\"\n\nint main()\n{\n\n    initscr();\n    int x = resize_term(51, 79);\n    sleepMilli(5000); //sleep for 5 seconds\n    endwin();\n    std::cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; int(ERR) &lt;&lt; \" \" &lt;&lt; int(OK);\n\n}\n</code></pre>\n\n<p>The screen, on my computer, is not resized in this case, despite the fact that <code>x</code> returns back <code>0</code> (<a href=\"https://linux.die.net/man/3/resizeterm\" rel=\"nofollow\">indicating the resizing was successful</a>). It remains the same size as the original terminal window. However, if I either increase 79 to 80, or decrease 51 to 50, then the screen resizes on my screen like normal. My screen is big enough to accomodate these sizes by a mile - even still, changing from 80 to 79 is a DECREASE in window size yet for some reason it does not work. It seems like it doesn't like going below a certain aspect ratio.</p>\n\n<p>Is there any more information as to why there seems to be a limit on the resizing I can do even if these numbers are nowhere near the limit my screen can hold? This is pdcurses on 64 bit Windows.</p>\n"}, {"tags": ["c++", "visual-studio-2015"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1477522064, "post_id": 40273192, "comment_id": 67806415, "body": "<a href=\"https://msdn.microsoft.com/library/zebw5zk9.aspx\" rel=\"nofollow noreferrer\">Deploying Native Desktop Applications (Visual C++)</a>."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1477522152, "post_id": 40273299, "comment_id": 67806437, "body": "Unless the application links against the <a href=\"https://msdn.microsoft.com/en-us/library/abx4dbyh.aspx\" rel=\"nofollow noreferrer\">Universal CRT</a>, which is a Windows component."}, {"owner": {"reputation": 1, "user_id": 6788481, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ueFIJb3S_gs/AAAAAAAAAAI/AAAAAAAAAFI/kHz6jIpTwbc/photo.jpg?sz=128", "display_name": "Max Co", "link": "https://stackoverflow.com/users/6788481/max-co"}, "edited": false, "score": 0, "creation_date": 1477583176, "post_id": 40273299, "comment_id": 67836162, "body": "ill look into this now and see if it helps me figure out how to setup the installer. thanks"}], "tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1477521862, "last_edit_date": 1592644375, "creation_date": 1477521862, "answer_id": 40273299, "question_id": 40273192, "link": "https://stackoverflow.com/questions/40273192/visual-studio-2015-c-console-application-converted-in-setup-project-with-all/40273299#40273299", "title": "visual studio 2015. c++ console application converted in setup project with all dll", "body": "<p>If the application uses dynamic runtime (which is the default), it uses the VS DLL files. To provide them, the <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow noreferrer\">Visual Studio Runtime Redistributable</a> for that particular VS version needs to be installed on the target machine (as mentioned in your second link).</p>\n<p>So that means you need to setup the installer that way. I didn't use it, but there might be some options that the resulting setup can either contain or download and install the VS redistributable automatically.</p>\n<p>See also here: <a href=\"https://stackoverflow.com/questions/30595771/how-to-install-redistributable-with-visual-studio-setup\">How to install redistributable with visual studio setup?</a> (but it is for VS 2013, there might be some changes in 2015)</p>\n"}, {"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1477522251, "post_id": 40273349, "comment_id": 67806465, "body": "There is no CLR in a C++ application."}, {"owner": {"reputation": 1, "user_id": 6788481, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ueFIJb3S_gs/AAAAAAAAAAI/AAAAAAAAAFI/kHz6jIpTwbc/photo.jpg?sz=128", "display_name": "Max Co", "link": "https://stackoverflow.com/users/6788481/max-co"}, "edited": false, "score": 0, "creation_date": 1477583085, "post_id": 40273349, "comment_id": 67836095, "body": "sorry like i said i&#39;m fairly new to this. when i started the project i selected win32 console application. i was not aware i could choose a different CRT versions. i&#39;m using dependency walker which tells me its MSVCP140D.dll, VCRUNTIME140D.dll,UCRTBASED.dll and KERNAL32.dll. i admit i&#39;m struggling to make a setup file or an installer to make it as user friendly installing on target PC."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 1, "user_id": 6788481, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ueFIJb3S_gs/AAAAAAAAAAI/AAAAAAAAAFI/kHz6jIpTwbc/photo.jpg?sz=128", "display_name": "Max Co", "link": "https://stackoverflow.com/users/6788481/max-co"}, "edited": false, "score": 0, "creation_date": 1477602250, "post_id": 40273349, "comment_id": 67846735, "body": "@MaxCo: You must not ship the debug versions of the CRT (msvcp140d.dll, vcruntime140d.dll, ucrtbased.dll). Those are part of Visual Studio, and no distributable. I don&#39;t know what <i>&quot;KERNAL32.dll&quot;</i> is. At any rate, don&#39;t rely on Dependency Walker too much. It used to be a fine tool until it stopped being serviced years ago."}], "tags": [], "owner": {"reputation": 48820, "user_id": 182676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/446fa39e5f227c92db408e1b68356b5e?s=128&d=identicon&r=PG", "display_name": "Macmade", "link": "https://stackoverflow.com/users/182676/macmade"}, "is_accepted": false, "score": 0, "last_activity_date": 1477522336, "last_edit_date": 1477522336, "creation_date": 1477522157, "answer_id": 40273349, "question_id": 40273192, "link": "https://stackoverflow.com/questions/40273192/visual-studio-2015-c-console-application-converted-in-setup-project-with-all/40273349#40273349", "title": "visual studio 2015. c++ console application converted in setup project with all dll", "body": "<p>Well, you don't tell us what kind of project your C++ console app is...</p>\n\n<p>Using only C++, your app can be built with different versions of the CRT, like for instance:</p>\n\n<ul>\n<li>V120  (VS-2013)</li>\n<li>V120_XP (VS-2013 w/ XP support)</li>\n<li>V140 (VS-2015)</li>\n<li>V140_XP (VS-2015 w/ XP support)</li>\n</ul>\n\n<p>Even on VS 2015, you can choose the version of the CRT you want, and use an older version, if needed.</p>\n\n<p>Anyway, the target computer will need the DLLs for the correct CRT version.<br>\nMicrosoft <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow\">provides them</a>. You can either ship them with your product, if you have a custom installer, or use the installer provided by Microsoft.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/8kche8ah.aspx\" rel=\"nofollow\">MSDN - Determining Which DLLs to Redistribute</a></p>\n\n<p>For instance, using V120:</p>\n\n<ul>\n<li>msvcp120.dll</li>\n<li>msvcr120.dll</li>\n</ul>\n\n<p>Your project might also use .NET.<br>\nIn such a case, you also need to install the correct version in the host machine.</p>\n"}], "owner": {"reputation": 1, "user_id": 6788481, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ueFIJb3S_gs/AAAAAAAAAAI/AAAAAAAAAFI/kHz6jIpTwbc/photo.jpg?sz=128", "display_name": "Max Co", "link": "https://stackoverflow.com/users/6788481/max-co"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 273, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1477523883, "creation_date": 1477521239, "last_edit_date": 1495535655, "question_id": 40273192, "link": "https://stackoverflow.com/questions/40273192/visual-studio-2015-c-console-application-converted-in-setup-project-with-all", "title": "visual studio 2015. c++ console application converted in setup project with all dll", "body": "<p>So i'm fairly new to VS and coding and I've recently made a small snake game in a C++ console application project, which works fine but i would like to get it to work on another PC without VS. The closest i have found to answering my question were these other StackOverflow questions <a href=\"https://stackoverflow.com/questions/39131050/visual-studio-2012-installer-project-in-vs-2015-the-application-is-not-installe?noredirect=1&amp;lq=1\">here</a> and <a href=\"https://stackoverflow.com/questions/15297270/problems-with-running-exe-file-built-with-visual-studio-on-another-computer\">here</a>. i have installed the vs installer projects extension to try make it a setup project and include the required dependencies but i cant work out how to do this. Does anyone have any info to guide me through my last step of this problem or am i completely on the wrong track?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1477520514, "post_id": 40273030, "comment_id": 67805920, "body": "<i>double A[c], B[c], C[c];</i> -- This is not valid C++.  Arrays must have constant expressions to denote the number of entries.  If you used <code>std::vector</code>, which is standard C++, you would not have the issue you&#39;re reporting (or at least, one issue you know about wouldn&#39;t occur)."}, {"owner": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1477523837, "post_id": 40273030, "comment_id": 67806911, "body": "@PaulMcKenzie, Dynamic array allocated on the stack are perfectly legal in C++14. <a href=\"http://blog.smartbear.com/development/a-glimpse-into-c14/\" rel=\"nofollow noreferrer\">blog.smartbear.com/development/a-glimpse-into-c14</a>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 1, "creation_date": 1477524586, "post_id": 40273030, "comment_id": 67807107, "body": "@AlexisWilke <a href=\"http://stackoverflow.com/questions/20777623/what-is-the-status-on-dynarrays\">See this</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 1, "creation_date": 1477524591, "post_id": 40273030, "comment_id": 67807110, "body": "<b>dcl.array</b> in the standard seems to disagree with you, @AlexisWilke."}], "answers": [{"comments": [{"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 1, "creation_date": 1477520912, "post_id": 40273124, "comment_id": 67806045, "body": "The index type should be <code>size_t</code> instead of <code>long long int</code>."}, {"owner": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "reply_to_user": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1477524012, "post_id": 40273124, "comment_id": 67806967, "body": "@Dai, <code>c</code> is a <code>long long int</code>, though."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477526685, "post_id": 40273124, "comment_id": 67807637, "body": "<code>c</code> probably shouldn&#39;t be, though. For example input of -1. <code>c</code> is now -2. <code>i</code> starts at zero. Going to take a loooong time to reach -2 and generate a hilariously wrong answer if the undefined behavour from stomping memory outside of <code>A</code>, <code>B</code>, and <code>C</code> doesn&#39;t kill the program first. OP&#39;s whole algorithm needs a rethink"}], "tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": false, "score": 3, "last_activity_date": 1477520858, "creation_date": 1477520858, "answer_id": 40273124, "question_id": 40273030, "link": "https://stackoverflow.com/questions/40273030/c-program-crashes-after-entering-a-big-value/40273124#40273124", "title": "C Program crashes after entering a big value", "body": "<p>When you have an array of size c, you can access elements 0 through c-1, not c!</p>\n\n<p>So your loop should be</p>\n\n<pre><code>for (long long int i = 0; i &lt; c; ++i)\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>for (long long int i = 0; i &lt;= c; ++i)\n</code></pre>\n\n<p>Also, for a large c consider using heap memory instead of stack memory, e.g. use</p>\n\n<pre><code>A = new double[c];\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>double A[c];\n</code></pre>\n\n<p>Further, get familiar with smart pointers such as std::unique_ptr and STL containers such as std::vector.</p>\n"}, {"comments": [{"owner": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 0, "creation_date": 1477523957, "post_id": 40273180, "comment_id": 67806954, "body": "You may want to be more precise when you say &quot;not valid C++&quot;. The post is somewhat about C and C++, and since C++14, it is perfectly legal. It also was working in Visual C++ for ages. <a href=\"http://blog.smartbear.com/development/a-glimpse-into-c14/\" rel=\"nofollow noreferrer\">blog.smartbear.com/development/a-glimpse-into-c14</a> (see &quot;Runtime-Sized Arrays&quot; section.)"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "reply_to_user": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 0, "creation_date": 1477524466, "post_id": 40273180, "comment_id": 67807072, "body": "<a href=\"http://stackoverflow.com/questions/20777623/what-is-the-status-on-dynarrays\"><code>dynarry</code> was not accepted into the standard</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 14998, "user_id": 212378, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/185aae2d842026d2eefa7528b00b394b?s=128&d=identicon&r=PG", "display_name": "Alexis Wilke", "link": "https://stackoverflow.com/users/212378/alexis-wilke"}, "edited": false, "score": 0, "creation_date": 1477526733, "post_id": 40273180, "comment_id": 67807649, "body": "Not a whole lot of <code>std::cout</code> in C, @AlexisWilke"}], "tags": [], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": true, "score": 4, "last_activity_date": 1477550304, "last_edit_date": 1477550304, "creation_date": 1477521156, "answer_id": 40273180, "question_id": 40273030, "link": "https://stackoverflow.com/questions/40273030/c-program-crashes-after-entering-a-big-value/40273180#40273180", "title": "C Program crashes after entering a big value", "body": "<p>One issue is this:   </p>\n\n<p><code>double A[c], B[c], C[c];</code></p>\n\n<p>This is not valid C++, as arrays must have constant expressions to denote the number of entries.  You're using an extension offered by your compiler, namely <em>Variable Length Arrays</em> (VLA).  The issue is more than likely you're blowing out the stack space due to the arrays being too large.</p>\n\n<p>Instead of this, use something that is valid C++, namely <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow\">std::vector</a>:</p>\n\n<pre><code>long long int n;\ncin &gt;&gt; n;\nlong long int c = n - 1;\nstd::vector&lt;double&gt; A(c), B(c), C(c);\n</code></pre>\n\n<p>However, please note that a <code>std::vector</code> is limited to <code>std::vector::max_size()</code> elements, thus it is possible that the value you enter for <code>n</code> may be too large to store the elements.  Reconsider whether you want to go beyond the <code>max_size()</code> value.</p>\n\n<hr>\n\n<p>In addition, you are accessing elements out of bounds.  This is another area where using <code>std::vector</code> is advantageous over arrays.</p>\n\n<pre><code>for (long long int i = 0; i &lt;= c; i++) {\n    A.at(i) = ((double) rand() / (double) (RAND_MAX));\n    B[i] = ((double) rand() / (double) (RAND_MAX));\n    C[i] = (double) A[i] * B[i];\n    printf(\"%d  %.15f\\n\",i, C[i]);\n}\n</code></pre>\n\n<p>You will see that when <code>i == c</code>, the call to <code>A.at()</code> is guaranteed to throw an <code>std::out_of_range</code> exception, denoting that you have gone out of bounds with the index <code>i</code>.  An array cannot report errors like this with any consistency, as going out-of-bounds of an array is undefined behavior (the code may \"work\", may crash, etc.).</p>\n\n<hr>\n\n<p>There is another issue, and it's this:</p>\n\n<pre><code>  printf(\"%d\", sum);\n</code></pre>\n\n<p>Since <code>sum</code> is a <code>double</code>, giving <code>printf</code> a variable type that does not match the format specifier is undefined behavior.  More than likely, you will see wild numbers being printed.  The format specifier, <code>%d</code>, requires an <code>int</code> type, not a <code>double</code>.  So the correction would be this:</p>\n\n<pre><code>  printf(\"%lf\", sum);\n</code></pre>\n\n<p>But since you're using C++, you should simply use <code>std::cout</code>, as it is typesafe and will not have you get into this type of trouble:</p>\n\n<pre><code>  std::cout &lt;&lt; sum;\n</code></pre>\n\n<hr>\n\n<p>When you remove all of the errors and make the corrections describe, here is a <a href=\"http://ideone.com/irhrva\" rel=\"nofollow\">live example showing the output.</a></p>\n\n<p>In addition, here is an alternative that uses the STL algorithm functions that is much shorter than the code you have now, and does not need to declare 3 vectors (only one vector needs to be declared):</p>\n\n<p><a href=\"http://ideone.com/177Tx3\" rel=\"nofollow\">Example using STL algorithms</a></p>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 4782519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3fa52fd7fe4d43019523fb87a2e7274?s=128&d=identicon&r=PG&f=1", "display_name": "Meixner", "link": "https://stackoverflow.com/users/4782519/meixner"}, "is_accepted": false, "score": 1, "last_activity_date": 1477556529, "creation_date": 1477556529, "answer_id": 40279619, "question_id": 40273030, "link": "https://stackoverflow.com/questions/40273030/c-program-crashes-after-entering-a-big-value/40279619#40279619", "title": "C Program crashes after entering a big value", "body": "<p>Besides that you are running out of array bounds, due to \"i&lt;=c\" you are running out of stack space: The arrays are placed on stack and the size on stack is limited. Exceeding the stack size your program will crash. Default stack size depends on OS and OS settings. On Linux you can change it using \"ulimit -s\".</p>\n"}], "owner": {"reputation": 33, "user_id": 4697014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc7696ecf73d8e53468b10646df51305?s=128&d=identicon&r=PG", "display_name": "Agon Cecelia", "link": "https://stackoverflow.com/users/4697014/agon-cecelia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 40273180, "answer_count": 3, "score": 1, "last_activity_date": 1477556529, "creation_date": 1477520345, "last_edit_date": 1477523446, "question_id": 40273030, "link": "https://stackoverflow.com/questions/40273030/c-program-crashes-after-entering-a-big-value", "title": "C Program crashes after entering a big value", "body": "<p>I want to have two arrays <code>A</code> and <code>B</code> where <code>A=[a0, a1, a2, \u2026, aN-1]</code>, <code>B=[b0, b1, b2, \u2026, bN-1]</code> where \"N\" would be an input from the user. I wanna fill both arrays with random numbers between 0 and 1. Then I wanna have the product of <code>aN</code> and <code>bN</code> in an array <code>C[n]</code>, also I want the summation of the elements in array <code>C</code>. I am not sure what I'm doing wrong but the application runs fine until I enter a number like 100,000 as <code>N</code>, if I enter some big number like this the application will crash.</p>\n\n<p>Here is my code in C++:`</p>\n\n<pre><code>int main(int argc, char **argv)\n{\n  long long int n;\n  cout &lt;&lt; \"Hi, what do you want n to be?\\n\";\n  cin &gt;&gt; n;\n  long long int c = n - 1;\n\n  double A[c], B[c], C[c];\n  srand(time(NULL));\n\n  for (long long int i = 0; i &lt;= c; i++) {\n    A[i] = ((double) rand() / (double) (RAND_MAX));\n    B[i] = ((double) rand() / (double) (RAND_MAX));\n    C[i] = (double) A[i] * B[i];\n    printf(\"%d  %.15f\\n\",i, C[i]);\n  }\n  double sum = 0;\n  for (long long int i = 0; i &lt;= c; i++){\n    sum += C[i];\n  }\n  printf(\"%d\", sum);\n  return 0;\n}\n</code></pre>\n"}, {"tags": ["c#", "c++", "asp.net", ".net", "dll"], "comments": [{"owner": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "edited": false, "score": 0, "creation_date": 1506942773, "post_id": 40273028, "comment_id": 80002450, "body": "Did you solve it? cause I&#39;m in this situation"}, {"owner": {"reputation": 223, "user_id": 3677262, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1deec7b64acf37153e9aaebbd717782d?s=128&d=identicon&r=PG&f=1", "display_name": "KPERI", "link": "https://stackoverflow.com/users/3677262/kperi"}, "reply_to_user": {"reputation": 2048, "user_id": 6782589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ozoj9.jpg?s=128&g=1", "display_name": "Luca Angioloni", "link": "https://stackoverflow.com/users/6782589/luca-angioloni"}, "edited": false, "score": 0, "creation_date": 1507044320, "post_id": 40273028, "comment_id": 80050431, "body": "I did solve it. Its been a while but I think the problem was that I was building my Dll1.dll as a winrt dll which ASP.NET cannot load unless its one of the winrt dlls that come as part of windows (basically it cant sideload winrt dlls that aren&#39;t made by Microsoft). In order to get my dll to load, I had to recompile it as a native c++ dll."}], "owner": {"reputation": 223, "user_id": 3677262, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1deec7b64acf37153e9aaebbd717782d?s=128&d=identicon&r=PG&f=1", "display_name": "KPERI", "link": "https://stackoverflow.com/users/3677262/kperi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1477520338, "creation_date": 1477520338, "question_id": 40273028, "link": "https://stackoverflow.com/questions/40273028/unable-to-load-dll-dll1-dll-this-operation-is-only-valid-in-the-context-of-an", "title": "Unable to load DLL &#39;Dll1.dll&#39;: This operation is only valid in the context of an app container. (Exception from HRESULT: 0x8007109A)", "body": "<p>I have an ASP.net application that is trying to invoke methods from a c++ dll (called Dll1.dll) using pInvoke.</p>\n\n<p>This is the Dll1.cpp:</p>\n\n<pre><code>Tester::Tester() {\n\n}\n\nvoid Tester::hello() {\n    int i = 0;\n}\n\nDLL_API void  Tester_hello(Tester* pObj) { pObj-&gt;hello(); }\n\nDLL_API Tester* Tester_Create() { return new Tester(); }\n\nDLL_API void Tester_Delete(Tester* pObj) { delete pObj; }\n</code></pre>\n\n<p>This is the DLL.h:</p>\n\n<pre><code>#define DLL_API __declspec(dllexport)\n\nclass DLL_API Tester {\npublic:\n    Tester();\n    void hello();\n};\n</code></pre>\n\n<p>And this is where I am trying to load the dll in my asp.net application. Note I am calling it from the WebApiConfig just to try this and make sure it works:</p>\n\n<pre><code>public static class WebApiConfig\n{\n    [DllImport(\"Dll1.dll\")]\n    static extern IntPtr Tester_Create();\n\n    [DllImport(\"Dll1.dll\")]\n    static extern void Tester_hello(IntPtr pObj);\n\n    [DllImport(\"Dll1.dll\")]\n    static extern void Tester_Delete(IntPtr pObj);\n\n\n    public static void Register(HttpConfiguration config)\n    {\n        // Web API configuration and services\n        // Configure Web API to use only bearer token authentication.\n        config.SuppressDefaultHostAuthentication();\n        config.Filters.Add(new HostAuthenticationFilter(OAuthDefaults.AuthenticationType));\n\n        // Web API routes\n        config.MapHttpAttributeRoutes();\n\n        config.Routes.MapHttpRoute(\n            name: \"DefaultApi\",\n            routeTemplate: \"api/{controller}/{id}\",\n            defaults: new { id = RouteParameter.Optional }\n        );\n\n        IntPtr h = Tester_Create(); &lt;- Exception thrown here\n        Tester_hello(h);\n        Tester_Delete(h);\n    }\n}\n</code></pre>\n\n<p>However, when I run the following application, I get this error:</p>\n\n<p><strong>[DllNotFoundException: Unable to load DLL 'Dll1.dll': This operation is only valid in the context of an app container. (Exception from HRESULT: 0x8007109A)]</strong></p>\n\n<p>What is going wrong here?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477520379, "post_id": 40273023, "comment_id": 67805867, "body": "<code>while (!f1.eof())</code> is a bug. Read more here: <a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\">Why is iostream::eof inside a loop condition considered wrong?</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477520538, "post_id": 40273023, "comment_id": 67805927, "body": "Save yourself a bit of logic. if <code>time1 == time2</code> and <code>time2 == time3</code> then you know <code>time1 == time3</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477520818, "post_id": 40273023, "comment_id": 67806012, "body": "12 digits may not fit in an <code>int</code>. A 32 bit <code>int</code> will only hold up to 2,147,483,647, or 10 digits. <a href=\"http://en.cppreference.com/w/cpp/types/integer\" rel=\"nofollow noreferrer\">Ensure you have a 64 bit integer with one of these</a>."}, {"owner": {"reputation": 799, "user_id": 698679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7d8e7ba1c6d9226662788db8a1ada2b5?s=128&d=identicon&r=PG", "display_name": "alangab", "link": "https://stackoverflow.com/users/698679/alangab"}, "edited": false, "score": 0, "creation_date": 1477520859, "post_id": 40273023, "comment_id": 67806023, "body": "You have to specify how columns are separated in the file. &gt;&gt; operator can only read space separated value"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477520922, "post_id": 40273023, "comment_id": 67806049, "body": "Answer 1 option 2 (Line-based parsing, using string streams) to <a href=\"http://stackoverflow.com/questions/7868936/read-file-line-by-line\">Read file line by line</a> should help you enormously."}], "owner": {"reputation": 11, "user_id": 7077407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72c722fadfa0bb3967c1a63a5d9d531b?s=128&d=identicon&r=PG&f=1", "display_name": "corvi", "link": "https://stackoverflow.com/users/7077407/corvi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1477520297, "creation_date": 1477520297, "question_id": 40273023, "link": "https://stackoverflow.com/questions/40273023/reading-text-files-using-ifstream", "title": "reading text files using ifstream", "body": "<p>I am e c++ beginner.\nI have a 6 columns and 6 million rows text file of numerical integer values (up to 12 digits) and I must compare, line by line, numbers in col. 1, 3 and 5: they should be the same number: if not, the code shuold send me a warning specifying the row.\nI tried using this code:  </p>\n\n<pre><code> int main() {\n     int time1, time2, time3, n1, n2, n3;\n     string fileinp;\n     cout &lt;&lt; \"input file: \"; \n     cin &gt;&gt; fileinp;\n     int nlines = 0;\n     ifstream f1(fileinp.c_str());\n     while (!f1.eof()) {\n        nlines = nlines+1;\n        f1 &gt;&gt; time1 &gt;&gt; n1 &gt;&gt; time2 &gt;&gt; n2 &gt;&gt; time3 &gt;&gt; n3;\n        //cout &lt;&lt; nlines &lt;&lt; \"  \" &lt;&lt; time1 &lt;&lt; endl;\n        if(time1 != time2 || time2 != time3 || time1 != time3)  {\n        cout &lt;&lt; \"timestamp not corresponding for event n. \" &lt;&lt; nlines &lt;&lt; endl;\n     }\n   }\n   cout &lt;&lt; nlines &lt;&lt; endl;\n   f1.close();\n }\n</code></pre>\n\n<p>but the program always reads the first line: how can I go to the next line in the \"while\" loop?\nThanks</p>\n"}, {"tags": ["c++", "arrays", "string", "function", "for-loop"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1477520192, "post_id": 40272954, "comment_id": 67805812, "body": "<code>int counts[26] = {0};</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477520204, "post_id": 40272954, "comment_id": 67805814, "body": "Initialize <code>counts</code>. Currently you don&#39;t know what is sitting in memory, and usually C++ doesn&#39;t initialize storage for you off of the belief that if you care what the value is, you&#39;ll set it. <code>int counts[26] = {0};</code>"}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 0, "creation_date": 1477520372, "post_id": 40272954, "comment_id": 67805863, "body": "int map[121]; you can do it this way. if you&#39;re alphabet is all 7 bit characters"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477521457, "post_id": 40272954, "comment_id": 67806261, "body": "Indeed, that is one difference to Java. There everything is initialized, by default to <code>0</code>."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 0, "creation_date": 1477521679, "post_id": 40272954, "comment_id": 67806323, "body": "@self: Right, because 2^7 is 121..."}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 0, "creation_date": 1477522620, "post_id": 40272954, "comment_id": 67806571, "body": "good call, my bad on the calculation."}], "answers": [{"tags": [], "owner": {"reputation": 1494, "user_id": 4608341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a999fbef69237425f8537ea518f97be4?s=128&d=identicon&r=PG&f=1", "display_name": "grigor", "link": "https://stackoverflow.com/users/4608341/grigor"}, "is_accepted": false, "score": 2, "last_activity_date": 1477520208, "creation_date": 1477520208, "answer_id": 40273005, "question_id": 40272954, "link": "https://stackoverflow.com/questions/40272954/count-number-of-occurrences-in-string-c/40273005#40273005", "title": "Count number of occurrences in string c++?", "body": "<p>Your <code>counts</code> is uninitialized. You need to first set all of the elements to 0.</p>\n"}, {"tags": [], "owner": {"reputation": 799, "user_id": 698679, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7d8e7ba1c6d9226662788db8a1ada2b5?s=128&d=identicon&r=PG", "display_name": "alangab", "link": "https://stackoverflow.com/users/698679/alangab"}, "is_accepted": false, "score": 2, "last_activity_date": 1477520376, "creation_date": 1477520376, "answer_id": 40273035, "question_id": 40272954, "link": "https://stackoverflow.com/questions/40272954/count-number-of-occurrences-in-string-c/40273035#40273035", "title": "Count number of occurrences in string c++?", "body": "<p>You need to zeros the counts vector.\nTry\n<code>counts[26]={0};</code></p>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1477521150, "post_id": 40273054, "comment_id": 67806142, "body": "You have neglected <a href=\"https://en.wikipedia.org/wiki/EBCDIC\" rel=\"nofollow noreferrer\">EBCDIC</a>. Don&#39;t worry. Everyone does."}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 0, "creation_date": 1477521181, "post_id": 40273054, "comment_id": 67806155, "body": "undefined behavior is triggered in your call to isalpha. You should do a range change and then cast to unsigned int"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 0, "creation_date": 1477521783, "post_id": 40273054, "comment_id": 67806351, "body": "@self: Are you implying that the cppreference documentation for <a href=\"http://en.cppreference.com/w/cpp/string/byte/isalpha\" rel=\"nofollow noreferrer\">isalpha</a> were incorrect?"}, {"owner": {"reputation": 508, "user_id": 3108401, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QjwKB.jpg?s=128&g=1", "display_name": "Aznaveh", "link": "https://stackoverflow.com/users/3108401/aznaveh"}, "edited": false, "score": 0, "creation_date": 1477544478, "post_id": 40273054, "comment_id": 67811802, "body": "I just  initialize the array. I didn&#39;t even look at other part of the code"}], "tags": [], "owner": {"reputation": 508, "user_id": 3108401, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/QjwKB.jpg?s=128&g=1", "display_name": "Aznaveh", "link": "https://stackoverflow.com/users/3108401/aznaveh"}, "is_accepted": false, "score": 1, "last_activity_date": 1477520495, "creation_date": 1477520495, "answer_id": 40273054, "question_id": 40272954, "link": "https://stackoverflow.com/questions/40272954/count-number-of-occurrences-in-string-c/40273054#40273054", "title": "Count number of occurrences in string c++?", "body": "<p>I don't know about java, but you have to initialize your variables in C/C++. Here is your code working:</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\nvoid count(const char s[], int counts[]){\n\n    for (int i = 0; i &lt; strlen(s); i++)\n    {\n        char c = tolower(s[i]); \n        if (isalpha(c))\n            counts[c - 'a']++;\n\n    }\n\n}\n\nint main(int argc, char** argv) {\n    int counts[26];\n    char s[80];\n    //Enter a string of characters\n    cout &lt;&lt; \"Enter a string: \"; // i.e. any phrase\n\n    cin.getline(s,80);\n\n    for(int i=0; i&lt;26; i++)\n        counts[i]=0;\n    cout &lt;&lt; \"You entered \" &lt;&lt; s &lt;&lt; endl;\n    count(s,counts);\n    //display the results\n    for (int i = 0; i &lt; 26; i++)\n        if (counts[i] &gt; 0)\n            cout  &lt;&lt; (char)(i + 'a') &lt;&lt; \": \" &lt;&lt; counts[i] &lt;&lt; \"Times \" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5213613"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1477520495, "creation_date": 1477519974, "question_id": 40272954, "link": "https://stackoverflow.com/questions/40272954/count-number-of-occurrences-in-string-c", "title": "Count number of occurrences in string c++?", "body": "<p>I'm used to java, and struggle with basic syntax of C++ despite knowing theory. I have a function that is trying to count the number of occurrences in a string, but the output is a tab bit weird. </p>\n\n<p>Here is my code: </p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;cstring&gt;\n/*\n main \n * Start \n * prompt user to enter string \n * call function \n * stop \n * \n * count\n * start \n * loop chars \n * count charts \n * print result\n * stop\n\n\n */\n using namespace std;\n\nvoid count(const char s[], int counts[]);\n\nint main(int argc, char** argv) {\nint counts[26];\nchar s[80];\n//Enter a string of characters\ncout &lt;&lt; \"Enter a string: \"; // i.e. any phrase\n\ncin.getline(s,80);\n\ncout &lt;&lt; \"You entered \" &lt;&lt; s &lt;&lt; endl;\ncount(s,counts);\n//display the results\nfor (int i = 0; i &lt; 26; i++)\nif (counts[i] &gt; 0)\n  cout  &lt;&lt; (char)(i + 'a') &lt;&lt; \": \" &lt;&lt; counts[i] &lt;&lt; \"Times \" &lt;&lt; endl;\nreturn 0;\n}\nvoid count(const char s[], int counts[]){\n\nfor (int i = 0; i &lt; strlen(s); i++)\n{\nchar c = tolower(s[i]); \nif (isalpha(c))\n    counts[c - 'a']++;\n\n}\n\n}\n</code></pre>\n\n<p>Here is the output: </p>\n\n<p>Enter a string: Dylan</p>\n\n<p>You entered Dylan</p>\n\n<p>b: 1Times </p>\n\n<p>c: 1Times </p>\n\n<p>d: 2Times </p>\n\n<p>f: 1Times </p>\n\n<p>h: 1Times </p>\n\n<p>i: 1229148993Times </p>\n\n<p>j: 73Times </p>\n\n<p>l: 2Times </p>\n\n<p>n: 2Times </p>\n\n<p>p: 1Times </p>\n\n<p>r: 1Times </p>\n\n<p>v: 1Times </p>\n\n<p>Any help you can give me would be greatly appreciated. Even though this is simple stuff, I'm a java sucker. -_-</p>\n"}, {"tags": ["c++", "utf-8"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1477519626, "post_id": 40272854, "comment_id": 67805629, "body": "<a href=\"http://www.joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1477519631, "post_id": 40272854, "comment_id": 67805630, "body": "Need a baseline to work from. Do you know what UTF-8 is, or will answers have to start there?"}], "answers": [{"tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1477520870, "last_edit_date": 1477520870, "creation_date": 1477520540, "answer_id": 40273062, "question_id": 40272854, "link": "https://stackoverflow.com/questions/40272854/utf-8-while-compiling-c-for-geant-4/40273062#40273062", "title": "UTF-8 while compiling C++ for Geant 4", "body": "<p>Inspect the \"._B1PrimaryGeneratorAction.cc\" file reported there. The name seems suspicious, maybe you extracted an archive incorrectly thus having a broken source file.</p>\n\n<p>Also the position info \":1:4096\" is kind of suspicious - it says that the invalid character is the 4096th character on the first line. Sounds like a corrupted file to me, just check that file contents (C++ source files usually do not have 4096 characters on a single line, although there can be exceptions indeed).</p>\n\n<p>As far as I can tell, this might be the correct contents of the file:\n<a href=\"http://geant4.web.cern.ch/geant4/UserDocumentation/Doxygen/examples_doc/html/B1PrimaryGeneratorAction_8cc_source.html\" rel=\"nofollow\">http://geant4.web.cern.ch/geant4/UserDocumentation/Doxygen/examples_doc/html/B1PrimaryGeneratorAction_8cc_source.html</a>\n(and that file does not seem to contain any \"strange\" non-ASCII characters)</p>\n"}], "owner": {"reputation": 629, "user_id": 5635892, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b00dde48fe0189f9a77caadcfa021363?s=128&d=identicon&r=PG&f=1", "display_name": "Silviu", "link": "https://stackoverflow.com/users/5635892/silviu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1477520870, "creation_date": 1477519473, "question_id": 40272854, "link": "https://stackoverflow.com/questions/40272854/utf-8-while-compiling-c-for-geant-4", "title": "UTF-8 while compiling C++ for Geant 4", "body": "<p>I am trying to run a program called Geant4, and I have this make file containing numerous .cc files involved in the program, but when I run it I get this error:</p>\n\n<pre><code>/Volumes/Silviu/Geant4/geant4.10.02.p02/examples/basic/B1/src/._B1PrimaryGeneratorAction.cc:1:4096: error: \n      source file is not valid UTF-8\n</code></pre>\n\n<p>I am not sure how to provide more details, but the point is that I have a file called B1PrimaryGeneratorAction.cc, but I am not sure what the error means, or what ._B1PrimaryGeneratorAction.cc actually represent. And what is a not valit UTF-8? Can anyone help please?</p>\n"}, {"tags": ["c++", "c++11", "atomic", "atomicity"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1477519016, "post_id": 40272730, "comment_id": 67805437, "body": "Please choose a language. The answer is different in C and C++."}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1477519213, "post_id": 40272730, "comment_id": 67805515, "body": "@KerrekSB C11 and C++11 have the same memory model."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "edited": false, "score": 0, "creation_date": 1477519838, "post_id": 40272730, "comment_id": 67805694, "body": "@2501 No they don&#39;t. I guess you mean to say they have the same rules for atomic memory ordering."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 4, "creation_date": 1477520134, "post_id": 40272730, "comment_id": 67805790, "body": "This isn&#39;t valid C++, in any event. There&#39;s no <code>_Atomic</code> or <code>stdatomic.h</code> in C++."}, {"owner": {"reputation": 581, "user_id": 5585843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f779346e2565b57a35ca7e6daf506?s=128&d=identicon&r=PG", "display_name": "MuhKarma", "link": "https://stackoverflow.com/users/5585843/muhkarma"}, "edited": false, "score": 0, "creation_date": 1477520431, "post_id": 40272730, "comment_id": 67805887, "body": "The question previously contained the C tag but someone removed it. You can easily transform it into the equivalent C++ version but I hope the answer is the same in both languages."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1477520545, "post_id": 40272730, "comment_id": 67805929, "body": "@MuhKarma: Someone from the C world told me once that C has a special rule that allows <code>while (1)</code>. I&#39;ve not followed that up, but it&#39;s the kind of difference between the two languages that would be typical."}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1477520569, "post_id": 40272730, "comment_id": 67805936, "body": "Some combination of the title, code, or tags, need to be changed for this question to make it valid in at least one language. Right now the title and tags are C++, but the code is C, and the content of the question mentions both."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1477520694, "post_id": 40272730, "comment_id": 67805978, "body": "Yeah, C11 allows a loop &quot;whose controlling expression is a constant expression&quot;. So <code>for(;;);</code> is UB but <code>while(1);</code> is not.  A use case for the latter is an embedded system where the main thread starts up various  ISRs or event handlers and then just idles for the rest of the run, with the program logic occurring in triggered events"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1477520782, "post_id": 40272730, "comment_id": 67805999, "body": "@M.M N1570, fn 156: &quot;An omitted controlling expression is replaced by a nonzero constant, which is a constant expression.&quot;"}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1477520809, "post_id": 40272730, "comment_id": 67806009, "body": "@M.M for(;;) is not ub: <i>An omitted controlling expression is replaced by a nonzero constant, which is a constant expression.</i>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1477520889, "post_id": 40272730, "comment_id": 67806036, "body": "I stand corrected  (and am happy about it, it&#39;s a bit dumb to have those two bits of code behave differently)"}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1477520930, "post_id": 40273121, "comment_id": 67806055, "body": "To be clear, are you saying that the original code may trigger undefined behaviour or what?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1477521173, "post_id": 40273121, "comment_id": 67806150, "body": "There&#39;s no UB, but there&#39;s no guarantee from the memory model that that loop will ever terminate regardless of the kind of load you do. Everything is QoI."}, {"owner": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1477524795, "post_id": 40273121, "comment_id": 67807169, "body": "Not even with a volatile atomic variable?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 4011, "user_id": 1477064, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cd12123a743db34ac0b055a6fa736788?s=128&d=identicon&r=PG", "display_name": "xvan", "link": "https://stackoverflow.com/users/1477064/xvan"}, "edited": false, "score": 0, "creation_date": 1477524962, "post_id": 40273121, "comment_id": 67807211, "body": "@xvan That should prevent the compiler from hoisting out the load, but visibility of the store can still be delayed for as long as it pleases."}, {"owner": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 0, "creation_date": 1499191821, "post_id": 40273121, "comment_id": 76800298, "body": "This doesn&#39;t <i>seem</i> to answer the question. I think we&#39;d all agree that if the OP had used <code>memory_order_seq_cst</code> his spinlock would work fine (i.e., if one thread set <code>i</code> to <code>1</code>, then the next thread to awake would <i>have</i> to see that update). The OP&#39;s question is whether changing it to <code>memory_order_relaxed</code> breaks the spinlock (by permitting the compiler to hoist the load out of the loop), or whether it&#39;s still required to work and if so why. FWIW, my intuition matches the OP&#39;s \u2014 that it shouldn&#39;t work \u2014 but I&#39;ve also confirmed via godbolt that GCC doesn&#39;t hoist in practice on ARM/MIPS/PPC."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 19199, "user_id": 1424877, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/8a14e5bb44bbb4c2721ac711bd8a7bcf?s=128&d=identicon&r=PG", "display_name": "Quuxplusone", "link": "https://stackoverflow.com/users/1424877/quuxplusone"}, "edited": false, "score": 0, "creation_date": 1499191992, "post_id": 40273121, "comment_id": 76800376, "body": "@Quuxplusone Nope. There&#39;s no requirement that a <code>memory_order_seq_cst</code> write becomes visible to another thread within any finite amount of time."}, {"owner": {"reputation": 764, "user_id": 3401785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8FE5f.jpg?s=128&g=1", "display_name": "jhoffman0x", "link": "https://stackoverflow.com/users/3401785/jhoffman0x"}, "edited": false, "score": 0, "creation_date": 1526001147, "post_id": 40273121, "comment_id": 87583552, "body": "@T.C. Are you saying that a spinlock with <code>memory_order_seq_cst</code> is broken because there&#39;s no requirement that a write becomes visible to another thread within any finite amount of time, or what exactly is your &quot;Nope&quot; responding to?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 764, "user_id": 3401785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8FE5f.jpg?s=128&g=1", "display_name": "jhoffman0x", "link": "https://stackoverflow.com/users/3401785/jhoffman0x"}, "edited": false, "score": 0, "creation_date": 1526002334, "post_id": 40273121, "comment_id": 87583791, "body": "@jhoffman0x A non-hoisted load where the store never becomes visible and a &quot;hoisted&quot; load have identical behavior: the loop never terminates. Since the store need not become visible within any finite amount of time, under the as-if rule it is conforming for the implementation to hoist the load regardless of the memory order used for the load. Now, this would be a <i>very low quality</i> implementation, and nobody in their right mind would do it (if only because nobody will buy such a thing), but it is a conforming one."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1526002485, "post_id": 40273121, "comment_id": 87583820, "body": "OP asked for a citation from the standard; my point is that such a citation cannot exist because 1) a conforming implementation may never make the store visible and 2) a hoisted load is indistinguishable from 1)."}, {"owner": {"reputation": 764, "user_id": 3401785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8FE5f.jpg?s=128&g=1", "display_name": "jhoffman0x", "link": "https://stackoverflow.com/users/3401785/jhoffman0x"}, "edited": false, "score": 0, "creation_date": 1526003179, "post_id": 40273121, "comment_id": 87583979, "body": "&quot;Under the as-if rule it is conforming for the implementation to hoist the load regardless of the memory order used for the load.&quot; So that would be a defect in the standard then right? Do you know where I could find more discussions about the issue?"}, {"owner": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "edited": false, "score": 0, "creation_date": 1526003445, "post_id": 40273121, "comment_id": 87584043, "body": "@T.C.  Do you know why the standard allows the store to never become visible?  I understand that the standard cannot stipulate an exact number of nanoseconds for such a thing but is there no way to constrain it just a little?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "edited": false, "score": 0, "creation_date": 1526005925, "post_id": 40273121, "comment_id": 87584613, "body": "@JerryJeremiah Presumably to support some esoteric hardware architecture where it&#39;s not possible to guarantee that. I don&#39;t know an example offhand though."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 2, "last_activity_date": 1526002718, "last_edit_date": 1526002718, "creation_date": 1477520836, "answer_id": 40273121, "question_id": 40272730, "link": "https://stackoverflow.com/questions/40272730/does-the-c11-memory-model-allow-hoisting-relaxed-atomic-loads-out-of-loops/40273121#40273121", "title": "Does the C++11 memory model allow hoisting relaxed atomic loads out of loops?", "body": "<p>Forget about relaxed, there's no guarantee that an atomic store <em>ever</em> become visible to an atomic load in a different thread. The best you get is the normative encouragement in <a href=\"https://timsong-cpp.github.io/cppwp/atomics#order-12\" rel=\"nofollow noreferrer\">[atomics.order]/12</a> (and analogous wording in <a href=\"https://timsong-cpp.github.io/cppwp/intro.progress#18\" rel=\"nofollow noreferrer\">[intro.progress]/18</a>):</p>\n\n<blockquote>\n  <p>Implementations should make atomic stores visible to atomic loads\n  within a reasonable amount of time.</p>\n</blockquote>\n\n<p>...which is not a requirement.</p>\n\n<p>(C11 has identical wording in \u00a77.11.3/16)</p>\n\n<p>Since hoisting the load leads to behavior indistinguishable from a non-hoisted load where the store never becomes visible, and since the latter is conforming, an implementation is allowed by the as-if rule to hoist the load regardless of the memory order used.</p>\n"}], "owner": {"reputation": 581, "user_id": 5585843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/575f779346e2565b57a35ca7e6daf506?s=128&d=identicon&r=PG", "display_name": "MuhKarma", "link": "https://stackoverflow.com/users/5585843/muhkarma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 1, "answer_count": 1, "score": 13, "last_activity_date": 1526002718, "creation_date": 1477518838, "last_edit_date": 1477520798, "question_id": 40272730, "link": "https://stackoverflow.com/questions/40272730/does-the-c11-memory-model-allow-hoisting-relaxed-atomic-loads-out-of-loops", "title": "Does the C++11 memory model allow hoisting relaxed atomic loads out of loops?", "body": "<p>Consider the following code:</p>\n\n<pre><code>#include &lt;atomic&gt;\n\nextern std::atomic&lt;int&gt; i;\n\nvoid f(void)\n{\n  while (!i.load(std::memory_order_relaxed))\n      ;\n}\n</code></pre>\n\n<p>I'm looking for a citation from the C++11 standard that says that the compiler is not allowed to transform the loop into</p>\n\n<pre><code>  if (!i.load(std::memory_order_relaxed)) {\n    while (1)\n      ;\n  }\n</code></pre>\n\n<p>I've seen some discussion <a href=\"https://lwn.net/Articles/509596/\" rel=\"noreferrer\">here</a> but nothing conclusive.</p>\n\n<p><strong>Edit</strong>: A previous version of this post called an extern function inside the loop.</p>\n\n<p><strong>Edit 2</strong>: For motivation: The book \"Effective Java\" says that the HotSpot VM performs the following transformation:</p>\n\n<pre><code>while (!done)\n    i++;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if (!done)\n    while (true)\n        i++;\n</code></pre>\n\n<p>even though it's perfectly defined behavior for another thread to change the <strong>done</strong> variable concurrently.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477519821, "post_id": 40272726, "comment_id": 67805684, "body": "Look up the <code>+=</code> operator."}, {"owner": {"reputation": 13, "user_id": 6493990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mShlr_1J4fA/AAAAAAAAAAI/AAAAAAAAACI/8jM7Esk_DCI/photo.jpg?sz=128", "display_name": "xJohn", "link": "https://stackoverflow.com/users/6493990/xjohn"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477521149, "post_id": 40272726, "comment_id": 67806141, "body": "Can you explain to me how I use that operator?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477521514, "post_id": 40272726, "comment_id": 67806280, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">Quicker to point you at some reliable documentation</a>."}, {"owner": {"reputation": 13, "user_id": 6493990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mShlr_1J4fA/AAAAAAAAAAI/AAAAAAAAACI/8jM7Esk_DCI/photo.jpg?sz=128", "display_name": "xJohn", "link": "https://stackoverflow.com/users/6493990/xjohn"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477537262, "post_id": 40272726, "comment_id": 67810041, "body": "Do you think my variable declaration is correct?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6493990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mShlr_1J4fA/AAAAAAAAAAI/AAAAAAAAACI/8jM7Esk_DCI/photo.jpg?sz=128", "display_name": "xJohn", "link": "https://stackoverflow.com/users/6493990/xjohn"}, "edited": false, "score": 0, "creation_date": 1477536754, "post_id": 40275168, "comment_id": 67809915, "body": "When I used your suggestion, I always get a 0 for my total order. Do you think it has got to do with my variable declarations?"}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "reply_to_user": {"reputation": 13, "user_id": 6493990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mShlr_1J4fA/AAAAAAAAAAI/AAAAAAAAACI/8jM7Esk_DCI/photo.jpg?sz=128", "display_name": "xJohn", "link": "https://stackoverflow.com/users/6493990/xjohn"}, "edited": false, "score": 0, "creation_date": 1477538799, "post_id": 40275168, "comment_id": 67810372, "body": "No. What is your input for size <code>s</code>? (it says valid size are 1, 2, or 3) See updated answer."}], "tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 0, "last_activity_date": 1477538770, "last_edit_date": 1477538770, "creation_date": 1477535450, "answer_id": 40275168, "question_id": 40272726, "link": "https://stackoverflow.com/questions/40272726/coffee-ordering-system-using-switch-statement/40275168#40275168", "title": "Coffee Ordering System using switch statement", "body": "<p>You want to get item quantity and item price. Then multiply quantity by price:</p>\n\n<pre><code>case 'j':\n    cout &lt;&lt; \"Enter Quantity: \";\n    cin &gt;&gt; q;\n    if (q == 0)\n    {\n        cout &lt;&lt; \"Quantity was zero\\n\";\n        break;\n    }\n\n    cout &lt;&lt; \"Enter Size: (valid sizes: 1, 2, 3)\";\n    cin &gt;&gt; s;\n    a = 0;\n    if (s == 1) a = q * js;\n    else if (s == 2) a = q * jv;\n    else if (s == 3) a = q * jg;\n    else cout &lt;&lt; \"You entered invalid size. Size should be 1, 2, or 3\\n\";\n\n    if (a != 0)\n        cout &lt;&lt; \"The total amount of your order is: \" &lt;&lt; a &lt;&lt; endl;\n\n    break;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6493990, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mShlr_1J4fA/AAAAAAAAAAI/AAAAAAAAACI/8jM7Esk_DCI/photo.jpg?sz=128", "display_name": "xJohn", "link": "https://stackoverflow.com/users/6493990/xjohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 1, "accepted_answer_id": 40275168, "answer_count": 1, "score": -1, "last_activity_date": 1477538770, "creation_date": 1477518827, "last_edit_date": 1477537001, "question_id": 40272726, "link": "https://stackoverflow.com/questions/40272726/coffee-ordering-system-using-switch-statement", "title": "Coffee Ordering System using switch statement", "body": "<p>Good Day! I'm trying to make a coffee ordering station using switch statement. But I'm having a hard time figuring out how to make multiple computation under 1 case statement. I don't know if it is possible though.Also, any size that I input, I always get the same total amount. Thanks for your help. </p>\n\n<p>Here's my main code.</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\nint main()\n{\nint q, s, a;\nint js=145, jv=165, jg=185, os=130, ov=160, og=175, bs=80, bv=120,bg=150, cs=130, cv=150, cg=185;\nchar d;\n\ncout &lt;&lt;\"MENU:\" &lt;&lt;endl &lt;&lt;endl;\ncout &lt;&lt;\"[J] Java Chips (Small 145) (Venti 165) (Grande 185)\" &lt;&lt;endl;\ncout &lt;&lt;\"[O] Oreo Cookies &amp; Cream (Small 130) (Venti 160) (Grande 175)\" &lt;&lt;endl;\ncout &lt;&lt;\"[B] Brewed Coffee (Small 80) (Venti 120) (Grande 150)\" &lt;&lt;endl;\ncout &lt;&lt;\"[C] Caramel Macchiato (Small 130) (Venti 150) (Grande 185)\" &lt;&lt;endl &lt;&lt;endl;\ncout &lt;&lt;\"Enter choice: \";\ncin &gt;&gt;d;\n\nswitch(d){\n\ncase 'J':\ncase 'j':\n    cout &lt;&lt;\"Enter Quantity: \";\n    cin &gt;&gt;q;\n    cout &lt;&lt;\"Enter Size: \";\n    cin &gt;&gt;s;\n    a = q * js;\n    a = q * jv;\n    a = q * jg;\n\n    cout &lt;&lt;\"The total amount of your order is: \" &lt;&lt;a &lt;&lt;endl;\n    break;\n\ncase 'O':\ncase 'o':\n    cout &lt;&lt;\"Enter Quantity: \";\n    cin &gt;&gt;q;\n    cout &lt;&lt;\"Enter Size: \";\n    cin &gt;&gt;s;\n    a = q * os;\n    a = q * ov;\n    a = q * og;\n    cout &lt;&lt;\"The total amount of your order is: \" &lt;&lt;a &lt;&lt;endl;\n    break;\n\ncase 'B':\ncase 'b':\n    cout &lt;&lt;\"Enter Quantity: \";\n    cin &gt;&gt;q;\n    cout &lt;&lt;\"Enter Size: \";\n    cin &gt;&gt;s;\n    a = q * bs;\n    a = q * bv;\n    a = q * bg;\n    cout &lt;&lt;\"The total amount of your order is: \" &lt;&lt;a &lt;&lt;endl;\n    break;\n\ncase 'C':\ncase 'c':\n    cout &lt;&lt;\"Enter Quantity: \";\n    cin &gt;&gt;q;\n    cout &lt;&lt;\"Enter Size: \";\n    cin &gt;&gt;s;\n    a = q * cs;\n    a = q * cv;\n    a = q * cg;\n    cout &lt;&lt;\"The total amount of your order is: \" &lt;&lt;a &lt;&lt;endl;\n    break;\n\ndefault:\n    cout &lt;&lt;\"Not on the menu!\";\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "operating-system", "ace"], "answers": [{"tags": [], "owner": {"reputation": 1275, "user_id": 24334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89a68a77099cdf1df3947249e08ccb25?s=128&d=identicon&r=PG", "display_name": "call me Steve", "link": "https://stackoverflow.com/users/24334/call-me-steve"}, "is_accepted": true, "score": 0, "last_activity_date": 1477523353, "creation_date": 1477523353, "answer_id": 40273551, "question_id": 40272638, "link": "https://stackoverflow.com/questions/40272638/ace-osexeclp-get-result-stdout/40273551#40273551", "title": "ACE_OS:execlp get result - stdout", "body": "<p>I am afraid this function seems not implemented: according to the github (<a href=\"https://github.com/DOCGroup/ACE_TAO/blob/master/ACE/ace/OS_NS_unistd.cpp\" rel=\"nofollow\">https://github.com/DOCGroup/ACE_TAO/blob/master/ACE/ace/OS_NS_unistd.cpp</a>)</p>\n\n<p>and the code :</p>\n\n<pre><code>int\nACE_OS::execlp (const char * /* file */, const char * /* arg0 */, ...)\n{\n  ACE_OS_TRACE (\"ACE_OS::execlp\");\n  ACE_NOTSUP_RETURN (-1);\n  // Need to write this code.\n  //  ACE_OSCALL_RETURN (::execvp (file, argv), int, -1);\n}\n</code></pre>\n\n<p>Alternatively you could use the <code>&lt;cstdlib&gt;</code> (if supported by your compiler chain) and a code like :</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    std::system(\"ls -l &gt;test.txt\"); // execute the UNIX command \"ls -l &gt;test.txt\"\n    std::cout &lt;&lt; std::ifstream(\"test.txt\").rdbuf();\n}\n</code></pre>\n\n<p>as seen at <a href=\"http://en.cppreference.com/w/cpp/utility/program/system\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/utility/program/system</a></p>\n"}], "owner": {"reputation": 3, "user_id": 7077445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1d5766ae96e4e029f038bcd86da35f1?s=128&d=identicon&r=PG&f=1", "display_name": "supp_k", "link": "https://stackoverflow.com/users/7077445/supp-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 40273551, "answer_count": 1, "score": 0, "last_activity_date": 1477523353, "creation_date": 1477518414, "last_edit_date": 1477518831, "question_id": 40272638, "link": "https://stackoverflow.com/questions/40272638/ace-osexeclp-get-result-stdout", "title": "ACE_OS:execlp get result - stdout", "body": "<p>After several hours of googling I'm still failing to understand how to obtain result from ACE_OS::execlp command. Here I need to obtain not the status itself but the output result. For instance if I call some bash script and it produces its stdout/stderr. </p>\n\n<p>Can anybody help me how to obtain it?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1477521455, "post_id": 40272580, "comment_id": 67806259, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/20078875/merging-cvmat-horizontally\">Merging cv::Mat horizontally</a>"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1477521510, "post_id": 40272580, "comment_id": 67806279, "body": "Use vconcat ..."}], "owner": {"reputation": 4202, "user_id": 1637126, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/51fcf955014c0e6094e7dbf9ed120ca0?s=128&d=identicon&r=PG", "display_name": "Kevin Johnsrude", "link": "https://stackoverflow.com/users/1637126/kevin-johnsrude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477521801, "creation_date": 1477518177, "last_edit_date": 1477521801, "question_id": 40272580, "link": "https://stackoverflow.com/questions/40272580/whats-an-efficient-way-to-prepend-multiple-rows-to-open-cv-cvmat-in-c", "title": "What&#39;s an efficient way to prepend multiple rows to Open CV cv::Mat in C++?", "body": "<p>So to append rows to a cv:Mat I can do something like this:</p>\n\n<pre><code>Mat a(Mat::ones(2000, 3000, CV_32FC(5)));\nMat padding(Mat::zeros(2000, 3000, CV_32FC(5)));\na.push_back(padding);\n</code></pre>\n\n<p>What's the performance-efficient way to prepend rows to a? One suggestion is to use cv::vconcat but I don't think vconcat is efficient.</p>\n"}, {"tags": ["c++", "c++11", "unicode", "console", "non-ascii-characters"], "comments": [{"owner": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 5, "creation_date": 1477518326, "post_id": 40272566, "comment_id": 67805195, "body": "Welcome to the awful world of text encoding. Good luck getting an answer but I expect this might be surprisingly awkward based on your system config and compiler."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477518384, "post_id": 40272566, "comment_id": 67805212, "body": "Half the duplicate: <a href=\"http://stackoverflow.com/questions/12015571/how-to-print-unicode-character-in-c\">How to print Unicode character in C++?</a>"}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 2, "creation_date": 1477518406, "post_id": 40272566, "comment_id": 67805222, "body": "oh boy howdy are you in for a ride"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477518487, "post_id": 40272566, "comment_id": 67805248, "body": "Oh come on, folks. It&#39;s much easier than it used to be. We no longer have so sacrifice our first-born."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1477518543, "post_id": 40272566, "comment_id": 67805263, "body": "@user4581301 just our second-born"}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477518601, "post_id": 40272566, "comment_id": 67805291, "body": "<i>The &quot;\u0394&quot; doesn&#39;t even display in my IDE (Dev-C++).</i> Wait, how did you type that in the first place? Does your keyboard have a Delta key you can use? Did you add that character from another editor, outside of your IDE? Can you tell us more about this?"}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 2, "creation_date": 1477518697, "post_id": 40272566, "comment_id": 67805325, "body": "@Fr&#233;d&#233;ricHamidi It&#39;s likely that he copied the character from somewhere or simply added the Greek language in his keyboard settings to type it (typically it&#39;s the same key as the letter D)."}, {"owner": {"reputation": 76876, "user_id": 287586, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/tB5AG.png?s=128&g=1", "display_name": "dan04", "link": "https://stackoverflow.com/users/287586/dan04"}, "edited": false, "score": 0, "creation_date": 1477521267, "post_id": 40272566, "comment_id": 67806183, "body": "Does your console font support this character?"}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1477531527, "post_id": 40272566, "comment_id": 67808704, "body": "What operating system are you using? If it&#39;s Dec-C++ on Windows it gets more complicated."}, {"owner": {"reputation": 13431, "user_id": 7051394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/035a36a4ffaec4c1c1efd85e34181ace?s=128&d=identicon&r=PG&f=1", "display_name": "Right leg", "link": "https://stackoverflow.com/users/7051394/right-leg"}, "edited": false, "score": 0, "creation_date": 1480048004, "post_id": 40272566, "comment_id": 68817214, "body": "It might not be a useful comment, but as far as I know, Windows&#39; console is poorly tolerant to non-ascii characters. I used to want to print Japanese characters in Python, and well, I just could not. Although, Pyzo&#39;s console (yet another Python IDE) displayed them perfectly. Long story short, maybe the console you are using just cannot do this."}], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4208458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-diXj59ie-1A/AAAAAAAAAAI/AAAAAAAAMic/Z60IHxhjViY/photo.jpg?sz=128", "display_name": "Will Callender", "link": "https://stackoverflow.com/users/4208458/will-callender"}, "edited": false, "score": 0, "creation_date": 1477606843, "post_id": 40272820, "comment_id": 67848540, "body": "Unfortunately, @101010 , it appears the command prompt does not support the Greek Unicode escape characters. Instead of printing <code>\u0394</code>, it prints <code>\u256c&#246;</code> (<a href=\"https://www.dropbox.com/s/21u3qtu09qofbwj/delta.png?dl=0\" rel=\"nofollow noreferrer\">here&#39;s a screenshot</a>). I&#39;ll try some different console applications and see if any of those works. Thanks!"}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "reply_to_user": {"reputation": 337, "user_id": 4208458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-diXj59ie-1A/AAAAAAAAAAI/AAAAAAAAMic/Z60IHxhjViY/photo.jpg?sz=128", "display_name": "Will Callender", "link": "https://stackoverflow.com/users/4208458/will-callender"}, "edited": false, "score": 1, "creation_date": 1477612058, "post_id": 40272820, "comment_id": 67850169, "body": "Try what Howard proposed (i.e., &quot;\\xCE\\x94V&quot;) I&#39;ve tested on windows compiler and it works. Have in mind though that this stuff is not standard."}], "tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": true, "score": 18, "last_activity_date": 1477524954, "last_edit_date": 1477524954, "creation_date": 1477519222, "answer_id": 40272820, "question_id": 40272566, "link": "https://stackoverflow.com/questions/40272566/how-to-print-greek-letter-delta-in-c/40272820#40272820", "title": "How to print Greek letter delta in c++", "body": "<p>If your platform supports it, you could use unicode escape characters. For Greek capital delta the code is <code>\\u0394</code>: </p>\n\n<pre><code>#include &lt;iostream&gt;\nint\nmain() {\n  std::cout &lt;&lt; \"\\u0394V\" &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>output: <code>\u0394V</code></p>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/e611d98575f17b6d\" rel=\"noreferrer\"><strong>Live Demo</strong></a></p>\n\n<p>For the future reader, bellow I give the escape sequences for Greek capital letters:</p>\n\n<pre><code>Letter   Description  Escape-Sequence\n-------------------------------------\nA        Alpha        \\u0391\nB        Beta         \\u0392\n\u0393        Gamma        \\u0393\n\u0394        Delta        \\u0394\n\u0395        Epsilon      \\u0395\n\u0396        Zeta         \\u0396\n\u0397        Eta          \\u0397\n\u0398        Theta        \\u0398\n\u0399        Iota         \\u0399\n\u039a        Kappa        \\u039A\n\u039b        Lambda       \\u039B\n\u039c        Mu           \\u039C\n\u039d        Nu           \\u039D\n\u039e        Xi           \\u039E\n\u039f        Omicron      \\u039F\n\u03a0        Pi           \\u03A0\n\u03a1        Rho          \\u03A1\n\u03a3        Sigma        \\u03A3\n\u03a4        Tau          \\u03A4\n\u03a5        Upsilon      \\u03A5\n\u03a6        Phi          \\u03A6\n\u03a7        Chi          \\u03A7\n\u03a8        Psi          \\u03A8\n\u03a9        Omega        \\u03A9\n</code></pre>\n\n<p>and for Greek lower letters:</p>\n\n<pre><code>Letter   Description  Escape-Sequence\n-------------------------------------\n\u03b1        Alpha        \\u03B1\n\u03b2        Beta         \\u03B2\n\u03b3        Gamma        \\u03B3\n\u03b4        Delta        \\u03B4\n\u03b5        Epsilon      \\u03B5\n\u03b6        Zeta         \\u03B6\n\u03b7        Eta          \\u03B7\n\u03b8        Theta        \\u03B8\n\u03b9        Iota         \\u03B9\n\u03ba        Kappa        \\u03BA\n\u03bb        Lambda       \\u03BB\n\u03bc        Mu           \\u03BC\n\u03bd        Nu           \\u03BD\n\u03be        Xi           \\u03BE\n\u03bf        Omicron      \\u03BF\n\u03c0        Pi           \\u03C0\n\u03c1        Rho          \\u03C1\n\u03c3        Sigma        \\u03C3\n\u03c4        Tau          \\u03C4\n\u03c5        Upsilon      \\u03C5\n\u03c6        Phi          \\u03C6\n\u03c7        Chi          \\u03C7\n\u03c8        Psi          \\u03C8\n\u03c9        Omega        \\u03C9\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/06846c0276b80ea5\" rel=\"noreferrer\"><strong>Live Demo</strong></a></p>\n\n<p>For people interested on other alphabets, as well as on other symbols, you could find more supported escape characters <a href=\"http://www.rapidtables.com/code/text/unicode-characters.htm\" rel=\"noreferrer\"><strong>here</strong></a>.</p>\n"}], "owner": {"reputation": 337, "user_id": 4208458, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-diXj59ie-1A/AAAAAAAAAAI/AAAAAAAAMic/Z60IHxhjViY/photo.jpg?sz=128", "display_name": "Will Callender", "link": "https://stackoverflow.com/users/4208458/will-callender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14606, "favorite_count": 9, "accepted_answer_id": 40272820, "answer_count": 1, "score": 19, "last_activity_date": 1477524954, "creation_date": 1477518112, "last_edit_date": 1477522323, "question_id": 40272566, "link": "https://stackoverflow.com/questions/40272566/how-to-print-greek-letter-delta-in-c", "title": "How to print Greek letter delta in c++", "body": "<p>I have a small console based application that will solve physics equations. I am trying to ask the user if they want to find the \u0394V in a given situation, but I can't figure out how to print the letter delta to the console. Here's my code:</p>\n\n<pre><code>cout &lt;&lt; \"Select what you would like to find:\\n\"\n&lt;&lt; \"1 - Acceleration\" &lt;&lt; endl\n&lt;&lt; \"2 - Initial Velocity\" &lt;&lt; endl\n&lt;&lt; \"3 - Final Velocity\" &lt;&lt; endl\n&lt;&lt; \"4 -  \u0394V\" &lt;&lt; \"\\n\\n\";\ncin &gt;&gt; choice;\n</code></pre>\n\n<p>This does not print \"\u0394V\" to the console. The \"\u0394\" doesn't even display in my IDE (Dev-C++), instead being displayed as a question mark. If anyone knows how I can print \u0394 to the console I would highly appreciate any help you can give me.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 116, "user_id": 6307670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6rpZP.jpg?s=128&g=1", "display_name": "Fredrik Lundvall", "link": "https://stackoverflow.com/users/6307670/fredrik-lundvall"}, "edited": false, "score": 1, "creation_date": 1477518813, "post_id": 40272542, "comment_id": 67805363, "body": "You should only use one variable to store the current cash for the player. Increase it or decrease it in the if statements for winning or loosing. You have to move the random number generation inside the while loop to get different results at every turn."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477519858, "post_id": 40272708, "comment_id": 67805702, "body": "That should probably be <code>xCash += CashW</code> and <code>xCash -= CashL</code> instead."}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477522705, "post_id": 40272708, "comment_id": 67806605, "body": "@RemyLebeau in fact I hesitated.  The text displayed by OP is:  <i>&quot;The cash you have now is ...&quot;</i>. So I assumed it was indeed the total and not incremental wins.  But thanks for the comments:  it will help OP to adjust in case I misunderstood."}], "tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 1, "last_activity_date": 1477518743, "creation_date": 1477518743, "answer_id": 40272708, "question_id": 40272542, "link": "https://stackoverflow.com/questions/40272542/how-to-save-int-values-in-a-while-loop/40272708#40272708", "title": "How to save int values in a while loop?", "body": "<p>In your code you currently display either <code>CashW</code> or <code>CashL</code> depending on the gampbling result.  </p>\n\n<p>Unfortunately, you only print out the result and never store it into  <code>xCash</code>.  So at next iteration you start again with the same <code>xCash</code> value ! </p>\n\n<p>You can easily solve this by adding <code>xCash = CashW;</code> or <code>xCash = CashL;</code> just under the line in which you display the result.  </p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1477519778, "creation_date": 1477519778, "answer_id": 40272912, "question_id": 40272542, "link": "https://stackoverflow.com/questions/40272542/how-to-save-int-values-in-a-while-loop/40272912#40272912", "title": "How to save int values in a while loop?", "body": "<p>You are never updating <code>xCash</code> with the amount of each win/loss.  You are not generating a new random number on each loop iteration.  And you are stuck in an endless loop because you never update the loop variable <code>again</code>.</p>\n\n<p>Try something more like this instead:</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt; \n\nusing namespace std;\n\nint main()\n{\n    const int CashW = 1000;\n    const int CashL = 1000;\n\n    int xCash = 1000;\n    int xRan;\n    char answer;\n\n    srand(time(0));\n\n    cout &lt;&lt; \" Welcome to the Gambling Game!\" &lt;&lt; endl;\n    cout &lt;&lt; \" If the number is above 50 I win!\" &lt;&lt; endl;\n    cout &lt;&lt; \" If the number is below 50 you win!\" &lt;&lt; endl;\n\n    do\n    {\n        xRan = rand() % 100 + 1;\n        cout &lt;&lt; \" The Number I Choose Is: \" &lt;&lt; xRan &lt;&lt; endl;\n\n        if (xRan &lt; 50) {\n            cout &lt;&lt; \" You win, rats!\" &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you started with was: \" &lt;&lt; xCash &lt;&lt; endl;\n            xCash += CashW;\n            cout &lt;&lt; \" The cash you have now is: \" &lt;&lt; xCash &lt;&lt; endl;\n        }\n\n        else if (xRan &gt; 50) {\n            cout &lt;&lt; \" I win, you lose!\" &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you started with was: \" &lt;&lt; xCash &lt;&lt; endl;\n            xCash -= CashL;\n            cout &lt;&lt; \" The cash you have now is: \" &lt;&lt; xCash &lt;&lt; endl;\n        }\n\n        else {\n            cout &lt;&lt; \" dang, a draw!\" &lt;&lt; endl;\n        }\n\n        cout &lt;&lt; \" play again? \" &lt;&lt; endl;\n        cin &gt;&gt; answer;\n\n        if ((answer != 'y') &amp;&amp; (answer != 'Y')) {\n            cout &lt;&lt; \" All done? Come back again another time!\" &lt;&lt; endl;\n            break;\n        }\n\n        cout &lt;&lt; \" Cool, a gambling man! Time to make some cash\" &lt;&lt; endl;\n    }\n    while (true);\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7077422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb123c15f8181379cb1d64d7fea15b8d?s=128&d=identicon&r=PG&f=1", "display_name": "Derek Johnson", "link": "https://stackoverflow.com/users/7077422/derek-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477519778, "creation_date": 1477518018, "question_id": 40272542, "link": "https://stackoverflow.com/questions/40272542/how-to-save-int-values-in-a-while-loop", "title": "How to save int values in a while loop?", "body": "<p>My question is this, how do I save an int value in a while loop, my code is all about gambling, you start with 1,000 and you want to make the most amount of cash, but when I roll again my cash restores back to its original value that I set.</p>\n\n<p>My code is this (Note I am new so do not laugh at how bad it is)</p>\n\n<pre><code>#include &lt;cmath&gt;\n#include &lt;stdio.h&gt;\n#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt; \nusing namespace std;\n\n\nint main()\n{\n    char again = 'Y';\n    int test;\n    int yes;\n    int CashW;\n    CashW = 1000;\n    int CashL;\n    CashL = 1000;\n    int yLose;\n    yLose = 500;\n    int xCash;\n    xCash = 1000;\n    int xRan;\n    srand(time(0));\n    xRan = rand() % 100 + 1;\n    cout &lt;&lt; \" Welcome to the Gambling Game!\" &lt;&lt; endl;\n        cout &lt;&lt; \" If the number is above 50 I win!\" &lt;&lt; endl;\n        cout &lt;&lt; \" If the number is below 50 you lose!\" &lt;&lt; endl;\n        while (again == 'y' || again == 'Y')\n        {\n        cout &lt;&lt; \" The Number I Choose Is: \" &lt;&lt; xRan &lt;&lt; endl;\n\n\n        CashL = xCash - xCash - xCash;\n        CashW = xCash + xCash;\n\n\n        if (xRan &lt; 50) {\n            cout &lt;&lt; \" You win, rats!\" &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you started with was: \" &lt;&lt; xCash &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you have now is: \" &lt;&lt; CashW &lt;&lt; endl;\n            cout &lt;&lt; \" Type 1 to play again, type 2 to close the game.\" &lt;&lt; endl;\n            cin &gt;&gt; yes;\n\n        }\n\n        if (xRan &gt; 50) {\n            cout &lt;&lt; \" I win, you lose!\" &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you started with was: \" &lt;&lt; xCash &lt;&lt; endl;\n            cout &lt;&lt; \" The cash you have now is: \" &lt;&lt; CashL &lt;&lt; endl;\n            cout &lt;&lt; \" Type 1 to play again, type 2 to close the game.\" &lt;&lt; endl;\n            cin &gt;&gt; yes;\n\n        }\n\n        if (yes == 1) {\n            cout &lt;&lt; \" Cool, a gambling man! Time to make some cash\" &lt;&lt; endl;\n        }\n\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "debugging", "pointers", "qt-creator"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1477518168, "post_id": 40272524, "comment_id": 67805139, "body": "Is this a debug or release build?"}, {"owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1477518277, "post_id": 40272524, "comment_id": 67805173, "body": "@MrEricSir debug session, still in dev phase (alpha). but I am confused as to how it really makes a difference to which build it is?"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477519446, "post_id": 40272524, "comment_id": 67805576, "body": "Well, as far as I can see the QT Creator uses a system debugger (e.g. GDB), which normally needs debug information included in the executable to display it (which is normally not present in the release builds)."}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1477521122, "post_id": 40272524, "comment_id": 67806122, "body": "First and foremost, which Qt Creator version, under which OS and using which debugger?"}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1477521210, "post_id": 40272524, "comment_id": 67806167, "body": "(Second: we <i>do</i> help on IRC, you were just unlucky, try during CET working hours. Third: for the love of kittens, use QSettings or QStandardPaths rather than assembling those paths manually!)"}], "owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 426, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477517921, "creation_date": 1477517921, "question_id": 40272524, "link": "https://stackoverflow.com/questions/40272524/qt-debugging-not-resolving-pointers", "title": "QT debugging not resolving pointers", "body": "<p>Not sure if this is a bug, or meant to be. Googling this did not give any information except <a href=\"http://doc.qt.io/qtcreator/creator-troubleshooting-debugging.html\" rel=\"nofollow\">QT-Creator Troubleshoot</a> with heading:</p>\n\n<blockquote>\n  <p>Pointer Variable Members Are Not Displayed Directly</p>\n</blockquote>\n\n<p><em>Simply refering to: enable dereferncing of pointers.</em></p>\n\n<p>I have this enabled, please see screenshot of debugging session</p>\n\n<p><strong>Problem:</strong></p>\n\n<p>Just as creating a new object e.g.:</p>\n\n<pre><code>QString newString = QString(\"This is a new string\");\n</code></pre>\n\n<p>is shown in the debugger and the contents of <code>newString</code> is shown in the debugger. </p>\n\n<p>However changing this to a pointer e.g.</p>\n\n<pre><code>QString *newString = new QString(\"This is a new string\");\n</code></pre>\n\n<p>Just as all my defined pointers in the screenshot, these pointers and <code>newString</code> pointer will not resolve the contents held.</p>\n\n<p><strong>Is this a bug or is QT unable to resolve this?</strong></p>\n\n<p>see below indepth view of debugger info:</p>\n\n<p><strong>debugger info screenshot</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/I39Ey.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/I39Ey.png\" alt=\"Debug Screenshot\"></a></p>\n\n<p><strong>debugger info data</strong></p>\n\n<pre><code>Locals      \n    appdata @0x7fffffffe000 QString\n        d   @0x5555557ea610 QString::Data\n            [QArrayData]    @0x5555557ea610 QArrayData\n                alloc   20  uint\n                capacityReserved    0   uint\n                offset  24  qptrdiff\n                ref @0x5555557ea610 QtPrivate::RefCount\n                shared_null @0x7ffff6a16ee0 QArrayData [2]\n                size    21845   int\n        null    @0x7ffff6a8d6a0 QString::Null\n    dir @0x7fffffffe060 QDir\n        d_ptr   @0x7fffffffe060 QSharedDataPointer&lt;QDirPrivate&gt;\n            d   @0x5555557ede00 QDirPrivate\n    projDir @0x7fffffffe010 QString\n        d   @0x5555557eabf0 QString::Data\n            [QArrayData]    @0x5555557eabf0 QArrayData\n                alloc   11  uint\n                capacityReserved    0   uint\n                offset  24  qptrdiff\n                ref @0x5555557eabf0 QtPrivate::RefCount\n                shared_null @0x7ffff6a16ee0 QArrayData [2]\n                size    21845   int\n        null    @0x7ffff6a8d6a0 QString::Null\n    this    @0x5555557e8c80 dataManager\n        configFile  0x0 QFile *\n        configPath  0x0 QString *\n        networkManager  @0x5555557e8c80 netman\n        paths_list  @0x5555557e8d00 QStringList\n        userFile    @0x5555557eea70 QFile\n        userName    @0x5555557e8cf8 QString\n            d   @0x5555557efb30 QString::Data\n                [QArrayData]    @0x5555557efb30 QArrayData\n                    alloc   3   uint\n                    capacityReserved    0   uint\n                    offset  24  qptrdiff\n                    ref @0x5555557efb30 QtPrivate::RefCount\n                    shared_null @0x7ffff6a16ee0 QArrayData [2]\n                        [0] @0x7ffff6a16ee0 QArrayData\n                        [1] @0x7ffff6a16ef8 QArrayData\n                    size    2   int\n            null    @0x7ffff6a8d6a0 QString::Null\n        userPath    @0x5555557ec8f0 QString\n            d   @0x5555557ed6b0 QString::Data\n            null    @0x7ffff6a8d6a0 QString::Null\n    userConfName    @0x7fffffffdff0 QString\n        d   @0x5555557df5e0 QString::Data\n            [QArrayData]    @0x5555557df5e0 QArrayData\n                alloc   14  uint\n                capacityReserved    0   uint\n                offset  24  qptrdiff\n                ref @0x5555557df5e0 QtPrivate::RefCount\n                shared_null @0x7ffff6a16ee0 QArrayData [2]\n                    [0] @0x7ffff6a16ee0 QArrayData\n                        alloc   0   uint\n                        capacityReserved    0   uint\n                        offset  24  qptrdiff\n                        ref @0x7ffff6a16ee0 QtPrivate::RefCount\n                        shared_null @0x7ffff6a16ee0 QArrayData [2]\n                            [0] @0x7ffff6a16ee0 QArrayData\n                                alloc   0   uint\n                                capacityReserved    0   uint\n                                offset  24  qptrdiff\n                                ref @0x7ffff6a16ee0 QtPrivate::RefCount\n                                shared_null @0x7ffff6a16ee0 QArrayData [2]\n                                size    0   int\n                            [1] @0x7ffff6a16ef8 QArrayData\n                                alloc   0   uint\n                                capacityReserved    0   uint\n                                offset  0   qptrdiff\n                                ref @0x7ffff6a16ef8 QtPrivate::RefCount\n                                shared_null @0x7ffff6a16ee0 QArrayData [2]\n                                size    0   int\n                        size    0   int\n                    [1] @0x7ffff6a16ef8 QArrayData\n                        alloc   0   uint\n                        capacityReserved    0   uint\n                        offset  0   qptrdiff\n                        ref @0x7ffff6a16ef8 QtPrivate::RefCount\n                        shared_null @0x7ffff6a16ee0 QArrayData [2]\n                        size    0   int\n                size    21845   int\n        null    @0x7ffff6a8d6a0 QString::Null\nInspector       \nExpressions     \nReturn Value        \nTooltip     \n</code></pre>\n"}, {"tags": ["c++", "stl", "iterator"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1477518161, "post_id": 40272503, "comment_id": 67805136, "body": "&quot;In my school textbook&quot; wow. <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">Consider getting a better one</a>."}, {"owner": {"reputation": 1802, "user_id": 3421618, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TQAL7.jpg?s=128&g=1", "display_name": "ProXicT", "link": "https://stackoverflow.com/users/3421618/proxict"}, "edited": false, "score": 0, "creation_date": 1477518178, "post_id": 40272503, "comment_id": 67805142, "body": "<code>std::list</code> does not have a random access iterator like e.g. <code>std::vector</code>"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1477518236, "post_id": 40272503, "comment_id": 67805165, "body": "If the school textbook had this line: <b><i>list&lt;int&gt;::iterator i = 0;</i></b> I agree you need a better book.."}, {"owner": {"reputation": 75, "user_id": 6688847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TqfsnKxL8Eo/AAAAAAAAAAI/AAAAAAAAAB8/E1-NJ6D78yw/photo.jpg?sz=128", "display_name": "Dr Negative", "link": "https://stackoverflow.com/users/6688847/dr-negative"}, "edited": false, "score": 0, "creation_date": 1477518365, "post_id": 40272503, "comment_id": 67805204, "body": "drescherjm: Everything in the textbook has been fine up to now."}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 1, "creation_date": 1477518727, "post_id": 40272503, "comment_id": 67805334, "body": "Note that this will not work even with vector (like &quot;<code>vector&lt;int&gt;::iterator i = 0</code>&quot;)"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1477522161, "post_id": 40272503, "comment_id": 67806438, "body": "Geez guys, it was just a typo, I don&#39;t think that warrants the &quot;get a better book&quot; comments, especially since we don&#39;t even know what book is actually being used.  Just remove the <code>= 0</code> from the iterator declaration and move on."}], "answers": [{"comments": [{"owner": {"reputation": 1802, "user_id": 3421618, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/TQAL7.jpg?s=128&g=1", "display_name": "ProXicT", "link": "https://stackoverflow.com/users/3421618/proxict"}, "edited": false, "score": 1, "creation_date": 1477518303, "post_id": 40272548, "comment_id": 67805184, "body": "You are right, however, you did not explain why <code>0</code> may not be a valid value for an iterator. If I am not mistaken, is it because <code>std::list</code> does not have random access iterator unlike from e.g. <code>std::vector</code>?"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477518495, "post_id": 40272548, "comment_id": 67805249, "body": "As far as I can tell, an integer is not a valid value for (any) iterator, because to construct an iterator, you need to somehow refer the original structure (where you get the iterator from). And this is clearly not the case with a simple integer. (or of course without arguments you create an invalid empty iterator)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1477518579, "post_id": 40272548, "comment_id": 67805279, "body": "There may not be a constructor or assignment operator that takes an integer value."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1477519147, "post_id": 40272548, "comment_id": 67805491, "body": "According to cppreference.com, the <a href=\"http://en.cppreference.com/w/cpp/container/list\" rel=\"nofollow noreferrer\"><code>std::list::iterator</code></a> only has to satisfy the <i>Bidirectional Iterator</i> interface."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 1, "creation_date": 1477520249, "post_id": 40272548, "comment_id": 67805826, "body": "The code in the book may have been tested on an old compiler and library in which the list::iterator was a typedef for some sort of pointer. In that case, 0 would have been ok and synonymous to the null pointer."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 0, "creation_date": 1477522779, "post_id": 40272548, "comment_id": 67806623, "body": "@KlitosKyriacou: it makes sense that a <code>std::vector</code> iterator might be implemented using a raw pointer to the vector data, but a <code>std::list</code> iterator could never be implemented as a raw pointer, since pointer arithmetic on a list node pointer would not iterate the list correctly (unless the nodes are stored in contiguous memory, which <code>std::list</code> is not guaranteed to use). Iteration requires access to each node&#39;s inner pointers, and so a list  iterator would have to use a specialized class to handle the <code>++</code> and <code>--</code> operators correctly."}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477530529, "post_id": 40272548, "comment_id": 67808484, "body": "@RemyLebeau you have a point - list::iterator wouldn&#39;t be a pointer."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 3, "last_activity_date": 1477518033, "creation_date": 1477518033, "answer_id": 40272548, "question_id": 40272503, "link": "https://stackoverflow.com/questions/40272503/c-cannot-assign-index-to-iterator/40272548#40272548", "title": "C++: cannot assign index to iterator", "body": "<p>The value <code>0</code> may not be a valid value for an iterator.  Try either removing the assignment or assigning the iterator to <code>myIntList.begin()</code>.</p>\n\n<p>The iterator may not be able to be treated as an index, like with a <code>vector</code> or array.  Usually linked lists are not accessed by index; you have to traverse from the beginning.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1477522503, "creation_date": 1477522503, "answer_id": 40273417, "question_id": 40272503, "link": "https://stackoverflow.com/questions/40272503/c-cannot-assign-index-to-iterator/40273417#40273417", "title": "C++: cannot assign index to iterator", "body": "<blockquote>\n  <p>What is the problem with the code presented</p>\n</blockquote>\n\n<p>A simple typo in the example.</p>\n\n<blockquote>\n  <p>what is the solution</p>\n</blockquote>\n\n<p>Replace this line:</p>\n\n<pre><code>list&lt;int&gt;::iterator i = 0;\n</code></pre>\n\n<p>With this instead:</p>\n\n<pre><code>list&lt;int&gt;::iterator i;\n</code></pre>\n\n<blockquote>\n  <p>why is this a problem to begin with?</p>\n</blockquote>\n\n<p>You cannot initialize an iterator with an integer value.  Only the container knows what its iterators refer to, so only the container can initialize them.  All you can do is request an iterator from a container, assign an iterator to another iterator, and increment/decrement/dereference an iterator.  That is all.</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 7077457, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W9rEg.jpg?s=128&g=1", "display_name": "Veronika Franc", "link": "https://stackoverflow.com/users/7077457/veronika-franc"}, "is_accepted": false, "score": 1, "last_activity_date": 1477522739, "creation_date": 1477522739, "answer_id": 40273457, "question_id": 40272503, "link": "https://stackoverflow.com/questions/40272503/c-cannot-assign-index-to-iterator/40273457#40273457", "title": "C++: cannot assign index to iterator", "body": "<p>From <a href=\"http://www.cplusplus.com/reference/iterator/\" rel=\"nofollow\">http://www.cplusplus.com/reference/iterator/</a>:</p>\n\n<blockquote>\n  <p>An iterator is any object that, pointing to some element in a range of elements (such as an array or a container), has the ability to iterate through the elements of that range using a set of operators (with at least the increment (++) and dereference (*) operators).</p>\n</blockquote>\n\n<p>This means that an iterator should be able to do the following:</p>\n\n<ol>\n<li>Return the object it's currently \"pointing\" to (using the <code>*</code> operator)</li>\n<li>Change itself to \"point\" to the next object in its list (using the <code>++</code> operator)</li>\n</ol>\n\n<p>A reason for the existence of the iterator as a data type is to create a general way of interacting with different kinds of lists.  However, this means that different lists will implement their iterators differently.</p>\n\n<p>In many circumstances, initializing an iterator to a number doesn't make sense because of the implementation under the hood.  As a result, we don't define an assignment operator with our iterator type <code>std::vector&lt;int&gt;::iterator</code> on the left and an <code>int</code> on the right.  So when you try to assign your iterator to an integral value, <code>list&lt;int&gt;::iterator i = 0;</code> your compiler throws an error.</p>\n\n<p>Let's look at an example where assigning an iterator to <code>0</code> doesn't make sense.   You could implement an iterator for <code>std::vector&lt;int&gt;</code> as a pointer to an element in your vector.  In this case:</p>\n\n<ol>\n<li><code>*</code> dereferences the pointer stored in <code>vector&lt;int&gt;::iterator</code> and returns its value.</li>\n<li><code>++</code> modifies the pointer stored in <code>vector&lt;int&gt;::iterator</code> to point at the <em>next</em> element in the list.</li>\n</ol>\n\n<p>However, assigning this pointer to <code>0</code> would be the same as assigning it to <code>NULL</code>, and dereferencing it no longer returns a valid element in your vector.  (In fact, dereferencing <code>NULL</code> will cause an error!)</p>\n\n<p>To avoid this error, simply make sure that you always assign your iterator to a value of the same type.  In the STL, this is usually accomplished by using <code>.begin()</code> to return an iterator that points to the first element in your list.</p>\n"}], "owner": {"reputation": 75, "user_id": 6688847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TqfsnKxL8Eo/AAAAAAAAAAI/AAAAAAAAAB8/E1-NJ6D78yw/photo.jpg?sz=128", "display_name": "Dr Negative", "link": "https://stackoverflow.com/users/6688847/dr-negative"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 40273417, "answer_count": 3, "score": 0, "last_activity_date": 1477522739, "creation_date": 1477517826, "last_edit_date": 1477518958, "question_id": 40272503, "link": "https://stackoverflow.com/questions/40272503/c-cannot-assign-index-to-iterator", "title": "C++: cannot assign index to iterator", "body": "<p>Okay, a small problem with, hopefully, a quick, simple solution.</p>\n\n<p>In my school textbook, in a chapter about the STL, it gives a simple sample program to input for using lists and for using an iterator with a list, like so:</p>\n\n<pre><code>#include &lt;list&gt; \n#include &lt;iostream&gt; \n#include &lt;string&gt; \nusing namespace std;  \n\nint main() \n{  \n    list&lt;int&gt; myIntList;   \n\n    // Insert to the front of the list.  \n    myIntList.push_front(4);  \n    myIntList.push_front(3);  \n    myIntList.push_front(2);  \n    myIntList.push_front(1);   \n\n    // Insert to the back of the list.  \n    myIntList.push_back(5);  \n    myIntList.push_back(7);  \n    myIntList.push_back(8);  \n    myIntList.push_back(9);   \n\n    // Forgot to add 6 to the list, insert before 7.  But first  \n    // we must get an iterator that refers to the position  \n    // we want to insert 6 at.  So do a quick linear search       \n    // of the list to find that position.    \n    list&lt;int&gt;::iterator i = 0;  \n    for( i = myIntList.begin(); i != myIntList.end(); ++i )   \n        if( *i == 7 ) break;        \n\n    // Insert 6 were 7 is (the iterator I refers to the position        \n    // that 7 is located.  This does not overwrite 7; rather it       \n    // inserts 6 between 5 and 7.  \n    myIntList.insert(i, 6);   \n\n    // Print the list to the console window.  \n    for( i = myIntList.begin(); i != myIntList.end(); ++i )   \n        cout &lt;&lt; *i &lt;&lt; \" \";   cout &lt;&lt; endl; \n}\n</code></pre>\n\n<p>Now, at the line that says</p>\n\n<pre><code>list&lt;int&gt;::iterator i = 0;\n</code></pre>\n\n<p>I get an error in VS 2015 that says:</p>\n\n<pre><code>no suitable constructor exists to convert from\"int\" to \"std::_List_iterator&lt;std::_List_val&lt;std::_List simple_types&lt;int&gt;&gt;&gt;\" \n</code></pre>\n\n<p>What is the problem with the code presented, what is the solution, and why is this a problem to begin with? &lt;-(I'll even settle with a simple grammatical error).</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 2, "creation_date": 1477517100, "post_id": 40272352, "comment_id": 67804723, "body": "What compiler are you using? Can you provide a minimal test case that we can use to confirm this?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 9, "creation_date": 1477517182, "post_id": 40272352, "comment_id": 67804764, "body": "How about if you just <i>don&#39;t</i> define this function yourself, and include <code>&lt;algorith&gt;</code> or <code>&lt;utility&gt;</code> where you need to use a <code>swap</code>?"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 1, "creation_date": 1477517347, "post_id": 40272352, "comment_id": 67804826, "body": "Yeah, if you make a template swap as in the example, and that swap isn&#39;t part of your standard library, its going to conflict with EVERYTHING."}, {"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 2, "creation_date": 1477517475, "post_id": 40272352, "comment_id": 67804877, "body": "Put your <code>swap</code> in its own namespace."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1477517558, "post_id": 40272352, "comment_id": 67804917, "body": "The namespace is not going to help a lot. Look up the rules for Argument Dependent Lookup aka ADL. It&#39;s going to pull in functions from the namespace of any of the <i>arguments</i>"}, {"owner": {"reputation": 357, "user_id": 2908202, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100001195648592/picture?type=large", "display_name": "Patrick Jeeves", "link": "https://stackoverflow.com/users/2908202/patrick-jeeves"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1477517559, "post_id": 40272352, "comment_id": 67804918, "body": "I guess @JerryCoffin has the best idea, but I wish there were a better solution, because I know this sort of thing will crop up again."}, {"owner": {"reputation": 2954, "user_id": 5508296, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/l6uTa.jpg?s=128&g=1", "display_name": "sjrowlinson", "link": "https://stackoverflow.com/users/5508296/sjrowlinson"}, "edited": false, "score": 4, "creation_date": 1477517600, "post_id": 40272352, "comment_id": 67804932, "body": "Is there any reason that you <i>are</i> defining a custom <code>swap</code> function rather than using <code>std::swap</code> anyway?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1477517746, "post_id": 40272352, "comment_id": 67804990, "body": "You could make an ADL barrier, but <i>why</i> do you have this in the first place?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1477518553, "post_id": 40272352, "comment_id": 67805270, "body": "Do you have <code>using namespace std;</code> all over the place?"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1477520912, "post_id": 40272352, "comment_id": 67806046, "body": "@ZanLynx You are mistaken that namespacing will not help. Putting a function in a namespace by itself will prevent it from being found by ADL; if it&#39;s in a namespace by itself then there are no types in that namespace, then an argument can never have a type from the same namespace as the function, so ADL will never find it."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1477523276, "post_id": 40272352, "comment_id": 67806765, "body": "Can you post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? But seriously, remove that function."}], "owner": {"reputation": 357, "user_id": 2908202, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100001195648592/picture?type=large", "display_name": "Patrick Jeeves", "link": "https://stackoverflow.com/users/2908202/patrick-jeeves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1477518881, "creation_date": 1477517040, "question_id": 40272352, "link": "https://stackoverflow.com/questions/40272352/how-do-i-fix-an-ambigous-funciton-call-in-deque", "title": "How do I fix an ambigous funciton call in `&lt;deque&gt;`", "body": "<p>So one of my files that most files include defines the function:</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid swap(T &amp; a, T &amp; b)\n{\n    T t = a;\n    a = b;\n    b = t;\n}\n</code></pre>\n\n<p>And this is producing an error from <code>&lt;deque&gt;</code> saying that a call to std::swap in <code>&lt;bits/move.h&gt;</code> is ambiguous; is there a way to bring std::swap into my namespace without pulling in anything else to resolve this?</p>\n\n<p>I tried <code>#define swap std::swap</code> but that just resulted in the error <code>std::std::swap undeclared</code> in<code>&lt;deque&gt;</code></p>\n"}, {"tags": ["c++", "c++11", "templates"], "comments": [{"owner": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1477516398, "post_id": 40272188, "comment_id": 67804339, "body": "If <code>IsEmpty()</code> is true the element throws an exception because you are trying to return a declared but uninitialized variable."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1477516885, "post_id": 40272188, "comment_id": 67804604, "body": "In general, you don&#39;t. Throwing an exception sounds good to me."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1477516896, "post_id": 40272188, "comment_id": 67804613, "body": "Make sure that types used as the template parameter T have valid default and copy constructors"}, {"owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "reply_to_user": {"reputation": 6596, "user_id": 5021321, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/29f10a1b457e63d44e3a221e89e32c17?s=128&d=identicon&r=PG", "display_name": "Eli Sadoff", "link": "https://stackoverflow.com/users/5021321/eli-sadoff"}, "edited": false, "score": 0, "creation_date": 1477518025, "post_id": 40272188, "comment_id": 67805097, "body": "@EliSadoff, you are correct, but is there a default value that can be set?"}, {"owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1477518074, "post_id": 40272188, "comment_id": 67805108, "body": "@user3159253 this can/will be used for any datatype. including int, strings and custom data types."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 1, "creation_date": 1477518153, "post_id": 40272188, "comment_id": 67805133, "body": "int, std::string and other &quot;standard&quot; types do have valid default and copy constructors. For integral types default value is 0, for std::string \u2014 an empty string and they don&#39;t produce an exception on copying, obviously. What kind of exception do you get?"}, {"owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1477518305, "post_id": 40272188, "comment_id": 67805187, "body": "@user3159253 how do I set a generic default value to <code>element</code>. Is there something like. <code>T element = T.Default();</code> that I can do?"}, {"owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1477518430, "post_id": 40272188, "comment_id": 67805230, "body": "@user3159253, The exception I am getting is returning an uninitialized variable."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 1, "creation_date": 1477518910, "post_id": 40272188, "comment_id": 67805395, "body": "You do invoke default T constructor in the statement <code>T element</code>. If T is a primitive (integral) type you may get a <i>compiler warning</i> about uninitialized variable, not a runtime exception. If you get an exception, then a class for which you instantiate your <code>List</code> generates this exception."}, {"owner": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 1, "creation_date": 1477519073, "post_id": 40272188, "comment_id": 67805459, "body": "In C++11 you may avoid <code>-Wuninitialized</code> warning by using <code>T element{};</code> which essentially is the excplicit way to invoke type default constructor. But again, it&#39;s just a workaround against compiler warning, not an exception"}, {"owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "reply_to_user": {"reputation": 14855, "user_id": 3159253, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/046000bcd9bbb664fc01891f558baa0d?s=128&d=identicon&r=PG&f=1", "display_name": "user3159253", "link": "https://stackoverflow.com/users/3159253/user3159253"}, "edited": false, "score": 0, "creation_date": 1477519771, "post_id": 40272188, "comment_id": 67805668, "body": "@user3159253, <code>T element{}</code> worked. Thanks much:). You are right, it was not an exception but a run time warning."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1477520681, "post_id": 40272188, "comment_id": 67805968, "body": "@codeAndQuote: compile time warning."}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 3, "last_activity_date": 1477520865, "last_edit_date": 1477520865, "creation_date": 1477520480, "answer_id": 40273051, "question_id": 40272188, "link": "https://stackoverflow.com/questions/40272188/default-return-value-for-a-template-variable/40273051#40273051", "title": "Default return value for a template variable", "body": "<blockquote>\n  <p>What value should be returned when the list is empty.</p>\n</blockquote>\n\n<p>There are two reasonable options.</p>\n\n<ol>\n<li><p>Who cares. Set as a precondition that <code>GetElementFromHead()</code> shall only be called if the list isn't empty, and then you can just write:</p>\n\n<pre><code>template &lt;class T&gt;\nT&amp; List&lt;T&gt;::GetElementFromHead() {\n    return Head-&gt;value;\n}\n</code></pre>\n\n<p>This has several nice things about it. No copies. It's fast. I can modify the value if I want to. No extra branch, since you're requiring the user to do it up front. No need to worry about what the error case is or coming up with a reasonable sentinel value. If you return <code>T{}</code>, what if <code>T</code> is <code>int</code> and the list can have <code>0</code> normally - how does the user differentiate between a \"real\" <code>0</code> and a \"fake\" <code>0</code>? </p>\n\n<p>This is how the standard library implements <a href=\"http://en.cppreference.com/w/cpp/container/list/front\" rel=\"nofollow\"><code>list::front()</code></a>, <a href=\"http://en.cppreference.com/w/cpp/container/vector/front\" rel=\"nofollow\"><code>vector::front()</code></a>, etc. Do as the standard library do is usually a good decision. </p></li>\n<li><p>Encapsulate in the return value itself whether or not it's a real value:</p>\n\n<pre><code>template &lt;class T&gt;\nstd::optional&lt;T&gt; List&lt;T&gt;::GetElementFromHead() {\n    if (!IsEmpty()) {\n        return Head-&gt;value;\n    }\n    else {\n        return std::nullopt;\n    }\n}\n</code></pre>\n\n<p>(If using <code>boost::optional</code>, the last line should return <code>boost::none</code>). This way, the return value itself makes it clear what situation we're in - we either have a value and that value is the front of the list, or we don't have a value. Again, no need to come up with a sentinel.</p>\n\n<p>An alternative version of this would be to return a <code>T*</code>, and <code>nullptr</code> on failure. This has the advantage that it doesn't incur a copy or require that <code>T</code> be copy constructible. </p></li>\n</ol>\n"}], "owner": {"reputation": 41, "user_id": 5253059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5279b15788fb16a35b0c24c71919301?s=128&d=identicon&r=PG&f=1", "display_name": "codeAndQuote", "link": "https://stackoverflow.com/users/5253059/codeandquote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 40273051, "answer_count": 1, "score": 2, "last_activity_date": 1477520865, "creation_date": 1477516298, "last_edit_date": 1477520727, "question_id": 40272188, "link": "https://stackoverflow.com/questions/40272188/default-return-value-for-a-template-variable", "title": "Default return value for a template variable", "body": "<p>I have a template link list implementation in which </p>\n\n<pre><code>T List&lt;T&gt;::GetElementFromHead()\n</code></pre>\n\n<p>returns value from the head of the list. What value should be returned when the list is empty. </p>\n\n<pre><code>template &lt;class T&gt;\nT List&lt;T&gt;::GetElementFromHead()\n{\n    T element;\n    if (!IsEmpty())\n    {\n        element = Head-&gt;value;\n    }\n    return element;\n}\n</code></pre>\n\n<p>If <code>IsEmpty()</code> returns <em>true</em> then <code>return element;</code> throws exception. </p>\n\n<p>How do I return null or and empty value in this case?</p>\n"}, {"tags": ["android", "c++", "sdl", "sdl-mixer"], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 1730342, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b52bfda5e3c86b296d5bde3be6c89bd?s=128&d=identicon&r=PG", "display_name": "Domarius", "link": "https://stackoverflow.com/users/1730342/domarius"}, "edited": false, "score": 0, "creation_date": 1533159911, "post_id": 42882075, "comment_id": 90249777, "body": "Unfortunately, neither of these approaches worked for me... is this tested with SDL_Mixer 2.0.2? And I think you mean &quot;music_mikmod.c&quot; instead of &quot;music_mod.c&quot;, both times it&#39;s mentioned."}, {"owner": {"reputation": 1, "user_id": 6083200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48028bff907fc0e46944b8d1196c8c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Baum", "link": "https://stackoverflow.com/users/6083200/christian-baum"}, "reply_to_user": {"reputation": 377, "user_id": 1730342, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b52bfda5e3c86b296d5bde3be6c89bd?s=128&d=identicon&r=PG", "display_name": "Domarius", "link": "https://stackoverflow.com/users/1730342/domarius"}, "edited": false, "score": 0, "creation_date": 1570055355, "post_id": 42882075, "comment_id": 102797737, "body": "It&#39;s my understanding that SDL_Mixer 2.0.2 uses libmodplug-0.8.9.0, so that version must be used. Are you saying recompiling didn&#39;t work either?"}, {"owner": {"reputation": 377, "user_id": 1730342, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2b52bfda5e3c86b296d5bde3be6c89bd?s=128&d=identicon&r=PG", "display_name": "Domarius", "link": "https://stackoverflow.com/users/1730342/domarius"}, "edited": false, "score": 0, "creation_date": 1570146298, "post_id": 42882075, "comment_id": 102831137, "body": "It was a while ago, but from memory it recompiled and exhibited the same behaviour.  I think if I go down this route again I will look into using libopenmpt."}], "tags": [], "owner": {"reputation": 1, "user_id": 6083200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48028bff907fc0e46944b8d1196c8c9c?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Baum", "link": "https://stackoverflow.com/users/6083200/christian-baum"}, "is_accepted": false, "score": 0, "last_activity_date": 1570055453, "last_edit_date": 1570055453, "creation_date": 1489888491, "answer_id": 42882075, "question_id": 40272144, "link": "https://stackoverflow.com/questions/40272144/sdl-mixer-mod-music-looping/42882075#42882075", "title": "SDL_Mixer MOD music looping", "body": "<p>To accomplish this without ditching SDL_Mixer, you will need to edit some structs for MikMod and libmodplug. There are two ways you can go about editing these structs:</p>\n\n<h2>Without editing and recompiling SDL_Mixer</h2>\n\n<p>The first option is to include and link either MikMod or libmodplug into your project. SDL_Mixer usually only uses one of these.</p>\n\n<pre><code>#ifdef MIKMOD_HACK\n#include &lt;mikmod.h&gt;\n#elif defined MODPLUG_HACK\n#include &lt;libmodplug/modplug.h&gt;\n#endif\n</code></pre>\n\n<p>After calling Mix_OpenAudio, you can apply the libmodplug hack:</p>\n\n<pre><code>Mix_OpenAudio(11025, AUDIO_U8, 4096)\n#ifdef MODPLUG_HACK\nModPlug_Settings settings;\nModPlug_GetSettings(&amp;settings);\nsettings.mLoopCount = -1;\nModPlug_SetSettings(&amp;settings)\n#endif\n</code></pre>\n\n<p>After playing a Mix_Music, you can apply the MikMod hack:</p>\n\n<pre><code>Mix_PlayMusic(music, 0) /*we won't be using SDL's looping*/\n#ifdef MIKMOD_HACK\nMODULE *mod = Player_GetModule()\nmod-&gt;wrap = 1; /*This option will loop without stutter*/\nmod-&gt;loop = 1; /*This option will make the player obey Position Jumps*/\n#endif\n</code></pre>\n\n<p>As for finding out which hack to use... By default, SDL_Mixer uses libmodplug 0.8.8.5. The hack does not seem to work with linking 0.8.9.0 if SDL_Mixer uses 0.8.8.5, and the hack does not seem to work with linking 0.8.8.5 if the hack uses 0.8.9.0. SDL_Mixer uses 0.8.8.5 for SDL_Mixer 2.0.1 and below, release and MikMod for SDL_mixer 1.2 releases. SDL_Mixer uses 0.8.9.0 for SDL_Mixer 2.0.2.</p>\n\n<h2>Editing and recompiling SDL_Mixer</h2>\n\n<p>Another option is to modify SDL2_Mixer's sources and recompile yourself. You can change these values in music_mod.c and music_modplug.c:</p>\n\n<p>in music_mod.c: Change</p>\n\n<pre><code>module-&gt;wrap    = 0;\nmodule-&gt;loop    = 0;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>module-&gt;wrap    = 1; /*This option will loop without stutter*/\nmodule-&gt;loop    = 1; /*This option will make the player obey Position Jumps*/\n</code></pre>\n\n<p>In music_modplug.c, change:</p>\n\n<pre><code>settings.mLoopCount=0;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>settings.mLoopCount=-1;\n</code></pre>\n\n<p>I am not certain, but if you go this route, according to the zlib license, you must mark SDL2_mixer as modified somewhere where you are displaying licenses.</p>\n\n<blockquote>\n  <p>2 . Altered source versions must be plainly marked as such, and must not be misrepresented as being the original software.</p>\n</blockquote>\n"}], "owner": {"reputation": 321, "user_id": 6230774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ef18390eba842b4fb9b5933ca5cfc?s=128&d=identicon&r=PG&f=1", "display_name": "BobbyFinch", "link": "https://stackoverflow.com/users/6230774/bobbyfinch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 611, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570055453, "creation_date": 1477516124, "question_id": 40272144, "link": "https://stackoverflow.com/questions/40272144/sdl-mixer-mod-music-looping", "title": "SDL_Mixer MOD music looping", "body": "<p>I'm trying to loop some mod music in an SDL(2) application using SDL_Mixer, but I'm finding that the library doesn't handle IT/XM/S3M/MOD formats very well.</p>\n\n<p>The music plays and it can technically loop, but there's a horrible stutter as the track is re-loaded and it out-right refuses to obey the \"position jump\" commands which these formats support. My understanding this is more of an SDL_Mixer problem than the underlying MikMod library that actually handles the format.</p>\n\n<p>Bearing in mind this program needs to support multiple platforms (aka Android) is there a hacky way to create a cleaner looping mechanism and/or a viable alternative to SDL_Mixer?</p>\n"}, {"tags": ["c++", "windows", "com", "atl"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1477517744, "post_id": 40272085, "comment_id": 67804989, "body": "Many practical problems with implementing an out-of-process COM server in general, many more when you do it with a service.  The quality of the error reporting is just one.  The most basic failure mode here is that only a user with admin privileges that runs with UAC elevation can start a service.  Right-click Oleview.exe in Explorer and select &quot;Run as Administrator&quot; to at least eliminate that failure mode."}, {"owner": {"reputation": 768, "user_id": 1056837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33db94c24e963c450aebef0222366e43?s=128&d=identicon&r=PG&f=1", "display_name": "user1056837", "link": "https://stackoverflow.com/users/1056837/user1056837"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1477518288, "post_id": 40272085, "comment_id": 67805177, "body": "Yep, I do everything as an administrator. But I&#39;m sure, I haven&#39;t finished development. And I&#39;m mostly interested in architecture of the whole thing."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1477520147, "post_id": 40272085, "comment_id": 67805793, "body": "Hmya, nobody is going to write you a manual.  Unix sensibilities don&#39;t translate that well to Windows, security is not 0777 and a service is not exactly a deamon.  If you want to cut your teeth on COM then never bypass an in-process server first."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1477523359, "post_id": 40272085, "comment_id": 67806788, "body": "Typically there is little difference between implementing a COM server in its own out-of-process EXE versus a service. The main thing is that you have to define an AppID and associate it with the service and COM registrations in the Registry. This allows COM to start the service, if it is not already running, when the COM object is being instantiated by a client. You don&#39;t need admin rights to let COM do that (just to tweak the Registry). But it would be a good idea to have the service process call <code>CoInitializeSecurity()</code> to allow non-admins to access the COM object."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1477535192, "post_id": 40272085, "comment_id": 67809563, "body": "UAC may also be a factor here.  Even if you&#39;re logged on as an administrator, the OLE/COM Object Viewer won&#39;t necessarily be running with admin privilege."}], "owner": {"reputation": 768, "user_id": 1056837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33db94c24e963c450aebef0222366e43?s=128&d=identicon&r=PG&f=1", "display_name": "user1056837", "link": "https://stackoverflow.com/users/1056837/user1056837"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1477515867, "creation_date": 1477515867, "question_id": 40272085, "link": "https://stackoverflow.com/questions/40272085/create-com-objects-in-service", "title": "Create COM objects in service", "body": "<p>Well. I had simple windows network application, which got some informatoin from network and then put it into COM object, that was created by third-party library (I have its sources).</p>\n\n<p>Then I had to put this application inside Windows service. I implemented all the stuff to start and stop my application with Services Manager.</p>\n\n<p>But then, when I try to <em>run</em> COM object in OLE/COM Object Viewer I got:</p>\n\n<pre><code>CoGetClassObject failed.\nServer execution failed\nCO_E_SERVICE_EXEC_FAILURE ($80080005)\n</code></pre>\n\n<p>In fact I'm a bit stuck with class hierarchy and architecture. Now I have my <code>NetworkApplication</code> class, which inherits from <code>Service</code> class. Where should I put <code>IClassFactory</code> class and who should inherit from <code>IUnknown</code>?</p>\n\n<p>As I mostly use Unix, so don't doubt writing probably trivial things, as I got a mess in my head.</p>\n"}, {"tags": ["c++", "compilation"], "comments": [{"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 2, "creation_date": 1477515967, "post_id": 40272071, "comment_id": 67804151, "body": "Nice try, but too broad."}, {"owner": {"reputation": 53, "user_id": 4905886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BLOVCBPlHR4/AAAAAAAAAAI/AAAAAAAAAIA/zvb-rGFKfn4/photo.jpg?sz=128", "display_name": "GameHog", "link": "https://stackoverflow.com/users/4905886/gamehog"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477516049, "post_id": 40272071, "comment_id": 67804188, "body": "sigh, well i dont know how to really narrow it down further."}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477516176, "post_id": 40272071, "comment_id": 67804248, "body": "This really is both a large and deep topic, there are too many strategies and solutions available. Maybe check <a href=\"http://llvm.org/\" rel=\"nofollow noreferrer\">LLVM</a>?"}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1477516197, "post_id": 40272071, "comment_id": 67804261, "body": "Sounds like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">X/Y problem</a>. What&#39;s the backstory that led to this implementation decision?"}, {"owner": {"reputation": 53, "user_id": 4905886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BLOVCBPlHR4/AAAAAAAAAAI/AAAAAAAAAIA/zvb-rGFKfn4/photo.jpg?sz=128", "display_name": "GameHog", "link": "https://stackoverflow.com/users/4905886/gamehog"}, "edited": false, "score": 0, "creation_date": 1477516272, "post_id": 40272071, "comment_id": 67804285, "body": "Ok thanks, I will look into what LLVM could offer my project."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1477516299, "post_id": 40272071, "comment_id": 67804297, "body": "@GameHog - &quot;How do I do X?&quot; is almost always to broad. It should be &quot;I have tried to do X this way (show code), but have a specific problem&quot;."}, {"owner": {"reputation": 53, "user_id": 4905886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BLOVCBPlHR4/AAAAAAAAAAI/AAAAAAAAAIA/zvb-rGFKfn4/photo.jpg?sz=128", "display_name": "GameHog", "link": "https://stackoverflow.com/users/4905886/gamehog"}, "reply_to_user": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1477516472, "post_id": 40272071, "comment_id": 67804377, "body": "@MrEricSir i decided i wanted to take a crack at making my own game creator but 2d. But i need to have a compiler i can either built in. The user installs it. or it comes prepackaged."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1477517045, "post_id": 40272071, "comment_id": 67804701, "body": "This isn&#39;t &quot;how do I do X&quot;, it&#39;s &quot;is it possible to do X with Y&quot;."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1477517960, "post_id": 40272071, "comment_id": 67805075, "body": "You&#39;re probably better off integrating a scripting engine. For example, the Love2D engine uses Lua scripts for game logic."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1477519906, "post_id": 40272071, "comment_id": 67805727, "body": "Really easy, use the <code>system</code> function.  The <code>system</code> function will allow you to execute programs, like compilers.  The big issues is installing the compiler and its supporting files, into the target platform along with your executable.  This will increase the size of your installer by many orders of magnitude (look at the size of the GNU C++ compiler and its supporting files).  Also, observe the licensing agreement for the compiler. IMO, you don&#39;t want this solution."}], "answers": [{"comments": [{"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 2, "creation_date": 1477516304, "post_id": 40272183, "comment_id": 67804303, "body": "Come on, is this answer really necessary?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477516637, "post_id": 40272183, "comment_id": 67804473, "body": "I understood the question to be asking if there were any special conditions or requirements on doing so, and the answer to that is &quot;no&quot;, any compiler that supports the platform will work. Perhaps I misunderstood the question. What do you think it&#39;s asking?"}, {"owner": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477516745, "post_id": 40272183, "comment_id": 67804531, "body": "I think what it&#39;s asking is too broad to be answered, as I right out said in my first comment."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 239269, "user_id": 464709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ab3363d257d780bd4c1f0c844b020a2?s=128&d=identicon&r=PG", "display_name": "Fr&#233;d&#233;ric Hamidi", "link": "https://stackoverflow.com/users/464709/fr%c3%a9d%c3%a9ric-hamidi"}, "edited": false, "score": 0, "creation_date": 1477516953, "post_id": 40272183, "comment_id": 67804650, "body": "@Fr&#233;d&#233;ricHamidi &quot;<i>Can GCC, or another compiler, be used to compile a DLL that&#39;s then loaded by the program that executed the compiler?</i>&quot; seems reasonably narrow and answerable to me."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 1, "last_activity_date": 1477516279, "creation_date": 1477516279, "answer_id": 40272183, "question_id": 40272071, "link": "https://stackoverflow.com/questions/40272071/what-would-be-a-good-way-to-add-a-compiler-to-your-program-for-runtime-compiling/40272183#40272183", "title": "What would be a good way to add a compiler to your program for runtime compiling?", "body": "<p>You can use any compiler you want -- whatever works best on your target platform(s).</p>\n"}], "owner": {"reputation": 53, "user_id": 4905886, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BLOVCBPlHR4/AAAAAAAAAAI/AAAAAAAAAIA/zvb-rGFKfn4/photo.jpg?sz=128", "display_name": "GameHog", "link": "https://stackoverflow.com/users/4905886/gamehog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "closed_date": 1477516618, "answer_count": 1, "score": -4, "last_activity_date": 1477516279, "creation_date": 1477515818, "last_edit_date": 1477516012, "question_id": 40272071, "link": "https://stackoverflow.com/questions/40272071/what-would-be-a-good-way-to-add-a-compiler-to-your-program-for-runtime-compiling", "closed_reason": "Needs more focus", "title": "What would be a good way to add a compiler to your program for runtime compiling?", "body": "<p>I want to make a c++ program where it <strong>compiles user written c++ source code</strong> into a DLL and then at runtime links the <strong>user created DLL</strong> back into the program. </p>\n\n<p>An example of this is how unreal engine can compile the game and then immediately run it inside the editor. </p>\n\n<p>What would be a good option for compiling user's source code into DLLs. Would i be able to use GNU gcc for this?</p>\n"}, {"tags": ["c++", "visual-studio-2012", "linker"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 0, "creation_date": 1477516095, "post_id": 40271896, "comment_id": 67804209, "body": "You <i>are</i> linking to the debug lib <code>libcpmtd.lib</code>, but seems to also link to the release version. Probably one of the included libraries are <b>not</b> a debug version."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1477516422, "post_id": 40271896, "comment_id": 67804354, "body": "The library you link was built with Release configuration settings.  But you built your program with Debug settings.  Mixing is not possible, that causes very nasty memory corruption problems because the size of the template class objects is not the same.  You&#39;ll have to rebuild the library with Debug configuration settings.  Adding the library project to your solution so everything is always built with consistent settings is by far the best way to keep out of trouble."}, {"owner": {"reputation": 779, "user_id": 7043033, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e49cc6f8e650aa248171931e0250dde3?s=128&d=identicon&r=PG&f=1", "display_name": "RA.", "link": "https://stackoverflow.com/users/7043033/ra"}, "edited": false, "score": 0, "creation_date": 1477517159, "post_id": 40271896, "comment_id": 67804750, "body": "This thing is, I have never used/defined a dependency of <code>libcpmt.lib</code> in my project."}, {"owner": {"reputation": 59, "user_id": 9873409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ee2fdbb2bc5cf49e248ceac4a630874?s=128&d=identicon&r=PG&f=1", "display_name": "user1000", "link": "https://stackoverflow.com/users/9873409/user1000"}, "edited": false, "score": 0, "creation_date": 1603496774, "post_id": 40271896, "comment_id": 114065771, "body": "I also got this error, and I used the workaround of adding <code>libcpmt</code> to <code>Ignore Specific Default Libraries</code>"}], "owner": {"reputation": 779, "user_id": 7043033, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e49cc6f8e650aa248171931e0250dde3?s=128&d=identicon&r=PG&f=1", "display_name": "RA.", "link": "https://stackoverflow.com/users/7043033/ra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 425, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477515458, "creation_date": 1477515107, "last_edit_date": 1477515458, "question_id": 40271896, "link": "https://stackoverflow.com/questions/40271896/mismatch-detected-for-crt-library", "title": "mismatch detected for CRT library", "body": "<p>I'm facing the following error message:</p>\n\n<pre><code>libcpmt.lib(stdhndlr.obj) : error LNK2038: mismatch detected for '_ITERATOR_DEBUG_LEVEL': value '0' doesn't match value '2' in libcpmtd.lib(xlock.obj)\nlibcpmt.lib(stdhndlr.obj) : error LNK2038: mismatch detected for 'RuntimeLibrary': value 'MT_StaticRelease' doesn't match value 'MTd_StaticDebug' in mtu.obj\n</code></pre>\n\n<p>I have been searching over the internet but found nothing about <strong>CRT</strong> libraries being mismatched.</p>\n\n<p>I have tried to define following preprocessor definition: <code>_ALLOW_ITERATOR_DEBUG_LEVEL_MISMATCH</code> however it did not resolved my issue.</p>\n\n<p>I'm trying to compile a <code>Debug</code> configuration (<code>Release</code> is compiling fine).</p>\n\n<p>Project runtime library is being set to:\n<code>Multi-threaded Debug (/MTd)</code></p>\n\n<p>How can I link a debug version of <code>libcpmt.lib</code>?</p>\n"}, {"tags": ["c++", "arrays", "pointers"], "comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 8, "creation_date": 1477515079, "post_id": 40271863, "comment_id": 67803720, "body": "You&#39;ve often been mislead - or you&#39;ve simply misunderstood. Arrays are not pointers."}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1477515291, "post_id": 40271863, "comment_id": 67803823, "body": "An array of type <code>T</code> and size <code>N</code> is <code>N</code>-many <code>T</code>-type objects placed in sequential memory. Just because you can make a pointer point to that memory, doesn&#39;t make an array be a pointer."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1477517130, "post_id": 40271863, "comment_id": 67804742, "body": "They are different because c++ is a strongly typed language, and sizeof in particular refers to the type.  There are plenty of runtime cases where a and p can be used interchangably (as long as you stay within the correct range), but they still are different type."}], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477515915, "post_id": 40272028, "comment_id": 67804128, "body": "But isn&#39;t a (the name of the array), a constant pointer that points to the same element of the array?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477516034, "post_id": 40272028, "comment_id": 67804182, "body": "@Arash No. See the edit."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477517100, "post_id": 40272028, "comment_id": 67804722, "body": "@Arash The name of an array is <i>implicitely converted</i> to a constant pointer you&#39;re thinking about. But it&#39;s not a pointer by itself."}, {"owner": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477517249, "post_id": 40272028, "comment_id": 67804793, "body": "Thank you for your comments. But i still have hard time  understanding something. Ok, an array is not a pointer. But the name of an array holds the address of the first element in the array, right? And if i use *(a+1), this is the same as a[2], right? so to me it seems that array somewhat behaves like a pointer. Also in my example I can use p[2] to access value stored in a[2]. So the pointer and the array are related somehow , right? What am i missing here?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477517497, "post_id": 40272028, "comment_id": 67804888, "body": "@Arash The name of an array is converted to a pointer when it&#39;s used as a pointer."}, {"owner": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477517625, "post_id": 40272028, "comment_id": 67804942, "body": "Thank you all! It finally clicked!"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477517736, "post_id": 40272028, "comment_id": 67804985, "body": "@Arash <code>*(a+1)</code> is <code>a[1]</code>, not <code>a[2]</code> (Probably a typo, but people sometimes get mixed up by the zero-based indexing)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1477517801, "post_id": 40272028, "comment_id": 67805014, "body": "@user2079303 your example with <code>char c;</code> is actually a good illustration of the principle that a non-array object can be accessed as if it were an array of 1 object (using different syntax)"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "edited": false, "score": 0, "creation_date": 1477518825, "post_id": 40272028, "comment_id": 67805369, "body": "@Arash I&#39;ve further elaborated the differences and similarities."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 5, "last_activity_date": 1477518807, "last_edit_date": 1592644375, "creation_date": 1477515640, "answer_id": 40272028, "question_id": 40271863, "link": "https://stackoverflow.com/questions/40271863/array-and-pointers-in-c/40272028#40272028", "title": "Array and pointers in c++", "body": "<blockquote>\n<p>I often hear that the name of an array is constant pointer to a block of memory</p>\n</blockquote>\n<p>You've often been mislead - or you've simply misunderstood. An array is not a constant pointer to a block of memory. Array is an object that contains a sequence of sub-objects. All objects are a block of memory. A pointer is an object that contains an address of an object i.e. it points to the object.</p>\n<p>So in the following quote, <code>a</code> is an array, <code>p</code> points to the first sub-object within <code>a</code>.</p>\n<blockquote>\n<pre><code>int a[10];\n</code></pre>\n<p>and</p>\n<pre><code>int * const p= a;\n</code></pre>\n<p>must be equal in a sense that p is pointer that points to the same block of memory as array a[] and also it may not be changed to point to another location in memory.</p>\n</blockquote>\n<p>If that is your definition of equal, then that holds for non-array objects as well:</p>\n<pre><code>char c;\nint * const p = &amp;c;\n</code></pre>\n<p>Here <code>p</code> &quot;points to the same memory as <code>c</code>&quot; and may not be changed to point to another location in memory. Does that mean that <code>char</code> objects are &quot;equal&quot; to pointers? No. And arrays aren't either.</p>\n<blockquote>\n<p>But isn't a (the name of the array), a constant pointer that points to the same element of the array?</p>\n</blockquote>\n<p>No, the name of the array isn't a constant pointer. Just like name of the <code>char</code> isn't a constant pointer.</p>\n<blockquote>\n<p>the name of an array holds the address of the first element in the array, right?</p>\n</blockquote>\n<p>Let's be more general, this is not specific to arrays. The name of a variable &quot;holds the address&quot; of the object that the variable names. The address is not &quot;held&quot; in the memory at run time. It's &quot;held&quot; by the compiler at compile time. When you operate on a variable, the compiler makes sure that operations are done to the object at the correct address.</p>\n<p>The address of the array is always the same address as where the first element (sub-object) of the array is. Therefore, the name indeed does - at least conceptually - <em>hold</em> the same address.</p>\n<blockquote>\n<p>And if i use <code>*(a+1)</code>, this is the same as <code>a[1]</code>, right? [typo fixed]</p>\n</blockquote>\n<p>Right. I'll elaborate: One is just another way of writing another in the case of pointers. Oh, but <code>a</code> isn't a pointer! Here is the catch: The array operand is implicitly converted to a pointer to first element. This implicit conversion is called decaying. This is special feature of array types - and it is the special feature which probably makes understanding the difference between pointers and arrays difficult the most.</p>\n<p>So, even though the name of the array isn't a pointer, it can decay into a pointer. The name doesn't always decay into a pointer, just in certain contexts. It decays when you use <code>operator[]</code>, and it decays when you use <code>operator+</code>. It decays when you pass the array to a function that accepts a pointer to the type of the sub-object. It doesn't decay when you use <code>sizeof</code> and it doesn't decay when you pass it to a function that accepts an array by reference.</p>\n"}], "owner": {"reputation": 113, "user_id": 5903445, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/87a3901969e99bafcf133d9fa03ecb10?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/5903445/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "closed_date": 1477516532, "accepted_answer_id": 40272028, "answer_count": 1, "score": -2, "last_activity_date": 1477518807, "creation_date": 1477514948, "last_edit_date": 1477515135, "question_id": 40271863, "link": "https://stackoverflow.com/questions/40271863/array-and-pointers-in-c", "closed_reason": "Duplicate", "title": "Array and pointers in c++", "body": "<p>I often hear that the name of an array is constant pointer to a block of memory therefore statement like</p>\n\n<pre><code>int a[10];\n</code></pre>\n\n<p>and</p>\n\n<pre><code>int * const p= a;\n</code></pre>\n\n<p>must be equal in a sense that p is pointer that points to the same block of memory as array a[] and also it may not be changed to point to another location in memory.</p>\n\n<p>However if you try to print sizeof these two pointers you get different results:</p>\n\n<pre><code>cout&lt;&lt; sizeof(a); // outputs size of 10 integer elements\n</code></pre>\n\n<p>While</p>\n\n<pre><code>cout&lt;&lt; sizeof(p); // outputs sizeof pointer to int\n</code></pre>\n\n<p>So, why do compilers treat these two differently? What's the true relation between arrays and pointers from compiler point of view?</p>\n"}, {"tags": ["c++", "parallel-processing", "mpi", "distributed-computing", "mpich"], "comments": [{"owner": {"reputation": 100, "user_id": 6575118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc34402cbaa7ff6e214c3654c2a1624?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Bisseling", "link": "https://stackoverflow.com/users/6575118/georg-bisseling"}, "edited": false, "score": 0, "creation_date": 1478199777, "post_id": 40271805, "comment_id": 68068777, "body": "Would you be so kind to tell which MPI implementation you use? Did you consult the man page for mpirun or mpiexec?"}, {"owner": {"reputation": 541, "user_id": 3353830, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0984c049ad7f7132fcde4dd3de2bce47?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav", "link": "https://stackoverflow.com/users/3353830/pranav"}, "reply_to_user": {"reputation": 100, "user_id": 6575118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc34402cbaa7ff6e214c3654c2a1624?s=128&d=identicon&r=PG&f=1", "display_name": "Georg Bisseling", "link": "https://stackoverflow.com/users/6575118/georg-bisseling"}, "edited": false, "score": 0, "creation_date": 1478203253, "post_id": 40271805, "comment_id": 68070586, "body": "I&#39;m using MPICH implementation. Yes, I did consult manpages for mpirun and mpiexec. Thanks!"}], "owner": {"reputation": 541, "user_id": 3353830, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0984c049ad7f7132fcde4dd3de2bce47?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav", "link": "https://stackoverflow.com/users/3353830/pranav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1478901512, "creation_date": 1477514674, "last_edit_date": 1478901512, "question_id": 40271805, "link": "https://stackoverflow.com/questions/40271805/set-timeout-to-mpi-process-launch", "title": "Set timeout to mpi process launch", "body": "<p>When I run mpi program on multiple hosts, if executable failed to start on any of the host (due to missing library etc. type of reasons), other hosts just keep waiting for the process to come up. The program just hangs forever. Is there any way to set a timeout in such cases such that MPI should abort if not all processes were launched in a given timeout period?</p>\n\n<p>Thanks</p>\n\n<p>Edit: \nI came up with following solution to spawn up a new thread before mpi_init with future/promise paradigm. I'm still open to better solution.</p>\n\n<pre><code>int main() {\n  std::promise&lt;std::string&gt; mpi_launch_promise;\n  std::future&lt;std::string&gt; mpi_launch_future = mpi_launch_promise.get_future();\n\n  // Separate thread is launched which makes sure mpi is initialized in specified time limit.\n  std::thread mpi_launch_thread(\n    [](std::future&lt;std::string&gt;&amp; current_host, const int&amp; timeout = 2) {\n    auto status = current_host.wait_for(std::chrono::minutes(timeout));\n    if (status == std::future_status::timeout) {\n      // exit program with error message\n    } else if (status == std::future_status::ready) {\n      // notify success of mpi launch\n    }\n  }, std::ref(mpi_launch_future), 2 /* wait 2 min*/);\n  mpi_launch_thread.detach();\n\n  MPI_Init(&amp;argc, &amp;argv);\n\n  // Notify success of mpi_init to mpi_launch_thread\n  mpi_launch_promise.set_value(/*send hostname*/);\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "visual-c++", "visual-studio-2012"], "comments": [{"owner": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "edited": false, "score": 1, "creation_date": 1477514705, "post_id": 40271767, "comment_id": 67803534, "body": "Which graphics library are we talking about?"}, {"owner": {"reputation": 31, "user_id": 7077218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684d1ce69b2f321ee153d7729bb5b801?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Bresler", "link": "https://stackoverflow.com/users/7077218/karol-bresler"}, "reply_to_user": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "edited": false, "score": 0, "creation_date": 1477515182, "post_id": 40271767, "comment_id": 67803762, "body": "Visual c++ I think :)"}, {"owner": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "edited": false, "score": 0, "creation_date": 1477515237, "post_id": 40271767, "comment_id": 67803788, "body": "That&#39;s not a graphics library. It&#39;s an IDE &amp; build env."}, {"owner": {"reputation": 2438, "user_id": 6517320, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5AiJr.jpg?s=128&g=1", "display_name": "Ivan Rubinson", "link": "https://stackoverflow.com/users/6517320/ivan-rubinson"}, "edited": false, "score": 0, "creation_date": 1477515300, "post_id": 40271767, "comment_id": 67803829, "body": "Also, please paste the errors you&#39;re getting."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1593881"}, "edited": false, "score": 0, "creation_date": 1477515764, "post_id": 40271767, "comment_id": 67804058, "body": "Post the error messages as text, not as a screenshot."}, {"owner": {"reputation": 31, "user_id": 7077218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684d1ce69b2f321ee153d7729bb5b801?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Bresler", "link": "https://stackoverflow.com/users/7077218/karol-bresler"}, "edited": false, "score": 0, "creation_date": 1477515960, "post_id": 40271767, "comment_id": 67804149, "body": "Ok, done. So, I am quite new to graphics in programming, so that&#39;s where my lack of knowledge of libraries stems from. I posted errors now as a text :)"}, {"owner": {"reputation": 6192, "user_id": 2041317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/58b0m.png?s=128&g=1", "display_name": "cup", "link": "https://stackoverflow.com/users/2041317/cup"}, "edited": false, "score": 1, "creation_date": 1477516511, "post_id": 40271767, "comment_id": 67804402, "body": "There have been a lot of changes in VS between 2005/2008 and the latest versions.  It is mainly to do with filenames as you&#39;ve found out.  If you just want a simple old fashioned graphics project, create a win32 or MFC application.  If you want a newer fancy one, create a .net one but for that, you&#39;d actually be better off using either C# or VB.net."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 1, "creation_date": 1477526825, "post_id": 40271767, "comment_id": 67807668, "body": "Wild guess: Go to <i><code>Project -&gt; Configuration Properties -&gt; Platform Toolset</code></i> and select <i><code>Visual Studio 2015 (v140)</code></i> if not already selected, rebuild the project."}, {"owner": {"reputation": 81, "user_id": 8086960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SmVsK.jpg?s=128&g=1", "display_name": "David Pritchard", "link": "https://stackoverflow.com/users/8086960/david-pritchard"}, "edited": false, "score": 0, "creation_date": 1496235611, "post_id": 40271767, "comment_id": 75577642, "body": "With respect to the $(TargetName) error, look here: <a href=\"https://stackoverflow.com/questions/4650993/how-to-set-outdir-targetname-targetext-and-lib-outputfile-with-vi/44265324#44265324\" title=\"how to set outdir targetname targetext and lib outputfile with vi\">stackoverflow.com/questions/4650993/&hellip;</a>"}], "owner": {"reputation": 31, "user_id": 7077218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/684d1ce69b2f321ee153d7729bb5b801?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Bresler", "link": "https://stackoverflow.com/users/7077218/karol-bresler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1735, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1477552775, "creation_date": 1477514497, "last_edit_date": 1477552775, "question_id": 40271767, "link": "https://stackoverflow.com/questions/40271767/microsoft-visual-studio-2015-visual-c", "title": "Microsoft visual studio 2015 visual c++", "body": "<p>I am having a problem with Microsoft Visual Studio (the newest one). During my lessons at the university we use very, very old version of MSV (we still have Windows XP on computers at my uni). I have some homework to do, so I downloaded the newest version right away, and wanted to use a sample graphics project for c++ to make a sinus function chart. Unfortunately, the sample project I am using is not compatible with new MSV. After loading it i got a lot of messages with errors. Nonetheless, I decided to run a sample program, and of course I received an error - <code>\"/....path.../ is not recognized as external or internal command, operable program or batch file\"</code>. Is there any way to make this sample graphics project operational? If no, could you recommend me any guides how to make one? (I couldn't find any).\nCheers and thank you for your replies!</p>\n\n<blockquote>\n  <p>Migration Report - projekt\n  projekt.vcproj: VCWebServiceProxyGeneratorTool is no longer supported. The tool has been removed from your project settings.</p>\n  \n  <p>projekt.vcproj: Attribute 'Detect64BitPortabilityProblems' of 'VCCLCompilerTool' is not supported in this version and has been removed during conversion.</p>\n  \n  <p>projekt.vcproj: Attribute 'Detect64BitPortabilityProblems' of 'VCCLCompilerTool' is not supported in this version and has been removed during conversion.</p>\n  \n  <p>projekt.vcproj: All user macros reported below for configuration 'Debug|Win32' are used before their definition, which can cause undesirable build results; this is not supported in this release. You can resolve this by changing the inclusion order of the consuming property sheets and making sure they come after the property sheets defining the user macros.</p>\n  \n  <p>projekt.vcproj: MSB4211: C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.Cpp.Common.props (128,5); The property \"WindowsTargetPlatformVersion\" is being set to a value for the first time, but it was already consumed at \"C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.Cpp.WindowsSDK.props (29,5)\".</p>\n  \n  <p>projekt.vcproj: All user macros reported below for configuration 'Release|Win32' are used before their definition, which can cause undesirable build results; this is not supported in this release. You can resolve this by changing the inclusion order of the consuming property sheets and making sure they come after the property sheets defining the user macros.</p>\n  \n  <p>projekt.vcproj: MSB4211: C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.Cpp.Common.props (128,5); The property \"WindowsTargetPlatformVersion\" is being set to a value for the first time, but it was already consumed at \"C:\\Program Files (x86)\\MSBuild\\Microsoft.Cpp\\v4.0\\V140\\Microsoft.Cpp.WindowsSDK.props (29,5)\".</p>\n  \n  <p>projekt.vcproj: MSB8012: $(TargetName) ('Grafika') does not match the Linker's OutputFile property value 'Debug\\WinBGI.exe' ('WinBGI') in project configuration 'Debug|Win32'. This may cause your project to build incorrectly. To correct this, please make sure that $(TargetName) property value matches the value specified in %(Link.OutputFile).</p>\n  \n  <p>projekt.vcproj: MSB8012: $(TargetPath) ('C:\\Breslerek\\Visual Studio Projects\\Projekt\\Debug\\Grafika.exe') does not match the Linker's OutputFile property value 'Debug\\WinBGI.exe' ('C:\\Breslerek\\Visual Studio Projects\\Projekt\\Debug\\WinBGI.exe') in project configuration 'Debug|Win32'. This may cause your project to build incorrectly. To correct this, please make sure that $(TargetPath) property value matches the value specified in %(Link.OutputFile).</p>\n  \n  <p>projekt.vcproj: MSB8012: $(TargetName) ('Grafika') does not match the Linker's OutputFile property value 'Release\\WinBGI.exe' ('WinBGI') in project configuration 'Release|Win32'. This may cause your project to build incorrectly. To correct this, please make sure that $(TargetName) property value matches the value specified in %(Link.OutputFile).</p>\n  \n  <p>projekt.vcproj: MSB8012: $(TargetPath) ('C:\\Breslerek\\Visual Studio Projects\\Projekt\\Release\\Grafika.exe') does not match the Linker's OutputFile property value 'Release\\WinBGI.exe' ('C:\\Breslerek\\Visual Studio Projects\\Projekt\\Release\\WinBGI.exe') in project configuration 'Release|Win32'. This may cause your project to build incorrectly. To correct this, please make sure that $(TargetPath) property value matches the value specified in %(Link.OutputFile).</p>\n  \n  <p>projekt.vcproj: Converting project file 'C:\\Breslerek\\Visual Studio Projects\\Projekt\\projekt.vcproj'.</p>\n  \n  <p>projekt.vcproj: Done converting to new project file 'C:\\Breslerek\\Visual Studio Projects\\Projekt\\projekt.vcxproj'.</p>\n  \n  <p>projekt.sln: Visual Studio needs to make non-functional changes to this project in order to enable the project to open in Visual Studio 2015, Visual Studio 2013, Visual Studio 2012, and Visual Studio 2010 SP1 without impacting project behavior.</p>\n  \n  <p>projekt.sln: File successfully backed up as C:\\Breslerek\\Visual Studio Projects\\Projekt\\Backup\\projekt.sln</p>\n  \n  <p>projekt.sln: Solution migrated successfully</p>\n</blockquote>\n"}, {"tags": ["c++", "class", "pointers"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1477514774, "post_id": 40271751, "comment_id": 67803572, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 This dup is nothing to do with the entire problem (the last pointer should still point to a valid object)."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477514916, "post_id": 40271751, "comment_id": 67803633, "body": "In my original problem, the last pointer was actually working correctly. And I don&#39;t really understand what happened here. But I will have a look at the (maybe) duplicate."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477515080, "post_id": 40271751, "comment_id": 67803722, "body": "While you&#39;re at it, name your constructor parameter as something other than your member. There is name hiding occurring in your c&#39;tor body. You assign the parameter to itself, whilst your member remains with indeterminate value. Crank up the warning level."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477515814, "post_id": 40271751, "comment_id": 67804087, "body": "This was a mistake when creating the minimal example. Which I did not notice because I expected a wrong result. Now the last pointer is in fact valid."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477515837, "post_id": 40271751, "comment_id": 67804095, "body": "Now that you edited, you may want to check the output again. The last element should always be valid (the others are victims of UB). And now it&#39;s a duplicate."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477516019, "post_id": 40271751, "comment_id": 67804177, "body": "Output was edited right after. Ok, thank you."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477516161, "post_id": 40271751, "comment_id": 67804239, "body": "But is it duplicate? In that other problem, the value is defined in the scope of a function, and I would say it makes sense it is invalid. But here my object is defined in a member of a class object."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477516759, "post_id": 40271751, "comment_id": 67804541, "body": "It&#39;s still a matter of dangling pointers. You can see my edit for an optional approach to this."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477517649, "post_id": 40271751, "comment_id": 67804953, "body": "Well what is the minus for anyway? Was the question that bad?"}], "answers": [{"comments": [{"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477515667, "post_id": 40271924, "comment_id": 67804016, "body": "Actually if you use initializers list, you do not have to name the parameters differently and it will work. Nevertheless, it is sure a good convention to follow."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477516974, "post_id": 40271924, "comment_id": 67804659, "body": "Interesting solution. Complicated for me to understand, but trying to digest it:)"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477517078, "post_id": 40271924, "comment_id": 67804714, "body": "@remi000, I admit it uses some non-trivial features of c++, both at least the code that uses the pointers will not need to be changed too much :)"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477517167, "post_id": 40271924, "comment_id": 67804754, "body": "Or instead of the MyMainClass ref it can directly hold the ref to the vector, that should work as well. Because the address of the vector itself should not change even if the vector is resized. (and if templatized, you can make it a general &quot;vector position pointer&quot; ;) )"}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477517171, "post_id": 40271924, "comment_id": 67804757, "body": "yes, I&#39;m trying to understand what this overloading of operators actually is doing. Little bit new for me."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 1, "creation_date": 1477517489, "post_id": 40271924, "comment_id": 67804882, "body": "@remi000, you should not that <b>axalis</b> and I are suggesting pretty much the same thing, just with different syntactic sugar on top :) Operator overloading only looks daunting at first, but it can be a really good way to write intuitive operations. It&#39;s worth the hassle to learn."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1477516586, "last_edit_date": 1477516586, "creation_date": 1477515229, "answer_id": 40271924, "question_id": 40271751, "link": "https://stackoverflow.com/questions/40271751/return-class-object-pointer-from-another-class/40271924#40271924", "title": "Return class object pointer from another class", "body": "<p>Name your constructor argument something that doesn't hide your member in the constructor body, and start using initialzier lists:</p>\n\n<pre><code>MySecondaryClass(int aValue_) : aValue(aValue_)\n{ }\n</code></pre>\n\n<p>Also remember that pushing back into a vector may invalidate iterators (and pointers to its elements).</p>\n\n<hr>\n\n<p>Well, now that you edited you question. I can only suggest you return a proxy object which <em>behaves</em> like a pointer.</p>\n\n<pre><code>class MySecondaryClassPtr\n{\n  MyMainClass&amp; mmc_;\n  std::size_t  pos_;\n\n  public:\n  MySecondaryClassPtr(MyMainClass&amp; mmc, std::size_t pos) :\n   msc_(msc), pos_(pos)\n  {}\n\n  MySecondaryClass&amp; operator*()  { return mmc_._secClassVec[pos_]; }\n  MySecondaryClass* operator-&gt;() { return &amp;mmc_._secClassVec[pos_]; }  \n\n};\n</code></pre>\n\n<p>This \"smart pointer\" proxy object is tied to the lifetime of your <code>MyMainClass</code> object, rather than the internal storage of the vector.</p>\n"}, {"comments": [{"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477515673, "post_id": 40271947, "comment_id": 67804022, "body": "First problem I&#39;ve edited in the question. It was originally _value but after I moved it from private to public I changed the name... But do you have good suggestion for how to solve the second problem without redesigning the structure too much?"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "reply_to_user": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477515822, "post_id": 40271947, "comment_id": 67804091, "body": "Yes, then the second problem still remains. Note that if you print the pointers immediately after receiving them, it will work, but not if you first get all 3 of them and then print."}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477515968, "post_id": 40271947, "comment_id": 67804153, "body": "Well in my case, I was hoping to have a main class hold a vector of a bunch of classes. And then to access them like I&#39;m trying to do... So there is no magical way of &quot;locking&quot; the address of an object in a vector.. or something?"}, {"owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477516771, "post_id": 40271947, "comment_id": 67804546, "body": "Ahaa. Nice idea of assigning that [] operator also! That will give me a cleaner code for my original problem. Thanks @axalis !"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "reply_to_user": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "edited": false, "score": 0, "creation_date": 1477517025, "post_id": 40271947, "comment_id": 67804687, "body": "You might also consider forwarding the vector::size() to know how many objects you have, or even inherit the factory class from std::vector directly (but that would also expose the push_back methods etc.)."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477517322, "post_id": 40271947, "comment_id": 67804817, "body": "Or instead of inheriting publicly, you inherit privately, and forward only the <code>size</code> member function."}], "tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": true, "score": 1, "last_activity_date": 1477516846, "last_edit_date": 1477516846, "creation_date": 1477515303, "answer_id": 40271947, "question_id": 40271751, "link": "https://stackoverflow.com/questions/40271751/return-class-object-pointer-from-another-class/40271947#40271947", "title": "Return class object pointer from another class", "body": "<p>First problem is this in the constructor:</p>\n\n<pre><code>MySecondaryClass(int aValue) { aValue = aValue; }\n</code></pre>\n\n<p>what it does is that is assigns the parameter aValue to itself, i.e. does not set the aValue attribute of the class. This can be fixed by either:</p>\n\n<pre><code>MySecondaryClass(int aValue) { this-&gt;aValue = aValue; }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>MySecondaryClass(int aValue): aValue(aValue) {}\n</code></pre>\n\n<p>But in general, this is why it is not recommended to name the parameters the same as the attributes.</p>\n\n<p>Second problem is, that the call of:</p>\n\n<pre><code>MySecondaryClass* secObject3_ptr = mainObject.addNewSecClass(3);\n</code></pre>\n\n<p>might invalidate the memory assigned to <code>secObject1_ptr</code> and <code>secObject2_ptr</code> (if the vector resizes) - basically every call to <code>mainObject.addNewSecClass()</code> might invalidate the previously returned pointers (technically it is undefined behavior).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To answer the comment question: If you want to store the actual objects in the class and access them, you need to do it differently, either by index, or in some cases you can keep a map by id, depending on what you need. But you normally cannot keep the pointers to the changing data structure.</p>\n\n<p>One possibility:</p>\n\n<pre><code>class MyMainClass\n{\nprivate:\n    std::vector&lt;MySecondaryClass&gt; _secClassVec;\npublic:\n    MyMainClass() {}\n    ~MyMainClass() {}\n\n    size_t addNewSecClass(int aValue) {\n        MySecondaryClass newSecClass(aValue);\n        _secClassVec.push_back(newSecClass);\n        return _secClassVec.size() - 1;\n    }\n\n    const MySecondaryClass&amp; operator [](size_t idx) const\n    {\n        return _secClassVec[idx];\n    }\n};\n\n\nint main() {\n\n    MyMainClass mainObject;\n\n    size_t secObject1_idx = mainObject.addNewSecClass(1);\n    size_t secObject2_idx = mainObject.addNewSecClass(2);\n    size_t secObject3_idx = mainObject.addNewSecClass(3);\n\n    std::cout &lt;&lt; mainObject[secObject1_idx].aValue &lt;&lt; std::endl;\n    std::cout &lt;&lt; mainObject[secObject2_idx].aValue &lt;&lt; std::endl;\n    std::cout &lt;&lt; mainObject[secObject3_idx].aValue &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>However also this will only work, if you only add to the vector. Removal will invalidate the indices after the removed item as well.</p>\n\n<p>Another possibility might be to allocate dynamically and only keep the pointers in the vector - then the original object address will not change when adding items. But then comes the necessity to manage the lifetime, copy construction etc., which can be somewhat mitigated by using a smart pointer (e.g. shared_ptr).</p>\n"}, {"tags": [], "owner": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1477515324, "creation_date": 1477515324, "answer_id": 40271954, "question_id": 40271751, "link": "https://stackoverflow.com/questions/40271751/return-class-object-pointer-from-another-class/40271954#40271954", "title": "Return class object pointer from another class", "body": "<p>When you push into a vector it has to allocate memory for the new element.</p>\n\n<p>This allocation demand might not be satisfiable at the very location in memory where the underlaying array is currently at, so the vector has to allocated contiguous memory for its whole content elsewhere, move the old content, add the new one and free the previously allocated block.</p>\n\n<p>So pointers into the vector's memory can become invalid every time you change the vector.</p>\n"}], "owner": {"reputation": 772, "user_id": 4572356, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh6.googleusercontent.com/-sOiC9nd0Ojg/AAAAAAAAAAI/AAAAAAAAADI/XbgE9pPDbdc/photo.jpg?sz=128", "display_name": "remi", "link": "https://stackoverflow.com/users/4572356/remi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 40271947, "answer_count": 3, "score": -2, "last_activity_date": 1477517934, "creation_date": 1477514450, "last_edit_date": 1477517934, "question_id": 40271751, "link": "https://stackoverflow.com/questions/40271751/return-class-object-pointer-from-another-class", "title": "Return class object pointer from another class", "body": "<p>I'm having difficulties explaining the problem with words. But I have replicated my problem in a minimal example.\nBasically I have a main class holding a vector of a different class objects. \nThis main class has a member function that creates an object, add it to the vector, and returns a pointer to the new object in the vector.\nWhen I then try to access the values of the object from the pointer that was returned, the values are as if they were never set.</p>\n\n<p>Here is the code of a minimal example:</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As some pointed out I had value = value in the member function.\nThis was obviously a mistake, and I've edited to _value = value</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nclass MySecondaryClass\n{\npublic:\n    MySecondaryClass(int aValue) { _aValue = aValue; }\n    ~MySecondaryClass() {}\n    int _aValue;\n};\n\nclass MyMainClass\n{\nprivate:\n    std::vector&lt;MySecondaryClass&gt; _secClassVec;\npublic:\n    MyMainClass() {}\n    ~MyMainClass(){}\n\n    MySecondaryClass* addNewSecClass(int aValue) { \n        MySecondaryClass newSecClass(aValue);\n        _secClassVec.push_back(newSecClass);\n        return &amp;_secClassVec[_secClassVec.size() - 1];\n    }\n};\n\n\nint main() {\n\n    MyMainClass mainObject;\n    MySecondaryClass* secObject1_ptr = mainObject.addNewSecClass(1);\n    MySecondaryClass* secObject2_ptr = mainObject.addNewSecClass(2);\n    MySecondaryClass* secObject3_ptr = mainObject.addNewSecClass(3);\n\n    std::cout &lt;&lt; secObject1_ptr-&gt;_aValue &lt;&lt; std::endl;\n    std::cout &lt;&lt; secObject2_ptr-&gt;_aValue &lt;&lt; std::endl;\n    std::cout &lt;&lt; secObject3_ptr-&gt;_aValue &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>And the output:</p>\n\n<pre><code>-572662307\n-572662307\n3\n</code></pre>\n\n<p>Expected output is:</p>\n\n<pre><code>1\n2\n3\n</code></pre>\n\n<p>Can someone explain what I'm doing wrong here?</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 762, "user_id": 3127141, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hylYK.jpg?s=128&g=1", "display_name": "Paa K", "link": "https://stackoverflow.com/users/3127141/paa-k"}, "edited": false, "score": 0, "creation_date": 1477515007, "post_id": 40271745, "comment_id": 67803677, "body": "you defined <code>myNoteListAdd(Qstring newName)</code> as a regular function instead of it being a member of a particular class. In your case, I think the function should be a member of class <code>Profile</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1477514680, "creation_date": 1477514680, "answer_id": 40271806, "question_id": 40271745, "link": "https://stackoverflow.com/questions/40271745/inheritance-in-qt-wont-allow-me-to-reference/40271806#40271806", "title": "inheritance in Qt won&#39;t allow me to reference?", "body": "<p><code>myNoteListAdd</code> is a stand-alone function, <code>myNoteList</code> is a private data member of <code>Profile</code> class.\nOnly member functions (often also called methods) of the same class can access these private data members</p>\n"}, {"tags": [], "owner": {"reputation": 963, "user_id": 822830, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/bb3101a4a8b25029bccef1f1851d7ba8?s=128&d=identicon&r=PG", "display_name": "mike", "link": "https://stackoverflow.com/users/822830/mike"}, "is_accepted": false, "score": 0, "last_activity_date": 1477567782, "creation_date": 1477567782, "answer_id": 40283504, "question_id": 40271745, "link": "https://stackoverflow.com/questions/40271745/inheritance-in-qt-wont-allow-me-to-reference/40283504#40283504", "title": "inheritance in Qt won&#39;t allow me to reference?", "body": "<p>It may be the case that you intend myNoteListAdd to be a member function of Profile, i.e.</p>\n\n<pre><code>class Profile : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit Profile(QWidget *parent = 0);\n    ~Profile();\n\nprivate slots:\n    void on_actionAdd_Note_triggered();\n    **void myNoteListAdd(QString newName);**\nprivate:\n    Ui::Profile *ui;\n\nprivate:\n    QString name;\n    QString major;\n    QString school;\n    Note myNoteList;    \n};\n</code></pre>\n\n<p>And implement as:</p>\n\n<pre><code>void Profile::myNoteListAdd(QString newName){\n    myNoteList.add(newName);                // assuming you want to add newName to myNoteList\n}\n</code></pre>\n\n<p>Otherwise, you need some form of accessing the member myNoteList, either by making it public or having a getter member. In either case you need an instance of a Profile to work with, i.e.:</p>\n\n<pre><code>class Profile : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit Profile(QWidget *parent = 0);\n    ~Profile();\n\n   //either this:\n    Note myPublicNoteList;   \n    // or this \n    Note getNoteList() { return myNoteList; }\n\nprivate slots:\n    void on_actionAdd_Note_triggered();        \nprivate:\n    Ui::Profile *ui;\n\nprivate:\n    QString name;\n    QString major;\n    QString school;\n\n};\n</code></pre>\n\n<p>then in your .cpp </p>\n\n<pre><code>void myNoteListAdd(QString newName)\n{\n  Profile p = new Profile(); // or some other mechanism to get a Profile\n  //then either\n  p.myPublicNoteList.add(newName);\n  // or \n  p-&gt;getNoteList().add(newName);\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 7044652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GaCrBtC3aQE/AAAAAAAAAAI/AAAAAAAABZk/R8cxiUtlXJM/photo.jpg?sz=128", "display_name": "Juan Rodriguez", "link": "https://stackoverflow.com/users/7044652/juan-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477567782, "creation_date": 1477514436, "last_edit_date": 1477562401, "question_id": 40271745, "link": "https://stackoverflow.com/questions/40271745/inheritance-in-qt-wont-allow-me-to-reference", "title": "inheritance in Qt won&#39;t allow me to reference?", "body": "<p>So I I have an h file and a cpp file in a Qt project. I have to declare some qstrings inside my header file and I would like to reference them in my cpp file but I don't seem to be able to access it, can someone explain why or the correct way to do it?</p>\n\n<pre><code>#ifndef PROFILE_H\n#define PROFILE_H\n\n#include &lt;QMainWindow&gt;\n#include \"login.h\"\n#include \"searchnote.h\"\n#include \"note.h\"\n#include &lt;QDebug&gt;\n\nnamespace Ui {\nclass Profile;    \n}\n\nclass Profile : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit Profile(QWidget *parent = 0);\n    ~Profile();\n\nprivate slots:\n    void on_actionAdd_Note_triggered();\n\nprivate:\n    Ui::Profile *ui;\n\nprivate:\n    QString name;\n    QString major;\n    QString school;\n    Note myNoteList;    \n};\n\n#endif // PROFILE_H\n\n\n#include \"profile.h\"\n#include \"ui_profile.h\"    \n\nProfile::Profile(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::Profile)\n{\n    ui-&gt;setupUi(this);\n}\n\nProfile::~Profile()\n{\n    delete ui;\n}\n\nvoid Profile::on_actionAdd_Note_triggered()\n{\n    SearchNote openSearch;          //will send us the searchNote gui\n    openSearch.setModal(true);\n    openSearch.exec();    \n}\n\nvoid myNoteListAdd(QString newName){\n    myNoteList.add();                //the cpp file doesnt recognize this object        \n}\n</code></pre>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 1200, "user_id": 3902100, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c12c993483f15bf88249f1070cb2118c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Oliveira", "link": "https://stackoverflow.com/users/3902100/daniel-oliveira"}, "edited": false, "score": 0, "creation_date": 1477514593, "post_id": 40271743, "comment_id": 67803475, "body": "@GSerg thanks, it replied to my question."}], "answers": [{"tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 2, "last_activity_date": 1477514546, "creation_date": 1477514546, "answer_id": 40271779, "question_id": 40271743, "link": "https://stackoverflow.com/questions/40271743/how-does-delete-know-the-array-length-in-c/40271779#40271779", "title": "How does delete[] know the array length in C++?", "body": "<p>It can do it however it wants. There are two common ways:</p>\n\n<ol>\n<li><p>The implementation may use an associative array of allocated pointers mapped to their sizes.</p></li>\n<li><p>The implementation may allocate a few extra bytes at the beginning to store the size and pass a pointer into the block to the caller.</p></li>\n</ol>\n"}], "owner": {"reputation": 1200, "user_id": 3902100, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c12c993483f15bf88249f1070cb2118c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Oliveira", "link": "https://stackoverflow.com/users/3902100/daniel-oliveira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "closed_date": 1477514592, "accepted_answer_id": 40271779, "answer_count": 1, "score": 2, "last_activity_date": 1477514546, "creation_date": 1477514430, "last_edit_date": 1477514536, "question_id": 40271743, "link": "https://stackoverflow.com/questions/40271743/how-does-delete-know-the-array-length-in-c", "closed_reason": "Duplicate", "title": "How does delete[] know the array length in C++?", "body": "<p>Imagine I have a pointer to an array of integers and then I want to delete it like I do below:</p>\n\n<pre><code>int * numbers = new int[10];\ndelete[] numbers;\n</code></pre>\n\n<p>How does the <strong>delete</strong> operator knows where the array <strong>numbers</strong> ends to free that memory (since C++ does not keep track of the length of the array as far as I know)?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "class", "constants"], "comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1477513767, "post_id": 40271569, "comment_id": 67803100, "body": "have you tried <code>P2-&gt;getXCoord()</code>?"}, {"owner": {"reputation": 1494, "user_id": 4608341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a999fbef69237425f8537ea518f97be4?s=128&d=identicon&r=PG&f=1", "display_name": "grigor", "link": "https://stackoverflow.com/users/4608341/grigor"}, "edited": false, "score": 0, "creation_date": 1477514002, "post_id": 40271569, "comment_id": 67803209, "body": "what type does P2 have?"}, {"owner": {"reputation": 29, "user_id": 6542669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18face051aedda2c8cb88ac9bea3662d?s=128&d=identicon&r=PG&f=1", "display_name": "ehh123", "link": "https://stackoverflow.com/users/6542669/ehh123"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1477514327, "post_id": 40271569, "comment_id": 67803360, "body": "@W.F. I did, and I get &#39;the object has type qualifiers that are not compatible with the member function &quot;Point::getXCoord&quot;&#39;.  grigor, it&#39;s an object (if I&#39;m doing this right)."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1477514417, "post_id": 40271569, "comment_id": 67803387, "body": "@ehh123 as grigor pointed you also need to change the <code>getXCoord</code> specifier to const"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 6542669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18face051aedda2c8cb88ac9bea3662d?s=128&d=identicon&r=PG&f=1", "display_name": "ehh123", "link": "https://stackoverflow.com/users/6542669/ehh123"}, "edited": false, "score": 0, "creation_date": 1477514857, "post_id": 40271684, "comment_id": 67803614, "body": "@grigor, I made your recommended changes and updated the two getter functions and the toDistance function to const functions. Now, I get the following error message:  &#39;double Point::toDistance(const Point *) const&#39;: cannot convert argument 1 from &#39;Point&#39; to &#39;const Point *&#39;"}, {"owner": {"reputation": 1494, "user_id": 4608341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a999fbef69237425f8537ea518f97be4?s=128&d=identicon&r=PG&f=1", "display_name": "grigor", "link": "https://stackoverflow.com/users/4608341/grigor"}, "edited": false, "score": 0, "creation_date": 1477514983, "post_id": 40271684, "comment_id": 67803664, "body": "How are you passing your argument to <code>toDistance</code>? If you&#39;re passing a point, let say p, then you need to put <code>&amp;</code> in front, i.e. <code>toDistance(&amp;p)</code>."}], "tags": [], "owner": {"reputation": 1494, "user_id": 4608341, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a999fbef69237425f8537ea518f97be4?s=128&d=identicon&r=PG&f=1", "display_name": "grigor", "link": "https://stackoverflow.com/users/4608341/grigor"}, "is_accepted": false, "score": 1, "last_activity_date": 1477514467, "last_edit_date": 1477514467, "creation_date": 1477514222, "answer_id": 40271684, "question_id": 40271569, "link": "https://stackoverflow.com/questions/40271569/trouble-with-passing-const-reference-object-as-parameter-vs-debugger-reports-l/40271684#40271684", "title": "Trouble with passing const reference object as parameter, VS debugger reports &#39;left of &#39;.getXCoord&#39; must have calls/struct/union&#39;", "body": "<p>If I understand your question correctly, P2 is const reference. In that case you're not allowed to call non-const functions. You need to make your getter functions const (maybe also the toDistance function). You'd change your functions like this:</p>\n\n<pre><code>double getXCoord() const;\n</code></pre>\n\n<p>etc. Also make sure to change that in the implementation.</p>\n\n<p>If P2 is a const pointer (not a reference) then in addition you need to modify your calls to be like <code>P2-&gt;getXCoord()</code> etc.</p>\n"}], "owner": {"reputation": 29, "user_id": 6542669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18face051aedda2c8cb88ac9bea3662d?s=128&d=identicon&r=PG&f=1", "display_name": "ehh123", "link": "https://stackoverflow.com/users/6542669/ehh123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477514467, "creation_date": 1477513703, "question_id": 40271569, "link": "https://stackoverflow.com/questions/40271569/trouble-with-passing-const-reference-object-as-parameter-vs-debugger-reports-l", "title": "Trouble with passing const reference object as parameter, VS debugger reports &#39;left of &#39;.getXCoord&#39; must have calls/struct/union&#39;", "body": "<p>In my header file, I've defined the Point class, constructs a (x, y) coordinate point, contains a few getter and setter member functions, and contains a toDistance member function, which returns the distance between two points.</p>\n\n<pre><code>class Point\n{\nprivate:\n    double x_coord;\n    double y_coord;\npublic:\n    Point(double x, double y);\n    Point();\n    void setXCoord(double);\n    void setYCoord(double);\n    double getXCoord();\n    double getYCoord();\n    double toDistance(const Point*);\n};\n</code></pre>\n\n<p>Here are the member functions (of interest) in the implementation file:</p>\n\n<pre><code>double Point::getXCoord() {\n    return x_coord;\n}\ndouble Point::getYCoord() {\n    return y_coord;\n}\n\ndouble Point::toDistance(const Point *P2) {\n\n    double p1_x = getXCoord();\n    double p1_y = getYCoord();\n    double p2_x = P2.getXCoord();\n    double p2_y = P2.getYCoord();\n\n    double x_distance = p2_x - p1_x;\n    double y_distance = p2_y - p1_y;\n\n    double distance = sqrt(pow(x_distance, 2) + pow(y_distance, 2));\n\n    return distance;\n</code></pre>\n\n<p>}</p>\n\n<p>When running with test data, VS returns the error <blockquote>left of '.getXCoord' must have calls/struct/union' </blockquote> for the lines <blockquote>double p2_x = P2.getXCoord();</blockquote> and <blockquote>double p2_y = P2.getYCoord();</blockquote></p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477513476, "post_id": 40271491, "comment_id": 67802954, "body": "std::stod(buffer[i][j])"}, {"owner": {"reputation": 1, "user_id": 7066531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb24c361e29f2edb2c4f5194f87ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Braylon", "link": "https://stackoverflow.com/users/7066531/braylon"}, "reply_to_user": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477513531, "post_id": 40271491, "comment_id": 67802986, "body": "on build it says error: &#39;stod&#39; is not a member of &#39;std&#39;"}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477513623, "post_id": 40271491, "comment_id": 67803037, "body": "Try compiling it using g++ or cpp.sh (Online c++ Compiler)?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1477513849, "post_id": 40271491, "comment_id": 67803136, "body": "<a href=\"http://stackoverflow.com/questions/5605125/why-is-iostreameof-inside-a-loop-condition-considered-wrong\" title=\"why is iostreameof inside a loop condition considered wrong\">stackoverflow.com/questions/5605125/&hellip;</a>"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477513900, "post_id": 40271491, "comment_id": 67803158, "body": "What&#39;s your compiler (and its version)?"}, {"owner": {"reputation": 1, "user_id": 7066531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb24c361e29f2edb2c4f5194f87ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Braylon", "link": "https://stackoverflow.com/users/7066531/braylon"}, "edited": false, "score": 0, "creation_date": 1477513901, "post_id": 40271491, "comment_id": 67803159, "body": "I believe I am, the compiler setting I have selected is &quot;Have g++ follow the C++11 ISO C++ language standard [-std=c++11]&quot;"}, {"owner": {"reputation": 4713, "user_id": 6357360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/aed7990245e27bcf868d514f3ad014ff?s=128&d=identicon&r=PG&f=1", "display_name": "meJustAndrew", "link": "https://stackoverflow.com/users/6357360/mejustandrew"}, "edited": false, "score": 0, "creation_date": 1477513966, "post_id": 40271491, "comment_id": 67803191, "body": "I can suggest you to use Visual Studio instead of CodeBlocks, but it&#39;s just an advise :)"}, {"owner": {"reputation": 1, "user_id": 7066531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb24c361e29f2edb2c4f5194f87ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Braylon", "link": "https://stackoverflow.com/users/7066531/braylon"}, "edited": false, "score": 0, "creation_date": 1477513979, "post_id": 40271491, "comment_id": 67803202, "body": "GNU GCC Compiler?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 3, "creation_date": 1477514075, "post_id": 40271491, "comment_id": 67803241, "body": "Tag people when you answer them (with @ character), or they won&#39;t be notified. What version is your GCC? Can you run <code>g++ --version</code> from the command line?"}, {"owner": {"reputation": 1, "user_id": 7066531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb24c361e29f2edb2c4f5194f87ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Braylon", "link": "https://stackoverflow.com/users/7066531/braylon"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477514169, "post_id": 40271491, "comment_id": 67803292, "body": "@StoryTeller thanks, how would I check that?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1477514420, "post_id": 40271491, "comment_id": 67803389, "body": "I&#39;m afraid an SO comments are not the platform for such troubleshooting. Try uninstalling &amp; reinstalling code::blocks (along with the compiler provided) to the latest stable version."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 1, "creation_date": 1477516549, "post_id": 40271491, "comment_id": 67804424, "body": "This is a bug related to MinGW-32, <a href=\"http://stackoverflow.com/questions/8542221\">Link</a>. You have to use MinGW-64"}], "owner": {"reputation": 1, "user_id": 7066531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bb24c361e29f2edb2c4f5194f87ee5?s=128&d=identicon&r=PG&f=1", "display_name": "Braylon", "link": "https://stackoverflow.com/users/7066531/braylon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 404, "favorite_count": 0, "closed_date": 1477518371, "answer_count": 0, "score": 0, "last_activity_date": 1477513333, "creation_date": 1477513333, "question_id": 40271491, "link": "https://stackoverflow.com/questions/40271491/why-is-stod-not-declared-in-this-scope", "closed_reason": "Duplicate", "title": "Why is stod &quot;not declared in this scope&quot;?", "body": "<p>I am trying to use <code>stod()</code> but I am getting the error: 'stod' was not declared in this scope.</p>\n\n<p>I HAVE enabled c++ 11 and c++ 0x standards and neither have worked. As far as I can see, that is the only solution any of the other questions like his have come to.</p>\n\n<p>using CodeBlocks 16.01</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;array&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main()\n{\ndouble questions[5][5];\nstring inLine;\nstring buffer[5][5];\nint found;\nifstream inGrade (\"Grades.txt\");\n\nif (inGrade) {\n    while (!inGrade.eof()){\n        getline(inGrade, inLine);\n\n        while (inLine != \"\\0\") {\n            found = inLine.find(\" \");\n            for (int i = 0; i &lt; 6; i++) {\n                for (int j= 0; j &lt; found; j++) {\n                    buffer[i][j] += inLine[j];\n                    questions[i][j] = stod(buffer[i][j]);\n                }\n            }\n\n            inLine.erase(0, found + 1);\n        }\n    }\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1637, "user_id": 6909048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2db37ccd50ab0fb72ce3532577b50b?s=128&d=identicon&r=PG", "display_name": "Andrey Turkin", "link": "https://stackoverflow.com/users/6909048/andrey-turkin"}, "edited": false, "score": 1, "creation_date": 1477513515, "post_id": 40271486, "comment_id": 67802978, "body": "You did notice word &quot;sorting&quot; in the hint, right?"}, {"owner": {"reputation": 3, "user_id": 7077135, "user_type": "registered", "profile_image": "https://graph.facebook.com/522581811284230/picture?type=large", "display_name": "Muhammad Ahmed", "link": "https://stackoverflow.com/users/7077135/muhammad-ahmed"}, "reply_to_user": {"reputation": 1637, "user_id": 6909048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2db37ccd50ab0fb72ce3532577b50b?s=128&d=identicon&r=PG", "display_name": "Andrey Turkin", "link": "https://stackoverflow.com/users/6909048/andrey-turkin"}, "edited": false, "score": 0, "creation_date": 1477514514, "post_id": 40271486, "comment_id": 67803439, "body": "The problem in sorting could anyone help me fix that ?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477514558, "post_id": 40271486, "comment_id": 67803452, "body": "You are not reading any input from the user.  You can&#39;t sort what you don&#39;t have."}, {"owner": {"reputation": 3, "user_id": 7077135, "user_type": "registered", "profile_image": "https://graph.facebook.com/522581811284230/picture?type=large", "display_name": "Muhammad Ahmed", "link": "https://stackoverflow.com/users/7077135/muhammad-ahmed"}, "edited": false, "score": 0, "creation_date": 1477514663, "post_id": 40271486, "comment_id": 67803512, "body": "Can you put the full right code with sorting pls ?"}, {"owner": {"reputation": 3, "user_id": 7077135, "user_type": "registered", "profile_image": "https://graph.facebook.com/522581811284230/picture?type=large", "display_name": "Muhammad Ahmed", "link": "https://stackoverflow.com/users/7077135/muhammad-ahmed"}, "edited": false, "score": 0, "creation_date": 1477514753, "post_id": 40271486, "comment_id": 67803560, "body": "oooh yeeh i did miss this line from my code  cin&gt;&gt;L1&gt;&gt;L2&gt;&gt;L3&gt;&gt;L4;         sorry i didnt copy it from my compiler but i still need to know how to sorting it"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477515201, "post_id": 40271486, "comment_id": 67803769, "body": "Are you allowed to use STL algorithms?  Look at <a href=\"http://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\"><code>std::sort()</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7077135, "user_type": "registered", "profile_image": "https://graph.facebook.com/522581811284230/picture?type=large", "display_name": "Muhammad Ahmed", "link": "https://stackoverflow.com/users/7077135/muhammad-ahmed"}, "edited": false, "score": 0, "creation_date": 1477516095, "post_id": 40271899, "comment_id": 67804210, "body": "you are da king :D &lt;3"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 0, "last_activity_date": 1477515111, "creation_date": 1477515111, "answer_id": 40271899, "question_id": 40271486, "link": "https://stackoverflow.com/questions/40271486/need-help-solving-an-assignment/40271899#40271899", "title": "Need help solving an assignment", "body": "<p>You are not <strike>reading any input from the user, let alone</strike> sorting the input.  Also, you are not following the first requirement mentioned in the assignment, either (reading the number of test cases).</p>\n\n<p>Try something more like this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\n#define L1 Lengths[0]\n#define L2 Lengths[1]\n#define L3 Lengths[2]\n#define L4 Lengths[3]\n\nint main()\n{\n    int NumTestCases, Lengths[4];\n\n    cout &lt;&lt; \"How many test cases? \";\n    cin &gt;&gt; NumTestCases;\n\n    for(int i = 0; i &lt; NumTestCases; ++i)\n    {\n        cout &lt;&lt; \"Enter 4 lengths: \";\n        cin &gt;&gt; L1 &gt;&gt; L2 &gt;&gt; L3 &gt;&gt; L4;\n        std::sort(Lengths, Lengths+4);\n\n        if ((L1 == L2) &amp;&amp; (L2 == L3) &amp;&amp; (L3 == L4)) {\n            cout &lt;&lt; \"square\" &lt;&lt; endl;\n        }\n        else if (((L1 == L2) &amp;&amp; (L3 == L4)) || ((L1 == L3) &amp;&amp; (L2 == L4))) {\n            cout &lt;&lt; \"rectangle\" &lt;&lt; endl;\n        }\n        else if ((L1 + L2 + L3) &gt; L4) {\n            cout &lt;&lt; \"quadrangle\" &lt;&lt; endl;\n        }\n        else {\n            cout &lt;&lt; \"banana\" &lt;&lt; endl;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7077135, "user_type": "registered", "profile_image": "https://graph.facebook.com/522581811284230/picture?type=large", "display_name": "Muhammad Ahmed", "link": "https://stackoverflow.com/users/7077135/muhammad-ahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 40271899, "answer_count": 1, "score": -1, "last_activity_date": 1477515166, "creation_date": 1477513328, "last_edit_date": 1477515166, "question_id": 40271486, "link": "https://stackoverflow.com/questions/40271486/need-help-solving-an-assignment", "title": "Need help solving an assignment", "body": "<p>I have the following assignment:</p>\n\n<blockquote>\n  <p>We have the length of four sides. You have to determine if they can form a square. If not, determine if they can form a rectangle. If not, determine if they can form a quadrangle</p>\n  \n  <p>Hints</p>\n  \n  <p>Sorting the lengths will help us , so</p>\n  \n  <p><code>If L1 == L2 &amp;&amp; L2 == L3 &amp;&amp; L3 == L4</code> this will be square</p>\n  \n  <p><code>If L1 == L2 &amp;&amp; L3 == L4</code> this will be rectangle</p>\n  \n  <p><code>If L1 + L2 + L3 &gt; L4</code> this will be quadrangle</p>\n  \n  <p>If it isn't one of them we will call it banana</p>\n  \n  <p>Input:</p>\n  \n  <p>The number of test cases, following a line with four positive integer numbers, between 0 and 2^30, the lengths.</p>\n  \n  <p>Output:</p>\n  \n  <p>One of four strings: \u2018square\u2019, \u2018rectangle\u2019, \u2018quadrangle\u2019 or \u2018banana\u2019.</p>\n  \n  <p>Sample Input</p>\n\n<pre><code>4\n10 8 7 6\n9 1 9 1\n29 29 29 29\n5 12 13 7\n</code></pre>\n  \n  <p>Sample Output</p>\n\n<pre><code>quadrangle\nrectangle\nsquare\n</code></pre>\n</blockquote>\n\n<p>I don't know how to solve this.  Here is my code so far:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    int L1; int L2; int L3; int L4;\n    cin&gt;&gt;L1&gt;&gt;L2&gt;&gt;L3&gt;&gt;L4;\n\n    cout&lt;&lt;\"Enter the 4 lengths\";\n\n    if(L1 == L2 &amp;&amp; L2 == L3 &amp;&amp; L3 == L4){\n        cout&lt;&lt;\"You have choosed the square\";\n    }\n    else if(L1 == L2 &amp;&amp; L3 == L4|| L1==L3 &amp;&amp; L2==L4){\n        cout&lt;&lt;\"You have choosed the rectangle\";\n    }\n    else if(L1 + L2 + L3 &gt; L4){\n        cout&lt;&lt;\"You have choosed the quadrangle\";\n    }\n    else{\n        cout&lt;&lt;\"It's Baanana\";\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "caffe", "openblas"], "comments": [{"owner": {"reputation": 860, "user_id": 1363495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18f75bb8e7032480da04377694f3f448?s=128&d=identicon&r=PG&f=1", "display_name": "Gun2sh", "link": "https://stackoverflow.com/users/1363495/gun2sh"}, "edited": false, "score": 0, "creation_date": 1516223582, "post_id": 40271400, "comment_id": 83605891, "body": "did you use -I before the LDFLAGS?"}], "answers": [{"comments": [{"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477514384, "post_id": 40271592, "comment_id": 67803377, "body": "I have edited those two lines and still get the same error. My changes were: <code>INCLUDE_DIRS := &#47;usr&#47;local&#47;include &#47;usr&#47;local&#47;opt&#47;openblas&#47;lib</code> and <code>LIBRARY_DIRS := &#47;usr&#47;local&#47;lib &#47;usr&#47;lib &#47;usr&#47;local&#47;opt&#47;openblas&#47;include</code> as there was nothing in my PYTHON_INCLUDE and PYTHON_LIB variables."}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477514564, "post_id": 40271592, "comment_id": 67803458, "body": "What is the output of <code>shell brew --prefix openblas</code>?"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477514613, "post_id": 40271592, "comment_id": 67803486, "body": "I never installed caffe... but do you have some <code>.&#47;config</code> to run before <code>make</code>?"}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477514922, "post_id": 40271592, "comment_id": 67803638, "body": "<code>&#47;usr&#47;local&#47;opt&#47;openblas</code>. And no, there is no executable config file."}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515059, "post_id": 40271592, "comment_id": 67803705, "body": "Do you see the blas libraries doing <code>ls &#47;usr&#47;local&#47;opt&#47;openblas&#47;lib</code>?"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515163, "post_id": 40271592, "comment_id": 67803758, "body": "No, sorry... I am completely wrong... The point is that or you installed the wrong libraries or you are trying to install the wrong caffe"}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515377, "post_id": 40271592, "comment_id": 67803867, "body": "I do see all the <code>*.dylib</code> libraries. I&#39;m not sure how else I would install openblas. Maybe I will just use Atlas or MLK instead."}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515392, "post_id": 40271592, "comment_id": 67803875, "body": "could you give me the output of <code>uname -a</code>? (I suppose mac works as GNU/linux in this stuff)"}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515729, "post_id": 40271592, "comment_id": 67804040, "body": "<code>Darwin Trends-MacBook-Pro.local 15.6.0 Darwin Kernel Version 15.6.0: Mon Aug 29 20:21:34 PDT 2016; root:xnu-3248.60.11~1&#47;RELEASE_X86_64 x86_64</code>"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515749, "post_id": 40271592, "comment_id": 67804051, "body": "Try like this: into the <code>Makefile</code> (not the config) at line 421 add <code>-I&#47;usr&#47;local&#47;opt&#47;openblas&#47;include</code> and <code>-L&#47;usr&#47;local&#47;opt&#47;openblas&#47;lib</code> (the two line of the brew output)"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515850, "post_id": 40271592, "comment_id": 67804102, "body": "You can try with ATLAS, mkl are not free... I do not know if you have them... (moreover you should then use the intel compiler)"}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477515875, "post_id": 40271592, "comment_id": 67804118, "body": "Line 421 looks like this <code>lintclean: \t@ $(RM) -r $(LINT_OUTPUT_DIR) $(EMPTY_LINT_REPORT) $(NONEMPTY_LINT_REPORT) </code> That doesn&#39;t seem right. Can you be more specific about where I am adding it?"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 1, "creation_date": 1477516019, "post_id": 40271592, "comment_id": 67804175, "body": "At the end of this one... <code>LDFLAGS += $(foreach librarydir,$(LIBRARY_DIRS),-L$(librarydir)) $(PKG_CONFIG) \\ \t\t$(foreach library,$(LIBRARIES),-l$(library))</code> (sorry I was looking at the development version..). This is a long line broke in two.."}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477516179, "post_id": 40271592, "comment_id": 67804250, "body": "So now that line looks as follows: <code>LDFLAGS += $(foreach librarydir,$(LIBRARY_DIRS),-L$(librarydir)) $(PKG_CONFIG) \\ \t\t$(foreach library,$(LIBRARIES),-l$(library)) \\ \t\t-I&#47;usr&#47;local&#47;opt&#47;openblas&#47;include \\ \t\t-L&#47;usr&#47;local&#47;opt&#47;openblas&#47;lib</code>"}, {"owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "reply_to_user": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477516225, "post_id": 40271592, "comment_id": 67804274, "body": "Looks fine... try to make clean and make (-j 4 should run faster)"}, {"owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "edited": false, "score": 0, "creation_date": 1477516393, "post_id": 40271592, "comment_id": 67804335, "body": "I got a warning but no error! Fully compiled. Thank you so so much!"}], "tags": [], "owner": {"reputation": 1563, "user_id": 6769931, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210224459237306/picture?type=large", "display_name": "Riccardo Petraglia", "link": "https://stackoverflow.com/users/6769931/riccardo-petraglia"}, "is_accepted": true, "score": 0, "last_activity_date": 1477516566, "last_edit_date": 1477516566, "creation_date": 1477513799, "answer_id": 40271592, "question_id": 40271400, "link": "https://stackoverflow.com/questions/40271400/error-in-compiling-caffe-ld-cant-map-file-errno-22/40271592#40271592", "title": "Error in compiling Caffe: ld: can&#39;t map file, errno=22", "body": "<p>Rough but working method:</p>\n\n<p>change the following line in the Makefile (not config)</p>\n\n<pre><code>LDFLAGS += $(foreach librarydir,$(LIBRARY_DIRS),-L$(librarydir)) $(PKG_CONFIG) \\ $(foreach library,$(LIBRARIES),-l$(library)) \n</code></pre>\n\n<p>with</p>\n\n<pre><code> LDFLAGS += $(foreach librarydir,$(LIBRARY_DIRS),-L$(librarydir)) $(PKG_CONFIG) \\ $(foreach library,$(LIBRARIES),-l$(library)) \\ -I/usr/local/opt/openblas/include \\ -L/usr/local/opt/openblas/lib\n</code></pre>\n"}], "owner": {"reputation": 1177, "user_id": 5380366, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/ff4791dd8775da984411d8b7348d1982?s=128&d=identicon&r=PG&f=1", "display_name": "Melanie", "link": "https://stackoverflow.com/users/5380366/melanie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1298, "favorite_count": 0, "accepted_answer_id": 40271592, "answer_count": 1, "score": 2, "last_activity_date": 1477516566, "creation_date": 1477512918, "last_edit_date": 1477513384, "question_id": 40271400, "link": "https://stackoverflow.com/questions/40271400/error-in-compiling-caffe-ld-cant-map-file-errno-22", "title": "Error in compiling Caffe: ld: can&#39;t map file, errno=22", "body": "<p>I am trying to compile Caffe and am receiving the following error that I cannot debug:</p>\n\n<p><code>ld: can't map file, errno=22 file '/usr/local/opt/openblas/lib' for architecture x86_64\nclang: error: linker command failed with exit code 1 (use -v to see invocation)</code> </p>\n\n<p>I have downloaded OpenBLAS via <code>brew install openblas</code> and received the following potentially important output: </p>\n\n<pre><code>==&gt; Caveats\nThis formula is keg-only, which means it was not symlinked into /usr/local.\n\nmacOS already provides this software and installing another version in\nparallel can cause all kinds of trouble.\n\nGenerally there are no consequences of this for you. If you build your\nown software and it requires this formula, you'll need to add to your\nbuild variables:\n\n    LDFLAGS:  -L/usr/local/opt/openblas/lib\n    CPPFLAGS: -I/usr/local/opt/openblas/include\n</code></pre>\n\n<p>I added the necessary paths to my Makefile.config file, which is below:</p>\n\n<pre><code># Refer to http://caffe.berkeleyvision.org/installation.html\n# Contributions simplifying and improving our build system are welcome!\n\n# cuDNN acceleration switch (uncomment to build with cuDNN).\n# USE_CUDNN := 1\n\n# CPU-only switch (uncomment to build without GPU support).\nCPU_ONLY := 1\n\n# To customize your choice of compiler, uncomment and set the following.\n# N.B. the default for Linux is g++ and the default for OSX is clang++\n# CUSTOM_CXX := g++\n\n# CUDA directory contains bin/ and lib/ directories that we need.\nCUDA_DIR := /usr/local/cuda\n# On Ubuntu 14.04, if cuda tools are installed via\n# \"sudo apt-get install nvidia-cuda-toolkit\" then use this instead:\n# CUDA_DIR := /usr\n\n# CUDA architecture setting: going with all of them.\n# For CUDA &lt; 6.0, comment the *_50 lines for compatibility.\nCUDA_ARCH := -gencode arch=compute_20,code=sm_20 \\\n            -gencode arch=compute_20,code=sm_21 \\\n            -gencode arch=compute_30,code=sm_30 \\\n            -gencode arch=compute_35,code=sm_35 \\\n            -gencode arch=compute_50,code=sm_50 \\\n            -gencode arch=compute_50,code=compute_50\n\n# BLAS choice:\n# atlas for ATLAS (default)\n# mkl for MKL\n# open for OpenBlas\nBLAS := open\n# Custom (MKL/ATLAS/OpenBLAS) include and lib directories.\n# Leave commented to accept the defaults for your choice of BLAS\n# (which should work)!\n# BLAS_INCLUDE := /usr/local/opt/openblas/include\n# BLAS_LIB := /usr/local/opt/openblas/lib\n\n# Homebrew puts openblas in a directory that is not on the standard search   path\nBLAS_INCLUDE := $(shell brew --prefix openblas)/include\nBLAS_LIB := $(shell brew --prefix openblas)/lib\n\n# This is required only if you will compile the matlab interface.\n# MATLAB directory should contain the mex binary in /bin.\n# MATLAB_DIR := /usr/local\n# MATLAB_DIR := /Applications/MATLAB_R2012b.app\n\n# NOTE: this is required only if you will compile the python interface.\n# We need to be able to find Python.h and numpy/arrayobject.h.\n# PYTHON_INCLUDE := /usr/include/python2.7 \\\n            # /usr/lib/python2.7/dist-packages/numpy/core/include\n# Anaconda Python distribution is quite popular. Include path:\n# Verify anaconda location, sometimes it's in root.\nANACONDA_HOME := $(HOME)/anaconda\nPYTHON_INCLUDE := $(ANACONDA_HOME)/include \\\n                  $(ANACONDA_HOME)/include/python2.7 \\\n                  $(ANACONDA_HOME)/lib/python2.7/site-packages/numpy/core/include \\\n\n# We need to be able to find libpythonX.X.so or .dylib.\n# PYTHON_LIB := /usr/lib\nPYTHON_LIB := $(ANACONDA_HOME)/lib\n\n# Homebrew installs numpy in a non standard path (keg only)\n# PYTHON_INCLUDE += $(dir $(shell python -c 'import numpy.core;      print(numpy.core.__file_$\n# PYTHON_LIB += $(shell brew --prefix numpy)/lib\n\n# Uncomment to support layers written in Python (will link against Python libs)\n# WITH_PYTHON_LAYER := 1\n\n# Whatever else you find you need goes here.\nINCLUDE_DIRS := $(PYTHON_INCLUDE) /usr/local/include\nLIBRARY_DIRS := $(PYTHON_LIB) /usr/local/lib /usr/lib\n\n# If Homebrew is installed at a non standard location (for example your home directory) $\n# INCLUDE_DIRS += $(shell brew --prefix)/include\n# LIBRARY_DIRS += $(shell brew --prefix)/lib\n\n# Uncomment to use `pkg-config` to specify OpenCV library paths.\n# (Usually not necessary -- OpenCV libraries are normally installed in one of the above $\n# USE_PKG_CONFIG := 1\n\nBUILD_DIR := build\nDISTRIBUTE_DIR := distribute\n\n# Uncomment for debugging. Does not work on OSX due to https://github.com/BVLC/caffe/iss$\n# DEBUG := 1\n\n# The ID of the GPU that 'make runtest' will use to run unit tests.\nTEST_GPUID := 0\n\n# enable pretty build (comment to see full commands)\nQ ?= @\n</code></pre>\n"}, {"tags": ["java", "c++", "java-native-interface"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7077141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f55c06e8f4e40302eb8e91b32bb419?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/7077141/florian"}, "edited": false, "score": 0, "creation_date": 1477583593, "post_id": 40273555, "comment_id": 67836455, "body": "Changed that, but it still crashes at the same position. I&#39;ve added hs_err_pid in the main question. :)"}], "tags": [], "owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "is_accepted": false, "score": -1, "last_activity_date": 1477523889, "last_edit_date": 1477523889, "creation_date": 1477523365, "answer_id": 40273555, "question_id": 40271368, "link": "https://stackoverflow.com/questions/40271368/calling-a-method-using-jni-bad-jni-oop-argument/40273555#40273555", "title": "Calling a method using jni: Bad JNI oop argument", "body": "<pre><code>(*env).CallObjectMethod(theUnsafe, defineClassID, name, data, n0, dataSize, classLoader, NULL);\n</code></pre>\n\n<p>This is not correct. Did you make it up? Don't do that. Read the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html\" rel=\"nofollow\">JNI Specification</a>. It should be:</p>\n\n<pre><code>env-&gt;CallObjectMethod(theUnsafe, defineClassID, name, data, n0, dataSize, classLoader, NULL);\n</code></pre>\n\n<p>For completeness, in C it should be:</p>\n\n<pre><code>(*env)-&gt;CallObjectMethod(env, theUnsafe, defineClassID, name, data, n0, dataSize, classLoader, NULL);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8715205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/704818d5ebe1b97588df60de44f880b0?s=128&d=identicon&r=PG&f=1", "display_name": "dcvoidist", "link": "https://stackoverflow.com/users/8715205/dcvoidist"}, "is_accepted": false, "score": 0, "last_activity_date": 1510848881, "creation_date": 1510848881, "answer_id": 47334375, "question_id": 40271368, "link": "https://stackoverflow.com/questions/40271368/calling-a-method-using-jni-bad-jni-oop-argument/47334375#47334375", "title": "Calling a method using jni: Bad JNI oop argument", "body": "<p>I know this is old and outdated, but this seems to be the only thread with this particular error message.  I do not have the same setup as the OP but I found that when I tried to do this</p>\n\n<pre><code>env-&gt;CallStaticVoidMethod(jcls, mainMethod);\n</code></pre>\n\n<p>I would receive this same error.  This was to invoke the main static method of my main class.  It also produced the same error message \"Bad JNI oop argument\".  </p>\n\n<p>I fixed this by creating a new (empty) jobjectArray and passed it to the method, and it fixed my error. </p>\n\n<pre><code>jobjectArray args;\nargs = env-&gt;NewObjectArray(0, env-&gt;FindClass(\"java/lang/String\"), 0);\nenv-&gt;CallStaticVoidMethod(jcls, mainMethod, args);\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7077141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f55c06e8f4e40302eb8e91b32bb419?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/7077141/florian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1510848881, "creation_date": 1477512800, "last_edit_date": 1477931644, "question_id": 40271368, "link": "https://stackoverflow.com/questions/40271368/calling-a-method-using-jni-bad-jni-oop-argument", "title": "Calling a method using jni: Bad JNI oop argument", "body": "<p>I'm trying to call a method using jni (java native interface), but it crashes when I'm calling the method. I read the documentation, so I found out that I need to use objects of the type \"jvalue\" as parameters, but, how can I convert a jobject/j to a jvalue?</p>\n\n<p>Here's my current code:</p>\n\n<pre><code>    jclass unsafeClass = (*env).FindClass(\"sun/misc/Unsafe\");\n    jfieldID unsafeObjFieldID = (*env).GetStaticFieldID(unsafeClass, \"theUnsafe\", \"Lsun/misc/Unsafe;\");\n\n    jobject theUnsafe = (*env).GetStaticObjectField(unsafeClass, unsafeObjFieldID);\n\n    jmethodID defineClassID = (*env).GetMethodID(unsafeClass, \"defineClass\", \"(Ljava/lang/String;[BIILjava/lang/ClassLoader;Ljava/security/ProtectionDomain;)Ljava/lang/Class;\");\n\n    jsize dataSize = (*env).GetArrayLength(arr);\n    jbyte* data = (*env).GetByteArrayElements(arr, NULL);\n    jstring name = (*env).NewStringUTF(\"Test\");\n    jint n0 = (jint) 0;\n\n    // In this method it crashes ._.\n    (*env).CallObjectMethod(theUnsafe, defineClassID, name, data, n0, dataSize, classLoader, NULL);\n</code></pre>\n\n<p>hs_err_pid (if it would help): <a href=\"http://paste.reflex.rip/okugaluyok.go\" rel=\"nofollow\">http://paste.reflex.rip/okugaluyok.go</a></p>\n\n<p>EDIT: I found the startparam \"-Xcheck:jni\", now I got a little error message. </p>\n\n<pre><code>FATAL ERROR in native method: Bad JNI oop argument\n</code></pre>\n"}, {"tags": ["c++", "templates", "member-pointers", "intrusive-containers"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 2112500, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b21a44556f068070ec6408f381089249?s=128&d=identicon&r=PG", "display_name": "aspen100", "link": "https://stackoverflow.com/users/2112500/aspen100"}, "edited": false, "score": 0, "creation_date": 1477515012, "post_id": 40271643, "comment_id": 67803681, "body": "is it then expected for T to have a member of type Node&lt;T&gt;?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 853, "user_id": 2112500, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b21a44556f068070ec6408f381089249?s=128&d=identicon&r=PG", "display_name": "aspen100", "link": "https://stackoverflow.com/users/2112500/aspen100"}, "edited": false, "score": 1, "creation_date": 1477515137, "post_id": 40271643, "comment_id": 67803744, "body": "@aspen100 Yes, that&#39;s the intrusive bit. To be usable as a <code>List</code> element, <code>T</code> must contain a <code>Node&lt;T&gt;</code> member somewhere. The location of this member is specified by the <code>NODE</code> member pointer."}], "tags": [], "owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "is_accepted": true, "score": 3, "last_activity_date": 1477514025, "creation_date": 1477514025, "answer_id": 40271643, "question_id": 40271361, "link": "https://stackoverflow.com/questions/40271361/what-is-the-meaning-of-template-arguments-of-this-type-classat-telem/40271643#40271643", "title": "What is the meaning of template arguments of this type - `ClassA&lt;T&gt; T::*ELEM`?", "body": "<p>It's a member pointer. <code>NODE</code> is a pointer to a member of <code>T</code> that has type <code>Node&lt;T&gt;</code>.</p>\n\n<p>Similarly, <code>foo-&gt;*bar</code> is shorthand for <code>(*foo).*bar</code> where <code>.*</code> is the dereference-pointer-to-member operator. <code>elem-&gt;*NODE</code> accesses the member of <code>*elem</code> pointed to by <code>NODE</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": false, "score": 1, "last_activity_date": 1477514136, "creation_date": 1477514136, "answer_id": 40271664, "question_id": 40271361, "link": "https://stackoverflow.com/questions/40271361/what-is-the-meaning-of-template-arguments-of-this-type-classat-telem/40271664#40271664", "title": "What is the meaning of template arguments of this type - `ClassA&lt;T&gt; T::*ELEM`?", "body": "<p>That's called \"pointer to member operator\".</p>\n\n<p>The standard (N3690, section 5.5) says:</p>\n\n<p>The pointer-to-member operators ->* and .* group left-to-right.</p>\n\n<p>The binary operator .* binds its second operand, which shall be of type \u201cpointer to member of T\u201d to its first operand, which shall be of class T or of a class of which T is an unambiguous and accessible base class.\nThe result is an object or a function of the type specified by the second operand.</p>\n\n<p>The binary operator ->* binds its second operand, which shall be of type \u201cpointer to member of T\u201d to its first operand, which shall be of type \u201cpointer to T\u201d or \u201cpointer to a class of which T is an unambiguous and accessible base class.\u201d The expression E1->*E2 is converted into the equivalent form (*(E1)).*E2.</p>\n\n<p>Also have a look at <a href=\"http://en.cppreference.com/w/cpp/language/operator_member_access\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/operator_member_access</a>.</p>\n\n<p>The operator ::* is the same -- accessing using class name instead of a variable, much like when you have class C and object obj you can either do C::func or obj.func or (&amp;obj)->func.</p>\n"}], "owner": {"reputation": 853, "user_id": 2112500, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/b21a44556f068070ec6408f381089249?s=128&d=identicon&r=PG", "display_name": "aspen100", "link": "https://stackoverflow.com/users/2112500/aspen100"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "closed_date": 1477514921, "accepted_answer_id": 40271643, "answer_count": 2, "score": 1, "last_activity_date": 1517664535, "creation_date": 1477512771, "last_edit_date": 1517664535, "question_id": 40271361, "link": "https://stackoverflow.com/questions/40271361/what-is-the-meaning-of-template-arguments-of-this-type-classat-telem", "closed_reason": "Duplicate", "title": "What is the meaning of template arguments of this type - `ClassA&lt;T&gt; T::*ELEM`?", "body": "<p>I came across this code recently, in the context of intrusive lists: </p>\n\n<pre><code>template&lt;typename T&gt; struct Node{\n    T *next;\n    T *prev;\n    Node(): next(nullptr), prev(nullptr){}\n};\n\n\n/*\n * Intrusive doubly-linked-list\n *\n * */\ntemplate&lt;typename T, Node&lt;T&gt; T::*NODE&gt;\nclass List{\nT *head;\nT *tail;\npublic: \n    List():head(nullptr), tail(nullptr){}\n    ~List() {clear();}\n\n    /*\n    * Add an element at the head of list\n    * @param elem item to be inserted\n    * */\n    void add_to_front(T *elem){\n\n        Node&lt;T&gt; *node = &amp;(elem-&gt;*NODE);\n\n        assert((node-&gt;next) == nullptr);\n        assert((node-&gt;prev) == nullptr);\n\n        node-&gt;next = head;\n\n        if(head != nullptr){\n            Node&lt;T&gt; *temp = &amp;(head-&gt;*NODE);\n            temp-&gt;prev = elem;\n        }\n\n        head = elem;\n\n        if(tail == nullptr)\n            tail = head;\n\n    }\n    //other member functions ,etc.\n    ..\n    ..\n};\n</code></pre>\n\n<p>I see similar code in the boost <a href=\"http://www.boost.org/doc/libs/1_37_0/doc/html/intrusive/list.html\" rel=\"nofollow noreferrer\">intrusive list library</a> (<code>member_hook&lt;class T, class Hook, Hook T::* PtrToMember&gt;</code>). </p>\n\n<p>My question is regarding the template argument <code>Node&lt;T&gt; T::*NODE</code>. I am not an expert in C++, but I have never come across this particular syntax before, and don't know what to search for to understand it.  </p>\n\n<p>What does it mean? What is its purpose, and what should I interpret it as - \"<strong>NODE is a pointer to a Node, belonging to T</strong>\"? That doesn't make sense to me, because T isn't known to contain specific members ahead of time, and as far as I know, <code>::</code> is used to resolve scope.</p>\n\n<p>As well, if someone could clarify the use of <code>*NODE</code> in this line, for instance : <code>Node&lt;T&gt; *node = &amp;(elem-&gt;*NODE);</code>, that would help me understand what this is being used for.</p>\n"}, {"tags": ["c++", "qt", "qtcharts"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 4285552, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e7b48d5fcc54088e40908e376775732?s=128&d=identicon&r=PG&f=1", "display_name": "Yosemite", "link": "https://stackoverflow.com/users/4285552/yosemite"}, "is_accepted": true, "score": 4, "last_activity_date": 1480356057, "creation_date": 1480356057, "answer_id": 40850653, "question_id": 40271339, "link": "https://stackoverflow.com/questions/40271339/qt-qxyseries-and-chartview-modify-hovered-behavior-to-trigger-within-a-range/40850653#40850653", "title": "Qt QXYSeries and ChartView - modify hovered behavior to trigger within a range", "body": "<p>Eventually, I got this behavior by creating a class that inherits from QChartView and overriding <code>mouseMoveEvent(QMouseEvent* event)</code> thusly:</p>\n\n<pre><code>void ScatterView::mouseMoveEvent(QMouseEvent* event)\n{\n    if(!this-&gt;chart()-&gt;axisX() || !this-&gt;chart()-&gt;axisY())\n    {\n        return;\n    }\n    QPointF inPoint;\n    QPointF chartPoint;\n    inPoint.setX(event-&gt;x());\n    inPoint.setY(event-&gt;y());\n    chartPoint = chart()-&gt;mapToValue(inPoint);\n    handleMouseMoved(chartPoint);\n}\n\nvoid ScatterView::handleMouseMoved(const QPointF &amp;point)\n{\n    QPointF mousePoint = point;\n    qreal distance(0.2); //distance from mouse to point in chart axes\n    foreach (QPointF currentPoint, scatterSeries-&gt;points()) { \n        qreal currentDistance = qSqrt((currentPoint.x() - mousePoint.x())\n                                      * (currentPoint.x() - mousePoint.x())\n                                      + (currentPoint.y() - mousePoint.y())\n                                      * (currentPoint.y() - mousePoint.y()));\n        if (currentDistance &lt; distance) {\n            triggerPoint(currentPoint);\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 4285552, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e7b48d5fcc54088e40908e376775732?s=128&d=identicon&r=PG&f=1", "display_name": "Yosemite", "link": "https://stackoverflow.com/users/4285552/yosemite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 0, "accepted_answer_id": 40850653, "answer_count": 1, "score": 0, "last_activity_date": 1480356057, "creation_date": 1477512713, "question_id": 40271339, "link": "https://stackoverflow.com/questions/40271339/qt-qxyseries-and-chartview-modify-hovered-behavior-to-trigger-within-a-range", "title": "Qt QXYSeries and ChartView - modify hovered behavior to trigger within a range", "body": "<p>I have a scatter plot represented by a QXYSeries and viewed with a ChartView from Qt Charts 5.7.</p>\n\n<p>I want to hover my mouse over the plot, have \"hovered\" trigger within a certain distance, rather than only when my cursor is directly on top of a point. Imagine a circle around the mouse, that will trigger hovered whenever any part of the series is within it.</p>\n\n<p>Is there a way to get this behavior?</p>\n"}, {"tags": ["c++", "qt", "stdout", "qtextstream"], "answers": [{"comments": [{"owner": {"reputation": 2255, "user_id": 1036082, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a291efdfec6f8802d64589cd992131fb?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Przenios\u0142o", "link": "https://stackoverflow.com/users/1036082/%c5%81ukasz-przenios%c5%82o"}, "edited": false, "score": 0, "creation_date": 1477515119, "post_id": 40271868, "comment_id": 67803738, "body": "Yes I am writing a logger singleton class."}, {"owner": {"reputation": 2255, "user_id": 1036082, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a291efdfec6f8802d64589cd992131fb?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Przenios\u0142o", "link": "https://stackoverflow.com/users/1036082/%c5%81ukasz-przenios%c5%82o"}, "edited": false, "score": 0, "creation_date": 1477515613, "post_id": 40271868, "comment_id": 67803980, "body": "I added more detaild to my question, maybe you could reffer?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 2255, "user_id": 1036082, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a291efdfec6f8802d64589cd992131fb?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Przenios\u0142o", "link": "https://stackoverflow.com/users/1036082/%c5%81ukasz-przenios%c5%82o"}, "edited": false, "score": 0, "creation_date": 1477515729, "post_id": 40271868, "comment_id": 67804039, "body": "@\u0141ukaszPrzenios\u0142o Your logger doesn&#39;t have to be a singleton. It&#39;ll probably be more generic and less convoluted if it isn&#39;t :)"}, {"owner": {"reputation": 2255, "user_id": 1036082, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a291efdfec6f8802d64589cd992131fb?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Przenios\u0142o", "link": "https://stackoverflow.com/users/1036082/%c5%81ukasz-przenios%c5%82o"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1477515818, "post_id": 40271868, "comment_id": 67804089, "body": "@KubaOber I know but I am used to the schematic from regular c++. Wanted to try it out with Qt."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1477530640, "post_id": 40271868, "comment_id": 67808507, "body": "This <i>is</i> regular C++ :) Qt is just a framework. Singletons are to be avoided, pretty much. You can sure hold an instance in a way that&#39;s globally accessible, but that doesn&#39;t make it a singleton yet :)"}], "tags": [], "owner": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "is_accepted": false, "score": 1, "last_activity_date": 1477514984, "creation_date": 1477514984, "answer_id": 40271868, "question_id": 40271257, "link": "https://stackoverflow.com/questions/40271257/subscribe-more-outputs-to-qtextstream/40271868#40271868", "title": "Subscribe more outputs to QTextStream", "body": "<p>One could, theoratically, write a <code>QIODevice</code> derived class that delegates its writes to multiple other <code>QDIODevice</code> objects and then use an object of that class as the device the <code>QTextStream</code> works on.</p>\n\n<p>However, what you are likely actually looking for is a logging framework.</p>\n"}], "owner": {"reputation": 2255, "user_id": 1036082, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/a291efdfec6f8802d64589cd992131fb?s=128&d=identicon&r=PG", "display_name": "\u0141ukasz Przenios\u0142o", "link": "https://stackoverflow.com/users/1036082/%c5%81ukasz-przenios%c5%82o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477515582, "creation_date": 1477512406, "last_edit_date": 1495535655, "question_id": 40271257, "link": "https://stackoverflow.com/questions/40271257/subscribe-more-outputs-to-qtextstream", "title": "Subscribe more outputs to QTextStream", "body": "<p>I was just following this topic \"<a href=\"https://stackoverflow.com/questions/3886105/how-to-print-to-console-when-using-qt\">How to print to console when using Qt</a>\" in order to make my application work. I started to wonder- Is it possible to subscribe more outputs to a single <code>QTextStream</code>? For example, lets say when I wrote something to my QTextStream object, I want the string to be printed to stdout and a specified file as well. Would this be possible?\nI would appreciate all help.</p>\n\n<p>Edit:\nTo be more exact, I am trying to find an optimal way to send a stream either to stdout, file or file + stdout. I dont want to copy data more times that I need to. Sany hints of how to achieve this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1477512737, "post_id": 40270978, "comment_id": 67802598, "body": "<code>std::count_if</code> and your lambda."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7076388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f67d78d667b0e8184b1f3bd76a88a1?s=128&d=identicon&r=PG&f=1", "display_name": "Barlach", "link": "https://stackoverflow.com/users/7076388/barlach"}, "is_accepted": true, "score": 0, "last_activity_date": 1477659789, "last_edit_date": 1477659789, "creation_date": 1477659279, "answer_id": 40305590, "question_id": 40270978, "link": "https://stackoverflow.com/questions/40270978/c-count-in-specific-column-of-2d-vector/40305590#40305590", "title": "C++: Count in specific column of 2d vector", "body": "<p>Seems like there is no such solution with <em>InputIterators</em>. Hence, here is the solution with <em>if</em> condition and <em>for</em> loop:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>unsigned int c = 0;\nfor(auto vec : dataIn) {\n  if(vec[n] == \"CMO\") {\n    c += 1;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7076388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f67d78d667b0e8184b1f3bd76a88a1?s=128&d=identicon&r=PG&f=1", "display_name": "Barlach", "link": "https://stackoverflow.com/users/7076388/barlach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 40305590, "answer_count": 1, "score": 0, "last_activity_date": 1477659789, "creation_date": 1477511283, "last_edit_date": 1477572467, "question_id": 40270978, "link": "https://stackoverflow.com/questions/40270978/c-count-in-specific-column-of-2d-vector", "title": "C++: Count in specific column of 2d vector", "body": "<p>The following code counts how many times the string \"CMO\" occurs in the <strong>nth row</strong> of the 2d vector dataIn </p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>vector&lt; vector&lt;string&gt; &gt; dataIn ( nrows, vector&lt;string&gt; (ncolumns) );\nint mycount = count(dataIn[n].begin(), dataIn[n].end(), \"CMO\");\n</code></pre>\n\n<p>Now, I would like to do the same thing, however, in the <strong>nth column</strong>. Can someone help me? I know, there are several ways to solve this problem by using <em>if</em> conditions and loops. However, my question is related to the InputIterators (InputIterator first, InputIterator last):</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>count (InputIterator first, InputIterator last, const T&amp; val)\n</code></pre>\n\n<p>How do I have to set the InputIterators to consider only the nth column? The 2d vector is huge, this is the reason, why I don't want to check the entire 2d vector.</p>\n"}, {"tags": ["javascript", "c++", "sandbox", "v8"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1477511847, "post_id": 40270732, "comment_id": 67802158, "body": "By blacklisting, you mean searching client code for the actual string representing the illegal function and rejecting?  Ya, that won&#39;t work."}, {"owner": {"reputation": 115, "user_id": 5372559, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/90ace8882100d810b8206e01bf6666cf?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Frev", "link": "https://stackoverflow.com/users/5372559/nick-frev"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1477512612, "post_id": 40270732, "comment_id": 67802523, "body": "I know, but I can&#39;t think of any other way to do it."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1477514649, "post_id": 40270732, "comment_id": 67803504, "body": "Whitelist.  Replace calls in permitted code with crypto strong unique name?  Defeat requires hostile code to get source or someine else&#39;s call or enumerate entry points or somesuch."}], "answers": [{"tags": [], "owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "is_accepted": false, "score": 0, "last_activity_date": 1477609604, "creation_date": 1477609604, "answer_id": 40295542, "question_id": 40270732, "link": "https://stackoverflow.com/questions/40270732/v8-exposing-classes-but-restricting-that-in-particular-code/40295542#40295542", "title": "V8 Exposing classes but restricting that in particular code", "body": "<p>When you create a context, you specify what is added to that context -- either by setting it in the <code>ObjectTemplate</code> when you create the context or by calling <code>Set</code> on the global object of the context afterwards.</p>\n\n<p>Make two <code>contexts</code>, one where the restricted stuff is accessible, and one where it isn't and route the incoming javascript to the appropriate context based on whatever authorization mechanisms you have in place.</p>\n"}], "owner": {"reputation": 115, "user_id": 5372559, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/90ace8882100d810b8206e01bf6666cf?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Frev", "link": "https://stackoverflow.com/users/5372559/nick-frev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477609604, "creation_date": 1477510363, "question_id": 40270732, "link": "https://stackoverflow.com/questions/40270732/v8-exposing-classes-but-restricting-that-in-particular-code", "title": "V8 Exposing classes but restricting that in particular code", "body": "<p>I am currently working with V8 in a C++ Environment. I am making a server client system so that people can send JS to a server and have it run on the server. It works as expected but I am having a pickle figuring out how to make a sandbox environment. I am trying to avoid just blacklisting function names from client code.</p>\n\n<p>The structure I am going for has two types of files:</p>\n\n<p><strong>JS Library Files:</strong> Used to write js libraries for use in the sandbox. Has access to C++ classes that have been exposed to V8. Functions defined in this file will be accessible to the clients.</p>\n\n<p><strong>Sandbox:</strong> This will be able to access functions that are defined in the JS Library Files but won't have access to the C++ classes that were exposed to V8.</p>\n\n<p>This would allow \"admins\" of the system to write JS library files using the EXTREMELY powerful exposed C++ classes but would restrict the clients to only using functions defined in the lib files and whatever they define themselves.</p>\n\n<p>If that isn't fully clear, here is an example scenario:</p>\n\n<p>JS Library File (isInNationLib.js):</p>\n\n<pre><code>function isInAmerica(clientName) {\n    var ip = ipByClientName(clientName);\n    //use the ip to find if the client is in America\n}\n</code></pre>\n\n<p>Client File:</p>\n\n<pre><code>#include \"isInNationLib\"\nfunction getNationality(clientName) {\n    if (isInAmerica(clientName)) {\n        return \"American\";\n    }\n    etc...\n}\n</code></pre>\n\n<p>From the example above, the client should never have access to ipByClientName for security reasons. ipByClientName would be a C++ function exposed to V8. This particular example isn't going to be in my project but it showcases the security aspects of the problem.</p>\n"}, {"tags": ["c++", "file"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 2, "creation_date": 1477510111, "post_id": 40270624, "comment_id": 67801251, "body": "<code>while( std::getline() )</code>?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1477510124, "post_id": 40270624, "comment_id": 67801257, "body": "Off topic: You will need to close <code>age</code> before opening the file again for reading."}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1477510155, "post_id": 40270624, "comment_id": 67801275, "body": "Why are you making a condition using <code>m</code> without putting anything in it?"}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477511974, "post_id": 40270850, "comment_id": 67802222, "body": "Not downvoting, but not a good question not answer in full like this. It is too cut-n-pastable for something that wears the scent of homework. I&#39;d restrict the answer to the contents of <code>if(ageout)</code> and possibly reduce it to pseudocode. Point them in the right direction, but make OP think and research a bit."}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477512814, "post_id": 40270850, "comment_id": 67802628, "body": "I actually only gave a complete answer for anyone that will find this question helpful since this is a really common problem for begginners, i don&#39;t really care about the OP here"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1477517436, "post_id": 40270850, "comment_id": 67804864, "body": "Dangerous answer, friend. Care Bears could be listening."}, {"owner": {"reputation": 3, "user_id": 6474255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6269b691e93865c859554d3ece6019ca?s=128&d=identicon&r=PG&f=1", "display_name": "Memetic", "link": "https://stackoverflow.com/users/6474255/memetic"}, "edited": false, "score": 0, "creation_date": 1477673076, "post_id": 40270850, "comment_id": 67876360, "body": "It was not my home work.It was just a little part of a problem.Actually I am just a newbie who don&#39;t know the basic syntax yet now.Thank you all by the way."}], "tags": [], "owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "is_accepted": true, "score": 0, "last_activity_date": 1477510830, "creation_date": 1477510830, "answer_id": 40270850, "question_id": 40270624, "link": "https://stackoverflow.com/questions/40270624/reading-selected-values-from-a-file-and-writing-them-in-a-new-file-in-c/40270850#40270850", "title": "Reading selected values from a file and writing them in a new file in c++", "body": "<p>Don't forget to close your file before reopening it, even if you switch from read/write.<br>\nHere you go:  </p>\n\n<pre><code>using namespace std;\n\nint main()\n{\n    ofstream age;\n    age.open(\"age.txt\", ios::out);\n    cout &lt;&lt; \"Input the ages from keyboard: \" &lt;&lt; endl;\n\n    for (int i = 0;i&lt;3;i++)\n    {\n        int n;\n        cin &gt;&gt; n;        //value inputted from keyboard\n        age &lt;&lt; n &lt;&lt; endl;\n    }\n\n    age.close();// Do NOT forget that before reopening it\n\n    ifstream agein;\n    agein.open(\"age.txt\");   //Reading that existing file\n\n    ofstream ageout;\n    ageout.open(\"information.txt\");//writing in another file\n    if(ageout)//Checks if the file exists\n    {\n        string str;\n        int m;\n        while (agein &gt;&gt; m) //Get an int from a file\n            if (m&gt;18 &amp;&amp; m &lt;= 80)      //picking value from 18-80\n                ageout &lt;&lt; m &lt;&lt; endl;\n    }\n    agein.close();\n    ageout.close();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6474255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6269b691e93865c859554d3ece6019ca?s=128&d=identicon&r=PG&f=1", "display_name": "Memetic", "link": "https://stackoverflow.com/users/6474255/memetic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 40270850, "answer_count": 1, "score": 0, "last_activity_date": 1477510830, "creation_date": 1477509980, "last_edit_date": 1477510033, "question_id": 40270624, "link": "https://stackoverflow.com/questions/40270624/reading-selected-values-from-a-file-and-writing-them-in-a-new-file-in-c", "title": "Reading selected values from a file and writing them in a new file in c++", "body": "<p>I wanted to take user input(integer value) from keyboard and writing them in a file.Then, to select the values from 18-80 and writing in another file.My program runs till keyboard input and writing them in a file. But I don't know how to select some values under condition and writing them in another file.</p>\n\n<pre><code>  #include&lt;iostream&gt;\n#include&lt;fstream&gt;\nusing namespace std;\n\n\nint main()\n{\n\n   ofstream age;\n   age.open(\"age.txt\",ios::out);  \n   cout&lt;&lt;\"Input the ages from keyboard: \"&lt;&lt;endl;\n\n   for(int i=0;i&lt;3;i++)\n   {\n       int n;\n       cin&gt;&gt;n;        //value inputted from keyboard\n       age&lt;&lt;n&lt;&lt;endl;\n   }\n\n   ifstream agein;\n   agein.open(\"age.txt\");   //Reading that existing file\n\n   ofstream ageout;\n   ageout.open(\"information.txt\");   //writing in another file\n   {\n       int m;\n       if(m&gt;18 &amp;&amp; m&lt;=80)      //picking value from 18-80\n       ageout&lt;&lt;m&lt;&lt;endl;\n   }\n\n       age.close();\n       agein.close();\n       ageout.close();\n       return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1477509282, "post_id": 40270360, "comment_id": 67800810, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 588, "user_id": 2612003, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1071263954/picture?type=large", "display_name": "Noah Herron", "link": "https://stackoverflow.com/users/2612003/noah-herron"}, "edited": false, "score": 0, "creation_date": 1477509290, "post_id": 40270360, "comment_id": 67800816, "body": "At first look. The operator should be taking in a <code>type</code> not a <code>Map</code> right? Because <code>Map[a]</code> would return an element in the map. Not a map. Unless it is a map of maps."}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 1, "creation_date": 1477509312, "post_id": 40270360, "comment_id": 67800828, "body": "The operator= assigns the entire map, not a single element."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1477509356, "post_id": 40270360, "comment_id": 67800852, "body": "You need a <code>return</code> statement in your <code>operator[]</code>. Also, the assignment operator for the map object has nothing to do with anything. Remove it."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1477509421, "post_id": 40270360, "comment_id": 67800888, "body": "You can avoid some unintended text substitutions, as well as reducing the stress on readers&#39; eyes and ears, by not using SHOUTCASE for ordinary names. Reserve that for macro names. That&#39;s the usual convention: it reserves the most ugly notation for the most evil stuff."}, {"owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "edited": false, "score": 0, "creation_date": 1477509752, "post_id": 40270360, "comment_id": 67801066, "body": "Please turn your compiler warnings on."}], "answers": [{"comments": [{"owner": {"reputation": 1469, "user_id": 1421659, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f92825e0ea44cf5bed741a9d9369e91f?s=128&d=identicon&r=PG", "display_name": "Joe Caraccio", "link": "https://stackoverflow.com/users/1421659/joe-caraccio"}, "edited": false, "score": 0, "creation_date": 1477510315, "post_id": 40270590, "comment_id": 67801362, "body": "wow that makes a lot of sense... wasn&#39;t returning an object to be assigned! Thank you!"}], "tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": true, "score": 3, "last_activity_date": 1477509840, "creation_date": 1477509840, "answer_id": 40270590, "question_id": 40270360, "link": "https://stackoverflow.com/questions/40270360/overloading-subscript-operator/40270590#40270590", "title": "Overloading subscript operator", "body": "<p>You're not assigning to the map but to the object returned by <code>operator[]</code>.<br>\n(In <code>m[\"a\"] = \"hey\";</code>, <code>m[\"a\"]</code> is not a <code>Map</code>, it's a <code>VALUE_TYPE&amp;</code>.)  </p>\n\n<p>The operator needs to return a reference to a valid object, otherwise the behaviour is undefined.</p>\n\n<p>Smallest example I can come up with:</p>\n\n<pre><code>struct Mapp\n{\n    int&amp; operator[](int i) { return member; }\n    int member;\n};\n\nint main()\n{\n    Mapp m;\n    m[0] = 12; // Assigns 12 to m.member\n}\n</code></pre>\n\n<p>You also want to overload the const version of the operator.</p>\n"}], "owner": {"reputation": 1469, "user_id": 1421659, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/f92825e0ea44cf5bed741a9d9369e91f?s=128&d=identicon&r=PG", "display_name": "Joe Caraccio", "link": "https://stackoverflow.com/users/1421659/joe-caraccio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40270590, "answer_count": 1, "score": -2, "last_activity_date": 1477509840, "creation_date": 1477509041, "question_id": 40270360, "link": "https://stackoverflow.com/questions/40270360/overloading-subscript-operator", "title": "Overloading subscript operator", "body": "<p>I have an example Map class in which I am trying to override the subscript operator. To allow users of the class to read and write to the Map.\nMap[\"a\"] being read, and Map[\"a\"]=\"something\" being the write of the class. However, I can't figure out how to use the assignment operator side of things, and allow a passed in value to replace it. Right now, if I try to assign a new value it just reads \"segmentation fault\"</p>\n\n<p>Here is what I have so far:</p>\n\n<pre><code>VALUE_TYPE&amp; Map::operator[](KEY_TYPE a){\n    cout &lt;&lt; \"hmm\" &lt;&lt; endl;\n\n\n}\n\n\n\nMap&amp; Map::operator=(const Map &amp;rhs){\n    //cout &lt;&lt; \"operator = \" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Right now I don't have any of the code.. just wanted to see that they would get succesfully called.</p>\n\n<p>What I can't seem to figure out is if I do something such as</p>\n\n<pre><code>Map[\"a\"] = \"hey\";\n</code></pre>\n\n<p>I will get a segmentation fault. I was assuming that the assignment operator= would be called when I wanted to assign a specific key a new value. Am I doing something wrong? </p>\n\n<p>By the way, VALUE_TYPE and KEY_TYPE are just defined as strings, each key has a value associated with it.</p>\n"}, {"tags": ["c++", "xcode", "macos", "opencv"], "owner": {"reputation": 11, "user_id": 7072958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63923922100389ef447ad4b364815536?s=128&d=identicon&r=PG&f=1", "display_name": "Hilary Chang", "link": "https://stackoverflow.com/users/7072958/hilary-chang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1477528859, "creation_date": 1477507070, "last_edit_date": 1477528859, "question_id": 40269813, "link": "https://stackoverflow.com/questions/40269813/error-while-building-opencv-3-1-0-with-extra-modules-on-os-x-mavericks", "title": "Error while building OpenCV 3.1.0 with extra modules on OS X Mavericks", "body": "<p>I am a beginner in OpenCV, using OpenCV 3.1.0 (downloaded from OpenCV.org) with Mac OS X 10.9.5.</p>\n\n<p>I was trying to run a <a href=\"http://docs.opencv.org/2.4/modules/contrib/doc/facerec/tutorial/facerec_video_recognition.html\" rel=\"nofollow\">code</a> which needs <strong>contrib.hpp</strong>, then I found <a href=\"https://github.com/opencv/opencv_contrib\" rel=\"nofollow\">the extra modules from Github</a>. There is a command from the page:</p>\n\n<pre><code>$ cd &lt;opencv_build_directory&gt;\n$ cmake -DOPENCV_EXTRA_MODULES_PATH=&lt;opencv_contrib&gt;/modules &lt;opencv_source_directory&gt;\n$ make -j5\n</code></pre>\n\n<p>Everything was successful before I did <strong>make</strong>, it shows an error of <strong>no matching function for call to 'calibrateCamera'</strong> :</p>\n\n<pre><code>[ 92%] Building CXX object modules/aruco/CMakeFiles/opencv_aruco.dir/src/aruco.cpp.o\n/Users/Youko/downloads/opencv_contrib-master/modules/aruco/src/aruco.cpp:1583:12: error: \n      no matching function for call to 'calibrateCamera'\n    return calibrateCamera(processedObjectPoints, processedImagePoints, ...\n           ^~~~~~~~~~~~~~~\n/Users/Youko/downloads/opencv-3.1.0/modules/calib3d/include/opencv2/calib3d.hpp:844:21: note: \n      candidate function not viable: requires at most 9 arguments, but 12 were\n      provided\nCV_EXPORTS_W double calibrateCamera( InputArrayOfArrays objectPoints,\n                    ^\n1 error generated.\nmake[2]: *** [modules/aruco/CMakeFiles/opencv_aruco.dir/src/aruco.cpp.o] Error 1\nmake[1]: *** [modules/aruco/CMakeFiles/opencv_aruco.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>\n\n<p>In the case of I wanna keep the version of Mac OSX, I was thinking of change the version of OpenCV, so I've downloaded OpenCV from Github, and tried to install the OpenCV with following command (it was the same way as how I've installed OpenCV 3.1.0 successfully):</p>\n\n<pre><code>$ cd &lt;opencv_source_directory&gt;\n$ mkdir release\n$ cd release\n$ cmake -G \"Unix Makefiles\" ..\n$ make\n$ sudo make install\n</code></pre>\n\n<p>But there is another problem when I tried <strong>make</strong>:</p>\n\n<pre><code>[ 44%] Building CXX object modules/videoio/CMakeFiles/opencv_videoio.dir/src/cap_mjpeg_decoder.cpp.o\n[ 44%] Building CXX object modules/videoio/CMakeFiles/opencv_videoio.dir/src/cap_avfoundation_mac.mm.o\n[ 44%] Linking CXX shared library ../../lib/libopencv_videoio.dylib\nld: framework not found CoreImage\nclang: error: linker command failed with exit code 1 (use -v to see invocation)\nmake[2]: *** [lib/libopencv_videoio.3.1.0.dylib] Error 1\nmake[1]: *** [modules/videoio/CMakeFiles/opencv_videoio.dir/all] Error 2\nmake: *** [all] Error 2\n</code></pre>\n\n<p>I thought maybe there was something wrong with <strong>cmake</strong>, so I tried the following command as well but the same error occurred with <strong>make</strong>:</p>\n\n<pre><code>$ cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local ..\n</code></pre>\n\n<p>I've googled for the problem and it seems like I must need the <strong>QuartzCore</strong>, but most of people said it should be included in the Xcode (I am using Xcode 6.2 btw). I tried both ways to figure it out but I still have no idea why I can't build the extra modules. (I think the most weird problem is that I cannot install OpenCV cloned from Github, but I just wanna show I tried this way but it wasn't successful FYI.)</p>\n\n<p>I'd be most grateful for any help and suggestions!</p>\n"}, {"tags": ["c++", "integer-promotion"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1477507048, "post_id": 40269739, "comment_id": 67799629, "body": "Why would you expect that and what is your question? Why it is like this? or how to make it less ambiguous ?"}, {"owner": {"reputation": 937, "user_id": 3143679, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dec162275f3f2038fd180792dedd63cc?s=128&d=identicon&r=PG&f=1", "display_name": "George Skelton", "link": "https://stackoverflow.com/users/3143679/george-skelton"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1477507215, "post_id": 40269739, "comment_id": 67799735, "body": "Yes what is the rationale?"}], "answers": [{"tags": [], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": true, "score": 7, "last_activity_date": 1477507265, "creation_date": 1477507265, "answer_id": 40269870, "question_id": 40269739, "link": "https://stackoverflow.com/questions/40269739/c-ambiguous-call-to-overloaded-function-with-unsigned-int/40269870#40269870", "title": "C++ ambiguous call to overloaded function with unsigned int", "body": "<p>It <em>is</em> inconsistent, yes, but it is The Way The Language Is, and you have to cope, e.g. if you want <code>f((unsigned int)0)</code> to call the <code>long long</code> overload, then provide a wrapper,</p>\n\n<pre><code>inline void f(unsigned int x) { f((long long)x); }\n</code></pre>\n\n<p>The designers of C++ would have ideally liked to make both of your cases <em>fail</em> overload resolution.  But there was this legacy thing (dating all the way back to \"K&amp;R\" C), called \"default argument promotion\", that, essentially, says the compiler will implicitly convert all integer types narrower than <code>int</code> to <code>int</code> if necessary to match a function signature, and all floating point types narrower than <code>double</code> to <code>double</code> ditto.</p>\n\n<p>So it's the <code>f((unsigned short)0)</code> case that is the odd man out, really.</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 4, "last_activity_date": 1477507500, "creation_date": 1477507500, "answer_id": 40269931, "question_id": 40269739, "link": "https://stackoverflow.com/questions/40269739/c-ambiguous-call-to-overloaded-function-with-unsigned-int/40269931#40269931", "title": "C++ ambiguous call to overloaded function with unsigned int", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/language/implicit_conversion\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/implicit_conversion</a></p>\n\n<p>Integral promotion does <strong>not</strong> get you from <code>unsigned int</code> to <code>long long</code>.</p>\n\n<p>Integral promotion <strong>does</strong> get you from <code>unsigned short</code> to <code>int</code>.</p>\n\n<p>Integral conversion from <code>unsigned int</code> is considered equally good for your overloads.</p>\n\n<p>Promotion <em>ends</em> at <code>int</code> and/or <code>unsigned int</code> unless your source type is an <code>enum</code> that requires a larger integral type to fit it.</p>\n\n<p>Promotion is preferred to conversion, so your first case is unambiguous.  In the second case, there is no promotion path, so your code is ambiguous.</p>\n"}], "owner": {"reputation": 937, "user_id": 3143679, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/dec162275f3f2038fd180792dedd63cc?s=128&d=identicon&r=PG&f=1", "display_name": "George Skelton", "link": "https://stackoverflow.com/users/3143679/george-skelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3113, "favorite_count": 0, "accepted_answer_id": 40269870, "answer_count": 2, "score": 7, "last_activity_date": 1477507500, "creation_date": 1477506780, "last_edit_date": 1477506873, "question_id": 40269739, "link": "https://stackoverflow.com/questions/40269739/c-ambiguous-call-to-overloaded-function-with-unsigned-int", "title": "C++ ambiguous call to overloaded function with unsigned int", "body": "<p>This seems inconsistent. I have 3 functions <code>f</code> overloaded for signed types <code>short</code>, <code>int</code> and <code>long long</code>. If you pass an <code>unsigned short</code> then it gets promoted to the next biggest signed type <code>int</code>. However if you pass <code>unsigned int</code> then it doesn't get promoted to signed <code>long long</code> which is what I would expect, rather compiler complains about ambiguous call to overloaded function.</p>\n\n<pre><code>void f(short x) { std::printf(\"f(short)\\n\"); }\nvoid f(int x) { std::printf(\"f(int)\\n\"); }\nvoid f(long long x) { std::printf(\"f(long long)\\n\"); }\n\nint main()\n{\n    f((unsigned short)0); // Fine: calls f(int)\n    // f((unsigned int)0); // Ambiguous: could be f(short), f(int) or f(long long) \n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "visual-studio", "exception", "msvcrt"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1477508898, "post_id": 40268935, "comment_id": 67800622, "body": "Technically there is no unhandled exception, because it <i>is</i> handled. So why would your filter get it? Why not add a try-catch block to your thread function? Then you would surely get the exception just before returning to this code."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1477535631, "post_id": 40268935, "comment_id": 67809675, "body": "Just use CreateThread instead."}, {"owner": {"reputation": 1031, "user_id": 2563449, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/08823daac701d0d77d4c5f35f268fe51?s=128&d=identicon&r=PG", "display_name": "PazO", "link": "https://stackoverflow.com/users/2563449/pazo"}, "reply_to_user": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1477553649, "post_id": 40268935, "comment_id": 67816244, "body": "@BoPersson: My application is a wide company project with many different bits of code spawning threads using the &#39;_beginthreadex&#39; API. Modifying each location is very sizific and error-prone."}, {"owner": {"reputation": 1031, "user_id": 2563449, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/08823daac701d0d77d4c5f35f268fe51?s=128&d=identicon&r=PG", "display_name": "PazO", "link": "https://stackoverflow.com/users/2563449/pazo"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1477553665, "post_id": 40268935, "comment_id": 67816255, "body": "@Harry: It is widely documented that the Win32 &#39;CreateThread&#39; should not be called directly as it does not initialize c-runtime library code for this thread."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1477608698, "post_id": 40268935, "comment_id": 67849261, "body": "@PazO: that hasn&#39;t been true for several decades.  Unfortunately, the documentation hasn&#39;t caught up, but if CreateThread didn&#39;t work with C the Windows thread pool would be pretty much useless.  (For completeness: if you&#39;re statically linking the C runtime <i>and</i> running on Windows XP or earlier, using CreateThread results in a very small resource leak.)"}], "owner": {"reputation": 1031, "user_id": 2563449, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/08823daac701d0d77d4c5f35f268fe51?s=128&d=identicon&r=PG", "display_name": "PazO", "link": "https://stackoverflow.com/users/2563449/pazo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1477504077, "creation_date": 1477504077, "question_id": 40268935, "link": "https://stackoverflow.com/questions/40268935/beginthreadex-is-overriding-my-global-unhandled-exception-filter", "title": "&#39;_beginthreadex()&#39; is overriding my global &#39;Unhandled Exception Filter&#39;", "body": "<p>I want my application to create a <em>dump file</em> whenever an <em>un-handled exception</em> does occur.  </p>\n\n<p>For this I am using the <code>SetUnhandledExceptionFilter()</code> function from <em>Windows</em>, supplying it with my own <em>Exception Filter callback function</em> that should be called whenever any thread fails to handle an exception. My callback is creating the dump-file and <strong>most of the time this will work fine</strong>.</p>\n\n<p>The problem is that sometimes my <em>Exception Filter callback function</em> <strong>is not being called</strong> even though an un-handled exception <strong>did occur</strong>.  </p>\n\n<p>After some debugging I found out the reason for this:<br>\n<code>_beginthreadex()</code> implementation in <code>Visual Studio 2012</code> will handle any un-handled exception from <em>this</em> thread:  </p>\n\n<p>Code from <code>Visual Studio 2012</code>, 'thread.c' - Implementation of <code>_beginthreadex()</code>:  </p>\n\n<pre><code>__try\n{\n    ( (void(__CLRCALL_OR_CDECL *)(void *))(((_ptiddata)ptd)-&gt;_initaddr) )\n        ( ((_ptiddata)ptd)-&gt;_initarg );\n\n    _endthread();\n}\n__except ( _XcptFilter(GetExceptionCode(), GetExceptionInformation()) )\n{\n        /*\n            * Should never reach here\n            */\n        _exit( GetExceptionCode() );\n\n} /* end of _try - _except */\n</code></pre>\n\n<p><em>[BTW - this is the same for <code>_beginthread()</code> and <code>_beginthreadex()</code>]</em>  </p>\n\n<p>As we can see, in the case of un-handled exception, the code will:  </p>\n\n<ol>\n<li>Catch the exception,</li>\n<li>[Maybe will issue a message-box to the end-user],</li>\n<li><strong>Terminate the application by calling <code>_exit()</code></strong>, </li>\n</ol>\n\n<p>By doing this <code>_beginthreadex()</code> is actually <strong>masking out</strong> my global exception handler code...  </p>\n\n<p><em>My Question:</em><br>\nHow I can verify that my <em>Exception Filter callback function</em> <strong>is always being called</strong> in the case of un-handled exception, even for threads that were created by the <code>_beginthread()</code>/<code>_beginthreadex()</code>?  </p>\n\n<p>Thanks for any tip, PazO</p>\n"}, {"tags": ["c++", "c++11", "lambda", "stdbind"], "answers": [{"comments": [{"owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "edited": false, "score": 0, "creation_date": 1477504571, "post_id": 40268988, "comment_id": 67798196, "body": "Ok, sorry. I read the documentation but I don&#39;t literally &quot;saw&quot; the word <b>object</b> (&quot;holds a member <b>object</b>&quot;). So, I thought it just had a local <code>typedef</code> to the <code>decay</code> version of the parameter."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1477504258, "creation_date": 1477504258, "answer_id": 40268988, "question_id": 40268918, "link": "https://stackoverflow.com/questions/40268918/force-an-object-to-be-passed-as-copy-to-a-function-receiving-a-universal-referen/40268988#40268988", "title": "Force an object to be passed as copy to a function receiving a universal reference", "body": "<p>If you read the docs for <a href=\"http://en.cppreference.com/w/cpp/utility/functional/bind\" rel=\"nofollow\"><code>std::bind()</code></a> you'll see that:</p>\n\n<blockquote>\n  <p>The return type of <code>std::bind</code> holds a member object of type <code>std::decay&lt;F&gt;::type</code> constructed from <code>std::forward&lt;F&gt;(f)</code></p>\n</blockquote>\n\n<p>It doesn't hold a reference to <code>signal_f</code>, it holds a copy of it. There is no dependency on the lifetime of <code>signal_f</code>. The only dependency is on the lifetime of <code>this</code>, which <code>signal_f</code> captures.</p>\n\n<hr />\n\n<p>Note that this:</p>\n\n<pre><code>signal.connect(std::bind&lt;std::decay&lt;decltype(signal_f)&gt;::type&gt;(signal_f, ph::_1, ph::_2));\n</code></pre>\n\n<p>which is actually the same as this (the <code>decay</code> is pointless since the closure type isn't a reference type):</p>\n\n<pre><code>signal.connect(std::bind&lt;decltype(signal_f)&gt;(signal_f, ph::_1, ph::_2));\n</code></pre>\n\n<p>is actually the same as:</p>\n\n<pre><code>signal.connect(std::bind(std::move(signal_f), ph::_1, ph::_2));\n</code></pre>\n\n<p>which you could also do. </p>\n"}, {"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1477504297, "creation_date": 1477504297, "answer_id": 40269002, "question_id": 40268918, "link": "https://stackoverflow.com/questions/40268918/force-an-object-to-be-passed-as-copy-to-a-function-receiving-a-universal-referen/40269002#40269002", "title": "Force an object to be passed as copy to a function receiving a universal reference", "body": "<p><code>bind</code> does not actually store a reference to the lambda.  All the parameters are either copied(if lvalue) or moved(if rvalue) into the object returned by <code>bind</code>.</p>\n\n<p>This reason is why you need to use <code>std::ref</code> when passing parameters to <code>bind</code> when the callable takes its parameters by reference.</p>\n"}], "owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 578, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1477504297, "creation_date": 1477504029, "question_id": 40268918, "link": "https://stackoverflow.com/questions/40268918/force-an-object-to-be-passed-as-copy-to-a-function-receiving-a-universal-referen", "title": "Force an object to be passed as copy to a function receiving a universal reference", "body": "<p>I'm trying to pass a local lambda function to a <code>std::bind</code> (for passing to a <code>connect</code> function of a signal):</p>\n\n<pre><code>void f()\n{\n    auto signal_f = [this](int, int) { /* ... */ };\n\n    namespace ph = std::placeholders;\n    signal.connect(std::bind(signal_f, ph::_1, ph::_2));\n}\n</code></pre>\n\n<p>But the function parameter of <code>std::bind</code> is received as a universal reference:</p>\n\n<pre><code>template&lt;class F, class... Args&gt;\n/* unspecified */ bind(F&amp;&amp; f, Args&amp;&amp;... args);\n</code></pre>\n\n<p>So, since my lambda object is a named object, it's passed as a lvalue reference , but my lambda object will be destroyed after <code>f()</code> exists, potentially causing memory leaks when the signal is emited.</p>\n\n<p>What is the simplest way of passing that object by copy?</p>\n\n<p>Of course, I could do always things like:</p>\n\n<pre><code>signal.connect(std::bind&lt;std::decay&lt;decltype(signal_f)&gt;::type&gt;\n   (signal_f, ph::_1, ph::_2));\n</code></pre>\n\n<p>of other tricky ways but they are too cumbersome, so, what is the simplest way of doing it?</p>\n\n<p><strong>NOTE</strong>: Is there any function from the standard library to create a copy, something like <code>std::make_rvalue(o)</code> or a <code>std::copy</code> version for objects instead of for containers?</p>\n"}, {"tags": ["c++", "c++14", "callable"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1477503189, "post_id": 40268641, "comment_id": 67797413, "body": "Maybe looking at <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow noreferrer\"><code>std::integer_sequence</code></a> will be helpful."}], "answers": [{"tags": [], "owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "is_accepted": false, "score": 12, "last_activity_date": 1477503773, "creation_date": 1477503773, "answer_id": 40268835, "question_id": 40268641, "link": "https://stackoverflow.com/questions/40268641/generating-a-sequence-of-type-t-at-compile-time/40268835#40268835", "title": "Generating a sequence of type T at compile time", "body": "<p>We can use a type alias to hook onto the expansion of <code>N_i</code>, but always give back <code>T</code>.</p>\n\n<pre><code>template &lt;class T, std::size_t&gt;\nusing eat_int = T;\n\ntemplate&lt; typename callable, typename T , size_t... N_i&gt;\nvoid foo()\n{\n  using callable_out_type = std::result_of_t&lt; callable(eat_int&lt;T, N_i&gt;...) &gt;;\n\n  // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 5, "last_activity_date": 1477503782, "creation_date": 1477503782, "answer_id": 40268841, "question_id": 40268641, "link": "https://stackoverflow.com/questions/40268641/generating-a-sequence-of-type-t-at-compile-time/40268841#40268841", "title": "Generating a sequence of type T at compile time", "body": "<p>You could write the following helpers</p>\n\n<pre><code>template&lt;typename T, size_t&gt;\nusing type_t = T;\n\ntemplate&lt;typename Callable, typename T, size_t... Is&gt;\nauto get_result_of(std::index_sequence&lt;Is...&gt;) -&gt; std::result_of_t&lt;Callable(type_t&lt;T,Is&gt;...)&gt;;\n\ntemplate&lt;typename Callable, typename T, size_t N&gt;\nusing result_of_n_elements = decltype(get_result_of&lt;Callable, T&gt;(std::make_index_sequence&lt;N&gt;{}));\n</code></pre>\n\n<p>then in your <code>foo</code> you'd write</p>\n\n<pre><code>template&lt; typename callable, typename T , size_t N&gt;\nvoid foo()\n{\n    using callable_out_type = result_of_n_elements&lt;callable, T, N&gt;;\n}\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/1RczxAYwcuPQBv7x\" rel=\"nofollow\">live demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "is_accepted": true, "score": 6, "last_activity_date": 1477652031, "last_edit_date": 1495535428, "creation_date": 1477508433, "answer_id": 40270185, "question_id": 40268641, "link": "https://stackoverflow.com/questions/40268641/generating-a-sequence-of-type-t-at-compile-time/40270185#40270185", "title": "Generating a sequence of type T at compile time", "body": "<p>Why not simply use:</p>\n\n<pre><code>using callable_out_type = std::result_of_t&lt; callable( decltype(N_i, std::declval&lt;T&gt;())...) &gt;;\n</code></pre>\n\n<p>you could also use a trick borrowed from <a href=\"https://stackoverflow.com/questions/40218447/generating-a-sequence-of-zeros-at-compile-time/40218498#40218498\">Columbo's answer</a>:</p>\n\n<pre><code>using callable_out_type =  std::result_of_t&lt; callable(std::tuple_element_t&lt;(N_i, 0), std::tuple&lt;T&gt;&gt;...) &gt;;\n</code></pre>\n\n<p>or even:</p>\n\n<pre><code>using callable_out_type =  std::result_of_t&lt; callable(std::enable_if_t&lt;(N_i, true), T&gt;...) &gt;;\n</code></pre>\n"}], "owner": {"reputation": 2091, "user_id": 7006673, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f6993a5041a63d1922494d0dab74a048?s=128&d=identicon&r=PG&f=1", "display_name": "abraham_hilbert", "link": "https://stackoverflow.com/users/7006673/abraham-hilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 619, "favorite_count": 1, "accepted_answer_id": 40270185, "answer_count": 3, "score": 9, "last_activity_date": 1477652031, "creation_date": 1477503056, "last_edit_date": 1477503495, "question_id": 40268641, "link": "https://stackoverflow.com/questions/40268641/generating-a-sequence-of-type-t-at-compile-time", "title": "Generating a sequence of type T at compile time", "body": "<p>I have the following problem:</p>\n\n<pre><code>template&lt; typename callable, typename T , size_t... N_i&gt;\nvoid foo()\n{\n  using callable_out_type =  std::result_of_t&lt; callable( /* T , ... , T &lt;- sizeof...(N_i) many */ ) &gt;;\n\n  // ...\n}\n</code></pre>\n\n<p>I want to get the result type of <code>callable</code> which takes <code>sizeof...(N_i)</code> many arguments of the type <code>T</code> as its input, e.g., <code>callable(1,2,3)</code> in case of <code>T==int</code> and <code>sizeof...(N_i)==3</code>. How can this be implemented?</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["c++", "templates", "cyclic-dependency"], "comments": [{"owner": {"reputation": 4096, "user_id": 3601321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/02ba00dbea1724976753357b4470760b?s=128&d=identicon&r=PG&f=1", "display_name": "Corristo", "link": "https://stackoverflow.com/users/3601321/corristo"}, "edited": false, "score": 1, "creation_date": 1477686823, "post_id": 40268458, "comment_id": 67882795, "body": "This can&#39;t be possible for the following reason: Fundamentally, these are only aliases, so they have to expand to a type without aliases. What should this type be? If you simplyfy your example to <code>using Expr = Matcher&lt;Factor&gt;; using Factor = Matcher&lt;a0&lt;Number, Expr&gt;&gt;;</code> the resulting type would need to look like <code>using Expr = Matcher&lt;a0&lt;Number, Matcher&lt;a0&lt;Number, Matcher &lt;a0, Number, Matcher&lt;a0&lt;Number, Matcher &lt;a0&lt;...</code> without ever terminating."}, {"owner": {"reputation": 4096, "user_id": 3601321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/02ba00dbea1724976753357b4470760b?s=128&d=identicon&r=PG&f=1", "display_name": "Corristo", "link": "https://stackoverflow.com/users/3601321/corristo"}, "edited": false, "score": 0, "creation_date": 1477687408, "post_id": 40268458, "comment_id": 67883027, "body": "So to get this to work, you need to implement some form of compile time simplification, in this case for the rule that <code>Expr ::= Number | Expr</code> is equivalent to <code>Expr ::= Number</code>."}], "owner": {"reputation": 303, "user_id": 520221, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/DJvCl.jpg?s=128&g=1", "display_name": "alter", "link": "https://stackoverflow.com/users/520221/alter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1477502395, "creation_date": 1477502395, "question_id": 40268458, "link": "https://stackoverflow.com/questions/40268458/how-can-i-resolve-circular-dependency-between-variadic-templates-in-c", "title": "how can I resolve circular dependency between variadic templates in c++?", "body": "<p>I'm practicing template programming in C++, trying to implement some kind of parser library for educational purposes using only templates. </p>\n\n<p>an example of how my library is supposed to be used is :</p>\n\n<pre><code>std::stringstream ss { \"identif1er 123123 hell0 world 3rror\" };\n\n// zM = zero or more , aO = any of\n\nusing Identifier = Matcher&lt;Alpha, zM&lt;AlphaNum&gt;&gt;;\nusing Number = Matcher&lt;Digit, zM&lt;Digit&gt;&gt;; \n\nMatcher&lt;aO&lt;Identifier, Number&gt;&gt; numberOrIdentifier;\n\nwhile(!ss.eof()) {\n    if(ss.peek() == ' ') ss.ignore(1);\n\n    if(numberLetters.s_match(ss)) {\n        std::cout &lt;&lt; \"Token: \" &lt;&lt; (*numberLetters.val) &lt;&lt; std::endl;\n    } else {\n        std::cout &lt;&lt; \"Error\\n\";\n    }\n}\n</code></pre>\n\n<p>this is working, but I encountered with the problem that sometimes ill have to define a pair of types that depends on the other and vise versa.</p>\n\n<p>I just want to know how i can do for example this:</p>\n\n<pre><code>using Expr = Matcher&lt;..... Factor ....&gt;\nusing Factor = Matcher&lt;aO&lt;Number, Expr&gt;&gt;;\n</code></pre>\n\n<p>How can i do a forward declaration of Factor using only types and no constructor arguments? its posible?, \nnote: im using a empty struct \"Self\" to tag the recursion.</p>\n\n<p>Link to the definition of the templates :</p>\n\n<p><a href=\"https://gist.github.com/aindigo/14f0644dea6af9c720a60ff7b5ffdce2\" rel=\"nofollow\">templates code</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 7, "creation_date": 1477502193, "post_id": 40268382, "comment_id": 67796856, "body": "<code>d=0</code> is an assignment. You don&#39;t want assignment."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1477502410, "post_id": 40268382, "comment_id": 67796984, "body": "This isn&#39;t the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line."}], "answers": [{"tags": [], "owner": {"reputation": 353, "user_id": 5494674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a09769ff35c61c3b2fb60cd75addd5aa?s=128&d=identicon&r=PG", "display_name": "NeoR", "link": "https://stackoverflow.com/users/5494674/neor"}, "is_accepted": true, "score": 1, "last_activity_date": 1477503764, "creation_date": 1477503764, "answer_id": 40268831, "question_id": 40268382, "link": "https://stackoverflow.com/questions/40268382/i-used-if-else-statement-in-c-and-i-got-opposite-answer-check-for-more-in-i/40268831#40268831", "title": "I used If else statement in C++, and i got opposite answer.. Check for more in info", "body": "<p>Just replace = with == i.e.</p>\n\n<pre><code>if(d==0)\n{\n  cout&lt;&lt;\"something\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 7076390, "user_type": "registered", "profile_image": "https://graph.facebook.com/1145968438814978/picture?type=large", "display_name": "TheMighty", "link": "https://stackoverflow.com/users/7076390/themighty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "closed_date": 1477565225, "accepted_answer_id": 40268831, "answer_count": 1, "score": -2, "last_activity_date": 1477503764, "creation_date": 1477502150, "last_edit_date": 1477502792, "question_id": 40268382, "link": "https://stackoverflow.com/questions/40268382/i-used-if-else-statement-in-c-and-i-got-opposite-answer-check-for-more-in-i", "closed_reason": "Not suitable for this site", "title": "I used If else statement in C++, and i got opposite answer.. Check for more in info", "body": "<p>Code::Blocks 10.06 </p>\n\n<p>i used the following code to make a program to check whether the number 1 is divisible by number two or not however, i entered number 1 as 8, number two as 4 and it showed number one is not divisible by number two, below is my code, and i also have the program runned's photo.. <a href=\"https://i.stack.imgur.com/Uxeni.jpg\" rel=\"nofollow\">about my program</a></p>\n\n<p>please tell me what is the error, please, i need to learn this progam, i have some targets:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    int a, b, d;\n\n    cout &lt;&lt; \"Hello guys\" &lt;&lt; endl;\n\n    cout &lt;&lt; \"Bucky's Student21 here\" &lt;&lt; endl;\n    cout &lt;&lt; \"today we are going to divide two numbers, and going to check whether one is divisible by other or not \\n\";\n\n    cout &lt;&lt; \"If the number 1 is divisible by number 2, i will recognize it \\n\";\n\n    cout &lt;&lt; \"enter number 1 \\n\";\n    cin &gt;&gt; a;\n\n    cout &lt;&lt; \"enter number 2 \\n\";\n    cin &gt;&gt; b;\n\n    d = a % b;\n    if (d = 0) {\n        cout &lt;&lt; \"number 1 is divisible by number 2 \\n\";\n    }\n    else {\n        cout &lt;&lt; \"number 1 is not divisible by number 2 \\n \";\n    }\n    cout &lt;&lt; \"Hence now as you got to know whether the number 1 is divisible by number 2 or not \\n\";\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "parsing", "protocol-buffers", "binaryfiles"], "answers": [{"comments": [{"owner": {"reputation": 517, "user_id": 2138524, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EOhzF.jpg?s=128&g=1", "display_name": "Tanny", "link": "https://stackoverflow.com/users/2138524/tanny"}, "edited": false, "score": 0, "creation_date": 1498043049, "post_id": 40268865, "comment_id": 76332528, "body": "this much info is readily available, infact the first few links for a google search point to what you have posted. The questioner wants more details."}], "tags": [], "owner": {"reputation": 55, "user_id": 2776351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2143686bd31c9dffdf842d99f27d7a45?s=128&d=identicon&r=PG&f=1", "display_name": "codeInnovation", "link": "https://stackoverflow.com/users/2776351/codeinnovation"}, "is_accepted": false, "score": -2, "last_activity_date": 1477503871, "creation_date": 1477503871, "answer_id": 40268865, "question_id": 40268110, "link": "https://stackoverflow.com/questions/40268110/deserialize-google-protobuf-binary-file/40268865#40268865", "title": "Deserialize Google Protobuf binary file", "body": "<p>Yes, you can use the python code generated by <code>protoc</code> to de-serialize the protobuf message.  The protoc compiler will output code in your target languages (in your case <code>python</code> and <code>C++</code>).</p>\n\n<p>Here are a few resources that can help:</p>\n\n<ol>\n<li>Reading and writing files in python:\n<a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow\">https://docs.python.org/2/tutorial/inputoutput.html</a></li>\n<li>Python tutorial for protocol buffer messages:\n<a href=\"https://developers.google.com/protocol-buffers/docs/pythontutorial\" rel=\"nofollow\">https://developers.google.com/protocol-buffers/docs/pythontutorial</a></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "edited": false, "score": 0, "creation_date": 1477583433, "post_id": 40269778, "comment_id": 67836335, "body": "Thanks for the detailed explanation, but this really doesn&#39;t solve my problem. I don&#39;t have much control on an external server and can&#39;t modify code to generate Protocol_pb2.py file. The .pb binary file generated by C++ code needs to be deserialized so I can parse it."}, {"owner": {"reputation": 1055, "user_id": 6845813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k4iLW.jpg?s=128&g=1", "display_name": "Teemu Risikko", "link": "https://stackoverflow.com/users/6845813/teemu-risikko"}, "reply_to_user": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "edited": false, "score": 0, "creation_date": 1477589207, "post_id": 40269778, "comment_id": 67839831, "body": "Oh, so I did understand you totally wrong. You do not have access to the .proto-file? Actually, I might not understand what you want at all :S What is your goal? Do you want to somehow generate the pb2.py from .pb binary?"}, {"owner": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "edited": false, "score": 0, "creation_date": 1477592281, "post_id": 40269778, "comment_id": 67841543, "body": "Well your answer helped me move forward in the right direction. Let&#39;s just say protobuf protocols are not intuitive to understand and it was difficult for me to explain. I have proto files but I don&#39;t have _pb2.py files yet. I just figured out I need to send my proto files to python and have the output in _pb2.py. Then I can figure out how to parse. Currently, I have a complex app so I need to gather all proto files which gets compiled in a single output."}, {"owner": {"reputation": 1055, "user_id": 6845813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k4iLW.jpg?s=128&g=1", "display_name": "Teemu Risikko", "link": "https://stackoverflow.com/users/6845813/teemu-risikko"}, "reply_to_user": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "edited": false, "score": 0, "creation_date": 1477592587, "post_id": 40269778, "comment_id": 67841718, "body": "I thought I explained how to convert *.proto to *_pb2.py with protoc in your last question :P"}, {"owner": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "edited": false, "score": 0, "creation_date": 1477593000, "post_id": 40269778, "comment_id": 67841929, "body": "Yes it works on my local machine. But not on an external server. I didn&#39;t understand the compilation process. All good now. Both answers helped!"}], "tags": [], "owner": {"reputation": 1055, "user_id": 6845813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/k4iLW.jpg?s=128&g=1", "display_name": "Teemu Risikko", "link": "https://stackoverflow.com/users/6845813/teemu-risikko"}, "is_accepted": true, "score": 3, "last_activity_date": 1491311674, "last_edit_date": 1491311674, "creation_date": 1477506931, "answer_id": 40269778, "question_id": 40268110, "link": "https://stackoverflow.com/questions/40268110/deserialize-google-protobuf-binary-file/40269778#40269778", "title": "Deserialize Google Protobuf binary file", "body": "<p>I am not sure if I am answering your question at all, but I'll give you an example. Once you have your Protocol_pb2.py, you can parse the messages quite easily with the protobuf python API (and possibly <code>struct</code>). I am not an expert in protobuf, but I have at least parsed Mumble messages. Now, I do not know how exactly you are using protobuf and what for, but this example shows how to parse mumble messages (that use protobuf), and hopefully will give you some insight. So:</p>\n\n<p>Import the protoc-created protobuf-file (you create it in the way that I answered to your last question) &amp; struct:</p>\n\n<pre><code>import struct\nimport Mumble_pb2 as mumble_protobuf\n</code></pre>\n\n<p>The mumble_protobuf module will contain the different messages defined in your .proto file converted to Python format. You can save the different message types to for example a dict:</p>\n\n<pre><code>PACKET_TYPES = {\n    0: mumble_protobuf.Version,\n    1: mumble_protobuf.UDPTunnel,\n    2: mumble_protobuf.Authenticate,\n...\n</code></pre>\n\n<p>I'm skipping things here but once you receive the binary data of a packet you can parse it. I suppose each application does things differently, but for example mumble sends the protobuf message prefixed with 2 bytes that include the message type, and 4 bytes that tell the packet length. This probably is done differently in your application. Whatever the case, you must somehow know what kind of message you will be parsing (assuming your protocol has multiple message types). But as an example:</p>\n\n<pre><code># The header format corresponds to the mumble packet that send the prefix + protobuf-msg\nHEADER_FORMAT = \"&gt;HI\" # Big endian, unsigned short + unsigned int\npacket_type, packet_length = struct.unpack_from(HEADER_FORMAT, buffer)\n</code></pre>\n\n<p>If you have multiple messages in a buffer you would need to extract the packet data from your buffer based on the packet length. When you know the message type, you can parse it. This part will just fetch the class corresponding to the message type from the pb2-file, and parse the message based on it.</p>\n\n<pre><code>MessageClass = PACKET_TYPES[packet_type]\nmessage = MessageClass()\nmessage.ParseFromString(packet_data)\n</code></pre>\n\n<p>Now <code>message</code> will finally contain the parsed protobuf message, and you can use it like you would when constructing one: you can reference to the fields etc: <code>message.UserName</code> or whatever.</p>\n"}], "owner": {"reputation": 1653, "user_id": 4471028, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-6eDJK60pWQQ/AAAAAAAAAAI/AAAAAAAAASw/NUJWdly_gmU/photo.jpg?sz=128", "display_name": "Mihir Patel", "link": "https://stackoverflow.com/users/4471028/mihir-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8258, "favorite_count": 2, "accepted_answer_id": 40269778, "answer_count": 2, "score": 3, "last_activity_date": 1491311674, "creation_date": 1477501104, "question_id": 40268110, "link": "https://stackoverflow.com/questions/40268110/deserialize-google-protobuf-binary-file", "title": "Deserialize Google Protobuf binary file", "body": "<p>Google Protobuf has confused me more than ever and I am trying to understand how things work. </p>\n\n<ol>\n<li><p>Please help me understand if I am understanding this correctly. <strong>.proto</strong> file defines the definition of the message and <strong>protoc</strong> is a compiler. The data is compiled in a binary file (<strong>.pb</strong>) . Correct? If not, can you please help me understand. I can't process Google Protobuf docs. It is quite confusing. And haven't had any luck with Stack Overflow or other blogs.</p></li>\n<li><p><em>Important</em>, I can't modify my C++ code where the logic is defined. With that being said, I'd like to deserialize <strong>filename.pb</strong> (binary file) and parse results through Python. Is this possible?</p></li>\n</ol>\n\n<p>Thanks for your help in advance!!</p>\n"}, {"tags": ["c++", "c++11", "declaration", "code-readability", "enum-class"], "comments": [{"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1477501476, "post_id": 40268091, "comment_id": 67796527, "body": "This sample compiles fine"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1477501522, "post_id": 40268091, "comment_id": 67796549, "body": "<a href=\"http://coliru.stacked-crooked.com/a/3ae6d231dbfa3d1d\" rel=\"nofollow noreferrer\">Compiles for me?</a>"}, {"owner": {"reputation": 1841, "user_id": 6245072, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e93796ec6c5c6a3f05ff00d232200208?s=128&d=identicon&r=PG", "display_name": "user6245072", "link": "https://stackoverflow.com/users/6245072/user6245072"}, "edited": false, "score": 0, "creation_date": 1477501682, "post_id": 40268091, "comment_id": 67796637, "body": "Weird. I was getting all kinds of error. Looks like I forgot to write <code>class</code> in the declaration of <code>enum class Class::Type</code>. Thanks for making me notice."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1477502300, "post_id": 40268091, "comment_id": 67796914, "body": "@user6245072 Did you enable <code>-std=c++11</code> at your compiler flags? What&#39;s your toolchain, which version?"}, {"owner": {"reputation": 1841, "user_id": 6245072, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e93796ec6c5c6a3f05ff00d232200208?s=128&d=identicon&r=PG", "display_name": "user6245072", "link": "https://stackoverflow.com/users/6245072/user6245072"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1477502358, "post_id": 40268091, "comment_id": 67796949, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Yes I did"}], "owner": {"reputation": 1841, "user_id": 6245072, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e93796ec6c5c6a3f05ff00d232200208?s=128&d=identicon&r=PG", "display_name": "user6245072", "link": "https://stackoverflow.com/users/6245072/user6245072"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477501053, "creation_date": 1477501053, "question_id": 40268091, "link": "https://stackoverflow.com/questions/40268091/is-it-possible-to-declare-an-enum-which-is-part-of-a-class-in-a-separate-place", "title": "Is it possible to declare an enum which is part of a class in a separate place?", "body": "<p>I have a class with an attribute <code>type</code> of a custom enum class <code>Class::Type</code>. Currently the declaration of <code>Class</code> looks like this:</p>\n\n<pre><code>class Class {\n    enum class Type {\n        a,\n        b,\n        c,\n        ...\n    } type;\n};\n</code></pre>\n\n<p>But I want to put the declaration of <code>Class::Type</code> somewhere else (preferably right <em>after</em> the class declaration) so that it doesn't obstruct the visual in the class declaration:</p>\n\n<pre><code>//something like this, if it was possible\nclass Class {\n    enum class Type;\n    Type type;\n};\n\nenum class Class::Type {\n    a,\n    b,\n    c,\n    ...\n};\n</code></pre>\n\n<p>Is that possible? How?</p>\n"}, {"tags": ["c++", "linux", "serialization"], "comments": [{"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 1, "creation_date": 1477501141, "post_id": 40268056, "comment_id": 67796359, "body": "The simplest way would be is to rewrite your program, such that it will receive a specific signal, and save it&#39;s own state somewhere. And then will check the state on the subsequent runs."}, {"owner": {"reputation": 50953, "user_id": 1983495, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/aMDiK.jpg?s=128&g=1", "display_name": "Iharob Al Asimi", "link": "https://stackoverflow.com/users/1983495/iharob-al-asimi"}, "edited": false, "score": 0, "creation_date": 1477501202, "post_id": 40268056, "comment_id": 67796389, "body": "What do you want to &quot;continue&quot; doing? What do you mean by freeze? What does your program do?"}, {"owner": {"reputation": 5371, "user_id": 7019311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a2981ebd25241785e1495e511caa61a?s=128&d=identicon&r=PG&f=1", "display_name": "hidefromkgb", "link": "https://stackoverflow.com/users/7019311/hidefromkgb"}, "edited": false, "score": 1, "creation_date": 1477501467, "post_id": 40268056, "comment_id": 67796519, "body": "The technique you need is called <a href=\"https://en.wikipedia.org/wiki/Serialization\" rel=\"nofollow noreferrer\">serialization</a>."}, {"owner": {"reputation": 31114, "user_id": 4142924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KmZTf.png?s=128&g=1", "display_name": "Weather Vane", "link": "https://stackoverflow.com/users/4142924/weather-vane"}, "edited": false, "score": 1, "creation_date": 1477502417, "post_id": 40268056, "comment_id": 67796987, "body": "There will be one answer if the event that &quot;freezes&quot; the program is known internally - even at compile time - and another answer if there is an as yet unknown moment when the program will be &quot;frozen&quot;."}, {"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 0, "creation_date": 1477503473, "post_id": 40268056, "comment_id": 67797573, "body": "You could generate a crash dump, but that&#39;s compiler specific and may not contain the entire program state, particularly if it&#39;s a release build."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1477510360, "post_id": 40268056, "comment_id": 67801386, "body": "What is the concrete use case? What kind of application are you coding? Please <b>edit your question</b> to improve it and give a lot more context &amp; motivation."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1477511054, "post_id": 40268056, "comment_id": 67801760, "body": "Programs are never that simple, and the evil is in the details. It is sad that you do not motivate your question and tell a lot more about your application."}], "answers": [{"tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 1, "last_activity_date": 1477501779, "last_edit_date": 1477501779, "creation_date": 1477501442, "answer_id": 40268202, "question_id": 40268056, "link": "https://stackoverflow.com/questions/40268056/is-it-possible-to-freeze-and-dump-state-of-program/40268202#40268202", "title": "Is it possible to freeze and dump state of program?", "body": "<p>This kind of stuff you normally need to do manually. With your example:</p>\n\n<pre><code>int main()\n{\n    ifstream input(\"program_status.txt\");\n    int start = 0;\n    if (input.good())\n        input &gt;&gt; start; // TODO Validate!!!\n\n    for (int i = start; i &lt; 100; i++) {\n        cout &lt;&lt; i &lt;&lt; \" \";\n        if (i == 50){\n            ofstream output(\"program_status.txt\");\n            // continue next time\n            output &lt;&lt; (i+1);\n            return 0;\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1477505727, "creation_date": 1477505727, "answer_id": 40269436, "question_id": 40268056, "link": "https://stackoverflow.com/questions/40268056/is-it-possible-to-freeze-and-dump-state-of-program/40269436#40269436", "title": "Is it possible to freeze and dump state of program?", "body": "<p>Linux core definitely can do that, as program state can be stored in swap area if necessary and then restored back. Only question is if such functionality is provided by API. As match as I know it is not available and I seriously doubt it will be ever. This task is too complex to implement - you need to store all open files, sockets, IPC resources etc. And it is not clear what to do when you try to restore state, but file, which was opened by your program is missing. With TCP sockets it is even worse.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 7076795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce614c215e355a81d2ba68f367374c6f?s=128&d=identicon&r=PG&f=1", "display_name": "St&#233;phane Le Men", "link": "https://stackoverflow.com/users/7076795/st%c3%a9phane-le-men"}, "is_accepted": false, "score": 1, "last_activity_date": 1477508449, "creation_date": 1477508449, "answer_id": 40270191, "question_id": 40268056, "link": "https://stackoverflow.com/questions/40268056/is-it-possible-to-freeze-and-dump-state-of-program/40270191#40270191", "title": "Is it possible to freeze and dump state of program?", "body": "<p>The technique I show you will only work with simple program.\nAs Slava talked about, all devices and resources previously opened won't be reachable. It will only work with simple program, without no file or socket opened.</p>\n\n<p>1) verify with ulimit -a the ability to create core file. If value if the core size is 0, no core will be created, so increase the value to the size enough to contain your program. You can set with ulimit -c </p>\n\n<p>2) start your simple program, and get the PID of it.</p>\n\n<p>3) send kill -SIGABRT , your program will be stopped and a core dump file will be created with PID as suffix.</p>\n\n<p>The core dump file is your stopped running program. To restart it, use gdb</p>\n\n<p>1) gdb myprogram core.PID</p>\n\n<p>You will see some thing like:</p>\n\n<p>\"Program terminated with signal SIGABRT, Aborted.\"</p>\n\n<p>2) start you program with gdb command run.</p>\n\n<p>Last point, if you want generate again a new stopped point with gdb, you can send SIGABRT again to your program, but you will need to generate manually the core file, that is not automatically generated when your program is running with gdb .</p>\n\n<p>The gdb command to generate the core file is : generate-core-file</p>\n"}, {"tags": [], "owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "is_accepted": false, "score": 2, "last_activity_date": 1477512712, "last_edit_date": 1477512712, "creation_date": 1477509119, "answer_id": 40270387, "question_id": 40268056, "link": "https://stackoverflow.com/questions/40268056/is-it-possible-to-freeze-and-dump-state-of-program/40270387#40270387", "title": "Is it possible to freeze and dump state of program?", "body": "<p>What you want to do is called <a href=\"https://en.wikipedia.org/wiki/Application_checkpointing\" rel=\"nofollow\"><strong>application checkpointing</strong></a>. Read also the <a href=\"https://en.wikipedia.org/wiki/Persistence_%28computer_science%29\" rel=\"nofollow\">persistence</a>, <a href=\"https://en.wikipedia.org/wiki/Call_stack\" rel=\"nofollow\">call stack</a>, <a href=\"https://en.wikipedia.org/wiki/Dynamic_software_updating\" rel=\"nofollow\">dynamic software updating</a>, <a href=\"https://en.wikipedia.org/wiki/Continuation\" rel=\"nofollow\">continuation</a> (&amp; <a href=\"https://en.wikipedia.org/wiki/Continuation-passing_style\" rel=\"nofollow\">CPS</a>), <a href=\"https://en.wikipedia.org/wiki/Database\" rel=\"nofollow\">database</a>, <a href=\"https://en.wikipedia.org/wiki/Address_space_layout_randomization\" rel=\"nofollow\">ASLR</a>, <a href=\"https://en.wikipedia.org/wiki/Garbage_collection_%28computer_science%29\" rel=\"nofollow\">Garbage Collection</a> (because copying GC use algorithms very close to those needed for checkpointing), <a href=\"https://en.wikipedia.org/wiki/Serialization\" rel=\"nofollow\">serialization</a>, <a href=\"https://en.wikipedia.org/wiki/Process_migration\" rel=\"nofollow\">process migration</a> wikipages because they are all relevant.</p>\n\n<p>Of course, in limited cases, you could dump a <a href=\"https://en.wikipedia.org/wiki/Core_dump\" rel=\"nofollow\">core dump</a> and restart it (as suggested by most other answers). But that might not work:</p>\n\n<ul>\n<li><p>if your (checkpointed) process has network connections to other servers (e.g. is using <a href=\"https://curl.haxx.se/libcurl/\" rel=\"nofollow\">libcurl</a> to access remote web pages or contents).</p></li>\n<li><p>if your process has started other processes and is communicating thru pipes or fifos with them</p></li>\n<li><p>if your process depends upon external services, such as a database server.</p></li>\n<li><p>if your process has a <a href=\"https://en.wikipedia.org/wiki/Graphical_user_interface\" rel=\"nofollow\">Graphical User Interface</a> (it is communicating with an X11 or Wayland server).</p></li>\n<li><p>if you want to restart your process a few weeks later, and you have slightly improved and recompiled its code (even in some places unrelated to the computation), or perhaps just upgraded external libraries, the C++ compiler, or changed compilation (e.g. optimization) flags.</p></li>\n<li><p>for multi-threaded applications, you'll have a lot of additional problems (e.g. how to restart them from a checkpointed state, etc...)</p></li>\n</ul>\n\n<p>In <strong>some cases</strong>, you might <strong>use some checkpointing library</strong> for that. Look into <a href=\"http://crd.lbl.gov/departments/computer-science/CLaSS/research/BLCR/\" rel=\"nofollow\">BLCR</a></p>\n\n<p>In other cases, it is <strong>above the state of the art and is still an active research topic</strong>. You could work about ten years on it and get a PhD.</p>\n\n<p>In practice, checkpointing is so important that you should <em>think about it before starting to code your first C++ line</em>. It has a profound impact on the design of your software architecture.</p>\n\n<p>In some cases it would even worth spending a few weeks to develop specialized C++ code generators (to generate the code for persistence &amp; checkpointing).</p>\n\n<p>In some domains, particularily HPC &amp; many scientific computations on <a href=\"https://en.wikipedia.org/wiki/Supercomputer\" rel=\"nofollow\">supercomputers</a>, checkpointing is essential; for example simulating the collision of two galaxies may requires months of computation on a very costly supercomputer (which might be rebooted before the end of such a huge simulation), and then of course you need to think about checkpointing before writing the first line of code. It could actually be simple (in principle) if the code is very iterative in nature, because you \"just\" need to save the data computed inside some high-level loop. In practice, it is complex and the evil is in the details.</p>\n\n<p>Some language implementations have limited support for checkpointing. For example (in Common Lisp) <a href=\"http://sbcl.org/\" rel=\"nofollow\">SBCL</a> offers its <a href=\"http://sbcl.org/manual/index.html#Saving-a-Core-Image\" rel=\"nofollow\"><code>save-lisp-and-die</code></a> primitive. GNU emacs has <a href=\"http://emacshorrors.com/posts/unexecute.html\" rel=\"nofollow\">unexec</a> (but look also <a href=\"https://lwn.net/Articles/673724/\" rel=\"nofollow\">here</a>, because it could become obsolete).</p>\n\n<p>Application persistence and data is a very important subject. In many cases, the data is more worthwhile than the application itself (then, you should be interested in databases, from <a href=\"http://sqlite.org/\" rel=\"nofollow\">Sqlite</a> to <a href=\"http://postgresql.org/\" rel=\"nofollow\">PostGreSQL</a> &amp; <a href=\"http://mongodb.org/\" rel=\"nofollow\">MongoDB</a>).</p>\n\n<p>PS. It is quite unfortunate that your question does not give a lot more context &amp; motivation. Are you sure that it is not an <a href=\"http://xyproblem.info/\" rel=\"nofollow\">XY problem</a>?</p>\n"}], "owner": {"reputation": 5971, "user_id": 5537840, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/aKRoy.jpg?s=128&g=1", "display_name": "Kenenbek Arzymatov", "link": "https://stackoverflow.com/users/5537840/kenenbek-arzymatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1477512712, "creation_date": 1477500922, "last_edit_date": 1477505043, "question_id": 40268056, "link": "https://stackoverflow.com/questions/40268056/is-it-possible-to-freeze-and-dump-state-of-program", "title": "Is it possible to freeze and dump state of program?", "body": "<p>Consider such situation:\nThere is simple program:</p>\n\n<pre><code>int main()\n\n{\n    for (int i = 0; i &lt; 100; i++) {\n        if (i == 50){\n            // ... dump state of program somewhere\n        }\n        cout &lt;&lt; i &lt;&lt; \" \";\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Is it possible to \"save\" a state of program maybe by storing this state to a file on disk? For example, after some weeks I want to load this state from file and it will continue to work from last stop place (it will print <code>50 51 ...</code>).  </p>\n"}, {"tags": ["c++", "c", "visual-studio", "visual-studio-2015", "precompiled-headers"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 2, "creation_date": 1477500838, "post_id": 40267915, "comment_id": 67796206, "body": "Remove all .pch files the compiler complains about."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1477501463, "post_id": 40267915, "comment_id": 67796516, "body": "You only selected the file, you are looking at the wrong tool window.  Instead, right-click it and choose Properties to bring up the property pages for the file."}, {"owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1477555521, "post_id": 40267915, "comment_id": 67817322, "body": "@n.m. Deleted even the entire folder.. no luck."}, {"owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1477555688, "post_id": 40267915, "comment_id": 67817424, "body": "@HansPassant I edited the post with an image showing what I click when trying to select properties."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1477557844, "post_id": 40267915, "comment_id": 67818705, "body": "You are still looking at the wrong tool window.  I don&#39;t know why you can&#39;t see the settings dialog for the file, maybe your VS2015 install is broken.  Try another machine."}, {"owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1477558976, "post_id": 40267915, "comment_id": 67819422, "body": "@HansPassant I found a workaround, its explained in the answer. Thank you for your time!"}], "answers": [{"comments": [{"owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "reply_to_user": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1477640325, "post_id": 40280227, "comment_id": 67858214, "body": "Wow,Of course you can @shrike didn&#39;t you see the question linked? Moreover, if you take a look at my screenshot, I am in the property page of the file <b>autofit.c</b> not in the project properties. So, yes, I can <b>Not Use</b> precompiled headers for a single file and <b>Use</b> them for the rest of the project."}, {"owner": {"reputation": 4326, "user_id": 4801801, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4Jzhl.jpg?s=128&g=1", "display_name": "shrike", "link": "https://stackoverflow.com/users/4801801/shrike"}, "edited": false, "score": 0, "creation_date": 1477643686, "post_id": 40280227, "comment_id": 67859792, "body": "You&#39;re right, indeed.(Should better refrain commenting sometimes...) Now I know it is possible, comment removed so far, thanks."}], "tags": [], "owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "is_accepted": true, "score": 2, "last_activity_date": 1477644144, "last_edit_date": 1477644144, "creation_date": 1477558413, "answer_id": 40280227, "question_id": 40267915, "link": "https://stackoverflow.com/questions/40267915/cant-disable-precompiled-headers-for-single-c-file-in-vs2015/40280227#40280227", "title": "Can&#39;t disable precompiled headers for single C file in VS2015", "body": "<p>I found a workaround to make the right tool I needed appear... I leave it here as an answer in case someone else encounters this problem.</p>\n\n<p>It won't appear by clicking file -> <em>Properties</em>, but it appears when clicking project -> <em>Properties</em> so, once opened, I selected the file autofit.c from the tree view and finally I could disable precompiled headers from this  single file !</p>\n\n<p><a href=\"https://i.stack.imgur.com/85jxE.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/85jxE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 172, "user_id": 6355709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b6ce6786b1f4abb994b373518a0f17b?s=128&d=identicon&r=PG&f=1", "display_name": "asantacreu", "link": "https://stackoverflow.com/users/6355709/asantacreu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 40280227, "answer_count": 1, "score": 1, "last_activity_date": 1487760443, "creation_date": 1477500384, "last_edit_date": 1495542715, "question_id": 40267915, "link": "https://stackoverflow.com/questions/40267915/cant-disable-precompiled-headers-for-single-c-file-in-vs2015", "title": "Can&#39;t disable precompiled headers for single C file in VS2015", "body": "<p>I'm trying to disable precompiled headers for the C files of my project because VS2015 gives me this error (line broken for readability): </p>\n\n<pre><code>..\\..\\..\\..\\Lib\\freetype2\\src\\autofit\\autofit.c : fatal error C1853: \n  'Y:\\obj\\TwoNav_PC_15\\headers\\CompeTwoNav.pch' precompiled header file \n  is from a previous version of the compiler, or the precompiled header \n  is C++ and you are using it from C (or vice versa)\n</code></pre>\n\n<p>Looking on how to do it I found <a href=\"https://stackoverflow.com/questions/9318951/disabling-precompiled-headers-for-a-specific-file-in-a-vc-2010-project\">this post</a>,\nbut when I try to do it in my Visual Studio 2015 Professional, I can't see the option referred to. </p>\n\n<p><strong>Edit</strong>: This is how I try to select the properties:</p>\n\n<p><img src=\"https://i.stack.imgur.com/7xuWB.png\" alt=\"enter image description here\"></p>\n\n<p>This image is what I see when I select the properties of the file:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1IGMH.png\" alt=\"File Properties dialogbox\"></p>\n"}, {"tags": ["c++", "multithreading", "openmp"], "comments": [{"owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1477501420, "post_id": 40267888, "comment_id": 67796502, "body": "Add <code>#pragma omp critical</code> before the offending line"}, {"owner": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 0, "creation_date": 1477506005, "post_id": 40267888, "comment_id": 67799002, "body": "I really wouldn&#39;t read files in parallel using OpenMP.  Without the right hardware (if you had a parallel file system you&#39;d know it so I&#39;m assuming you don&#39;t have one) you&#39;re just programming for extra contention as the threads fight for the read/write head.  I think you&#39;ll get better performance reading the files before the <code>parallel</code> section."}, {"owner": {"reputation": 21, "user_id": 6804774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LVYjC.jpg?s=128&g=1", "display_name": "Spatz", "link": "https://stackoverflow.com/users/6804774/spatz"}, "reply_to_user": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1477641331, "post_id": 40267888, "comment_id": 67858650, "body": "@Gilles  thanks it worked,   I gained 3x in reading."}, {"owner": {"reputation": 21, "user_id": 6804774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LVYjC.jpg?s=128&g=1", "display_name": "Spatz", "link": "https://stackoverflow.com/users/6804774/spatz"}, "reply_to_user": {"reputation": 73919, "user_id": 44309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iL4TW.png?s=128&g=1", "display_name": "High Performance Mark", "link": "https://stackoverflow.com/users/44309/high-performance-mark"}, "edited": false, "score": 0, "creation_date": 1477641336, "post_id": 40267888, "comment_id": 67858653, "body": "@HighPerformanceMark, yes I know it&#39;s not a best practice, but I notice that I can still gain something in reading with OpenMP. Thank you"}], "owner": {"reputation": 21, "user_id": 6804774, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LVYjC.jpg?s=128&g=1", "display_name": "Spatz", "link": "https://stackoverflow.com/users/6804774/spatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1477500300, "creation_date": 1477500300, "question_id": 40267888, "link": "https://stackoverflow.com/questions/40267888/read-files-from-a-folder-with-openmp-and-fill-a-list-of-elements", "title": "Read files from a folder with OpenMP and fill a list of elements", "body": "<p>I'd like to read files from fylesystem in parallel with OpenMP and populate a thread-shared list.\nWith <code>shared</code> I specify which variable are shared among threads, with  <code>private</code> the private index and then I <code>schedule</code> the iteration among the threads statically.</p>\n\n<p>The shared list <code>imageList</code> is where I want to append each file I just read from filesystem. It has been passed as a pointer to the current method.</p>\n\n<p>Sometimes the inner <code>for</code> loop fails during <code>imageList-&gt;append(tmpFile);</code> causing a <code>corrupted double-linked list</code> error.</p>\n\n<p>Obviously I'm doing something wrong with OpenMP since, if I remove the parallelization, the code works perfectly.</p>\n\n<p>Have you got any hint?</p>\n\n<p>Thank you</p>\n\n<pre><code>void ImageHandler::readImagesFromDir(QList&lt; QPair&lt;QString, cv::Mat&gt;&gt;* imageList) \n\n// folderSize, fileName list previously defined.\n....\nint index, chunk = 1;\n // I will read from HD and I'd like to populate imageList\n // imageList and chunk are shared among threads while index not\n#pragma omp parallel shared(imageList, chunk) private(index)\n{\n    // setting a static schedule\n    #pragma omp for schedule(static, chunk) nowait\n    for (index = 0; index &lt; folderSize; ++index)\n    {\n        // Getting image's file name\n        std::string fn = fileName[index];\n\n        // Reading image and storing it in a Matrix\n        cv::Mat im = cv::imread(fileName[index], CV_LOAD_IMAGE_COLOR);\n        if (im.empty()) continue;\n\n        // Packing my QPair with image's name and related RGB matrix\n        QPair&lt;QString, cv::Mat&gt; tmpFile;\n        tmpFile.first = QString::fromStdString(fn);\n        tmpFile.second = im;\n\n        // FAILING HERE while populating imageList\n        imageList-&gt;append(tmpFile);\n\n    }\n}   /* end of parallel region */\n</code></pre>\n"}, {"tags": ["c++", "stl", "big-o"], "comments": [{"owner": {"reputation": 9645, "user_id": 1465553, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5b559f395549789c041652429444dc0a?s=128&d=identicon&r=PG", "display_name": "Saurav Sahu", "link": "https://stackoverflow.com/users/1465553/saurav-sahu"}, "edited": false, "score": 0, "creation_date": 1477500147, "post_id": 40267776, "comment_id": 67795811, "body": "<i>stack these containers</i> means?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1477500154, "post_id": 40267776, "comment_id": 67795820, "body": "It is the same.  A <code>map&lt;int, map&lt;int, int&gt;&gt;</code> is no different from a <code>map&lt;int, int&gt;</code> as far as accessing the key."}, {"owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "edited": false, "score": 0, "creation_date": 1477510756, "post_id": 40267776, "comment_id": 67801609, "body": "Your question needs to be formulated more precisely. What do you need to access? What assumptions can you make on the existing coefficients? For example, do all maps have the same size? Does any map have keys in <code>[0,1,..N]</code> where <code>N</code> is the size?"}, {"owner": {"reputation": 599, "user_id": 2600312, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8d1a5f9dadf496c808db8e86afbebdbe?s=128&d=identicon&r=PG", "display_name": "user2600312", "link": "https://stackoverflow.com/users/2600312/user2600312"}, "reply_to_user": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "edited": false, "score": 0, "creation_date": 1477513295, "post_id": 40267776, "comment_id": 67802873, "body": "@EmeraldWeapon True, I should mention that I want to access the inner most map. But I think, when talking about big O, the size is always assumed to converge towards infinity. Am I wrong?"}, {"owner": {"reputation": 2102, "user_id": 3280022, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/2d8a213aec89c1883c261a278baf9aee?s=128&d=identicon&r=PG&f=1", "display_name": "Emerald Weapon", "link": "https://stackoverflow.com/users/3280022/emerald-weapon"}, "edited": false, "score": 0, "creation_date": 1477514823, "post_id": 40267776, "comment_id": 67803600, "body": "Suppose you want to lookup the key <code>j</code> within an inner most map, and that only one of them has such a key but you don&#39;t know which one. This completely changes the way you have to think about it."}], "answers": [{"tags": [], "owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "is_accepted": false, "score": 2, "last_activity_date": 1477500149, "creation_date": 1477500149, "answer_id": 40267840, "question_id": 40267776, "link": "https://stackoverflow.com/questions/40267776/big-o-when-stacking-containers/40267840#40267840", "title": "Big O when stacking containers", "body": "<p>Still <code>O(Log(N))</code></p>\n\n<p>Assuming you meant accessing the second map within the out map, it's essentially two O(log(N)) operations back to back.  Hence <code>O(2*log(N))</code>, which reduced down is <code>O(log(N))</code> again.</p>\n"}, {"tags": [], "owner": {"reputation": 124806, "user_id": 121747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9fcebb68b105446c0d9eebbce1146044?s=128&d=identicon&r=PG&f=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/121747/jack"}, "is_accepted": true, "score": 3, "last_activity_date": 1477500187, "creation_date": 1477500187, "answer_id": 40267849, "question_id": 40267776, "link": "https://stackoverflow.com/questions/40267776/big-o-when-stacking-containers/40267849#40267849", "title": "Big O when stacking containers", "body": "<p>You just need to sum the complexities in this case,</p>\n\n<pre><code>map&lt;int, map&lt;int, int&gt;&gt; data;\nconst auto&amp; lookup = data[5]; // here you spend O(logn)\nint value lookup2 = lookup[3]; // here you spend O(logn)\n</code></pre>\n\n<p>So it's <em>O(logn)</em> + <em>O(logn)</em> = <em>O(klogn)</em> = <em>O(logn)</em>.</p>\n\n<p>This would be <em>O(logn)</em> also in case of <code>map&lt;int, map&lt;int, map&lt;int, map&lt;int, ..</code> and so on because the amount of nested levels doesn't depend on <code>N</code> but they are always constant.</p>\n"}, {"tags": [], "owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "is_accepted": false, "score": 2, "last_activity_date": 1477500188, "creation_date": 1477500188, "answer_id": 40267850, "question_id": 40267776, "link": "https://stackoverflow.com/questions/40267776/big-o-when-stacking-containers/40267850#40267850", "title": "Big O when stacking containers", "body": "<p>It's the same, O(log(N)).</p>\n\n<p>This is because you have O(log(N)) to get the 'inner' map, then you need O(log(N)) again for the element, so in total you have O(2*log(N)) which is the same as O(log(N)).</p>\n"}, {"comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1477501227, "post_id": 40267887, "comment_id": 67796406, "body": "good point that the complexity is dependent on both sizes - the outer and inner collection, however I&#39;m not sure if <code>O</code> notation allows to use 2D domain..."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1477501364, "post_id": 40267887, "comment_id": 67796474, "body": "Does it make a difference if the inner maps are of differing sizes, or can you just take N = the average size? I haven&#39;t done formal complexity analysis for a long time, and it&#39;s amazing how much you forget in just a couple of decades."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1477501953, "post_id": 40267887, "comment_id": 67796759, "body": "@W.F. Of course it does. If you have two independent variables you need to both. e.g. Dijkstra&#39;s algorithm is <code>O(E + VlgV)</code>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1477502007, "post_id": 40267887, "comment_id": 67796779, "body": "@molbdnilo In this case since we&#39;re just adding I would take the max size."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1477503219, "post_id": 40267887, "comment_id": 67797430, "body": "@Barry all in all, why shouldn&#39;t one use two variables in <code>O</code>. Good point, thank you!"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 3, "last_activity_date": 1477500299, "creation_date": 1477500299, "answer_id": 40267887, "question_id": 40267776, "link": "https://stackoverflow.com/questions/40267776/big-o-when-stacking-containers/40267887#40267887", "title": "Big O when stacking containers", "body": "<p>Same thing. If have <code>map&lt;int, map&lt;int, int&gt;&gt; m</code> and you want to look up <code>m[4][2]</code> - that's just two, independent map lookups. So you just add them: <code>O(log M + log N) = O(log MN)</code> where <code>M</code> is the size of the outer map and <code>N</code> is the size of the inner map. </p>\n\n<p>Note that the outer and inner map sizes are independent. </p>\n"}], "owner": {"reputation": 599, "user_id": 2600312, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8d1a5f9dadf496c808db8e86afbebdbe?s=128&d=identicon&r=PG", "display_name": "user2600312", "link": "https://stackoverflow.com/users/2600312/user2600312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 40267849, "answer_count": 4, "score": 4, "last_activity_date": 1477513338, "creation_date": 1477499932, "last_edit_date": 1477513338, "question_id": 40267776, "link": "https://stackoverflow.com/questions/40267776/big-o-when-stacking-containers", "title": "Big O when stacking containers", "body": "<p>I use a std::map which is implemented as red-black tree with time complexity of O(log(N)) for access (according to this site: <a href=\"http://bigocheatsheet.com/\" rel=\"nofollow\">http://bigocheatsheet.com/</a>). How do I calculate the big O if I stack these containers. </p>\n\n<p>For example <code>map&lt;int, map&lt;int, int&gt;&gt;</code>. What is the big O for accessing the innermost map?</p>\n"}, {"tags": ["c++", "cmake", "googletest", "ctest"], "comments": [{"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 1, "creation_date": 1477500704, "post_id": 40267752, "comment_id": 67796128, "body": "What is the output, if you run the <code>CoreTest</code> command directly from the command line? (there might be a segfault, or other clues why the test fails - CMake test run only shows the fail/success state but not the actual errors ... or you can normally find the reports in the &quot;Testing&quot; folder)"}, {"owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "edited": false, "score": 0, "creation_date": 1477502407, "post_id": 40267752, "comment_id": 67796983, "body": "In particular, I&#39;m not exactly sure about GTest now, but for example Boost tests fail if there are no actual tests to be run - and before InitGoogleTest was added, the executable might have succeeded because without it the check of &quot;no test to run&quot; wasn&#39;t done. So, make sure that you have at least one test in the code to be run."}, {"owner": {"reputation": 427, "user_id": 6216474, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac3955e01aeb169c30a14ded2f0e057b?s=128&d=identicon&r=PG&f=1", "display_name": "NameRakes", "link": "https://stackoverflow.com/users/6216474/namerakes"}, "edited": false, "score": 0, "creation_date": 1484108296, "post_id": 40267752, "comment_id": 70369717, "body": "@Guillaume first a comment: <code>RUN_TESTS</code> target is generated by CMake and don&#39;t know if there is a way to control the options used in executing ctest command through <code>RUN_TESTS</code>. When you do run <code>ctest</code> on the command line, you can add -V to get all the output. Now my question: I have the same original problem you have. How did you fix it? Did you pass the gtest DLL path to CTest, say through a CMake variable? The only way I could get <code>RUN_TESTS</code> to work is if I copied the gtest DLLs to the install directory where all my app&#39;s DLLs reside. Thanks for responding"}, {"owner": {"reputation": 179, "user_id": 5847550, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/689ea4be04292b4edf2c9d54d5ec6d36?s=128&d=identicon&r=PG&f=1", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/5847550/guillaume"}, "edited": false, "score": 0, "creation_date": 1484250920, "post_id": 40267752, "comment_id": 70445022, "body": "I added the gtest dll paths to my PATH environment variable. Then I used a ADD_CUSTOM_COMMAND to execute the tests during the build. Hope this helps!"}], "answers": [{"comments": [{"owner": {"reputation": 5476, "user_id": 3059024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fecb9e1f75d3d01f4b4341c587fbe2c5?s=128&d=identicon&r=PG&f=1", "display_name": "CiaranWelsh", "link": "https://stackoverflow.com/users/3059024/ciaranwelsh"}, "edited": false, "score": 1, "creation_date": 1611508682, "post_id": 47682495, "comment_id": 116468694, "body": "I could only get this working after removing calls to <code>include(GTest)</code>, include(CTest)` and <code>enable_testing</code> to the toplevel cmake file."}], "tags": [], "owner": {"reputation": 7193, "user_id": 1938798, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/196507edbb408bad2f2a08e33222bac7?s=128&d=identicon&r=PG", "display_name": "Craig Scott", "link": "https://stackoverflow.com/users/1938798/craig-scott"}, "is_accepted": false, "score": 3, "last_activity_date": 1557090931, "last_edit_date": 1557090931, "creation_date": 1512590289, "answer_id": 47682495, "question_id": 40267752, "link": "https://stackoverflow.com/questions/40267752/cmake-ctest-test-failure-when-initializing-googletest/47682495#47682495", "title": "Cmake/Ctest test failure when initializing googletest", "body": "<p>The <a href=\"https://cmake.org/cmake/help/latest/module/GoogleTest.html\" rel=\"nofollow noreferrer\">GoogleTest</a> module provides two functions which can be used to show the result of each individual test defined within your test executable. <code>gtest_add_tests()</code> is the traditional method which scans your source file(s) at configure time, while <code>gtest_discover_tests()</code> (available from CMake 3.10) delays working out the set of tests until CTest is run and is more robust (e.g. it has no problem with things like type- or value-parameterised tests).</p>\n\n<p>If using CMake 3.8 or earlier, the <code>gtest_add_tests()</code> function is provided by <code>FindGTest</code> rather than <code>GoogleTest</code>. If you need compatibility with older CMake versions, use <code>FindGTest</code> because it pulls in the <code>GoogleTest</code> module anyway. If you can require CMake 3.9 or later, use <code>GoogleTest</code> directly because you don't actually want to try to find gtest since you are incorporating it directly into your build. With 3.10 or later, your test can be defined like this:</p>\n\n<pre><code>include(GoogleTest)\ngtest_discover_tests(CoreTest)\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 5847550, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/689ea4be04292b4edf2c9d54d5ec6d36?s=128&d=identicon&r=PG&f=1", "display_name": "Guillaume", "link": "https://stackoverflow.com/users/5847550/guillaume"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3252, "favorite_count": 2, "answer_count": 1, "score": 0, "last_activity_date": 1557090931, "creation_date": 1477499845, "last_edit_date": 1477580979, "question_id": 40267752, "link": "https://stackoverflow.com/questions/40267752/cmake-ctest-test-failure-when-initializing-googletest", "title": "Cmake/Ctest test failure when initializing googletest", "body": "<p>I am trying to integrate Ctest and googletest in my project. I included googletest in my project as described in <a href=\"https://crascit.com/2015/07/25/cmake-gtest/\" rel=\"nofollow\">https://crascit.com/2015/07/25/cmake-gtest/</a>.</p>\n\n<p>I created a new test folder with a CoreTest.cpp and a CMakeLists.txt. The CMakeLists contains:</p>\n\n<pre><code>ADD_EXECUTABLE(CoreTest CoreTest.cpp)\nTARGET_LINK_LIBRARIES(CoreTest corelib gtest gmock)\nADD_TEST(NAME CoreTest COMMAND CoreTest)\n</code></pre>\n\n<p>CoreTest.cpp contains:</p>\n\n<pre><code>int main(int argc, char **argv) \n{\n    testing::InitGoogleTest(&amp;argc, argv);\n    //return RUN_ALL_TESTS();\n    return 0;\n}\n</code></pre>\n\n<p>This fails:</p>\n\n<pre><code>1&gt;------ Rebuild All started: Project: RUN_TESTS, Configuration: Debug x64 ------\n1&gt;  Test project\n1&gt;      Start 1: CoreTest\n1&gt;  1/1 Test #1: CoreTest .....................***Failed    1.52 sec\n1&gt;  \n1&gt;  0% tests passed, 1 tests failed out of 1\n</code></pre>\n\n<p>However if I comment the InitGoogleTest line then the test succeeds.</p>\n\n<p>Any idea on what could be the problem here ?</p>\n\n<p>Many thanks !</p>\n\n<p>Thanks axalis! I tried to run from the command line and realized that the googletest dlls were not in my path, which was the problem.</p>\n\n<p>I added multiple tests but I can only see the ctest output in MSVC:</p>\n\n<pre><code>1&gt;------ Rebuild All started: Project: RUN_TESTS, Configuration: Debug x64 ------\n1&gt;  Test project \n1&gt;      Start 1: CoreTest\n1&gt;  1/1 Test #1: CoreTest .....................   Passed    0.03 sec\n1&gt;  \n1&gt;  100% tests passed, 0 tests failed out of 1\n</code></pre>\n\n<p>Is there a way to see the googletest output like what I get from the console ?:</p>\n\n<pre><code>&gt;CoreTest.exe\n[==========] Running 2 tests from 1 test case.\n[----------] Global test environment set-up.\n[----------] 2 tests from MathTest\n[ RUN      ] MathTest.TwoPlusTwoEqualsFour\n[       OK ] MathTest.TwoPlusTwoEqualsFour (0 ms)\n[ RUN      ] MathTest.TwoPlusFourEqualsSix\n[       OK ] MathTest.TwoPlusFourEqualsSix (0 ms)\n[----------] 2 tests from MathTest (1 ms total)\n\n[----------] Global test environment tear-down\n[==========] 2 tests from 1 test case ran. (4 ms total)\n[  PASSED  ] 2 tests.\n</code></pre>\n"}, {"tags": ["c++", "plugins", "rdp", "virtual-channel"], "answers": [{"tags": [], "owner": {"reputation": 7055, "user_id": 1374704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VNVyl.png?s=128&g=1", "display_name": "manuell", "link": "https://stackoverflow.com/users/1374704/manuell"}, "is_accepted": true, "score": 0, "last_activity_date": 1478249645, "creation_date": 1478249645, "answer_id": 40418553, "question_id": 40267582, "link": "https://stackoverflow.com/questions/40267582/how-to-use-virtual-channels-with-two-remoteapps-located-on-two-different-servers/40418553#40418553", "title": "How to use Virtual Channels with two RemoteApps located on two different Servers?", "body": "<p>I got an answer on Microsoft Technet. I reproduce it here, maybe helping future reader.</p>\n\n<p>Add the following line to your RemoteApps RDP files:</p>\n\n<pre><code>disableconnectionsharing:i:1\n</code></pre>\n\n<p>Then, there will be one instance of <code>mstsc.exe</code> for each RemoteApps launched, and all of them will call your exported <code>VirtualChannelEntry</code> callback.</p>\n\n<p>Beware, this an answer to the question asked, which states \"two RemoteApps located on two <strong>different</strong> Servers\".</p>\n\n<p>The above configuration option <em>may</em> have some bad consequences if you are not in this case.</p>\n\n<p>If you are an expert on that matter, feel free to improve this answer. </p>\n"}], "owner": {"reputation": 7055, "user_id": 1374704, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VNVyl.png?s=128&g=1", "display_name": "manuell", "link": "https://stackoverflow.com/users/1374704/manuell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 40418553, "answer_count": 1, "score": 0, "last_activity_date": 1478249645, "creation_date": 1477499334, "last_edit_date": 1478032787, "question_id": 40267582, "link": "https://stackoverflow.com/questions/40267582/how-to-use-virtual-channels-with-two-remoteapps-located-on-two-different-servers", "title": "How to use Virtual Channels with two RemoteApps located on two different Servers?", "body": "<p>I made a 64 bits c++ <a href=\"https://msdn.microsoft.com/en-us/library/aa383580.aspx\" rel=\"nofollow\">Virtual Channel Client DLL</a></p>\n\n<p>I updated my registry, using <a href=\"https://msdn.microsoft.com/en-us/library/aa383583.aspx\" rel=\"nofollow\">Virtual Channel Client Registration</a> (I chose the <code>Default\\Addins</code> way)</p>\n\n<p>If I start a Remote Dekstop connection, everything goes fine: my DLL is loaded in a process named <code>mstsc.exe</code>, my exported <code>VirtualChannelEntry</code> callback is called, and, skipping details, I am able to send/receive bytes (with a little help from a process of my own, running in the server session, and which opens the Virtual Channel).</p>\n\n<p>I am also able to open a second Remote Desktop connection to <em>another</em> Server. A second <code>mstsc.exe</code> process is started, it loads my DLL, all is OK.</p>\n\n<p>My problems begin when I replace my two remote Desktops by two \"RemoteApps\" (one RemoteApp on the first Server, the other on the second Server).</p>\n\n<p>When I launch the first RemoteApp, all is fine (a <code>mstsc.exe</code> starts, and load my DLL).</p>\n\n<p>When I launch the second RemoteApp, there is NO new <code>mstsc.exe</code>, so no way for my DLL to be loaded again, but the existing <code>mstsc.exe</code> does NOT call my exported <code>VirtualChannelEntry</code>. I am not able to establish the Virtual Channel with the second Server.</p>\n\n<p>The order does matter, not the RemoteApps. Only the <em>first</em> RemoteApp launched will give a Virtual Channel with its Server.</p>\n\n<p>If I launch <em>only one</em> RemoteApp, and then launch a full Remote Desktop connection to the <em>other</em> Server, all is OK: two <code>mstsc.exe</code> loading my DLL, two Virtual Channel established. </p>\n\n<p>Questions:</p>\n\n<p>How to use Virtual Channels with two RemoteApps located on two different Servers?</p>\n\n<p>Why is there only one <code>mstsc.exe</code> when I launch two RemoteApps, from two Servers, and why that single <code>mstsc.exe</code> does <em>not</em> call <code>VirtualChannelEntry</code> for the second connection?</p>\n\n<p>My <em>client</em> OS is Windows 2012.\nProblem reproduced with Windows 10 Pro as client.</p>\n"}, {"tags": ["c++", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 1, "creation_date": 1477501249, "post_id": 40267494, "comment_id": 67796418, "body": "Any particular reason you&#39;re using <b>obsolete</b> C api?"}], "answers": [{"tags": [], "owner": {"reputation": 1809, "user_id": 770302, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/J6ph2.png?s=128&g=1", "display_name": "Daniel A. Thompson", "link": "https://stackoverflow.com/users/770302/daniel-a-thompson"}, "is_accepted": false, "score": 0, "last_activity_date": 1477502019, "creation_date": 1477502019, "answer_id": 40268345, "question_id": 40267494, "link": "https://stackoverflow.com/questions/40267494/cropping-image-by-selected-pixels-in-opencv/40268345#40268345", "title": "Cropping image by selected pixels in opencv", "body": "<p>Besides using the obsolete API (as pointed out by @Miki), OpenCV is telling you what the problem is (formatted for clarity):</p>\n\n<pre><code>OpenCV Error: Assertion failed \n\n(rect.width &gt;= 0 \n&amp;&amp; rect.height &gt;= 0 \n&amp;&amp; rect.x &lt; image-&gt;width \n&amp;&amp; rect.y &lt; image-&gt;height \n&amp;&amp; rect.x + rect.width &gt;= (int)(rect.width &gt; 0) \n&amp;&amp; rect.y + rect.height &gt;= (int)(rect.height &gt; 0))\n\nin cvSetImageROI, file C:\\Development\\opencv\\sources\\modules\\core\\src\\array.cpp, line 3006\n</code></pre>\n\n<p>Specifically, this call to <code>cvSetImageROI()</code> is failing:</p>\n\n<pre><code>cvSetImageROI(img1, roi);\n</code></pre>\n\n<p>You can determine specifically which of the assertion subconditions are failing by checking each of them via your debugger. You could also print the values out and compare them. Substitute <code>img1</code> for <code>image</code> and <code>roi</code> for <code>rect</code>, respectively, i.e.:</p>\n\n<pre><code>cout &lt;&lt; roi.width &lt;&lt; endl; // should be &gt;= 0\ncout &lt;&lt; roi.height &lt;&lt; endl; // should be &gt;= 0\n// etc\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "edited": false, "score": 0, "creation_date": 1477557033, "post_id": 40269292, "comment_id": 67818237, "body": "Thank you. Solve d the problem."}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 2, "last_activity_date": 1477505265, "creation_date": 1477505265, "answer_id": 40269292, "question_id": 40267494, "link": "https://stackoverflow.com/questions/40267494/cropping-image-by-selected-pixels-in-opencv/40269292#40269292", "title": "Cropping image by selected pixels in opencv", "body": "<p>The problem is in your <code>roi</code>. Since <code>x=width</code> and <code>y=length</code>, you're using a roi out of the image. <code>x</code> and <code>y</code> should be the top-left corner of your roi. In this case they should both be <code>0</code>.</p>\n\n<p>You shouldn't use <strong>obsolete</strong> C api.</p>\n\n<p>The get a crop of the top-left part of the image, you can simply:</p>\n\n<pre><code>#include&lt;opencv2/opencv.hpp&gt;\nusing namespace cv;\n\nint main()\n{\n    // Load image\n    Mat3b img = imread(\"path_to_image\");\n\n    // Define the roi\n    Rect roi(0, 0, img.cols / 2, img.rows / 2);\n\n    // Crop\n    Mat3b crop = img(roi);\n\n    // Show result\n    imshow(\"Original\", img);\n    imshow(\"Crop\", crop);\n    waitKey();\n\n    return 0;\n}\n</code></pre>\n\n<p>Producing:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Zuu9L.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/Zuu9L.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2614, "favorite_count": 0, "accepted_answer_id": 40269292, "answer_count": 2, "score": 0, "last_activity_date": 1515998127, "creation_date": 1477499096, "last_edit_date": 1477504946, "question_id": 40267494, "link": "https://stackoverflow.com/questions/40267494/cropping-image-by-selected-pixels-in-opencv", "title": "Cropping image by selected pixels in opencv", "body": "<p>I am trying to half the original image by halving height and width of the image and cropping it. [image to be cropped][1]</p>\n\n<p><img src=\"https://i.stack.imgur.com/iS03u.jpg\" alt=\"\"></p>\n\n<p>and below is my code but it causing a runtime exception and the .exe file stops working with the below error:</p>\n\n<pre><code>OpenCV Error: Assertion failed (rect.width &gt;= 0 &amp;&amp; rect.height &gt;= 0 &amp;&amp; rect.x &lt; image-&gt;width &amp;&amp; rect.y &lt; image-&gt;height &amp;&amp; rect.x + rect.width &gt;= (int)(rect.width &gt; 0) &amp;&amp; rect.y + rect.height &gt;= (int)(rect.height &gt; 0)) in cvSetImageROI, file C:\\Development\\opencv\\sources\\modules\\core\\src\\array.cpp, line 3006\n\nThis application has requested the Runtime to terminate it in an unusual way.\n\nPlease contact the application's support team for more information.\n</code></pre>\n\n<p>below is the code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;opencv/cv.h&gt;\n#include &lt;opencv/cxcore.h&gt;\n#include &lt;opencv/highgui.h&gt;\n\nusing namespace std;\nusing namespace cv;\n\nint main(int argc, char** argv) {\n   IplImage *img1 = cvLoadImage(\"image/testcase.jpg\");\n   cvNamedWindow(\"Image1:\",1);\n   cvShowImage(\"Image1:\",img1);\n   cout &lt;&lt; \"Width:\" &lt;&lt;  img1-&gt;width &lt;&lt;\" pixels\"&lt;&lt; endl;\n   cout &lt;&lt; \"Height:\" &lt;&lt;  img1-&gt;height &lt;&lt;\" pixels\"&lt;&lt; endl;\n   int width = img1-&gt;width ;\n   int lenght = img1-&gt;height;\n\n   // cropping the image\n\n   Rect roi;\n   roi.x = width;\n   roi.y = lenght;\n   roi.width = (roi.x)/2;\n   roi.height = (roi.y)/2;\n\n   Mat image_test;\n   image_test = imread(\"image/testcase\");\n   // Must have dimensions of output image\n\n   IplImage* cropped = cvCreateImage(cvSize(roi.width,roi.height), img1-&gt;depth, img1-&gt;nChannels );\n\n   cvSetImageROI(img1, roi);\n   cvCopy(img1, cropped);\n   cvResetImageROI(img1);\n   cvNamedWindow( \"Cropped Image\", 1 );\n   cvShowImage( \"Cropped Image\", cropped );\n   cvSaveImage (\"savedImage/cropped.jpg\" , cropped);\n   waitKey(0);\n   return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 1, "creation_date": 1477498422, "post_id": 40267205, "comment_id": 67794792, "body": "OutputString[j] ??"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1477498789, "post_id": 40267205, "comment_id": 67795007, "body": "I would also <i>strongly</i> recommend writing <code>const int length = InputString.length();</code> get in the habit of using <code>const</code> as often as possible.  It makes a lot of bugs easier to see, and compilers can like it for optimizing."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477498925, "post_id": 40267205, "comment_id": 67795084, "body": "Finally, using <code>size_t</code> for <code>length</code>, <code>i</code> and j` is a good habit to get into.  Containers tend to use <code>size_t</code> for their length and index variables.  It saves a lot of hassle in the long run if you follow the same style."}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 0, "creation_date": 1477499463, "post_id": 40267205, "comment_id": 67795388, "body": "Worth mentioning you could also do <code>OutputString = InputString; std::reverse(OutputString.begin(), OutputString.end();</code>"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1477499518, "post_id": 40267205, "comment_id": 67795416, "body": "With both <code>i</code> and <code>j</code> in the loop control, the code is very confusing. You can eliminate either one by expressing it in terms of the other, since <code>i</code> is always <code>length - 1 - j</code> in the current code. And note that <code>i &gt;= 0, j &lt; length</code> in the loop test is the same as writing <code>j &lt; length</code>; to test both conditions, change it to <code>i &gt;= 0 &amp;&amp; j &lt; length</code>."}], "answers": [{"comments": [{"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1477498655, "post_id": 40267252, "comment_id": 67794926, "body": "I think <code>j&lt;length</code> is OK by itself. Its meaning is the same as <code>i&gt;=0</code> - so either condition is good. Evaluating both conditions does no harm (i.e. harms only the programmer&#39;s brain)"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 2, "creation_date": 1477498688, "post_id": 40267252, "comment_id": 67794950, "body": "You could also do <code>OutputString.resize(length);</code> before the loop, and then keep your original loop."}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 7, "last_activity_date": 1477498396, "creation_date": 1477498396, "answer_id": 40267252, "question_id": 40267205, "link": "https://stackoverflow.com/questions/40267205/can-i-assign-individual-character-to-a-string-in-c/40267252#40267252", "title": "Can I assign individual character to a string in c++?", "body": "<p>The problem isn't quite what you think it is. It is that <code>OutputString</code> is <em>empty</em> and any indexing into it will be out of bounds and lead to <em>undefined behavior</em>.</p>\n\n<p>You might instead do something like</p>\n\n<pre><code>OutputString += InputString[i]; \n</code></pre>\n\n<p>to append characters to the string.</p>\n\n<p>Also, the loop condition <code>i &gt;=0, j&lt;length</code> will not work like you think either. You are using the <em>comma expression</em> so while both <code>i &gt;= 0</code> and <code>j&lt;length</code> will be evaluated, only the result of <code>j&lt;length</code> will be used. You probably want to use the logical and operator there: <code>i &gt;=0 &amp;&amp; j&lt;length</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1477499666, "post_id": 40267660, "comment_id": 67795516, "body": "<i>Really</i>?  I prefer to use <code>std::reverse</code> myself - but that&#39;s not what the OP is asking about.  He is obviously learning the basics of C++."}, {"owner": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477499948, "post_id": 40267660, "comment_id": 67795682, "body": "What I meant was that reversing a string this way was what I was taught as an alternative to doing a reversal using the method that the OP is using. I had completely forgotten about <code>std::reverse</code>, thanks for the reminder."}], "tags": [], "owner": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "is_accepted": false, "score": 0, "last_activity_date": 1477499600, "creation_date": 1477499600, "answer_id": 40267660, "question_id": 40267205, "link": "https://stackoverflow.com/questions/40267205/can-i-assign-individual-character-to-a-string-in-c/40267660#40267660", "title": "Can I assign individual character to a string in c++?", "body": "<p>I prefer to reverse strings like this:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nint main(int argc,char** argv){\n\n    std::string hello = \"hello\";\n\n    for(std::size_t i=0;i &lt; hello.length()/2; ++i)\n    {\n        std::swap(hello[i],hello[hello.length()-i-1]);\n    }\n\n    std::cout&lt;&lt;hello&lt;&lt;std::endl;\n\n return 0;   \n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/875d2365872c186bhttp://\" rel=\"nofollow\">Live Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 5258, "user_id": 1274747, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2942e1483b9befa80a61cb98bce39d?s=128&d=identicon&r=PG", "display_name": "axalis", "link": "https://stackoverflow.com/users/1274747/axalis"}, "is_accepted": false, "score": 0, "last_activity_date": 1477499638, "creation_date": 1477499638, "answer_id": 40267672, "question_id": 40267205, "link": "https://stackoverflow.com/questions/40267205/can-i-assign-individual-character-to-a-string-in-c/40267672#40267672", "title": "Can I assign individual character to a string in c++?", "body": "<p>Or you simply do:</p>\n\n<pre><code>string OutputString(InputString.rbegin(), InputString.rend());\ncout &lt;&lt; \"The reverse string of \" &lt;&lt; InputString &lt;&lt; \" is \"\n         &lt;&lt; OutputString &lt;&lt; \".\\n\";\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7076115, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0caa88842e00c4f252a60ca8f2ffeaaf?s=128&d=identicon&r=PG&f=1", "display_name": "Eugenie", "link": "https://stackoverflow.com/users/7076115/eugenie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1477499638, "creation_date": 1477498210, "last_edit_date": 1477498348, "question_id": 40267205, "link": "https://stackoverflow.com/questions/40267205/can-i-assign-individual-character-to-a-string-in-c", "title": "Can I assign individual character to a string in c++?", "body": "<p>I am trying to write a program to reverse a string. I used the following code but unfortunately it didn't work. I am a little confused why that happened.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    string InputString = \"Hello\";\n    string OutputString;\n    int length;\n\n    length = InputString.length();\n\n    for (int i=length-1, j=0; i &gt;=0, j&lt;length; i--, j++)\n        OutputString[j] = InputString[i]; \n\n    cout &lt;&lt; \"The reverse string of \" &lt;&lt; InputString &lt;&lt; \" is \"\n         &lt;&lt; OutputString &lt;&lt; \".\\n\";\n\n    return 0;\n}\n</code></pre>\n\n<p>My output is:\nThe reverse string of Hello is .</p>\n"}, {"tags": ["c#", "c++", "swig"], "answers": [{"tags": [], "owner": {"reputation": 19167, "user_id": 303612, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1a4d8d31522b1a417e96b4ad8dfecc3e?s=128&d=identicon&r=PG", "display_name": "Dr. Andrew Burnett-Thompson", "link": "https://stackoverflow.com/users/303612/dr-andrew-burnett-thompson"}, "is_accepted": false, "score": 2, "last_activity_date": 1477498625, "creation_date": 1477498625, "answer_id": 40267321, "question_id": 40267196, "link": "https://stackoverflow.com/questions/40267196/swig-csclassmodifiers-does-not-work-on-module-class-for-c-functions/40267321#40267321", "title": "Swig csclassmodifiers does not work on Module class for C functions", "body": "<p>No sooner had I posted, I discovered how to do this (despite a day working on it!) <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow\">#RubberDuckCoding</a></p>\n\n<p>So the solution is to specify moduleclassmodifiers in your *.i Swig interface file</p>\n\n<pre><code>%pragma(csharp) moduleclassmodifiers=\"public unsafe partial class\"\n</code></pre>\n\n<p>The output module class now generates as </p>\n\n<pre><code>// where ModuleName is specified as %module \"ModuleName\"\n// where SomeCFunc is an extern \"C\" function in the target C dll\npublic unsafe partial class ModuleName { \n    public void SomeCFunc(...)\n}\n</code></pre>\n"}], "owner": {"reputation": 19167, "user_id": 303612, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/1a4d8d31522b1a417e96b4ad8dfecc3e?s=128&d=identicon&r=PG", "display_name": "Dr. Andrew Burnett-Thompson", "link": "https://stackoverflow.com/users/303612/dr-andrew-burnett-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477499084, "creation_date": 1477498176, "last_edit_date": 1477499084, "question_id": 40267196, "link": "https://stackoverflow.com/questions/40267196/swig-csclassmodifiers-does-not-work-on-module-class-for-c-functions", "title": "Swig csclassmodifiers does not work on Module class for C functions", "body": "<p>I am trying to generate a C# SWIG wrapper around <a href=\"http://ta-lib.org\" rel=\"nofollow\">TA-Lib</a>, a popular open source Technical Indicator library. </p>\n\n<p>The TA-Lib code is C-code (a collection of extern \"C\" functions) and as a result, Swig generates a class like this:</p>\n\n<pre><code>// where ModuleName is specified as %module \"ModuleName\"\n// where SomeCFunc is an extern \"C\" function in the target C dll\npublic class ModuleName { \n    public void SomeCFunc(...)\n}\n</code></pre>\n\n<p>However. I need to define my class ModuleName as public unsafe partial. In the past I've used <a href=\"http://www.swig.org/Doc1.3/CSharp.html#csharp_partial_classes\" rel=\"nofollow\">csclassmodifiers</a> e.g. </p>\n\n<pre><code>%typemap(csclassmodifiers) ModuleName \"public unsafe partial class\"\n</code></pre>\n\n<p>This should generate the class as <code>public unsafe partial</code> but in this case it's not working as the class is generated off the module name - I'm not wrapping a C++ class per se. </p>\n\n<p>Any ideas? </p>\n"}, {"tags": ["c++", "quicksort"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7076121, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/522788454597245/picture?type=large", "display_name": "Amanda Zhu", "link": "https://stackoverflow.com/users/7076121/amanda-zhu"}, "edited": false, "score": 0, "creation_date": 1477521269, "post_id": 40267678, "comment_id": 67806185, "body": "Much appreciated! The link about passing on reference was exactly what I needed! But um I am still puzzled.. how could you tell by the pseudo code that it was passing by reference of the array instead of the array itself?"}, {"owner": {"reputation": 1280, "user_id": 793519, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/3RBS2.jpg?s=128&g=1", "display_name": "vincent", "link": "https://stackoverflow.com/users/793519/vincent"}, "reply_to_user": {"reputation": 55, "user_id": 7076121, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/522788454597245/picture?type=large", "display_name": "Amanda Zhu", "link": "https://stackoverflow.com/users/7076121/amanda-zhu"}, "edited": false, "score": 0, "creation_date": 1477580826, "post_id": 40267678, "comment_id": 67834490, "body": "I have answered this by appending to by original post. Please accept my answer if you found it useful."}], "tags": [], "owner": {"reputation": 1280, "user_id": 793519, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/3RBS2.jpg?s=128&g=1", "display_name": "vincent", "link": "https://stackoverflow.com/users/793519/vincent"}, "is_accepted": true, "score": 1, "last_activity_date": 1477580762, "last_edit_date": 1495541796, "creation_date": 1477499651, "answer_id": 40267678, "question_id": 40267156, "link": "https://stackoverflow.com/questions/40267156/implementing-quicksort-on-strings/40267678#40267678", "title": "Implementing quicksort on strings", "body": "<p>In the <a href=\"https://i.stack.imgur.com/LjjFn.jpg\" rel=\"nofollow noreferrer\">pseudocode</a> you linked, it mentions that partition() alters subarrays in place. This insinuates that you need to <a href=\"https://stackoverflow.com/questions/373419/whats-the-difference-between-passing-by-reference-vs-passing-by-value\">pass by reference, rather than by value</a>. Notice the ampersand (&amp;) I add in the function signature. Your code was passing by value, so it was making a copy of the input string, rather than altering it in place. In your quicksort() function, you wrote the code expecting that A will be altered by the function.</p>\n\n<p>I cleaned up your code a bit here with the intent of making it clearer and look more like the pseudocode...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nvoid exchange(char&amp; a, char&amp; b)\n{\n    char value_of_a = a;\n    char value_of_b = b;\n\n    a = value_of_b;\n    b = value_of_a;\n};\n\nint partition(string&amp; A, int p, int r)\n{\n    char x = A[r];\n    int i = p-1;\n\n    for (int j=p; j&lt;=(r-1); ++j)\n    {\n        if (A[j] &lt;= x)\n        {\n            i++;\n            exchange(A[i], A[j]);\n        }\n    }\n    exchange(A[i+1], A[r]);\n\n    return i+1;\n};\n\nvoid quicksort(string&amp; A, int p, int r)\n{\n    if (p &lt; r)\n    {\n        int q = partition(A, p, r);\n        quicksort(A, p, q-1);\n        quicksort(A, q+1, r);\n    }\n};\n\nint main()\n{\n    string input = \"gsgkdsdkjs\";\n\n    cout &lt;&lt; \"input string: \" &lt;&lt; input &lt;&lt; endl;\n\n    quicksort(input, 0, input.size());\n\n    cout &lt;&lt; \"sorted string: \" &lt;&lt; input &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>In your partition_str() function you pass in string A by value, which makes a copy of A rather than using the same A you passed in. It then performs some operations and returns an integer. The copy of A is then thrown away and your original A variable was never modified. This means that if you want your variable A to be changed, you must pass by reference.</p>\n\n<p>Also, don't be confused by the function argument naming. Your partition_str() function signature is:</p>\n\n<pre><code>int partition_str(string A, int start, int finish)\n</code></pre>\n\n<p>The fact the 'string A' is defined as an argument does not mean that it is related to any other variable in your code called 'A'. It is merely a way of referring to particular argument that was passed in.</p>\n"}], "owner": {"reputation": 55, "user_id": 7076121, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/522788454597245/picture?type=large", "display_name": "Amanda Zhu", "link": "https://stackoverflow.com/users/7076121/amanda-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 40267678, "answer_count": 1, "score": 2, "last_activity_date": 1477580762, "creation_date": 1477498049, "last_edit_date": 1477502640, "question_id": 40267156, "link": "https://stackoverflow.com/questions/40267156/implementing-quicksort-on-strings", "title": "Implementing quicksort on strings", "body": "<p>I'm trying to implement the quicksort on a string of characters. The output should give me an alphabetical order version of the input, however right now it's just giving me the original input. This was an attempt trying to  translate the pseudo code from <em>Intro to Algorithm 3rd edition</em> on Quicksort. </p>\n\n<p>Any help would be greatly appreciated, thanks!</p>\n\n<p><a href=\"https://i.stack.imgur.com/LjjFn.jpg\" rel=\"nofollow\">Here's the pseudo code of quicksort from the book</a></p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\n\nint partition_str(string A, int start, int finish){\n    char x = A[finish], temp;\n    int i = start - 1;\n    for (int j = start; j &lt;= finish -1; j++){\n    if (A[j] &lt;= x){\n        i ++;\n        temp = A[i]; A[i] = A[j]; A[j] = temp;\n    }\n    temp = A[i+1]; A[i+1] = A[finish]; A[finish] = temp;\n    return i+1;\n    }\n   }\n\n string quicksort_char(string A, int start, int finish)\n{\nif (start &lt; finish)\n{\n    start = partition_str(A, start, finish);\n    quicksort_char(A, start, finish -1);\n    quicksort_char(A, start+1, finish);\n}\nreturn A;\n}\n\nint main(){\n    string test = \"gsgkdsdkjs\";\n    string result = quicksort_char(test, 0, 10);\n    cout &lt;&lt; result &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "sparse-matrix", "eigen"], "comments": [{"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1477501317, "post_id": 40267155, "comment_id": 67796447, "body": "Can you tell how it crashes? Do you have assertions enabled (i.e., did not compile with <code>-DNDEBUG</code>)? And please try a more recent version of Eigen! (current stable version is 3.2.10)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7075689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283ee3177103ab34b9529a024b72a0f5?s=128&d=identicon&r=PG&f=1", "display_name": "cvt", "link": "https://stackoverflow.com/users/7075689/cvt"}, "edited": false, "score": 0, "creation_date": 1477555025, "post_id": 40273015, "comment_id": 67817015, "body": "Thanks, for helping and trying that out - I was afraid that it boils down to a bug. I just tried 3.3rc1 and it worked for me, too."}], "tags": [], "owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "is_accepted": true, "score": 0, "last_activity_date": 1477520248, "creation_date": 1477520248, "answer_id": 40273015, "question_id": 40267155, "link": "https://stackoverflow.com/questions/40267155/multiplying-sparse-sub-matrices-in-eigen/40273015#40273015", "title": "Multiplying sparse sub-matrices in Eigen", "body": "<p>I checked out the 3.2.1 version of Eigen and this appears to be related to this Eigen bug:\n<a href=\"http://eigen.tuxfamily.org/bz/show_bug.cgi?id=875\" rel=\"nofollow\">http://eigen.tuxfamily.org/bz/show_bug.cgi?id=875</a></p>\n\n<p>What happens is that a function (named <code>SparseMatrixBase::nonZeros()</code>) internally is called recursively \nUnfortunately, this was not properly fixed in the 3.2 branch (with version 3.2.10 your example does not compile). It does work with the latest 3.3 version of Eigen, however (3.3rc1 at the moment) -- which answers your question: Yes, upgrade to Eigen 3.3rc1 (or newer)</p>\n"}], "owner": {"reputation": 13, "user_id": 7075689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/283ee3177103ab34b9529a024b72a0f5?s=128&d=identicon&r=PG&f=1", "display_name": "cvt", "link": "https://stackoverflow.com/users/7075689/cvt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 40273015, "answer_count": 1, "score": 1, "last_activity_date": 1477520248, "creation_date": 1477498045, "question_id": 40267155, "link": "https://stackoverflow.com/questions/40267155/multiplying-sparse-sub-matrices-in-eigen", "title": "Multiplying sparse sub-matrices in Eigen", "body": "<p>I am trying to multiply sub-matrices such as blocks, columns, and rows of Eigen::SparseMatrix. However, whenever multiple sub-matrices are involved my program crashes (and gdb with it). I am working with Eigen 3.2.1.</p>\n\n<p>Here an example:</p>\n\n<pre><code>const unsigned m = 3, d = 1;\nSparseMatrix&lt;double&gt; H(3*m,3*m);\nH.setIdentity();\nSparseMatrix&lt;double&gt; G(m,d);\nG.coeffRef(0,0) = 1;\n\n// this works\nSparseMatrix&lt;double&gt; H_00 = H.block(0,0,m,m);\ndouble val = SparseMatrix&lt;double&gt;(G.col(0).transpose() * H_00 * G.col(0)).coeffRef(0,0);\n\n// this crashes\nval = SparseMatrix&lt;double&gt;(G.col(0).transpose() * H.block(0,0,m,m) * G.col(0)).coeffRef(0,0);\n</code></pre>\n\n<p>Is there a way of avoiding the costly (<code>m</code> and <code>d</code> >> 1000) construction of H_00?</p>\n"}, {"tags": ["c++", "ssl", "https", "tls1.2"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477497886, "post_id": 40267029, "comment_id": 67794469, "body": "All of them I guess? Have you looked at any specific libraries documentation and found it lacking?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1477505255, "post_id": 40267029, "comment_id": 67798559, "body": "HTTP and SSL are two separate things. HTTPS is just HTTP over SSL. <i>Any</i> socket library can be used to create an HTTP client, and <i>any</i> SSL library can be used to encrypt that HTTP traffic.  What you should do is use a library that already merges the two for you, such as libCURL, asio, etc."}, {"owner": {"reputation": 168, "user_id": 907824, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001067515908/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/907824/alex"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1477508690, "post_id": 40267029, "comment_id": 67800516, "body": "@RemyLebeau, thank you for your comment. Can you provide a list of libraries that can be used except?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1477511956, "post_id": 40267029, "comment_id": 67802211, "body": "@Alex: that is not what StackOverflow is meant for.  Per <a href=\"http://stackoverflow.com/help/on-topic\">What topics can I ask about here?</a>: &quot;<b><i>Questions asking us to recommend or find a ... software library ... are off-topic for Stack Overflow</b> as they tend to attract opinionated answers and spam. Instead, describe the problem and what has been done so far to solve it.</i>&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 3142, "user_id": 5348281, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0liGa.jpg?s=128&g=1", "display_name": "Mykola", "link": "https://stackoverflow.com/users/5348281/mykola"}, "is_accepted": true, "score": 3, "last_activity_date": 1477508516, "creation_date": 1477508516, "answer_id": 40270207, "question_id": 40267029, "link": "https://stackoverflow.com/questions/40267029/example-of-https-client-for-c-application/40270207#40270207", "title": "Example of HTTPS client for C++ application", "body": "<p>Simple client code using <a href=\"https://tls.mbed.org/\" rel=\"nofollow\">mbedTLS</a> library. I have worked with this library, it is relatively simple and with small memory footprint and of course  use Apache-2.0 license:</p>\n\n<pre><code>/*\n *  SSL client demonstration program\n *\n *  Copyright (C) 2006-2015, ARM Limited, All Rights Reserved\n *  SPDX-License-Identifier: Apache-2.0\n *\n *  Licensed under the Apache License, Version 2.0 (the \"License\"); you may\n *  not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n *  WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n *\n *  This file is part of mbed TLS (https://tls.mbed.org)\n */\n\n#if !defined(MBEDTLS_CONFIG_FILE)\n#include \"mbedtls/config.h\"\n#else\n#include MBEDTLS_CONFIG_FILE\n#endif\n\n#if defined(MBEDTLS_PLATFORM_C)\n#include \"mbedtls/platform.h\"\n#else\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#define mbedtls_time       time \n#define mbedtls_time_t     time_t\n#define mbedtls_fprintf    fprintf\n#define mbedtls_printf     printf\n#endif\n\n#if !defined(MBEDTLS_BIGNUM_C) || !defined(MBEDTLS_ENTROPY_C) ||  \\\n    !defined(MBEDTLS_SSL_TLS_C) || !defined(MBEDTLS_SSL_CLI_C) || \\\n    !defined(MBEDTLS_NET_C) || !defined(MBEDTLS_RSA_C) ||         \\\n    !defined(MBEDTLS_CERTS_C) || !defined(MBEDTLS_PEM_PARSE_C) || \\\n    !defined(MBEDTLS_CTR_DRBG_C) || !defined(MBEDTLS_X509_CRT_PARSE_C)\nint main( void )\n{\n    mbedtls_printf(\"MBEDTLS_BIGNUM_C and/or MBEDTLS_ENTROPY_C and/or \"\n           \"MBEDTLS_SSL_TLS_C and/or MBEDTLS_SSL_CLI_C and/or \"\n           \"MBEDTLS_NET_C and/or MBEDTLS_RSA_C and/or \"\n           \"MBEDTLS_CTR_DRBG_C and/or MBEDTLS_X509_CRT_PARSE_C \"\n           \"not defined.\\n\");\n    return( 0 );\n}\n#else\n\n#include \"mbedtls/net_sockets.h\"\n#include \"mbedtls/debug.h\"\n#include \"mbedtls/ssl.h\"\n#include \"mbedtls/entropy.h\"\n#include \"mbedtls/ctr_drbg.h\"\n#include \"mbedtls/error.h\"\n#include \"mbedtls/certs.h\"\n\n#include &lt;string.h&gt;\n\n#define SERVER_PORT \"4433\"\n#define SERVER_NAME \"localhost\"\n#define GET_REQUEST \"GET / HTTP/1.0\\r\\n\\r\\n\"\n\n#define DEBUG_LEVEL 1\n\nstatic void my_debug( void *ctx, int level,\n                      const char *file, int line,\n                      const char *str )\n{\n    ((void) level);\n\n    mbedtls_fprintf( (FILE *) ctx, \"%s:%04d: %s\", file, line, str );\n    fflush(  (FILE *) ctx  );\n}\n\nint main( void )\n{\n    int ret, len;\n    mbedtls_net_context server_fd;\n    uint32_t flags;\n    unsigned char buf[1024];\n    const char *pers = \"ssl_client1\";\n\n    mbedtls_entropy_context entropy;\n    mbedtls_ctr_drbg_context ctr_drbg;\n    mbedtls_ssl_context ssl;\n    mbedtls_ssl_config conf;\n    mbedtls_x509_crt cacert;\n\n#if defined(MBEDTLS_DEBUG_C)\n    mbedtls_debug_set_threshold( DEBUG_LEVEL );\n#endif\n\n    /*\n     * 0. Initialize the RNG and the session data\n     */\n    mbedtls_net_init( &amp;server_fd );\n    mbedtls_ssl_init( &amp;ssl );\n    mbedtls_ssl_config_init( &amp;conf );\n    mbedtls_x509_crt_init( &amp;cacert );\n    mbedtls_ctr_drbg_init( &amp;ctr_drbg );\n\n    mbedtls_printf( \"\\n  . Seeding the random number generator...\" );\n    fflush( stdout );\n\n    mbedtls_entropy_init( &amp;entropy );\n    if( ( ret = mbedtls_ctr_drbg_seed( &amp;ctr_drbg, mbedtls_entropy_func, &amp;entropy,\n                               (const unsigned char *) pers,\n                               strlen( pers ) ) ) != 0 )\n    {\n        mbedtls_printf( \" failed\\n  ! mbedtls_ctr_drbg_seed returned %d\\n\", ret );\n        goto exit;\n    }\n\n    mbedtls_printf( \" ok\\n\" );\n\n    /*\n     * 0. Initialize certificates\n     */\n    mbedtls_printf( \"  . Loading the CA root certificate ...\" );\n    fflush( stdout );\n\n    ret = mbedtls_x509_crt_parse( &amp;cacert, (const unsigned char *) mbedtls_test_cas_pem,\n                          mbedtls_test_cas_pem_len );\n    if( ret &lt; 0 )\n    {\n        mbedtls_printf( \" failed\\n  !  mbedtls_x509_crt_parse returned -0x%x\\n\\n\", -ret );\n        goto exit;\n    }\n\n    mbedtls_printf( \" ok (%d skipped)\\n\", ret );\n\n    /*\n     * 1. Start the connection\n     */\n    mbedtls_printf( \"  . Connecting to tcp/%s/%s...\", SERVER_NAME, SERVER_PORT );\n    fflush( stdout );\n\n    if( ( ret = mbedtls_net_connect( &amp;server_fd, SERVER_NAME,\n                                         SERVER_PORT, MBEDTLS_NET_PROTO_TCP ) ) != 0 )\n    {\n        mbedtls_printf( \" failed\\n  ! mbedtls_net_connect returned %d\\n\\n\", ret );\n        goto exit;\n    }\n\n    mbedtls_printf( \" ok\\n\" );\n\n    /*\n     * 2. Setup stuff\n     */\n    mbedtls_printf( \"  . Setting up the SSL/TLS structure...\" );\n    fflush( stdout );\n\n    if( ( ret = mbedtls_ssl_config_defaults( &amp;conf,\n                    MBEDTLS_SSL_IS_CLIENT,\n                    MBEDTLS_SSL_TRANSPORT_STREAM,\n                    MBEDTLS_SSL_PRESET_DEFAULT ) ) != 0 )\n    {\n        mbedtls_printf( \" failed\\n  ! mbedtls_ssl_config_defaults returned %d\\n\\n\", ret );\n        goto exit;\n    }\n\n    mbedtls_printf( \" ok\\n\" );\n\n    /* OPTIONAL is not optimal for security,\n     * but makes interop easier in this simplified example */\n    mbedtls_ssl_conf_authmode( &amp;conf, MBEDTLS_SSL_VERIFY_OPTIONAL );\n    mbedtls_ssl_conf_ca_chain( &amp;conf, &amp;cacert, NULL );\n    mbedtls_ssl_conf_rng( &amp;conf, mbedtls_ctr_drbg_random, &amp;ctr_drbg );\n    mbedtls_ssl_conf_dbg( &amp;conf, my_debug, stdout );\n\n    if( ( ret = mbedtls_ssl_setup( &amp;ssl, &amp;conf ) ) != 0 )\n    {\n        mbedtls_printf( \" failed\\n  ! mbedtls_ssl_setup returned %d\\n\\n\", ret );\n        goto exit;\n    }\n\n    if( ( ret = mbedtls_ssl_set_hostname( &amp;ssl, \"mbed TLS Server 1\" ) ) != 0 )\n    {\n        mbedtls_printf( \" failed\\n  ! mbedtls_ssl_set_hostname returned %d\\n\\n\", ret );\n        goto exit;\n    }\n\n    mbedtls_ssl_set_bio( &amp;ssl, &amp;server_fd, mbedtls_net_send, mbedtls_net_recv, NULL );\n\n    /*\n     * 4. Handshake\n     */\n    mbedtls_printf( \"  . Performing the SSL/TLS handshake...\" );\n    fflush( stdout );\n\n    while( ( ret = mbedtls_ssl_handshake( &amp;ssl ) ) != 0 )\n    {\n        if( ret != MBEDTLS_ERR_SSL_WANT_READ &amp;&amp; ret != MBEDTLS_ERR_SSL_WANT_WRITE )\n        {\n            mbedtls_printf( \" failed\\n  ! mbedtls_ssl_handshake returned -0x%x\\n\\n\", -ret );\n            goto exit;\n        }\n    }\n\n    mbedtls_printf( \" ok\\n\" );\n\n    /*\n     * 5. Verify the server certificate\n     */\n    mbedtls_printf( \"  . Verifying peer X.509 certificate...\" );\n\n    /* In real life, we probably want to bail out when ret != 0 */\n    if( ( flags = mbedtls_ssl_get_verify_result( &amp;ssl ) ) != 0 )\n    {\n        char vrfy_buf[512];\n\n        mbedtls_printf( \" failed\\n\" );\n\n        mbedtls_x509_crt_verify_info( vrfy_buf, sizeof( vrfy_buf ), \"  ! \", flags );\n\n        mbedtls_printf( \"%s\\n\", vrfy_buf );\n    }\n    else\n        mbedtls_printf( \" ok\\n\" );\n\n    /*\n     * 3. Write the GET request\n     */\n    mbedtls_printf( \"  &gt; Write to server:\" );\n    fflush( stdout );\n\n    len = sprintf( (char *) buf, GET_REQUEST );\n\n    while( ( ret = mbedtls_ssl_write( &amp;ssl, buf, len ) ) &lt;= 0 )\n    {\n        if( ret != MBEDTLS_ERR_SSL_WANT_READ &amp;&amp; ret != MBEDTLS_ERR_SSL_WANT_WRITE )\n        {\n            mbedtls_printf( \" failed\\n  ! mbedtls_ssl_write returned %d\\n\\n\", ret );\n            goto exit;\n        }\n    }\n\n    len = ret;\n    mbedtls_printf( \" %d bytes written\\n\\n%s\", len, (char *) buf );\n\n    /*\n     * 7. Read the HTTP response\n     */\n    mbedtls_printf( \"  &lt; Read from server:\" );\n    fflush( stdout );\n\n    do\n    {\n        len = sizeof( buf ) - 1;\n        memset( buf, 0, sizeof( buf ) );\n        ret = mbedtls_ssl_read( &amp;ssl, buf, len );\n\n        if( ret == MBEDTLS_ERR_SSL_WANT_READ || ret == MBEDTLS_ERR_SSL_WANT_WRITE )\n            continue;\n\n        if( ret == MBEDTLS_ERR_SSL_PEER_CLOSE_NOTIFY )\n            break;\n\n        if( ret &lt; 0 )\n        {\n            mbedtls_printf( \"failed\\n  ! mbedtls_ssl_read returned %d\\n\\n\", ret );\n            break;\n        }\n\n        if( ret == 0 )\n        {\n            mbedtls_printf( \"\\n\\nEOF\\n\\n\" );\n            break;\n        }\n\n        len = ret;\n        mbedtls_printf( \" %d bytes read\\n\\n%s\", len, (char *) buf );\n    }\n    while( 1 );\n\n    mbedtls_ssl_close_notify( &amp;ssl );\n\nexit:\n\n#ifdef MBEDTLS_ERROR_C\n    if( ret != 0 )\n    {\n        char error_buf[100];\n        mbedtls_strerror( ret, error_buf, 100 );\n        mbedtls_printf(\"Last error was: %d - %s\\n\\n\", ret, error_buf );\n    }\n#endif\n\n    mbedtls_net_free( &amp;server_fd );\n\n    mbedtls_x509_crt_free( &amp;cacert );\n    mbedtls_ssl_free( &amp;ssl );\n    mbedtls_ssl_config_free( &amp;conf );\n    mbedtls_ctr_drbg_free( &amp;ctr_drbg );\n    mbedtls_entropy_free( &amp;entropy );\n\n#if defined(_WIN32)\n    mbedtls_printf( \"  + Press Enter to exit this program.\\n\" );\n    fflush( stdout ); getchar();\n#endif\n\n    return( ret );\n}\n#endif /* MBEDTLS_BIGNUM_C &amp;&amp; MBEDTLS_ENTROPY_C &amp;&amp; MBEDTLS_SSL_TLS_C &amp;&amp;\n          MBEDTLS_SSL_CLI_C &amp;&amp; MBEDTLS_NET_C &amp;&amp; MBEDTLS_RSA_C &amp;&amp;\n          MBEDTLS_CERTS_C &amp;&amp; MBEDTLS_PEM_PARSE_C &amp;&amp; MBEDTLS_CTR_DRBG_C &amp;&amp;\n          MBEDTLS_X509_CRT_PARSE_C */\n</code></pre>\n"}], "owner": {"reputation": 168, "user_id": 907824, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100001067515908/picture?type=large", "display_name": "Alex", "link": "https://stackoverflow.com/users/907824/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7594, "favorite_count": 0, "accepted_answer_id": 40270207, "answer_count": 1, "score": 0, "last_activity_date": 1545825635, "creation_date": 1477497662, "question_id": 40267029, "link": "https://stackoverflow.com/questions/40267029/example-of-https-client-for-c-application", "title": "Example of HTTPS client for C++ application", "body": "<p>There are several open source libraries available that provide SSL implementation for C++.\nIs there any example that demonstrates how to create HTTPS client in C++?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3986, "user_id": 135237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39fd944926ba18b00705b66f8e96e188?s=128&d=identicon&r=PG", "display_name": "Mikhail Churbanov", "link": "https://stackoverflow.com/users/135237/mikhail-churbanov"}, "edited": false, "score": 0, "creation_date": 1477498006, "post_id": 40266958, "comment_id": 67794551, "body": "I didn&#39;t get the root of your question clearly, if you say &quot;I want children of Base to always have field1&quot; why not just move field1 to Base class then?"}, {"owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "reply_to_user": {"reputation": 3986, "user_id": 135237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39fd944926ba18b00705b66f8e96e188?s=128&d=identicon&r=PG", "display_name": "Mikhail Churbanov", "link": "https://stackoverflow.com/users/135237/mikhail-churbanov"}, "edited": false, "score": 0, "creation_date": 1477498340, "post_id": 40266958, "comment_id": 67794741, "body": "changed the question. I was trying to abstract the question into a simple example but obviously i failed."}, {"owner": {"reputation": 3986, "user_id": 135237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39fd944926ba18b00705b66f8e96e188?s=128&d=identicon&r=PG", "display_name": "Mikhail Churbanov", "link": "https://stackoverflow.com/users/135237/mikhail-churbanov"}, "edited": false, "score": 0, "creation_date": 1477498780, "post_id": 40266958, "comment_id": 67794996, "body": "You can mark default constructor of Base private, thus the Child constructor will be forced to call the one you have with a string as parameter or get an error &quot;no appropriate default constructor available (C2512)&quot;"}, {"owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "reply_to_user": {"reputation": 3986, "user_id": 135237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39fd944926ba18b00705b66f8e96e188?s=128&d=identicon&r=PG", "display_name": "Mikhail Churbanov", "link": "https://stackoverflow.com/users/135237/mikhail-churbanov"}, "edited": false, "score": 0, "creation_date": 1477499069, "post_id": 40266958, "comment_id": 67795167, "body": "To get from a string to an instance of <code>Child</code> would be different for every child.I am guessing you are assuming that there is a common way to do that and we can put it in base)"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 2, "creation_date": 1477499168, "post_id": 40266958, "comment_id": 67795229, "body": "You cannot control what interfaces other programmers will provide to <i>their</i> classes."}, {"owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "edited": false, "score": 0, "creation_date": 1477499640, "post_id": 40266958, "comment_id": 67795503, "body": "I cant. I only want to control instantiation"}, {"owner": {"reputation": 3986, "user_id": 135237, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39fd944926ba18b00705b66f8e96e188?s=128&d=identicon&r=PG", "display_name": "Mikhail Churbanov", "link": "https://stackoverflow.com/users/135237/mikhail-churbanov"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1477499690, "post_id": 40266958, "comment_id": 67795529, "body": "Generally @n.m. is right. Even if there will be a way to force the string in child constructor, how you will force the usage of this string in it then (I&#39;ll create the string param, but will not use it, just in spite)? That&#39;s why I initially said &quot;I didn&#39;t get the root of your question clearly&quot;"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1477500829, "post_id": 40266958, "comment_id": 67796198, "body": "Inheritance goes quite smoothly with class factory. Use a register class method to allow new inherited classes to be instantiated by the factory."}], "answers": [{"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1477500539, "creation_date": 1477500539, "answer_id": 40267951, "question_id": 40266958, "link": "https://stackoverflow.com/questions/40266958/how-to-enforce-private-constructors-in-children-of-a-base-class/40267951#40267951", "title": "How to enforce private constructors in children of a base class", "body": "<p>You can disallow creation of derived classes, not by forcing their constructors to be private, but by forcing them to be abstract. Here's a working example:</p>\n\n<pre><code>class A\n{\n    private:\n        struct secret{};\n        virtual void impossible(secret) = 0; // cannot override this in subclasses\n                                             // because the parameter type is private\n\n        template &lt;class X&gt; class AImpl : public X\n        {\n            void impossible(secret) {}; // a nested class can access private members\n        };\n\n        template&lt;class X&gt; friend X * AFactory();\n\n    public:\n        virtual ~A() {}\n};\n\nclass B : public A\n{\n    // void impossible(A::secret) {}; -- can't do that, A::secret is private!\n};\n\ntemplate &lt;class X&gt;\nX * AFactory()\n{\n    return new A::AImpl&lt;X&gt;;\n};\n\nint main ()\n{\n    // B b; -- can't do that, B is abstract!\n    B* pB = AFactory&lt;B&gt;(); // Ok\n}\n</code></pre>\n"}], "owner": {"reputation": 697, "user_id": 1076215, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/98a5958a3dd0f2b299d9d409ea8929b3?s=128&d=identicon&r=PG", "display_name": "Captain Jack sparrow", "link": "https://stackoverflow.com/users/1076215/captain-jack-sparrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477500539, "creation_date": 1477497485, "last_edit_date": 1477499092, "question_id": 40266958, "link": "https://stackoverflow.com/questions/40266958/how-to-enforce-private-constructors-in-children-of-a-base-class", "title": "How to enforce private constructors in children of a base class", "body": "<p>I want to force children of a base class to have private constructors. Then I want those constructors to be called through a friend class which is the factory class. This is my usage pattern:</p>\n\n<p>I have a class Base:</p>\n\n<pre><code>class Base:\n    virtual double method1();\n</code></pre>\n\n<p>I want <code>Child</code> to inherit Base:</p>\n\n<pre><code>class Child::Base :\n  public:\n    Child(string s) {\n       //do something\n    }\n\n    double method1() {\n          return field1;\n    }\n\n  private:\n     double field1;\n}\n</code></pre>\n\n<p>Children of <code>Base</code> would be created by parsing a <code>string</code>. So I could have a constructor of <code>Base</code> that takes a <code>string</code>. But I can't make constructors virtual and therefore not enforce parameters.</p>\n\n<p>So in order to ensure that children of <code>Base</code> can only be created from an input <code>string</code>, I want children of <code>Base</code> to be instantiated from a factory class. My problem is that nothing prevents someone from instantiating <code>Child</code> separately. Therefore, I want to enforce constructors of children of <code>Base</code> to be private and then have the factory class as a friend class.</p>\n\n<p>Any ideas? Even comments on this design are welcome.</p>\n\n<p>PS: To get from a string to an instance of <code>Child</code> would be different for every child.</p>\n"}, {"tags": ["c++", "recursion", "boost", "directory"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1477497653, "post_id": 40266946, "comment_id": 67794300, "body": "Hints: 1) Keep the path as a <code>std::string</code>. 2) Use <code>std::stack&lt;std::string&gt;</code> to help traverse the file system."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1477497705, "post_id": 40266946, "comment_id": 67794347, "body": "BTW, if you are not using Boost, you will need platform specific API to access the filesystem."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1477498002, "post_id": 40266946, "comment_id": 67794549, "body": "Boost, platform API, or C libraries are the ways to do this."}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1477498010, "post_id": 40266946, "comment_id": 67794553, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/67273/how-do-you-iterate-through-every-file-directory-recursively-in-standard-c\">How do you iterate through every file/directory recursively in standard C++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4122, "user_id": 3951525, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hix21.jpg?s=128&g=1", "display_name": "Starl1ght", "link": "https://stackoverflow.com/users/3951525/starl1ght"}, "is_accepted": true, "score": 4, "last_activity_date": 1477497690, "creation_date": 1477497690, "answer_id": 40267035, "question_id": 40266946, "link": "https://stackoverflow.com/questions/40266946/recursive-folder-read-c/40267035#40267035", "title": "Recursive folder read C++", "body": "<p>Unfortunately, best available thing is <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/filesystem/doc/reference.html#Class-recursive_directory_iterator\" rel=\"nofollow\">boost::filesystem::recursive_directory_iterator</a> or, in case of fresh compiler - <a href=\"http://en.cppreference.com/w/cpp/experimental/fs/recursive_directory_iterator\" rel=\"nofollow\">std::experimental::filesystem::recursive_directory_iterator</a></p>\n\n<p>Examples are available in links provided</p>\n"}, {"comments": [{"owner": {"reputation": 163, "user_id": 6437223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84459599b62f75aceb74fdb67bbdd846?s=128&d=identicon&r=PG&f=1", "display_name": "labmat", "link": "https://stackoverflow.com/users/6437223/labmat"}, "edited": false, "score": 0, "creation_date": 1477499099, "post_id": 40267336, "comment_id": 67795179, "body": "You are right, I do know of boost::filesystem. I just wanted a C++ alternative before I gave in to Boost. Thanks!"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1477501466, "post_id": 40267336, "comment_id": 67796518, "body": "In VC++ you can use CFileFind for recursive file search"}], "tags": [], "owner": {"reputation": 530, "user_id": 2793551, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/a73981082fd79398252211805c9146e6?s=128&d=identicon&r=PG&f=1", "display_name": "WaltK", "link": "https://stackoverflow.com/users/2793551/waltk"}, "is_accepted": false, "score": 0, "last_activity_date": 1477498661, "creation_date": 1477498661, "answer_id": 40267336, "question_id": 40266946, "link": "https://stackoverflow.com/questions/40266946/recursive-folder-read-c/40267336#40267336", "title": "Recursive folder read C++", "body": "<p>I assume, from your mention of Boost, that you are aware of boost::filesystem, but are looking for an alternative.  I'm not aware of any that are portable.  A portable file system library is planned for the C++17 Standard Library, but it is based on boost::filesystem.  On POSIX-compliant OSes, you could perhaps use the API functions declared in the dirent.h POSIX (straight C) header.</p>\n"}], "owner": {"reputation": 163, "user_id": 6437223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84459599b62f75aceb74fdb67bbdd846?s=128&d=identicon&r=PG&f=1", "display_name": "labmat", "link": "https://stackoverflow.com/users/6437223/labmat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 40267035, "answer_count": 2, "score": 1, "last_activity_date": 1525958644, "creation_date": 1477497454, "question_id": 40266946, "link": "https://stackoverflow.com/questions/40266946/recursive-folder-read-c", "title": "Recursive folder read C++", "body": "<p>I have about 6000 .txt files to read. \nThere are many folders, each containing many sub-folders, which again contain many sub-folders and at the end of every sub-folder there is a text file.\nthe text file contains few numbers which I have to read.\nMy issue is recursively going through the folders and sub-folders.</p>\n\n<p>I am able to do this in Python, but not in C++.</p>\n\n<p>Can someone help me with C++ (preferably without Boost) </p>\n"}, {"tags": ["c++", "templates"], "answers": [{"tags": [], "owner": {"reputation": 524, "user_id": 2063166, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27cf62bfa9f0b2941bece69404a4546c?s=128&d=identicon&r=PG", "display_name": "alexc", "link": "https://stackoverflow.com/users/2063166/alexc"}, "is_accepted": true, "score": 2, "last_activity_date": 1477500950, "last_edit_date": 1477500950, "creation_date": 1477500131, "answer_id": 40267830, "question_id": 40266925, "link": "https://stackoverflow.com/questions/40266925/how-to-fix-this-class-template/40267830#40267830", "title": "How to fix this class template", "body": "<p>You should use templates and template specialization, not <code>typeid</code>\u2014in C++ you want to use compile-time abstractions rather than making runtime decisions about the type of a variable or a value.</p>\n\n<p>You can have the following freestanding helper functions:</p>\n\n<pre><code>// General case:\ntemplate &lt;typename T&gt;\nvoid get_number(const T&amp; value)\n{\n    std::cout &lt;&lt; value &lt;&lt; std::endl;\n}\n\n// Specialization for complex&lt;double&gt;\ntemplate &lt;&gt;\nvoid get_number&lt;std::complex&lt;double&gt; &gt;(const std::complex&lt;double&gt;&amp; value)\n{\n    std::cout &lt;&lt; value.real() &lt;&lt; \" \" &lt;&lt; value.imag() &lt;&lt; std::endl;\n}\n\n// ... More specializations if you need to.\n</code></pre>\n\n<p>Now you can call:</p>\n\n<pre><code>get_number(3);\nget_number(std::complex&lt;double&gt;(1, 2));\n</code></pre>\n\n<p>To make it more generic, you can use <code>std::complex&lt;T&gt;</code> instead of <code>std::complex&lt;double&gt;</code>. That needs a little more work because function template partial specialization is not supported. You need to make get_number a static member of a helper struct as follows:</p>\n\n<pre><code>// General case:\ntemplate &lt;typename T&gt;\nstruct get_number_helper {\n    static void get(const T&amp; value)\n    {\n        std::cout &lt;&lt; value &lt;&lt; std::endl;\n    }\n };\n\n// Specialization for complex&lt;T&gt;\ntemplate &lt;typename T&gt;\nstruct get_number_helper&lt;std::complex&lt;T&gt; &gt; {\n    static void get(const std::complex&lt;T&gt;&amp; value)\n    {\n        std::cout &lt;&lt; value.real() &lt;&lt; \" \" &lt;&lt; value.imag() &lt;&lt; std::endl;\n    }\n};\n\ntemplate&lt;typename T&gt;\nvoid get_number(const T&amp; value)\n{\n    get_number_helper&lt;T&gt;::get(value);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "is_accepted": false, "score": 2, "last_activity_date": 1477502115, "creation_date": 1477502115, "answer_id": 40268375, "question_id": 40266925, "link": "https://stackoverflow.com/questions/40266925/how-to-fix-this-class-template/40268375#40268375", "title": "How to fix this class template", "body": "<p>As alexc already mentioned you should use template specifications to prevent the compiler to <em>see</em> the <code>std::complex&lt;&gt;::real</code> or <code>imag</code> member when you use <code>int</code> or <code>double</code> as data type.</p>\n\n<p><strong>Member</strong> template specifications are closer to what you already have:</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;complex&gt;\n\ntemplate&lt;typename NumberType&gt;\nclass SomeClass\n{\npublic:\n    SomeClass(NumberType a_) : a(a_) {}\n    void get_number() {\n        std::cout &lt;&lt; a &lt;&lt; std::endl;\n    }\n\nprivate:\n    NumberType a;\n};\n\ntemplate&lt;&gt;\nvoid SomeClass&lt;std::complex&lt;double&gt; &gt;::get_number() {\n    std::cout &lt;&lt; a.real() &lt;&lt; \" \" &lt;&lt; a.imag() &lt;&lt; std::endl;\n}\n\nint main()\n{\n    int a=1;\n    std::complex&lt;double&gt; c(2.0,3);\n\n    SomeClass&lt;int&gt; A(a);    \n    A.get_number();\n\n    SomeClass&lt;std::complex&lt;double&gt; &gt; C(c);\n    C.get_number();\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 3994961, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce4e10cda70c30cab925677c70b93f6a?s=128&d=identicon&r=PG&f=1", "display_name": "Pukki", "link": "https://stackoverflow.com/users/3994961/pukki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 40267830, "answer_count": 2, "score": 1, "last_activity_date": 1477502115, "creation_date": 1477497416, "question_id": 40266925, "link": "https://stackoverflow.com/questions/40266925/how-to-fix-this-class-template", "title": "How to fix this class template", "body": "<p>I am trying to write a class, that in the simplest example works as follows:</p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;complex&gt;\n#include &lt;typeinfo&gt;\n\ntemplate&lt;typename NumberType&gt;\nclass SomeClass\n{\n    public:\n        SomeClass(NumberType a_) : a(a_) {}\n        void get_number() \n        {\n            if (typeid(NumberType) == typeid(std::complex&lt;double&gt;))\n                std::cout &lt;&lt; a.real() &lt;&lt; \" \" &lt;&lt; a.imag() &lt;&lt; std::endl;\n            else\n                std::cout &lt;&lt; a &lt;&lt; std::endl;\n        }\n    private:\n        NumberType a;\n};\n\nint main()\n{\n    int a=1;\n    std::complex&lt;double&gt; c(2.0,3);\n\n    SomeClass&lt;int&gt; A(a);    \n    A.get_number();\n\n    SomeClass&lt;std::complex&lt;double&gt;&gt; C(c);\n    C.get_number();\n\n    return 0;\n}\n</code></pre>\n\n<p>It basically prints any real number as it is but it should split the complex number in two two reals.</p>\n\n<p>If I compile it as it is shown, the error message is as follows</p>\n\n<pre><code> In instantiation of 'void SomeClass&lt;NumberType&gt;::get_number() [with NumberType = int]':\n28:18:   required from here\n14:46: error: request for member 'imag' in '((SomeClass&lt;int&gt;*)this)-&gt;SomeClass&lt;int&gt;::a', which is of non-class type 'int'\n14:27: error: request for member 'real' in '((SomeClass&lt;int&gt;*)this)-&gt;SomeClass&lt;int&gt;::a', which is of non-class type 'int'\n</code></pre>\n\n<p>I understand that since <code>a</code> is of type <code>int</code> in the first case, I can not use <code>imag()</code> on it, hence the error message. </p>\n\n<p>How can I modify this class so that it does what I need in case of arbitrary <code>NumberType</code> template arguments?</p>\n"}, {"tags": ["c++", "file-io", "int", "percentage", "fileinputstream"], "comments": [{"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 2, "creation_date": 1477497382, "post_id": 40266883, "comment_id": 67794107, "body": "The divisions are <code>int &#47; int</code>, which will truncate to an <code>int</code>. Cast one of them to a <code>double</code> <i>before</i> the division. For instance, you could write it as <code>(negative*100.0)&#47;count;</code>. That is just one error."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477497397, "post_id": 40266883, "comment_id": 67794118, "body": "These are both integers - negative &amp; count - so you get integer division, which is not what you&#39;re expecting."}, {"owner": {"reputation": 661, "user_id": 5510623, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Yyk7K.png?s=128&g=1", "display_name": "RigidBody", "link": "https://stackoverflow.com/users/5510623/rigidbody"}, "edited": false, "score": 5, "creation_date": 1477497513, "post_id": 40266883, "comment_id": 67794208, "body": "Also, initialize negative, positive and zero to &quot;0&quot; (like yo did with count)  prior to incrementing them.  Compile with -g -Wall and run down everything the compiler is complaining about. Also, look into &quot;namespace pollution&quot; (stop using &quot;using namespace std&quot;)."}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 1, "creation_date": 1477497952, "post_id": 40266883, "comment_id": 67794515, "body": "Also, please reconsider your use of what are often considered bad practices: <a href=\"http://stackoverflow.com/q/1452721/1171191\"><code>using namespace std;</code></a> and <a href=\"http://chris-sharpe.blogspot.co.uk/2016/02/why-you-shouldnt-use-stdendl.html\" rel=\"nofollow noreferrer\"><code>endl</code></a> (those are links to explanations)."}, {"owner": {"reputation": 21, "user_id": 3521038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2385b0c7bf1a22bac149d4efc6be86e?s=128&d=identicon&r=PG&f=1", "display_name": "user3521038", "link": "https://stackoverflow.com/users/3521038/user3521038"}, "edited": false, "score": 1, "creation_date": 1477498536, "post_id": 40266883, "comment_id": 67794860, "body": "I am using <code>namespace std</code> and <code>endl</code> because that is how my professor told me to do so far ( I am attending intro c++ class at the moment). I would love to learn it the other way when time comes."}, {"owner": {"reputation": 21, "user_id": 3521038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2385b0c7bf1a22bac149d4efc6be86e?s=128&d=identicon&r=PG&f=1", "display_name": "user3521038", "link": "https://stackoverflow.com/users/3521038/user3521038"}, "reply_to_user": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 0, "creation_date": 1477498592, "post_id": 40266883, "comment_id": 67794890, "body": "@BoBTFish Thank you. I fixed the percentage to 100.0"}, {"owner": {"reputation": 21, "user_id": 3521038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2385b0c7bf1a22bac149d4efc6be86e?s=128&d=identicon&r=PG&f=1", "display_name": "user3521038", "link": "https://stackoverflow.com/users/3521038/user3521038"}, "reply_to_user": {"reputation": 661, "user_id": 5510623, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Yyk7K.png?s=128&g=1", "display_name": "RigidBody", "link": "https://stackoverflow.com/users/5510623/rigidbody"}, "edited": false, "score": 1, "creation_date": 1477498633, "post_id": 40266883, "comment_id": 67794914, "body": "@Chris I initialized like what you told me but it is still giving me the same value."}, {"owner": {"reputation": 661, "user_id": 5510623, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Yyk7K.png?s=128&g=1", "display_name": "RigidBody", "link": "https://stackoverflow.com/users/5510623/rigidbody"}, "edited": false, "score": 0, "creation_date": 1477501565, "post_id": 40266883, "comment_id": 67796571, "body": "See answer - study it, chock full o good stuff. Good luck!"}], "answers": [{"tags": [], "owner": {"reputation": 661, "user_id": 5510623, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/Yyk7K.png?s=128&g=1", "display_name": "RigidBody", "link": "https://stackoverflow.com/users/5510623/rigidbody"}, "is_accepted": false, "score": 0, "last_activity_date": 1477501448, "creation_date": 1477501448, "answer_id": 40268205, "question_id": 40266883, "link": "https://stackoverflow.com/questions/40266883/reading-int-per-line-and-displaying-percentage/40268205#40268205", "title": "Reading int per line and displaying percentage", "body": "<p>Here is your code with everyone's comments put together for you to study.</p>\n\n<pre><code>// Compile with \"g++ yourCPPfile.cpp -o yourExecName -g -Wall\"\n#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;fstream&gt;\nusing std::ifstream;\n#include &lt;cstdio&gt;\nusing std::cout;\n\nint main() {\n    ifstream inputFile;\n    int count, value, negative, positive, zero;\n    count = negative = positive = zero = 0;\n    double negPerc, posPerc, zeroPerc;\n\n    inputFile.open(\"input.txt\");\n\n    if (!inputFile.fail()) {\n        while (inputFile &gt;&gt; value) {\n            count++;\n            if (value &lt; 0)\n                negative++;\n            if (value == 0)\n                zero++;\n            if (value &gt; 0)\n                positive++;\n        }\n    }\n    else {\n        cout &lt;&lt; \"\\nError, unable to open \" &lt;&lt; inputFile &lt;&lt; \"!\\n\";\n    }\n\n    // Stays this way until you setPrecision() to something else.\n    cout &lt;&lt; std::setprecision(1);\n\n    // Troubleshooting!!\n    cout &lt;&lt; negative &lt;&lt; \"\\n\";\n    cout &lt;&lt; positive &lt;&lt; \"\\n\";\n    cout &lt;&lt; zero &lt;&lt; \"\\n\";\n    cout &lt;&lt; count &lt;&lt; \"\\n\";\n\n    // Calculations.\n    negPerc = (negative * 100.0 / count);\n    posPerc = (positive * 100.0 / count);\n    zeroPerc = (zero * 100.0 / count);\n\n    // Your desired result...\n    cout &lt;&lt; \"There were \" &lt;&lt; std::fixed &lt;&lt; negPerc &lt;&lt; \"% negative numbers.\" &lt;&lt; \"\\n\";\n    cout &lt;&lt; \"There were \" &lt;&lt; std::fixed &lt;&lt; zeroPerc &lt;&lt; \"% numbers equal to zero.\" &lt;&lt; \"\\n\";\n    cout &lt;&lt; \"There were \" &lt;&lt; std::fixed &lt;&lt; posPerc &lt;&lt; \"% numbers greater than zero.\" &lt;&lt; \"\\n\";\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 3521038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2385b0c7bf1a22bac149d4efc6be86e?s=128&d=identicon&r=PG&f=1", "display_name": "user3521038", "link": "https://stackoverflow.com/users/3521038/user3521038"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1477501448, "creation_date": 1477497302, "question_id": 40266883, "link": "https://stackoverflow.com/questions/40266883/reading-int-per-line-and-displaying-percentage", "title": "Reading int per line and displaying percentage", "body": "<p>So, I am currently trying to make a program where it reads a file called \"input.txt\" with integers stored as follows and calculate how many percentage of them are greater than zero, less than zero, and equal to zero.</p>\n\n<pre><code>10\n-4\n0\n34\n42\n-2\n0\n</code></pre>\n\n<p>here's my code:</p>\n\n<p>using namespace std;</p>\n\n<pre><code>ifstream inputFile;\nint count = 0;\nint value,negative,positive,zero;\ndouble negPerc,posPerc,zeroPerc;\n\ninputFile.open(\"input.txt\");\nif ( !inputFile.fail()){\n\n    while (inputFile &gt;&gt; value)\n          {\n            count++;\n\n            if(value &lt; 0)\n                negative++;\n            if(value == 0)\n                zero++;\n            if(value &gt; 0)\n                positive++;\n\n          }\n\n        }\nelse\n {\n    cout &lt;&lt; \"\\nError, unable to open input file \";\n }\n\ncout &lt;&lt; fixed &lt;&lt; setprecision(1);\n\nnegPerc = (negative/count)*100;\nposPerc = (positive/count)*100;\nzeroPerc = (zero/count)*100;\n\n\ncout &lt;&lt; \"There were \" &lt;&lt; negPerc &lt;&lt; \"% negative numbers.\" &lt;&lt; endl;\ncout &lt;&lt; \"There were \" &lt;&lt; zeroPerc &lt;&lt; \"% numbers equal to zero.\" &lt;&lt; endl;\ncout &lt;&lt; \"There were \" &lt;&lt; posPerc &lt;&lt; \"% numbers greater than zero.\" &lt;&lt; endl;\n</code></pre>\n\n<p>and outout:</p>\n\n<pre><code>There were 1864443476.0% negative numbers.\nThere were 204178000.0% numbers equal to zero.\nThere were 0.0% numbers greater than zero.\n</code></pre>\n\n<p>I double checked my code and tried diagnosing why it is this way but I could not find any problems. What am I doing wrong?</p>\n"}, {"tags": ["c++", "templates", "sfinae"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477498148, "post_id": 40266806, "comment_id": 67794627, "body": "VC++ is just\u2026crap. The standard clearly specifies that your function templates have different signatures in both cases."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477498410, "post_id": 40266806, "comment_id": 67794785, "body": "@Columbo Different signatures in the first case?..."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477498781, "post_id": 40266806, "comment_id": 67794998, "body": "@bogdan Are you saying that default arguments are not part of the template parameter list?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477499052, "post_id": 40266806, "comment_id": 67795159, "body": "@bogdan [temp.class.spec]/(8.3), AFAICS, implies that the template parameter list does entail default arguments."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477499409, "post_id": 40266806, "comment_id": 67795356, "body": "@bogdan However, although I think I am right wrt. to that, it also seems that my interpretation of the snippet would just not allow for default argument merging. So the first snippet must be ill-formed. Do you think this is defective?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477500326, "post_id": 40266806, "comment_id": 67795924, "body": "@Columbo Yeah, I was going to say the same thing. Some things in [temp.param] wouldn&#39;t work if default template arguments were part of the signature. As far as I can tell, the standard uses <i>template-parameter-list</i> to designate the grammar production (which includes default arguments) and the non-italic &quot;template parameter list&quot; to denote just the parameters themselves. So, yes, I&#39;d say that [temp.class.spec]/8.3 should use the term for the grammar production - I think this may even be fixed editorially."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477500456, "post_id": 40266806, "comment_id": 67796000, "body": "@bogdan I agree on your interpretation. I think that we can both editorially resolve (8.3) and add a note clarifying the above."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477500838, "post_id": 40266806, "comment_id": 67796205, "body": "@Columbo I think I found another one: <a href=\"http://eel.is/c++draft/temp.deduct#5\" rel=\"nofollow noreferrer\">&#91;temp.deduct&#93;/5</a>: &quot;all uses of template parameters...&quot; - I think that should include default arguments. (Apologies to the OP for somewhat hijacking the comments.)"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477500998, "post_id": 40266806, "comment_id": 67796298, "body": "@Columbo I&#39;m a bit confused, I recall seeing on at least half a dozen occasions, people state that defaulted type template parameters are not part of the signature. The first example also does not compile with clang or gcc either."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1477503574, "post_id": 40266806, "comment_id": 67797632, "body": "@Columbo Or maybe not, since the substitution into default arguments is handled above in the same paragraph - this last part may really only refer to substitution into parameter types. If it didn&#39;t, it would substitute into default arguments that aren&#39;t actually used in that particular case, which would be wrong I suppose."}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1477499174, "creation_date": 1477499174, "answer_id": 40267527, "question_id": 40266806, "link": "https://stackoverflow.com/questions/40266806/template-default-type-vs-default-value/40267527#40267527", "title": "Template default type vs default value", "body": "<blockquote>\n  <p>Here, following the same procedure, I derive:</p>\n</blockquote>\n\n<p>Everything was right until that point. You have your two function templates (ignoring the defaults):</p>\n\n<pre><code>template &lt; typename T, std::enable_if_t&lt; std::is_integral&lt;T&gt;::value&gt;*&gt;\nT foo();\n\ntemplate &lt; typename T, std::enable_if_t&lt; !std::is_integral&lt;T&gt;::value&gt;*&gt;\nT foo();\n</code></pre>\n\n<p>The two non-type template parameters do not have type <code>void*</code>. They have type <code>std::enable_if_t&lt;std::is_integral&lt;T&gt;::value&gt;*</code> and <code>std::enable_if_t&lt;!std::is_integral&lt;T&gt;::value&gt;*</code>, respectively. Those aren't the same type. There doesn't even exist a <code>T</code> for which, after substitution, those are the same type. </p>\n\n<p>The specific rule is in [temp.over.link]:</p>\n\n<blockquote>\n  <p>Two expressions involving template parameters are considered equivalent if two function definitions containing\n  the expressions would satisfy the one-definition rule (3.2), except that the tokens used to name the template\n  parameters may differ as long as a token used to name a template parameter in one expression is replaced by\n  another token that names the same template parameter in the other expression. For determining whether two\n  dependent names (14.6.2) are equivalent, only the name itself is considered, not the result of name lookup in\n  the context of the template.</p>\n  \n  <p>Two function templates are equivalent if they are declared in the same scope, have the same name, have\n  identical template parameter lists, and have return types and parameter lists that are equivalent using the\n  rules described above to compare expressions involving template parameters. Two function templates are\n  functionally equivalent if they are equivalent except that one or more expressions that involve template\n  parameters in the return types and parameter lists are functionally equivalent using the rules described\n  above to compare expressions involving template parameters. If a program contains declarations of function\n  templates that are functionally equivalent but not equivalent, the program is ill-formed; no diagnostic is\n  required.</p>\n</blockquote>\n\n<p>These two functions don't have identical template parameter lists. </p>\n"}], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 1, "accepted_answer_id": 40267527, "answer_count": 1, "score": 4, "last_activity_date": 1477499174, "creation_date": 1477497138, "last_edit_date": 1495541796, "question_id": 40266806, "link": "https://stackoverflow.com/questions/40266806/template-default-type-vs-default-value", "title": "Template default type vs default value", "body": "<p>This question follows a <a href=\"https://stackoverflow.com/q/40250368/1460794\">previous one</a>.</p>\n\n<hr>\n\n<h2>Case 1: Default type</h2>\n\n<p>The following program does not compile and reports <code>error C2995: 'T foo(void)': function template has already been defined</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt; typename T, typename = std::enable_if_t&lt; std::is_integral&lt;T&gt;::value&gt; &gt;\nT foo() { std::cout &lt;&lt; \"integral\" &lt;&lt; std::endl; return T(); }\n\ntemplate &lt; typename T, typename = std::enable_if_t&lt; !std::is_integral&lt;T&gt;::value&gt; &gt;\nT foo() { std::cout &lt;&lt; \"non-integral\" &lt;&lt; std::endl; return T(); }\n\nint main() {\n    foo&lt;int&gt;();\n    foo&lt;float&gt;();\n}\n</code></pre>\n\n<p>Each of the templates are <em>alternately</em> used and ignored (SFINAE), by the two <code>foo</code> instantiations. So I assume the compiler at some point sees:</p>\n\n<pre><code>template &lt; typename T, typename = void &gt;\nT foo() { std::cout &lt;&lt; \"integral\" &lt;&lt; std::endl; return T(); }\n\ntemplate &lt; typename T, typename = void &gt;\nT foo() { std::cout &lt;&lt; \"non-integral\" &lt;&lt; std::endl; return T(); }\n</code></pre>\n\n<p>Both definitions are the same and the error is somewhat understandable. Maybe less understandable is why the compiler hadn't assigned different internal function names by this point.</p>\n\n<hr>\n\n<h2>Case 2: Default value</h2>\n\n<p>Now, the program can be fixed by, rather than using default types, we use default values:</p>\n\n<pre><code>template &lt; typename T, std::enable_if_t&lt; std::is_integral&lt;T&gt;::value&gt;* = nullptr &gt;\nT foo() { std::cout &lt;&lt; \"integral\" &lt;&lt; std::endl; return T(); }\n\ntemplate &lt; typename T, std::enable_if_t&lt; !std::is_integral&lt;T&gt;::value&gt;* = nullptr &gt;\nT foo() { std::cout &lt;&lt; \"non-integral\" &lt;&lt; std::endl; return T(); }\n</code></pre>\n\n<p>Here, following the same procedure, I derive:</p>\n\n<pre><code>template &lt; typename T, void* = nullptr &gt;\nT foo() { std::cout &lt;&lt; \"integral\" &lt;&lt; std::endl; return T(); }\n\ntemplate &lt; typename T, void* = nullptr &gt;\nT foo() { std::cout &lt;&lt; \"non-integral\" &lt;&lt; std::endl; return T(); }\n</code></pre>\n\n<p>Which, had that been the substitution, would have had the same definition and would not have compiled. So clearly the compiler is not doing that, or if it is, it doesn't stop there and ends up with something like:</p>\n\n<pre><code>int foo_int() { std::cout &lt;&lt; \"integral\" &lt;&lt; std::endl; return int(); }\n\nfloat foo_float() { std::cout &lt;&lt; \"non-integral\" &lt;&lt; std::endl; return float(); }\n\nint main() {\n    foo_int();\n    foo_float();\n}\n</code></pre>\n\n<hr>\n\n<p>Why does the compiler manage to get two different functions in the second case, but not the first?</p>\n\n<p>What algorithm does the standard specify for interpreting template default types vs. default values? </p>\n"}, {"tags": ["c++", "c", "loops", "if-statement", "for-loop"], "comments": [{"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477497215, "post_id": 40266789, "comment_id": 67793987, "body": "&lt;=c in your for loop?"}, {"owner": {"reputation": 3430, "user_id": 6069012, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bKlmM.png?s=128&g=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6069012/gavin"}, "edited": false, "score": 0, "creation_date": 1477497288, "post_id": 40266789, "comment_id": 67794039, "body": "Why waste time with <code>a*a</code> when you never change the value of <code>a</code> from <code>1</code>?"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477497319, "post_id": 40266789, "comment_id": 67794064, "body": "You fix this with a <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debugger</a> - step through the code, look at the variables and  you&#39;ll understand how everything is working when you&#39;re done."}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477497387, "post_id": 40266789, "comment_id": 67794111, "body": "Please store things in variables. aSquared = a * a; bSquared = b * b; cSquared = c*c; if(aSquared + bSquared != cSquared), readability would help others too....."}, {"owner": {"reputation": 1233, "user_id": 5366130, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ce3d4bd07d1115070e7727de382560ba?s=128&d=identicon&r=PG&f=1", "display_name": "Omid CompSCI", "link": "https://stackoverflow.com/users/5366130/omid-compsci"}, "edited": false, "score": 0, "creation_date": 1477497429, "post_id": 40266789, "comment_id": 67794137, "body": "And your count is not initialized to 0 so when you do count++ its doing junk ++"}, {"owner": {"reputation": 73, "user_id": 7032678, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/52fcaac4799a81ad29986c949fc24862?s=128&d=identicon&r=PG&f=1", "display_name": "vforbiedronka", "link": "https://stackoverflow.com/users/7032678/vforbiedronka"}, "edited": false, "score": 0, "creation_date": 1477498652, "post_id": 40266789, "comment_id": 67794923, "body": "I have added some corrections and still not functioning properly."}, {"owner": {"reputation": 73, "user_id": 7032678, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/52fcaac4799a81ad29986c949fc24862?s=128&d=identicon&r=PG&f=1", "display_name": "vforbiedronka", "link": "https://stackoverflow.com/users/7032678/vforbiedronka"}, "edited": false, "score": 0, "creation_date": 1477500581, "post_id": 40266789, "comment_id": 67796064, "body": "I was trying to attempt this question with loop while but still does not work."}, {"owner": {"reputation": 73, "user_id": 7032678, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/52fcaac4799a81ad29986c949fc24862?s=128&d=identicon&r=PG&f=1", "display_name": "vforbiedronka", "link": "https://stackoverflow.com/users/7032678/vforbiedronka"}, "edited": false, "score": 0, "creation_date": 1477503061, "post_id": 40266789, "comment_id": 67797353, "body": "How to improve my code?"}, {"owner": {"reputation": 9311, "user_id": 4944425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05592a58619d128e2eee1c3c17801e76?s=128&d=identicon&r=PG&f=1", "display_name": "Bob__", "link": "https://stackoverflow.com/users/4944425/bob"}, "edited": false, "score": 0, "creation_date": 1477504619, "post_id": 40266789, "comment_id": 67798227, "body": "I <a href=\"http://stackoverflow.com/a/35281353/4944425\">answered</a> a vaguely related question, some time ago. See if the code I used can help you."}, {"owner": {"reputation": 73, "user_id": 7032678, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/52fcaac4799a81ad29986c949fc24862?s=128&d=identicon&r=PG&f=1", "display_name": "vforbiedronka", "link": "https://stackoverflow.com/users/7032678/vforbiedronka"}, "edited": false, "score": 0, "creation_date": 1477505497, "post_id": 40266789, "comment_id": 67798703, "body": "I do not understand how to use your code in my case..."}], "answers": [{"tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": true, "score": 2, "last_activity_date": 1477506837, "creation_date": 1477506837, "answer_id": 40269751, "question_id": 40266789, "link": "https://stackoverflow.com/questions/40266789/sum-of-two-squares-decomposition-counting/40269751#40269751", "title": "Sum of two squares decomposition counting", "body": "<p>The problem is that you're using an <code>if</code> expecting it to work like a loop.  At the bottom of the <code>if</code> you're incrementing <code>a</code>, however because it is an <code>if</code> and not a <code>while</code> or <code>for</code>, it doesn't jump back up to the top.</p>\n\n<p>Both <code>a</code> and <code>b</code> need to change, so you need a loop to control each one.</p>\n\n<pre><code>for (a=1; a&lt;=c; a++) {\n    for (b=a; b&lt;=c; b++) {\n        if (a*a + b*b == c*c) {\n            count++;\n        }\n    }\n}\n</code></pre>\n\n<p>Note that <code>b</code> starts at the current value of <code>a</code> instead of 1.  That way, you aren't trying the same pair of numbers (just switched) twice.</p>\n"}], "owner": {"reputation": 73, "user_id": 7032678, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/52fcaac4799a81ad29986c949fc24862?s=128&d=identicon&r=PG&f=1", "display_name": "vforbiedronka", "link": "https://stackoverflow.com/users/7032678/vforbiedronka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 40269751, "answer_count": 1, "score": 0, "last_activity_date": 1477506837, "creation_date": 1477497076, "last_edit_date": 1477506477, "question_id": 40266789, "link": "https://stackoverflow.com/questions/40266789/sum-of-two-squares-decomposition-counting", "title": "Sum of two squares decomposition counting", "body": "<p>I want to count how many pairs of natural number there are such that a<sup>2</sup> + b<sup>2</sup> = c<sup>2</sup>. As an input to my function I have <code>c</code>.</p>\n\n<p>My idea was to first check whether the condition is fulfilled, than if not, I wanted to have a loop iterating desired expression up to <code>c</code>. If result is equal to the square of <code>c</code> than I wanted to have <code>count++</code>. Question is why this is not working?</p>\n\n<p>Some corrections added.</p>\n\n<pre><code>int sum(int c) {\n    int b=1;\n    int a=1;\n    int count=0;\n    int result;\n\n    if (a*a + b*b != c*c)\n    {\n        for (int i=1; i&lt;=c; i++)\n        {\n            b=i;\n            result = a*a + b*b;\n            if (result == c*c)\n                count++;\n        }\n        a++;\n    }\n    else\n        count++;\n\n    return count;\n}\n</code></pre>\n\n<p>The problem is I still do not understand why this does not want to work.</p>\n\n<p>My second idea was to approach it with while loop:</p>\n\n<pre><code>int sum(int c) {\n    int b=1;\n    int a=1;\n    int count=0;\n    int result;\n\n    if (a*a + b*b != c*c)\n    {\n        while(b&lt;=c)\n        {\n            result = a*a + b*b;\n            if (result == c*c)\n                {count++;\n                b++;\n                }\n                else\n                    b++;\n        }\n        a++;\n    }\n    else\n        count++;\n\n    return count;\n}\n</code></pre>\n\n<p>Not working as well.</p>\n\n<p><strong>Anybody any ideas as to how to make it work? Any of those two versions? Maybe hints?</strong></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3430, "user_id": 6069012, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bKlmM.png?s=128&g=1", "display_name": "Gavin", "link": "https://stackoverflow.com/users/6069012/gavin"}, "edited": false, "score": 0, "creation_date": 1477497068, "post_id": 40266759, "comment_id": 67793883, "body": "Oh my.. No matter what you will run indefinitely. <code>while(true)</code> and no way out.."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477497257, "post_id": 40266759, "comment_id": 67794017, "body": "You fix this with a <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debugger</a> - step through the code, look at the variables and  you&#39;ll understand how everything is working when you&#39;re done."}, {"owner": {"reputation": 2374, "user_id": 343178, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/u1g2Z.png?s=128&g=1", "display_name": "Alyoshak", "link": "https://stackoverflow.com/users/343178/alyoshak"}, "edited": false, "score": 0, "creation_date": 1477508946, "post_id": 40266759, "comment_id": 67800646, "body": "Well, you&#39;ve described how it currently runs, but you have not described how you would like for it to run.  Edit your question and tell us clearly the behavior you are trying to produce."}, {"owner": {"reputation": 15, "user_id": 7004949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317d2d495dd6c830c6112785879edd11?s=128&d=identicon&r=PG&f=1", "display_name": "symta", "link": "https://stackoverflow.com/users/7004949/symta"}, "reply_to_user": {"reputation": 2374, "user_id": 343178, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/u1g2Z.png?s=128&g=1", "display_name": "Alyoshak", "link": "https://stackoverflow.com/users/343178/alyoshak"}, "edited": false, "score": 0, "creation_date": 1477509374, "post_id": 40266759, "comment_id": 67800864, "body": "@Alyoshak thanks, I just described it little bit more, is it more clear? And if yes, can you explain why it has errors?"}, {"owner": {"reputation": 968, "user_id": 2929854, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/sD7KU.jpg?s=128&g=1", "display_name": "Klamer Schutte", "link": "https://stackoverflow.com/users/2929854/klamer-schutte"}, "edited": false, "score": 0, "creation_date": 1477509638, "post_id": 40266759, "comment_id": 67801003, "body": "What is the type of number?  cin&gt;&gt;num will never change the type of num. What should your code do?"}], "answers": [{"tags": [], "owner": {"reputation": 3568, "user_id": 5811973, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/B4tie.jpg?s=128&g=1", "display_name": "Ishpreet", "link": "https://stackoverflow.com/users/5811973/ishpreet"}, "is_accepted": false, "score": 0, "last_activity_date": 1477555758, "creation_date": 1477555758, "answer_id": 40279415, "question_id": 40266759, "link": "https://stackoverflow.com/questions/40266759/about-loop-it-has-some-errors/40279415#40279415", "title": "About loop, it has some errors", "body": "<p>You can do in this way. Enter a string from user. Count the number of characters in that string. If that is equal to string length it is a valid positive integer. For negative integers just check if the number of digits is one less than size of string and string is starting with 0. </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() \n{\nstring s;\nwhile(true)\n{\n    cin&gt;&gt;s;\n    int i,no_of_digits=0;\n    for(int i=0;i&lt;s.length();i++)\n    {\n        if(isdigit(s[i]))\n            no_of_digits++;\n    }\n    if(no_of_digits == s.length() || (no_of_digits == s.length()-1 &amp;&amp; s[0]=='-'))\n    {\n        cout&lt;&lt;\"Good \"&lt;&lt;s&lt;&lt;\" is an Integer.\";\n        break;\n    }\n    cout&lt;&lt;s&lt;&lt;\" is not a valid Integer!\\nPlease Enter again\\n\";\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "is_accepted": false, "score": 0, "last_activity_date": 1477556586, "last_edit_date": 1495541203, "creation_date": 1477556586, "answer_id": 40279638, "question_id": 40266759, "link": "https://stackoverflow.com/questions/40266759/about-loop-it-has-some-errors/40279638#40279638", "title": "About loop, it has some errors", "body": "<p>The best way to parse string in cpp. It's to use <a href=\"http://www.cplusplus.com/reference/sstream/stringstream/stringstream/\" rel=\"nofollow noreferrer\">stringstream</a> or use <a href=\"http://www.cplusplus.com/reference/string/\" rel=\"nofollow noreferrer\">sto* series functions of cpp11</a>.</p>\n\n<p>There are already some good answer <a href=\"https://stackoverflow.com/questions/194465/how-to-parse-a-string-to-an-int-in-c\">here</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 7004949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/317d2d495dd6c830c6112785879edd11?s=128&d=identicon&r=PG&f=1", "display_name": "symta", "link": "https://stackoverflow.com/users/7004949/symta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1477556586, "creation_date": 1477496964, "last_edit_date": 1477509654, "question_id": 40266759, "link": "https://stackoverflow.com/questions/40266759/about-loop-it-has-some-errors", "title": "About loop, it has some errors", "body": "<p>I try to identify if a number is an interger or not.</p>\n\n<ol>\n<li><p>When I run this, I enter a number, such as 5.5, it shows \"5.5 is not int. Please try again: \". Then I enter the letter, such as 'a', it shows \"5.5 is not int. Please try again: \". The letter 'a' is a character, not integer, I think it should go to the second case and must show \"No letter please\", but it isn't.</p></li>\n<li><p>When I first enter a letter, such as 'D', the program run \"Please no letter\" unlimited times. I wants it shows \"Please no letter\" but only once, then I can enter another number in this loop.</p></li>\n</ol>\n\n<p>How can I fix these errors?</p>\n\n<pre><code>while (true) {\n\n\n    while ((num) != static_cast&lt;int&gt;(num)) {\n        cout &lt;&lt; \"\\t\" &lt;&lt; num &lt;&lt; \" is not int. Please try again: \";\n        cin &gt;&gt; num;\n        cin.clear();\n        cin.ignore(80, '\\n');\n\n    }\n    while (!(cin &gt;&gt; num)) {\n        cout &lt;&lt; \"\\tNo letter please: \";\n        cin &gt;&gt; num;\n        cin.clear();\n        cin.ignore(80, '\\n');\n\n    }\n    cout &lt;&lt; \"Good! \" &lt;&lt; num &lt;&lt; \" is an int!\\n\\n\";\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 28011, "user_id": 417292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3520ad50fa42c9319830bd9f0900c5d?s=128&d=identicon&r=PG", "display_name": "jcoder", "link": "https://stackoverflow.com/users/417292/jcoder"}, "edited": false, "score": 1, "creation_date": 1477498155, "post_id": 40266851, "comment_id": 67794630, "body": "Well I guess that&#39;s fairly obvious now I think about it :) Thank you."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 2, "last_activity_date": 1477497212, "creation_date": 1477497212, "answer_id": 40266851, "question_id": 40266749, "link": "https://stackoverflow.com/questions/40266749/how-to-not-always-calculate-value-of-parameter-that-might-not-be-used/40266851#40266851", "title": "How to not always calculate value of parameter that might not be used", "body": "<p>Make it a lazy call, pass a function object that will calculate the value on request:</p>\n\n<pre><code>template&lt;typename Expensive&gt;\nint process(int, int, Expensive&amp;&amp;);\n</code></pre>\n\n<p>and then you'd call:</p>\n\n<pre><code>process(1, 2, []{ return very_expensive_call(55, 67, \"Hello\"); });\n</code></pre>\n\n<p>If you do not want to make your function a template, use <code>std::function</code> for type erasure (or possibly a lighter alternative if there is one that suits your needs):</p>\n\n<pre><code>int process(int, int, function&lt;expensive_result()&gt;);\n</code></pre>\n\n<p>with no change at the call site:</p>\n\n<pre><code>process(1, 2, []{ return very_expensive_call(55, 67, \"Hello\"); });\n</code></pre>\n\n<p>This solution will require you to explicitly call the operator <code>()</code> in the <code>process</code>'s code to get compute the value.</p>\n"}], "owner": {"reputation": 28011, "user_id": 417292, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/d3520ad50fa42c9319830bd9f0900c5d?s=128&d=identicon&r=PG", "display_name": "jcoder", "link": "https://stackoverflow.com/users/417292/jcoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "closed_date": 1477498164, "answer_count": 1, "score": 1, "last_activity_date": 1477497495, "creation_date": 1477496932, "last_edit_date": 1477497495, "question_id": 40266749, "link": "https://stackoverflow.com/questions/40266749/how-to-not-always-calculate-value-of-parameter-that-might-not-be-used", "closed_reason": "Duplicate", "title": "How to not always calculate value of parameter that might not be used", "body": "<p>I'm mostly interested in C++ answers for this but in addition C answers would be welcome too as they will probably vary. This is a simplified version of the real code to focus on my question so assume what I've written is correct :P</p>\n\n<p>Imagine I have a function called <code>process</code> in a library.<br>\nThis function takes three parameters, <em>a</em>, <em>b</em>, and <em>c</em><br>\nMost of the time the function only needs the values of <em>a</em> and <em>b</em> to do it's job but in some circumstances requires <em>c</em>.</p>\n\n<p>Now I want to call this from a main program.<br>\n<code>process(1, 2, very_expensive_call(55, 67, \"Hello\"));</code></p>\n\n<p>Imagine that the value of <em>c</em> is very expensive to calculate. As it's probably not needed I don't want to calculate it unless I have to.</p>\n\n<p>I don't want my main program to have to repeat the logic of knowing if <em>c</em> will be needed. I don't want the library to know about <code>very_expensive_call</code>.</p>\n\n<p>So how can I organize my code to prevent the call to the expensive function while remaining both efficient and elegant?</p>\n"}, {"tags": ["c++", "linked-list", "hashtable"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 2, "creation_date": 1477496779, "post_id": 40266616, "comment_id": 67793683, "body": "<code>&lt;stdlib.h&gt;</code> (which has <code>atoi</code> etc) or <code>&lt;cstdlib&gt;</code> (which has <code>std::atoi</code> etc) are not &quot;the entire standard library&quot;.  Despite the filename, these are only one of many similarly-sized chunks of the standard library.  In any case, throw away <code>atoi</code> and always use <code>strtod</code> instead."}, {"owner": {"reputation": 701, "user_id": 3983756, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/966fffbafc3c218b194488772be93d6c?s=128&d=identicon&r=PG", "display_name": "ThunderWiring", "link": "https://stackoverflow.com/users/3983756/thunderwiring"}, "edited": false, "score": 0, "creation_date": 1477497704, "post_id": 40266616, "comment_id": 67794345, "body": "maybe he meant not to do this: <code>using namespace std;</code>? Thus if you need <code>cout</code> then you write <code>std::cout</code>...etc."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1477498713, "post_id": 40266616, "comment_id": 67794967, "body": "Earlier comment should have said -- Throw away <code>atoi</code> and use <code>strtol</code>, throw aray <code>atof</code> and use <code>strtod</code>.  Sorry for crossing the (integer and floating-point) streams."}], "owner": {"reputation": 21, "user_id": 7076012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/935a2e39cc8f6690eeeeacde65dbaf99?s=128&d=identicon&r=PG&f=1", "display_name": "Ethan P.", "link": "https://stackoverflow.com/users/7076012/ethan-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12401, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1477497231, "creation_date": 1477496579, "last_edit_date": 1477496819, "question_id": 40266616, "link": "https://stackoverflow.com/questions/40266616/error-atoi-is-not-a-member-of-std", "title": "error: &#39;atoi&#39; is not a member of &#39;std&#39;", "body": "<p>I've searched high and low but nothing answers this specific issue. I am doing a coding assignment that functions perfectly as I want it to. However, per our instructors directions, we are not allowed to included the entire standard library, only specific functions (string, cout, etc.)</p>\n\n<p>If I include 'stdlib.h' my code functions perfectly. If I remove that inclusion, I receive errors on these lines:</p>\n\n<pre><code>lid = atoi((input.substr(0, index1)).c_str());\n</code></pre>\n\n<blockquote>\n  <p>error: 'atoi' was not declared in this scope</p>\n</blockquote>\n\n<pre><code>lgpa = atof((input.substr(index1 + 1, (index2 - index1 - 1))).c_str());\n</code></pre>\n\n<blockquote>\n  <p>error: 'atof' was not declared in this scope</p>\n</blockquote>\n\n<p>I have attempted to include these functions directly and receive the following errors:</p>\n\n<pre><code>lid = std::atoi((input.substr(0, index1)).c_str());\n</code></pre>\n\n<blockquote>\n  <p>error: 'atoi' is not a member of 'std'</p>\n</blockquote>\n\n<pre><code>lgpa = std::atof((input.substr(index1 + 1, (index2 - index1 - 1))).c_str());\n</code></pre>\n\n<blockquote>\n  <p>error: 'atof' is not a member of 'std'</p>\n</blockquote>\n\n<p>Any constructive input would be very much appreciated.</p>\n"}, {"tags": ["c++", "class", "arduino"], "comments": [{"owner": {"reputation": 1, "user_id": 7008388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ZBXbX13Rx4/AAAAAAAAAAI/AAAAAAAAAKU/gJKEyZcIlZY/photo.jpg?sz=128", "display_name": "Jeen Camilo", "link": "https://stackoverflow.com/users/7008388/jeen-camilo"}, "edited": false, "score": 0, "creation_date": 1477497901, "post_id": 40266499, "comment_id": 67794477, "body": "Fixed   Serial1.write((char)26);  still not working.."}], "answers": [{"tags": [], "owner": {"reputation": 3239, "user_id": 5271927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aTJYf.jpg?s=128&g=1", "display_name": "KIIV", "link": "https://stackoverflow.com/users/5271927/kiiv"}, "is_accepted": false, "score": 0, "last_activity_date": 1477497753, "creation_date": 1477497753, "answer_id": 40267060, "question_id": 40266499, "link": "https://stackoverflow.com/questions/40266499/error-no-void-simsendsmschar-member-function-declared-in-class-sim/40267060#40267060", "title": "error: no &#39;void sim::sendSMS(char*)&#39; member function declared in class &#39;sim&#39;", "body": "<p>So many mistakes. For example:</p>\n\n<pre><code>sim::sim()\n{\n   _msg= msg;  // where it should get this msg?\n               // Also it's not possible to do a copy of array like this.\n}\n</code></pre>\n\n<p>Why do you need _msg, if you are sending msg passed as a parameter?</p>\n\n<pre><code>void sim::sendSMS(char msg[160])\n</code></pre>\n\n<p>If you want to call it, you have to use exactly the same data type:</p>\n\n<pre><code>char something[160] = \"some text to send\";\ninstance.sendSMS(something);\n</code></pre>\n\n<p>But you can't just pass string directly:</p>\n\n<pre><code>instance.sendSMS(\"some text to send\");\n</code></pre>\n\n<p>as it's type of <code>const char *</code> and it can't be handled by type <code>char[160]</code>.</p>\n\n<p>Also you don't count with termination characte at the end of the string.</p>\n"}], "owner": {"reputation": 1, "user_id": 7008388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0ZBXbX13Rx4/AAAAAAAAAAI/AAAAAAAAAKU/gJKEyZcIlZY/photo.jpg?sz=128", "display_name": "Jeen Camilo", "link": "https://stackoverflow.com/users/7008388/jeen-camilo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477497753, "creation_date": 1477496205, "question_id": 40266499, "link": "https://stackoverflow.com/questions/40266499/error-no-void-simsendsmschar-member-function-declared-in-class-sim", "title": "error: no &#39;void sim::sendSMS(char*)&#39; member function declared in class &#39;sim&#39;", "body": "<p>Hey guys I'm getting this error when compiling in Arduino IDE</p>\n\n<p>error: no 'void sim::sendSMS(char*)' member function declared in class 'sim'</p>\n\n<p>void sim::sendSMS(char msg[160])</p>\n\n<p>My Header file is:</p>\n\n<pre><code>#ifndef sim_h\n#define sim_h\n\n#include \"Arduino.h\"\n\nclass sim\n{\npublic:\nsim();\nvoid smstextmode();\nvoid testSIM900();\nvoid sendSMS(char _msg[160]);\nprivate:\nchar _msg[160];\n};\n\n#endif\n</code></pre>\n\n<p>My CPP file:</p>\n\n<pre><code>#include \"Arduino.h\"\n#include \"sim.h\"\n\nsim::sim()\n{\n _msg= msg;\n}\n\nvoid sim::smstextmode()\n{\n  Serial1.write(\"AT+CMGF=1\\r\\n\");\n  delay(2000); \n}\n\nvoid sim::testSIM900()\n{\n  Serial1.write(\"AT\\r\\n\");\n  delay(1000);\n  Serial1.write(\"AT+CSCS?\\r\\n\");\n  delay(1000);\n}\n\nvoid sim::sendSMS(char msg[160])\n{\n  Serial1.write(\"AT+CMGS=\\\"+8295724554\\\"\\r\\n\");\n  delay(1500);\n  Serial1.write(msg);\n  delay(1000);\n  Serial1.write((char) 26)\n\n}\n</code></pre>\n"}, {"tags": ["c++", "sorting", "insertion-sort"], "comments": [{"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1477496955, "post_id": 40266453, "comment_id": 67793807, "body": "I&#39;d be curious how you think you would do that."}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1477539292, "post_id": 40266453, "comment_id": 67810476, "body": "It&#39;s not possible to sort with a single stack. It is possible to sort with a single queue with something like bubble sort, using O(1) space to hold a single element. With 2 stacks, something like bubble sort can be implemented. With 2 queues or 3 stacks, a bottom up merge sort can be used. In the case of 3 stacks, a polyphase bottom up merge sort is faster, but more complicated. Because ordering is reversed when moving data from stack to stack, the program needs to keep track if it should be doing ascending or descending sequences, adding to the complication."}], "answers": [{"tags": [], "owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1477496841, "creation_date": 1477496841, "answer_id": 40266715, "question_id": 40266453, "link": "https://stackoverflow.com/questions/40266453/implement-insertion-sort-in-c-using-stack-or-queue/40266715#40266715", "title": "Implement insertion sort in c++ using Stack or Queue?", "body": "<p>If you use a vector, you gain the performance that all the memory you're working with is contiguous, but lose performance because you have to copy.\nIf you use a linked list of any type, you gain because you don't have to copy, but you lose because your memory is scattered all over the place.</p>\n\n<p>As such, this will depend on the number of items being sorted, the processor cache, and probably a whole host of other things.</p>\n\n<p>Given that this sorting algorithm is known to be slow for any numbers of N, the correct solution is to not worry about performance at all and just use std::sort.</p>\n"}], "owner": {"reputation": 11, "user_id": 4744432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04aca1cacc433d2c633abcfe2c7692b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomahawk", "link": "https://stackoverflow.com/users/4744432/tomahawk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 502, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477549515, "creation_date": 1477496072, "last_edit_date": 1477549515, "question_id": 40266453, "link": "https://stackoverflow.com/questions/40266453/implement-insertion-sort-in-c-using-stack-or-queue", "title": "Implement insertion sort in c++ using Stack or Queue?", "body": "<p>Classical insertion sort algorithm with array is</p>\n\n<pre><code>void insertion_sort (int arr[], int length){\n        int j, temp;\n\n    for (int i = 0; i &lt; length; i++){\n        j = i;\n\n        while (j &gt; 0 &amp;&amp; arr[j] &lt; arr[j-1]){\n              temp = arr[j];\n              arr[j] = arr[j-1];\n              arr[j-1] = temp;\n              j--;\n              }\n        }\n}\n</code></pre>\n\n<p>So should it implemented by using stack or queue? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "edited": false, "score": 0, "creation_date": 1477495749, "post_id": 40266270, "comment_id": 67793001, "body": "What is your input?  Are you sure it has fractional seconds?  Can you post an example of what you tried?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1477495977, "post_id": 40266270, "comment_id": 67793168, "body": "This answer may (or may not) be of use: <a href=\"https://stackoverflow.com/questions/31281293/timestamps-for-embedded-system/31281976#31281976\" title=\"timestamps for embedded system\">stackoverflow.com/questions/31281293/&hellip;</a>"}, {"owner": {"reputation": 151, "user_id": 1658570, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-S-Ui9zf--5M/AAAAAAAAAAI/AAAAAAAADpk/5hPFjhbWks0/photo.jpg?sz=128", "display_name": "Ansif", "link": "https://stackoverflow.com/users/1658570/ansif"}, "edited": false, "score": 0, "creation_date": 1477570494, "post_id": 40266270, "comment_id": 67826922, "body": "Did anyone tries using WDateTime in Wt/C++ toolkit. You can find the default format like &quot;yyyy MM dd hh mm ss&quot;. The format shows upto seconds. But what if we have values like 1753-01-01T00:00:02.000004. The last value &quot;000004&quot; is microsecond. I was looking for a proper way to format the values in my table."}], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 7087797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a2fddc5591ae92710ae286e14fb2fd0?s=128&d=identicon&r=PG&f=1", "display_name": "Rafael Ray", "link": "https://stackoverflow.com/users/7087797/rafael-ray"}, "is_accepted": true, "score": 1, "last_activity_date": 1477711302, "last_edit_date": 1477711302, "creation_date": 1477709034, "answer_id": 40315554, "question_id": 40266270, "link": "https://stackoverflow.com/questions/40266270/format-microseconds-in-wt-c/40315554#40315554", "title": "Format microseconds in Wt C++", "body": "<p>Ansif, could you not just use:</p>\n\n<pre><code>WString value = myDate.toString(\"yyyy-MM-ddTHH:MM:ss\");\n\ndouble microsecond = ...; // get the microsecond from myDate somehow\n</code></pre>\n\n<p>Then append the microsecond like so:</p>\n\n<pre><code>WString myDate2 = WString(\"{1}.{2}\").arg(myDate).arg(microsecond); \n</code></pre>\n\n<p>Since Wt's precision is only three decimal places for milliseconds you would have to add the microsecond part yourself up to six decimal places and convert it to a std::string, std::stringstream or WString() if I understand you correctly.</p>\n\n<p>If using std::stringstream to convert the microseconds to a std::string, then std::setw, std::setfill, std::fixed and std::setprecision might be helpful for padding the \"000004\" microseconds.</p>\n"}], "owner": {"reputation": 151, "user_id": 1658570, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh5.googleusercontent.com/-S-Ui9zf--5M/AAAAAAAAAAI/AAAAAAAADpk/5hPFjhbWks0/photo.jpg?sz=128", "display_name": "Ansif", "link": "https://stackoverflow.com/users/1658570/ansif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "accepted_answer_id": 40315554, "answer_count": 1, "score": -1, "last_activity_date": 1477711302, "creation_date": 1477495572, "question_id": 40266270, "link": "https://stackoverflow.com/questions/40266270/format-microseconds-in-wt-c", "title": "Format microseconds in Wt C++", "body": "<p>What is the best way to format microseconds in C++ Wt or Qt library. I tried like this, \"yyyy-mm-ddThh:mm:ss.ffffff\" but I am not able to get the last decimal values of 1753-01-01T00:00:02.<strong>000004</strong>. </p>\n\n<p>Regards\nAnsif</p>\n"}, {"tags": ["c++", "boost", "boost-asio"], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 9208357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1609f7c969ad13e478d14a00d410539?s=128&d=identicon&r=PG&f=1", "display_name": "andy kan", "link": "https://stackoverflow.com/users/9208357/andy-kan"}, "is_accepted": false, "score": 3, "last_activity_date": 1517913493, "creation_date": 1517913493, "answer_id": 48640962, "question_id": 40266238, "link": "https://stackoverflow.com/questions/40266238/boostexception-detailclone-implboostexception-detailerror-info-injecto/48640962#48640962", "title": "&#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::system::system_error&gt; &gt;", "body": "<blockquote>\n  <p>socket_.close();</p>\n</blockquote>\n\n<p>It throw exception, when run!</p>\n\n<p>You can use boost::system::error_code, for correctly catch it error:</p>\n\n<pre><code>boost::system::error_code lErrorCode;\nsocket_.close(lErrorCode);\nstd::cout &lt;&lt;  lErrorCode.message() &lt;&lt; std::endl;\n</code></pre>\n\n<p>More info is here:\n <a href=\"http://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/basic_stream_socket/close/overload2.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_66_0/doc/html/boost_asio/reference/basic_stream_socket/close/overload2.html</a></p>\n"}], "owner": {"reputation": 89, "user_id": 6041109, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/681b9fe0385fe6c2469836b5858c532a?s=128&d=identicon&r=PG&f=1", "display_name": "Roman Nowak", "link": "https://stackoverflow.com/users/6041109/roman-nowak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8690, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1517913493, "creation_date": 1477495492, "last_edit_date": 1477588448, "question_id": 40266238, "link": "https://stackoverflow.com/questions/40266238/boostexception-detailclone-implboostexception-detailerror-info-injecto", "title": "&#39;boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::system::system_error&gt; &gt;", "body": "<p>I created client application. It works correctly when I am sending single messages client &lt;=> sever . But when I am sending a lot of messages for performance purposes client crashes in two different way:</p>\n\n<pre><code>(gdb) run\nStarting program: /home/x64joxer/workerGenerators/Worker2/worker -t -i 192.168.0.6 -p 6000 -d 5 -l //home/x64joxer/workerGenerators/Worker2/\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\nterminate called after throwing an instance of 'boost::exception_detail::clone_impl&lt;boost::exception_detail::error_info_injector&lt;boost::system::system_error&gt; &gt;'\n  what():  set_option: Bad file descriptor\n[New Thread 0x7fffe77fe700 (LWP 19310)]\n[New Thread 0x7ffff4f24700 (LWP 18720)]\n[New Thread 0x7fffe7fff700 (LWP 18148)]\n[New Thread 0x7ffff5725700 (LWP 17582)]\n[New Thread 0x7ffff5f26700 (LWP 16613)]\n[New Thread 0x7ffff6727700 (LWP 16612)]\n\nProgram received signal SIGABRT, Aborted.\n[Switching to Thread 0x7ffff5f26700 (LWP 16613)]\n0x00007ffff6965267 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:55\n55      ../sysdeps/unix/sysv/linux/raise.c: Nie ma takiego pliku ani katalogu.\n(gdb) bt\n#0  0x00007ffff6965267 in __GI_raise (sig=sig@entry=6) at ../sysdeps/unix/sysv/linux/raise.c:55\n#1  0x00007ffff6966eca in __GI_abort () at abort.c:89\n#2  0x00007ffff749706d in __gnu_cxx::__verbose_terminate_handler() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#3  0x00007ffff7494ee6 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#4  0x00007ffff7494f31 in std::terminate() () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#5  0x00007ffff74f0ec1 in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6\n#6  0x00007ffff6d016aa in start_thread (arg=0x7ffff5f26700) at pthread_create.c:333\n#7  0x00007ffff6a36eed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n\n\n\n\n\n(gdb) run\nStarting program: /home/x64joxer/workerGenerators/Worker4/worker -t -i 192.168.0.6 -p 6000 -d 5 -l //home/x64joxer/workerGenerators/Worker4/\n[Thread debugging using libthread_db enabled]\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\n[New Thread 0x7ffff4f24700 (LWP 17302)]\n[New Thread 0x7ffff5f26700 (LWP 16583)]\n[New Thread 0x7ffff6727700 (LWP 16582)]\n\nProgram received signal SIGSEGV, Segmentation fault.\n[Switching to Thread 0x7ffff6727700 (LWP 16582)]\n0x000000000044b902 in boost::asio::detail::epoll_reactor::deregister_descriptor (this=0x6a1a10, descriptor=6, descriptor_data=@0x7fffffffe2b8: 0x6a0d20, closing=true) at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:309\n309     /usr/include/boost/asio/detail/impl/epoll_reactor.ipp: Nie ma takiego pliku ani katalogu.\n(gdb) by\nUndefined command: \"by\".  Try \"help\".\n(gdb) bt\n#0  0x000000000044b902 in boost::asio::detail::epoll_reactor::deregister_descriptor (this=0x6a1a10, descriptor=6, descriptor_data=@0x7fffffffe2b8: 0x6a0d20, closing=true) at /usr/include/boost/asio/detail/impl/epoll_reactor.ipp:309\n#1  0x000000000044ecc0 in boost::asio::detail::reactive_socket_service_base::close (this=0x6a11f8, impl=..., ec=...) at /usr/include/boost/asio/detail/impl/reactive_socket_service_base.ipp:104\n#2  0x000000000045476e in boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt;::close (this=0x6a11d0, impl=..., ec=...) at /usr/include/boost/asio/stream_socket_service.hpp:170\n#3  0x0000000000452d60 in boost::asio::basic_socket&lt;boost::asio::ip::tcp, boost::asio::stream_socket_service&lt;boost::asio::ip::tcp&gt; &gt;::close (this=0x7fffffffe2b0) at /usr/include/boost/asio/basic_socket.hpp:356\n#4  0x0000000000449556 in TCPSocketBody::DoClose (this=0x7fffffffe260) at TCP/TCPSocketBody.cpp:158\n#5  0x000000000045afbd in boost::_mfi::mf0&lt;void, TCPSocketBody&gt;::operator() (this=0x7ffff6726be0, p=0x7fffffffe260) at /usr/include/boost/bind/mem_fn_template.hpp:49\n#6  0x000000000045a77a in boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt;::operator()&lt;boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list0&gt; (this=0x7ffff6726bf0, f=..., a=...) at /usr/include/boost/bind/bind.hpp:253\n#7  0x0000000000459986 in boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt; &gt;::operator() (this=0x7ffff6726be0) at /usr/include/boost/bind/bind_template.hpp:20\n#8  0x0000000000458bef in boost::asio::asio_handler_invoke&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt; &gt; &gt; (function=...)\n    at /usr/include/boost/asio/handler_invoke_hook.hpp:69\n#9  0x0000000000457b77 in boost_asio_handler_invoke_helpers::invoke&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt; &gt;, boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt; &gt; &gt; (function=..., context=...) at /usr/include/boost/asio/detail/handler_invoke_helpers.hpp:37\n#10 0x0000000000456747 in boost::asio::detail::completion_handler&lt;boost::_bi::bind_t&lt;void, boost::_mfi::mf0&lt;void, TCPSocketBody&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;TCPSocketBody*&gt; &gt; &gt; &gt;::do_complete (owner=0x6a1960, \n    base=0x7fffe8001c70) at /usr/include/boost/asio/detail/completion_handler.hpp:68\n#11 0x000000000044a744 in boost::asio::detail::task_io_service_operation::complete (this=0x7fffe8001c70, owner=..., ec=..., bytes_transferred=0) at /usr/include/boost/asio/detail/task_io_service_operation.hpp:38\n#12 0x000000000044d102 in boost::asio::detail::task_io_service::do_run_one (this=0x6a1960, lock=..., this_thread=..., ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:384\n#13 0x000000000044cb23 in boost::asio::detail::task_io_service::run (this=0x6a1960, ec=...) at /usr/include/boost/asio/detail/impl/task_io_service.ipp:153\n#14 0x000000000044d4d4 in boost::asio::io_service::run (this=0x7fffffffe2a0) at /usr/include/boost/asio/impl/io_service.ipp:59\n#15 0x000000000045c575 in boost::_mfi::mf0&lt;unsigned long, boost::asio::io_service&gt;::operator() (this=0x6a1008, p=0x7fffffffe2a0) at /usr/include/boost/bind/mem_fn_template.hpp:49\n#16 0x000000000045c4bb in boost::_bi::list1&lt;boost::_bi::value&lt;boost::asio::io_service*&gt; &gt;::operator()&lt;unsigned long, boost::_mfi::mf0&lt;unsigned long, boost::asio::io_service&gt;, boost::_bi::list0&gt; (this=0x6a1018, f=..., a=...)\n    at /usr/include/boost/bind/bind.hpp:243\n#17 0x000000000045c2aa in boost::_bi::bind_t&lt;unsigned long, boost::_mfi::mf0&lt;unsigned long, boost::asio::io_service&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;boost::asio::io_service*&gt; &gt; &gt;::operator() (this=0x6a1008)\n    at /usr/include/boost/bind/bind_template.hpp:20\n#18 0x000000000045bf84 in boost::detail::thread_data&lt;boost::_bi::bind_t&lt;unsigned long, boost::_mfi::mf0&lt;unsigned long, boost::asio::io_service&gt;, boost::_bi::list1&lt;boost::_bi::value&lt;boost::asio::io_service*&gt; &gt; &gt; &gt;::run (this=0x6a0e50)\n    at /usr/include/boost/thread/detail/thread.hpp:117\n#19 0x00007ffff79c809a in ?? () from /usr/lib/x86_64-linux-gnu/libboost_thread.so.1.55.0\n#20 0x00007ffff6d016aa in start_thread (arg=0x7ffff6727700) at pthread_create.c:333\n#21 0x00007ffff6a36eed in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:109\n(gdb) \n</code></pre>\n\n<p>It looks like something is crashing in boost asio socket but I am not sure what happening. I tried to put in all boost::asio commands into try block but it looks like exception appear from socket thread.\nHere Is part of ma socket implementation:</p>\n\n<pre><code>#include \"TCPSocketBody.h\"\n\nTCPSocketBody::TCPSocketBody() : socket_(io_service_global),\n                                 resolver(io_service_global),\n                                 connected(false),\n                                 expectedMessage(0)\n{\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: TCPSocketBody::TCPSocketBody(const std::string &amp;adress, const std::string &amp;port)\";\n\n    data_to_read = new char[MessageCoder::MaxMessageSize()];\n}\n\nvoid TCPSocketBody::Close()\n{\n  TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::Close()\";\n\n  io_service_global.post(boost::bind(&amp;TCPSocketBody::DoClose, this));\n}\n\nvoid TCPSocketBody::Connect(const std::string &amp;adress, const std::string &amp;port)\n{\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::Connect(const std::string &amp;adress, const std::string &amp;port)\";\n\n    io_service_global.reset();\n\n    iterator = resolver.resolve({adress, port});\n\n     boost::asio::async_connect(socket_, iterator,\n           boost::bind(&amp;TCPSocketBody::HandleConnect, this,\n           boost::asio::placeholders::error));     \n\n     socket_.set_option(boost::asio::ip::tcp::no_delay(true));\n     socket_.set_option( boost::asio::socket_base::send_buffer_size( 65536 ) );\n     socket_.set_option( boost::asio::socket_base::receive_buffer_size( 65536 ) );\n\n     boost::thread(boost::bind(&amp;boost::asio::io_service::run, &amp;io_service_global));\n}\n\nvoid TCPSocketBody::HandleConnect(const boost::system::error_code&amp; error)\n{\n  TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::HandleConnect(const boost::system::error_code&amp; error)\";\n\n  if (!error)\n  {           \n      connected = true;\n\n      Message tempMessage;\n      char *buffer = new char[MessageCoder::MaxMessageConnectedSize()];\n      MessageCoder::ClearChar(buffer, MessageCoder::MaxMessageConnectedSize());\n      MessageCoder::CreateConnectedMessage(buffer);\n      tempMessage.CopyWsk(meWsk, buffer);\n      messageQueue-&gt;PushBack(tempMessage);\n\n      TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: Sending Connected message to queue: \" &lt;&lt; buffer;\n\n      boost::asio::async_read(socket_,\n         boost::asio::buffer(data_to_read, MessageCoder::BufferSize()), boost::asio::transfer_all(),\n         boost::bind(&amp;TCPSocketBody::HandleReadHeader, this,\n           boost::asio::placeholders::error));\n\n  } else\n  {\n        Traces() &lt;&lt; \"\\n\" &lt;&lt; \"ERR: Connection error!\";\n        Close();\n  }\n}\n\nvoid TCPSocketBody::HandleReadHeader(const boost::system::error_code&amp; error)\n{\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::HandleReadHeader(const boost::system::error_code&amp; error)\";\n\n    expectedMessage = MessageCoder::HeaderToVal(data_to_read);    \n\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: Expecting message with lenn: \" &lt;&lt; expectedMessage;\n\n    if (expectedMessage &gt; MessageCoder::MaxMessageSize())\n    {\n       //TO_DO Traces() &lt;&lt; \"\\n\" &lt;&lt; \"ERR: Protocol error. Message too long:\" &lt;&lt; std::string(data_to_read);\n       //TO_DO expectedMessage = 0;\n       //TO_DO Close();\n        expectedMessage = 0;\n\n        boost::asio::async_read(socket_,\n           boost::asio::buffer(data_to_read, MessageCoder::BufferSize()), boost::asio::transfer_all(),\n           boost::bind(&amp;TCPSocketBody::HandleReadHeader, this,\n             boost::asio::placeholders::error));\n    } else\n    {\n        boost::asio::async_read(socket_,\n           boost::asio::buffer(data_to_read, expectedMessage), boost::asio::transfer_all(),\n           boost::bind(&amp;TCPSocketBody::HandleReadMessage, this,\n             boost::asio::placeholders::error));\n    }\n}\n\nvoid TCPSocketBody::HandleReadMessage(const boost::system::error_code&amp; error)\n{\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::HandleReadMessage(const boost::system::error_code&amp; error)\";\n\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: Message received: \" &lt;&lt; std::string(data_to_read);\n\n    Message tempMessage;\n    tempMessage.CopyData(meWsk, data_to_read);\n    messageQueue-&gt;PushBack(tempMessage);\n    expectedMessage = 0;        \n\n    boost::asio::async_read(socket_,\n       boost::asio::buffer(data_to_read, MessageCoder::BufferSize()), boost::asio::transfer_all(),\n       boost::bind(&amp;TCPSocketBody::HandleReadHeader, this,\n         boost::asio::placeholders::error));\n}\n\nvoid TCPSocketBody::WriteMessage(char *dataToSend)\n{\n    io_service_global.post(boost::bind(&amp;TCPSocketBody::Write, this, dataToSend));\n}\n\nvoid TCPSocketBody::Write(char *dataToSend)\n{\n    TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::Write(char *dataToSend)\";\n\n    writeMutex.lock();\n    data = dataToSend;\n\n    boost::asio::async_write(socket_,\n        boost::asio::buffer(data, std::strlen(data)),\n        boost::bind(&amp;TCPSocketBody::HandleWrite, this,\n          boost::asio::placeholders::error));\n\n}\n\nvoid TCPSocketBody::HandleWrite(const boost::system::error_code&amp; error)\n{\n  TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::HandleWrite(const boost::system::error_code&amp; error)\";\n\n  writeMutex.unlock();\n\n  if (!error)\n  {\n\n      /*boost::asio::async_write(socket_,\n          boost::asio::buffer(data,\n            std::strlen(data)),\n          boost::bind(&amp;TCPSocketBody::HandleWrite, this,\n            boost::asio::placeholders::error));*/\n  }\n  else\n  {\n        Traces() &lt;&lt; \"\\n\" &lt;&lt; \"ERR: Write error!\";\n        Close();\n  }\n}\n\nvoid TCPSocketBody::DoClose()\n{\n  TRACE_FLAG_FOR_CLASS_TCPSocketBody Traces() &lt;&lt; \"\\n\" &lt;&lt; \"LOG: void TCPSocketBody::DoClose()\";\n\n  socket_.close();  \n  connected = false;\n  Message tempMessage;\n  char *buffer = new char[MessageCoder::MaxMessageConnectionCloseSize()];\n  MessageCoder::ClearChar(buffer, MessageCoder::MaxMessageConnectionCloseSize());\n  MessageCoder::CreateCloseConnectionMessage(buffer);\n  tempMessage.CopyWsk(meWsk, buffer);\n  messageQueue-&gt;PushBack(tempMessage);  \n\n}\n\nTCPSocketBody::~TCPSocketBody()\n{\n    delete [] data_to_read;\n}\n</code></pre>\n\n<p>I will be grateful for any help.</p>\n"}, {"tags": ["c++", "opencv", "image-stitching", "opencv-stitching"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1477496930, "post_id": 40266171, "comment_id": 67793784, "body": "Shouldn&#39;t it be: <code>Mat rearLensImage(srcImage, Rect(srcImage.cols &#47; 2, 0, srcImage.cols &#47; 2, srcImage.rows));</code>? However, you need the images to overlap... so you can try with: <code>Mat frontLensImage(srcImage, Rect(0, 0, 3 * srcImage.cols &#47; 4, srcImage.rows)); Mat rearLensImage(srcImage, Rect(srcImage.cols &#47; 4, 0, 3 * srcImage.cols &#47; 4, srcImage.rows));</code>"}, {"owner": {"reputation": 31, "user_id": 7075752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4687cf6732183bf6f8e7fb142164c58?s=128&d=identicon&r=PG&f=1", "display_name": "neobanshee", "link": "https://stackoverflow.com/users/7075752/neobanshee"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1477499240, "post_id": 40266171, "comment_id": 67795262, "body": "Thanks for the fast reply! I didn&#39;t know about the overlap so that&#39;s good to know. It still doesn&#39;t work using your code though. I get this error: <code>Assertion failed (size.width&gt;0 &amp;&amp; size.height&gt;0) in imshow</code>"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7075752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4687cf6732183bf6f8e7fb142164c58?s=128&d=identicon&r=PG&f=1", "display_name": "neobanshee", "link": "https://stackoverflow.com/users/7075752/neobanshee"}, "is_accepted": true, "score": 1, "last_activity_date": 1477920565, "creation_date": 1477920565, "answer_id": 40343183, "question_id": 40266171, "link": "https://stackoverflow.com/questions/40266171/opencv-c-stitcher-not-writing-to-outputarray/40343183#40343183", "title": "OpenCV (C++) stitcher not writing to OutputArray", "body": "<p>Kinda solved it. Apparently, OpenCVs memory management doesn't like you referencing the same address all the time. Since both of my images are dependant on <code>srcImage</code> I assume this is where the error was. I did a quick workaround which looks like this:</p>\n\n<pre><code>Mat unprocessedFrontLensImage(srcImage, Rect(0, 0, 3 * srcImage.cols / 4, srcImage.rows));\nMat unprocessedRearLensImage(srcImage, Rect(srcImage.cols / 4, 0, 3 * srcImage.cols / 4, srcImage.rows));\nimwrite(\"left.jpg\", unprocessedFrontLensImage);\nimwrite(\"right.jpg\", unprocessedRearLensImage);\nMat frontLensImage = imread(\"left.jpg\");\nMat rearLensImage = imread(\"right.jpg\");\n</code></pre>\n\n<p>Works like a charm. Don't teach me about redundancy, I know. I'm gonna clean up and refactor it, this is just my workaround for now.</p>\n"}], "owner": {"reputation": 31, "user_id": 7075752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4687cf6732183bf6f8e7fb142164c58?s=128&d=identicon&r=PG&f=1", "display_name": "neobanshee", "link": "https://stackoverflow.com/users/7075752/neobanshee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 40343183, "answer_count": 1, "score": 2, "last_activity_date": 1477920565, "creation_date": 1477495324, "question_id": 40266171, "link": "https://stackoverflow.com/questions/40266171/opencv-c-stitcher-not-writing-to-outputarray", "title": "OpenCV (C++) stitcher not writing to OutputArray", "body": "<p>I'm currently playing around with a 360\u00b0 camera and want to use OpenCV's spherical warper for that. However, each time I try to run a simple program that makes use of the stitcher functionality, it fails to return a stitched image. I'm basically just taking the 360\u00b0 picture, divide it into two separate pictures (front- and rear lens) and want to stitch them back together.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>Mat srcImage = imread(\"assets/360_0043.JPG\");\nMat frontLensImage(srcImage, Rect(0, 0, srcImage.cols / 2, srcImage.rows));\nMat rearLensImage(srcImage, Rect(srcImage.rows, 0, srcImage.cols / 2, srcImage.rows));\n\nvector&lt;Mat&gt; imagesToStitch;\nimagesToStitch.push_back(frontLensImage);\nimagesToStitch.push_back(rearLensImage);\n\nMat panorama;\nStitcher stitcher = Stitcher::createDefault();\nif(!imagesToStitch.empty()){\n    stitcher.stitch(imagesToStitch, panorama);\n    imshow(\"test\", panorama);\n    waitKey(0);\n}\nelse{\n    cout &lt;&lt; \"ERROR: Image array empty\" &lt;&lt; endl;\n}\n\nreturn 0;\n</code></pre>\n\n<p>When trying to run, it returns this error:</p>\n\n<pre><code>OpenCV Error: Assertion failed (ssize.area() &gt; 0) in resize, file /build/opencv-SviWsf/opencv-2.4.9.1+dfsg/modules/imgproc/src/imgwarp.cpp, line 1834\nterminate called after throwing an instance of 'cv::Exception'\nwhat():  /build/opencv-SviWsf/opencv-2.4.9.1+dfsg/modules/imgproc/src/imgwarp.cpp:1834: error: (-215) ssize.area() &gt; 0 in function resize\n</code></pre>\n\n<p>When debugging, <code>panorama</code> is an empty object even though I pass it as the <code>OutputArray</code>to <code>stitcher.stitch</code>. I searched the web thoroughly and couldn't find a solution, so any help would be greatly appreciated!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 6, "creation_date": 1477494789, "post_id": 40265953, "comment_id": 67792362, "body": "Certainly. It will, however, require code I&#39;m afraid. How&#39;d yours turn out? (I&#39;m assuming not so well, otherwise you wouldn&#39;t be here). Perhaps post it <i>in your question</i> and we can see where the problem is?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1477495341, "post_id": 40265953, "comment_id": 67792740, "body": "This post may be of use: <a href=\"http://stackoverflow.com/a/25385766/3807729\">stackoverflow.com/a/25385766/3807729</a> not sure it qualifies as a duplicate or not."}, {"owner": {"reputation": 43, "user_id": 7062133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b75f8ed38e418d3b716bd12dad8c8b?s=128&d=identicon&r=PG&f=1", "display_name": "bfriz_96", "link": "https://stackoverflow.com/users/7062133/bfriz-96"}, "edited": false, "score": 0, "creation_date": 1477504627, "post_id": 40265953, "comment_id": 67798232, "body": "I&#39;ve tried erasing the character at the index, but that throws an error because the index is thereby empty."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7062133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b75f8ed38e418d3b716bd12dad8c8b?s=128&d=identicon&r=PG&f=1", "display_name": "bfriz_96", "link": "https://stackoverflow.com/users/7062133/bfriz-96"}, "edited": false, "score": 0, "creation_date": 1477503942, "post_id": 40266150, "comment_id": 67797864, "body": "Not too familiar with boost. Is there an article where I could learn more about using it in this context? Or is there a more universal option?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 43, "user_id": 7062133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b75f8ed38e418d3b716bd12dad8c8b?s=128&d=identicon&r=PG&f=1", "display_name": "bfriz_96", "link": "https://stackoverflow.com/users/7062133/bfriz-96"}, "edited": false, "score": 0, "creation_date": 1477508121, "post_id": 40266150, "comment_id": 67800231, "body": "@bfriz_96 Nothing quite so elegant. You could <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/find_first_not_of\" rel=\"nofollow noreferrer\"><code>find_first_not_of</code></a> and <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/find_last_not_of\" rel=\"nofollow noreferrer\"><code>find_last_not_of</code></a> and get the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/substr\" rel=\"nofollow noreferrer\"><code>substr</code></a> between them"}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "reply_to_user": {"reputation": 43, "user_id": 7062133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b75f8ed38e418d3b716bd12dad8c8b?s=128&d=identicon&r=PG&f=1", "display_name": "bfriz_96", "link": "https://stackoverflow.com/users/7062133/bfriz-96"}, "edited": false, "score": 0, "creation_date": 1477574024, "post_id": 40266150, "comment_id": 67829398, "body": "@bfriz_96 Here is an overview/tutorial for boost string algos: <a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/string_algo/usage.html\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_62_0/doc/html/string_algo/usage.html</a>"}], "tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": true, "score": 8, "last_activity_date": 1477495642, "last_edit_date": 1477495642, "creation_date": 1477495266, "answer_id": 40266150, "question_id": 40265953, "link": "https://stackoverflow.com/questions/40265953/remove-punctuation-from-beginning-and-end-of-string-c/40266150#40266150", "title": "Remove punctuation from beginning and end of string c++", "body": "<p>You can do that with <a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/string_algo/reference.html#header.boost.algorithm.string.trim_hpp\"><code>boost::trim_if</code></a>:</p>\n\n<pre><code>std::string a = \"!wow!\";\nboost::trim_if(a, [](char c) { return std::ispunct(c); });\nstd::cout &lt;&lt; a &lt;&lt; '\\n';\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>wow\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 7062133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40b75f8ed38e418d3b716bd12dad8c8b?s=128&d=identicon&r=PG&f=1", "display_name": "bfriz_96", "link": "https://stackoverflow.com/users/7062133/bfriz-96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 40266150, "answer_count": 1, "score": 2, "last_activity_date": 1477495642, "creation_date": 1477494666, "question_id": 40265953, "link": "https://stackoverflow.com/questions/40265953/remove-punctuation-from-beginning-and-end-of-string-c", "title": "Remove punctuation from beginning and end of string c++", "body": "<p>Is there a way to remove punctuation specifically from the beginning and end of a string, while leaving contractions and possessives alone?</p>\n\n<p>e.g \"!wow!\" would become \"wow\" and \"can't\" would stay \"can't\"</p>\n"}, {"tags": ["c++", "c++11", "inheritance", "interface", "abstract-class"], "comments": [{"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 1, "creation_date": 1477494721, "post_id": 40265936, "comment_id": 67792311, "body": "You&#39;re wrong - the moment you use the word virtual you get a vtable for any object of that class; or anything that derives from it"}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477494755, "post_id": 40265936, "comment_id": 67792333, "body": "I&#39;m afraid I&#39;m not: I&#39;ve looked at the generated object code for all three cases"}, {"owner": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 7, "creation_date": 1477494833, "post_id": 40265936, "comment_id": 67792390, "body": "Why does <code>Base</code> exist if you never use it?  The way to make sure no code is generated to support polymorphism is to have no polymorphism."}, {"owner": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "edited": false, "score": 4, "creation_date": 1477495189, "post_id": 40265936, "comment_id": 67792636, "body": "I would take a look at <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Curiously_recurring_template_pattern</a>. Which would be able to achieve &quot;static polymorphism&quot;."}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 19619, "user_id": 4151599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dpkLj.jpg?s=128&g=1", "display_name": "Miles Budnek", "link": "https://stackoverflow.com/users/4151599/miles-budnek"}, "edited": false, "score": 0, "creation_date": 1477495411, "post_id": 40265936, "comment_id": 67792789, "body": "@MilesBudnek I think that&#39;s really the key question. I have various derived classes that have similar / identical parts, but also differences. I thought to put the shared bits in a parent class and the custom bits in the derived class. I also wanted to force myself to write particular methods in the derived clases, defining a template implementation."}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 2103, "user_id": 1865694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bP5UU.jpg?s=128&g=1", "display_name": "Alex Zywicki", "link": "https://stackoverflow.com/users/1865694/alex-zywicki"}, "edited": false, "score": 0, "creation_date": 1477495454, "post_id": 40265936, "comment_id": 67792824, "body": "@AlexZywicki That looks fascinating and may be exactly what I need! I&#39;ll have a read."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477495555, "post_id": 40265936, "comment_id": 67792881, "body": "CRTP was my immediate thought.  You may have to give up forcing yourself to write particular methods."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1477495594, "post_id": 40265936, "comment_id": 67792908, "body": "CRTP is not a way to reduce code size, unless you have an aggressive optimizing linker like gold or msvc&#39;s.  How little ram do you have?! Vtables for tiny classes are tiny."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477495630, "post_id": 40265936, "comment_id": 67792925, "body": "An alternative approach is to use <code>nm</code> to check the resulting executable (before stripping) to see if it contains to the vtable - and fail the build if it does.  This makes it a link time error, but at least you find it soon after the change.  CRTP feels cleaner though."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477495646, "post_id": 40265936, "comment_id": 67792936, "body": "@CharlieB just remember that there is nothing in the C++ standard about vtables, it&#39;s just a common compiler mechanism to keep track of what&#39;s going on.  All your samples you say are not valid are created with new.  This might be all that&#39;s needed, not using new"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477495759, "post_id": 40265936, "comment_id": 67793012, "body": "I think it&#39;s the use of the pointer (or reference) that is the problem, not <code>new</code> per-se.  <code>Derived d, *p=&amp;d; p-&gt;ThisMustBeDefined();</code> might show the problem, or the compiler might be able to optimize it away.  Add in a few layers of function, and you are on to a loser."}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1477495840, "post_id": 40265936, "comment_id": 67793072, "body": "@Yakk 2048 bytes! So 10 methods in a 3 layer deep class structure is 60 bytes which, although small, is not negligible."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1477495981, "post_id": 40265936, "comment_id": 67793171, "body": "@MartinBonner <i>&quot;You may have to give up forcing yourself to write particular methods.&quot;</i> Not necessarily. You can add static checks to the base for their existence in the derived class."}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477496032, "post_id": 40265936, "comment_id": 67793204, "body": "@MartinBonner I ran though your example Martin and it seems like the compiler works that out fine. Whether it&#39;s just because the code is so simple though I don&#39;t know."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477496205, "post_id": 40265936, "comment_id": 67793306, "body": "Is that 2048 bytes of code space, or RAM?  vtables ought to be going in ROM.  Note that the one thing <code>virtual</code> will definitely give you is a vptr.  If you have 32-bit pointers (not an absolute given in such a constrained environment), that&#39;s a problem anyway."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477496316, "post_id": 40265936, "comment_id": 67793380, "body": "How do we migrate this discussion to <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>"}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477496451, "post_id": 40265936, "comment_id": 67793466, "body": "@MartinBonner That&#39;s RAM. Annoyingly, the avr compiler puts vtables into RAM even though it seems like it obviously shouldn&#39;t. See e.g. <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=43745\" rel=\"nofollow noreferrer\">gcc.gnu.org/bugzilla/show_bug.cgi?id=43745</a>"}, {"owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "edited": false, "score": 0, "creation_date": 1477496550, "post_id": 40265936, "comment_id": 67793516, "body": "Chat room: <a href=\"http://chat.stackoverflow.com/rooms/126746/abstract-class-as-an-interface-without-the-vtable\">chat.stackoverflow.com/rooms/126746/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1477502464, "post_id": 40268070, "comment_id": 67797020, "body": "Instead of <code>int(*)(void)</code>, you should use <code>int(T::*)(void)</code> for the check to be valid. This error could be avoidable with the <code>is_detected</code> metafunction and expression sfinae, and won&#39;t require a macro."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1477502523, "post_id": 40268070, "comment_id": 67797047, "body": "@GuillaumeRacicot THX for fixing."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1477502541, "post_id": 40268070, "comment_id": 67797054, "body": "To be honest, theat looks awful and more like C than C++ code. It also disallows features C++ is typically used for (and which require vtables). Sometimes it is better to be consequent and use the correct language for a problem. Here OP would be better-off using C from the start. This does not imply not using OOP, but it just means you have full control on what goes on and no hidden overhead."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1477502625, "post_id": 40268070, "comment_id": 67797100, "body": "@GuillaumeRacicot <a href=\"http://en.cppreference.com/w/cpp/experimental/is_detected\" rel=\"nofollow noreferrer\"><code>is_detected</code></a> is experimental though."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 2, "creation_date": 1477502647, "post_id": 40268070, "comment_id": 67797120, "body": "@Olaf I don&#39;t know why OP should be using C, especially when he want to do such abstractions."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1477502677, "post_id": 40268070, "comment_id": 67797141, "body": "@Olaf Awww, c&#39;mon ;)"}, {"owner": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 1, "creation_date": 1477503289, "post_id": 40268070, "comment_id": 67797470, "body": "Would it help for the templated base class to inherit from a non-templated base? In terms of avoiding duplicate code."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 13954, "user_id": 3422652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/sQ3DW.jpg?s=128&g=1", "display_name": "Chris Drew", "link": "https://stackoverflow.com/users/3422652/chris-drew"}, "edited": false, "score": 0, "creation_date": 1477503400, "post_id": 40268070, "comment_id": 67797531, "body": "@ChrisDrew Yes, the common stuff could be moved out to another base class. Any of the <i>abstract</i> functions would still be duplicated though."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1477536871, "post_id": 40268070, "comment_id": 67809944, "body": "@GuillaumeRacicot: Simply because he apparently wants to have full control over the the generated output, i.e. no hidden data-structures. There are good applications for C++, there are good applications for Python and there are good applications for C. A highly restricted device is best served with the latter. - Without much loss of comfort."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1477536977, "post_id": 40268070, "comment_id": 67809965, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6: Your work-around might generate actually more overhead than a vtable, depending on the actual class structure and code. But hey, it is not my project, so I did not DV, just comment."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1477536993, "post_id": 40268070, "comment_id": 67809970, "body": "@Olaf Even small devices can be under full control using c++ code, as long you know well what you&#39;re doing."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1477537341, "post_id": 40268070, "comment_id": 67810062, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6: Sure, but it cannot exploit C++ features well. Sometimes a different OOP approach is better. And here C++ can cause more trouble (i.e. larger binary, less readable, ...) than good. Without the whole project in view, it is not possible to tell, but sometimes a lean language indeed <b>is</b> better. After all, one has not to carefully think about ever design-decission if that generates hidden overhead. And for the &quot;what you are doing&quot; - well, that is <b>always</b> the problem, isn&#39;t it? ;-)"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 8, "last_activity_date": 1477503968, "last_edit_date": 1495535252, "creation_date": 1477500968, "answer_id": 40268070, "question_id": 40265936, "link": "https://stackoverflow.com/questions/40265936/abstract-class-as-an-interface-without-the-vtable/40268070#40268070", "title": "Abstract class as an interface, without the vtable", "body": "<p>As it was already mentioned in the comments you can use the <a href=\"https://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">CRTP</a> (aka static polymorphism) to avoid creation of a vtable:</p>\n\n<pre><code>template &lt;typename Der&gt;\nclass Base {\n  public:\n    Base() {}\n    ~Base() {};\n\n    int thisMustBeDefined() {\n        // Will fail to compile if not declared in Der\n        static_cast&lt;Der*&gt;(this)-&gt;thisMustBeDefined();\n    }\n    int thisCouldBeOverwritten() { return 10; }\n    int thisWillBeUsedAsIs() { return 999; }\n};\n\nclass Derived : public Base&lt;Derived&gt; {\n  public:\n    Derived() {}\n    ~Derived() {}\n\n    int thisMustBeDefined() { return 11; }\n\n    // Works since you call Derived directly from main()\n    int thisCouldBeOverwritten() { return 20; }\n\n};\n</code></pre>\n\n<hr>\n\n<p>To make compiler errors more readable if a function is not implemented in <code>Derived</code> you can use a simple static check like provided in <a href=\"https://stackoverflow.com/a/23133787/1413395\">this answer</a>:</p>\n\n<pre><code>#define DEFINE_HAS_SIGNATURE(traitsName, funcName, signature)               \\\n    template &lt;typename U&gt;                                                   \\\n    class traitsName                                                        \\\n    {                                                                       \\\n    private:                                                                \\\n        template&lt;typename T, T&gt; struct helper;                              \\\n        template&lt;typename T&gt;                                                \\\n        static std::uint8_t check(helper&lt;signature, &amp;funcName&gt;*);           \\\n        template&lt;typename T&gt; static std::uint16_t check(...);               \\\n    public:                                                                 \\\n        static                                                              \\\n        constexpr bool value = sizeof(check&lt;U&gt;(0)) == sizeof(std::uint8_t); \\\n    }\n\nDEFINE_HAS_SIGNATURE(thisMustBeDefined, T::thisMustBeDefined, int(*)(void));\n</code></pre>\n\n<p>and add the static check to the <code>Base</code> constructor:</p>\n\n<pre><code>Base() {\n    static_assert(thisMustBeDefined&lt;Der&gt;::thisMustBeDefined, \n                  \"Derived class must implement thisMustBeDefined\");\n}\n</code></pre>\n\n<hr>\n\n<p>Though one drawback you should consider when working on a small device, and you have more versions of <code>Derived</code> at a time is that the code in <code>Base</code> will be duplicated for each <code>Derived</code> instance.</p>\n\n<p>So you have to decide if what's the more important limitation for your use case.</p>\n\n<p>As @ChrisDrew pointed out in their <a href=\"https://stackoverflow.com/questions/40265936/abstract-class-as-an-interface-without-the-vtable/40268070?noredirect=1#comment67797470_40268070\">comment</a>, moving the <code>thisCouldBeOverwritten()</code> and <code>thisWillBeUsedAsIs()</code> functions to another base class that the <code>Base</code> template class derives from would facilitate that problem.</p>\n"}], "owner": {"reputation": 626, "user_id": 2274668, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3f7c1ce350e8cd3d565ba9add075871?s=128&d=identicon&r=PG", "display_name": "CharlieB", "link": "https://stackoverflow.com/users/2274668/charlieb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2412, "favorite_count": 3, "accepted_answer_id": 40268070, "answer_count": 1, "score": 12, "last_activity_date": 1477503968, "creation_date": 1477494622, "last_edit_date": 1477494922, "question_id": 40265936, "link": "https://stackoverflow.com/questions/40265936/abstract-class-as-an-interface-without-the-vtable", "title": "Abstract class as an interface, without the vtable", "body": "<p>I'd like to make an abstract class that defines some methods of a class. Some of these should be implemented by the base class (Base), some should be defined in Base but overwritten by Derived and others should be pure virtual in Base to force definition in Derived.</p>\n\n<p>This is of course what abstract classes are for. However, my application will only ever use the Derived object directly. Because of this, the compiler should know at compile-time exactly which methods are to be used. </p>\n\n<p>Now, because this code will run on a microcontroller with very limited RAM, I'm keen to avoid actually using a virtual class with the vtable this entails. From my testing it seems that the compiler is smart enough to not make a vtable unless it has to, at least in some circumstances. However I've been told to never trust the compiler: is it possible to make this a required condition of compilation?</p>\n\n<p>Here are some code examples:</p>\n\n<h3>Classes</h3>\n\n<pre><code>class Base {\n  public:\n    Base() {}\n    virtual ~Base() {};\n\n    virtual int thisMustBeDefined() = 0;\n    virtual int thisCouldBeOverwritten() { return 10; }\n    int thisWillBeUsedAsIs() { return 999; }\n};\n\nclass Derived : public Base {\n  public:\n    Derived() {}\n    ~Derived() {}\n\n    int thisMustBeDefined() { return 11; }\n\n};\n</code></pre>\n\n<h3>No vtable</h3>\n\n<p>This has no vtable and is what I want</p>\n\n<pre><code>int main() {\n  Derived d;\n  d.thisMustBeDefined();\n}\n</code></pre>\n\n<h3>Yes vtable 1</h3>\n\n<p>As a result of my sloppy coding, I've mistakenly forced the compiler to use polymorphism and therefore to require a vtable. How can I make this case throw an error?</p>\n\n<pre><code>int main() {\n  Base * d;\n  d = new Derived();\n  d-&gt;thisMustBeDefined();\n}\n</code></pre>\n\n<h3>Yes vtable 2</h3>\n\n<p>Here I've not refered to the class \"Base\" at any point, so the compiler should know that all the methods are pre-determined at compile time. However it still creates a vtable. This is another example of why I want to be able to detect this with a compile error. </p>\n\n<pre><code>int main() {\n  Derived * d;\n  d = new Derived();\n  d-&gt;thisMustBeDefined();\n}\n</code></pre>\n\n<p><strong>In other words, I want it to be a compiler error if I write code that results in the compiler producing a vtable for my classes, i.e. uses polymorphism.</strong></p>\n"}, {"tags": ["c++", "qt", "qml"], "answers": [{"comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 1, "creation_date": 1477498700, "post_id": 40266579, "comment_id": 67794956, "body": "Good advice: we live in a world where things happen asynchronously, and this is reflected in how software works, too. The code should react to things, not wait for them."}], "tags": [], "owner": {"reputation": 4799, "user_id": 6842725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d760417ddd74d615520fcdabd6c42ef?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Krammer", "link": "https://stackoverflow.com/users/6842725/kevin-krammer"}, "is_accepted": true, "score": 2, "last_activity_date": 1477496448, "creation_date": 1477496448, "answer_id": 40266579, "question_id": 40265844, "link": "https://stackoverflow.com/questions/40265844/how-to-make-c-wait-for-user-input-from-qml/40266579#40266579", "title": "How to make C++ wait for user input from QML", "body": "<p>You are in a single threaded application and your thread executes a loop that never ends.</p>\n\n<p>Instead of trying to loop just remember that you are in an event driven system.\nJust react to the signal.</p>\n\n<p>Btw, it is a lot better to avoid creating dependencies for C++ on QML code, so instead of retrieving the root object, connecting to its signal and calling its function, expose the C++ object and let the QML code call the C++ logic.\nSee <code>QQmlContext::setContextProperty(QString, QObject*)</code></p>\n"}], "owner": {"reputation": 13, "user_id": 5026073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e79551b84fc54be2a8694bbdac4a2b5?s=128&d=identicon&r=PG&f=1", "display_name": "raddus", "link": "https://stackoverflow.com/users/5026073/raddus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 519, "favorite_count": 0, "accepted_answer_id": 40266579, "answer_count": 1, "score": 1, "last_activity_date": 1477496448, "creation_date": 1477494346, "question_id": 40265844, "link": "https://stackoverflow.com/questions/40265844/how-to-make-c-wait-for-user-input-from-qml", "title": "How to make C++ wait for user input from QML", "body": "<p>I'm creating a game and currently I've encountered a problem with QML. I need to make my C++ thread wait for user to make a decision which will be received by some QML component (for example MouseArea). To demonstrate the problem better, I've written some simple code that represents what I'm trying to do:</p>\n\n<pre><code>//main.cpp\n#include &lt;QApplication&gt;\n#include \"someclass.h\"\n\nint main(int argc, char *argv[])\n{\n    QApplication a(argc, argv);\n    SomeClass c;\n\n    return a.exec();\n}\n\n//someclass.h\n#ifndef SOMECLASS_H\n#define SOMECLASS_H\n\n#include &lt;QQuickView&gt;\n#include &lt;QQuickItem&gt;\n#include &lt;QObject&gt;\n\nclass SomeClass : public QObject\n{\n    Q_OBJECT\npublic:\n    SomeClass();\n\n    void lock();\n\npublic slots:\n    void unlock();\n\nprivate:\n    QQuickView view;\n    bool unlockSignalReceived;\n};\n\n#endif // SOMECLASS_H\n\n//someclass.cpp\n#include \"someclass.h\"\n\nSomeClass::SomeClass()\n{\n    view.setSource(QUrl(\"qrc:/QMLFile.qml\"));\n    view.setGeometry(0,0,1000,1000);\n    view.show();\n    unlockSignalReceived=1;\n    QObject::connect(view.rootObject(), SIGNAL(click()),this, SLOT(unlock()));\n    lock();\n    QMetaObject::invokeMethod(view.rootObject(), \"changeColor\", Q_ARG(QVariant, \"green\"));\n}\n\nvoid SomeClass::lock()\n{\n    unlockSignalReceived=0;\n    while (!unlockSignalReceived);\n}\n\nvoid SomeClass::unlock()\n{\n    unlockSignalReceived=1;\n}\n\n//qmlfile.qml\nimport QtQuick 2.5\n\nItem {\n    id: root\n\n    anchors.fill: parent\n\n    function changeColor(color)\n    {\n        rec.color = color;\n    }\n\n    signal click()\n\n    Rectangle{\n        id: rec\n\n        anchors.fill: parent\n\n        color: \"red\"\n    }\n    MouseArea{\n        id: mArea\n\n        anchors.fill: parent\n\n        onClicked: click()\n    }\n}\n</code></pre>\n\n<p>I think that it should show a red rectangle that, when the user clicks it, changes its color to green. If I remember correctly Qt GUI is run in different thread than C++ logic thread, so I guess that it should be able to execute unlock() slot during lock() execution. But if it doesn't work, then probably I'm totally wrong. What is even more interesting, the rectangle doesn't even show, albeit view.setSource(QUrl) is invoked before lock(). Could someone explain, why it doesn't work and how to deal with this problem?</p>\n"}, {"tags": ["c++", "templates", "derived-class", "pointer-to-member"], "comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1477494456, "post_id": 40265798, "comment_id": 67792115, "body": "have you tried to <code>static_cast</code> <code>this</code> to appropriate type?"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477494531, "post_id": 40265798, "comment_id": 67792165, "body": "I suggest you take a look at how many of the <a href=\"http://en.cppreference.com/w/cpp/algorithm\" rel=\"nofollow noreferrer\">standard library alhorithm functions</a> handle things like predicated and callbacks, using templates. I also suggest you read about <a href=\"http://en.cppreference.com/w/cpp/utility/functional/function\" rel=\"nofollow noreferrer\"><code>std::function</code></a> and <a href=\"http://en.cppreference.com/w/cpp/utility/functional/bind\" rel=\"nofollow noreferrer\"><code>std::bind</code></a>."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477494620, "post_id": 40265798, "comment_id": 67792243, "body": "As for your error, in the <code>on_message</code> function <code>this</code> is not a pointer to an <code>SysImpl</code> object."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477494668, "post_id": 40265798, "comment_id": 67792277, "body": "@Someprogrammerdude I think OP uses CRTP so it can be actually pointer to <code>SysImpl</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4113344"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1477494749, "post_id": 40265798, "comment_id": 67792330, "body": "@W.F. Thanks! That did it! I&#39;m a bit rusty with templates and all that jazz, I guess but that worked."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4113344"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477494831, "post_id": 40265798, "comment_id": 67792386, "body": "@Someprogrammerdude I don&#39;t use the standard template library in fact and that is intentional as the program shall run on AVR (Atmel microcontroller). Size matters."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1477495038, "post_id": 40265798, "comment_id": 67792533, "body": "@Someprogrammerdude true of course, but it&#39;s easy as cast to make it <code>SysImpl *</code>. We are sure that <code>this</code> can be treated as <code>SysImpl *</code> because of used CRTP..."}], "answers": [{"comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 2, "creation_date": 1477495294, "post_id": 40266098, "comment_id": 67792707, "body": "we could perform <code>static_assert</code> to check if <code>Derived</code> is same as <code>Base</code>"}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": true, "score": 2, "last_activity_date": 1477495113, "creation_date": 1477495113, "answer_id": 40266098, "question_id": 40265798, "link": "https://stackoverflow.com/questions/40265798/pointer-to-member-type-incompatible-with-object-type-when-calling-a-pointer-to-a/40266098#40266098", "title": "Pointer to member type incompatible with object type when calling a pointer to a member of a derived class", "body": "<p>In the <code>on_message</code> function the variable <code>this</code> is not a pointer to <code>SysImpl</code>, it's type is <code>Node&lt;CID_SYS, CAN&gt;*</code>. The <code>Node</code> template class have no member <code>on_notify</code> so you can't call it on an instance of <code>Node</code>. It must be called on an instance of <code>Derived</code> (which should be <code>SysImpl</code>).</p>\n\n<p>That's why you get the error and need to cast <code>this</code> to <code>Derived*</code>:</p>\n\n<pre><code>(static_cast&lt;Derived*&gt;(this)-&gt;*(call))(...);\n</code></pre>\n\n<p>Of course, this only works if <code>Derived</code> actually <em>is</em> derived from the <code>Node</code> class.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4113344"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1561, "favorite_count": 1, "accepted_answer_id": 40266098, "answer_count": 1, "score": 2, "last_activity_date": 1477495113, "creation_date": 1477494232, "question_id": 40265798, "link": "https://stackoverflow.com/questions/40265798/pointer-to-member-type-incompatible-with-object-type-when-calling-a-pointer-to-a", "title": "Pointer to member type incompatible with object type when calling a pointer to a member of a derived class", "body": "<p>I have defined a class template such as this one:</p>\n\n<pre><code>template &lt;const category_id_t category, class Base&gt;\nclass Node : public Base\n{\n...\n    template &lt;typename Derived, class T&gt;\n    void on_message( const frame_t&amp; frame, void (Derived::*call)(const T*) )\n    {\n        if ( frame.length == sizeof(T) )\n            (this-&gt;*(call))((T*)frame.data);\n    }\n}\n</code></pre>\n\n<p>The argument <code>category</code> serves as a token to implement several similar classes and provide proper specialization according to specific categories. The above class is then derived like this:</p>\n\n<pre><code>template &lt;class Base&gt;\nclass Sys : public Node&lt;CID_SYS, Base&gt;\n{\n    Sys() : Node&lt;CID_SYS, Base&gt;() { /* ... */ }\n    ....\n};\n</code></pre>\n\n<p>Class <code>Sys</code> is only a class that provides an base interface to objects of category <code>CID_SYS</code> (enum, value = 5) and serves as a base class to the actual implementation of the interface:</p>\n\n<pre><code>class SysImpl : public Sys&lt;CAN&gt;\n{\n    ...\n    /* Parse remote notifications */\n    void on_notify( const state_info_t* ) { /* ... */ }\n};\n\nSysImpl sys;\n</code></pre>\n\n<p>Finally I have a function that calls the base class <code>Node&lt;CID_SYS, Base&gt;</code> member function <code>on_message()</code> like this:</p>\n\n<pre><code>void foo(const frame_t&amp; frame)\n{ sys.on_message(frame, &amp;SysImpl::on_notify ); }\n</code></pre>\n\n<p>The compiler throws an error around the line <code>(this-&gt;*(call))((T*)frame.data)</code> saying</p>\n\n<blockquote>\n  <p>error: pointer to member type 'void (SysImpl::)(const state_info_t*)' is incompatible with object type 'Node&lt;(category_id_t)5u, CAN>'</p>\n</blockquote>\n\n<p>The compiler has successfully guessed what template function to call, it's just that it doesn't seem to \"recognize\" that <code>this</code> is from a derived class.</p>\n\n<p>What I'd like is to call any member function of a class derived from <code>Node&lt;CID_SYS, CAN&gt;</code>, not only stand-alone functions (which works perfectly well so far, not shown in the excerpt above).</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["c++", "templates", "variadic-templates"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1477494575, "post_id": 40265704, "comment_id": 67792207, "body": "is <a href=\"http://melpon.org/wandbox/permlink/6n2WUv4tG2cW8Udp\" rel=\"nofollow noreferrer\">this</a> what you want?"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1477494616, "post_id": 40265704, "comment_id": 67792242, "body": "Does <a href=\"http://stackoverflow.com/a/6744787/6387170\">this</a> help"}, {"owner": {"reputation": 1837, "user_id": 82480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d7188b71bb68504ca7fc1c27195765a8?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/82480/christoph"}, "edited": false, "score": 0, "creation_date": 1477494756, "post_id": 40265704, "comment_id": 67792334, "body": "This is insane! Did you just code that?"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1477495084, "post_id": 40265704, "comment_id": 67792565, "body": "@Christoph no, that code for <code>GenSeq</code> makes me a little dizzy ;)"}], "answers": [{"tags": [], "owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "is_accepted": false, "score": 0, "last_activity_date": 1477495037, "last_edit_date": 1477495037, "creation_date": 1477494732, "answer_id": 40265977, "question_id": 40265704, "link": "https://stackoverflow.com/questions/40265704/create-a-sequence-of-explicit-function-template-instantiations/40265977#40265977", "title": "Create a sequence of explicit function template instantiations", "body": "<p>Do you mean something as follows?</p>\n\n<pre><code>template &lt;std::size_t ...&gt;\nstruct range\n { };\n\ntemplate &lt;std::size_t N, std::size_t ... Next&gt;\nstruct rangeH \n { using type = typename rangeH&lt;N-1U, N-1U, Next ... &gt;::type; };\n\ntemplate &lt;std::size_t ... Next &gt;\nstruct rangeH&lt;0U, Next ... &gt;\n { using type = range&lt;Next ... &gt;; };\n\n\ntemplate &lt;std::size_t N&gt;\nstruct arrayWrapper\n {\n   private:\n      std::array&lt;decltype(callback), N&gt;  callBT;\n\n      template &lt;std::size_t ... rng&gt;\n      arrayWrapper (const range&lt;rng...&gt; &amp;)\n         : callBT{ callbackTemplate&lt;rng&gt;... }\n       { }\n\n   public:\n      arrayWrapper () \n         : arrayWrapper (typename rangeH&lt;N&gt;::type())\n       { }\n };\n</code></pre>\n\n<p>If you can use C++14, you can throw away <code>rangeH</code> and <code>range</code> and the wrapper become simply</p>\n\n<pre><code>template &lt;std::size_t N&gt;\nstruct arrayWrapper\n {\n   private:\n      std::array&lt;decltype(callback), N&gt;  callBT;\n\n      template &lt;std::size_t ... rng&gt;\n      arrayWrapper (const std::index_sequence&lt;rng...&gt; &amp;)\n         : callBT{ callbackTemplate&lt;rng&gt;... }\n       { }\n\n   public:\n      arrayWrapper () \n         : arrayWrapper (std::make_index_sequence&lt;N&gt;())\n       { }\n };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1477494789, "last_edit_date": 1495542898, "creation_date": 1477494789, "answer_id": 40265997, "question_id": 40265704, "link": "https://stackoverflow.com/questions/40265704/create-a-sequence-of-explicit-function-template-instantiations/40265997#40265997", "title": "Create a sequence of explicit function template instantiations", "body": "<p>You can do this using an implementation of C++14's <a href=\"http://en.cppreference.com/w/cpp/utility/integer_sequence\" rel=\"nofollow noreferrer\"><code>std::integer_sequence</code></a>. <a href=\"https://stackoverflow.com/a/17426611/2456565\">Here</a>'s one.</p>\n\n<p>With <code>callback_t</code> defined as </p>\n\n<pre><code>using callback_t = decltype (callback);\n</code></pre>\n\n<p>you can just pass a sequence and make use of the type deduction:</p>\n\n<pre><code>template&lt;unsigned... Is&gt;\narray&lt;callback_t, sizeof...(Is)&gt; make_callback_array_impl(seq&lt;Is...&gt;)\n{\n    return { callbackTemplate&lt;Is&gt;... };\n}\n\ntemplate&lt;unsigned N&gt;\narray&lt;callback_t, N&gt; make_callback_array()\n{\n    return make_callback_array_impl(GenSeq&lt;N&gt;{});\n}\n</code></pre>\n\n<p><a href=\"http://melpon.org/wandbox/permlink/6n2WUv4tG2cW8Udp\" rel=\"nofollow noreferrer\">live demo</a></p>\n"}, {"comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1477495317, "post_id": 40266085, "comment_id": 67792722, "body": "It&#39;s worth noting that this isn&#39;t a C++11 solution. Very nice, though."}], "tags": [], "owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": false, "score": 2, "last_activity_date": 1477495078, "creation_date": 1477495078, "answer_id": 40266085, "question_id": 40265704, "link": "https://stackoverflow.com/questions/40265704/create-a-sequence-of-explicit-function-template-instantiations/40266085#40266085", "title": "Create a sequence of explicit function template instantiations", "body": "<p>This can be done with variable template specializations.</p>\n\n<pre><code>template&lt;class&gt;\nint callbackTemplates_v;\n\ntemplate&lt;std::size_t... Indicies&gt;\nstd::array&lt;decltype(callback), sizeof...(Indicies)&gt;\n  callbackTemplates_v&lt;std::index_sequence&lt;Indicies...&gt;&gt; = {callbackTemplate&lt;Indicies&gt;...};\n\ntemplate&lt;std::size_t N&gt;\nauto callbackTemplates = callbackTemplates_v&lt;std::make_index_sequence&lt;N&gt;&gt;;\n</code></pre>\n\n<p>Now <code>callbackTemplates&lt;N&gt;</code> is an array of <code>N</code> instaniations of <code>callbackTemplate</code> from <code>0..N-1</code>.</p>\n"}], "owner": {"reputation": 1837, "user_id": 82480, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d7188b71bb68504ca7fc1c27195765a8?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/82480/christoph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 40265997, "answer_count": 3, "score": 3, "last_activity_date": 1477495078, "creation_date": 1477493997, "last_edit_date": 1495535655, "question_id": 40265704, "link": "https://stackoverflow.com/questions/40265704/create-a-sequence-of-explicit-function-template-instantiations", "title": "Create a sequence of explicit function template instantiations", "body": "<p>In C++ 11, can I build a template which explicitly instantiates a sequence of function templates into an array initialiser? What I want to achieve (please don't ask why I need that, because it's a long story) looks like</p>\n\n<pre><code>// The template I want to instantiate:\ntemplate&lt;size_t N&gt; void callbackTemplate(const int dummy) {\n    // Do something which needs to know 'N'.\n}\n\n// The variable I want to assign 'callbackTemplate' instantiations to:\nvoid (*callback)(const int dummy);  // This cannot be std::function, because it \n                                    // is not defined by me! It is already there and \n                                    // must be used as it is.\n\n// This is the set of instantiations I want to prepare:\nstd::array&lt;decltype(callback), 3&gt; callbackTemplates = {\n    callbackTemplate&lt;0&gt;, callbackTemplate&lt;1&gt;, callbackTemplate&lt;2&gt;\n};\n</code></pre>\n\n<p>The code above works as it is. What I want to change is the initialisation of  the <code>callbackTemplates</code> array. I want the initialiser to become a template which is dependent on a compile-time constant and creates the instantiations 0..N. </p>\n\n<p>The problem is somehow related to <a href=\"https://stackoverflow.com/questions/17627862/c-static-const-array-initialization-in-template-class\">C++ static const array initialization in template class</a>, but I did not manage to \"templatise\" the instantiation of the other template.</p>\n"}, {"tags": ["c++", "class", "oop", "polymorphism", "overloading"], "comments": [{"owner": {"reputation": 1250, "user_id": 6313992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766176ae92684010f7061da118223129?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Plaskota", "link": "https://stackoverflow.com/users/6313992/tomasz-plaskota"}, "edited": false, "score": 1, "creation_date": 1477494175, "post_id": 40265634, "comment_id": 67791917, "body": "Pretty sure you&#39;d get ambiguity error. Compiler would ask you for explicit cast."}], "answers": [{"tags": [], "owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "is_accepted": false, "score": 5, "last_activity_date": 1477494244, "creation_date": 1477494244, "answer_id": 40265804, "question_id": 40265634, "link": "https://stackoverflow.com/questions/40265634/c-how-method-calls-with-multiple-polymorphic-inputs-are-resolved/40265804#40265804", "title": "C++: How method calls with multiple polymorphic inputs are resolved?", "body": "<blockquote>\n  <p>if there is ambiguity let me know</p>\n</blockquote>\n\n<p>There <em>is</em> an ambiguity; it's in the call!</p>\n\n<pre><code>paint(Circle{}, SolidColor{});\n</code></pre>\n\n<p>This call is ambiguous, because no overload is sufficiently more specialized than the others for this call. Clang gives this error:</p>\n\n<pre><code>main.cpp:11:5: error: call to 'paint' is ambiguous\n    paint(Circle{}, SolidColor{});\n</code></pre>\n\n<blockquote>\n  <p>Generally, how a method call with multiple resolution candidates is resolved when there is more than one parameter which can be of any type in a hierarchy?</p>\n</blockquote>\n\n<p>This is called overload resolution, and is far too vast a topic to cover in a specific SO answer. the <a href=\"http://en.cppreference.com/w/cpp/language/overload_resolution\">cppreference</a> article on the topic should provide a reasonable overview for you.</p>\n"}, {"comments": [{"owner": {"reputation": 1393, "user_id": 2535843, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ijgr5.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2535843/mahdi"}, "edited": false, "score": 0, "creation_date": 1477494552, "post_id": 40265842, "comment_id": 67792186, "body": "About abstract class and pass-by-ref I know. I just wanted to make example short. What if I pass a variable of type <code>Shape</code> and <code>Color</code> to paint, but at runtime, their type would be <code>Circle</code> and <code>SolidColor</code>. Which function will be called?"}, {"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "reply_to_user": {"reputation": 1393, "user_id": 2535843, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ijgr5.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2535843/mahdi"}, "edited": false, "score": 3, "creation_date": 1477494627, "post_id": 40265842, "comment_id": 67792249, "body": "@MahdiMohammadinasab If the variable is of type <code>Shape</code> or <code>Color</code>, then they <i>can&#39;t</i> have dynamic type of <code>Circle</code> or <code>SolidColor</code>; they will have been sliced. They`d need to be references, as the answer suggests."}, {"owner": {"reputation": 5281, "user_id": 1495627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05f7c73495dfcdc1b6b32b30fdb994f0?s=128&d=identicon&r=PG", "display_name": "Jean-Micha&#235;l Celerier", "link": "https://stackoverflow.com/users/1495627/jean-micha%c3%abl-celerier"}, "edited": false, "score": 0, "creation_date": 1477517234, "post_id": 40265842, "comment_id": 67804784, "body": "There is a distinction to make between the type of the variable and the type of the object. If you have something such as <code>Foo f;</code> then f <i>is</i> a <code>Foo</code>, nothing more, nothing less. If you have <code>Foo&amp; f</code> or <code>Foo* f</code> then there can be either a <code>Foo</code> or a subtybe of <code>Foo</code> in <code>f</code>."}], "tags": [], "owner": {"reputation": 5281, "user_id": 1495627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05f7c73495dfcdc1b6b32b30fdb994f0?s=128&d=identicon&r=PG", "display_name": "Jean-Micha&#235;l Celerier", "link": "https://stackoverflow.com/users/1495627/jean-micha%c3%abl-celerier"}, "is_accepted": true, "score": 6, "last_activity_date": 1477494345, "creation_date": 1477494345, "answer_id": 40265842, "question_id": 40265634, "link": "https://stackoverflow.com/questions/40265634/c-how-method-calls-with-multiple-polymorphic-inputs-are-resolved/40265842#40265842", "title": "C++: How method calls with multiple polymorphic inputs are resolved?", "body": "<p>Given your code, the elements will be copied when passed to the function, and sliced : for instance in the first overload, <code>Shape s</code> will only be a loose the <code>Circle</code> information if you pass a <code>Circle</code> to it. \nIf <code>Shape</code> is abstract this code won't even compile. </p>\n\n<p>The gist of it is that this code won't achieve polymorphic behavior as it would for similar-looking code in Java / C#.</p>\n\n<p>The second point is that overload resolution takes place before runtime polymorphism : that is, the compiler choses at compile time which function to call, by choosing the most matching function prototype.</p>\n\n<p>If you have : </p>\n\n<pre><code>int main() { \n  Circle myCircle;\n  SolidColor mySolidColor;\n  paint(myCircle, mySolidColor);\n}\n</code></pre>\n\n<p>Then the compiler will <a href=\"https://godbolt.org/g/93tev3\">complain due to ambiguity</a> since overload 2 and 3 could both equally work.</p>\n\n<p>Most of all, for polymorphism in C++ you want to pass your arguments by reference instead : </p>\n\n<pre><code>void paint(Shape&amp; s, Color&amp; c) {}\nvoid paint(Circle&amp; ci, Color&amp; c) {}\nvoid paint(Shape&amp; s, SolidColor&amp; sc) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 1, "last_activity_date": 1477518252, "creation_date": 1477518252, "answer_id": 40272598, "question_id": 40265634, "link": "https://stackoverflow.com/questions/40265634/c-how-method-calls-with-multiple-polymorphic-inputs-are-resolved/40272598#40272598", "title": "C++: How method calls with multiple polymorphic inputs are resolved?", "body": "<p><strong>There is still an unsolved challenge !</strong></p>\n\n<p>In addition to the already excellent answers, it's worth to mention two issues in your approach: </p>\n\n<ul>\n<li><p>To use run-time polymorphism you need to pass arguments by pointer (if possible smart pointer) or by reference.  Because passing by value requires the size of the object be known at compile time.  And it might cause slicing if copying a child onto a parent.   </p></li>\n<li><p>Only virtual member functions are polymorphic.  Non-virtual member functions and non member functions are chosen at compile-time on the base of the declared type of the objects.   </p></li>\n</ul>\n\n<p><strong>How to solve it ? With a template method ?</strong>  </p>\n\n<p>To introduce run-time polymorphism in you non member pain function, you could consider to use the <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow\">template method design pattern</a>: </p>\n\n<pre><code>class Shape {\npublic: \n    virtual void paint_shape() = 0 ; \n    virtual ~Shape() {}     // polymorphic class =&gt; better have destructor being virtual \n};    \n\nclass Color {\npublic: \n    virtual void set_color() = 0;\n    virtual void reset_color() = 0;\n    virtual ~Color() {}  \n};    \n...\nvoid paint(Shape *s, Color *c) {\n     activate_window (); \n     c-&gt;set_color();     // use polymorphic function \n     s-&gt;paint_shape(); \n     c-&gt;set_color();     // use polymorphic function \n     refresh_window(); \n}\n</code></pre>\n\n<p>This requires that your non member function could be expressed solely on the base of a predefined skeletton, and that polymorphism could be achieved only relying at some stages to polymorphic member functions of single objects</p>\n\n<p><strong>But can I do polymorphism that depends simultaneously on several type  ?</strong> </p>\n\n<p>Yes, but it's slightly more complex.  The raw idea would be to design a ping-pong using multiple levels of polymorphism, combined with overloading. It's called the <a href=\"https://en.wikipedia.org/wiki/Double_dispatch\" rel=\"nofollow\">double dispatch</a>.  The general ideas is something like:  </p>\n\n<pre><code>class Color; \nclass Shape {\npublic: \n    virtual void paint_color(Color *c) = 0 ; \n    virtual ~Shape() {} \n};    \nclass Circle : public Shape {\npublic:\n    void paint_color(Color *c) override;  \n};\n\nclass Color {\npublic: \n    virtual void paint_shape (Circle*) = 0;\n    virtual void paint_shape (Square*) = 0;\n    ...\n    virtual ~Color() {}  \n};    \nclass SolidColor : public Color {\npublic: \n    void paint_shape (Circle*) override ;\n    void paint_shape (Square*) override ;\n};    \n\nvoid Circle::paint_color(Color *c) {\n    c-&gt;paint_shape (this);  // this is Circle*  =&gt; bounce on polymorphic color\n}                           //                     with real determined shape    \nvoid SolidColor::paint_shape(Circle *c) {\n    paint_shape_and_color (c, this);  // this is SolidColor* =&gt; bounce on overload with \n}                           //                     determined shape and color \n\n\nvoid paint(Shape *s, Color *c) {\n     s-&gt;paint_shape(c);   // polymorphic call \n}\nvoid paint_shape_and_color (Circle *s, SolidColor *c) {\n     ...  // real painting \n}\n</code></pre>\n"}], "owner": {"reputation": 1393, "user_id": 2535843, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ijgr5.png?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/2535843/mahdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 40265842, "answer_count": 3, "score": 1, "last_activity_date": 1477518252, "creation_date": 1477493823, "last_edit_date": 1477495125, "question_id": 40265634, "link": "https://stackoverflow.com/questions/40265634/c-how-method-calls-with-multiple-polymorphic-inputs-are-resolved", "title": "C++: How method calls with multiple polymorphic inputs are resolved?", "body": "<p>Suppose that we have these overloaded C++ functions:</p>\n\n<pre><code>void paint(Shape s, Color c) {}\nvoid paint(Circle ci, Color c) {}\nvoid paint(Shape s, SolidColor sc) {}\n</code></pre>\n\n<p>Where obviously, <code>Shape</code> is parent of <code>Circle</code> and <code>Color</code> is the parent of <code>SolidColor</code>.</p>\n\n<p>If I make a function call like this: <code>paint(myCircle, mySolidColor)</code> which version of <code>paint</code> function will be called? </p>\n\n<p>Generally, how a method call with multiple resolution candidates is resolved when there is more than one parameter which can be of any type in a hierarchy?</p>\n\n<p>(I hope my question + example is clear enough, but if there is ambiguity let me know)</p>\n\n<p>P.S. Also what about this call?</p>\n\n<pre><code>Color* c = create_color();  //returns SolidColor instance\nShape* s = create_shape();  //returns Circle instance\npaint(s,c);\n</code></pre>\n\n<p>Which version of paint will be called?</p>\n"}, {"tags": ["c++", "json", "linux", "cloud", "iot"], "comments": [{"owner": {"reputation": 455, "user_id": 4533695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36609bdd5d2040262013fd57ef71b4c?s=128&d=identicon&r=PG", "display_name": "Ceros", "link": "https://stackoverflow.com/users/4533695/ceros"}, "edited": false, "score": 0, "creation_date": 1477493545, "post_id": 40265379, "comment_id": 67791403, "body": "You might want to consider Casablanca: <a href=\"https://github.com/Microsoft/cpprestsdk\" rel=\"nofollow noreferrer\">github.com/Microsoft/cpprestsdk</a> - Yes it does support Ubuntu, iOS, OSX and Android"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1477493797, "post_id": 40265379, "comment_id": 67791613, "body": "It sounds like this question is really how to send a string to a server. The answer is going to depend on what the server is expecting."}, {"owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "edited": false, "score": 0, "creation_date": 1477495427, "post_id": 40265379, "comment_id": 67792800, "body": "So there&#39;s not a standard format for publishing JSON data?  I have a google cloud services account.  I&#39;ll choose to put data there for now.  Is the product or feature I&#39;m looking for considered &quot;Cloud storage&quot;, as offered by most cloud service companies?"}, {"owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "edited": false, "score": 0, "creation_date": 1477497057, "post_id": 40265379, "comment_id": 67793879, "body": "Wow!  Google Cloud Platform has a lot of ways to store stuff.  <a href=\"https://cloud.google.com/storage-options/\" rel=\"nofollow noreferrer\">cloud.google.com/storage-options</a>"}], "answers": [{"tags": [], "owner": {"reputation": 433, "user_id": 4739800, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/b1687ae4d9a77820fefd234cd9722943?s=128&d=identicon&r=PG", "display_name": "Pedro Vicente", "link": "https://stackoverflow.com/users/4739800/pedro-vicente"}, "is_accepted": false, "score": 0, "last_activity_date": 1534476594, "last_edit_date": 1534476594, "creation_date": 1534476012, "answer_id": 51887950, "question_id": 40265379, "link": "https://stackoverflow.com/questions/40265379/how-to-publish-json-to-a-web-server/51887950#51887950", "title": "How to publish JSON to a web server?", "body": "<p>This is a very simple problem, like all simple problems no need for external libraries for serializing etc. Like @Galik  said above your problem is how to send a string from client to server. Additionally for your case you need a JSON parser on the server (any C or C++ parser from the JSON page will do, I use gason because it's fast and simple). </p>\n\n<p>In TCP/IP socket programming you have to make the other part know how many bytes (characters in your case) to read.</p>\n\n<p>I faced a similar case: send JSON over the web.\nhere's the example, a JSON \"message\"</p>\n\n<p><a href=\"https://github.com/pedro-vicente/lib_netsockets/blob/master/examples/json_message.cc\" rel=\"nofollow noreferrer\">https://github.com/pedro-vicente/lib_netsockets/blob/master/examples/json_message.cc</a></p>\n\n<p>in this case, the size of the message has this header format</p>\n\n<pre><code>nbr_bytes#json_string\n</code></pre>\n\n<p>where \"json_string\" is the JSON text, \"nbr_bytes\" is the number of characters \"json_string\" has and \"#\" is a separator character.</p>\n\n<p>how does the server parse this?\nBy reading 1 character at a time until the \"#\" separator is found, then converting that string into a number;\nthen make the socket API read \"nbr_bytes\" characters and exit</p>\n\n<p>example</p>\n\n<pre><code>100#{json_txt....}\n</code></pre>\n\n<p>in this case \"json_txt\" has 100 characters</p>\n\n<p>here's the code for the parser</p>\n\n<pre><code>std::string read_response(socket_t &amp;socket)\n{\n  int recv_size; // size in bytes received or -1 on error \n  size_t size_json = 0; //in bytes\n  std::string str_header;\n  std::string str;\n\n  //parse header, one character at a time and look for for separator #\n  //assume size header lenght less than 20 digits\n  for (size_t idx = 0; idx &lt; 20; idx++)\n  {\n    char c;\n    if ((recv_size = recv(socket.m_socket_fd, &amp;c, 1, 0)) == -1)\n    {\n      std::cout &lt;&lt; \"recv error: \" &lt;&lt; strerror(errno) &lt;&lt; std::endl;\n      return str;\n    }\n    if (c == '#')\n    {\n      break;\n    }\n    else\n    {\n      str_header += c;\n    }\n  }\n\n  //get size\n  size_json = static_cast&lt;size_t&gt;(atoi(str_header.c_str()));\n\n  //read from socket with known size\n  char *buf = new char[size_json];\n  if (socket.read_all(buf, size_json) &lt; 0)\n  {\n    std::cout &lt;&lt; \"recv error: \" &lt;&lt; strerror(errno) &lt;&lt; std::endl;\n    return str;\n  }\n  std::string str_json(buf, size_json);\n  delete[] buf;\n  return str_json;\n}\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 6556913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1808142782742050/picture?type=large", "display_name": "Kyle Sweet", "link": "https://stackoverflow.com/users/6556913/kyle-sweet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 640, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534476594, "creation_date": 1477493183, "question_id": 40265379, "link": "https://stackoverflow.com/questions/40265379/how-to-publish-json-to-a-web-server", "title": "How to publish JSON to a web server?", "body": "<p>I am playing around with freeboard.io and trying to make a widget that pulls JSON data from a URL [TBD].  My original data source is from an iMX6-based Wandboard running Linux that is connected to the internet.  I want to write a C++ program on the Wandboard that opens a socket to [TBD] and sends UDP packets, for example, containing my sensor data.  My JSON data structure is like this:</p>\n\n<pre><code>{\n  \"sensor_a\": 1100,\n  \"sensor_b\": 247,\n  \"sensor_c\": 0\n}\n</code></pre>\n\n<p>Can you help me put my JSON data structure into an IP packet using C++ on Ubuntu Linux?  I know how to just serialize the data structure in ascii for example and build a buffer to stuff an IP packet but I'm wondering if there is a standard way to do this for cloud services, or will it be different for Azure vs AWS?  Is some type of header info needed to \"put\" the data?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4125, "user_id": 3426025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yxLev.png?s=128&g=1", "display_name": "BeyelerStudios", "link": "https://stackoverflow.com/users/3426025/beyelerstudios"}, "edited": false, "score": 0, "creation_date": 1477493111, "post_id": 40265263, "comment_id": 67791060, "body": "the whole <code>wait_ms</code>-pattern is a very, very, very bad pattern and you should avoid it like the plague"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 6, "creation_date": 1477493138, "post_id": 40265263, "comment_id": 67791081, "body": "I&#39;ve never understood why people feel the need to compare a Boolean variable to <code>true</code> or <code>false</code>."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 2, "creation_date": 1477493186, "post_id": 40265263, "comment_id": 67791126, "body": "presumably, the execute-around idiom would find a use here."}, {"owner": {"reputation": 9690, "user_id": 1707560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8VK4M.jpg?s=128&g=1", "display_name": "imreal", "link": "https://stackoverflow.com/users/1707560/imreal"}, "edited": false, "score": 0, "creation_date": 1477493255, "post_id": 40265263, "comment_id": 67791179, "body": "Conditional waits?"}], "answers": [{"comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1477495776, "post_id": 40266051, "comment_id": 67793025, "body": "What is gained by making <code>retries</code> and <code>wait_time</code> template arguments, instead of just regular function arguments?"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1477496103, "post_id": 40266051, "comment_id": 67793251, "body": "Probably a little bit of time, but that doesn&#39;t matter because of the wait.  However, it defines the retry and then you pass the function and parameters, so that looks fine at least."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1477496612, "post_id": 40266051, "comment_id": 67793564, "body": "It seems like it might increase the binary size, though."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1477496763, "post_id": 40266051, "comment_id": 67793676, "body": "Yes, but the question was &quot;what is gained?&quot;.  I would think that most normal size projects don&#39;t have more than 50 of these loops and the majority have similar retry parameters."}, {"owner": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477497215, "post_id": 40266051, "comment_id": 67793986, "body": "Guys, I put some abstractions in the code. In embedded programming when a RF communication is needed we assume it is not reliable so a simple retry mechanism is mandatory. Don&#39;t think to wait_ms(..) as a way to loose time, yes when there is no RTOS or no task switching mechanism it looses time but think to it as an abstraction as a way to suspend a task for n milliseconds."}, {"owner": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477497662, "post_id": 40266051, "comment_id": 67794309, "body": "Stefaanv: in RF communication management there are potentially many of these loops. Actually I am simplifying a project that uses too many loops and also done in little different variations. At the moment seems I can realize just 6-8 C++ methods containing one of the two loop type I posted but the methods will be called many times. Of course compared with actual solution it is a lot better."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "reply_to_user": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477499086, "post_id": 40266051, "comment_id": 67795175, "body": "@MassimoManca then perhaps take a look at <a href=\"http://coliru.stacked-crooked.com/a/96a1e965b3ba2e4f\" rel=\"nofollow noreferrer\">this</a>. It&#39;s too similar for me to really want to submit it as a different answer, but it might help you find an optimal solution."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1477499754, "post_id": 40266051, "comment_id": 67795571, "body": "@jaggedSpire: actually, I would post it as an answer, it&#39;s a different approach requiring lambdas"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "reply_to_user": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477499992, "post_id": 40266051, "comment_id": 67795719, "body": "@MassimoManca: you do realise that this approach is making your code less bloated than the original?  Even with all different retries and wait_times, it is not more bloated.  Even with the passed parameters (easy to change), chances are the compiler has inlined the code, leaving you with similar result."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1477500071, "post_id": 40266051, "comment_id": 67795768, "body": "@jaggedSpire: your solution also supports the while loop."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1477500266, "post_id": 40266051, "comment_id": 67795889, "body": "@stefaanv kind of--the await function I&#39;m using waits <i>until</i> a certain amount of time has passed since the interval was instantiated. OP seems like that <i>might</i> not be possible for him, though he can just wait the total time every pass through his loop if he can tolerate drift."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1477501685, "post_id": 40266051, "comment_id": 67796638, "body": "@stefaanv posted."}, {"owner": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477503682, "post_id": 40266051, "comment_id": 67797693, "body": "To everybody: I am switching to C++11/14 just now because this time I can use GCC instead other vendors C++ embedded compilers conforming to C++03. In this context I am simplifying at my best a couple of modules with a lot bloated code. The first step was to reduce and isolated the loops I described in less space, than the idea was to ask for help because there are several option as templates, lambda functions and some variations. I am totally sure these solutions are better... I wanted to change the code from beginning, I don&#39;t like to have duplicate code, much better a template."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "reply_to_user": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "edited": false, "score": 0, "creation_date": 1477505312, "post_id": 40266051, "comment_id": 67798591, "body": "@MassimoManca can you give a version number?"}], "tags": [], "owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "is_accepted": false, "score": 1, "last_activity_date": 1477494966, "creation_date": 1477494966, "answer_id": 40266051, "question_id": 40265263, "link": "https://stackoverflow.com/questions/40265263/c-c-pattern-exiting-a-for-loop-on-elapsed-timeout/40266051#40266051", "title": "C/C++ pattern: exiting a for() loop on elapsed timeout", "body": "<p>For the for loop, you could use a function template that accepts the function (must return a boolean) and return when succeeded.  For the while loop, things get more complicated, but I guess that lambdas could be used as true and false conditions.</p>\n\n<p>For loop:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;int retries, int wait_time, typename FUNC, typename ...Args&gt;\nbool retry(FUNC&amp; f, Args &amp;&amp;... args)\n{\n    for (int i = 0; i &lt; retries; ++i)\n    {\n        if (f(std::forward&lt;Args&gt;(args)...)) return true;\n        if (i &lt; retries - 1)\n        {\n            std::cout &lt;&lt; \"waiting \" &lt;&lt; wait_time &lt;&lt; \"\\n\";\n        }\n    }\n    return false;\n}\n\nbool func(int i)\n{\n    return (i &gt; 0);\n}\n\nbool func2(int i, int j)\n{\n    return (i &gt; j);\n}\n\nint main()\n{\n\n    bool result = retry&lt;5, 500&gt;(func, 0);\n    std::cout &lt;&lt; result &lt;&lt; \"\\n\";\n\n    result = retry&lt;5, 500&gt;(func, 1);\n    std::cout &lt;&lt; result &lt;&lt; \"\\n\";\n\n    result = retry&lt;5, 500&gt;(func2, 1, 2);\n    std::cout &lt;&lt; result &lt;&lt; \"\\n\";\n\n    result = retry&lt;5, 500&gt;(func2, 1, 0);\n    std::cout &lt;&lt; result &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/1ac9d23c8c9d194f\" rel=\"nofollow\">See example in coliru</a></p>\n"}, {"tags": [], "owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "is_accepted": false, "score": 1, "last_activity_date": 1477506488, "last_edit_date": 1477506488, "creation_date": 1477501670, "answer_id": 40268263, "question_id": 40265263, "link": "https://stackoverflow.com/questions/40265263/c-c-pattern-exiting-a-for-loop-on-elapsed-timeout/40268263#40268263", "title": "C/C++ pattern: exiting a for() loop on elapsed timeout", "body": "<p>This is simple enough with the <em>execute-around idiom</em>, which executes a given piece of code in an environment/set of circumstances controlled by the function the piece of code is passed in to. Here, we'll simply be calling the piece of code in a loop once every <em>n</em> milliseconds, either for a set amount of time, or for a set number of times.</p>\n\n<hr>\n\n<p>Since you're working in an embedded environment and seem to be using a set of timing mechanisms different from that provided by <code>&lt;chrono&gt;</code> and <code>&lt;thread&gt;</code>, I've tried to adjust my answer so you can use the methods you seem to have access to to do the same thing. These are the functions I've used in my solution:</p>\n\n<pre><code>// similar functions to what you seem to have access to\nnamespace timing{\n\n    // interval defined as some arbitrary type\n\n    interval getInterval(int msCount);\n\n    bool intervalElapsed(interval i);\n\n    void await(interval i);\n}\n</code></pre>\n\n<p><sup>A note on the <code>await</code> function there--it takes an interval, and pauses execution until the interval has passed. It seems like the closest you can get to this <em>might</em> be simply waiting for the total number of milliseconds instead, though that strategy will introduce a certain amount of drift in your timings. If you can tolerate that (and given you're using it, it seems you can), then great.</sup></p>\n\n<p>The retry-for variant would look like this, given the above function signatures:</p>\n\n<pre><code>template &lt;typename Func&gt;\nbool pollRetries(\n        int retryLimit, \n        int msInterval, \n        Func func){\n\n    for(int i = 0; i &lt; retryLimit; ++i){\n        auto interval = timing::getInterval(msInterval);\n        if (func()){return true;}\n        timing::await(interval);\n    }\n    return false;\n}\n</code></pre>\n\n<p>and the retry-while would look like this:</p>\n\n<pre><code>template &lt;typename Func&gt;\nbool pollDuration(\n        int msLimit, \n        int msInterval, \n        Func func){\n\n    auto limit = timing::getInterval(msLimit);\n    while(!timing::intervalElapsed(limit)){\n        auto interval = timing::getInterval(msInterval);\n        if (func()){return true;}\n        timing::await(interval);\n    }\n    return false;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/96a1e965b3ba2e4f\" rel=\"nofollow\"><em>Live demo on Coliru</em></a></p>\n\n<p>Both functions take a single functor which will be called with no arguments, and which returns either a boolean or something convertible to a boolean value. If the evaluation ever returns true, the loop will exit and the function will return true. Otherwise it'll return false at the end of the retry count or period.</p>\n\n<p>Your sample code would convert to this:</p>\n\n<p>retry for loop:</p>\n\n<pre><code>return pollRetries(5,1000,[simPinNumber](){\n    return unlockSIM(simPinNumber);\n});\n</code></pre>\n\n<p>retry while loop:</p>\n\n<pre><code>return pollDuration(TIME_TO_WAIT_GPS, 500, [fixVal, this](){\n    int16_t \n        iRunStatus = 0,\n        iFixStatus = 0;\n\n    bool bRet = this-&gt;_pGsm-&gt;GPSstatus(&amp;iRunStatus, &amp;iFixStatus);\n    return bRet &amp;&amp; (1 == iRunStatus) &amp;&amp; (iFixStatus &gt;= fixVal);\n});\n</code></pre>\n\n<p>You can pass either functors or function pointers into these methods and the execution will occur, so you can also simply directly pass in lambdas to be executed. A few notes about that:</p>\n\n<ol>\n<li>Lambdas without a capture group can be converted to function pointers with the unary <code>+</code> operator, allowing the template to use the function pointer instantiation of the template rather than one based off the lambda. You might want to do this because:</li>\n<li>Every lambda in every function has an anonymous type. Passing the lambda into the template function will result in an additional template instantiation which might increase binary size.</li>\n<li>You can also mitigate the above problem by defining your own functor class for uses that share a set of persistent state.</li>\n<li>You might try making the timing functions into variadic templates per @stefaanv's solution. If you went this route, you could remove the capture groups from your lambdas and pass that information in manually, which would allow you to convert the lambdas into function pointers as though they were stateless.</li>\n<li>Were most of these retry loops for a single class you could simply define the retry mechanisms as member function templates, and then subject yourself to member function pointers, thereby passing state around using the called object. I'd not recommend this though, as member function pointers are a bit of a pain to deal with, and you could get the same result by making a stateless lambda take a reference to the object, and passing in <code>*this</code> to the call. You'd also have to define all the bits of code as their own functions, rather than simply defining them within the function where they were used.</li>\n</ol>\n"}], "owner": {"reputation": 126, "user_id": 5791215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20d63c755146459e71111a110feb2121?s=128&d=identicon&r=PG", "display_name": "Massimo Manca", "link": "https://stackoverflow.com/users/5791215/massimo-manca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 681, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1477506488, "creation_date": 1477492881, "question_id": 40265263, "link": "https://stackoverflow.com/questions/40265263/c-c-pattern-exiting-a-for-loop-on-elapsed-timeout", "title": "C/C++ pattern: exiting a for() loop on elapsed timeout", "body": "<p>In embedded C/C++ programming is quite common to write for loops of this type:</p>\n\n<pre><code>...\n for(int16_t i=0; i&lt;5; i++)\n {\n    if(true == unlockSIM(simPinNumber))\n       return true;\n    wait_ms(1000);\n }\n return false;\n ...\n</code></pre>\n\n<p>or like this while() loop:</p>\n\n<pre><code>bool CGps::waitGpsFix(int8_t fixVal)\n{\n   int16_t iRunStatus=0, iFixStatus=0;\n   _timeWaitGpsFix = CSysTick::instance().set(TIME_TO_WAIT_GPS);\n\n   while(1)\n   {\n      bool bRet = _pGsm-&gt;GPSstatus(&amp;iRunStatus, &amp;iFixStatus);\n      if( (true == bRet) &amp;&amp; (1 == iRunStatus) &amp;&amp; (iFixStatus &gt;= fixVal) )\n         return true;\n      if(CSysTick::instance().isElapsed(_timeWaitGpsFix))\n         return false;\n      wait_ms(500);\n   }\n   return false;\n}\n//---------------------------------------------------------------------------\n</code></pre>\n\n<p>is there any well known good pattern useful to don't write each time so many lines but just a function or method call?</p>\n"}, {"tags": ["c++", "linux", "boost", "boost-filesystem"], "comments": [{"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477493040, "post_id": 40265207, "comment_id": 67791008, "body": "&quot;I have all rights over the out_path directory&quot; I&#39;m confused, is out_path existed?"}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477493394, "post_id": 40265207, "comment_id": 67791295, "body": "And why don&#39;t you use create_directories instead of create_directory?"}, {"owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "reply_to_user": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477493777, "post_id": 40265207, "comment_id": 67791596, "body": "The <code>out_path</code> doesn&#39;t exist, but <code>out_path.parent_path()</code> does. I also tried to use <code>create_directories</code> with same result   UPD <code>out_path.parent_path().parent_path()</code> exists, <code>out_path.parent_path()</code> does not"}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477493871, "post_id": 40265207, "comment_id": 67791674, "body": "then out_path.parent_path() is existed, why do want to create it again?"}, {"owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "reply_to_user": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477493935, "post_id": 40265207, "comment_id": 67791724, "body": "Sorry, I am imprecise. It also doesn&#39;t exist.  Say, I have /A/B/C, then out_path is /A/B/C/D/file. I want to create D under /A/B/C, which exists."}, {"owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "reply_to_user": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477495010, "post_id": 40265207, "comment_id": 67792512, "body": "Ok, i have figured something out  I am trying to create directory using <code>boost::filesystem::path</code>, and it fails.  I hardcode the very same path as <code>char *</code>, and I succeed. Weird."}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477495477, "post_id": 40265207, "comment_id": 67792835, "body": "Have you tried to print that path"}, {"owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "reply_to_user": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477495503, "post_id": 40265207, "comment_id": 67792856, "body": "You know what? My path contains subfolder named 0. This means, I have path like .../0/... and somewhy it turns out the path is trimmed to that very 0! I don&#39;t know whether it is a std::string problem or boost, but what I see now is that even though <code>out_path.c_str()</code> is identical to <code>char *</code> variant when printed, they have different strlen!"}, {"owner": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477495626, "post_id": 40265207, "comment_id": 67792923, "body": "They have different strlen, that&#39;s the problem. Try to hex-dump it, I doubt that there&#39;s some Unicode value in your path."}, {"owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "reply_to_user": {"reputation": 5455, "user_id": 4115625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2688a9684db617a20f9da3959e5890d7?s=128&d=identicon&r=PG&f=1", "display_name": "Danh", "link": "https://stackoverflow.com/users/4115625/danh"}, "edited": false, "score": 0, "creation_date": 1477496359, "post_id": 40265207, "comment_id": 67793407, "body": "Oh, my bad. I indeed used extra parent_path()! Danh, excuse me so much for taking your time!"}], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 6114330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhp3x.jpg?s=128&g=1", "display_name": "FunkyKowal", "link": "https://stackoverflow.com/users/6114330/funkykowal"}, "edited": false, "score": 0, "creation_date": 1585745514, "post_id": 51804969, "comment_id": 107869387, "body": "ok, so it basically doesn&#39;t create the directory and gives you no reason why? Only STL designers geniuses make such APIs."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "reply_to_user": {"reputation": 121, "user_id": 6114330, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yhp3x.jpg?s=128&g=1", "display_name": "FunkyKowal", "link": "https://stackoverflow.com/users/6114330/funkykowal"}, "edited": false, "score": 2, "creation_date": 1585842453, "post_id": 51804969, "comment_id": 107911717, "body": "The design comes from Boost, not the STL, and not the C++ standard library, so direct your snark elsewhere please."}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 2, "last_activity_date": 1534036497, "creation_date": 1534036497, "answer_id": 51804969, "question_id": 40265207, "link": "https://stackoverflow.com/questions/40265207/boostfile-systemcreate-directory-doesnt-create-directory-yet-errocode-is-s/51804969#51804969", "title": "boost::file_system::create_directory doesn&#39;t create directory, yet ErroCode is SUCCESS", "body": "<p>When <code>create_directory</code> returns false it means it did not create the directory. The most likely reason for that is that the directory already exists! In that case it would return false, but not set the <code>error_code</code>.</p>\n\n<p>The code in your question assumes if the function returns false then an error happened, but that's wrong. False just means it didn't create it.</p>\n"}], "owner": {"reputation": 125, "user_id": 4309840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31c39e131b8d4894a11d891b57c448d5?s=128&d=identicon&r=PG&f=1", "display_name": "Andy Silver", "link": "https://stackoverflow.com/users/4309840/andy-silver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1534036497, "creation_date": 1477492726, "question_id": 40265207, "link": "https://stackoverflow.com/questions/40265207/boostfile-systemcreate-directory-doesnt-create-directory-yet-errocode-is-s", "title": "boost::file_system::create_directory doesn&#39;t create directory, yet ErroCode is SUCCESS", "body": "<p>So, I am using a simple code like </p>\n\n<pre><code>boost::system::error_code ec;\nif (!boost::filesystem::create_directory(out_path.parent_path(), ec)) {\n    std::cerr &lt;&lt; \"couldn't create directory\\n\";\n    std::cerr &lt;&lt; ec.message() &lt;&lt; \"\\n\";\n    return -1;\n}\n</code></pre>\n\n<p>I am trying to create directory passing absolute file path as <code>out_path</code>. The result is, I get into if branch, and the ec.message() returns Success. \nI have all rights over the <code>out_path</code> directory, read, write, execute whatsoever. </p>\n\n<p>I am completely pissed of. I can create the directory with the same very path right from bash, but I cannot using the c++ code I have written. \nThere is no fail however, when I pass relative pass as <code>out_path</code>, like \"temp\", and directory gets created from where the c++ program is run.</p>\n\n<p>Help me please, I really don't understand whats goin on here :(</p>\n"}, {"tags": ["c++", "regex", "qt"], "comments": [{"owner": {"reputation": 2153, "user_id": 3687725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1We1W.jpg?s=128&g=1", "display_name": "Preston Martin", "link": "https://stackoverflow.com/users/3687725/preston-martin"}, "edited": false, "score": 0, "creation_date": 1477492640, "post_id": 40265063, "comment_id": 67790693, "body": "What language are you using? Where is your code that you have tried thus far? <a href=\"http://meta.stackoverflow.com/questions/285733/should-give-me-a-regex-that-does-x-questions-be-closed\" title=\"should give me a regex that does x questions be closed\">meta.stackoverflow.com/questions/285733/&hellip;</a>"}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1477493401, "post_id": 40265063, "comment_id": 67791297, "body": "Maybe something like <code>([a-zA-Z\\d+ ]+)</code> then use <code>trim</code> (if available, without a language hard to say) will there ever be other things in the string?"}, {"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493491, "post_id": 40265063, "comment_id": 67791359, "body": "I&#39;m using Qt 5.7, C++."}, {"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493524, "post_id": 40265063, "comment_id": 67791386, "body": "currently this regex: \\w+&#40;[\\w+,\\s]+?&#41; will validate the expression"}, {"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493604, "post_id": 40265063, "comment_id": 67791458, "body": "using something simple like (\\w+) will satisfy case 1 and 2 but not case 3"}, {"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "reply_to_user": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1477493719, "post_id": 40265063, "comment_id": 67791554, "body": "@chris85 case 3 can have anything in it not just +.  it can have words, other symbols, ect."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1477494003, "post_id": 40265063, "comment_id": 67791786, "body": "As long as it doesn&#39;t have <code>()</code> in it and <code>,</code>s are only for separating the character class should suffice (add whatever other characters are needed). The <code>,</code>s and <code>() </code>will break each term."}, {"owner": {"reputation": 23234, "user_id": 4333555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i9zgM.jpg?s=128&g=1", "display_name": "chris85", "link": "https://stackoverflow.com/users/4333555/chris85"}, "edited": false, "score": 0, "creation_date": 1477494250, "post_id": 40265063, "comment_id": 67791969, "body": "If it can really take <code>any form</code> then you can&#39;t use a regex."}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "edited": false, "score": 0, "creation_date": 1477496057, "post_id": 40265063, "comment_id": 67793217, "body": "@JAndrewMcCormick I&#39;ve updated the answer with two patterns, one to define the possible characters and the other to match whatever string not having <code>(</code>, <code>)</code>, <code>,</code>, <code>\\n</code>"}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493376, "post_id": 40265441, "comment_id": 67791279, "body": "That won&#39;t capture &quot;arg1 + arg2&quot;"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493709, "post_id": 40265441, "comment_id": 67791541, "body": "@JAndrewMcCormick i&#39;ve updated the answer, fixed now."}, {"owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477493922, "post_id": 40265441, "comment_id": 67791713, "body": "that does solve all the cases I listed.  I made a mistake not clarifying case 3.  It can take many different forms.  question will be updated momentarily"}, {"owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "reply_to_user": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "edited": false, "score": 0, "creation_date": 1477495594, "post_id": 40265441, "comment_id": 67792907, "body": "@JAndrewMcCormick I&#39;ve updated the answer again to support whatever string except few cases"}], "tags": [], "owner": {"reputation": 27179, "user_id": 710099, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0413774874b9baeccef7a5ba0344fec7?s=128&d=identicon&r=PG", "display_name": "Federico Piazza", "link": "https://stackoverflow.com/users/710099/federico-piazza"}, "is_accepted": true, "score": 1, "last_activity_date": 1477495560, "last_edit_date": 1477495560, "creation_date": 1477493333, "answer_id": 40265441, "question_id": 40265063, "link": "https://stackoverflow.com/questions/40265063/regex-pattern-to-parse-string/40265441#40265441", "title": "Regex pattern to parse string", "body": "<p>You can use a regex like:</p>\n\n<pre><code>(\\w+\\s*[+-]?\\s*\\w+)\n</code></pre>\n\n<p><strong><a href=\"https://regex101.com/r/Ycpfw2/3\" rel=\"nofollow\">Working demo</a></strong></p>\n\n<p>Update: if you pattern can take whatever form, then you can use this pattern:</p>\n\n<pre><code>([^(),\\n]+)\n</code></pre>\n\n<p>The idea is to match whatever thing except parentheses, commas and new lines</p>\n"}], "owner": {"reputation": 314, "user_id": 4435213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1408ca0bc9c0777391e7cee0ff8f8e17?s=128&d=identicon&r=PG&f=1", "display_name": "J Andrew McCormick", "link": "https://stackoverflow.com/users/4435213/j-andrew-mccormick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 40265441, "answer_count": 1, "score": 0, "last_activity_date": 1477495560, "creation_date": 1477492296, "last_edit_date": 1477494051, "question_id": 40265063, "link": "https://stackoverflow.com/questions/40265063/regex-pattern-to-parse-string", "title": "Regex pattern to parse string", "body": "<p>So I need to find a regex to parse a few different cases with the same regex.</p>\n\n<p>First case:</p>\n\n<pre><code>Type(arg1, arg2)\n</code></pre>\n\n<p>I need to get <code>Type</code>, <code>arg1</code>, and <code>arg2</code> out of this string.</p>\n\n<p>Second Case:</p>\n\n<pre><code>Type(arg1, arg2, ...) (the number of args is variable)\n</code></pre>\n\n<p>I need to get <code>Type</code>, <code>arg1</code>, <code>arg2</code>, and every other arg.</p>\n\n<p>Third Case:</p>\n\n<pre><code>Type(arg1 + arg2) or Type(arg1 - arg2) or (lets just say that it can take really any form)\n</code></pre>\n\n<p>Here I need <code>Type</code> and <code>arg1 + arg2</code></p>\n\n<p>Note: I'm not opposed to using two regex, meaning if I could get \"Type\" and anything inside the parenthesis with one regex and then pulling the comma separated args apart using a second regex that would be ok, just not preferred.</p>\n"}, {"tags": ["c++", "qt", "qt4.8"], "comments": [{"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1477501697, "post_id": 40264809, "comment_id": 67796641, "body": "Avoid subclassing value classes. Use composition instead: QFile to check if the file is there, QImageReader to try to read it, up to QPixmap to store the result."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 7069314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f10d3ddd394a76901fe95618f945755?s=128&d=identicon&r=PG", "display_name": "tcler", "link": "https://stackoverflow.com/users/7069314/tcler"}, "is_accepted": false, "score": 0, "last_activity_date": 1477553877, "last_edit_date": 1477553877, "creation_date": 1477503143, "answer_id": 40268671, "question_id": 40264809, "link": "https://stackoverflow.com/questions/40264809/qpixmap-on-missing-file-create-debug-message/40268671#40268671", "title": "QPixmap on missing file create debug message", "body": "<p>Maybe default-constructing QPixmap and then calling QPixmap::load() might be an option for you, there's a boolean return value that tells you whether the call succeeded or not.</p>\n\n<p>To get the dropin replacement I believe you're seeking, you could encapsulate this into a globally accessible function:</p>\n\n<pre><code>QPixmap loadPixmap(const QString&amp; filename) {\n      QPixmap result;\n      if (!result.load(filename)) {\n         // print error message\n      }\n      return result;\n}\n</code></pre>\n\n<p>Since Qt internally shares the image data, it is not too much an issue that the QPixmap is returned by value.</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 2590485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b07260da6fbfe71b1b72215cc547cf?s=128&d=identicon&r=PG", "display_name": "Martin H.", "link": "https://stackoverflow.com/users/2590485/martin-h"}, "edited": false, "score": 0, "creation_date": 1477551341, "post_id": 40271310, "comment_id": 67814803, "body": "except for one nice compact loop doing all image loading, what would I win from this construct? And because I have multiple classes that need to load images, I would have to repeat this construct multiple times...."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 83, "user_id": 2590485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b07260da6fbfe71b1b72215cc547cf?s=128&d=identicon&r=PG", "display_name": "Martin H.", "link": "https://stackoverflow.com/users/2590485/martin-h"}, "edited": false, "score": 0, "creation_date": 1477571204, "post_id": 40271310, "comment_id": 67827405, "body": "You already have to provide a list of pixmap filenames, and some symbolic means of referring to them. I suggest that using a symbol that is an enumeration gives you more flexibility than a symbol that resolves to a pixmap directly. And you&#39;ve asked how to load these pixmaps so that you can indicate errors: I show how to do it without messing with the pixmap class itself."}], "tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1477512615, "creation_date": 1477512615, "answer_id": 40271310, "question_id": 40264809, "link": "https://stackoverflow.com/questions/40264809/qpixmap-on-missing-file-create-debug-message/40271310#40271310", "title": "QPixmap on missing file create debug message", "body": "<p>Iterate the pixmaps and check if any of them failed to load: <code>QPixmap::isNull()</code> will tell you that a given pixmap failed to load.</p>\n\n<p>You probably should have some sort of a mapping between symbols, filenames, and pixmaps. E.g.:</p>\n\n<pre><code>typedef enum {\n  p_upArrow,\n  p_downArrow\n} PixmapSymbol;\n\nstruct Entry {\n  PixmapSymbol symbol;\n  const char * filename;\n};\n\nEntry const entries[] = {\n  { p_upArrow, \"/path/UpArrow.png\" },\n  { p_downArrow, \"/path/DownArrow.png\" }\n};\n\nQMap&lt;PixmapSymbol, QPixmap&gt; void loadPixmaps() {\n  QMap&lt;PixmapSymbol, QPixmap&gt; pixmaps;\n  for (auto &amp; entry : entries) {\n    auto pixmap = QPixmap{QString::fromUtf8(entry.filename)};\n    pixmaps.insert(entry.symbol, pixmap);\n    if (pixmap.isNull())\n      qDebug() &lt;&lt; \"Failed to load pixmap\" &lt;&lt; entry.filename;\n  }\n};\n\nint main(int argc, char ** argv) {\n  QApplication app{argc, argv};\n  auto const pixmaps = loadPixmaps();\n  QLabel ui;\n  ui.setPixmap(pixmaps[p_upArrow]);\n  ui.show();\n  return app.exec();\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 2590485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b07260da6fbfe71b1b72215cc547cf?s=128&d=identicon&r=PG", "display_name": "Martin H.", "link": "https://stackoverflow.com/users/2590485/martin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1211, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1477553877, "creation_date": 1477491661, "question_id": 40264809, "link": "https://stackoverflow.com/questions/40264809/qpixmap-on-missing-file-create-debug-message", "title": "QPixmap on missing file create debug message", "body": "<p>I am working on a Qt 4.8.6 GUI on an embedded linux system. The GUI loads a lot of images by calling:</p>\n\n<pre><code>QPixmap( \"/path/to/file.png\" )\n</code></pre>\n\n<p>However if the file cannot be found, Qt will not issue a warning or error on the debug output. Thats what I would like to achieve, preferrable on debug and release build. </p>\n\n<p>I came up with a solution, where I overload the QPixmap constructor with my own and do file checking.</p>\n\n<pre><code>class QPixmapExtended : public QPixmap\n{\npublic:\n    QPixmapExtended(const QString&amp; fileName) : QPixmap( fileName )\n    {\n        if( !QFile::exists( fileName ) )\n        {\n            qDebug() &lt;&lt; \"File not found: \" &lt;&lt; fileName;\n        }\n    }\n};\n</code></pre>\n\n<p>However I would like to know if there is a <strong>more clever solution</strong> to that problem?</p>\n\n<p>Thanks and cheers, Martin</p>\n"}, {"tags": ["c++", "memory-management", "new-operator"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1477491753, "post_id": 40264764, "comment_id": 67790063, "body": "I suspect adding <a href=\"https://blogs.msdn.microsoft.com/visualstudioalm/2015/03/03/make-debugging-faster-with-visual-studio/\" rel=\"nofollow noreferrer\"><code>_NO_DEBUG_HEAP</code></a> to the environment var settings of your project&#39;s debug startup configuration may produce more desirable results. Still, the debug vs release versions of the runtime suballocator are likely much more pedantic in debug vs release mode."}, {"owner": {"reputation": 4718, "user_id": 152359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9462dee3e00416ea83771eead7902e1c?s=128&d=identicon&r=PG", "display_name": "Hayt", "link": "https://stackoverflow.com/users/152359/hayt"}, "edited": false, "score": 2, "creation_date": 1477491791, "post_id": 40264764, "comment_id": 67790100, "body": "is this while running inside visual studio or on console? But debug mode inserts some more checks (like boundary checks) to the compilation. So <code>new</code> does more while in debug mode than in release."}, {"owner": {"reputation": 7666, "user_id": 407071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e3b59a5454c27320f956ab3b177a60e?s=128&d=identicon&r=PG", "display_name": "Eric Finn", "link": "https://stackoverflow.com/users/407071/eric-finn"}, "edited": false, "score": 3, "creation_date": 1477491991, "post_id": 40264764, "comment_id": 67790229, "body": "Not too familiar with Boost, but it looks like your timing only has 1-second resolution."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 2, "creation_date": 1477492155, "post_id": 40264764, "comment_id": 67790332, "body": "It&#39;s name literally says so, <b>second_clock</b>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1477497376, "post_id": 40264764, "comment_id": 67794103, "body": "Please don&#39;t hide pointers behind typedefs. It makes your code hard to read unless you&#39;re a Java programmer, in which case it makes your code highly non-idiomatic and leak-prone."}, {"owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 0, "creation_date": 1477554738, "post_id": 40264764, "comment_id": 67816870, "body": "Pete Becker what are you going to suggest instead?"}], "answers": [{"comments": [{"owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 0, "creation_date": 1477493320, "post_id": 40264954, "comment_id": 67791231, "body": "This is not the problem. Using a <code>boost::posix_time::microsec_clock</code> produces durations of 1001 - 1002 microseconds."}], "tags": [], "owner": {"reputation": 1764, "user_id": 699262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68dc989fa1d99295677d7c7b49fb6d23?s=128&d=identicon&r=PG", "display_name": "Yexo", "link": "https://stackoverflow.com/users/699262/yexo"}, "is_accepted": false, "score": 5, "last_activity_date": 1477492042, "creation_date": 1477492042, "answer_id": 40264954, "question_id": 40264764, "link": "https://stackoverflow.com/questions/40264764/operator-new-extremely-slow-on-msvc-debug/40264954#40264954", "title": "operator new[] extremely slow on MSVC debug", "body": "<p>You're using <code>boost::posix_time::second_clock</code> which only ticks once every second. The time measurement you do is thus either zero seconds or 1 second (or more, but that's unlikely). Printing a measurement of 1s as us gives you your output.</p>\n"}, {"comments": [{"owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 1, "creation_date": 1477493485, "post_id": 40265418, "comment_id": 67791354, "body": "It was really funny, but time flows anyhow, with or without my awkward <i>tic-toc</i> implementation ! Real issue is on <code>new []</code> overhead when <code>_DEBUG</code> is defined."}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 0, "creation_date": 1477494512, "post_id": 40265418, "comment_id": 67792155, "body": "@PatrizioBertoni <code>boost::posix_time::microsec_clock</code> doesn&#39;t guarantee microsecond resolution. See updated answer."}, {"owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 0, "creation_date": 1477494812, "post_id": 40265418, "comment_id": 67792372, "body": "Thank you so much, but I&#39;m arguing on something else. See updated question."}, {"owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "reply_to_user": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "edited": false, "score": 0, "creation_date": 1477495097, "post_id": 40265418, "comment_id": 67792577, "body": "@PatrizioBertoni I wrote my comment after seeing the updated question. My point is that in your setup <code>boost::posix_time::microsec_clock::local_time()</code> may be no different from <code>boost::posix_time::second_clock::local_time()</code>, and therefore the <b>1000000 us</b> number is not a correct measurement of the speed of <code>operator new[]</code>."}], "tags": [], "owner": {"reputation": 27522, "user_id": 6394138, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/u64Lc.png?s=128&g=1", "display_name": "Leon", "link": "https://stackoverflow.com/users/6394138/leon"}, "is_accepted": false, "score": 0, "last_activity_date": 1477494469, "last_edit_date": 1477494469, "creation_date": 1477493271, "answer_id": 40265418, "question_id": 40264764, "link": "https://stackoverflow.com/questions/40264764/operator-new-extremely-slow-on-msvc-debug/40265418#40265418", "title": "operator new[] extremely slow on MSVC debug", "body": "<p>How are you going to celebrate the coming new year? It may happen that you will be too tired and won't stay awake to raise a glass of wine right at 00:00. When you wake up the next day, will it be fair to claim that you have slept for one full year (since you fell asleep in 2016 and woke up in 2017)?</p>\n\n<p>The same happens with your clock that has a resolution of one second. If an operation starts executing close enough to the accurate second boundary (e.g. at 10:23AM 45 seconds and 999 milliseconds) it will appear to have last for 1 second.</p>\n\n<p>In a release build most of the time is spent on the \"<code>cout &lt;&lt;  ...</code>\" thing, and the rest of the program has a negligible chance of catching the instant of the incrementing second value. Using a debug (and therefore somewhat slower) version of the program increases the chances for such an event, as the slowdown of the memory allocation operations in a debug build is more than the slowdown of I/O operations.</p>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>Note that usage of <code>boost::posix_time::microsec_clock</code> <a href=\"http://www.boost.org/doc/libs/1_43_0/doc/html/date_time/posix_time.html\" rel=\"nofollow\">doesn't guarantee microsecond resolution</a>:</p>\n\n<blockquote>\n  <p><code>ptime microsec_clock::local_time()</code></p>\n  \n  <p>Get the local time using a sub second resolution clock. On Unix\n  systems this is implemented using GetTimeOfDay. On most Win32\n  platforms it is implemented using ftime. <strong>Win32 systems often do not\n  achieve microsecond resolution via this API</strong>. If higher resolution is\n  critical to your application test your platform to see the achieved\n  resolution.</p>\n</blockquote>\n"}], "owner": {"reputation": 2132, "user_id": 1315480, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0ec5acc01d8130dfefe52b6ea8823bbb?s=128&d=identicon&r=PG", "display_name": "Patrizio Bertoni", "link": "https://stackoverflow.com/users/1315480/patrizio-bertoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1477558613, "creation_date": 1477491529, "last_edit_date": 1592644375, "question_id": 40264764, "link": "https://stackoverflow.com/questions/40264764/operator-new-extremely-slow-on-msvc-debug", "title": "operator new[] extremely slow on MSVC debug", "body": "<p>In my application startup there is a quite little allocation of memory for a 3-ary pointer structure.</p>\n<pre><code>#define N_1 1024\n#define N_2 32\n#define N_3 1024\n\n#include &lt;boost/date_time/posix_time/posix_time.hpp&gt;\n\ntypedef uint16_t counts;\ntypedef counts * spectra;\ntypedef spectra * line;\ntypedef line * pline;\ntypedef pline * cube;\n\nvoid foo()\n{\n    cube cb = new pline[N_3];\n\n    for (int n3 = 0; n3 &lt; N_3; n3++)\n    {\n        boost::posix_time::ptime tic = boost::posix_time::microsec_clock::local_time();\n\n        line ln = new spectra[N_2];\n\n        for (int n2 = 0; n2 &lt; N_2; n2++)            \n        {\n            ln[n2] = new counts[N_1]();\n        }\n\n        cb[n3] = &amp;(ln);\n\n        boost::posix_time::ptime toc = boost::posix_time::microsec_clock::local_time();\n        boost::posix_time::time_duration dur = toc - tic;\n        std::cout &lt;&lt; n3 &lt;&lt; &quot; line allocated in &quot; &lt;&lt; dur.total_microseconds() &lt;&lt; &quot; us\\n&quot;;\n    }\n}\n</code></pre>\n<p>So we got an allocation of <code>sizeof(counts)*N_1*N_2*N_3</code> = <code>2*1024*1024*32</code> bytes, resulting in <code>64 MB</code> on the heap.</p>\n<p>Problem is, building in <em>Visual Studio DEBUG</em> mode only, about the enormous time consumed during <code>foo()</code> execution.\nIn particular, this is a part of a strange (afaik) log:</p>\n<blockquote>\n<p>0 line allocated in 0 us</p>\n<p>1 line allocated in 0 us</p>\n<p>.........................</p>\n<p>104 line allocated in 0 us</p>\n<p>105 line allocated in <strong>1000002</strong> us</p>\n<p>106 line allocated in 0 us</p>\n<p>.........................</p>\n</blockquote>\n<p>In <em>Release</em> mode, everything's running smooth. Any insight ?</p>\n<p><strong>EDIT:</strong></p>\n<p>Since most of you pointed out my wrong usage of <code>boost::posix_time::second_clock</code>, now replaced by <code>boost::posix_time::microsec_clock</code>, I'd like to highlight the fact that the real issue is on <code>new[]</code> performance while debugging, not on which is the best <em>tic-toc</em> tool.</p>\n"}, {"tags": ["c++", "crypto++"], "comments": [{"owner": {"reputation": 1250, "user_id": 6313992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766176ae92684010f7061da118223129?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Plaskota", "link": "https://stackoverflow.com/users/6313992/tomasz-plaskota"}, "edited": false, "score": 1, "creation_date": 1477491462, "post_id": 40264656, "comment_id": 67789868, "body": "This is really nice of you to share this interesting story. Thank you. @edit: was there any question you wanted to ask?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3624760"}, "reply_to_user": {"reputation": 1250, "user_id": 6313992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766176ae92684010f7061da118223129?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Plaskota", "link": "https://stackoverflow.com/users/6313992/tomasz-plaskota"}, "edited": false, "score": 0, "creation_date": 1477493063, "post_id": 40264656, "comment_id": 67791025, "body": "Oops, sorry, added question."}], "answers": [{"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1478079683, "post_id": 40322901, "comment_id": 68005518, "body": "I&#39;m still trying to understand why your <code>BinaryInputStream</code> is useful as a <code>Source</code>. Its not clear to me what benefit it offers. For example, a library source offers <code>SourceExhausted()</code>, so there&#39;s no need for an <code>IsEOF()</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3624760"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1478198251, "post_id": 40322901, "comment_id": 68067935, "body": "I use it to do binary I/O. For example reading data from files or sockets."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3624760"}, "is_accepted": true, "score": 0, "last_activity_date": 1477770016, "last_edit_date": 1477770016, "creation_date": 1477769652, "answer_id": 40322901, "question_id": 40264656, "link": "https://stackoverflow.com/questions/40264656/custom-source-for-crypto/40322901#40322901", "title": "Custom source for Crypto++", "body": "<p>I had to look at the source code of crypto++ and copy most of the implementation from <a href=\"https://www.cryptopp.com/docs/ref/class_file_source.html\" rel=\"nofollow\"><code>FileSource</code></a> class. The relevant files are <a href=\"https://www.cryptopp.com/docs/ref/files_8h_source.html\" rel=\"nofollow\"><code>files.h</code></a> and <a href=\"https://www.cryptopp.com/docs/ref/files_8cpp_source.html\" rel=\"nofollow\"><code>files.cpp</code></a>.</p>\n\n<p>First, we need to look at the <a href=\"https://www.cryptopp.com/docs/ref/class_file_source.html\" rel=\"nofollow\"><code>FileSource</code></a> class. It inherits from <code>SourceTemplate&lt;FileStore&gt;</code>. So we need to examine <a href=\"https://www.cryptopp.com/docs/ref/class_file_store.html\" rel=\"nofollow\"><code>FileStore</code></a> class. It inherits from <code>Store</code>, <code>FilterPutSpaceHelper</code> and <code>NotCopyable</code>. We need to create class which also inherits from these classes.</p>\n\n<p>Our store class must have a default constructor and implement the following virtual functions: <code>TransferTo2</code>, <code>CopyRangeTo2</code> and <code>StoreInitialize</code>. <code>StoreInitialize</code> can be private.</p>\n\n<p>Finally, our source class needs only constructors and if you look at <a href=\"https://www.cryptopp.com/docs/ref/files_8h_source.html\" rel=\"nofollow\"><code>files.h</code></a>, <a href=\"https://www.cryptopp.com/docs/ref/class_file_source.html\" rel=\"nofollow\"><code>FileSource</code></a> is implemented entirely in a header file.</p>\n\n<p>The full implementation code is confined to <a href=\"https://www.cryptopp.com/docs/ref/files_8h_source.html\" rel=\"nofollow\"><code>files.h</code></a> and <a href=\"https://www.cryptopp.com/docs/ref/files_8cpp_source.html\" rel=\"nofollow\"><code>files.cpp</code></a> so there's no need to copy it in this answer.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3624760"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 40322901, "answer_count": 1, "score": 0, "last_activity_date": 1477770016, "creation_date": 1477491240, "last_edit_date": 1477493047, "question_id": 40264656, "link": "https://stackoverflow.com/questions/40264656/custom-source-for-crypto", "title": "Custom source for Crypto++", "body": "<p>I have made my own custom stream classes for binary I/O. Now I'm trying to make them compatible with Crypto++ library. I have found a <a href=\"https://stackoverflow.com/questions/39350337/saving-crypto-objects-to-stdvector\">question</a> that deals with custom sink and implemented my own. Now I need to implement a source. I've searched through the documentation and there seems to be a huge inheritance hierarchy so I can't understand it yet.</p>\n\n<p>Can someone provide an example code?</p>\n\n<p>Here's the part of my stream class:</p>\n\n<pre><code>/// \\brief Base class for a binary input stream.\n/// \\details Binary streams are used for low level unformatted I/O. Built on top\n/// of standard streams, this system takes care of endianness and provides\n/// convenient &lt;&lt; and &gt;&gt; overloads. This class is designed to mirror\n/// std::istream.\n\nclass BinaryInputStream : public virtual BinaryStreamBase\n{\npublic:\n    /// \\brief Returns whether last I/O operation has completed successfully.\n    /// \\return True if last I/O operation has completed successfully,\n    /// false otherwise.\n    virtual bool IsGood() const = 0;\n\n    /// \\brief Returns whether end-of-file has been reached.\n    /// \\return True if end-of-file has been reached, false otherwise.\n    virtual bool IsEOF() const = 0;\n\n    /// \\brief Returns whether recoverable error has occured.\n    /// \\return True if recoverable error has occured, false otherwise.\n    virtual bool IsFail() const = 0;\n\n    /// \\brief Returns whether non-recoverable error has occured.\n    /// \\return True if non-recoverable error has occured, false otherwise.\n    virtual bool IsBad() const = 0;\n\n    /// \\brief Reads a sequence of bytes from the stream.\n    /// \\param[in,out] buffer Buffer to write to.\n    /// \\param[in] size Number of bytes to read.\n    /// \\return Reference to this stream.\n    /// \\warning You are responsible for allocating the buffer and ensuring that\n    /// it contains enough space to hold the data. If number of bytes to read is\n    /// greater than the size of the buffer, the behavior is undefined.\n    virtual BinaryInputStream&amp; Read(char* buffer, std::size_t size) = 0;\n};\n</code></pre>\n"}, {"tags": ["c++", "c++14", "callable", "type-deduction"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 1, "creation_date": 1477491226, "post_id": 40264608, "comment_id": 67789693, "body": "<code>result_of_t&lt;callable()&gt;</code>? Although you&#39;d need argument types for <code>result_of</code> to work."}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 1, "creation_date": 1477491271, "post_id": 40264608, "comment_id": 67789721, "body": "<code>std::result_of_t&lt;callable&amp;(float)&gt;</code>"}, {"owner": {"reputation": 3142, "user_id": 1598163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/131731839e6abf47e73673d7bf7990c6?s=128&d=identicon&r=PG", "display_name": "linuxfever", "link": "https://stackoverflow.com/users/1598163/linuxfever"}, "edited": false, "score": 0, "creation_date": 1477491574, "post_id": 40264608, "comment_id": 67789939, "body": "Another error is that A&#39;s constructor does not take any arguments, whereas in make_A it takes f as an argument."}], "answers": [{"comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1477501723, "post_id": 40264696, "comment_id": 67796649, "body": "It won&#39;t work anyway. The OP forgot to provide a proper constructor for <code>A</code>."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1477501929, "last_edit_date": 1477501929, "creation_date": 1477491334, "answer_id": 40264696, "question_id": 40264608, "link": "https://stackoverflow.com/questions/40264608/deduction-of-result-type-of-callable/40264696#40264696", "title": "Deduction of result type of callable", "body": "<p>You need to pass the argument list to <code>std::result_of</code>, otherwise it's impossible to tell the return type (<code>operator()</code> can be overloaded, after all).</p>\n\n<pre><code>return A&lt;callable, std::result_of_t&lt;callable(float)&gt; &gt;{ f }\n</code></pre>\n\n<p>(provided <code>A&lt;callable, std::result_of_t&lt;callable(float)&gt;</code> can be constructed with <code>f</code>, which isn't the case for the example)</p>\n"}], "owner": {"reputation": 2091, "user_id": 7006673, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/f6993a5041a63d1922494d0dab74a048?s=128&d=identicon&r=PG&f=1", "display_name": "abraham_hilbert", "link": "https://stackoverflow.com/users/7006673/abraham-hilbert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 40264696, "answer_count": 1, "score": 5, "last_activity_date": 1477501929, "creation_date": 1477491109, "question_id": 40264608, "link": "https://stackoverflow.com/questions/40264608/deduction-of-result-type-of-callable", "title": "Deduction of result type of callable", "body": "<p>I try to deduce the type of callable template parameter, unfortunately without success:</p>\n\n<pre><code>template&lt;typename callable, typename T_out &gt;\nclass A\n{};\n\ntemplate&lt;typename callable&gt;\nauto make_A( callable f )\n{\n  return A&lt;callable, typename std::result_of_t&lt;callable&gt; &gt;{ f };\n}\n\nint main()\n{\n  make_A( []( float f ){ return f;} );\n}\n</code></pre>\n\n<p>The code above causes the following error:</p>\n\n<pre><code>error: implicit instantiation of undefined template 'std::__1::result_of&lt;(lambda at /Users/arirasch/WWU/dev/xcode/tests/tests/main.cpp:31:11)&gt;'\ntemplate &lt;class _Tp&gt; using result_of_t = typename result_of&lt;_Tp&gt;::type;\n</code></pre>\n\n<p>Does anyone know how to fix it?</p>\n\n<p>Many thanks in advance.</p>\n"}, {"tags": ["c++", "qt-creator", "undefined-reference", "leveldb"], "comments": [{"owner": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1477490928, "post_id": 40264493, "comment_id": 67789446, "body": "Have you installed the development package of leveldb?"}, {"owner": {"reputation": 31, "user_id": 6823102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206637112755651/picture?type=large", "display_name": "Rahul", "link": "https://stackoverflow.com/users/6823102/rahul"}, "reply_to_user": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1477491123, "post_id": 40264493, "comment_id": 67789616, "body": "Yes, have tried that multiple times.. and I guess it gets installed."}, {"owner": {"reputation": 31, "user_id": 6823102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206637112755651/picture?type=large", "display_name": "Rahul", "link": "https://stackoverflow.com/users/6823102/rahul"}, "reply_to_user": {"reputation": 9219, "user_id": 979325, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/b513c9edd4da1688c05ba041820011c7?s=128&d=identicon&r=PG", "display_name": "Jepessen", "link": "https://stackoverflow.com/users/979325/jepessen"}, "edited": false, "score": 0, "creation_date": 1477491208, "post_id": 40264493, "comment_id": 67789684, "body": "In fact, the line &quot;LIBS += -lleveldb&quot; gets added automatically when I point out the libleveldb.so file contained in the usr/local/lib directory."}, {"owner": {"reputation": 16470, "user_id": 179372, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7735d49d1b04ba5e18bbe107ad756b0d?s=128&d=identicon&r=PG", "display_name": "Tarantula", "link": "https://stackoverflow.com/users/179372/tarantula"}, "edited": false, "score": 0, "creation_date": 1542135862, "post_id": 40264493, "comment_id": 93457706, "body": "I&#39;m facing the same issue and I guess this is related to C++11 ABI compatibility."}], "owner": {"reputation": 31, "user_id": 6823102, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206637112755651/picture?type=large", "display_name": "Rahul", "link": "https://stackoverflow.com/users/6823102/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 554, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1477491451, "creation_date": 1477490819, "last_edit_date": 1477491451, "question_id": 40264493, "link": "https://stackoverflow.com/questions/40264493/getting-undefined-reference-related-to-leveldb-in-c-program-despite-including", "title": "Getting undefined reference related to levelDB in C++ program despite including the library in QT Creator (in Ubuntu 16.04)", "body": "<p>These are the errors that I'm getting while building the c++ project in QT Creator:</p>\n\n<pre><code>error: undefined reference to `leveldb::DestroyDB(std::string const&amp;, leveldb::Options const&amp;)' \nerror: undefined reference to `leveldb::RepairDB(std::string const&amp;, leveldb::Options const&amp;)'    \nerror: undefined reference to `leveldb::DB::Open(leveldb::Options const&amp;, std::string const&amp;, leveldb::DB**)'\nerror: undefined reference to `leveldb::Status::ToString() const'\n</code></pre>\n\n<p>Earlier, additionally, I was getting tens of similar libcurl undefined reference errors, but I fixed the errors after using the \"add library\" and selecting the \"System Library\" option, which automatically included the following line to the .pro file:</p>\n\n<pre><code>unix|win32: LIBS += -lcurl\n</code></pre>\n\n<p>So, I tried the same thing for leveldb, which has automatically included the following line in the .pro file:</p>\n\n<pre><code>unix|win32: LIBS += -lleveldb\n</code></pre>\n\n<p>But despite that, the errors are still there.</p>\n"}, {"tags": ["java", "c++"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1477490520, "post_id": 40264200, "comment_id": 67789160, "body": "Show your code, not someone else&#39;s."}, {"owner": {"reputation": 1425, "user_id": 6304349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c4a1ce11469805ba79d576fa2f013c?s=128&d=identicon&r=PG", "display_name": "dorukayhan", "link": "https://stackoverflow.com/users/6304349/dorukayhan"}, "edited": false, "score": 0, "creation_date": 1477490526, "post_id": 40264200, "comment_id": 67789165, "body": "&quot;Can anyone provide a complete walk through on how to do it ?&quot; Such a question is <b>WAY</b> too broad for Stack Overflow."}], "answers": [{"comments": [{"owner": {"reputation": 377, "user_id": 4199141, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_jGxyF86jpQ/AAAAAAAAAAI/AAAAAAAAAX0/r1vbGgE85DM/photo.jpg?sz=128", "display_name": "John Griffin", "link": "https://stackoverflow.com/users/4199141/john-griffin"}, "edited": false, "score": 1, "creation_date": 1477492307, "post_id": 40264510, "comment_id": 67790437, "body": "I&#39;m sorry, but with that level of simplicity, he will introduce far too few dependencies and the job will execute too fast."}], "tags": [], "owner": {"reputation": 1057, "user_id": 4153464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/D55Mz.jpg?s=128&g=1", "display_name": "Work of Artiz", "link": "https://stackoverflow.com/users/4153464/work-of-artiz"}, "is_accepted": false, "score": 1, "last_activity_date": 1477490870, "creation_date": 1477490870, "answer_id": 40264510, "question_id": 40264200, "link": "https://stackoverflow.com/questions/40264200/compiling-and-running-c-file-in-java-application/40264510#40264510", "title": "Compiling and Running C++ file in Java Application", "body": "<p>General question -> General Answer</p>\n\n<p>Easiest way to do it: Generate a makefile, run that.</p>\n\n<p>For make see <a href=\"https://www.gnu.org/software/make/\" rel=\"nofollow\">reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7070034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8920dbdab1b38a1e1a01164a14125bc?s=128&d=identicon&r=PG&f=1", "display_name": "Gig Anonymous", "link": "https://stackoverflow.com/users/7070034/gig-anonymous"}, "is_accepted": false, "score": 1, "last_activity_date": 1477490965, "last_edit_date": 1495542810, "creation_date": 1477490965, "answer_id": 40264550, "question_id": 40264200, "link": "https://stackoverflow.com/questions/40264200/compiling-and-running-c-file-in-java-application/40264550#40264550", "title": "Compiling and Running C++ file in Java Application", "body": "<p>This might not be a Java or a C++ problem. Are you certain your compiler is properly set up? What command are you using to invoke it?\nAssuming you are using the code provided <a href=\"https://stackoverflow.com/questions/14826814/compiling-and-running-c-program-in-java\">here</a>, are the paths indicated correct?</p>\n\n<pre><code>Process p = Runtime.getRuntime().exec(\"cmd /C gcc \" + filename + \" -o \" + exeName, null, dir);\n</code></pre>\n\n<p>Try opening a command prompt and invoking the compiler by hand:</p>\n\n<pre><code>gcc Hello.cpp\n</code></pre>\n\n<p>Assuming the paths are correct for both the executable and the file, you either get an error, or a file named something like $a.exe in your working directory.</p>\n\n<p>Lastly: I haven't used Mingw32 in a while, but you might need to call g++ instead of gcc for C++ code.</p>\n"}], "owner": {"reputation": 17, "user_id": 7074784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0fRzR.jpg?s=128&g=1", "display_name": "Zubayet Zaman Zico", "link": "https://stackoverflow.com/users/7074784/zubayet-zaman-zico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 1, "answer_count": 2, "score": -2, "last_activity_date": 1477495156, "creation_date": 1477490054, "last_edit_date": 1495542816, "question_id": 40264200, "link": "https://stackoverflow.com/questions/40264200/compiling-and-running-c-file-in-java-application", "title": "Compiling and Running C++ file in Java Application", "body": "<p>I am trying to build a Java application that compiles and runs <code>C++</code> files. It also stores the output of the <code>.exe</code> file in a text file. Can anyone provide a complete walk through on how to do it? </p>\n\n<p>I have already tried the solution provided <a href=\"https://stackoverflow.com/questions/14826814/compiling-and-running-c-program-in-java\">here</a> and the program showed <code>compilation successful</code> message. But I couldn't find the .o file or <code>.exe</code> file in the directory.</p>\n"}, {"tags": ["c++", "multithreading", "events", "visual-c++", "bluetooth"], "comments": [{"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477489628, "post_id": 40263967, "comment_id": 67788501, "body": "Please note that the event is raised each time a device is found. Your blocking call needs to be repeated and repeated and repeated. Assuming the logic around that is fine (but I&#39;d consider to keep this asynchronous model, why not?! where it doesn&#39;t fit?) then simply introduce another function that will wait a signal (signaled from event handler) before returning a found device"}, {"owner": {"reputation": 3751, "user_id": 3253359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a8450b02dc1be915b747695cd8351b61?s=128&d=identicon&r=PG&f=1", "display_name": "ABCplus", "link": "https://stackoverflow.com/users/3253359/abcplus"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477554218, "post_id": 40263967, "comment_id": 67816599, "body": "Current async model does not match my needs since I&#39;ve my thread running an infinite loop like this: <code>scanForDevices()</code> -&gt; <code>connectToDiscoveredDevices()</code> -&gt; <code>sleepAWhile()</code>-&gt; ...that&#39;s why I cannot find a way (my limitation) to use an async model in this procedure"}, {"owner": {"reputation": 3751, "user_id": 3253359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a8450b02dc1be915b747695cd8351b61?s=128&d=identicon&r=PG&f=1", "display_name": "ABCplus", "link": "https://stackoverflow.com/users/3253359/abcplus"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477554307, "post_id": 40263967, "comment_id": 67816643, "body": "The function we are talking about is the <code>scanForDevices()</code> : if it returns immediatly because it&#39;s async, the <code>connectToDiscoveredDevices()</code> always takes an empty devices vector as input. But maybe there&#39;s an another implementation/design I&#39;m not aware of."}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477554840, "post_id": 40263967, "comment_id": 67816921, "body": "I don&#39;t know library you&#39;re using but what if you specify an infinite timeout? Will it continue searching? In that case it behaves like thread you&#39;re planning to write and you may just move connectToDiscoveredDevices() in the event handler."}, {"owner": {"reputation": 3751, "user_id": 3253359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a8450b02dc1be915b747695cd8351b61?s=128&d=identicon&r=PG&f=1", "display_name": "ABCplus", "link": "https://stackoverflow.com/users/3253359/abcplus"}, "reply_to_user": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477559143, "post_id": 40263967, "comment_id": 67819546, "body": "@AdrianoRepetti: after a timeout (cannot be infinite) the function return in any case, even if a device has not been found. If I move the connectToDiscoveredDevices() in the event handler then the thread goes immediatly in the sleep section, invalidating the initial scope to: &quot;discover and connect to Bluetooth devices every n seconds&quot;"}, {"owner": {"reputation": 59891, "user_id": 1207195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3P4g.jpg?s=128&g=1", "display_name": "Adriano Repetti", "link": "https://stackoverflow.com/users/1207195/adriano-repetti"}, "edited": false, "score": 0, "creation_date": 1477561640, "post_id": 40263967, "comment_id": 67821143, "body": "Can you specify a 0 timeout? In that case you can connectTo() in event handler (but asynchronous in respect to your background thread...)"}], "answers": [{"tags": [], "owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1477489660, "creation_date": 1477489660, "answer_id": 40264070, "question_id": 40263967, "link": "https://stackoverflow.com/questions/40263967/using-event-based-api-in-a-thread-blocking-mode/40264070#40264070", "title": "Using event based API in a thread (blocking mode)", "body": "<p>What you want is a Semaphore which your main thread sits on until the discovery thread completes and then notifies your main thread to wake.</p>\n\n<p>Active waits like what you suggest are nasty, and should be avoided where you can.</p>\n"}], "owner": {"reputation": 3751, "user_id": 3253359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a8450b02dc1be915b747695cd8351b61?s=128&d=identicon&r=PG&f=1", "display_name": "ABCplus", "link": "https://stackoverflow.com/users/3253359/abcplus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1477493618, "creation_date": 1477489409, "last_edit_date": 1477493618, "question_id": 40263967, "link": "https://stackoverflow.com/questions/40263967/using-event-based-api-in-a-thread-blocking-mode", "title": "Using event based API in a thread (blocking mode)", "body": "<p>In my C++ application I'm using a third party library for Bluetooth discovering process. I'm looking at the examples provided to learn how to use it.</p>\n\n<p>The example that best match my needs is a simple GUI application that call a <code>Discovery(long timeout)</code> function from the library to start the Bluetooth discovery.\nThat function returns immediatly (so that the GUI is not freezed) and fires an <code>__event</code> called <code>OnDeviceFound</code> once a new BT device has been discovered and <code>OnDiscoveryComplete</code> once the <code>timeout</code> has elapsed.</p>\n\n<p>So in the GUI constructor (of the example) there're <code>__hook</code> defined like this:</p>\n\n<pre><code>__hook(&amp;BluetoothDiscovery::OnDiscoveryComplete, &amp;m_Discovery, &amp;BluetoothClientDlg::OnDiscoveryComplete);\n</code></pre>\n\n<p>Now, I need to implement the same in my application, that is not a Window application but a console application that runs as a Windows Service, doing a continuos discovering on a separate thread looking for new devices.</p>\n\n<p>So, actually, since my implementation makes use of a thread for discovery, I don't need an event based discovery procedure, but I need a blocking discovering. The library does not provide a blocking API for discovering.</p>\n\n<p>So here comes the question: is it possible to use an event based function in a blocking function? In other words, is it possible to write a function that could be called in the thread main loop every <em>n</em> seconds that does a discovery procedure and return the founded Bluetooth devices (using that event-based library API)?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1477489352, "post_id": 40263877, "comment_id": 67788273, "body": "Put the implementation in the header file."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1477489419, "post_id": 40263877, "comment_id": 67788324, "body": "You really should store the matrix as a flat array to take advantage of cache locality."}, {"owner": {"reputation": 91, "user_id": 7075406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714d96a51d5af64c7ede064980c0a553?s=128&d=identicon&r=PG&f=1", "display_name": "Samu", "link": "https://stackoverflow.com/users/7075406/samu"}, "edited": false, "score": 0, "creation_date": 1477489573, "post_id": 40263877, "comment_id": 67788454, "body": "I will try the flat array, but I want to overload the * operator. Wouldn&#39;t it be harder that way?"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 0, "creation_date": 1477489583, "post_id": 40263877, "comment_id": 67788462, "body": "Linking template classes defined and implemented in different files is tricky. Have a look at this: <a href=\"http://www.codeproject.com/Articles/48575/How-to-define-a-template-class-in-a-h-file-and-imp\" rel=\"nofollow noreferrer\">codeproject.com/Articles/48575/&hellip;</a>"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477490545, "post_id": 40263877, "comment_id": 67789179, "body": "You will need to define <code>T&amp; operator[](size_t i, size_t j)</code> and <code>T operator[](size_t i, size_t j) const</code> anyway.  You can write <code>Matrix&lt;T&gt; operator*(const Matrix&lt;T&gt;&amp;rhs, const Matrix&lt;T&gt;&amp;lhs</code>) just in terms of that."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1477490626, "post_id": 40263877, "comment_id": 67789246, "body": "Also beware: Much better to declare <code>M</code> as <code>std::vector&lt;T&gt; M;</code> - that way copy constructor, copy assignment operator (and their move counterparts) &quot;just work&quot;."}, {"owner": {"reputation": 91, "user_id": 7075406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714d96a51d5af64c7ede064980c0a553?s=128&d=identicon&r=PG&f=1", "display_name": "Samu", "link": "https://stackoverflow.com/users/7075406/samu"}, "edited": false, "score": 0, "creation_date": 1477494748, "post_id": 40263877, "comment_id": 67792329, "body": "Thanks for the info :)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1477497214, "post_id": 40263877, "comment_id": 67793985, "body": "For matrix classes, please search the internet for &quot;c++ FAQ Matrix&quot;.  There are some good issues discussed there."}], "owner": {"reputation": 91, "user_id": 7075406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/714d96a51d5af64c7ede064980c0a553?s=128&d=identicon&r=PG&f=1", "display_name": "Samu", "link": "https://stackoverflow.com/users/7075406/samu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1477489368, "answer_count": 0, "score": 0, "last_activity_date": 1477489324, "creation_date": 1477489217, "question_id": 40263877, "link": "https://stackoverflow.com/questions/40263877/matrix-class-c-implementation", "closed_reason": "Duplicate", "title": "Matrix class c++ implementation", "body": "<p>I am trying to implement a matrix class.</p>\n\n<p><strong>Class Definition</strong></p>\n\n<pre><code>template &lt;typename T&gt;\nclass Matrix\n{\nprivate:\n    int size;           //size of matrix\n    T value;\n    T ** M;\npublic:\n    Matrix(int m = 2);  \n</code></pre>\n\n<p><strong>Class implementation</strong></p>\n\n<pre><code>/* Matrix constructor */\ntemplate &lt;typename T&gt;\nMatrix&lt;T&gt;::Matrix(int m) : size(m), value(0)\n{\n    M = new T*[size];\n    for (int i = 0; i &lt; size; i++)\n    {\n        M[i] = new T[size];\n        for (int j = 0; j &lt; size; j++)\n        {\n            M[i][j] = value;\n        }\n    }\n}\n</code></pre>\n\n<p>This is how I create an object:</p>\n\n<pre><code>Matrix&lt;int&gt; A = Matrix&lt;int&gt;(3);\n</code></pre>\n\n<p>I keep getting this error: </p>\n\n<blockquote>\n  <p>Error 2   error LNK2019: unresolved external symbol \"public: __thiscall\n  Matrix::Matrix(int)\" (??0?$Matrix@H@@QAE@H@Z) referenced in\n  function _main</p>\n</blockquote>\n\n<p>Any ideas what can be causing this?</p>\n"}, {"tags": ["c++", "mfc", "mfc-feature-pack", "acceleratorkey"], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 1, "creation_date": 1477511437, "post_id": 40269169, "comment_id": 67801944, "body": "From the question: <i>&quot;I don&#39;t see VK_F2 anywhere in the accelerator table&quot;</i>."}, {"owner": {"reputation": 533, "user_id": 2002288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7bf6830e387572641612bdf484a1aaa2?s=128&d=identicon&r=PG", "display_name": "sg_man", "link": "https://stackoverflow.com/users/2002288/sg-man"}, "edited": false, "score": 0, "creation_date": 1477512540, "post_id": 40269169, "comment_id": 67802489, "body": "For future reference, the registry entries were the problem, thanks!"}], "tags": [], "owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "is_accepted": true, "score": 3, "last_activity_date": 1477504862, "creation_date": 1477504862, "answer_id": 40269169, "question_id": 40263863, "link": "https://stackoverflow.com/questions/40263863/mfc-hidden-or-default-function-key-accelerators/40269169#40269169", "title": "MFC &quot;Hidden&quot; or &quot;Default&quot; Function Key Accelerators?", "body": "<p>Just look into the accelerator table in the resource file of your application. Yes, many standard commands do have accelerator keys assigned (eg Ctlr+S is mapped to the File Save command). You can delete the commands you do not want (individually, not the whole accelerator table). The application \"remembering\" the old accelerator table assignments (or not working with the new ones) may be due to saving these in the registry. Go there and delete the \"Workspace\" tree for your application, and then test anew.</p>\n\n<p>Menu item labels must contain the shortcut as well, separated by a tab (eg <code>File &amp;Open\\tCtlr+O</code>). Status bar hints and tooltips are created by a string resource, with the same ID as the menu or toolbar item. You can create/edit these in the Menu Editor or the String Table Editor. The two items are separated by a newline character.</p>\n"}], "owner": {"reputation": 533, "user_id": 2002288, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7bf6830e387572641612bdf484a1aaa2?s=128&d=identicon&r=PG", "display_name": "sg_man", "link": "https://stackoverflow.com/users/2002288/sg-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 536, "favorite_count": 0, "accepted_answer_id": 40269169, "answer_count": 1, "score": 3, "last_activity_date": 1477504862, "creation_date": 1477489186, "question_id": 40263863, "link": "https://stackoverflow.com/questions/40263863/mfc-hidden-or-default-function-key-accelerators", "title": "MFC &quot;Hidden&quot; or &quot;Default&quot; Function Key Accelerators?", "body": "<p>I have a pretty normal MFC SDI application.</p>\n\n<p>I recently started using things from the new MFC feature pack (eg CMFCToolbar), and after all these changes, I am seeing some unexplained behavior in keyboard shortcuts.</p>\n\n<p>It seems some resource IDs have function key shortcuts (like F6), but I cannot find out how this works, or how to disable it.</p>\n\n<p>For example, if I mouseover ID_ABC in a toolbar, I see a tooltip like:</p>\n\n<p>ABC (F2)\nDo ABC action</p>\n\n<p>I don't see VK_F2 anywhere in the accelerator table, or anywhere at all for that matter.  I also cannot find (F2) anywhere at all in the solution.  This all seems very weird to me.  Pressing F2 does indeed do ABC.</p>\n\n<p>If I delete the entire accelerator table, that seems to \"fix\" the problem, but then of course I have no accelerators.  As soon as I add any accelerator back, the problem re-appears.</p>\n\n<p>Usually, when I run into these things, I seem to be on my own, and the cause of the problem is usually \"far away\", sort of like landing in some random function after a bad memory access, and saying, \"why am I here\"?? </p>\n\n<p>But if anyone knows anything about this, thanks!</p>\n"}, {"tags": ["c++", "io", "readfile"], "answers": [{"tags": [], "owner": {"reputation": 1449, "user_id": 1850903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d27cf790dfacdfb2e6baea68806df0f4?s=128&d=identicon&r=PG", "display_name": "O_Z", "link": "https://stackoverflow.com/users/1850903/o-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1477489369, "creation_date": 1477489369, "answer_id": 40263943, "question_id": 40263854, "link": "https://stackoverflow.com/questions/40263854/passing-values-in-c/40263943#40263943", "title": "Passing values in C++", "body": "<p>You can transfer a reference to the variable like:</p>\n\n<pre><code>void ReadFromFile(const string&amp; inicod,string &amp;N,string &amp;e_end,string &amp;L){\n\n....\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1477489444, "post_id": 40263944, "comment_id": 67788347, "body": "Thats not easy to understand for a beginner without any explanation, as for the auto type"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1477489887, "post_id": 40263944, "comment_id": 67788687, "body": "@Treycos, <code>auto</code> return types of all things? I&#39;d have thought that <code>std::tuple&lt;type_of_N, type_of_t_end, type_of_L&gt;</code> would be much more to chew on."}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1477490043, "post_id": 40263944, "comment_id": 67788802, "body": "It is, i just meant that it was better to explain why you were using auto instead of that, but nvm ;)"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1477490220, "post_id": 40263944, "comment_id": 67788952, "body": "@Treycos, added a short paragraph. Thanks for the suggestion."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 149, "user_id": 7035728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfc478c9b86e5da872251c6c5561614?s=128&d=identicon&r=PG&f=1", "display_name": "colombien", "link": "https://stackoverflow.com/users/7035728/colombien"}, "edited": false, "score": 0, "creation_date": 1477559234, "post_id": 40263944, "comment_id": 67819596, "body": "@colombien, if this works for you, consider accepting the answer (mark the V under the voting buttons), to mark the question as answered."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1477490207, "last_edit_date": 1477490207, "creation_date": 1477489369, "answer_id": 40263944, "question_id": 40263854, "link": "https://stackoverflow.com/questions/40263854/passing-values-in-c/40263944#40263944", "title": "Passing values in C++", "body": "<p>You can return a tuple.</p>\n\n<pre><code>auto ReadFromFile(const string&amp; inicod){\n  string buf;\n  ifstream infile(inicod);\n\n  infile &gt;&gt; N; getline(infile, buf);\n  infile &gt;&gt; t_end; getline(infile, buf);\n  infile &gt;&gt; L; getline(infile, buf);\n\n  return std::make_tuple(N, t_end, L);\n}\n</code></pre>\n\n<p>The <code>auto</code> means that the return type of the function depends on the return statement. So whatever I pass <code>std::make_tuple</code>, the function will automatically return the correct <code>std::tuple&lt;T1, T2, ..., Tn&gt;</code> (the result of <code>std::make_tuple</code>).<br>\n<code>std::tuple</code> is a neat template that lets you bundle data together on-the-fly without having to declare your own <code>struct</code>. If your returned objects aren't costly to default construct, there's also a utility to unpack tuples:</p>\n\n<pre><code>//N, t_end, L definition\nstd::tie(N, t_end, L) = ReadFromFile(inicod);\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 7035728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfc478c9b86e5da872251c6c5561614?s=128&d=identicon&r=PG&f=1", "display_name": "colombien", "link": "https://stackoverflow.com/users/7035728/colombien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 40263944, "answer_count": 2, "score": -4, "last_activity_date": 1477490207, "creation_date": 1477489164, "question_id": 40263854, "link": "https://stackoverflow.com/questions/40263854/passing-values-in-c", "title": "Passing values in C++", "body": "<p>I have a function that reads some variables from a file:</p>\n\n<pre><code>void ReadFromFile(const string&amp; inicod){\nstring buf;\nifstream infile(inicod);\n\ninfile &gt;&gt; N; getline(infile, buf);\ninfile &gt;&gt; t_end; getline(infile, buf);\ninfile &gt;&gt; L; getline(infile, buf);\n...\n</code></pre>\n\n<p>I must access these variables N, t_end, L in main. Where should I declare them (like global variables?) and how can I access them?</p>\n"}, {"tags": ["c++", "eclipse", "image-processing", "imagemagick"], "comments": [{"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1477495599, "post_id": 40263839, "comment_id": 67792913, "body": "The <code>g++</code> command argument show that the library paths have been added to your project, but doesn&#39;t list any include header paths. Double check &quot;Properties&quot; &gt; &quot;C/C++ General&quot; &gt; &quot;Paths and Symbols&quot; &gt; &quot;Includes&quot;."}, {"owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1477496965, "post_id": 40263839, "comment_id": 67793813, "body": "@emcconville :same error after ur suggested changes **** Incremental Build of configuration Debug for project testOpencv ****Info: Internal Builder is used for build g++ &quot;-LC:\\\\Development\\\\ImageMagick-7.0.3-Q16\\\\lib&quot; &quot;-LC:\\\\Development\\\\opencv\\\\MINGW\\\\x86\\\\bin&quot; -o testOpencv.exe &quot;src\\\\testOpencv.o&quot; -lCORE_RL_Magick++_ -lCORE_RL_MagickCore_ -lCORE_RL_MagickWand_ src\\testOpencv.o: In function <code>main&#39;: C:\\Development\\Workspace\\testOpencv\\Debug&#47;..&#47;src&#47;testOpencv.&zwnj;&#8203;cpp:14: undefined reference to </code>Magick::Image::Image()&#39; collect2.exe: error: ld returned 1 exit status Build Finished (took 384ms)"}, {"owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1478191244, "post_id": 40263839, "comment_id": 68063941, "body": "is Magick++ better or opencv does all the job"}, {"owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "reply_to_user": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1479220810, "post_id": 40263839, "comment_id": 68459309, "body": "@emcconville: Hi, so i had left using Imagemagick but then i have to use it now. And I am still getting the same error inspite of having included header files and library files of Compiler includes and Mingw C++ Linker respectively. Can you please help."}, {"owner": {"reputation": 20869, "user_id": 438117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dec2e8d45b1a0210065d1a4e3800f151?s=128&d=identicon&r=PG", "display_name": "emcconville", "link": "https://stackoverflow.com/users/438117/emcconville"}, "edited": false, "score": 0, "creation_date": 1479223017, "post_id": 40263839, "comment_id": 68460849, "body": "There&#39;s not much more I can help with. The <code>g++</code> command has the <code>-L</code> flag for path to libraries, and <code>-l</code> to link to library, but it&#39;s missing the <code>-I</code> option to set the path of the headers (which is what the error message states). Double check <a href=\"http://help.eclipse.org/mars/index.jsp?topic=%2Forg.eclipse.cdt.doc.user%2Ftasks%2Fcdt_t_proj_paths.htm\" rel=\"nofollow noreferrer\">the docs</a> or manually build in CLI."}], "owner": {"reputation": 377, "user_id": 5036320, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-c3hYUp9W25c/AAAAAAAAAAI/AAAAAAAAADs/A3ZIi8zbkrc/photo.jpg?sz=128", "display_name": "Joyita Das", "link": "https://stackoverflow.com/users/5036320/joyita-das"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 917, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1477495271, "creation_date": 1477489126, "last_edit_date": 1477495271, "question_id": 40263839, "link": "https://stackoverflow.com/questions/40263839/undefined-reference-to-magickimage-image-in-eclipse-c", "title": "Undefined reference to Magick::Image ::Image() in eclipse c++", "body": "<p>I am using Eclipse CDT on windows 7 64 bit and trying to work on Image Class using Image Magick but I am getting the below error-</p>\n\n<pre><code>#pragma warning(once: 4459) /* 'identifier' : declaration of 'foo' hides    global declaration */\ng++ \"-LC:\\\\Development\\\\ImageMagick-7.0.3-Q16\\\\lib\" \"-     LC:\\\\Development\\\\opencv\\\\MINGW\\\\x86\\\\bin\" -o testOpencv.exe \"src\\\\testOpencv.o\"    -llibopencv_features2d2410 -lCORE_RL_Magick++_ -lCORE_RL_MagickCore_ -   lCORE_RL_MagickWand_ -llibopencv_objdetect2410 -llibopencv_contrib2410 -  llibopencv_core2410 -llibopencv_flann2410 -llibopencv_gpu2410 -  llibopencv_highgui2410 -llibopencv_imgproc2410 -llibopencv_ml2410 -  llibopencv_legacy2410 -llibopencv_nonfree2410 -llibopencv_objdetect2410 -  llibopencv_ocl2410 -llibopencv_photo2410 -llibopencv_stitching2410 -  llibopencv_superres2410 -llibopencv_video2410 -llibopencv_videostab2410 - lopencv_ffmpeg2410 -llibopencv_ml2410 \nsrc\\testOpencv.o: In function `main':\nC:\\Development\\Workspace\\testOpencv\\Debug/../src/testOpencv.cpp:14: undefined  reference to `Magick::Image::Image()'\nC:\\Development\\Workspace\\testOpencv\\Debug/../src/testOpencv.cpp:15: undefined  reference to `Magick::Image::read(std::string const&amp;)'\nC:\\Development\\Workspace\\testOpencv\\Debug/../src/testOpencv.cpp:16: undefined reference to `Magick::Image::display()'\nC:\\Development\\Workspace\\testOpencv\\Debug/../src/testOpencv.cpp:16: undefined reference to `Magick::Image::~Image()'\nC:\\Development\\Workspace\\testOpencv\\Debug/../src/testOpencv.cpp:16: undefined reference to `Magick::Image::~Image()'\ncollect2.exe: error: ld returned 1 exit status\n\n14:28:39 Build Finished (took 847ms)\n</code></pre>\n\n<p>I have added includes file to compiler and Library files in the linker in Eclipse. The library file in Image magick installed folder look strange to me, as they are not '.dll' files. Please let me know if I am right and how do i rectify this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/0XU3p.png\" alt=\"lib files\"></p>\n"}, {"tags": ["c++", "debugging", "ntdll"], "comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 5, "creation_date": 1477488834, "post_id": 40263654, "comment_id": 67787836, "body": "Shouldn\u2019t your profiler give you the call stack?"}, {"owner": {"reputation": 1012, "user_id": 5160450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/b9XUM.jpg?s=128&g=1", "display_name": "Francesco Dondi", "link": "https://stackoverflow.com/users/5160450/francesco-dondi"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1477489119, "post_id": 40263654, "comment_id": 67788078, "body": "Should it? I didn&#39;t think it would. I&#39;ll look into it, thanks!"}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 1, "creation_date": 1477489177, "post_id": 40263654, "comment_id": 67788141, "body": "Most (all?) profilers do, in some form or another, since without a stack trace this information is completely useless (as you\u2019ve yourself discovered)."}, {"owner": {"reputation": 1012, "user_id": 5160450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/b9XUM.jpg?s=128&g=1", "display_name": "Francesco Dondi", "link": "https://stackoverflow.com/users/5160450/francesco-dondi"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 1, "creation_date": 1477489367, "post_id": 40263654, "comment_id": 67788285, "body": "Indeed it did! For future reference: right-click, &quot;open in Call Graph&quot;."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 1, "creation_date": 1477501292, "post_id": 40263654, "comment_id": 67796431, "body": "need set breakpoint to RtlUpcaseUnicodeToMultiByteN and if &quot;stack trace was useless&quot; debug step by step until not found call source"}], "owner": {"reputation": 1012, "user_id": 5160450, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/b9XUM.jpg?s=128&g=1", "display_name": "Francesco Dondi", "link": "https://stackoverflow.com/users/5160450/francesco-dondi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1477488614, "creation_date": 1477488614, "question_id": 40263654, "link": "https://stackoverflow.com/questions/40263654/finding-who-calls-a-system-function", "title": "Finding who calls a system function", "body": "<p>I have a C++ application, developed with VisualStudio 2015 (update 2). </p>\n\n<p>Profiling with AMD Code XL shows that the program spends almost 20% of its time in the function <code>RtlUpcaseUnicodeToMultiByteN</code>, from the module <code>ntdll.dll</code>. Apparently it converts unicode tsrings to upper case. </p>\n\n<p>As it makes no sense to spend that much time doing that, I need to know who is calling the function. \nTurns out it isn't easy. </p>\n\n<p>What I'd want to do is set a breakpoint, then see the call stack. However, I cannot set it the usual way without the source code.</p>\n\n<p>I tried Windbg, but the stack trace was essentially useless. </p>\n\n<p>Then I found there <a href=\"https://msdn.microsoft.com/en-us/library/5557y8b4.aspx\" rel=\"nofollow\">is</a> a way to set a \"function breakpoint\" in VisualStudio; but the program never did break; even though the \"modules\" window showed <code>ntdll.dll</code> as \"symbols loaded\" status. </p>\n\n<p>What more can I do? </p>\n"}]