[{"tags": ["c++", "signals", "fork", "exec"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481155523, "post_id": 41029170, "comment_id": 69266731, "body": "<code>chvec[]</code> needs a trailing null pointer."}, {"owner": {"reputation": 45, "user_id": 4855868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9704050471987303dff8ea9e5fee6f83?s=128&d=identicon&r=PG&f=1", "display_name": "faezer", "link": "https://stackoverflow.com/users/4855868/faezer"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481156091, "post_id": 41029170, "comment_id": 69266909, "body": "fixed that (though it doesn&#39;t seem to affect anything)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481156214, "post_id": 41029170, "comment_id": 69266942, "body": "You can tell the difference between <code>A</code> and <code>B</code> by using <code>ps</code> in another terminal window. If the child is stopped it will be in <code>T</code> state."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1481156695, "post_id": 41029170, "comment_id": 69267091, "body": "I get a segmentation violation when I try to run your program. I think the problem is that you&#39;re erasing everything in <code>vec</code>. But <code>chvec</code> contains pointers to those strings."}, {"owner": {"reputation": 45, "user_id": 4855868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9704050471987303dff8ea9e5fee6f83?s=128&d=identicon&r=PG&f=1", "display_name": "faezer", "link": "https://stackoverflow.com/users/4855868/faezer"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481157158, "post_id": 41029170, "comment_id": 69267233, "body": "Urgh..when I use ps in another window it doesn&#39;t even have my program on the list, just bash and ps. And that&#39;s weird, mine doesn&#39;t give a seg fault and runs commands fine (I&#39;ve tried ls which ran fine), though what you&#39;re saying makes sense. The erasing isn&#39;t necessary in this small program, though it is something I need for the bigger program I&#39;m making."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481157391, "post_id": 41029170, "comment_id": 69267306, "body": "By default <code>ps</code> only shows processes running in the current terminal, use <code>ps x</code> to see processes from another terminal. I took out the <code>erase</code> and it ran without error, and I saw that the <code>cat</code> process is stopped."}, {"owner": {"reputation": 45, "user_id": 4855868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9704050471987303dff8ea9e5fee6f83?s=128&d=identicon&r=PG&f=1", "display_name": "faezer", "link": "https://stackoverflow.com/users/4855868/faezer"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481157962, "post_id": 41029170, "comment_id": 69267485, "body": "Oh, I see. Thanks! I hadn&#39;t used the ps command before so I had no idea. I still wonder why I&#39;m not getting the segmentation violation and you are? Could it have anything to do with compilation flags?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1481158022, "post_id": 41029170, "comment_id": 69267498, "body": "It&#39;s undefined behavior, anything can happen, including no error."}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4855868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9704050471987303dff8ea9e5fee6f83?s=128&d=identicon&r=PG&f=1", "display_name": "faezer", "link": "https://stackoverflow.com/users/4855868/faezer"}, "edited": false, "score": 0, "creation_date": 1481157786, "post_id": 41029834, "comment_id": 69267421, "body": "Oh my gosh...I actually tried using WUNTRACED before, but instead of waiting for a stop signal, cat stopped automatically for some reason (instead of waiting for C-z). I may have had some residual code from the many other things I tried that was messing stuff up, but this works now...thank you sooo much!"}], "tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": true, "score": 1, "last_activity_date": 1481157401, "creation_date": 1481157401, "answer_id": 41029834, "question_id": 41029170, "link": "https://stackoverflow.com/questions/41029170/sigtstp-signal-not-stopping-child/41029834#41029834", "title": "SIGTSTP signal not stopping child?", "body": "<p>It was already pointed out in the comments that you need to fix the undefined behavior as a result of the <code>vec</code> vector being erased. That's the first problem.</p>\n\n<p>I see that your code is checking the exit status of a process using <code>WIFSTOPPED</code>.</p>\n\n<p>Let's <a href=\"http://manpages.courier-mta.org/htmlman2/wait.2.html\" rel=\"nofollow noreferrer\">review the documentation for the <code>wait(2)</code> system call</a>, and see what it says about this:</p>\n\n<blockquote>\n<pre><code>  WIFSTOPPED(wstatus)\n         returns true if the child process was stopped by delivery  of  a\n         signal;  this  is  possible only if the call was done using WUN\u2010\n         TRACED or when the child is being traced (see ptrace(2)).\n</code></pre>\n</blockquote>\n\n<p>So, with that information at hand, after fixing the previously mentioned undefined behavior, and after changing your <code>waitpid()</code> call to:</p>\n\n<pre><code>waitpid(pid,&amp;status,WUNTRACED);\n</code></pre>\n\n<p>Then I was able to send a <code>kill -TSTP &lt;pid&gt;</code> message to the spawned <code>cat</code> process, and obtain the expected</p>\n\n<blockquote>\n  <p>process stopped</p>\n</blockquote>\n\n<p>message from your test program.</p>\n\n<p>P.S. By stracing the child process, I could see that the child process was receiving the <code>TSTP</code> signal, and stopping just fine. The issue was simply that the parent wasn't handling it, without the required option to <code>waitpid()</code>.</p>\n"}], "owner": {"reputation": 45, "user_id": 4855868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9704050471987303dff8ea9e5fee6f83?s=128&d=identicon&r=PG&f=1", "display_name": "faezer", "link": "https://stackoverflow.com/users/4855868/faezer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 41029834, "answer_count": 1, "score": 2, "last_activity_date": 1481157401, "creation_date": 1481153006, "last_edit_date": 1481156041, "question_id": 41029170, "link": "https://stackoverflow.com/questions/41029170/sigtstp-signal-not-stopping-child", "title": "SIGTSTP signal not stopping child?", "body": "<p>I'm trying to write a program that forks, the child executes a command and then returns control to the parent. I am having trouble getting the SIGTSTP (C-z) signal to work as intended, though... I want the parent to ignore it, but the child to stop and return control to the parent, so that the child can later be resumed or killed (with a builtin command). I isolated the relevant code into a smaller program just to test it, and it seems like A) the child doesn't stop when C-z is typed, or B) it does stop, but does not return control to the parent (I'm leaning towards this because when I use cat for stdin, it behaves differently after the C-z). Here is my code.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;sys/types.h&gt;\n#include &lt;sys/wait.h&gt;\n#include &lt;fcntl.h&gt;\n#include &lt;cstring&gt;\n#include &lt;unistd.h&gt;\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;signal.h&gt;\n\n\nint main(){\n  std::cout.setf(std::ios::unitbuf);\n\n  std::vector&lt;std::string&gt; vec; vec.push_back(\"cat\");\n  std::vector&lt;char*&gt; chvec;\n  for(unsigned int i = 0; i &lt; vec.size(); i++){\n    chvec.push_back(&amp;vec[i][0]);\n  }\n  chvec.push_back(NULL);\n  vec.erase(vec.begin(), vec.begin() + chvec.size());\n\n  char** argv = &amp;chvec[0];\n  signal(SIGTSTP,SIG_IGN);\n\n  pid_t pid;\n  if((pid = fork()) == 0){\n    signal(SIGTSTP,SIG_DFL);\n    /*pid = getpid();\n    setpgid(pid,pid);*/\n    std::cout &lt;&lt; \"before exec\" &lt;&lt; std::endl;\n    execvp(argv[0],argv);\n    perror(\"exec\");\n  }\n  else{\n    //setpgid(pid,pid);\n    int status;\n    waitpid(pid,&amp;status,0);\n    if(WIFEXITED(status) || WIFSIGNALED(status)){\n      std::cout &lt;&lt; \"exited or signaled\" &lt;&lt; std::endl;\n    }\n    if(WIFSTOPPED(status)){\n      std::cout &lt;&lt; \"process stopped\" &lt;&lt; std::endl;\n    }\n    //std::cout &lt;&lt; \"process exited\" &lt;&lt; std::endl;\n    pause();\n  }\n  return EXIT_SUCCESS;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt5", "gdi+", "dwm"], "answers": [{"tags": [], "owner": {"reputation": 8682, "user_id": 64121, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d518503a8b459ab2066d1623872e94bd?s=128&d=identicon&r=PG", "display_name": "Dan Bystr&#246;m", "link": "https://stackoverflow.com/users/64121/dan-bystr%c3%b6m"}, "is_accepted": false, "score": 1, "last_activity_date": 1481202343, "last_edit_date": 1495542271, "creation_date": 1481191666, "answer_id": 41036735, "question_id": 41029152, "link": "https://stackoverflow.com/questions/41029152/frameless-window-with-min-max-close-buttons-windows/41036735#41036735", "title": "Frameless window with min/max/close buttons (Windows)", "body": "<p>AFAIK, you must draw them yourself and then reply to the WM_NCHITTEST mesage that Windows sends to your form to query where the mouse is positioned. That way you can tell Windows that the mouse is located over a, say, maximize button, although Windows itself didn't draw one there.</p>\n\n<p>The painting can be done with the help of VisualStyleRenderer or ControlPaint.</p>\n\n<p>I hope these questions will point you further:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/6018980/winforms-add-a-close-x-button-in-a-usercontrol\">Winforms: Add a close &quot;x&quot; button in a UserControl</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/12392125/winforms-wm-nchitest-message-for-click-on-control\">Winforms - WM_NCHITEST message for click on control</a></p>\n"}], "owner": {"reputation": 11970, "user_id": 940158, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a0e9a52555bc8c0ac3e5c9248506c01a?s=128&d=identicon&r=PG", "display_name": "alexandernst", "link": "https://stackoverflow.com/users/940158/alexandernst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481202343, "creation_date": 1481152924, "question_id": 41029152, "link": "https://stackoverflow.com/questions/41029152/frameless-window-with-min-max-close-buttons-windows", "title": "Frameless window with min/max/close buttons (Windows)", "body": "<p>On Mac there is a window flag/call: <code>WindowTitleHidden</code> + <code>[nativeWindow setTitlebarAppearsTransparent:YES]</code>\nwhich basically makes the title bar to be \"embedded\" inside the window itself instead of creating a frame that \"holds\" the window. Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/odaWi.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/odaWi.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Notice how the minimize, maximize and close buttons are on the same row as the app's widgets.</p>\n\n<p>Is there something similar for Windows?</p>\n\n<p>Like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b4f1Y.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4f1Y.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Code: <a href=\"https://github.com/alexandernst/TrueFramelessWindow\" rel=\"nofollow noreferrer\">https://github.com/alexandernst/TrueFramelessWindow</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 585, "user_id": 3897125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd88edbc10bf1d18cbb9c5a66df389f?s=128&d=identicon&r=PG&f=1", "display_name": "koper89", "link": "https://stackoverflow.com/users/3897125/koper89"}, "edited": false, "score": 0, "creation_date": 1481152838, "post_id": 41029135, "comment_id": 69265798, "body": "Can you post more complete code? This else out of nowhere?"}, {"owner": {"reputation": 10963, "user_id": 306257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/701752cfc3dd805d412884f38a464296?s=128&d=identicon&r=PG", "display_name": "Haldean Brown", "link": "https://stackoverflow.com/users/306257/haldean-brown"}, "edited": false, "score": 0, "creation_date": 1481152871, "post_id": 41029135, "comment_id": 69265810, "body": "This is tagged C, but you&#39;re using <code>new</code> and <code>delete</code>; are you sure you aren&#39;t using a C++ compiler?"}, {"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "reply_to_user": {"reputation": 10963, "user_id": 306257, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/701752cfc3dd805d412884f38a464296?s=128&d=identicon&r=PG", "display_name": "Haldean Brown", "link": "https://stackoverflow.com/users/306257/haldean-brown"}, "edited": false, "score": 0, "creation_date": 1481153179, "post_id": 41029135, "comment_id": 69265922, "body": "@Haldean Sorry, it&#39;s old c code but i&#39;m going to convert it to C++ syntax."}, {"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "reply_to_user": {"reputation": 585, "user_id": 3897125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fbd88edbc10bf1d18cbb9c5a66df389f?s=128&d=identicon&r=PG&f=1", "display_name": "koper89", "link": "https://stackoverflow.com/users/3897125/koper89"}, "edited": false, "score": 0, "creation_date": 1481153255, "post_id": 41029135, "comment_id": 69265949, "body": "@koper i can post the main function if that helps? Otherwise there might be to much code so i thought i keep it down to a relevant snippet."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481153597, "post_id": 41029135, "comment_id": 69266079, "body": "@poonam Proper indentation also helps"}, {"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "edited": false, "score": 0, "creation_date": 1481153741, "post_id": 41029135, "comment_id": 69266129, "body": "Hi qxz - yes you are right, i will have to review that. I wish i could blame the website for messing up my format but the indentation needs some work as well :-)"}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481153895, "post_id": 41029135, "comment_id": 69266194, "body": "What is the <code>records</code> struct definition? Also, on what line does it crash? Have you stepped through with a debugger?"}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "edited": false, "score": 0, "creation_date": 1481154184, "post_id": 41029135, "comment_id": 69266278, "body": "Why do you want implement linked list in C++? You should do it when you code in C. I don&#39;t understand why you migrate your code. This doesn&#39;t make cense."}, {"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481154242, "post_id": 41029135, "comment_id": 69266299, "body": "Yeah, if you want a linked list in C++, you should use the standard library <code>std::list</code>"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1481154351, "post_id": 41029135, "comment_id": 69266339, "body": "You need to give us the minimum code necessary to replicate the problem. That means we should be able to compile and run it and thereby duplicate the problem. But you should remove as much code as you possibly can. (You may find that you solve the problem yourself in the process of preparing this.)"}, {"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "edited": false, "score": 0, "creation_date": 1481154454, "post_id": 41029135, "comment_id": 69266370, "body": "I added it to the question. I&#39;ll have to run it through a debugger."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1481154590, "post_id": 41029135, "comment_id": 69266426, "body": "Unless this is an academic exercise to learn more about coding this is a complete waste of time. The C++ Standard Library has a wide variety of containers, including those that operate like linked lists. Why are you using a <code>struct</code> in C++? This should be a <code>class</code>. It should have an initializer to properly populate things like <code>next</code>. It should have tests."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 1, "creation_date": 1481156889, "post_id": 41029135, "comment_id": 69267135, "body": "What prevents <code>prev</code> from pointing to memory that was deleted when <code>tmp != t_head</code>? Looking through the code, that appears to be possible because you <code>delete tmp</code> and then assign the thing you just deleted to <code>prev</code>."}, {"owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "reply_to_user": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481160272, "post_id": 41029135, "comment_id": 69268112, "body": "@AndonM.Coleman Ah, sorry, just read your last comment after I wrote my answer. The answer includes a correction for this flaw in the code.  <code>valgrind</code> shows this problem right away."}, {"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "edited": false, "score": 0, "creation_date": 1481189122, "post_id": 41029135, "comment_id": 69278981, "body": "Thanks, i wish i could use valgrind, i&#39;m on a mac. It&#39;s a academic exercise really, but yes i guess i should use std::list, that seems a lot easier (but i&#39;d still like to know how it works!)."}, {"owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "edited": false, "score": 0, "creation_date": 1481189479, "post_id": 41029135, "comment_id": 69279225, "body": "There is some information about valgrind on Mac there: <a href=\"http://stackoverflow.com/questions/19719762/are-there-any-alternatives-to-valgrind-on-mac-os-x-mountain-lion-and-mavericks-t\" title=\"are there any alternatives to valgrind on mac os x mountain lion and mavericks t\">stackoverflow.com/questions/19719762/&hellip;</a>"}, {"owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "edited": false, "score": 0, "creation_date": 1481300742, "post_id": 41029135, "comment_id": 69336491, "body": "<a href=\"http://www.drmemory.org/docs/page_install_macos.html\" rel=\"nofollow noreferrer\">Dr. Memory</a> should also work on Mac (depending on the version of your OS)."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "edited": false, "score": 0, "creation_date": 1481189145, "post_id": 41030112, "comment_id": 69279001, "body": "Many thanks Tobias (and others), i&#39;ll have a good look through this. I think i&#39;ve seen the same behaviour with 3, could you tell me why it keeps the same id? Am i not deleting that record?"}, {"owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "reply_to_user": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "edited": false, "score": 0, "creation_date": 1481282736, "post_id": 41030112, "comment_id": 69325145, "body": "@poonam See my edit. You are deleting in the middle of the list and therefore you do not delete the head which was added last and therefore has the last value of <code>trecord_count</code>. <code>trecord_count</code> is decremented at deletion of records and therefore the old value is used again."}], "tags": [], "owner": {"reputation": 4626, "user_id": 2708138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46840f5952056d7445cc4b1460ec8e87?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias", "link": "https://stackoverflow.com/users/2708138/tobias"}, "is_accepted": false, "score": 0, "last_activity_date": 1481282545, "last_edit_date": 1495542650, "creation_date": 1481159326, "answer_id": 41030112, "question_id": 41029135, "link": "https://stackoverflow.com/questions/41029135/crash-with-circular-linked-list/41030112#41030112", "title": "Crash with circular linked list", "body": "<p>The following code runs but it also shows flaws beside of these already mentioned in the comments.</p>\n\n<ol>\n<li>In your version you access the pointer in <code>tmp</code> which you just deleted in the loop for searching records with set <code>delete_flag</code>. This is corrected in the version below. The required modifications are marked with <code>//&lt; Tobias</code>. Note, that you find such errors easily with <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">valgrind</a> under linux. Andon M. Coleman also mentions this <a href=\"https://stackoverflow.com/questions/41029135/crash-with-circular-linked-list/41030112#comment69267135_41029135\">in his comment</a>.</li>\n<li>In your version of <code>find_id</code> there is actually no search for <code>a</code> implemented. I've implemented such a search in my version.</li>\n<li>If you delete some record in the middle of the list the end record keeps its id but you decrement <code>trecord_count</code> and assign the same id once again. So you end up with multiple records with the same id.</li>\n</ol>\n\n<p><strong>EDIT:</strong> I added some logging to the program. Maybe, that helps you to see what is going on. Furthermore, I misuse <code>frames</code> as a real <code>id</code>. I.e., no two records have the same <code>frames</code>-value. The records are in braces the full list is in square brackets. And <strong>NO</strong> you do not have a circular list. Maybe, you get the wrong impression because you are adding new records at the front and therefore, you need to use the old value of <code>t_head</code> as value for the <code>next</code>-pointer of the newly created record.</p>\n\n<p>The output of the program is:</p>\n\n<pre><code>g++ -std=c++11 -g -O0 ./test.cc -o a.exe &amp;&amp; ./a.exe\nReturning { frames=1 id=1 b=1 }\nFull content:\n[ { frames=1 id=1 b=1 } ]\n\nAdding { frames=2 id=2 b=2 }\nReturning { frames=2 id=2 b=2 }\nFull content:\n[ { frames=2 id=2 b=2 }, { frames=1 id=1 b=1 } ]\n\nAdding { frames=3 id=3 b=3 }\nReturning { frames=3 id=3 b=3 }\nFull content:\n[ { frames=3 id=3 b=3 }, { frames=2 id=2 b=2 }, { frames=1 id=1 b=1 } ]\n\nDeleting head { frames=3 id=3 b=3 }\nAdding { frames=4 id=3 b=4 }\nReturning { frames=4 id=3 b=4 }\nFull content:\n[ { frames=4 id=3 b=4 }, { frames=2 id=2 b=2 }, { frames=1 id=1 b=1 } ]\n\nReturning { frames=2 id=2 b=2 }\nFull content:\n[ { frames=4 id=3 b=4 }, { frames=2 id=2 b=2 }, { frames=1 id=1 b=1 } ]\n\nDeleting { frames=2 id=2 b=2 }\nAdding { frames=5 id=3 b=5 }\nReturning { frames=5 id=3 b=5 }\nFull content:\n[ { frames=5 id=3 b=5 }, { frames=4 id=3 b=4 }, { frames=1 id=1 b=1 } ]\n\n\nAt exit: [ { frames=5 id=3 b=5 }, { frames=4 id=3 b=4 }, { frames=1 id=1 b=1 } ]\n</code></pre>\n\n<p>There follows the program named <code>test.cc</code>:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n\ntypedef int Rect;\n\nstruct records {\n    int id;\n    Rect b;\n    std::vector&lt;int&gt; tally= {};\n    int frames=0;\n    int delete_flag=0;\n    struct records *next;\n};\n\nstruct records *t_head = 0;\nint trecord_count = 0;\nint trecord_frames = 0;\n\nstd::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const records&amp; r) {\n    os &lt;&lt; \"{ frames=\" &lt;&lt; r.frames &lt;&lt; \" id=\" &lt;&lt; r.id &lt;&lt; \" b=\" &lt;&lt; r.b &lt;&lt; \" }\";\n    return os;\n}\n\nstd::ostream&amp; operator &lt;&lt; (std::ostream&amp; os, const records* r) {\n    os &lt;&lt; \"[ \";\n    if(r)\n        os &lt;&lt; *r;\n    for(r=r-&gt;next; r; r=r-&gt;next)\n        std::cout &lt;&lt; \", \" &lt;&lt; *r;\n    std::cout &lt;&lt; \" ]\\n\";\n}\n\nstruct records* find_id(Rect a)\n{\n\n    struct records* tmp;\n    struct records* prev;\n\n    // Add first node\n    if (t_head == NULL) {\n        tmp = new records;\n        tmp-&gt;b = a;\n        tmp-&gt;id = trecord_count + 1;\n        tmp-&gt;tally.resize(0);\n        tmp-&gt;frames = ++trecord_frames;\n        t_head = tmp;\n        t_head-&gt;next = NULL;\n        trecord_count++;\n    }\n\n    else {\n        // Check if there is any node that has delete_flag set first\n        tmp = t_head;\n        while (tmp) {\n\n            if (tmp-&gt;delete_flag) {\n\n                // Delete here\n                if (tmp == t_head) {\n                    std::cout &lt;&lt; \"Deleting head \" &lt;&lt; *tmp &lt;&lt; std::endl;\n                    t_head = tmp-&gt;next;\n                    delete (tmp);\n                    trecord_count--;\n                    tmp = t_head; //&lt; Tobias\n                }\n                else {\n                    std::cout &lt;&lt; \"Deleting \" &lt;&lt; *tmp &lt;&lt; std::endl;\n                    prev-&gt;next = tmp-&gt;next;\n                    delete (tmp);\n                    trecord_count--;\n                    tmp = prev-&gt;next; //&lt; Tobias\n                }\n            } else {\n                prev = tmp;\n                tmp = tmp-&gt;next;\n            }\n        }\n\n        // Search for the id\n        tmp = t_head;\n        while(tmp &amp;&amp; (tmp-&gt;b != a))\n            tmp = tmp-&gt;next;\n\n        if(!tmp) {\n            tmp = new records;\n            tmp-&gt;b = a;\n            tmp-&gt;id = trecord_count + 1;\n            tmp-&gt;tally.resize(0);\n            tmp-&gt;frames = ++trecord_frames;\n            tmp-&gt;next = t_head;\n            t_head = tmp;\n            std::cout &lt;&lt; \"Adding \" &lt;&lt; *tmp &lt;&lt; std::endl;\n            trecord_count++;\n        }\n    }\n\n    std::cout &lt;&lt; \"Returning \" &lt;&lt; *tmp &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Full content:\\n\" &lt;&lt; t_head &lt;&lt; std::endl;\n\n    return tmp;\n}\n\nint main() {\n    find_id(1);\n    find_id(2);\n    find_id(3);\n\n    t_head-&gt;delete_flag=1;\n    find_id(4);\n\n    records* r = find_id(2);\n    r-&gt;delete_flag = 1;\n    find_id(5);\n\n    std::cout &lt;&lt; \"\\nAt exit: \" &lt;&lt; t_head;\n\n    return 0;\n}\n\n/*\n    Local Variables:\n    compile-command: \"g++ -std=c++11 -g -O0 ./test.cc -o a.exe &amp;&amp; ./a.exe\"\n    End:\n*/\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7264936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe53c5834456c568e3f476089afa7a80?s=128&d=identicon&r=PG&f=1", "display_name": "poonam", "link": "https://stackoverflow.com/users/7264936/poonam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481282545, "creation_date": 1481152782, "last_edit_date": 1481154146, "question_id": 41029135, "link": "https://stackoverflow.com/questions/41029135/crash-with-circular-linked-list", "title": "Crash with circular linked list", "body": "<p>I'm trying to implemented a linked list (i believe this is a circular linked list) but upon using it, it eventually crashes. I think this is because the traversal pointer i use is not set properly to 0, and eventually dereferenced and exhibiting undefined behaviour.</p>\n\n<p>I would appreciate your help. </p>\n\n<p>This is the function i am using:</p>\n\n<pre><code>struct records t_head = 0;\n\nstruct records* find_id(Rect a)\n{\n\n    struct records* tmp;\n    struct records* prev;\n\n    // Add first node\n    if (t_head == NULL) {\n        tmp = new records;\n        tmp-&gt;b = a;\n        tmp-&gt;id = trecord_count + 1;\n        tmp-&gt;tally.resize(labelsInfo.size());\n        tmp-&gt;frames = 0;\n        t_head = tmp;\n        t_head-&gt;next = NULL;\n        trecord_count++;\n    }\n\n    else {\n        // Check if there is any node that has delete_flag set first\n        tmp = t_head;\n        while (tmp) {\n\n            if (delete_flag) {\n\n                // Delete here\n                if (tmp == t_head) {\n                    t_head = tmp-&gt;next;\n                    delete (tmp);\n                    trecord_count--;\n                }\n                else {\n                    prev-&gt;next = tmp-&gt;next;\n                    delete (tmp);\n                    trecord_count--;\n                }\n            }\n\n            prev = tmp;\n            tmp = tmp-&gt;next;\n        }\n\n        tmp = new records;\n        tmp-&gt;b = a;\n        tmp-&gt;id = trecord_count + 1;\n        tmp-&gt;tally.resize(labelsInfo.size());\n        tmp-&gt;frames = 0;\n        tmp-&gt;next = t_head;\n        t_head = tmp;\n        trecord_count++;\n    }\n\n    return tmp;\n}\n</code></pre>\n\n<p>Struct definition is:</p>\n\n<pre><code>struct records {\nint id;\nRect b;\nvector&lt;int&gt; tally= {};\nint frames=0;\nint delete_flag=0;\nstruct records *next;\n};\n</code></pre>\n"}, {"tags": ["c++", "c++11", "template-specialization", "c++-standard-library"], "comments": [{"owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "edited": false, "score": 0, "creation_date": 1481160650, "post_id": 41029092, "comment_id": 69268213, "body": "No. Decay is a very specific quirk of C arrays and functions. <code>auto foo = obj</code> is expected to decay arrays and functions to pointers and function pointers. You can&#39;t reproduce that with your <code>array_ref</code> type."}], "answers": [{"comments": [{"owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 1, "creation_date": 1481162124, "post_id": 41030249, "comment_id": 69268589, "body": "Ok, thanks. I think there should be a <i>convention</i> to get the &quot;value type&quot; of other types that are references and &quot;not value types&quot; themselves. (see the comments in <a href=\"http://stackoverflow.com/a/40892183/225186\">stackoverflow.com/a/40892183/225186</a>)"}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 3, "last_activity_date": 1481160184, "creation_date": 1481160184, "answer_id": 41030249, "question_id": 41029092, "link": "https://stackoverflow.com/questions/41029092/does-it-make-sense-to-specialize-stddecay/41030249#41030249", "title": "Does it make sense to specialize std::decay?", "body": "<p>It doesn't matter whether standard library algorithms use it or not. What matters is what the standard says in [meta.type.synop]/1:</p>\n\n<blockquote>\n  <p>The behavior of a program that adds specializations for any of the templates defined in this subclause is undefined unless otherwise specified.</p>\n</blockquote>\n\n<p>Included in \"this subclause\" are all of the type-traits classes, including <code>decay</code>. So don't specialize it. Ever.</p>\n"}], "owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 41030249, "answer_count": 1, "score": 1, "last_activity_date": 1481160252, "creation_date": 1481152482, "last_edit_date": 1481160252, "question_id": 41029092, "link": "https://stackoverflow.com/questions/41029092/does-it-make-sense-to-specialize-stddecay", "title": "Does it make sense to specialize std::decay?", "body": "<p>I have class that represents an array reference (<code>class array_ref</code>) and another that <em>is</em> (i.e. holds/own/contains) the array (<code>class array</code>). \n<code>array_ref</code> behaves like a reference.</p>\n\n<p>Does it make sense to specialize <code>std::decay</code> for <code>class array_ref</code> to be <code>array</code>?</p>\n\n<pre><code>namespace std{\ntemplate&lt;&gt; class decay&lt;arra_ref&gt;{typedef array type;};\n}\n</code></pre>\n\n<p>What other alternatives do I have to tell generic programs that <code>array</code> is the \"value type\" of <code>array_ref</code>?</p>\n\n<p>Is <code>std::decay</code> used in any STL algorithm?</p>\n"}, {"tags": ["c++", "unit-testing", "googletest", "ros"], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 858441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f32b042a577c4524aa0d8d2fa735?s=128&d=identicon&r=PG", "display_name": "banerjs", "link": "https://stackoverflow.com/users/858441/banerjs"}, "is_accepted": true, "score": 1, "last_activity_date": 1481217542, "last_edit_date": 1481217542, "creation_date": 1481168653, "answer_id": 41031403, "question_id": 41029031, "link": "https://stackoverflow.com/questions/41029031/c-creating-a-spy-in-unit-tests/41031403#41031403", "title": "C++ - Creating a Spy in unit tests", "body": "<p>Solved by doing the following:</p>\n\n<pre><code>class IOtherMethodAdapter\n{\npublic:\n    virtual int otherMethod() = 0;\n}\n\nclass OtherClassOtherMethodAdapter : public IOtherMethodAdapter\n{\npublic:\n    int otherMethod() { return obj_-&gt;otherMethod(); }\nprivate:\n    OtherClass *obj_;\n}\n</code></pre>\n\n<p>Now I use a pointer to <code>IOtherMethodAdapter</code> in <code>MyClass</code> instead of <code>OtherClass</code> and for testing I simply initialize the implementation of the interface to a stubbed/mock object. If there is another way, feel free to post that solution too.</p>\n"}], "owner": {"reputation": 528, "user_id": 858441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4168f32b042a577c4524aa0d8d2fa735?s=128&d=identicon&r=PG", "display_name": "banerjs", "link": "https://stackoverflow.com/users/858441/banerjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1222, "favorite_count": 0, "accepted_answer_id": 41031403, "answer_count": 1, "score": 0, "last_activity_date": 1481217542, "creation_date": 1481152209, "last_edit_date": 1481153357, "question_id": 41029031, "link": "https://stackoverflow.com/questions/41029031/c-creating-a-spy-in-unit-tests", "title": "C++ - Creating a Spy in unit tests", "body": "<p>I have some C++ code as follows:</p>\n\n<pre><code>class MyClass\n{\npublic:\n    MyClass(OtherClass *obj)\n    {\n        obj_ = obj;\n    }\n    void myMethod()\n    {\n        // Do something\n        int value = obj_-&gt;otherMethod();\n        // Do something else\n    }\nprivate:\n    OtherClass *obj_;\n}\n</code></pre>\n\n<p>I want to create a unit test to test the functionality of <code>myMethod()</code>. Unfortunately, <code>OtherClass</code> is an external library and its methods are not declared virtual (so I can't inherit the methods and stub them out in a mock). I have some experience with Mockito where I might have used a spy for this purpose. But I can't seem to find an equivalent in C++.</p>\n\n<p>I'm using the googletest framework for now and the context for this question (if it helps) is in ROS, where I'm actually trying to stub out <code>tf::TransformListener</code>.</p>\n\n<p><strong>Question 1:</strong> Is there an alternative to spies that I might not know of and can leverage in this situation?</p>\n\n<p><strong>Question 2:</strong> If there isn't, is there a <em>quick-and-easy</em> way for me to restructure my code so that I can leverage a mock?</p>\n"}, {"tags": ["c++", "vector", "segmentation-fault"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1481151643, "post_id": 41028898, "comment_id": 69265315, "body": "Please post the code <b>in the question</b>, not on an external link, <i>especially</i> not an image."}, {"owner": {"reputation": 15, "user_id": 6886853, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102288818705967/picture?type=large", "display_name": "Jon Olds", "link": "https://stackoverflow.com/users/6886853/jon-olds"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1481151783, "post_id": 41028898, "comment_id": 69265377, "body": "Okay, I&#39;ll try to fix it"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1481151831, "post_id": 41028898, "comment_id": 69265402, "body": "^---- And not all the code nor some arbitrary snippet, but a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please!"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1481151872, "post_id": 41028898, "comment_id": 69265420, "body": "Sorry to be so harsh, but the more care you put into your question the more people will care to answer. You get out what you put in."}, {"owner": {"reputation": 716, "user_id": 3976345, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ffdcff461a50c6742d356e07542e9ac5?s=128&d=identicon&r=PG&f=1", "display_name": "Abhishek Patel", "link": "https://stackoverflow.com/users/3976345/abhishek-patel"}, "edited": false, "score": 1, "creation_date": 1481152215, "post_id": 41028898, "comment_id": 69265553, "body": "This is the last website where people will click on random links"}, {"owner": {"reputation": 15, "user_id": 6886853, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102288818705967/picture?type=large", "display_name": "Jon Olds", "link": "https://stackoverflow.com/users/6886853/jon-olds"}, "edited": false, "score": 0, "creation_date": 1481153553, "post_id": 41028898, "comment_id": 69266062, "body": "Sorry, I don&#39;t post that often but I try to be polite and direct and responsive. I posted the pics because then I could reference the lines I was trying to swap. Lesson learned."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6886853, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102288818705967/picture?type=large", "display_name": "Jon Olds", "link": "https://stackoverflow.com/users/6886853/jon-olds"}, "edited": false, "score": 0, "creation_date": 1481153851, "post_id": 41029095, "comment_id": 69266175, "body": "I didn&#39;t know I could list multiple conditions in that format! That&#39;ll clean up lots of my code, thank you!"}], "tags": [], "owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1481152500, "creation_date": 1481152500, "answer_id": 41029095, "question_id": 41028898, "link": "https://stackoverflow.com/questions/41028898/c-seg-fault-when-printing-a-vectorint-element-from-a-member-function/41029095#41029095", "title": "C++ seg fault when printing a vector&lt;int&gt; element from a member function", "body": "<p>Change</p>\n\n<pre><code>while((s[i] != ';')&amp;&amp;(i &lt; length))\n</code></pre>\n\n<p>to</p>\n\n<pre><code>while(i &lt; length &amp;&amp; s[i] != ';')\n</code></pre>\n\n<p>In your version, if <code>s</code> is empty or <code>i</code> is already greater than <code>length</code>, you'll get an AV or a segfault. </p>\n\n<p>Also, stop naming variables <code>temp</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 2183217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9dca25036458ba0fe4295ddd0d35ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Spectral Sequence", "link": "https://stackoverflow.com/users/2183217/spectral-sequence"}, "is_accepted": true, "score": 1, "last_activity_date": 1481152525, "creation_date": 1481152525, "answer_id": 41029104, "question_id": 41028898, "link": "https://stackoverflow.com/questions/41028898/c-seg-fault-when-printing-a-vectorint-element-from-a-member-function/41029104#41029104", "title": "C++ seg fault when printing a vector&lt;int&gt; element from a member function", "body": "<p>You have defined a local vector named \"assignments\" in the constructor which is shadowing the data member with the same name, so the data member \"assignments\" probably still has zero length, hence the seg fault.</p>\n"}], "owner": {"reputation": 15, "user_id": 6886853, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102288818705967/picture?type=large", "display_name": "Jon Olds", "link": "https://stackoverflow.com/users/6886853/jon-olds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 0, "accepted_answer_id": 41029104, "answer_count": 2, "score": -1, "last_activity_date": 1481152525, "creation_date": 1481151571, "last_edit_date": 1481152371, "question_id": 41028898, "link": "https://stackoverflow.com/questions/41028898/c-seg-fault-when-printing-a-vectorint-element-from-a-member-function", "title": "C++ seg fault when printing a vector&lt;int&gt; element from a member function", "body": "<p>I have a class with an int vector data member. I initialize the vector to 26 elements, all with value -99 in the constructor. I can cout element 0 in the constructor and it prints \"-99\". The constructor then calls another member function that doesn't modify the vector but when I try to cout element 0 from that function I get a segmentation fault. Below I've posted screenshots of the relevant parts of the header and the two member functions. To be specific the code works as posted but if I move line 26 to line 46 I get the seg fault. Any helpful suggestions? Thank you!</p>\n\n<p>header file:</p>\n\n<pre><code>class Seq\n{\nprivate:\n    vector&lt;int&gt; assignments;\n    string original;\n    vector&lt;Expression&gt; sequence;\n    bool valid;\n\npublic:\n\n    void print_assignments();\n    Seq();\n    Seq(const string&amp; s);\n    void parse(const string s, int);\n    vector&lt;Expression&gt; get_sequence();\n    void display_sequence();\n    void evaluate();\n</code></pre>\n\n<p>Constructior and the member function (parse) it calls. Moving the first cout statement the line below the second cout statement causes the fault.</p>\n\n<pre><code>Seq::Seq(const string&amp; s)\n{\n    original = s;\n    vector&lt;int&gt; assignments(26, -99);\n    parse(s, s.size());\n    cout &lt;&lt; assignments[0] &lt;&lt; endl;\n}\n\nvoid Seq::parse(const string s, int length)\n{\n    Expression e;\n    string temp1, temp2;\n    int i = 0;\n    while((s[i] != ';')&amp;&amp;(i &lt; length))\n    {\n        i++;\n    }\n    if(i&gt;0)\n    {\n        temp1 = s.substr(0, i);\n        e.set(temp1);\n        sequence.push_back(e);\n        if(sequence.back().get_type() == 0)\n        {\n            cout &lt;&lt; sequence.back().get_token(0).get_token()[0] &lt;&lt; endl;\n\n        }\n    }\n</code></pre>\n"}, {"tags": ["c++", "arrays", "int", "type-conversion", "cbor"], "comments": [{"owner": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "edited": false, "score": 1, "creation_date": 1481152274, "post_id": 41028862, "comment_id": 69265584, "body": "Using a union for type punning generally works but is UB, if that&#39;s important to you. On another matter, that&#39;s the first reasonable use I&#39;ve seen of octals in a long while ;)"}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "reply_to_user": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "edited": false, "score": 0, "creation_date": 1481152848, "post_id": 41028862, "comment_id": 69265801, "body": "This kind of use of Union is UB as @IanM_Matrix1 said. But it will work with most compilers. If I am not mistaken, GCC&#39;s document even make an explicit mention of use of union for type punning, which is treated as an exception of this type of UB."}, {"owner": {"reputation": 9414, "user_id": 69178, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/17632e67452620caf9cb4ef054ba5c3b?s=128&d=identicon&r=PG", "display_name": "akappa", "link": "https://stackoverflow.com/users/69178/akappa"}, "edited": false, "score": 0, "creation_date": 1481157346, "post_id": 41028862, "comment_id": 69267295, "body": "why not just having something like <code>T result; uint8_t *res_ptr = reinterpret_cast&lt;uint8_t*&gt;(&amp;result); *result++ = vec[current_idx + 3]; ...</code>?"}, {"owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "edited": false, "score": 0, "creation_date": 1481317043, "post_id": 41028862, "comment_id": 69344754, "body": "I did not know that this was undefined behavior. Thanks for the hint!"}], "answers": [{"tags": [], "owner": {"reputation": 972, "user_id": 2253719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x6fvu.jpg?s=128&g=1", "display_name": "WPomier", "link": "https://stackoverflow.com/users/2253719/wpomier"}, "is_accepted": true, "score": 1, "last_activity_date": 1481171828, "creation_date": 1481171828, "answer_id": 41031865, "question_id": 41028862, "link": "https://stackoverflow.com/questions/41028862/byte-vector-to-integer-type-shift-and-add-or-implicit-conversion-through-a-unio/41031865#41031865", "title": "Byte vector to integer type: shift and add or implicit conversion through a union?", "body": "<p>Personally I prefer your second choice (using unions), because it seems to be a little faster and more readable.</p>\n\n<p>But there's another way to define your function: using pointers. A benefit is that you'll need to define only one function instead of overload it.</p>\n\n<pre><code>template&lt;typename T&gt;\nstatic T get_from_vector(const std::vector&lt;uint8_t&gt;&amp; vec, const size_t current_index){\n    T result;\n    uint8_t *ptr = (uint8_t *) &amp;result;\n    size_t idx = current_index + sizeof(T);\n    while(idx &gt; current_index)\n        *ptr++ = vec[--idx];\n    return result;\n}\n</code></pre>\n\n<p>Altering your example of calling:</p>\n\n<pre><code>int main(){\n    std::vector&lt;uint8_t&gt; vec {0x01, 0x00, 0x00, 0xff, 0x01, 0x00, 0x00, 0xff};\n\n    auto byte1 = get_from_vector&lt;uint8_t&gt;(vec, 3);\n    assert(byte1 == 0xff);\n\n    auto byte2 = get_from_vector&lt;uint16_t&gt;(vec, 3);\n    assert(byte2 == 0xff01);\n\n    auto byte4 = get_from_vector&lt;uint32_t&gt;(vec, 4);\n    assert(byte4 == 0x010000ff);\n\n    auto byte8 = get_from_vector&lt;uint64_t&gt;(vec, 0);\n    assert(byte8 == 0x010000ff010000ffUL);\n}\n</code></pre>\n"}], "owner": {"reputation": 1494, "user_id": 266378, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/1Gjli.jpg?s=128&g=1", "display_name": "Niels Lohmann", "link": "https://stackoverflow.com/users/266378/niels-lohmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 347, "favorite_count": 0, "accepted_answer_id": 41031865, "answer_count": 1, "score": 1, "last_activity_date": 1481171828, "creation_date": 1481151360, "question_id": 41028862, "link": "https://stackoverflow.com/questions/41028862/byte-vector-to-integer-type-shift-and-add-or-implicit-conversion-through-a-unio", "title": "Byte vector to integer type: shift and add or implicit conversion through a union?", "body": "<p>I am currently implementing <a href=\"https://tools.ietf.org/html/rfc7049\" rel=\"nofollow noreferrer\">CBOR</a> and repeatedly need to read 1, 2, 4, or 8 bytes from a byte array which then need to be combined to an integer type of 1, 2, 4, or 8 bytes.</p>\n\n<p>For the 4 byte case, I currently use this template function (<code>vec</code> is the byte vector I am reading from, <code>current_idx</code> marks the position in the vector from where I want to start reading 4 bytes):</p>\n\n<pre><code>template&lt;typename T, typename std::enable_if&lt;sizeof(T) == 4, int&gt;::type = 0&gt;\nstatic T get_from_vector(const std::vector&lt;uint8_t&gt;&amp; vec, const size_t current_idx)\n{\n    return static_cast&lt;T&gt;((static_cast&lt;T&gt;(vec[current_idx]) &lt;&lt; 030) +\n                          (static_cast&lt;T&gt;(vec[current_idx + 1]) &lt;&lt; 020) +\n                          (static_cast&lt;T&gt;(vec[current_idx + 2]) &lt;&lt; 010) +\n                          static_cast&lt;T&gt;(vec[current_idx + 3]));\n}\n</code></pre>\n\n<p>(I have three similar functions for the case of 1, 2, and 8 bytes, respectively.)</p>\n\n<p>An example call would be</p>\n\n<pre><code>std::vector&lt;uint8_t&gt; vec {0x01, 0x00, 0x00, 0xff};\nauto num = get_from_vector&lt;uint32_t&gt;(vec, 0);\nassert(num == 0x10000FF);\n</code></pre>\n\n<p>Though performance seems not the issue here, but I wonder nevertheless whether the following code may be more efficient or at least more readable:</p>\n\n<pre><code>template&lt;typename T, typename std::enable_if&lt;sizeof(T) == 4, int&gt;::type = 0&gt;\nstatic T get_from_vector(const std::vector&lt;uint8_t&gt;&amp; vec, const size_t current_idx)\n{\n    union U\n    {\n        T result_type;\n        uint8_t bytes[4];\n    } u;\n    u.bytes[3] = vec[current_idx];\n    u.bytes[2] = vec[current_idx + 1];\n    u.bytes[1] = vec[current_idx + 2];\n    u.bytes[0] = vec[current_idx + 3];\n    return u.result_type;\n}\n</code></pre>\n\n<p>Any thoughts on this?</p>\n"}, {"tags": ["c++", "io"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 193, "user_id": 1084927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03e81b5b74ea4f4891a241a4f1043241?s=128&d=identicon&r=PG", "display_name": "Gabe Nones", "link": "https://stackoverflow.com/users/1084927/gabe-nones"}, "edited": false, "score": 0, "creation_date": 1481152016, "post_id": 41028852, "comment_id": 69265474, "body": "@GabeNones Eh, we can&#39;t keep yelling people for tagging both C and C++ and then close this C++ question as a dupe of that C question. We should find a C++ dupe."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1481153086, "post_id": 41028852, "comment_id": 69265889, "body": "@BaummitAugen: Finding a C++ dupe would be all right--but the one you&#39;ve closed it against isn&#39;t a particularly good dupe (at least IMO). One answer doesn&#39;t address this problem at all (it only deals with splitting a string, not reading from a stream as required here). The other does happen to work, but only sort of by coincidence (this does specify that <code>\\n</code> should be a delimiter, but it won&#39;t work for anybody else who doesn&#39;t want that)."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1481153278, "post_id": 41028852, "comment_id": 69265953, "body": "@JerryCoffin The question seems to be the same though. If the other question needs better answers, one can still add one, it&#39;s not closed."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1481153326, "post_id": 41028852, "comment_id": 69265973, "body": "@JerryCoffin If you can find a better dupe though, change it by all means. :)"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1481156443, "post_id": 41028852, "comment_id": 69267010, "body": "@BaummitAugen: I disagree--the other one only talks about the source being &quot;some text&quot;, which could be a text file, or a string. He does show reading from a stream in the question, but it&#39;s not clear whether this is really required, or just an example of one possible source. This question is quite specific in asking about reading from a stream."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1481156694, "post_id": 41028852, "comment_id": 69267090, "body": "@BaummitAugen: If I knew of a question this duplicated, I&#39;d have already done that. I haven&#39;t found a precise duplicate (though many are at least somewhat similar)."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 1, "creation_date": 1481197801, "post_id": 41028852, "comment_id": 69284751, "body": "@JerryCoffin If you disagree with my vote that much, just reopen the question. I won&#39;t go on a revenge downvote spree, promised. ;)"}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 5976143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633accbe046f734311ad6fd0e69f86?s=128&d=identicon&r=PG&f=1", "display_name": "Eliran Abdoo", "link": "https://stackoverflow.com/users/5976143/eliran-abdoo"}, "edited": false, "score": 1, "creation_date": 1481153453, "post_id": 41029063, "comment_id": 69266025, "body": "Well, that is indeed a solid solution, but as you mentioned pretty trivial and has some &#39;cheating&#39; essence to it (replacing our required delimiters by white spaces). I wondered if there&#39;s a more elegant solution, which let&#39;s say takes exactly N operations, there N is the file length, just like <code>getline</code> manages to perform in case our delimiter world is narrowed to whitespaces and \\n."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 521, "user_id": 5976143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633accbe046f734311ad6fd0e69f86?s=128&d=identicon&r=PG&f=1", "display_name": "Eliran Abdoo", "link": "https://stackoverflow.com/users/5976143/eliran-abdoo"}, "edited": false, "score": 0, "creation_date": 1481155733, "post_id": 41029063, "comment_id": 69266796, "body": "@GoldenSpecOps: We&#39;re not replacing anything. The stream is looking for the end of a word. It gets a character. Asks the locale: &quot;is this whitespace&quot;? Continues adding characters to the word until it reaches end of file, or the locale says: &quot;yes, that&#39;s white space&quot;. Then it skips forward for as long as the locale keeps saying the next character is white space. Lather, Rinse, repeat."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 521, "user_id": 5976143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633accbe046f734311ad6fd0e69f86?s=128&d=identicon&r=PG&f=1", "display_name": "Eliran Abdoo", "link": "https://stackoverflow.com/users/5976143/eliran-abdoo"}, "edited": false, "score": 0, "creation_date": 1481155864, "post_id": 41029063, "comment_id": 69266841, "body": "The only major difference from getline is that if you have something like <code>a\\n\\n\\nz</code>, <code>getline</code> will read <code>a</code>, empty line, empty line, <code>z</code>, but <code>&gt;&gt;</code> will read it as just <code>a</code>, <code>z</code>."}, {"owner": {"reputation": 521, "user_id": 5976143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633accbe046f734311ad6fd0e69f86?s=128&d=identicon&r=PG&f=1", "display_name": "Eliran Abdoo", "link": "https://stackoverflow.com/users/5976143/eliran-abdoo"}, "edited": false, "score": 0, "creation_date": 1481190409, "post_id": 41029063, "comment_id": 69279892, "body": "Can you please further explain your solution? - I did understand that imbuing a stringstream with a locale, results in a stream that has a customized output (in this case, avoiding each of the relevant characters).  - I also understood the usage of the <code>std::locale</code> constructor which is the following   <code>template&lt; class Facet &gt; locale( const locale&amp; other, Facet* f );</code>  But I did not manage to fully understand the word_reader struct, and I struggled to find relevant documentation about the requirements of the locale&#39;s ctor from the template Facet class."}, {"owner": {"reputation": 103, "user_id": 5883337, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gc5cUeRE0zU/AAAAAAAAAAI/AAAAAAAAAEI/JV1iMxinBpM/photo.jpg?sz=128", "display_name": "Varad Mahashabde", "link": "https://stackoverflow.com/users/5883337/varad-mahashabde"}, "edited": false, "score": 1, "creation_date": 1567712473, "post_id": 41029063, "comment_id": 102055443, "body": "This is a damn elegant solution, if not abusive of the <code>locale</code> class, however wouldn&#39;t this remove the standard locale settings?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 103, "user_id": 5883337, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Gc5cUeRE0zU/AAAAAAAAAAI/AAAAAAAAAEI/JV1iMxinBpM/photo.jpg?sz=128", "display_name": "Varad Mahashabde", "link": "https://stackoverflow.com/users/5883337/varad-mahashabde"}, "edited": false, "score": 2, "creation_date": 1567712948, "post_id": 41029063, "comment_id": 102055625, "body": "@VaradMahashabde: it only affects the locale for that stream, and it uses a default constructed locale, with just the <code>ctype</code> facet replaced.So, it only affects how that stream classifies characters."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 6, "last_activity_date": 1481152696, "last_edit_date": 1481152696, "creation_date": 1481152352, "answer_id": 41029063, "question_id": 41028852, "link": "https://stackoverflow.com/questions/41028852/multiple-delimiters-for-getline-function-c/41029063#41029063", "title": "Multiple delimiters for getline function, c++", "body": "<p>There's good news and bad news. The good news is that you can do this.</p>\n\n<p>The bad news is that doing it is fairly roundabout, and some people find it downright ugly and nasty.</p>\n\n<p>To do it, you start by observing two facts:</p>\n\n<ol>\n<li>The normal string extractor uses whitespace to delimit \"words\".</li>\n<li>What constitutes white space is defined in the stream's locale.</li>\n</ol>\n\n<p>Putting those together, the answer becomes fairly obvious (if circuitous): to define multiple delimiters, we define a locale that allows us to specify what characters should be treated as delimiters (i.e., white space):</p>\n\n<pre><code>struct word_reader : std::ctype&lt;char&gt; {\n    word_reader(std::string const &amp;delims) : std::ctype&lt;char&gt;(get_table(delims)) {}\n    static std::ctype_base::mask const* get_table(std::string const &amp;delims) {\n        static std::vector&lt;std::ctype_base::mask&gt; rc(table_size, std::ctype_base::mask());\n\n        for (char ch : delims)\n            rc[ch] = std::ctype_base::space;\n        return &amp;rc[0];\n    }\n};\n</code></pre>\n\n<p>Then we need to tell the stream to use that locale (well, a locale with that ctype facet), passing the characters we want used as delimiters, and then extract words from the stream:</p>\n\n<pre><code>int main() {\n    std::istringstream in(\"word1, word2. word3,word4\");\n\n    // create a ctype facet specifying delimiters, and tell stream to use it:\n    in.imbue(std::locale(std::locale(), new word_reader(\" ,.\\n\")));\n    std::string word;\n\n    // read words from the stream. Note we just use `&gt;&gt;`, not `std::getline`:\n    while (in &gt;&gt; word)\n        std::cout &lt;&lt; word &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>The result is what (I hope) you want: extracting each word without the punctuation we said was \"white space\".</p>\n\n<pre><code>word1\nword2\nword3\nword4\n</code></pre>\n"}], "owner": {"reputation": 521, "user_id": 5976143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21633accbe046f734311ad6fd0e69f86?s=128&d=identicon&r=PG&f=1", "display_name": "Eliran Abdoo", "link": "https://stackoverflow.com/users/5976143/eliran-abdoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2667, "favorite_count": 2, "closed_date": 1481152407, "accepted_answer_id": 41029063, "answer_count": 1, "score": 4, "last_activity_date": 1481153861, "creation_date": 1481151301, "last_edit_date": 1481153861, "question_id": 41028852, "link": "https://stackoverflow.com/questions/41028852/multiple-delimiters-for-getline-function-c", "closed_reason": "Duplicate", "title": "Multiple delimiters for getline function, c++", "body": "<p>I want to read a text word by word, avoiding any non-alphanumeric characters in a simple way.\nAfter 'evolving' from text with white-spaces and '\\n', I need to solve that problem in case there are also ',', '.' for example.\nThe first case was simply solved by using getline with delimiter ' '. \nI wondered if there's a way to use <code>getline</code> with multiple delimiters, or even with some kind of regular expression (for example  <code>'.'|' '|','|'\\n'</code> ).</p>\n\n<p>As far as I know, <code>getline</code> works in a way that it reads characters from the input stream, until either '\\n' or <code>delimiter</code> character reached. My first guess was that it is quite simple to provide it with multiple delimiters, but I found out that it's not.</p>\n\n<p>Edit: just as a clarification. Any C style (strtok for example, which is for my opinion very ugly)  or algorithmic type of solution is not what I'm looking for. It is fairly easy to come up with a simple algorithm to solve that problem, and implement it. I'm looking for a more elegant solution, or at least an explanation for why can't we handle it with the <code>getline</code> function, since unless I completely misunderstood, should be able to somehow accept more than one delimiter.</p>\n"}, {"tags": ["c++", "pointers", "sdl", "sdl-2"], "comments": [{"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1481151110, "post_id": 41028761, "comment_id": 69265100, "body": "Please <a href=\"https://stackoverflow.com/posts/41028761/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That&#39;s way to much code for a build time error like this."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481151321, "post_id": 41028761, "comment_id": 69265189, "body": "Search your code for the symbol <code>pt</code>.  The linker is not finding it.  The common idiom is to place the variable definition in a source file."}, {"owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481151576, "post_id": 41028761, "comment_id": 69265290, "body": "Baum mit Augen, done."}, {"owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481151641, "post_id": 41028761, "comment_id": 69265313, "body": "Thomas Matthews, I am sorry, this a mistake, the error is with pSpawner, I changed edited the question. I tried to use a definition within the constructor, but still the same error."}, {"owner": {"reputation": 117699, "user_id": 62576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15264f7bf48e10ce32dfa4865a13763c?s=128&d=identicon&r=PG", "display_name": "Ken White", "link": "https://stackoverflow.com/users/62576/ken-white"}, "edited": false, "score": 0, "creation_date": 1481151816, "post_id": 41028761, "comment_id": 69265394, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}, {"owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481153576, "post_id": 41028761, "comment_id": 69266068, "body": "Looked through that topic, tried to check the linker and possible reasons with proper header locations, but no result"}], "answers": [{"comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481155452, "post_id": 41029490, "comment_id": 69266706, "body": "<b><i>it&#39;s useless to use #pragma once and do a #ifndef do only one.</i></b> I do that every time (thousands of times by now.). That way if I ever use a compiler that does not support pragma once the #ifndef will still do the trick.. if pragma once becomes part of the standard I will change my rule.."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481155753, "post_id": 41029490, "comment_id": 69266804, "body": "@drescherjm That stupid, at least use <code>#if defined(_pragma_once_support)</code>. This pragma exist to win time, if you do a header guard too, you don&#39;t win time..."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1481156445, "post_id": 41029490, "comment_id": 69267011, "body": "to be clear #2 fixes yr problem , #1 is a side issue"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1481157080, "post_id": 41029490, "comment_id": 69267206, "body": "@Stargateur: The reason <code>#pragma once</code> did not make it into the standard (at least yet)  is that any modern preprocessor can easily be made smart enough to &quot;win time&quot; with header guards alone. I.e. I see how any problems with &quot;winning time&quot; can possibly be caused by header guards."}, {"owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481190149, "post_id": 41029490, "comment_id": 69279710, "body": "Hey guys, thanks for the answers. I&#39;ve done as you said and now it works. I don&#39;t know why, but I was defining that pointer inside the constructor, but not at the start of the cpp file... some dark force.."}, {"owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "reply_to_user": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481190918, "post_id": 41029490, "comment_id": 69280237, "body": "@PavelK If you put it in your constructor, it&#39;s will not be <b>define</b> the global. It&#39;s will <b>modify</b> each time the constructor is called. global need to be defined in the global scope. I don&#39;t understand how you even compile. By the way, that means that you lie in your question. Because you write it after the class declaration. Please don&#39;t do that again! How do you want us solve your problem if you don&#39;t provide the true code. It&#39;s very important to reduce your code, but don&#39;t change its behavior."}, {"owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "edited": false, "score": 0, "creation_date": 1481195350, "post_id": 41029490, "comment_id": 69283160, "body": "@Stargateur, no-no, I didn&#39;t lied, I just said, that I tried it before within the constructor. The code with initialization after the class declaration is correct at moment of posting the question."}], "tags": [], "owner": {"reputation": 16936, "user_id": 7076153, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/erPUC.png?s=128&g=1", "display_name": "Stargateur", "link": "https://stackoverflow.com/users/7076153/stargateur"}, "is_accepted": true, "score": 1, "last_activity_date": 1481158538, "last_edit_date": 1481158538, "creation_date": 1481154903, "answer_id": 41029490, "question_id": 41028761, "link": "https://stackoverflow.com/questions/41028761/error-lnk2001-when-using-a-static-pointer-to-another-class/41029490#41029490", "title": "error LNK2001 when using a static pointer to another class", "body": "<ol>\n<li><p>This error message is pretty clear, you fail to define your global. It's better to define a global in a cpp file. Because with header he can be define each time you include the header.</p>\n\n<pre><code>// Thread.cpp\nSpawn * Thread::pSpawner = nullptr;\n</code></pre></li>\n<li><p>It's useless to use <code>#pragma once</code> and <code>#ifndef</code>. Do only one of them.</p>\n\n<pre><code>#pragma once\n</code></pre>\n\n<p>By the way if you use #ifndef <strong>ALL</strong> must be inside the #if. You have included <code>\"Spawn.h\"</code> outside, its can produce an infinite loop of include.</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/4141z1cx.aspx\" rel=\"nofollow noreferrer\">\"There is no advantage to use of both the #include guard idiom and #pragma once in the same file.\"</a></p></li>\n</ol>\n"}], "owner": {"reputation": 13, "user_id": 6476561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc0b9ce06d63345b6d415f9e6e9effc?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel K", "link": "https://stackoverflow.com/users/6476561/pavel-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "accepted_answer_id": 41029490, "answer_count": 1, "score": -2, "last_activity_date": 1481158538, "creation_date": 1481150800, "last_edit_date": 1495542273, "question_id": 41028761, "link": "https://stackoverflow.com/questions/41028761/error-lnk2001-when-using-a-static-pointer-to-another-class", "title": "error LNK2001 when using a static pointer to another class", "body": "<p>I have a two classes. First (Spawn.cpp only prints the message that class was called):</p>\n\n<pre><code>// Spawn.h\n#pragma once\n#ifndef SPAWN_H_\n#define SPAWN_H_\nclass Spawn {// const + destr only};\n#endif /* SPAWN_H_ */\n</code></pre>\n\n<p>Second: </p>\n\n<pre><code>// Thread.h\n#include \"Spawn.h\"\n#pragma once\n#ifndef THREAD_H_\n#define THREAD_H_\n\nclass Thread\n{\npublic:\n    Thread();\n    virtual ~Thread();\n\nprivate:\n\n    void Initialise();\n    static int WindowThread(void *ptr);\n    static int ConsoleThread(void *ptr);\n    static Spawn * CreateSpawner();\n    static Spawn * pSpawner; // if the pointer is non-static, it can't be\n                             // used within static function.\n\n    SDL_Thread * pConsoleThread;\n};\nSpawn * Thread::pSpawner = nullptr;\n#endif /* THREAD_H_ */\n</code></pre>\n\n<p>The code itself:</p>\n\n<pre><code>// Thread.cpp\n#include \"stdafx.h\"\n#include \"Thread.h\"\n\nThread::Thread() { Initialise(); }\n\nvoid Thread::Initialise() { // call of the threads here }\n\n\nint Thread::WindowThread(void * ptr)\n{\n    while (true)\n    {\n        // I want to access pointer pSpawner here\n    }\n    return 1;\n}\n\n\nint Thread::ConsoleThread(void * ptr)\n{\n    // Main console loop\n    while (true)\n    {\n        /* Spawn handling */\n        if (CUI.INP == \"spawn\")\n        {\n            pSpawner = CreateSpawner(); // I am unable to access that\n                                        // pointer here as well\n        }\n    }\n    return 2;\n}\n\n\nSpawn * Thread::CreateSpawner()\n{ \n    // Singleton initialisation:\n    Spawn * m_pSPAWNER = new Spawn;\n    return m_pSPAWNER;\n}\n</code></pre>\n\n<p>I am using the SDL external library to create two threads, these threads are <code>static int</code> functions, so it's possible to use only static pointer (if I use a standard pointer the error is that the pointer must be static), but the error I get using Visual studio 2015:</p>\n\n<p><code>Error  LNK2001 unresolved external symbol \"private: static class Spawn * Thread::pSpawner\"</code></p>\n\n<p><code>Error  LNK1120 1 unresolved externals</code></p>\n\n<p>I have tried the suggestions done here, but no result (you can find declaration and definition in the Thread.h):\n<a href=\"https://stackoverflow.com/questions/24622441/error-lnk2001-unresolved-external-symbol-public-static-class\">error LNK2001: unresolved external symbol public: static class</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/6140537/c-vector-issue-lnk2001-unresolved-external-symbol-private-static\">C++ vector issue - &#39;LNK2001: unresolved external symbol private: static...&#39;</a></p>\n\n<p>The answers from this question didn't helped (I will leave an update here when I will try all of the suggestions):</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a></p>\n"}, {"tags": ["c++", "linux", "g++", "shared-libraries"], "comments": [{"owner": {"reputation": 51094, "user_id": 210102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OViyp.jpg?s=128&g=1", "display_name": "Steve Townsend", "link": "https://stackoverflow.com/users/210102/steve-townsend"}, "edited": false, "score": 1, "creation_date": 1481155720, "post_id": 41028735, "comment_id": 69266789, "body": "have you tried debugging the core dump?"}, {"owner": {"reputation": 13, "user_id": 6833043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd1c0cab3f4c516ffddb8e0a879795a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hufnagel", "link": "https://stackoverflow.com/users/6833043/mike-hufnagel"}, "reply_to_user": {"reputation": 51094, "user_id": 210102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OViyp.jpg?s=128&g=1", "display_name": "Steve Townsend", "link": "https://stackoverflow.com/users/210102/steve-townsend"}, "edited": false, "score": 0, "creation_date": 1481234236, "post_id": 41028735, "comment_id": 69306681, "body": "Yes, it is blowing up inside &quot;A&quot; (the static library).  It has never had an issue where it is blowing up.  The specific error is an array out of bounds reference."}, {"owner": {"reputation": 51094, "user_id": 210102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OViyp.jpg?s=128&g=1", "display_name": "Steve Townsend", "link": "https://stackoverflow.com/users/210102/steve-townsend"}, "edited": false, "score": 0, "creation_date": 1481236475, "post_id": 41028735, "comment_id": 69307658, "body": "what about debugging the process before it core dumps - i.e. run in gdb"}, {"owner": {"reputation": 13, "user_id": 6833043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd1c0cab3f4c516ffddb8e0a879795a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hufnagel", "link": "https://stackoverflow.com/users/6833043/mike-hufnagel"}, "reply_to_user": {"reputation": 51094, "user_id": 210102, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/OViyp.jpg?s=128&g=1", "display_name": "Steve Townsend", "link": "https://stackoverflow.com/users/210102/steve-townsend"}, "edited": false, "score": 0, "creation_date": 1481315167, "post_id": 41028735, "comment_id": 69343799, "body": "I could do that but I think that&#39;d be focusing on the wrong thing.  The problem is I can build it and have it run exception free in one environment and then take it to another identical environment and have it crash."}, {"owner": {"reputation": 728, "user_id": 610312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c65934f33958e0a4e8a41d46298102d?s=128&d=identicon&r=PG", "display_name": "ewindes", "link": "https://stackoverflow.com/users/610312/ewindes"}, "edited": false, "score": 1, "creation_date": 1492465902, "post_id": 41028735, "comment_id": 73976443, "body": "If it&#39;s crashing, you have an error in your program that you need to debug. The fact that it doesn&#39;t crash on some environments is just luck."}, {"owner": {"reputation": 13767, "user_id": 2413201, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rxfuw.jpg?s=128&g=1", "display_name": "Armali", "link": "https://stackoverflow.com/users/2413201/armali"}, "edited": false, "score": 0, "creation_date": 1527597701, "post_id": 41028735, "comment_id": 88178543, "body": "You did not state where the &quot;A&quot; that crashed was built."}], "owner": {"reputation": 13, "user_id": 6833043, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdd1c0cab3f4c516ffddb8e0a879795a?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Hufnagel", "link": "https://stackoverflow.com/users/6833043/mike-hufnagel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481150700, "creation_date": 1481150700, "question_id": 41028735, "link": "https://stackoverflow.com/questions/41028735/shared-library-core-dumping", "title": "Shared library core dumping", "body": "<p>Just to keep things simple for the purposes of discussion I'm going to use single letter identifiers to describe this situation.  </p>\n\n<p>I have a static library \"A\" that is being used in a shared library \"B\" which is being used in an application \"C\".  </p>\n\n<p>If I build all three on my main server, the test application runs without error.  However, if I copy \"B\" to another computer and build \"C\" on that machine I get a core dump on execution.  I've tried this with two other computers with the same result.  However, if I build \"A\" and \"B\" on one of those other computers then I can build and execute \"C\" on any of the computers without error (this includes the server that was originally used to build \"A\" and \"B\").</p>\n\n<p>I'd normally suspect some kind of incompatibility in the OS or version mismatch in g++.  However, I've checked and the versions are the same on all machines involved.</p>\n\n<p>The OS version is: 4.4.0-31-generic #50-Ubuntu x86_64 GNU/Linux\nThe g++ version is: g++ (Ubuntu 5.4.0-6ubuntu1~16.04.1) 5.4.0 20160609</p>\n\n<p>I've also checked the dependencies on \"B\" with ldd and they are identical no matter where \"B\" is built.</p>\n\n<p>I'm at a total and complete loss for what might be causing this.  Suggestions greatly appreciated!</p>\n"}, {"tags": ["c++", "templates", "c++14", "template-meta-programming", "typetraits"], "comments": [{"owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1481150983, "post_id": 41028636, "comment_id": 69265036, "body": "@skypjack there&#39;s a comment in code about it. Please check it"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1481151905, "post_id": 41028636, "comment_id": 69265431, "body": "Yes, I meant which version. ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "edited": false, "score": 0, "creation_date": 1481151418, "post_id": 41028842, "comment_id": 69265227, "body": "Can we somehow prevent this implicit conversion?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "edited": false, "score": 1, "creation_date": 1481151517, "post_id": 41028842, "comment_id": 69265258, "body": "@Patryk: Sure -- don&#39;t derive <code>Offset&lt;N&gt;</code> from <code>std::integral_constant</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "edited": false, "score": 0, "creation_date": 1481191408, "post_id": 41028842, "comment_id": 69280573, "body": "@Patryk I think that should&#39;ve been a separate question, but <code>Position::value + i</code> is problematic as that too is <code>int + unsigned</code>, meaning <code>unsigned</code>. Your <code>Position::value</code> is negative and <code>i == 0</code>, so the result will be outside of <code>int</code>&#39;s range, making the conversion back to <code>int</code> a narrowing conversion that isn&#39;t allowed inside <code>{}</code>. It can be tricky to get right if you want to support offsets greater than <code>INT_MAX</code>. I suspect you have to convert the offset value to <code>int</code>, and if it is outside of <code>int</code>&#39;s range, split it up into multiple smaller additions."}, {"owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "edited": false, "score": 0, "creation_date": 1481191703, "post_id": 41028842, "comment_id": 69280805, "body": "@hvd Well yeah, it&#39;s not that easy to handle all possible cases here :/ I think that you&#39;ve answered my question and I can create a new one if need be. Thanks"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "is_accepted": true, "score": 3, "last_activity_date": 1481151247, "creation_date": 1481151247, "answer_id": 41028842, "question_id": 41028636, "link": "https://stackoverflow.com/questions/41028636/why-template-is-not-taken-under-consideration-for-specific-values/41028842#41028842", "title": "Why template is not taken under consideration for specific values?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/types/integral_constant\" rel=\"nofollow noreferrer\"><code>std::integral_constant&lt;T, v&gt;</code></a> supports an implicit conversion to <code>T</code>, yielding <code>v</code>.</p>\n\n<p>Your custom <code>operator+</code> fails during template argument substitution as you intended because of your <code>std::enable_if_t</code>, but given that both the LHS <code>Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{}</code> and RHS <code>Offset&lt;1&gt;{}</code> support implicit conversions to built-in types, the language's built-in <code>+</code> operator can be used. The LHS gets converted to <code>int</code>, the RHS gets converted to <code>unsigned</code>, and the result gets the type of <code>int + unsigned</code>, which is <code>unsigned</code>.</p>\n"}], "owner": {"reputation": 18004, "user_id": 675100, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/jTqPB.png?s=128&g=1", "display_name": "Patryk", "link": "https://stackoverflow.com/users/675100/patryk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 41028842, "answer_count": 1, "score": 1, "last_activity_date": 1481190748, "creation_date": 1481150243, "last_edit_date": 1481190748, "question_id": 41028636, "link": "https://stackoverflow.com/questions/41028636/why-template-is-not-taken-under-consideration-for-specific-values", "title": "Why template is not taken under consideration for specific values?", "body": "<p>After reading the following <a href=\"https://github.com/insooth/insooth.github.io/blob/master/basic-dependent-typing.md\" rel=\"nofollow noreferrer\">blog entry at insooth.github.io</a> I rewrote the code to the following form and I was surprised by its results:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;unsigned d&gt;\nusing Offset = std::integral_constant&lt;unsigned, d&gt;;\n\ntemplate &lt;int p&gt;\nstruct Position : std::integral_constant&lt;int, p&gt; {\n  static constexpr auto max = std::numeric_limits&lt;int&gt;::max();\n\n  template &lt;unsigned i&gt;\n  constexpr auto operator+(Offset&lt;i&gt;)\n      // assertion is equivalent to: value + i &lt;= max\n      -&gt; std::enable_if_t&lt;(i &lt;= Position::max - Position::value), Position&lt;Position::value + i&gt;&gt; {\n    return Position&lt;Position::value + i&gt;{};\n  }\n};\n\nint main() {\n  {\n    auto p = Position&lt;11&gt;{} + 1;\n    static_assert(std::is_same&lt;decltype(p), int&gt;::value, \"\");\n  }\n\n  {\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{};\n    static_assert(std::is_same&lt;decltype(p), Position&lt;2147483647&gt;&gt;::value, \"\");\n  }\n\n  // this will fail\n  // auto poverflow = Position&lt;std::numeric_limits&lt;int&gt;::max() + 1&gt;{};\n\n  {\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{} + Offset&lt;0&gt;{}; // OK\n    static_assert(std::is_same&lt;decltype(p), Position&lt;2147483647&gt;&gt;::value, \"\");\n    std::cout &lt;&lt; p &lt;&lt; std::endl;\n  }\n\n  {\n    //\n    // MARKED\n    //\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{} + Offset&lt;1&gt;{}; // OK but shouldn't\n    static_assert(std::is_same&lt;decltype(p), unsigned int&gt;::value, \"\");\n    std::cout &lt;&lt; p &lt;&lt; std::endl;\n  }\n\n  {\n    // compiles ok with clang but fails with gcc\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;{} +\n      Offset&lt;std::numeric_limits&lt;unsigned&gt;::max()&gt;{}; // OK but wrong type\n    static_assert(std::is_same&lt;decltype(p), unsigned int&gt;::value, \"\");\n    std::cout &lt;&lt; p &lt;&lt; std::endl;\n  }\n}\n</code></pre>\n\n<p>Last \"test\" compiles ok with clang 3.9 but fails with gcc 6.2.</p>\n\n<p>live demo: <a href=\"http://coliru.stacked-crooked.com/a/61a5bf3040afaadb\" rel=\"nofollow noreferrer\">http://coliru.stacked-crooked.com/a/61a5bf3040afaadb</a></p>\n\n<p>Can someone explain why the marked line</p>\n\n<pre><code>static_assert(std::is_same&lt;decltype(p), unsigned int&gt;::value, \"\");\n</code></pre>\n\n<p>compiles -> why <code>p</code>'s type is <code>unsigned int</code>? </p>\n\n<p><strong>EDIT</strong></p>\n\n<p>After small change as <a href=\"https://stackoverflow.com/users/743382/hvd\">@hvd</a> suggested, gcc compiles (badly) and clang rejects it.</p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;unsigned d&gt;\nstruct Offset\n{\n  static constexpr unsigned value = d;\n};\n\ntemplate &lt;int p&gt;\nstruct Position : std::integral_constant&lt;int, p&gt;\n{\n  static constexpr auto max = std::numeric_limits&lt;int&gt;::max();\n\n  template &lt;unsigned i&gt;\n  constexpr auto operator+(Offset&lt;i&gt;)\n      // assertion is equivalent to: value + i &lt;= max\n      -&gt; std::enable_if_t&lt;(i &lt;= Position::max - Position::value), Position&lt;Position::value + i&gt;&gt;\n  {\n    return Position&lt;Position::value + i&gt;{};\n  }\n};\n\nint main()\n{\n  {\n    auto p = Position&lt;11&gt;{} + 1;\n    static_assert(std::is_same&lt;decltype(p), int&gt;::value, \"\");\n  }\n\n  {\n    auto p = Position&lt;11&gt;{} + Offset&lt;1&gt;{};\n    static_assert(std::is_same&lt;decltype(p), Position&lt;12&gt;&gt;::value, \"\");\n  }\n\n  {\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{};\n    static_assert(std::is_same&lt;decltype(p), Position&lt;2147483647&gt;&gt;::value, \"\");\n  }\n\n  auto poverflow = Position&lt;std::numeric_limits&lt;int&gt;::max() + 0&gt;{};\n  // this would fail\n  // auto poverflow = Position&lt;std::numeric_limits&lt;int&gt;::max() + 1&gt;{};\n\n  {\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::max()&gt;{} + Offset&lt;0&gt;{}; // OK now\n    static_assert(std::is_same&lt;decltype(p), Position&lt;2147483647&gt;&gt;::value, \"\");\n    static_assert(!std::is_same&lt;decltype(p), unsigned int&gt;::value, \"\");\n    std::cout &lt;&lt; p &lt;&lt; std::endl;\n  }\n\n  {\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;{} + Offset&lt;0&gt;{}; // OK but wrong type\n    static_assert(!std::is_same&lt;decltype(p), unsigned int&gt;::value, \"\");\n    std::cout &lt;&lt; p &lt;&lt; std::endl;\n  }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>g++\n\n\n2147483647\n-2147483648\n\n\nclang\n\n\nIn file included from main.cpp:1:\nIn file included from /usr/include/c++/v1/iostream:38:\nIn file included from /usr/include/c++/v1/ios:216:\nIn file included from /usr/include/c++/v1/__locale:15:\n/usr/include/c++/v1/string:1938:44: error: 'basic_string&lt;_CharT, _Traits, _Allocator&gt;' is missing exception specification 'noexcept(is_nothrow_copy_constructible&lt;allocator_type&gt;::value)'\nbasic_string&lt;_CharT, _Traits, _Allocator&gt;::basic_string(const allocator_type&amp; __a)\n                                           ^\n/usr/include/c++/v1/string:1326:40: note: previous declaration is here\n    _LIBCPP_INLINE_VISIBILITY explicit basic_string(const allocator_type&amp; __a)\n                                       ^\nmain.cpp:57:58: error: invalid operands to binary expression ('Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;' and 'Offset&lt;0&gt;')\n    auto p = Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;{} + Offset&lt;0&gt;{}; // OK but wrong type\n             ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ ^ ~~~~~~~~~~~\nmain.cpp:20:18: note: candidate template ignored: substitution failure [with i = 0]: non-type template argument evaluates to 2147483648, which cannot be narrowed to type 'int'\n  constexpr auto operator+(Offset&lt;i&gt;)\n                 ^\n/usr/include/c++/v1/iterator:640:1: note: candidate template ignored: could not match 'reverse_iterator' against 'Offset'\noperator+(typename reverse_iterator&lt;_Iter&gt;::difference_type __n, const reverse_iterator&lt;_Iter&gt;&amp; __x)\n^\n/usr/include/c++/v1/iterator:1044:1: note: candidate template ignored: could not match 'move_iterator' against 'Offset'\noperator+(typename move_iterator&lt;_Iter&gt;::difference_type __n, const move_iterator&lt;_Iter&gt;&amp; __x)\n^\n/usr/include/c++/v1/iterator:1400:1: note: candidate template ignored: could not match '__wrap_iter' against 'Offset'\noperator+(typename __wrap_iter&lt;_Iter&gt;::difference_type __n,\n^\n/usr/include/c++/v1/string:3946:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(const basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp; __lhs,\n^\n/usr/include/c++/v1/string:3959:1: note: candidate template ignored: could not match 'const _CharT *' against 'Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;'\noperator+(const _CharT* __lhs , const basic_string&lt;_CharT,_Traits,_Allocator&gt;&amp; __rhs)\n^\n/usr/include/c++/v1/string:3971:1: note: candidate template ignored: could not match 'basic_string' against 'Offset'\noperator+(_CharT __lhs, const basic_string&lt;_CharT,_Traits,_Allocator&gt;&amp; __rhs)\n^\n/usr/include/c++/v1/string:3982:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(const basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp; __lhs, const _CharT* __rhs)\n^\n/usr/include/c++/v1/string:3994:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(const basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp; __lhs, _CharT __rhs)\n^\n/usr/include/c++/v1/string:4008:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __lhs, const basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp; __rhs)\n^\n/usr/include/c++/v1/string:4016:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(const basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp; __lhs, basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __rhs)\n^\n/usr/include/c++/v1/string:4024:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __lhs, basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __rhs)\n^\n/usr/include/c++/v1/string:4032:1: note: candidate template ignored: could not match 'const _CharT *' against 'Position&lt;std::numeric_limits&lt;int&gt;::min()&gt;'\noperator+(const _CharT* __lhs , basic_string&lt;_CharT,_Traits,_Allocator&gt;&amp;&amp; __rhs)\n^\n/usr/include/c++/v1/string:4040:1: note: candidate template ignored: could not match 'basic_string' against 'Offset'\noperator+(_CharT __lhs, basic_string&lt;_CharT,_Traits,_Allocator&gt;&amp;&amp; __rhs)\n^\n/usr/include/c++/v1/string:4049:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __lhs, const _CharT* __rhs)\n^\n/usr/include/c++/v1/string:4057:1: note: candidate template ignored: could not match 'basic_string' against 'Position'\noperator+(basic_string&lt;_CharT, _Traits, _Allocator&gt;&amp;&amp; __lhs, _CharT __rhs)\n^\n2 errors generated.\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481154935, "post_id": 41028563, "comment_id": 69266545, "body": "One texture without any texture coordinate manipulation is sufficient if you have hardware access to array textures. <i>An implementation that supports vertex attrib divisors should support them.</i> This approach is preferred to atlasing in a lot of applications because packing and border pixels are not necessary."}, {"owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "reply_to_user": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481158144, "post_id": 41028563, "comment_id": 69267542, "body": "@Andon How exactly can I implement a texture array like you say? I have searched for a long time before about how I should implement my textures and the only things I could find that have real explained examples were for texture atlases. I could only find some instructions on the opengl wiki however I don&#39;t fully understand what&#39;s going on there."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481158507, "post_id": 41028563, "comment_id": 69267637, "body": "They are treated like a special case of 3D texture, you have z-many slices of WxH. You use a <code>sampler2DArray</code> and give it 3D texture coordinates (the first 2 are regular normalized coords and the third is an index into the array slice). The whole thing works ideally when each of the textures in your tilemap has the same resolution."}, {"owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "reply_to_user": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481159859, "post_id": 41028563, "comment_id": 69268000, "body": "@Andron So essentially, instead of merging all the textures in a single file and a single texture unit, I should just load all the files, load them in a 3D texture and simply refer to each using the 3rd coordinate and keep the other 2 constant from (0,0) to (1,1)?"}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481159934, "post_id": 41028563, "comment_id": 69268025, "body": "Effectively, yes. I don&#39;t know your entire use-case, but this allows you to use linear filtering on your texture atlas without having to add border pixels around each packed tile. There are a lot of benefits to doing it this way."}, {"owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "reply_to_user": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1481160098, "post_id": 41028563, "comment_id": 69268066, "body": "@Andron I see, that was one problem that I had, I had to change from linear filtering to nearest to get rid of the texture bleeding. Concerning the VBO, is there any major changes that I need to take care considering that I will have 2 constant and 1 variable coordinates or what I have would work with just a few changes?"}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1481165174, "post_id": 41028563, "comment_id": 69269353, "body": "@OliPro007: &quot;<i>load them in a 3D texture</i>&quot; No, you load them into an <a href=\"https://www.opengl.org/wiki/Array_Texture\" rel=\"nofollow noreferrer\"><i>array texture</i></a>. While they seem conceptually like 3D textures, they are <i>not</i> 3D textures."}, {"owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1481170329, "post_id": 41028563, "comment_id": 69270683, "body": "@NicolBolas Just a poor choice of word on my part, rather the 3D texture function with the 2D texture array flag (if that&#39;s how the macro&#39;s purpose is called). I think I have found a good example now after a bit more research on texture arrays specifically, I just need to adapt it to instanced drawing."}, {"owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "edited": false, "score": 0, "creation_date": 1481221519, "post_id": 41028563, "comment_id": 69300244, "body": "@Andron It all works correctly now with the texture array. Thanks a lot!"}], "owner": {"reputation": 405, "user_id": 5487099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/551981eaf36a48834f1527adf5016a4b?s=128&d=identicon&r=PG", "display_name": "OliPro007", "link": "https://stackoverflow.com/users/5487099/olipro007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 370, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1481149887, "creation_date": 1481149887, "question_id": 41028563, "link": "https://stackoverflow.com/questions/41028563/instanced-drawing-with-texture-atlas", "title": "Instanced drawing with texture atlas", "body": "<p>I am currently trying to create a tilemap using instanced drawing. I have been able to draw multiple instances of a tile by sending the vertices corresponding to the geometry combined with the texture coordinates and the offsets of each tiles in a separate VBO and using the attribute divisor.</p>\n\n<p>This however allows me to use only one texture. So I splitted the texture coordinates from the vertices and created a separate VBO like for the offsets, but it doesn't generate the expected results. Let's say the coordinates I send are the coordinates that match the first texture in the atlas for the first tile and the coordinates that match the second texture for the other tiles, if I use <code>glAttributeDivisor(1, 0)</code>, all the tiles use only the first texture. If I use any other value, I get some sort of checker pattern with only one pixel of each texture used for the entire tile. </p>\n\n<p>Here's what it does when the attribute divisior is 0: <a href=\"https://i.stack.imgur.com/d5KpO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d5KpO.png\" alt=\"Divisor is 0\"></a>\nAnd this is when the attribute divisor is at 1: <a href=\"https://i.stack.imgur.com/aKPAp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aKPAp.png\" alt=\"Divisor is 1\"></a>\nNormally, the first tile in the bottom left corner should be a grass tile, like when the divisor is 0, and all the others should be a dirt tile.</p>\n\n<p>This is what I do to create the buffers:</p>\n\n<pre><code>TileMap::TileMap(std::vector&lt;glm::vec2&gt; positions, std::vector&lt;glm::vec2&gt; texCoords, glm::vec2 tileSize,\n                 std::shared_ptr&lt;graphics::Shader&gt; shader,\n                 std::shared_ptr&lt;graphics::Texture&gt; texture) :\nm_positions(positions), m_texCoords(texCoords), m_tileSize(tileSize), m_shader(shader), m_texture(texture) {\n    m_model = glm::mat4();\n    m_model = glm::scale(m_model, glm::vec3(tileSize, 1.0f));\n\n    GLfloat vertices[] =\n    {\n        // Positions\n        1.0f, 1.0f,     // Top Right\n        1.0f, 0.0f,     // Bottom Right\n        0.0f, 0.0f,     // Bottom Left\n        0.0f, 1.0f      // Top Left\n    };\n\n    GLuint indices[] =\n    {\n        0, 1, 3,\n        1, 2, 3\n    };\n\n    glGenVertexArrays(1, &amp;m_vao);\n    glGenBuffers(1, &amp;m_vbo);\n    glGenBuffers(1, &amp;m_ebo);\n\n    glGenBuffers(1, &amp;m_textureVbo);\n    glBindBuffer(GL_ARRAY_BUFFER, m_textureVbo);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(glm::vec2) * m_texCoords.size(), &amp;m_texCoords[0], GL_STATIC_DRAW);\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n\n    glGenBuffers(1, &amp;m_instanceVbo);\n    glBindBuffer(GL_ARRAY_BUFFER, m_instanceVbo);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(glm::vec2) * m_positions.size(), &amp;m_positions[0], GL_STATIC_DRAW);\n    glBindBuffer(GL_ARRAY_BUFFER, 0);\n\n    glBindVertexArray(m_vao);\n        glBindBuffer(GL_ARRAY_BUFFER, m_vbo);\n        glBufferData(GL_ARRAY_BUFFER, sizeof(vertices), vertices, GL_STATIC_DRAW);\n\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, m_ebo);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);\n\n        glEnableVertexAttribArray(0);\n        glVertexAttribPointer(0, 2, GL_FLOAT, GL_FALSE, 2 * sizeof(GLfloat), (GLvoid*)0);\n\n        glEnableVertexAttribArray(1);\n        glBindBuffer(GL_ARRAY_BUFFER, m_textureVbo);\n        glVertexAttribPointer(1, 2, GL_FLOAT, GL_FALSE, 2 * sizeof(GLfloat), (GLvoid*)0);\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n\n        glEnableVertexAttribArray(2);\n        glBindBuffer(GL_ARRAY_BUFFER, m_instanceVbo);\n        glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, 2 * sizeof(GLfloat), (GLvoid*)0);\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n\n        glVertexAttribDivisor(1, 0);\n        glVertexAttribDivisor(2, 1);\n    glBindVertexArray(0);\n}\n</code></pre>\n\n<p>And this is how I generate the tilemap:</p>\n\n<pre><code>std::vector&lt;glm::vec2&gt; positions;\nstd::vector&lt;glm::vec2&gt; texCoords;\nbool test = false;\nfor(float i = 0.0f; i &lt; 7.0f; i++) {\n    for(float j = 0.0f; j &lt; 7.0f; j++) {\n        positions.push_back(glm::vec2(j, i));\n\n        if(test){\n            texCoords.push_back(glm::vec2(1.0f, 1.0f)); // Top Right\n            texCoords.push_back(glm::vec2(1.0f, 0.0f)); // Bottom Right\n            texCoords.push_back(glm::vec2(0.5f, 0.0f)); // Bottom Left\n            texCoords.push_back(glm::vec2(0.5f, 1.0f)); // Top Left\n        } else {\n            texCoords.push_back(glm::vec2(0.5f, 1.0f)); // Top Right\n            texCoords.push_back(glm::vec2(0.5f, 0.0f)); // Bottom Right\n            texCoords.push_back(glm::vec2(0.0f, 0.0f)); // Bottom Left\n            texCoords.push_back(glm::vec2(0.0f, 1.0f)); // Top Left\n        }\n\n        test = true; //This is just to test the texture switching after the first tile\n    }\n}\n\ngraphics::TileMap tileMap(positions, texCoords, glm::vec2(64.0f), shader, texture);\n</code></pre>\n\n<p>I am not really familiar with OpenGl so I have absolutely no idea what is causing this nor what to use so that each quad read the 4 texture coordinates that should by tied to them.</p>\n"}, {"tags": ["c++", "sockets"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1481149862, "post_id": 41028495, "comment_id": 69264568, "body": "And the error number was? NB the error number <i>before</i> you call <code>WSACleanup()</code>. Posting a question without an error message or number here is just a complete waste of time."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481149917, "post_id": 41028495, "comment_id": 69264598, "body": "grab <code>WSAGetLastError()</code> before calling <code>WSACleanup</code> and print it out. Then <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms740668(v=vs.85).aspx\" rel=\"nofollow noreferrer\">look up the error code here</a> to see what happened."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481150066, "post_id": 41028495, "comment_id": 69264657, "body": "Then lookup the error code at <b>MSDN</b> to see what happened. @user4581301"}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481150193, "post_id": 41028495, "comment_id": 69264710, "body": "How can i print easiliy, the messagebox is not compaitble..."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1481150405, "post_id": 41028495, "comment_id": 69264806, "body": "@elliot std::to_string(WSAGetLastError()) will give you std::string which can be shown in message box"}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "reply_to_user": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1481150573, "post_id": 41028495, "comment_id": 69264872, "body": "@marcinj but messagebox is not string type :/ its supports char..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481150850, "post_id": 41028495, "comment_id": 69264979, "body": "<code>std::string</code> is a mighty beast. <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/c_str\" rel=\"nofollow noreferrer\">It even has a function to return a pointer to a char array</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1481150926, "post_id": 41028495, "comment_id": 69265011, "body": "Got back too late to make that fix, @EJP . Thanks for recommending it though."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1481151080, "post_id": 41028495, "comment_id": 69265087, "body": "While you&#39;re fixing your code are sure to fix this everywhere, e.g. above where you create the socket, and later when you connect, listen, accept, send, receive, ..."}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481152778, "post_id": 41028495, "comment_id": 69265774, "body": "i am getting &quot; cannot assign requsted adress&#39; error ( 10049 ) how can i fix it ? why it is not assigng to mine public ip ?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481153806, "post_id": 41028495, "comment_id": 69266159, "body": "Ahhh... Based on that, and kicking myself a bit, print out <code>host-&gt;h_addr</code>. I don&#39;t think you&#39;ll like what you see and I&#39;m damn sure <code>inet_addr</code> isn&#39;t able to parse it."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1481157578, "post_id": 41028495, "comment_id": 69267364, "body": "If this is going to be a listening socket you should bind it to INADDR_ANY, not a specific host address."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1481165047, "post_id": 41028495, "comment_id": 69269321, "body": "@EJP: there is nothing wrong with binding a listening socket to a specific address. In a multi-homed machine, you might not want to listen on all adapters.  Or maybe a protocol restriction requires accepting connections on a specific adapter only."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1481175169, "post_id": 41028495, "comment_id": 69272141, "body": "@RemyLebeau Of course, but not for beginners. The problem here is clearly that he isn&#39;t binding to a valid IP address. Walk before you run."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481347091, "post_id": 41031174, "comment_id": 69351638, "body": "i am getting this error at servSocks.push_back(servSocks) : <a href=\"http://i.hizliresim.com/njLg2V.jpg\" rel=\"nofollow noreferrer\">i.hizliresim.com/njLg2V.jpg</a>"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481358119, "post_id": 41031174, "comment_id": 69353710, "body": "A typo on my part. I have corrected it. <code>(servSocks)</code> should be <code>(servSock)</code> instead."}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481364511, "post_id": 41031174, "comment_id": 69355090, "body": "Also how can i add my ip as host name to this, sorry my brain is working so slow now i didint sleep for 27+ hour"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481394924, "post_id": 41031174, "comment_id": 69364026, "body": "@Elliot if i understand you correctly, then nothing changes. You simply register a hosthame that resolves to an IP address that can reach your server, either directly or through a router. There are plenty of 3rd party DNS services available for that purpose, like DynDNS, etc. If that is not what you mean, then please clarify your question."}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481472251, "post_id": 41031174, "comment_id": 69381077, "body": "i couldnt figure out how to add the ip adress, cause it is different way from what i did, can you help me plase"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481484059, "post_id": 41031174, "comment_id": 69385058, "body": "@Elliot I still do not understand what you are asking. Please clarify your question. What EXACTLY are you having trouble with?"}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481516807, "post_id": 41031174, "comment_id": 69393187, "body": "sorry for my really basic questions but i coudlnt figure out where-how will i  add the ip adress..."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481517723, "post_id": 41031174, "comment_id": 69393380, "body": "@Elliot add the IP address to what? Your question is not basic, it&#39;s vague."}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481539193, "post_id": 41031174, "comment_id": 69402106, "body": "I want the servers IP adress be a hostname. i mean i am using NO-IP to point my public unstatic ip adress.."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481559917, "post_id": 41031174, "comment_id": 69414438, "body": "@Elliot I ready addressed that in a comment 2 days ago. You are already using a DNS service that links your public dynamic IP to a static hostname. If your server is connected <i>directly</i> to your Internet connection, that is all you need. But if your server is behind a router then you need to configure the router&#39;s port forwarding rules so public Internet clients are forwarded to your server. That is beyond the scope of StackOverflow, check your router&#39;s settings, or ask on <a href=\"http://serverfault.com\">serverfault.com</a>"}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481583372, "post_id": 41031174, "comment_id": 69426613, "body": "I think there is a misunderstood :)  i am writing a server for windows rightnow. i already forwarded my port from router. and at the above code as is see there is nothing to associate my host. dont i need that ?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1481585513, "post_id": 41031174, "comment_id": 69427299, "body": "@Elliot: No, you don&#39;t. That is strictly related to network routing, it has nothing to do with coding. Your server code can only bind to a <i>local</i> IP on the same machine. Your router needs to route outside clients from the public IP to the server IP. Clients never see the server IP directly, and the server never sees the public IP directly. The hostname is just a convenient way for outside clients to discover your current public IP. The router handles the rest. Again, not a coding issue for StackOverflow. Network administration belongs on ServerFault instead."}, {"owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1482078162, "post_id": 41031174, "comment_id": 69619394, "body": "sorry i had some problems with my internet i couldnt response. then how will i know the servers ip to connect ? i mean client is not static ip, neither server.."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "edited": false, "score": 0, "creation_date": 1482084244, "post_id": 41031174, "comment_id": 69621411, "body": "@Elliot your NO-IP service handles that for you. It gives you a static hostname and keeps it updated with your latest public IP whenever it changes. When a client wants to connect, it uses DNS to lookup the hostname&#39;s current IP, then connects to it. That IP belongs to your router, which forwards the connect to the server IP where your software is listening. Now please, get yourself a good book on networking and do some research, you keep asking the same questions and we&#39;re just going around in circles."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1481585817, "last_edit_date": 1481585817, "creation_date": 1481166896, "answer_id": 41031174, "question_id": 41028495, "link": "https://stackoverflow.com/questions/41028495/c-windows-cant-bind-the-socket/41031174#41031174", "title": "C++ Windows cant bind the socket", "body": "<p>You are using <code>gethostbyname()</code> (without error checking) to get your public IP (there are other ways to get that IP without using a DNS lookup).  If your server is behind a NAT/router (as is implied by your comment that you have to forward the port to your server), then you are binding to the wrong IP.  You can only bind to an IP that belongs to a network adapter that is local to the server machine.  In a NAT environment, that means binding to a private LAN IP that has been assigned to the server, not to the NAT's public WAN IP.  The NAT will forward connections from its public WAN IP to the server's private LAN IP, and then the server can accept connections on its private LAN IP.  This also allows the server to accept connections from clients running on other machines with the same LAN.</p>\n\n<p>Also, <code>inet_addr()</code> expects an IP address in dotted string format, but <code>gethostbyname()</code> returns IP addresses in binary format instead.  When the <code>hostent::h_addrtype</code> field is <code>AF_INET</code> (which <code>gethostbyname()</code> is not guaranteed to return), the <code>hostent::h_addr_list</code> field contains pointers to <code>in_addr</code> structs, which you can then assign as-is to the <code>sin.sin_addr</code> field.</p>\n\n<p>It would be easier to just bind to <code>INADDR_ANY</code> so the server can accept connections on <em>any</em> local IP universally, instead of binding to any specific IP.</p>\n\n<p>Try this:</p>\n\n<pre><code>int WINAPI WinMain(HINSTANCE hInst, HINSTANCE hPrevInstance,\n    LPSTR lpCmdLine, int nShow)\n{\n    WSADATA wsaData;\n    int retVal;\n\n    retVal = WSAStartup(MAKEWORD(2, 2), &amp;wsaData);\n    if (retVal != 0)\n    {\n        MessageBox(NULL, \"Unable to initialize WinSock\", \"SOCKET ERROR\", MB_OK);\n        return SOCKET_ERROR;\n    }\n\n    /// Creating socket\n    SOCKET servSock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n    if (servSock == INVALID_SOCKET)\n    {\n        WSACleanup();\n        MessageBox(NULL, \"Unable to create socket\", \"SOCKET ERROR\", MB_OK);\n        return SOCKET_ERROR;\n    }\n\n    /// Filling in sockaddr_in struct \n\n    SOCKADDR_IN sin = {0};\n    sin.sin_family = AF_INET;\n    sin.sin_port = htons(8844);\n    //sin.sin_addr.s_addr = inet_addr(\"192.16.0.1\"); // whatever your LAN IP is\n    sin.sin_addr.s_addr = INADDR_ANY;\n\n    retVal = bind(servSock, (LPSOCKADDR)&amp;sin, sizeof(sin));\n    if (retVal == SOCKET_ERROR)\n    {\n        retVal = WSAGetLastError();\n        MessageBox(NULL, \"Unable to bind socket\", \"SOCKET ERROR\", MB_OK);\n        closesocket(servSock);\n        WSACleanup();\n        return SOCKET_ERROR;\n    }\n\n    retVal = listen(servSock, ...);\n    if (retVal == SOCKET_ERROR)\n    {\n        retVal = WSAGetLastError();\n        MessageBox(NULL, \"Unable to listen on socket\", \"SOCKET ERROR\", MB_OK);\n        closesocket(servSock);\n        WSACleanup();\n        return SOCKET_ERROR;\n    }\n\n    ...\n\n    closesocket(servSock);\n    WSACleanup();\n\n    return 0;\n}\n</code></pre>\n\n<p>Alternatively, you can use <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms738520.aspx\" rel=\"nofollow noreferrer\"><code>getaddrinfo()</code></a> instead and let it tell you which IP(s) to bind to:</p>\n\n<pre><code>int WINAPI WinMain(HINSTANCE hInst, HINSTANCE hPrevInstance,\n    LPSTR lpCmdLine, int nShow)\n{\n    WSADATA wsaData;\n    int retVal;\n\n    retVal = WSAStartup(MAKEWORD(2, 2), &amp;wsaData);\n    if (retVal != 0)\n    {\n        MessageBox(NULL, \"Unable to initialize WinSock\", \"SOCKET ERROR\", MB_OK);\n        return SOCKET_ERROR;\n    }\n\n    addrinfo hints = {0};\n    hints.ai_flags = AI_PASSIVE;\n    hints.ai_family = AF_UNSPEC;\n    hints.ai_socktype = SOCK_STREAM;\n    hints.ai_protocol = IPPROTO_TCP;\n\n    addrinfo *addrs\n    retVal = getaddrinfo(NULL, \"8844\", &amp;hints, &amp;addrs);\n    if (retVal != 0)\n    {\n        MessageBox(NULL, \"Unable to get addr info\", \"SOCKET ERROR\", MB_OK);\n        WSACleanup();\n        return SOCKET_ERROR;\n    }\n\n    std::vector&lt;SOCKET&gt; servSocks;\n\n    /// Creating sockets\n    for(addrinfo *addr = addrs; addr != NULL; addr = addr-&gt;ai_next)\n    { \n        SOCKET servSock = socket(addr-&gt;ai_family, addr-&gt;ai_socktype, addr-&gt;ai_protocol);\n        if (servSock == INVALID_SOCKET)\n            continue;\n\n        retVal = bind(servSock, addr-&gt;ai_addr, addr-&gt;ai_addrlen);\n        if (retVal == SOCKET_ERROR)\n        {\n            closesocket(servSock);\n            continue;\n        }\n\n        retVal = listen(servSock, ...);\n        if (retVal == SOCKET_ERROR)\n        {\n            closesocket(servSock);\n            continue;\n        }\n\n        servSocks.push_back(servSock);\n    }\n\n    freeaddrinfo(addrs);\n\n    if (servSocks.empty())\n    {\n        MessageBox(NULL, \"Unable to prepare listening socket(s)\", \"SOCKET ERROR\", MB_OK);\n        WSACleanup();\n        return SOCKET_ERROR;\n    }\n\n    ...\n\n    std::for_each(servSocks.begin(), servSocks.end(), &amp;::closesocket);\n    WSACleanup();\n\n    return 0;\n}\n</code></pre>\n\n<p>Either way, your NO-IP service simply maps a static hostname to your NAT's current public IP, nothing more.  When a client wants to connect to the hostname, it first resolves the hostname to its current IP, and then connects to that IP.  It is connecting to your NAT router, not to your server directly.  The router will forward the client to the private LAN IP that your server is bound to, where the server can then accept the connection.  So make sure your router's port forwarding rules are configured correctly.  If that is not working correctly, you should ask on <a href=\"http://serverfault.com\">ServerFault.com</a>, as that is a networking issue, not a coding issue.</p>\n"}], "owner": {"reputation": 31, "user_id": 6874662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NWx8y.jpg?s=128&g=1", "display_name": "Elliot", "link": "https://stackoverflow.com/users/6874662/elliot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "closed_date": 1481167210, "accepted_answer_id": 41031174, "answer_count": 1, "score": -1, "last_activity_date": 1481585817, "creation_date": 1481149535, "question_id": 41028495, "link": "https://stackoverflow.com/questions/41028495/c-windows-cant-bind-the-socket", "closed_reason": "Not suitable for this site", "title": "C++ Windows cant bind the socket", "body": "<p>i am using NO-IP to point my public adress also i forward the port 8844 but still my server doesnt work. when i try \" 127.0.0.1 \" instead host it works,i couldnt find where is the mistake.. </p>\n\n<pre><code>int WINAPI WinMain(HINSTANCE hInst, HINSTANCE hPrevInstance,\n    LPSTR lpCmdLine, int nShow)\n{\n    WORD sockVer;\n    WSADATA wsaData;\n    int retVal;\n\n    sockVer = MAKEWORD(2, 2);\n\n    WSAStartup(sockVer, &amp;wsaData);\n\n    /// Creating socket\n    SOCKET servSock = socket(AF_INET, SOCK_STREAM, IPPROTO_TCP);\n\n    if (servSock == INVALID_SOCKET)\n    {\n        MessageBox(NULL, \"Unable to create socket()\", \"SOCKET ERROR\", MB_OK);\n        WSACleanup();\n        return SOCKET_ERROR;\n    }\n\n    /// Filling in sockaddr_in struct \n\n    struct hostent* host = gethostbyname(\"myhostadress\");\n\n    SOCKADDR_IN sin;\n    sin.sin_family = AF_INET;\n    sin.sin_port = htons(8844);\n    sin.sin_addr.s_addr = inet_addr(host-&gt;h_addr);\n\n\n\n\n    retVal = bind(servSock, (LPSOCKADDR)&amp;sin, sizeof(sin));\n    if (retVal == SOCKET_ERROR)\n    {\n        MessageBox(NULL, \"Unable to bind\", \"SOCKET ERROR\", MB_OK);\n\n        WSACleanup();\n        return WSAGetLastError();\n    }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 0, "creation_date": 1481149858, "post_id": 41028453, "comment_id": 69264565, "body": "I get this error in VS: <code>&#39;NextionTest::nex_listen_list&#39;: array bound cannot be deduced from an in-class initializer</code> (you have to explicitly state the array size)"}], "answers": [{"tags": [], "owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1481150272, "creation_date": 1481150272, "answer_id": 41028644, "question_id": 41028453, "link": "https://stackoverflow.com/questions/41028453/add-pointer-to-member-object-to-dynamic-array-of-pointers/41028644#41028644", "title": "Add pointer to member object to dynamic array of pointers", "body": "<p>You can initialize you array in this way:</p>\n\n<pre><code>NexTouch* nex_listen_list[4] = {\n    &amp;lblText,\n    &amp;btnPage0,\n    &amp;btnPage1,\n    nullptr\n};\n</code></pre>\n\n<p>However, this defines a fixed size, C-style array, and it seems to me (from seeing the \"null-termination\") that your intent is to have a dynamic array, which grows/shrinks and is always terminated by <code>nullptr</code> similarly to strings. In this case, it is better to use <code>std::vector</code>:</p>\n\n<pre><code>std::vector&lt;NexTouch*&gt; nex_listen_list = {\n    &amp;lblText,\n    &amp;btnPage0,\n    &amp;btnPage1,\n    nullptr\n};\n</code></pre>\n\n<p>Most likely the nullptr-termination is not needed, but it depends on what you want to do with the array. Maybe you will send it to some API that takes an old-style array? In this case you can use <code>nex_listen_list.data()</code> to retrieve the embedded C-style array.</p>\n"}], "owner": {"reputation": 1815, "user_id": 501717, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3f0d72b2985548b1edee590037362569?s=128&d=identicon&r=PG", "display_name": "Bascy", "link": "https://stackoverflow.com/users/501717/bascy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "closed_date": 1481150290, "answer_count": 1, "score": 0, "last_activity_date": 1481150272, "creation_date": 1481149339, "last_edit_date": 1481149696, "question_id": 41028453, "link": "https://stackoverflow.com/questions/41028453/add-pointer-to-member-object-to-dynamic-array-of-pointers", "closed_reason": "Duplicate", "title": "Add pointer to member object to dynamic array of pointers", "body": "<p>I have a class with some private members containing objects and a dynamic array of pointers which I want to fill with pointers to some of those member object. </p>\n\n<pre><code>class NextionTest : public NextionDisplay {\nprivate:\n  NexText           lblText =   NexText(0,  1, \"t0\");\n  NexButton       btnPage1  =   NexButton(  0,  2,  \"b0\");\n  NexButton       btnPage0  =   NexButton(  1,  1,  \"b0\");\n\n  NexTouch *nex_listen_list[] = {    \n                &amp;lblText,\n                &amp;btnPage0,  \n                &amp;btnPage1,\n                nullptr \n  };\n /* rest of class not shown */\n};\n</code></pre>\n\n<p>The above code result in this error: </p>\n\n<blockquote>\n  <p>too many initializers for 'NexTouch* [0]'</p>\n</blockquote>\n\n<p>How to solve this?</p>\n"}, {"tags": ["c++", "clang++", "c++17", "libc++", "c++-modules"], "answers": [{"comments": [{"owner": {"reputation": 1194, "user_id": 1286986, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FAZ8P.png?s=128&g=1", "display_name": "Anthony Hall", "link": "https://stackoverflow.com/users/1286986/anthony-hall"}, "edited": false, "score": 0, "creation_date": 1481169298, "post_id": 41030831, "comment_id": 69270420, "body": "I&#39;m very glad you said you had fixed this, because I <i>had</i> updated my libcxx source today, and built it, just to see if by chance the bug had been fixed since my last update, and it still wasn&#39;t working for me.  But seeing your answer, I was motivated to look harder.  It turns out that though I had run <code>make</code> for LLVM, I had not yet run <code>make install</code>.  Derp.  It is now working.  Thanks very much."}, {"owner": {"reputation": 909, "user_id": 3286653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FN2K.jpg?s=128&g=1", "display_name": "EricWF", "link": "https://stackoverflow.com/users/3286653/ericwf"}, "reply_to_user": {"reputation": 1194, "user_id": 1286986, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FAZ8P.png?s=128&g=1", "display_name": "Anthony Hall", "link": "https://stackoverflow.com/users/1286986/anthony-hall"}, "edited": false, "score": 0, "creation_date": 1481169369, "post_id": 41030831, "comment_id": 69270439, "body": "No worries! The more people testing new C++ features the better."}], "tags": [], "owner": {"reputation": 909, "user_id": 3286653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6FN2K.jpg?s=128&g=1", "display_name": "EricWF", "link": "https://stackoverflow.com/users/3286653/ericwf"}, "is_accepted": true, "score": 3, "last_activity_date": 1481165056, "last_edit_date": 1481165056, "creation_date": 1481164492, "answer_id": 41030831, "question_id": 41028251, "link": "https://stackoverflow.com/questions/41028251/clang-fmodules-errors-using-types-after-include-cstdint/41030831#41030831", "title": "Clang++ -fmodules errors using types after #include &lt;cstdint&gt;", "body": "<p>This was an issue in libc++ which I fixed in <a href=\"https://github.com/llvm-mirror/libcxx/commit/6010dc84c66ee4b30b4ffea34b0d1c616d04239b\" rel=\"nofollow noreferrer\">r287690</a>. If you update your custom Clang/libc++ installation these issues should be fixed. </p>\n\n<p>Over the past month I've fixed a number of issues using libc++ with modules. I literally only got all of the libc++ tests passing yesterday with modules enabled. </p>\n"}], "owner": {"reputation": 1194, "user_id": 1286986, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/FAZ8P.png?s=128&g=1", "display_name": "Anthony Hall", "link": "https://stackoverflow.com/users/1286986/anthony-hall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 41030831, "answer_count": 1, "score": 4, "last_activity_date": 1481168077, "creation_date": 1481148421, "last_edit_date": 1481168077, "question_id": 41028251, "link": "https://stackoverflow.com/questions/41028251/clang-fmodules-errors-using-types-after-include-cstdint", "title": "Clang++ -fmodules errors using types after #include &lt;cstdint&gt;", "body": "<p>The following simple test case file is giving me a compile-time error with the tip of 'master' from Clang's github mirror, when compiled with <code>-fmodules</code>, using the command shown below.  I'm wondering if this is a bug with the new experimental Module feature for Clang -- maybe a problem with the implementation of module maps for the standard library -- or if there's something I'm doing wrong.  The error still appears if I add <code>-fbuiltin-module-map</code> to the command.  Interestingly, the error no longer appears if I substitute <code>stdint.h</code> for <code>cstdint</code>.</p>\n\n<pre><code>#include &lt;stdint.h&gt;\nuint64_t foo;\n</code></pre>\n\n<p>Here's my compile command, with the error message:</p>\n\n<pre><code>anhall@leviathan: /Users/anhall/impersonal/code/llvm-reflexpr/install/bin/clang++ -o module-uint64_t-test.o -c module-uint64_t-test.cpp --std=c++1z -fmodules\nmodule-uint64_t-test.cpp:3:1: error: missing '#include &lt;_types/_uint64_t.h&gt;'; declaration of 'uint64_t' must be imported from module 'Darwin.POSIX._types._uint64_t' before it is\n      required\nuint64_t foo;\n^\n/usr/include/_types/_uint64_t.h:31:28: note: previous declaration is here\ntypedef unsigned long long uint64_t;\n</code></pre>\n\n<p>Information on the build I'm using:  It's from Matus Chochlik's fork of the github Clang mirror; but I'm set to the commit that corresponds to the (at the time) head of 'master' in the original clang git mirror (in other words, it does not include commits from Matus Chochlik's feature 'reflexpr' branch):</p>\n\n<pre><code>anhall@leviathan: /Users/anhall/impersonal/code/llvm-reflexpr/install/bin/clang++ -v\nclang version 4.0.0 (https://github.com/matus-chochlik/clang.git 1fa85026bfc23f5cda0b89598bd2056b817ae9d4) (https://github.com/llvm-mirror/llvm.git 069db88a3b2cae52023664fdd30378d3adc26566)\nTarget: x86_64-apple-darwin15.6.0\nThread model: posix\nInstalledDir: /Users/anhall/impersonal/code/llvm-reflexpr/install/bin\n</code></pre>\n\n<p>(Note: suspecting this is a bug, I have also emailed the above report to the LLVM Administrators and intend to file it at the LLVM Bugzilla if they reply and give me a login.  But I thought I'd post it here as well, in case it's something I'm getting wrong, or is interesting to anyone working with Clang's C++1z+ modules support)</p>\n\n<h3>Edit 1:</h3>\n\n<p>If I add the <code>-v</code> to the compile command-line, it shows that it is indeed searching my build's <code>include</code> directories, not those of another build of Clang, for example:</p>\n\n<pre><code>#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /Users/anhall/impersonal/code/llvm-reflexpr/install/bin/../include/c++/v1\n /usr/local/include\n /Users/anhall/impersonal/code/llvm-reflexpr/install/bin/../lib/clang/4.0.0/include\n /usr/include\n /System/Library/Frameworks (framework directory)\n /Library/Frameworks (framework directory)\nEnd of search list.\n</code></pre>\n\n<p>I don't know if the issue could be an interaction between my Clang build's headers and the OS X system headers in <code>/usr/local/include</code> and <code>/usr/include</code></p>\n"}, {"tags": ["c++", "variadic-templates"], "answers": [{"comments": [{"owner": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "edited": false, "score": 0, "creation_date": 1481148404, "post_id": 41028199, "comment_id": 69263922, "body": "I did not! Can you explain how this expansion works? I am stuck thinking about this as I would recursive function calls, popping off the first element of the parameter pack."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "edited": false, "score": 0, "creation_date": 1481148738, "post_id": 41028199, "comment_id": 69264083, "body": "@shane The rules are a bit fuzzy for me, but in short pack expansion works by duplicating a (syntactic) pattern and replacing the argument packs within this pattern. Here the pattern is the whole <code>std::array&lt;Args, 255&gt;</code>, which gets expanded to what you are after by replacing <code>Args</code>."}, {"owner": {"reputation": 20650, "user_id": 1335865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3eBZC.png?s=128&g=1", "display_name": "Ralph Tandetzky", "link": "https://stackoverflow.com/users/1335865/ralph-tandetzky"}, "reply_to_user": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "edited": false, "score": 2, "creation_date": 1481181110, "post_id": 41028199, "comment_id": 69274770, "body": "@shane See <a href=\"http://stackoverflow.com/questions/17652412/what-are-the-rules-for-the-token-in-the-context-of-variadic-templates\" title=\"what are the rules for the token in the context of variadic templates\">stackoverflow.com/questions/17652412/&hellip;</a>."}], "tags": [], "owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "is_accepted": true, "score": 11, "last_activity_date": 1481148189, "creation_date": 1481148189, "answer_id": 41028199, "question_id": 41028171, "link": "https://stackoverflow.com/questions/41028171/c-expand-parameter-pack-to-tuple-of-arrays/41028199#41028199", "title": "C++ expand parameter pack to tuple of arrays", "body": "<pre><code>template&lt;typename ...Args&gt;\nclass X {\nprivate:\n    std::tuple&lt;std::array&lt;Args, 255&gt;...&gt; m_tuples; // For Arg in Args\n};\n</code></pre>\n\n<p>... you didn't expect to be so close, did you :)</p>\n"}], "owner": {"reputation": 1454, "user_id": 3667450, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/738e0d1c296674d8e2846549dbe202ff?s=128&d=identicon&r=PG&f=1", "display_name": "shane", "link": "https://stackoverflow.com/users/3667450/shane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 41028199, "answer_count": 1, "score": 8, "last_activity_date": 1481148189, "creation_date": 1481148065, "question_id": 41028171, "link": "https://stackoverflow.com/questions/41028171/c-expand-parameter-pack-to-tuple-of-arrays", "title": "C++ expand parameter pack to tuple of arrays", "body": "<p>I would like to instantiate a class <em>like</em></p>\n\n<pre><code>template&lt;typename ...Args&gt;\nclass X {\nprivate:\n    std::tuple&lt;std::array&lt;Arg0, 255&gt;, std::array&lt;Arg1, 255&gt;, ...&gt; m_tuples; // For Arg in Args\n}\n</code></pre>\n\n<p>I know this is not correct C++, but how could I achieve the effect of expanding the parameter pack template of the class to the arrays held within the tuple?</p>\n"}, {"tags": ["c++", "qt", "sqlite", "qradiobutton"], "comments": [{"owner": {"reputation": 7466, "user_id": 2146682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7120fc7548c43237662da906e3c84f43?s=128&d=identicon&r=PG", "display_name": "MrEricSir", "link": "https://stackoverflow.com/users/2146682/mrericsir"}, "edited": false, "score": 1, "creation_date": 1481148603, "post_id": 41028127, "comment_id": 69264014, "body": "Not sure what the problem is here exactly, but you should read up on using prepared queries. It may not matter in this particular use case, but building SQL queries through string concatenation is not a good practice."}, {"owner": {"reputation": 2385, "user_id": 1009270, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/33fcdc9c0604cf69abb15e17840d2a3c?s=128&d=identicon&r=PG", "display_name": "john elemans", "link": "https://stackoverflow.com/users/1009270/john-elemans"}, "edited": false, "score": 0, "creation_date": 1481176286, "post_id": 41028127, "comment_id": 69272529, "body": "You need to tell us what data types you used in your database for those fields. But also MrEricSir is correct about your prepare statements."}], "answers": [{"tags": [], "owner": {"reputation": 662, "user_id": 6242825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f70eeac5c04154fa5cbe5e46e7a836?s=128&d=identicon&r=PG&f=1", "display_name": "DowntownDev", "link": "https://stackoverflow.com/users/6242825/downtowndev"}, "is_accepted": false, "score": 0, "last_activity_date": 1481187584, "creation_date": 1481187584, "answer_id": 41035415, "question_id": 41028127, "link": "https://stackoverflow.com/questions/41028127/how-do-i-insert-radiobutton-values-in-sqlite-database-using-qt/41035415#41035415", "title": "How do I insert radiobutton values in SQLite database using Qt?", "body": "<p>As some people have commented it appears the issue is in the prepared statements.  The first prepared statement does not need to be a prepared statement, because you don't use any c++ variables in the query.  Try rewriting the first query like this, and leave out the first  myqry.prepare.</p>\n\n<pre><code>if(!myqry.exec(\"CREATE TABLE IF NOT EXISTS Lifestyle (Drinking VARCHAR(15), \"\n              \"Exercise VARCHAR(15), Smoking VARCHAR(10), Diet VARCHAR(10)) \"))\n</code></pre>\n\n<p>The second query should use a prepared statement.  Qt supports several methods for binding to prepared statements (see <a href=\"http://doc.qt.io/qt-5/qsqlquery.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/qsqlquery.html</a>).  The way I recommend is the following:</p>\n\n<pre><code>myqry.prepare(\"INSERT INTO Lifestyle(Drinking, Exercise, Smoking, Diet) \"\n              \"values(:drink,:exercise,:smoke,:diet)\");\nmyqry.bindValue(\":drink\",drinking);\nmyqry.bindValue(\":exercise\",exercise);\nmyqry.bindValue(\":smoke\",smoking);\nmyqry.bindValue(\":diet\",diet);\n</code></pre>\n\n<p>Then you can call myqry.exec() and continue on with the program.</p>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 6242825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1f70eeac5c04154fa5cbe5e46e7a836?s=128&d=identicon&r=PG&f=1", "display_name": "DowntownDev", "link": "https://stackoverflow.com/users/6242825/downtowndev"}, "is_accepted": false, "score": 0, "last_activity_date": 1481230675, "creation_date": 1481230675, "answer_id": 41048678, "question_id": 41028127, "link": "https://stackoverflow.com/questions/41028127/how-do-i-insert-radiobutton-values-in-sqlite-database-using-qt/41048678#41048678", "title": "How do I insert radiobutton values in SQLite database using Qt?", "body": "<p>If you only want the checked radio buttons, use the isChecked() method.</p>\n\n<pre><code>QString drinking = \"\";\nQString exercise = \"\";\nQString smoking = \"\";\nQString diet = \"\";\n\nif (ui-&gt;radioButton_1-&gt;isChecked()) {\n  drinking = ui-&gt;radioButton_1-&gt;text();\n}\n\nif (ui-&gt;radioButton_5-&gt;isChecked()) {\n  exercise = ui-&gt;radioButton_5-&gt;text();\n}\n\nif (ui-&gt;radioButton_7-&gt;isChecked()) {\n  smoking = ui-&gt;radioButton_7-&gt;text();\n}\n\nif (ui-&gt;radioButton_8-&gt;isChecked()) {\n  diet = ui-&gt;radioButton_8-&gt;text();\n}\n\nmyqry.prepare(\"INSERT INTO Lifestyle(Drinking, Exercise, Smoking, Diet) \"\n              \"values(:drink,:exercise,:smoke,:diet)\");\nmyqry.bindValue(\":drink\",drinking);\nmyqry.bindValue(\":exercise\",exercise);\nmyqry.bindValue(\":smoke\",smoking);\nmyqry.bindValue(\":diet\",diet);\nmyqry.exec();\n</code></pre>\n\n<p>I don't know much about your application, but if multiple radio buttons can be selected, it might make more sense for you to use QCheckBox instead of radio buttons.  The methods (functions) used here are the same for radio buttons and check boxes.</p>\n"}], "owner": {"reputation": 11, "user_id": 4192248, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000590083144/picture?type=large", "display_name": "Aniq Aiman", "link": "https://stackoverflow.com/users/4192248/aniq-aiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 268, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481263502, "creation_date": 1481147902, "last_edit_date": 1481263502, "question_id": 41028127, "link": "https://stackoverflow.com/questions/41028127/how-do-i-insert-radiobutton-values-in-sqlite-database-using-qt", "title": "How do I insert radiobutton values in SQLite database using Qt?", "body": "<p>I am very new to programming.\nI wanted to insert the values of my radiobutton into SQLite database\nbut still doesn't found the right way to do it.\nThe program consist 9 radiobutton, which is 1-3,4-5,6-7 and 8-9 in 4 different grouping/layout.\nThank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3mejr.png\" rel=\"nofollow noreferrer\">enter image description here</a>,</p>\n\n<pre><code>   void lifestyle::on_pushButton_3_clicked()\n   {\n       QSqlQuery myqry;\n\n       myqry.prepare(\"CREATE TABLE IF NOT EXISTS Lifestyle (Drinking VARCHAR(15), \"\n                  \"Exercise VARCHAR(15), Smoking VARCHAR(10), Diet VARCHAR(10)) \");\n            if(!myqry.exec())\n            qDebug()&lt;&lt;myqry.lastError();\n       else\n            qDebug()&lt;&lt;\"Table Created!\";\n\n       QString drinking= ui-&gt;radioButton_1-&gt;text();\n       QString exercise = ui-&gt;radioButton_5-&gt;text();\n       QString smoking = ui-&gt;radioButton_7-&gt;text();\n       QString diet = ui-&gt;radioButton_8-&gt;text();\n\n       myqry.prepare(\"INSERT INTO Lifestyle(Drinking, Exercise, Smoking, Diet) \"\n                  \"values('\"+drinking+\"','\"+exercise+\"','\"+smoking+\"','\"+diet+\"')\");\n\n       if(myqry.exec()){\n        ui-&gt;labelstat-&gt;setText(\"The information has been saved\");\n\n       }\n       else{\n        ui-&gt;labelstat-&gt;setText(\"Information failed to saved\");\n\n   }\n   }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1481147731, "post_id": 41028038, "comment_id": 69263617, "body": "my innocent guess (not really familiar with c++11 and beyond) is that <code>[]</code> looks like you wanted to declare a lambda. e.g. <code>[x]</code> as part of a lambda means: capture x by value. Try <code>{}</code> instead, or <code>{{}}</code> or whatever is correct ;) I am really no expert on initializer list"}, {"owner": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "edited": false, "score": 1, "creation_date": 1481147870, "post_id": 41028038, "comment_id": 69263674, "body": "Your compiler things you are declaring a lambda function. What is the definition of NexTouch? And if it was, say an array of pointers of, toy should use aggregate initialization: <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/aggregate_initialization</a>"}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 4, "creation_date": 1481148032, "post_id": 41028038, "comment_id": 69263746, "body": "Instead of guessing about syntax I suggest picking up a <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">good book on C++</a>."}, {"owner": {"reputation": 1815, "user_id": 501717, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3f0d72b2985548b1edee590037362569?s=128&d=identicon&r=PG", "display_name": "Bascy", "link": "https://stackoverflow.com/users/501717/bascy"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1481148154, "post_id": 41028038, "comment_id": 69263804, "body": "@CaptainObvlious Thanks for your very constructive comment"}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1481148922, "post_id": 41028038, "comment_id": 69264164, "body": "<code>nex_listen_list</code> is not a dynamic array, you probably want a <code>std::vector&lt;NexTouch*&gt;</code>. The way this is set up though, if your object is moved or copied you will be left with a bunch of references, either dangling or into another object."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481148924, "post_id": 41028038, "comment_id": 69264165, "body": "Bascy, refrain from moving the bar on an answered question by changing the question to match the answer&#39;s suggestion. Instead ask a new question."}], "answers": [{"tags": [], "owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "is_accepted": false, "score": 0, "last_activity_date": 1481149100, "creation_date": 1481149100, "answer_id": 41028401, "question_id": 41028038, "link": "https://stackoverflow.com/questions/41028038/add-reference-to-member-object-to-array-of-pointers/41028401#41028401", "title": "Add reference to member object to array of pointers", "body": "<p>I'd suggest using a <code>std::vector</code>, which is dynamic and knows its size.</p>\n\n<pre><code>class NextionTest : public NextionDisplay {\nprivate:\n  NexText           lblText =   NexText(0,  1, \"t0\");\n  NexButton       btnPage1  =   NexButton(  0,  2,  \"b0\");\n  NexButton       btnPage0  =   NexButton(  1,  1,  \"b0\");\n\n  std::vector&lt;NexTouch*&gt; nex_listen_list = {    \n                &amp;lblText,\n                &amp;btnPage0,  \n                &amp;btnPage1};\n /* rest of class not shown */\n};\n</code></pre>\n\n<p>However this class will behave poorly if copied or moved.  If I did</p>\n\n<pre><code>NextionTest n1;\nauto n2 = n1;\n</code></pre>\n\n<p><code>n2.nex_listen_list</code> will have pointers into the data members of <code>n1</code>, so you should delete the copy and move operations</p>\n\n<pre><code>class NextionTest : public NextionDisplay {\n    NextionTest(const NextionTest&amp;) = delete;\n    NextionTest&amp; operator=(const NextionTest&amp;) = delete\n    //...\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "is_accepted": false, "score": 0, "last_activity_date": 1487340641, "last_edit_date": 1487340641, "creation_date": 1481149337, "answer_id": 41028450, "question_id": 41028038, "link": "https://stackoverflow.com/questions/41028038/add-reference-to-member-object-to-array-of-pointers/41028450#41028450", "title": "Add reference to member object to array of pointers", "body": "<p>You can initialize your array this way:</p>\n\n<pre><code>NexTouch* nex_listen_list[4] = {\n    &amp;lblText,\n    &amp;btnPage0,\n    &amp;btnPage1,\n    nullptr\n};\n</code></pre>\n\n<p>However, this defines a fixed size array, and it seems from seeing the \"null-termination\" that your intent is to have a dynamic array that grows/shrinks and is always terminated by <code>nullptr</code> similarly to strings. In this case, it is better to use <code>std::vector</code>:</p>\n\n<pre><code>std::vector&lt;NexTouch*&gt; nex_listen_list = {\n    &amp;lblText,\n    &amp;btnPage0,\n    &amp;btnPage1,\n    nullptr\n};\n</code></pre>\n\n<p>The nullptr-termination is usually not needed, but depends on what you want to do with the array. If you will send it to some API that takes an old-style array you can use <code>nex_listen_list.data()</code> to retrieve the embedded C-style array.</p>\n"}], "owner": {"reputation": 1815, "user_id": 501717, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3f0d72b2985548b1edee590037362569?s=128&d=identicon&r=PG", "display_name": "Bascy", "link": "https://stackoverflow.com/users/501717/bascy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1536570996, "creation_date": 1481147510, "last_edit_date": 1536570996, "question_id": 41028038, "link": "https://stackoverflow.com/questions/41028038/add-reference-to-member-object-to-array-of-pointers", "title": "Add reference to member object to array of pointers", "body": "<p>I have a class with some private members containing objects and a dynamic array of pointers which i want to fill with pointers to some of those member object. </p>\n\n<pre><code>class NextionTest : public NextionDisplay {\nprivate:\n  NexText           lblText =   NexText(0,  1, \"t0\");\n  NexButton       btnPage1  =   NexButton(  0,  2,  \"b0\");\n  NexButton       btnPage0  =   NexButton(  1,  1,  \"b0\");\n\n  NexTouch *nex_listen_list = [    \n                &amp;lblText,\n                &amp;btnPage0,  \n                &amp;btnPage1,\n                NULL \n  ];\n /* rest of class not shown */\n};\n</code></pre>\n\n<p>The above code result in this error: </p>\n\n<blockquote>\n  <p>capture of non-variable 'NextionTest::lblText' \n       &amp;lblText,</p>\n</blockquote>\n\n<p>I tried to move the initialization of the nex_listen_list to a init method but this gives the same result.\nI have no idea what a capture is.. but seems i'm doing something wrong.\nHow to solve this?</p>\n"}, {"tags": ["c++", "static"], "comments": [{"owner": {"reputation": 12097, "user_id": 1080064, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/100000753306178/picture?type=large", "display_name": "tkausl", "link": "https://stackoverflow.com/users/1080064/tkausl"}, "edited": false, "score": 0, "creation_date": 1481146969, "post_id": 41027875, "comment_id": 69263227, "body": "There is no <code>this</code> in static methods (I assume this method is static)."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 1, "creation_date": 1481146992, "post_id": 41027875, "comment_id": 69263236, "body": "noone said it was a static method. It just returns a static variable."}, {"owner": {"reputation": 91, "user_id": 4515362, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RFzf5.jpg?s=128&g=1", "display_name": "malocho", "link": "https://stackoverflow.com/users/4515362/malocho"}, "edited": false, "score": 0, "creation_date": 1481147992, "post_id": 41027875, "comment_id": 69263730, "body": "pardon, I forgot to add, this method is static"}], "answers": [{"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 2, "last_activity_date": 1481150326, "last_edit_date": 1481150326, "creation_date": 1481147158, "answer_id": 41027951, "question_id": 41027875, "link": "https://stackoverflow.com/questions/41027875/c-difference-between-this-and-static-class-name/41027951#41027951", "title": "c++ / difference between this and static class name", "body": "<p>If the method is static, <code>this</code> is not implicitly defined, so the question doesn't apply.</p>\n\n<p>On the other hand, if the method is a non-static member there's a huge difference.</p>\n\n<pre><code>Cl&amp; Cl::getInstance()\n{\n    static Cl instance;\n    return instance;\n}\n</code></pre>\n\n<p>here you always return the same instance even called from several instances of the same class: a <em>singleton</em> (Misleading as the returned instance has nothing to do with the caller instance)</p>\n\n<pre><code>Cl&amp; Cl::getInstance()\n{\n    return *this;\n}\n</code></pre>\n\n<p>above, you're returning the current instance (not of great interest...)</p>\n\n<p>EDIT: maybe your question is related to the <a href=\"http://www.oodesign.com/singleton-pattern.html\" rel=\"nofollow noreferrer\">singleton design pattern</a> where no object can obtain a valid <code>Cl</code> object without using <code>getInstance()</code> because the constructor is private, and in that case, the interest is that it returns the same instance for every caller:</p>\n\n<pre><code>Cl&amp; Cl::getInstance()   // static method\n{\n    static Cl instance;  // constructor is private, only can be called from here\n    return instance;\n}\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 4515362, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RFzf5.jpg?s=128&g=1", "display_name": "malocho", "link": "https://stackoverflow.com/users/4515362/malocho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 41027951, "answer_count": 1, "score": -3, "last_activity_date": 1481150326, "creation_date": 1481146837, "last_edit_date": 1481148037, "question_id": 41027875, "link": "https://stackoverflow.com/questions/41027875/c-difference-between-this-and-static-class-name", "title": "c++ / difference between this and static class name", "body": "<p>One question according this code </p>\n\n<pre><code>Cl&amp; Cl::getInstance()\n{\n    static Cl instance;\n    return instance;\n}\n</code></pre>\n\n<p>What do I achieve through this code and which difference would be if I would return <code>this</code>.</p>\n\n<p>*this method is static</p>\n"}, {"tags": ["c++", "class", "constructor", "sfinae"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1481147431, "post_id": 41027701, "comment_id": 69263466, "body": "&quot;<code>A_t</code> is deducible with that syntax&quot; - <a href=\"http://coliru.stacked-crooked.com/a/ef8e660b39987927\" rel=\"nofollow noreferrer\">apparently clang disagrees with you</a>. I&#39;d have to think about why (in a meeting and supposed to be paying attention =P)."}], "answers": [{"tags": [], "owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "is_accepted": true, "score": 1, "last_activity_date": 1481371623, "last_edit_date": 1592644375, "creation_date": 1481371623, "answer_id": 41075328, "question_id": 41027701, "link": "https://stackoverflow.com/questions/41027701/sfinae-for-constructor-parameters/41075328#41075328", "title": "SFINAE for constructor parameters", "body": "<p>My best gloss of the thinking behind your question is:</p>\n<p>For a given instantiating type <code>U</code> =&gt; <code>A_t</code>, if the conversion\n<code>U(int)</code> is undefined then the substitution <code>U(int)</code> =&gt; <code>A_t(int)</code>\nwill fail in the context <code>decltype(A_t(int()))</code> and the specialization:</p>\n<pre><code>template&lt;class A_t&gt;\nstruct creator&lt;decltype(A_t(int()))&gt;\n{\n    A_t* ptr = new A_t(5);\n};\n</code></pre>\n<p>will be eliminated, leaving only the base template instantiation. But if the\nconversion <code>U(int)</code> is defined that substitution will succeed.</p>\n<p>Then, because:</p>\n<pre><code>std::is_same&lt;U,decltype(U(int()))&gt;::value == true\n</code></pre>\n<p>both candidates:</p>\n<pre><code>// Tweedledum, with of U =&gt; A_t\nstruct creator&lt;U&gt;\n{\n    U* ptr = nullptr;\n};\n</code></pre>\n<p>and:</p>\n<pre><code>// Tweedledee, with U =&gt; decltype(A_t(int()))\nstruct creator&lt;U&gt;\n{\n    U* ptr = new U(5);\n};\n</code></pre>\n<p>are in the running.</p>\n<p>Then, the <em>most specialized</em> candidate will be chosen, which will be <code>Tweedledee</code>,\nbecause satisfying <code>U</code> =&gt; <code>decltype(A_t(int()))</code> constrains <code>U</code> more precisely than\nthe bare <code>U =&gt; A_t</code>.</p>\n<p>This reasoning relies implicitly on it being <em>deducible</em> for <code>Teedledee</code> that <code>U</code> = <code>decltype(A_t(int()))</code> when <code>U</code> =&gt; <code>A_t</code>;\nwhich boils down to it being deducible that <code>U(int)</code> = <code>A_t(int)</code> in the sole template argument <code>decltype(A_t(int()))</code>.</p>\n<p>You believe that is so and then wonder how gcc can pick <code>Tweedledum</code>.</p>\n<p>As @WhozCraig pointed out, clang++ expressly rejects your deducibility premiss:-</p>\n<pre><code>$ clang++-3.8 -Wall -Wextra -pedantic -std=c++14 main.cpp\nmain.cpp:10:8: warning: class template partial specialization contains a template parameter that cannot be deduced; this partial specialization will never be used\nstruct creator&lt;decltype(A_t(int()))&gt;\n       ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmain.cpp:9:16: note: non-deducible template parameter 'A_t'\ntemplate&lt;class A_t&gt;\n               ^\n</code></pre>\n<p><a href=\"http://rextester.com/EFIRA27724\" rel=\"nofollow noreferrer\">So does MSVC++</a>.</p>\n<p>And it turns out that gcc has been induced into a diagnostic lapse here by\nthe unlucky phrasing of your SFINAE locution, <code>decltype(A_t(int()))</code></p>\n<p>If you replace that with <code>decltype(A_t{int()})</code>, then gcc also <a href=\"http://coliru.stacked-crooked.com/a/b9200ca3c4784551\" rel=\"nofollow noreferrer\">gets with the program</a>:</p>\n<pre><code>$ g++-6 -Wall -Wextra -pedantic -std=c++14 main.cpp\nmain.cpp:10:8: error: template parameters not deducible in partial specialization:\n struct creator&lt;decltype(A_t{int()})&gt;\n        ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nmain.cpp:10:8: note:         \u2018A_t\u2019\n</code></pre>\n<p>After that, clang++ is the only compiler of the three that will\ncompile the program at all - and instantiates <code>creator&lt;A&gt;</code> from the base template.</p>\n<p>This eventual consensus that <code>A_t</code> is <em>not</em> deducible in <code>decltype(A_t{int()})</code>\nis endorsed by the C++14 Standard:</p>\n<blockquote>\n<p>Deducing template arguments from a type        [temp.deduct.type]</p>\n<p>1 Template arguments can be deduced in several different contexts, but in each case\na type that is specified in terms of template parameters (call it P) is compared\nwith an actual type (call it A), and an attempt is made to find template argument\nvalues (a type for a type parameter, a value for a non-type parameter, or a\ntemplate for a template parameter) that will make P, after substitution of the\ndeduced values (call it the deduced A), compatible with A.</p>\n<p>...</p>\n<p>4 In most cases, the types, templates, and non-type values that are used to compose\nP participate in template argument deduction... In certain contexts, however,\nthe value does not participate in type deduction, but instead uses the values\nof template arguments that were either deduced elsewhere or explicitly specified.\nIf a template parameter is used only in non-deduced contexts and is not explicitly\nspecified, template argument deduction fails.</p>\n<p>5 The non-deduced contexts are:</p>\n<p>...</p>\n<p>(5.2) - The expression of a decltype-specifier.</p>\n<p>...</p>\n</blockquote>\n<p>Para 4 also explains why your second approach succeeds.</p>\n"}], "owner": {"reputation": 9157, "user_id": 1794803, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f3b30f8ee9338ee3d87152343ceb0665?s=128&d=identicon&r=PG", "display_name": "Peregring-lk", "link": "https://stackoverflow.com/users/1794803/peregring-lk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "accepted_answer_id": 41075328, "answer_count": 1, "score": 2, "last_activity_date": 1481371623, "creation_date": 1481146127, "last_edit_date": 1481151756, "question_id": 41027701, "link": "https://stackoverflow.com/questions/41027701/sfinae-for-constructor-parameters", "title": "SFINAE for constructor parameters", "body": "<p>I'm trying to create a sample class which has different specializations according to whether its template parameter can be constructed with certain parameters. In my sample, with a simple <code>int</code>. I've tried with:</p>\n\n<pre><code>template&lt;class A_t&gt;\nstruct creator\n{\n    A_t* ptr = nullptr;\n};\n\ntemplate&lt;class A_t&gt;\nstruct creator&lt;decltype(A_t(int()))&gt;\n{\n    A_t* ptr = new A_t(5);\n};\n\nstruct A\n{\n    int i;\n\n    A(int i) : i(i) {}\n};\n\nint main() {\n    std::cout &lt;&lt; creator&lt;A&gt;().ptr &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>My intention is that it prints a memory address of a automatically constructed object. However, it is printing a 0. So, it's taking the non-specialized template.</p>\n\n<p><code>A_t</code> is deducible with that syntax, among other things because <code>A_t</code> is given explicitly. Besides, <code>decltype(A_t(int())</code> has type <code>A_t</code> (and not <code>A_t&amp;&amp;</code> for example), a simple test:</p>\n\n<pre><code>std::cout &lt;&lt; std::is_same&lt;decltype(A(int()), A&gt;::value &lt;&lt; std::endl;\n</code></pre>\n\n<p>prints 1.</p>\n\n<p>However, that implementation works:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate&lt;class A_t, class = A_t&gt;\nstruct creator\n{\n    A_t* ptr = nullptr;\n};\n\ntemplate&lt;class A_t&gt;\nstruct creator&lt;A_t, decltype(A_t(int()))&gt;\n{\n    A_t* ptr = new A_t(5);\n};\n\nstruct A\n{\n    int i;\n\n    A(int i) : i(i) {}\n};\n\nint main() {\n    std::cout &lt;&lt; creator&lt;A&gt;().ptr &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/d3bfa27026028b2e\" rel=\"nofollow noreferrer\">Coliru</a> test with two classes, one accepting an <code>int</code> as parameter, and other which doesn't.</p>\n\n<p>Why is the first approach not working?</p>\n"}, {"tags": ["android", "c++", "opengl-es"], "comments": [{"owner": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 0, "creation_date": 1481146572, "post_id": 41027691, "comment_id": 69263017, "body": "Just throwing in a curveball. How about Qt Android"}, {"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "reply_to_user": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 0, "creation_date": 1481146989, "post_id": 41027691, "comment_id": 69263234, "body": "It hasn&#39;t a free commercial license,unfortunetaly, as I know."}, {"owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "reply_to_user": {"reputation": 2676, "user_id": 4187541, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bef02774dcdbacad792e3b7850710bcc?s=128&d=identicon&r=PG", "display_name": "peterchaula", "link": "https://stackoverflow.com/users/4187541/peterchaula"}, "edited": false, "score": 0, "creation_date": 1481147135, "post_id": 41027691, "comment_id": 69263325, "body": "@Laser, sorry, I bad know English... <code>Just throwing in a curveball.</code> Is it mean a <code>difficult problem</code>?"}], "owner": {"reputation": 5795, "user_id": 3253896, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fa6d2f73d0c32ee94e11661d94857fc8?s=128&d=identicon&r=PG", "display_name": "\u0428\u0430\u0445", "link": "https://stackoverflow.com/users/3253896/%d0%a8%d0%b0%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481146083, "creation_date": 1481146083, "question_id": 41027691, "link": "https://stackoverflow.com/questions/41027691/difficult-gui-for-the-native-opengl-es-redererer", "title": "Difficult GUI for the native OpenGL ES redererer", "body": "<p>I need to write a simple model editor. But it will require a difficult GUI including GUI in the world space.<br>\nSo, I think it's a very bad idea to draw GUI over a C++ render in Java. But OpenGL has very low-level for this purpose.<br>\nI think it has some solutions already. But I can't find.<br>\nWho knows some native GUI libraries for Android GL ES? Or maybe I need to think in another way.</p>\n"}, {"tags": ["c++", "opencv", "vector"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1481145830, "post_id": 41027593, "comment_id": 69262665, "body": "Don&#39;t erase this way.  Just use the erase / remove_if idiom."}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1481146468, "post_id": 41027593, "comment_id": 69262965, "body": "^^ but if you thought adding <code>i -= 1</code> more simply <code>--i</code> in your if would work, why didn&#39;t you just try that? Also, while it&#39;s not an issue here, remember that if you loop based on a fixed iterator like <code>std::vector::end</code>, and you modify the size of the vector without updating the end iterator, it will result in UB."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1481146502, "post_id": 41027593, "comment_id": 69262978, "body": "Some advice -- if you find yourself writing loops that seem as if they&#39;ve been written a thousand times before by someone else, chances are is that there is an STL algorithm or set of algorithm functions that do the job.  In your case, erasing items from a sequence container is one of those things that has been dome millions of times before, thus we have algorithms that cover this scenario (std::remove_if)"}, {"owner": {"reputation": 820, "user_id": 2004519, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/18255d33f6725ad26247f0dc44d4a050?s=128&d=identicon&r=PG&f=1", "display_name": "DrTarr", "link": "https://stackoverflow.com/users/2004519/drtarr"}, "edited": false, "score": 0, "creation_date": 1481148643, "post_id": 41027593, "comment_id": 69264026, "body": "Excellent responses guys, the erase-remove idiom was my final solution and had a pretty significant difference in performance.  @Paul-- You&#39;re right, I figured there was something in the STL algorithm but I just had trouble nailing down the one I needed and knew I&#39;d get a pretty straight response here quick, and sure enough I did."}], "answers": [{"tags": [], "owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "is_accepted": false, "score": 3, "last_activity_date": 1481146121, "creation_date": 1481146121, "answer_id": 41027699, "question_id": 41027593, "link": "https://stackoverflow.com/questions/41027593/erasing-indices-of-stdvector-inside-a-for-loop-based-on-vector-size/41027699#41027699", "title": "Erasing indices of std::vector inside a for loop based on vector size", "body": "<p>Use the erase-remove idiom:</p>\n\n<pre><code>contours.erase(\n  std::remove_if(contours.begin(), contours.end(), [](const std::vector&lt;cv::Point&gt;&amp; v){\n    return v.size() &lt; 5;\n  }),\n  contours.end()\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17902, "user_id": 116273, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/cc60634738ece15d1de4738110c76aa8?s=128&d=identicon&r=PG", "display_name": "erenon", "link": "https://stackoverflow.com/users/116273/erenon"}, "edited": false, "score": 0, "creation_date": 1481146542, "post_id": 41027766, "comment_id": 69262998, "body": "You might be missing a the second argument of <code>erase</code> in the second code block."}, {"owner": {"reputation": 820, "user_id": 2004519, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/18255d33f6725ad26247f0dc44d4a050?s=128&d=identicon&r=PG&f=1", "display_name": "DrTarr", "link": "https://stackoverflow.com/users/2004519/drtarr"}, "edited": false, "score": 0, "creation_date": 1481148700, "post_id": 41027766, "comment_id": 69264057, "body": "I tried a few of the solutions and the erase-remove idiom provided the best performance.  Thank you for the detailed answer!"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 3, "last_activity_date": 1481147047, "last_edit_date": 1481147047, "creation_date": 1481146357, "answer_id": 41027766, "question_id": 41027593, "link": "https://stackoverflow.com/questions/41027593/erasing-indices-of-stdvector-inside-a-for-loop-based-on-vector-size/41027766#41027766", "title": "Erasing indices of std::vector inside a for loop based on vector size", "body": "<p>Each time you <code>erase()</code> an element from a container, its <code>size()</code> decrements, and the indexes of the remaining elements are decremented as well.  But you are incrementing your loop counter unconditionally, so every time you erase an element, you <em>skip</em> the next element that had followed it!</p>\n\n<p>Also, you are passing your <code>vector</code> by-value, so you are operating on a <em>copy</em> of the <code>vector</code>, and the caller will not see any changes in the original <code>vector</code>.</p>\n\n<p>The correct approach would be to either:</p>\n\n<ol>\n<li><p>increment your index variable inside of the loop body only when an element is NOT erased.  Leave the variable as-is when you DO erase an element:</p>\n\n<pre><code>void FilterContours( std::vector&lt;std::vector&lt;cv::Point&gt;&gt; &amp;contours )\n{\n    int i = 0;\n    while ( i &lt; contours.size() ) {\n        if ( contours[i].size() &lt; 5 ) {\n            contours.erase(contours.begin() + i);\n            continue;\n        }\n\n        //Other filtering...\n\n        ++i;\n    }\n}\n</code></pre></li>\n<li><p>use iterators instead of indexes:</p>\n\n<pre><code>void FilterContours( std::vector&lt;std::vector&lt;cv::Point&gt;&gt; &amp;contours )\n{\n    auto it = contours.begin();\n    while ( it != contours.end() ) {\n        if ( it-&gt;size() &lt; 5 ) {\n            it = contours.erase(it);\n            continue;\n        }\n\n        //Other filtering...\n\n        ++it;\n    }\n}\n</code></pre></li>\n<li><p>use the <a href=\"https://en.wikipedia.org/wiki/Erase%E2%80%93remove_idiom\" rel=\"nofollow noreferrer\">erase-remove</a> idiom:</p>\n\n<pre><code>void FilterContours( std::vector&lt;std::vector&lt;cv::Point&gt;&gt; &amp;contours )\n{\n    contours.erase(\n        std:::remove_if(\n            contours.begin(),\n            contours.end(),\n            [](const std::vector&lt;cv::Point&gt; &amp;v)\n            {\n                if (v.size() &lt; 5) return true; \n                //Other filtering...\n                return false;\n            }\n        ),\n        contours.end()\n    );\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1481147139, "last_edit_date": 1481147139, "creation_date": 1481146675, "answer_id": 41027835, "question_id": 41027593, "link": "https://stackoverflow.com/questions/41027593/erasing-indices-of-stdvector-inside-a-for-loop-based-on-vector-size/41027835#41027835", "title": "Erasing indices of std::vector inside a for loop based on vector size", "body": "<p>In general, when you iterate for removing, it is always better to iterate <strong>backwards</strong>:</p>\n\n<pre><code>for ( int i = contours.size()-1; i &gt;=0; --i)\n</code></pre>\n\n<p>This will work but it results in slow code, because at each removal, the elements behind the removal will be copied/shifted back. For this reason, it is better, faster and more readable to use the dedicated idioms provided by the standard algorithm library, which are usually very optimized. In this case you have the <code>erase/remove_if</code> combination:</p>\n\n<pre><code>contours.erase(std::remove_if(contours.begin(), contours.end(), [](const auto&amp; elem) { return elem.size() &lt; 5; }), contours.end() );\n</code></pre>\n\n<p>A big advantage here is that <code>std::remove_if()</code> acts in a smarter way than the intuitive loop: it first \"marks\" the elements to remove, and then it compacts the remaining elements together. This process is O(N), while the (intuitive) loop is O(N^2), a huge difference for big vectors.</p>\n\n<p>p.s.: the signature of your <code>FilterContours</code> function to take the vector by reference:</p>\n\n<pre><code>void FilterContours( std::vector&lt;std::vector&lt;cv::Point&gt;&gt;&amp; contours ) // &lt;-- by reference\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "is_accepted": false, "score": 1, "last_activity_date": 1481147288, "last_edit_date": 1481147288, "creation_date": 1481146801, "answer_id": 41027868, "question_id": 41027593, "link": "https://stackoverflow.com/questions/41027593/erasing-indices-of-stdvector-inside-a-for-loop-based-on-vector-size/41027868#41027868", "title": "Erasing indices of std::vector inside a for loop based on vector size", "body": "<p>Your <code>FilterContours</code> should take a reference, otherwise it won't have any impact on the caller.</p>\n\n<pre><code>void FilterContours(std::vector&lt;std::vector&lt;cv::Point&gt;&gt;&amp; contours)\n{\n    for (auto it = contours.begin(); it != contours.end(); )\n    {\n        if (it-&gt;size() &lt; 5)\n            it = contours.erase(it);\n        else\n            ++it;\n    }\n}\n</code></pre>\n\n<p><em>Edit:</em>\nIf you want to do it in the reverse order you could do:</p>\n\n<pre><code>void FilterContours_reverse(std::vector&lt;std::vector&lt;cv::Point&gt;&gt;&amp; contours)\n{\n    for (auto it = contours.rbegin(); it != contours.rend(); )\n    {\n        if (it-&gt;size() &lt; 5)\n            contours.erase(std::next(it++).base());\n        else\n            ++it;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 820, "user_id": 2004519, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/18255d33f6725ad26247f0dc44d4a050?s=128&d=identicon&r=PG&f=1", "display_name": "DrTarr", "link": "https://stackoverflow.com/users/2004519/drtarr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 0, "accepted_answer_id": 41027766, "answer_count": 4, "score": 2, "last_activity_date": 1481147288, "creation_date": 1481145696, "question_id": 41027593, "link": "https://stackoverflow.com/questions/41027593/erasing-indices-of-stdvector-inside-a-for-loop-based-on-vector-size", "title": "Erasing indices of std::vector inside a for loop based on vector size", "body": "<p>I've created a function to filter out the elements I don't like in a std::vector, in this case a vector of opencv contours.  The code below looks like it would work, however it does not and I suspect it is because the indices are changed whenever I erase the indices, however I continue to the next i value iteration.</p>\n\n<pre><code>void FilterContours( std::vector&lt;std::vector&lt;cv::Point&gt;&gt; contours )\n{\n    for ( int i = 0; i &lt; contours.size(); i++ ) {\n\n        //Remove contours smaller than 5 from vector - example\n        if ( contours[i].size() &lt; 5 ) {\n            contours.erase(contours.begin() + i);\n            continue;\n        }\n\n        //Other filtering...\n    }\n    return;\n}\n</code></pre>\n\n<p>So the question is, would this work as intended (I don't think it does), and if not, how do I make it work as intended?  Should I add a i -= 1 after the erase to maintain the correct index position?</p>\n"}, {"tags": ["c++", "matlab", "methods", "simulink", "legacy-code"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7264460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15abb5a06ca084d89e475c39c9dad100?s=128&d=identicon&r=PG", "display_name": "RaEyE", "link": "https://stackoverflow.com/users/7264460/raeye"}, "edited": false, "score": 0, "creation_date": 1481278268, "post_id": 41049835, "comment_id": 69322446, "body": "Link to the corresponding Matlab Documentation: <a href=\"http://de.mathworks.com/help/simulink/sfg/integrating-existing-c-functions-into-simulink-models-with-the-legacy-code-tool.html\" rel=\"nofollow noreferrer\">de.mathworks.com/help/simulink/sfg/&hellip;</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 7264460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15abb5a06ca084d89e475c39c9dad100?s=128&d=identicon&r=PG", "display_name": "RaEyE", "link": "https://stackoverflow.com/users/7264460/raeye"}, "is_accepted": true, "score": 1, "last_activity_date": 1481235543, "creation_date": 1481235543, "answer_id": 41049835, "question_id": 41027587, "link": "https://stackoverflow.com/questions/41027587/matlab-legacy-code-tool-writing-a-wrapper-functio-to-catch-an-array/41049835#41049835", "title": "Matlab legacy_code Tool - Writing a wrapper functio to catch an array", "body": "<p>Ok, looks like I found a Solution to my problem.</p>\n\n<p>As a wrapper function its possible to use the following pattern</p>\n\n<pre><code>void myfunc(double u1, double u2, double u3, double *y1, double *y2)\n{\n    *y1=u1;\n    *y2=(u2+u3)/2;\n}\n</code></pre>\n\n<p>This wrapper function the is then interfaced by the Legacy Code Tool (LCT) as followed:</p>\n\n<pre><code>def = legacy_code('initialize')\ndef.OutputFcnSpec = 'void myfunc(double u1, double u2, double u3, double y1[1], double y2[1])'\n</code></pre>\n\n<p>Simple as that. On C/C++ code use pointer nomenclature / syntax, on Matlab use array nomenclature / syntax.</p>\n\n<p>I hope, this will help some people like me who need a solution to interface with legacy code which should not only accept multiple inputs, but multiple outputs as well.</p>\n\n<p>In hindsight the option tuuse pointers is pretty obvious, but if you don't knoe how to teach your LCT how to interface with it, it easily becomes an tiring task.</p>\n"}], "owner": {"reputation": 11, "user_id": 7264460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15abb5a06ca084d89e475c39c9dad100?s=128&d=identicon&r=PG", "display_name": "RaEyE", "link": "https://stackoverflow.com/users/7264460/raeye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 537, "favorite_count": 0, "accepted_answer_id": 41049835, "answer_count": 1, "score": 0, "last_activity_date": 1481235543, "creation_date": 1481145669, "question_id": 41027587, "link": "https://stackoverflow.com/questions/41027587/matlab-legacy-code-tool-writing-a-wrapper-functio-to-catch-an-array", "title": "Matlab legacy_code Tool - Writing a wrapper functio to catch an array", "body": "<p>currently I'm trying to use a C/C++ Code based Library in Matlab/Simulink by means of the Matlab legacy_code tool. I am very new to this, please have some patience with me.</p>\n\n<p>I stumbled upon the problem, that I got class members which return an array.</p>\n\n<p>What I did upon now is to follow the Matlab legacy-code examples, especially this one:</p>\n\n<p><a href=\"https://de.mathworks.com/help/rtw/examples/calling-c-object-methods-functions-in-simulink.html\" rel=\"nofollow noreferrer\">Integrate External C++ Object Methods</a></p>\n\n<p>As far as I can see, the legacy_code tool demands a wrapper function to be wrapped around a method call, so basicaly I could, within this wrapper function manipulate the return value of the called methad any way necessary. This far no problem.</p>\n\n<p>But, I'm not certain how to receive an array of information from the called method an then pass this array to Matlab/Simulink.</p>\n\n<p>e.g. A method's return value is an pointer pointing at an array of information of which, let us assume, we know the length of valid information it holds.</p>\n\n<pre><code>/* Simple example */\n\nuint8_t* BUS::answerRcvd()\n{\n   static int  r[10];\n   int i;\n\n\n   srand( (unsigned)time( NULL ) );\n\n    for ( i = 0; i &lt; 10; ++i)\n    {\n        r[i] = rand();\n    }\n\n    return r;\n}\n</code></pre>\n\n<p>Is there a way to create a wrapper function for such a method that would receive an array of information and pass it along to matlab?</p>\n\n<p>Might there be a possibility to handle that array as e.g. single values of uint8_t (if way stay with the given example) and pass these like in an ordinary matlab function?</p>\n\n<pre><code>[a,b,c] = function()\n</code></pre>\n\n<p>I'm open to any suggestion, thank you very much in advance.</p>\n"}, {"tags": ["c++", "file", "comments", "token", "space"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1481148030, "post_id": 41027559, "comment_id": 69263742, "body": "Off topic: Save yourself a search: <code>while ((size_t Begin =line.find(&quot;&#47;*&quot;)) != string::npos)</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481148124, "post_id": 41027559, "comment_id": 69263788, "body": "Off topic: What if the block comment does not end on the same line?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1481148275, "post_id": 41027559, "comment_id": 69263857, "body": "And another off topic: Think about what will happen when the program finds the /* in <code>while (line.find(&quot;&#47;*&quot;) != string::npos)</code>."}, {"owner": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481150956, "post_id": 41027559, "comment_id": 69265023, "body": "@user4581301 thank you for responding! Good tip to add that in the while loop. From my understanding, if the comment does not end on the same line this method is still okay. I&#39;m able to remove any comments between * and *\\ . the text in between is removed, correct?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481151620, "post_id": 41027559, "comment_id": 69265304, "body": "Unfortunately no. What will happen if the comment doesn&#39;t end is you will erase the end of the line and then go back to looking for <code>&quot;&#47;*&quot;</code> on the next line, not the closing <code>&quot;*&#47;&quot;</code>. You&#39;re going to need a <a href=\"https://en.wikipedia.org/wiki/Finite-state_machine\" rel=\"nofollow noreferrer\">state machine</a> of sorts to track what sorts of inputs you are looking for and handle them correctly. For example, in <i>Normal</i> state, a <code>&quot;&#47;*&quot;</code> is found. This changes the machine&#39;s state to <i>Block Comment</i>. <i>Block Comment</i> looks for a <code>&quot;*&#47;&quot;</code> and discards everything else. When <code>&quot;*&#47;&quot;</code> is found the machine changes state back to <i>Normal</i>."}, {"owner": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481152819, "post_id": 41027559, "comment_id": 69265790, "body": "Ah okay, I see."}, {"owner": {"reputation": 233613, "user_id": 14065, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e1475012bb1630271c9165899bccd548?s=128&d=identicon&r=PG", "display_name": "Martin York", "link": "https://stackoverflow.com/users/14065/martin-york"}, "edited": false, "score": 0, "creation_date": 1481310201, "post_id": 41027559, "comment_id": 69341416, "body": "There are tools to do this. Look up lex/yacc."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "edited": false, "score": 0, "creation_date": 1481152481, "post_id": 41029012, "comment_id": 69265659, "body": "I understand, this is helpful! Thank you!"}, {"owner": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "edited": false, "score": 0, "creation_date": 1481157273, "post_id": 41029012, "comment_id": 69267266, "body": "<code>line == tagStart</code> only catches for the entire string. When reading a line from the file, line is set to the whole line. So I need to compare part of the string to &quot;/*&quot; or &quot;*/&quot;, using like line[i] + line[i+1], but that brings me to type errors."}, {"owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "reply_to_user": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "edited": false, "score": 0, "creation_date": 1481185508, "post_id": 41029012, "comment_id": 69276889, "body": "Not sure if I understand you correct. To avoid confusion I&#39;ve updated the variable name <code>line</code> to <code>word</code> since this is what it contains (not the file line in general). If you need to handle cases like <code>var&#47;* comment *&#47;var</code> I&#39;ve also updated the function to use <code>std::equal</code>. But as I wrote, this is a general idea and should be adapted to your specific needs. There are probably more details you haven&#39;t shared in the question which would require implementation updates."}], "tags": [], "owner": {"reputation": 1436, "user_id": 4341198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1afe57c0798cf3205c694ee52856fc01?s=128&d=identicon&r=PG&f=1", "display_name": "Dusteh", "link": "https://stackoverflow.com/users/4341198/dusteh"}, "is_accepted": false, "score": 0, "last_activity_date": 1481185114, "last_edit_date": 1481185114, "creation_date": 1481152122, "answer_id": 41029012, "question_id": 41027559, "link": "https://stackoverflow.com/questions/41027559/tokenize-elements-from-a-text-file-by-removing-comments-extra-spaces-and-blank/41029012#41029012", "title": "Tokenize elements from a text file by removing comments, extra spaces and blank lines in C++", "body": "<p>If you need to skip whitespace characters and you don't care about new lines then I'd recommend reading the file with <code>operator&gt;&gt;</code>.\nYou could write simply:</p>\n\n<pre><code>std::string word;\nbool isComment = false;\nwhile(file &gt;&gt; word)\n{\n    if (isInsideComment(word, isComment))\n        continue;\n\n     // do processing of the tokens here\n     std::cout &lt;&lt; word &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Where the helper function could be implemented as follows:</p>\n\n<pre><code>bool isInsideComment(std::string &amp;word, bool &amp;isComment)\n{\n    const std::string tagStart = \"/*\";\n    const std::string tagStop = \"*/\";\n\n    // match start marker\n    if (std::equal(tagStart.rbegin(), tagStart.rend(), word.rbegin())) // ends with tagStart\n    {\n        isComment = true;\n        if (word == tagStart)\n            return true;\n\n        word = word.substr(0, word.find(tagStart));\n        return false;\n    }\n\n    // match end marker\n    if (isComment)\n    {\n        if (std::equal(tagStop.begin(), tagStop.end(), word.begin())) // starts with tagStop\n        {\n            isComment = false;\n            word = word.substr(tagStop.size());\n            return false;\n        }\n\n        return true;\n    }\n\n    return false;\n}\n</code></pre>\n\n<p>For your example this would print out:</p>\n\n<pre><code>var\na1\n,\nb2a\n,\nc,\n</code></pre>\n\n<p>The above logic should also handle multiline comments if you're interested. </p>\n\n<p>However, denote that the function implementation should be modified according to what are your assumptions regarding the comment tokens. For instance, are they always separated with whitespaces from other <code>words</code>? Or is it possible that a <code>var1/*comment*/var2</code> expression would be parsed? The above example won't work in such situation.</p>\n\n<p>Hence, another option would be (what you already started implementing) reading lines or even chunks of data from the file (to assure begin and end comment tokens are matched) and learning positions of the comment markers with find or <a href=\"http://www.cplusplus.com/reference/regex/\" rel=\"nofollow noreferrer\">regex</a> to remove them afterwards.</p>\n"}], "owner": {"reputation": 11, "user_id": 4321888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b5f68dcece83c77f72cdabe67ce6bb5?s=128&d=identicon&r=PG&f=1", "display_name": "music.surrounds", "link": "https://stackoverflow.com/users/4321888/music-surrounds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 361, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481185114, "creation_date": 1481145501, "question_id": 41027559, "link": "https://stackoverflow.com/questions/41027559/tokenize-elements-from-a-text-file-by-removing-comments-extra-spaces-and-blank", "title": "Tokenize elements from a text file by removing comments, extra spaces and blank lines in C++", "body": "<p>I'm trying to eliminate comments, blank lines and extra spaces within a text file, then tokenize the elements leftover. Each token needs a space before and after.</p>\n\n<pre><code>exampleFile.txt\nvar\n\n/* declare variables */a1 ,\nb2a ,     c,\n</code></pre>\n\n<p>Here's what's working as of now, </p>\n\n<pre><code>string line; //line: represents one line of text from file\nifstream InputFile(\"exampleFile\", ios::in); //read from exampleFile.txt\n\n//Remove comments\nwhile (InputFile &amp;&amp; getline(InputFile, line, '\\0'))\n{\n    while (line.find(\"/*\") != string::npos)\n    {\n        size_t Begin = line.find(\"/*\");\n        line.erase(Begin, (line.find(\"*/\", Begin) - Begin) + 2);\n        // Start at Begin, erase from Begin to where */ is found\n    }   \n}\n</code></pre>\n\n<p>This removes comments, but I can't seem to figure out a way to tokenize while this is happening. </p>\n\n<p>So my questions are: </p>\n\n<ul>\n<li>Is it possible to remove comments, spaces, and empty lines and tokenize all in this while statement?</li>\n<li>How can I implement a function to add spaces in between each token before they are tokenized? Tokens like c, need to be recognized as c and , individually. </li>\n</ul>\n\n<p>Thank you in advanced for the help!</p>\n"}, {"tags": ["c++", "undefined-reference"], "comments": [{"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "edited": false, "score": 0, "creation_date": 1481145714, "post_id": 41027513, "comment_id": 69262614, "body": "Is that exactly how you declared your function in sensor.hpp? I am surprised it even compiles"}, {"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "reply_to_user": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "edited": false, "score": 0, "creation_date": 1481145998, "post_id": 41027513, "comment_id": 69262747, "body": "@YanZhou no , I have simply omitted the internals of the implementation between <code>{...}</code>. (also forgot to add the return of the function, fixed)"}, {"owner": {"reputation": 1767, "user_id": 4110406, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/64150ed89bffb39ecd38f1f573afaaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig Schulze", "link": "https://stackoverflow.com/users/4110406/ludwig-schulze"}, "edited": false, "score": 0, "creation_date": 1481146063, "post_id": 41027513, "comment_id": 69262782, "body": "Yan Zhou&#39;s question is about the declaration in the .hpp file, not the implementation."}, {"owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "reply_to_user": {"reputation": 1767, "user_id": 4110406, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/64150ed89bffb39ecd38f1f573afaaed?s=128&d=identicon&r=PG&f=1", "display_name": "Ludwig Schulze", "link": "https://stackoverflow.com/users/4110406/ludwig-schulze"}, "edited": false, "score": 0, "creation_date": 1481146113, "post_id": 41027513, "comment_id": 69262805, "body": "@LudwigSchulze It is fixed now. thank you for pointing it out."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1481146183, "post_id": 41027513, "comment_id": 69262844, "body": "show the link command and output without editing"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1481146478, "post_id": 41027513, "comment_id": 69262969, "body": "Did you write <code>using namespace enalu;</code> and add the definition at file scope? Unmangling your symbol gives <code>printTargetGasName(enalu::CombThreshold::TargetGas)</code>, which is not in the <code>enalu</code> namespace."}], "answers": [{"tags": [], "owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "is_accepted": true, "score": 1, "last_activity_date": 1481147061, "creation_date": 1481147061, "answer_id": 41027930, "question_id": 41027513, "link": "https://stackoverflow.com/questions/41027513/g-undefined-reference-to-a-free-standing-function/41027930#41027930", "title": "g++ undefined reference to a free standing function", "body": "<p>Because your link error is about <code>enalu::printTargetGasName</code>, I suspect that you declared the function in your header within the <code>enalu</code> namespace, but the corresponding C++ doesn't have the namespace enclosure.  This might fix you in the <code>sensor.cpp</code> file.</p>\n\n<pre><code>namespace enalu\n{\n    std::string printTargetGasName(enalu::CombThreshold::TargetGas){}\n};\n</code></pre>\n"}], "owner": {"reputation": 1271, "user_id": 959179, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/695402d9a3f42056c84787ef2c944496?s=128&d=identicon&r=PG", "display_name": "nass", "link": "https://stackoverflow.com/users/959179/nass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 41027930, "answer_count": 1, "score": 0, "last_activity_date": 1481150179, "creation_date": 1481145350, "last_edit_date": 1481150179, "question_id": 41027513, "link": "https://stackoverflow.com/questions/41027513/g-undefined-reference-to-a-free-standing-function", "title": "g++ undefined reference to a free standing function", "body": "<p>this must have been answered a million times, yet I cannot find a suitable solution.</p>\n\n<p>I have defined a free function in <code>sensor.cpp</code>:</p>\n\n<pre><code>std::string printTargetGasName(enalu::CombThreshold::TargetGas){}\n</code></pre>\n\n<p>Then I have declared the prototype of the function </p>\n\n<p>in <code>sensor.hpp</code></p>\n\n<pre><code>std::string printTargetGasName(enalu::CombThreshold::TargetGas);\n</code></pre>\n\n<p>Then I include <code>sensor.hpp</code> in <code>core_enose.hpp</code> and try to use the function in <code>core_enose.cpp</code> (<code>enalu</code> is just a namespace).</p>\n\n<p>I get <code>undefined reference</code> linking error </p>\n\n<pre><code>core_enose.cpp:284: undefined reference to `enalu::printTargetGasName(enalu::CombThreshold::TargetGas)'\n</code></pre>\n\n<p>the linking instructions in the make file seem correct, i.e. the sensor.opp comes after the core_enose.opp:</p>\n\n<pre><code>g++ -g -Wall -Wextra -pedantic -std=c++11 [...] obj_dbg/core_enose.opp [...] obj_dbg/sensor.opp [...]\n</code></pre>\n\n<p>I also checked to see if the symbol correctly exists in the sensor.opp file:</p>\n\n<pre><code>$&gt; nm obj_dbg/sensor.opp  | grep printTarget\n$&gt; 000000000000cc9c T _Z18printTargetGasNameN5enalu13CombThreshold9TargetGasE\n</code></pre>\n\n<p>I have tried desperate late night measures as well, such as <code>extern</code> , or re including the sensor.hpp directly in the core_enose.cpp file. Nothing helps and at this point I am frustrated at the simple answer that eludes me. </p>\n\n<p>Note that I am not providing code because sensor.?pp files are rather big containing a few classes that I have also been using in my program. What I describe above are the exact steps I followed to add this free function to an otherwise working application.</p>\n\n<p>Could you help me?</p>\n"}, {"tags": ["c++", "netbeans", "cygwin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4394488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca08e11b5a253f6b1da116e4be2c88?s=128&d=identicon&r=PG&f=1", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/4394488/thatdude"}, "edited": false, "score": 0, "creation_date": 1481146134, "post_id": 41027651, "comment_id": 69262814, "body": "Would MingW be a better idea?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1, "user_id": 4394488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca08e11b5a253f6b1da116e4be2c88?s=128&d=identicon&r=PG&f=1", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/4394488/thatdude"}, "edited": false, "score": 0, "creation_date": 1481146289, "post_id": 41027651, "comment_id": 69262894, "body": "Depends on what you need. If you are porting a *nix program you may need the POSIX support. If not, Mingw is probably the correct way to go. Try and get a more recent Mingw release  though. The standard release stopped at C++11. Not sure which flavour the cool kids recommend right now. I&#39;ve had success with with mingw-w64."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1481146928, "last_edit_date": 1481146928, "creation_date": 1481145970, "answer_id": 41027651, "question_id": 41027496, "link": "https://stackoverflow.com/questions/41027496/cannot-start-because-cygwin1-dll-is-missing-goal-is-no-dependencies/41027651#41027651", "title": "Cannot start because cygwin1.dll is missing... Goal is no dependencies", "body": "<blockquote>\n  <p>How can I make an application that is standalone? </p>\n</blockquote>\n\n<p>If you're building a Cygwin program you will need the Cygwin dll. Cygwin is not merely some compiler implementation library, <a href=\"https://en.wikipedia.org/wiki/POSIX\" rel=\"nofollow noreferrer\">it's an attempt to bring a POSIX environment</a> to Windows. </p>\n\n<p>I'm not aware of any way to statically link the Cygwin libraries. <a href=\"https://cygwin.com/faq/faq.html#faq.programming.static-linking\" rel=\"nofollow noreferrer\">Apparently the folk maintaining Cygwin don't know one either</a>.</p>\n\n<p>One alternative, if you do not need POSIX support, <a href=\"https://mingw-w64.org/doku.php\" rel=\"nofollow noreferrer\">is MinGW-w64</a>.</p>\n\n<blockquote>\n  <p>How do you find such knowledge on your own?</p>\n</blockquote>\n\n<p>In this case I already knew, but I punched \"statically link cygwin1.dll\" into Google to find an authoritative link.</p>\n"}], "owner": {"reputation": 1, "user_id": 4394488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cca08e11b5a253f6b1da116e4be2c88?s=128&d=identicon&r=PG&f=1", "display_name": "ThatDude", "link": "https://stackoverflow.com/users/4394488/thatdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481146928, "creation_date": 1481145269, "question_id": 41027496, "link": "https://stackoverflow.com/questions/41027496/cannot-start-because-cygwin1-dll-is-missing-goal-is-no-dependencies", "title": "Cannot start because cygwin1.dll is missing... Goal is no dependencies", "body": "<p>I'm using NetBeans IDE to make a simple application. When I try to run it outside of NetBeans it throws an error asking for cygwin1.dll. How can I make an application that is standalone? I've already had to add a few flags to the linker (-static-libstdc++ -static-libgcc) and this has taken away two other dependency errors I was getting. Is there another flag I can use to take this one away? How do you find such knowledge on your own? </p>\n"}, {"tags": ["c++", "boost", "boost-graph"], "answers": [{"comments": [{"owner": {"reputation": 590, "user_id": 3872003, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d97153ff4c45fc2c460e3f18b031cbd5?s=128&d=identicon&r=PG&f=1", "display_name": "alvaro562003", "link": "https://stackoverflow.com/users/3872003/alvaro562003"}, "edited": false, "score": 0, "creation_date": 1481146780, "post_id": 41027565, "comment_id": 69263126, "body": "thank you. Where can i find more code or math on this union ?"}, {"owner": {"reputation": 351, "user_id": 4905805, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c6240ad714b113fd91d0babcf06a337?s=128&d=identicon&r=PG&f=1", "display_name": "USC.Trojan", "link": "https://stackoverflow.com/users/4905805/usc-trojan"}, "reply_to_user": {"reputation": 590, "user_id": 3872003, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d97153ff4c45fc2c460e3f18b031cbd5?s=128&d=identicon&r=PG&f=1", "display_name": "alvaro562003", "link": "https://stackoverflow.com/users/3872003/alvaro562003"}, "edited": false, "score": 0, "creation_date": 1481403313, "post_id": 41027565, "comment_id": 69366534, "body": "This is similar to Union-Find Algorithm for undirected graphs). You can find the implementation here: <a href=\"http://www.geeksforgeeks.org/union-find/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/union-find</a>"}, {"owner": {"reputation": 351, "user_id": 4905805, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c6240ad714b113fd91d0babcf06a337?s=128&d=identicon&r=PG&f=1", "display_name": "USC.Trojan", "link": "https://stackoverflow.com/users/4905805/usc-trojan"}, "reply_to_user": {"reputation": 590, "user_id": 3872003, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d97153ff4c45fc2c460e3f18b031cbd5?s=128&d=identicon&r=PG&f=1", "display_name": "alvaro562003", "link": "https://stackoverflow.com/users/3872003/alvaro562003"}, "edited": false, "score": 0, "creation_date": 1491159316, "post_id": 41027565, "comment_id": 73418452, "body": "@alvaro562003 just wanted to ask mark the answer as correct one so others can also refer to it. Thanks :)"}], "tags": [], "owner": {"reputation": 351, "user_id": 4905805, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8c6240ad714b113fd91d0babcf06a337?s=128&d=identicon&r=PG&f=1", "display_name": "USC.Trojan", "link": "https://stackoverflow.com/users/4905805/usc-trojan"}, "is_accepted": false, "score": 1, "last_activity_date": 1481145577, "creation_date": 1481145577, "answer_id": 41027565, "question_id": 41027377, "link": "https://stackoverflow.com/questions/41027377/does-undirected-dfs-detect-all-cycle-of-graph/41027565#41027565", "title": "Does undirected_dfs detect all cycle of graph?", "body": "<p>First, notice that any bigger size cycle might be consisted of smaller size cycles. For your case, the smaller size cycles are detected properly. As an example, both <code>[0 -&gt; 1 -&gt; 2 -&gt; 0]</code> and <code>[1 -&gt; 2 -&gt; 3 -&gt; 1]</code> are <code>Discovered</code> but <code>[0 1 3 2 0]</code> is not detected which is the <code>combination of these two smaller ones</code>. You can simply create a <code>method</code> which gets all your cycles and checks if there is any node in common between them, then it combines all the nodes and returns the <code>union</code> new cycle. In both <code>[0 -&gt; 1 -&gt; 2 -&gt; 0]</code> and <code>[1 -&gt; 2 -&gt; 3 -&gt; 1]</code>, <code>1</code> and <code>2</code> are in <code>common</code>, so if there is a <code>path</code> from <code>0</code> to <code>{1 and 2}</code> in the first cycle and there is a <code>path</code> from <code>3</code> to <code>{1 and 2}</code> in the second cycle, then there is definitely a <code>path</code> from <code>0</code> to <code>3</code> as well. So it can <code>return</code> the <code>union</code> of the two cycles as <code>[0 1 3 2 0]</code> that has <code>AT LEAST ONE NODE</code> in common. </p>\n"}], "owner": {"reputation": 590, "user_id": 3872003, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/d97153ff4c45fc2c460e3f18b031cbd5?s=128&d=identicon&r=PG&f=1", "display_name": "alvaro562003", "link": "https://stackoverflow.com/users/3872003/alvaro562003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481219055, "creation_date": 1481144827, "last_edit_date": 1481219055, "question_id": 41027377, "link": "https://stackoverflow.com/questions/41027377/does-undirected-dfs-detect-all-cycle-of-graph", "title": "Does undirected_dfs detect all cycle of graph?", "body": "<p>undirected_dfs is supposed to detect \"all\" cycles of an undirected graph.\nI implement the \"back_edge\" and \"tree_edge\" of the visitor and it found only 3 cycles.</p>\n\n<p>The graph is built with:</p>\n\n<pre><code>boost::add_vertex(g);  //0\nboost::add_vertex(g);   //1\nboost::add_vertex(g);   //2\nboost::add_vertex(g);   //3\nboost::add_vertex(g);   //4\n\nboost::add_edge(0, 1, g);\nboost::add_edge(0, 2, g);\nboost::add_edge(0, 4, g);\nboost::add_edge(1, 2, g);\nboost::add_edge(1, 3, g);\nboost::add_edge(2, 3, g);\nboost::add_edge(2, 4, g);\n</code></pre>\n\n<p>The graph looks like:<a href=\"https://i.stack.imgur.com/X5lMT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5lMT.png\" alt=\"enter image description here\"></a>\nOnly 3 of the 6 cycles are discovered:</p>\n\n<pre><code>[0 -&gt; 1 -&gt; 2 -&gt; 0] Discovered\n[1 -&gt; 2 -&gt; 3 -&gt; 1] Discovereded\n[0 -&gt; 1 -&gt; 2 -&gt; 4 -&gt; 0]Discover\n[0 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 4 -&gt; 0] \n[0 -&gt; 2 -&gt; 4 -&gt; 0]\n[0 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 0]\n</code></pre>\n\n<p>What do i do wrong in the following code?</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;fstream&gt;\n#include &lt;iostream&gt;\n#include &lt;stack&gt;  \n#include &lt;map&gt;      //pair\n\n#include &lt;boost/graph/adjacency_list.hpp&gt;\n#include &lt;boost/graph/undirected_dfs.hpp&gt;\n#include&lt;boost/graph/properties.hpp&gt;\n#include &lt;boost/graph/named_function_params.hpp&gt;            //for named parameter http://www.boost.org/doc/libs/1_58_0/libs/graph/doc/bgl_named_params.html\n#include &lt;boost/cstdlib.hpp&gt;                                                    // for exit_success;\n#include &lt;boost/utility.hpp&gt;\n#include &lt;boost/graph/visitors.hpp&gt;\n#include &lt;boost/cstdlib.hpp&gt;\n#include &lt;boost/numeric/conversion/cast.hpp&gt;\n#include &lt;boost/graph/graphviz.hpp&gt;\n\n\n\n\n\n//template du graph http://www.boost.org/doc/libs/1_55_0/libs/graph/doc/adjacency_list.html\ntypedef boost::adjacency_list&lt;\n    boost::vecS,                                //OutEdgeList\n    boost::vecS,                                //VertexList\n    boost::undirectedS                  //Directed\n&gt; Graph;\n\ntypedef boost::graph_traits &lt; Graph &gt;::vertex_descriptor Vertex;\ntypedef boost::graph_traits &lt; Graph &gt;::edge_descriptor Edge;\n\n\n\nstruct detect_loops : public boost::dfs_visitor&lt;&gt;\n{\n    using colormap = std::map&lt;Graph::vertex_descriptor, boost::default_color_type&gt;;\n    colormap vertex_coloring;\n\n    using edgeColorMap = std::map&lt;Graph::edge_descriptor, boost::default_color_type&gt;;\n    edgeColorMap  edge_coloring;\n\n    template &lt;class Graph&gt;\n    void tree_edge(Edge e, const Graph&amp; g) {\n        std::cout &lt;&lt; \"tree_edge: \" &lt;&lt; boost::source(e, g) &lt;&lt; \" --&gt; \" &lt;&lt; boost::target(e, g) &lt;&lt; std::endl;\n\n        edgeVisited.push(e);\n        if (vertexVisited.empty()) {\n            vertexVisited.push(boost::source(e, g));\n        }\n        vertexVisited.push(boost::target(e, g));\n    }\n\n    template &lt;class Graph&gt;\n    void back_edge(Edge e, const Graph&amp; g) {\n        Vertex v2;\n\n        std::cout &lt;&lt; \" Cycle detected with back-edge= \" &lt;&lt; e &lt;&lt; std::endl;\n        std::cout &lt;&lt; \" vertexVisited size= \" &lt;&lt; vertexVisited.size() &lt;&lt; std::endl;\n\n        std::cout &lt;&lt; \"Cycle end= \" &lt;&lt; boost::target(e, g) &lt;&lt; std::endl;\n        //std::cout &lt;&lt; \"vertexVisited.top= \" &lt;&lt; vertexVisited.top() &lt;&lt; std::endl;\n        while ( vertexVisited.top() != boost::target(e, g) )\n        {\n            std::cout &lt;&lt; \" Cycle middle=\" &lt;&lt; vertexVisited.top() &lt;&lt; std::endl;\n            v2 = vertexVisited.top();\n            vertexVisited.pop();\n        }\n        std::cout &lt;&lt; \"Cycle starting= \" &lt;&lt; vertexVisited.top() &lt;&lt; std::endl;\n        vertexVisited.push(v2);\n    }\n\n    //interface to the main.\n    std::vector&lt;Vertex&gt; GetCycles() const { return Cycle; }\n\nprivate:\n    std::vector&lt;Vertex&gt; Cycle;\n\n    //std::stack&lt;Edge&gt; visited;\n    std::stack&lt;Edge&gt; edgeVisited;\n    std::stack&lt;Vertex&gt; vertexVisited;\n};\n\nGraph make(Graph &amp;g)\n{\n    boost::add_vertex(g);  //0\n    boost::add_vertex(g);   //1\n    boost::add_vertex(g);   //2\n    boost::add_vertex(g);   //3\n    boost::add_vertex(g);   //4\n\n    boost::add_edge(0, 1, g);\n    boost::add_edge(0, 2, g);\n    boost::add_edge(0, 4, g);\n    boost::add_edge(1, 2, g);\n    boost::add_edge(1, 3, g);\n    boost::add_edge(2, 3, g);\n    boost::add_edge(2, 4, g);\n\n    std::ofstream f(\"d:\\\\tmp\\\\dot\\\\s13.dot\");\n    boost::write_graphviz(f, g);\n    std::system(  std::string(\"dot -Tsvg -Grankdir=LR -Nfontsize=24 d:\\\\tmp\\\\dot\\\\s13.dot &gt; d:\\\\tmp\\\\dot\\\\s13.svg\").c_str() );\nreturn g;\n}\n\n//---------------------------------------------------------\n//---------------------------------------------------------\nint main()\n{\n    Graph g;\n    detect_loops vis;\n\n    make(g);\n\n    std::ofstream f(\"d:\\\\tmp\\\\s13.dot\"); \n    boost::write_graphviz(f, g);\n    std::system(\n        std::string(\"dot -Tsvg -Grankdir=LR -Nfontsize=24 d:\\\\tmp\\\\s13.dot &gt; d:\\\\tmp\\\\s13.svg\").c_str()\n        );\n\n    boost::undirected_dfs(g, vis, make_assoc_property_map(vis.vertex_coloring), make_assoc_property_map(vis.edge_coloring));\n    std::vector&lt;Vertex&gt; vctr = vis.GetCycles();\n\n    return boost::exit_success;\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "shared-libraries"], "answers": [{"comments": [{"owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1481217665, "post_id": 41032132, "comment_id": 69298142, "body": "Thanks. <code>-Bsymbolic</code> and/or <code>-Bsymbolic-functions</code> are solutions to my problem. I think I will probably do the recommended approach of rigorously defining the public API and using <code>-fvisibility=hidden</code>, though. It seems to be the best practice."}, {"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "reply_to_user": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "edited": false, "score": 0, "creation_date": 1481304507, "post_id": 41032132, "comment_id": 69338586, "body": "On second thought I think you&#39;ll need <code>-Bsymbolic</code> even with <code>-fvisibility=hidden</code> - without it exported functions can be interposed by other shared libraries. Also to avoid messing with <code>fvisibility=hidden</code> you can use it&#39;s simpler variant <code>-fvisiblity-inlines-hidden</code> - this would hide all inline functions (including STL templates). I&#39;ve updated the answer."}], "tags": [], "owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "is_accepted": true, "score": 1, "last_activity_date": 1481304431, "last_edit_date": 1481304431, "creation_date": 1481173551, "answer_id": 41032132, "question_id": 41027372, "link": "https://stackoverflow.com/questions/41027372/how-can-i-make-a-shared-librarys-symbols-strong/41032132#41032132", "title": "How can I make a shared library&#39;s symbols strong?", "body": "<blockquote>\n  <p>This means that at runtime, these symbols can possibly be interposed\n  by copies from a different shared library that got loaded first.</p>\n</blockquote>\n\n<p>Note that they can be interposed regardless of weak attribute (see <a href=\"https://gcc.gnu.org/ml/gcc-help/2011-03/msg00217.html\" rel=\"nofollow noreferrer\">this GCC post</a> which says that dynamic linker treats weaks similar to strongs, unless <code>LD_DYNAMIC_WEAK</code> is set, which usually isn't).</p>\n\n<blockquote>\n  <p>It's important for my application that my shared library\n  use the copies of these functions that are contained\n  within the library itself, not from any other library.\n  Is there any way to ensure this?</p>\n</blockquote>\n\n<p>There are several things you can do.</p>\n\n<p>The usually recommended approach is to add <code>fvisibility=hidden</code> to your CFLAGS to prevent exporting any symbols from your library and then mark the (hopefully very few) exported functions with <code>__attribute__((visibility(\"default\")))</code>. This would also allow for better optimization at compile-time and faster start-up as rtld will need to process fewer symbols.</p>\n\n<p>A poor man's limited solution would be to employ <code>-fvisibility-inlines-hidden</code> which is a limited form of <code>-fvisility=hidden</code>. It will only hide inline functions (e.g. resulting from STL templates).</p>\n\n<p>In case you do not want to mess with source code, link with <code>-Wl,-Bsymbolic</code> - this would force references to be resolved within the library whenever possible.</p>\n\n<p>-- EDIT --</p>\n\n<p>Actually you'll need <code>-Bsymbolic</code> even if you enable <code>-fvisibility=hidden</code> to prevent other libraries (or executable itself) from dynamically interposing intra-library references to exported functions.</p>\n"}], "owner": {"reputation": 10060, "user_id": 919747, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/291c33625deabed28aea713a55208c3f?s=128&d=identicon&r=PG", "display_name": "Jason R", "link": "https://stackoverflow.com/users/919747/jason-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41032132, "answer_count": 1, "score": 0, "last_activity_date": 1481304431, "creation_date": 1481144798, "question_id": 41027372, "link": "https://stackoverflow.com/questions/41027372/how-can-i-make-a-shared-librarys-symbols-strong", "title": "How can I make a shared library&#39;s symbols strong?", "body": "<p>I have a shared library that I've created that references a lot of C++ template functions. These symbols get entered into the shared library's export table as weak references (e.g. they show as type <code>W</code> when I view the shared library's symbols using <code>nm</code>). This means that at runtime, these symbols can possibly be interposed by copies from a different shared library that got loaded first.</p>\n\n<p>It's important for my application that my shared library use the copies of these functions that are contained within the library itself, not from any other library. Is there any way to ensure this? It sounds to me like it would be tantamount to statically linking all of the various template instantiations into the shared library.</p>\n"}, {"tags": ["c++", "arrays", "class", "multidimensional-array", "dynamic-arrays"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481144922, "post_id": 41027313, "comment_id": 69262201, "body": "Does this compile without errors?  My understanding is that parameters of a method should have different names than the members of the class (to prevent having to use the <code>this-&gt;</code> syntax)."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481144982, "post_id": 41027313, "comment_id": 69262227, "body": "I highly recommend reformatting your <code>main</code> function.  Although the compiler doesn&#39;t care, anybody wanting to help you will care."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481145061, "post_id": 41027313, "comment_id": 69262263, "body": "Make your life easier, use <code>std::vector</code> instead of a dynamic array."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481145159, "post_id": 41027313, "comment_id": 69262307, "body": "Something tells me your <code>graph</code> should be a linked list of <code>Point</code> rather than having all those variables in your class."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1481145286, "post_id": 41027313, "comment_id": 69262383, "body": "This whole thing collapses if <code>m</code> is less than the number of entries in the file.  For things like this, either you change your loop to read in up to <code>m</code>, or drop doing this and use <code>std::vector</code> and <code>push_back</code>."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 0, "last_activity_date": 1481145434, "creation_date": 1481145434, "answer_id": 41027540, "question_id": 41027313, "link": "https://stackoverflow.com/questions/41027313/c-2d-dynamic-array-of-objects/41027540#41027540", "title": "c++ 2d dynamic array of objects", "body": "<p>Your object initialization problem, simplified:</p>\n\n<pre><code>class graph\n{\n   public:\n      int index;\n      graph(int index)\n      {\n         index = index;\n      }\n};\n</code></pre>\n\n<p>In the above simplified case, the line</p>\n\n<pre><code>         index = index;\n</code></pre>\n\n<p>doesn't do anything useful. It is self assignment. The <code>index</code> on the LHS is not the member variable. It is the argument. The member variable is still uninitialized.</p>\n\n<p>You can use:</p>\n\n<pre><code>      graph(int index)\n      {\n         this-&gt;index = index;\n      }\n</code></pre>\n\n<p>Better still, I recommend using:</p>\n\n<pre><code>      graph(int index) : index(index) {}\n</code></pre>\n\n<p>Make the change for all your member variables.</p>\n"}], "owner": {"reputation": 31, "user_id": 6364247, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/828011557304686/picture?type=large", "display_name": "Hala Al Zoubi", "link": "https://stackoverflow.com/users/6364247/hala-al-zoubi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "closed_date": 1481205755, "accepted_answer_id": 41027540, "answer_count": 1, "score": 0, "last_activity_date": 1481145434, "creation_date": 1481144548, "last_edit_date": 1481145081, "question_id": 41027313, "link": "https://stackoverflow.com/questions/41027313/c-2d-dynamic-array-of-objects", "closed_reason": "Needs details or clarity", "title": "c++ 2d dynamic array of objects", "body": "<p>this code read data from file and i want to save it, into 2d dynamic array of objects of type class graph\nwhen i try to check the content of array g of objects its empty ... please help me to save data to the array.</p>\n\n<pre><code>class graph\n{\npublic:\n    int index;\n    int c;\n    int p1;\n    int p2;\n    int s1;\n    int s2;\n    int t1;\n    int t2;\n    int weight;\n    bool ready;\n    graph(int index,int c, int p1, int p2, int s1, int s2,int t1, int t2, int weight,int ready)\n    {\n        index = index;\n        c = c;\n        p1 = p1;\n        p2 = p2;\n        s1 = s1;\n        s2 = s2;\n        t1 = t1;\n        t2 = t2;\n        weight = weight;\n        ready = ready;\n    }\n\n};\n</code></pre>\n\n<p>this is main code </p>\n\n<pre><code>int main(){     char argc[20];  int m,index,c,p1,p2,s1,s2,t1,t2,weight,ready;   //graph temp(0,0,0,0,0,0,0,0,0,0);  fstream f;\n\n    cout &lt;&lt; \"Input file name: \"; cin &gt;&gt; argc;       f.open(argc, ios::in);  f &gt;&gt; m;\n\n    graph **g=new graph*[m];        int i = 1;  while (!f.eof())    {\n\n        f &gt;&gt; index &gt;&gt; c &gt;&gt; p1 &gt;&gt; p2 &gt;&gt; s1 &gt;&gt; s2 &gt;&gt; t1 &gt;&gt; t2 &gt;&gt; weight &gt;&gt; ready;         g[i] = new graph(index, c, p1, p2, s1, s2, t1, t2, weight, ready);\n            cout&lt;&lt; g[i]-&gt;index; \n            i = i + 1;\n\n            } return 0; }\n</code></pre>\n"}, {"tags": ["c++", "filestream"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1481144772, "post_id": 41027305, "comment_id": 69262112, "body": "You check the result of <code>rename</code> but not <code>remove</code>. I would check that. Also, <code>if(result = 0)</code> -&gt; <code>if(result == 0)</code>"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 1, "creation_date": 1481144842, "post_id": 41027305, "comment_id": 69262156, "body": "@cparks10: How are we supposed to know whether you closed that file or not? Did even open it? It is not clear from the code snippet you posted."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1481145047, "post_id": 41027305, "comment_id": 69262255, "body": "@JohnnyMopp  Ok, I changed that and now I am getting &quot;Error: Permission Denied!&quot;"}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1481145274, "post_id": 41027305, "comment_id": 69262374, "body": "@AnT I added more of my code to show you where I use if ifstream and osfstream functions."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "edited": false, "score": 0, "creation_date": 1481145647, "post_id": 41027305, "comment_id": 69262580, "body": "May be noted that this is from a much larger program. I created a smaller version of this and it works just fine. That is what is leading me to believe that I have missed closing a file somewhere else in the large program, but can&#39;t seem to find the place where that could be. Hopefully it is somewhere in the posted code above."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1481145926, "post_id": 41027305, "comment_id": 69262717, "body": "Why do you have <code>remove(&quot;userinfo.txt&quot;)</code> twice? I believe the second one should be <code>remove(&quot;pleasework.txt&quot;)</code>."}, {"owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "reply_to_user": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 0, "creation_date": 1481146555, "post_id": 41027305, "comment_id": 69263004, "body": "@JohnnyMopp Nevermind, I solved the problem thanks to your troubleshooting! I appreciate it!"}], "owner": {"reputation": 277, "user_id": 6005868, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/61c987c0bf66767fd916a164d025288d?s=128&d=identicon&r=PG&f=1", "display_name": "cparks10", "link": "https://stackoverflow.com/users/6005868/cparks10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481145156, "creation_date": 1481144513, "last_edit_date": 1481145156, "question_id": 41027305, "link": "https://stackoverflow.com/questions/41027305/c-remove-function-not-working", "title": "C++ Remove function not working", "body": "<p>Trying to edit some info in a text file. I change what I need, leave what I don't, and the put it in a temporary text file. Once the program is done, I want to delete the old text file and rename the temporary one the name of the old one.</p>\n\n<p>Remove does not seem to be working in this case...</p>\n\n<pre><code>else if (input == 2){\n        cout&lt;&lt;\"Work?\"&lt;&lt;endl;\n        string checkUser = username; //set checkUser var equal to username var\n        string checkPass = password;\n        ofstream outfile(\"pleasework.txt\");\n        ifstream infile(\"userinfo.txt\"); //CREATING IFSTREAM\n        string u, p, b;\n        cout&lt;&lt;checkUser;\n        while(infile&gt;&gt;u&gt;&gt;p&gt;&gt;b)\n            {\n           //cout&lt;&lt;\"PLeae\"&lt;&lt;endl;\n           cout&lt;&lt;u&lt;&lt;' '&lt;&lt;p&lt;&lt;' '&lt;&lt;b&lt;&lt;endl;\n            if(checkUser == u){\n            cout&lt;&lt;\"Current Balance: \"&lt;&lt;balance&lt;&lt;endl;\n            cout&lt;&lt;\"Enter new balance: \";\n            int newBalance;\n            cin&gt;&gt;newBalance;\n            outfile&lt;&lt;checkUser&lt;&lt;' '&lt;&lt;checkPass&lt;&lt;' '&lt;&lt;newBalance&lt;&lt;endl;\n            //outfile&lt;&lt;username&lt;&lt;' '&lt;&lt;password&lt;&lt;' '&lt;&lt;newBalance&lt;&lt;endl;\n            }else\n            {\n            outfile&lt;&lt;u&lt;&lt;' '&lt;&lt;p&lt;&lt;' '&lt;&lt;b&lt;&lt;endl;\n            }//end else\n        }//end while\n            infile.close();\n            cout&lt;&lt;\"Infile closed\"&lt;&lt;endl;\n            outfile.close();\n            cout&lt;&lt;\"Outfile closed\"&lt;&lt;endl;\n            remove(\"userinfo.txt\");\n            cout&lt;&lt;\"Were past remove!\"&lt;&lt;endl;\n            int result;\n            char oldname[] = \"pleasework.txt\";\n            char newname[] = \"userinfo.txt\";\n            rename(oldname, newname);\n            //result = rename (oldname, newname);\n            result = (remove(\"userinfo.txt\"));\n            if(result == 0)\n                puts(\"file was renamed\");\n            else\n                perror(\"Error\");\n            return 0;\n\n    }\n</code></pre>\n\n<p>I keep getting \"Error: File Exists!\"\nHave I missed closing the file somewhere?</p>\n"}, {"tags": ["c++", "templates", "template-templates"], "answers": [{"comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1481144448, "post_id": 41027208, "comment_id": 69261922, "body": "That makes sense, however it still looks like a compilers trick, is it guaranteed by standard?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1481146746, "post_id": 41027208, "comment_id": 69263104, "body": "@W.F. Maybe it&#39;s implied from &#167; 14.3.3/3? (N4296)"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1481147253, "post_id": 41027208, "comment_id": 69263381, "body": "@AndyG it looks like it could explain it, let me analyse it a bit more..."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1481147812, "post_id": 41027208, "comment_id": 69263652, "body": "@AndyG I&#39;m not sure. My understanding of the fragment is that it the the template template parameter matches if the classes of the template parameters match... I think it is referring to the type/template template/non-type template parameters and no default values of any kind of parameters... but I might misunderstood that fragment as I&#39;m not a native... :("}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 5, "last_activity_date": 1481144143, "creation_date": 1481144143, "answer_id": 41027208, "question_id": 41027035, "link": "https://stackoverflow.com/questions/41027035/is-default-template-template-parameter-value-deduced-context/41027208#41027208", "title": "Is default template template parameter value deduced context?", "body": "<p>When you write</p>\n\n<pre><code>template &lt;class T, template &lt;class, class = T&gt; class TT, class Y&gt;\nT foo(TT&lt;Y&gt;);\n</code></pre>\n\n<p>it is equivalent to</p>\n\n<pre><code>template &lt;class T, template &lt;class, class = T&gt; class TT, class Y&gt;\nT foo(TT&lt;Y, T&gt;);\n</code></pre>\n\n<p>So <code>T</code> can be deduced.</p>\n"}], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 41027208, "answer_count": 1, "score": 8, "last_activity_date": 1481144143, "creation_date": 1481143487, "question_id": 41027035, "link": "https://stackoverflow.com/questions/41027035/is-default-template-template-parameter-value-deduced-context", "title": "Is default template template parameter value deduced context?", "body": "<p>I was actually surprised that both gcc and clang accept this code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;type_traits&gt;\n\ntemplate &lt;class T, template &lt;class, class = T&gt; class TT, class Y&gt;\nT foo(TT&lt;Y&gt;) {\n}\n\nint main() {\n    static_assert(std::is_same&lt;decltype(foo(std::vector&lt;int&gt;{})), std::allocator&lt;int&gt;&gt;::value);\n}\n</code></pre>\n\n<p>Are gcc and clang right that the values of the default template template parameters are deduced context or is it compilers extension?</p>\n"}, {"tags": ["c++", "arrays", "function", "parameters", "build"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 4, "creation_date": 1481143309, "post_id": 41026961, "comment_id": 69261228, "body": "Check your spelling.  There is a <code>printResult</code> function (no &#39;s&#39; suffix), and a call to <code>printResults</code> (with the trailing &#39;s&#39;).  Spelling matters. :-)"}, {"owner": {"reputation": 87, "user_id": 5692348, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e1992f100674ff21131b937ef574205?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Elmalah", "link": "https://stackoverflow.com/users/5692348/mohamed-elmalah"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481143388, "post_id": 41026961, "comment_id": 69261278, "body": "There we go, I knew I was overlooking something! Thanks"}, {"owner": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "edited": false, "score": 1, "creation_date": 1481143402, "post_id": 41026961, "comment_id": 69261284, "body": "Also, consider using std::vector, to avoid passing around a wrong size or forgetting to use the passed size (such as in your print function )"}, {"owner": {"reputation": 3142, "user_id": 1598163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/131731839e6abf47e73673d7bf7990c6?s=128&d=identicon&r=PG", "display_name": "linuxfever", "link": "https://stackoverflow.com/users/1598163/linuxfever"}, "edited": false, "score": 1, "creation_date": 1481143573, "post_id": 41026961, "comment_id": 69261371, "body": "Also your <code>printResult</code> starts printing from <code>input[10]</code>. It should start from <code>input[9]</code> and also use your numElement argument"}, {"owner": {"reputation": 87, "user_id": 5692348, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e1992f100674ff21131b937ef574205?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Elmalah", "link": "https://stackoverflow.com/users/5692348/mohamed-elmalah"}, "reply_to_user": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "edited": false, "score": 0, "creation_date": 1481143688, "post_id": 41026961, "comment_id": 69261436, "body": "@Jonas I would but my assignment requires me to use arrays instead."}, {"owner": {"reputation": 87, "user_id": 5692348, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e1992f100674ff21131b937ef574205?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Elmalah", "link": "https://stackoverflow.com/users/5692348/mohamed-elmalah"}, "reply_to_user": {"reputation": 3142, "user_id": 1598163, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/131731839e6abf47e73673d7bf7990c6?s=128&d=identicon&r=PG", "display_name": "linuxfever", "link": "https://stackoverflow.com/users/1598163/linuxfever"}, "edited": false, "score": 0, "creation_date": 1481143733, "post_id": 41026961, "comment_id": 69261453, "body": "@linuxfever ya I overlooked that as well, never got to check that since my code wouldn&#39;t run! But Thank you!"}, {"owner": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "edited": false, "score": 1, "creation_date": 1481145545, "post_id": 41026961, "comment_id": 69262521, "body": "@MohamedElmalah If the array size is known at compile time you could consider std::array, the C++ version of C arrays"}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 2, "last_activity_date": 1481143397, "creation_date": 1481143397, "answer_id": 41027008, "question_id": 41026961, "link": "https://stackoverflow.com/questions/41026961/error-at-build-time-with-array-parameters/41027008#41027008", "title": "Error at build time with array parameters", "body": "<p>You call a function:</p>\n\n<pre><code>printResults\n</code></pre>\n\n<p>You implement a function:</p>\n\n<pre><code>printResult\n</code></pre>\n\n<p>Spelling matters. Notice one is a plural of the other.   </p>\n"}, {"tags": [], "owner": {"reputation": 1064, "user_id": 4722577, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/df632265f05cfef80f4d3da89de8cd7b?s=128&d=identicon&r=PG&f=1", "display_name": "CAM_344", "link": "https://stackoverflow.com/users/4722577/cam-344"}, "is_accepted": false, "score": 2, "last_activity_date": 1481143658, "creation_date": 1481143658, "answer_id": 41027079, "question_id": 41026961, "link": "https://stackoverflow.com/questions/41026961/error-at-build-time-with-array-parameters/41027079#41027079", "title": "Error at build time with array parameters", "body": "<p>Aside from your main question, your array is of size 10 which means your biggest index is 9. And in your print results it appears that you're starting at 10 which would give it a runtime error/exception.</p>\n"}], "owner": {"reputation": 87, "user_id": 5692348, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6e1992f100674ff21131b937ef574205?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Elmalah", "link": "https://stackoverflow.com/users/5692348/mohamed-elmalah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 41027008, "answer_count": 2, "score": -1, "last_activity_date": 1481143658, "creation_date": 1481143178, "question_id": 41026961, "link": "https://stackoverflow.com/questions/41026961/error-at-build-time-with-array-parameters", "title": "Error at build time with array parameters", "body": "<p>So I am currently learning about arrays and functions and I seem to have ran into a problem. So the goal of my code is to have the user input 10 numbers, store those numbers in an array, then print them in reverse order. I have to pass the array and elements as parameters. </p>\n\n<p>For the function getInput() everything worked out fine. I think at least. However, for the function printResults() I ran into a build time error that I can't seem to fix or understand. </p>\n\n<p>Here is my code</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid getInput(double[], int);\nvoid printResults(double[], int);\n\nint main() {\n\n\n\n    double userInput[10];\n\n    getInput(userInput, 10);\n    printResults(userInput, 10);\n\n    return 0;\n}\n\nvoid getInput(double input[], int numElements)\n{\n\n    for(int i = 0; i &lt; numElements; i++)\n    {\n        cout &lt;&lt; \"Please enter number \" &lt;&lt; (i + 1) &lt;&lt; \": \";\n        cin &gt;&gt; input[i];\n    }\n}\n\nvoid printResult(double input[], int numElement)\n{\n    for(int i = 10; i &gt; 0; --i)\n    {\n        cout &lt;&lt; \"Value number \" &lt;&lt; i &lt;&lt; \"is: \" &lt;&lt; input[i] &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n\n<p>And this is the error I keep running into</p>\n\n<p><a href=\"https://i.stack.imgur.com/oFz2R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oFz2R.png\" alt=\"enter image description here\"></a></p>\n\n<p>I may just be missing something simple, but Thanks in Advance!</p>\n"}, {"tags": ["c++", "assert", "googletest", "assertions", "expectations"], "answers": [{"comments": [{"owner": {"reputation": 970, "user_id": 1734303, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/6ee80feb1a2c3ecd7c5f3e1ed8927419?s=128&d=identicon&r=PG", "display_name": "cowboydan", "link": "https://stackoverflow.com/users/1734303/cowboydan"}, "edited": false, "score": 0, "creation_date": 1481226529, "post_id": 41047599, "comment_id": 69302795, "body": "Agreed. One test, one assertion. Otherwise there is a one to many mapping of test to result, which makes the test useless and ambiguous."}], "tags": [], "owner": {"reputation": 3889, "user_id": 561422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JwFD0.jpg?s=128&g=1", "display_name": "marco.m", "link": "https://stackoverflow.com/users/561422/marco-m"}, "is_accepted": true, "score": 5, "last_activity_date": 1483645799, "last_edit_date": 1483645799, "creation_date": 1481226351, "answer_id": 41047599, "question_id": 41026939, "link": "https://stackoverflow.com/questions/41026939/c-gtest-print-additional-information-in-the-end-of-a-test-when-and-only-when-t/41047599#41047599", "title": "c++ gtest print additional information in the end of a test when and only when the test fails", "body": "<p>the fact that doing what you want to do is difficult is actually a test <a href=\"https://en.wikipedia.org/wiki/Code_smell\" rel=\"nofollow noreferrer\">code smell</a>. In particular, these two tests (1) do too much and (2) are unreadable, in the sense that they do not describe what the unit under test does.</p>\n\n<p>I recommend two readings: <a href=\"https://pragprog.com/magazines/2012-01/unit-tests-are-first\" rel=\"nofollow noreferrer\">Unit Tests are FIRST</a> and the book <a href=\"https://pragprog.com/book/lotdd/modern-c-programming-with-test-driven-development\" rel=\"nofollow noreferrer\">Modern C++ Programming with Test-Driven Development</a>.</p>\n\n<p>Instead of trying to call 4 functions, each checking something, and then wondering how to print an error message in case of failure, I suggest the following:</p>\n\n<ul>\n<li>ask yourself: \"what am I testing here?\" When you have an answer, use the answer to give a name to the test. If you cannot find an answer, it means (what I suspect) that the test does too much. Try to follow the \"one assert per test\" guideline and split the test accordingly.</li>\n<li>in the same spirit, look at each of the 4 functions and try to give each a name. If you cannot, each function is checking too much. Split these functions.</li>\n<li>Ask yourself if you really need expectations (as opposed to assertions). Often the only reason to have an EXPECT instead than an ASSERT is because the single test is doing too much. Split it.</li>\n</ul>\n\n<p>At the end of this process, you should find yourself in a situation where your goal of printing additional information on test failure can be reached simply with something like:</p>\n\n<pre><code>ASSERT_THAT(Response, EQ(\"something\")) &lt;&lt; \"Request: \" &lt;&lt; request;\n</code></pre>\n\n<p>Note: also if better that the starting point, I don't consider the above example good enough. The test name should be so good, so descriptive, that you would gain zero information by printing the value of <code>request</code>.</p>\n\n<p>I realize this is a sort of philosophical answer; on the other hand it comes directly from my experience in attempting to write good, maintainable tests. Writing good tests requires the same care than writing good code, and it will pay off many times :-)</p>\n"}, {"tags": [], "owner": {"reputation": 1746, "user_id": 1012586, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb64d89a4b59bd145b3c10392ece1b7?s=128&d=identicon&r=PG", "display_name": "Morty", "link": "https://stackoverflow.com/users/1012586/morty"}, "is_accepted": false, "score": 1, "last_activity_date": 1613117249, "creation_date": 1613117249, "answer_id": 66168273, "question_id": 41026939, "link": "https://stackoverflow.com/questions/41026939/c-gtest-print-additional-information-in-the-end-of-a-test-when-and-only-when-t/66168273#66168273", "title": "c++ gtest print additional information in the end of a test when and only when the test fails", "body": "<p>A non-ideological answer (based on information from all over the place):</p>\n<p><code>QDebugTest.h</code></p>\n<pre><code>class QDebugTest : public ::testing::Test\n{\npublic:\n    void SetUp() override;\n    void TearDown() override;\n};\n</code></pre>\n<p><code>QDebugTest.cpp</code></p>\n<pre><code>static std::ostringstream qdebugString;\n\nstatic void myMessageOutput(QtMsgType type, const QMessageLogContext &amp;context, const QString &amp;msg) {\n    switch (type) {\n        case QtDebugMsg:    qdebugString &lt;&lt; &quot;qDebug&quot;;    break;\n        case QtInfoMsg:     qdebugString &lt;&lt; &quot;qInfo&quot;;     break;\n        case QtWarningMsg:  qdebugString &lt;&lt; &quot;qWarning&quot;;  break;\n        case QtCriticalMsg: qdebugString &lt;&lt; &quot;qCritical&quot;; break;\n        case QtFatalMsg:    qdebugString &lt;&lt; &quot;qFatal&quot;;    break;\n    }\n    if (context.file) {\n        qdebugString &lt;&lt; &quot; (&quot; &lt;&lt; context.file &lt;&lt; &quot;:&quot; &lt;&lt; context.line ;\n    }\n    if (context.function) {\n        qdebugString &lt;&lt; &quot; &quot; &lt;&lt; context.function;\n    }\n    if(context.file || context.function) {\n        qdebugString &lt;&lt; &quot;)&quot;;\n    }\n    qdebugString &lt;&lt; &quot;: &quot;;\n    qdebugString &lt;&lt; msg.toLocal8Bit().constData();\n    qdebugString &lt;&lt; &quot;\\n&quot;;\n}\n\nvoid QDebugTest::SetUp()\n{\n    assert(qdebugString.str().empty());\n    qInstallMessageHandler(myMessageOutput);\n}\n\nvoid QDebugTest::TearDown()\n{\n    qInstallMessageHandler(0);\n    if(!qdebugString.str().empty()) {\n        const ::testing::TestInfo* const test_info = ::testing::UnitTest::GetInstance()-&gt;current_test_info();\n        if (test_info-&gt;result()-&gt;Failed()) {\n            std::cout &lt;&lt; std::endl &lt;&lt; qdebugString.str();\n        }\n        qdebugString.clear();\n    }\n}\n</code></pre>\n<p>Now derive your Fixture-class from <code>QDebugTest</code> instead of <code>::testing::Test</code>.</p>\n"}], "owner": {"reputation": 1882, "user_id": 1350091, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/aa727cb8113ba0df19d187c5ca2ba3cd?s=128&d=identicon&r=PG&f=1", "display_name": "baziorek", "link": "https://stackoverflow.com/users/1350091/baziorek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3515, "favorite_count": 2, "accepted_answer_id": 41047599, "answer_count": 2, "score": 5, "last_activity_date": 1613117249, "creation_date": 1481143103, "question_id": 41026939, "link": "https://stackoverflow.com/questions/41026939/c-gtest-print-additional-information-in-the-end-of-a-test-when-and-only-when-t", "title": "c++ gtest print additional information in the end of a test when and only when the test fails", "body": "<p>I want to do somethink like this:</p>\n\n<pre><code>TEST(MyTestFixture, printAfterExpectationFailure)\n{\n  const string request(\"bring me tea\");\n\n  const string&amp;&amp; response = sendRequestAndGetResponse(request);\n\n  checkResponseWithExpectarions1(response);\n  checkResponseWithExpectarions2(response);\n  checkResponseWithExpectarions3(response);\n  checkResponseWithExpectarions4(response);\n\n  if (anyOfExpectsFailed())\n      cout &lt;&lt; \"Request: \" &lt;&lt; request &lt;&lt; \"\\nresponse: \" &lt;&lt; response &lt;&lt; endl;\n}\n\nTEST(MyTestFixture, printAfterAssertionFailure)\n{\n  const string request(\"bring me tea\");\n\n  const string&amp;&amp; response = sendRequestAndGetResponse(request);\n\n  doWhenFailure([&amp;request, &amp;response]()\n  {\n      cout &lt;&lt; \"Request: \" &lt;&lt; request &lt;&lt; \"\\nresponse: \" &lt;&lt; response &lt;&lt; endl;\n  });\n\n  checkResponseWithAssertion1(response);\n  checkResponseWithAssertion2(response);\n  checkResponseWithAssertion3(response);\n  checkResponseWithAssertion4(response);\n}\n</code></pre>\n\n<p>I want to print some additional information when and only when expectations/assertions failures.</p>\n\n<p>I know that I can do something like this:</p>\n\n<pre><code>#define MY_ASSERT_EQ(lhr, rhs, message) if(lhs != rhs) ASSERT_EQ(lhs, rhs) &lt;&lt; message\n</code></pre>\n\n<p>but this kind of solution is not comfortable because:</p>\n\n<ol>\n<li>I check twice</li>\n<li>I use preprocessor so it can take some time to find\nbug.</li>\n<li>The solution is hard to use when functions are really nested.    </li>\n<li>When many EXPECTations failure it would print message many times.</li>\n<li>It is necessairy to redefine macro for all kind of checking</li>\n</ol>\n"}, {"tags": ["c++", "abstract-class", "pass-by-reference", "overloading"], "comments": [{"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 1, "creation_date": 1481143206, "post_id": 41026897, "comment_id": 69261186, "body": "Add a using statement in the derived class (<code>using &lt;BaseClass&gt;::inFirst</code>). As is the declaration of <code>ListTree&lt;string&gt;::insFirst(node, item)</code> is hiding the other base class method."}, {"owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "reply_to_user": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1481143416, "post_id": 41026897, "comment_id": 69261291, "body": "The Base Class has 2 templates, T which represents the values of the node (so T has to be equal for 2 compatible trees), and N which represents the type of the node, usually a TreeNode. ListTree has just one template, T, because it implements its own N. I&#39;d like that another class with type T, was compatible with this function. How can I use the using without having 2 templates? Isn&#39;t there another way?"}, {"owner": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1481143924, "post_id": 41026897, "comment_id": 69261585, "body": "In <code>using</code> statement, use actual type instead of <code>N</code>, e.g. <code>using Tree&lt;T,ListNode&lt;T&gt;&gt;::insFirst;</code>. BTW the correct term for <code>T</code> is &quot;template argument&quot;."}, {"owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "edited": false, "score": 0, "creation_date": 1481144812, "post_id": 41026897, "comment_id": 69262136, "body": "It picks up another overloaded functions (with more parameters) that is private... But the one with 2 parameters is public and indeed gets called if I change its name.  <code>&#39;insFirst&#39; is a private member of &#39;Tree&lt;std::__1::basic_string&lt;char&gt;, ListTreeNode&lt;std::__1::basic_string&lt;char&gt; &gt; &gt;&#39;</code>"}, {"owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "edited": false, "score": 0, "creation_date": 1481151323, "post_id": 41026897, "comment_id": 69265190, "body": "Check my last edit for clarifications"}, {"owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "reply_to_user": {"reputation": 4579, "user_id": 459565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc92778353971733be88d04c26603ec7?s=128&d=identicon&r=PG", "display_name": "Eugene", "link": "https://stackoverflow.com/users/459565/eugene"}, "edited": false, "score": 0, "creation_date": 1481151702, "post_id": 41026897, "comment_id": 69265338, "body": "@Eugene Technically, <code>T</code> is a &quot;template parameter&quot;.  In <code>ListTree&lt;string&gt;</code>, <code>std::string</code> is a &quot;template argument&quot;."}, {"owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "edited": false, "score": 0, "creation_date": 1481152854, "post_id": 41026897, "comment_id": 69265802, "body": "Anyway how can I use the <code>using</code> statement onto <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> only?"}, {"owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "edited": false, "score": 0, "creation_date": 1481154780, "post_id": 41026897, "comment_id": 69266503, "body": "Alright I found the mistake... It was silly declaring a private function with <code>virtual</code> because obviously it could not be overridden... except friend classes, which I don&#39;t make use in a subclass. So I changed name signature of private function, while keeping same in public and adding <code>using</code> in derived class."}], "answers": [{"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": true, "score": 1, "last_activity_date": 1481144979, "creation_date": 1481144979, "answer_id": 41027418, "question_id": 41026897, "link": "https://stackoverflow.com/questions/41026897/c-overload-virtual-function-in-abstract-class-with-abstract-class-reference-pa/41027418#41027418", "title": "C++ overload virtual function in abstract class with abstract class reference parameter not working", "body": "<p>The problem is that overloading only applies to functions defined in the same scope. <code>ListTree&lt;string&gt;</code> defines <code>insFirst(node, item)</code>, but it does not define <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code>. So the call to <code>tree.insFirst(tree.root(), tree2)</code> isn't valid, because the only version of <code>insFirst</code> that's defined in the derived class can't be called with those argument.</p>\n\n<p>The fix, as has been mentioned in comments, is to tell the compiler to also consider <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> from the base class with a <code>using</code> declaration, or, as you have discovered, to change the name of <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> in the base class so that it can be called directly.</p>\n"}], "owner": {"reputation": 626, "user_id": 1714647, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/425eda5308eefd06ba9f763879fc4f4f?s=128&d=identicon&r=PG", "display_name": "user1714647", "link": "https://stackoverflow.com/users/1714647/user1714647"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 41027418, "answer_count": 1, "score": 0, "last_activity_date": 1481151310, "creation_date": 1481142965, "last_edit_date": 1481151310, "question_id": 41026897, "link": "https://stackoverflow.com/questions/41026897/c-overload-virtual-function-in-abstract-class-with-abstract-class-reference-pa", "title": "C++ overload virtual function in abstract class with abstract class reference parameter not working", "body": "<p>I have a tree structure (abstract class) defined like this</p>\n\n<pre><code>template&lt;class T, class N&gt;\nclass Tree {\npublic: \n    typedef T item;\n    typedef N node;\n\n    virtual node root();\n    ...\n    virtual void insFirst(node, const Tree&lt;T,N&gt;&amp;);\n    virtual node insFirst(node, item) = 0;\n    ...\nprivate:\n    virtual void insFirst(node, const Tree&lt;T, N&gt;&amp;, node, bool); \n}\n</code></pre>\n\n<p>As you can guess, <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> has an implementation in the abstract class.</p>\n\n<p>Its derived class, implements just <code>insFirst(node, item)</code>. </p>\n\n<p>When I call <code>insFirst</code> from:</p>\n\n<pre><code>ListTree&lt;string&gt; tree;\nListTree&lt;string&gt; tree2;\n... // initialization\ntree.insFirst(tree.root(), tree2); // CALL\n</code></pre>\n\n<p>I get a compiler error </p>\n\n<pre><code>No viable conversion from 'ListTree&lt;string&gt;' (aka 'ListTree&lt;basic_string&lt;char, char_traits&lt;char&gt;, allocator&lt;char&gt; &gt; &gt;') to 'item' (aka 'std::__1::basic_string&lt;char&gt;')\n</code></pre>\n\n<p>And this happens because it's referring to <code>insFirst(node, item)</code> and not the other one.</p>\n\n<p>But if I rename <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> in <code>insFirstSubtree(node, const Tree&lt;T,N&gt;&amp;)</code> or any other name, it suddenly <strong>works</strong>.</p>\n\n<p>Why can't I overload this function like this? Is there anyway or do I have to change its name?</p>\n\n<p>I looked for other answers but they were on different subjects/cases.</p>\n\n<p>EDIT: How do I use <code>using Tree&lt;T,ListNode&lt;T&gt;&gt;::insFirst;</code> in Derived class with 2 different insFirst? (the <code>insFirst(node, const Tree&lt;T,N&gt;&amp;)</code> and <code>insFirst(node, const Tree&lt;T,N&gt;&amp;, node, bool)</code>. C++ (Xcode) picks by default the one with 4 parameters and private and complains it's private.</p>\n"}, {"tags": ["c++", "c++14", "overload-resolution"], "comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 1, "creation_date": 1481143169, "post_id": 41026891, "comment_id": 69261159, "body": "SFINAE applies to the function declaration, not the defintion, which is why enable_if is applied to template arguments or return values, rather than the prettier option of sticking such code in the body. The function&#39;s discarded only if the declaration bit fails to compile. The supplied arguments work just fine in the third function&#39;s declaration, so it won&#39;t be discarded."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1481143539, "post_id": 41026891, "comment_id": 69261357, "body": "However if you use a trailing return type, it appears to work: <a href=\"http://coliru.stacked-crooked.com/a/5d3d34290d7beb1a\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/5d3d34290d7beb1a</a>"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1481143611, "post_id": 41026891, "comment_id": 69261395, "body": "@AndyG Ah, that&#39;s SFINAE. :) Thanks"}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1481143638, "post_id": 41026891, "comment_id": 69261414, "body": "@jaggedSpire I would have thought that it also applied to the body, when a &quot;soft&quot; error occurs. Maybe I&#39;m confusing something..."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 3, "creation_date": 1481143782, "post_id": 41026891, "comment_id": 69261488, "body": "@Rakete1111 probably they decided against that because then overload resolution would depend on the <i>contents</i> of the functions in questions, and there was sufficient chaos already :P"}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "edited": false, "score": 1, "creation_date": 1481161016, "post_id": 41026891, "comment_id": 69268296, "body": "Function overloading cannot depend on the function body. Consider the situation of <i>non-template</i> function overloading. The function body may not be in the header file and are not visible at all at the time when overloading is to be resolved."}, {"owner": {"reputation": 2392, "user_id": 3517622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2nYKV.gif?s=128&g=1", "display_name": "KevinZ", "link": "https://stackoverflow.com/users/3517622/kevinz"}, "edited": false, "score": 0, "creation_date": 1481728133, "post_id": 41026891, "comment_id": 69494170, "body": "Even if you made it work, relying on template type deduction like this is just a ticking time bomb."}], "answers": [{"comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1481143351, "post_id": 41026954, "comment_id": 69261255, "body": "Why doesn&#39;t the compiler move the iterators instead of copying them?"}, {"owner": {"reputation": 3933, "user_id": 25406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73cff92b3bc15706f0f7bf0fdbfa6e4c?s=128&d=identicon&r=PG", "display_name": "Tomek", "link": "https://stackoverflow.com/users/25406/tomek"}, "edited": false, "score": 1, "creation_date": 1481143802, "post_id": 41026954, "comment_id": 69261506, "body": "I am just thinking that this is the third parameter which makes a difference... 10 is a rvalue and Pred &amp;&amp; in the third overload may be a better match then const T &amp; in the second..."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1481143809, "post_id": 41026954, "comment_id": 69261515, "body": "Pass-by-reference is still preferable to moving (less code involved).  And an rvalue can be assigned to a const-reference parameter.  So I think this is still an issue of the compiler preferring to pass the iterators by const-reference instead of invoking extra logic to pass them by value."}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "edited": false, "score": 2, "creation_date": 1481146416, "post_id": 41026954, "comment_id": 69262957, "body": "I don&#39; t think it is because that the compiler tries to avoid making copies. When compiler resolve template overloads, whether or not copies are made does not come into play. The three arguments are all rvalues. The second overloads will need to match each of them to an lvalue while the third overload match the first two to lvalue, while the third is matched by a universal reference. Third overload match the third parameter better. It has nothing to do with what compiler &quot;prefers&quot; for any optimization reason. it has to do what is &quot;correct&quot;"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 1, "creation_date": 1481160423, "post_id": 41026954, "comment_id": 69268151, "body": "Pass by reference or by value makes no difference to overload resolution. It&#39;s got absolutely nothing to do with making copies."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1481143616, "last_edit_date": 1481143616, "creation_date": 1481143152, "answer_id": 41026954, "question_id": 41026891, "link": "https://stackoverflow.com/questions/41026891/compiler-chooses-erroneous-overload-instead-of-valid-overload/41026954#41026954", "title": "Compiler chooses erroneous overload instead of valid overload", "body": "<p>The first call is passing parameter values that satisfy the template arguments of <em>only one</em> overload:</p>\n\n<pre><code>template&lt;typename Array, typename T, typename Pred&gt;\nauto search_with(const Array&amp; array, const T&amp; value, Pred&amp;&amp; pred) noexcept\n</code></pre>\n\n<p>The second call is passing parameter values that satisfy the template arguments of <em>two</em> overloads:</p>\n\n<pre><code>template&lt;typename RandIt, typename T&gt;\nauto search_with(RandIt begin, RandIt end, const T&amp; value) noexcept\n\n// where RandIt is std::vector&lt;int&gt;::iterator, and T is int...\n</code></pre>\n\n<p></p>\n\n<pre><code>template&lt;typename Array, typename T, typename Pred&gt;\nauto search_with(const Array&amp; array, const T&amp; value, Pred&amp;&amp; pred) noexcept\n\n// where Array and T are both std::vector&lt;int&gt;::iterator, and Pred is int...\n</code></pre>\n\n<p>However, the third overload is a better match, because its parameters are all being passed by reference, so no unnecessary copies have to be created by the compiler.</p>\n\n<p>With the second overload, the first two parameters are being passed by value, so extra copies have to be made.  When dealing with class objects (which an STL container's <code>iterator</code> type may be), that can affect overload resolution.</p>\n\n<p>The compiler tries to avoid making unnecessary copies when possible.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1481182343, "post_id": 41027926, "comment_id": 69275386, "body": "Even more fun, had OP&#39;s code taken <code>pred</code> by value, partial ordering would have kicked in and chosen the correct overload."}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1481200919, "post_id": 41027926, "comment_id": 69286733, "body": "@T.C. Exactly. Function overloading was fun to play with at first. But these day if possible I just use a tag overloading to save a lot headache. The problem with C++&#39;s overloading is that, even after years struggling, when you have known it in and out, you can still from time to time forget something and get it wrong. The introducing of universal reference into the mix is only making it worse. We are humans , not compilers."}], "tags": [], "owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "is_accepted": true, "score": 7, "last_activity_date": 1481148268, "last_edit_date": 1481148268, "creation_date": 1481147057, "answer_id": 41027926, "question_id": 41026891, "link": "https://stackoverflow.com/questions/41026891/compiler-chooses-erroneous-overload-instead-of-valid-overload/41027926#41027926", "title": "Compiler chooses erroneous overload instead of valid overload", "body": "<p>It mostly has to do the third argument, which is an rvalue. Try the following to see why it matches the universal reference better.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename T&gt;\ninline void f(T &amp;)\n{\n    std::cout &lt;&lt; \"f2\" &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\ninline void f(const T &amp;)\n{\n    std::cout &lt;&lt; \"f3\" &lt;&lt; std::endl;\n}\n\ntemplate &lt;typename T&gt;\ninline void f(T &amp;&amp;)\n{\n    std::cout &lt;&lt; \"f4\" &lt;&lt; std::endl;\n}\n\nint main()\n{\n    int a = 0;\n    const int b = 0;\n    int &amp;c = a;\n    const int &amp;d = b;\n    f(1); // f4 : rvalue matched by universal reference\n    f(a); // f2 : lvalue matched by reference, T&amp; preferred to const T&amp;\n    f(b); // f3 : lvalue matched by reference, can only do const T&amp;\n    f(c); // f2 : lvalue reference matched by reference, T&amp; preferred to const T&amp;\n    f(d); // f3 : lvalue const reference matched by reference, can only do const T&amp;\n    f(std::move(a)); // f4 : rvalue reference, matched by universal reference\n\n}\n</code></pre>\n\n<p>If you throw one more overload,</p>\n\n<pre><code> template &lt;typename T&gt;\n inline void f(T);\n</code></pre>\n\n<p>into the mix, you will get ambiguous errors, because it will also give you perfect match.</p>\n\n<p>As to the first two rvalue arguments, consider the following example,</p>\n\n<pre><code>template &lt;typename T&gt;\ninline void f(T)\n{\n}\n\ntemplate &lt;typename T&gt;\ninline void f(const T &amp;)\n{\n}\n\nint main() { f(1); }\n</code></pre>\n\n<p>You will get an ambiguous error. That is, the two overloads match an rvalue equally well. So they do not determine which overload is selected in your example</p>\n"}, {"comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1481216818, "post_id": 41033988, "comment_id": 69297636, "body": "I figure there is no other way than to remove the duplication, right?"}, {"owner": {"reputation": 20650, "user_id": 1335865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3eBZC.png?s=128&g=1", "display_name": "Ralph Tandetzky", "link": "https://stackoverflow.com/users/1335865/ralph-tandetzky"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1481268750, "post_id": 41033988, "comment_id": 69317277, "body": "@Rakete1111 Unfortunately. Maybe in some future C++ standard, but for the moment, you will have to live with the ugliness, if you want proper SFINAE-friendly functions."}], "tags": [], "owner": {"reputation": 20650, "user_id": 1335865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3eBZC.png?s=128&g=1", "display_name": "Ralph Tandetzky", "link": "https://stackoverflow.com/users/1335865/ralph-tandetzky"}, "is_accepted": false, "score": 2, "last_activity_date": 1481181994, "creation_date": 1481181994, "answer_id": 41033988, "question_id": 41026891, "link": "https://stackoverflow.com/questions/41026891/compiler-chooses-erroneous-overload-instead-of-valid-overload/41033988#41033988", "title": "Compiler chooses erroneous overload instead of valid overload", "body": "<p>The third overload is always better, except if you pass a const lvalue as third parameter to your function template. You pass a prvalue. The forwarding reference <code>Pred&amp;&amp;</code> can match this case better and therefore gets chosen. </p>\n\n<p>You can achieve your desired behavior by using the <a href=\"http://en.cppreference.com/w/cpp/language/sfinae\" rel=\"nofollow noreferrer\">SFINAE (Substitution Failure Is Not An Error)</a> technique. </p>\n\n<pre><code>template&lt;typename Array, typename T, typename Pred&gt;\nauto search_with(const Array&amp; array, const T&amp; value, Pred&amp;&amp; pred) noexcept\n    -&gt; decltype(search_with(\n           std::begin(array), std::end(array), value, std::forward&lt;Pred&gt;(pred)))\n{\n    return search_with(std::begin(array), std::end(array), value, std::forward&lt;Pred&gt;(pred));\n}\n</code></pre>\n\n<p>This will exclude the overload, if the expression in the <code>decltype(...)</code> is not valid. </p>\n"}], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41027926, "answer_count": 3, "score": 6, "last_activity_date": 1481181994, "creation_date": 1481142942, "question_id": 41026891, "link": "https://stackoverflow.com/questions/41026891/compiler-chooses-erroneous-overload-instead-of-valid-overload", "title": "Compiler chooses erroneous overload instead of valid overload", "body": "<p>Take a look at this code:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;functional&gt;\n\ntemplate&lt;typename RandIt, typename T, typename Pred&gt;\nauto search_with(RandIt begin, RandIt end, const T&amp; value, Pred&amp;&amp; pred) noexcept {\n    //...\n    return begin;\n}\n\ntemplate&lt;typename RandIt, typename T&gt;\nauto search_with(RandIt begin, RandIt end, const T&amp; value) noexcept {\n    return search_with(begin, end, value, std::less&lt;T&gt;{});\n}\n\ntemplate&lt;typename Array, typename T, typename Pred&gt;\nauto search_with(const Array&amp; array, const T&amp; value, Pred&amp;&amp; pred) noexcept {\n    return search_with(std::begin(array), std::end(array), value, std::forward&lt;Pred&gt;(pred));\n}\n\nint main() {\n    std::vector&lt;int&gt; v = { 1, 2, 3 };\n    search_with(v, 10, std::less&lt;int&gt;{}); // ok\n    search_with(v.begin(), v.end(), 10);  // fail!\n}\n</code></pre>\n\n<p>I do not understand why in the second <code>search_with</code> call, the compiler selects the third overload. If I comment out the third overload, then the code compiles fine. This indicates that the second overload is not discarded as it does compile, and it should be a valid overload.</p>\n\n<p>However, the third overload is chosen, which fails, as there is no specialization of <code>std::begin</code> (and <code>std::end</code>) for iterators:</p>\n\n<pre><code>main.cpp: In instantiation of 'auto search_with(const Array&amp;, const T&amp;, Pred&amp;&amp;) [with Array = __gnu_cxx::__normal_iterator&lt;int*, std::vector&lt;int&gt; &gt;; T = __gnu_cxx::__normal_iterator&lt;int*, std::vector&lt;int&gt; &gt;; Pred = int]':\nmain.cpp:23:39:   required from here\nmain.cpp:17:34: error: no matching function for call to 'begin(const __gnu_cxx::__normal_iterator&lt;int*, std::vector&lt;int&gt; &gt;&amp;)'\n     return search_with(std::begin(array), std::end(array), value, std::forward&lt;Pred&gt;(pred));\n                        ~~~~~~~~~~^~~~~~~\n</code></pre>\n\n<p>I would have thought that the opposite happens: the third overload is discarded because it fails to compile, and the second one is chosen.</p>\n\n<p>But that is obviously not the case, so what is happening here? Why is the wrong overload being chosen? Why is the third overload a better match then the second one?</p>\n"}, {"tags": ["c++", "operator-overloading", "constants"], "comments": [{"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 1, "creation_date": 1481142386, "post_id": 41026723, "comment_id": 69260750, "body": "No, they both return lvalues..."}, {"owner": {"reputation": 231, "user_id": 3112441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b0cf9731402bfad19d0b2f977d4a70?s=128&d=identicon&r=PG&f=1", "display_name": "dma1324", "link": "https://stackoverflow.com/users/3112441/dma1324"}, "reply_to_user": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "edited": false, "score": 0, "creation_date": 1481142657, "post_id": 41026723, "comment_id": 69260903, "body": "@Brian If you have a class <code>a</code> with function <code>const int&amp; getInt() const</code>, wouldn&#39;t <code>a.getInt() = 5</code> be illegal?  On the other hand, if it returned a non-const reference, wouldn&#39;t it be legal that way?"}], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 3112441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b0cf9731402bfad19d0b2f977d4a70?s=128&d=identicon&r=PG&f=1", "display_name": "dma1324", "link": "https://stackoverflow.com/users/3112441/dma1324"}, "edited": false, "score": 0, "creation_date": 1481142994, "post_id": 41026799, "comment_id": 69261075, "body": "I&#39;m sorry if I&#39;m missing something stupid here, but why can&#39;t the first snippet just call the non-const overload?"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 231, "user_id": 3112441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b0cf9731402bfad19d0b2f977d4a70?s=128&d=identicon&r=PG&f=1", "display_name": "dma1324", "link": "https://stackoverflow.com/users/3112441/dma1324"}, "edited": false, "score": 2, "creation_date": 1481143338, "post_id": 41026799, "comment_id": 69261245, "body": "@dma1324 because C++ is a strongly typed language, and <code>const</code> is part of the type. A non-const type will decay to a const one when necessary, but not the other way around."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 5, "last_activity_date": 1481142542, "creation_date": 1481142542, "answer_id": 41026799, "question_id": 41026723, "link": "https://stackoverflow.com/questions/41026723/why-do-we-have-separate-functions-that-return-const-and-non-const/41026799#41026799", "title": "Why do we have separate functions that return const and non-const?", "body": "<p><code>const</code> overload will be called when the object itself is declared <code>const</code>. For example, if we only had non-const overload of <code>operator[]</code> on <code>std::vector</code>, following code would refuse to compile:</p>\n\n<pre><code>const std::vector&lt;int&gt; a{10, 20, 30};\nint y = a[0];\n</code></pre>\n\n<p>On the other hand, if we don't have non-const overload, following would fail:</p>\n\n<pre><code>std::vector&lt;int&gt; a{10, 20, 30};\na[0] = 15;\n</code></pre>\n\n<p>And last, but not the least, none of those functions return <code>rvalue</code>. Both return <code>lvalue</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 6633, "user_id": 2378300, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/852aed09b52c7514ed23f75f2921f6cc?s=128&d=identicon&r=PG", "display_name": "Jonas", "link": "https://stackoverflow.com/users/2378300/jonas"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142933, "last_edit_date": 1481142933, "creation_date": 1481142564, "answer_id": 41026805, "question_id": 41026723, "link": "https://stackoverflow.com/questions/41026723/why-do-we-have-separate-functions-that-return-const-and-non-const/41026805#41026805", "title": "Why do we have separate functions that return const and non-const?", "body": "<p>The const version exist to for allow element access (read only) of a constant vector. \nWithout it a const vector would be a <a href=\"https://en.m.wikipedia.org/wiki/Write-only_memory_(joke)\" rel=\"nofollow noreferrer\">WOM</a>. </p>\n\n<p>The function returns a const reference, meaning that you cannot assign a new value to it but you can copy it elsewhere (if it is copyable).</p>\n"}, {"tags": [], "owner": {"reputation": 352, "user_id": 3930348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e835f05895ef7a4a3e2e717dd7705083?s=128&d=identicon&r=PG&f=1", "display_name": "Jim Vargo", "link": "https://stackoverflow.com/users/3930348/jim-vargo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142709, "creation_date": 1481142709, "answer_id": 41026843, "question_id": 41026723, "link": "https://stackoverflow.com/questions/41026723/why-do-we-have-separate-functions-that-return-const-and-non-const/41026843#41026843", "title": "Why do we have separate functions that return const and non-const?", "body": "<p>Well the reference returning version makes it possible to modify the vector using the bracket notation:</p>\n\n<pre><code>a[1] = -1;\n</code></pre>\n\n<p>Since the object on the left side is a reference to the entry in the vector, this actually modifies the vector.</p>\n\n<p>The const_reference returning version makes it possible to access the elements of a const vector.</p>\n\n<pre><code>const vector&lt;int&gt; a {1, 3};\nint x = a[0];\n</code></pre>\n\n<p>This would not compile without the const_reference overload.      </p>\n"}], "owner": {"reputation": 231, "user_id": 3112441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46b0cf9731402bfad19d0b2f977d4a70?s=128&d=identicon&r=PG&f=1", "display_name": "dma1324", "link": "https://stackoverflow.com/users/3112441/dma1324"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "closed_date": 1481142691, "accepted_answer_id": 41026799, "answer_count": 3, "score": 2, "last_activity_date": 1481142933, "creation_date": 1481142317, "last_edit_date": 1481142387, "question_id": 41026723, "link": "https://stackoverflow.com/questions/41026723/why-do-we-have-separate-functions-that-return-const-and-non-const", "closed_reason": "Duplicate", "title": "Why do we have separate functions that return const and non-const?", "body": "<p>According to <a href=\"http://www.cplusplus.com/reference/vector/vector/operator[]/\" rel=\"nofollow noreferrer\">cplusplus.com</a>, <code>std::vector::operator[]</code> has two overloads:</p>\n\n<pre><code>      reference operator[] (size_type n);\nconst_reference operator[] (size_type n) const;\n</code></pre>\n\n<p>Why do we need the <code>const</code> version of the function? Or, <strong>why don't we just write one non-const function?</strong>  </p>\n\n<p>For example, in the following code:</p>\n\n<pre><code>std::vector&lt;int&gt; a = {1, 2, 3, 4, 5};\nint b = a[1] + a[3];  // Why does it matter if this is const?\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-program-options"], "comments": [{"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 2, "creation_date": 1481142155, "post_id": 41026616, "comment_id": 69260608, "body": "Just write a function that returns something callable."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 1, "creation_date": 1481142189, "post_id": 41026616, "comment_id": 69260629, "body": "You can overload <code>operator()</code>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1481142238, "post_id": 41026616, "comment_id": 69260664, "body": "Also very close <a href=\"https://stackoverflow.com/questions/10486588/boost-program-options-add-options-syntax\" title=\"boost program options add options syntax\">stackoverflow.com/questions/10486588/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3096803"}, "edited": false, "score": 0, "creation_date": 1481142520, "post_id": 41026616, "comment_id": 69260829, "body": "You&#39;re absolutely right, didn&#39;t come up in the similar threads. Still a somewhat confusing implementation to wrap my head around."}], "answers": [{"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": true, "score": 1, "last_activity_date": 1481142452, "creation_date": 1481142452, "answer_id": 41026775, "question_id": 41026616, "link": "https://stackoverflow.com/questions/41026616/which-c-language-feature-is-repeating-parentheses-after-function-call/41026775#41026775", "title": "Which C++ language feature is repeating parentheses after function call?", "body": "<p>Simplified example:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nclass Options {\npublic:\n    Options&amp; operator()(std::string text)\n    {\n        strings.push_back(text);\n        return *this;\n\n    }\n    std::vector&lt;std::string&gt; strings;\n\n};\n\nint main()\n{\n    Options options{};\n    options(\"Some text\")\n        (\"more text\")\n        (\"even more text\");\n    for(const auto&amp; text : options.strings)\n        std::cout &lt;&lt; text &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>Produces:</p>\n\n<pre><code>Some text\nmore text\neven more text\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3096803"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "closed_date": 1481142204, "accepted_answer_id": 41026775, "answer_count": 1, "score": 0, "last_activity_date": 1481142452, "creation_date": 1481141935, "last_edit_date": 1481142115, "question_id": 41026616, "link": "https://stackoverflow.com/questions/41026616/which-c-language-feature-is-repeating-parentheses-after-function-call", "closed_reason": "Duplicate", "title": "Which C++ language feature is repeating parentheses after function call?", "body": "<p>I am using the boost::program_options library and the code below is used to create a description of the options and add options to it:</p>\n\n<pre><code>po::options_description opts(\"SendFile Options\");\n\n    opts.add_options()(\"help,h\", \"Print this help message\")\n        (\"other,o\",\"This is the other\");\n</code></pre>\n\n<p>My question is, which C++ language feature allows you to add the separate descriptions directly after calling the add_options function in the form of repeating values contained in parentheses? What is this called, and how would I create a function that works in this manner?</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 6557, "user_id": 2495795, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/13606de0b736d7191e2cf2bfea1d4fda?s=128&d=identicon&r=PG", "display_name": "BufBills", "link": "https://stackoverflow.com/users/2495795/bufbills"}, "edited": false, "score": 1, "creation_date": 1481141330, "post_id": 41026424, "comment_id": 69260101, "body": "you sure this is c++?"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 6557, "user_id": 2495795, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/13606de0b736d7191e2cf2bfea1d4fda?s=128&d=identicon&r=PG", "display_name": "BufBills", "link": "https://stackoverflow.com/users/2495795/bufbills"}, "edited": false, "score": 0, "creation_date": 1481141458, "post_id": 41026424, "comment_id": 69260172, "body": "@BufBills Why wouldn&#39;t it be?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 2, "creation_date": 1481141485, "post_id": 41026424, "comment_id": 69260187, "body": "This is a general-reference question. Consult <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">your favorite book on the C++ language</a> to see what the <code>new</code> operator does, how objects are allocated with automatic storage duration, and how pointers work."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481141520, "post_id": 41026424, "comment_id": 69260224, "body": "Same as the difference between <code>int foo[10];</code> and <code>int *foo = new int[10];</code>."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1481141777, "post_id": 41026424, "comment_id": 69260393, "body": "The first creates a <i>dynamic</i> array of pointers from the <i>free store</i> (heap), the second  creates an array of pointers as a local <i>automatic</i> variable (on the stack) that will be deleted automatically when it goes out of scope."}, {"owner": {"reputation": 710, "user_id": 5595353, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f1ca276424f201d4b276567edd8b584?s=128&d=identicon&r=PG&f=1", "display_name": "Admia", "link": "https://stackoverflow.com/users/5595353/admia"}, "edited": false, "score": 0, "creation_date": 1481142521, "post_id": 41026424, "comment_id": 69260831, "body": "So *(objects+2) for Line 1 is equivalent to objects[2] for Line 2?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1481145194, "post_id": 41026424, "comment_id": 69262329, "body": "<code>*(objects+2)</code> is equivalent to <code>objects[2]</code> for <i>both</i> of them. The access syntax is the same for both."}], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 5595353, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f1ca276424f201d4b276567edd8b584?s=128&d=identicon&r=PG&f=1", "display_name": "Admia", "link": "https://stackoverflow.com/users/5595353/admia"}, "edited": false, "score": 0, "creation_date": 1481142414, "post_id": 41026561, "comment_id": 69260770, "body": "By initializing you mean giving some initial values to the objects?"}, {"owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "reply_to_user": {"reputation": 710, "user_id": 5595353, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f1ca276424f201d4b276567edd8b584?s=128&d=identicon&r=PG&f=1", "display_name": "Admia", "link": "https://stackoverflow.com/users/5595353/admia"}, "edited": false, "score": 1, "creation_date": 1481142643, "post_id": 41026561, "comment_id": 69260895, "body": "No, not to the MyClass objects. In Line1 your variable <code>objects</code> after initialization starts to point to a number of pointers (array of pointres). And elements of this array are not initialized."}], "tags": [], "owner": {"reputation": 9740, "user_id": 1459996, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/df2798299346f952d526d49a27fbde4e?s=128&d=identicon&r=PG", "display_name": "Kirill Kobelev", "link": "https://stackoverflow.com/users/1459996/kirill-kobelev"}, "is_accepted": true, "score": 1, "last_activity_date": 1481141751, "creation_date": 1481141751, "answer_id": 41026561, "question_id": 41026424, "link": "https://stackoverflow.com/questions/41026424/pointer-to-pointers-in-c-without-the-new-keyword/41026561#41026561", "title": "Pointer to pointers in C++ without the new keyword", "body": "<p>The line1 defines a pointer to pointer to object and it contains initializer.\nThe second line (line2) defines an array of pointers to objects. This array is not initialized in any way.</p>\n"}], "owner": {"reputation": 710, "user_id": 5595353, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f1ca276424f201d4b276567edd8b584?s=128&d=identicon&r=PG&f=1", "display_name": "Admia", "link": "https://stackoverflow.com/users/5595353/admia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "closed_date": 1481141963, "accepted_answer_id": 41026561, "answer_count": 1, "score": -1, "last_activity_date": 1481142299, "creation_date": 1481141278, "question_id": 41026424, "link": "https://stackoverflow.com/questions/41026424/pointer-to-pointers-in-c-without-the-new-keyword", "closed_reason": "Duplicate", "title": "Pointer to pointers in C++ without the new keyword", "body": "<p>What is the different between the following two lines of code in C++?</p>\n\n<p><strong>Line1:</strong></p>\n\n<pre><code>MyClass ** objects = new MyClass * [Number];\n</code></pre>\n\n<p><strong>Line2</strong></p>\n\n<pre><code>MyClass *  objects [Number];\n</code></pre>\n"}, {"tags": ["c++", "c++11", "debugging", "inheritance", "casting"], "comments": [{"owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "edited": false, "score": 1, "creation_date": 1481141162, "post_id": 41026341, "comment_id": 69259994, "body": "Are these 3 classes all in one header, or spread out in multiple headers?"}, {"owner": {"reputation": 3264, "user_id": 1159517, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/11746c73ae435d34366a3b171f68da0d?s=128&d=identicon&r=PG&f=1", "display_name": "user1159517", "link": "https://stackoverflow.com/users/1159517/user1159517"}, "edited": false, "score": 0, "creation_date": 1481141510, "post_id": 41026341, "comment_id": 69260216, "body": "All there classes are spread out in different headers."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 1, "creation_date": 1481141953, "post_id": 41026341, "comment_id": 69260489, "body": "Create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "is_accepted": false, "score": 1, "last_activity_date": 1481141520, "creation_date": 1481141520, "answer_id": 41026490, "question_id": 41026341, "link": "https://stackoverflow.com/questions/41026341/how-to-fix-cannot-initialize-return-object-of-type-base-with-an-lvalue-of-type/41026490#41026490", "title": "How to fix &#39;cannot initialize return object of type Base* with an lvalue of type value_type (aka Derived*)?", "body": "<p>This error happens when the relation between the types Base and Derived are not known to the compiler.</p>\n\n<p>This is the case if you only have forward declarations of Base and/or Derived, but no class definitions. Including the header that defines Derived before you attempt this conversion should resolve your issue.</p>\n"}, {"tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": true, "score": 8, "last_activity_date": 1481141597, "creation_date": 1481141597, "answer_id": 41026521, "question_id": 41026341, "link": "https://stackoverflow.com/questions/41026341/how-to-fix-cannot-initialize-return-object-of-type-base-with-an-lvalue-of-type/41026521#41026521", "title": "How to fix &#39;cannot initialize return object of type Base* with an lvalue of type value_type (aka Derived*)?", "body": "<p>The header that defines <code>X</code> is not including the header that defines class <code>Derived</code>, so the compiler does not know the relationship between <code>Base</code> and <code>Derived</code>.</p>\n"}], "owner": {"reputation": 3264, "user_id": 1159517, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/11746c73ae435d34366a3b171f68da0d?s=128&d=identicon&r=PG&f=1", "display_name": "user1159517", "link": "https://stackoverflow.com/users/1159517/user1159517"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8803, "favorite_count": 1, "accepted_answer_id": 41026521, "answer_count": 2, "score": 5, "last_activity_date": 1481152796, "creation_date": 1481140977, "last_edit_date": 1481152796, "question_id": 41026341, "link": "https://stackoverflow.com/questions/41026341/how-to-fix-cannot-initialize-return-object-of-type-base-with-an-lvalue-of-type", "title": "How to fix &#39;cannot initialize return object of type Base* with an lvalue of type value_type (aka Derived*)?", "body": "<p>I have a base class and a derived class. When i try to convert the derived class pointer to base class pointer, i get a compilation error.</p>\n\n<pre><code>class Base  {\n  ..\n}\n\nclass Derived: public Base {\n\n}\n\nclass X {\n    public:\n        Base* getWriter(int shard) {\n            return writers[0][shard];\n        }\n    private:\n        mutable vector&lt;vector&lt;Derived*&gt;&gt; writers_;\n}\n</code></pre>\n\n<p>And the error I get is</p>\n\n<blockquote>\n  <p>error: cannot initialize return object of type 'Base *'<br>\n   with an lvalue of type 'value_type' (aka 'Derived *') on line \"return writers[0][shard];\"</p>\n</blockquote>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1642, "user_id": 2157401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LqbUX.jpg?s=128&g=1", "display_name": "MordechayS", "link": "https://stackoverflow.com/users/2157401/mordechays"}, "edited": false, "score": 1, "creation_date": 1481140958, "post_id": 41026297, "comment_id": 69259854, "body": "What is the compilation error?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 3, "creation_date": 1481141046, "post_id": 41026297, "comment_id": 69259914, "body": "You know what is a <i>really good</i> tool for telling you what&#39;s wrong with C++ code? A compiler. What did it tell you was wrong with it?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1481141085, "post_id": 41026297, "comment_id": 69259951, "body": "There&#39;s no <code>=+</code> operator."}, {"owner": {"reputation": 6557, "user_id": 2495795, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/13606de0b736d7191e2cf2bfea1d4fda?s=128&d=identicon&r=PG", "display_name": "BufBills", "link": "https://stackoverflow.com/users/2495795/bufbills"}, "edited": false, "score": 0, "creation_date": 1481141135, "post_id": 41026297, "comment_id": 69259985, "body": "this looks suspicious too. &quot;p =new (nothrow)int [i];&quot;"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481141137, "post_id": 41026297, "comment_id": 69259986, "body": "@molbdnilo: Indeed, there is no such operator. But where did you find &quot;<code>=+</code> operator&quot; in the code?"}, {"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "edited": false, "score": 0, "creation_date": 1481141149, "post_id": 41026297, "comment_id": 69259990, "body": "Iam using ECLIPSE and it says &quot; cannot open output file [myfilename&#39;exe]&quot;. permission denied&quot;"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 2, "creation_date": 1481141242, "post_id": 41026297, "comment_id": 69260041, "body": "@AnT There&#39;s an attempt to use it in the line that says <code>sum =+ p[j];</code>."}, {"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1481141321, "post_id": 41026297, "comment_id": 69260094, "body": "@Biffen so what do you advice? That is what i though at first so i restarted it and i still have the same message"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1481141328, "post_id": 41026297, "comment_id": 69260099, "body": "@molbdnilo: Nope, there isn&#39;t. That is just <code>=</code> operator followed by unary <code>+</code> operator. Obviously, it does not do what the OP wanted it to do, but it is still perfectly correct from the language point of view. There&#39;s no <code>=+</code> operator in this code. With the same degree of success you can point at <code>cout &lt;&lt; p[j]&lt;&lt; &quot;,&quot; &lt;&lt; endl;</code> and state that &quot;there&#39;s no <code>]&lt;&lt;</code> operator&quot;."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481141331, "post_id": 41026297, "comment_id": 69260102, "body": "I&#39;m not sure what Eclipse is complaining about. There should be no problem compiling that."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1481141779, "post_id": 41026297, "comment_id": 69260396, "body": "@TINA15 Could it be that you&#39;re still running you&#39;re program while trying to compile (well, link) it?"}, {"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1481141940, "post_id": 41026297, "comment_id": 69260480, "body": "@Biffen i am not sure what you mean."}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1481142014, "post_id": 41026297, "comment_id": 69260528, "body": "@TINA15 If you&#39;re executing the exe Windows won&#39;t let you overwrite it when you try to link it again. I believe that&#39;s the error message you&#39;d see if that was the case."}, {"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "reply_to_user": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 0, "creation_date": 1481142822, "post_id": 41026297, "comment_id": 69260991, "body": "@Biffen So what you mean is that, i am running the code while it is still running?"}, {"owner": {"reputation": 5296, "user_id": 418066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/38yuw.png?s=128&g=1", "display_name": "Biffen", "link": "https://stackoverflow.com/users/418066/biffen"}, "edited": false, "score": 1, "creation_date": 1481142908, "post_id": 41026297, "comment_id": 69261035, "body": "@TINA15 No, that you&#39;re <i>compiling and linking</i> the code while it is still running. But that&#39;s just one of many possibilities."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 3, "creation_date": 1481207072, "post_id": 41026297, "comment_id": 69290815, "body": "Completely transforming your question and invalidating answers in the process is strongly discouraged. If you have made some progress and encountered another problem, please post it as a new question."}, {"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1481208568, "post_id": 41026297, "comment_id": 69291800, "body": "Ok @Quentin. Thanks for that. I will do that."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "edited": false, "score": 0, "creation_date": 1481141514, "post_id": 41026377, "comment_id": 69260221, "body": "oh thanks!! i will make the change"}], "tags": [], "owner": {"reputation": 804, "user_id": 1837420, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dcc8aebb48a00b1d6c6a37a956b3a529?s=128&d=identicon&r=PG", "display_name": "Carlos Jimenez Bermudez", "link": "https://stackoverflow.com/users/1837420/carlos-jimenez-bermudez"}, "is_accepted": false, "score": 2, "last_activity_date": 1481141108, "creation_date": 1481141108, "answer_id": 41026377, "question_id": 41026297, "link": "https://stackoverflow.com/questions/41026297/how-to-debug-cannot-open-output-file-allocating-memory-exe-permission-denied/41026377#41026377", "title": "How to debug &quot;cannot open output file allocating memory.exe: Permission denied&quot; in C++?", "body": "<p>You have a typo around the += operator.</p>\n\n<pre><code>sum =+ p[j];\n</code></pre>\n\n<p>It should be:</p>\n\n<pre><code>sum += p[j];\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6774204, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c40cc7ec894464ec6da5873d01c07792?s=128&d=identicon&r=PG&f=1", "display_name": "TINA15", "link": "https://stackoverflow.com/users/6774204/tina15"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "closed_date": 1481141239, "answer_count": 1, "score": 0, "last_activity_date": 1484086100, "creation_date": 1481140834, "last_edit_date": 1484086100, "question_id": 41026297, "link": "https://stackoverflow.com/questions/41026297/how-to-debug-cannot-open-output-file-allocating-memory-exe-permission-denied", "closed_reason": "Not suitable for this site", "title": "How to debug &quot;cannot open output file allocating memory.exe: Permission denied&quot; in C++?", "body": "<p>I am learning how to allocate memory. This code is suppose to prompt the user to input some values and then print the values out, and the sum of all those values. But the code only prints the values out. It does not print out the sum. I am using ECLIPSE to run this code and whenever I try to run it, I get the message \"error exist in this code. Do you want to continue launching?\". I can't find the error. </p>\n\n<p>Here is the message I get whenever I run it. PS the file name is allocating memory.</p>\n\n<pre><code>15:12:29 **** Incremental Build of configuration Debug for project allocating memory ****\nInfo: Internal Builder is used for build\ng++ -O0 -g3 -Wall -c -fmessage-length=0 -o \"src\\\\allocating memory.o\" \"..\\\\src\\\\allocating memory.cpp\" \ng++ -o \"allocating memory.exe\" \"src\\\\allocating memory.o\" \nc:/mingw/bin/../lib/gcc/x86_64-w64-mingw32/6.2.0/../../../../x86_64-w64-mingw32/bin/ld.exe: cannot open output file allocating memory.exe: Permission denied\ncollect2.exe: error: ld returned 1 exit status\n</code></pre>\n\n<p>Here is the code.thanks</p>\n\n<pre><code> #include &lt;iostream&gt;\n    using namespace std;\n\n    int main() {\n        int i, j, sum = 0 ;\n        int *p;\n\n        cout&lt;&lt;\"how many numbers do you want to input\"&lt;&lt;endl;\n                cin&gt;&gt; i;\n\n            p =new (nothrow)int [i];\n            if (p== nullptr){\n\n                cout&lt;&lt;\"Sorry not enough memory to allocate for this program\"&lt;&lt;endl;}\n            else {\n                for (j=0; j&lt;i; j++){\n                cout&lt;&lt;\"enter the numbers then \"&lt;&lt;endl;\n                cin&gt;&gt; p[j];}\n            // to print the numbers\n\n                cout &lt;&lt; \"the numbers you entered are\"&lt;&lt;endl;\n                    for (j=0; j&lt;i;j++){\n                        cout &lt;&lt; p[j]&lt;&lt; \",\" &lt;&lt; endl;\n                        sum +=p[j];\n                        cout &lt;&lt; \"the sum of all the inputs are\"&lt;&lt; sum ;\n                    }\n\n                    delete[] p;\n            }\n        return 0;\n    }\n</code></pre>\n\n<p>***** update***</p>\n\n<p>Here is a better attempt to this question and it works. I am trying to dynamically allocate memory for the inputs from the user, print out those input and find their sums. Here is the code.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    int i, j, sum = 0 ;\n    int *p;\n\n    cout&lt;&lt;\"how many numbers do you want to input\"&lt;&lt;endl;\n            cin&gt;&gt; i;\n\n        p =new (nothrow)int [i];\n        if (p== nullptr){\n\n            cout&lt;&lt;\"Sorry not enough memory to allocate for this program\"&lt;&lt;endl;}\n        else {\n            for (j=0; j&lt;i; j++){\n            cout&lt;&lt;\"enter the numbers then \"&lt;&lt;endl;\n            cin&gt;&gt; p[j];}\n        // to print the numbers\n\n            cout &lt;&lt; \"the numbers you entered are\"&lt;&lt; endl;\n                for (j=0; j&lt;i;j++){\n                    cout &lt;&lt; p[j]&lt;&lt; \",\";\n                    sum = sum + p[j];\n                }\n                cout &lt;&lt; endl;\n            cout &lt;&lt; \"The sum of these numbers is \" &lt;&lt; sum&lt;&lt; endl;\n\n\n\n                delete[] p;\n        }\n    return 0;\n} \n</code></pre>\n"}, {"tags": ["c++", "c", "opengl"], "comments": [{"owner": {"reputation": 4122, "user_id": 3951525, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/hix21.jpg?s=128&g=1", "display_name": "Starl1ght", "link": "https://stackoverflow.com/users/3951525/starl1ght"}, "edited": false, "score": 0, "creation_date": 1481228742, "post_id": 41026267, "comment_id": 69303919, "body": "Consider using Visual Studio as industry standard for Windows"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3968963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75780ccfb838a2d47e8988ede2379de0?s=128&d=identicon&r=PG&f=1", "display_name": "Arnab Bhattacharya", "link": "https://stackoverflow.com/users/3968963/arnab-bhattacharya"}, "edited": false, "score": 1, "creation_date": 1481225856, "post_id": 41039817, "comment_id": 69302433, "body": "First of all, I would like to thank you for taking out your valuable time. Today the issue has been solved. The problem was with the compiler and debugger settings of codeblocks software. The compiler was set as &quot;Dev C++&quot; maybe because I had Dev C++ installed in my system before installing CodeBlocks. I changed that to TDM-GCC directory and the problem was fixed. However, with that &quot;Dev C++&quot; one I was able to use GLFW 2.7."}], "tags": [], "owner": {"reputation": 300, "user_id": 7172363, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000922552347/picture?type=large", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u041d\u0435\u0443\u0434\u0430\u0447\u0438\u043d", "link": "https://stackoverflow.com/users/7172363/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b5%d0%b9-%d0%9d%d0%b5%d1%83%d0%b4%d0%b0%d1%87%d0%b8%d0%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1481200979, "creation_date": 1481200979, "answer_id": 41039817, "question_id": 41026267, "link": "https://stackoverflow.com/questions/41026267/building-glfw3-programs-in-codeblocks-16-01-in-windows-7-failed/41039817#41039817", "title": "Building glfw3 programs in CodeBlocks 16.01 in Windows 7 failed", "body": "<p>looks like you need to add library(.lib) with this stuff. <code>.h</code> file has been \ndeployed  already so you need to detect it. Then you can google for library.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3968963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75780ccfb838a2d47e8988ede2379de0?s=128&d=identicon&r=PG&f=1", "display_name": "Arnab Bhattacharya", "link": "https://stackoverflow.com/users/3968963/arnab-bhattacharya"}, "is_accepted": false, "score": 1, "last_activity_date": 1481228283, "last_edit_date": 1481228283, "creation_date": 1481227247, "answer_id": 41047837, "question_id": 41026267, "link": "https://stackoverflow.com/questions/41026267/building-glfw3-programs-in-codeblocks-16-01-in-windows-7-failed/41047837#41047837", "title": "Building glfw3 programs in CodeBlocks 16.01 in Windows 7 failed", "body": "<p>Today the problem is solved. The problem was with the compiler settings in CodeBlocks. In CodeBlocks, under <em>\"Settings\"</em> tab <em>\"Compiler\"->\"ToolchainExecutables\"</em>, it was <em>\"Dev C++\"</em>. I installed <em>TDM-GCC-32</em> (<a href=\"http://tdm-gcc.tdragon.net/download\" rel=\"nofollow noreferrer\">http://tdm-gcc.tdragon.net/download</a>) 32 bit version. Then changed <em>\"Dev C++\"</em> with the directory where TDM-GCC-32 is installed in my computer. </p>\n\n<p>Next in <em>\"Settings\"->\"Debugger\"</em> option, I selected <em>\"GDB/CDB Debugger\"</em> and \"Default\". Then provided the path of <strong><em>gdb32.exe</em></strong> located in the <em>TDM-GCC-32/bin</em> directory. </p>\n\n<p>I think as I had installed Dev C++ before installing codeblocks, Dev C++ was selected by default (not sure). For those who are facing similar problems but DEV C++ is not their case, updating TDM-GCC may help.</p>\n\n<p>However, this DEV C++ compiler was working for older GLFW 2.7. Today, I have also found another problem with this DEV C++ one. I was using freeglut. When I was including <em>iostream</em> along with <em>GL/glut.h</em> similar <strong><em>\"undefined reference to `__chkstk_ms'\"</em></strong> error message was appearing.</p>\n\n<p>But now, it is ok. Thank you all :)</p>\n"}], "owner": {"reputation": 31, "user_id": 3968963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75780ccfb838a2d47e8988ede2379de0?s=128&d=identicon&r=PG&f=1", "display_name": "Arnab Bhattacharya", "link": "https://stackoverflow.com/users/3968963/arnab-bhattacharya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1481228283, "creation_date": 1481140732, "last_edit_date": 1481208553, "question_id": 41026267, "link": "https://stackoverflow.com/questions/41026267/building-glfw3-programs-in-codeblocks-16-01-in-windows-7-failed", "title": "Building glfw3 programs in CodeBlocks 16.01 in Windows 7 failed", "body": "<p>I am using <em>CodeBlocks 16.01</em> in Windows7. I have downloaded <em>GLFW</em> windows binary <a href=\"http://www.glfw.org/\" rel=\"nofollow noreferrer\">from here</a>. I have copied include and <code>lib-mingw</code> to my project folder. Have provided the include and <code>lib-mingw</code> directories for Compiler and Linker options respectively in the build options. In the Linker settings tab, I have added <code>glfw3</code>,<code>gdi32</code> and <code>opengl32</code>. I'm running the sample program given in the documentation page of the <em>GLFW</em> website. The program is compiling. While building a warning and an error message is displayed:</p>\n\n<blockquote>\n  <p>Warning: .drectve `-aligncomm:\"__glfw\",5' unrecognized</p>\n</blockquote>\n\n<p>And</p>\n\n<blockquote>\n  <p>init.c     undefined reference to `__chkstk_ms'</p>\n</blockquote>\n\n<p>Have googled a lot, but in vain. Any help would be great.</p>\n"}, {"tags": ["c++", "c", "linux", "multithreading", "signals"], "comments": [{"owner": {"reputation": 17765, "user_id": 95710, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6rg2j.png?s=128&g=1", "display_name": "DForck42", "link": "https://stackoverflow.com/users/95710/dforck42"}, "edited": false, "score": 0, "creation_date": 1481143511, "post_id": 41026184, "comment_id": 69261341, "body": "can you provide an example of what you&#39;re talking about?"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 7064870, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1560b305d9b31e8b794c4c5527c10537?s=128&d=identicon&r=PG&f=1", "display_name": "lukecam95", "link": "https://stackoverflow.com/users/7064870/lukecam95"}, "edited": false, "score": 0, "creation_date": 1481144152, "post_id": 41026562, "comment_id": 69261750, "body": "Thanks for your reply! If I am setting up a timer in the main and then I create the threads, how do I decide which thread should handle it then?"}, {"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "reply_to_user": {"reputation": 55, "user_id": 7064870, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1560b305d9b31e8b794c4c5527c10537?s=128&d=identicon&r=PG&f=1", "display_name": "lukecam95", "link": "https://stackoverflow.com/users/7064870/lukecam95"}, "edited": false, "score": 0, "creation_date": 1481144414, "post_id": 41026562, "comment_id": 69261899, "body": "Common approach is to create a dedicated thread. See <a href=\"http://man7.org/linux/man-pages/man3/pthread_sigmask.3.html\" rel=\"nofollow noreferrer\">pthread_sigmask()</a> where you can find a complete example."}, {"owner": {"reputation": 340, "user_id": 2063520, "user_type": "registered", "accept_rate": 13, "profile_image": "https://i.stack.imgur.com/a0mfP.jpg?s=128&g=1", "display_name": "Parthiv Shah", "link": "https://stackoverflow.com/users/2063520/parthiv-shah"}, "reply_to_user": {"reputation": 55, "user_id": 7064870, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1560b305d9b31e8b794c4c5527c10537?s=128&d=identicon&r=PG&f=1", "display_name": "lukecam95", "link": "https://stackoverflow.com/users/7064870/lukecam95"}, "edited": false, "score": 0, "creation_date": 1486381873, "post_id": 41026562, "comment_id": 71305464, "body": "@lukecam95 Go through this thread <a href=\"http://stackoverflow.com/questions/13114678/posix-threads-block-signal-and-unblock\" title=\"posix threads block signal and unblock\">stackoverflow.com/questions/13114678/&hellip;</a> to understand how pthread_sigmask works."}], "tags": [], "owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "is_accepted": false, "score": 2, "last_activity_date": 1481141752, "creation_date": 1481141752, "answer_id": 41026562, "question_id": 41026184, "link": "https://stackoverflow.com/questions/41026184/why-do-i-need-to-use-pthread-sigmask-in-multithreaded-programs-to-assure-that-a/41026562#41026562", "title": "Why do I need to use Pthread_sigmask in multithreaded programs to assure that a signal is being handled by the set handler?", "body": "<blockquote>\n  <p>Won't the signal be handled anyway when it is sent, regardless of which thread is processing at the given time instant? </p>\n</blockquote>\n\n<p>In a single threaded program, yes. But in a multi-threaded program, POSIX doesn't specify which thread would receive the signal <code>SIGVTALRM</code> you send. Hence, <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_sigmask.html\" rel=\"nofollow noreferrer\"><code>pthread_sigmask()</code></a> is typically used to block the interested signals and handle fetch those signal(s) <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/sigwait.html\" rel=\"nofollow noreferrer\"><code>sigwait()</code></a> in a dedicated thread. This is probably the reason why you are using or asked to use <code>pthread_sigmask()</code>.</p>\n\n<p>The linked POSIX manual also provides a simple example showing how this can be done.</p>\n"}], "owner": {"reputation": 55, "user_id": 7064870, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1560b305d9b31e8b794c4c5527c10537?s=128&d=identicon&r=PG&f=1", "display_name": "lukecam95", "link": "https://stackoverflow.com/users/7064870/lukecam95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481141752, "creation_date": 1481140435, "question_id": 41026184, "link": "https://stackoverflow.com/questions/41026184/why-do-i-need-to-use-pthread-sigmask-in-multithreaded-programs-to-assure-that-a", "title": "Why do I need to use Pthread_sigmask in multithreaded programs to assure that a signal is being handled by the set handler?", "body": "<p>I have a multi-threaded program which needs to handle the Linux signal SIGVTALRM sent by a setitimer() every 25ms. However I am confused. I do not know why I need to use the Pthread_sigmask() to block and unblock the signal. Won't the signal be handled anyway when it is sent, regardless of which thread is processing at the given time instant? </p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481139862, "post_id": 41025922, "comment_id": 69259194, "body": "You have undefined behavior."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1481140512, "post_id": 41025922, "comment_id": 69259555, "body": "Null pointer points to no object. Expression that evaluates to no object got undefined behavior. Undefined behavior in general case. In particular, it might be that method DOES NOT access <code>this</code>(which is null in this case, you can check that by debugger) implicitly or explicitly  and thus doesn&#39;t raise platform&#39;s analog of segfault. Maybe it just accesses static members\\fields or is a NOP?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1481143078, "post_id": 41025922, "comment_id": 69261113, "body": "&quot;<code>pCellScanData</code> is a class&quot; -- no, it&#39;s not. From the way it&#39;s used it appears to be a pointer."}, {"owner": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 1, "creation_date": 1481160508, "post_id": 41025922, "comment_id": 69268174, "body": "Visual C++ needs to support calling member functions with null <code>this</code> pointers in order to support Microsoft&#39;s own APIs (or at least MFC).  See <code>CWnd::GetSafeHwnd</code> <a href=\"https://msdn.microsoft.com/en-us/library/d64ehwhz(v=vs.120).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/d64ehwhz(v=vs.120).aspx</a>"}, {"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "reply_to_user": {"reputation": 2689, "user_id": 1687639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5a6dd18900e2bfd6dffec21ee358f31?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Oicles", "link": "https://stackoverflow.com/users/1687639/christopher-oicles"}, "edited": false, "score": 0, "creation_date": 1481232096, "post_id": 41025922, "comment_id": 69305641, "body": "@ChristopherOicles: sounds plausible, but there should be some warning at runtime (only applicable to user-written code)."}, {"owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "edited": false, "score": 0, "creation_date": 1481232124, "post_id": 41025922, "comment_id": 69305654, "body": "Still need to know what the current C++ standards say about this."}], "owner": {"reputation": 611, "user_id": 1308854, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/236c8c7dc04e187fd607d526dbce3e8b?s=128&d=identicon&r=PG", "display_name": "Woody20", "link": "https://stackoverflow.com/users/1308854/woody20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "closed_date": 1481140066, "answer_count": 0, "score": 0, "last_activity_date": 1481148482, "creation_date": 1481139547, "last_edit_date": 1481148482, "question_id": 41025922, "link": "https://stackoverflow.com/questions/41025922/call-member-function-of-a-class-without-specifying-a-class-instance-allowed", "closed_reason": "Duplicate", "title": "Call member function of a class without specifying a class instance allowed?", "body": "<p>In a C++ pgm, I have code that looks like</p>\n\n<pre><code>int expectedNewValue = pCellScanData-&gt;WLToggle(iWL);\n</code></pre>\n\n<p>where <code>pCellScanData</code> is a class and <code>WLToggle</code> is a member function of that class. Due to a programming error, I invoked this code with <code>pCellScanData</code> 0 (i e, <code>nullptr</code>), and it did not give a runtime error in a debug (unoptimized) build. The function <code>WLToggle</code> did not attempt to access any data members of the class. It is not a static member.</p>\n\n<p>Is this behavior expected, or allowed by the C++ standard? Even if it is, I would expect the debug build to at least warn about this suspicious condition.</p>\n\n<p>Using Visual Studio 2015 update 3 under 64-bit Windows 7.</p>\n\n<p>UPDATE: I am asking two questions: (1) What does the <em>current</em> C++ standard say? This is addressed in the referred \"duplicate\" question, but using the standard in force at the time (6 years ago). (2) Why does Visual Studio debug runtime not give a warning or error for this undefined behavior?</p>\n"}, {"tags": ["c++", "function"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1481140198, "post_id": 41025803, "comment_id": 69259370, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481140431, "post_id": 41025803, "comment_id": 69259509, "body": "Hint: <code>for (int k=1;k&lt;=i;k++){</code> Why do you need this loop if you are return on the first compare regardless?"}, {"owner": {"reputation": 11, "user_id": 7213198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2ef8f63265f67aa860ae9fd81af1d219?s=128&d=identicon&r=PG&f=1", "display_name": "jcoe", "link": "https://stackoverflow.com/users/7213198/jcoe"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481141216, "post_id": 41025803, "comment_id": 69260028, "body": "@drescherjm that&#39;s the thing, how do I stop the function from returning when it gets the first comparison."}, {"owner": {"reputation": 11, "user_id": 7213198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2ef8f63265f67aa860ae9fd81af1d219?s=128&d=identicon&r=PG&f=1", "display_name": "jcoe", "link": "https://stackoverflow.com/users/7213198/jcoe"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481141563, "post_id": 41025803, "comment_id": 69260255, "body": "@drescherjm I found a fix, thanks for hinting where the problem is."}], "answers": [{"comments": [{"owner": {"reputation": 591, "user_id": 6129388, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/4eUyg.jpg?s=128&g=1", "display_name": "Ahmed Aboumalek", "link": "https://stackoverflow.com/users/6129388/ahmed-aboumalek"}, "edited": false, "score": 0, "creation_date": 1481148264, "post_id": 41026660, "comment_id": 69263855, "body": "@jcoe If this solves all your problems please mark it down as solved."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 3, "last_activity_date": 1481148314, "last_edit_date": 1481148314, "creation_date": 1481142072, "answer_id": 41026660, "question_id": 41025803, "link": "https://stackoverflow.com/questions/41025803/program-doesnt-work-properly/41026660#41026660", "title": "Program doesn&#39;t work properly", "body": "<p>You need to spend more time breaking down the logic of your task. The way you've worded it is confusing, and I think it's contributing to the way you've written your code.</p>\n\n<blockquote>\n  <ol>\n  <li>Input integers n and m (for example n = 1; m = 10)</li>\n  <li>Input all the values from n to m (for example 1;2;3;4;5;6;7;8;9;10) into a dynamic array</li>\n  <li>Then with bool function you have to search the dynamic array for 2 numbers who are squared and summed together and make some kind of 3rd number (for example 1*1 + 1*1 = 2; 2*2 + 2*2 = 8 etc etc)</li>\n  </ol>\n</blockquote>\n\n<p>I see no (logical) problem with how you've written part 1, but for clarity's sake, I'm going to rename them to <code>start</code> and <code>end</code>.</p>\n\n<pre><code>//I'm also getting rid of superfluous variables we don't need.\nint start, end;\n\ncin &gt;&gt; start;\ncin &gt;&gt; end;\n</code></pre>\n\n<p>Part 2 is where we start hitting problems. For starters, you've made your program needlessly complicated by involving manual management of dynamic memory. A <code>std::vector</code> is perfectly suited for our task (for more than one reason, as you'll soon see...)</p>\n\n<pre><code>std::vector&lt;int&gt; data;\n</code></pre>\n\n<p>We're going to load up our values into <code>data</code>. Based on your prompt, the inputs for <code>start</code> and <code>end</code> are an inclusive range, so we'll write it like so:</p>\n\n<pre><code>for(int i = start; i &lt;= end; i++) {\n    data.emplace_back(i);\n}\n</code></pre>\n\n<p>In your version of the code, this is just confusing:</p>\n\n<pre><code>for (int q=0, j=n; q&lt;size, j&lt;=m; q++, j++){\n    real[q] = j;\n}\n</code></pre>\n\n<p>You've defined <code>size</code> to be <code>m - n</code>, which will be 9, but the prompt wants all the numbers between 1 and 10, which means there should be 10 numbers; so off the bat, you're going to have errors. The code I've suggested will work more reliably.</p>\n\n<p>Finally, let's consider Step 3. It can (and should) be broken down into several steps:</p>\n\n<ul>\n<li>For each number in <code>data</code> (<code>z</code>),\n\n<ul>\n<li>iterate through each pair of numbers that preceded it (which, based on your examples, may include duplicates), and for each pair (<code>x</code> and <code>y</code>)</li>\n<li>determine if <code>x*x + y*y == z</code>, and if so, print those variables to the user.</li>\n</ul></li>\n</ul>\n\n<p>So let's write that code.</p>\n\n<pre><code>//Note we're using data.size(), to ensure we stay in valid memory\nfor(int i = 0; i &lt; data.size(); i++) {\n    int z = data[i];\n    //You can change the checks for j and k to \"j &lt;= i\" and \"k &lt;= i\" respectively\n    //if you want solutions where z*z + z*z = z, which can happen if z == 0.\n    for(int j = 0; j &lt; i; j++) {\n        //We don't need to repeat identical pairs, so we're starting k at j.\n        for(int k = j; k &lt; i; k++) {\n            int x = data[j];\n            int y = data[k];\n            if(x*x + y*y == z) {\n                std::cout \n                &lt;&lt; x &lt;&lt; \"*\" &lt;&lt; x \n                &lt;&lt; \" + \"\n                &lt;&lt; y &lt;&lt; \"*\" &lt;&lt; y\n                &lt;&lt; \" = \"\n                &lt;&lt; z\n                &lt;&lt; std::endl;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>For an input of <code>1 10</code>, I get the following output:</p>\n\n<pre><code>1*1 + 1*1 = 2\n1*1 + 2*2 = 5\n2*2 + 2*2 = 8\n1*1 + 3*3 = 10\n</code></pre>\n\n<p>And for an input of <code>4 200</code> I get the following output:</p>\n\n<pre><code>4*4 + 4*4 = 32\n4*4 + 5*5 = 41\n5*5 + 5*5 = 50\n4*4 + 6*6 = 52\n5*5 + 6*6 = 61\n4*4 + 7*7 = 65\n6*6 + 6*6 = 72\n5*5 + 7*7 = 74\n4*4 + 8*8 = 80\n6*6 + 7*7 = 85\n5*5 + 8*8 = 89\n4*4 + 9*9 = 97\n7*7 + 7*7 = 98\n6*6 + 8*8 = 100\n5*5 + 9*9 = 106\n7*7 + 8*8 = 113\n4*4 + 10*10 = 116\n6*6 + 9*9 = 117\n5*5 + 10*10 = 125\n8*8 + 8*8 = 128\n7*7 + 9*9 = 130\n6*6 + 10*10 = 136\n4*4 + 11*11 = 137\n8*8 + 9*9 = 145\n5*5 + 11*11 = 146\n7*7 + 10*10 = 149\n6*6 + 11*11 = 157\n4*4 + 12*12 = 160\n9*9 + 9*9 = 162\n8*8 + 10*10 = 164\n5*5 + 12*12 = 169\n7*7 + 11*11 = 170\n6*6 + 12*12 = 180\n9*9 + 10*10 = 181\n4*4 + 13*13 = 185\n8*8 + 11*11 = 185\n7*7 + 12*12 = 193\n5*5 + 13*13 = 194\n10*10 + 10*10 = 200\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7213198, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2ef8f63265f67aa860ae9fd81af1d219?s=128&d=identicon&r=PG&f=1", "display_name": "jcoe", "link": "https://stackoverflow.com/users/7213198/jcoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481148314, "creation_date": 1481139079, "question_id": 41025803, "link": "https://stackoverflow.com/questions/41025803/program-doesnt-work-properly", "title": "Program doesn&#39;t work properly", "body": "<p>so my program is supposed to work like this:    </p>\n\n<ol>\n<li>Input integers n and m (for example n = 1; m = 10)</li>\n<li>Input all the values from n to m (for example 1;2;3;4;5;6;7;8;9;10) into a dynamic array</li>\n<li>Then with bool function you have to search the dynamic array for 2 numbers who are squared and summed together and make some kind of 3rd number (for example 1*1 + 1*1 = 2; 2*2 + 2*2 = 8 etc etc)     </li>\n</ol>\n\n<p>The program for some reason either only outprints the very first combination or doesn't outprint anything at all (for example, if n = 1 and m = 10, it only outprints 1*1 + 1*1 = 2, but it should outprint 2*2 + 1*1 = 5; 2*2 + 2*2 = 8 etc etc, if n = 4 and m = 200 it doesn't even outprint anything). Where could the problem be? I've been stuck for hours and in my mind the program should work but it doesn't. Thanks a lot.</p>\n\n<pre><code>    #include &lt;iostream&gt;\n\nusing namespace std;\n\nbool isSquared (int i){\n   // bool result = false;\n\n    //int div;\n    //int *squares = new int [i];\n\n    for (int j=1;j&lt;=i;j++){\n        for (int k=1;k&lt;=i;k++){\n            if (k*k + j*j == i) return true;\n            else return false;\n        }\n    }\n}\n\n\nint main()\n{\n    int n,m,i,size;\n\n    cin &gt;&gt;n;\n    cin &gt;&gt;m;\n\n    size = m - n;\n    int *real = new int [m - n];\n\n    for (int q=0, j=n; q&lt;size, j&lt;=m; q++, j++){\n        real[q] = j;\n    }\n\n    for (int q=0; q&lt;=size; q++){\n        cout &lt;&lt;real[q] &lt;&lt;\" | \";\n    }\n\n    cout &lt;&lt;endl;\n\n    for (int i=n; i&lt;=m; i++){\n        if (isSquared(i) == true){\n            for (int j=0; j&lt;=size; j++){\n                for (int k=0; k&lt;=size; k++){\n                    if (real[j]*real[j] + real[k]*real[k] == i){\n                        cout &lt;&lt;i &lt;&lt;\"=\" &lt;&lt;real[j] &lt;&lt;\"*\" &lt;&lt;real[j] &lt;&lt;\"+\" &lt;&lt;real[k] &lt;&lt;\"*\" &lt;&lt;real[k] &lt;&lt;endl;\n                    }\n                }\n\n            }\n\n\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "multidimensional-array", "parallel-processing", "mpi"], "answers": [{"tags": [], "owner": {"reputation": 35454, "user_id": 1366871, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b3ec9d9128a25ba6eae8a1d42c2eb04a?s=128&d=identicon&r=PG", "display_name": "dreamcrash", "link": "https://stackoverflow.com/users/1366871/dreamcrash"}, "is_accepted": true, "score": 2, "last_activity_date": 1481148878, "last_edit_date": 1481148878, "creation_date": 1481147805, "answer_id": 41028109, "question_id": 41025693, "link": "https://stackoverflow.com/questions/41025693/mpi-scatter-a-2d-array-in-other-2d-arrays/41028109#41028109", "title": "MPI_Scatter a 2D array in other 2D arrays", "body": "<p>The problem with your code is that you declared two variables with the name matrix:</p>\n\n<p><code>int **matrix;</code> </p>\n\n<p>and </p>\n\n<p><code>int (*matrix)[cols] = malloc(sizeof *matrix* rows);</code></p>\n\n<p>and since the latter was declared inside the if (my_rank == 0) {..} the variable begin used in the scatter <code>MPI_Scatter(matrix, local_rows*rows, MPI_INT,local_matrix, local_rows*rows, MPI_INT, 0,   MPI_COMM_WORLD);</code></p>\n\n<p>is the first one, the not allocated one, and not the one you allocated space for. That is why you are getting the error.</p>\n\n<p>Try this:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#include \"mpi.h\"\n\nint main(int argc, char** argv) {\n\nint my_rank;\nint p;\nint root;\nint rows = 0;\nint cols = 0;\n\nint i, j;\nint local_rows;\nint answer = 0;\nint broke = 0;\nMPI_Init(&amp; argc, &amp; argv);\nMPI_Comm_rank(MPI_COMM_WORLD, &amp; my_rank);\nMPI_Comm_size(MPI_COMM_WORLD, &amp; p);\n\nint (*matrix)[cols];\n\nif (my_rank == 0) {\n\n    do {\n        printf(\"Enter Dimensions NxN\\n\");\n        scanf(\"%d\", &amp; rows);\n        scanf(\"%d\", &amp; cols);\n        if (cols != rows) {\n            printf(\"Columns must be the same as rows,enter dimensions again.\\n\");\n        }\n\n    } while (rows != cols);        \n\n    matrix = malloc(sizeof *matrix * rows);\n\n    printf(\"Fill array %dx%d\\n\", rows, cols);\n    for (i = 0; i &lt; rows; i++) {\n        for (j = 0; j &lt; cols; j++) {\n            scanf(\"%d\",&amp;matrix[i][j]);\n\n        }\n    }\n\n    printf(\"\\n\");\n    for (i = 0; i &lt; rows; i++) {\n        for (j = 0; j &lt; cols; j++) {\n            printf(\"%d \",matrix[i][j]);\n        }\n        printf(\"\\n\");\n    }\n}\n\nroot = 0;\nMPI_Bcast(&amp;rows, 1, MPI_INT, root, MPI_COMM_WORLD);\nMPI_Bcast(&amp;cols, 1, MPI_INT, root, MPI_COMM_WORLD);\nlocal_rows = rows / p;\n\n// Changed from the original\nint (*local_matrix)[cols] = malloc(sizeof *local_matrix* local_rows);\n\nprintf(\"R = (%d, %d, %d) \\n\",my_rank, local_rows, cols);\n\n\nif(my_rank == 0)\n{\n    printf(\"\\n\");\n    for (i = 0; i &lt; rows; i++) {\n        for (j = 0; j &lt; cols; j++) {\n            printf(\"%d \",matrix[i][j]);\n        }\n        printf(\"\\n\");\n    }\n}\n\n\nMPI_Scatter(matrix, local_rows*cols, MPI_INT,local_matrix, \n            local_rows*cols, MPI_INT, 0,   MPI_COMM_WORLD);\n</code></pre>\n\n<p>...</p>\n\n<p>Btw I think you meant:</p>\n\n<p><code>int (*local_matrix)[cols] = malloc(sizeof *local_matrix* local_rows);</code></p>\n\n<p>and not</p>\n\n<p><code>int (*local_matrix)[rows] = malloc(sizeof *local_matrix* local_rows);</code></p>\n\n<p>Also do not forget to free the \"local_matrix\" for the slaves also.</p>\n"}], "owner": {"reputation": 13, "user_id": 7264095, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1ukcOMp1OE8/AAAAAAAAAAI/AAAAAAAAAJk/jyYYH2VVppw/photo.jpg?sz=128", "display_name": "georgep", "link": "https://stackoverflow.com/users/7264095/georgep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 41028109, "answer_count": 1, "score": 1, "last_activity_date": 1607797495, "creation_date": 1481138677, "last_edit_date": 1607797495, "question_id": 41025693, "link": "https://stackoverflow.com/questions/41025693/mpi-scatter-a-2d-array-in-other-2d-arrays", "title": "MPI_Scatter a 2D array in other 2D arrays", "body": "<p>I want to scatter a 2D array in other 2D arrays (one for each process) using this specific way of allocating memory.</p>\n<pre><code>int (*matrix)[cols] = malloc(sizeof *matrix* rows);\n \n</code></pre>\n<p>I keep getting this error:</p>\n<blockquote>\n<p>One of the processes started by mpirun has exited with a nonzero exit\ncode.  This typically indicates that the process finished in error.\nIf your process did not finish in error, be sure to include a &quot;return\n0&quot; or &quot;exit(0)&quot; in your C code before exiting the application.</p>\n</blockquote>\n<blockquote>\n<p>PID 7035 failed on node n0 (127.0.0.1) due to signal 11.</p>\n</blockquote>\n<p>I think the problem is on scatter but I am new to parallel programming so if anyone knows what the issue is please help me.\nThanks in advance.</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;math.h&gt;\n#include &quot;mpi.h&quot;\n\nint main(int argc, char** argv) {\n\n  int my_rank;\n  int p;\n  int root;\n  int rows = 0;\n  int cols = 0;\n  int **matrix;\n\n  int i, j;\n  int local_rows;\n  int answer = 0;\n  int broke = 0;\n\n  MPI_Init(&amp; argc, &amp; argv);\n  MPI_Comm_rank(MPI_COMM_WORLD, &amp; my_rank);\n  MPI_Comm_size(MPI_COMM_WORLD, &amp; p);\n\n  if (my_rank == 0) {\n\n    do {\n        printf(&quot;Enter Dimensions NxN\\n&quot;);\n        scanf(&quot;%d&quot;, &amp; rows);\n        scanf(&quot;%d&quot;, &amp; cols);\n        if (cols != rows) {\n            printf(&quot;Columns must be the same as rows,enter dimensions again.\\n&quot;);\n        }\n    } while (rows != cols);        \n    int (*matrix)[cols] = malloc(sizeof *matrix* rows);\n\n    printf(&quot;Fill array %dx%d\\n&quot;, rows, cols);\n    for (i = 0; i &lt; rows; i++) {\n        for (j = 0; j &lt; cols; j++) {\n            scanf(&quot;%d&quot;,&amp;matrix[i][j]);\n\n        }\n    }\n\n    printf(&quot;\\n&quot;);\n    for (i = 0; i &lt; rows; i++) {\n        for (j = 0; j &lt; cols; j++) {\n            printf(&quot;%d &quot;,matrix[i][j]);\n        }\n        printf(&quot;\\n&quot;);\n    }\n  }\n\n  root = 0;\n  MPI_Bcast(&amp;rows, 1, MPI_INT, root, MPI_COMM_WORLD);\n  MPI_Bcast(&amp;cols, 1, MPI_INT, root, MPI_COMM_WORLD);\n  local_rows = rows / p;\n\n\n  int (*local_matrix)[rows] = malloc(sizeof *local_matrix* local_rows);\n\n  MPI_Scatter(matrix, local_rows*rows, MPI_INT,local_matrix, local_rows*rows, MPI_INT, 0,   MPI_COMM_WORLD);\n\n  printf(&quot;\\nLocal matrix fo the process %d is :\\n&quot;, my_rank);\n\n  for (i = 0; i &lt; local_rows; i++) {\n      for (j = 0; j &lt; cols; j++) {\n        printf(&quot;%d &quot;, local_matrix[i][j]);\n    }\n    printf(&quot;\\n&quot;);\n  }\n  if (my_rank==0){\n     free(matrix);\n     free(local_matrix);\n  }   \n  MPI_Finalize();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481138524, "post_id": 41025619, "comment_id": 69258475, "body": "Look up serialization.  That will show you how this should be done"}, {"owner": {"reputation": 31, "user_id": 7050245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9fa4683cc3ad7f8c039c944ecdd32?s=128&d=identicon&r=PG&f=1", "display_name": "Kinyo356", "link": "https://stackoverflow.com/users/7050245/kinyo356"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481139074, "post_id": 41025619, "comment_id": 69258782, "body": "Most of it where only about the definition &quot;converting objects into binary data streams...&quot;."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481139152, "post_id": 41025619, "comment_id": 69258818, "body": "A character array can have advantage because it is fixed in length."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7050245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9fa4683cc3ad7f8c039c944ecdd32?s=128&d=identicon&r=PG&f=1", "display_name": "Kinyo356", "link": "https://stackoverflow.com/users/7050245/kinyo356"}, "edited": false, "score": 0, "creation_date": 1481224998, "post_id": 41027447, "comment_id": 69301999, "body": "Thanks. It works. But does that mean for every string type being a member of a struct, I  must make a separate definition of using read and write like you did with the len in both functions?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31, "user_id": 7050245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9fa4683cc3ad7f8c039c944ecdd32?s=128&d=identicon&r=PG&f=1", "display_name": "Kinyo356", "link": "https://stackoverflow.com/users/7050245/kinyo356"}, "edited": false, "score": 0, "creation_date": 1481225904, "post_id": 41027447, "comment_id": 69302458, "body": "@Kinyo356: Reading/writing the string length is just a convenience, not a requirement. You could just read/write a null terminator instead, for instance. Using a length makes memory management a little easier when reading back. But it depends on your particular storage format.  But yes, in general, you must serialize <i>any</i> kind of dynamically allocated data, which includes <code>std::string</code>, variable length arrays, etc."}, {"owner": {"reputation": 31, "user_id": 7050245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9fa4683cc3ad7f8c039c944ecdd32?s=128&d=identicon&r=PG&f=1", "display_name": "Kinyo356", "link": "https://stackoverflow.com/users/7050245/kinyo356"}, "edited": false, "score": 0, "creation_date": 1485815277, "post_id": 41027447, "comment_id": 71073449, "body": "OK. I appreciate the explanation"}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 1, "last_activity_date": 1481145093, "creation_date": 1481145093, "answer_id": 41027447, "question_id": 41025619, "link": "https://stackoverflow.com/questions/41025619/using-string-instead-of-char-array-with-read-and-write-in-a-struct-to-file/41027447#41027447", "title": "Using string instead of char array with read() and write() in a struct to file", "body": "<p>A <code>std::string</code> (or any other dynamic sized container) contains a pointer to its character data that is stored elsewhere in memory.  If you were to <code>read()</code>/<code>write()</code> the <code>std::string</code> itself as-is, you would only be reading/writing the pointer value, not the actual character data.  This is not the case with a fixed array.</p>\n\n<p>In order to use <code>std::string</code> in your <code>struct</code>, you would have to <em>(de)serialize</em> the content of the <code>struct</code> back and forth so you can take dynamic data into account.</p>\n\n<p>For example:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;cstdint&gt; \n\nusing namespace std;\n\nstruct details\n{\n    string name;\n    int32_t add_year;\n};\n\nistream&amp; operator&gt;&gt;(istream &amp;in, details &amp;out)\n{\n    int32_t len;\n    if (in.read((char*) &amp;len, sizeof(len)))\n    {\n        out.name.resize(len);\n        if (len &gt; 0) in.read(&amp;(out.name[0]), len);\n        in.read((char*) &amp;(out.add_year), sizeof(out.add_year));\n    }\n    return in;\n}\n\nostream&amp; operator&lt;&lt;(ostream &amp;out, const details &amp;in)\n{\n    int32_t len = in.name.size();\n    out.write((char*) &amp;len, sizeof(len));\n    out.write(in.name.c_str(), len);\n    out.write((char*) &amp;(in.add_year), sizeof(in.add_year));\n    return out;\n}\n\nconst char * file = \"students.dat\";\n\nint main()\n{\n    details x;\n\n    ifstream ifile;\n    ifile.open(file, ios_base::binary);\n    if (ifile.is_open())\n    {\n        cout &lt;&lt; \"Contents of \" &lt;&lt; file &lt;&lt; \" is\" &lt;&lt; endl;\n        while (ifile &gt;&gt; x)\n        {\n            cout &lt;&lt; x.name &lt;&lt; \" - \" &lt;&lt; x.add_year &lt;&lt; endl;\n        }\n        ifile.close();\n    }\n\n    cout &lt;&lt; \"Name:\" &lt;&lt; endl;\n    getline(cin, x.name);\n    cout &lt;&lt; \"Year added:\" &lt;&lt; endl;\n    cin &gt;&gt; x.add_year;\n\n    ofstream ofile(file, ios_base::app|ios_base::binary);\n    if (!ofile.is_open())\n    {\n        cerr &lt;&lt; \"Can't open \" &lt;&lt; file &lt;&lt; endl;\n        exit(EXIT_FAILURE);\n    }\n    ofile &lt;&lt; x;\n    ofile.close();\n\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7050245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2f9fa4683cc3ad7f8c039c944ecdd32?s=128&d=identicon&r=PG&f=1", "display_name": "Kinyo356", "link": "https://stackoverflow.com/users/7050245/kinyo356"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 41027447, "answer_count": 1, "score": 0, "last_activity_date": 1481145093, "creation_date": 1481138392, "last_edit_date": 1481144421, "question_id": 41025619, "link": "https://stackoverflow.com/questions/41025619/using-string-instead-of-char-array-with-read-and-write-in-a-struct-to-file", "title": "Using string instead of char array with read() and write() in a struct to file", "body": "<p>Is there a way a <code>string</code> could be used instead of a <code>char[]</code> array in the below <code>struct</code>, and still be saved to a file using <code>read</code> and <code>write</code> functions without getting a runtime error?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;fstream&gt;\n\nusing namespace std;\n\nstruct details\n{\n    char name[30];\n    int add_year;\n};\n\nconst char * file = \"students.dat\";\n\nint main()\n{\n    details x;\n    ifstream ifile;\n    ifile.open(file,ios_base::in|ios_base::binary);\n    if(ifile.is_open())\n    {\n        cout&lt;&lt;\"Contents of \"&lt;&lt;file&lt;&lt;\" is\"&lt;&lt;endl;\n        while(ifile.read((char *)&amp;x,sizeof x))\n        {\n            cout&lt;&lt;x.name&lt;&lt;\" - \"&lt;&lt;x.add_year&lt;&lt;endl;\n        }\n        ifile.close();\n    }\n    ofstream ofile(file,ios_base::out|ios_base::app|ios_base::binary);\n    if(!ofile.is_open())\n    {\n        cerr&lt;&lt;\"Can't open \"&lt;&lt;file&lt;&lt;endl;\n        exit(EXIT_FAILURE);\n    }\n    cout&lt;&lt;\"Name\"&lt;&lt;endl;\n    cin.get(x.name,30);\n    cout&lt;&lt;\"Year added\"&lt;&lt;endl;\n    cin&gt;&gt;x.add_year;\n    ofile.write((char *) &amp;x, sizeof x);\n    ofile.close();\n    cin.get();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "coding-style", "static-linking"], "comments": [{"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1481138833, "post_id": 41025601, "comment_id": 69258636, "body": "&lt;quote&gt;&quot;I kept finding myself debugging linker and compiler errors more than actually writing useful code&quot;&lt;/quote&gt; Welcome to the library implementer&#39;s world. ;) The question is interesting, but is &quot;too broad&quot; for SO and will be closed of course... Sad ;("}, {"owner": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1481138929, "post_id": 41025601, "comment_id": 69258693, "body": "While it&#39;s still there, I would advise you too look at Alex Stepanov&#39;s (original C++ STL author) lectures at Amazon A9. You&#39;ll find a lot of ideas there."}, {"owner": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "reply_to_user": {"reputation": 12286, "user_id": 1607442, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/18451ad16ed8ad45b0a18bf70b2aa002?s=128&d=identicon&r=PG", "display_name": "Ivan Aksamentov - Drop", "link": "https://stackoverflow.com/users/1607442/ivan-aksamentov-drop"}, "edited": false, "score": 0, "creation_date": 1481142805, "post_id": 41025601, "comment_id": 69260976, "body": "Thanks for the feedback @Drop, I will definitely take a look into that. In a different topic though, why would this be considered too broad?"}], "answers": [{"comments": [{"owner": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "edited": false, "score": 0, "creation_date": 1481142658, "post_id": 41026650, "comment_id": 69260904, "body": "This is actually included in the second option I mentioned and won&#39;t work.The problem is that if the implementation is in a different cpp file (ex. linear_operator.cpp) and I include the header in some other file that actually uses a <code>LinearOperator</code> with explicit types, the compiler does not know which types should be used as the template params when compiling linear_operator.cpp, so it will trigger a linker error."}, {"owner": {"reputation": 6691, "user_id": 116846, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d2aed6e4a81b20e7c2ba7033ef849c25?s=128&d=identicon&r=PG", "display_name": "Erix", "link": "https://stackoverflow.com/users/116846/erix"}, "reply_to_user": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "edited": false, "score": 0, "creation_date": 1481143034, "post_id": 41026650, "comment_id": 69261093, "body": "@fcortes it will work, but you do have to get the build right. The file linear_operator.cpp needs to be correctly compiled and linked in to the user code."}, {"owner": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "edited": false, "score": 0, "creation_date": 1481144402, "post_id": 41026650, "comment_id": 69261893, "body": "Do you mind giving me some more info about that? I am currently compiling with something like <code>g++ linear_operator.cpp main.cpp -o main</code> and it gives a linker error in <a href=\"https://gist.github.com/fcortes/3933d0ef635cfc7f6912607ff836e6ed\" rel=\"nofollow noreferrer\">this</a> example. If I uncomment the explicit declaration of <code>LinearOperator&lt;double, double&gt;</code> in <code>linear_operator.cpp</code> it works as expected."}, {"owner": {"reputation": 6691, "user_id": 116846, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d2aed6e4a81b20e7c2ba7033ef849c25?s=128&d=identicon&r=PG", "display_name": "Erix", "link": "https://stackoverflow.com/users/116846/erix"}, "reply_to_user": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "edited": false, "score": 0, "creation_date": 1481146257, "post_id": 41026650, "comment_id": 69262881, "body": "@fcortes your&#39;re right, you&#39;d need to include the cpp file (instead of the h file) in main.cpp"}], "tags": [], "owner": {"reputation": 6691, "user_id": 116846, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d2aed6e4a81b20e7c2ba7033ef849c25?s=128&d=identicon&r=PG", "display_name": "Erix", "link": "https://stackoverflow.com/users/116846/erix"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142051, "creation_date": 1481142051, "answer_id": 41026650, "question_id": 41025601, "link": "https://stackoverflow.com/questions/41025601/how-to-build-a-good-template-based-c-library/41026650#41026650", "title": "How to build a good template-based C++ library?", "body": "<p>I wouldn't implement them in the header. That can cause headaches for people depending on how they are using the libraries. </p>\n\n<p>You can implement all the functionality in source files without actually specifying real template params:</p>\n\n<pre><code>template&lt;typename F, typename G&gt;\nVector&lt;G&gt; LinearOperator&lt;F,G&gt;::Apply(const Vector&lt;F&gt;&amp; vec) {\n //implement using F and G\n}\n</code></pre>\n\n<p>This isn't really going to affect the size of your library. The compiler will only make copies of your classes with the template params substituted when it encounters an actual concrete type being used.</p>\n\n<p>You probably don't want to explicitly declare all the possible types in a source file. This will cause longer compilation time and a larger library. You could include a list of all the acceptable concrete types in documentation, or commented out somewhere.</p>\n"}], "owner": {"reputation": 92, "user_id": 356925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd514792c56a76e29e3e792dfc1eb4a?s=128&d=identicon&r=PG", "display_name": "fcortes", "link": "https://stackoverflow.com/users/356925/fcortes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 738, "favorite_count": 0, "closed_date": 1481163225, "answer_count": 1, "score": 3, "last_activity_date": 1481142051, "creation_date": 1481138310, "question_id": 41025601, "link": "https://stackoverflow.com/questions/41025601/how-to-build-a-good-template-based-c-library", "closed_reason": "Opinion-based", "title": "How to build a good template-based C++ library?", "body": "<p>I'm designing a high-performance c++ math library that (ideally) should work with any field (in a math context, so real or complex numbers) and vector space. I initially thought that using templates would do the trick, but I kept finding myself debugging linker and compiler errors more than actually writing useful code.</p>\n\n<p>An example of the code I'm trying to build is the following:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code> template&lt;class F, class G&gt;\n    class LinearOperator { // For example a matrix multiplication A*x\n        Vector&lt;G&gt; Apply(const Vector&lt;F&gt;&amp; vec);   // Compute y = A*x\n        Vector&lt;F&gt; Adjoint(const Vector&lt;G&gt;&amp; vec); // Compute x = transpose(A)*y\n    }\n</code></pre>\n\n<p>So that one could inherit from <code>LinearOperator</code> to build their own and have the freedom to chose the input and output vector spaces. For example in the case of an implementation of the Fourier Transform for real numbers, the input vector would have real (say <code>double</code>) entries, but the output vectors should be of a complex type.</p>\n\n<p>From what I've researched, there are basically two options</p>\n\n<ul>\n<li><p>Implement all the functions in the header so the linker would always inline them when called. </p>\n\n<p><strong>Pros</strong>: No linker errors when just including the headers.</p>\n\n<p><strong>Cons</strong>: This would probably increase the binary size and could make the code run slower (?).</p></li>\n<li><p>Explicitly declare types in some <code>cpp</code> implementation file (as <code>template class LinearOperator&lt;double, std::complex&lt;double&gt;&gt;</code>). But I would like to leave the decision to the users.</p>\n\n<p><strong>Pros</strong>: Implementation separated from declaration. Better binary sizes and (maybe?) compile-time optimisations.</p>\n\n<p><strong>Cons</strong>: Only a limited number of types could be used, so the library would be less flexible. Also, declaring explicit types looks kinda weird.</p></li>\n</ul>\n\n<p>I have worked with c++ in the past but never really designing a library nor have I extensively used templates. Do you have any insights on how this could be done? Or any comment on the options I described? For example, I am not completely sure if the first option is less performant than the second one.</p>\n"}, {"tags": ["c++", "opencv", "video", "frame-rate"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481139343, "post_id": 41025594, "comment_id": 69258913, "body": "Search the internet for &quot;double buffering&quot;, a concept where one thread is writing a buffer while another thread is reading a buffer.  Multiple buffers can be used to adjust for speed."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1481139350, "post_id": 41025594, "comment_id": 69258916, "body": "Reading from a file, the FPS is just metadata that you may use. <code>VideoCapture</code> just decodes the frames as fast as it can."}, {"owner": {"reputation": 7272, "user_id": 757202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65f1ae2e6877a3d86075a6a9e4f4df0e?s=128&d=identicon&r=PG", "display_name": "Ricky Bobby", "link": "https://stackoverflow.com/users/757202/ricky-bobby"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481139385, "post_id": 41025594, "comment_id": 69258940, "body": "@ThomasMatthews thanks I&#39;m goin to check"}, {"owner": {"reputation": 7272, "user_id": 757202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65f1ae2e6877a3d86075a6a9e4f4df0e?s=128&d=identicon&r=PG", "display_name": "Ricky Bobby", "link": "https://stackoverflow.com/users/757202/ricky-bobby"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1481139476, "post_id": 41025594, "comment_id": 69258991, "body": "@DanMa\u0161ek, thanks, but how come using a regular videoReader I get a faster display (VLC for example) ?"}], "answers": [{"tags": [], "owner": {"reputation": 5865, "user_id": 45269, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/25c35e90595b236da0fee29edb70db7f?s=128&d=identicon&r=PG", "display_name": "Headcrab", "link": "https://stackoverflow.com/users/45269/headcrab"}, "is_accepted": true, "score": 1, "last_activity_date": 1481172363, "creation_date": 1481172363, "answer_id": 41031955, "question_id": 41025594, "link": "https://stackoverflow.com/questions/41025594/change-fps-on-video-capture-from-file-with-opencv/41031955#41031955", "title": "Change FPS on video capture from file with opencv", "body": "<p>TL;DR FPS is irrelevant to the problem, probably a performance issue</p>\n\n<p><strong>What FPS is used for?</strong> Before you can display a single frame of video, you have to read the data (from an HDD, DVD, Network, Internet or whatever) and decode it. Both of these operations take time, the amount of which differs from system to system, depending on the speed of HDD/Internet, processor speed etc. If we just display each frame as soon as it's ready, the resulting movie speed will, therefore, vary from system to system. That is usually not what we want, so along with the sequence of video frames we get the \"frames per second\" value (a. k. a. FPS), which tells us how soon we shall display each consecutive frame (once every 1/30-th of a second for 30 FPS, once every 1/60-th of a second for 60 FPS, etc.) If the frame is ready to be displayed but it's too early, we can wait till its time comes. If it's time to display a frame but it's not ready (on an underpowered/too busy system), there's not much we can do (maybe drop frames in some situations). To see the effect for yourself, try changing the FPS value for x2, saving the file and display it with VLC: for the same amount of data and same number of frame, you will notice that the speed of your video has doubled and the time - halved. Try writing each frame twice for your x2 FPS - you will see that the playback speed is back to normal (with double the number of frames and meaningless increase of the file size).</p>\n\n<p><strong>What FPS is not used for?</strong> When processing (not displaying) a video, we are not limited by the original FPS, and the processing goes as fast as it can. If your PC can process 1000 frames per second - good, if 1500 - even better. Needless to say, changing the FPS value in the file won't improve your CPU/HDD speed, so if you were only able to process 54 frames per second, you are still going to be able to only process 54 frames per second.</p>\n\n<p><strong>But how can VLC display faster?</strong> Assuming you didn't forget to switch from Debug to Release build before measuring time, there are still a number of possibilities: VLC is probably better optimized for the particular task of video playback (OpenCV is not really that fast at some tasks, plus it has to convert each frame to a more general Mat/UMat structure), multithreading (including \"double buffering\", as mentioned in the comments) is another possible reason, maybe caching as well (e. g. reading a block of data containing many frames from the HDD at once instead of reading and processing frames one by one).</p>\n"}], "owner": {"reputation": 7272, "user_id": 757202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/65f1ae2e6877a3d86075a6a9e4f4df0e?s=128&d=identicon&r=PG", "display_name": "Ricky Bobby", "link": "https://stackoverflow.com/users/757202/ricky-bobby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2855, "favorite_count": 0, "accepted_answer_id": 41031955, "answer_count": 1, "score": -1, "last_activity_date": 1481172363, "creation_date": 1481138289, "question_id": 41025594, "link": "https://stackoverflow.com/questions/41025594/change-fps-on-video-capture-from-file-with-opencv", "title": "Change FPS on video capture from file with opencv", "body": "<p>I'm reading a video file, and it's slower than the actual FPS of the file (59 FPS @1080p) even if i'm not doing any processing to the image:</p>\n\n<pre><code>       using namespace cv;\n       using namespace std;\n       // Global variables\n        UMat frame; //current frame\n        int main(int argc, char** argv)\n        {\n\n                VideoCapture capture(\"myFile.MP4\");\n                namedWindow(\"Frame\");\n                capture.set(CAP_PROP_FPS, 120); //not changing anything\n                cout&gt;&gt;capture.get(CAP_PROP_FPS);\n                while (charCheckForEscKey != 27) {\n\n                       capture &gt;&gt;frame;\n                if (frame.empty())\n                    break;\n                imshow(\"Frame\", frame);\n\n                }\n\n    }\n</code></pre>\n\n<p>Even if I tried to set CAP_PROP_FPS to 120 it doesn't change the fps of the file and when I get(CAP_PROP_FPS) I still get 59.9... </p>\n\n<p>When I read the video the actual outcome is more or less 54 FPS (even using UMat).</p>\n\n<p>Is there a way to read the file at a higher FPS rate ?</p>\n\n<p>I asked he question on the opencv Q&amp;A website as well :<a href=\"http://answers.opencv.org/question/117482/change-fps-on-video-capture-from-file/\" rel=\"nofollow noreferrer\">http://answers.opencv.org/question/117482/change-fps-on-video-capture-from-file/</a></p>\n\n<p>Is it just because my computer is too slow ? </p>\n"}, {"tags": ["c++", "wmi"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4701328, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hOtrcuZHXps/AAAAAAAAAAI/AAAAAAAABlU/JZvi6BvGV-Y/photo.jpg?sz=128", "display_name": "chanchos", "link": "https://stackoverflow.com/users/4701328/chanchos"}, "edited": false, "score": 0, "creation_date": 1533747092, "post_id": 42848834, "comment_id": 90463526, "body": "Thanks @tjac, this helped me get around an issue I was having with calling a class method. I also found this which was super useful: <a href=\"https://github.com/Microsoft/ctsTraffic\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/ctsTraffic</a>. It has a great WMI utility which greatly reduces the boilerplate you have to type when working with WMI."}], "tags": [], "owner": {"reputation": 667, "user_id": 859880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/73d09c1523343a4a377ee6247a2024a4?s=128&d=identicon&r=PG", "display_name": "tjac", "link": "https://stackoverflow.com/users/859880/tjac"}, "is_accepted": false, "score": 3, "last_activity_date": 1489722171, "creation_date": 1489722171, "answer_id": 42848834, "question_id": 41025357, "link": "https://stackoverflow.com/questions/41025357/using-win32-process-getowner-in-c/42848834#42848834", "title": "Using Win32_Process.GetOwner in C++", "body": "<p>After messing around off and on for a while, i finally figured out the answer to my own question. The problem is that you need to specify what object you want to execute the method against. To do this, you call GetObject(\"__PATH\", ...) to get the path to the object currently being enumerated and you pass the result of the GetObject (a BSTR) to ExecMethod as the first argument. This tells the method, in my case GetOwner, what you are trying to execute against. Here's a sample program I wrote that dumps the current list of processes and their owner. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>#define _WIN32_DCOM\r\n#include &lt;iostream&gt;\r\nusing namespace std;\r\n#include &lt;comdef.h&gt;\r\n#include &lt;Wbemidl.h&gt;\r\n\r\n#pragma comment(lib, \"wbemuuid.lib\")\r\n\r\nint main(int argc, char **argv)\r\n{\r\n\tHRESULT hres;\r\n\r\n\t// Step 1: --------------------------------------------------\r\n\t// Initialize COM. ------------------------------------------\r\n\r\n\thres = CoInitializeEx(0, COINIT_MULTITHREADED);\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Failed to initialize COM library. Error code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\treturn 1;                  // Program has failed.\r\n\t}\r\n\r\n\t// Step 2: --------------------------------------------------\r\n\t// Set general COM security levels --------------------------\r\n\r\n\thres = CoInitializeSecurity(\r\n\t\tNULL,\r\n\t\t-1,                          // COM authentication\r\n\t\tNULL,                        // Authentication services\r\n\t\tNULL,                        // Reserved\r\n\t\tRPC_C_AUTHN_LEVEL_DEFAULT,   // Default authentication \r\n\t\tRPC_C_IMP_LEVEL_IMPERSONATE, // Default Impersonation  \r\n\t\tNULL,                        // Authentication info\r\n\t\tEOAC_NONE,                   // Additional capabilities \r\n\t\tNULL                         // Reserved\r\n\t\t);\r\n\r\n\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Failed to initialize security. Error code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\tCoUninitialize();\r\n\t\treturn 1;                    // Program has failed.\r\n\t}\r\n\r\n\t// Step 3: ---------------------------------------------------\r\n\t// Obtain the initial locator to WMI -------------------------\r\n\r\n\tIWbemLocator *pLoc = NULL;\r\n\r\n\thres = CoCreateInstance(\r\n\t\tCLSID_WbemLocator,\r\n\t\t0,\r\n\t\tCLSCTX_INPROC_SERVER,\r\n\t\tIID_IWbemLocator, (LPVOID *)&amp;pLoc);\r\n\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Failed to create IWbemLocator object.\"\r\n\t\t\t&lt;&lt; \" Err code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\tCoUninitialize();\r\n\t\treturn 1;                 // Program has failed.\r\n\t}\r\n\r\n\t// Step 4: -----------------------------------------------------\r\n\t// Connect to WMI through the IWbemLocator::ConnectServer method\r\n\r\n\tIWbemServices *pSvc = NULL;\r\n\r\n\t// Connect to the root\\cimv2 namespace with\r\n\t// the current user and obtain pointer pSvc\r\n\t// to make IWbemServices calls.\r\n\thres = pLoc-&gt;ConnectServer(\r\n\t\t_bstr_t(L\"ROOT\\\\CIMV2\"), // Object path of WMI namespace\r\n\t\tNULL,                    // User name. NULL = current user\r\n\t\tNULL,                    // User password. NULL = current\r\n\t\t0,                       // Locale. NULL indicates current\r\n\t\tNULL,                    // Security flags.\r\n\t\t0,                       // Authority (for example, Kerberos)\r\n\t\t0,                       // Context object \r\n\t\t&amp;pSvc                    // pointer to IWbemServices proxy\r\n\t\t);\r\n\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Could not connect. Error code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;                // Program has failed.\r\n\t}\r\n\r\n\tcout &lt;&lt; \"Connected to ROOT\\\\CIMV2 WMI namespace\" &lt;&lt; endl;\r\n\r\n\r\n\t// Step 5: --------------------------------------------------\r\n\t// Set security levels on the proxy -------------------------\r\n\r\n\thres = CoSetProxyBlanket(\r\n\t\tpSvc,                        // Indicates the proxy to set\r\n\t\tRPC_C_AUTHN_WINNT,           // RPC_C_AUTHN_xxx\r\n\t\tRPC_C_AUTHZ_NONE,            // RPC_C_AUTHZ_xxx\r\n\t\tNULL,                        // Server principal name \r\n\t\tRPC_C_AUTHN_LEVEL_CALL,      // RPC_C_AUTHN_LEVEL_xxx \r\n\t\tRPC_C_IMP_LEVEL_IMPERSONATE, // RPC_C_IMP_LEVEL_xxx\r\n\t\tNULL,                        // client identity\r\n\t\tEOAC_NONE                    // proxy capabilities \r\n\t\t);\r\n\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Could not set proxy blanket. Error code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\tpSvc-&gt;Release();\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;               // Program has failed.\r\n\t}\r\n\r\n\tBSTR MethodName = SysAllocString(L\"GetOwner\");\r\n\tBSTR ClassName = SysAllocString(L\"Win32_Process\");\r\n\r\n\t// get the object containing our desired method\r\n\tIWbemClassObject* pClass = NULL;\r\n\thres = pSvc-&gt;GetObject(ClassName, 0, NULL, &amp;pClass, NULL);\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tprintf(\"GetObject hres = %08x\\n\", hres);\r\n\t\tpSvc-&gt;Release();\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;\r\n\t}\r\n\t\r\n\t// get the desired method\r\n\t// in our case, we only need pmethodGetOwner since GetOwner really only has output\r\n\tIWbemClassObject* pmethodGetOwner = NULL;\r\n\thres = pClass-&gt;GetMethod(MethodName, 0, NULL, &amp;pmethodGetOwner);\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tprintf(\"GetMethod hres = %08x\\n\", hres);\r\n\t\tpSvc-&gt;Release();\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t// spawn the instance of the method\r\n\tIWbemClassObject* pInInst = NULL;\r\n\thres = pmethodGetOwner-&gt;SpawnInstance(0, &amp;pInInst);\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tprintf(\"SpawnInstance hres = %08x\\n\", hres);\r\n\t\tpSvc-&gt;Release();\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;\r\n\t}\r\n\r\n\t// Step 6: --------------------------------------------------\r\n\t// Use the IWbemServices pointer to make requests of WMI ----\r\n\r\n\t// For example, get the name of the operating system\r\n\tIEnumWbemClassObject* pEnumerator = NULL;\r\n\thres = pSvc-&gt;ExecQuery(\r\n\t\tbstr_t(\"WQL\"),\r\n\t\tbstr_t(\"SELECT * FROM Win32_Process\"),\r\n\t\tWBEM_FLAG_FORWARD_ONLY | WBEM_FLAG_RETURN_IMMEDIATELY,\r\n\t\tNULL,\r\n\t\t&amp;pEnumerator);\r\n\r\n\tif (FAILED(hres))\r\n\t{\r\n\t\tcout &lt;&lt; \"Query for operating system name failed.\"\r\n\t\t\t&lt;&lt; \" Error code = 0x\"\r\n\t\t\t&lt;&lt; hex &lt;&lt; hres &lt;&lt; endl;\r\n\t\tpSvc-&gt;Release();\r\n\t\tpLoc-&gt;Release();\r\n\t\tCoUninitialize();\r\n\t\treturn 1;               // Program has failed.\r\n\t}\r\n\r\n\t// Step 7: -------------------------------------------------\r\n\t// Get the data from the query in step 6 -------------------\r\n\r\n\tIWbemClassObject *pclsObj = NULL;\r\n\tULONG uReturn = 0;\r\n\r\n\twhile (pEnumerator)\r\n\t{\r\n\t\tHRESULT hr = pEnumerator-&gt;Next(WBEM_INFINITE, 1, &amp;pclsObj, &amp;uReturn);\r\n\r\n\t\tif (0 == uReturn)\r\n\t\t{\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tVARIANT vtProp;\r\n\t\tVARIANT vtProcName;\r\n\t\tVARIANT vtDomain;\r\n\t\tVARIANT vtUsername;\r\n\r\n\t\t// Get the value of the Name property\r\n\t\thr = pclsObj-&gt;Get(L\"Name\", 0, &amp;vtProcName, 0, 0);\r\n\t\tif (FAILED(hres))\r\n\t\t{\r\n\t\t\tprintf(\"Failed to get the process's name\\n\");\r\n\t\t\tpclsObj-&gt;Release();\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// Get the PATH to the object in question\r\n\t\t// the result in vtProp is similar to '\\\\name_of_computer\\ROOT\\CIMV2:Win32_Process.Handle=\"pid_of_process\"'\r\n\t\thr = pclsObj-&gt;Get(L\"__PATH\", 0, &amp;vtProp, 0, 0);\r\n\t\tif (FAILED(hres))\r\n\t\t{\r\n\t\t\tprintf(\"Failed to get the path to the object\\n\");\r\n\t\t\tpclsObj-&gt;Release();\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// Execute Method against the object defined by the __PATH variable\r\n\t\thres = pSvc-&gt;ExecMethod(vtProp.bstrVal, MethodName, 0, NULL, NULL, &amp;pmethodGetOwner, NULL);\r\n\t\tif (FAILED(hres))\r\n\t\t{\r\n\t\t\twprintf(L\"Failed to execute the method against %s\\n\", vtProp.bstrVal);\r\n\t\t\tpclsObj-&gt;Release();\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// extract the results\r\n\t\thres = pmethodGetOwner-&gt;Get(L\"User\", 0, &amp;vtUsername, NULL, 0);\r\n\t\tif (FAILED(hres))\r\n\t\t{\r\n\t\t\tprintf(\"Failed to get the owner's name\\n\");\r\n\t\t\tpclsObj-&gt;Release();\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\tpmethodGetOwner-&gt;Get(L\"Domain\", 0, &amp;vtDomain, NULL, 0);\r\n\t\tif (FAILED(hres))\r\n\t\t{\r\n\t\t\tprintf(\"Failed to get the owner's domain\\n\");\r\n\t\t\tpclsObj-&gt;Release();\r\n\t\t\tcontinue;\r\n\t\t}\r\n\r\n\t\t// print the output to screen\r\n\t\twprintf(L\"Process: %s. Domain\\\\User: %s\\\\%s\\n\", V_BSTR(&amp;vtProcName), V_BSTR(&amp;vtDomain), V_BSTR(&amp;vtUsername));\r\n\r\n\t\t// release/cleanup resources we used this go around\r\n\t\tVariantClear(&amp;vtProcName);\r\n\t\tVariantClear(&amp;vtProp);\r\n\t\tVariantClear(&amp;vtDomain);\r\n\t\tVariantClear(&amp;vtUsername);\r\n\t\tpclsObj-&gt;Release();\r\n\r\n\t}\r\n\r\n\t// Cleanup\r\n\t// ========\r\n\r\n\tpSvc-&gt;Release();\r\n\tpLoc-&gt;Release();\r\n\tpEnumerator-&gt;Release();\r\n\tCoUninitialize();\r\n\r\n\treturn 0;   // Program successfully completed.\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I was able to figure all of this out thanks to a random posting on google groups from 2002 (<a href=\"https://groups.google.com/forum/?hl=de#!msg/microsoft.public.wbem/XI_eQJTBzEk/AstVXudS4iMJ\" rel=\"nofollow noreferrer\">\"Here is a WBem WMI C++ example\"</a>).</p>\n\n<p>I hope this helps someone else in the future.</p>\n"}], "owner": {"reputation": 667, "user_id": 859880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/73d09c1523343a4a377ee6247a2024a4?s=128&d=identicon&r=PG", "display_name": "tjac", "link": "https://stackoverflow.com/users/859880/tjac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1758, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1489722171, "creation_date": 1481137498, "question_id": 41025357, "link": "https://stackoverflow.com/questions/41025357/using-win32-process-getowner-in-c", "title": "Using Win32_Process.GetOwner in C++", "body": "<p>I'm trying to use the WMI class Win32_Process to get a list of running processes and the users who are the owners of each process. The enumeration of processes using Win32_Process in C++ wasn't that difficult using the enumeration example from MSDN (<a href=\"https://msdn.microsoft.com/en-us/library/aa390423(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) and simply changing Win32_OperatingSystem to Win32_Process. I have found that by using the GetOwner method of Win32_Process I can get the user and domain of the owner of a process. There is a great example of this in VB (<a href=\"https://msdn.microsoft.com/en-us/library/aa390460(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) which shows that I can use the enumerator object to call the specific instance of GetOwner for the process information at any given point in the enumeration. </p>\n\n<p>I have attempted to use the code example (<a href=\"https://msdn.microsoft.com/en-us/library/aa390421(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>) for \"Calling a Provider Method\" to figure out how to make the method call to GetOwner but I cannot figure out how to get it to work. I am continually hitting road blocks. typically I get the invalid method parameters. Take the following code chunk</p>\n\n<pre><code>        BSTR MethodName = SysAllocString(L\"GetOwner\");\n        BSTR ClassName = SysAllocString(L\"Win32_Process\");\n\n        IWbemClassObject* pClass = NULL;\n        hres = pSvc-&gt;GetObject(ClassName, 0, NULL, &amp;pClass, NULL);\n        printf(\"[1] hres = %08x\\n\", hres);\n\n        IWbemClassObject* pInParamsDefinition = NULL;\n        IWbemClassObject* pOutParams = NULL;\n        hres = pClass-&gt;GetMethod(MethodName, 0, &amp;pInParamsDefinition, &amp;pOutParams);\n        printf(\"[2] hres = %08x (%08x, %08x)\\n\", hres, pInParamsDefinition, pOutParams);\n\n        // Execute Method\n        hres = pSvc-&gt;ExecMethod(L\"Win32_Process\", MethodName, 0, NULL, NULL, &amp;pOutParams, NULL);\n\n        VARIANT varReturnValue;\n        hres = pOutParams-&gt;Get(_bstr_t(L\"ReturnValue\"), 0,\n            &amp;varReturnValue, NULL, 0);\n        wprintf(L\"The command is: %s\\n\", V_BSTR(&amp;varReturnValue));\n</code></pre>\n\n<p>GetOwner has not input parameters and when I call GetMethod the pInParamsDefinition always returns NULL while pOutParams returns a ptr. Since there isn't a pointer returned to pInParamsDefinition, I can't supply inputs and as such I don't know how to get around the invalid method parameters issue. Clearly WMI programming isn't my strongest skill :) </p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["c++", "copy", "copy-constructor"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1481137252, "post_id": 41025168, "comment_id": 69257797, "body": "Tangential, but worth reading if you are making copy constructors: <a href=\"http://stackoverflow.com/questions/4172722/what-is-the-rule-of-three\">What is The Rule of Three?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 5107882, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1014131048620071/picture?type=large", "display_name": "R\u0131fat Tolga Kiran", "link": "https://stackoverflow.com/users/5107882/r%c4%b1fat-tolga-kiran"}, "edited": false, "score": 0, "creation_date": 1481137156, "post_id": 41025214, "comment_id": 69257739, "body": "Doesn&#39;t it create a temporary object when we pass the object to a function as an argument?"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 219, "user_id": 5107882, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1014131048620071/picture?type=large", "display_name": "R\u0131fat Tolga Kiran", "link": "https://stackoverflow.com/users/5107882/r%c4%b1fat-tolga-kiran"}, "edited": false, "score": 0, "creation_date": 1481137237, "post_id": 41025214, "comment_id": 69257786, "body": "It depends on the signature of your function. In the answer I posted, the first method will create a copy, the second method will not."}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 4, "last_activity_date": 1481136963, "creation_date": 1481136963, "answer_id": 41025214, "question_id": 41025168, "link": "https://stackoverflow.com/questions/41025168/copy-constructor-is-triggered-but-how/41025214#41025214", "title": "copy constructor is triggered but how?", "body": "<p>You are making copies when you call</p>\n\n<pre><code>void showValue(someClass o)\n</code></pre>\n\n<p>If you want to avoid copies, pass by reference</p>\n\n<pre><code>void showValue(someClass const&amp; o)\n</code></pre>\n\n<p>In the first case <code>o</code> is a function-local copy of your <code>someClass</code> argument, that is destroyed at the end of the function.</p>\n"}, {"tags": [], "owner": {"reputation": 638, "user_id": 7065028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/602970b0b9f268e43b6212d4804d22e3?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Emmanuel", "link": "https://stackoverflow.com/users/7065028/jean-emmanuel"}, "is_accepted": false, "score": 2, "last_activity_date": 1481137124, "creation_date": 1481137124, "answer_id": 41025257, "question_id": 41025168, "link": "https://stackoverflow.com/questions/41025168/copy-constructor-is-triggered-but-how/41025257#41025257", "title": "copy constructor is triggered but how?", "body": "<pre><code>void showValue(someClass o){\n    char * s;\n    s = o.getValue();\n    cout &lt;&lt; s &lt;&lt; endl;\n}\n</code></pre>\n\n<p>this part of your cade invokes the copy constructor of <code>someClass</code>.\nIf you want to get rid of it, you can change your class to:</p>\n\n<pre><code> void showValue(const someClass &amp; o){\n        char * s;\n        s = o.getValue();\n        cout &lt;&lt; s &lt;&lt; endl;\n    }\n</code></pre>\n\n<p>and change GetValue to:</p>\n\n<pre><code> char * getValue() const {return data;} \n</code></pre>\n\n<p>This is called passing by const-reference, as opposed to passing by value (what you were doing). When you pass by value, the function invokes the copy constructor of the class called.</p>\n\n<p>The change on <code>getValue()</code> suggested is because the compiler wants to be sure that the call to <code>getValue</code> inside of <code>showValue</code> will not modify the member objects of the const element <code>const someClass &amp; o</code>. </p>\n"}], "owner": {"reputation": 219, "user_id": 5107882, "user_type": "registered", "accept_rate": 77, "profile_image": "https://graph.facebook.com/1014131048620071/picture?type=large", "display_name": "R\u0131fat Tolga Kiran", "link": "https://stackoverflow.com/users/5107882/r%c4%b1fat-tolga-kiran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "accepted_answer_id": 41025214, "answer_count": 2, "score": 2, "last_activity_date": 1481137124, "creation_date": 1481136834, "question_id": 41025168, "link": "https://stackoverflow.com/questions/41025168/copy-constructor-is-triggered-but-how", "title": "copy constructor is triggered but how?", "body": "<p>Here is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstring&gt;\nusing namespace std;\n\nclass someClass{\n    char * data;\npublic:\n    someClass(const char * s){\n        data = new char[strlen(s)+1];\n        strcpy(data,s);\n        cout &lt;&lt; \"constructing..\"&lt;&lt;endl;\n    }\n\n    someClass(const someClass &amp;o){\n        data = new char[strlen(o.data)];\n        strcpy(data,o.data);\n        cout &lt;&lt; \"copy construction\" &lt;&lt; endl;\n    }\n\n    ~someClass(){delete [] data; cout &lt;&lt; \"destructing...\" &lt;&lt; endl;}\n    char * getValue(){return data;}\n};\n\nvoid showValue(someClass o){\n    char * s;\n    s = o.getValue();\n    cout &lt;&lt; s &lt;&lt; endl;\n}\n\nint main(int argc, char ** argv){\n    someClass str(\"Hello\"), ptr(\"world\");\n    showValue(str);\n    showValue(ptr);\n}\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>constructing..\nconstructing..\ncopy construction\nHello\ndestructing...\ncopy construction\nworld\ndestructing...\ndestructing...\ndestructing...\n</code></pre>\n\n<ol>\n<li><p>Now first two 'constructing..' are triggered as soon as we create the object in main() on line 1.</p></li>\n<li><p>showValue(<em>str</em>) runs and it triggers copy constructor for the word 'hello'. <strong>How?</strong> After creating and temporary object, it destructs itself when it's out of function.</p></li>\n<li><p>showValue(<em>ptr</em>) runs and it triggers copy constructor for the word 'world'. <strong>How?</strong> After creating and temporary object, it destructs itself when it's out of function.</p></li>\n<li><p>Lastly, in reverse order our str and ptr objects are being destroyed.</p></li>\n</ol>\n\n<p>Why has copy ctor run? I didn't send a someClass object to a someClass object. Can you explain me the situation? </p>\n"}, {"tags": ["c++", "destructor"], "comments": [{"owner": {"reputation": 93, "user_id": 7106772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045e01e6eae7de92b10ea89e680d063c?s=128&d=identicon&r=PG&f=1", "display_name": "Slajni", "link": "https://stackoverflow.com/users/7106772/slajni"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1481136662, "post_id": 41025053, "comment_id": 69257438, "body": "Ok, but isn&#39;t it possible to copy whole code at once insted of line by line?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1481136929, "post_id": 41025053, "comment_id": 69257598, "body": "Yes. Paste the code in, select the entire block, and press Ctrl+K (or click the <code>{}</code> button in the toolbar). That magically indents each line by 4 spaces. You could also do this in a text editor of your choice and then paste it directly."}, {"owner": {"reputation": 93, "user_id": 7106772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045e01e6eae7de92b10ea89e680d063c?s=128&d=identicon&r=PG&f=1", "display_name": "Slajni", "link": "https://stackoverflow.com/users/7106772/slajni"}, "edited": false, "score": 1, "creation_date": 1481136988, "post_id": 41025053, "comment_id": 69257639, "body": "Right, thanks, now I will remember it."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1481140208, "post_id": 41025053, "comment_id": 69259381, "body": "Instrument the copy constructor as well as the <code>string</code> constructor and the destructor."}], "answers": [{"tags": [], "owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "is_accepted": false, "score": 0, "last_activity_date": 1481136704, "creation_date": 1481136704, "answer_id": 41025128, "question_id": 41025053, "link": "https://stackoverflow.com/questions/41025053/why-destructor-runs-before-object-is-being-deleted/41025128#41025128", "title": "Why destructor runs before object is being deleted", "body": "<p>You're passing a temporary object as a parameter to <code>push_back</code>. the temporary is being copied and after that its lifetime expires, thus it's destroyed.</p>\n"}, {"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481136938, "post_id": 41025130, "comment_id": 69257604, "body": "If the OP can call <code>emplace_back</code> then there is no copy going on.  The temporary is moved into the vector.  Me thinks C++ is not turned on/available."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481136986, "post_id": 41025130, "comment_id": 69257637, "body": "@NathanOliver:  Is that different than what I wrote?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481137005, "post_id": 41025130, "comment_id": 69257650, "body": "Actually, <code>emplace_back</code> would construct the object directly in place. No temporaries at all. @nathan"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481137028, "post_id": 41025130, "comment_id": 69257659, "body": "Yes.  <i>push_back makes a copy of that object to put it in the vector.</i> is not true if the parameter is a temporary."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481137262, "post_id": 41025130, "comment_id": 69257801, "body": "@NathanOliver:  OK, I fixed the wording on <code>push_back</code>.  I thought you were talking about what I wrote about <code>emplace_back</code>."}, {"owner": {"reputation": 93, "user_id": 7106772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045e01e6eae7de92b10ea89e680d063c?s=128&d=identicon&r=PG&f=1", "display_name": "Slajni", "link": "https://stackoverflow.com/users/7106772/slajni"}, "edited": false, "score": 0, "creation_date": 1481137634, "post_id": 41025130, "comment_id": 69257990, "body": "Well something strange occurs. I replace all push_back&#39;s with emplace_back and it still makes same output."}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1481138152, "post_id": 41025130, "comment_id": 69258269, "body": "Did you write <code>a.emplace_back(&quot;Jack&quot;)</code> or <code>a.emplace_back(Testi(&quot;Jack&quot;))</code>?"}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481138618, "post_id": 41025130, "comment_id": 69258526, "body": "@NathanOliver:  The OP has a user-declared destructor, which suppresses the implicit move constructor.  Therefore the temporary is copied, not moved."}, {"owner": {"reputation": 93, "user_id": 7106772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045e01e6eae7de92b10ea89e680d063c?s=128&d=identicon&r=PG&f=1", "display_name": "Slajni", "link": "https://stackoverflow.com/users/7106772/slajni"}, "edited": false, "score": 0, "creation_date": 1481141205, "post_id": 41025130, "comment_id": 69260021, "body": "@AdrianMcCarthy eh, yes, i used it in bad way. Thanks again."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481141526, "post_id": 41025130, "comment_id": 69260230, "body": "@AdrianMcCarthy Good call.  Missed that."}], "tags": [], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "is_accepted": true, "score": 4, "last_activity_date": 1481137210, "last_edit_date": 1481137210, "creation_date": 1481136714, "answer_id": 41025130, "question_id": 41025053, "link": "https://stackoverflow.com/questions/41025053/why-destructor-runs-before-object-is-being-deleted/41025130#41025130", "title": "Why destructor runs before object is being deleted", "body": "<p>Here's the relevant piece of code:</p>\n\n<pre><code>vector &lt;Testi&gt; a;\na.push_back(Testi(\"John\"));\n</code></pre>\n\n<ol>\n<li>The <code>Testi(\"John\")</code> creates a new, temporary Testi object.</li>\n<li><code>push_back</code> copies that object into the vector.</li>\n<li>Then the temporary object is deleted.</li>\n</ol>\n\n<p>So the unexpected constructor and destructor calls come from the creation and deletion of the temporary.  You can avoid the extra temporaries and copies by using <code>emplace_back</code> which will construct the object directly in the vector.</p>\n"}, {"comments": [{"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1481138753, "post_id": 41025658, "comment_id": 69258598, "body": "To make it even clearer, add a move c&#39;tor, a copy-assignment operator, and a move-assignment operator. ;-)"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1481138918, "post_id": 41025658, "comment_id": 69258687, "body": "@AdrianMcCarthy There will be a too long output. It is clear enough what is behind the hood."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1481138542, "creation_date": 1481138542, "answer_id": 41025658, "question_id": 41025053, "link": "https://stackoverflow.com/questions/41025053/why-destructor-runs-before-object-is-being-deleted/41025658#41025658", "title": "Why destructor runs before object is being deleted", "body": "<p>To make it more clear add the copy constructor for the class for example the following way as it is shown in this demonstrative program</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass Testi {\npublic:\n\n    string name;\n    Testi(const string &amp;a) : name(a) {\n        cout &lt;&lt; \"Im alive: \" &lt;&lt; name &lt;&lt; endl;\n    }\n    Testi( const Testi &amp;t ) : name(t.name + \"_copy\") {\n        cout &lt;&lt; \"Im alive: \" &lt;&lt; name &lt;&lt; endl;\n    }\n    ~Testi() {\n        cout &lt;&lt; \"Im no longer alive: \" &lt;&lt; name &lt;&lt; endl;\n    }\n\n};\n\n\nint main()\n{\n    {\n        vector &lt;Testi&gt; a;\n\n        a.push_back(Testi(\"John\"));\n        a.push_back(Testi(\"Jack\"));\n        a.push_back(Testi(\"Jake\"));\n\n        cout &lt;&lt; \"---------------------\" &lt;&lt; endl;\n\n        for (const auto &amp;item : a) cout &lt;&lt; item.name &lt;&lt; ' ';\n        cout &lt;&lt; endl &lt;&lt; endl;\n    }\n    {\n        cout &lt;&lt; \"---------------------\" &lt;&lt; endl;\n        vector &lt;Testi&gt; a;\n        a.reserve(3);\n\n        a.emplace_back(\"John\");\n        a.emplace_back(\"Jack\");\n        a.emplace_back(\"Jake\");\n\n        cout &lt;&lt; \"---------------------\" &lt;&lt; endl;\n\n        for (const auto &amp;item : a) cout &lt;&lt; item.name &lt;&lt; ' ';\n        cout &lt;&lt; endl &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Its output might look like</p>\n\n<pre><code>Im alive: John\nIm alive: John_copy\nIm no longer alive: John\nIm alive: Jack\nIm alive: John_copy_copy\nIm no longer alive: John_copy\nIm alive: Jack_copy\nIm no longer alive: Jack\nIm alive: Jake\nIm alive: John_copy_copy_copy\nIm alive: Jack_copy_copy\nIm no longer alive: John_copy_copy\nIm no longer alive: Jack_copy\nIm alive: Jake_copy\nIm no longer alive: Jake\n---------------------\nJohn_copy_copy_copy Jack_copy_copy Jake_copy\n\nIm no longer alive: John_copy_copy_copy\nIm no longer alive: Jack_copy_copy\nIm no longer alive: Jake_copy\n---------------------\nIm alive: John\nIm alive: Jack\nIm alive: Jake\n---------------------\nJohn Jack Jake\n\nIm no longer alive: John\nIm no longer alive: Jack\nIm no longer alive: Jake\n</code></pre>\n\n<p>So in this statement</p>\n\n<pre><code>a.push_back(Testi(\"John\"));\n</code></pre>\n\n<p>there is created a temporary object as result of the expression <code>Testi(\"John\")</code>.\nThen this object is copied to the vector and the vector stores a copy of the temporary object. At the end of the statement the temporary object is deleted.</p>\n\n<pre><code>Im alive: John\nIm alive: John_copy\nIm no longer alive: John\n</code></pre>\n\n<p>When this statement is executed </p>\n\n<pre><code>a.push_back(Testi(\"Jack\"));\n</code></pre>\n\n<p>the same operations are performed except that the vector needs to reallocate memory that to accommodate the new element.</p>\n\n<pre><code>Im alive: Jack\nIm alive: John_copy_copy\nIm no longer alive: John_copy\nIm alive: Jack_copy\nIm no longer alive: Jack\n</code></pre>\n\n<p>the first message corresponds to creating the temporary object that corresponds to the argument <code>Testi(\"Jack\")</code>. Then the current element of the vector is copied to the new extent of memory due to the memory reallocation</p>\n\n<pre><code>Im alive: John_copy_copy\nIm no longer alive: John_copy\n</code></pre>\n\n<p>then the new element is copied and the temporary object is deleted</p>\n\n<pre><code>Im alive: Jack_copy\nIm no longer alive: Jack\n</code></pre>\n\n<p>and so on.</p>\n\n<p>If you will reserve enough memory in the vector then there will no memory reallocation. Also if you will use <code>emplace_back</code> instead of <code>push_back</code> there will not be created temporary objects. In this case the output will be</p>\n\n<pre><code>Im alive: John\nIm alive: Jack\nIm alive: Jake\n</code></pre>\n\n<p>and</p>\n\n<pre><code>Im no longer alive: John\nIm no longer alive: Jack\nIm no longer alive: Jake\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4506, "user_id": 3344612, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/jwgap.jpg?s=128&g=1", "display_name": "Teivaz", "link": "https://stackoverflow.com/users/3344612/teivaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1481140194, "last_edit_date": 1592644375, "creation_date": 1481140194, "answer_id": 41026118, "question_id": 41025053, "link": "https://stackoverflow.com/questions/41025053/why-destructor-runs-before-object-is-being-deleted/41026118#41026118", "title": "Why destructor runs before object is being deleted", "body": "<p>If you would overload the copy and move constructors (and track instances for convenience) you will see what is going on <a href=\"http://coliru.stacked-crooked.com/a/3874ec0319b17a7f\" rel=\"nofollow noreferrer\">there</a></p>\n<pre><code>struct Testi {\n    static int instanceCount;\n    \n    std::string name;\n    int instanceIndex;\n    \n    Testi(Testi&amp;&amp; other) : name(other.name), instanceIndex(++instanceCount) {\n        std::cout &lt;&lt;other.instanceIndex &lt;&lt; &quot; =&gt; &quot; &lt;&lt; instanceIndex &lt;&lt; &quot; move constructor &quot; &lt;&lt; name &lt;&lt; std::endl;\n    }\n    \n    Testi(const Testi&amp; other) : name(other.name), instanceIndex(++instanceCount) {\n        std::cout &lt;&lt;other.instanceIndex &lt;&lt; &quot; =&gt; &quot; &lt;&lt; instanceIndex &lt;&lt; &quot; copy constructor &quot; &lt;&lt; name &lt;&lt; std::endl;\n    }\n    Testi(std::string a) : name(a), instanceIndex(++instanceCount) {\n        std::cout &lt;&lt; instanceIndex &lt;&lt; &quot; Im alive: &quot; &lt;&lt; name &lt;&lt; std::endl;\n    }\n    ~Testi() {\n        std::cout &lt;&lt; instanceIndex &lt;&lt; &quot; Im no longer alive: &quot; &lt;&lt; name &lt;&lt; std::endl;\n    }\n};\n\nint Testi::instanceCount = 0;\n</code></pre>\n<blockquote>\n<p>1 Im alive: John<br />\n1 =&gt; 2 move constructor John<br />\n1 Im no longer alive: John<br />\n3 Im alive: Jack<br />\n3 =&gt; 4 move constructor Jack<br />\n2 =&gt; 5 copy constructor John<br />\n2 Im no longer alive: John<br />\n3 Im no longer alive: Jack<br />\n6 Im alive: Jake<br />\n6 =&gt; 7 move constructor Jake<br />\n5 =&gt; 8 copy constructor John<br />\n4 =&gt; 9 copy constructor Jack<br />\n5 Im no longer alive: John<br />\n4 Im no longer alive: Jack<br />\n6 Im no longer alive: Jake<br />\nJack</p>\n<p>8 Im no longer alive: John<br />\n9 Im no longer alive: Jack<br />\n7 Im no longer alive: Jake</p>\n</blockquote>\n<p>1 - temporary object that is being passed as an argument to <code>push_back()</code><br />\n2 - object stored in the vector created by moving (or copying)<br />\n3 - another temporary object<br />\n4 - object that is stored in a vector<br />\n5 - copy of the object 2 because vector needs to reallocate<br />\nAnd so on. But this will give you general idea of implementation (and why one might want to <code>reserve()</code>). Standard does not restrict what exactly should be used. Here we should also talks about versions:</p>\n<ul>\n<li>Before C++11 contained type should be copy-constructible and copy-assignable</li>\n<li>Starting from C++11 restrictions are applied to a specific function; for <code>push_back()</code> contained type should be <a href=\"http://en.cppreference.com/w/cpp/concept/CopyInsertable\" rel=\"nofollow noreferrer\">CopyInsertable</a> and <a href=\"http://en.cppreference.com/w/cpp/concept/MoveInsertable\" rel=\"nofollow noreferrer\">MoveInsertable</a></li>\n</ul>\n<p>This should give you general expectations of implementation.</p>\n"}], "owner": {"reputation": 93, "user_id": 7106772, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/045e01e6eae7de92b10ea89e680d063c?s=128&d=identicon&r=PG&f=1", "display_name": "Slajni", "link": "https://stackoverflow.com/users/7106772/slajni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 41025130, "answer_count": 4, "score": 1, "last_activity_date": 1481140236, "creation_date": 1481136432, "last_edit_date": 1481137717, "question_id": 41025053, "link": "https://stackoverflow.com/questions/41025053/why-destructor-runs-before-object-is-being-deleted", "title": "Why destructor runs before object is being deleted", "body": "<p>When I run this code destructor starts before object removal.</p>\n\n<p>Code is here:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nclass Testi {\npublic:\n\n    string name;\n    Testi(string a) : name(a) {\n        cout &lt;&lt; \"Im alive: \" &lt;&lt; name &lt;&lt; endl;\n    }\n    ~Testi() {\n        cout &lt;&lt; \"Im no longer alive: \" &lt;&lt; name &lt;&lt; endl;\n    }\n\n};\nint main() {\n\n    vector &lt;Testi&gt; a;\n\n    a.push_back(Testi(\"John\"));\n    a.push_back(Testi(\"Jack\"));\n    a.push_back(Testi(\"Jake\"));\n\n    cout &lt;&lt; a[1].name;\n\n    cin.get();\n    return 0;\n}\n</code></pre>\n\n<p>When i run program output is:</p>\n\n<blockquote>\n  <p>Im alive: John<br>\n  Im no longer alive: John<br>\n  Im alive: Jack<br>\n  Im no longer alive: John<br>\n  Im no longer alive: Jack<br>\n  Im alive: Jake<br>\n  Im no longer alive: John<br>\n  Im no longer alive: Jack<br>\n  Im no longer alive: Jake   </p>\n  \n  <p>Jack   </p>\n</blockquote>\n\n<p>And after input:</p>\n\n<blockquote>\n  <p>Im no longer alive: John<br>\n  Im no longer alive: Jack<br>\n  Im no longer alive: Jake   </p>\n</blockquote>\n\n<p>So after every push_back() all destructors runs. The output operation works good so objects still exist.\nFor the 1st one destructor runs 4 times! Why?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1481136203, "post_id": 41024940, "comment_id": 69257159, "body": "<code>concurrent_queue&lt;message&gt;</code> holds <b>objects</b> of type <code>message</code>. When you push an object of a derived type into the queue, the object gets sliced and all that&#39;s stored is the <code>message</code> part of it. There&#39;s no way to get the original object back once that&#39;s happened. You need a queue that holds references or pointers."}, {"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1481136259, "post_id": 41024940, "comment_id": 69257196, "body": "@PeteBecker I was scared that this would happen. How do I make sure that the other thread delete the object when it&#39;s done?"}, {"owner": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 2, "creation_date": 1481136346, "post_id": 41024940, "comment_id": 69257252, "body": "Sounds like a job for <code>shared_ptr</code> (which is thread safe)"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1481136347, "post_id": 41024940, "comment_id": 69257253, "body": "@Marc create virtual destructor"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1481136410, "post_id": 41024940, "comment_id": 69257290, "body": "@W.F. Still gets sliced. Needs a pointer or reference."}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1481136426, "post_id": 41024940, "comment_id": 69257297, "body": "@Marc In my opinion, virtual functions and inheritance is not the answer. You should have different queue for different types of messages, and only access the queue you need for the message types you need."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 0, "creation_date": 1481136442, "post_id": 41024940, "comment_id": 69257302, "body": "@Donnie Might want to elborate that a little bit.  Construction and destruction is thread safe, access is not."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1481136727, "post_id": 41024940, "comment_id": 69257477, "body": "@GuillaumeRacicot You can invite extra synchronization problems with multiple queues. I usually waste space here and make one generic intertask message and switch interpretations on an enum message type. Mind you I&#39;m also coming in from C and this may be a really stupid thing to do in C++."}, {"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "reply_to_user": {"reputation": 41213, "user_id": 215568, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b05685e6c3945f4bd23bf1f967861aeb?s=128&d=identicon&r=PG", "display_name": "Donnie", "link": "https://stackoverflow.com/users/215568/donnie"}, "edited": false, "score": 0, "creation_date": 1481137020, "post_id": 41024940, "comment_id": 69257656, "body": "@Donnie I didn&#39;t want to use pointers because devs will have to remember to delete it in another thread. It could be easy to forget and have a memory leak. Shared_ptr won&#39;t fix that"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1481137128, "post_id": 41024940, "comment_id": 69257723, "body": "@Marc <code>std::shared_ptr</code> is a ref counting smart pointer, and take care of deleting the pointer when the count goes down to <code>0</code>. You don&#39;t need to manually delete it and it doesn&#39;t leak memory."}, {"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1481140990, "post_id": 41024940, "comment_id": 69259874, "body": "@GuillaumeRacicot Wow this is fantastic! It&#39;s amazing. Thank you"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1481142563, "post_id": 41024940, "comment_id": 69260849, "body": "@Marc you should take a look at my answer, it shows how to do it with unique pointers, which are much more lightweight."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 2, "last_activity_date": 1481136987, "last_edit_date": 1481136987, "creation_date": 1481136585, "answer_id": 41025095, "question_id": 41024940, "link": "https://stackoverflow.com/questions/41024940/pass-object-by-value-between-threads/41025095#41025095", "title": "pass object by value between threads", "body": "<p>As @PeteBecker writes in the comments, <code>concurrent_queue&lt;message&gt;</code> holds <code>message</code>'s by value. When a derived object instance is pushed into the queue it makes a copy of <code>message</code> part only. Slicing occurs.</p>\n\n<p>One way to make the queue hold objects of multiple types without resorting to pointers is to use a discriminated union, e.g. <a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/variant.html\" rel=\"nofollow noreferrer\"><code>boost::variant</code></a>:</p>\n\n<pre><code>using message = boost::variant&lt;specific_message_a, specific_message_b&gt;;\n</code></pre>\n\n<p>No common base class for messages is required here.</p>\n\n<p>The downside of this approach is that <code>sizeof(message)</code> is <code>sizeof</code> of the largest type in that <code>boost::variant&lt;&gt;</code> template argument list. </p>\n"}, {"comments": [{"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "edited": false, "score": 0, "creation_date": 1481149022, "post_id": 41025414, "comment_id": 69264216, "body": "Is make_unique c++14? I get an error saying it&#39;s not a member of std and I&#39;m using c++11"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "edited": false, "score": 1, "creation_date": 1481149567, "post_id": 41025414, "comment_id": 69264429, "body": "Yes, <code>std::make_unique</code> is part of C++14. You can however replace <code>std::make_unique</code> with a plain old <code>new</code>"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "reply_to_user": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "edited": false, "score": 0, "creation_date": 1481149725, "post_id": 41025414, "comment_id": 69264494, "body": "@Marc see my edit. I added an example with new, which is compatible with <code>std::unique_ptr</code>"}, {"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "edited": false, "score": 0, "creation_date": 1481150377, "post_id": 41025414, "comment_id": 69264792, "body": "Thank you but are you sure this would work? You push a a_specific_message instead of a unique_ptr. I get an error for that"}, {"owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "edited": false, "score": 0, "creation_date": 1481150459, "post_id": 41025414, "comment_id": 69264822, "body": "I did this instead : std::unique_ptr&lt;a_specific_message&gt;(new a_specific_message(1,2,3));"}], "tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": true, "score": 2, "last_activity_date": 1481149651, "last_edit_date": 1481149651, "creation_date": 1481137733, "answer_id": 41025414, "question_id": 41024940, "link": "https://stackoverflow.com/questions/41024940/pass-object-by-value-between-threads/41025414#41025414", "title": "pass object by value between threads", "body": "<p>In my opinion, polymorphism is not what you really want. An interface with nothing but a destructor and dynamic downcast usually means that you are using the wrong tool.</p>\n\n<hr>\n\n<p>However, if polymorphism is what you want, let me propose <code>std::unique_ptr</code>. You can have here you queue of pointers declared like that: <code>concurrent_queue&lt;std::unique_ptr&lt;message&gt;&gt;</code></p>\n\n<p>As you told in the comments: </p>\n\n<blockquote>\n  <p>I didn't want to use pointers because devs will have to remember to delete it in another thread. It could be easy to forget and have a memory leak.</p>\n</blockquote>\n\n<p>Then I think <code>std::unqiue_ptr</code> is the right thing for you.</p>\n\n<p>If I translate your code, it would look like that:</p>\n\n<pre><code>concurrent_queue&lt;std::unique_ptr&lt;message&gt;&gt; queue;\nauto m = std::make_unique&lt;a_specific_message&gt;(1, 2, 3);\n\nqueue.push(std::move(m));\n</code></pre>\n\n<p>Or simply:</p>\n\n<pre><code>concurrent_queue&lt;std::unique_ptr&lt;message&gt;&gt; queue;\n\nqueue.push(std::make_unique&lt;a_specific_message&gt;(1, 2, 3));\n// Or\nqueue.push(new a_specific_message{1, 2, 3});\n</code></pre>\n\n<p>Then, to pop values:</p>\n\n<pre><code>auto popped_value = std::move(the_queue.front());\n</code></pre>\n\n<p>Then everything is deleted automatically, without having to remember to delete any pointer. <code>std::unique_ptr</code> has been created for that purpose.</p>\n\n<p>To avoid the explicit move in your code, you could have something like <code>pop_value</code> in your queue, implemented like that:</p>\n\n<pre><code>T pop_value() {\n    auto value = std::move(the_queue.front());\n\n    the_queue.pop();\n\n    // use nrvo\n    return value;\n}\n</code></pre>\n\n<p>So now, in your threads, you can safely do that:</p>\n\n<pre><code>{\n    auto some_message = queue.pop_value();\n\n    // stuff\n\n} // some_message deleted here.\n</code></pre>\n"}], "owner": {"reputation": 14524, "user_id": 912495, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ff650b0c0a059417a78d557088623294?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/912495/marc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 41025414, "answer_count": 2, "score": 0, "last_activity_date": 1481160460, "creation_date": 1481136075, "last_edit_date": 1481160460, "question_id": 41024940, "link": "https://stackoverflow.com/questions/41024940/pass-object-by-value-between-threads", "title": "pass object by value between threads", "body": "<p>I'm trying to pass objects <strong>by value</strong> between threads with a queue.</p>\n\n<p>Because there are multiple different objects, I made an abstract class.</p>\n\n<pre><code>class message\n{\npublic :\n      virtual ~message(){};\n}; \n</code></pre>\n\n<p>then I have a subclass for each different type of message</p>\n\n<pre><code>class a_specific_message : public message\n{\n...\n};\n</code></pre>\n\n<p>I read <a href=\"https://www.justsoftwaresolutions.co.uk/threading/implementing-a-thread-safe-queue-using-condition-variables.html\" rel=\"nofollow noreferrer\">this tutorial</a> for implementing the queue and I call it the following way:</p>\n\n<pre><code>concurrent_queue&lt;message&gt; queue;\na_specific_message m{1, 2, 3};\nqueue.push(m);\n</code></pre>\n\n<p>My problem is that I need to override the <code>operator=</code> so the queue can clone the message</p>\n\n<pre><code>popped_value=the_queue.front();\n</code></pre>\n\n<p>I tried to add a virtual operator but it doesn't get called in the subclass.</p>\n\n<p>I don't know how I could achieve something like this without passing object by reference. </p>\n"}, {"tags": ["c++", "visual-studio", "projects-and-solutions", "output-directory"], "comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1481137101, "post_id": 41024854, "comment_id": 69257712, "body": "No, no shortcut within the IDE that I&#39;m aware of. You have to change it for every project. Do mindful that you&#39;re changing it for <i>all</i> build configurations. The other option, if you&#39;re brave, is to manually edit the XML-based project files."}, {"owner": {"reputation": 2178, "user_id": 2208372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0f8d54e87a4835f7cf67694cad247f?s=128&d=identicon&r=PG", "display_name": "Phil1970", "link": "https://stackoverflow.com/users/2208372/phil1970"}, "edited": false, "score": 0, "creation_date": 1481141338, "post_id": 41024854, "comment_id": 69260105, "body": "It might cause more problems than what it solve if you don&#39;t set them correctly."}], "answers": [{"tags": [], "owner": {"reputation": 26377, "user_id": 7734, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/ced37e94f2fabfd8b4bb78e573947a68?s=128&d=identicon&r=PG", "display_name": "EvilTeach", "link": "https://stackoverflow.com/users/7734/evilteach"}, "is_accepted": false, "score": 0, "last_activity_date": 1501791586, "creation_date": 1501791586, "answer_id": 45493850, "question_id": 41024854, "link": "https://stackoverflow.com/questions/41024854/how-do-i-change-the-output-directory-for-all-projects-in-a-solution-using-vs2012/45493850#45493850", "title": "How do I change the output directory for all projects in a solution using VS2012?", "body": "<p>Use the property manager to set the output directory to what you want, then set each project in the solution to inherit the default value for it.</p>\n"}], "owner": {"reputation": 761, "user_id": 6386155, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh3.googleusercontent.com/-YUFMoRcx3uo/AAAAAAAAAAI/AAAAAAAAAAA/I9gNVrYQpDQ/photo.jpg?sz=128", "display_name": "user6386155", "link": "https://stackoverflow.com/users/6386155/user6386155"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501791586, "creation_date": 1481135748, "last_edit_date": 1501783068, "question_id": 41024854, "link": "https://stackoverflow.com/questions/41024854/how-do-i-change-the-output-directory-for-all-projects-in-a-solution-using-vs2012", "title": "How do I change the output directory for all projects in a solution using VS2012?", "body": "<p>How do I change the \"Output Directory\" for all of the projects under a solution, without having to go through each projects and editing under VS2012? Is there any quick way of achieving it?</p>\n"}, {"tags": ["c++", "arrays", "visual-studio", "pointers"], "comments": [{"owner": {"reputation": 776, "user_id": 1806687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/aa0b54ac5d06573cfe66409b08e9d153?s=128&d=identicon&r=PG", "display_name": "user1806687", "link": "https://stackoverflow.com/users/1806687/user1806687"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481136044, "post_id": 41024830, "comment_id": 69257057, "body": "@user4581301 Yeah, will fix it. Thanks."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481136251, "post_id": 41024830, "comment_id": 69257188, "body": "Off topic: <a href=\"http://en.cppreference.com/w/cpp/utility/functional/function\" rel=\"nofollow noreferrer\">Take a look at <code>std::function</code>.</a> Bit more runtime overhead, but cleans up some of the messiness of method pointer syntax. Especially interesting with <a href=\"http://en.cppreference.com/w/cpp/language/lambda\" rel=\"nofollow noreferrer\">lambda expressions</a> and <a href=\"http://en.cppreference.com/w/cpp/utility/functional/bind\" rel=\"nofollow noreferrer\"><code>std::bind</code></a>."}, {"owner": {"reputation": 776, "user_id": 1806687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/aa0b54ac5d06573cfe66409b08e9d153?s=128&d=identicon&r=PG", "display_name": "user1806687", "link": "https://stackoverflow.com/users/1806687/user1806687"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481136478, "post_id": 41024830, "comment_id": 69257329, "body": "@user4581301 Thanks, will do :-)"}], "answers": [{"tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 4, "last_activity_date": 1481135930, "creation_date": 1481135930, "answer_id": 41024903, "question_id": 41024830, "link": "https://stackoverflow.com/questions/41024830/member-function-pointer-array/41024903#41024903", "title": "Member function pointer array", "body": "<p>Syntax would be</p>\n\n<pre><code>(this-&gt;*fpointers[a])();\n</code></pre>\n\n<p>as you need instance.</p>\n"}], "owner": {"reputation": 776, "user_id": 1806687, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/aa0b54ac5d06573cfe66409b08e9d153?s=128&d=identicon&r=PG", "display_name": "user1806687", "link": "https://stackoverflow.com/users/1806687/user1806687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "accepted_answer_id": 41024903, "answer_count": 1, "score": 0, "last_activity_date": 1481136054, "creation_date": 1481135663, "last_edit_date": 1481136054, "question_id": 41024830, "link": "https://stackoverflow.com/questions/41024830/member-function-pointer-array", "title": "Member function pointer array", "body": "<p>In A.h:</p>\n\n<pre><code>class A \n{\n    typedef void (A::*fp)();\n    void test1();\n    void test2();\n    A(int a);\n}\n</code></pre>\n\n<p>In A.cpp I have:</p>\n\n<pre><code>A::A(int a)\n{\n    fp fpointers[] = {&amp;A::test1,&amp;A::test2};\n\n    fpointers[a]();\n}\nvoid A::test1()\n{\n//do something\n}\nvoid A::test2()\n{\n//do something\n}\n</code></pre>\n\n<p>This is a reduced and simplified version of what I have. But the problem is still valid. From my humble experience 'fpointers' is how you define and declare an array of function pointers. I am having problem with line <code>fpointers[a]();</code>I am getting this error: </p>\n\n<blockquote>\n  <p>expression preceding parentheses of apparent call must have\n  (pointer-to-) function type</p>\n</blockquote>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1481135376, "post_id": 41024678, "comment_id": 69256629, "body": "Walk through it one step at a time."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 6, "creation_date": 1481135446, "post_id": 41024678, "comment_id": 69256678, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 2114, "user_id": 165164, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GCuan.jpg?s=128&g=1", "display_name": "Anne Gunn", "link": "https://stackoverflow.com/users/165164/anne-gunn"}, "edited": false, "score": 0, "creation_date": 1481140692, "post_id": 41024678, "comment_id": 69259689, "body": "@eggo, Or if a debugger seems like a daunting prospect to your fried brain (hey, we&#39;ve all been there) then add some print statements and think through what gets printed out."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 7165556, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1237d68111f616a35a9ce37bd41a76a4?s=128&d=identicon&r=PG&f=1", "display_name": "eggo", "link": "https://stackoverflow.com/users/7165556/eggo"}, "edited": false, "score": 0, "creation_date": 1481136354, "post_id": 41024974, "comment_id": 69257259, "body": "okay man this was such a good way of explaining it! I totally got it now, thanks very much!!"}], "tags": [], "owner": {"reputation": 19, "user_id": 5150787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f91b4e5c86facdcc6ecfef48371a93f?s=128&d=identicon&r=PG&f=1", "display_name": "Raidel Hernandez", "link": "https://stackoverflow.com/users/5150787/raidel-hernandez"}, "is_accepted": false, "score": 1, "last_activity_date": 1481136186, "creation_date": 1481136186, "answer_id": 41024974, "question_id": 41024678, "link": "https://stackoverflow.com/questions/41024678/recursion-example-in-c/41024974#41024974", "title": "Recursion Example in C++", "body": "<p>The program execution, after unknown(1) is called is as follows:</p>\n\n<p>unknown(1) : result = unknown(1+2) * 2 = unknown(3) * 2</p>\n\n<p>unknown(3) : result = unknown(3+2) * 2 = unknown(5) * 2</p>\n\n<p>unknown(5) : result = unknown(5+2) * 2 = unknown(7) * 2</p>\n\n<p>unknown(7) : return 1</p>\n\n<p>so if we go from the bottom to the top replacing unknown(x) with its result</p>\n\n<p>unknown(7) = 1</p>\n\n<p>unknown(5) = unknown(7) * 2 = 1 * 2 = 2</p>\n\n<p>unknown(3) = unknown(5) * 2 = 2 * 2 = 4</p>\n\n<p>unknown(1) = unknown(3) * 2 = 4 * 2 = 8</p>\n\n<p>The function return 8.</p>\n"}], "owner": {"reputation": 73, "user_id": 7165556, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/1237d68111f616a35a9ce37bd41a76a4?s=128&d=identicon&r=PG&f=1", "display_name": "eggo", "link": "https://stackoverflow.com/users/7165556/eggo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1481136186, "creation_date": 1481135162, "question_id": 41024678, "link": "https://stackoverflow.com/questions/41024678/recursion-example-in-c", "title": "Recursion Example in C++", "body": "<p>Can anyone help me understand how this program is getting to 8 as its final output, its frying my brain!</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nint unknown(int x);\n\nint main()\n{\n  cout &lt;&lt; unknown(1);\n}\n\nint unknown(int x)\n{\n    int result, y = 2;\n\n    if (x &gt;= 6)\n    return 1;\n    else\n    {\n        result = unknown(x + 2) * y;\n        return result;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "qt", "dijkstra", "path-finding"], "comments": [{"owner": {"reputation": 3404, "user_id": 1020154, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/447741a9824ab4e51e71522d0549baf8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1020154/alex"}, "edited": false, "score": 0, "creation_date": 1481135043, "post_id": 41024566, "comment_id": 69256438, "body": "Very interesting, could you post some code with your question so we can take a look at your algorithm.  Anything suggested here without code is just theoretical solutions."}, {"owner": {"reputation": 35, "user_id": 4627639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd1ed36e0132a2545c7a7ac5a240290e?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kerckhofs", "link": "https://stackoverflow.com/users/4627639/alexander-kerckhofs"}, "reply_to_user": {"reputation": 3404, "user_id": 1020154, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/447741a9824ab4e51e71522d0549baf8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/1020154/alex"}, "edited": false, "score": 0, "creation_date": 1481135147, "post_id": 41024566, "comment_id": 69256512, "body": "Sure, I&#39;ll edit with some code."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 1, "creation_date": 1481135434, "post_id": 41024566, "comment_id": 69256669, "body": "Jump Point Search is better for open spaces. Also, you can use a heap plus a map from coord to index-in-heap for the open list, but it&#39;s annoying to code since you have to reimplement the heap."}, {"owner": {"reputation": 14124, "user_id": 3545094, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5105cb702f101f44d85e885bc61c8525?s=128&d=identicon&r=PG&f=1", "display_name": "Martin G", "link": "https://stackoverflow.com/users/3545094/martin-g"}, "edited": false, "score": 0, "creation_date": 1481136399, "post_id": 41024566, "comment_id": 69257282, "body": "Re-balancing the tree at insert and erase is often what eats your execution time in algorithms using std::set and std::map."}, {"owner": {"reputation": 35, "user_id": 4627639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd1ed36e0132a2545c7a7ac5a240290e?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kerckhofs", "link": "https://stackoverflow.com/users/4627639/alexander-kerckhofs"}, "edited": false, "score": 0, "creation_date": 1481137023, "post_id": 41024566, "comment_id": 69257657, "body": "Exactly true, sadly I can&#39;t avoid the inserts. I suppose using Jump Point Search to limit the amount of nodes in my set will be the best solution."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1481143720, "post_id": 41024566, "comment_id": 69261449, "body": "In grid, a good approach is to reduce the number of nodes, as with <i>way points</i>, <i>Navigation meshes</i> (as <a href=\"https://en.wikipedia.org/wiki/Delaunay_triangulation\" rel=\"nofollow noreferrer\">Delaunay_triangulation</a>). Or use some optimization to prune some branches (as for <a href=\"http://aigamedev.com/open/tutorial/symmetry-in-pathfinding/\" rel=\"nofollow noreferrer\">symmetry-in-pathfinding/</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142444, "creation_date": 1481142444, "answer_id": 41026767, "question_id": 41024566, "link": "https://stackoverflow.com/questions/41024566/a-pathfinding-slow-with-huge-open-maps/41026767#41026767", "title": "A* pathfinding - Slow with huge open maps", "body": "<p>Switch from a <code>std::set</code> to a <code>std::priority_queue</code>.  There is no need to check if a node is already in the open set before adding it to the queue.  It is cheaper to just not insert it in the closed set if it is already there.</p>\n"}], "owner": {"reputation": 35, "user_id": 4627639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd1ed36e0132a2545c7a7ac5a240290e?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Kerckhofs", "link": "https://stackoverflow.com/users/4627639/alexander-kerckhofs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 503, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1481142444, "creation_date": 1481134750, "last_edit_date": 1481135689, "question_id": 41024566, "link": "https://stackoverflow.com/questions/41024566/a-pathfinding-slow-with-huge-open-maps", "title": "A* pathfinding - Slow with huge open maps", "body": "<p>I've implemented A* pathfinding which works flawlessly for smaller grids. However, when the maps become large and no longer maze-structured, such as the map pictured below, the algorithm becomes increasingly slow.</p>\n\n<p><img src=\"https://i.imgur.com/a3WNWqw.png\" alt=\"open map\"></p>\n\n<p>As per A*'s definition, I'm using an open list and a closed list. The open list is implemented using an <code>std::set</code>. The closed list is implemented using Qt's <code>QSet</code>.\nThe <code>QSet</code> is Qt's implementation of an <code>std::unordered_list</code>.</p>\n\n<p>After profiling my application, I noticed that the re-balancing of the <code>std::set</code>'s tree is the most expensive operation. This is noticeable when running the algorithm in two different maps, the one shown below with a large open list size and another maze-like map with a much lower open list size.</p>\n\n<p>In the maze-like map, the size of my open list would fluctuate between 20 and 120 nodes. The open map slowly grew up to more than 2000 nodes.</p>\n\n<p>So my question is if there is any way to reduce the size of the open list?</p>\n\n<p>I have tried the following approaches:</p>\n\n<ul>\n<li><p>Change open list to <code>std::priority_queue</code>: I was unable to implement this because I need to check the open list to see if it already contains the element. And correct me if I'm wrong, but wouldn't the priority_queue run into the same issue of re-balancing? </p></li>\n<li><p>Use a higher heuristic weight: This didn't solve the problem, the order of magnitude of nodes in the open list was still identical.</p></li>\n<li><p>Clipping the nodes in the open list: This resulted in a way faster run-through but often resulted in a path not being found. Initially I thought this would work as I'd only trim the values with a higher F (heuristic + movement) cost which would have become irrelevant. This assumption proved incorrect.</p></li>\n</ul>\n\n<p>Thanks in advance.</p>\n\n<p><strong>EDIT1:</strong>\nAdded some code for clarification.</p>\n\n<pre><code>std::shared_ptr&lt;Node&gt; Pathfinding::findPath(float heuristicWeight) {\n    int i = 0;\n    while (!m_sOpen.empty()) {\n        ++i;\n        std::shared_ptr&lt;Node&gt; current = *m_sOpen.begin();\n        m_sOpen.erase(current);\n        m_sClosed.insert(*current);\n        if (updateNeighbours(current, heuristicWeight)) {\n            return std::make_shared&lt;Node&gt;(*m_sClosed.find(*m_nEnd));\n        }\n        if (i % 100 == 0) {\n            qInfo() &lt;&lt; \"Sizes: \" &lt;&lt; i &lt;&lt; \" open_size= \" &lt;&lt; m_sOpen.size() &lt;&lt; \" &amp; closed_size= \" &lt;&lt; m_sClosed.size();\n        }\n    }\n    return NULL;\n}\n\nbool Pathfinding::updateNeighbours(std::shared_ptr&lt;Node&gt; current, float heuristicWeight) {\n    int maxRows = wm.getRows(); // Rows in map\n    int maxCols = wm.getCols(); // Cols in map\n    for (int x = clamp((current-&gt;getX()-1),0,maxCols-1); x &lt;= clamp((current-&gt;getX()+1),0,maxCols-1); ++x) {\n        for (int y = clamp((current-&gt;getY()-1),0,maxRows-1); y &lt;= clamp((current-&gt;getY()+1),0,maxRows-1); ++y) {\n            bool exists = false;\n            Node n = Node(x,y); // Node to compare against and insert if nessecary.\n            // Tile contains information about the location in the grid.\n            Tile * t = wm.m_tTiles[(x)+(maxCols * y)].get();\n            if (t-&gt;getValue() != INFINITY) { // Tile is not a wall.\n                for (std::set&lt;std::shared_ptr&lt;Node&gt;&gt;::iterator it = m_sOpen.begin(); it != m_sOpen.end(); ++it) {\n                    if (**it == n) {\n                        exists = true;\n                        if ((*it)-&gt;getF() &gt; (current-&gt;getG() + moveCost(*it,current)) + (*it)-&gt;getH()) {\n                            (*it)-&gt;setG(current-&gt;getG() + moveCost(*it,current));\n                            (*it)-&gt;setParent(current);\n                        }\n                        break;\n                    }\n                }\n                bool exists_closed = (m_sClosed.find(n) != m_sClosed.end());\n                if (!exists &amp;&amp; !exists_closed) {\n                    std::shared_ptr&lt;Node&gt; sN = std::make_shared&lt;Node&gt;(n);\n                    sN-&gt;setParent(current);\n                    sN-&gt;setG(current-&gt;getG() + moveCost(sN,current));\n                    sN-&gt;setH(manhattenCost(sN,m_nEnd)*heuristicWeight);\n                    if (sN-&gt;getH() == 0) { m_sClosed.insert(*sN); return true; }\n                    else m_sOpen.insert(sN);\n                }\n\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n"}, {"tags": ["c++", "file"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1481134709, "post_id": 41024529, "comment_id": 69256258, "body": "What&#39;s your programs working directory? Is it the same where <code>sayilar.txt</code> lives?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481134761, "post_id": 41024529, "comment_id": 69256283, "body": "Typically when you do not specify the exact file location it needs to sit next to the exe file or in the directory where the source code is."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1481134909, "post_id": 41024529, "comment_id": 69256361, "body": "use the full path of file instead. eg: <code>&quot;E:&#47;User&#47;desktop&#47;sayilar.txt&quot;</code>"}, {"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481134992, "post_id": 41024529, "comment_id": 69256407, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 If you&#39;re asking about my document structure as i understand simply, My file in the folder (Desktop/MyProject near by Project.sln) and also i copyied it in Desktop/Project/Project near by main.cpp  But; if you&#39;re asking something complex (about working directory) How can i check it?"}, {"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481135110, "post_id": 41024529, "comment_id": 69256478, "body": "@NathanOliver Yes i tryed to put the txt file near sln-cpp-exe. There were 3 sayilar.txt in solution folder on my last try"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1481135110, "post_id": 41024529, "comment_id": 69256480, "body": "@FurkanAy\u0131k <a href=\"http://stackoverflow.com/questions/143174/how-do-i-get-the-directory-that-a-program-is-running-from\" title=\"how do i get the directory that a program is running from\">stackoverflow.com/questions/143174/&hellip;</a>"}, {"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "reply_to_user": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1481135155, "post_id": 41024529, "comment_id": 69256516, "body": "@Raindrop7 But i must be able to send the project someone else. It must be worked like this. (I know it can be work like this)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1481135160, "post_id": 41024529, "comment_id": 69256517, "body": "The <a href=\"https://msdn.microsoft.com/en-us/library/sf98bd4y.aspx\" rel=\"nofollow noreferrer\"><code>_getcwd</code> function</a> will tell you where the program is going to look for your file. <a href=\"https://en.wikipedia.org/wiki/Working_directory\" rel=\"nofollow noreferrer\">Be warned that the working directory moves</a>."}, {"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "edited": false, "score": 0, "creation_date": 1481136325, "post_id": 41024529, "comment_id": 69257232, "body": "Negative votes -_-  I&#39;ve been trying to fix this for 2 days. I could found no solution in web, so i don&#39;t know what that negative votes for. But i got my advice. I&#39;ll keep try. Thanks everyone"}, {"owner": {"reputation": 636, "user_id": 7174786, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d37a1bf625f18df544b7c67d24585d4f?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Scarlatti", "link": "https://stackoverflow.com/users/7174786/alessandro-scarlatti"}, "edited": false, "score": 0, "creation_date": 1481273527, "post_id": 41024529, "comment_id": 69319571, "body": "Have you checked the permissions for the text file?"}, {"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "reply_to_user": {"reputation": 636, "user_id": 7174786, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d37a1bf625f18df544b7c67d24585d4f?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Scarlatti", "link": "https://stackoverflow.com/users/7174786/alessandro-scarlatti"}, "edited": false, "score": 0, "creation_date": 1481289135, "post_id": 41024529, "comment_id": 69328954, "body": "@AlessandroScarlatti No sir. I&#39;m at work now but if you could say how to do it i can check it after work"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1484001413, "post_id": 41024529, "comment_id": 70321615, "body": "add the full path of file instead of the file&#39;s name"}], "answers": [{"tags": [], "owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "is_accepted": false, "score": 0, "last_activity_date": 1481299103, "creation_date": 1481299103, "answer_id": 41064299, "question_id": 41024529, "link": "https://stackoverflow.com/questions/41024529/c-cant-openread-file/41064299#41064299", "title": "C++ Can&#39;t Open&amp;Read File", "body": "<p>I can't find the real problem but i think it is about my OS settings (Win10). When i write \"sayilar.txt.txt\" instead of \"sayilar.txt\" <strong>it works.</strong>\nI've tryed to uncheck \"hide extensions of known file types\" setting but it stil doesn't work. (There was no answer about that problem in StackOverflow, for that negative voters) So i'll work with \"sayilar.txt.txt\". Regards.</p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "edited": false, "score": 1, "creation_date": 1484043421, "post_id": 41558268, "comment_id": 70336715, "body": "Sir i figured it out somehow. Like i said it was a win10 settings problem. (Using mingw as compiler is an option) Thank you for your answer. I hope it will be helpful someone who will come here. Regards."}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1484001952, "creation_date": 1484001952, "answer_id": 41558268, "question_id": 41024529, "link": "https://stackoverflow.com/questions/41024529/c-cant-openread-file/41558268#41558268", "title": "C++ Can&#39;t Open&amp;Read File", "body": "<p>I think the problem is in your file name so you are hiding the file extension then the first <code>.txt</code> is considered to be a part of file name not extension so if you show file extension then you'll get your file <code>sayilar.txt.txt</code> so try to rename it correctly so:</p>\n\n<ul>\n<li><p>either hide file extensions and rename the file to <code>sayilar</code> only without adding <code>.txt</code> because it is hidden.</p></li>\n<li><p>or show file extensions and then rename the file to <code>sayilar.txt</code> so there's no extra extension.</p></li>\n<li><p>if the problem persists then delete file and create a text file named <code>sayilar</code> : right click in your current folder or in any void place in the desktop -> New -> Text Document. enter the name <code>sayilar</code>.</p></li>\n</ul>\n\n<p>I wish this will figure out your problem.</p>\n"}], "owner": {"reputation": 371, "user_id": 6937109, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ChQ5l.jpg?s=128&g=1", "display_name": "Flardryn", "link": "https://stackoverflow.com/users/6937109/flardryn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1484001952, "creation_date": 1481134620, "question_id": 41024529, "link": "https://stackoverflow.com/questions/41024529/c-cant-openread-file", "title": "C++ Can&#39;t Open&amp;Read File", "body": "<p>I can't open the file in c++. I saw a lot of page that asked same question but i can't figured it out. I opened new project for just open the file (As you can see). -I also tryed it with mingw but nothing changed. I try to put the file everywhere in the folder. Please help.</p>\n\n<pre><code>string sayi;    \nifstream oku(\"sayilar.txt\");\nif (oku.is_open())\n{\n    cout &lt;&lt; \"Opened\";\n}\nelse\n{\n    cout &lt;&lt; \"Can't opened\";\n}\nint x; cin &gt;&gt; x;\n</code></pre>\n"}, {"tags": ["java", "android", "c++", "android-ndk", "wrapper"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1481139765, "post_id": 41024218, "comment_id": 69259145, "body": "And what is your question? You have been on this site long enough, that you should know better."}, {"owner": {"reputation": 3739, "user_id": 1786117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000543443572/picture?type=large", "display_name": "Mihai Bujanca", "link": "https://stackoverflow.com/users/1786117/mihai-bujanca"}, "reply_to_user": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1481195090, "post_id": 41024218, "comment_id": 69282998, "body": "@tambre thanks for the feedback. I updated the question and hope it&#39;s clear now. If it&#39;s not, please let me know what you think is lacking and I&#39;ll gladly add the information"}, {"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1481198083, "post_id": 41024218, "comment_id": 69284949, "body": "Heap-allocate a copy/moved <code>std::function</code>, pass its address as a <code>long</code> to the Java side and stash it there, pass the <code>long</code> back to C++ and convert it back to a <code>std::function*</code> that you can call."}], "owner": {"reputation": 3739, "user_id": 1786117, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/100000543443572/picture?type=large", "display_name": "Mihai Bujanca", "link": "https://stackoverflow.com/users/1786117/mihai-bujanca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1481196983, "creation_date": 1481133489, "last_edit_date": 1481196983, "question_id": 41024218, "link": "https://stackoverflow.com/questions/41024218/wrap-c-function-in-java-callable", "title": "Wrap C++ function in Java Callable", "body": "<p><strong>TL;DR I am trying to send a <code>std::function</code> to Java through JNI and use it as a <code>Callable</code> (see <code>SBCallable</code> bellow), after an asynchronous method was executed. Is there any way of doing this?</strong></p>\n\n<p>I am trying to initiate a http request from C++ through JNI, get the response and send it back to C++.</p>\n\n<p>My Java <code>NetworkManager</code> class:</p>\n\n<pre><code>RequestQueue queue; //initialised in the constructor\n\nprivate class SBCallable&lt;V&gt; implements Callable&lt;V&gt;{\n        private String response;\n        private int responseCode;\n    public SBCallable(/**function from c++ to call?**/) {\n\n    }\n    public setResponseCode(int responseCode)\n    {\n         this.responseCode = responseCode;\n    }\n    public setResponse(String response)\n    {\n         this.response = response;\n    }\n    public V call() throws Exception {\n        /**call my c++ function(response_code, response);**/\n        return null;\n    }\n}\n\npublic void get(final String url,\n                final HashMap&lt;String, String&gt; mHeaders,\n                final SBCallable&lt;Void&gt; callback)\n{\n    queue.add(new StringRequest(\n            Request.Method.GET,\n            url,\n            new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    try {\n                        callback.setResponseCode(200); /**for test purposes**/\n                        callback.setResponse(response);\n                        callback.call();\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            },\n            new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n\n                }\n            })\n    {\n        @Override\n        public HashMap&lt;String, String&gt; getHeaders() throws AuthFailureError \n        {\n            return mHeaders;\n        }\n    });\n}\n</code></pre>\n\n<p>My C++ networking interface:</p>\n\n<pre><code>void get(const std::string &amp;url,\n         const std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;headers,\n         std::function&lt;void(int, std::vector&lt;char&gt;)&gt; response_fn)\n</code></pre>\n\n<p>The JNI bridging code:</p>\n\n<pre><code>// OnCreate, the app is saving a pointer to JVM.\nvoid getHTTP(const std::string &amp;url,\n             const const std::vector&lt;std::pair&lt;std::string, std::string&gt;&gt; &amp;headers,\n             std::function&lt;void(int, std::vector&lt;char&gt;)&gt; response_fn_t /**callback function, with response code and content**/)\n{\n    JavaVM* jvm = app.getJVM();\n    JNIEnv *env;\n    jvm-&gt;GetEnv((void**)&amp;env,JNI_VERSION_1_6);\n    jobject headersMap = vectorStringPairToJavaHashMap(env, headers); // transforms from vector&lt;pair&lt;string, string&gt;&gt; to HashMap&lt;String,String&gt;\n    jstring url = env-&gt;NewStringUTF(url.c_str());\n    jclass clazz = env-&gt;FindClass(\"NetworkManager\");\n    jobject object = env-&gt;NewObject(clazz, env-&gt;GetMethodID(clazz, \"&lt;init&gt;\", \"()V\"));\n    /**HOW DO I WRAP response_fn_t for Java to be able to call it? **/\n    env-&gt;CallObjectMethod(object, env-&gt;GetMethodID(clazz, \"get\", \"(Ljava/lang/String;Ljava/lang/Object;Ljava/lang/Object;)V\"), url, headersMap, /**wrapped function here**/);\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 1978, "user_id": 363778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0066c9b8214ff2db6c99e8216746408d?s=128&d=identicon&r=PG", "display_name": "Linoliumz", "link": "https://stackoverflow.com/users/363778/linoliumz"}, "edited": false, "score": 0, "creation_date": 1481142216, "post_id": 41024176, "comment_id": 69260644, "body": "Thanks, that&#39;s exactly what I was looking for!"}, {"owner": {"reputation": 22989, "user_id": 1622894, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7fc8ff4593f37f357f8e3985d9f16902?s=128&d=identicon&r=PG&f=1", "display_name": "ollo", "link": "https://stackoverflow.com/users/1622894/ollo"}, "edited": false, "score": 0, "creation_date": 1481299881, "post_id": 41024176, "comment_id": 69335967, "body": "So, please <i>accept</i> the answer to indicate it&#39;s solved."}], "tags": [], "owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "is_accepted": false, "score": 4, "last_activity_date": 1481133358, "creation_date": 1481133358, "answer_id": 41024176, "question_id": 41024062, "link": "https://stackoverflow.com/questions/41024062/cmake-create-binary-foo-library-libfoo/41024176#41024176", "title": "CMake: Create binary foo + library libfoo?", "body": "<p>Name of the executable/library <em>file</em> isn't forced to be the same as the <em>target</em>. You may adjust name of the file created using <a href=\"https://cmake.org/cmake/help/v3.0/prop_tgt/OUTPUT_NAME.html\" rel=\"nofollow noreferrer\">OUTPUT_NAME</a> target's property:</p>\n\n<pre><code>add_library(libfoo ${LIB_SRC})\nset_target_properties(libfoo PROPERTIES OUTPUT_NAME foo)\n</code></pre>\n"}], "owner": {"reputation": 1978, "user_id": 363778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/0066c9b8214ff2db6c99e8216746408d?s=128&d=identicon&r=PG", "display_name": "Linoliumz", "link": "https://stackoverflow.com/users/363778/linoliumz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481133358, "creation_date": 1481132918, "question_id": 41024062, "link": "https://stackoverflow.com/questions/41024062/cmake-create-binary-foo-library-libfoo", "title": "CMake: Create binary foo + library libfoo?", "body": "<p>In my CMakeLists.txt I want to create a binary named foo and a library named libfoo(.a|.so).</p>\n\n<p>So I have tried using the following code:</p>\n\n<pre><code>add_executable(foo ${BIN_SRC})\nadd_library(foo ${LIB_SRC})\n</code></pre>\n\n<p>But unfortunately the code above fails with the error message:</p>\n\n<pre><code>Make Error at CMakeLists.txt:156 (add_library):\nadd_library cannot create target \"foo\" because another target with\nthe same name already exists.  The existing target is an executable created\n</code></pre>\n\n<p>It is abovious that I have 2 targets named foo in my CMakeLists.txt which is causing the error. I could e.g. fix the bug using:</p>\n\n<pre><code>    add_library(libfoo ${LIB_SRC})\n</code></pre>\n\n<p>But then my library gets named liblibfoo(.a|.so) which is not what I want!? </p>\n"}, {"tags": ["c++", "qt", "audio-player"], "comments": [{"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1481141247, "post_id": 41023837, "comment_id": 69260045, "body": "Is it sufficient for you to call hide() on one or more of your widgets, and then resize the window smaller?"}], "answers": [{"tags": [], "owner": {"reputation": 1469, "user_id": 3126098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5zWXc.png?s=128&g=1", "display_name": "Alex P", "link": "https://stackoverflow.com/users/3126098/alex-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1481144693, "last_edit_date": 1592644375, "creation_date": 1481144693, "answer_id": 41027347, "question_id": 41023837, "link": "https://stackoverflow.com/questions/41023837/qt-music-player-mini-player-mode/41027347#41027347", "title": "Qt music player: mini player mode", "body": "<p>A typical approach in Qt 4 is:</p>\n<ol>\n<li><p>Use <code>QWidget::hide()</code> and <code>QWidget::show()</code> to set the visibility of the individual elements you want to hide.</p>\n<p>If everything is properly structured, it's usually enough to just do this for the high-level elements (e.g. hide an entire toolbar, not the individual buttons; if your video canvas is in a frame, just hide the whole QFrame.)</p>\n</li>\n<li><p>Then, call <code>QWidget::adjustSize()</code> on the window itself to tell it to resize.</p>\n</li>\n</ol>\n<p>If the results aren't quite what you expect, the next step is to check on the <a href=\"http://doc.qt.io/qt-4.8/qsizepolicy.html\" rel=\"nofollow noreferrer\">size policy rules</a> of your widgets, spacers, and layouts.</p>\n"}], "owner": {"reputation": 33, "user_id": 7258138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d97d346ccb6f92689f271e20f04f964?s=128&d=identicon&r=PG", "display_name": "rfbrgs", "link": "https://stackoverflow.com/users/7258138/rfbrgs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 256, "favorite_count": 0, "accepted_answer_id": 41027347, "answer_count": 1, "score": 2, "last_activity_date": 1554619672, "creation_date": 1481132066, "last_edit_date": 1554619672, "question_id": 41023837, "link": "https://stackoverflow.com/questions/41023837/qt-music-player-mini-player-mode", "title": "Qt music player: mini player mode", "body": "<p>I'm building a simple music player using Qt. I want to have a mini player mode where a part of the window is hidden. How can this be done? Here is an example:</p>\n\n<p><em>Full Mode:</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/CeY8d.png\" alt=\"VLC\"></p>\n\n<p><em>Mini-Player Mode:</em></p>\n\n<p><img src=\"https://i.stack.imgur.com/jyeM8.png\" alt=\"VLC mini-mode\"></p>\n\n<p>Thanks for helping!</p>\n"}, {"tags": ["c++", "qt", "directshow", "qmake"], "comments": [{"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1481223112, "post_id": 41023697, "comment_id": 69301060, "body": "Long shot: you only have 32-bit .LIB on the path; the library is found but effectively ignored, hence the errors."}, {"owner": {"reputation": 19, "user_id": 1709849, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/57d78ed57f33f4690dab32eac5d224e1?s=128&d=identicon&r=PG", "display_name": "imonaboat", "link": "https://stackoverflow.com/users/1709849/imonaboat"}, "reply_to_user": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 0, "creation_date": 1481345730, "post_id": 41023697, "comment_id": 69351399, "body": "I should startpage this, but are there 64-bit direct show libs? How else can I compile a 64-bit app with 32-bit libraries?"}, {"owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "edited": false, "score": 1, "creation_date": 1481376726, "post_id": 41023697, "comment_id": 69358513, "body": "For example, 64-bit strmiids.lib with the mentioned in question symbols is installed with latest Windows SDK here: C:\\Program Files (x86)\\Windows Kits\\10\\Lib\\10.0.14393.0\\um\\x64\\strmiids.lib"}], "owner": {"reputation": 19, "user_id": 1709849, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/57d78ed57f33f4690dab32eac5d224e1?s=128&d=identicon&r=PG", "display_name": "imonaboat", "link": "https://stackoverflow.com/users/1709849/imonaboat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 744, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481131590, "creation_date": 1481131590, "question_id": 41023697, "link": "https://stackoverflow.com/questions/41023697/lnk2001-directshow-64bit-compilation-in-qtcreator", "title": "LNK2001 DirectShow 64bit compilation in QtCreator", "body": "<p>I get these errors showing up when compiling a Qt app in QtCreator.</p>\n\n<pre><code>link /NOLOGO /DYNAMICBASE /NXCOMPAT /DEBUG /OPT:REF /INCREMENTAL:NO \n/SUBSYSTEM:WINDOWS \"/MANIFESTDEPENDENCY:type='win32' \nname='Microsoft.Windows.Common-Controls' version='6.0.0.0' \npublicKeyToken='6595b64144ccf1df' language='*' processorArchitecture='*'\" \n/MANIFEST:embed /OUT:..\\AV\\Setup\\AV4.exe @C:\\Users\\me\\AppData\\Local\n\\Temp\\AV4.exe.4516.30906.jom\ncapture.obj : error LNK2001: unresolved external symbol IID_ICreateDevEnum\ncapture.obj : error LNK2001: unresolved external symbol IID_IBaseFilter\nsamplegrab.obj : error LNK2001: unresolved external symbol IID_IBaseFilter\ncapture.obj : error LNK2001: unresolved external symbol IID_IGraphBuilder\ncapture.obj : error LNK2001: unresolved external symbol IID_ICaptureGraphBuilder2\ncapture.obj : error LNK2001: unresolved external symbol IID_IMediaControl\ncapture.obj : error LNK2001: unresolved external symbol IID_IMediaEvent\ncapture.obj : error LNK2001: unresolved external symbol IID_IVideoWindow\ncapture.obj : error LNK2001: unresolved external symbol MEDIATYPE_Video\nsamplegrab.obj : error LNK2001: unresolved external symbol MEDIATYPE_Video\ncapture.obj : error LNK2001: unresolved external symbol CLSID_CaptureGraphBuilder2\ncapture.obj : error LNK2001: unresolved external symbol CLSID_FilterGraph\ncapture.obj : error LNK2001: unresolved external symbol CLSID_SystemDeviceEnum\ncapture.obj : error LNK2001: unresolved external symbol CLSID_VideoInputDeviceCategory\ncapture.obj : error LNK2001: unresolved external symbol PIN_CATEGORY_PREVIEW\nsamplegrab.obj : error LNK2001: unresolved external symbol MEDIASUBTYPE_RGB24\nsamplegrab.obj : error LNK2001: unresolved external symbol IID_ISampleGrabber\nsamplegrab.obj : error LNK2001: unresolved external symbol CLSID_SampleGrabber\nsamplegrab.obj : error LNK2001: unresolved external symbol CLSID_NullRenderer\n..\\AV\\Setup\\AV4.exe : fatal error LNK1120: 17 unresolved externals\n</code></pre>\n\n<p>My question is of course, why? These are strmiids.lib errors but it is linked.\nI think it may be because I want to compile this app for 64-bit, but strmiids was compiled 32 bit. There are no errors for gdiplus though and I don't know of a 64-bit DShow version.</p>\n\n<pre><code>LIBS += -L\"C:/Users/me/AV/DShow/DShow/lib/x86\"  -lstrmiids -lgdiplus -lWinmm\nINCLUDEPATH += $$PWD/DShow/include\n</code></pre>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481131563, "post_id": 41023661, "comment_id": 69254412, "body": "related/really good read: <a href=\"http://stackoverflow.com/questions/4421706/operator-overloading\">stackoverflow.com/questions/4421706/operator-overloading</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481131580, "post_id": 41023661, "comment_id": 69254422, "body": "See the section on <i>Binary arithmetic operators</i>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1481131618, "post_id": 41023661, "comment_id": 69254441, "body": "<i>&quot;To ensure that I don&#39;t accidently change lhs within the function,&quot;</i> That kind defeats the purpose of this passing-by-value &quot;optimization&quot;, doesn&#39;t it?"}, {"owner": {"reputation": 518, "user_id": 2912471, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f948420ff93916a691d90dc40eca67b9?s=128&d=identicon&r=PG&f=1", "display_name": "DrPepperJo", "link": "https://stackoverflow.com/users/2912471/drpepperjo"}, "edited": false, "score": 0, "creation_date": 1481131744, "post_id": 41023661, "comment_id": 69254524, "body": "So the optimization is that I can use the variable to assign a value (i.e. return lhs+=rhs)?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1481132413, "post_id": 41023661, "comment_id": 69254947, "body": "&quot;Optimization&quot; is kind of a strong word for &quot;the easiest way to implement it&quot;, but in essence, yes."}], "answers": [{"comments": [{"owner": {"reputation": 518, "user_id": 2912471, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f948420ff93916a691d90dc40eca67b9?s=128&d=identicon&r=PG&f=1", "display_name": "DrPepperJo", "link": "https://stackoverflow.com/users/2912471/drpepperjo"}, "edited": false, "score": 0, "creation_date": 1481133495, "post_id": 41023873, "comment_id": 69255614, "body": "Thanks for addressing the chaining question so adequatly. In &quot;Effective C++&quot;, Scott Meyers votes in favor of having the binary arithmetic operator functions return a const value to have the compiler detect errors like <code>if( a + b = c)</code>. Would this const affect the optimization in any way?"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 518, "user_id": 2912471, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f948420ff93916a691d90dc40eca67b9?s=128&d=identicon&r=PG&f=1", "display_name": "DrPepperJo", "link": "https://stackoverflow.com/users/2912471/drpepperjo"}, "edited": false, "score": 0, "creation_date": 1481134467, "post_id": 41023873, "comment_id": 69256111, "body": "@DrPepperJo I don&#39;t think that it would, because the compiler &quot;owns&quot; the temporary object that it optimizes out, so it knows that there&#39;s no real assignment going on (assuming there&#39;s no bugs in the optimizer)."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1481132175, "creation_date": 1481132175, "answer_id": 41023873, "question_id": 41023661, "link": "https://stackoverflow.com/questions/41023661/arithmetic-operators-parameter-type/41023873#41023873", "title": "Arithmetic operators parameter type", "body": "<p>Taking by copy is done to enable a specific idiom, when <code>+</code> is implemented in terms of <code>+=</code>:</p>\n\n<pre><code>inline X operator+(X lhs, const X&amp; rhs) {\n    lhs += rhs;\n    return lhs;\n}\n</code></pre>\n\n<p>On the other hand, if you take <code>lhs</code> by <code>const X&amp;</code> reference, you would have to either make a copy yourself, like this</p>\n\n<pre><code>inline X operator+(const X&amp; lhs, const X&amp; rhs) {\n    X res(lhs); \n    res += rhs;\n    return res;\n}\n</code></pre>\n\n<p>or to construct a new object, like this:</p>\n\n<pre><code>inline X operator+(const X&amp; lhs, const X&amp; rhs) {\n    X res; \n    ... // Modify res to contain the sum of lhs and rhs\n    return res;\n}\n</code></pre>\n\n<p>If you are using the idiomatic approach, the compiler can optimize chains of <code>+</code> for you by making a copy once. The compiler notices that when you do this</p>\n\n<pre><code>lhs + rhs1 + rhs2\n</code></pre>\n\n<p>the result of <code>lhs + rhs1</code> is a throw-away copy which can be reused in constructing <code>(lhs + rhs1) + rhs2</code> without performing a copy again.</p>\n\n<p>On the other hand, if you use one of the alternatives above, the compiler would need to make a copy for each operation in the chain.</p>\n"}], "owner": {"reputation": 518, "user_id": 2912471, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/f948420ff93916a691d90dc40eca67b9?s=128&d=identicon&r=PG&f=1", "display_name": "DrPepperJo", "link": "https://stackoverflow.com/users/2912471/drpepperjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 41023873, "answer_count": 1, "score": 2, "last_activity_date": 1481132175, "creation_date": 1481131480, "question_id": 41023661, "link": "https://stackoverflow.com/questions/41023661/arithmetic-operators-parameter-type", "title": "Arithmetic operators parameter type", "body": "<p>It is often stated (e.g. here <a href=\"http://en.cppreference.com/w/cpp/language/operators\" rel=\"nofollow noreferrer\">cppreference</a>) that defining the left hand side (lhs) parameter of an arithmetic operator by value helps optimizing chained operations. </p>\n\n<pre><code>X operator+( X         lhs\n           , X const &amp; rhs )\n</code></pre>\n\n<p>To ensure that I don't accidently change lhs within the function, I like to declare my by value parameters const. Does this change the behavior concerning the desired optimization?</p>\n\n<pre><code>X operator+( X const   lhs\n           , X const &amp; rhs )\n</code></pre>\n"}, {"tags": ["c++", "arrays", "visual-studio-2015"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1481131290, "post_id": 41023572, "comment_id": 69254249, "body": "To begin with you have an off-by-one error, where you go out of bounds of your inventory array."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481131365, "post_id": 41023572, "comment_id": 69254295, "body": "As for the first part of your problem, you could check for the string <code>&quot;Empty Slot&quot;</code> to find the first empty slot. For the second part, add <i>keywords</i> to your items. So a <code>&quot;Shiny Key&quot;</code> could have the keywords <code>shiny</code> and <code>key</code>. Then the user could use <code>drop key</code> to drop the first key, or <code>drop shiny key</code> to drop the shiny key."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1481131405, "post_id": 41023572, "comment_id": 69254327, "body": "If I were you I would write my own container that wraps a <code>std::vector</code>.  It will keep track of what the max size is and if you hit it adding things into the vector, it will stop you from adding more elements.  Does require some boiler plate to forward function but IMHO it gives you a nice reusable inventory you can use in other places."}, {"owner": {"reputation": 1813, "user_id": 2449857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxnCm.jpg?s=128&g=1", "display_name": "Jack Deeth", "link": "https://stackoverflow.com/users/2449857/jack-deeth"}, "edited": false, "score": 0, "creation_date": 1481133176, "post_id": 41023572, "comment_id": 69255419, "body": "There&#39;s a completely different approach you could use instead: Every object in the world has a <code>location</code> (possibly represented as an <code>int</code>), and the player&#39;s inventory is just one of them. To move an item to inventory (or to anywhere in fact), check it&#39;s OK to move it, then change the item&#39;s <code>location</code> to the inventory&#39;s ID. If you keep all your items in a <code>vector</code> you can very quickly loop through and find which items have an inventory <code>location</code>."}, {"owner": {"reputation": 121, "user_id": 7082178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0effd74be9f346adfcbfabeb6a72cf38?s=128&d=identicon&r=PG&f=1", "display_name": "Lucy Loo", "link": "https://stackoverflow.com/users/7082178/lucy-loo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481134792, "post_id": 41023572, "comment_id": 69256304, "body": "@NathanOliver could you give an example of how you&#39;d implement that with a vector?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481135677, "post_id": 41023572, "comment_id": 69256833, "body": "@LucyLoo Something like <a href=\"http://coliru.stacked-crooked.com/a/d02dfe2660a73aaf\" rel=\"nofollow noreferrer\">this</a>.  You could even change from using a <code>vector</code> to a <code>map</code> so you can keep track of items and quantities."}], "owner": {"reputation": 121, "user_id": 7082178, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0effd74be9f346adfcbfabeb6a72cf38?s=128&d=identicon&r=PG&f=1", "display_name": "Lucy Loo", "link": "https://stackoverflow.com/users/7082178/lucy-loo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 318, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481131178, "creation_date": 1481131178, "question_id": 41023572, "link": "https://stackoverflow.com/questions/41023572/picking-up-and-dropping-items", "title": "Picking up and Dropping Items", "body": "<p>I'm building a Text based RPG where the user has an inventory in which they can pick up and place items in. I've set up my inventory to have 6 slots:</p>\n\n<pre><code>string inventory[] = { \"Empty Slot\", \"Empty Slot\", \"Empty Slot\", \n                       \"Empty Slot\", \"Empty Slot\", \"Empty Slot\" };\n</code></pre>\n\n<p>If I want to print my inventory, I use a for loop like this:</p>\n\n<pre><code>void getInventory() {\n\n    for (int i = 0; i &lt;= 6; i++)\n        cout &lt;&lt; inventory[i];\n}// if there is another way to do this, please suggest!\n</code></pre>\n\n<p>But I'm having some trouble adding items to my inventory. If a user enters a room with a key inside, and types in <code>\"pickup\"</code>, the key should go into an inventory slot like this: </p>\n\n<pre><code>if (input == \"PICKUP\" || input == \"pickup\") {\n\n        inventory[0] = \"Shiny Key\";\n}\n</code></pre>\n\n<p>With this code, how do I check that this particular slot is <strong>now filled</strong>? For example, if all slots are filled with keys and the user attempts to pick something up, how can I check that the inventory is full? </p>\n\n<p>Also, if a user types in <code>\"drop\"</code>, how can I make it so the user can specifically pick which slot they want to drop?</p>\n"}, {"tags": ["c++", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7263518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ef171ff87e11de672ef94a2f9b9bff?s=128&d=identicon&r=PG&f=1", "display_name": "UrAv", "link": "https://stackoverflow.com/users/7263518/urav"}, "edited": false, "score": 0, "creation_date": 1481151101, "post_id": 41023844, "comment_id": 69265097, "body": "Daniel Hi, Thanks for you response. I didn&#39;t put all of my code (my mistake). In the server side I&#39;m doing detach and resume. My problem is in the client side - server side open several socket and receive indication to each server thread socket including the indication of socket close."}, {"owner": {"reputation": 139, "user_id": 4854112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6956e6c74db29143a2b15c373f737e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kovachev", "link": "https://stackoverflow.com/users/4854112/daniel-kovachev"}, "reply_to_user": {"reputation": 1, "user_id": 7263518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ef171ff87e11de672ef94a2f9b9bff?s=128&d=identicon&r=PG&f=1", "display_name": "UrAv", "link": "https://stackoverflow.com/users/7263518/urav"}, "edited": false, "score": 0, "creation_date": 1481185272, "post_id": 41023844, "comment_id": 69276765, "body": "do you chane the port? beacuse it looks like your are using the same one"}, {"owner": {"reputation": 139, "user_id": 4854112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6956e6c74db29143a2b15c373f737e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kovachev", "link": "https://stackoverflow.com/users/4854112/daniel-kovachev"}, "reply_to_user": {"reputation": 1, "user_id": 7263518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ef171ff87e11de672ef94a2f9b9bff?s=128&d=identicon&r=PG&f=1", "display_name": "UrAv", "link": "https://stackoverflow.com/users/7263518/urav"}, "edited": false, "score": 0, "creation_date": 1481185859, "post_id": 41023844, "comment_id": 69277057, "body": "never mind didnt see that you are using the create function. it will be esier to understund where is the error if you will paste more of your code."}, {"owner": {"reputation": 1, "user_id": 7263518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ef171ff87e11de672ef94a2f9b9bff?s=128&d=identicon&r=PG&f=1", "display_name": "UrAv", "link": "https://stackoverflow.com/users/7263518/urav"}, "edited": false, "score": 1, "creation_date": 1481221904, "post_id": 41023844, "comment_id": 69300453, "body": "Update: changing the client to different threads (the same as the server side) solve the problem. Why each client socket has to be in a different thread. It is if I will need different threads to have two descriptors to the same file (to my opinion)"}], "tags": [], "owner": {"reputation": 139, "user_id": 4854112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6956e6c74db29143a2b15c373f737e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kovachev", "link": "https://stackoverflow.com/users/4854112/daniel-kovachev"}, "is_accepted": false, "score": 1, "last_activity_date": 1481132078, "creation_date": 1481132078, "answer_id": 41023844, "question_id": 41023466, "link": "https://stackoverflow.com/questions/41023466/c-creating-multiple-socket-clients/41023844#41023844", "title": "C++ Creating multiple socket clients", "body": "<p>your problem is that you are not using the CSocketThread object the right way.<br>\nas mentiend in microsoft documention \nafter the accept function you need to do the following :</p>\n\n<pre><code>CSockThread* pSockThread = (CSockThread*)AfxBeginThread( RUNTIME_CLASS(CSockThread), THREAD_PRIORITY_NORMAL, 0, CREATE_SUSPENDED); \nif (NULL != pSockThread) {\n// Detach the newly accepted socket and save\n//the SOCKET handle in our new thread object.\n//After detaching it, it should no longer be\n//used in the context of this thread.\npSockThread-&gt;m_hConnected = sConnected.Detach();\npSockThread-&gt;ResumeThread(); \n} }\n</code></pre>\n\n<p>when you attach your socket to the thread then it will run.</p>\n\n<p>link to microsoft doc:\n<a href=\"https://msdn.microsoft.com/en-us/library/wxzt95kb.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/wxzt95kb.aspx</a></p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 3863946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c382d6682f972e4cf93311197bdb7c7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3863946", "link": "https://stackoverflow.com/users/3863946/user3863946"}, "edited": false, "score": 0, "creation_date": 1487306345, "post_id": 42271874, "comment_id": 71735242, "body": "i missed pthread_join() after the if( p = pthread_create( &amp;sniffer_thread[i] , NULL ,  connection_handler , (void*) new_sock) &lt; 0) {     perror(&quot;could not create thread&quot;);     return 1; }"}], "tags": [], "owner": {"reputation": 11, "user_id": 3863946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c382d6682f972e4cf93311197bdb7c7c?s=128&d=identicon&r=PG&f=1", "display_name": "user3863946", "link": "https://stackoverflow.com/users/3863946/user3863946"}, "is_accepted": false, "score": 0, "last_activity_date": 1487242497, "creation_date": 1487242497, "answer_id": 42271874, "question_id": 41023466, "link": "https://stackoverflow.com/questions/41023466/c-creating-multiple-socket-clients/42271874#42271874", "title": "C++ Creating multiple socket clients", "body": "<p>your solution has worked for me. I have used multiple threads to stress test the server in c++ under linux. Pasting my code, it will be helpful to somebody...Experts can improve my code, if they find any flaws in my handling of code. I know, I am doing something wrong but no other go to test the server as no one has provided the solution for this till now. I am able to test the server for 100000 clients using this code. - Kranti.</p>\n\n<h1>include //for threading , link with lpthread</h1>\n\n<pre><code>void *connection_handler(void *);\n\n#define PORT 9998\n#define SERVER_IP \"127.0.0.1\"\n#define MAXSZ 100\n#define MAXSOCK 70000\n\nint main()\n{\nint sockfd[MAXSOCK];//to create socket\nint socket_desc , new_socket[MAXSOCK], *new_sock;\nstruct sockaddr_in serverAddress;//client will connect on this\nint n;\nchar msg1[MAXSZ];\nchar msg2[MAXSZ];\nint NoOfClients = MAXSOCK;\nmemset(msg2,0,100);\nvoid *ret;\n\nfor(int i=0;i&lt;NoOfClients;i++){\n//create socket\nsockfd[i]=socket(AF_INET,SOCK_STREAM,0);\n//initialize the socket addresses\nmemset(&amp;serverAddress,0,sizeof(serverAddress));\nserverAddress.sin_family=AF_INET;\nserverAddress.sin_addr.s_addr=inet_addr(SERVER_IP);\nserverAddress.sin_port=htons(PORT);\n\n//client  connect to server on port\nnew_socket[i] = connect(sockfd[i],(struct sockaddr *)&amp;serverAddress,sizeof(serverAddress));\nprintf(\"new socket connected= %d\",new_socket[i]);\n\npthread_t sniffer_thread[MAXSOCK];\nnew_sock = malloc(sizeof(int));\n*new_sock = new_socket[i];\nint p=-1;\nif( p = pthread_create( &amp;sniffer_thread[i] , NULL ,  connection_handler , (void*) new_sock) &lt; 0)\n{\n    perror(\"could not create thread\");\n    return 1;\n}\n}\nreturn 0;\n}\n/*\n * This will handle connection for each client\n * */\nvoid *connection_handler(void *socket_desc)\n{\n    //Get the socket descriptor\n    int sock = *(int*)socket_desc;\n    int read_size;\n    char *message , client_message[50];\n    printf(\"we are in connection handler\");\n\n    //Send some messages to the server\n    message = \"Greetings! I am your connection handler\\n\";\n    int wlen = write(sock , message , strlen(message));\n    printf(\"write length is %d\", wlen);\n\n    //Free the socket pointer\n    //close(sock);\n    free(sock);\n\nreturn 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7263518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ef171ff87e11de672ef94a2f9b9bff?s=128&d=identicon&r=PG&f=1", "display_name": "UrAv", "link": "https://stackoverflow.com/users/7263518/urav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2408, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1487242497, "creation_date": 1481130868, "question_id": 41023466, "link": "https://stackoverflow.com/questions/41023466/c-creating-multiple-socket-clients", "title": "C++ Creating multiple socket clients", "body": "<p>I'm trying to build a simulation for multiple socket clients.\nMy server has the following code to listen to multiple clients</p>\n\n<p>My socket are from a very simple class drive from CAsyncSocket and my environment is windows MFC.</p>\n\n<pre><code>    m_server.Create(....); // with the correct values\n    if (m_server.Listen()==FALSE)\n</code></pre>\n\n<p>and later on the OnSocketAccept() function</p>\n\n<pre><code>if (m_server.Accept(tempSock))\n{\n    CSocketThread* pThread = (CSocketThread*)AfxBeginThread(RUNTIME_CLASS(CSocketThread), THREAD_PRIORITY_NORMAL, 0, CREATE_SUSPENDED);\n...\n</code></pre>\n\n<p>My simulation apps has the following code:</p>\n\n<pre><code>for (int i = 0; i &lt; numOfClients; i++)\n{\n    m_sConnected[i].Create();\n    int rVal = m_sConnected[i].Connect(csIPAddress.GetString(), m_port);\n</code></pre>\n\n<p>That doesn't work.</p>\n\n<p>In WireShark I can see that my (numOfClients = 10 for example) 10 clients are connected with different client source port.</p>\n\n<p>But each new socket of <em>m_sConnected[i]</em> is becoming NULL after the second connection to all sockets including <em>m_sConnected[0]</em>.</p>\n\n<p>Closing the sockets or destroy the simulation app create socket close at the server side for all open threads for the listen sockets.</p>\n\n<p>What is the problem?\nCan I use the same process/thread for all my socket clients?</p>\n\n<p>10x</p>\n\n<p>UrAv.</p>\n"}, {"tags": ["c++", "sparse-matrix", "eigen"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1481130834, "post_id": 41023451, "comment_id": 69253951, "body": "These kind of questions are explicitly <i>off-topic</i> here. Read point #4 from this <a href=\"http://stackoverflow.com/help/on-topic\">help center article</a>."}, {"owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 0, "creation_date": 1481131234, "post_id": 41023451, "comment_id": 69254211, "body": "Can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> along with your compiler flags?"}, {"owner": {"reputation": 577, "user_id": 3034338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e9324b483505227ab1839298f7159d1?s=128&d=identicon&r=PG&f=1", "display_name": "fernando.reyes", "link": "https://stackoverflow.com/users/3034338/fernando-reyes"}, "edited": false, "score": 0, "creation_date": 1481136268, "post_id": 41023451, "comment_id": 69257201, "body": "Show what you tried and may be someone can help you make it work"}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1481149145, "post_id": 41023451, "comment_id": 69264265, "body": "Make sure you compiled with compiler optimization ON. Also, is the matrix symmetric?"}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1481149894, "post_id": 41023451, "comment_id": 69264585, "body": "The first question you should ask is if you explicitly need to know <code>A\\B</code>. Even if <code>A</code> and <code>B</code> are sparse, this will often be a (big) dense matrix. Often it is sufficient just to multiply by <code>B</code> and &#39;solve&#39; with <code>A</code> on-the-fly."}, {"owner": {"reputation": 73, "user_id": 4370886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863512a36bd21f710c122fbe23d8c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdarhman Taha", "link": "https://stackoverflow.com/users/4370886/abdarhman-taha"}, "reply_to_user": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1481215834, "post_id": 41023451, "comment_id": 69296974, "body": "@ggael I did so with the rest of the optimization steps illustrated in the Eigen documentation but with no noticeable improvement, no it is not a symmetric matrix"}, {"owner": {"reputation": 73, "user_id": 4370886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863512a36bd21f710c122fbe23d8c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdarhman Taha", "link": "https://stackoverflow.com/users/4370886/abdarhman-taha"}, "reply_to_user": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1481215851, "post_id": 41023451, "comment_id": 69296983, "body": ", @chtz I don&#39;t get it, how multiplying Ax = B by B on both sides will solve for x ??"}, {"owner": {"reputation": 73, "user_id": 4370886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863512a36bd21f710c122fbe23d8c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdarhman Taha", "link": "https://stackoverflow.com/users/4370886/abdarhman-taha"}, "reply_to_user": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "edited": false, "score": 0, "creation_date": 1481215890, "post_id": 41023451, "comment_id": 69297009, "body": "@Avi Ginsburg  I edited the question, hopefully it&#39;s clearer now"}, {"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 1, "creation_date": 1481220919, "post_id": 41023451, "comment_id": 69299916, "body": "@AbdarhmanTaha: I meant if you want to multiply something with <code>X</code>, e.g., ` X*y` you instead can calculate: <code>luA.solve(B*y)</code> (assuming <code>luA</code> is an LU-decomposition of <code>A</code>."}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 0, "creation_date": 1481224361, "post_id": 41023451, "comment_id": 69301667, "body": "@AbdarhmanTaha: sorry I did not paid attention that B was a sparse matrix too. The slow computation now makes sense."}, {"owner": {"reputation": 73, "user_id": 4370886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863512a36bd21f710c122fbe23d8c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdarhman Taha", "link": "https://stackoverflow.com/users/4370886/abdarhman-taha"}, "reply_to_user": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1481358388, "post_id": 41023451, "comment_id": 69353750, "body": "@chtz the time taken for decomposition is too long, that&#39;s the main problem, time"}], "answers": [{"comments": [{"owner": {"reputation": 14588, "user_id": 6870253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c7ce91530d2dddae7b9fc2bd828ed78?s=128&d=identicon&r=PG&f=1", "display_name": "chtz", "link": "https://stackoverflow.com/users/6870253/chtz"}, "edited": false, "score": 0, "creation_date": 1481154436, "post_id": 41026419, "comment_id": 69266366, "body": "The question was not about element-wise operations at all. If arma provides sparse-solvers (with sparse right-hand-side), the answer may be relevant."}], "tags": [], "owner": {"reputation": 6557, "user_id": 2495795, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/13606de0b736d7191e2cf2bfea1d4fda?s=128&d=identicon&r=PG", "display_name": "BufBills", "link": "https://stackoverflow.com/users/2495795/bufbills"}, "is_accepted": false, "score": -2, "last_activity_date": 1481141261, "creation_date": 1481141261, "answer_id": 41026419, "question_id": 41023451, "link": "https://stackoverflow.com/questions/41023451/sparse-matrix-left-matrix-divide-in-c/41026419#41026419", "title": "Sparse matrix, left matrix divide in C++", "body": "<p>Try this one:\n<a href=\"http://arma.sourceforge.net/docs.html#operators\" rel=\"nofollow noreferrer\">http://arma.sourceforge.net/docs.html#operators</a></p>\n\n<p>It has lots operators for matrix:</p>\n\n<p>operators:  +  \u2212  *  /  %  ==  !=  &lt;=  >=  &lt;  >\nOverloaded operators for Mat, Col, Row and Cube classes</p>\n\n<p>Meanings: </p>\n\n<ul>\n<li>Addition of two objects\n\u2212<br>\nSubtraction of one object from another or negation of an object</li>\n</ul>\n\n<p>/<br>\nElement-wise division of an object by another object or a scalar\n*<br>\nMatrix multiplication of two objects; not applicable to the Cube class unless multiplying a cube by a scalar</p>\n\n<p>%<br>\nSchur product: element-wise multiplication of two objects</p>\n\n<p>==<br>\nElement-wise equality evaluation of two objects; generates a matrix of type umat with entries that indicate whether at a given position the two elements from the two objects are equal (1) or not equal (0)\n!=<br>\nElement-wise non-equality evaluation of two objects</p>\n\n<blockquote>\n  <p>=<br>\n  As for ==, but the check is for \"greater than or equal to\"\n  &lt;=<br>\n  As for ==, but the check is for \"less than or equal to\"</p>\n  \n  <p>As for ==, but the check is for \"greater than\"\n  &lt;<br>\n  As for ==, but the check is for \"less than\"</p>\n</blockquote>\n"}], "owner": {"reputation": 73, "user_id": 4370886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863512a36bd21f710c122fbe23d8c56d?s=128&d=identicon&r=PG&f=1", "display_name": "Abdarhman Taha", "link": "https://stackoverflow.com/users/4370886/abdarhman-taha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481258431, "creation_date": 1481130809, "last_edit_date": 1481215418, "question_id": 41023451, "link": "https://stackoverflow.com/questions/41023451/sparse-matrix-left-matrix-divide-in-c", "title": "Sparse matrix, left matrix divide in C++", "body": "<p>I have two sparse matrices A and B and I want to compute X as <code>X = A\\B</code> also the same solution to the equation <code>A*X = B</code><br>\nIs there a library in C++ that has this functionality?, I tried Eigen with SparseLU solver but it's taking too much time, when dealing with very large sparse matrices ((6*6)millions), much longer than Matlab.<br>\nany ideas?<br>\nEdit: <br>\nHere's the solving snippet in Eigen and OpenCV, the matrix is originally an image, the output is also an image, also it's better if B or EIN in the snippet to be dense but I can't do so in Eigen</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Eigen::SparseLU&lt;Eigen::SparseMatrix&lt;float&gt;&gt; Solver;\r\nEA.makeCompressed();\r\nSolver.compute(EA);\r\nif (Solver.info() != Eigen::Success) std::cout &lt;&lt; Solver.lastErrorMessage() &lt;&lt; std::endl;\r\nelse std::cout &lt;&lt; \"Success !\" &lt;&lt; std::endl;\r\ncv::SparseMat IN(MatTraverse(Image));\r\nEigen::SparseMatrix&lt;float&gt; EIN = SparseCV2Eigen(IN);\r\nEigen::SparseMatrix&lt;float&gt; OUT = Solver.solve(EIN);\r\nEigen::MatrixXf OUTM(OUT);\r\nOUTM.resize(Image.cols,Image.rows);\r\ncv::Mat CVOUT(OUTM.rows(), OUTM.cols(), CV_32F, OUTM.data());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another, the same equation can be solved in Matlab using <code>X = A\\B</code> in a much faster time</p>\n"}, {"tags": ["c++", "macos", "qt", "security", "ssl"], "comments": [{"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1481142889, "post_id": 41023281, "comment_id": 69261024, "body": "What do you get if you connect to the <code>sslErrors</code> signal and dump the errors somwhere (on the console)?"}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 1, "creation_date": 1481142910, "post_id": 41023281, "comment_id": 69261036, "body": "Is this under OSX? If so, note that 5.4 uses OpenSSL, but 5.7 does use SecureTransport. So your manual test might prove nothing."}, {"owner": {"reputation": 21, "user_id": 7256942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510a906fe4a11b31151eafea520d8fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Ikram", "link": "https://stackoverflow.com/users/7256942/omar-ikram"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1481211196, "post_id": 41023281, "comment_id": 69293751, "body": "Thanks for your response @peppe. Yes it is on OS X. Connecting to the <code>sslErrors</code> signal doesn&#39;t yield any additional information. I&#39;ll investigate doing another manual test using SecureTransport - e.g. curl."}], "owner": {"reputation": 21, "user_id": 7256942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/510a906fe4a11b31151eafea520d8fb1?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Ikram", "link": "https://stackoverflow.com/users/7256942/omar-ikram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1481130240, "creation_date": 1481130240, "question_id": 41023281, "link": "https://stackoverflow.com/questions/41023281/ssl-connections-in-qt-5-7", "title": "SSL connections in Qt 5.7", "body": "<p>Since upgrading from Qt 5.4 to 5.7, SSL connections using <code>QNetworkAccessManager::get</code> are now failing with an error code <code>QNetworkReply::UnknownNetworkError</code> and error message <code>SSLRead failed: -9842</code>. </p>\n\n<pre><code>manager = new QNetworkAccessManager(this);\n\nconnect(manager, SIGNAL(finished(QNetworkReply*)),\n        this, SLOT(replyFinished(QNetworkReply*)));\n\nmanager-&gt;get(QNetworkRequest(QUrl(\"https://www.myserver.com\")));\n</code></pre>\n\n<p>Error -9842 corresponds to the Apple error <a href=\"https://www.osstatus.com/search/results?platform=all&amp;framework=all&amp;search=errSSLClientCertRequested\" rel=\"nofollow noreferrer\">errSSLClientCertRequested</a> (server has requested a client cert). Our server does not request a Client Certificate. Using oppenssl on the terminal works without issue.</p>\n\n<pre><code>openssl s_client -connect &lt;my sever&gt;:443\n</code></pre>\n\n<p>SSL connections using <code>QNetworkAccessManager</code> works without problem in Qt 5.4. Do I need to set something up when making <code>QNetworkAccessManager</code> connections in Qt 5.7 or am I missing something else here?</p>\n"}, {"tags": ["java", "python", "c++", "batch-file", "copy"], "answers": [{"tags": [], "owner": {"reputation": 128, "user_id": 7231964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211835182341675/picture?type=large", "display_name": "Cody Patterson", "link": "https://stackoverflow.com/users/7231964/cody-patterson"}, "is_accepted": true, "score": 0, "last_activity_date": 1481131810, "last_edit_date": 1492086165, "creation_date": 1481131477, "answer_id": 41023658, "question_id": 41023221, "link": "https://stackoverflow.com/questions/41023221/what-is-the-best-way-for-copy-specific-data-from-an-external-vm/41023658#41023658", "title": "What is the best way for copy specific Data from an external VM", "body": "<p>If you have a shell that has linux/UNIX commands (If I'm on Windows, I use <a href=\"https://www.cygwin.com/\" rel=\"nofollow noreferrer\">Cygwin</a>), then you could set up a <a href=\"https://en.wikipedia.org/wiki/Cron\" rel=\"nofollow noreferrer\"><code>Cron</code></a> job or write a bash script to run on each machine that takes data from a known directory and uses <a href=\"https://en.wikipedia.org/wiki/Secure_copy\" rel=\"nofollow noreferrer\"><code>scp</code></a> to copy any data from that known directory on eVM to My_PC, then have another <code>cron</code> job (or bash script) from your PC 'forward' the data to aVM.</p>\n\n<p>Links:</p>\n\n<p><a href=\"https://askubuntu.com/questions/2368/how-do-i-set-up-a-cron-job\">Cron Resource</a></p>\n\n<p><a href=\"https://kb.iu.edu/d/agye\" rel=\"nofollow noreferrer\">SCP Resource</a></p>\n"}], "owner": {"reputation": 886, "user_id": 6933458, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sO3wJ.jpg?s=128&g=1", "display_name": "BitBeats", "link": "https://stackoverflow.com/users/6933458/bitbeats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1481151777, "accepted_answer_id": 41023658, "answer_count": 1, "score": -2, "last_activity_date": 1481131810, "creation_date": 1481130065, "question_id": 41023221, "link": "https://stackoverflow.com/questions/41023221/what-is-the-best-way-for-copy-specific-data-from-an-external-vm", "closed_reason": "Needs more focus", "title": "What is the best way for copy specific Data from an external VM", "body": "<p>I have to copy some specific data out from a external VM (eVM) from an other firm i don't work.</p>\n\n<p>I have an other VM (aVM) that is analysing data.\nSo the path of the data should be eVM -> My_PC -> aVM. aVM have no access to eVM. But the whole process should be controlled on aVM.</p>\n\n<p>The collection of the data should happened every day and it should be only for data with '_CPU2' in it. After that aVM will parse (with a parser i implemented in java) the data and send it to other programs.</p>\n\n<p>What is the fastest and the most performant way to implement this process? I do not want to collect not necessary data from eVM and i do not want to leave garbage on this PCs.</p>\n\n<p>My primary languages are Java and python. Also I know the basics from c/c++. I have no big experience. Maybe there are some good classes or functions for it, you can advise me.</p>\n\n<p>Is there maybe a way to do it through batch-files? I want to do it fast, because I will not have much time tomorrow for implementing it. </p>\n"}, {"tags": ["c++", "dictionary", "compilation", "const-iterator"], "comments": [{"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "edited": false, "score": 2, "creation_date": 1481130116, "post_id": 41023211, "comment_id": 69253529, "body": "<code>int map = cronologias.size();</code> ?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1481130164, "post_id": 41023211, "comment_id": 69253549, "body": "This is why <a href=\"http://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\"><code>using namesapce std;</code> is a bad idea</a>"}, {"owner": {"reputation": 25, "user_id": 7086754, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4ZRvhZbKt9Q/AAAAAAAAAAI/AAAAAAAAM6I/YVn0m3VMpTc/photo.jpg?sz=128", "display_name": "Rusillo", "link": "https://stackoverflow.com/users/7086754/rusillo"}, "edited": false, "score": 0, "creation_date": 1481130171, "post_id": 41023211, "comment_id": 69253553, "body": "There im getting the size of a map"}, {"owner": {"reputation": 25, "user_id": 7086754, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4ZRvhZbKt9Q/AAAAAAAAAAI/AAAAAAAAM6I/YVn0m3VMpTc/photo.jpg?sz=128", "display_name": "Rusillo", "link": "https://stackoverflow.com/users/7086754/rusillo"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481130228, "post_id": 41023211, "comment_id": 69253581, "body": "@NathanOliver any suggestion?"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481130256, "post_id": 41023211, "comment_id": 69253594, "body": "You get the size of the map, and assign it to what variable?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1481130280, "post_id": 41023211, "comment_id": 69253604, "body": "Like tha answers say, don&#39;t use <code>using namesapce std;</code> and instead use <code>std::</code> everywhere.  Its only 5 more characters."}, {"owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "edited": false, "score": 0, "creation_date": 1481130507, "post_id": 41023211, "comment_id": 69253746, "body": "@Rusillo Have you tried changing the name of that variable to something else than a container&#39;s name ?"}], "owner": {"reputation": 25, "user_id": 7086754, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4ZRvhZbKt9Q/AAAAAAAAAAI/AAAAAAAAM6I/YVn0m3VMpTc/photo.jpg?sz=128", "display_name": "Rusillo", "link": "https://stackoverflow.com/users/7086754/rusillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 523, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481130021, "creation_date": 1481130021, "question_id": 41023211, "link": "https://stackoverflow.com/questions/41023211/expected-primary-expression-before-int-map-iterator-declaration", "title": "Expected primary-expression before \u2018int map iterator declaration", "body": "<p>I dont know why im getting this error:</p>\n\n<pre><code>src/Cronologia.cpp: In member function \u2018void Cronologia::recuento()\u2019:\nsrc/Cronologia.cpp:106:9: error: expected primary-expression before \u2018int\u2019\n     map&lt;int,EventoHistorico&gt; ::const_iterator itm;\n         ^\nsrc/Cronologia.cpp:106:9: error: expected \u2018;\u2019 before \u2018int\u2019\n</code></pre>\n\n<p>So my iterator its not being declared, and I get more error of no declaration.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>void Cronologia::recuento()\n{\n    int map = cronologias.size();\n    cout &lt;&lt; \"Numero de anios: \" &lt;&lt; map &lt;&lt; endl;\n    map&lt;int,EventoHistorico&gt; ::const_iterator itm;\n    for(itm=cronologias.begin();itm!=cronologias.end();++itm)\n    {\n            cout &lt;&lt; \"Anio: \" &lt;&lt; (*itm).first;\n            cout &lt;&lt; \"Numero de eventos: \" &lt;&lt; (*itm).second.size() &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>Its weird because Im declaring the same thing in other function, and getting no errors:</p>\n\n<pre><code>Cronologia Cronologia::filtrarIntervalo(int inf, int sup)\n{\n    Cronologia result;\n    map&lt;int,EventoHistorico&gt;::const_iterator itinf, itsup;\n    itinf = cronologias.find(inf);\n    itsup = cronologias.find(sup);\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481129690, "post_id": 41023083, "comment_id": 69253255, "body": "Does <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/erase\" rel=\"nofollow noreferrer\">this</a> help?"}, {"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1481130748, "post_id": 41023083, "comment_id": 69253893, "body": "you can google for the GCC (libc++) or Clang implementation and find out"}, {"owner": {"reputation": 13434, "user_id": 265510, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/d2X9d.png?s=128&g=1", "display_name": "riwalk", "link": "https://stackoverflow.com/users/265510/riwalk"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481130996, "post_id": 41023083, "comment_id": 69254062, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6, no that probably doesn&#39;t help at all."}, {"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 0, "creation_date": 1481134108, "post_id": 41023083, "comment_id": 69255947, "body": "One purpose of the code-formerly-named-stl is that you need not (perhaps should not) care about the implementation.  I think mostly because that implementation is allowed to (and does) change."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481129925, "post_id": 41023155, "comment_id": 69253400, "body": "While technically true, with the standard mandates it makes it almost certain that <code>std::string</code> is implemented as a null terminated <code>char*</code>."}, {"owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481130034, "post_id": 41023155, "comment_id": 69253479, "body": "@NathanOliver I&#39;m sure that&#39;s true, but in my view, pressing F11 (in my IDE) and knowing with 100% certainty is better than taking a (very educated) guess."}], "tags": [], "owner": {"reputation": 60876, "user_id": 2060725, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WUKmO.png?s=128&g=1", "display_name": "nvoigt", "link": "https://stackoverflow.com/users/2060725/nvoigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1481129816, "creation_date": 1481129816, "answer_id": 41023155, "question_id": 41023083, "link": "https://stackoverflow.com/questions/41023083/how-stringerase-works-in-cpp/41023155#41023155", "title": "How &quot;string::erase&quot; works in cpp?", "body": "<p>There is no \"one truth\" in C++. Somebody programmed <em>your implementation</em> of the standard library. There are other implementations.</p>\n\n<p>If you <em>really</em> want to know what happens behind the scenes in the implementation <em>you</em> use, fire up your debugger and <em>step into</em> the method call.</p>\n"}], "owner": {"reputation": 17, "user_id": 7041848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42482d828beee55d75670dde176b7f6a?s=128&d=identicon&r=PG&f=1", "display_name": "naive mango", "link": "https://stackoverflow.com/users/7041848/naive-mango"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1481129816, "creation_date": 1481129611, "last_edit_date": 1481129727, "question_id": 41023083, "link": "https://stackoverflow.com/questions/41023083/how-stringerase-works-in-cpp", "title": "How &quot;string::erase&quot; works in cpp?", "body": "<p>When I have for example this next string decleration:</p>\n\n<pre><code>std::string myStr(\"miki\");\n</code></pre>\n\n<p>Then I use the next command:</p>\n\n<pre><code>myStr.erase(0,1);\n</code></pre>\n\n<p>what exactly happend behind the scene?\nIs there any \"null terminator\" that move one place back as all the letters at the string does?\nWhat exactly happend at the memory when uses <code>string::erase</code>?</p>\n"}, {"tags": ["c++", "code-formatting", "clang-format"], "comments": [{"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1481129957, "post_id": 41022954, "comment_id": 69253420, "body": "What IDE are you using?"}, {"owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1481129993, "post_id": 41022954, "comment_id": 69253450, "body": "VisualStudio 15 (unfortunately)"}, {"owner": {"reputation": 2461, "user_id": 794424, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5b6e8ecfec991c237944ad2bd109108?s=128&d=identicon&r=PG", "display_name": "Yan Zhou", "link": "https://stackoverflow.com/users/794424/yan-zhou"}, "edited": false, "score": 3, "creation_date": 1481141228, "post_id": 41022954, "comment_id": 69260035, "body": "One way would be to set <code>IndentWidth</code> to 8 and <code>AccessModifierOffset</code> to <code>-4</code>. But this will also affect how statements within functions are indented. AFIK there&#39;s no clean way to do what you want here"}, {"owner": {"reputation": 229, "user_id": 2583533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64aad1c6f5e1b72366b69497739ccdfb?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/2583533/paul"}, "edited": false, "score": 3, "creation_date": 1497426228, "post_id": 41022954, "comment_id": 76067746, "body": "I haven&#39;t found a way either, but it would be really nice, since this is the default in vim and my preferred style"}, {"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 2, "creation_date": 1528310462, "post_id": 41022954, "comment_id": 88462949, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/42799183/how-to-auto-indent-a-c-class-with-4-spaces-using-clang-format\">How to auto indent a c++ class with 4 spaces using clang-format?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 6605012, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zieOJj3ax5w/AAAAAAAAAAI/AAAAAAAACNg/nv5P1R0MTTM/photo.jpg?sz=128", "display_name": "ronhe", "link": "https://stackoverflow.com/users/6605012/ronhe"}, "is_accepted": false, "score": 2, "last_activity_date": 1591360057, "creation_date": 1591360057, "answer_id": 62215376, "question_id": 41022954, "link": "https://stackoverflow.com/questions/41022954/how-to-indent-after-access-modifiers-with-clang-format/62215376#62215376", "title": "How to indent after access modifiers with clang-format", "body": "<p>Where I work, we've stumbled upon the same problem. Since the <code>IndentWidth</code> parameter controls the indentation everywhere (classes, functions, etc.) what you're trying to achieve seems impossible. The next best thing, in my opinion, is to keep <code>IndentWidth=4</code> and set <code>AccessModifierOffset=-2</code>.\nThat way you get:</p>\n\n<pre><code>class Foo\n{\n  public:\n    Foo() = default;\n};\n\nbool foo()\n{\n    return true;\n}\n</code></pre>\n"}], "owner": {"reputation": 7427, "user_id": 293195, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/seTSX.png?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/293195/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3582, "favorite_count": 8, "answer_count": 1, "score": 26, "last_activity_date": 1591360057, "creation_date": 1481129221, "last_edit_date": 1481130042, "question_id": 41022954, "link": "https://stackoverflow.com/questions/41022954/how-to-indent-after-access-modifiers-with-clang-format", "title": "How to indent after access modifiers with clang-format", "body": "<p>How can I realize the following indentation after access modifiers:</p>\n\n<pre><code>class A{\npublic:\nint a;\n}\n</code></pre>\n\n<p>should result in </p>\n\n<pre><code>class A\n{\n    public:\n        int a; // note the indentation\n}\n</code></pre>\n\n<p>clang-format only allows the access modifiers to be on the same level as the <code>int a</code> <code>AccessModifierOffset: 0</code> resulting in</p>\n\n<pre><code>class A\n{\n    public:\n    int a;\n}\n</code></pre>\n"}, {"tags": ["c++", "point-cloud-library"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1481129546, "post_id": 41022559, "comment_id": 69253172, "body": "Are you using <code>CMake</code> to generate your project?"}], "owner": {"reputation": 187, "user_id": 4219280, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3413b306303af18059b10cb28d1e906d?s=128&d=identicon&r=PG&f=1", "display_name": "Harsh Patel", "link": "https://stackoverflow.com/users/4219280/harsh-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "closed_date": 1481128231, "answer_count": 0, "score": 1, "last_activity_date": 1481128167, "creation_date": 1481128167, "last_edit_date": 1592644375, "question_id": 41022559, "link": "https://stackoverflow.com/questions/41022559/undefined-reference-to-symbol-zn3pcl7console5printens0-15verbosity-levelepkcz", "closed_reason": "Duplicate", "title": "Undefined reference to symbol &#39;_ZN3pcl7console5printENS0_15VERBOSITY_LEVELEPKcz&#39; in c++ for point cloud library", "body": "<p>I am simply trying to compile a program from <a href=\"http://www.pointclouds.org/documentation/tutorials/cluster_extraction.php\" rel=\"nofollow noreferrer\">this</a> link.\nI already linked all the necessary libraries but this one I can't find. All I am getting is the following error in codeblocks (also in eclipse).</p>\n<blockquote>\n<p>undefined reference to symbol\n'_ZN3pcl7console5printENS0_15VERBOSITY_LEVELEPKcz'</p>\n</blockquote>\n<p>Anybody know how to get rid of this error? Or even which library it require?<br />\nPS: I already tried to link <em>pcl_console</em>, but it didn't work either.</p>\n"}, {"tags": ["c++", "linux", "matlab-compiler"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "edited": false, "score": 0, "creation_date": 1481198623, "post_id": 41022587, "comment_id": 69285297, "body": "Hi, many thanks for your help, now my code can find the head files, but now I met new problems as follows:"}, {"owner": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "edited": false, "score": 0, "creation_date": 1481199105, "post_id": 41022587, "comment_id": 69285613, "body": "/tmp/cc8IP6a1.o: In function <code>main&#39;: main.cpp:(.text+0xa): undefined reference to </code>mclmcrInitialize_proxy&#39; main.cpp:(.text+0x19): undefined reference to <code>mclInitializeApplication_860_proxy&#39; main.cpp:(.text+0x48): undefined reference to </code>testInitialize&#39; main.cpp:(.text+0x77): undefined reference to <code>mlfTest&#39; main.cpp:(.text+0x98): undefined reference to </code>testTerminate&#39; main.cpp:(.text+0x9d): undefined reference to `mclTerminateApplication_proxy&#39; collect2: error: ld returned 1 exit status"}, {"owner": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "edited": false, "score": 0, "creation_date": 1481199123, "post_id": 41022587, "comment_id": 69285631, "body": "I know this should be the linking problem to MCR. my code is : gcc -L/home/yuan/Documents/Matlab2016b/Matlab_runtime/v91/extern&zwnj;&#8203;/lib/glnxa64  -L/home/yuan/Documents/Matlab2016b/Matlab_runtime/v91/bin/gl&zwnj;&#8203;nxa64 -I/home/yuan/Documents/Matlab2016b/Matlab_runtime/v91/extern&zwnj;&#8203;/include  -I./test -lstdc++ -lgcc_s main.cpp -o main . How should I do to link MCR successfully?"}, {"owner": {"reputation": 4756, "user_id": 1364149, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y25ip.jpg?s=128&g=1", "display_name": "Shloim", "link": "https://stackoverflow.com/users/1364149/shloim"}, "reply_to_user": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "edited": false, "score": 0, "creation_date": 1481199475, "post_id": 41022587, "comment_id": 69285836, "body": "put main.cpp BEFORE the libraries. <code>main.cpp -I.&#47;test -lstdc++ -lgcc_s</code>"}, {"owner": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "edited": false, "score": 0, "creation_date": 1481208572, "post_id": 41022587, "comment_id": 69291804, "body": "Hi Shloim, thanks for quick response,I have tried what you suggested, but it doesn&#39;t really make any difference, and gives the same errors. Any other suggestions?"}], "tags": [], "owner": {"reputation": 4756, "user_id": 1364149, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y25ip.jpg?s=128&g=1", "display_name": "Shloim", "link": "https://stackoverflow.com/users/1364149/shloim"}, "is_accepted": true, "score": 1, "last_activity_date": 1481128232, "creation_date": 1481128232, "answer_id": 41022587, "question_id": 41022507, "link": "https://stackoverflow.com/questions/41022507/how-to-integrate-matlab-compiled-code-into-c-in-debian-system/41022587#41022587", "title": "how to integrate matlab compiled code into c++ in Debian system", "body": "<p>This is a compilation problem, not linkage. Your compiler does not know where <code>mclmcrrt.h</code> is. Please help it find it by telling it where it is:</p>\n\n<p><code>gcc -I&lt;the_folder_where_mclmcrrt.h_lives_in&gt; ...</code></p>\n"}], "owner": {"reputation": 31, "user_id": 5419760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/833dd07dfb46a7f57b664de802406f83?s=128&d=identicon&r=PG&f=1", "display_name": "micky", "link": "https://stackoverflow.com/users/5419760/micky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 41022587, "answer_count": 1, "score": -1, "last_activity_date": 1481128232, "creation_date": 1481128053, "question_id": 41022507, "link": "https://stackoverflow.com/questions/41022507/how-to-integrate-matlab-compiled-code-into-c-in-debian-system", "title": "how to integrate matlab compiled code into c++ in Debian system", "body": "<p>I have been trying to use Matlab compiler SDK to packaging my Matlab program as C++ shared library in Debian system. I have got the folder including test.c, test.h, test.so (test is my Matlab program name), and I have installed the Matlab_runtime in the Debian system. I have set the variables LD_LIBRARY_PATH_ and _ XAPPLRESDIR_ as required in the readme.txt _ <strong>*( _ <em>replace MCR_ROOT by the directory where the MATLAB Runtime is installed on the target machine.\n    (1) Set the environment variable XAPPLRESDIR to this value:\n        MCR_ROOT/v91/X11/app-defaults\n    (2) If the environment variable LD_LIBRARY_PATH is undefined, set it to the concatenation of the following strings:\n        MCR_ROOT/v91/runtime/glnxa64:\n        MCR_ROOT/v91/bin/glnxa64:\n        MCR_ROOT/v91/sys/os/glnxa64:\n        MCR_ROOT/v91/sys/opengl/lib/glnxa64</em>_)*</strong>\n    . \n    I edit my main.cpp include test.h. when I try to compile the main.cpp use _ <em>gcc main.cpp -o main</em>_, I got the error as follows:\n    <strong><em>In file included from main.cpp:2:0:\n    test.h:15:22: fetal error: mclmcrrt.h: No such file or directory\n    #include \"mclmcrrt.h\"</em></strong></p>\n\n<pre><code>I know that mclmcrrt.h is in the package of Matlab_runtime, it means I failed to link to the library of Matlab_runtime. Anybody knows what should I do to make my main.cpp compile successfully? I tried two days to work on how to connect to the Matlab_runtime library, but still failed. I am a beginner to linux. Great thanks if anyone can help.\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3697, "user_id": 1848578, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c7e2bfa9bcb3299428c8321c37db0560?s=128&d=identicon&r=PG", "display_name": "qxz", "link": "https://stackoverflow.com/users/1848578/qxz"}, "edited": false, "score": 1, "creation_date": 1481128424, "post_id": 41022498, "comment_id": 69252367, "body": "I&#39;m still a bit confused. Can you post a single snippet (or one for each file) with your entire (minimal) program?"}], "answers": [{"comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1481129133, "post_id": 41022807, "comment_id": 69252891, "body": "This is a valid solution under some circumstances; can OP confirm <code>jsonStuff()</code> can be called has soon has <code>Link</code> object is created?"}, {"owner": {"reputation": 23, "user_id": 7250049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a3cd20cc15ddf984d0fff2affdf890?s=128&d=identicon&r=PG&f=1", "display_name": "omegalul", "link": "https://stackoverflow.com/users/7250049/omegalul"}, "edited": false, "score": 0, "creation_date": 1481129892, "post_id": 41022807, "comment_id": 69253377, "body": "I&#39;m pretty sure I can&#39;t do that because I am using Qt&#39;s signals and slots mechanism and before I can read the json data from the url, I have to wait for the download finished signal to emit before I can start reading the json data into an array"}, {"owner": {"reputation": 532, "user_id": 7258651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PhS7.jpg?s=128&g=1", "display_name": "Marek Chochol&#225;\u010dek", "link": "https://stackoverflow.com/users/7258651/marek-chochol%c3%a1%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1481130578, "post_id": 41022807, "comment_id": 69253796, "body": "If you ask why it is empty, it is because it is uninitialized. Defining constructor which initializes it should fix the problem."}, {"owner": {"reputation": 532, "user_id": 7258651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PhS7.jpg?s=128&g=1", "display_name": "Marek Chochol&#225;\u010dek", "link": "https://stackoverflow.com/users/7258651/marek-chochol%c3%a1%c4%8dek"}, "edited": false, "score": 0, "creation_date": 1481130681, "post_id": 41022807, "comment_id": 69253855, "body": "anyway could you post whole Link class?"}], "tags": [], "owner": {"reputation": 532, "user_id": 7258651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PhS7.jpg?s=128&g=1", "display_name": "Marek Chochol&#225;\u010dek", "link": "https://stackoverflow.com/users/7258651/marek-chochol%c3%a1%c4%8dek"}, "is_accepted": false, "score": 2, "last_activity_date": 1481130246, "last_edit_date": 1481130246, "creation_date": 1481128801, "answer_id": 41022807, "question_id": 41022498, "link": "https://stackoverflow.com/questions/41022498/c-calling-a-getter-method-when-it-is-not-ready/41022807#41022807", "title": "C++ Calling a getter method when it is not ready", "body": "<p>When the constructor of Commands (in this case Commands()) is called firstly it creates all variables(they are unintialized) in Commands class. That being said link is created via Link(). What you might want to do is to use jsonStuff() in the Link() constructor (it creates all member variables as well as), NOTE THAT it creates variables in this case it creates string with base costructor - it creates empty string.) Try following to fill the string:</p>\n\n<pre><code> Link() {\n    jsonStuff(); // string will be set\n }\n</code></pre>\n\n<p>Or you can initialize it via initialization section:</p>\n\n<pre><code>Link() : string(\"Text\") { }\n</code></pre>\n\n<p>Also you might want to return reference to string from getString() function. Reference means it doesn't create additional copy and it returns string which is stored in Link, so you can change string in a function where getString() is called. Also if it is read only you should use const reference.</p>\n"}, {"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1481129944, "creation_date": 1481129944, "answer_id": 41023192, "question_id": 41022498, "link": "https://stackoverflow.com/questions/41022498/c-calling-a-getter-method-when-it-is-not-ready/41023192#41023192", "title": "C++ Calling a getter method when it is not ready", "body": "<blockquote>\n  <p>Is there a way to wait until the Link class finishes doing it's stuff and fills up the string before calling <code>link.getString()</code> inside the constructor of <code>Commands</code>?</p>\n</blockquote>\n\n<p>Certainly. The <code>Link</code> class must be a <code>QObject</code> that emits a signal when it has changed its properties - presumably based on the replies it got to its network request.</p>\n\n<pre><code>class Link : public QObject {\n  Q_OBJECT\n  Q_PROPERTY(QString string READ string WRITE setString NOTIFY stringChanged)\n  QString m_string;\npublic:\n  void jsonStuff() {\n    ...\n    connect(reply, &amp;QNetworkReply::finished, this, [this]{\n      ...\n      setString(map[\"url\"].toString());\n    });\n  }\n  void setString(const QString &amp;s) {\n    if (m_string == s) return;\n    m_string = s;\n    emit stringChanged(m_string);\n  }\n  QString string() const { return m_string; }\n  Q_SIGNAL void stringChanged(const QString &amp;);\n};\n</code></pre>\n\n<p>You can then add the command when the link is ready:</p>\n\n<pre><code>Commands::Commands()\n{\n  connect(&amp;link, &amp;Link::stringChanged, this, [this](const QString &amp;string){\n    if (!string.isEmpty()) addCommand(\"!test\", string);\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7250049, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81a3cd20cc15ddf984d0fff2affdf890?s=128&d=identicon&r=PG&f=1", "display_name": "omegalul", "link": "https://stackoverflow.com/users/7250049/omegalul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481130352, "creation_date": 1481128032, "last_edit_date": 1481130352, "question_id": 41022498, "link": "https://stackoverflow.com/questions/41022498/c-calling-a-getter-method-when-it-is-not-ready", "title": "C++ Calling a getter method when it is not ready", "body": "<p>I'm working on a project and it works but it is really messy so I am trying to clean it up by moving things around.</p>\n\n<p>Here is a short version of the class containing the getter method</p>\n\n<pre><code>Link::Link\n{\n    jsonUrl = QUrl(\"www.example.json\");\n    QNetworkAccessManager *nam = new QNetworkAccessManager(this);\n    connect(nam,SIGNAL(finished(QNetworkReply*)),this,SLOT(downloadFinished(QNetworkReply*)));\n    QNetworkRequest request(jsonUrl);\n    nam-&gt;get(request)\n}\nvoid Link::downloadFinished(QNetworkReply *reply)\n{\n    jsonArray = reply-&gt;readAll();\n    jsonStuff();\n}\nvoid Link::jsonStuff()\n{\n    //does a bunch of json stuff then gets a string\n    string = map[\"url\"].toString();    \n}\nQString Link::getString()\n{   \n    return string;\n}\n</code></pre>\n\n<p>Here is a short version of the class that calls the getter in the constructor</p>\n\n<p>Header </p>\n\n<pre><code>class Commands\n{\nprivate:\n    Link link; \n}\n</code></pre>\n\n<p>Source inside the constructor</p>\n\n<pre><code>Commands::Commands()\n{\n    addCommand(\"!test\", link.getString()); \n}\n</code></pre>\n\n<p>The problem is when I try to do it like this, I think the Commands constructor runs first and the string from the Link class is not ready yet so the string that comes out of <code>link.getString()</code> is empty. Is there a way to wait until the Link class finishes doing it's stuff and fills up the string before calling <code>link.getString()</code> inside the constructor of Commands? Not sure if this matters but most of my code is written in Qt</p>\n\n<p>I hope you guys can understand what I'm trying to ask. My terminology is really poor.</p>\n\n<p>Edit: Added more to my Link class</p>\n"}, {"tags": ["c++", "c", "udp", "winsock", "broadcasting"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481127549, "post_id": 41022253, "comment_id": 69251792, "body": "You might want to add error checking for more functions, like for example the <code>setsockopt</code> calls."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481127601, "post_id": 41022253, "comment_id": 69251830, "body": "You <i>also</i> need to set the <code>SO_BROADCAST</code> option on the socket you want to <i>receive</i> the broadcast on."}, {"owner": {"reputation": 353, "user_id": 1290806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbce01893b86b704a2920aa7f5ea2e8?s=128&d=identicon&r=PG", "display_name": "yothsoggoth", "link": "https://stackoverflow.com/users/1290806/yothsoggoth"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481135699, "post_id": 41022253, "comment_id": 69256849, "body": "@Someprogrammerdude I do have error checking in the actual code, I just removed it for this question. None of the functions are returning any errors (except the occasional WSAEWOULDBLOCK, which is to be expected for non-blocking sockets). I think I did try setting SO_BROADCAST on the receiver, but I&#39;ll try that again and see if it helps."}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 1290806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbce01893b86b704a2920aa7f5ea2e8?s=128&d=identicon&r=PG", "display_name": "yothsoggoth", "link": "https://stackoverflow.com/users/1290806/yothsoggoth"}, "edited": false, "score": 1, "creation_date": 1481406498, "post_id": 41023344, "comment_id": 69367428, "body": "I tried disabling all but one network adapter, but the result was the same - the packet never gets received. Would this problem also affect testing locally (i.e. with the client and server running in separate threads of the same process)?"}, {"owner": {"reputation": 11, "user_id": 7263542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6fae0de58f43bfe31a904f24dccf930?s=128&d=identicon&r=PG&f=1", "display_name": "user1243123", "link": "https://stackoverflow.com/users/7263542/user1243123"}, "reply_to_user": {"reputation": 353, "user_id": 1290806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbce01893b86b704a2920aa7f5ea2e8?s=128&d=identicon&r=PG", "display_name": "yothsoggoth", "link": "https://stackoverflow.com/users/1290806/yothsoggoth"}, "edited": false, "score": 0, "creation_date": 1481638652, "post_id": 41023344, "comment_id": 69450279, "body": "@yothsoggoth I don&#39;t think I had the problem locally but I was testing with 2 different processes. I&#39;m not sure what the behavior would be for 2 threads of the same application. I can only suggest Wireshark if you&#39;re not already using it to debug."}], "tags": [], "owner": {"reputation": 11, "user_id": 7263542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6fae0de58f43bfe31a904f24dccf930?s=128&d=identicon&r=PG&f=1", "display_name": "user1243123", "link": "https://stackoverflow.com/users/7263542/user1243123"}, "is_accepted": false, "score": 1, "last_activity_date": 1481130452, "creation_date": 1481130452, "answer_id": 41023344, "question_id": 41022253, "link": "https://stackoverflow.com/questions/41022253/udp-winsock-not-receiving-broadcast-packets/41023344#41023344", "title": "UDP WinSock - Not Receiving Broadcast Packets", "body": "<p>(Should be a comment, but my reputation is not high enough)</p>\n\n<p>I don't know if this applies to you, but there is a unintuitive behavior with broadcasts on recent versions of Windows. If you have multiple physical Ethernet adapters, broadcasts will only be received on the \"preferred\" interface (where \"preference\" is determined by Windows' routing table)</p>\n\n<p>See the following for an explanation and potential fix:\n<a href=\"https://github.com/dechamps/WinIPBroadcast\" rel=\"nofollow noreferrer\">https://github.com/dechamps/WinIPBroadcast</a></p>\n\n<p>Another temporary fix would be to disable all other network adapters to make sure the broadcast is received on the correct one (in Control Panel/Network and Sharing Center/Change adapter settings).</p>\n"}], "owner": {"reputation": 353, "user_id": 1290806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbce01893b86b704a2920aa7f5ea2e8?s=128&d=identicon&r=PG", "display_name": "yothsoggoth", "link": "https://stackoverflow.com/users/1290806/yothsoggoth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1403, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511582857, "creation_date": 1481127256, "question_id": 41022253, "link": "https://stackoverflow.com/questions/41022253/udp-winsock-not-receiving-broadcast-packets", "title": "UDP WinSock - Not Receiving Broadcast Packets", "body": "<p>I'm testing a simple socket setup in which a server listens on a specified port, and a client sends a broadcast packet which should be received by that server.</p>\n\n<p>This setup works fine when sending messages directly (i.e. not broadcasting), but when broadcasting the packet is never received on the server.</p>\n\n<p>Some of the code (trimmed down with error checking removed, for simplicity):</p>\n\n<pre><code>// Client (broadcast sender)\n\n// Create and bind the client socket\nclientSocket = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\n\nsockaddr_in sockAddr;\nsockAddr.sin_family = AF_INET;\nsockAddr.sin_port = htons(5678);\nsockAddr.sin_addr.S_un.S_addr = htonl(INADDR_ANY);\n\nbind(clientSocket, (sockaddr*)(&amp;sockAddr), sizeof(sockAddr));\n\nu_long uMode = 1;\nioctlsocket(clientSocket, FIONBIO, &amp;uMode);\n\nchar broadcast = 1;\nsetsockopt(clientSocket, SOL_SOCKET, SO_BROADCAST, &amp;broadcast, sizeof(broadcast));\n\n// ...\n\n// Send the packet\nsockaddr_in sockAddress;\nsockAddress.sin_family = AF_INET;\nsockAddress.sin_addr.S_un.S_addr = htonl(INADDR_BROADCAST);\nsockAddress.sin_port = htons(5679);\n\nchar const* pPacket = \"Test\";\nsize_t uPacketSize = strlen(pPacket) + 1;\n\nsendto(clientSocket, pPacket, (int)uPacketSize, 0, (sockaddr*)&amp;sockAddress, sizeof(sockAddress));\n</code></pre>\n\n<p>-</p>\n\n<pre><code>// Server (listener)\n\n// Create and bind the server socket\nserverSocket = socket(AF_INET, SOCK_DGRAM, IPPROTO_UDP);\n\nsockaddr_in sockAddr;\nsockAddr.sin_family = AF_INET;\nsockAddr.sin_port = htons(5679);\nsockAddr.sin_addr.S_un.S_addr = htonl(INADDR_ANY);\n\nbind(serverSocket, (sockaddr*)(&amp;sockAddr), sizeof(sockAddr));\n\nu_long uMode = 1;\nioctlsocket(serverSocket, FIONBIO, &amp;uMode);\n\n// ...\n\nchar pBuffer[1024];\nwhile (true)\n{\n    int iRecvSize = recv(serverSocket, pBuffer, 1024, 0);\n    if (iRecvSize)\n    {\n        printf(\"Received packet\\n\");\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2015", "project-settings"], "comments": [{"owner": {"reputation": 464, "user_id": 1699328, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9225b78aebcfa548c9e133dcae2c4dc7?s=128&d=identicon&r=PG", "display_name": "Dom", "link": "https://stackoverflow.com/users/1699328/dom"}, "edited": false, "score": 0, "creation_date": 1481127389, "post_id": 41022217, "comment_id": 69251694, "body": "The question is not a duplicate as I want to exclude files from BUILD process, not from Project!"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1481127495, "post_id": 41022217, "comment_id": 69251755, "body": "Did you read the linked question? It&#39;s <i>exactly</i> about excluding files from the build. If for some reason the answers there aren&#39;t applicable to VS 2015, come back and edit your question - but I suspect it hasn&#39;t changed that drastically."}, {"owner": {"reputation": 464, "user_id": 1699328, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9225b78aebcfa548c9e133dcae2c4dc7?s=128&d=identicon&r=PG", "display_name": "Dom", "link": "https://stackoverflow.com/users/1699328/dom"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1481127752, "post_id": 41022217, "comment_id": 69251933, "body": "Yes, I did and I tried to apply the answers, files are excluded from build and project - you are not able to &quot;go through the code&quot; anymore via F12. Did you read my question carefully? If not, so, please, read again..."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1481127992, "post_id": 41022217, "comment_id": 69252087, "body": "Yes, I read your question carefully, you weren&#39;t exactly clear on what you were trying to achieve. And if excluding a file from the build also excludes it from Intellisense, there&#39;s not much we can do about it. The answers in the linked question clearly identify how to exclude a file from the build without removing it from the project."}, {"owner": {"reputation": 464, "user_id": 1699328, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9225b78aebcfa548c9e133dcae2c4dc7?s=128&d=identicon&r=PG", "display_name": "Dom", "link": "https://stackoverflow.com/users/1699328/dom"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1481129644, "post_id": 41022217, "comment_id": 69253222, "body": "Sorry for my &quot;excited&quot; reaction, explanation is above ;-)"}], "owner": {"reputation": 464, "user_id": 1699328, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9225b78aebcfa548c9e133dcae2c4dc7?s=128&d=identicon&r=PG", "display_name": "Dom", "link": "https://stackoverflow.com/users/1699328/dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 528, "favorite_count": 0, "closed_date": 1481127231, "answer_count": 0, "score": 3, "last_activity_date": 1481129983, "creation_date": 1481127168, "last_edit_date": 1495535411, "question_id": 41022217, "link": "https://stackoverflow.com/questions/41022217/exclude-cpp-files-from-build-but-preserve-in-project-vs2015-c", "closed_reason": "Duplicate", "title": "Exclude CPP files from build, but preserve in project - VS2015 C++", "body": "<p>Is there a way to preserve CPP files in project included (Include In Project) and exclude them from build process?\nThe reason is, I want to go through the source (F12 - Go To Definition) of external libraries to see the implementation, however, the libraries are already built and I do not need to set-up the project to rebuilt them, I just need to include headers only.</p>\n\n<p><strong>Edit</strong>:\nOK, I am sorry for the discussion bellow, however, the correct answer to my question is there: <a href=\"https://stackoverflow.com/a/18007165/1699328\">https://stackoverflow.com/a/18007165/1699328</a> 2.</p>\n\n<p>As states there, you Right click the file, select 'Properties' --> select 'Configuration Properties' --> select 'General' --> choose 'Yes' from drop down menu for option 'Excluded From Build'</p>\n\n<p><a href=\"https://i.stack.imgur.com/T8UE4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T8UE4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Unfortunately, there are some pitfalls. If you select all files of filter folder, the correct window sometimes is not opened (see bellow)! The same, when you select more files and others than .cpp, .c or .h are selected...</p>\n\n<p><a href=\"https://i.stack.imgur.com/FA4H6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FA4H6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "sizeof"], "comments": [{"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 1, "creation_date": 1481126953, "post_id": 41022090, "comment_id": 69251383, "body": "<a href=\"http://c-faq.com/struct/padding.html\" rel=\"nofollow noreferrer\">c-faq.com/struct/padding.html</a>"}, {"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 2, "creation_date": 1481126992, "post_id": 41022090, "comment_id": 69251421, "body": "You should read up on struct padding. Note that these results are not guaranteed by the standard; you may get different results with different compilers, different compilation flags, or using pragmas."}, {"owner": {"reputation": 147, "user_id": 5151127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bde3c50b254b69eb31243a15cff28233?s=128&d=identicon&r=PG&f=1", "display_name": "Johan de Vries", "link": "https://stackoverflow.com/users/5151127/johan-de-vries"}, "edited": false, "score": 0, "creation_date": 1481180305, "post_id": 41022090, "comment_id": 69274347, "body": "Ah, learned something new today. Thanks!"}], "owner": {"reputation": 147, "user_id": 5151127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bde3c50b254b69eb31243a15cff28233?s=128&d=identicon&r=PG&f=1", "display_name": "Johan de Vries", "link": "https://stackoverflow.com/users/5151127/johan-de-vries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1481126961, "answer_count": 0, "score": 0, "last_activity_date": 1481126828, "creation_date": 1481126828, "question_id": 41022090, "link": "https://stackoverflow.com/questions/41022090/extra-byte-in-c-sizeof-in-class", "closed_reason": "Duplicate", "title": "Extra byte in C++ sizeof in class", "body": "<p>Assuming the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdint.h&gt;\n\nclass FooBool\n{ bool a; };\n\nclass FooUint16\n{ uint16_t a; };\n\nclass FooBoth\n{ bool a; uint16_t b;};\n\nclass FooThree\n{ bool a; uint16_t b; uint16_t c; };\n\nint main()\n{\n    // Expected 1; Result: 1\n    { bool a;      std::cout &lt;&lt; \"bool:      \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n    // Expected 2; Result: 2\n    { uint16_t a;  std::cout &lt;&lt; \"uint16_t:  \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n    // Expected 1; Result: 1\n    { FooBool a;   std::cout &lt;&lt; \"FooBool:   \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n    // Expected 2; Result: 2\n    { FooUint16 a; std::cout &lt;&lt; \"FooUint16: \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n    // Expected 3 (1 + 2); Result: 4\n    { FooBoth a;   std::cout &lt;&lt; \"FooBoth:   \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n    // Expected 5 (1 + 2 + 2); Result: 6\n    { FooThree a;  std::cout &lt;&lt; \"FooThree:  \" &lt;&lt; sizeof(a) &lt;&lt; std::endl; }\n\n    return 0;\n}\n</code></pre>\n\n<p>Where does the extra byte for FooBoth and FooThree come from?</p>\n\n<p>It's not using any virtual classes, is it? Is there an overhead per variable? If so, why is there only one in FooThree?</p>\n"}, {"tags": ["c++", "variadic-functions"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 6, "creation_date": 1481126708, "post_id": 41021997, "comment_id": 69251230, "body": "Just don&#39;t do it. Whatn an <code>va_list</code> is is an &quot;implementation detail&quot;, and using it except with the <code>va_*</code> macros and functions is not portable, and definitely not defined behavior in any way."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1481126919, "post_id": 41021997, "comment_id": 69251373, "body": "What problem are you trying to solve?"}, {"owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1481127161, "post_id": 41021997, "comment_id": 69251533, "body": "Hi @PeteBecker, regarding what exactly this code is meant to achieve, I don&#39;t really know :-( The developer left the company years ago, leaving barely any comments/explanations, although the code has been working perfectly so far. Regarding this question, I just wanted to know if I can make this very unsafe code less unsafe (look at those C style casts)..."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1481127285, "post_id": 41021997, "comment_id": 69251626, "body": "The unsafe part is messing with the internals of <code>va_list</code>. The casts are fine."}, {"owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "reply_to_user": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1481127487, "post_id": 41021997, "comment_id": 69251752, "body": "@melpomene Now this might be a completely different question, but why is it necessary to cast <code>&amp;ap</code> to <code>char*</code> first, before casting to <code>va_list2*</code>?"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1481127707, "post_id": 41021997, "comment_id": 69251901, "body": "Because <a href=\"https://en.wikipedia.org/wiki/Type_punning\" rel=\"nofollow noreferrer\"><i>type punning</i></a> (pretending one type is another type) breaks <a href=\"http://stackoverflow.com/questions/98650/what-is-the-strict-aliasing-rule\"><i>the strict aliasing rule</i></a> if not done though pointers to <code>char</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1481128031, "post_id": 41021997, "comment_id": 69252114, "body": "Re: &quot; I don&#39;t really know :-(&quot; -- then, unfortunately, you&#39;re stuck. Personally, I wouldn&#39;t touch it. If you change it you&#39;re responsible for any harm the changes do. This is a case where &quot;if it ain&#39;t broke, don&#39;t fix it&quot;."}, {"owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1481128286, "post_id": 41021997, "comment_id": 69252276, "body": "@Someprogrammerdude Thank you very much for pointing these out and including the links. <i>Type punning</i> and <i>the strict aliasing rule</i> are both new concepts for me. I&#39;ll certainly read up on them."}], "answers": [{"tags": [], "owner": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "is_accepted": true, "score": 1, "last_activity_date": 1481126960, "creation_date": 1481126960, "answer_id": 41022140, "question_id": 41021997, "link": "https://stackoverflow.com/questions/41021997/how-to-directly-modify-va-list-structure-members/41022140#41022140", "title": "How to directly modify va_list structure members?", "body": "<p>That answer was for a C question, but even that answer is technically incorrect.</p>\n\n<p>What a va_list is, is undefined in both languages. You <strong>might</strong> be able to do something compiler/library/ABI specific, but my advice is to find another way to do whatever it is you are trying to do.</p>\n"}], "owner": {"reputation": 9611, "user_id": 3927314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2582809e20e2d5f22b658214b798e83b?s=128&d=identicon&r=PG&f=1", "display_name": "kgf3JfUtW", "link": "https://stackoverflow.com/users/3927314/kgf3jfutw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 41022140, "answer_count": 1, "score": 0, "last_activity_date": 1481127437, "creation_date": 1481126557, "last_edit_date": 1495540388, "question_id": 41021997, "link": "https://stackoverflow.com/questions/41021997/how-to-directly-modify-va-list-structure-members", "title": "How to directly modify va_list structure members?", "body": "<p>As introduced <a href=\"https://stackoverflow.com/questions/4958384/what-is-the-format-of-the-x86-64-va-list-structure\">here</a>, the <code>va_list</code> type is implemented as follows</p>\n\n<pre><code>typedef struct {\n   unsigned int gp_offset;\n   unsigned int fp_offset;\n   void *overflow_arg_area;\n   void *reg_save_area;\n} va_list[1];\n</code></pre>\n\n<p><strong>Can I directly modify the structure members of a <code>va_list</code> variable</strong>? </p>\n\n<pre><code>va_list ap; \nap[0].gp_offset = 123;   // I want something like this\nap-&gt;gp_offset = 123;     // but none of these compile\n</code></pre>\n\n<p>When I try running this, I get these errors respectively</p>\n\n<p><code>error: request for member 'gp_offset' in 'ap[0]', which is of non-class type '__va_list_tag'</code></p>\n\n<p><code>error: request for member 'gp_offset' in '*(__va_list_tag*)(&amp; ap)', which is of non-class type '__va_list_tag'</code></p>\n\n<p><strong>Why am I asking?</strong> I'm working with a large database, and I saw a somewhat hacky way to modify a <code>va_list</code> variable as below. I wonder if this can be done without all this hassle.</p>\n\n<pre><code>va_list ap;\n// Mimic GCC data structure\ntypedef struct {\n   unsigned int gp_offset;\n   unsigned int fp_offset;\n   void *overflow_arg_area;\n   void *reg_save_area;\n}va_list2[1];\n\nchar* ap2 = (char*)&amp;ap;         // same address as ap\nva_list2* ap3 = (va_list2*)ap2; // same address as ap\n(*a3)-&gt;gp_offset = 123;         // Now this is allowed!\n</code></pre>\n"}, {"tags": ["c++", "arrays", "pointers", "multidimensional-array"], "comments": [{"owner": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 0, "creation_date": 1481126380, "post_id": 41021866, "comment_id": 69251009, "body": "Not really clear what the problem is. You are passing the address and inside the method you move the pointer"}, {"owner": {"reputation": 175, "user_id": 5942959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5216decc83b01a432785867d467f39a5?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5942959/daniel"}, "reply_to_user": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 0, "creation_date": 1481126660, "post_id": 41021866, "comment_id": 69251207, "body": "The code works, the problem is I do not understand why ( why can I call it like print_row(i, 3, *j) - with *j ) ."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1481126728, "post_id": 41021866, "comment_id": 69251241, "body": "<code>auto t1 = j; &#47;&#47; int (*t1)[3]</code> and <code>auto t2 = *j; &#47;&#47; int *t2</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1481126872, "post_id": 41021866, "comment_id": 69251336, "body": "@flatmouse Why is <code>*j</code> a <code>int*</code>?  <code>*j</code> should be the same as <code>*(&amp;j[0])</code> which should give you <code>j[0]</code>."}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1481126995, "post_id": 41021866, "comment_id": 69251423, "body": "@NathanOliver <code>*j</code> does give you <code>j[0]</code>, which is an <code>int[3]</code> which then decays to an <code>int*</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1481127030, "post_id": 41021866, "comment_id": 69251448, "body": "@Kevin Oh duh, 2d array.  silly me."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1481127229, "post_id": 41021866, "comment_id": 69251586, "body": "@Kevin I have shamelessly used your comment in the answer. :)"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1481127255, "post_id": 41021866, "comment_id": 69251602, "body": "@flatmouse no problem :)"}], "answers": [{"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 3, "last_activity_date": 1481127155, "creation_date": 1481127155, "answer_id": 41022208, "question_id": 41021866, "link": "https://stackoverflow.com/questions/41021866/pointer-to-2d-arraywhy-does-it-work/41022208#41022208", "title": "Pointer to 2D Array(why does it work)", "body": "<pre><code>int j[3][3] = \n{{1,2,3},\n{4,5,6},\n{7,8,9}}; // 2d array\n\nauto t1 = j; // int (*t1)[3]\nauto t2 = *j; // int *t2\n</code></pre>\n\n<p>So what is happening is that <code>*j</code> produces <code>j[0]</code>, which is an <code>int[3]</code> which then decays to an <code>int*</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 5493499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1ab3d3090bfcef06b7b2e5831cceaf?s=128&d=identicon&r=PG&f=1", "display_name": "dkolmakov", "link": "https://stackoverflow.com/users/5493499/dkolmakov"}, "is_accepted": false, "score": 2, "last_activity_date": 1481127745, "creation_date": 1481127745, "answer_id": 41022402, "question_id": 41021866, "link": "https://stackoverflow.com/questions/41021866/pointer-to-2d-arraywhy-does-it-work/41022402#41022402", "title": "Pointer to 2D Array(why does it work)", "body": "<p>Your code works because <code>*j</code> is a pointer which has the same value as <code>j</code> or <code>j[0]</code>. Such behavior caused by mechanics of how two-dimensional arrays are handled by the compiler.</p>\n\n<p>When you declare 2D array:</p>\n\n<pre><code>int j[3][3]={{1,2,3},\n             {4,5,6},\n             {7,8,9}};\n</code></pre>\n\n<p>compiler actually puts all values sequentially in memory, so the following declaration will have the same footprint:</p>\n\n<pre><code>int j[9]={1,2,3,4,5,6,7,8,9};\n</code></pre>\n\n<p>So in your case pointers <code>j</code>, <code>*j</code> and <code>j[0]</code> just point to the same place in memory.</p>\n"}, {"tags": [], "owner": {"reputation": 23069, "user_id": 156811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/380335e95e6be9740e56b64d667279b3?s=128&d=identicon&r=PG", "display_name": "Havenard", "link": "https://stackoverflow.com/users/156811/havenard"}, "is_accepted": false, "score": 1, "last_activity_date": 1481128290, "creation_date": 1481128290, "answer_id": 41022612, "question_id": 41021866, "link": "https://stackoverflow.com/questions/41021866/pointer-to-2d-arraywhy-does-it-work/41022612#41022612", "title": "Pointer to 2D Array(why does it work)", "body": "<p>Memory isn't multidimensional, so even if its a 2D array, it's data will be placed in a sequential manner, so if you get a pointer to that array -- that is implicitly a pointer to the first element of it -- and start reading the elements sequentially, you will iterate through all elements of this 2D array, reading element from the subsequent rows just after the last element of the previous one.</p>\n"}, {"tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": true, "score": 2, "last_activity_date": 1481128851, "last_edit_date": 1495540912, "creation_date": 1481128851, "answer_id": 41022825, "question_id": 41021866, "link": "https://stackoverflow.com/questions/41021866/pointer-to-2d-arraywhy-does-it-work/41022825#41022825", "title": "Pointer to 2D Array(why does it work)", "body": "<p><code>j</code> is in fact an array of arrays. As such, <code>*j</code> is an array of three integers, and when used as a rvalue, it decays to a pointer to its first element, said differently, it decays to &amp;j[0][0].</p>\n\n<p>Then in <code>printrow</code> you compute the starting address of the first element of  each subarray - that's the less nice part, I'll come back later to it. Then you correctly use the <code>*(p+i)</code> equivalent of <code>p[i]</code> to access each element of the subarray.</p>\n\n<hr>\n\n<p>The remaining part of the answer is my interpretation of a strict reading of C standard</p>\n\n<p>I said that computing the starting address of each subarray was the less nice part. It works because we all know that a 2D array of size NxM has the same representation in memory as a linear array of size N*M and we <em>alias</em> those representations. But if we respect <strong>strictly</strong> the standard, as an int pointer, <code>&amp;p[i][j]</code> points to the first element of an array of three elements. As such, when you add the size of a row, you point past the end of the array which leads to undefined behaviour if you later dereference this address. Of course it works with all common compilers, but on an <a href=\"https://stackoverflow.com/a/30383876/3545273\">old question of mine</a>, @HansPassant gave me a reference on experimental compilers able to enforce controls on arrays sizes. Those compilers could detect the access past the end of the array and raise a run time error... but it would break a lot of existing code!</p>\n\n<p>To be strictly <em>standard conformant</em>, you should use a pointer to arrays of 3 integers. It requires the use of Variable Length Arrays, which is an optional feature but is fully standard conformant for system supporting it. Alternatively, you can go down to the <em>byte</em> representation of the 2D array, get its initial address, and from there compute <em>as byte addresses</em> the starting point of each subarray. It is a lot of boiling plate address computations but it fully respect the @#!%$ strict aliasing rule...</p>\n\n<p>TL/DR: this code works with all common compilers, and will probably work with a lot of future versions of them, but it is not correct in a strict interpretation of the standard.</p>\n"}], "owner": {"reputation": 175, "user_id": 5942959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5216decc83b01a432785867d467f39a5?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/5942959/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 41022825, "answer_count": 4, "score": 2, "last_activity_date": 1481128851, "creation_date": 1481126140, "last_edit_date": 1481127254, "question_id": 41021866, "link": "https://stackoverflow.com/questions/41021866/pointer-to-2d-arraywhy-does-it-work", "title": "Pointer to 2D Array(why does it work)", "body": "<p>I have the following function ( I want to print all elements from a given row)</p>\n\n<pre><code>void print_row(int j, int row_dimension, int *p)\n{   \np = p + (j * row_dimension);\n\nfor(int i = 0; i&lt; row_dimension; i++)\n    cout&lt;&lt;*(p+i)&lt;&lt; \" \";\n}\n</code></pre>\n\n<p>Creating an array</p>\n\n<pre><code>int j[3][3]={{1,2,3},\n             {4,5,6},\n             {7,8,9} };\n</code></pre>\n\n<p>What I do not understand is why can I call the function in the following way :</p>\n\n<pre><code>print_row(i, 3, *j);\n</code></pre>\n\n<p>Why can I give as a parameter \"*j\" ? Shouldn't an address be passed? Why can I use the indirection operator?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1481125480, "post_id": 41021604, "comment_id": 69250360, "body": "It&#39;s exactly what it says. Your parameters in the overload don&#39;t have any types specified."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1481125504, "post_id": 41021604, "comment_id": 69250373, "body": "When posting questions about build errors, please include the <i>complete</i> error. Preferably the full build log, complete, unedited and including possible informational notes. Also point out where in the code you get the error (for example with a comment). Lastly, please learn how to create a <a href=\"http://stackoverflow.com/help/mcve\"><b><i>Minimal</i></b>, Complete, and Verifiable Example</a>."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481125537, "post_id": 41021604, "comment_id": 69250392, "body": "Where do you see a type specifier in <code>const &amp;left</code>?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481125646, "post_id": 41021604, "comment_id": 69250463, "body": "BTW: is all that code really necessary to demonstrate the problem?"}, {"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126479, "post_id": 41021604, "comment_id": 69251080, "body": "Also what do you think of my code structure? How can i improve?"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126212, "post_id": 41021685, "comment_id": 69250882, "body": "Can i not declare it as a binary function inside the class and then define it outisde the class using the scope resolution operator :: ?"}, {"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126257, "post_id": 41021685, "comment_id": 69250923, "body": "The paramters have been fixed but im getting the error:"}, {"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126269, "post_id": 41021685, "comment_id": 69250928, "body": "/Users/Michael/Desktop/C++ Xcode/Michael C++/Michael C++/main.cpp:200:21: Overloaded &#39;operator*&#39; must be a unary or binary operator (has 3 parameters)"}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126310, "post_id": 41021685, "comment_id": 69250959, "body": "@cLMaine: it needs to be a <code>friend</code> in that case. Look for operator overloading tutorial/resources on Google, they explain everything you need to know"}, {"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126310, "post_id": 41021685, "comment_id": 69250960, "body": "This is for defining it outside of the class when i have declared it inside the class."}, {"owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "edited": false, "score": 0, "creation_date": 1481126357, "post_id": 41021685, "comment_id": 69250990, "body": "I have declared it as a friend function inside the class, but when i am defining it outside the class using scope resolution operator im getting the above error."}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481125595, "creation_date": 1481125595, "answer_id": 41021685, "question_id": 41021604, "link": "https://stackoverflow.com/questions/41021604/why-cant-i-overload-the-operator/41021685#41021685", "title": "Why cant i overload the * operator?", "body": "<p>You're overloading <code>operator*=</code> not <code>operator*</code>. <code>operator*=</code> is a binary operator - you either need to:</p>\n\n<ul>\n<li><p>define it as a <code>friend</code> binary function inside the class body;</p>\n\n<pre><code>friend auto&amp; operator*=(sequence&amp; l, sequence&amp; r) { /* ... */ }\n</code></pre></li>\n<li><p>define it as a non-<code>friend</code> unary function inside the class body <em>(where the left-hand side is implicitly <code>*this</code>)</em>;</p>\n\n<pre><code>auto&amp; operator*=(sequence&amp; r) { /* ... */ }\n</code></pre></li>\n<li><p>define it as a free binary function outside the class body.</p>\n\n<pre><code>auto&amp; operator*=(sequence&amp; l, sequence&amp; r) { /* ... */ }\n</code></pre></li>\n</ul>\n\n<p>Also, your function parameters need types. <code>const&amp; left</code> does not have a type - you probably want <code>const sequence&amp; left</code>.</p>\n"}], "owner": {"reputation": 77, "user_id": 5894943, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NOiG45-eMf8/AAAAAAAAAAI/AAAAAAAAAOo/haoFnPJliyw/photo.jpg?sz=128", "display_name": "cL Maine", "link": "https://stackoverflow.com/users/5894943/cl-maine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "closed_date": 1481125638, "answer_count": 1, "score": -6, "last_activity_date": 1481125595, "creation_date": 1481125369, "question_id": 41021604, "link": "https://stackoverflow.com/questions/41021604/why-cant-i-overload-the-operator", "closed_reason": "Duplicate", "title": "Why cant i overload the * operator?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\n\n    class sequence{\n\n\n\n    public:\n    sequence();\n    sequence(int x);\n    sequence&amp; operator*=(const &amp;left, const &amp;right);\n    ~sequence();\n    friend istream&amp; operator &gt;&gt;(istream&amp;, sequence&amp;);\n    friend ostream&amp; operator &lt;&lt;(ostream&amp;, sequence&amp;);\n\n\n    void set_num_samples(); //Set no. of samples\n    float* value;           //pointer to float variable\n    void allocate_memory(); //Allocates memory\n    void set_values_array(); //Sets the values of an array\n    void check_array_input(float l); //Checks the values of the array\n    void reset_input(float j); //Resets the array\n    void de_allocate(); //deallocates memory\n\n    int get_num_samples();\n    void set_full_array(int x);\n    void calculate_full(float array1[], float array2[]);\n\n    void combine_seq_coef(sequence&amp; inputvoltageA); //Combines the passed      in sequence and coefficient\n    void combine_seq(sequence&amp; objectcombine, int sample); // combine the sequences\n\n\n    private:\n    int num_samples;          //number of samples in the object sequence\n\n\n\n\n    };\n\n    class FIR{\n\n    public:\n    FIR();\n    ~FIR();\n\n\n    private:\n    int num_coefficients;       //Number of coefficients in an FIR (filter impulse response)\n\n\n      };\n\n\n\n    //Constructor for each object\n\n    void sequence::set_num_samples() {      //Set_num_sample definition\n\n    cout &lt;&lt; \"Please enter the number of values in your sequence: \\n\";\n\n    cin &gt;&gt; num_samples;\n    if(num_samples &lt; 0){\n\n\n        cout &lt;&lt; \"Value entered must be greater than 0 \"&lt;&lt; endl;\n        cout &lt;&lt; \"Please enter the value again: \" &lt;&lt; endl;\n        cin &gt;&gt; num_samples;\n\n\n    }\n\n\n    };      //ok (stream op)\n\n    void sequence::allocate_memory() {\n\n    value = new float[num_samples]; //Allocated memory for Array.\n\n\n}; //ok\n\n    void sequence::set_values_array(){   //Set values for array\n\n    int k;\n    for(k=0; k&lt;num_samples; k++){\n\n\n        cout &lt;&lt; \"Please enter a positive value for element : \" &lt;&lt; (k+1) &lt;&lt; endl;\n        cin &gt;&gt; value[k];\n        while(value[k] &lt; 0){\n\n            cout &lt;&lt; \"Enter positive value \" &lt;&lt; endl;\n            cin &gt;&gt; value[k];\n\n        }\n    }\n\n    cout &lt;&lt; \"Values have been assigned successfully! \" &lt;&lt; endl;\n\n}; //ok\n\n\n    //Constructor functions\n\n    void sequence::check_array_input(float l) {   //Checks array values.\n\n\n    cout &lt;&lt; endl &lt;&lt; \"If you would like to check input values, enter 'y' otherwise, enter 'n' to continue...\" &lt;&lt; endl;\n    char check_value;\n    cin &gt;&gt; check_value;\n    if (check_value == 'y') {\n\n        int i;\n        for (i = 0; i &lt; l; i++) {\n\n            cout &lt;&lt; \"Value no. \" &lt;&lt; (i + 1) &lt;&lt; \" is:\" &lt;&lt; endl;\n            cout &lt;&lt; value[i] &lt;&lt; endl;\n\n\n        }\n    }\n    }\n    void sequence::reset_input(float j) {   //Reset voltage value and set to 0;\n\n    cout &lt;&lt; endl &lt;&lt; \"If you would like to reset all input values, enter 'y' otherwise, enter 'n' to continue...\"\n    &lt;&lt; endl;\n\n    char check_value2;\n    cin &gt;&gt; check_value2;\n    if (check_value2 == 'y') {\n        int i;\n        for (i = 0; i &lt; j; i++) {\n\n            cout &lt;&lt; \"Value no.\" &lt;&lt; (i + 1) &lt;&lt; \": \" &lt;&lt; value[i];\n            value[i] = 0;\n            cout &lt;&lt; \" is set to 0!\" &lt;&lt; endl;\n\n\n        }\n    }\n    }\n     void sequence::de_allocate(){\n\n    delete[] value; //De-allocate memory\n    num_samples = 0;\n    cout &lt;&lt; \"De-allocation of input array successful, num of samples reset to 0! \" &lt;&lt; endl;\n\n}\n\nint sequence::get_num_samples(){\n\n    return num_samples;\n\n}\n\n/* void sequence::calculate_full(float array1[], float array2[]){\n\n\n    int loop;\n    for(loop=0; loop&lt;num_samples; loop++){\n\n        cout &lt;&lt; \"CoefficientA value no: \" &lt;&lt; (loop+1) &lt;&lt; \": \" &lt;&lt; array1[loop].value[loop] &lt;&lt; endl;\n        cout &lt;&lt; \"InputvoltageA value no.\" &lt;&lt; (loop+1) &lt;&lt; \": \" &lt;&lt; array2[loop].value[loop] &lt;&lt; endl;\n\n        value[loop] = (array1[loop].value[loop])*(array2[loop].value[loop]);\n        cout &lt;&lt; \"Combined value no. \" &lt;&lt; (i+1) &lt;&lt; \": \" &lt;&lt; value[loop] &lt;&lt; endl;\n\n\n\n        cout &lt;&lt; \"The combined value gives\" &lt;&lt;  full[loop] &lt;&lt; endl;\n\n    }\n\n\n}; */\n\nvoid sequence::set_full_array(int x){\n\n    num_samples = x;\n\n\n}\n\n\nvoid sequence::combine_seq(sequence&amp; object_combine, int sample_num){\n\n    int loop;\n    for(loop=0; loop&lt;sample_num; loop++){\n\n\n\n\n    }\n\n};\n\nsequence&amp; sequence::operator*=(const &amp;left, const &amp;right){\n\n\n    int y = left.get_num_samples();\n    int x;\n    for (x=0; )\n    sequence = left.value * right.value\n    return sequence;\n\n}\n\nsequence::sequence(){    //SEQUENCE CONSTRUCTOR\n\n    set_num_samples();\n    allocate_memory();\n    set_values_array();\n    check_array_input(num_samples);\n    reset_input(num_samples);\n    de_allocate();\n    cout &lt;&lt; endl &lt;&lt; \"Constructor complete!\" &lt;&lt; endl;\n\n};\n\nsequence::sequence(int a){ //sequence constructor 2\n\n    set_full_array(a);\n    allocate_memory();\n\n}\n\n\n/* sequence::sequence(int a){\n\n    set_full_samples();\n    allocate_memory();\n\n    int i;\n    for(i=0; i&lt;num_samples; i++){\n\n        cout &lt;&lt; \"CoefficientA value no: \" &lt;&lt; (i+1) &lt;&lt; \": \" &lt;&lt; coefficientA().value[i] &lt;&lt; endl;\n        cout &lt;&lt; \"InputvoltageA value no.\" &lt;&lt; (i+1) &lt;&lt; \": \" &lt;&lt; inputvoltageA.value[i] &lt;&lt; endl;\n        cout &lt;&lt; \"Combined value no. \" &lt;&lt; (i+1) &lt;&lt; \": \" &lt;&lt; value[i] &lt;&lt; endl;\n\n    }\n}\n */\n\n\n\n\n\n\nsequence::~sequence(){          //Destructor\n\n\n    cout &lt;&lt; \"Destructor is called\" &lt;&lt; endl;\n\n\n\n}; //destructor\n\n\n\nint main(){\n\n    // Create object, constructor called\n    // Constructor calls, set_num_sample, allocate_memory, set_values_array\n    // Enters values for voltage Inputs to the sequence into an array\n    // Checks values of the array\n    // Asks user if they want to reset values and set num samples = 0.\n\n\n    do {\n        cout &lt;&lt; \"Press the Enter key to continue:\" &lt;&lt; endl;\n    } while (cin.get() != '\\n');\n\n    cout &lt;&lt; \"Input voltage sequence created!\" &lt;&lt; endl;\n    sequence inputvoltageA;\n\n    cout &lt;&lt; endl &lt;&lt; \"CoefficientA sequence created!\" &lt;&lt; endl;\n    sequence coefficientA;\n\n    //Combines sequence and coefficients\n\n    cout &lt;&lt; \"If you would like to combine the coefficients with the input sequence A enter 'y', otherwise enter 'n'\" &lt;&lt; endl;\n\n    char prompt4;\n    cin &gt;&gt; prompt4;\n    if(prompt4 == 'y'){\n\n        int x = coefficientA.get_num_samples();\n        sequence full(x);\n        full = coefficientA*inputvoltageA;\n    }\n\n\n\n\n\n    /* Ask the user if they want to create new object\n     cout &lt;&lt; \"If you would like to create a new input voltage sequence enter 'y', otherwise enter 'n'\" &lt;&lt; endl;\n     char prompt3;\n     cin &gt;&gt; prompt3;\n     if(prompt3 == 'y'){\n     sequence inputvoltageB;\n\n     }\n\n\n     cout &lt;&lt; \"CoefficientA sequence created!\" &lt;&lt; endl;\n     sequence coefficientB;\n\n\n     */\n\n\n\n    /*\n\n     cout &lt;&lt; \"If you would like to combine this sequence with the sequence before enter 'y', otherwise enter 'n'\" &lt;&lt; endl;\n     char prompt5;\n     cin &gt;&gt; prompt5;\n     if(prompt5 == 'y'){\n\n\n     combine_seq(inputvoltageA, num_samples);\n\n\n\n     } */\n\n\n\n    return 0;\n}\n</code></pre>\n\n<p>Why cant i overload the * operator?\nThe compiler gives me the error c++ must have a type specifier.\nMy type specifier is a reference to a sequence object...\nI think ive defined the overload operator * function correctly in the class and outside of it.</p>\n"}, {"tags": ["c++", "constructor", "compiler-errors", "polymorphism"], "answers": [{"tags": [], "owner": {"reputation": 2394, "user_id": 396033, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/35120eb086847010dea4bb587de8305d?s=128&d=identicon&r=PG", "display_name": "Kamil", "link": "https://stackoverflow.com/users/396033/kamil"}, "is_accepted": false, "score": 0, "last_activity_date": 1481126613, "creation_date": 1481126613, "answer_id": 41022013, "question_id": 41021586, "link": "https://stackoverflow.com/questions/41021586/waht-does-error-request-for-memebr-area-in-r-which-is-of-non-class-type-f/41022013#41022013", "title": "Waht does [error] request for memebr &#39;area&#39; in &#39;r&#39; which is of non-class type &#39;float&#39; mean?", "body": "<p>Take a look at <code>Main.cpp</code>, you will find two lines like </p>\n\n<pre><code>float r, a, b, a1, b1;\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Rectangle r(a1,b1);\n</code></pre>\n\n<p>As you can see <code>r</code> is defined twice. I suggest to replace <code>Rectangle r(a1,b1);</code> with <code>Rectange rect(a1, b1);</code>\nThis should help. </p>\n"}], "owner": {"reputation": 1, "user_id": 6148935, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SsRbcv6oHp0/AAAAAAAAAAI/AAAAAAAAEKc/U8Bzv49KP3Q/photo.jpg?sz=128", "display_name": "Ryan Brown", "link": "https://stackoverflow.com/users/6148935/ryan-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1481128159, "creation_date": 1481125324, "last_edit_date": 1481128159, "question_id": 41021586, "link": "https://stackoverflow.com/questions/41021586/waht-does-error-request-for-memebr-area-in-r-which-is-of-non-class-type-f", "title": "Waht does [error] request for memebr &#39;area&#39; in &#39;r&#39; which is of non-class type &#39;float&#39; mean?", "body": "<p>I am new to coding and I am trying to write a program that has polymorphism  but my rectangle part is not working. I have tried to add variables, in all three files to accommodate it but I keep getting errors. The code below is my latest attempt to fix this. The error that I am getting now is [error] request for member 'area' in 'r' which is non-class type 'float' and for parameter in 'r' which is non-class type 'float'. I am at a lost as to how to fix this at this point. Please help if you can!</p>\n\n<p>Main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"shape.h\"\n#include \"shape.cpp\"\n\nusing namespace std;\nint main() {\n    float r, a, b, a1, b1;\n    cout&lt;&lt;\"This program will ask you to input some data in order to find the area and the parameter of 3 shapes.\"&lt;&lt;endl;\n    cout&lt;&lt;\"\\nInput the circles radius --everything should be in inches (i.e 5):\";\n    cin&gt;&gt;r;\n    Circle c(r);\n    cout&lt;&lt;\"\\nPlease input two side of the Right Triangle excluding the hypotenuse-- everything should be in inches( i.e 5 5): \";\n    cin&gt;&gt;a&gt;&gt;b;\n    RTriangle rt(a,b);  \n    cout&lt;&lt;\"\\nPlease input two side of the Rectangle -- everything should be in inches( i.e 5 5): \";\n    cin&gt;&gt;a&gt;&gt;b;\n    Rectangle r(a1,b1);\n    cout&lt;&lt;\"\\n\\nThe Circles Area is:\"&lt;&lt;c.area()&lt;&lt;\" inches, The Parameter  is:\"&lt;&lt;c.parameter()&lt;&lt;\" inches\"&lt;&lt;endl;\n    cout&lt;&lt;\"The Rectangle Area is:\"&lt;&lt;r.area()&lt;&lt;\" inches, The Parameter is:\"&lt;&lt;r.parameter()&lt;&lt;endl;\n    cout&lt;&lt;\"The Right Triangle Area is:\"&lt;&lt;rt.area()&lt;&lt;\" inches, The Parameter is:\"&lt;&lt;rt.parameter()&lt;&lt;\" inches\"&lt;&lt;endl;\n    cout&lt;&lt;\"Thanks once agin for using this program for your AREA and PARAMETER needs!\"&lt;&lt;endl;\n    system (\"PAUSE\");\n    return 0;\n}\n</code></pre>\n\n<p>Shape.cpp</p>\n\n<pre><code>#include\"shape.h\"\n\nShape::Shape(){\n    sideA = sideB = 0;\n}\n\nShape::Shape(int a, int b){\n    sideA = a;\n    sideB = b;  \n}\n\n//these will get overrided\nfloat Shape::area(){return 0;}\nfloat Shape::parameter(){return 0;}\n//rectangle definations\nRectangle::Rectangle(float a, float b):Shape(a,b){\n//calling parent class constructor\n}\n\nfloat Rectangle::area(){\n    return sideA*sideB; \n}\n\nfloat Rectangle::parameter(){\n    return 2*(sideA+sideB);\n}\n\n//right triangle definations\nRTriangle::RTriangle(float h, float w):Shape(h, w){\n}\n\nfloat RTriangle::area(){\n    return 0.5*sideA*sideB;\n}\nfloat RTriangle::parameter(){\n    float hyp = sqrt(sideA*sideA + sideB*sideB);\n    return sideA + sideB + hyp;\n}\n\n//circle definations\nCircle::Circle(float r){\n    sideA = r;\n}\n\nfloat Circle::area(){\n    return 3.14 * sideA * sideA;\n}\n\nfloat Circle::parameter(){\n    return 2 * 3.14 * sideA;\n}\n</code></pre>\n\n<p>Shape.h</p>\n\n<pre><code>#ifndef SHAPES\n#define SHAPES\n#include&lt;cmath&gt;\n\nclass Shape {\nprotected:\n    float sideA, sideB;\n    float radius;\npublic:\n    Shape();\n    Shape(int,int);\n    virtual float area();\n    virtual float parameter();\n};\n\nclass Rectangle : public Shape{\npublic:\n    Rectangle(float a, float b);\n    float area();\n    float parameter();\n};\n\nclass RTriangle : public Shape{\npublic:\n    RTriangle(float h, float w);\n    float area();\n    float parameter();\n};\n\nclass Circle : public Shape{\npublic:\n    Circle(float r);\n    float area();\n    float parameter();\n};\n\n#endif\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 2, "creation_date": 1481139244, "post_id": 41021542, "comment_id": 69258861, "body": "Your code is incorrectly formatted. Is that all of your code? This is probably caused by you linking with a C library (presumably tclap might be a C library). In that case you should specify to the compiler that the header is a C header, so it doesn&#39;t get confused. Check out <a href=\"http://stackoverflow.com/questions/1041866/in-c-source-what-is-the-effect-of-extern-c\">this</a>."}, {"owner": {"reputation": 3577, "user_id": 2176813, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Nv7lK.jpg?s=128&g=1", "display_name": "tambre", "link": "https://stackoverflow.com/users/2176813/tambre"}, "edited": false, "score": 0, "creation_date": 1481139261, "post_id": 41021542, "comment_id": 69258870, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/1041866/in-c-source-what-is-the-effect-of-extern-c\">In C++ source, what is the effect of extern &quot;C&quot;?</a>"}], "owner": {"reputation": 47, "user_id": 5906834, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-kLM0yvumnag/AAAAAAAAAAI/AAAAAAAAAB4/6oQ1fYrPnX0/photo.jpg?sz=128", "display_name": "Tumelo", "link": "https://stackoverflow.com/users/5906834/tumelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481125194, "creation_date": 1481125194, "question_id": 41021542, "link": "https://stackoverflow.com/questions/41021542/g-compiler-errors-for-tclap-library", "title": "g++ compiler errors for tclap library", "body": "<p>Hi I am getting lots of compiler errors and I have no clue what they mean.\nI am also using an old g++ compiler 3.4.6. I am trying to use tclap library.\nI have checked all the tclap source and headers files, none of them contain extern keyword.</p>\n\n<pre><code>   #include &lt;string&gt;\n   #include &lt;vector&gt;\n   #include &lt;iostream&gt;\n   #include &lt;algorithm&gt;\n   #include &lt;tclap/CmdLine.h&gt;\n   int main(int argc, char** argv)\n   {\n   }   \n\ng++ test_app.cpp -c\nIn file included from /system/gnu_library/lib/gcc/i686-stratus-vos/3.4.6/../../../../include/c++/3.4.6/list:66,\n                 from /USERS/Dev/TumeloQ/c++/tclap/Arg.h:37,\n                 from /USERS/Dev/TumeloQ/c++/tclap/SwitchArg.h:33,\n                 from /USERS/Dev/TumeloQ/c++/tclap/CmdLine.h:27,\n                 from test_app.cpp:6:\n/system/gnu_library/lib/gcc/i686-stratus-vos/3.4.6/../../../../include/c++/3.4.6/bits/functexcept.h:40: error: previous declaration\n+of `void std::__throw_bad_exception()' with C++ linkage\n\n\nIn file included from /USERS/Dev/TumeloQ/c++/tclap/Arg.h:58,\n                 from /USERS/Dev/TumeloQ/c++/tclap/SwitchArg.h:33,\n                 from /USERS/Dev/TumeloQ/c++/tclap/CmdLine.h:27,\n                 from test_app.cpp:6:\n/USERS/Dev/TumeloQ/c++/tclap/ArgTraits.h:79: error: template with C linkage\n</code></pre>\n"}, {"tags": ["c++", "xcode"], "answers": [{"tags": [], "owner": {"reputation": 5673, "user_id": 282484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/54pCe.jpg?s=128&g=1", "display_name": "Luca Rocchi", "link": "https://stackoverflow.com/users/282484/luca-rocchi"}, "is_accepted": true, "score": 0, "last_activity_date": 1481126288, "creation_date": 1481126288, "answer_id": 41021916, "question_id": 41021515, "link": "https://stackoverflow.com/questions/41021515/c-program-in-xcode-return-just-build-succeeded/41021916#41021916", "title": "C++ program in xcode return just Build Succeeded", "body": "<p>check if you are compiling the app target, not a framework or other  .. take a look at the right of RUN/STOp button</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 6518756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208400987400465/picture?type=large", "display_name": "Filip Petrovi\u010d Filakovsk&#253;", "link": "https://stackoverflow.com/users/6518756/filip-petrovi%c4%8d-filakovsk%c3%bd"}, "is_accepted": false, "score": 0, "last_activity_date": 1481127338, "creation_date": 1481127338, "answer_id": 41022280, "question_id": 41021515, "link": "https://stackoverflow.com/questions/41021515/c-program-in-xcode-return-just-build-succeeded/41022280#41022280", "title": "C++ program in xcode return just Build Succeeded", "body": "<p>Oh yes, \nyou are right thank you! Because it is a lot of examples in one project i've builded something other again and again. :)</p>\n"}], "owner": {"reputation": 23, "user_id": 6518756, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208400987400465/picture?type=large", "display_name": "Filip Petrovi\u010d Filakovsk&#253;", "link": "https://stackoverflow.com/users/6518756/filip-petrovi%c4%8d-filakovsk%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 41021916, "answer_count": 2, "score": 2, "last_activity_date": 1481127338, "creation_date": 1481125097, "last_edit_date": 1481127327, "question_id": 41021515, "link": "https://stackoverflow.com/questions/41021515/c-program-in-xcode-return-just-build-succeeded", "title": "C++ program in xcode return just Build Succeeded", "body": "<p>I'm trying use pylon library for work with industrial camera (Basler ACE acA1600-20uc). \nI started with examples program for grabbing pictures from camera.\nProblem is, that example program is \"Build Succeeded\" (xcode) but nothing happens. Command line is still clean, no logs, no exit code. Nothing. I expect some informations because several cout &lt;&lt; in code below.\nWhere's the problem? Give me some hint. Thank you.</p>\n\n<pre><code>    // Grab.cpp\n/*\n    Note: Before getting started, Basler recommends reading the Programmer's Guide topic\n    in the pylon C++ API documentation that gets installed with pylon.\n    If you are upgrading to a higher major version of pylon, Basler also\n    strongly recommends reading the Migration topic in the pylon C++ API documentation.\n\n    This sample illustrates how to grab and process images using the CInstantCamera class.\n    The images are grabbed and processed asynchronously, i.e.,\n    while the application is processing a buffer, the acquisition of the next buffer is done\n    in parallel.\n\n    The CInstantCamera class uses a pool of buffers to retrieve image data\n    from the camera device. Once a buffer is filled and ready,\n    the buffer can be retrieved from the camera object for processing. The buffer\n    and additional image data are collected in a grab result. The grab result is\n    held by a smart pointer after retrieval. The buffer is automatically reused\n    when explicitly released or when the smart pointer object is destroyed.\n*/\n\n// Include files to use the PYLON API.\n#include &lt;pylon/PylonIncludes.h&gt;\n#ifdef PYLON_WIN_BUILD\n#    include &lt;pylon/PylonGUI.h&gt;\n#endif\n\n// Namespace for using pylon objects.\nusing namespace Pylon;\n\n// Namespace for using cout.\nusing namespace std;\n\n// Number of images to be grabbed.\nstatic const uint32_t c_countOfImagesToGrab = 100;\n\nint main(int argc, char* argv[])\n{\n    // The exit code of the sample application.\n    int exitCode = 0;\n\n    // Before using any pylon methods, the pylon runtime must be initialized. \n    PylonInitialize();\n\n    try\n    {\n        // Create an instant camera object with the camera device found first.\n        CInstantCamera camera( CTlFactory::GetInstance().CreateFirstDevice());\n\n        // Print the model name of the camera.\n        cout &lt;&lt; \"Using device \" &lt;&lt; camera.GetDeviceInfo().GetModelName() &lt;&lt; endl;\n\n        // The parameter MaxNumBuffer can be used to control the count of buffers\n        // allocated for grabbing. The default value of this parameter is 10.\n        camera.MaxNumBuffer = 5;\n\n        // Start the grabbing of c_countOfImagesToGrab images.\n        // The camera device is parameterized with a default configuration which\n        // sets up free-running continuous acquisition.\n        camera.StartGrabbing( c_countOfImagesToGrab);\n\n        // This smart pointer will receive the grab result data.\n        CGrabResultPtr ptrGrabResult;\n\n        // Camera.StopGrabbing() is called automatically by the RetrieveResult() method\n        // when c_countOfImagesToGrab images have been retrieved.\n        while ( camera.IsGrabbing())\n        {\n            // Wait for an image and then retrieve it. A timeout of 5000 ms is used.\n            camera.RetrieveResult( 5000, ptrGrabResult, TimeoutHandling_ThrowException);\n\n            // Image grabbed successfully?\n            if (ptrGrabResult-&gt;GrabSucceeded())\n            {\n                // Access the image data.\n                cout &lt;&lt; \"SizeX: \" &lt;&lt; ptrGrabResult-&gt;GetWidth() &lt;&lt; endl;\n                cout &lt;&lt; \"SizeY: \" &lt;&lt; ptrGrabResult-&gt;GetHeight() &lt;&lt; endl;\n                const uint8_t *pImageBuffer = (uint8_t *) ptrGrabResult-&gt;GetBuffer();\n                cout &lt;&lt; \"Gray value of first pixel: \" &lt;&lt; (uint32_t) pImageBuffer[0] &lt;&lt; endl &lt;&lt; endl;\n\n#ifdef PYLON_WIN_BUILD\n                // Display the grabbed image.\n                Pylon::DisplayImage(1, ptrGrabResult);\n#endif\n            }\n            else\n            {\n                cout &lt;&lt; \"Error: \" &lt;&lt; ptrGrabResult-&gt;GetErrorCode() &lt;&lt; \" \" &lt;&lt; ptrGrabResult-&gt;GetErrorDescription() &lt;&lt; endl;\n            }\n        }\n    }\n    catch (const GenericException &amp;e)\n    {\n        // Error handling.\n        cerr &lt;&lt; \"An exception occurred.\" &lt;&lt; endl\n        &lt;&lt; e.GetDescription() &lt;&lt; endl;\n        exitCode = 1;\n    }\n\n    // Comment the following two lines to disable waiting on exit.\n    cerr &lt;&lt; endl &lt;&lt; \"Press Enter to exit.\" &lt;&lt; endl;\n    while( cin.get() != '\\n');\n\n    // Releases all pylon resources. \n    PylonTerminate();  \n\n    return exitCode;\n}\n</code></pre>\n"}, {"tags": ["c#", "c++", "wpf", "dll"], "comments": [{"owner": {"reputation": 5593, "user_id": 3179310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ffeUP.png?s=128&g=1", "display_name": "Mateusz", "link": "https://stackoverflow.com/users/3179310/mateusz"}, "edited": false, "score": 0, "creation_date": 1481125195, "post_id": 41021478, "comment_id": 69250138, "body": "maybe this will help <a href=\"https://blogs.msdn.microsoft.com/liviuc/2009/10/13/net-interop-and-exception-handling-in-mixed-applications/\" rel=\"nofollow noreferrer\">.NET interop and exception handling</a>"}, {"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 0, "creation_date": 1481125689, "post_id": 41021478, "comment_id": 69250490, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/8111334/handling-unhandled-exceptions-from-winforms-components-in-wpf\">Handling Unhandled Exceptions from Winforms components in WPF</a>"}, {"owner": {"reputation": 2887, "user_id": 830993, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f5393fbd1a140d3831d7c91da42f4bb?s=128&d=identicon&r=PG", "display_name": "Ksice", "link": "https://stackoverflow.com/users/830993/ksice"}, "edited": false, "score": 0, "creation_date": 1481128701, "post_id": 41021478, "comment_id": 69252597, "body": "&gt;&gt;Thomas,  Nope, this works for WinForms, not for WPF"}], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 7262823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0132f53e1ed74db88bd5175d869ef3b?s=128&d=identicon&r=PG&f=1", "display_name": "Koushik", "link": "https://stackoverflow.com/users/7262823/koushik"}, "is_accepted": false, "score": 1, "last_activity_date": 1481186970, "creation_date": 1481186970, "answer_id": 41035233, "question_id": 41021478, "link": "https://stackoverflow.com/questions/41021478/handle-unhandled-exception-from-c-dll-in-wpf/41035233#41035233", "title": "Handle unhandled exception from c++ dll in WPF", "body": "<p>Since SomeWPFMethod is called in a thread separate from the UI thread, </p>\n\n<blockquote>\n  <p>Application.Current.DispatcherUnhandledException</p>\n</blockquote>\n\n<p>will not be able to catch this exception since it catches unhandled exceptions only from the main UI thread created by WPF.</p>\n\n<p>Seems you need to use </p>\n\n<blockquote>\n  <p>AppDomain.CurrentDomain.UnhandledException</p>\n</blockquote>\n\n<p>It catches unhandled exceptions generated from all threads running under the context of a specific application domain.</p>\n\n<p>You can refer to the following articles that cover proper way to handle unhandled exceptions in WPF at great depth - </p>\n\n<p><a href=\"https://dzone.com/articles/order-chaos-handling-unhandled\" rel=\"nofollow noreferrer\">https://dzone.com/articles/order-chaos-handling-unhandled</a></p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/system.appdomain.unhandledexception.aspx\" rel=\"nofollow noreferrer\">https://msdn.microsoft.com/en-us/library/system.appdomain.unhandledexception.aspx</a></p>\n\n<p>Hope this solves your problem.</p>\n"}], "owner": {"reputation": 2887, "user_id": 830993, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f5393fbd1a140d3831d7c91da42f4bb?s=128&d=identicon&r=PG", "display_name": "Ksice", "link": "https://stackoverflow.com/users/830993/ksice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 720, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481186970, "creation_date": 1481124990, "last_edit_date": 1481127714, "question_id": 41021478, "link": "https://stackoverflow.com/questions/41021478/handle-unhandled-exception-from-c-dll-in-wpf", "title": "Handle unhandled exception from c++ dll in WPF", "body": "<p>My WPF app uses external DLL's method (c++, nothing with UI, just logic) like this:</p>\n\n<pre><code>[DllImport(\"myExternDll.dll\", CharSet = CharSet.Ansi, CallingConvention = CallingConvention.Cdecl)]\n        private static extern int externalMethod(string str);\n\nint SomeWPFMethod()\n{\n   int res;\n\n   try\n   {\n      res = externalMethod(str);\n   }\n   catch(Exception e)\n   {\n      LogError(e)\n      return -1;\n   }\n\n   return res;\n}\n</code></pre>\n\n<p>Note, that SomeWPFMethod called in separate from UI thread (if this matter).</p>\n\n<p>When there is something wrong inside dll I've got </p>\n\n<blockquote>\n  <p>An unhandled exception of type 'System.AccessViolationException'\n  occurred</p>\n</blockquote>\n\n<p>exception.</p>\n\n<p>A have unhanded exception method set for app, but this does nothing:</p>\n\n<pre><code>Application.Current.DispatcherUnhandledException += Current_DispatcherUnhandledException;\n\nprivate void Current_DispatcherUnhandledException(object sender, System.Windows.Threading.DispatcherUnhandledExceptionEventArgs e)\n        {\n            if (System.Diagnostics.Debugger.IsAttached)\n            {\n                e.Handled = false;\n                return;\n            }\n\n            ShowUnhandledException(e);\n        }\n</code></pre>\n\n<p><strong>Is there possible somehow to handle the exception to prevent application from crash?</strong></p>\n\n<p>If extern method fails, I don't want to do anything, but app should still work. Now it's crashed.</p>\n"}, {"tags": ["c#", "c++", "math"], "comments": [{"owner": {"reputation": 12761, "user_id": 2365900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6ba2f26d137e5d34fda504e00fc1422?s=128&d=identicon&r=PG", "display_name": "Sefe", "link": "https://stackoverflow.com/users/2365900/sefe"}, "edited": false, "score": 3, "creation_date": 1481124939, "post_id": 41021425, "comment_id": 69249951, "body": "Can you provide us with what you have tried thus far?"}, {"owner": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 1, "creation_date": 1481124943, "post_id": 41021425, "comment_id": 69249953, "body": "Make a method that returns you an index. For positive something like <code>int index(int i, int n) {return i%n; }</code>"}, {"owner": {"reputation": 1248, "user_id": 2511763, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EHEMJ.jpg?s=128&g=1", "display_name": "Muhammet Ali Asan", "link": "https://stackoverflow.com/users/2511763/muhammet-ali-asan"}, "reply_to_user": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "edited": false, "score": 0, "creation_date": 1481125036, "post_id": 41021425, "comment_id": 69250009, "body": "You can overlad [] operator for your container and take @Valentin s suggestion into consideration"}], "answers": [{"tags": [], "owner": {"reputation": 5107, "user_id": 5554372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b825ef37da46ff65c28aa741225ef464?s=128&d=identicon&r=PG&f=1", "display_name": "Valentin", "link": "https://stackoverflow.com/users/5554372/valentin"}, "is_accepted": true, "score": 8, "last_activity_date": 1510397894, "last_edit_date": 1510397894, "creation_date": 1481125303, "answer_id": 41021575, "question_id": 41021425, "link": "https://stackoverflow.com/questions/41021425/if-exit-array-enter-from-the-other-side/41021575#41021575", "title": "If exit array, enter from the other side", "body": "<p>Lets assume <code>i</code> is the index and <code>n</code> is the size of the array. \nFor positive <code>i</code> the needed index = <code>i%n</code>\nFor negative <code>i</code> <code>i%n</code> returns negative residue, so the needed index is <code>n+i%n</code></p>\n\n<p>You can use  </p>\n\n<pre><code>int index(int i, int n) {\n   return i%n &lt; 0 ? n + (i%n) : i%n;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16637, "user_id": 21679, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/dd877bcbcd2a659cc2bd3a3a7ab2767c?s=128&d=identicon&r=PG", "display_name": "Carra", "link": "https://stackoverflow.com/users/21679/carra"}, "is_accepted": false, "score": 0, "last_activity_date": 1481125322, "creation_date": 1481125322, "answer_id": 41021583, "question_id": 41021425, "link": "https://stackoverflow.com/questions/41021425/if-exit-array-enter-from-the-other-side/41021583#41021583", "title": "If exit array, enter from the other side", "body": "<p>You can calculate your index like this:</p>\n\n<pre><code>var newIndex = (index + 4) % 7;\n</code></pre>\n\n<p>So the fourth position becomes (4+4) % 7 or 1.</p>\n"}, {"comments": [{"owner": {"reputation": 1248, "user_id": 2511763, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EHEMJ.jpg?s=128&g=1", "display_name": "Muhammet Ali Asan", "link": "https://stackoverflow.com/users/2511763/muhammet-ali-asan"}, "edited": false, "score": 0, "creation_date": 1481126195, "post_id": 41021650, "comment_id": 69250873, "body": "here purpose is not to give code of answer but giving him advice to solve his problem by himself. This way asker can learn robustly by solving the problem himself."}], "tags": [], "owner": {"reputation": 4399, "user_id": 215553, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/239a242049752665e5ed881d1194ac3d?s=128&d=identicon&r=PG", "display_name": "ibiza", "link": "https://stackoverflow.com/users/215553/ibiza"}, "is_accepted": false, "score": 0, "last_activity_date": 1481125795, "last_edit_date": 1481125795, "creation_date": 1481125484, "answer_id": 41021650, "question_id": 41021425, "link": "https://stackoverflow.com/questions/41021425/if-exit-array-enter-from-the-other-side/41021650#41021650", "title": "If exit array, enter from the other side", "body": "<p>Always clearer with named functions and followable code path instead of voodoo one liners that work</p>\n\n<pre><code>    public void MyTest()\n    {\n        var testData = new[] { 1, 2, 3, 4, 5, 6, 7 };\n\n        Assert.AreEqual(2, TraverseCircularArray(testData, 5, 3));\n        Assert.AreEqual(6, TraverseCircularArray(testData, 2, -4));\n    }\n\n    private int TraverseCircularArray(int[] array, int currentIndex, int interval)\n    {\n        var i = array[currentIndex];\n\n        if (currentIndex + interval &lt; 0)\n            i = array[array.Length + (interval + currentIndex)];\n        else if (currentIndex + interval &gt;= array.Length)\n            i = array[currentIndex - interval - 1];\n        else\n            i = array[currentIndex + interval];\n\n        return i;\n    }\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 7091541, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/79e49e9ed865610f42544c874c87cfce?s=128&d=identicon&r=PG&f=1", "display_name": "Kristian Kamenov", "link": "https://stackoverflow.com/users/7091541/kristian-kamenov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 41021575, "answer_count": 3, "score": 0, "last_activity_date": 1510397894, "creation_date": 1481124830, "last_edit_date": 1484175614, "question_id": 41021425, "link": "https://stackoverflow.com/questions/41021425/if-exit-array-enter-from-the-other-side", "title": "If exit array, enter from the other side", "body": "<p>How can I do this for example if I have 1, 2, 3, 4, 5, 6, 7 array and I am in 4th position (number 5) and if you have to move it to the right 4 positions you should be in position 1 (number 2). The same goes with negative numbers but you move to left. I guess there is a need of while(true) loop?</p>\n"}, {"tags": ["c++", "windows"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 4, "creation_date": 1481124942, "post_id": 41021411, "comment_id": 69249952, "body": "Probably stack overflow. In general, forget arrays and use <code>std::vector</code> or other standard containers."}, {"owner": {"reputation": 20345, "user_id": 6094348, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JPVct.jpg?s=128&g=1", "display_name": "Yousaf", "link": "https://stackoverflow.com/users/6094348/yousaf"}, "edited": false, "score": 0, "creation_date": 1481124973, "post_id": 41021411, "comment_id": 69249974, "body": "i don&#39;t think that any c++ beginner would need to declare an array of size <code>2000000</code>"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1481125042, "post_id": 41021411, "comment_id": 69250012, "body": "Do you really need that much of an automatic storage? If you do, you&#39;d have to increase your stack limit."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1481125131, "post_id": 41021411, "comment_id": 69250082, "body": "My issue with the dupe closure is that it is a C question.  The remedy in the accepted answer gives advice that is not best practice/recommended in C++."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481125257, "post_id": 41021411, "comment_id": 69250183, "body": "@NathanOliver, I do agree with you. Should we reopen and have a canonical C++ answer?"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481125306, "post_id": 41021411, "comment_id": 69250218, "body": "@NathanOliver: Good point. I failed to notice that. Would this one be better? <a href=\"http://stackoverflow.com/q/9016538/10077\">stackoverflow.com/q/9016538/10077</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1481125342, "post_id": 41021411, "comment_id": 69250243, "body": "@SergeyA I almost think the other question getting tagged as C++ and adding a C++ work around to the accepted answer would be the best thing.  Not sure if Borgleader is up for that,"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1481125729, "post_id": 41021411, "comment_id": 69250512, "body": "@FredLarson I went ahead and closed it as a dupe your suggestion.  Still think we might want to improve the C one to be C,C++ but that might need a meta question to get community approval."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481125874, "post_id": 41021411, "comment_id": 69250616, "body": "@NathanOliver: I know what you mean. That ASCII art explanation is very good and language agnostic."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126074, "post_id": 41021411, "comment_id": 69250778, "body": "sorry! guys! i have added a few!"}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126672, "post_id": 41021457, "comment_id": 69251213, "body": "but heap memory handing is dangerous right !?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126717, "post_id": 41021457, "comment_id": 69251232, "body": "@Aravind.KEN That is why you should use a <code>std::vector</code>.  It is safe and will solve your problem."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1481126808, "post_id": 41021457, "comment_id": 69251291, "body": "@NathanOliver Well understood sir! any nice website to know about it ! and i have added extra in question! pls try answer as well!"}], "tags": [], "owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1481124936, "last_edit_date": 1495540906, "creation_date": 1481124936, "answer_id": 41021457, "question_id": 41021411, "link": "https://stackoverflow.com/questions/41021411/is-there-way-to-increase-memory-of-an-array-and-related-issue/41021457#41021457", "title": "Is there way to increase memory of an array? and Related issue", "body": "<p>Compiled executables have stack limits</p>\n\n<p>(<a href=\"https://msdn.microsoft.com/en-us/library/tdkhxaks.aspx\" rel=\"nofollow noreferrer\">MSVC docs</a>)</p>\n\n<blockquote>\n  <p>Without this option the stack size defaults to 1 MB. </p>\n</blockquote>\n\n<p>Your code is overflowing the stack space</p>\n\n<pre><code>int a[2000000];\n</code></pre>\n\n<p>Stack is a precious limited resource, if you need to allocate huge chunks of memory consider doing it in the heap.</p>\n\n<p>Cfr. <a href=\"https://stackoverflow.com/questions/79923/what-and-where-are-the-stack-and-heap\">What and where are the stack and heap?</a></p>\n"}, {"comments": [{"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125083, "post_id": 41021461, "comment_id": 69250046, "body": "but the problem is i dont know much about vector! but anyway is there any that i can fix this using arrays only!"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125121, "post_id": 41021461, "comment_id": 69250074, "body": "@Aravind.KEN There&#39;s not much to know about it:  <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/vector</a> . No, there&#39;s no way using raw arrays to do that."}, {"owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 4, "creation_date": 1481125147, "post_id": 41021461, "comment_id": 69250093, "body": "@Aravind.KEN It&#39;s a good time to start reading about them!"}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125244, "post_id": 41021461, "comment_id": 69250176, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 its my class project -- Sieve of Eratosthenes ! i wanna find prime numbers more than 2000000!! and vector is not there in my portions!!"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481125255, "post_id": 41021461, "comment_id": 69250181, "body": "<b><i>is there any that i can fix this using arrays only!</i></b> Increase the stack size of your program."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481125295, "post_id": 41021461, "comment_id": 69250208, "body": "@drescherjm How to?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 1, "creation_date": 1481125297, "post_id": 41021461, "comment_id": 69250210, "body": "@Aravind.KEN, you can use dynamic arrays if you must."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125344, "post_id": 41021461, "comment_id": 69250245, "body": "@Aravind.KEN <i>&quot;How to?&quot;</i> Depends on your operating system."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125387, "post_id": 41021461, "comment_id": 69250290, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Windows 10 64 bit! 16GB ram! i7 processor"}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125538, "post_id": 41021461, "comment_id": 69250394, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 ! My idea ! can i use two separate program and create array       and share the memory !?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "reply_to_user": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "edited": false, "score": 1, "creation_date": 1481125545, "post_id": 41021461, "comment_id": 69250400, "body": "@MarcoA gave you the MSVC documentation how to do that."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125554, "post_id": 41021461, "comment_id": 69250404, "body": "@Aravind.KEN No, I meant there are commands you can use to increase a programs stack size, like <code>ulimit</code> in linux (don&#39;t know the windows equivalent, sorry)"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1481125646, "post_id": 41021461, "comment_id": 69250464, "body": "<b><i>My idea ! can i use two separate program and create array and share the memory !?</i></b> Much easier to use a vector or even an old dynamic array."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481125946, "post_id": 41021461, "comment_id": 69250657, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 pls check my question again! i have added a bit!"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126128, "post_id": 41021461, "comment_id": 69250812, "body": "@Aravind.KEN I don&#39;t think your additions are anyhow related to the original problem."}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126177, "post_id": 41021461, "comment_id": 69250861, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 its memory problem right?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 1, "creation_date": 1481126216, "post_id": 41021461, "comment_id": 69250886, "body": "@Aravind.KEN It&#39;s your stack limit dude!"}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126351, "post_id": 41021461, "comment_id": 69250987, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6  ok thx bro! pls edit my question! sorry bro ! i am unable to choose any of ur and other answers as i dont know anyway thing about it to choose the right one!! thx guys!!"}, {"owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "edited": false, "score": 0, "creation_date": 1481126413, "post_id": 41021461, "comment_id": 69251025, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 anyway bro! what would ur answer for the second problem ?"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 4, "last_activity_date": 1481124943, "creation_date": 1481124943, "answer_id": 41021461, "question_id": 41021411, "link": "https://stackoverflow.com/questions/41021411/is-there-way-to-increase-memory-of-an-array-and-related-issue/41021461#41021461", "title": "Is there way to increase memory of an array? and Related issue", "body": "<blockquote>\n<pre><code>int a[2000000];\n</code></pre>\n</blockquote>\n\n<p>That overflows your stack limit. You can use a <code>std::vector&lt;int&gt; a(2000000);</code> instead, which will use dynamic storage allocation (which is unlimited theoretically).</p>\n"}], "owner": {"reputation": 78, "user_id": 6873330, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49b4eaba129845c8d05a275ce6e323e6?s=128&d=identicon&r=PG&f=1", "display_name": "mike", "link": "https://stackoverflow.com/users/6873330/mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 1, "closed_date": 1481125681, "accepted_answer_id": 41021461, "answer_count": 2, "score": 0, "last_activity_date": 1481125913, "creation_date": 1481124804, "last_edit_date": 1481125913, "question_id": 41021411, "link": "https://stackoverflow.com/questions/41021411/is-there-way-to-increase-memory-of-an-array-and-related-issue", "closed_reason": "Duplicate", "title": "Is there way to increase memory of an array? and Related issue", "body": "<p>Simple problem:\nMy code blocks of able to compile the code below and worked well:</p>\n\n<pre><code>int a[2000000];\n</code></pre>\n\n<p>My code blocks of able to compile the code below <strong>But my program crashed immediately after</strong>:</p>\n\n<pre><code>int a[2000000];\nint b[2000000];\n</code></pre>\n\n<p>1) What is the reason and why? (my ram 16 GB !! and this just took 0.3MB so whats the problem?)</p>\n\n<p>2) How to fix or use an alternate way? (but i need to create so much of arrays)</p>\n\n<p>3) Is there way to increase memory of an array?</p>\n\n<hr>\n\n<p>Related problem(i think so): </p>\n\n<p>My code blocks of able to compile the code below and worked well:</p>\n\n<pre><code>unsigned long int a=100000000000;\n</code></pre>\n\n<p>My code blocks of able to compile the code below <strong>But my program crashed immediately after i enter the same number(100000000000)</strong>:</p>\n\n<pre><code>unsigned long int a;\n cin&gt;&gt;a;\n</code></pre>\n\n<p>What to do?</p>\n"}, {"tags": ["c++", "pointers", "asynchronous", "mfc"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 4, "creation_date": 1481124197, "post_id": 41021084, "comment_id": 69249410, "body": "The primary suspect is that your object has been destroyed."}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481124670, "post_id": 41021084, "comment_id": 69249758, "body": "The windows still exists, so I guess the object must exist too. How do I check this? I don&#39;t destroy de object until the user clicks on the &quot;Close&quot; button, so it should be there"}, {"owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "edited": false, "score": 0, "creation_date": 1481124862, "post_id": 41021084, "comment_id": 69249908, "body": "Use debugger. Make sure the object is initialized properly and not destroyed when you use it."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481125071, "post_id": 41021084, "comment_id": 69250039, "body": "@freejuices But does the <code>Handler</code> exist?"}, {"owner": {"reputation": 1536, "user_id": 631266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6ba5d18865bebe8b087f8e0209b892?s=128&d=identicon&r=PG", "display_name": "Avi Berger", "link": "https://stackoverflow.com/users/631266/avi-berger"}, "edited": false, "score": 0, "creation_date": 1481126313, "post_id": 41021084, "comment_id": 69250961, "body": "Are you applying any casts to your View_Control * before passing it to AddClient?"}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 1536, "user_id": 631266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6ba5d18865bebe8b087f8e0209b892?s=128&d=identicon&r=PG", "display_name": "Avi Berger", "link": "https://stackoverflow.com/users/631266/avi-berger"}, "edited": false, "score": 0, "creation_date": 1481128447, "post_id": 41021084, "comment_id": 69252385, "body": "@AviBerger no, inside a function of View_Control it calls Handler::GetInstance()-&gt;AddClient(this);"}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481128523, "post_id": 41021084, "comment_id": 69252453, "body": "@molbdnilo If the function NotifyEvent() is being called, doesn&#39;t that mean that it exists? Given that it&#39;s a member function of the class Handler"}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 3, "creation_date": 1481129836, "post_id": 41021084, "comment_id": 69253346, "body": "A common problem with this pattern occurs when one of the event handlers modifies the list of clients, thus invalidating the iterators.  You&#39;re using a <code>std::list</code>, so iterator invalidation is rare, but it&#39;s still possible.  For example, if a handler removes itself from the list, then <code>iter</code> will become invalid and it will be impossible to advance it to the next client in the list."}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1481130198, "post_id": 41021084, "comment_id": 69253565, "body": "@AdrianMcCarthy I&#39;ve had that happen, but I think it&#39;s not the problem here. I only have one client and its event handler doesn&#39;t change the list. Also, the crash occurs the very first time the handler gets called, so it breaks in the first client, before any handler had chance to run."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1481130398, "post_id": 41021084, "comment_id": 69253674, "body": "@freejuices It&#39;s possible to call a function of a non-existent object, for instance through a pointer or reference. I would check whether <code>0x4a522c31</code> is near <code>this</code> or <code>*iter</code>. If it&#39;s neither, check <code>(*iter)-&gt;I_Handler_OnEvent</code> (look in <code>*iter</code>&#39;s vtable)."}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481131931, "post_id": 41021084, "comment_id": 69254640, "body": "@molbdnilo I think you&#39;re on the right track. <code>iter</code> is <code>0x00595E78</code> and <code>this</code> is <code>0x00595DA8</code>. They&#39;re close, but not equal because View_Control is also CFormView I believe. However, I&#39;m afraid I don&#39;t know how to check <code>*iter</code> vtable. What should I look for and where?"}, {"owner": {"reputation": 1536, "user_id": 631266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6ba5d18865bebe8b087f8e0209b892?s=128&d=identicon&r=PG", "display_name": "Avi Berger", "link": "https://stackoverflow.com/users/631266/avi-berger"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1481136920, "post_id": 41021084, "comment_id": 69257591, "body": "The difference in pointer values is due to multiple inheritance and is expected. My previous comment about casting was to check if you were doing something clever and wrong that might get you the wrong pointer value, but you are handling that correctly. Regarding the comment by @AdrianMcCarthy, if more than 1 thread is involved or I_Handler_OnEvent() might (indirectly) call RemoveClient(), that needs a serious look. Otherwise, we might just be looking in the wrong place and need to take a step back."}, {"owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "reply_to_user": {"reputation": 1536, "user_id": 631266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a6ba5d18865bebe8b087f8e0209b892?s=128&d=identicon&r=PG", "display_name": "Avi Berger", "link": "https://stackoverflow.com/users/631266/avi-berger"}, "edited": false, "score": 0, "creation_date": 1481200908, "post_id": 41021084, "comment_id": 69286725, "body": "@AviBerger, @molbdnilo So it looks as though this has to do with the threads involved. I&#39;m starting a std::async task on a function of <code>Handler</code>, and calling wait_for() on the OnTimer function. When the status is <code>ready</code>, I call NotifyEvent() and this causes a crash. However, if I do away with the std::async stuff and call NotifyEvent from OnTimer it just works."}], "owner": {"reputation": 121, "user_id": 2900948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1da4e11b7066bcde7d821a6218ef538a?s=128&d=identicon&r=PG", "display_name": "freejuices", "link": "https://stackoverflow.com/users/2900948/freejuices"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 329, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481629230, "creation_date": 1481123751, "last_edit_date": 1481629230, "question_id": 41021084, "link": "https://stackoverflow.com/questions/41021084/using-stdasync-breaks-my-program-somwhere-else-access-violation-reading", "title": "Using std::async breaks my program somwhere else, access violation reading", "body": "<p>I'm working on an MFC application, written in visual C++ in visual studio 2015. I'm calling a function of an object using a pointer to it. I get the exception \"Access Violation reading location 0x4a522c31\" here: </p>\n\n<pre><code>void Handler::NotifyEvent(I_Handler::eNotification nNotification){\n  for (t_InterfaceList::const_iterator iter = m_oClientList.begin(); iter != m_oClientList.end(); iter++){\n          (*iter)-&gt;I_Handler_OnEvent(nNotification);\n   }\n}\n</code></pre>\n\n<p>The class Handler is this:</p>\n\n<pre><code>class Handler{\n  typedef list&lt;I_Handler*&gt; t_InterfaceList;\n  t_InterfaceList m_oClientList;\n  static Handler* GetInstance();\n  bool AddClient(I_Handler * pInterface);\n  bool RemoveClient(I_Handler * pInterface);\n  void OnTimer();\n  void NotifyEvent(I_Handler::eNotification nNotification);\n}\n</code></pre>\n\n<p>The class I_Handler is this:</p>\n\n<pre><code>class I_Handler {\n  public:\n    virtual void I_Handler_OnEvent(eNotification nNotification) = 0;\n};\n</code></pre>\n\n<p>The software works like this:</p>\n\n<ul>\n<li>The class Handler has a list of clients, who are of class I_Handler.</li>\n<li>When something happens inside OnTimer(), the clients must be notified.</li>\n<li>To notify them, inside OnTimer(), NotifyEvent() gets called. </li>\n<li>NotifyEvent() iterates over the list of clients and calls each function I_Handler_OnEvent()</li>\n</ul>\n\n<p>I have a class somewhere else that controls a window (it's a CFormView) and it's also a client of Handler, meaning that this class is something like this:</p>\n\n<pre><code>class View_Control : public CFormView, public I_Handler{\n  DECLARE_DYNCREATE(View_Control)\n  protected:\n    View_Control();          \n    virtual ~View_Control();\n  public:\n    void I_Handler_OnEvent(eNotification nNotification) override;\n}\n</code></pre>\n\n<p>I have checked and the pointer address is correct, it points to the object of class View_Control who registered as client. </p>\n\n<p>AddClient gets called inside a function of ControlView, like this:\n<code>Handler::GetInstance()-&gt;AddClient(this)</code>. I checked <code>this</code> and <code>*iter</code>, they always have different values, but are close (in one execution, <code>*iter</code> was <code>0x00595E78</code> and <code>this</code> was <code>0x00595DA8</code>. However, the exception always happens reading the same address, which is nowhere near these pointers. </p>\n\n<p>The full error message is as follows:\n<code>Exception thrown at 0x6ce42dc6 (ucrtbase.dll) in program.exe: 0xc000005: Access violation reading location 0x4a522c31.</code></p>\n\n<p><code>std::async</code> is used to launch tasks in parallel in different functions inside the class <code>Handler</code>. Inside the function <code>OnTimer()</code> I check for the task to be ready with a <code>wait_for</code> on the future object returned by <code>std::async</code>. When I get <code>std::future_status::ready</code>, I call <code>NotifyEvent()</code> and everything crashes. Note that if I comment out the <code>std::async</code> call, then the task is not run and <code>NotifyEvent()</code> works as intended.</p>\n\n<p>It looks as though the fact that a function executes in other thread created by <code>std::async</code> breaks the ability of <code>NotifyEvent()</code> to call a member function by a pointer to the object. </p>\n\n<p>Why does this happen?</p>\n"}, {"tags": ["c++", "normalization"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 5, "creation_date": 1481123376, "post_id": 41020922, "comment_id": 69248784, "body": "Aren&#39;t you surprised that values <code>-2</code> and <code>4</code> don&#39;t appear anywhere in your formula? The source range is kind of important, wouldn&#39;t you agree?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1481123466, "post_id": 41020922, "comment_id": 69248843, "body": "That is the range of the input data, so <code>float input</code>"}, {"owner": {"reputation": 1477, "user_id": 3761456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5dd6b4cdf49e95980017fe08358262?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar", "link": "https://stackoverflow.com/users/3761456/iluvatar"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1481123491, "post_id": 41020922, "comment_id": 69248856, "body": "@Igor you don&#39;t actually need those in particular. (Though you do need values derived form them)"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 1477, "user_id": 3761456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5dd6b4cdf49e95980017fe08358262?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar", "link": "https://stackoverflow.com/users/3761456/iluvatar"}, "edited": false, "score": 2, "creation_date": 1481123590, "post_id": 41020922, "comment_id": 69248924, "body": "@Iluvatar Well, maybe not directly, but at least some derivation of them. The current code doesn&#39;t acknowledge the source range in any shape of form. One can&#39;t really expect that the exact same calculation would magically fold [-2, 4] range and, say, [-100, 100] range equally well."}, {"owner": {"reputation": 398, "user_id": 1542520, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4bd275327c7c555bfdf53e79abbaebdf?s=128&d=identicon&r=PG", "display_name": "alirakiyan", "link": "https://stackoverflow.com/users/1542520/alirakiyan"}, "edited": false, "score": 0, "creation_date": 1481123825, "post_id": 41020922, "comment_id": 69249102, "body": "Why not using &#39;&lt;&#39; and &#39;&gt;&#39; operators? if( input &lt; -1) return -1 ... ?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 398, "user_id": 1542520, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4bd275327c7c555bfdf53e79abbaebdf?s=128&d=identicon&r=PG", "display_name": "alirakiyan", "link": "https://stackoverflow.com/users/1542520/alirakiyan"}, "edited": false, "score": 2, "creation_date": 1481123885, "post_id": 41020922, "comment_id": 69249147, "body": "@alirakiyan That&#39;s a different operation entirely. You are thinking <code>clamp</code>, not <code>normalize</code>"}, {"owner": {"reputation": 13920, "user_id": 3404097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e38747633941acae3957fd99b5ebe20?s=128&d=identicon&r=PG&f=1", "display_name": "philipxy", "link": "https://stackoverflow.com/users/3404097/philipxy"}, "edited": false, "score": 0, "creation_date": 1481358289, "post_id": 41020922, "comment_id": 69353736, "body": "Why not just map every value to 0? Or maybe there a <i>context</i> to tell us <i>how</i> and <i>why</i> a number in one range should be mapped to a particular other number in the other range?"}], "answers": [{"tags": [], "owner": {"reputation": 1477, "user_id": 3761456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf5dd6b4cdf49e95980017fe08358262?s=128&d=identicon&r=PG&f=1", "display_name": "Iluvatar", "link": "https://stackoverflow.com/users/3761456/iluvatar"}, "is_accepted": true, "score": 9, "last_activity_date": 1481123842, "last_edit_date": 1481123842, "creation_date": 1481123440, "answer_id": 41020967, "question_id": 41020922, "link": "https://stackoverflow.com/questions/41020922/normalize-a-negative-or-positive-number-between-1-and-1/41020967#41020967", "title": "Normalize a negative or positive number between -1 and 1?", "body": "<p>You want to first center the range around 0, then divide to make it go from -1 to 1.</p>\n\n<pre><code>float normalize(float input)\n{\n    float normalized_x = (input - 1) / 3;\n    return normalized_x;\n}\n</code></pre>\n\n<p>More generalized:</p>\n\n<pre><code>const float min = -2;\nconst float max = 4;\nfloat normalize(float input)\n{\n    float average      = (min + max) / 2;\n    float range        = (max - min) / 2;\n    float normalized_x = (input - average) / range;\n    return normalized_x;\n}\n</code></pre>\n"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7072, "favorite_count": 1, "accepted_answer_id": 41020967, "answer_count": 1, "score": 2, "last_activity_date": 1572526299, "creation_date": 1481123326, "question_id": 41020922, "link": "https://stackoverflow.com/questions/41020922/normalize-a-negative-or-positive-number-between-1-and-1", "title": "Normalize a negative or positive number between -1 and 1?", "body": "<p>I have streaming data, as float values that range between -2 and +4. I need to write a function that normalizes these values between -1 and +1.</p>\n\n<p>I have:</p>\n\n<pre><code>float normalize(float input)\n{\n    int min = -1;\n    int max = 1;\n    float normalized_x = (input - min) / (max - min);\n    return normalized_x;\n}\n</code></pre>\n\n<p>But this gives me values that are incorrect, and range from -0.4 to +2.3, roughly. What do I need to adjust in my function?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "css", "qt", "qtstylesheets"], "comments": [{"owner": {"reputation": 765, "user_id": 5559380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd592dc05054cd1a4a3d09083540fed?s=128&d=identicon&r=PG&f=1", "display_name": "Lidaranis", "link": "https://stackoverflow.com/users/5559380/lidaranis"}, "edited": false, "score": 0, "creation_date": 1481124258, "post_id": 41020874, "comment_id": 69249463, "body": "well.. you could make the background color for the children transparent, or perhaps you could use something like QWidget[selected=true] div { background: blue } to set a color for all the children of type div"}, {"owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1481126377, "post_id": 41020874, "comment_id": 69251008, "body": "selected is a property you created ?"}, {"owner": {"reputation": 157, "user_id": 3993149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e58643a67aa255f8980d8fa72101646?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Suciu", "link": "https://stackoverflow.com/users/3993149/adrian-suciu"}, "edited": false, "score": 0, "creation_date": 1481130576, "post_id": 41020874, "comment_id": 69253792, "body": "Yes, it&#39;s a dynamic property."}], "owner": {"reputation": 157, "user_id": 3993149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e58643a67aa255f8980d8fa72101646?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Suciu", "link": "https://stackoverflow.com/users/3993149/adrian-suciu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 170, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1481123200, "creation_date": 1481123200, "question_id": 41020874, "link": "https://stackoverflow.com/questions/41020874/is-it-possible-to-style-a-child-based-on-a-parents-dynamic-property", "title": "Is it possible to style a child based on a parent&#39;s dynamic property?", "body": "<p>I have a QWidget designed with QtCreator that contains 3 subwidgets (2 Qlabels and a QComboBox). Is it possible to add a dynamic property to the parent widget that would style the subwidgets using stylesheets (without adding the dynamic property to the children)</p>\n\n<p>this is what the widget looks like when selected is false\n<a href=\"https://i.stack.imgur.com/4Wq3C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wq3C.png\" alt=\"this is what the widget looks like when selected is false\"></a></p>\n\n<p>all backgrounds should be red, not just the main widget.</p>\n\n<pre><code>void widget::mousePressEvent(QMouseEvent*)\n{\n    bool sel = !select; // the widget class contains the select member\n    setProperty(\"selected\",QVariant(sel));\n    style()-&gt;unpolish(this);\n    style()-&gt;polish(this);\n}\n</code></pre>\n\n<p>CSS</p>\n\n<pre><code>QWidget[selected=false]\n{\nbackground: red;\n}\n\nQWidget[selected=true] \n{\nbackground: blue\n}\n</code></pre>\n\n<p>This approach will only set the background for the custom widget but not for the members. I want to set the background for all members. Is it possible without setting the dynamic property for all children ?</p>\n"}, {"tags": ["c++", "c++11", "noexcept"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1481122762, "post_id": 41020685, "comment_id": 69248406, "body": "In general, you can&#39;t specify a function without also specifying arguments - there may be multiple overloads with the same name, some <code>noexcept</code> and others not."}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481128567, "post_id": 41020740, "comment_id": 69252489, "body": "#include &lt;iostream&gt; #include &lt;string&gt;  void ff()noexcept { }  class A {     public:     void f()noexcept     {         ff();     } };  void g(A* obj,void (A::*f)()) {     static_assert(noexcept((obj-&gt;*f)),&quot;kl&quot;); }  int main() {  A a;  g(&amp;a,&amp;A::f); }"}, {"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481128622, "post_id": 41020740, "comment_id": 69252533, "body": "For example I think that this returned wrong value   #include &lt;iostream&gt; #include &lt;string&gt;  void ff()noexcept { }  class A {     public:     void f()noexcept     {         ff();     } };  void g(A* obj,void (A::*f)()) {     static_assert(noexcept((obj-&gt;*f)),&quot;kl&quot;); }  int main() {  A a;  g(&amp;a,&amp;A::f); }  Why it&#39;s asserted?"}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481129257, "post_id": 41020740, "comment_id": 69252983, "body": "Can you please post that on wandbox or something similar?"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481129981, "post_id": 41020740, "comment_id": 69253438, "body": "@MartinAyvazyan Note the the noexcept specifier is not part of the function type in C++11. That&#39;s why your example <i>works</i> even if you would have expected the opposite."}, {"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481131692, "post_id": 41020740, "comment_id": 69254488, "body": "I have class( with as variadic template) and I need in other function check is this constexpr or no. What I should be done?"}, {"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481131893, "post_id": 41020740, "comment_id": 69254608, "body": "I have class( with as variadic template) and I need in other function check is this constexpr or no. What I should be done?"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "reply_to_user": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481135237, "post_id": 41020740, "comment_id": 69256547, "body": "@MartinAyvazyan What are those types meant for? Are they member functions pointers or whatever?"}, {"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481142069, "post_id": 41020740, "comment_id": 69260559, "body": "They&#39;re member functions"}, {"owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "edited": false, "score": 0, "creation_date": 1481202645, "post_id": 41020740, "comment_id": 69287859, "body": "If I want know is function, which&#39;s transferred as argument(pointer onto function), to have noexcept attribute or no, what I should be done?"}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1481122812, "creation_date": 1481122812, "answer_id": 41020740, "question_id": 41020685, "link": "https://stackoverflow.com/questions/41020685/no-except-without-passing-argument/41020740#41020740", "title": "No-except without passing argument", "body": "<p>Assuming you're asking: </p>\n\n<blockquote>\n  <p>How can I assert that a function is <code>noexcept</code> without calling it?</p>\n</blockquote>\n\n<p>The answer is that you can't, because the <code>noexcept</code> specifier could be different between overloads. Example:</p>\n\n<pre><code>int a(int) noexcept;\nint a(int, int);\n\n// What would `noexcept(a)` mean?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "is_accepted": false, "score": 6, "last_activity_date": 1481127942, "last_edit_date": 1495541323, "creation_date": 1481125938, "answer_id": 41021788, "question_id": 41020685, "link": "https://stackoverflow.com/questions/41020685/no-except-without-passing-argument/41021788#41021788", "title": "No-except without passing argument", "body": "<p>Assuming you are asking (thanks to <a href=\"https://stackoverflow.com/a/41020740/4987285\">@VittorioRomeo</a> for the assumption):</p>\n\n<blockquote>\n  <p>How can I assert that a function is noexcept without calling it?</p>\n</blockquote>\n\n<p>You can use the <code>noexcept</code> operator to do that, because its operands are unevaluated operands.<br>\nIn other terms, you can do this:</p>\n\n<pre><code>void f(int) noexcept { }\nvoid f(int, int) { }\n\nint main() {\n    static_assert(noexcept(f(0)), \"!\");\n    static_assert(not noexcept(f(0, 0)), \"!\");\n}\n</code></pre>\n\n<p><code>f</code> won't be <em>called</em> in any case, that is the (let me say) <em>nature</em> of an unevaluated operand.</p>\n\n<p>The most interesting part is that you can combine it with <code>std::declval</code> if you don't have a variable to be used as an argument and you don't know how to construct it.<br>\nAs an example:</p>\n\n<pre><code>#include&lt;utility&gt;\n\nstruct S { S(int) {} };\n\nvoid f(S) noexcept { }\n\nint main() {\n    static_assert(noexcept(f(std::declval&lt;S&gt;())), \"!\");\n}\n</code></pre>\n\n<p>Note that I don't have to pass anything to construct <code>S</code>, even if it hasn't a default constructor.</p>\n\n<p>This is usually enough to work around the requirement of <em>passing no arguments</em>.</p>\n"}], "owner": {"reputation": 53, "user_id": 7096147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cef1ed79232f8ba5197333431d19c6?s=128&d=identicon&r=PG&f=1", "display_name": "ma13", "link": "https://stackoverflow.com/users/7096147/ma13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "closed_date": 1481151923, "answer_count": 2, "score": 0, "last_activity_date": 1481127942, "creation_date": 1481122673, "last_edit_date": 1481127693, "question_id": 41020685, "link": "https://stackoverflow.com/questions/41020685/no-except-without-passing-argument", "closed_reason": "Needs details or clarity", "title": "No-except without passing argument", "body": "<p>Can you say how can I assertion, is function noexcept(without passing arguments)? Thanks.</p>\n"}, {"tags": ["c++", "boost", "c++17", "boost-filesystem", "std-filesystem"], "comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1485454611, "post_id": 41020613, "comment_id": 70942503, "body": "Hat tip for diverting traffic to my question :-)"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1485454687, "post_id": 41020613, "comment_id": 70942557, "body": "@ein my google fu failed me pretty bad."}], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "closed_date": 1481124230, "answer_count": 0, "score": 4, "last_activity_date": 1481122472, "creation_date": 1481122472, "question_id": 41020613, "link": "https://stackoverflow.com/questions/41020613/how-similar-are-boostfilesystem-and-stdfilesystem", "closed_reason": "Duplicate", "title": "How similar are boost::filesystem and std::filesystem?", "body": "<p>I believe <a href=\"http://www.boost.org/doc/libs/1_62_0/libs/filesystem/doc/index.htm\" rel=\"nofollow noreferrer\"><code>boost::filesystem</code></a> was at least one of the \"source\" libraries used to design <a href=\"http://en.cppreference.com/w/cpp/experimental/fs\" rel=\"nofollow noreferrer\"><code>std::filesystem</code></a> for C++17.</p>\n\n<p>How similar are they?  If very similar, what are the known gotchas and incompatibilities?  If not, where are they similar?</p>\n\n<p>This is in the context of implementing something with <code>std::filesystem</code>, <code>std::experimental::filesystem</code> or <code>boost::filesystem</code>, and wanting to know the likely scope of efforts required if we switch libraries (say, if one discovers that the <code>std</code> library on a particular platform is inadequate).</p>\n\n<p>This is not a request for an alternative library recommendation.</p>\n"}, {"tags": ["c++", "gnuradio"], "answers": [{"comments": [{"owner": {"reputation": 337, "user_id": 4103600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be1fafda49ea39d8020cb81e0b19ba18?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/4103600/zephyr"}, "edited": false, "score": 0, "creation_date": 1481143986, "post_id": 41026870, "comment_id": 69261627, "body": "Well I&#39;m actually writing a sink block, but when you use gr_modtool to make a sink, it inherits from the &quot;sync&quot; block. The only difference being that the io_signature for the output has 0 for the minimum and maximum number. So I am not returning any items, but I am still consuming. Since the default for the return is noutput_items, I put 0 because I am not outputting a stream."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 337, "user_id": 4103600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be1fafda49ea39d8020cb81e0b19ba18?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/4103600/zephyr"}, "edited": false, "score": 0, "creation_date": 1481152764, "post_id": 41026870, "comment_id": 69265765, "body": "As said, a sink should be a sync_blcok and it <b>must</b> return the number of items you&#39;ve consumed."}, {"owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "reply_to_user": {"reputation": 337, "user_id": 4103600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be1fafda49ea39d8020cb81e0b19ba18?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/4103600/zephyr"}, "edited": false, "score": 0, "creation_date": 1481159554, "post_id": 41026870, "comment_id": 69267920, "body": "To repeat that: For a sink to consume, you must &quot;produce&quot;."}], "tags": [], "owner": {"reputation": 27697, "user_id": 4433386, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hbHEL.png?s=128&g=1", "display_name": "Marcus M&#252;ller", "link": "https://stackoverflow.com/users/4433386/marcus-m%c3%bcller"}, "is_accepted": false, "score": 0, "last_activity_date": 1481142849, "creation_date": 1481142849, "answer_id": 41026870, "question_id": 41020587, "link": "https://stackoverflow.com/questions/41020587/gnuradio-issues-with-timing/41026870#41026870", "title": "GNURadio issues with timing", "body": "<p>Your block is not consuming any samples. I presume you're writing a <code>sync_block</code> (<code>work</code> function, not <code>general_work</code>), so your number of <em>produced</em> items is identical to the number of <em>consumed</em> items. But as your source code says:</p>\n\n<pre><code>// Tell runtime system how many output items we produced.\nreturn 0;\n</code></pre>\n\n<p>In other words, your block tells GNU Radio that it didn't use any of the input GNU Radio offered, and produced no output. That means GNU Radio can't do nothing. You must return the number of items you've produced, and for sync blocks, that's the number of items you consumed \u2013 even if you're a sink, with zero output streams!</p>\n"}], "owner": {"reputation": 337, "user_id": 4103600, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/be1fafda49ea39d8020cb81e0b19ba18?s=128&d=identicon&r=PG&f=1", "display_name": "Zephyr", "link": "https://stackoverflow.com/users/4103600/zephyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1481142849, "creation_date": 1481122381, "question_id": 41020587, "link": "https://stackoverflow.com/questions/41020587/gnuradio-issues-with-timing", "title": "GNURadio issues with timing", "body": "<p>I am having trouble getting a custom block to operate at high frequency.</p>\n\n<p>The block I would like to use is going to take in data from an external radio.</p>\n\n<p>I am using an Ettus USRP block to stream data in from this radio, and I can display this on the QT Scope. I can set this block's sample rate to 15 MHz, and with the scope this seems to work ok.</p>\n\n<p>Problem:</p>\n\n<p>I have tried making a simple block with the gnuradio gr_modtool which takes in 2 floats as input and has 0 outputs. The block has private members \"timer\", a time_t, and \"counter\", an int. In the \"work\" function, my code simply does this at the moment:</p>\n\n<pre><code>const float *in_i = (const float *) input_items[0];\nconst float *in_q = (const float *) input_items[1];\n\nif (count == 0){\n    if (*in_i &gt; 0.5){\n        timer = clock();\n        count = 30000;\n    }\n}else{\n    count --;\n    if(count == 0){\n        timer = clock()-timer;\n        printf(\"Count took %d clicks, or %f seconds\\n\",timer,(float)timer/CLOCKS_PER_SEC);\n    }\n}\n  // Tell runtime system how many output items we produced.\n  return 0;\n</code></pre>\n\n<p>However, when I run this code, it takes longer than the expected time.\nFor 30000 cycles, it takes 0.872970 to complete, instead of the desired 0.002 seconds. Since the standard gnuradio block generated with gr_modtool is a sync block, and the input stream to the block is coming from the 15 MHz USRP, I would have expected this block to run at that same frequency. This is not currently the case.</p>\n\n<p>Eventually my goal is to be able to store data streaming in over a period of time, and write it to file with certain formatting(A block already exists to do this, but there is some sort of bug that is preventing that block and the USRP block from working at the same time, so I am attempting to write my own.). However, unless I can keep up with the sample rate of 15 MHz, I will lose data. Since this block is fairly simple, I would have hoped it would be able to run quickly enough to keep up. However, the input stream block is able to pull data from the radio and output at 15 MHz, so I know my computer is capable of it.</p>\n\n<p>How can I make this custom block operate more quickly, and keep up with the 15 MHz frequency?(Or, how can I make this sync block operate at the input stream frequency, since it currently does not)</p>\n"}, {"tags": ["c++", "parsing", "boost", "boost-spirit", "boost-phoenix"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1481123958, "post_id": 41020527, "comment_id": 69249205, "body": "Have you tried using <code>std::ostringstream</code>.  Sometimes, <code>auto</code> may not be what you want for the variable type."}], "owner": {"reputation": 43, "user_id": 6093791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Lxec.png?s=128&g=1", "display_name": "Spide", "link": "https://stackoverflow.com/users/6093791/spide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1481122703, "creation_date": 1481122250, "last_edit_date": 1481122703, "question_id": 41020527, "link": "https://stackoverflow.com/questions/41020527/generating-dynamic-rules-with-struct-results", "title": "Generating dynamic rules with struct results", "body": "<p>I get already a human-defined grammar definition in the style of:</p>\n\n<pre><code>\"my car is moving [speed] while I feel [feeling]\"\n</code></pre>\n\n<p>I translated this to a <code>std::vector&lt;std::string&gt;</code>:</p>\n\n<pre><code>\"my car is moving\", \"[speed]\", \"while I feel\", \"[feeling]\"\n</code></pre>\n\n<p>Now I built up a rule for parsing speed:</p>\n\n<pre><code>using boost::spirit::ascii::string;\nnamespace phoenix = boost::phoenix;\nnamespace spirit = boost::spirit;\nnamespace qi = boost::spirit::qi;\n\nstruct quantity {\n    double factor;\n    std::string unit;\n    bool operator==(const quantity&amp; other) { return other.factor == factor &amp;&amp; other.unit == unit; }\n};\n\n// see http://stackoverflow.com/questions/18602818/boost-spirit-qi-custom-syntesized-attribute-set-a-specific-member-of-a-struct-a\nauto quantity_factor_field = phoenix::bind(&amp;quantity::factor, qi::_val);\nauto quantity_unit_field = phoenix::bind(&amp;quantity::unit, qi::_val);\n\nauto expression_unit_velocity_kmh = \"km\" &gt;&gt; -(string(\"/\")) &gt;&gt; \"h\";\nauto expression_unit_distance_m = string(\"m\");\n\nqi::rule&lt;std::string::const_iterator, quantity()&gt; numeric_value_expression;\n\nnumeric_value_expression = qi::double_[quantity_factor_field = qi::_1] &gt;&gt;\n    (\n        expression_unit_velocity_kmh[quantity_unit_field = \"m/s\", quantity_factor_field /= 3.6] |\n        expression_unit_distance_m[quantity_unit_field = \"m\"]\n    );\n</code></pre>\n\n<p>Now the <code>numeric_value_expression</code> works fine. My problem is now the dynamic combination of those rules. I can't use the Nabialek trick because the symbol choosing depends on my token array. What is the best approach to combine rules? I simply tried something like:</p>\n\n<pre><code>auto push_back_result_to_quantity_field = phoenix::push_back(phoenix::bind(&amp;parsing_result::quantities, qi::_val), qi::_1);\n\nfor (const std::string &amp;token : tokens) {\n    if (token == \"[speed]\") \n        final_rule = final_rule.copy() &gt;&gt; numeric_value_expression[push_back_result_to_quantity_field];\n    else if (token = ...)\n}\n</code></pre>\n\n<p>This worked but only one token will be safed, all previous are lost. (So in the example only the last <code>[feeling]</code> will be stored.</p>\n"}, {"tags": ["c++", "validation", "input", "int"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481122089, "post_id": 41020417, "comment_id": 69247970, "body": "<i>&quot;I&#39;m having trouble ...&quot;</i> is very vague. Can you please be more specific?"}, {"owner": {"reputation": 1, "user_id": 7090608, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185978021476685/picture?type=large", "display_name": "Moya", "link": "https://stackoverflow.com/users/7090608/moya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481122160, "post_id": 41020417, "comment_id": 69248027, "body": "yea sorry it&#39;s my first question on here"}, {"owner": {"reputation": 1, "user_id": 7090608, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185978021476685/picture?type=large", "display_name": "Moya", "link": "https://stackoverflow.com/users/7090608/moya"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1481122221, "post_id": 41020417, "comment_id": 69248070, "body": "so i&#39;m trying to validate for whole positive int, but when i don&#39;t put a letter nothing would happen"}, {"owner": {"reputation": 636, "user_id": 7174786, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d37a1bf625f18df544b7c67d24585d4f?s=128&d=identicon&r=PG&f=1", "display_name": "Alessandro Scarlatti", "link": "https://stackoverflow.com/users/7174786/alessandro-scarlatti"}, "edited": false, "score": 0, "creation_date": 1481274052, "post_id": 41020417, "comment_id": 69319875, "body": "@Moya Where specifically do you wish to use <code>cin.peek()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 3882571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b3f10a87a08557222ede13fd58d5f6?s=128&d=identicon&r=PG&f=1", "display_name": "Webbmaster1", "link": "https://stackoverflow.com/users/3882571/webbmaster1"}, "is_accepted": false, "score": 0, "last_activity_date": 1507029238, "last_edit_date": 1507029238, "creation_date": 1507024785, "answer_id": 46541935, "question_id": 41020417, "link": "https://stackoverflow.com/questions/41020417/cin-peek-for-input-validation/46541935#46541935", "title": "cin.peek for input validation", "body": "<p>Try this...</p>\n\n<pre><code>include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int num;\n    cout &lt;&lt; \"Enter a positive integer: \";\n    cin &gt;&gt; num;\n\n    while (num &lt;= 0 || cin.peek() != '\\n')\n    {\n        cout &lt;&lt; \"Invalid Input!\\n\";\n        cin.clear();\n        cin.ignore(numeric_limits&lt;streamsize&gt;::max(), '\\n');\n        cout &lt;&lt; \"Please re-enter [positive integer only]: \";\n        cin &gt;&gt; num;\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7090608, "user_type": "registered", "profile_image": "https://graph.facebook.com/1185978021476685/picture?type=large", "display_name": "Moya", "link": "https://stackoverflow.com/users/7090608/moya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1507029238, "creation_date": 1481121947, "last_edit_date": 1481276056, "question_id": 41020417, "link": "https://stackoverflow.com/questions/41020417/cin-peek-for-input-validation", "title": "cin.peek for input validation", "body": "<p>I'm having trouble with using <code>cin.peek</code> for validation.\nwhat I'm trying to do is to get only a positive <code>int</code> from the user. I've tried using the following code\n(I have to use functions)\n(<code>getwholenum</code> and <code>getposnum</code> work fine without <code>getnum</code> function): </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\n\ndouble getposnum(double &amp;);    //function protoype for getting positive number\ndouble getwholenum(double &amp;);  //function protoype for getting a whole number\ndouble getnum(double &amp;);       //function protoype for getting an int\n\nint main()\n{\n\n\n\n\nstatic double x;\ncout &lt;&lt; \"please give me a number\" &lt;&lt; endl;\ncin &gt;&gt; x;\ncin.ignore();\nx = getnum(x);\ncout &lt;&lt; x;\ncin.get();\n\n}\n\ndouble getnum(static double &amp; x)    //validation for int only (no char)\n{\n// cin checks if the stream has failed\n// cin = true, cin = false !cin\n\n\nwhile (!(cin &gt;&gt; x))\n{\n    cout &lt;&lt; \"Input was not a number\" &lt;&lt; endl &lt;&lt; \"Enter a VALID number! \";\n    cin &gt;&gt; x;\n    cin.clear();\n    cin.ignore();\n\n} \ncout &lt;&lt; \"it's not a letter\";\ngetposnum(x);\n\nreturn x;\n}  // if i dont put in a letter nothing would happen\n\n\ndouble getposnum(static double &amp; x) // another function to get a positive number\n{\nwhile (x &lt; 0)\n{\n    cout &lt;&lt; \"negative\" &lt;&lt; endl;\n    cin &gt;&gt; x;\n    cin.ignore();\n\n}\ncout &lt;&lt; \"positive\" &lt;&lt; endl;\n\ngetwholenum(x);\n\nreturn x;\n}\n\ndouble getwholenum(static double &amp; x)\n{\nwhile (x != static_cast&lt;int&gt;(x))   // forcing a double into an int if it's equal then the number was an in\n{\n    cout &lt;&lt; \"not a whole number\" &lt;&lt; endl;\n    cin &gt;&gt; x;\n    cin.ignore();\n}\ncout &lt;&lt; \"whole number\";\nreturn x;\n}    \n</code></pre>\n"}, {"tags": ["c++", "templates", "reverse-iterator"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1481122548, "post_id": 41020416, "comment_id": 69248266, "body": "Since <code>collection</code> is <code>const</code>, <code>secondLastIt</code> should be <code>const_reverse_iterator</code>, as that&#39;s what <code>rbegin()</code> returns. Or just use <code>auto</code>."}, {"owner": {"reputation": 907, "user_id": 5344725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/afe3363c7df76a6ddf2114b5b8793554?s=128&d=identicon&r=PG&f=1", "display_name": "Altainia", "link": "https://stackoverflow.com/users/5344725/altainia"}, "edited": false, "score": 0, "creation_date": 1481122628, "post_id": 41020416, "comment_id": 69248313, "body": "The error seems to think you&#39;re trying to create a non-const iterator from a const-iterator."}], "answers": [{"comments": [{"owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "edited": false, "score": 0, "creation_date": 1481123294, "post_id": 41020663, "comment_id": 69248734, "body": "Thank you for that. Works now."}], "tags": [], "owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "is_accepted": true, "score": 0, "last_activity_date": 1481122585, "creation_date": 1481122585, "answer_id": 41020663, "question_id": 41020416, "link": "https://stackoverflow.com/questions/41020416/template-for-2nd-last-in-collection-reverse-iterator-doesnt-compile/41020663#41020663", "title": "Template for 2nd last in collection; reverse_iterator doesn&#39;t compile", "body": "<p>You need a <code>const_reverse_iterator</code> since <code>collection</code> is <code>const</code></p>\n\n<pre><code>  template &lt;typename T&gt;\n  bool\n    isSecondLastTemplate(const T &amp;collection, const typename T::const_iterator &amp;searchItem)\n  {\n    typename T::const_reverse_iterator secondLastIt = collection.rbegin();\n                ^^^^^^^^^^^^^^^^^^^^^^\n    return true;\n  }\n</code></pre>\n"}], "owner": {"reputation": 2209, "user_id": 883572, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/2df953841a456c642ce0d2a66b8cb919?s=128&d=identicon&r=PG", "display_name": "Danny", "link": "https://stackoverflow.com/users/883572/danny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 41020663, "answer_count": 1, "score": 1, "last_activity_date": 1481122585, "creation_date": 1481121945, "question_id": 41020416, "link": "https://stackoverflow.com/questions/41020416/template-for-2nd-last-in-collection-reverse-iterator-doesnt-compile", "title": "Template for 2nd last in collection; reverse_iterator doesn&#39;t compile", "body": "<p>I'm converting two existing functions which check if an iterator is the last and second last item in a <code>std::map</code> to templates.  The <code>isLastItem</code> template compiles, the <code>isSecondLastItem</code> fails with an error message I don't understand.</p>\n\n<p>The one line causing the error is <code>typename T::reverse_iterator secondLastIt = collection.rbegin();</code></p>\n\n<p>But the template and non-template versions look identical. </p>\n\n<pre><code>typedef std::map&lt;time_t, std::string&gt;  TInfoMap;\n\nclass MainClass\n{\npublic:\n    MainClass() {};\n    void test();\n\nprivate:\n    /* Doesn't work */\n    template &lt;typename T&gt;\n    bool\n    isSecondLastTemplate(const T &amp;collection, const typename T::const_iterator &amp;searchItem)\n    {\n        typename T::reverse_iterator secondLastIt = collection.rbegin();\n        return true;\n    }\n\n    /* this works */\n    bool\n    isSecondLastNoTemplate(const TInfoMap &amp;infoMap, const TInfoMap::const_iterator &amp;searchItem)\n    {\n        TInfoMap::reverse_iterator secondLastIt = infoMap.rbegin();\n        return true;\n    }\n\n    /* This works */\n    template &lt;typename T&gt;\n    bool\n    isLastItem(const T &amp;collection, const typename T::const_iterator &amp;searchItem)\n    {\n        if (collection.size() == 1)\n            return true;\n\n        // point to last item\n        typename T::const_iterator lastItem = collection.end();\n        --lastItem;\n\n        return searchItem == lastItem;\n    }\n\nprivate:\n    TInfoMap   mInfoMap;\n};\n\n\nvoid\nMainClass::test()\n{\n    mInfoMap[1] = \"One\";\n    mInfoMap[2] = \"Two\";\n    mInfoMap[3] = \"Three\";\n\n    TInfoMap::iterator it = mInfoMap.begin();\n\n    if (isLastItem(mInfoMap, it))\n        printf(\"Last Item!\\n\");\n\n    if (isSecondLastTemplate(mInfoMap, it))\n        printf(\"Second Last!\\n\");\n\n    if (isSecondLastNoTemplate(mInfoMap, it))\n        printf(\"Second Last!\\n\");\n\n}\n\nint\nmain(int argc, char **argv)\n{\n    MainClass theStuff;\n    theStuff.test();\n}\n</code></pre>\n\n<p>Compiler error:</p>\n\n<pre><code>In constructor \u2018std::reverse_iterator&lt;_Iterator&gt;::reverse_iterator(const std::reverse_iterator&lt;_Iter&gt;&amp;) \n                [with _Iter = std::_Rb_tree_const_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;, \n                _Iterator = std::_Rb_tree_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;]\u2019:\n\njunk3.cpp:19:   instantiated from here\nerror: no matching function for call to \u2018std::_Rb_tree_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;::_Rb_tree_iterator(std::_Rb_tree_const_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;)\u2019\ncandidates are: \n  std::_Rb_tree_iterator&lt;_Tp&gt;::_Rb_tree_iterator(std::_Rb_tree_node&lt;_Tp&gt;*) [with _Tp = std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;]\n  std::_Rb_tree_iterator&lt;_Tp&gt;::_Rb_tree_iterator() [with _Tp = std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt;]\n\n  std::_Rb_tree_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, \n       std::allocator&lt;char&gt; &gt; &gt; &gt;::_Rb_tree_iterator(const std::_Rb_tree_iterator&lt;std::pair&lt;const long int, std::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; &gt; &gt;&amp;)\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1481122083, "post_id": 41020302, "comment_id": 69247962, "body": "<code>std::cout &lt;&lt; std::string(n, &#39; &#39;);</code> outputs <code>n</code> spaces, if that&#39;s what you are asking."}], "answers": [{"comments": [{"owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "edited": false, "score": 0, "creation_date": 1481122556, "post_id": 41020492, "comment_id": 69248272, "body": "You could also run the innermost loop while <code>i &lt; (5-y)</code> and output <code>&quot; *&quot;</code> below instead, that avoids the trailing space on each line (like <a href=\"http://ideone.com/HtNTJ5\" rel=\"nofollow noreferrer\">this</a>). Merry almost-Christmas :)"}, {"owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "reply_to_user": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "edited": false, "score": 0, "creation_date": 1481122669, "post_id": 41020492, "comment_id": 69248337, "body": "@mindriot agreed, I also like it more. Thanks :)"}, {"owner": {"reputation": 4719, "user_id": 2958070, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FtkjC.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2958070/ben"}, "edited": false, "score": 1, "creation_date": 1481123150, "post_id": 41020492, "comment_id": 69248625, "body": "upvote for almost Christmas"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1481123830, "post_id": 41020492, "comment_id": 69249106, "body": "@MarcoA. Is it an example of how code should not be written?:)"}], "tags": [], "owner": {"reputation": 41100, "user_id": 1938163, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WV0Fi.png?s=128&g=1", "display_name": "Marco A.", "link": "https://stackoverflow.com/users/1938163/marco-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1481122653, "last_edit_date": 1481122653, "creation_date": 1481122168, "answer_id": 41020492, "question_id": 41020302, "link": "https://stackoverflow.com/questions/41020302/c-asterisk-loop-program-with-space/41020492#41020492", "title": "C++ asterisk loop program with space", "body": "<p>I'll help you.. but just because it's almost Christmas</p>\n\n<pre><code>int x, y;\nfor (y = 0; y &lt;= 5; y++) {\n  for (x = 0; x &lt; y; x++) {\n    for (int i = 0; x == 0 &amp;&amp; i &lt; (5 - y); ++i)\n      cout &lt;&lt; ' ';\n    cout &lt;&lt; \" *\";\n  }\n  cout &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p><kbd><a href=\"http://ideone.com/HtNTJ5\" rel=\"nofollow noreferrer\">Example</a></kbd></p>\n"}, {"tags": [], "owner": {"reputation": 1469, "user_id": 125671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/376fa00c142d01c1dac636649970f2db?s=128&d=identicon&r=PG", "display_name": "IanM_Matrix1", "link": "https://stackoverflow.com/users/125671/ianm-matrix1"}, "is_accepted": false, "score": 0, "last_activity_date": 1481122461, "creation_date": 1481122461, "answer_id": 41020610, "question_id": 41020302, "link": "https://stackoverflow.com/questions/41020302/c-asterisk-loop-program-with-space/41020610#41020610", "title": "C++ asterisk loop program with space", "body": "<p>You start with 6 spaces and an asterix.\nNext is 5 spaces and an asterix, followed by 1 space+asterix\nNext is 4 spaces and an asterix, followed by 2 space+asterix\n... and so on. Do you see the pattern?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main(int argc, char* argv[])\n{\n    for (int height = 6; height &gt; 0; --height)\n    {\n        // Leading spaces\n        for (int i = 1; i &lt; height; ++i)\n        {\n            std::cout &lt;&lt; ' ';\n        }\n        // and the asterix\n        std::cout &lt;&lt; '*';\n        // then trailing space+asterix\n        for (int i = height; i &lt; 6; ++i)\n        {\n            std::cout &lt;&lt; \" *\";\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1481123148, "last_edit_date": 1481123148, "creation_date": 1481122474, "answer_id": 41020615, "question_id": 41020302, "link": "https://stackoverflow.com/questions/41020302/c-asterisk-loop-program-with-space/41020615#41020615", "title": "C++ asterisk loop program with space", "body": "<p>Just output one space after the outputted asterisk</p>\n\n<p>Here you are.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nint main()\n{\n    while (true)\n    {\n        const char asterisk = '*';\n\n        std::cout &lt;&lt; \"Enter a non-negative number (0 - exit): \";\n\n        unsigned int n;\n\n        if (not (std::cin &gt;&gt; n) or n == 0) break;\n\n        std::cout &lt;&lt; '\\n';\n\n        for ( unsigned int i = 0; i &lt; n; i++ )\n        {\n            std::cout &lt;&lt; std::setw( n - i + 1 );\n            for (unsigned int j = 0; j &lt; i + 1; j++)\n            {\n                std::cout &lt;&lt; asterisk &lt;&lt; (j == i ? '\\n' : ' ');\n            }\n        }\n\n        std::cout &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output might look like</p>\n\n<pre><code>Enter a non-negative number (0 - exit): 6\n\n      *\n     * *\n    * * *\n   * * * *\n  * * * * *\n * * * * * *\n\nEnter a non-negative number (0 - exit): 5\n\n     *\n    * *\n   * * *\n  * * * *\n * * * * *\n\nEnter a non-negative number (0 - exit): 4\n\n    *\n   * *\n  * * *\n * * * *\n\nEnter a non-negative number (0 - exit): 3\n\n   *\n  * *\n * * *\n\nEnter a non-negative number (0 - exit): 2\n\n  *\n * *\n\nEnter a non-negative number (0 - exit): 1\n\n *\n\nEnter a non-negative number (0 - exit): 0\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7262833, "user_type": "registered", "profile_image": "https://graph.facebook.com/1405003036206837/picture?type=large", "display_name": "Kash Dominiks", "link": "https://stackoverflow.com/users/7262833/kash-dominiks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "closed_date": 1481181646, "accepted_answer_id": 41020492, "answer_count": 3, "score": -3, "last_activity_date": 1483891845, "creation_date": 1481121652, "last_edit_date": 1483891845, "question_id": 41020302, "link": "https://stackoverflow.com/questions/41020302/c-asterisk-loop-program-with-space", "closed_reason": "Not suitable for this site", "title": "C++ asterisk loop program with space", "body": "<p>I wanted to make:</p>\n\n<pre><code>      *\n     * *\n    * * *\n   * * * *\n  * * * * *\n * * * * * *\n</code></pre>\n\n<p>but I don't know how to make the spacing, the closest I can get is by using:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\nusing namespace std;\n\nint main(int argc, char** argv) {\n      int x, y;\n  for (y = 0 ; y &lt;= 5 ; y ++){\n    for (x = 0 ; x &lt; y ; x++) {\n    cout&lt;&lt;\" * \";\n    }\n  printf(\"\\n\");\n }\n        getch ();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "dpi", "qapplication"], "answers": [{"comments": [{"owner": {"reputation": 1054, "user_id": 134919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e04259fbe8eb0d81382738df916c360?s=128&d=identicon&r=PG", "display_name": "Roderick", "link": "https://stackoverflow.com/users/134919/roderick"}, "edited": false, "score": 0, "creation_date": 1483109884, "post_id": 41029142, "comment_id": 69998262, "body": "As it happens, I allocate QApplication on the heap because, as I mentioned, this is a hosted Dll in another application, and the initialization function returns to the parent after creating the QApplication. Other than making the QApplication global, which would  be problematic in a number of ways, allocating it the stack would cause it to be deleted after initialization."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "reply_to_user": {"reputation": 1054, "user_id": 134919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e04259fbe8eb0d81382738df916c360?s=128&d=identicon&r=PG", "display_name": "Roderick", "link": "https://stackoverflow.com/users/134919/roderick"}, "edited": false, "score": 0, "creation_date": 1483112970, "post_id": 41029142, "comment_id": 69999597, "body": "@Roderick, you can still allocate the app object on the stack as long as the event loop will be running in that thread but you need to make sure that thread quits the loop before destroyed."}, {"owner": {"reputation": 1054, "user_id": 134919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e04259fbe8eb0d81382738df916c360?s=128&d=identicon&r=PG", "display_name": "Roderick", "link": "https://stackoverflow.com/users/134919/roderick"}, "edited": false, "score": 0, "creation_date": 1483143473, "post_id": 41029142, "comment_id": 70011268, "body": "that&#39;s not how this particular implementation works, for reasons too numerous and off-topic to discuss here. It&#39;s not really germane, the issue is getting Qt to recognize the configuration setting."}, {"owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "reply_to_user": {"reputation": 1054, "user_id": 134919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e04259fbe8eb0d81382738df916c360?s=128&d=identicon&r=PG", "display_name": "Roderick", "link": "https://stackoverflow.com/users/134919/roderick"}, "edited": false, "score": 0, "creation_date": 1483148784, "post_id": 41029142, "comment_id": 70012289, "body": "@Roderick I can post my own hack that makes Qt app to use certain DPI Awareness mode without reading qt.conf. That way is Qt version specific, though."}], "tags": [], "owner": {"reputation": 7482, "user_id": 313175, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/17983e85ea926e9e985c00d1a771f24a?s=128&d=identicon&r=PG", "display_name": "Alexander V", "link": "https://stackoverflow.com/users/313175/alexander-v"}, "is_accepted": false, "score": 2, "last_activity_date": 1481155100, "last_edit_date": 1481155100, "creation_date": 1481152859, "answer_id": 41029142, "question_id": 41020054, "link": "https://stackoverflow.com/questions/41020054/creating-the-qapplication-resizes-the-parent-non-qt-window-when-high-dpi-on-a/41029142#41029142", "title": "Creating the QApplication resizes the parent (non-Qt window) when high-dpi on a 4k monitor", "body": "<p>In <code>qt.conf</code> we supposed to use one value for DPI Awareness setting:</p>\n\n<pre><code>[Platforms]\nWindowsArguments = dpiawareness=2\n# either 0 or 1 or 2\n</code></pre>\n\n<p>If you want to use this <code>dpiawareness</code> of <code>qt.conf</code> setting and prevent the Qt GUI from being automatically scaled, use value 2 which is Per Monitor DPI Aware and not handled by Qt. \"Per-monitor DPI aware\" used for allowing the system to send an event down to the window while being dragged from one monitor to another. It is just like the GUI app will behave with natural API, either handling or not handling that <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dn312083(v=vs.85).aspx\" rel=\"nofollow noreferrer\">event</a>. The rest of UI scaling is just disabled in this case and but either DPI Unaware (0) or System DPI Aware (1) will do the scaling. Qt <a href=\"http://doc.qt.io/qt-5/highdpi.html\" rel=\"nofollow noreferrer\">High DPI Displays</a> article describes these modes but apparently not sufficiently clear so I am telling you from my own experience.</p>\n\n<p>You can also not use either <code>qt.conf</code> at all or not use <code>dpiawareness</code> attribute and that will also <em>not</em> scale the GUI.</p>\n\n<p>Talking about <code>QApplication</code> constructor, it does watch the app DPI settings. The common pattern for the Qt app starter it:</p>\n\n<pre><code>#include \"mywidget.h\"\n#include &lt;QApplication&gt;\n\nint main(int argc, char *argv[])\n{\n    // it is usually on the stack\n    QApplication a(argc, argv);\n    MyWidget w;\n    w.show();\n\n    return a.exec();\n}\n</code></pre>\n\n<p>.. so you don't have to do <code>new QApplication( argc, argv )</code> or to allocate application object on the heap at all.</p>\n"}], "owner": {"reputation": 1054, "user_id": 134919, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e04259fbe8eb0d81382738df916c360?s=128&d=identicon&r=PG", "display_name": "Roderick", "link": "https://stackoverflow.com/users/134919/roderick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481155100, "creation_date": 1481121020, "question_id": 41020054, "link": "https://stackoverflow.com/questions/41020054/creating-the-qapplication-resizes-the-parent-non-qt-window-when-high-dpi-on-a", "title": "Creating the QApplication resizes the parent (non-Qt window) when high-dpi on a 4k monitor", "body": "<p>Using Qt5.6.1, I am using QtWinMigrate to house a Qt widget in a parent window. When the parent app is scaled for a high-dpi monitor, the following line:</p>\n\n<pre><code>pApp = new QApplication( argc, argv );\n</code></pre>\n\n<p>kills the scaling, resizing the parent window so that 150% or 200% scaling apparently jumps down to 100%.\nThis is before I've even created my Qt window - just the constructor of QApplication does this.\nI've tried various tricks. A qt.conf file like this:</p>\n\n<pre><code>[Platforms]\nWindowsArguments = dpiawareness=0,1,2\n</code></pre>\n\n<p>or before creating the QApplication:</p>\n\n<pre><code>QGuiApplication::setAttribute(Qt::AA_EnableHighDpiScaling);\nQApplication::setDesktopSettingsAware(true);\n</code></pre>\n\n<p>None of it seems to have an effect. How can I prevent this resizing?</p>\n"}, {"tags": ["c++", "visual-studio-2015", "precompiled-headers"], "comments": [{"owner": {"reputation": 6364, "user_id": 1610015, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b3f88272379f2ca3fe4816afaabfdb06?s=128&d=identicon&r=PG", "display_name": "user1610015", "link": "https://stackoverflow.com/users/1610015/user1610015"}, "edited": false, "score": 1, "creation_date": 1481122072, "post_id": 41020014, "comment_id": 69247948, "body": "That&#39;s just how precompiled headers work. If you create a new project (other than the &quot;Empty Project&quot; type), two of the files created are stdafx.h (the precompiled header) and stdafx.cpp (the one file set to /Yc). Why do you need different behavior?"}, {"owner": {"reputation": 12348, "user_id": 13500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dbd6e171ab0b4822895fee65d9a63571?s=128&d=identicon&r=PG", "display_name": "Colen", "link": "https://stackoverflow.com/users/13500/colen"}, "reply_to_user": {"reputation": 6364, "user_id": 1610015, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b3f88272379f2ca3fe4816afaabfdb06?s=128&d=identicon&r=PG", "display_name": "user1610015", "link": "https://stackoverflow.com/users/1610015/user1610015"}, "edited": false, "score": 0, "creation_date": 1481206919, "post_id": 41020014, "comment_id": 69290719, "body": "Because I don&#39;t want &quot;stdafx&quot; files cluttering up my project, and because it seems really cludgy to do it this way."}], "owner": {"reputation": 12348, "user_id": 13500, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dbd6e171ab0b4822895fee65d9a63571?s=128&d=identicon&r=PG", "display_name": "Colen", "link": "https://stackoverflow.com/users/13500/colen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1481120916, "creation_date": 1481120916, "question_id": 41020014, "link": "https://stackoverflow.com/questions/41020014/any-way-to-automatically-handle-precompiled-headers-in-visual-studio-2015", "title": "Any way to automatically handle precompiled headers in visual studio 2015", "body": "<p>I have a solution in Visual Studio 2015 that includes multiple related C++ projects, static libraries that are built then linked into a single executable. Here's a simplified diagram of the solution:</p>\n\n<p><code>+ Solution\n   + Project 1 (static library)\n     - Header1.h (included by all other files in Project 1)\n     - File1.cpp\n     - File2.cpp\n     - File3.cpp\n   + Project 2 (static library)\n     - Header2.h (included by all other files in Project 2)\n     - File4.cpp\n     - File5.cpp\n     - File6.cpp\n   + Project 3 (executable)\n     - (contents not relevant to this example)\n</code></p>\n\n<p>I want to make the compiler use precompiled headers, so that if either <code>Header1.h</code> or <code>Header2.h</code> (or any of their dependencies) changes, those changes only need to be compiled once, not three times (once for each .cpp file in the project).</p>\n\n<p>At first I tried setting each project up to compile all .cpp files with /Yc to create the precompiled headers (which I assumed would only actually create them once). This works well in debug mode, but bafflingly, gives warning messages in release mode. (I can understand it not being allowed, but why would it work in debug mode but not in release mode?)</p>\n\n<p>So far, the easiest way I've found to get this working is to set each project to compile .cpp files with /Yu, which makes each file <em>use</em> precompiled headers, and then override the settings for one file in each project to compile with /Yc, to <em>create</em> the precompiled headers. Visual Studio seems to realize what I'm doing and compiles the file with /Yc first, then the others.</p>\n\n<p>Shouldn't there be an easier way to do this? Can't Visual Studio figure out automatically \"If multiple files are set to use the same precompiled header, pick one file to create it\", or \"If multiple files are set to create the same precompiled header, only one creates it\" like it seems to do in debug mode automatically?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["c++", "c++11", "template-meta-programming", "enable-if"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1481121054, "post_id": 41019992, "comment_id": 69247206, "body": "Look at the two overloads for <code>RankMat</code>.  What part of the overloads differ?  Can that part be the only part of the function that differs to be a valid overload?"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 2, "creation_date": 1481121939, "post_id": 41019992, "comment_id": 69247857, "body": "Haven&#39;t you forget <code>typename std::enable_if&lt;*,*&gt;::type</code>?"}, {"owner": {"reputation": 471, "user_id": 1255733, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x7aYT.jpg?s=128&g=1", "display_name": "Mathieu Dutour Sikiric", "link": "https://stackoverflow.com/users/1255733/mathieu-dutour-sikiric"}, "edited": false, "score": 0, "creation_date": 1481122702, "post_id": 41019992, "comment_id": 69248360, "body": "Yes, I found out after writing my message, sorry about that. Both messages from clang++ and g++ were unhelpful."}], "answers": [{"comments": [{"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1481125395, "post_id": 41020877, "comment_id": 69250299, "body": "actually this is not the only context allowed to generate soft error in sfinae... see <a href=\"http://melpon.org/wandbox/permlink/7MK1lLnULUVp04JY\" rel=\"nofollow noreferrer\">this</a> and <a href=\"http://melpon.org/wandbox/permlink/SlFEgbxo6ZzxDATO\" rel=\"nofollow noreferrer\">this</a>. The one you proposed is actually available since c++11 before function template parameters weren&#39;t allowed to be defaulted..."}, {"owner": {"reputation": 1617, "user_id": 5502860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80cca7f2c363c796f87cfb054b99327?s=128&d=identicon&r=PG&f=1", "display_name": "stas.yaranov", "link": "https://stackoverflow.com/users/5502860/stas-yaranov"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1481129927, "post_id": 41020877, "comment_id": 69253402, "body": "Right. Quick answer is a bad idea. I gave wrong information. This is a lesson for me."}], "tags": [], "owner": {"reputation": 1617, "user_id": 5502860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80cca7f2c363c796f87cfb054b99327?s=128&d=identicon&r=PG&f=1", "display_name": "stas.yaranov", "link": "https://stackoverflow.com/users/5502860/stas-yaranov"}, "is_accepted": false, "score": -1, "last_activity_date": 1481123206, "creation_date": 1481123206, "answer_id": 41020877, "question_id": 41019992, "link": "https://stackoverflow.com/questions/41019992/how-is-enable-if-used-for-removing-code/41020877#41020877", "title": "How is enable_if used for removing code", "body": "<p>You've just placed it to the wrong position.\nTry this:</p>\n\n<pre><code>template&lt;typename T&gt;\nint RankMat(T const&amp; Input, typename std::enable_if&lt;is_ring_field&lt;T&gt;::value,T&gt;::type* = 0)\n{\n      return 10;\n}\n\ntemplate&lt;typename T&gt;\nint RankMat(T const&amp; Input, typename std::enable_if&lt;(not is_ring_field&lt;T&gt;::value),T&gt;::type* = 0)\n{\n      return 20;\n}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>template&lt;typename T, typename TT = is_ring_field&lt;T&gt;&gt;\nint RankMat(T const&amp; Input)\n{\n      return TT::value ? 10 : 20;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "is_accepted": false, "score": 2, "last_activity_date": 1481125712, "creation_date": 1481125712, "answer_id": 41021721, "question_id": 41019992, "link": "https://stackoverflow.com/questions/41019992/how-is-enable-if-used-for-removing-code/41021721#41021721", "title": "How is enable_if used for removing code", "body": "<p><code>std::enable_if&lt;&gt;</code> is a valid type; you need to use its <code>type</code> member for the SFINAE:</p>\n\n<pre><code>template&lt;typename T&gt;\ntypename std::enable_if&lt;is_ring_field&lt;T&gt;::value,int&gt;::type RankMat(T const&amp; Input)\n{\n  return 10;\n}\n\ntemplate&lt;typename T&gt;\ntypename std::enable_if&lt;(not is_ring_field&lt;T&gt;::value),int&gt;::type RankMat(T const&amp; Input)\n{\n  return 20;\n}\n</code></pre>\n"}], "owner": {"reputation": 471, "user_id": 1255733, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/x7aYT.jpg?s=128&g=1", "display_name": "Mathieu Dutour Sikiric", "link": "https://stackoverflow.com/users/1255733/mathieu-dutour-sikiric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1481125712, "creation_date": 1481120870, "question_id": 41019992, "link": "https://stackoverflow.com/questions/41019992/how-is-enable-if-used-for-removing-code", "title": "How is enable_if used for removing code", "body": "<p>I am using enable_if statements for removing possible methods under consideration.</p>\n\n<pre><code>#include \"gmpxx.h\"\n#include &lt;iostream&gt;\n\ntemplate &lt;typename T&gt;\nstruct is_ring_field {\n};\n\ntemplate &lt;&gt;\nstruct is_ring_field&lt;int&gt; {\n  static const bool value = false;\n};\n\ntemplate &lt;&gt;\nstruct is_ring_field&lt;mpq_class&gt; {\n  static const bool value = true;\n};\n\ntemplate&lt;typename T&gt;\nstd::enable_if&lt;is_ring_field&lt;T&gt;::value,int&gt; RankMat(T const&amp; Input)\n{\n  return 10;\n}\n\ntemplate&lt;typename T&gt;\nstd::enable_if&lt;(not is_ring_field&lt;T&gt;::value),int&gt; RankMat(T const&amp; Input)\n{\n  return 20;\n}\n\nint main()\n{\n  int M1=10;\n  mpq_class M2=3;\n  std::cerr &lt;&lt; \"FICT rank(M1)=\" &lt;&lt; RankMat(M1) &lt;&lt; \"\\n\";\n  std::cerr &lt;&lt; \"FICT rank(M2)=\" &lt;&lt; RankMat(M2) &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>The final objective is to have methods that varies depending on the algebraic data type on input. For other traits it worked for me, but not this one. In this case the compiler strangely says that the call is ambiguous, in other words that <strong>std::enable_if</strong> has failed.</p>\n"}, {"tags": ["c++", "linux", "memory-leaks", "lighttpd", "cppcms"], "comments": [{"owner": {"reputation": 139, "user_id": 4854112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6956e6c74db29143a2b15c373f737e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kovachev", "link": "https://stackoverflow.com/users/4854112/daniel-kovachev"}, "edited": false, "score": 0, "creation_date": 1481122357, "post_id": 41019790, "comment_id": 69248149, "body": "can you show us your code"}, {"owner": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "reply_to_user": {"reputation": 139, "user_id": 4854112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f6956e6c74db29143a2b15c373f737e?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Kovachev", "link": "https://stackoverflow.com/users/4854112/daniel-kovachev"}, "edited": false, "score": 0, "creation_date": 1481124600, "post_id": 41019790, "comment_id": 69249701, "body": "It&#39;s a pretty large project, and I don&#39;t think it&#39;s relevant to put a uncompilable part of it. I can explain it, My main instantiate a manager, the manager have the cppcms::application as a member and a runServer mthod calling cppcms::application::run. I use aplication_pool to mount a class which map cppcms urls to each services. The code works in most case, it only fails sometimes when overloaded."}, {"owner": {"reputation": 626, "user_id": 4023997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be080dbedcdbc786dd69410e8e254960?s=128&d=identicon&r=PG&f=1", "display_name": "ZN13", "link": "https://stackoverflow.com/users/4023997/zn13"}, "edited": false, "score": 0, "creation_date": 1502619860, "post_id": 41019790, "comment_id": 78276507, "body": "If it is indeed cppcms you&#39;re unfortunately going to have to try and isolate the problem in a small example so we can look at it, current information is not enough and I have not encountered such a problem myself (but I&#39;ll be sure to update if I ever do)."}], "answers": [{"comments": [{"owner": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "edited": false, "score": 0, "creation_date": 1481206411, "post_id": 41041115, "comment_id": 69290338, "body": "I&#39;m not in 1.4.43 so my problem is elsewhere, but I really think your answer will help someone. Thanks for sharing."}, {"owner": {"reputation": 1381, "user_id": 1338888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b913e2440318c085ed08446891c31ca3?s=128&d=identicon&r=PG", "display_name": "gstrauss", "link": "https://stackoverflow.com/users/1338888/gstrauss"}, "reply_to_user": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "edited": false, "score": 0, "creation_date": 1482431349, "post_id": 41041115, "comment_id": 69781525, "body": "What version of lighttpd are you running?  Some historical resource issues with mod_fastcgi were addressed in lighttpd 1.4.40 and later."}], "tags": [], "owner": {"reputation": 1381, "user_id": 1338888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b913e2440318c085ed08446891c31ca3?s=128&d=identicon&r=PG", "display_name": "gstrauss", "link": "https://stackoverflow.com/users/1338888/gstrauss"}, "is_accepted": false, "score": 1, "last_activity_date": 1481205062, "creation_date": 1481205062, "answer_id": 41041115, "question_id": 41019790, "link": "https://stackoverflow.com/questions/41019790/unpredictable-file-descriptor-leak/41041115#41041115", "title": "Unpredictable File Descriptor leak", "body": "<p>Sorry.  There is a regression in lighttpd 1.4.43 with mod_cgi and CGI <strong>POST</strong> requests.  Description of problem and patch is available in <a href=\"https://redmine.lighttpd.net/issues/2771\" rel=\"nofollow noreferrer\">https://redmine.lighttpd.net/issues/2771</a></p>\n"}], "owner": {"reputation": 1356, "user_id": 1643114, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bbb8f29233139e416dbc06fc17438c29?s=128&d=identicon&r=PG", "display_name": "MokaT", "link": "https://stackoverflow.com/users/1643114/mokat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1481205062, "creation_date": 1481120369, "question_id": 41019790, "link": "https://stackoverflow.com/questions/41019790/unpredictable-file-descriptor-leak", "title": "Unpredictable File Descriptor leak", "body": "<p>Okay, so I'm investigating which seems to be an FD leak.</p>\n\n<p>It's a linux CppCms application written in C++11, I test it with a tools that send approximately 250 requests/seconds.</p>\n\n<p>The tests is during 30 minutes, and sometimes I get the lighttpd <code>(server.c.1446) [note] sockets disabled, out-of-fds</code> error.</p>\n\n<p>I've started investigating FDs using <code>watch \"sudo ls /proc/&lt;lighttpd&gt;/fd/ | wc -l; echo /;sudo ls /proc/&lt;myApp&gt;/fd/ | wc -l;echo /; sysctl fs.file-nr\"\n</code></p>\n\n<p>Results seems to say that everything is fine until it's not. FDs are stable (50 - 100) and randomly get up to the lighttpd max-fd number.\nIf my application was involved, I think it will happened earlier (not after 200000 successful requests)</p>\n\n<p>I've used valgrind to try to see anything and I've found this :</p>\n\n<pre><code>==5647== Open AF_UNIX socket 6: &lt;unknown&gt;\n==5647==    at 0x8E379EA: socketpair (syscall-template.S:84)\n==5647==    by 0x97F8001: booster::aio::socket_pair(booster::aio::stream_socket&amp;, booster::aio::stream_socket&amp;) (stream_socket.cpp:570)\n==5647==    by 0x7312766: cppcms::service::setup_exit_handling() (service.cpp:378)\n==5647==    by 0x73135C7: cppcms::service::run() (service.cpp:572)\n==5647==    by 0x43F56E: MainMngr::runServer() (mainmngr.cpp:46)\n==5647==    by 0x443A95: main (main.cpp:22)\n==5647== \n==5647== Open AF_UNIX socket 5: &lt;unknown&gt;\n==5647==    at 0x8E379EA: socketpair (syscall-template.S:84)\n==5647==    by 0x97F8001: booster::aio::socket_pair(booster::aio::stream_socket&amp;, booster::aio::stream_socket&amp;) (stream_socket.cpp:570)\n==5647==    by 0x7312766: cppcms::service::setup_exit_handling() (service.cpp:378)\n==5647==    by 0x73135C7: cppcms::service::run() (service.cpp:572)\n==5647==    by 0x43F56E: MainMngr::runServer() (mainmngr.cpp:46)\n==5647==    by 0x443A95: main (main.cpp:22)\n</code></pre>\n\n<p>I'm not able to say if it's a real file descriptor leak, but it seems so.</p>\n\n<p>Does my code have a problem ?\nDoes CppCms have a problem ?\nHave you ever encounter such problem ?\nHave you any tips to detect who is incrementing the file descriptor handle from 100 to 8000 ?</p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 1736, "user_id": 7216259, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NyCby.jpg?s=128&g=1", "display_name": "Maro\u0161 Be\u0165ko", "link": "https://stackoverflow.com/users/7216259/maro%c5%a1-be%c5%a5ko"}, "edited": false, "score": 0, "creation_date": 1481120456, "post_id": 41019742, "comment_id": 69246745, "body": "Well for this to work Vector2f must have overloaded &lt;&lt; operator. Also what is the implementation of Vector2f, what exactly does getPosition() do?"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1481120469, "post_id": 41019742, "comment_id": 69246757, "body": "You may know what you mean by &quot;not working&quot;, but nobody else does. Be specific."}, {"owner": {"reputation": 834, "user_id": 7131047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1cf5eb86c98bcf94e80e722fff20e?s=128&d=identicon&r=PG&f=1", "display_name": "Fefux", "link": "https://stackoverflow.com/users/7131047/fefux"}, "edited": false, "score": 0, "creation_date": 1481120489, "post_id": 41019742, "comment_id": 69246771, "body": "<code>std::cout &lt;&lt; _p_pos.x &lt;&lt; &quot;x&quot; &lt;&lt; _p_pos.y  &lt;&lt; std::endl;</code> ?"}, {"owner": {"reputation": 3, "user_id": 7262735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1cdf40a03fc2d4bb9bce2cc6b0928c?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Smal", "link": "https://stackoverflow.com/users/7262735/kacper-smal"}, "edited": false, "score": 0, "creation_date": 1481120712, "post_id": 41019742, "comment_id": 69246956, "body": "// retrieve the absolute position of the entity sf::Vector2f position = entity.getPosition(); // = (15, 55) It&#39;s from sfml tut :P"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7262735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1cdf40a03fc2d4bb9bce2cc6b0928c?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Smal", "link": "https://stackoverflow.com/users/7262735/kacper-smal"}, "edited": false, "score": 0, "creation_date": 1481120819, "post_id": 41019849, "comment_id": 69247026, "body": "Thank you so much!"}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": true, "score": 2, "last_activity_date": 1481120502, "creation_date": 1481120502, "answer_id": 41019849, "question_id": 41019742, "link": "https://stackoverflow.com/questions/41019742/how-to-get-actual-position-of-sprite-and-print-it-in-c-and-sfml/41019849#41019849", "title": "How to get actual position of sprite and print it in c++ and sfml", "body": "<blockquote>\n  <p>...it's not working...</p>\n</blockquote>\n\n<p>does not help us. Please post the full error.</p>\n\n<hr>\n\n<p>Regardless, I'm assuming that <code>operator&lt;&lt;(std::ostream&amp;, const sf::Vector2&amp;)</code> is not defined by default. Therefore, you can print the coordinates of the vector separately:</p>\n\n<pre><code>sf::Vector2f position = entity.getPosition();\nstd::cout &lt;&lt; position.x &lt;&lt; \" \" &lt;&lt; position.y &lt;&lt; \"\\n\";\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7262735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1cdf40a03fc2d4bb9bce2cc6b0928c?s=128&d=identicon&r=PG&f=1", "display_name": "Kacper Smal", "link": "https://stackoverflow.com/users/7262735/kacper-smal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1920, "favorite_count": 0, "accepted_answer_id": 41019849, "answer_count": 1, "score": -2, "last_activity_date": 1481120502, "creation_date": 1481120233, "last_edit_date": 1481120342, "question_id": 41019742, "link": "https://stackoverflow.com/questions/41019742/how-to-get-actual-position-of-sprite-and-print-it-in-c-and-sfml", "title": "How to get actual position of sprite and print it in c++ and sfml", "body": "<p>Im trying to make simple 2d game. I need to print this in console. I tried to do this but it's not working.</p>\n\n<pre><code>sf::Vector2f position = entity.getPosition();\nstd::cout &lt;&lt; position  &lt;&lt; endl;\n</code></pre>\n\n<p>I also tried </p>\n\n<pre><code>p_pos = entity.getPosition();\n\nstd::cout &lt;&lt; _p_pos  &lt;&lt; endl;\n</code></pre>\n\n<p>and it's still not working.</p>\n"}]