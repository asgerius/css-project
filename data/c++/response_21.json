[{"tags": ["c++", "boost", "compilation"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433376377, "post_id": 30632691, "comment_id": 49331276, "body": "What are we missing? The self-contained reproducer. <a href=\"http://coliru.stacked-crooked.com/a/615b4209bc588c40\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/615b4209bc588c40</a> - Probably also compiler version/platform/architecture/build options"}, {"owner": {"reputation": 25, "user_id": 160335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd104e45da614ee083431b8d1e6ae6fd?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/160335/diego"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433425891, "post_id": 30632691, "comment_id": 49355188, "body": "Not sure a self-contained reproducer is going to capture this one, the linked dependencies are too deep."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433426003, "post_id": 30632691, "comment_id": 49355267, "body": "More important: not self contained examples are not capturing anything. You have a problem. You want it sorted. Therefore: <b><i>isolate it</i></b>. This is not optional. You can&#39;t solve an unknown problem (except by accident)."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433426071, "post_id": 30632691, "comment_id": 49355306, "body": "See e.g. <a href=\"http://kera.name/articles/2013/10/nobody-writes-testcases-any-more/\" rel=\"nofollow noreferrer\">kera.name/articles/2013/10/nobody-writes-testcases-any-more</a>; Even if you fail to reproduce it with <i>n</i> subsets of the problem, this gives you information about where the problem -does- lie"}, {"owner": {"reputation": 25, "user_id": 160335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd104e45da614ee083431b8d1e6ae6fd?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/160335/diego"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1433441510, "post_id": 30632691, "comment_id": 49365629, "body": "Yep, I agree completely! I created a new barebones project that simply instantiates the main object from this library, and it built just fine, which led me to compare compilation options. Sure enough adding the compiler directives to the second project caused the same issues, so now I have to work out which one is causing the problem and if I can get away without using it in the first place."}], "owner": {"reputation": 25, "user_id": 160335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd104e45da614ee083431b8d1e6ae6fd?s=128&d=identicon&r=PG", "display_name": "Diego", "link": "https://stackoverflow.com/users/160335/diego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433375030, "creation_date": 1433375030, "question_id": 30632691, "link": "https://stackoverflow.com/questions/30632691/boost-issues-erfc", "title": "Boost Issues: erfc", "body": "<p>I'm working with a third party library that makes use of boost::math and the special functions portions in particular. The one file uses the following include:</p>\n\n<pre><code>#include &lt;boost/math/special_functions/fpclassify.hpp&gt;\n</code></pre>\n\n<p>Which produces a really strange compilation error:</p>\n\n<blockquote>\n  <p>/usr/include/boost_1_58_0/boost/math/special_functions/detail/igamma_large.hpp:265:14: error: 'erfc' is not a member of 'boost::math'</p>\n</blockquote>\n\n<p>Except it clearly is, as it's defined in boost/math/special_functions/erf.hpp</p>\n\n<p>This is one of many such internal reference errors, and I'm sure they're all related. What am I missing here?</p>\n"}, {"tags": ["c++", "kinect", "kinect-sdk"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 4934975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55a3889d773fc5b3cc30e99aea4ce291?s=128&d=identicon&r=PG&f=1", "display_name": "StillLearning", "link": "https://stackoverflow.com/users/4934975/stilllearning"}, "is_accepted": true, "score": 0, "last_activity_date": 1448847024, "creation_date": 1448847024, "answer_id": 33990226, "question_id": 30632672, "link": "https://stackoverflow.com/questions/30632672/activate-tracking-using-kinect-v2-in-c/33990226#33990226", "title": "Activate tracking using Kinect V2 in C++", "body": "<p>After I fixed a unnoticed error, I discovered that Kinect automatically does body tracking. To use it, just create the body stream and if the Kinect tracks a body, it would put it into the IBody* array that you created.</p>\n"}], "owner": {"reputation": 75, "user_id": 4934975, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/55a3889d773fc5b3cc30e99aea4ce291?s=128&d=identicon&r=PG&f=1", "display_name": "StillLearning", "link": "https://stackoverflow.com/users/4934975/stilllearning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 1, "accepted_answer_id": 33990226, "answer_count": 1, "score": 0, "last_activity_date": 1448847024, "creation_date": 1433374860, "question_id": 30632672, "link": "https://stackoverflow.com/questions/30632672/activate-tracking-using-kinect-v2-in-c", "title": "Activate tracking using Kinect V2 in C++", "body": "<p>I recently started coding a Kinect in C++ using VS2013 and Kinect SDK 2.0. When I tried to get hand gestures after seeing code samples, I was unable to 'track' a body even after opening all necessary sources/streams (the Kinect, BodyFrameReader, etc.). So, my question is, does the Kinect automatically provide tracking? If not, then how do you enable/activate tracking of a particular object?</p>\n"}, {"tags": ["c++", "c++11", "rvalue-reference"], "comments": [{"owner": {"reputation": 97503, "user_id": 82320, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0e41f852c5c471370a0d08ba8dc1c032?s=128&d=identicon&r=PG", "display_name": "Billy ONeal", "link": "https://stackoverflow.com/users/82320/billy-oneal"}, "edited": false, "score": 4, "creation_date": 1433375361, "post_id": 30632669, "comment_id": 49331045, "body": "I would just default to C++03 <code>const&amp;</code> unless the profiler shows some big advantage for adding an rref overload for a given use case."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 1, "creation_date": 1433376628, "post_id": 30632669, "comment_id": 49331333, "body": "This is the perfect forwarding problem. The canonical solution is to use rvalue references, directly(universal reference and srtd::forward) or indirectly(pass by value). What are the drawbacks you are talking about? Of course, using <code>int</code> to illustrate is a bad idea. (NB : Your template wrapper solution is incorrect since you are missing std::forward.)"}, {"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "reply_to_user": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1433377063, "post_id": 30632669, "comment_id": 49331424, "body": "@Pradhan I specifically didn&#39;t want to use a <code>map&lt;string, vector&lt;boost::variant&lt;X,Y,Z&gt;&gt;</code> in the example. the drawbacks are in the comments. so far I have a standard variadic template function that I paste in this case that slowly keeps littering my source code. copying large stuff is not the way I want to go and creating a lot of overloads as well."}, {"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1433377202, "post_id": 30632669, "comment_id": 49331465, "body": "@Alex Could you add comments for the pass-by-value and the &quot;universal reference&quot; template solutions as well? This information would help answer your specific question."}, {"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "reply_to_user": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1433377294, "post_id": 30632669, "comment_id": 49331498, "body": "@Pradhan they are already in the function definition?"}, {"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "reply_to_user": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1433377485, "post_id": 30632669, "comment_id": 49331556, "body": "@Pradhan and hte perfect forwarding example doesn&#39;t compile, because the wrapper turns rvalue references into lvalues to pass."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1433378850, "post_id": 30632669, "comment_id": 49331903, "body": "&quot;<code>bar(i,2,3); &#47;&#47; doesn&#39;t compile</code>&quot; how does that not compile?  Please post an actual problem, with actual attempts to fix it, and point out what actually went wrong.  Simplify it as much as you can, but make sure there are actual errors there.  I suspect your error is the fact that <code>bar</code> takes <code>const int&amp;</code> and not <code>int&amp;</code> or somesuch?  An example of details on what you are doing to the referenced data inside may also be useful: you are giving non-working half-solutions to a half-problem: a cursory description of a real problem can let us avoid your half-problem entirely."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1433413508, "post_id": 30632669, "comment_id": 49346727, "body": "@Alex you didn&#39;t mention the most obvious solution <code>void qux(int const &amp;x, int const &amp;y, int const &amp;z) { }</code>.  So I guess you have some idea that you might want the parameters to be mutable, but that doesn&#39;t square with <code>bar(i,2,3)</code> because <code>2</code> is not mutable.   So you need to nail down a description of what the input conditions and behaviour for this function really will be."}], "answers": [{"comments": [{"owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "edited": false, "score": 0, "creation_date": 1433377920, "post_id": 30633055, "comment_id": 49331658, "body": "@Alex Sorry, could not figure out what was missing from the comments. Could you comment on this answer and help me understand your question?"}], "tags": [], "owner": {"reputation": 15025, "user_id": 862351, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7ac8ffed3327e80c6b77651ba30b83e?s=128&d=identicon&r=PG", "display_name": "Pradhan", "link": "https://stackoverflow.com/users/862351/pradhan"}, "is_accepted": false, "score": 1, "last_activity_date": 1433377888, "creation_date": 1433377888, "answer_id": 30633055, "question_id": 30632669, "link": "https://stackoverflow.com/questions/30632669/passing-multiple-rvalues-and-lvalues-to-a-function-without-creating-overloads/30633055#30633055", "title": "passing multiple rvalues and lvalues to a function without creating overloads", "body": "<p>This is the perfect forwarding problem. The way you avoid the 8 overloads of <code>baz</code> is to use the so-called universal references:</p>\n\n<pre><code>template &lt;typename T, typename U, typename V&gt;\nvoid baz(T &amp;&amp;t, U &amp;&amp;u, V &amp;&amp;v) { }\n</code></pre>\n\n<p>In the above, <code>t</code>, <code>u</code> and <code>v</code> faithfully replicate the r/l-valueness for the parameters. For example, say your original intended function was this:</p>\n\n<pre><code>void baz(vector&lt;int&gt; &amp;t, vector&lt;int&gt; &amp;u, vector&lt;int&gt; &amp;v) { }\n</code></pre>\n\n<p>and the other 7 overloads. With the templated version, if you call <code>baz(a,b,c)</code> where <code>a</code> and <code>b</code> are rvalues, while <code>c</code> isn't, <code>T</code> and <code>U</code> will be deduced to be <code>vector&lt;int&gt;&amp;&amp;</code> while <code>V</code> will be deduced to be <code>vector&lt;int&gt;&amp;</code>. Thus, you have all the information you need in this implementation.</p>\n"}, {"comments": [{"owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "edited": false, "score": 0, "creation_date": 1433458856, "post_id": 30633338, "comment_id": 49373988, "body": "if you don&#39;t mind add the corner case from the constructor, because I think that is essential."}], "tags": [], "owner": {"reputation": 168, "user_id": 2064089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0519993a57f5f19451440f9949747f0?s=128&d=identicon&r=PG", "display_name": "Christian Blume", "link": "https://stackoverflow.com/users/2064089/christian-blume"}, "is_accepted": true, "score": 1, "last_activity_date": 1433610832, "last_edit_date": 1495540268, "creation_date": 1433380011, "answer_id": 30633338, "question_id": 30632669, "link": "https://stackoverflow.com/questions/30632669/passing-multiple-rvalues-and-lvalues-to-a-function-without-creating-overloads/30633338#30633338", "title": "passing multiple rvalues and lvalues to a function without creating overloads", "body": "<p>This question is actually not trivial but there some guidelines that have evolved over the years and have actually not changed too much with C++11. For the following we will assume that you have a side-effect free, free-standing function (guidelines are slightly different for constructors and certain member functions).</p>\n\n<p>What I would recommend for a free-standing function is:</p>\n\n<ol>\n<li>Pass primitive data types (int, double, bool, etc.) by value</li>\n<li>Pass complex data types by const reference (e.g. const std::vector&amp;) unless you need a copy within the function then pass by value</li>\n<li>If your function is templated use const reference (e.g. const T&amp;) since both lvalue and rvalue will bind to const references</li>\n<li>If your function is templated and you intend to perfect forward then use forwarding references (e.g. T&amp;&amp;, also called universal references)</li>\n</ol>\n\n<p>So for your example using integers I would use the <code>bam</code> function:</p>\n\n<pre><code>void bam(int x, int y, int z) { }\n</code></pre>\n\n<p>There is an interesting talk by Herb Sutter given at the CppCon last year that\namong other stuff covers input arguments to functions:\n<a href=\"https://www.youtube.com/watch?v=xnqTKD8uD64\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=xnqTKD8uD64</a></p>\n\n<p>Another interesting post on stackoverflow related to this question:\n<a href=\"https://stackoverflow.com/questions/15673889/correct-usage-of-rvalue-references-as-parameters\">Correct usage of rvalue references as parameters</a></p>\n\n<p>Update for constructors:</p>\n\n<p>The main difference for constructors to the recommendations above is a stronger emphasis on copying input and making the object owned by the class. The same holds for setters. The main reason is safer resource management (to avoid data races or accessing invalid memory).</p>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1433411647, "creation_date": 1433411647, "answer_id": 30640674, "question_id": 30632669, "link": "https://stackoverflow.com/questions/30632669/passing-multiple-rvalues-and-lvalues-to-a-function-without-creating-overloads/30640674#30640674", "title": "passing multiple rvalues and lvalues to a function without creating overloads", "body": "<pre><code>template&lt;class T&gt;\nstruct lrvalue {\n  T&amp;t;\n  lrvalue(T&amp;in):t(in){}\n  lrvalue(T&amp;&amp;in):t(in){}\n};\n</code></pre>\n\n<p>take <code>lrvalue&lt;int&gt;</code>.  Problem solved?  You can dress them up, maybe inherit from <code>reference_wrapper</code> or somesuch instead of <code>T&amp;t</code>.</p>\n\n<p>You can also cast when calling:</p>\n\n<pre><code>template&lt;class T&gt;\nT&amp; lvalue(T&amp;&amp;t){return t;}\ntemplate&lt;class T&gt;\nT&amp; lvalue(T&amp;t)=delete;//optional\n</code></pre>\n\n<p>now if you want to pass <code>foo{}</code> to <code>foo&amp;</code> you can.  <code>lvalue(foo{})</code>.</p>\n"}], "owner": {"reputation": 20275, "user_id": 887836, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/UmvnY.jpg?s=128&g=1", "display_name": "Alexander Oh", "link": "https://stackoverflow.com/users/887836/alexander-oh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 30633338, "answer_count": 3, "score": 0, "last_activity_date": 1433610832, "creation_date": 1433374845, "last_edit_date": 1433403576, "question_id": 30632669, "link": "https://stackoverflow.com/questions/30632669/passing-multiple-rvalues-and-lvalues-to-a-function-without-creating-overloads", "title": "passing multiple rvalues and lvalues to a function without creating overloads", "body": "<p>Assume you are providing a client library with a function that has multiple reference arguments.</p>\n\n<p>For the sake of simplicity lets assume we have 3 arguments and those are various references to <code>int</code> (so you can assume, that these constants would also be created by <code>initializer_list</code>).</p>\n\n<p>From a call site it should be possible to pass ad hoc created constants (rvalue) to functions (think of testing code in this case) as well as real references to objects being owned by another entity.</p>\n\n<p>So far I've come up with the following solutions:</p>\n\n<pre><code>void bar(int &amp;x, int &amp;y, int &amp;z) { }\n\n// use a template wrapper to turn rvalues into lvalues.\ntemplate &lt;typename T, typename U, typename V&gt;\nvoid foo(T &amp;&amp;t, U &amp;&amp;u, V &amp;&amp;v) { \n    bar(t,u,v);\n}\n\n// create a humongous amount of overloads\nvoid baz(int &amp;&amp;x, int &amp;y, int &amp;z) { }\nvoid baz(int &amp;x, int &amp;&amp;y, int &amp;z) { }\nvoid baz(int &amp;&amp;x, int &amp;&amp;y, int &amp;z) { }\nvoid baz(int &amp;x, int &amp;y, int &amp;&amp;z) { }\nvoid baz(int &amp;&amp;x, int &amp;y, int &amp;&amp;z) { }\nvoid baz(int &amp;x, int &amp;&amp;y, int &amp;&amp;z) { }\nvoid baz(int &amp;&amp;x, int &amp;&amp;y, int &amp;&amp;z) { }\n\n// claim ownership of the objects and create temporaries\nvoid bam(int x, int y, int z) { }\n\nint main() {\n\n    int i = 1;\n    foo(i,2,3);\n    foo(2,i,3);\n    foo(2,3,i);\n\n    bar(i,2,3); // doesn't compile\n    bar(2,i,3);\n    bar(2,3,i);\n\n    baz(i,2,3); // requires 8 overloads\n    baz(2,i,3); \n    baz(2,3,i);\n\n    return 0;\n}   \n</code></pre>\n\n<p>I'm not completely satisfied with all of the solutions as every one of them has drawbacks. Is there a cleaner alternative to this problem?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433375306, "post_id": 30632623, "comment_id": 49331032, "body": "How are you defining <code>operator ==</code>?"}, {"owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "reply_to_user": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433377997, "post_id": 30632623, "comment_id": 49331675, "body": "@Alejandro Oh, I completely forgot about that xD.  It just checks if the two sets are equivalent.  Do you want me to add the definition ?"}, {"owner": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433386558, "post_id": 30632623, "comment_id": 49333638, "body": "Although unrelated to your question, you may want to move the <code>T* temp = new T[size + 1];</code> in your <code>operator +=</code> until after the first <code>for</code> loop. Why bother allocating an array if you&#39;re just going to have to deallocate soon after? Or, you could use <code>std::vector</code>  , <code>std::move</code> your old <code>vector</code> into it, and reap the benefits of a <code>vector</code> ! :)"}, {"owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "reply_to_user": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433398578, "post_id": 30632623, "comment_id": 49337424, "body": "@Alejandro Makes sense, thank you for the advice.  However, as far as I love vectors I&#39;m not allowed to use them since this is homework and we have restrictions."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "edited": false, "score": 0, "creation_date": 1433378353, "post_id": 30632646, "comment_id": 49331755, "body": "Now I&#39;m getting the error: Error\t1\terror C2244: &#39;CSet&lt;T&gt;::operator &gt;&#39; : unable to match function definition to an existing declaration.  What does that mean?"}, {"owner": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433378508, "post_id": 30632646, "comment_id": 49331806, "body": "Did you add the new <code>const</code>  specifier in the header file?"}, {"owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "edited": false, "score": 0, "creation_date": 1433379084, "post_id": 30632646, "comment_id": 49331971, "body": "I did.  And also, do I still need to add the const specifier even if I want the left operand to be modifiable?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "edited": false, "score": 0, "creation_date": 1433379221, "post_id": 30632646, "comment_id": 49332009, "body": "@JamesSonnino: You need the <code>const</code> on both the declaration and the definition."}, {"owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "edited": false, "score": 0, "creation_date": 1433380031, "post_id": 30632646, "comment_id": 49332176, "body": "@JerryCoffin I did, and I edited the question.  Now I&#39;m getting an error which says that the operator += is illegal for the class and &quot;binary &#39;+=&#39; : no operator found which takes a right-hand operand of type &#39;int&#39; (or there is no acceptable conversion)&quot;.  Now I&#39;m not using const for this operator, so what is the problem here?"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1433381448, "post_id": 30632646, "comment_id": 49332526, "body": "The problem is that you&#39;re trying to pass literals to a function that takes a reference to a non-const. You can make it a reference to const, pass by value or pass an rvalue reference."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1433374908, "last_edit_date": 1433374908, "creation_date": 1433374681, "answer_id": 30632646, "question_id": 30632623, "link": "https://stackoverflow.com/questions/30632623/no-operator-found-which-takes-a-left-operand-using-a-class-template/30632646#30632646", "title": "no operator found which takes a left operand... (using a class template)", "body": "<p>You most likely want/need to change it to:</p>\n\n<pre><code>bool CSet&lt;T&gt;::operator&gt;(const CSet&lt;T&gt;&amp; mySet) const {\n    // ...                                    ^^^^^ Note addition here.\n</code></pre>\n\n<p>When you invoke this member function like:</p>\n\n<pre><code>if (x &gt; y) ...\n</code></pre>\n\n<p>It's equivalent to: <code>if (x.operator&gt;(y))</code>. The <code>const</code> on the parameter type means the right operand can be <code>const</code>. To allow the left operand to be <code>const</code> as well, you add <code>const</code> where it's shown above.</p>\n"}], "owner": {"reputation": 3, "user_id": 4901627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79b503739bf50efc911036f28b35460e?s=128&d=identicon&r=PG&f=1", "display_name": "James Sonnino", "link": "https://stackoverflow.com/users/4901627/james-sonnino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 30632646, "answer_count": 1, "score": 0, "last_activity_date": 1433379835, "creation_date": 1433374503, "last_edit_date": 1433379835, "question_id": 30632623, "link": "https://stackoverflow.com/questions/30632623/no-operator-found-which-takes-a-left-operand-using-a-class-template", "title": "no operator found which takes a left operand... (using a class template)", "body": "<p>I'm overloading operators of a class template and I get the error: <strong>Error  1   error C2678: binary '>' : no operator found which takes a left-hand operand of type 'const CSet &lt; int >'</strong></p>\n\n<p>CSet.h:</p>\n\n<pre><code>bool CSet&lt;T&gt;::operator&gt;(const CSet&lt;T&gt;&amp; mySet) const{\n\n    bool flag = false;\n\n    for (int i = 0; i &lt; size; i++){\n        for (int j = 0; j &lt; mySet.size; j++){\n            if (arr[i] == mySet[j]){\n                flag = true;\n                break;\n            }\n            if (j == mySet.size - 1 &amp;&amp; flag == false)\n                return false;\n        }\n    }\n    return true;\n}\n\nvoid CSet&lt;T&gt;::operator+=(T&amp; myVal){\n    T* temp = new T[size + 1];\n    for (int i = 0; i &lt; size; i++){\n        if (arr[i] == myVal){\n            delete[] temp;\n            return;\n        }\n    }\n    for (int i = 0; i &lt; size; i++)\n        temp[i] = arr[i];\n    delete[] arr;\n    arr = temp;\n    arr[size] = myVal;\n}\n</code></pre>\n\n<p>mian.cpp:</p>\n\n<pre><code>#include \"Set.h\"\n\n\nint main(){\n    CSet&lt;int&gt; mySet, yourSet;\n    mySet += 3; mySet += 4; mySet += 5;\n    yourSet += 5; yourSet += 4; yourSet += 3;\n    bool boom;\n    boom = mySet == yourSet;\n} \n</code></pre>\n\n<p>Now, from the error I understand that the compiler cannot convert T into an int. \nMy question is: why not? Isn't this the whole purpose of templates?<br>\nThere must be something that's I'm missing because this doesn't make sense (at least to me).</p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 2752034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc63e043538ce3c5ca52e0db6fc4308?s=128&d=identicon&r=PG&f=1", "display_name": "Rezabrya", "link": "https://stackoverflow.com/users/2752034/rezabrya"}, "edited": false, "score": 0, "creation_date": 1433374902, "post_id": 30632569, "comment_id": 49330906, "body": "That did it.  I knew it was going to be something small and silly.  Thanks!"}], "tags": [], "owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "is_accepted": false, "score": 1, "last_activity_date": 1433374079, "creation_date": 1433374079, "answer_id": 30632569, "question_id": 30632547, "link": "https://stackoverflow.com/questions/30632547/primary-expression-c-error/30632569#30632569", "title": "Primary expression C++ error", "body": "<p>You need to add a <em>statement</em> after a label. The null statement <code>;</code> works fine:</p>\n\n<pre><code>break1: ;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 2752034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bc63e043538ce3c5ca52e0db6fc4308?s=128&d=identicon&r=PG&f=1", "display_name": "Rezabrya", "link": "https://stackoverflow.com/users/2752034/rezabrya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433374079, "creation_date": 1433373957, "question_id": 30632547, "link": "https://stackoverflow.com/questions/30632547/primary-expression-c-error", "title": "Primary expression C++ error", "body": "<p>I have to write some programs for a class final and I'm running into an error that I can't figure out.  I have checked the syntax in this program many times and it isn't very long so I don't know why I can't find it.  When I try and compile, I get an error that says \"expected primary-expression before '}' token\".  It says it's in line 23.  Can anyone shed some light on what might be going on?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int sumOfPrimes = 2;\n\n    for (int x=3; x&lt;2000000; x++)\n    {\n        for (int y=2; y&lt;x; y++)\n        {\n            if (x % y == 0)\n            {\n                goto break1;\n            }\n        }\n        sumOfPrimes += x;\n        break1:\n    }\n\n    cout &lt;&lt; sumOfPrimes &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["java", "c++", "pointers", "java-native-interface"], "comments": [{"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 4, "creation_date": 1433374837, "post_id": 30632448, "comment_id": 49330886, "body": "Sounds like memory corruption (e.g. from a buffer overflow in your code somewhere)."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1433385915, "post_id": 30632448, "comment_id": 49333491, "body": "C and C++ are different languages.  Your code a pretty C-like, but use of references makes it C++."}, {"owner": {"reputation": 586, "user_id": 1040614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KEB9E.jpg?s=128&g=1", "display_name": "longofest", "link": "https://stackoverflow.com/users/1040614/longofest"}, "edited": false, "score": 0, "creation_date": 1433475326, "post_id": 30632448, "comment_id": 49378381, "body": "Thanks John.  It&#39;s C++ but in some legacy stuff that is from a C world, so it does take on C characteristics.  I will clarify."}, {"owner": {"reputation": 9289, "user_id": 17175, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/9a89d4cf026c5eb3af2b3fdea1925723?s=128&d=identicon&r=PG", "display_name": "technomage", "link": "https://stackoverflow.com/users/17175/technomage"}, "edited": false, "score": 0, "creation_date": 1433510922, "post_id": 30632448, "comment_id": 49397584, "body": "Once you&#39;ve got your memory corruption fixed up, you should ensure that you properly manage your <a href=\"http://stackoverflow.com/questions/9642506/jni-attach-detach-thread-memory-management/9647567#9647567\">thread attach/detach</a>."}, {"owner": {"reputation": 586, "user_id": 1040614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KEB9E.jpg?s=128&g=1", "display_name": "longofest", "link": "https://stackoverflow.com/users/1040614/longofest"}, "reply_to_user": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1433854626, "post_id": 30632448, "comment_id": 49521522, "body": "@immibis it was memory corruption.  Thank you."}], "owner": {"reputation": 586, "user_id": 1040614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KEB9E.jpg?s=128&g=1", "display_name": "longofest", "link": "https://stackoverflow.com/users/1040614/longofest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 99, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433830456, "creation_date": 1433373385, "last_edit_date": 1433475426, "question_id": 30632448, "link": "https://stackoverflow.com/questions/30632448/where-is-my-jnienv-pointer-going", "title": "Where is my JNIEnv pointer going?", "body": "<p>All,</p>\n\n<p>I'm having a hard time with some C++ JNI code.  I have a long-running thread that handles pushing stuff from other parts of our system into the Java component.  </p>\n\n<p>Here's my code... the thread is \"HandleUpdateNotification\", and you can see I call a function to get necessary java references...</p>\n\n<pre><code>static void getJavaStuff(JavaVM*&amp; jvmp, JNIEnv*&amp; env){\n    jint nSize =1;\n    jint nVMs;\n    jint nStatus = JNI_GetCreatedJavaVMs(&amp;jvmp, nSize, &amp;nVms);\n\n    if(nStatus == 0){\n      nStatus = jvmp-&gt;AttachCurrentThread((void**) &amp;env, NULL);\n      if(nStatus != 0){\n          //throw error\n      }\n    }\n}\n\nstatic int HandleUpdateNotification(void *param)\n{\n   JavaVM* jvmp = NULL;\n   JNIEnv *env = NULL;\n   getJavaStuff(jvmp, env);\n\n  while(true){\n      //why would env be null here?\n      if(env == NULL)\n          getJavaStuff(jvmp, env);\n\n\n      //do stuff with env pointer as I get stuff from other parts \n      //of my system, however I never set env\n  }\n  jvmp-&gt;DetachCurrentThread();\n  return 0;\n}\n</code></pre>\n\n<p>As you can see, I have a check in my loop to see if env has been set to NULL.  That is because I found after running for several hours, env would all of the sudden get set to NULL, which caused segfaults when I tried using it later in the thread (referencing a null pointer) and would crash the VM.  So, I added the check and would re-aquire everything.  The problem is that hasn't fixed it...  Now, I get a new pointer, but it's bogus... the program still segfaults and when I analyze the core file I see that indeed I cannot access the *env pointer.</p>\n\n<p>Has anyone experienced anything like this and know how to combat it?</p>\n\n<p>Platform is: \njava version \"1.7.0_25\"\nOpenJDK Runtime Environment (IcedTea 2.3.10) (7u25-2.3.10-1ubuntu0.12.04.2)\nOpenJDK Client VM (build 23.7-b01, mixed mode, sharing)</p>\n"}, {"tags": ["c++", "c++14", "unions", "constexpr"], "comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 1, "creation_date": 1433373919, "post_id": 30632442, "comment_id": 49330604, "body": "IIRC, type punning is forbidden (in general) within constant expressions. You could, for example, store all members separately (<code>struct</code> instead of <code>union</code>) and use encapsulation to enforce only one of the members is active."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1433374335, "post_id": 30632442, "comment_id": 49330724, "body": "I guess it depends on exactly what type of type punning you are considering.  I can certainly declare a constructor that initializes <code>i</code> and a different one that initializes <code>f</code>.  Only one member of the union may be &quot;active&quot; at any point, but I&#39;m not attempting to remove this.  I&#39;d be happy telling the compiler which member is active."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 3, "creation_date": 1433375048, "post_id": 30632442, "comment_id": 49330954, "body": "You&#39;re right. This kind of usage of placement-new doesn&#39;t really circumvent the type system. -- It is possible to do this in an external function, e.g. <code>constexpr A make_A(double d, bool isint) { if(isint) return A(d, true_type{}); else return A(d, false_type{}); }</code>. It should be possible to call such a function from within the constructor, if you use non-anonymous unions instead. Something like <code>struct A { union storage { int i; float f; storage(double d, true_type); storage(double d, false_type); } m; A(double d, bool isint) : m(make_storage(d, isint)) {} };</code>"}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1433375323, "post_id": 30632442, "comment_id": 49331037, "body": "I tried something like this (with constructor forwarding it wasn&#39;t necessary to use a named union) and I don&#39;t see a way to convert from a (nominally) runtime bool to the type system.  But maybe I&#39;m missing something."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1433375987, "post_id": 30632442, "comment_id": 49331195, "body": "Note that in your example of how to do this in an external function, you rely on the copy constructor.  The copy constructor will have the same problem (imagine we augment the structure to include which member is initialized).  So, I&#39;m not sure this is doable with your external function example (except if the copy constructors of the underlying classes are trivial)."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1433376916, "post_id": 30632442, "comment_id": 49331404, "body": "Yes, I&#39;ve just realized that. It is possible to implement copy via an external function, but we need at least to copy from the return value into the data member via a copy constructor :("}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1433377462, "post_id": 30632442, "comment_id": 49331547, "body": "Kind of silly, but you can use such a <code>storage</code> as described above to some extent: <a href=\"http://coliru.stacked-crooked.com/a/0b264fb9da9706cc\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/0b264fb9da9706cc</a> It isn&#39;t copyable though, and I doubt it can be made copyable."}, {"owner": {"reputation": 33082, "user_id": 726300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZWH6H.png?s=128&g=1", "display_name": "Luc Danton", "link": "https://stackoverflow.com/users/726300/luc-danton"}, "edited": false, "score": 0, "creation_date": 1433436671, "post_id": 30632442, "comment_id": 49362808, "body": "Note that similarly you can\u2019t have <code>struct A { int x, y; A(bool b); };</code> such that <code>A { true }</code> initializes <code>x</code> only but <code>A { false }</code> initializes <code>y</code> instead. That is, what bases or members are initialized and/or what initializer (at the syntactic level) is picked for initializing those bases or members cannot depend on the value of an argument."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1433447255, "post_id": 30632442, "comment_id": 49368773, "body": "Luc, that&#39;s true.  However, in the case of a struct, both members are initialized, just one (or the other) is initialized with the no-arg constructor in your example.  In the case of a union, only one member is every initialized, so the question is whether I can select it at run-time.  As my example points out, you can select at runtime (otherwise, you don&#39;t need a union!).  However, I figure out how to do so in a constexpr constructor."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1433447758, "post_id": 30632442, "comment_id": 49369048, "body": "dyp, that&#39;s interesting.  Does it rely on RVO?  The only way I can see to make the <code>storage</code> copyable is to add a dummy element to the union.  In the copy-constructor, the dummy is initialized and then the body assigns <code>*this</code> the result of your storage factory."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1433450139, "post_id": 30632442, "comment_id": 49370324, "body": "oops, of course, you cannot do operator= on <code>*this</code> in a constexpr function.  Hmmm... I&#39;m stuck."}, {"owner": {"reputation": 21863, "user_id": 852254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d4e121f3955c8ac719fc5f9338d463dd?s=128&d=identicon&r=PG", "display_name": "David Stone", "link": "https://stackoverflow.com/users/852254/david-stone"}, "edited": false, "score": 0, "creation_date": 1434403095, "post_id": 30632442, "comment_id": 49753665, "body": "@cshelton: It does not rely on RVO. He is directly constructing the argument into the return value (that is why the return statement is <code>return { stuff };</code>). The code then binds the temporary returned by the function to an rvalue reference, which extends the lifetime of the temporary to that of the reference. There is guaranteed to be no copies / moves. RVO requires that the copy / move constructor be visible."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "reply_to_user": {"reputation": 21863, "user_id": 852254, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d4e121f3955c8ac719fc5f9338d463dd?s=128&d=identicon&r=PG", "display_name": "David Stone", "link": "https://stackoverflow.com/users/852254/david-stone"}, "edited": false, "score": 0, "creation_date": 1434408031, "post_id": 30632442, "comment_id": 49755602, "body": "@David,  Thanks.  I have successfully used this method when the types involved (int and double here) have trivial copy constructors.  Then, the union has a defined copy constructor.  However, when they do not have trivial copy constructors the union&#39;s copy constructor is deleted and clang and gcc complain (as they should) on the implicit copy in the construction of the union from the return value of the function."}], "answers": [{"comments": [{"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1438379384, "post_id": 31754955, "comment_id": 51445042, "body": "Does this work if the union&#39;s members are not trivial?  I don&#39;t think it does.  For instance, I should be able to do this with a class that does not have a copy constructor.  Yet, I don&#39;t think this is possible."}, {"owner": {"reputation": 126541, "user_id": 153285, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1UiET.jpg?s=128&g=1", "display_name": "Potatoswatter", "link": "https://stackoverflow.com/users/153285/potatoswatter"}, "reply_to_user": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1438394684, "post_id": 31754955, "comment_id": 51448389, "body": "@cshelton Yes, this method is bulletproof. The member initializer <code>i(d)</code> is constructing the member &quot;in place.&quot;"}, {"owner": {"reputation": 12588, "user_id": 1041090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad3242d2f9f6330e556cf6f833b41d1?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/1041090/richard-smith"}, "edited": false, "score": 1, "creation_date": 1438723518, "post_id": 31754955, "comment_id": 51564226, "body": "The dispatching constructor of <code>A</code> move-constructs the <code>A</code> instance from an <code>A</code> temporary; this technique requires that move (or copy) construction to be valid, which in turn requires all the union members of (array of) class type to have trivial move (or copy) constructors. I don&#39;t know of a way around that restriction."}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "edited": false, "score": 0, "creation_date": 1438800596, "post_id": 31754955, "comment_id": 51602560, "body": "@Richard, I agree.  constexpr unions are only possible when the union members are trivial.  Yet, it would be nice to be able to write a single template class that can handle either case.  This doesn&#39;t seem possible without new syntax for initialization.  The solution I developed was messy but worked by splitting the two cases."}], "tags": [], "owner": {"reputation": 12588, "user_id": 1041090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad3242d2f9f6330e556cf6f833b41d1?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/1041090/richard-smith"}, "is_accepted": true, "score": 8, "last_activity_date": 1438375819, "creation_date": 1438375819, "answer_id": 31754955, "question_id": 30632442, "link": "https://stackoverflow.com/questions/30632442/c14-constexpr-union-conditional-initialization-in-constructor/31754955#31754955", "title": "C++14 constexpr union conditional initialization in constructor", "body": "<p>There is a trick. The key pieces are:</p>\n\n<ol>\n<li>A defaulted copy or move constructor for a union copies the object representation (and thus copies the active member), and is permitted in constant expression evaluation.</li>\n<li>You cannot change the active union member in a constant expression evaluation after initialization is complete, but you can delegate to another constructor to delay the choice.</li>\n<li>If you delegate to the copy or move constructor, you can pass in another object that is already initialized to the right state and copy its active member.</li>\n</ol>\n\n<p>Putting this together, we get:</p>\n\n<pre><code>template&lt;typename T&gt; struct tag {};\nstruct A {\n  union {\n    int i;\n    float f;\n  };\n  constexpr A(tag&lt;int&gt;, double d) : i(d) {}\n  constexpr A(tag&lt;float&gt;, double d) : f(d) {}\n  constexpr A(double d, bool isint) : A(isint ? A(tag&lt;int&gt;(), d) : A(tag&lt;float&gt;(), d)) {}\n};\n\nconstexpr A a(1.0, true); // ok, initializes 'i'\nconstexpr A b(5, false);  // ok, initializes 'f'\n</code></pre>\n\n<p>This is accepted by recent Clang, GCC, and EDG, and requires only C++11 <code>constexpr</code>.</p>\n\n<p><strong>Warning:</strong> GCC 5.1.0 had a bug where it miscompiled the above code (initializing <code>a</code> and <code>b</code> to <code>0</code>); this bug is not present in earlier or later versions of GCC.</p>\n"}, {"comments": [{"owner": {"reputation": 12588, "user_id": 1041090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad3242d2f9f6330e556cf6f833b41d1?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/1041090/richard-smith"}, "edited": false, "score": 1, "creation_date": 1438723575, "post_id": 31757477, "comment_id": 51564255, "body": "To my reading, the question was asking for a <code>constexpr</code> constructor for <code>A</code>. You can&#39;t make the constructor <code>constexpr</code> here because it is not permitted to change the active member of a union during constant expression evaluation."}, {"owner": {"reputation": 126541, "user_id": 153285, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1UiET.jpg?s=128&g=1", "display_name": "Potatoswatter", "link": "https://stackoverflow.com/users/153285/potatoswatter"}, "reply_to_user": {"reputation": 12588, "user_id": 1041090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad3242d2f9f6330e556cf6f833b41d1?s=128&d=identicon&r=PG", "display_name": "Richard Smith", "link": "https://stackoverflow.com/users/1041090/richard-smith"}, "edited": false, "score": 0, "creation_date": 1438747186, "post_id": 31757477, "comment_id": 51570609, "body": "@RichardSmith Yes, you&#39;re right. Clang and GCC both appear to have some rough edges and relax this rule somewhat. GCC allows the active member to be changed. (Both do reject this example if <code>constexpr</code> is added.)"}], "tags": [], "owner": {"reputation": 126541, "user_id": 153285, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1UiET.jpg?s=128&g=1", "display_name": "Potatoswatter", "link": "https://stackoverflow.com/users/153285/potatoswatter"}, "is_accepted": false, "score": 1, "last_activity_date": 1438394560, "creation_date": 1438394560, "answer_id": 31757477, "question_id": 30632442, "link": "https://stackoverflow.com/questions/30632442/c14-constexpr-union-conditional-initialization-in-constructor/31757477#31757477", "title": "C++14 constexpr union conditional initialization in constructor", "body": "<p>For trivially constructible objects, there is no need for <code>new</code>. You can begin the object lifetime, and select the active <code>union</code> member, simply by the assignment operator.</p>\n\n<pre><code>struct A {\n    union {\n        int i;\n        float f;\n    };\n    A(double d, bool isint) {\n        if (isint) i = d;\n        else f = d;\n    }\n};\n</code></pre>\n\n<p>If there's really a constructor somewhere inside the member, then it's necessary to use Richard's answer.</p>\n"}], "owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3319, "favorite_count": 0, "accepted_answer_id": 31754955, "answer_count": 2, "score": 9, "last_activity_date": 1438394560, "creation_date": 1433373353, "last_edit_date": 1434970674, "question_id": 30632442, "link": "https://stackoverflow.com/questions/30632442/c14-constexpr-union-conditional-initialization-in-constructor", "title": "C++14 constexpr union conditional initialization in constructor", "body": "<p>I would like to pick the union member initialized in the constructor based on an argument.  The following is an example that works:</p>\n\n<pre><code>struct A {\n    union {\n        int i;\n        float f;\n    };\n    A(double d, bool isint) {\n        if (isint) new(&amp;i) int(d);\n        else new(&amp;f) float(d);\n    }\n};\n</code></pre>\n\n<p>While I'm using <code>int</code> and <code>float</code>, the goal is to work with other more complex types (but still allowable in a C++14 union), hence the use of placement-new (and not an assignment).</p>\n\n<p>The problem is that this constructor cannot be <code>constexpr</code> as placement-new is not allowed in <code>constexpr</code> methods.  Is there any way around this (other than making the <code>isint</code> argument part of the formal type system)?  Some type of conditional initalizer list would work, but I'm unaware of a way to do it.</p>\n"}, {"tags": ["c++", "user-interface", "circular-dependency"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1433373663, "post_id": 30632420, "comment_id": 49330523, "body": "What do you mean by &quot;that file&quot;? Put the implementations in the .cpp files, and everything will work with forward declarations."}, {"owner": {"reputation": 63, "user_id": 4930947, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6118fd3d948386b6196a09ed526fbd80?s=128&d=identicon&r=PG&f=1", "display_name": "epitaque", "link": "https://stackoverflow.com/users/4930947/epitaque"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1433374161, "post_id": 30632420, "comment_id": 49330681, "body": "Sorry for responding early. Pressing enter submits a comment. I&#39;ll edit this comment soon."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1433374461, "post_id": 30632420, "comment_id": 49330770, "body": "A forward declaration doesn&#39;t allow you to use member functions, but it doesn&#39;t prevent you either. In particular, you could include the full definition later in the translation unit."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433374652, "post_id": 30632420, "comment_id": 49330831, "body": "I don&#39;t see the problem. Based on the sample given, this should be resolved easily in the cpp file by including the appropriate headers."}, {"owner": {"reputation": 63, "user_id": 4930947, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6118fd3d948386b6196a09ed526fbd80?s=128&d=identicon&r=PG&f=1", "display_name": "epitaque", "link": "https://stackoverflow.com/users/4930947/epitaque"}, "edited": false, "score": 0, "creation_date": 1433374904, "post_id": 30632420, "comment_id": 49330907, "body": "That was my problem. I mistakenly thought including header files in .cpp files would somehow still create a circular dependency, not sure why. I can see how the #includes actually don&#39;t go in a circle. Here was the edit I was going to make: &quot;Say you have <code>Class A</code>. Class A.hpp forward declares <code>Class B</code>, and <code>Class B</code> has member functions. Class A.cpp can&#39;t use member functions of <code>Class B</code> because &#39;Class A&#39; is not including &#39;Class B&#39; in any way; it is only forward declaring it. Is there some way of including <code>Class B</code> only in the .cpp file?&quot; but I think I get it now. Thanks for the help."}], "answers": [{"tags": [], "owner": {"reputation": 5185, "user_id": 2540407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70244e2142d529ec009d23422d404ba1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2540407/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1433374142, "creation_date": 1433374142, "answer_id": 30632576, "question_id": 30632420, "link": "https://stackoverflow.com/questions/30632420/circular-dependencies-in-c-that-use-member-functions/30632576#30632576", "title": "Circular dependencies in C++ that use member functions", "body": "<p>You don't have to defined a class in order to return a pointer. Add one more header ForwardDeclarations.h like this:</p>\n\n<pre><code>class GUI;\nclass Element;\nclass ElementButton;\n</code></pre>\n\n<p>and include it in all your header files:</p>\n\n<pre><code>// GUI.h\n#include \"ForwardDeclarations.h\"\n\nclass GUI\n{\npublic:\n    vector&lt;ElementButton*&gt; Buttons;\n    void ParseElements(); // Uses ElementButton member functions\n};\n\n\n// Element.h\n#include \"ForwardDeclarations.h\"\n\nclass Element\n{\npublic:\n    void ReplaceGUI(string GUITextFile); // Uses GUI member functions and destructors\n    GUI* CurrentGUI;\n};\n\n\n// ElementButton.h\n#include \"ForwardDeclarations.h\"\n#include \"Element.h\"\n\nclass ElementButton : public Element\n{\npublic:\n    void OnButtonClicked(); // Uses inherited ReplaceGUI function\n};\n</code></pre>\n\n<p>Notice that ElementButton.h still needs to include Element.h because deriving class ElementButton from class Element requires class definition.</p>\n"}], "owner": {"reputation": 63, "user_id": 4930947, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/6118fd3d948386b6196a09ed526fbd80?s=128&d=identicon&r=PG&f=1", "display_name": "epitaque", "link": "https://stackoverflow.com/users/4930947/epitaque"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433374142, "creation_date": 1433373196, "question_id": 30632420, "link": "https://stackoverflow.com/questions/30632420/circular-dependencies-in-c-that-use-member-functions", "title": "Circular dependencies in C++ that use member functions", "body": "<p>I realize this question has been asked many times and the solution is usually forward declarations. However, if I am correct, forward declarations can't be used when member functions are being used in that file. I have a circular dependency that I'm not sure how to fix through design and each dependency uses member functions. Here is my code:</p>\n\n<pre><code>// GUI.h\n#include \"ElementButton.h\"\n\nclass GUI\n{\npublic:\n    vector&lt;ElementButton*&gt; Buttons;\n    void ParseElements(); // Uses ElementButton member functions\n};\n\n\n// Element.h\n#include \"GUI.h\"\n\nclass Element\n{\npublic:\n    void ReplaceGUI(string GUITextFile); // Uses GUI member functions and destructors\n    GUI* CurrentGUI;\n};\n\n\n// ElementButton.h\n#include \"Element.h\"\n\nclass ElementButton : public Element\n{\npublic:\n    void OnButtonClicked(); // Uses inherited ReplaceGUI function\n};\n</code></pre>\n"}, {"tags": ["c++", "class", "header-files"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1433372904, "post_id": 30632330, "comment_id": 49330266, "body": "Why did you change from <code>#include &quot;rand.h&quot;</code> to <code>#include &quot;rand.cpp&quot;</code>?"}, {"owner": {"reputation": 1552, "user_id": 2362671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0585760afe78ec9aafe1836b826ed495?s=128&d=identicon&r=PG", "display_name": "Come Raczy", "link": "https://stackoverflow.com/users/2362671/come-raczy"}, "edited": false, "score": 0, "creation_date": 1433373697, "post_id": 30632330, "comment_id": 49330536, "body": "Looks like most of the problem is in the part that you are not providing (e.g. the declaration and implementation of rngSource). You should check that <code>rand.h</code> contains a header guard to take care of the <code>multiple definition</code> errors. the <code>undefined reference</code> errors might be because you are not providing the implementation to the compiler (<code>rand.cpp</code> or <code>rand.o</code> to the linker)"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433374293, "post_id": 30632330, "comment_id": 49330711, "body": "Don&#39;t think this is header guard. It looks to me like <code>kn</code>, <code>wn</code>, and <code>fn</code> are defined in rand.h. Add <code>extern</code> (extern means this variable exists, but its storage is allocated elsewhere. Do not reallocate.) to the front of the definitions in rand.h and then define them for real in rand.cpp. The rest I&#39;m not sure about yet."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1433374580, "post_id": 30632330, "comment_id": 49330805, "body": "How to fix which? You have at least three different problems with completely different reasons and completely different solutions."}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1433377924, "creation_date": 1433377924, "answer_id": 30633062, "question_id": 30632330, "link": "https://stackoverflow.com/questions/30632330/c-calling-a-class-within-a-class/30633062#30633062", "title": "c++ calling a class within a class", "body": "<p>Three problems.</p>\n\n<p>Problem 1:</p>\n\n<pre><code>particle.cpp: In constructor \u2018particle::particle()\u2019:\nparticle.cpp:20:17: error: \u2018rng\u2019 was not declared in this scope\n      r[i]=L*rng.rFloat64(); //ran;\n</code></pre>\n\n<p>The ultra cheesy answer is to add <code>extern rngSource rng;</code> to particle.cpp above the particle constructor. <code>extern</code> means this variable exists, but its storage is allocated elsewhere. The linker will track it down for you. This is quick, dirty, and will get you back on the road with minimal code changes.</p>\n\n<p>Better solutions are to add <code>extern rngSource rng;</code> to rand.h and then define <code>rngSource rng;</code> in rand.cpp for all users or placing <code>extern rngSource rng;</code> in a brand new <code>main.h</code> and include main.h in particle and other modules called by main.</p>\n\n<p>The best solution is probably to create a <code>bool init(rngSource &amp; rng)</code> function in particle and do grunt work the constructor's currently doing. That way if rng doesn't exist, the compiler catches it when you try to call init.</p>\n\n<pre><code>particle p[N];\nfor (size_t index; index &lt; N; index++)\n{\n    p[index].init(rng);\n}\n</code></pre>\n\n<p>Problem 2</p>\n\n<pre><code>particle.o:(.data+0x0): multiple definition of `rng_cooked'\nnew.o:(.data+0x0): first defined here\nparticle.o:(.data+0x1300): multiple definition of `kn'\nnew.o:(.data+0x1300): first defined here\nparticle.o:(.data+0x1500): multiple definition of `wn'\nnew.o:(.data+0x1500): first defined here\nparticle.o:(.data+0x1700): multiple definition of `fn'\nnew.o:(.data+0x1700): first defined here\n</code></pre>\n\n<p><code>rng_cooked</code>, <code>kn</code>, <code>wn</code>, and <code>fn</code> are almost certainly being defined in rand.h. This means everyone who includes rand.h tries to create their own version of those variables resulting in collisions when the linker tries to line up names with storage locations.</p>\n\n<p>Solution is similar to the first problem: Add <code>extern</code> to the variable definitions in the rand.h and define them in rand.cpp.</p>\n\n<p>Problem 3</p>\n\n<pre><code>new.cpp:(.text+0x1fb1): undefined reference to `rngSource::rseed(long long)'\nparticle.o: In function `particle::particle()':\nparticle.cpp:(.text+0x1fa2): undefined reference to `rngSource::rseed(long long)'\nparticle.cpp:(.text+0x1fb5): undefined reference to `rngSource::rFloat64()'\nparticle.cpp:(.text+0x1fda): undefined reference to `rngSource::rFloat64()'\n</code></pre>\n\n<p>No idea. Are you certain you are passing rand.cpp to gcc?</p>\n"}], "owner": {"reputation": 796, "user_id": 2804865, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/c4a2206d18876f610782e5ac784712c6?s=128&d=identicon&r=PG&f=1", "display_name": "user2804865", "link": "https://stackoverflow.com/users/2804865/user2804865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433377924, "creation_date": 1433372647, "last_edit_date": 1433372964, "question_id": 30632330, "link": "https://stackoverflow.com/questions/30632330/c-calling-a-class-within-a-class", "title": "c++ calling a class within a class", "body": "<p>So i had the following code which ran perfectly.\nHere \"rngSource\" makes an instance of the class contained in rand.h. rng.rFloat64() calls random numbers between 0 and 1.</p>\n\n<p>main.cpp</p>\n\n<pre><code>#include \"rand.h\"   // rngSource\n\nrngSource rng;\n\nclass particle{\npublic:\n    double r[nd], v[nd];\n    particle()\n    {\n            for (int i=0; i&lt;nd; ++i)\n            {\n                    r[i]=L*rng.rFloat64();\n                    v[i]=rng.rFloat64(); \n            }\n     }\n};\n</code></pre>\n\n<p>But when I tried to separate the class implementation from main.cpp into particle.h and particle.cpp, as indicated below:</p>\n\n<p>particle.h</p>\n\n<pre><code>#ifndef particle_H\n#define particle_H\n\nclass particle{ \npublic: \n    double r[2], v[2];\n    particle();\n};\n\n#endif\n</code></pre>\n\n<p>particle.cpp</p>\n\n<pre><code>#include \"rand.h\"    // rngSource\n#include \"particle.h\"\n\nparticle::particle()\n{\n    double ran = (double) rand()/(double)RAND_MAX;\n    static const double L=10;\n    for (int i=0; i&lt;2; ++i)\n    {\n            r[i]=L*ran;\n            v[i]=ran;            \n    }\n}\n</code></pre>\n\n<p>While the new main.cpp looks like this:</p>\n\n<pre><code>#include \"rand.h\"    /* rngSource() */\n#include \"particle.h\"   /* particle class */\n\nrngSource rng;\n\nint main(){\n    rng.rseed(getpid()*time(NULL));\n    particle p[N];\n    ....\n}\n</code></pre>\n\n<p>But when i try to compile i get the following errors:</p>\n\n<pre><code>particle.cpp: In constructor \u2018particle::particle()\u2019:\nparticle.cpp:20:17: error: \u2018rng\u2019 was not declared in this scope\n      r[i]=L*rng.rFloat64(); //ran;\n             ^\nparticle.o:(.data+0x0): multiple definition of `rng_cooked'\nnew.o:(.data+0x0): first defined here\nparticle.o:(.data+0x1300): multiple definition of `kn'\nnew.o:(.data+0x1300): first defined here\nparticle.o:(.data+0x1500): multiple definition of `wn'\nnew.o:(.data+0x1500): first defined here\nparticle.o:(.data+0x1700): multiple definition of `fn'\nnew.o:(.data+0x1700): first defined here\n\nnew.cpp:(.text+0x1fb1): undefined reference to `rngSource::rseed(long long)'\nparticle.o: In function `particle::particle()':\nparticle.cpp:(.text+0x1fa2): undefined reference to `rngSource::rseed(long long)'\nparticle.cpp:(.text+0x1fb5): undefined reference to `rngSource::rFloat64()'\nparticle.cpp:(.text+0x1fda): undefined reference to `rngSource::rFloat64()'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>Would anyone here happen to know how to fix this?\nthank you.</p>\n"}, {"tags": ["c++", "ios", "objective-c", "unity3d", "wrapper"], "comments": [{"owner": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1433372516, "post_id": 30632287, "comment_id": 49330129, "body": "What&#39;s in <code>getDataFromServer</code>? Did you make sure to copy the block?"}, {"owner": {"reputation": 7035, "user_id": 231964, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ffa2a22f407dfb66623b9cdcd24d67b6?s=128&d=identicon&r=PG", "display_name": "Sam Jarman", "link": "https://stackoverflow.com/users/231964/sam-jarman"}, "reply_to_user": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1433372662, "post_id": 30632287, "comment_id": 49330179, "body": "A series of nested server calls, all wrapped inside NSOperationQueue.   No, no copy of the block"}, {"owner": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1433372714, "post_id": 30632287, "comment_id": 49330198, "body": "If your reference to your block will go out of scope before the block is executed, you need to copy the block. <code>getDataFromServer</code> should use something like <code>block = [ block copy ] ;</code>"}, {"owner": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1433372744, "post_id": 30632287, "comment_id": 49330206, "body": "This also is because local blocks are stack allocated--sending them a <code>-copy</code> message moves them to the heap."}, {"owner": {"reputation": 7035, "user_id": 231964, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ffa2a22f407dfb66623b9cdcd24d67b6?s=128&d=identicon&r=PG", "display_name": "Sam Jarman", "link": "https://stackoverflow.com/users/231964/sam-jarman"}, "reply_to_user": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1433373369, "post_id": 30632287, "comment_id": 49330423, "body": "if we assume the original objective-c code is a compiled library and cant change it, is there anything I can do?"}, {"owner": {"reputation": 52302, "user_id": 11182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yfpsb.jpg?s=128&g=1", "display_name": "Lex Li", "link": "https://stackoverflow.com/users/11182/lex-li"}, "edited": false, "score": 0, "creation_date": 1433381038, "post_id": 30632287, "comment_id": 49332419, "body": "Please use unity3d tag for such."}, {"owner": {"reputation": 15527, "user_id": 210171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MeyGM.png?s=128&g=1", "display_name": "nielsbot", "link": "https://stackoverflow.com/users/210171/nielsbot"}, "edited": false, "score": 0, "creation_date": 1434312612, "post_id": 30632287, "comment_id": 49712537, "body": "I think @erikprice&#39;s solution is promising"}], "answers": [{"comments": [{"owner": {"reputation": 7035, "user_id": 231964, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ffa2a22f407dfb66623b9cdcd24d67b6?s=128&d=identicon&r=PG", "display_name": "Sam Jarman", "link": "https://stackoverflow.com/users/231964/sam-jarman"}, "edited": false, "score": 0, "creation_date": 1433820723, "post_id": 30657282, "comment_id": 49502364, "body": "This is another possible solution~"}], "tags": [], "owner": {"reputation": 6079, "user_id": 18278, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e3300c2b45ba7e55043ebf00207c4e49?s=128&d=identicon&r=PG", "display_name": "erikprice", "link": "https://stackoverflow.com/users/18278/erikprice"}, "is_accepted": false, "score": 2, "last_activity_date": 1433470390, "creation_date": 1433470390, "answer_id": 30657282, "question_id": 30632287, "link": "https://stackoverflow.com/questions/30632287/can-i-call-ios-code-that-contains-blocks-in-a-unity-wrapper/30657282#30657282", "title": "Can I call iOS code that contains blocks in a unity wrapper?", "body": "<p>Ideally you'd post the implementation of <code>- [MyClass getDataFromServer:]</code>, but at the very least you want to do as @nielsbot has suggested and copy the block from the stack to the heap, using <code>-copy</code>:</p>\n\n<pre><code>void get_data(const char *GameObjectName, const char *DataCallback,const char *ErrorCallback){\n    [LibraryClass getDataFromServer:[^(NSArray *data, NSError *error) {\n        if (data) {\n             UnitySendMessage(GameObjectName, DataCallback, [[data componentsJoinedByString:@\",\"] UTF8String]);\n        }\n        if (error) {\n            UnitySendMessage(GameObjectName, ErrorCallback, [[error localizedDescription] UTF8String]);\n        }\n    } copy]];   // &lt;-- call the block's -copy method here\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7035, "user_id": 231964, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ffa2a22f407dfb66623b9cdcd24d67b6?s=128&d=identicon&r=PG", "display_name": "Sam Jarman", "link": "https://stackoverflow.com/users/231964/sam-jarman"}, "is_accepted": true, "score": 0, "last_activity_date": 1433820701, "creation_date": 1433820701, "answer_id": 30722546, "question_id": 30632287, "link": "https://stackoverflow.com/questions/30632287/can-i-call-ios-code-that-contains-blocks-in-a-unity-wrapper/30722546#30722546", "title": "Can I call iOS code that contains blocks in a unity wrapper?", "body": "<p>Solved with Erik price in the <a href=\"https://coreint.slack.com/\" rel=\"nofollow\">CoreInt Slack Channel</a>, but I thought I'd write it up here:</p>\n\n<p>We solved this by having a reference on the class</p>\n\n<p><code>@property (nonatomic, copy) void (^myBlock)(NSError *error);</code> </p>\n\n<p>Then initialising it at the time of the call</p>\n\n<p><code>self.myBlock = ^{...};</code>\nthen calling it like this\n[MyClass getDataFromServer:self.myBlock]; </p>\n\n<p>That way, everything was retained correctly. </p>\n\n<p>Happy Coding~ </p>\n"}], "owner": {"reputation": 7035, "user_id": 231964, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ffa2a22f407dfb66623b9cdcd24d67b6?s=128&d=identicon&r=PG", "display_name": "Sam Jarman", "link": "https://stackoverflow.com/users/231964/sam-jarman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "accepted_answer_id": 30722546, "answer_count": 2, "score": 0, "last_activity_date": 1433820701, "creation_date": 1433372415, "last_edit_date": 1433470203, "question_id": 30632287, "link": "https://stackoverflow.com/questions/30632287/can-i-call-ios-code-that-contains-blocks-in-a-unity-wrapper", "title": "Can I call iOS code that contains blocks in a unity wrapper?", "body": "<p>I have a method in Objective-C that goes into a NSOperationQueue and returns asynchronously with a block.</p>\n\n<p>eg </p>\n\n<p><code>+ (void)getDataFromServer:(void(^)(NSArray *data, NSError *error))block;</code></p>\n\n<p>So when I try to call this, with my Objective-C++ wrapper, </p>\n\n<pre><code>void get_data(const char *GameObjectName, const char *DataCallback,const char *ErrorCallback){\n    [LibraryClass getDataFromServer:^(NSArray *data, NSError *error) {\n        if (data) {\n             UnitySendMessage(GameObjectName, DataCallback, [[data componentsJoinedByString:@\",\"] UTF8String]);\n        }\n        if (error) {\n            UnitySendMessage(GameObjectName, ErrorCallback, [[error localizedDescription] UTF8String]);\n        }\n    }];\n}\n</code></pre>\n\n<p>If I breakpoint before the block, the strings (<code>const char *</code>) are populated fine, but if I breakpoint in the <code>if (data) {}</code> section of the block, the variables are munched, to what looks like random data. Of course, UnityMessageSend() fails because the object can't be found. </p>\n\n<p>Am I going about this the right way? I suspect I've forgotten or unaware of some block/C/C++ caveat. </p>\n"}, {"tags": ["c++", "constructor", "static-libraries", "header-files"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 1, "creation_date": 1433371989, "post_id": 30632197, "comment_id": 49329933, "body": "Placing <code>using namespace std;</code> is header files is a <b>bad</b> idea. It&#39;s not the source of your problem but you still shouldn&#39;t do it."}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1433372069, "post_id": 30632197, "comment_id": 49329967, "body": "You&#39;re probably right, but can I ask why? <b>Edit</b> - Google had plenty of answers, nevermind. :)"}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 1, "creation_date": 1433372110, "post_id": 30632197, "comment_id": 49329983, "body": "See <a href=\"http://stackoverflow.com/questions/14575799/using-namespace-std-in-a-header-file\" title=\"using namespace std in a header file\">stackoverflow.com/questions/14575799/&hellip;</a>"}, {"owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "edited": false, "score": 1, "creation_date": 1433372325, "post_id": 30632197, "comment_id": 49330058, "body": "Static libs need to be explicitly added to the project by name. If you are building PolyLib.lib, then from your other project you&#39;d need to link PolyLib.lib in the list of libs. As well as update the lib search path."}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "edited": false, "score": 0, "creation_date": 1433372524, "post_id": 30632197, "comment_id": 49330133, "body": "Initially i spent an hour trying to link the library to my project correctly, and thought I finally had it right. Can you explain thoroughly how I make the test project use PolyLib.lib?"}, {"owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "edited": false, "score": 1, "creation_date": 1433374328, "post_id": 30632197, "comment_id": 49330721, "body": "I posted an answer (and example file) below."}, {"owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "edited": false, "score": 1, "creation_date": 1433375139, "post_id": 30632197, "comment_id": 49330986, "body": "Can you verify if you are <i>trying</i> to have a separate .lib file? Or are you just trying to build the .cpps files together in one project? If you are trying to do this as one project, the most likely explanation is that <code>PolyLib.cpp</code> has been somehow excluded from the project. Right click the file, go to properties, and verify that it is not excluded."}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "edited": false, "score": 0, "creation_date": 1433375155, "post_id": 30632197, "comment_id": 49330989, "body": "I&#39;m giving it a try, hang on."}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "edited": false, "score": 0, "creation_date": 1433376291, "post_id": 30632197, "comment_id": 49331262, "body": "Okay, I&#39;m getting even more confused. Your library works. Using your function prints &quot;3&quot; as expected. So I figured that my project might have been messed up somehow, given that I tried lots of stuff by now. My project had exactly the same structure as yours, so I tried copying my code into your project, with no other changes. I even left your function &quot;myfunction&quot; there. Both main.cpp and header.h seems OK, but source.cpp does not recognize Polynomial as anything. &quot;myfunction&quot; is recognized. The error I get is &quot;IntelliSense: name followed by &#39;::&#39; must be a class or namespace name&quot;."}, {"owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "edited": false, "score": 1, "creation_date": 1433376702, "post_id": 30632197, "comment_id": 49331354, "body": "Sounds like PolyLib.h didn&#39;t get included in that source file?"}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "edited": false, "score": 0, "creation_date": 1433377016, "post_id": 30632197, "comment_id": 49331418, "body": "You are right, I am getting tired. Added &quot;#include &quot;header.h&quot;&quot; as the first line in source.cpp. It then says &quot;IntelliSense: cannot open source file &quot;header.h&quot;\ta:\\Medier\\Desktop\\LibExample\\LibExample\\source.cp&zwnj;&#8203;p&quot;. That means it does not know where to look for the header file, correct?"}, {"owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "edited": false, "score": 0, "creation_date": 1433377755, "post_id": 30632197, "comment_id": 49331614, "body": "And finally! <a href=\"http://stackoverflow.com/a/9754017/4600745\">stackoverflow.com/a/9754017/4600745</a> explained that I had to use an absolute path for referencing header.h - It works now. Thank you for all your help. This could have taken far longer if not for you."}], "answers": [{"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 1, "last_activity_date": 1433436142, "last_edit_date": 1433436142, "creation_date": 1433373461, "answer_id": 30632464, "question_id": 30632197, "link": "https://stackoverflow.com/questions/30632197/trying-to-create-library-in-c-test-project-cant-find-implementation-of-decla/30632464#30632464", "title": "Trying to create Library in C++. Test project can&#39;t find implementation of declared constructor?", "body": "<p>If you are trying to build <code>Polylib.h</code> and <code>Polylib.cpp</code> into a binary such as <code>Polylib.lib</code> then you need to have a separate project that has these source files and builds a static library. Then you need your project to link this <code>Polylib</code> library so that it can link the code into your binary. If you just want to have one project and only build one binary then you need to move the <code>Polylib.h</code> and <code>Polylib.cpp</code> source into your project and build it all together. Another thing is that using absolute paths for including headers is a bad idea. You want to include headers using relative pathing and then use the project settings to tell it where the headers are located. For example if its local to the project then use <code>#include \"header\"</code>. If its not local to the project then use <code>#include &lt;libraryfolder/header&gt;</code> and then tell the project where the library folder is in the \"include directories setting\".</p>\n"}, {"tags": [], "owner": {"reputation": 4666, "user_id": 981367, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/ca05a550269a76bcdc899350338f5501?s=128&d=identicon&r=PG", "display_name": "VoidStar", "link": "https://stackoverflow.com/users/981367/voidstar"}, "is_accepted": true, "score": 1, "last_activity_date": 1433376858, "last_edit_date": 1433376858, "creation_date": 1433373922, "answer_id": 30632541, "question_id": 30632197, "link": "https://stackoverflow.com/questions/30632197/trying-to-create-library-in-c-test-project-cant-find-implementation-of-decla/30632541#30632541", "title": "Trying to create Library in C++. Test project can&#39;t find implementation of declared constructor?", "body": "<p>It is possible to build all of your .cpps into a single project, which is most common for beginners. However, from the question tags and wording, I'm assuming you want to create and link a static lib, which can also be done fairly simply.</p>\n\n<p>I just constructed an example of a properly set up static lib + exe linking in one VS2013 project: <a href=\"https://www.dropbox.com/s/5xxkpkgzy5gmry6/LibExample.zip?dl=0\" rel=\"nofollow\">Dropbox link</a>, for the purposes of explaining this question.</p>\n\n<p>The basics are that you need two projects: A lib project (outputs a static .lib file) and an exe project (outputs an .exe file). The .exe project contains a <code>main()</code> function, and is able to include headers and link to the .lib.</p>\n\n<p>The points of interest in MyExe are that I added <code>$(SolutionDir)\\LibExample\\Inc</code> to the include path in order to include my header (header.h), and I added <code>$(SolutionDir)\\$(Configuration)</code> to the lib path for the libraries. You can find these by right clicking the project, go to properties, and it's all under \"VC++ Directories\".</p>\n\n<p>A great tip about determining the path needed to find your lib is to simply build the lib. It actually tells you in the \"Output->Build\" text spew where the file it just built is located. This is the path that you need. <code>$(SolutionDir)\\$(Configuration)</code> is the \"macro\" shorthand of this path. I recommend using the macros so you can move your project directory to another path or computer easily.</p>\n\n<p>I also added <code>LibExample.lib;</code> to \"additional dependencies\" in the linker\\input settings. This is the key step for being able to link the lib. Not doing this will result in an unresolved external symbol, just like you're seeing.</p>\n\n<p>I also set a dependency between MyExe and LibExample (you right click the project, Build Dependencies->Project Dependencies). This is important so you can rebuild the entire solution without worry of linking to the older version of the lib. With the dependency in place, it will always build the lib first, then the exe.</p>\n"}], "owner": {"reputation": 406, "user_id": 1233248, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10153022007547593/picture?type=large", "display_name": "Treeline", "link": "https://stackoverflow.com/users/1233248/treeline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 30632541, "answer_count": 2, "score": 1, "last_activity_date": 1433436142, "creation_date": 1433371915, "question_id": 30632197, "link": "https://stackoverflow.com/questions/30632197/trying-to-create-library-in-c-test-project-cant-find-implementation-of-decla", "title": "Trying to create Library in C++. Test project can&#39;t find implementation of declared constructor?", "body": "<p>I'm learning C++, but hit a plateau trying to create a library. Using Visual Studio 2013, I get this error:</p>\n\n<blockquote>\n  <p>Error 1   error LNK2019: unresolved external symbol \"public: __thiscall Polynomial::Polynomial(void)\" (??0Polynomial@@QAE@XZ) referenced in function _main    A:\\Medier\\Desktop\\PolyLib\\Test\\Test.obj Test</p>\n</blockquote>\n\n<p>The testproject is currently cut down to this:  </p>\n\n<pre><code>#include \"A:\\Medier\\Desktop\\PolyLib\\PolyLib\\PolyLib.h\"\n\nusing namespace std;\n\nvoid main()\n{\n    Polynomial poly;\n}\n</code></pre>\n\n<p>The library header file, <code>PolyLib.h</code>, looks like this:</p>\n\n<pre><code>using namespace std;\n\nclass Polynomial {\n\nprivate:\n    double* Coefficients;  //Array of coefficients - Pointer type.\n    int Degree; //The highest exponent of the polynomial\n\npublic:\n    Polynomial(); //Default constructor - Creates the trivial polynomial 0.\n    Polynomial(int degree, double coefficients[]); //Constructor for specific polynomials\n</code></pre>\n\n<p>Finally there's a CPP file in the library, <code>PolyLib.cpp</code>, providing implementations for the header file. Looks like this:</p>\n\n<pre><code>#include \"PolyLib.h\"\n\nusing namespace std;\n\nPolynomial::Polynomial() {\n    Degree = 0;\n    Coefficients = new double[Degree + 1];\n    Coefficients[0] = 0;\n}\n\nPolynomial::Polynomial(int degree, double coefficients[]) : Degree(degree), Coefficients(coefficients) {\n    int i = 0;\n</code></pre>\n\n<p>}</p>\n\n<p>I understand that my test project looks to the <code>PolyLib.h</code> file to see what stuff is available. And I understand the error says it can't find the actual implementation of the empty constructor for Polynomial. As such I conclude that the <code>PolyLib.cpp</code> file is not being used.</p>\n\n<p>Can anyone tell me where I go from here?</p>\n"}, {"tags": ["c++", "boost", "boost-asio"], "answers": [{"tags": [], "owner": {"reputation": 16949, "user_id": 7256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zZFSI.jpg?s=128&g=1", "display_name": "janm", "link": "https://stackoverflow.com/users/7256/janm"}, "is_accepted": true, "score": 2, "last_activity_date": 1433395233, "creation_date": 1433395233, "answer_id": 30635480, "question_id": 30632096, "link": "https://stackoverflow.com/questions/30632096/does-boost-asio-supports-eventfd-like-epoll/30635480#30635480", "title": "Does BOOST asio supports eventfd? like epoll", "body": "<p>The documentation describes some, but not all, of the things the <code>io_service</code> class can do. Note the that it says \"including\", not \"only\". Also, the next sentence in the documentation reads:</p>\n\n<pre><code>The io_service class also includes facilities intended for developers of custom asynchronous services.\n</code></pre>\n\n<p>If you are reading or writing to a file descriptor that you have created directly, you can use <code>boost::asio::posix::stream_descriptor</code>. You can use the <code>serial_port</code> classes. You can operate on files. I think you'll be able to map your operation; if you still have trouble ask a more specific question.</p>\n"}], "owner": {"reputation": 2118, "user_id": 1114130, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b7ccaef1113111fc5cb2bb2a0d866a4e?s=128&d=identicon&r=PG", "display_name": "hudac", "link": "https://stackoverflow.com/users/1114130/hudac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "accepted_answer_id": 30635480, "answer_count": 1, "score": 0, "last_activity_date": 1433395233, "creation_date": 1433371313, "last_edit_date": 1592644375, "question_id": 30632096, "link": "https://stackoverflow.com/questions/30632096/does-boost-asio-supports-eventfd-like-epoll", "title": "Does BOOST asio supports eventfd? like epoll", "body": "<p><a href=\"http://linux.die.net/man/4/epoll\" rel=\"nofollow noreferrer\">epoll()</a> can do its poll on lots of fd types such as normal fd, sockets, timefd, eventfd, etc...</p>\n<p>Can BOOST do it also somehow?\nI saw in <a href=\"http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/reference/io_service.html\" rel=\"nofollow noreferrer\">io_service</a> that it supports only:</p>\n<blockquote>\n<p>The io_service class provides the core I/O functionality for users of\nthe asynchronous I/O objects, including:</p>\n<p>boost::asio::ip::tcp::socket<br />\nboost::asio::ip::tcp::acceptor<br />\nboost::asio::ip::udp::socket<br />\ndeadline_timer.</p>\n</blockquote>\n<p>Is there another way?</p>\n"}, {"tags": ["c++", "class", "c++11", "copy-constructor"], "comments": [{"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 3, "creation_date": 1433370238, "post_id": 30631822, "comment_id": 49329193, "body": "<i>Is it too awful to have a class without a copy constructor?</i> No, it&#39;s fine. For example <code>unique_ptr</code> doesn&#39;t have it as you may have noticed."}, {"owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 3, "creation_date": 1433370377, "post_id": 30631822, "comment_id": 49329234, "body": "One solution involves adding a member function <code>virtual A* clone() = 0;</code> to <code>A</code>."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1433370537, "post_id": 30631822, "comment_id": 49329304, "body": "<a href=\"https://isocpp.org/wiki/faq/abcs#copy-of-abc-via-clone\" rel=\"nofollow noreferrer\">Do what Pubby said</a>, but only if you need <code>C</code> to be copy constructible. There&#39;s nothing wrong with having non-copyable classes, it depends entirely on your use case."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1433370541, "post_id": 30631822, "comment_id": 49329306, "body": "What do you imagine this copy will do? If you intend to also make a copy of all the objects being pointed to by the <code>unique_ptr</code>s then the only way is that <code>A</code> will have to include a cloning function."}], "answers": [{"comments": [{"owner": {"reputation": 864, "user_id": 2294360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6d021e928a44768aac029070949578c0?s=128&d=identicon&r=PG", "display_name": "Eliad", "link": "https://stackoverflow.com/users/2294360/eliad"}, "edited": false, "score": 0, "creation_date": 1433370430, "post_id": 30631868, "comment_id": 49329250, "body": "It can be done for non-abstract classes. See <a href=\"https://stackoverflow.com/questions/16030081/copy-constructor-for-a-class-with-unique-ptr\" title=\"copy constructor for a class with unique ptr\">stackoverflow.com/questions/16030081/&hellip;</a>"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 864, "user_id": 2294360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6d021e928a44768aac029070949578c0?s=128&d=identicon&r=PG", "display_name": "Eliad", "link": "https://stackoverflow.com/users/2294360/eliad"}, "edited": false, "score": 0, "creation_date": 1433370739, "post_id": 30631868, "comment_id": 49329379, "body": "@Furihr that also requires the type to be complete, I think"}], "tags": [], "owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "is_accepted": false, "score": 1, "last_activity_date": 1433370465, "last_edit_date": 1433370465, "creation_date": 1433370347, "answer_id": 30631868, "question_id": 30631822, "link": "https://stackoverflow.com/questions/30631822/copy-constructor-for-a-class-with-unique-ptr-to-an-abstract-class-as-a-member/30631868#30631868", "title": "Copy constructor for a class with unique_ptr to an abstract class as a member", "body": "<p>Well, since <code>std::unique_ptr&lt;T&gt;</code> is not copyable, and thus <code>std::vector&lt;std::unique_ptr&lt;T&gt;&gt;</code> is not copyable, and thus <code>C</code> which has <code>std::vector&lt;std::unique_ptr&lt;T&gt;&gt;</code> as a member should not be default-copyable.</p>\n\n<p>You can, of course, implement copy-constructor that makes deep copy of <code>T</code>, but it depends on what <code>T</code> actually is.</p>\n"}, {"tags": [], "owner": {"reputation": 5815, "user_id": 1210291, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/053Gk.jpg?s=128&g=1", "display_name": "sirgeorge", "link": "https://stackoverflow.com/users/1210291/sirgeorge"}, "is_accepted": true, "score": 2, "last_activity_date": 1433370412, "creation_date": 1433370412, "answer_id": 30631880, "question_id": 30631822, "link": "https://stackoverflow.com/questions/30631822/copy-constructor-for-a-class-with-unique-ptr-to-an-abstract-class-as-a-member/30631880#30631880", "title": "Copy constructor for a class with unique_ptr to an abstract class as a member", "body": "<p>You did not say whether you have control of the code for the abstract class and the classes derived from it. If you do, then the easiest way is to provide a pure virtual method <code>Clone</code> in the abstract class and implement it in derived classes. This method should handle creating the right copies. Unfortunately, because unique_ptr is not copyable you need to iterate through your vector and create copies by calling <code>Clone</code>.</p>\n"}], "owner": {"reputation": 864, "user_id": 2294360, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/6d021e928a44768aac029070949578c0?s=128&d=identicon&r=PG", "display_name": "Eliad", "link": "https://stackoverflow.com/users/2294360/eliad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 0, "accepted_answer_id": 30631880, "answer_count": 2, "score": 5, "last_activity_date": 1433370465, "creation_date": 1433370139, "last_edit_date": 1433370354, "question_id": 30631822, "link": "https://stackoverflow.com/questions/30631822/copy-constructor-for-a-class-with-unique-ptr-to-an-abstract-class-as-a-member", "title": "Copy constructor for a class with unique_ptr to an abstract class as a member", "body": "<p>I have a class (<code>C</code>) with a <code>vector</code> of <code>unique_ptr</code>s to an abstract class (<code>A</code>) as a member. This is because <code>C</code> must work with all classes of type <code>A</code>, i.e. its children. </p>\n\n<p>The problem is that I cannot figure out how to write a copy constructor for <code>C</code>, since the type of the objects that the pointers are pointing to are not known at compile time. It actually seems impossible to me. Can anyone confirm that it is impossible? Do you have any suggestions on how to solve the problem? Is it too awful to have a class without a copy constructor?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 3, "creation_date": 1433370108, "post_id": 30631769, "comment_id": 49329141, "body": "As long as it&#39;s <a href=\"http://stackoverflow.com/questions/962132/calling-virtual-functions-inside-constructors\">not virtual</a>."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433370290, "post_id": 30631769, "comment_id": 49329210, "body": "Take a look at <a href=\"http://stackoverflow.com/questions/26229680/behaviour-of-exception-handling-in-constructor-of-a-class\" title=\"behaviour of exception handling in constructor of a class\">stackoverflow.com/questions/26229680/&hellip;</a> to deal with functions called from constructors that throw exceptions."}, {"owner": {"reputation": 1009, "user_id": 2453661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a44afa0c663b486bff7891d92df52c?s=128&d=identicon&r=PG", "display_name": "Alberto M", "link": "https://stackoverflow.com/users/2453661/alberto-m"}, "edited": false, "score": 0, "creation_date": 1433376457, "post_id": 30631769, "comment_id": 49331296, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4872707/calling-a-method-in-constructor\" title=\"calling a method in constructor\">stackoverflow.com/questions/4872707/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3681, "user_id": 2817371, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fafb901e8d840c703f4a5089692427ad?s=128&d=identicon&r=PG&f=1", "display_name": "Red Alert", "link": "https://stackoverflow.com/users/2817371/red-alert"}, "edited": false, "score": 0, "creation_date": 1433371379, "post_id": 30631861, "comment_id": 49329650, "body": "You shouldn&#39;t call any virtual functions during construction/desctruction"}], "tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1433371441, "last_edit_date": 1433371441, "creation_date": 1433370311, "answer_id": 30631861, "question_id": 30631769, "link": "https://stackoverflow.com/questions/30631769/is-it-good-programming-to-call-a-function-in-a-constructor-of-the-same-class/30631861#30631861", "title": "Is it good programming to call a function in a constructor of the same class?", "body": "<p>This is definitely acceptable. Just make sure it is not a virtual function. </p>\n\n<p>EDIT:</p>\n\n<p>\"virtual\" not \"pure virtual\"</p>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 816855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21cdf26bdaf7452f2ace9cd1cb63b0e0?s=128&d=identicon&r=PG", "display_name": "Rosme", "link": "https://stackoverflow.com/users/816855/rosme"}, "is_accepted": true, "score": 0, "last_activity_date": 1433372362, "last_edit_date": 1433372362, "creation_date": 1433370454, "answer_id": 30631893, "question_id": 30631769, "link": "https://stackoverflow.com/questions/30631769/is-it-good-programming-to-call-a-function-in-a-constructor-of-the-same-class/30631893#30631893", "title": "Is it good programming to call a function in a constructor of the same class?", "body": "<p>This is a two part answer. From a technical point of view, sure it's fine, as long as it's not a virtual function.</p>\n\n<p>From a conceptual point of view, it depends what the function does. If all it does is initialisation, then that's what your constructor is suppose to be doing. If it does more, and the function as a purpose outside of that and is being called from elsewhere also, then yeah, it can be a good thing.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4971621, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_vAwkgsrqHk/AAAAAAAAAAI/AAAAAAAAEe0/IpMLtDmOg8w/photo.jpg?sz=128", "display_name": "Veitch", "link": "https://stackoverflow.com/users/4971621/veitch"}, "is_accepted": false, "score": -1, "last_activity_date": 1433370473, "creation_date": 1433370473, "answer_id": 30631897, "question_id": 30631769, "link": "https://stackoverflow.com/questions/30631769/is-it-good-programming-to-call-a-function-in-a-constructor-of-the-same-class/30631897#30631897", "title": "Is it good programming to call a function in a constructor of the same class?", "body": "<p>As long as it's not Virtual function it is acceptable.</p>\n"}, {"tags": [], "owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "is_accepted": false, "score": 1, "last_activity_date": 1433371153, "creation_date": 1433371153, "answer_id": 30632066, "question_id": 30631769, "link": "https://stackoverflow.com/questions/30631769/is-it-good-programming-to-call-a-function-in-a-constructor-of-the-same-class/30632066#30632066", "title": "Is it good programming to call a function in a constructor of the same class?", "body": "<p>If you want pure initialization function, you can handle that (in some cases) in a default constructor</p>\n\n<pre><code>class C\n{\n    C() { /* default init */ }\n    C(int a) : C() { /* do something extra with a */ }\n    C(const std::string&amp; s) : C() { /* do something extra with s */ }\n};\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4970754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7c3db90514c60fa9810b28fd4fd81?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Costa", "link": "https://stackoverflow.com/users/4970754/pedro-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 30631893, "answer_count": 4, "score": 2, "last_activity_date": 1433372362, "creation_date": 1433369882, "last_edit_date": 1433370009, "question_id": 30631769, "link": "https://stackoverflow.com/questions/30631769/is-it-good-programming-to-call-a-function-in-a-constructor-of-the-same-class", "title": "Is it good programming to call a function in a constructor of the same class?", "body": "<p>I was wondering if it is good programming to call a function from a constructor?\nFor example:</p>\n\n<pre><code>class Foo{\n    Foo(){\n        function1();\n    }\n\n    void function1(){\n    }\n};\n</code></pre>\n"}, {"tags": ["c++", "boost", "boost-propertytree"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1433374726, "post_id": 30631638, "comment_id": 49330849, "body": "How much is the pay?"}, {"owner": {"reputation": 1570, "user_id": 1544015, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/5GvtW.jpg?s=128&g=1", "display_name": "Vlad Novakovsky", "link": "https://stackoverflow.com/users/1544015/vlad-novakovsky"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433378698, "post_id": 30631638, "comment_id": 49331858, "body": "question eligible for bounty in 2 days. for money I usually code myself."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433379268, "post_id": 30631638, "comment_id": 49332016, "body": "I was jabbing at the fact that you show zero code yourself. And the abundance of dryly asserted requirements made this look like work. Anyhoops, no need for more imaginary internet points :) Cheers"}], "answers": [{"comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 1570, "user_id": 1544015, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/5GvtW.jpg?s=128&g=1", "display_name": "Vlad Novakovsky", "link": "https://stackoverflow.com/users/1544015/vlad-novakovsky"}, "edited": false, "score": 0, "creation_date": 1433379353, "post_id": 30632707, "comment_id": 49332032, "body": "I think there are some comment &amp; chat-related badges (<a href=\"http://stackoverflow.com/help/badges/94/pundit\">Pundit</a> comes to mind)"}, {"owner": {"reputation": 173, "user_id": 4249338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8dff9e8aa9f72a508991979b759728?s=128&d=identicon&r=PG&f=1", "display_name": "gg99", "link": "https://stackoverflow.com/users/4249338/gg99"}, "edited": false, "score": 0, "creation_date": 1587594166, "post_id": 30632707, "comment_id": 108576948, "body": "is that incurring a (deep) copy of A.B to A.N before discarding A.B? If so, is there a version with move semantics?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 173, "user_id": 4249338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8dff9e8aa9f72a508991979b759728?s=128&d=identicon&r=PG&f=1", "display_name": "gg99", "link": "https://stackoverflow.com/users/4249338/gg99"}, "edited": false, "score": 1, "creation_date": 1587600920, "post_id": 30632707, "comment_id": 108578950, "body": "@gg99 Boost Property Tree is not move-aware. (Too old). With the underlying containers (Boost Multi-Index) you can achieve the effect in a variety of elegant ways, but that requires going into the implementation details of this library. However, none of this matters as Boost Property Tree is both not designed for and not suited for anything performance-sensitive. When people are tempted to do low-lat things with it, invariably they should be using a good JSON or XML library instead."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 3, "last_activity_date": 1433375117, "creation_date": 1433375117, "answer_id": 30632707, "question_id": 30631638, "link": "https://stackoverflow.com/questions/30631638/how-to-rename-node-element-in-boost-property-tree/30632707#30632707", "title": "How to rename node/element in boost property tree?", "body": "<p>Well, then, it is possible. <strike>Send check for code</strike></p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/fe60f2fb44901b06\" rel=\"noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/property_tree/ptree.hpp&gt;\n#include &lt;boost/property_tree/xml_parser.hpp&gt;\n#include &lt;iostream&gt;\n\nusing boost::property_tree::ptree;\n\nint main() {\n    std::istringstream iss(R\"(&lt;A&gt;&lt;B&gt;&lt;C&gt;&lt;/C&gt;&lt;/B&gt;&lt;/A&gt;)\");\n\n    ptree pt;\n    read_xml(iss, pt);\n\n    pt.add_child(\"A.N\", pt.get_child(\"A.B\"));\n    pt.get_child(\"A\").erase(\"B\");\n\n    write_xml(std::cout, pt);\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;A&gt;&lt;N&gt;&lt;C/&gt;&lt;/N&gt;&lt;/A&gt;\n</code></pre>\n"}], "owner": {"reputation": 1570, "user_id": 1544015, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/5GvtW.jpg?s=128&g=1", "display_name": "Vlad Novakovsky", "link": "https://stackoverflow.com/users/1544015/vlad-novakovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1096, "favorite_count": 0, "accepted_answer_id": 30632707, "answer_count": 1, "score": 3, "last_activity_date": 1433375193, "creation_date": 1433369259, "last_edit_date": 1433375193, "question_id": 30631638, "link": "https://stackoverflow.com/questions/30631638/how-to-rename-node-element-in-boost-property-tree", "title": "How to rename node/element in boost property tree?", "body": "<p>For example I have boost property tree of following structure (created by reading stream with xml or in different way):</p>\n\n<pre><code>&lt;A&gt;\n  &lt;B&gt;\n    &lt;C&gt;&lt;/C&gt;\n  &lt;/B&gt;\n&lt;/A&gt;\n</code></pre>\n\n<p>How to rename in <strong>existing</strong> tree  element B to new element with new key: N. So invoking write_xml of this fixed tree should give new xml structure:</p>\n\n<pre><code>&lt;A&gt;\n  &lt;N&gt;\n    &lt;C&gt;&lt;/C&gt;\n  &lt;/N&gt;\n&lt;/A&gt;\n</code></pre>\n\n<p>Please present code if it is possible or explain why it is not.\nRemark: attaching subtree under C to newly generated root is also acceptable but direct renaming in priority.</p>\n"}, {"tags": ["c++", "serialization", "boost", "32bit-64bit", "cereal"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 4592071, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WhXYF.jpg?s=128&g=1", "display_name": "venusisle", "link": "https://stackoverflow.com/users/4592071/venusisle"}, "edited": false, "score": 0, "creation_date": 1433370847, "post_id": 30631665, "comment_id": 49329420, "body": "Thanks!! I add the files to boost\\archive and #include &lt;boost/archive/portable_oarchive.hpp&gt;, however, it still shows error C2039: &#39;portable_oarchive&#39; : is not a member of &#39;boost::archive&#39;, any ideas?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 113, "user_id": 4592071, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WhXYF.jpg?s=128&g=1", "display_name": "venusisle", "link": "https://stackoverflow.com/users/4592071/venusisle"}, "edited": false, "score": 0, "creation_date": 1433374536, "post_id": 30631665, "comment_id": 49330796, "body": "A very casual glance at the header tells you the namespace is <code>eos</code>, not <code>boost::archive</code>. <i>[After all, it&#39;s pretty obvious it is not part of boost, right?]</i>"}, {"owner": {"reputation": 477, "user_id": 1780389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23307d3f6849a3a86ec273a4a78a9f34?s=128&d=identicon&r=PG", "display_name": "olekeh", "link": "https://stackoverflow.com/users/1780389/olekeh"}, "edited": false, "score": 1, "creation_date": 1549997284, "post_id": 30631665, "comment_id": 96104868, "body": "This solution was fantastic - I realised I had to spend many days developing a cross-platform w32 win/x64 Mac archive solution for my project. I used boost serialise functions, and I got signature exceptions,  and with this, I just had to include 5 hpp files in my project, change two lines, and add two includes. That was all, and it worked immediately. Thank you for your tips about this."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1549999177, "post_id": 30631665, "comment_id": 96105783, "body": "@ olekeh Cheers. Hat tip to @je4d who told me about this in 2013, at Meeting C++ in D&#252;sseldorf. I made a strong mental note at the time :)"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 5, "last_activity_date": 1433369326, "last_edit_date": 1592644375, "creation_date": 1433369326, "answer_id": 30631665, "question_id": 30631630, "link": "https://stackoverflow.com/questions/30631630/boost-serialization-does-not-work-between-32bit-and-64bit-machine-any-other-ser/30631665#30631665", "title": "Boost serialization does not work between 32bit and 64bit machine. Any other serialization / compression library?", "body": "<p>It does work. It just doesn't create compatible archives. If you want that you should look at the archive implementation that EOS made:</p>\n<ul>\n<li><a href=\"https://epa.codeplex.com/\" rel=\"nofollow noreferrer\">EOS Portable Archive</a></li>\n</ul>\n<p>You can drop-in replace Boost's binary_[io]archive with it. No need to change anything else.</p>\n<hr />\n<p>PS. Of course, spell out your types in an architecture-independent way too, of course. So <code>uint32_t</code>, not ``size_t`</p>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 1, "last_activity_date": 1433371068, "creation_date": 1433371068, "answer_id": 30632045, "question_id": 30631630, "link": "https://stackoverflow.com/questions/30631630/boost-serialization-does-not-work-between-32bit-and-64bit-machine-any-other-ser/30632045#30632045", "title": "Boost serialization does not work between 32bit and 64bit machine. Any other serialization / compression library?", "body": "<p>The binary archives created by boost::serialization will not work if you change the architecture of the machine. The text archives are a good option in this scenario. Boost::archive::text_oarchive and boost::archive::text_iarchive can be used the exact same way but are safe across architectures and platforms. The data is written in an ascii format instead of a binary format so there are trade offs there that will need to be addressed for your purpose.</p>\n"}, {"comments": [{"owner": {"reputation": 1572, "user_id": 710791, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cd5fbc434a719276d6561f6a8f6d1b6a?s=128&d=identicon&r=PG", "display_name": "Azoth", "link": "https://stackoverflow.com/users/710791/azoth"}, "edited": false, "score": 0, "creation_date": 1479250296, "post_id": 40360681, "comment_id": 68476470, "body": "cereal will generally work for the binary archives so long as you are careful to serialize every type with its size explicitly stated (e.g. use <code>std::int32_t</code> instead of <code>int</code>, etc.). cereal does this internally so the onus is on the user to ensure their types also comply."}, {"owner": {"reputation": 2644, "user_id": 512923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e50bf1429e9441108b3c13cadf184f61?s=128&d=identicon&r=PG", "display_name": "johnwbyrd", "link": "https://stackoverflow.com/users/512923/johnwbyrd"}, "edited": false, "score": 0, "creation_date": 1487826949, "post_id": 40360681, "comment_id": 71961697, "body": "however, cereal as of this writing does not deal with binary differences between 32-bit and 64-bit pointers, smart or otherwise."}], "tags": [], "owner": {"reputation": 417, "user_id": 1955220, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/1f72f513f98751a4611840576e19b24e?s=128&d=identicon&r=PG", "display_name": "atari83", "link": "https://stackoverflow.com/users/1955220/atari83"}, "is_accepted": false, "score": -1, "last_activity_date": 1478005517, "creation_date": 1478005517, "answer_id": 40360681, "question_id": 30631630, "link": "https://stackoverflow.com/questions/30631630/boost-serialization-does-not-work-between-32bit-and-64bit-machine-any-other-ser/40360681#40360681", "title": "Boost serialization does not work between 32bit and 64bit machine. Any other serialization / compression library?", "body": "<p>I'd recommend using 'cereal' for this purpose which could provide JSON/XML serialization.</p>\n"}], "owner": {"reputation": 113, "user_id": 4592071, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/WhXYF.jpg?s=128&g=1", "display_name": "venusisle", "link": "https://stackoverflow.com/users/4592071/venusisle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1503, "favorite_count": 1, "accepted_answer_id": 30631665, "answer_count": 3, "score": 4, "last_activity_date": 1478005517, "creation_date": 1433369212, "question_id": 30631630, "link": "https://stackoverflow.com/questions/30631630/boost-serialization-does-not-work-between-32bit-and-64bit-machine-any-other-ser", "title": "Boost serialization does not work between 32bit and 64bit machine. Any other serialization / compression library?", "body": "<p>I am trying to use the boost library to serialize on 64bit machine and de-serialize on 32bit machine. However, it seems it does not work. (I use 1.57.0).</p>\n\n<p>If I run the following code </p>\n\n<pre><code>boost::asio::streambuf buf;\nstd::ostream os(&amp;buf);\nboost::archive::binary_oarchive oa(os);\nprintf(\"Buffer size %d\\n\",(int)buf.size());\n</code></pre>\n\n<p>The output of 32bit machine is <strong>37</strong> and the output of 64bit machine is <strong>41</strong>.</p>\n\n<p>Is there any other good serialize library I can Use?\nHow about <strong>cereal</strong>? </p>\n\n<p>It's great if the library can do compression as well (zlib/gzip etc.). </p>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 5115, "user_id": 864696, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/88RyU.jpg?s=128&g=1", "display_name": "Ross Presser", "link": "https://stackoverflow.com/users/864696/ross-presser"}, "edited": false, "score": 1, "creation_date": 1433369769, "post_id": 30631605, "comment_id": 49329012, "body": "What language is your program? (Add a tag for that language). What type is &quot;ll&quot;? Can you give the COMPLETE program, including declarations for seive and whatever includes are necessary to define ll or modpow?"}, {"owner": {"reputation": 21, "user_id": 4971547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-94X7zCEgTMw/AAAAAAAAAAI/AAAAAAAAABg/KjveSW69QQw/photo.jpg?sz=128", "display_name": "IIT2014159 IIT2014159", "link": "https://stackoverflow.com/users/4971547/iit2014159-iit2014159"}, "reply_to_user": {"reputation": 5115, "user_id": 864696, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/88RyU.jpg?s=128&g=1", "display_name": "Ross Presser", "link": "https://stackoverflow.com/users/864696/ross-presser"}, "edited": false, "score": 0, "creation_date": 1433405709, "post_id": 30631605, "comment_id": 49341450, "body": "ya sorry about that. ll is long long int in C++.This is the complete program :<a href=\"http://ideone.com/fUZUIC\" rel=\"nofollow noreferrer\">ideone.com/fUZUIC</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4971547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-94X7zCEgTMw/AAAAAAAAAAI/AAAAAAAAABg/KjveSW69QQw/photo.jpg?sz=128", "display_name": "IIT2014159 IIT2014159", "link": "https://stackoverflow.com/users/4971547/iit2014159-iit2014159"}, "edited": false, "score": 0, "creation_date": 1433405825, "post_id": 30632845, "comment_id": 49341517, "body": "Ya that&#39;s fine but I couldn&#39;t find a fault in my function to calculate the sum. Any help in that would be great. :)"}], "tags": [], "owner": {"reputation": 16306, "user_id": 448810, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4b14d4a7503a55cb803c049700ed83b?s=128&d=identicon&r=PG", "display_name": "user448810", "link": "https://stackoverflow.com/users/448810/user448810"}, "is_accepted": false, "score": 0, "last_activity_date": 1433376187, "creation_date": 1433376187, "answer_id": 30632845, "question_id": 30631605, "link": "https://stackoverflow.com/questions/30631605/function-that-calculates-sum-of-proper-divisors/30632845#30632845", "title": "function that calculates sum of proper divisors", "body": "<p>Find the factors of <em>n</em>, then use the <a href=\"http://en.wikipedia.org/wiki/Divisor_summatory_function\" rel=\"nofollow\">Divisor Summatory Function</a> to compute the sum of the divisors of <em>n</em>, taking all products modulo <em>m</em>. In your problem <em>n</em> &lt; 10<sup>9</sup>, so a simple factoring function based on trial division will probably be sufficient.</p>\n\n<p>Ask questions if you need additional help.</p>\n"}], "owner": {"reputation": 21, "user_id": 4971547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-94X7zCEgTMw/AAAAAAAAAAI/AAAAAAAAABg/KjveSW69QQw/photo.jpg?sz=128", "display_name": "IIT2014159 IIT2014159", "link": "https://stackoverflow.com/users/4971547/iit2014159-iit2014159"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 420, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433405620, "creation_date": 1433369087, "last_edit_date": 1433405620, "question_id": 30631605, "link": "https://stackoverflow.com/questions/30631605/function-that-calculates-sum-of-proper-divisors", "title": "function that calculates sum of proper divisors", "body": "<p>I encountered a problem on SPOJ that requires the user to calculate sum of divisors of a number (n) modulus with another number (m)</p>\n\n<p><a href=\"http://www.spoj.com/problems/HDEVIL/\" rel=\"nofollow\">http://www.spoj.com/problems/HDEVIL/</a></p>\n\n<p>While calculating if I use this function, SPOJ gives WA. I am unable to find problem with the function. Any Advice is welcome and appreciated.</p>\n\n<pre><code>int i=0;\nll prod=1;\nwhile(seive[i]*seive[i]&lt;=n)\n{\n    int p=seive[i],j=1;\n    ll count=1;\n    while(n%p==0)\n    {\n        count+=modpow(p,j,mod);\n        j++;\n        n/=p;\n    }\n\n    prod=((prod%mod)*(count%mod))%mod;\n    i++;\n}\nif(n&gt;1)\n{\n    prod*=n+1;\n    prod%=mod;\n}\n</code></pre>\n\n<p>Here prod is the final sum and seive[] stores the prime numbers and modpow is the power modulus function.</p>\n"}, {"tags": ["c++", "qt", "focus"], "comments": [{"owner": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "edited": false, "score": 4, "creation_date": 1433369095, "post_id": 30631523, "comment_id": 49328728, "body": "<a href=\"http://doc.qt.io/qt-5/qwidget.html#setFocus\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qwidget.html#setFocus</a> says &quot;Be aware that if the widget is hidden, it will not accept focus until it is shown.&quot;"}, {"owner": {"reputation": 3506, "user_id": 1110338, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/cePRv.jpg?s=128&g=1", "display_name": "AngryDuck", "link": "https://stackoverflow.com/users/1110338/angryduck"}, "edited": false, "score": 0, "creation_date": 1433427978, "post_id": 30631523, "comment_id": 49356776, "body": "or if you just use customContextMenu it will do this for you...have you looked at this?"}, {"owner": {"reputation": 3508, "user_id": 2366975, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae4a011fee0b6009688aabb269cda8a8?s=128&d=identicon&r=PG", "display_name": "user2366975", "link": "https://stackoverflow.com/users/2366975/user2366975"}, "edited": false, "score": 0, "creation_date": 1433495909, "post_id": 30631523, "comment_id": 49387737, "body": "I don&#39;t think I could insert such a complex widget as a <code>QWidgetAction*</code> into a <code>QMenu</code>, but thanks"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 6057305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/962046379984574560a0cd7310e615a1?s=128&d=identicon&r=PG&f=1", "display_name": "Rashid Mansouri", "link": "https://stackoverflow.com/users/6057305/rashid-mansouri"}, "is_accepted": false, "score": 2, "last_activity_date": 1592676743, "last_edit_date": 1592676743, "creation_date": 1524975615, "answer_id": 50083346, "question_id": 30631523, "link": "https://stackoverflow.com/questions/30631523/qwidget-setfocus-does-nothing/50083346#50083346", "title": "QWidget setFocus does nothing", "body": "<p>Try the code below, it  should work:</p>\n<pre><code>QTimer::singleShot(0, lineEdit, SLOT(setFocus()));\n</code></pre>\n"}], "owner": {"reputation": 3508, "user_id": 2366975, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ae4a011fee0b6009688aabb269cda8a8?s=128&d=identicon&r=PG", "display_name": "user2366975", "link": "https://stackoverflow.com/users/2366975/user2366975"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3530, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1592676743, "creation_date": 1433368707, "last_edit_date": 1433501366, "question_id": 30631523, "link": "https://stackoverflow.com/questions/30631523/qwidget-setfocus-does-nothing", "title": "QWidget setFocus does nothing", "body": "<p>I am implementing a custom context menu that is basically a widget called <code>gripmenu</code> containing several other widgets. If the user left clicks, this menu should appear. To hide or delete it if the user clicks outside of it, I need to somehow check if the user click somewhere else. My plan is to ask all its child widgets for <code>-&gt;hasFocus()</code> and if none hasFocus, I will close the menu. But unfortunately I can't set the focus. Why? My code is:</p>\n\n<pre><code>gripmenu = new GripMenu(this);\ngripmenu-&gt;setFocus();\n</code></pre>\n\n<p>And in the <code>gripmenu</code>'s constructor:</p>\n\n<pre><code>GripMenu::GripMenu(){\n  [... set things up]\n  ui-&gt;lineEdit-&gt;setFocus(); // or any other widget to focus, \n                            // even this-&gt;setFocus() does not work: see below:\n  qDebug() &lt;&lt; ui-&gt;lineEdit-&gt;hasFocus(); // returns false!\n}\n</code></pre>\n\n<p>How is it possible that there is no focus immediately after I just set it?</p>\n\n<p>At the end my goal is to mimic a typical context-menu behaviour (meaning that the menu is closed when clicked somewhere else). So if you have better suggestions on how to tackle it, please hint me that way!</p>\n\n<p>EDIT:</p>\n\n<p>I got it working. The hint of Frank Osterfeld was really useful. Still I had to add a \"gripmenu->activate()\" in the widget \"A\" that created(needed) the gripmenu, because without it, the active widget would still be \"A\" after the mouse got released.</p>\n"}, {"tags": ["c++", "mingw"], "comments": [{"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1433660779, "post_id": 30631476, "comment_id": 49440820, "body": "Are you typing that <code>gcc</code> command into a <code>cmd.exe</code> window, or batch file or are you using some other shell or a makefile?  <code>cmd.exe</code> doesn&#39;t expand environment variables using the <code>$(xxx)</code> syntax, so if you&#39;re typing that into <code>cmd.exe</code> you should try <code>gcc jassimp.cpp -I%JAVA_HOME%&#47;include&#47; -I%JAVA_HOME%&#47;include&#47;win32 -lassimp -shared</code>"}], "owner": {"reputation": 2761, "user_id": 1846280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/45af98ea7a43d56ae05b6ffd531b0f1a?s=128&d=identicon&r=PG", "display_name": "Tetramputechture", "link": "https://stackoverflow.com/users/1846280/tetramputechture"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1433370481, "creation_date": 1433368514, "last_edit_date": 1433370481, "question_id": 30631476, "link": "https://stackoverflow.com/questions/30631476/how-do-i-build-jassimp-with-mingw", "title": "How Do I Build JAssimp With MinGW?", "body": "<p>I'm using MinGW to try to build <a href=\"https://github.com/assimp/assimp/tree/master/port/jassimp\" rel=\"nofollow\">JAssimp.</a></p>\n\n<p>For Unix users, the command to build the .so file is this:</p>\n\n<pre><code>gcc jassimp.cpp -I/usr/lib/jvm/default/include/ \\\n      -I/usr/lib/jvm/default/include/linux -lassimp -shared -fPIC -o libjassimp.so\n</code></pre>\n\n<p>However, I'm on Windows, using MinGW.</p>\n\n<p>I've tried using this command to build the .dll:</p>\n\n<pre><code>gcc jassimp.cpp -I$(JAVA_HOME)/include/ -I$(JAVA_HOME)/include/win32 -lassimp -shared\n</code></pre>\n\n<p>Where <code>$JAVA_HOME$</code> is the path environment variable leading to the JDK directory.</p>\n\n<p>However, I get this error when I try this:</p>\n\n<pre><code>In file included from jassimp.cpp:1:0:\njassimp.h:2:17: fatal error: jni.h: No such file or directory\n #include &lt;jni.h&gt;\n                 ^\ncompilation terminated.\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["c++", "struct", "interface", "enums"], "comments": [{"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 0, "creation_date": 1433368977, "post_id": 30631469, "comment_id": 49328673, "body": "Can you modify <code>progDefs.h</code> contents?"}, {"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "reply_to_user": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 0, "creation_date": 1433369376, "post_id": 30631469, "comment_id": 49328839, "body": "It is another program&#39;s interface.  So while we can physically modify the header files, the values need to be as defined.  I.e. to interface with version 1 we must sent a packet of 4 bytes with value 0.  For version 2 we must send a packet of 84 bytes with value 1 in first 4 bytes.  Thank you for viewing question."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1433369676, "post_id": 30631469, "comment_id": 49328977, "body": "Conditional inclusion is definitely possible in C++, but you can&#39;t pick at runtime. (It&#39;s one of C and C++&#39;s controversial features)"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433370757, "post_id": 30631611, "comment_id": 49329382, "body": "Could you elaborate a bit on this suggestion?  Which aspect is the visitor, which is the color?  Thank you for the reply"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433370914, "post_id": 30631611, "comment_id": 49329442, "body": "@talisman: If we use the example in the link, your BaseWriter becomes the Color base class, and your version1Writer and version2Writer become the Red and Blu classes, respectively."}, {"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433372226, "post_id": 30631611, "comment_id": 49330026, "body": "Then the visitor would be for the sendBookPacket function?  But in the example provided the countVisitor just included the variables for both red and blue.  We could use namespaces to include both versions of headers in the visitor, but can&#39;t see how that would save duplication of code as we&#39;d have to instantiate and reference all versions of structures and enumerations."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433372697, "post_id": 30631611, "comment_id": 49330193, "body": "You could have the visitor funcitons do the stuff that&#39;s different and then call a common function in the base class."}, {"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433373149, "post_id": 30631611, "comment_id": 49330347, "body": "I apologize, but I can&#39;t envision the answer.  As described above the whole function is common.  The issue is it needs to reference a structure type and enumeration value, which has multiple definitions depending on which header you use. If there is a code snippet you can show using above example which handles this it would be much appreciated."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433373508, "post_id": 30631611, "comment_id": 49330475, "body": "Ok.  Separate the packing of the struct and the sending of it into 2 separate functions.  The packing one (this is the different one since it includes different struct defs) will be the &quot;visitor function&quot;.  The sending function will be common.  The visitor classes will include the different struct def files and do the packing.  If you happen to have fields that are the same, you will have to duplicate them but this seems like a good thing since it prevents changes to one from affecting the others.  You still get the benefit of a common interface to the entire thing."}, {"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433454308, "post_id": 30631611, "comment_id": 49372265, "body": "Thank you rost again.  I understand your suggestion now.  And this is actually what I&#39;m doing now with the base and virtual classes.  I was hoping to find a trick to improve on this as all the code is exactly the same.  The entire function - packing, enumerations, and sending are exactly the same code lines between all the versions, so was trying to avoid the extra duplication of code.  The versions once I get them won&#39;t change, though new versions will come out later.  Eventually the trick might not work, but the question was to avoid any duplicate lines of code - maybe not possible.  Thanks!"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433456161, "post_id": 30631611, "comment_id": 49372941, "body": "Fantastic.  Feel free to upvote the answer.  Maybe others will find this useful too."}], "tags": [], "owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "is_accepted": false, "score": 0, "last_activity_date": 1433369128, "creation_date": 1433369128, "answer_id": 30631611, "question_id": 30631469, "link": "https://stackoverflow.com/questions/30631469/c-design-for-multiple-versions-of-same-interface-enumerations-structures-in/30631611#30631611", "title": "C++ design for multiple versions of same interface (enumerations / structures in header files)", "body": "<p>This seems like a good candidate for <a href=\"https://sourcemaking.com/design_patterns/visitor/cpp/1\" rel=\"nofollow\">Visitor Pattern</a>.  The visitor pattern will allow you to choose which object to instantiate at runtime instead of compile time.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433372811, "post_id": 30631709, "comment_id": 49330229, "body": "In this case is &quot;using&quot; a new feature of C++11?  I&#39;m only familiar with it in regards to namespaces.  Compiler didn&#39;t like this syntax.  Thank you."}, {"owner": {"reputation": 5297, "user_id": 2724703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5r5Vj.jpg?s=128&g=1", "display_name": "Mantosh Kumar", "link": "https://stackoverflow.com/users/2724703/mantosh-kumar"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433380596, "post_id": 30631709, "comment_id": 49332315, "body": "@talisman: yes it is new feature of C++11. If you are using the older compiler, change using with typedef"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433400472, "post_id": 30631709, "comment_id": 49338442, "body": "@talisman yes, you can use <code>typedef</code> as @MantoshKumar said, see my update."}, {"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433460671, "post_id": 30631709, "comment_id": 49374510, "body": "Thank you! It took a bit for me to get it to compile, as I don&#39;t generally use templates nor enums in structures, but this solution did work.  Note: when changed to typedef method had to make items::BOOK_TYPE be Version::BOOK_TYPE.  Not sure if that was an error for C++11 as well, or just a symptom of changing to typedef.  Thank you again - will have to determine if this will make sense for the larger project.  Never mixed templates with inheritance."}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433486619, "post_id": 30631709, "comment_id": 49382337, "body": "@talisman Glad that it helped. Regarding <code>items::BOOK_TYPE</code> vs <code>Version::BOOK_TYPE</code> - it&#39;s also a feature in C++11 that you can use enum name for scope resolution even for old-style enums. Sorry for confusion."}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": false, "score": 1, "last_activity_date": 1433400427, "last_edit_date": 1433400427, "creation_date": 1433369642, "answer_id": 30631709, "question_id": 30631469, "link": "https://stackoverflow.com/questions/30631469/c-design-for-multiple-versions-of-same-interface-enumerations-structures-in/30631709#30631709", "title": "C++ design for multiple versions of same interface (enumerations / structures in header files)", "body": "<p>You could wrap the contents of each <code>progDefs.h</code> file into a struct, preferably directly, or if you can't  modify it, like this:</p>\n\n<pre><code>struct Version1 {\n#include \"version1\\progDefs.h\"\n};\n</code></pre>\n\n<p>Then you can make <code>baseWriter</code> a template class:</p>\n\n<pre><code>template &lt;typename Version&gt;\nclass baseWriter\n{\n    using packet = typename Version::packet;\n    using items = typename Version::items;\n\n    void sendBookPacket() {\n        packet pkt;\n        pkt.type = items::BOOK_TYPE;\n        sendNetworkPacket((void*)&amp;pkt, sizeof(pkt));\n    }\n};\n</code></pre>\n\n<p>And then</p>\n\n<pre><code>using version1Writer = baseWriter&lt;Version1&gt;;\nusing version2Writer = baseWriter&lt;Version2&gt;;\n</code></pre>\n\n<p><strong>Update:</strong><br>\nIf C++11 is not available, replace <code>using X = Y</code> in the code above to <code>typedef Y X</code>. That is, e.g</p>\n\n<pre><code>typedef typename Version::packet packet;\n</code></pre>\n\n<p>You can also do everything without these typedefs, they just simplify the code a bit.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "edited": false, "score": 0, "creation_date": 1433372316, "post_id": 30631933, "comment_id": 49330055, "body": "We thought of macros to autogenerate the code per child class, but not preferred method.  Thanks for the reply"}], "tags": [], "owner": {"reputation": 35319, "user_id": 871910, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/f073f5ca74b61813e689bbda8d12ba2b?s=128&d=identicon&r=PG", "display_name": "zmbq", "link": "https://stackoverflow.com/users/871910/zmbq"}, "is_accepted": false, "score": 0, "last_activity_date": 1433370622, "creation_date": 1433370622, "answer_id": 30631933, "question_id": 30631469, "link": "https://stackoverflow.com/questions/30631469/c-design-for-multiple-versions-of-same-interface-enumerations-structures-in/30631933#30631933", "title": "C++ design for multiple versions of same interface (enumerations / structures in header files)", "body": "<p>I think you'll need to duplicate your code, like you did, if you want to be sure it works. You don't have to duplicate it by hand, you can generate the code automatically to save you the work and many potential bugs.</p>\n"}], "owner": {"reputation": 41, "user_id": 4971426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45758bc17dac2c03ef328b276968d16?s=128&d=identicon&r=PG&f=1", "display_name": "talisman", "link": "https://stackoverflow.com/users/4971426/talisman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1182, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1433400427, "creation_date": 1433368500, "last_edit_date": 1433371539, "question_id": 30631469, "link": "https://stackoverflow.com/questions/30631469/c-design-for-multiple-versions-of-same-interface-enumerations-structures-in", "title": "C++ design for multiple versions of same interface (enumerations / structures in header files)", "body": "<p>We are interfacing with an externally controlled program with defined headers containing enumerations, and structures.  We want to be able to interface with multiple versions of this program with as little duplication of code as possible.  Each version has the same general enums and structures, but with slight modifications over time.  In the ideal setup we could just conditionally include the different versions of the same header (i.e. if interfacing with version 1 #include \"version1\\progDefs.h\", else #include \"version2\\progDefs.h\"), but don't believe that is possible in C++.  </p>\n\n<p>Below is a simple example to illustrate the issue and what we are currently doing.  Thank you for any assistance.</p>\n\n<p>version1\\progDefs.h contains</p>\n\n<pre><code>enum items\n{  \n  BOOK_TYPE = 0,\n  PAGE_TYPE = 1,\n  WORD_TYPE = 2\n};\nstruct packet\n{\n  int type;\n};\n</code></pre>\n\n<p>version2\\progDefs.h contains</p>\n\n<pre><code>enum items\n{  \n  VOLUME_TYPE = 0,\n  BOOK_TYPE = 1,\n  PAGE_TYPE = 2,\n  WORD_TYPE = 3\n};\nstruct packet\n{\n  int type;\n  char detail[80];\n};\n</code></pre>\n\n<p>We now want to write out the packet structure to the network, being able to pick at runtime which version to use.  Currently we have a base class and then one child class for each version.  They look something like this</p>\n\n<p>baseWriter.h</p>\n\n<pre><code>class baseWriter\n{\n    virtual void sendBookPacket() = 0;\n};\n</code></pre>\n\n<p>version1Writer.cpp</p>\n\n<pre><code>#include \"baseWriter.h\"\n#include \"version1\\progDefs.h\"\n\nclass version1Writer : public baseWriter {};\nvoid version1Writer::sendBookPacket()\n{\n  struct packet pkt;\n  pkt.type = BOOK_TYPE;\n  sendNetworkPacket((void*)&amp;pkt, sizeof(pkt));\n}\n</code></pre>\n\n<p>version2Writer.cpp</p>\n\n<pre><code>#include \"baseWriter.h\"\n#include \"version2\\progDefs.h\"\n\nclass version2Writer : public baseWriter {};\nvoid version2Writer::sendBookPacket()\n{\n  struct packet pkt;\n  pkt.type = BOOK_TYPE;\n  sendNetworkPacket((void*)&amp;pkt, sizeof(pkt));\n}\n</code></pre>\n\n<p>This will work, but as you can see the code is the exact same in both classes.  The only difference is in the values and structure used because of the different version of headers.  In reality the project has many enumerations with hundreds of items, and many structures, none of which we have control over.  They can change at any time, but our code doesn't need to as the new elements are not relevant to the program.  However the changes do effect the values / size of the elements used.  Is there any way to design our code to use these headers without duplicating code? Thank you! </p>\n\n<p>Note: We do not have support for C++11. Thank you for the suggestions.  Many are suggestions coding terms I'm unfamiliar with and will have to test to see if supported by compiler and will try and respond to each individually.</p>\n"}, {"tags": ["c++", "pointers", "object", "initialization", "declaration"], "comments": [{"owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 1, "creation_date": 1433369310, "post_id": 30631467, "comment_id": 49328817, "body": "@close vote - this doesn&#39;t look like an opinion based question to me. While a bit poorly phrased (probably due to lack of understanding) the question is really about the technicalities of the C++ language."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1433369370, "post_id": 30631467, "comment_id": 49328835, "body": "I <i>think</i> it is asking about how to do two-phase initialization"}, {"owner": {"reputation": 858, "user_id": 1508094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f2d5f34c589d2c17a3573623844771?s=128&d=identicon&r=PG", "display_name": "DrGoldfire", "link": "https://stackoverflow.com/users/1508094/drgoldfire"}, "edited": false, "score": 1, "creation_date": 1433369551, "post_id": 30631467, "comment_id": 49328914, "body": "I feel like I&#39;m missing something; is there a reason why you cannot create the Window object and initialize it at the same time? You need the declaration and the initialization to be in different places? Because if you don&#39;t, then just include the initialization in the declaration statement and there&#39;s no problem."}, {"owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1433369628, "post_id": 30631467, "comment_id": 49328951, "body": "@MattMcNabb Huh. I thought the question was about how to <i>avoid</i> doing two-phase initialization."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 858, "user_id": 1508094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f2d5f34c589d2c17a3573623844771?s=128&d=identicon&r=PG", "display_name": "DrGoldfire", "link": "https://stackoverflow.com/users/1508094/drgoldfire"}, "edited": false, "score": 0, "creation_date": 1433369637, "post_id": 30631467, "comment_id": 49328956, "body": "@goldfire imagine for example that we don&#39;t know the creation parameters for the window yet when we are creating the Game"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "edited": false, "score": 0, "creation_date": 1433369718, "post_id": 30631467, "comment_id": 49328994, "body": "@Cubic let me rephrase... he does two-phase initialization in Java and he can&#39;t get anything at all working in C++ (so he either needs C++ two-phase initialization, or learn about jamming everything into the constructor init list (which IMHO is not always appropriate))."}, {"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "reply_to_user": {"reputation": 858, "user_id": 1508094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42f2d5f34c589d2c17a3573623844771?s=128&d=identicon&r=PG", "display_name": "DrGoldfire", "link": "https://stackoverflow.com/users/1508094/drgoldfire"}, "edited": false, "score": 0, "creation_date": 1433369946, "post_id": 30631467, "comment_id": 49329080, "body": "@goldfire From what I read, ideally the .hpp should have all the declaration in it, while the .cpp has the real meat (initialization, implementation) in it. Maybe more clarity on that is indeed required. Sorry, am a bloody C++ beginner."}, {"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1433370054, "post_id": 30631467, "comment_id": 49329119, "body": "@MattMcNabb and Cubic: I try to avoid two-phase, as I understood it would then create the object twice (where the first one will be trashed). At the same time, I try not to over-use pointers."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1433370252, "post_id": 30631467, "comment_id": 49329199, "body": "@domdom two-phase initialization means you initialize some things during construction and then initialize some things later. You&#39;re describing initialization and then assignment, which is one way of implementing two-phase; but not the only way. My answer shows another way which doesn&#39;t involve assignment. There&#39;s no single correct answer to this question , it&#39;s a design decision that is usually based on experience! So I would advise to just do something, and then you will learn the pros and cons of it by seeing how your project turns out."}], "answers": [{"comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433369653, "post_id": 30631590, "comment_id": 49328965, "body": "Sorry, I obviously tried to keep the code excerpts <b>too</b> short. That <code>Window window;</code> would be inside the class definition, of course. I will edit accordingly. This would then be correct though, right?"}], "tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": false, "score": 2, "last_activity_date": 1433369004, "creation_date": 1433369004, "answer_id": 30631590, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers/30631590#30631590", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p>You're apparently misunderstanding C++. You'd never have <code>Window window;</code> just like that in a header. That defines a Window object, <em>every time the header is included</em> !</p>\n\n<p>You may have <code>class GameEngine { Window window; .... }</code> but that doesn't actually crate a window at all. Each GameEngine constructor has an initializer list, and there you do initialize <code>window</code>. Makes sense: the game engine creates the window it needs. </p>\n"}, {"comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433371012, "post_id": 30631596, "comment_id": 49329483, "body": "Thank you. Your first sentence pretty much summarized what got me confused; I thought class member declaration would trigger their constructors. If I could, I&#39;d mark your answer accepted as well, but I had to choose one. :\\"}], "tags": [], "owner": {"reputation": 13734, "user_id": 938694, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/b6678a430a805dd78366d6e135b49f2d?s=128&d=identicon&r=PG", "display_name": "Cubic", "link": "https://stackoverflow.com/users/938694/cubic"}, "is_accepted": false, "score": 1, "last_activity_date": 1433369018, "creation_date": 1433369018, "answer_id": 30631596, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers/30631596#30631596", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p>If you're talking about class members, then declaration is <em>not</em> the same point the constructor is being called. Initialization of such members is exactly what initializer lists (which you do seem to know about) are for!</p>\n\n<pre><code>class Window {\n   int x;\n   int y;\n public:\n   Window(int x, int y);\n };\n</code></pre>\n\n<p>and</p>\n\n<pre><code>class Game {\n Window window;\npublic:\n Game();\n};\n</code></pre>\n\n<p>Then you can call the constructor of the window class from the game constructor like so:</p>\n\n<pre><code>Game::Game() : window(DEFAULT_HEIGHT, DEFAULT_WIDTH) {}\n</code></pre>\n\n<hr>\n\n<p>In case you were talking about globals: If you really need a global object (although you probably don't want that) you can (and should!) declare the object with external linkage in the header (which will only make the name available, but not call any constructors) and do the definition in the implementation:</p>\n\n<p>Declaration:</p>\n\n<pre><code>extern Window window;\n</code></pre>\n\n<p>Implementation:</p>\n\n<pre><code>Window window(DEFAULT_WIDTH, DEFAULT_HEIGHT);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433371129, "post_id": 30631655, "comment_id": 49329531, "body": "Thank you, too. I think I now understand what my misconception was. Sorry for my beginner&#39;s confusion. Again, thanks for the input. :)"}], "tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1433369302, "last_edit_date": 1495540400, "creation_date": 1433369302, "answer_id": 30631655, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers/30631655#30631655", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p>Ideally, you would design your classes so that all the initialization you need can occur in the constructor.  <a href=\"https://stackoverflow.com/questions/18475833/avoiding-two-phase-initialization\">Example here</a>.</p>\n\n<p>But this isn't always possible (e.g. if you want a Window that isn't created until some particular event happens during the Game); or it can be hard to wrap your head around as a new programmer.</p>\n\n<hr>\n\n<p>One approach is to use pointers - but use a smart pointer instead of a raw pointer.</p>\n\n<p>If your class needs to contain some object handles but you aren't ready to create the object yet, then you can have a class member:</p>\n\n<pre><code>std::unique_ptr&lt;Window&gt; p_window;\n</code></pre>\n\n<p>Then when you are ready to create the window, you can execute the code:</p>\n\n<pre><code>p_window.reset( new Window(bla bla bla) );\n</code></pre>\n\n<p>The smart pointer takes care of calling <code>delete</code> when its containing object is destroyed, and it will give a compile error if you accidentally try to do a \"shallow copy\".</p>\n\n<p>To use the pointer once it is pointing somewhere you would write <code>p_window-&gt;bla...</code>, and to check if it has been assigned yet you can use <code>if ( p_window )</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433370597, "post_id": 30631812, "comment_id": 49329325, "body": "I think this actually made me realize my conceptual mistake: I assumed having <code>class GameEngine { Window window; }</code> would already call Window&#39;s ctor, because <code>Window window;</code> would do that if it would occur like that in some function, right? But the fact that it does not call the ctor here and I can initialize the object in GameEngine&#39;s member initialization list is indeed a satisfying solution for most cases. Thanks for helping with a beginner&#39;s confusion!"}, {"owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "reply_to_user": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 1, "creation_date": 1433370782, "post_id": 30631812, "comment_id": 49329395, "body": "Correct, declaring something as a member of a class does not construct it. It will be constructed when the class is constructed."}, {"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433371965, "post_id": 30631812, "comment_id": 49329916, "body": "One more question; what would happen if I would <b>not</b> initialize <code>window</code> in the ctor of <code>Game</code>? Would it be still uninitialized or would the compiler call the default ctor of <code>Window</code>?"}, {"owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "reply_to_user": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 1, "creation_date": 1433372187, "post_id": 30631812, "comment_id": 49330012, "body": "If a constructor is not explicitly called for a member in the initialization of a class then it will try to use a default no parameter constructor for it, if non exists then you will get a compile error. So if window had a no parameter constructor then that will be called otherwise it wont compile"}, {"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433372987, "post_id": 30631812, "comment_id": 49330290, "body": "Ah, got it. You helped me a lot, Josh. Thank you!"}], "tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": true, "score": 5, "last_activity_date": 1433370093, "creation_date": 1433370093, "answer_id": 30631812, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers/30631812#30631812", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p>If you want to construct it only once and it can be done in the initialization of the class then you dont need a pointer. You can declare it as a member and initialize it in the constructor like so:</p>\n\n<p>HPP</p>\n\n<pre><code>class Game\n{\n    private:\n        Window window_;\n\n    public:\n        Game(int, int);\n}\n</code></pre>\n\n<p>CPP</p>\n\n<pre><code>Game::Game(int width, int height) : window_(width, height)\n{\n}\n</code></pre>\n\n<p>This will construct the window object when you construct the Game object and it will persist until the Game object is destroyed. If you want to be able to construct it later or reconstruct it at any time then use a std::unique_ptr like so:</p>\n\n<p>HPP</p>\n\n<pre><code>class Game\n{\n    private:\n       std::unique_ptr&lt;Window&gt; window_;\n\n    public:\n        Game(int, int);\n        void SomeMethod(int, int);\n\n}\n</code></pre>\n\n<p>CPP</p>\n\n<pre><code>Game::Game(int width, int height)\n{\n    window_ = std::make_unique&lt;Window&gt;(width, height);\n}\n\nGame::SomeMethod(int width, int height)\n{\n    window_ = std::make_unique&lt;Window&gt;(width, height);\n}\n</code></pre>\n\n<p>This will automatically delete the window when the Game object is destroyed and automatically delete the window each time you call std::make_unique to build a new one. Here is some doc on unique_ptr:\n<a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"noreferrer\">http://en.cppreference.com/w/cpp/memory/unique_ptr</a></p>\n"}, {"comments": [{"owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "edited": false, "score": 0, "creation_date": 1433371278, "post_id": 30632028, "comment_id": 49329598, "body": "Yes, I think coming from Java can really lead to some confusion when trying to wrap one&#39;s head around C++. I&#39;m struggling more than I thought I would. It is slowly coming together though. Thanks for your input. :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user1084944"}, "is_accepted": false, "score": 0, "last_activity_date": 1433371022, "creation_date": 1433371022, "answer_id": 30632028, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers/30632028#30632028", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p>The option you're missing is to initialize <code>Window</code> objects when they're created. Don't declare <code>Window</code> objects in your functions before you know how to initialize them. If you have an object with a <code>Window</code> members, have the constructor to the object initialize the <code>Window</code> member.</p>\n\n<p>Pointers are fine and the right thing to do if the time of creation of an object really is indeterminate, or you really and truly need to declare a variable for it before you are ready to create a valid object.</p>\n\n<p>The point of the advice you mention is not to change how you design objects, but that you need to reconsider how you <em>use</em> the objects: you need to unlearn habits you've picked up from everything-is-a-pointer programming environments like Java. </p>\n\n<p>(although you should use smart pointers, like <code>unique_ptr</code> or <code>shared_ptr</code> as appropriate)</p>\n\n<p>(also, if you believe a class will pretty much always need to be used with pointers, it is useful to make a wrapper class around the pointer that acts like a \"plain object\" even though its implemented with a pointer inside)</p>\n"}], "owner": {"reputation": 3618, "user_id": 3316645, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bootU.png?s=128&g=1", "display_name": "domsson", "link": "https://stackoverflow.com/users/3316645/domsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13560, "favorite_count": 2, "accepted_answer_id": 30631812, "answer_count": 5, "score": 8, "last_activity_date": 1433371022, "creation_date": 1433368497, "last_edit_date": 1433370786, "question_id": 30631467, "link": "https://stackoverflow.com/questions/30631467/how-to-best-handle-c-object-initialization-empty-constructors-or-pointers", "title": "How to best handle C++ object initialization: empty constructors or pointers?", "body": "<p><strong>I'm wondering what is the best way to go about object initialization and storage</strong> with regards to objects that have to have a relatively large scope / long lifetime. Let's say we have a <code>GameEngine</code> class that needs to initialize and hold a reference to a <code>Window</code> for rendering. The reference is needed throughout the program's lifetime and the window needs to know its dimensions, at least.</p>\n\n<p>In Java, I'd do it like this:</p>\n\n<pre><code>// Declaration:\nWindow window;\n// Initialization:\nwindow = new Window(width, height);\n</code></pre>\n\n<p>I understood that in C++, the first would already call the default constructor of the Window class, hence be <strong>declaration</strong> and <strong>initialization</strong>. Having a <code>window = Window(width, height);</code> would therefore be <strong>assignment</strong>, throwing away the already existing object.</p>\n\n<p><strong>The first solution I could find was to use a pointer</strong>:</p>\n\n<pre><code>// GameEngine.hpp\nclass GameEngine {\n    Window *window;\n};\n\n// Somewhere in GameEngine.cpp:\nwindow = new Window(width, height);\n</code></pre>\n\n<p>But then again, I constantly read one should favor plain objects over pointers whenever possible and in fact, I got myself into a mess of pointers in no time, so I am looking for another way.</p>\n\n<p><strong>Another solution seems to design your objects to have a constructor without parameters and set up the object later on</strong>:</p>\n\n<pre><code>// GameEngine.hpp\nclass GameEngine {\n    Window window;\n};\n\n// Somewhere in GameEngine.cpp\nwindow.setWidth(width);\nwindow.setHeight(height);\n</code></pre>\n\n<p>This works, but has a serious drawback: the object (at least in this case) could be in an inconsistent state, as trying to display the window without setting width/height would result in an error or crash. It does work for some objects, but for most it does not.</p>\n\n<p><strong>One way to avoid this would be to have default values. For example, the constructor for the Window class could look like this</strong>:</p>\n\n<pre><code>Window::Window(int width = 800, int height = 600) {}\n</code></pre>\n\n<p><strong>Or even like that</strong>:</p>\n\n<pre><code>Window::Window() : width(DEFAULT_WIDTH), height(DEFAULT_HEIGHT) {}\n</code></pre>\n\n<p>But in many cases, default values will be hard to determine. Also, where should they be coming from? Should the Window class define <code>DEFAULT_WIDTH</code> and <code>DEFAULT_HEIGHT</code>? <strong>Or should I even do this?</strong></p>\n\n<pre><code>// GameEngine.hpp\nclass GameEngine {\n    static const int DEFAULT_WIDTH = 800;\n    static const int DEFAULT_HEIGHT = 600;\n    Window window(800,600);\n};\n</code></pre>\n\n<p>But that seems bad, as I've read that you should not do any initialization in the header, only declaration, so the values of <code>DEFAULT_WIDTH</code> and <code>DEFAULT_HEIGHT</code> should not actually be known at this point (and only be initialized in the .cpp, correct?).</p>\n\n<p><strong>Am I missing an option?</strong> Or is it common in C++ to assume that the programmer should know what he's doing and take care of getting his objects in a consistent state before using them? <strong>When to use which approach?</strong></p>\n"}, {"tags": ["c++", "c++11", "vector", "extraction-operator"], "answers": [{"comments": [{"owner": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 0, "creation_date": 1433420712, "post_id": 30631614, "comment_id": 49351502, "body": "This is not safe. If operator &gt;&gt; fails, then &quot;value&quot; will be uninitialized. Either the stream state should be checked explicitly, or std::ios_base::failbit should be ORed to the stream&#39;s exceptions()."}, {"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "reply_to_user": {"reputation": 5668, "user_id": 4083309, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6b4ef5a2e912153069b82607789a717?s=128&d=identicon&r=PG&f=1", "display_name": "Arne Vogel", "link": "https://stackoverflow.com/users/4083309/arne-vogel"}, "edited": false, "score": 1, "creation_date": 1433421129, "post_id": 30631614, "comment_id": 49351788, "body": "@ArneVogel This changed in C++11: if extraction fails, zero is written to value (see <a href=\"http://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt</a>). However, I do agree that error checking is necessary in production code. Still, there are so many ways to do that. It&#39;s not the scope of the question to choose one, imho."}], "tags": [], "owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1433421159, "last_edit_date": 1433421159, "creation_date": 1433369139, "answer_id": 30631614, "question_id": 30631376, "link": "https://stackoverflow.com/questions/30631376/how-do-you-use-the-extraction-operator-with-vectorbool/30631614#30631614", "title": "How do you use the extraction operator (&gt;&gt;) with vector&lt;bool&gt;?", "body": "<p>If all you want is the same interface for bool and other types, it's easy to wrap things.</p>\n\n<pre><code>template &lt;typename T&gt;\nT read(std::istream&amp; stream)\n{\n   T value;\n   stream &gt;&gt; value; // TODO: guard against failure of extraction, e.g. throw an exception.\n   return value;\n}\n</code></pre>\n\n<p>However, using this directly requires you to specify a type.</p>\n\n<pre><code>for (int i=0; i &lt; someIntVector.size(); i++)\n{\n   someIntVector[i] = read&lt;int&gt;(someStringStream);\n}\n\nfor (int i=0; i &lt; someBoolVector.size(); i++)\n{\n   someBoolVector[i] = read&lt;bool&gt;(someStringStream);\n}\n</code></pre>\n\n<p>If you reuse that for several different vectors, just wrap it again:</p>\n\n<pre><code>template &lt;typename T, typename A&gt;\nvoid fillVectorFromStream(std::istream&amp; stream, std::vector&lt;T, A&gt;&amp; vector)\n{\n    for ( int i = 0; i &lt; vector.size(); ++i )\n    {\n        vector[i] = read&lt;T&gt;(stream);\n    }\n}\n</code></pre>\n\n<p>Hence, usage simply becomes</p>\n\n<pre><code>fillVectorFromStream(streamOfBool, vectorOfBooleanValues);\nfillVectorFromStream(streamOfIntegers, vectorOfIntegers);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "is_accepted": false, "score": 5, "last_activity_date": 1433370981, "last_edit_date": 1433370981, "creation_date": 1433369498, "answer_id": 30631688, "question_id": 30631376, "link": "https://stackoverflow.com/questions/30631376/how-do-you-use-the-extraction-operator-with-vectorbool/30631688#30631688", "title": "How do you use the extraction operator (&gt;&gt;) with vector&lt;bool&gt;?", "body": "<p>You could use <code>std::copy</code> or the <code>std::vector</code> range constructor if you want to consume the whole stream:</p>\n\n<pre><code>std::stringstream ss(\"1 0 1 0\");\nstd::vector&lt;bool&gt; vec;\nstd::copy(std::istream_iterator&lt;bool&gt;(ss), {}, std::back_inserter(vec));\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/6c60e99ce2b09702\" rel=\"nofollow\">LIVE DEMO</a></p>\n\n<pre><code>std::stringstream ss(\"1 0 1 0\");\nstd::vector&lt;bool&gt; vec(std::istream_iterator&lt;bool&gt;(ss), {});\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/da088ae61d69945e\" rel=\"nofollow\">LIVE DEMO</a></p>\n\n<p>Now looking at the examples that you posted and if you're sure that your <code>std::vector</code>s size is proper you could use <code>std::generate</code> like the example below:</p>\n\n<pre><code>std::stringstream ss(\"1 0 1 0\");\nstd::vector&lt;bool&gt; vec(4);\nstd::generate(std::begin(vec), std::end(vec), [&amp;ss](){ bool val; ss &gt;&gt; val; return val;});\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/8fce6d80c0a41c5d\" rel=\"nofollow\">LIVE DEMO</a></p>\n"}], "owner": {"reputation": 161, "user_id": 4971474, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FUDSFV_o-Q4/AAAAAAAAAAI/AAAAAAAAALI/16RIvy8PnzU/photo.jpg?sz=128", "display_name": "Caleb Zulawski", "link": "https://stackoverflow.com/users/4971474/caleb-zulawski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1433421159, "creation_date": 1433368088, "last_edit_date": 1433368400, "question_id": 30631376, "link": "https://stackoverflow.com/questions/30631376/how-do-you-use-the-extraction-operator-with-vectorbool", "title": "How do you use the extraction operator (&gt;&gt;) with vector&lt;bool&gt;?", "body": "<p>In an example with <code>vector&lt;int&gt; someVector</code> and <code>istringstream someStringStream</code> you can do this:</p>\n\n<pre><code>for (int i=0; i &lt; someVector.size(); i++) {\n  someStringStream &gt;&gt; someVector[i];\n}\n</code></pre>\n\n<p>I know that <code>vector&lt;bool&gt;</code> is an efficient implementation, and <code>operator[]</code> returns a reference object.\nFor this code I should be using an index rather than an iterator, mostly for readability.\nCurrently, I'm using this:</p>\n\n<pre><code>for (int i=0; i &lt; someVector.size(); i++) {\n  bool temp;\n  someStringStream &gt;&gt; temp;\n  someVector[i] = temp;\n}\n</code></pre>\n\n<p>Is there a more direct way of implementing this?</p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 1746, "user_id": 2636457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29162c5b215ddb5b900c713c5eb2be9c?s=128&d=identicon&r=PG", "display_name": "Levi", "link": "https://stackoverflow.com/users/2636457/levi"}, "edited": false, "score": 1, "creation_date": 1433368221, "post_id": 30631373, "comment_id": 49328325, "body": "Perhaps <a href=\"http://en.sfml-dev.org/forums/index.php?topic=15558.0\" rel=\"nofollow noreferrer\">this</a> could help? Google is your best friend ;)"}, {"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "reply_to_user": {"reputation": 1746, "user_id": 2636457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29162c5b215ddb5b900c713c5eb2be9c?s=128&d=identicon&r=PG", "display_name": "Levi", "link": "https://stackoverflow.com/users/2636457/levi"}, "edited": false, "score": 0, "creation_date": 1433421173, "post_id": 30631373, "comment_id": 49351821, "body": "Did it a lot. But the friend wasnt able to help too"}], "owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 153, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433368078, "creation_date": 1433368078, "question_id": 30631373, "link": "https://stackoverflow.com/questions/30631373/how-to-send-a-file-through-email-sfml", "title": "How to send a file through email SFML", "body": "<p>I have a string and couple of other variables as an outcome of coding with GUI. I saved them in a file. What I want to do is get email address of recipient through a string and send the file automatically on that id. Want to do it through a function. Can anyone provide the code or provide guidance for it? </p>\n\n<p>I'm using SFML library</p>\n"}, {"tags": ["c++", "winapi", "mfc", "audio-player"], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 3, "last_activity_date": 1433368335, "creation_date": 1433368335, "answer_id": 30631430, "question_id": 30631222, "link": "https://stackoverflow.com/questions/30631222/how-to-make-a-thread-in-mfc-for-moving-slider-control-with-respect-to-audio-file/30631430#30631430", "title": "How to make a thread in MFC for moving slider control with respect to audio file that is being played?", "body": "<p>You generally want to have exactly one thread updating the UI (and doing as little else as possible). </p>\n\n<p>It would almost certainly work better to have a secondary thread playing the music. It can send a message to the UI thread, and the UI thread updates the slider control position when it receives that message.</p>\n"}, {"comments": [{"owner": {"reputation": 1863, "user_id": 1284927, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/B4DBf.jpg?s=128&g=1", "display_name": "thomiel", "link": "https://stackoverflow.com/users/1284927/thomiel"}, "edited": false, "score": 0, "creation_date": 1433444740, "post_id": 30634671, "comment_id": 49367430, "body": "And how about PostMessage()?"}], "tags": [], "owner": {"reputation": 75, "user_id": 553845, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/5bd085cedb0a0e20dd191501fa113da1?s=128&d=identicon&r=PG", "display_name": "Kiran Joshy", "link": "https://stackoverflow.com/users/553845/kiran-joshy"}, "is_accepted": false, "score": 1, "last_activity_date": 1433390003, "creation_date": 1433390003, "answer_id": 30634671, "question_id": 30631222, "link": "https://stackoverflow.com/questions/30631222/how-to-make-a-thread-in-mfc-for-moving-slider-control-with-respect-to-audio-file/30634671#30634671", "title": "How to make a thread in MFC for moving slider control with respect to audio file that is being played?", "body": "<p>It is always good to update the UI from the main thread instead of adding a new thread for updating UI. Better you can perform your background tasks by using a worker thread and update the UI by sending a message to the main thread when ever required. </p>\n\n<p>In your case, you can have a worker thread to play the music and send a message to the main thread to update the slider position.</p>\n\n<pre><code>::SendMessage( AfxGetMainWnd()-&gt;m_hWnd, Message_Id, ( WPARAM )&amp;String, 0 );\n</code></pre>\n\n<p>You can use the APIs CSliderCtrl::SetPos() to update the position.</p>\n"}], "owner": {"reputation": 21, "user_id": 4613774, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-DoXnoOqUjdU/AAAAAAAAAAI/AAAAAAAAAF0/eTe5FK6SUu0/photo.jpg?sz=128", "display_name": "Pranav P", "link": "https://stackoverflow.com/users/4613774/pranav-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433390003, "creation_date": 1433367502, "question_id": 30631222, "link": "https://stackoverflow.com/questions/30631222/how-to-make-a-thread-in-mfc-for-moving-slider-control-with-respect-to-audio-file", "title": "How to make a thread in MFC for moving slider control with respect to audio file that is being played?", "body": "<p>I was able to move SliderControl according to the position using CSliderCtrl::GetPos , being played by the program. (This is a part of my Music Player MFC project).</p>\n\n<p>But I need to do this automatically without any notification/events ....</p>\n\n<p>I thought of creating a thread that will move slider after clicking on play button.</p>\n"}, {"tags": ["c++", "memory-leaks", "valgrind"], "comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1433367183, "post_id": 30631133, "comment_id": 49327861, "body": "How is <code>compute()</code> declared?"}, {"owner": {"reputation": 610, "user_id": 4964928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90267b06c0fe8f738c4269c8b46a708c?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Man", "link": "https://stackoverflow.com/users/4964928/erik-man"}, "edited": false, "score": 1, "creation_date": 1433367557, "post_id": 30631133, "comment_id": 49328032, "body": "what is on array.hpp:135? Leak is probably inside compute function, but I would guess compute is inlined so you won&#39;t get the exact line number from valgrind. Pull out the detective hat ;)"}, {"owner": {"reputation": 327, "user_id": 1275864, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3125e991f49c55e06b6aff4539066041?s=128&d=identicon&r=PG", "display_name": "Konsta", "link": "https://stackoverflow.com/users/1275864/konsta"}, "edited": false, "score": 0, "creation_date": 1433367653, "post_id": 30631133, "comment_id": 49328073, "body": "It is declared as: double compute(Parameters &amp;parameters, Array&lt;double&gt; &amp;array)"}, {"owner": {"reputation": 327, "user_id": 1275864, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3125e991f49c55e06b6aff4539066041?s=128&d=identicon&r=PG", "display_name": "Konsta", "link": "https://stackoverflow.com/users/1275864/konsta"}, "edited": false, "score": 0, "creation_date": 1433368120, "post_id": 30631133, "comment_id": 49328284, "body": "array.hpp:135 reads: &quot;elements = new T [size];&quot; where T is the template type and elements is the central member variable of Array."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433372874, "post_id": 30631133, "comment_id": 49330253, "body": "Interpret that output the same way you would the call stack. <code>new[]</code> allocated the lost memory. <code>new[]</code> was called by <code>compute</code>. <code>compute</code> was called by <code>main</code>. So yes, the memory was lost by <code>main</code>, but only because <code>main</code> started the chain. Ensure that you <code>delete[]</code>  the variable you <code>new[]</code>ed at array.hpp line 135. If you think you have, Valgrind humbly disagrees."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433373215, "post_id": 30631133, "comment_id": 49330373, "body": "OK. I read the comments. Duh. Should have sooner. In <code>Array</code>&#39;s destructor make sure you have <code>delete[] element</code>. If at any point you replace element, <code>element = someNewArray;</code> make sure you first <code>delete[] element</code>. Be thorough. Valgrind can tell you where you allocated memory you didn&#39;t release, but it can&#39;t tell you where you didn&#39;t release."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 2, "last_activity_date": 1433367493, "creation_date": 1433367493, "answer_id": 30631216, "question_id": 30631133, "link": "https://stackoverflow.com/questions/30631133/how-to-interpret-valgrind-output/30631216#30631216", "title": "How to interpret Valgrind output", "body": "<blockquote>\n  <p>Is memory leaked exactly at line 374 of main.cpp?</p>\n</blockquote>\n\n<p>No. It just shows the line number in <code>main</code> where the call was made that ultimately leads to the function and line where the memory was allocated.</p>\n\n<blockquote>\n  <p>Is it leaked in compute() or maybe at assignment/indexing into results?</p>\n</blockquote>\n\n<p>It says that memory was allocated in <code>compute()</code> but was not deallocated in the program before the program exited. That's what constitutes a memory leak.</p>\n"}], "owner": {"reputation": 327, "user_id": 1275864, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3125e991f49c55e06b6aff4539066041?s=128&d=identicon&r=PG", "display_name": "Konsta", "link": "https://stackoverflow.com/users/1275864/konsta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 30631216, "answer_count": 1, "score": 0, "last_activity_date": 1433367493, "creation_date": 1433367073, "question_id": 30631133, "link": "https://stackoverflow.com/questions/30631133/how-to-interpret-valgrind-output", "title": "How to interpret Valgrind output", "body": "<p>Valgrind yields the following message block:</p>\n\n<pre><code>1,065,024 bytes in 66,564 blocks are definitely lost in loss record 21 of 27\n   at 0x4C2B800: operator new[](unsigned long) (in /usr/lib/valgrind/vgpreload_memcheck-amd64-linux.so)\n   by 0x40CA21: compute(Parameters&amp;, Array&lt;double&gt;&amp;) [clone .constprop.71] (array.hpp:135)\n   by 0x403E70: main (main.cpp:374)\n</code></pre>\n\n<p>How to read this message? </p>\n\n<p>main.cpp line 374 reads:</p>\n\n<p><code>results[index] = compute(parameters, weights);</code></p>\n\n<p>Is memory leaked exactly at line 374 of main.cpp? Is it leaked in compute() or maybe at assignment/indexing into results?</p>\n"}, {"tags": ["c++", "opencv", "ar.drone"], "answers": [{"tags": [], "owner": {"reputation": 3203, "user_id": 1819423, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ruMr.png?s=128&g=1", "display_name": "Totoro", "link": "https://stackoverflow.com/users/1819423/totoro"}, "is_accepted": false, "score": 0, "last_activity_date": 1433395821, "creation_date": 1433395821, "answer_id": 30635619, "question_id": 30631132, "link": "https://stackoverflow.com/questions/30631132/full-body-detection-with-opencv-c/30635619#30635619", "title": "Full Body Detection with OpenCV &amp; C++", "body": "<p>The size parameters, in this case, are scene dependent. You have to check the results on several images/sequences and see the distribution of sizes of both true positives and false positives. After observing the range of values for each category, you can adjust the minSize and maxSize.</p>\n\n<p>Most likely, you will come to a point where you still have some false positives and some false negatives. At this point, you can decide the threshold values by considering which is more costly to have; false positives, or false negatives.</p>\n\n<p>Another approach is to post-process the results returned by the recogniser, and remove false positives based on some other criteria.</p>\n"}], "owner": {"reputation": 85, "user_id": 4406962, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ff98d46acbbaf66e942495251f60cc82?s=128&d=identicon&r=PG&f=1", "display_name": "kingpin", "link": "https://stackoverflow.com/users/4406962/kingpin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 775, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433395821, "creation_date": 1433367068, "question_id": 30631132, "link": "https://stackoverflow.com/questions/30631132/full-body-detection-with-opencv-c", "title": "Full Body Detection with OpenCV &amp; C++", "body": "<p>I am using opencv for full body detection on my AR.Drone and wanted to know what would be good settings/limits for the minSize and maxSize parameters? As of now I have them blank, my code seems to detect people fairly well. I also have the minNeighbors parameter set to 7. Each time I run my code I get about 20% false positives. My hope is that setting the size parameters will reduce the amount of false positives. Any input or suggestions on other parameter settings in addition to the size parameters will be helpful</p>\n"}, {"tags": ["android", "c++", "c", "boost", "libtorrent-rasterbar"], "comments": [{"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433367316, "post_id": 30631113, "comment_id": 49327922, "body": "&quot;it wouldn&#39;t compile using those flags&quot; What were the errors?"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433367359, "post_id": 30631113, "comment_id": 49327951, "body": "Shared libs tend to be quite big since they compile in ALL the symbols available.  Compile it as a static and link statically.  The linker can then automatically strip out all the unused symbols."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1433367429, "post_id": 30631113, "comment_id": 49327982, "body": "Or export only public symbols. This is a bit more involved, but it works"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "edited": false, "score": 0, "creation_date": 1433367437, "post_id": 30631113, "comment_id": 49327987, "body": "I&#39;ll try compiling it as static right now. Will post the results in a few minutes once it finishes. Thanks for the suggestions guys!"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433367857, "post_id": 30631113, "comment_id": 49328157, "body": "Compiled as a static library, the size is 118.1mb. Ouch! @rost0031"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433367930, "post_id": 30631113, "comment_id": 49328185, "body": "@TavianBarnes It wouldn&#39;t configure when i used the -02 flag. The configure error was &quot;Cannot compile C executable&quot; . It could be my setup but it compiles fine without that flag."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433367933, "post_id": 30631113, "comment_id": 49328188, "body": "Try linking against it with <code>-Wl,--gc-sections</code> flag to gcc.  That should strip out all the unused symbols."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433367985, "post_id": 30631113, "comment_id": 49328216, "body": "@Seth Then the relevant error will be in <code>config.log</code>"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433368009, "post_id": 30631113, "comment_id": 49328226, "body": "@rost0031 So, change the LDFLAGS to include -Wl and --gc-selections? Thanks!"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433368086, "post_id": 30631113, "comment_id": 49328266, "body": "If the linker is being called by directly calling <code>ld</code>, then you don&#39;t need the <code>-Wl,</code>.  If it&#39;s calling gcc, it has to know to pass the flag to the linker, hence the <code>-Wl,--gc-sections</code>."}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433368093, "post_id": 30631113, "comment_id": 49328267, "body": "@TavianBarnes Checking the log now. Thanks for your input!"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "edited": false, "score": 0, "creation_date": 1433368155, "post_id": 30631113, "comment_id": 49328298, "body": "@rost0031 I&#39;ll try compiling it with the -verbose flag so i know for sure how the linking process takes place."}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433368234, "post_id": 30631113, "comment_id": 49328330, "body": "@TavianBarnes the error is &quot;arm-linux-androideabi-gcc: error: unrecognized command line option &#39;-02&#39;&quot;"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433368457, "post_id": 30631113, "comment_id": 49328428, "body": "@TavianBarnes should i set the optimization for both the CFLAGS and the CPPFLAGS?"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433368672, "post_id": 30631113, "comment_id": 49328533, "body": "@Seth Just CFLAGS is fine (for Android) because the NDK includes them when building C++ files too."}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433369150, "post_id": 30631113, "comment_id": 49328764, "body": "@TavianBarnes Thanks. I just re-compiled with the -O2 flag got the same results. One massive 118.1mb .a file."}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "edited": false, "score": 0, "creation_date": 1433385403, "post_id": 30631113, "comment_id": 49333363, "body": "Using clang i got the size down to 51mb... still way to big for usage."}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433385739, "post_id": 30631113, "comment_id": 49333443, "body": "@TavianBarnes - Success (presumably) . I ran &quot;arm-linux-androideabi-strip&quot; on the .a and .so files. This brought the .a size from 91mb to 5.5mb. I&#39;m presuming that they will work but i haven&#39;t tried yet. Thanks for all the suggestions!"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 1, "creation_date": 1433388883, "post_id": 30631113, "comment_id": 49334225, "body": "@Seth You can also add <code>-s</code> to <code>LDFLAGS</code> to do the same thing :)"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433422867, "post_id": 30631113, "comment_id": 49352983, "body": "@Seth Also <code>--enable-debug=yes</code> might help"}, {"owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433555961, "post_id": 30631113, "comment_id": 49417729, "body": "@TavianBarnes Thanks. I&#39;ll try re-compiling with those flags. You all have been very helpful!"}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 0, "creation_date": 1433557055, "post_id": 30631113, "comment_id": 49417882, "body": "@Seth You&#39;re welcome!  And of course I meant <code>--enable-debug=no</code> :P"}], "owner": {"reputation": 180, "user_id": 4093161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd920b6872dcd1ca08918becbe32420f?s=128&d=identicon&r=PG&f=1", "display_name": "Seth", "link": "https://stackoverflow.com/users/4093161/seth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433380049, "creation_date": 1433366994, "last_edit_date": 1433380049, "question_id": 30631113, "link": "https://stackoverflow.com/questions/30631113/libtorrent-rasterbar-so-file-very-large-60mb", "title": "libtorrent-rasterbar.so - file very large (60mb+)", "body": "<p>I've compiled Libtorrent-rasterbar for Android (arm) using the libtorrent-rasterbar sources (github) but ran into some questionable results. Below i list the steps that i took before compilation:</p>\n\n<p>After setting up a stand-alone toolchain for arm i moved the openssl libs into the toolchains lib folder and the headers into the toolchains include folder etc. I did this with the boost-android libs as well. \nNext i exported my environment variables as follows:</p>\n\n<pre><code>    export SYSROOT=$ANDROIDNDK/platforms/android-16/arch-arm\n    export PATH=/opt/android/toolchains/gcc-arm/bin:$PATH\n    export CC=arm-linux-androideabi-gcc\n    export CXX=arm-linux-androideabi-g++\n    export CROSSHOST=arm-linux-androideabi\n    export CROSSHOME=/opt/android/toolchains/gcc-arm\n</code></pre>\n\n<p>And finally, i configured using the following:</p>\n\n<pre><code>./configure --host=$CROSSHOST --prefix=$CROSSHOME --with-boost=$CROSSHOME --with-boost-libdir=$CROSSHOME/lib --enable-shared --disable-static --enable-debug=yes --enable-loggin-yes --with-openssl=$CROSSHOME\n</code></pre>\n\n<p>Everything compiles fine but the shared library produced is way larger than it should be. 65mb. I tried changing my CPPFLAGS to include -O2 (optimization setting) but it didn't make a size difference. Is there anybody who has compiled libtorrent-rasterbar as a shared or static library for android? If so, what was the size of your final binary and what steps did you take? </p>\n\n<p>Thanks so much!</p>\n\n<p>UPDATE: I forgot to include what machine i'm compiling on. Here goes:</p>\n\n<ol>\n<li>CPU i7 4770k</li>\n<li>MEM 16gb 2133mhz</li>\n<li>HDD 400gb SSD partition</li>\n<li>OS OSX Yosemite</li>\n<li>GCC arm-linux-android-gcc (4.9)</li>\n<li>NDK r10e</li>\n<li>TOOLCHAIN arm-linux-androideabi-4.9</li>\n<li>GPU nvidia gtx970 (irrelevant)..</li>\n</ol>\n\n<p>yes, it's a hackintosh.</p>\n"}, {"tags": ["c++", "parallel-processing", "mpi", "cluster-computing", "hpc"], "comments": [{"owner": {"reputation": 900, "user_id": 4639394, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-70_dUZwwcZo/AAAAAAAAAAI/AAAAAAAABlk/m3YuUmA_K3Q/photo.jpg?sz=128", "display_name": "Patrick", "link": "https://stackoverflow.com/users/4639394/patrick"}, "edited": false, "score": 3, "creation_date": 1433367600, "post_id": 30631036, "comment_id": 49328049, "body": "<code>MPI_Wait</code> does more than just wait for the operation to finish, it also frees up internal MPI resources corresponding to the <code>MPI_Request</code>. You should generally always use a <i>bookkeeping</i> approach and keep track of all pending <code>MPI_Request</code>s. See also  Jeff Squyres presentation on this issue: <a href=\"http://www.slideshare.net/jsquyres/friends-dont-let-friends-leak-mpirequests\" rel=\"nofollow noreferrer\">slideshare.net/jsquyres/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4724, "user_id": 1024740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1037d544b43c71c34225fac55e0c7750?s=128&d=identicon&r=PG", "display_name": "Rob Latham", "link": "https://stackoverflow.com/users/1024740/rob-latham"}, "edited": false, "score": 2, "creation_date": 1433430247, "post_id": 30634578, "comment_id": 49358603, "body": "Furthermore, Waitall seems to match up exactly with the semantics asked in the question: &quot;I want to wait for all of the requests&quot;.   I&#39;m kind of surprised the OP knows about non-blocking collectives but not the assorted flavors of completion waiting/testing."}], "tags": [], "owner": {"reputation": 8043, "user_id": 491687, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/2174f845b769ea2ad2242047f3118128?s=128&d=identicon&r=PG", "display_name": "Wesley Bland", "link": "https://stackoverflow.com/users/491687/wesley-bland"}, "is_accepted": true, "score": 3, "last_activity_date": 1433389343, "creation_date": 1433389343, "answer_id": 30634578, "question_id": 30631036, "link": "https://stackoverflow.com/questions/30631036/barrier-after-mpi-non-blocking-call-without-bookkeeping/30634578#30634578", "title": "Barrier after MPI non-blocking call, without bookkeeping?", "body": "<p>It depends on how specifically you don't want to \"track request objects\". Generally, nothing will guarantee that the calls are done other than just waiting for the requests. However, the way you're doing it isn't the simplest way. Instead, use <code>MPI_WAITALL</code>.</p>\n\n<pre><code>MPI_Iallreduce(..., requests[0]);\n...\nMPI_Iallreduce(..., requests[n-1]);\nMPI_Waitall(n, requests, MPI_STATUSES_IGNORE);\n</code></pre>\n\n<p>This will wait for all of the requests to complete at once and when you're done, you know all of your reductions are finished. If you want to get more fine grained information about how they went, you can replace <code>MPI_STATUSES_IGNORE</code> with an array of <code>MPI_STATUS</code> objects.</p>\n"}], "owner": {"reputation": 7643, "user_id": 1133286, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e56d25a40f2c0e4e6696b9738877fce8?s=128&d=identicon&r=PG", "display_name": "solvingPuzzles", "link": "https://stackoverflow.com/users/1133286/solvingpuzzles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 1, "accepted_answer_id": 30634578, "answer_count": 1, "score": 4, "last_activity_date": 1433389343, "creation_date": 1433366688, "question_id": 30631036, "link": "https://stackoverflow.com/questions/30631036/barrier-after-mpi-non-blocking-call-without-bookkeeping", "title": "Barrier after MPI non-blocking call, without bookkeeping?", "body": "<p>I'm doing a bunch of <code>MPI_Iallreduce</code> non-blocking communications. I've added these <code>Iallreduce</code> calls to several different places in my code. Every so often, I want to pause and wait for all the <code>Iallreduce</code> calls to finish.</p>\n\n<hr>\n\n<p><strong>Version 1 with <code>MPI_Request</code> bookkeeping -- this works:</strong></p>\n\n<pre><code>MPI_Request requests[];\nMPI_Iallreduce(..., requests[0]);\n...\nMPI_Iallreduce(..., requests[n-1]);\nfor(int i=0; i&lt;n; i++){\n    MPI_Wait(requests[i], ...);\n}\n</code></pre>\n\n<hr>\n\n<p>But, I'm working in a pretty big codebase, and I'd rather not write the extra code to keep track of all these <code>MPI_Request</code> objects. I'd like to do the following:</p>\n\n<p><strong>Version 2 without <code>MPI_Request</code> bookkeeping -- this segfaults:</strong></p>\n\n<pre><code>MPI_Iallreduce(..., requests[0]);\n...\nMPI_Iallreduce(..., requests[n-1]);\nMPI_Barrier(...); //wait for Iallreduces to finish, without MPI_Request bookkeeping\n</code></pre>\n\n<p>But, the MPI_Barrier version <strong>segfaults</strong>.</p>\n\n<hr>\n\n<p><strong>Is there a way to do a bunch of non-blocking MPI calls, and then wait for the calls to finish, without keeping track of MPI_Request objects?</strong></p>\n"}, {"tags": ["c++", "c++11", "struct"], "comments": [{"owner": {"reputation": 1746, "user_id": 2636457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29162c5b215ddb5b900c713c5eb2be9c?s=128&d=identicon&r=PG", "display_name": "Levi", "link": "https://stackoverflow.com/users/2636457/levi"}, "edited": false, "score": 0, "creation_date": 1433366843, "post_id": 30631028, "comment_id": 49327698, "body": "Read a book and/or Google"}, {"owner": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1433366878, "post_id": 30631028, "comment_id": 49327713, "body": "The keywords you&#39;re looking for are &quot;operator overloading&quot;"}, {"owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "reply_to_user": {"reputation": 86654, "user_id": 102441, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/cf1b41a0f134b54597bf8a618be7880f?s=128&d=identicon&r=PG", "display_name": "Eric", "link": "https://stackoverflow.com/users/102441/eric"}, "edited": false, "score": 0, "creation_date": 1433367078, "post_id": 30631028, "comment_id": 49327805, "body": "@Eric : Thanks :) ! that was helpful but i still can&#39;t figure out what the last 2 lines mean !"}, {"owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433368112, "post_id": 30631028, "comment_id": 49328281, "body": "2nd last line means to initialize x,y to zero for each instance created while last line allows us to compare two structs(points here) directly with &#39;==&#39; . Ex- we have two variables A,B with above point structure. As such we can&#39;t compare if (A==B) ... but last line allows us to do so ,hope it makes sense :)"}, {"owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433368167, "post_id": 30631028, "comment_id": 49328306, "body": "That solved my problem . Super Thanks :D !"}], "answers": [{"comments": [{"owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433366993, "post_id": 30631082, "comment_id": 49327764, "body": "Thanks &amp; can you explain what those last two lines means please :) ?"}, {"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "reply_to_user": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433367149, "post_id": 30631082, "comment_id": 49327845, "body": "@ZooOoz I included a link for your reference in answer to answer your question"}, {"owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433367353, "post_id": 30631082, "comment_id": 49327944, "body": "Your link definitely helps but the type of statements used in last two lines in above given code , i cannot find it in the link you provided ?"}, {"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "reply_to_user": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "edited": false, "score": 0, "creation_date": 1433371590, "post_id": 30631082, "comment_id": 49329765, "body": "@ZooOoz I edited answer to answer your question in comment"}], "tags": [], "owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "is_accepted": true, "score": 1, "last_activity_date": 1433371554, "last_edit_date": 1495541158, "creation_date": 1433366875, "answer_id": 30631082, "question_id": 30631028, "link": "https://stackoverflow.com/questions/30631028/what-all-operators-can-be-defined-inside-a-struct-in-c/30631082#30631082", "title": "What all operators can be defined inside a struct in C++?", "body": "<p><code>structure</code> is nothing but a class with all its data members and functions defined in <code>public</code> scope. So you can implement any operators which is valid for a <code>class</code>.</p>\n\n<p>If your question is on operator overloading, all overloaded operators can be defined  for a <code>class</code> is valid for a <code>structure</code>.</p>\n\n<p>You can refer this <a href=\"https://stackoverflow.com/questions/4421706/operator-overloading\">Operator overloading</a> question and answer to understand more on operator overloading</p>\n\n<pre><code>POINT(int x = 0, int y = 0) : x(x), y(y) {} //(3rd line)\nbool operator ==(POINT&amp; a) {return a.x==x &amp;&amp; a.y==y;}//(4th line)\n</code></pre>\n\n<p>3rd line is a <code>constructor</code>, and 4th line is an operator overloading function for operator <code>==</code>.</p>\n\n<p><code>POINT p1(2,3); // 3rd line will get called and update x=2 and y=3</code></p>\n\n<pre><code>POINT p2; // 3rd line will get called and consider x=0 and y=0 \n          //since function definitiion is defaulted with value x=0 and y=0;\nif(p2==p1) {....}\n  // 4th line will get called and compare P1 and P2\n</code></pre>\n"}], "owner": {"reputation": 632, "user_id": 1192497, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/0d2cd2fd2eeab60e8e71108d0f40e018?s=128&d=identicon&r=PG", "display_name": "Maggi Iggam", "link": "https://stackoverflow.com/users/1192497/maggi-iggam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "closed_date": 1433367245, "accepted_answer_id": 30631082, "answer_count": 1, "score": -2, "last_activity_date": 1433371554, "creation_date": 1433366649, "last_edit_date": 1433366765, "question_id": 30631028, "link": "https://stackoverflow.com/questions/30631028/what-all-operators-can-be-defined-inside-a-struct-in-c", "closed_reason": "Duplicate", "title": "What all operators can be defined inside a struct in C++?", "body": "<p>I actually cannot understand 3rd,4th line in the following code in C++ :</p>\n\n<pre><code>struct POINT {\n      int x,y;\n      POINT(int x = 0, int y = 0) : x(x), y(y) {}\n      bool operator ==(POINT&amp; a) {return a.x==x &amp;&amp; a.y==y;}\n};\n</code></pre>\n\n<p>Other examples/explanations are also welcome apart from this code snippet :)</p>\n"}, {"tags": ["c++", "arrays", "c++11"], "comments": [{"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 2, "creation_date": 1433366724, "post_id": 30631020, "comment_id": 49327632, "body": "Undefined behavior is going on here. No more, no less."}, {"owner": {"reputation": 6914, "user_id": 617937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e032a74b26c2116bfcad775ffdc45ae?s=128&d=identicon&r=PG", "display_name": "IQAndreas", "link": "https://stackoverflow.com/users/617937/iqandreas"}, "reply_to_user": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1433366804, "post_id": 30631020, "comment_id": 49327676, "body": "@TartanLlama That question was closed as <i>&quot;not a real question&quot;</i>, and doesn&#39;t actually explain what is going on, or why no errors are being thrown."}, {"owner": {"reputation": 6914, "user_id": 617937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e032a74b26c2116bfcad775ffdc45ae?s=128&d=identicon&r=PG", "display_name": "IQAndreas", "link": "https://stackoverflow.com/users/617937/iqandreas"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 2, "creation_date": 1433366941, "post_id": 30631020, "comment_id": 49327740, "body": "@AnT <i>&quot;Toto, I&#39;ve a feeling we&#39;re not in Java anymore.&quot;</i>"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 3, "creation_date": 1433367712, "post_id": 30631020, "comment_id": 49328098, "body": "<i>From what I have read, I can&#39;t cross the street when the light is red, but when I tried it it worked and I ended up on the other side of the street.</i> -- There&#39;s no guarantee that you&#39;ll be prevented from doing it, but next time, you might get a ticket or be hit by a car"}, {"owner": {"reputation": 6914, "user_id": 617937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e032a74b26c2116bfcad775ffdc45ae?s=128&d=identicon&r=PG", "display_name": "IQAndreas", "link": "https://stackoverflow.com/users/617937/iqandreas"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433369291, "post_id": 30631020, "comment_id": 49328811, "body": "@KeithThompson I come from a world where whenever you stick your foot outside the sidewalk, an omniscient voice echoes from the sky: <i>&quot;Hold on there my son; <code>ArrayIndexOutOfBoundsException</code>&quot;</i>"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433386584, "post_id": 30631020, "comment_id": 49333646, "body": "@KeithThompson that&#39;s a great analogy, hope I can remember it next time I need it."}], "answers": [{"tags": [], "owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "is_accepted": false, "score": 1, "last_activity_date": 1433366939, "creation_date": 1433366939, "answer_id": 30631097, "question_id": 30631020, "link": "https://stackoverflow.com/questions/30631020/why-can-i-set-values-outside-of-the-arrays-range/30631097#30631097", "title": "Why can I set values outside of the array&#39;s range?", "body": "<h1>In short</h1>\n\n<p>you are reading the memory that is laying behind the array. That is 'perfectly fine' as long that memory belongs to you(r process).</p>\n\n<h1>Long(er) Answer</h1>\n\n<p>When you create an array, you are reserving a certain space of memory (in your case 5*sizeof(int) (should be ~40byte)). When you try to access data that is out of bounds (that's the corrent term for that what you are doing), everything could happen. You are lucky and you are accessing memory, that belongs to your process, otherwise the OS should (and will) kill your process and you will get a SEGFAULT.</p>\n\n<p>Always be certain, that you are reading and writing inside of your array bounds. Everything else could lead to bad runtime behavoir.</p>\n\n<h1>Bonus</h1>\n\n<p>To check, if you are accessing out of bounds, you could use valgrind</p>\n\n<pre><code>valgrind ./yourProgram\n</code></pre>\n\n<p>and then valgrind will print every access, that should not be done.</p>\n"}, {"tags": [], "owner": {"reputation": 230, "user_id": 4459557, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3dFab.jpg?s=128&g=1", "display_name": "FreshWaterTaffy", "link": "https://stackoverflow.com/users/4459557/freshwatertaffy"}, "is_accepted": false, "score": 0, "last_activity_date": 1433367157, "creation_date": 1433367157, "answer_id": 30631152, "question_id": 30631020, "link": "https://stackoverflow.com/questions/30631020/why-can-i-set-values-outside-of-the-arrays-range/30631152#30631152", "title": "Why can I set values outside of the array&#39;s range?", "body": "<p>You're setting a location in memory to that value, however you haven't told the computer to reserve that location for your purposes. It could get overwritten by a different process, or another variable you define.</p>\n\n<p>As other people have said, there can also be unpredictable behavior if that memory is already reserved, say by another program.</p>\n"}, {"tags": [], "owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": true, "score": 3, "last_activity_date": 1433367653, "creation_date": 1433367653, "answer_id": 30631266, "question_id": 30631020, "link": "https://stackoverflow.com/questions/30631020/why-can-i-set-values-outside-of-the-arrays-range/30631266#30631266", "title": "Why can I set values outside of the array&#39;s range?", "body": "<p>C++ doesn't perform bounds checking, because that would slow things down. It won't stop you from using array indices that are outside of the array (even negative ones!) but once you do you get undefined behavior.</p>\n\n<p>Sometimes undefined behavior <em>appears</em> to work properly. Don't be fooled though, there may be bad things going on behind the scenes that you can't see. Take this slight modification of your example:</p>\n\n<pre><code>int badNums[5] = {4, 13, 14, 24, 34};\nint sentinel = 0;\nbadNums[6] = -127;\nstd::cout &lt;&lt; badNums[6] &lt;&lt; sentinel &lt;&lt; std::endl;\n</code></pre>\n\n<p>On <em>many</em> compilers you'll see that <code>sentinel</code> has changed value to -127, although since this is undefined behavior it is not guaranteed.</p>\n"}, {"tags": [], "owner": {"reputation": 9606, "user_id": 3677097, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8c49e598194e53b9aba3a195da387a5?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas DM", "link": "https://stackoverflow.com/users/3677097/andreas-dm"}, "is_accepted": false, "score": 0, "last_activity_date": 1433368749, "creation_date": 1433368749, "answer_id": 30631539, "question_id": 30631020, "link": "https://stackoverflow.com/questions/30631020/why-can-i-set-values-outside-of-the-arrays-range/30631539#30631539", "title": "Why can I set values outside of the array&#39;s range?", "body": "<p><code>badNums[997]</code> is identical to <code>*((badNums)+(997))</code><br>You're trying to access some memory where the content could be anything. <br>Could be an old value used some other program, could be a value used by your program. <br>This results in undefined behaviour.</p>\n"}], "owner": {"reputation": 6914, "user_id": 617937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e032a74b26c2116bfcad775ffdc45ae?s=128&d=identicon&r=PG", "display_name": "IQAndreas", "link": "https://stackoverflow.com/users/617937/iqandreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 0, "closed_date": 1433372849, "accepted_answer_id": 30631266, "answer_count": 4, "score": 0, "last_activity_date": 1433368749, "creation_date": 1433366632, "question_id": 30631020, "link": "https://stackoverflow.com/questions/30631020/why-can-i-set-values-outside-of-the-arrays-range", "closed_reason": "Duplicate", "title": "Why can I set values outside of the array&#39;s range?", "body": "<p>From what I have read, arrays can only be a fixed size, which is defined when you create it (and if you want to create something similar with a dynamic size, you use vectors instead).</p>\n\n<p>However, when I try to set values outside of the array, I am perfectly able to:</p>\n\n<pre><code>int badNums[5] = {4, 13, 14, 24, 34};\nbadNums[999] = -127;\nstd::cout &lt;&lt; badNums[999] &lt;&lt; std::endl;\n// Returns -127\n</code></pre>\n\n<p>And it gets even more bizarre if I try to access values of the array outside of the fixed range:</p>\n\n<pre><code>std::cout &lt;&lt; badNums[997] &lt;&lt; std::endl;\n// Returns 825245046 (but seems to be randomly chosen every time I run it)\n</code></pre>\n\n<p>What is going on here?</p>\n"}, {"tags": ["c++", "arduino", "libusb", "libusb-1.0"], "comments": [{"owner": {"reputation": 1746, "user_id": 2636457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29162c5b215ddb5b900c713c5eb2be9c?s=128&d=identicon&r=PG", "display_name": "Levi", "link": "https://stackoverflow.com/users/2636457/levi"}, "edited": false, "score": 1, "creation_date": 1433366500, "post_id": 30630938, "comment_id": 49327528, "body": "The Arduino and your PC are not in sync. Not an expert at this, but is there a function in libusb which waits for data. That would most likely fix your problem?"}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433367023, "post_id": 30630938, "comment_id": 49327782, "body": "You read each second but write each 2 sec. Or what is <code>delay(2000)</code>?"}, {"owner": {"reputation": 1593, "user_id": 3073656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jl88K.png?s=128&g=1", "display_name": "daltonfury42", "link": "https://stackoverflow.com/users/3073656/daltonfury42"}, "reply_to_user": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433367254, "post_id": 30630938, "comment_id": 49327898, "body": "@qPCR4vir  my mistake, I changed it to 1 second after copy pasting the code snippet here. Thanks for pointing it out, I&#39;ve update my answer."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433368874, "post_id": 30630938, "comment_id": 49328616, "body": "I am not an Arduino tech guy but the code posted here, doesn&#39;t match the outpus (unless there&#39;s some tricky aspect that i missed)"}, {"owner": {"reputation": 1593, "user_id": 3073656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jl88K.png?s=128&g=1", "display_name": "daltonfury42", "link": "https://stackoverflow.com/users/3073656/daltonfury42"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433396780, "post_id": 30630938, "comment_id": 49336602, "body": "@CristiFati, it is the output, and the tricky aspect might be that each second multiple lines are printed."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1433450312, "post_id": 30630938, "comment_id": 49370417, "body": "Why use libusb? The Arduino, when plugged in, should expose itself as a regular ol&#39; serial port."}, {"owner": {"reputation": 1593, "user_id": 3073656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jl88K.png?s=128&g=1", "display_name": "daltonfury42", "link": "https://stackoverflow.com/users/3073656/daltonfury42"}, "edited": false, "score": 0, "creation_date": 1433456332, "post_id": 30630938, "comment_id": 49373006, "body": "why not libusb? or I will have to do in termios. Libusb has error  checking, and other safety fetures."}], "owner": {"reputation": 1593, "user_id": 3073656, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/jl88K.png?s=128&g=1", "display_name": "daltonfury42", "link": "https://stackoverflow.com/users/3073656/daltonfury42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433367269, "creation_date": 1433366313, "last_edit_date": 1433367269, "question_id": 30630938, "link": "https://stackoverflow.com/questions/30630938/libusb-what-is-the-source-of-these-read-errors", "title": "libusb: What is the source of these read errors?", "body": "<p>I am sending the English alphabets with one second delay from an Arduino to my laptop:</p>\n\n<pre><code>void loop() \n{\n    delay(1000);\n    Serial.write('N'); \n\n}\n</code></pre>\n\n<p>I am trying to catch and print the alphabets from a C++ program using libusb. Here is the relevant part of the code:</p>\n\n<pre><code>while(1)\n{\n        r = libusb_bulk_transfer(dev_handle, 131, data, 1, &amp;actual, 0); \n        if(r == 0 &amp;&amp; actual == 1) //we read 1 byte successfully\n                cout&lt;&lt;\"Read Successful! Data recieved is \"&lt;&lt;data[0]&lt;&lt;endl;\n        else\n                cout&lt;&lt;\"Read Error! Return value: \"&lt;&lt;r\n                    &lt;&lt;\"Actual  bytes recieved = \"&lt;&lt;actual&lt;&lt;endl;\n\n}\n</code></pre>\n\n<p>This is the output I get:</p>\n\n<pre><code>Read Successful! Data recieved is A\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is B\nRead Successful! Data recieved is C\nRead Successful! Data recieved is D\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is E\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is F\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is G\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is H\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is I\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is J\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is K\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is L\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is M\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is N\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is O\nRead Successful! Data recieved is P\nRead Error! Return value: 0Actual  bytes recieved = 0\nRead Successful! Data recieved is Q\nRead Error! Return value: 0Actual  bytes recieved = 0\n</code></pre>\n\n<p>I observe that each second Arduino sends an alphabet and my program catches it without fail. But almost all the time, a read error is also printed on the screen along with the captured object. What is causing this, and how can I stop it? </p>\n\n<p>I've found the source code of Serial.write() <a href=\"https://code.google.com/p/arduino/source/browse/trunk/hardware/arduino/cores/arduino/HardwareSerial.cpp\" rel=\"nofollow\">here</a>, but I can't make any sense out of it.</p>\n"}, {"tags": ["c++", ".net", "com"], "comments": [{"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 2, "creation_date": 1433366705, "post_id": 30630919, "comment_id": 49327619, "body": "32 bit programs can not load 64 bit DLLs and vice versa, which for COM means in-process servers must match the bitness of the host process. You could try creating it as an out-of-process server if the object supports it."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367268, "post_id": 30630919, "comment_id": 49327900, "body": "@JonathanPotter Ok let me further explain, my application is a 32 Bit Application, now I&#39;m trying to run it on a 64-bit Windows, it runs fine except  that in some functionality in the application I have to use the CoCreateInstance function but it now fails."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367312, "post_id": 30630919, "comment_id": 49327919, "body": "@JonathanPotter My Application is running as a 32 bit process on a 64 bit windows environment"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367357, "post_id": 30630919, "comment_id": 49327949, "body": "Ok, so do you have a 32 bit version of the COM DLL registered correctly?"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367358, "post_id": 30630919, "comment_id": 49327950, "body": "@JonathanPotter I&#39;m not trying to load a 64 bit dll"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367424, "post_id": 30630919, "comment_id": 49327980, "body": "@JonathanPotter yes I have a 32 bit version of the COM DLL but I&#39;m not srue if it&#39;s registered correctly, all I know is that it works fine on 32 bit windows."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433367612, "post_id": 30630919, "comment_id": 49328057, "body": "@JonathanPotter The executable creating COM obj is also 32 bit.  Only thing is that it works fine when I run it on 32 bit windows.  But it fails on 64 bit Windows."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1433390311, "post_id": 30630919, "comment_id": 49334570, "body": "Does this work on <b>every</b> 32-bit Windows system, or just one which happens also to have your development tools installed?"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1433427812, "post_id": 30630919, "comment_id": 49356644, "body": "@BenVoigt Yes it works on every 32-bit windows system, it only fails on 64-bit windows."}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "edited": false, "score": 0, "creation_date": 1433428888, "post_id": 30630919, "comment_id": 49357498, "body": "How many 64-bit Windows systems have you tried?"}], "answers": [{"comments": [{"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433368589, "post_id": 30631371, "comment_id": 49328491, "body": "how do I run dumpobj /all ?"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433368878, "post_id": 30631371, "comment_id": 49328618, "body": "I get the following error when trying to run regsvr32 on my DLL: &quot;The module &quot;MODULE_NAME.dll&quot; was loaded ut the entry-point DllRegisterServer was not found . make sure that &quot;MODULE_NAME.dll&quot; is a valid DLL or OCX file and then try again."}, {"owner": {"reputation": 5085, "user_id": 1181353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zqKlZ.jpg?s=128&g=1", "display_name": "Joseph Willcoxson", "link": "https://stackoverflow.com/users/1181353/joseph-willcoxson"}, "edited": false, "score": 0, "creation_date": 1433369161, "post_id": 30631371, "comment_id": 49328770, "body": "He probably means dumpbin.  I have never heard of dumpobj and it fails for me from a standard command line with Visual Studio paths added."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 0, "creation_date": 1433369686, "post_id": 30631371, "comment_id": 49328981, "body": "Sorry about that - brain fart :(.  Yes, <code>dumpbin &#47;all</code>. The fact that you can&#39;t run <code>regsvr32</code> is probably a Bad Sign.  Please a) run dumbin on all your binaries, b) specify your compiler, compiler version, and exactly which binaries you are/are not rebuilding.  I&#39;m also curious how you determined <code>CoCreateInstance()</code> is the line causing the access violation."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433370508, "post_id": 30631371, "comment_id": 49329279, "body": "@paulsm4 dumpbin /all returns nothing. The compiler is visual c++ 6.0 (32 bit). If I use the CLSCTX_INPROC_SERVER flag in the CoCreateInstance function I get an AccessViolationException and the entire application crashes, if I use the CLSCTX_LOCAL_SERVER flag in CoCreaetInstance the application doesn&#39;t crash but I get a vague error stating &quot;Error saving status writer object.&quot;, NOTE: This website has more information on these flags: <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms693716(v=vs.85).aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/windows/desktop/&hellip;</a>"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1433371047, "post_id": 30631371, "comment_id": 49329495, "body": "&quot;dumpbin/all&quot; can&#39;t return &quot;nothing&quot;. At a <i>minimum</i>, it&#39;ll say something like <code>d:\\temp\\tmp.txt : warning LNK4048: Invalid format file; ignored</code>.  But it <i>should</i> tell you lots of things: including whether it&#39;s x86, whether it&#39;s 32-bit, and whether it&#39;s <code>PE32</code> object format.  Q: Are you rebuilding the .dll in question with your (very old, circa 2000) MSVS 6 compiler?  Q: CLSCTX_INPROC_SERVER is what you want, isn&#39;t it?  How did it &quot;used to work&quot;?"}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1433371512, "post_id": 30631371, "comment_id": 49329717, "body": "PS: <code>System.AccessViolationException</code> implies a .Net .exe.  You couldn&#39;t possibly be building a .Net exe with MSVS 6, could you?"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433372942, "post_id": 30631371, "comment_id": 49330278, "body": "@paulsm4 That Visual C++ DLL runs on a .NET application so I assume that&#39;s why it shows that exception. CLSCTX_INPROC_SERVER is what was originally used, I just tried different flags to see if it would do something different. CoCreateInstance with the CLSCTX_INPROC_SERVER works fine on a Windows 2003 Server 32-Bit , recently they installed this application on a Windows 2012 Server 64-Bit and that&#39;s where this function crashes. The application was compiled as a 32-bit application running on the 64bit win 2012 server"}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 1, "creation_date": 1433390646, "post_id": 30631371, "comment_id": 49334649, "body": "@Eric - please clarify if your exe app is .NET or VC++. If it is .NET and built with the Any CPU configuration, and it is running on x64 Windows, then it is a 64-bit app and your VC++ code also needs to be 64-bit."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "edited": false, "score": 0, "creation_date": 1433427754, "post_id": 30631371, "comment_id": 49356595, "body": "@DavidChing The .NET app was built using x86"}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433427778, "post_id": 30631371, "comment_id": 49356613, "body": "@JonathanPotter It&#39;s not my choice, I&#39;m maintaining legacy code."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 1, "creation_date": 1433427935, "post_id": 30631371, "comment_id": 49356743, "body": "@EricBergman: It doesn&#39;t matter if it was built on an x86 machine, it matters what the compile options were.  Please add all the relevant information to your question."}, {"owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1433428003, "post_id": 30631371, "comment_id": 49356801, "body": "@BenVoigt Yes that&#39;s what I meant, it was built with x86 compile options."}, {"owner": {"reputation": 1723, "user_id": 2073217, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/066bde403e2c8cac1c76af6a35ad81d9?s=128&d=identicon&r=PG", "display_name": "David Ching", "link": "https://stackoverflow.com/users/2073217/david-ching"}, "reply_to_user": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433429702, "post_id": 30631371, "comment_id": 49358188, "body": "@EricBergman: make sure you are running the 32-bit regsvr32, e.g. <code>c:\\windows\\syswow64\\regsvr32.exe</code>.  Until the COM control is successfully registered (no &quot;DllRegisterServer not found&quot; error), your code will not work (although the Access Denied exception is puzzling)."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "reply_to_user": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "edited": false, "score": 0, "creation_date": 1433447575, "post_id": 30631371, "comment_id": 49368942, "body": "@Eric Bergman: please update your post with answers to all four of my questions above.  In particular, please clarify exactly how many &quot;binaries&quot; are involved and their platform (one .Net .exe + one COM/ActiveX .dll?)  Please make sure you can successfully run <code>dumpbin &#47;all</code> and <code>regsvr32</code>.  And finally, please get the .exe source and step into the <code>CoCreateInstance()</code> call with the MSVS debugger.  It&#39;s entirely possible that one or more of the input arguments are wrong/corrupt.  Please add the results to your post."}], "tags": [], "owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "is_accepted": false, "score": 1, "last_activity_date": 1433389642, "last_edit_date": 1433389642, "creation_date": 1433368068, "answer_id": 30631371, "question_id": 30630919, "link": "https://stackoverflow.com/questions/30630919/c-application-crashes-in-a-64-bit-version-of-windows-but-works-fine-on-32-bit/30631371#30631371", "title": "C++ application crashes in a 64 bit version of windows but works fine on 32 bit windows", "body": "<p>Please do this:</p>\n\n<ol>\n<li>Clarify the #/binaries involved.</li>\n</ol>\n\n<p>I assumed you had one .exe (the one calling  CoCreateInstance()), and one .dll (the Com/ActiveX object you're trying to instantiate).  Is this correct?</p>\n\n<ol start=\"2\">\n<li>Please run <code>dumpbin /all</code> on your binaries and post the results. </li>\n</ol>\n\n<p>Please run dumpbin on <em>all</em> relevant binaries; <em>especially</em> the COM/ActiveX class.</p>\n\n<p>A Win32 .dll should like something like this:</p>\n\n<pre><code>FILE HEADER VALUES\n             14C machine (x86)\n               3 number of sections\n        5355B2AD time date stamp Mon Apr 21 17:07:09 2014\n               0 file pointer to symbol table\n               0 number of symbols\n              E0 size of optional header\n            2102 characteristics\n                   Executable\n                   32 bit word machine\n                   DLL\n\nOPTIONAL HEADER VALUES\n             10B magic # (PE32)\n</code></pre>\n\n<ol start=\"3\">\n<li>Please clarify which binaries you've attempted to rebuild with your\nMSVS 6 compiler.  </li>\n</ol>\n\n<p>MSVS 6 won't work with .Net; MSVS 6 won't build C++11 code ... but it should be fine if all you're trying to do is get a legacy app working.  Again, I'm assuming there's only one .exe, and one .dll in the mix.  </p>\n\n<p>I'm assuming the .exe can be compiled as a 32-bit Win32 .exe (<em>not</em> a .Net .exe), and the .dll is a Win32, COM/ActiveX class. Both should have \"PE32\" headers in dumpbin. Please advise if otherwise.</p>\n\n<p>I'm assuming you have control over, and can rebuild and debug, <em>ALL</em> of the relevant source code for this app.  Please advise if otherwise.</p>\n\n<ol start=\"4\">\n<li>You should be able to register a COM/ActiveX .dll with regsvr32.</li>\n</ol>\n\n<p>If you can't, that's probably an indicator that \"something is wrong\", and I'd focus your troubleshooting efforts there.</p>\n\n<p>I hope that helps!</p>\n"}], "owner": {"reputation": 1291, "user_id": 1394566, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/9c9a84db1d43404dcf8f046292dba0f2?s=128&d=identicon&r=PG", "display_name": "Eric Bergman", "link": "https://stackoverflow.com/users/1394566/eric-bergman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1433389642, "creation_date": 1433366216, "last_edit_date": 1433375627, "question_id": 30630919, "link": "https://stackoverflow.com/questions/30630919/c-application-crashes-in-a-64-bit-version-of-windows-but-works-fine-on-32-bit", "title": "C++ application crashes in a 64 bit version of windows but works fine on 32 bit windows", "body": "<p>So I have a Visual C++ application, in my code I use the CoCreateInstance function which is used to create a COM object and get an interface from the object:</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms686615(v=vs.85).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms686615(v=vs.85).aspx</a></p>\n\n<p>This function:</p>\n\n<pre><code>hr = CoCreateInstance(CLSID_CppCmnBL, NULL, CLSCTX_INPROC_SERVER, \n         IID_ICppCmnBL, reinterpret_cast&lt;void**&gt;(&amp;m_pBL)); \n</code></pre>\n\n<p>Works fine on a 32 bit version of windows but fails on a 64 bit version of windows.</p>\n\n<p>I've looked everywhre, it seems there are issues registering 32 bit objects on a 64 bit system.</p>\n\n<p>Related issues:</p>\n\n<p><a href=\"https://social.msdn.microsoft.com/Forums/en-US/3841717c-a736-46d0-b214-0b047efcd16c/32-bit-app-cocreateinstance-failed-on-64-bit-windows-with-error-0x80090006-invalid-signature?forum=vclanguage\" rel=\"nofollow\">https://social.msdn.microsoft.com/Forums/en-US/3841717c-a736-46d0-b214-0b047efcd16c/32-bit-app-cocreateinstance-failed-on-64-bit-windows-with-error-0x80090006-invalid-signature?forum=vclanguage</a></p>\n\n<p><a href=\"http://forums.codeguru.com/showthread.php?400956-32-bit-app-CoCreateInstance-fails-on-64-bit\" rel=\"nofollow\">http://forums.codeguru.com/showthread.php?400956-32-bit-app-CoCreateInstance-fails-on-64-bit</a></p>\n\n<p>The exception I get is: System.AccessViolationException </p>\n"}, {"tags": ["c++", "hibernate", "winapi", "sleep", "kernel32"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433371403, "post_id": 30630909, "comment_id": 49329667, "body": "I&#39;m not sure what you&#39;re trying to do: is there a difference accessing the pw state ctx from a regular user  or LocalSystem?"}, {"owner": {"reputation": 17964, "user_id": 843732, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e7b3eb1f6bb311c47610a9d230485f0?s=128&d=identicon&r=PG", "display_name": "c00000fd", "link": "https://stackoverflow.com/users/843732/c00000fd"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433373882, "post_id": 30630909, "comment_id": 49330591, "body": "@CristiFati: From LocalSystem"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433374020, "post_id": 30630909, "comment_id": 49330637, "body": "Again, is there a difference?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433375452, "post_id": 30630909, "comment_id": 49331074, "body": "@CristiFati: the documented method for obtaining <code>SYSTEM_POWER_STATE_CONTEXT</code> only applies to device drivers.  You can&#39;t use it from a system service; if it is possible at all, it will require a different method."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433376158, "post_id": 30630909, "comment_id": 49331234, "body": "Sorry, i was looking at MSDN."}], "owner": {"reputation": 17964, "user_id": 843732, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/8e7b3eb1f6bb311c47610a9d230485f0?s=128&d=identicon&r=PG", "display_name": "c00000fd", "link": "https://stackoverflow.com/users/843732/c00000fd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 3, "answer_count": 0, "score": 4, "last_activity_date": 1433366181, "creation_date": 1433366181, "question_id": 30630909, "link": "https://stackoverflow.com/questions/30630909/access-system-power-state-context-from-user-mode-code", "title": "Access SYSTEM_POWER_STATE_CONTEXT from user-mode code", "body": "<p>I'm curious if there's a way (even if undocumented) to access <a href=\"https://msdn.microsoft.com/en-us/library/windows/hardware/jj835780(v=vs.85).aspx\" rel=\"nofollow\">SYSTEM_POWER_STATE_CONTEXT</a> from a Windows local service written in C++ running in user-mode?</p>\n\n<p>My goal is to distinguish between the system waking from sleep vs. hibernation, similar to what <a href=\"https://msdn.microsoft.com/en-us/library/windows/hardware/jj835779(v=vs.85).aspx\" rel=\"nofollow\">they describe here</a>.</p>\n"}, {"tags": ["c++", "3d", "directx", "direct3d", "directx-9"], "comments": [{"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1433380475, "post_id": 30630872, "comment_id": 49332288, "body": "Get a PIX capture. Usually it will be clear what&#39;s going wrong. In particular, look at the mesh tab."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1433386398, "post_id": 30630872, "comment_id": 49333602, "body": "Did you also change the position and size of the vertexes in you cube? World space coordinates are at different scale than transformed screen space coordinates."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "reply_to_user": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1433400715, "post_id": 30630872, "comment_id": 49338571, "body": "@MuertoExcobito Had no idea PIX even existed, wow! Ok, the Mesh tab in the Details panel seems to be the only one I can get info from with my current reading, when I have <code>DrawIndexedPrimitives</code> selected, in the pre-Vertex Shader view I have a wireframe render, in post-VS absolutely nothing, and viewport has two horizontal lines which I suppose are just the window borders."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "reply_to_user": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1433400801, "post_id": 30630872, "comment_id": 49338625, "body": "@RossRidge, Yes, the corners&#39; coordinates are combinations of 1 and -1, as taken from a multitude of books and tutorials, before going 3D they were combinations of 200 and 400, so I believe I&#39;ve got that right"}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433402022, "post_id": 30630872, "comment_id": 49339335, "body": "Setting all matrices to the identity matrix got  the mesh into the viewport, but the render remains empty at all times... I also tried setting a material but no difference there. Also, once it is out of <code>DrawIndexedPrimitives</code> the mesh disappears again."}, {"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1433408800, "post_id": 30630872, "comment_id": 49343481, "body": "If the mesh appears in the preVS window, this means that you likely have the mesh input (FVF) set properly. The problem must then be with the matrices, or, with the pixel stage (or both). If the mesh does not appear in the third window (viewport space), it means that it is likely the matrices. You can look at the postVS tab, to see the values of the final output positions, which should be all 0..1, otherwise they will be outside the viewport."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433409759, "post_id": 30630872, "comment_id": 49344188, "body": "Indeed some values our out of that range... But setting all matrices to the identity matrix, even though it does show much of the mesh in the viewport space, results in no output, would that indicate a bigger problem in the pixel stage (which I have had no contact with)? Also, should the mesh tab show any color or only wireframe?"}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1433429483, "post_id": 30630872, "comment_id": 49358001, "body": "You&#39;re going to have to provide a minimal complete and verifiable example. Otherwise we&#39;re just guessing. <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433453043, "post_id": 30630872, "comment_id": 49371750, "body": "Yeah I guess it&#39;s not the most clear.... What I can say is that the position field has 4 numbers, in post the first one is -1.#IO, which leaves me clueless, the others are around -2, and 10, and some precise 11s. I provided a link to the project files, if you open it and change as described in the original post you&#39;ll doubtlessly get what I get - I&#39;ve done this 2-3 times from scratch"}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433710513, "post_id": 30630872, "comment_id": 49454952, "body": "that much is fixed, in PIX it&#39;s within the viewport, but nothing appears on render"}], "answers": [{"comments": [{"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433709736, "post_id": 30678285, "comment_id": 49454751, "body": "The good: I had that corrected at some point, but looks like I reverted at some point, so I am super glad you pointed that out. In PIX the mesh is inside the viewport. Also all values look perfectly right. The bad: I don&#39;t get anything on Render (I see nothing in the application either of course). I will take another very thorough look and see if I can spot anything wrong before I bug you any further."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433709916, "post_id": 30678285, "comment_id": 49454806, "body": "By the way though, did it run for you? Though not probable, I may have tweaked something else, if it ran for you then it&#39;s probably solved."}, {"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "reply_to_user": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433753655, "post_id": 30678285, "comment_id": 49467288, "body": "I didn&#39;t try running it. If you have another issue, please post another question. SO works better when issues questions are as minimal as possible."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433830396, "post_id": 30678285, "comment_id": 49505610, "body": "I&#39;ll debug some more today and see if it works out. The problem remained the same, as said in the question, it is not rendering - though undoubtedly progress has been made, and thank you for that. I asked so I knew if just rewriting the code would get it to run or not, which I will do anyway though."}, {"owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "edited": false, "score": 0, "creation_date": 1433854756, "post_id": 30678285, "comment_id": 49521627, "body": "I rewrote it as described throughout the question and it worked, looks like I had meddled with something else, thank you for your assistance."}], "tags": [], "owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "is_accepted": true, "score": 2, "last_activity_date": 1433557093, "creation_date": 1433557093, "answer_id": 30678285, "question_id": 30630872, "link": "https://stackoverflow.com/questions/30630872/directx-9-not-rendering-after-adding-transforms/30678285#30678285", "title": "DirectX 9 not rendering after adding transforms", "body": "<p>In your code (downloaded), <code>xRes</code> and <code>yRes</code> are ints. Due to integer division, <code>yRes/xRes</code> will be zero, because xRes > yRes. You are passing this into the <code>D3DXMatrixPerspextiveFovLH</code> function as the aspect ratio, which will produce an invalid matrix. Instead, cast them to floats first, before doing the division, and pass the result in.</p>\n"}], "owner": {"reputation": 1089, "user_id": 3079666, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e110519143671b84fc7a666a3377bf93?s=128&d=identicon&r=PG&f=1", "display_name": "user3079666", "link": "https://stackoverflow.com/users/3079666/user3079666"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 30678285, "answer_count": 1, "score": 0, "last_activity_date": 1433710391, "creation_date": 1433366061, "last_edit_date": 1433710391, "question_id": 30630872, "link": "https://stackoverflow.com/questions/30630872/directx-9-not-rendering-after-adding-transforms", "title": "DirectX 9 not rendering after adding transforms", "body": "<p>so far I got a cube rendered without any transforms (thus it was rendered in an orthographic perspective), and I am working on the previous code to get it into a perspective view, with all the matrices involved. I changed the Flexible Vertex Format so as not to have RHW (thus only having XYZ coordinates and color, tried ARGB and XRGB but I don't think it matters), and I added a function that sets all the matrices.</p>\n\n<p><strong>Debugging</strong><br>\nshowed that matrices are being created correctly, functions return correctly (as far as I could see), no crashes (DirectX will never complain if something goes wrong, it just doesn't render) and in general, step-by-step debugging shows no paranormal activity.</p>\n\n<p><strong>Existing project</strong> (which I modify and eventually prevent from working):<br>\nAs I advance I also write tutorials of sorts so I can go back and see what I did last time to get it to work, and this time I've kept versions so you can get the code <a href=\"http://students.ceid.upatras.gr/~vpapadatos/DirectX9TutorialIndexedPrims.rar\" rel=\"nofollow\">here</a> along with the VS2010 solution, all the DirectX work is done in 3Dheader.h and D3DLoader.h</p>\n\n<p><strong>Changes:</strong><br>\n - the custom vertex format FVF_CUSTOMVERTEX has been changed so as not to include RHW, as I understand it has to be removed so as to be computed through the transformations\n - In <code>Render()</code> I add a call to the function <code>setMatrices()</code> which does all the matrix and transform work, and is as follows:</p>\n\n<pre><code>void setMatrices()\n{\n    //--------------transformation code----------------//\n    D3DXMATRIX objectM, translationM, rotationM, projectionM, lookAtM, finalM;\n\nHRESULT hr;\n\nD3DXMatrixIdentity(&amp;objectM);\nD3DXMatrixRotationY(&amp;rotationM, D3DX_PI/4);\n//D3DXMatrixMultiply(&amp;finalM, &amp;objectM, &amp;rotationM);\n\nD3DXMatrixPerspectiveFovLH(&amp;projectionM,D3DX_PI/4,(float)yRes/xRes, 1, 100);\n\nD3DXVECTOR3 camera;\ncamera.x = -10;\ncamera.y = 0;\ncamera.z = 0;\nD3DXVECTOR3 cameraTarget;\ncameraTarget.x = 0;\ncameraTarget.y = 0;\ncameraTarget.z = 0;\nD3DXVECTOR3 cameraUp;\ncameraUp.x = 0;\ncameraUp.y = 1;\ncameraUp.z = 0;\nD3DXMatrixLookAtLH(&amp;lookAtM,&amp;camera,&amp;cameraTarget, &amp;cameraUp);\n\nhr = pd3dDevice-&gt;SetTransform(D3DTS_WORLD, &amp;objectM);\nhr = pd3dDevice-&gt;SetTransform(D3DTS_PROJECTION, &amp;projectionM);\nhr = pd3dDevice-&gt;SetTransform(D3DTS_VIEW, &amp;lookAtM);\n\nD3DVIEWPORT9 view_port;\n\nview_port.X=0;\nview_port.Y=0;\nview_port.Width=xRes;\nview_port.Height=yRes;\nview_port.MinZ=0.0f;\nview_port.MaxZ=1.0f;\n\npd3dDevice-&gt;SetViewport(&amp;view_port);\n}\n</code></pre>\n\n<p>Note of course that some elements may not be needed, placed there just in case during my attempts, this is the code I have currently so we have a common reference.</p>\n\n<p>Thanks in advance for any answers and/or attempts to answer.</p>\n"}, {"tags": ["c++"], "answers": [{"tags": [], "owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "is_accepted": false, "score": 2, "last_activity_date": 1433366284, "creation_date": 1433366284, "answer_id": 30630931, "question_id": 30630846, "link": "https://stackoverflow.com/questions/30630846/change-length-of-dashed-line-to-match-input-string-length/30630931#30630931", "title": "Change length of dashed line to match input string length?", "body": "<pre><code>cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; string(name.length() + 12, '-') &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "is_accepted": false, "score": 2, "last_activity_date": 1433366368, "creation_date": 1433366368, "answer_id": 30630955, "question_id": 30630846, "link": "https://stackoverflow.com/questions/30630846/change-length-of-dashed-line-to-match-input-string-length/30630955#30630955", "title": "Change length of dashed line to match input string length?", "body": "<p>just put in this line, instead of your current dash line</p>\n\n<pre><code>cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; std::string(name.length(), '-') &lt;&lt; endl;\n</code></pre>\n\n<p>for further information see <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/basic_string\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/string/basic_string/basic_string</a></p>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1433366389, "creation_date": 1433366389, "answer_id": 30630963, "question_id": 30630846, "link": "https://stackoverflow.com/questions/30630846/change-length-of-dashed-line-to-match-input-string-length/30630963#30630963", "title": "Change length of dashed line to match input string length?", "body": "<p>You can make a string of hyphens of a certain length. Get the length by first building a string for the name line and then calling its length method. Here is an example:</p>\n\n<pre><code>std::string hyphens;\nhyphens.assign(length, '-');\n</code></pre>\n\n<p>check out thislink for more details on using strings:\n<a href=\"http://www.cplusplus.com/reference/string/string/\" rel=\"nofollow\">http://www.cplusplus.com/reference/string/string/</a></p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1433367065, "last_edit_date": 1433367065, "creation_date": 1433366659, "answer_id": 30631029, "question_id": 30630846, "link": "https://stackoverflow.com/questions/30630846/change-length-of-dashed-line-to-match-input-string-length/30631029#30631029", "title": "Change length of dashed line to match input string length?", "body": "<p>You can do it the following way</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nint main() \n{\n    std::string name( \"01234567890\" );\n\n    std::cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; name &lt;&lt; \": Tax Report\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; std::setfill( '-' ) &lt;&lt; std::setw( name.size() ) \n              &lt;&lt; '-' &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>    01234567890: Tax Report\n    -----------\n</code></pre>\n\n<p>If you want that all preceding line would be underlined then you need tp add the size of string \": Tax Report\" to the argument of <code>std:;setw</code> For example</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n\nint main() \n{\n    std::string name( \"01234567890\" );\n\n    std::cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; name &lt;&lt; \": Tax Report\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; std::setfill( '-' ) &lt;&lt; std::setw( name.size() + 12 ) \n              &lt;&lt; '-' &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>In this case the porgram output is</p>\n\n<pre><code>01234567890: Tax Report\n-----------------------\n</code></pre>\n\n<p>Thus all you need is to use functions <code>std::setfill</code> and  <code>std::setw</code> declared in header <code>&lt;iomanip&gt;</code>. There is no need to a create a temporary object of type <code>std::string</code> because it is inefficient..</p>\n"}], "owner": {"reputation": 1, "user_id": 4971421, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5833c5886f6abe63d79ef3e8c3fe544?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Huerta", "link": "https://stackoverflow.com/users/4971421/victor-huerta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1733, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1433367065, "creation_date": 1433365967, "question_id": 30630846, "link": "https://stackoverflow.com/questions/30630846/change-length-of-dashed-line-to-match-input-string-length", "title": "Change length of dashed line to match input string length?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nint main()\n{\nstring name;\nint income;\nint tax;\n\ncout &lt;&lt; \"What is your full name?  \";\ngetline(cin,name);\ncout &lt;&lt; \"What is your annual income?  \";\ncin &gt;&gt; income;\n\nif (income &lt; 50000)\n{\n    tax = income*0.33;\n}\nelse { tax = income*0.38; }\n\ncout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; name &lt;&lt; \": Tax Report\" &lt;&lt; endl;\ncout &lt;&lt; \"\\t\\t\\t\" &lt;&lt; \"-------------------------\" &lt;&lt; endl;\ncout &lt;&lt; \"Income =$\" &lt;&lt; income &lt;&lt; endl;\ncout &lt;&lt; \"Tax =$\" &lt;&lt; tax &lt;&lt; endl;\n\nsystem(\"pause\");\nreturn 0;\n}\n</code></pre>\n\n<p>I would like the line of hyphens to match the length of the name string regardless of its length. I am in an introductory c++ class and I am sure there is a simple way to do this. Could anyone help?</p>\n"}, {"tags": ["c++", "linker-errors", "sfml"], "comments": [{"owner": {"reputation": 3364, "user_id": 520217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/417a6f6d3cffb86f937638e050d89006?s=128&d=identicon&r=PG", "display_name": "Hiura", "link": "https://stackoverflow.com/users/520217/hiura"}, "edited": false, "score": 0, "creation_date": 1433404260, "post_id": 30630689, "comment_id": 49340599, "body": "You mentions errors but you should actually write them -- readers don&#39;t know what you&#39;re talking about."}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "reply_to_user": {"reputation": 3364, "user_id": 520217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/417a6f6d3cffb86f937638e050d89006?s=128&d=identicon&r=PG", "display_name": "Hiura", "link": "https://stackoverflow.com/users/520217/hiura"}, "edited": false, "score": 0, "creation_date": 1433413366, "post_id": 30630689, "comment_id": 49346643, "body": "@Hiura when I made the question I originally had the error code but SO complained that I had too much code and &#39;not enough details&#39;"}, {"owner": {"reputation": 3364, "user_id": 520217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/417a6f6d3cffb86f937638e050d89006?s=128&d=identicon&r=PG", "display_name": "Hiura", "link": "https://stackoverflow.com/users/520217/hiura"}, "edited": false, "score": 0, "creation_date": 1433422073, "post_id": 30630689, "comment_id": 49352416, "body": "I don&#39;t know exactly what you are referring to, but my guess is that they asked for a SSCCE. That doesn&#39;t mean you should not mention the actual error you have. If someone is having the same error as you did, using Google or any other search engine will not yield this question and as such it&#39;s pretty useless."}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "reply_to_user": {"reputation": 3364, "user_id": 520217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/417a6f6d3cffb86f937638e050d89006?s=128&d=identicon&r=PG", "display_name": "Hiura", "link": "https://stackoverflow.com/users/520217/hiura"}, "edited": false, "score": 0, "creation_date": 1433429013, "post_id": 30630689, "comment_id": 49357609, "body": "@Hiura The problem was that because it is in a Q/A format I didn&#39;t write very many details, and SO saw I had two big blocks of code (the SFML example and the error), so complained I didn&#39;t have enough detail. I&#39;ll try to add the error now that I&#39;m back on my Linux PC."}], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 2772093, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8d457b2ee895205265c927425fa72bd6?s=128&d=identicon&r=PG&f=1", "display_name": "sidd607", "link": "https://stackoverflow.com/users/2772093/sidd607"}, "edited": false, "score": 1, "creation_date": 1474219690, "post_id": 30630690, "comment_id": 66431775, "body": "I have g++5.4.0 but I still get the error even after swapping the options,"}, {"owner": {"reputation": 176, "user_id": 2757531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/478cb9e7e18e9d095ed62705676b3e8a?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/2757531/bob"}, "edited": false, "score": 0, "creation_date": 1496664106, "post_id": 30630690, "comment_id": 75737850, "body": "I have g++ 6.3.1 and still get the error. Swapping the options like you suggested did not fix it."}], "tags": [], "owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "is_accepted": true, "score": 8, "last_activity_date": 1433367716, "last_edit_date": 1492086159, "creation_date": 1433365469, "answer_id": 30630690, "question_id": 30630689, "link": "https://stackoverflow.com/questions/30630689/linker-error-with-sfml/30630690#30630690", "title": "Linker error with SFML", "body": "<p>There are two ways to solve this issue. The first is to swap some of the options so the command goes like this: <code>g++ main.cpp -lsfml-window -lsfml-graphics -lsfml-system</code>. The second option is to try updating g++ to version 4.9.2, which can be achieved on ubuntu <a href=\"https://askubuntu.com/questions/428198/getting-installing-gcc-g-4-9-on-ubuntu\">by doing this</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6337014, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/249f72cc8b7a2d10d073e2d1b9b8cf1e?s=128&d=identicon&r=PG", "display_name": "aratron", "link": "https://stackoverflow.com/users/6337014/aratron"}, "is_accepted": false, "score": 0, "last_activity_date": 1463315207, "creation_date": 1463315207, "answer_id": 37238286, "question_id": 30630689, "link": "https://stackoverflow.com/questions/30630689/linker-error-with-sfml/37238286#37238286", "title": "Linker error with SFML", "body": "<p>clang++-3.6 (package <strong>clang-3.6</strong> LLVM based) works for me and is part of package repo. g++-4.8.2 didn't work with reordering libs either.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12728034, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gtQvDDg8b2U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFZ3TcD-FhgFZFu-DAhM5jMztzDw/photo.jpg?sz=128", "display_name": "Chris Hoy", "link": "https://stackoverflow.com/users/12728034/chris-hoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1603788867, "last_edit_date": 1603788867, "creation_date": 1603787483, "answer_id": 64550643, "question_id": 30630689, "link": "https://stackoverflow.com/questions/30630689/linker-error-with-sfml/64550643#64550643", "title": "Linker error with SFML", "body": "<p>You are missing the compile command for GCC which would be <code>g++ -c</code>.\nThis would give you a default object file which you can then run from terminal.\nIf it helps, my standard scripts that always work would be program =&gt; files =&gt; includes/libraries =&gt; object =&gt; Linker files</p>\n<p>So an example in this case would be<br/>\nConsole: <code>g++ -c main.cpp -o sfmlApp -lsfml-window -lsfml-graphics -lsfml-system</code><br/>\nConsole: <code>./sfmlApp</code></p>\n<p>Where <code>-c</code> is compilation and <code>-o</code> names the default object file.</p>\n<p>If you are using libsfml-dev on most Linux distros you may have to append the include and library files with the compilation and object instance. The tutorial shows it as adding: <br/>\nConsole: <code>g++ -c main.cpp -o sfmlApp -L /sfml-install-path/lib -lsfml-graphics -lsfml-window -lsfml-system</code></p>\n<p>Where <code>-L /sfml-install-path/lib</code> would be the literal download location of the Linux version from the website. This should work for Ubuntu if I recall but you may have to add one more step as seen in the website tutorial for the overhead to get it started.</p>\n<pre><code>export LD_LIBRARY_PATH=/sfml-install-path/lib &amp;&amp; ./sfml-app\ng++ -c main.cpp -o sfmlApp -lsfml-window -lsfml-graphics -lsfml-system\n</code></pre>\n<p>That should at least get you started.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 14674724, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjKTHFHNpFjA3YMZESIFLE79TA7_zNK-1H-RpWyPw=k-s128", "display_name": "Prabhat Maurya", "link": "https://stackoverflow.com/users/14674724/prabhat-maurya"}, "is_accepted": false, "score": 0, "last_activity_date": 1605888506, "last_edit_date": 1605888506, "creation_date": 1605888185, "answer_id": 64932776, "question_id": 30630689, "link": "https://stackoverflow.com/questions/30630689/linker-error-with-sfml/64932776#64932776", "title": "Linker error with SFML", "body": "<p>The  solution is simple . You are not passing arguments in correct order .</p>\n<p>Right order</p>\n<pre><code>g++  -lsfml-graphics  -lsfml-system -lsfml-system main.cpp\n</code></pre>\n<p>You need to always pass arguments in correct order.</p>\n<pre><code>Graphics\nWindow\nAudio\nNetwork\nSystem\n</code></pre>\n"}], "owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3803, "favorite_count": 1, "accepted_answer_id": 30630690, "answer_count": 4, "score": 4, "last_activity_date": 1605888506, "creation_date": 1433365469, "last_edit_date": 1433429372, "question_id": 30630689, "link": "https://stackoverflow.com/questions/30630689/linker-error-with-sfml", "title": "Linker error with SFML", "body": "<p>I get a series of errors when running <code>g++ -lsfml-window -lsfml-graphics -lsfml-system main.cpp</code> on the example SFML code, when running Ubuntu, SFML 2.2 and g++ 4.8.2. I've tried reinstalling SFML from the package manager (<code>libsfml-dev</code>) and nothing works.</p>\n\n<p>Example SFML Code:</p>\n\n<pre><code>#include &lt;SFML/Graphics.hpp&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    sf::RenderWindow window(sf::VideoMode(200, 200), \"SFML works!\");\n    sf::CircleShape shape(100.f);\n    shape.setFillColor(sf::Color::Green);\n\n    while (window.isOpen())\n    {\n    sf::Event event;\n    while (window.pollEvent(event))\n    {\n        if (event.type == sf::Event::Closed)\n            window.close();\n    }\n\n    window.clear();\n    window.draw(shape);\n    window.display();\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Error Message:</p>\n\n<pre><code>/tmp/ccVG6GjG.o: In function `main':\nmain.cpp:(.text+0xf7): undefined reference to `sf::String::String(char const*, std::locale const&amp;)'\nmain.cpp:(.text+0x115): undefined reference to `sf::VideoMode::VideoMode(unsigned int, unsigned int, unsigned int)'\nmain.cpp:(.text+0x148): undefined reference to `sf::RenderWindow::RenderWindow(sf::VideoMode, sf::String const&amp;, unsigned int, sf::ContextSettings cons'\nmain.cpp:(.text+0x182): undefined reference to `sf::CircleShape::CircleShape(float, unsigned int)'\nmain.cpp:(.text+0x18e): undefined reference to `sf::Color::Green'\nmain.cpp:(.text+0x196): undefined reference to `sf::Shape::setFillColor(sf::Color const&amp;)'\nmain.cpp:(.text+0x1b6): undefined reference to `sf::Window::close()'\nmain.cpp:(.text+0x1cf): undefined reference to `sf::Window::pollEvent(sf::Event&amp;)'\nmain.cpp:(.text+0x1f7): undefined reference to `sf::Color::Color(unsigned char, unsigned char, unsigned char, unsigned char)'\nmain.cpp:(.text+0x214): undefined reference to `sf::RenderTarget::clear(sf::Color const&amp;)'\nmain.cpp:(.text+0x22b): undefined reference to `sf::RenderStates::Default'\nmain.cpp:(.text+0x236): undefined reference to `sf::RenderTarget::draw(sf::Drawable const&amp;, sf::RenderStates const&amp;)'\nmain.cpp:(.text+0x245): undefined reference to `sf::Window::display()'\nmain.cpp:(.text+0x254): undefined reference to `sf::Window::isOpen() const'\nmain.cpp:(.text+0x27f): undefined reference to `sf::RenderWindow::~RenderWindow()'\nmain.cpp:(.text+0x2a9): undefined reference to `sf::RenderWindow::~RenderWindow()'\nmain.cpp:(.text+0x2ee): undefined reference to `sf::RenderWindow::~RenderWindow()'\n/tmp/ccVG6GjG.o: In function `sf::CircleShape::~CircleShape()':\nmain.cpp:(.text._ZN2sf11CircleShapeD2Ev[_ZN2sf11CircleShapeD5Ev]+0x13): undefined reference to `vtable for sf::CircleShape'\nmain.cpp:(.text._ZN2sf11CircleShapeD2Ev[_ZN2sf11CircleShapeD5Ev]+0x1f): undefined reference to `vtable for sf::CircleShape'\nmain.cpp:(.text._ZN2sf11CircleShapeD2Ev[_ZN2sf11CircleShapeD5Ev]+0x2b): undefined reference to `sf::Shape::~Shape()'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n"}, {"tags": ["c++", "casting"], "comments": [{"owner": {"reputation": 1090, "user_id": 2843157, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qorh2.jpg?s=128&g=1", "display_name": "John Odom", "link": "https://stackoverflow.com/users/2843157/john-odom"}, "edited": false, "score": 1, "creation_date": 1433365560, "post_id": 30630643, "comment_id": 49327061, "body": "What was the &quot;wrong&quot; and &quot;right&quot; answers that you were getting?"}, {"owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "edited": false, "score": 0, "creation_date": 1433365945, "post_id": 30630643, "comment_id": 49327242, "body": "Did LINE 1 really need changing?"}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1433366004, "post_id": 30630643, "comment_id": 49327288, "body": "The dis-advantage is <i>assuming</i> <code>long long</code> will compensate for not insuring various math operations do not overflow.  Better to insure overflow does not happen that simple &quot;use a maybe wider type&quot;."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433366438, "post_id": 30630643, "comment_id": 49327502, "body": "Should <code>A</code> be a <code>vector&lt;long long&gt;</code>? Often (but not always) a cast is a sign that the argument should have been of the target type in the first place."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1522664902, "post_id": 30630643, "comment_id": 86225480, "body": "both versions of line 1 are equivalent"}], "answers": [{"comments": [{"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1433366136, "post_id": 30630730, "comment_id": 49327356, "body": "Casting to <code>long long</code> <i>often</i>, but not certainly, expands the range.  Depends on complier, etc."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1433366376, "post_id": 30630730, "comment_id": 49327467, "body": "Typically you won&#39;t get a &quot;random&quot; result; usually the high-order bits are discarded. For unsigned types, this behavior is required."}, {"owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433366421, "post_id": 30630730, "comment_id": 49327494, "body": "@KeithThompson: that&#39;s why I said &quot;seemingly&quot; :-)"}], "tags": [], "owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "is_accepted": false, "score": 3, "last_activity_date": 1433366344, "last_edit_date": 1433366344, "creation_date": 1433365622, "answer_id": 30630730, "question_id": 30630643, "link": "https://stackoverflow.com/questions/30630643/what-is-the-advantage-of-typecasting-int-to-long-long-during-calculations/30630730#30630730", "title": "What is the advantage of typecasting int to long long during calculations?", "body": "<p>When you multiply two <code>int</code> values the result is computed as an <code>int</code>.</p>\n\n<p>If the values when multiplied are too big for an <code>int</code> you get \"undefined behavior\" (in most common hardware you just get a seemingly random result).</p>\n\n<p>For example <code>33554432</code> (i.e. <code>1&lt;&lt;25</code> == 2<sup>25</sup>) is ok for a 32-bit integer, but its square <code>1125899906842624</code> (i.e. 2<sup>50</sup>) is not.</p>\n\n<p>Casting to <code>long long</code> the terms before computing the multiplication you're hopefully expanding the range in which the computations are done correctly.</p>\n\n<p>These problems are not present in languages that natively provide arbitrary precision integers like Python or Lisp.</p>\n\n<p>Note it's possible that <code>int</code> and <code>long long</code> are indeed the same size (you can only be sure that a <code>long long</code> is not <strong>smaller</strong> than an <code>int</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "is_accepted": false, "score": 2, "last_activity_date": 1433365651, "creation_date": 1433365651, "answer_id": 30630743, "question_id": 30630643, "link": "https://stackoverflow.com/questions/30630643/what-is-the-advantage-of-typecasting-int-to-long-long-during-calculations/30630743#30630743", "title": "What is the advantage of typecasting int to long long during calculations?", "body": "<p>The key is here:</p>\n\n<pre><code>A[i]*A[i]\n</code></pre>\n\n<p>This can be too big, overflow the <code>int</code>, and only after that, is converted to <code>long long</code>, but.</p>\n\n<pre><code>(long long)A[i]*(long long)A[i];  \n</code></pre>\n\n<p>is first converted and then multiply and may not overflow the <code>long long</code></p>\n"}], "owner": {"reputation": 4956, "user_id": 4110320, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/hpdu1.jpg?s=128&g=1", "display_name": "cryptomanic", "link": "https://stackoverflow.com/users/4110320/cryptomanic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1522664044, "creation_date": 1433365315, "last_edit_date": 1522664044, "question_id": 30630643, "link": "https://stackoverflow.com/questions/30630643/what-is-the-advantage-of-typecasting-int-to-long-long-during-calculations", "title": "What is the advantage of typecasting int to long long during calculations?", "body": "<p>I was getting <strong>wrong answer</strong> by the below function.  </p>\n\n<pre><code>vector&lt;int&gt; repeatedNumber(const vector&lt;int&gt; &amp;A) {\n    int n = A.size();\n    long long linear_sum = 0,square_sum = 0;\n    int i = 0;\n    for(;i&lt;n;i++){\n        linear_sum += A[i];          //LINE 1\n        square_sum += A[i]*A[i];     //LINE 2\n    }\n    linear_sum = linear_sum - (n*(n+1))/2;\n    square_sum = square_sum - (n*(n+1)*(2*n+1))/6;\n    square_sum /= linear_sum;\n    vector&lt;int&gt; ans;\n    ans.push_back((linear_sum+square_sum)/2);\n    ans.push_back((-linear_sum+square_sum)/2);\n    return ans;\n}\n</code></pre>\n\n<p>But when I replaced LINE 1 and LINE 2 with :</p>\n\n<pre><code>linear_sum += (long long)A[i];          \nsquare_sum += (long long)A[i]*(long long)A[i];     \n</code></pre>\n\n<p>I got the correct answer.Why just typecasting the int to long long solves the problem.</p>\n"}, {"tags": ["c++", "oop", "pointers", "object"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 1, "creation_date": 1433364652, "post_id": 30630346, "comment_id": 49326534, "body": "That should actually work fine, if <code>selected_text</code> is pointing where you think it&#39;s pointing. If you showed us the code that sets <code>selected_text</code>, as well as where you try to print <code>my_text_object.get_text()</code>, we might be able to help."}, {"owner": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 0, "creation_date": 1433364701, "post_id": 30630346, "comment_id": 49326555, "body": "I agree, post the relevant code and we can be of more help."}, {"owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "edited": false, "score": 0, "creation_date": 1433364939, "post_id": 30630346, "comment_id": 49326692, "body": "Also, please clarify how &quot;void set_text( std::string )&quot; is not literally the answer to your question.  (not trying to be mean here, just looking to clarify what you&#39;re after)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "edited": false, "score": 0, "creation_date": 1433364968, "post_id": 30630346, "comment_id": 49326711, "body": "Well, the related code is really convoluted and interspersed through hundreds of lines and multiple files. I&#39;ll add some related code to the post."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433365270, "post_id": 30630346, "comment_id": 49326888, "body": "you do: <code>selected_text-&gt;append( key );</code>  or <code>selected_text-&gt;get_txt().append( key );</code> ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "reply_to_user": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433365755, "post_id": 30630346, "comment_id": 49327139, "body": "@qPCR4vir I do <code>selected_text-&gt;append( key );</code> The <code>get_text()</code> method returns the <code>std::string</code> within a <code>Text</code> object. I wrote my own append method specifically for <code>Text</code> objects. I&#39;m not trying to use the method that&#39;s part of the STL."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433366237, "post_id": 30630346, "comment_id": 49327400, "body": "Are you inserting or erasing anything from Text_Objects?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "reply_to_user": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433366428, "post_id": 30630346, "comment_id": 49327497, "body": "@qPCR4vir I added more relevant code. No there is only one object within <code>Text_Objects</code> for debugging purposes."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 1, "creation_date": 1433367996, "post_id": 30630346, "comment_id": 49328221, "body": "Yes, <code>push_back</code> adds a copy of an object. That was the problem."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 1, "creation_date": 1433368052, "post_id": 30630346, "comment_id": 49328248, "body": "The <code>for</code> is OK. It works with a reference."}, {"owner": {"reputation": 3422, "user_id": 1458030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3728aa864efa903f4d0c7db9ac39989?s=128&d=identicon&r=PG", "display_name": "qPCR4vir", "link": "https://stackoverflow.com/users/1458030/qpcr4vir"}, "edited": false, "score": 0, "creation_date": 1433368164, "post_id": 30630346, "comment_id": 49328304, "body": "try to write self the answer"}], "answers": [{"comments": [{"owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "edited": false, "score": 1, "creation_date": 1433365015, "post_id": 30630534, "comment_id": 49326738, "body": "We don&#39;t know how the append() method is defined, but he did say that much did work."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "edited": false, "score": 0, "creation_date": 1433365069, "post_id": 30630534, "comment_id": 49326759, "body": "@donjuedo He did not say that the class has append method.:)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "edited": false, "score": 0, "creation_date": 1433365146, "post_id": 30630534, "comment_id": 49326814, "body": "oops. In my code, the append method does exactly that <i>and more</i>. The problem is I can&#39;t just use the one-liner because so much other stuff needs to be done. That&#39;s why I call the <code>append</code> method."}, {"owner": {"reputation": 2385, "user_id": 2565958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be3bcf62e85eadc0ff5d40429813e2a3?s=128&d=identicon&r=PG", "display_name": "donjuedo", "link": "https://stackoverflow.com/users/2565958/donjuedo"}, "edited": false, "score": 1, "creation_date": 1433365256, "post_id": 30630534, "comment_id": 49326883, "body": "@Vlad from Moscow:  He did, though.  It&#39;s right after the text, &quot;I execute the following code:&quot;.  To your credit, I did notice no class specifier for the getter and setter, and wrote it off to editing for brevity."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1433365404, "post_id": 30630534, "comment_id": 49326976, "body": "@gragas You asked how you can change the string and I showed you how it can be done. I  know nothing about &quot;other stuff to be done&quot;.:)"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1433366130, "post_id": 30630534, "comment_id": 49327351, "body": "@gragas And your &quot;other stuff&quot; has nothing common with how the string is changed using a pointer to an object of type Text."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": -1, "last_activity_date": 1433365474, "last_edit_date": 1433365474, "creation_date": 1433364944, "answer_id": 30630534, "question_id": 30630346, "link": "https://stackoverflow.com/questions/30630346/using-a-pointer-to-change-an-object-in-c/30630534#30630534", "title": "Using a pointer to change an object in C++", "body": "<p>Because method <code>std::string get_text()</code> returns a copy of the object of type <code>std::string</code>  stored in an object of type <code>Text</code> then you can write the following way</p>\n\n<pre><code>selected_text-&gt;set_text(  selected_text-&gt;get_text() + key );\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "is_accepted": false, "score": 1, "last_activity_date": 1433375838, "creation_date": 1433375838, "answer_id": 30632805, "question_id": 30630346, "link": "https://stackoverflow.com/questions/30630346/using-a-pointer-to-change-an-object-in-c/30632805#30632805", "title": "Using a pointer to change an object in C++", "body": "<p>I used a <code>std::vector&lt;Text&gt;</code> to store <code>Text</code> objects. This means whenever I used <code>push_back</code> to add another <code>Text</code> object to the array, I was adding a copy of a <code>Text</code> object, not the object itself, to the vector. All the code written in the question is correct. The problem is, the pointer <code>selected_text</code> modifies a copy of each <code>Text</code> object (which is stored in the array), not each object itself.</p>\n\n<p>To fix this, I switched my <code>std::vector&lt;Text&gt;</code> to <code>std::vector&lt;Text*&gt;</code>, a vector of pointers to <code>Text</code> objects. Now, instead of adding a copy of each <code>Text</code> object when using <code>push_back</code>, I add a pointer to some predefined <code>Text</code> object. The <code>selected_text</code> pointer can be used to point to <code>Text*</code> within the vector, which points to a corresponding <code>Text</code> object.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3835277"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433375838, "creation_date": 1433364371, "last_edit_date": 1433367134, "question_id": 30630346, "link": "https://stackoverflow.com/questions/30630346/using-a-pointer-to-change-an-object-in-c", "title": "Using a pointer to change an object in C++", "body": "<p>Suppose I have multiple <code>Text</code> objects of various names and one <code>Text*</code> called <code>selected_text</code>. <code>Text</code> objects hold one <code>std::string</code> and have three methods: <code>std::string get_text()</code>, <code>void set_text( std::string )</code> and <code>void append( std::string )</code>. The third method appends a string to the <code>std::string</code> and does a bunch of somewhat unrelated stuff. </p>\n\n<p>Everytime a key is pressed, I want to append the character associated with the key to the <code>Text</code> object that <code>selected_text</code> is pointing to. After assigning <code>selected_text</code> to a <code>Text</code> object, I execute the following code:</p>\n\n<pre><code>selected_text-&gt;append( key );\n</code></pre>\n\n<p>After that code executes,  I can print the value of <code>selected_text-&gt;get_text()</code>, which appears correct; the character associated with the pressed key was appended to the <code>std::string</code> returned by <code>selected_text-&gt;get_text()</code>. However, when I print the value of <code>my_text_object.get_text()</code>, the <code>std::string</code> returned appears unchanged; no character was appended.</p>\n\n<p>I'm fairly inexperienced with pointers and this seems to be a fundamental misunderstanding of how they work. <strong>How can I use a</strong> <code>Text*</code> <strong>to change the values held within a</strong> <code>Text</code><strong>?</strong></p>\n\n<hr>\n\n<p>This might be relevant. I use the following code to select the <code>Text</code> object:</p>\n\n<pre><code>for( auto &amp;text : Text_Objects )\n{\n    if( text.return_a_boolean_value() )\n    {\n        selected_text = &amp;text;\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Okay this seems really helpful, but I don't know how to fix it:</p>\n\n<pre><code>for( auto &amp;text : Text_Objects )\n{\n    if( text.return_a_boolean_value() )\n    {\n        selected_text = &amp;text;\n        std::cout &lt;&lt; selected_text &lt;&lt; \" \" &lt;&lt; &amp;text &lt;&lt; std::endl;\n    }\n}\n\n...\n\nstd::cout &lt;&lt; selected_text &lt;&lt; \" \" &lt;&lt; &amp;my_text_object &lt;&lt; std::endl;\n</code></pre>\n\n<p>Will give an output similar to</p>\n\n<pre><code>0x258d250 0x258d250\n0x258d250 0x60a760\n</code></pre>\n\n<p>Despite the fact the <code>my_text_object</code> is the only object within <code>Text_Objects</code>.</p>\n\n<hr>\n\n<h2>Solved but still confused</h2>\n\n<p>So, I solved it by switching the type of <code>Text_Objects</code> from <code>std::vector&lt;Text&gt;</code> to <code>std::vector&lt;Text*&gt;</code> and modifying the for-each loop. I still don't understand why the original code didn't work. Am I correct in assuming that <code>push_back</code> adds a copy of an object, or the original for-each loop was being passed copies?</p>\n"}, {"tags": ["c++", "arrays", "c++11"], "answers": [{"tags": [], "owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "is_accepted": false, "score": 3, "last_activity_date": 1433364956, "creation_date": 1433364956, "answer_id": 30630542, "question_id": 30630312, "link": "https://stackoverflow.com/questions/30630312/for-each-ranged-base-for-on-2d-array/30630542#30630542", "title": "for_each &amp; ranged base for on 2D array", "body": "<p><code>a</code> is a two-dimensional array - an <code>int[][]</code> if you like.</p>\n\n<p>This means that when you iterate <code>a</code>, you are iterating only the first array dimension - <code>a[0]</code> through to <code>a[2]</code>. <code>a[0]</code> is still an array, which explains why your first <code>for_each</code> might produce an error - the lambda you provided is expecting an <code>int</code> but would be passed an <code>int*</code>.</p>\n\n<p>The reference (&amp; symbol) is needed in the first range-based for for the same reason. Without the &amp; the compiler attempts to copy-by-value the items in the first dimension, but these are arrays themselves, and you can't copy an array by value in C++. </p>\n\n<p>The second range-based for doesn't need a reference because it is iterating the second array dimension, which consists of simple ints.</p>\n"}, {"tags": [], "owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "is_accepted": true, "score": 4, "last_activity_date": 1433367331, "creation_date": 1433367331, "answer_id": 30631182, "question_id": 30630312, "link": "https://stackoverflow.com/questions/30630312/for-each-ranged-base-for-on-2d-array/30631182#30631182", "title": "for_each &amp; ranged base for on 2D array", "body": "<pre><code>for_each (begin(a), end(a), [] (int x) { cout&lt;&lt;x&lt;&lt;\" \";});\n</code></pre>\n\n<p><code>begin(a)</code> yields an <code>int(*)[3]</code> (pointer to array of size [3]), and dereferencing it yields an <code>int(&amp;)[3]</code>, while your lambda expression expects an <code>int</code> argument.</p>\n\n<pre><code>for_each (begin(a[0]), end(a[2]), [] (int x) { cout&lt;&lt;x&lt;&lt;\" \";});\n</code></pre>\n\n<p><code>begin(a[0])</code> yields an <code>int*</code> that points to the first element in the first row of <code>a</code>, and <code>end(a[2])</code> yields an <code>int*</code> pointing to one past the last element in the last row of <code>a</code>, so everything works.</p>\n\n<hr>\n\n<p>Now for the range-based <code>for</code> part.</p>\n\n<p>If you remove the <code>&amp;</code> from the line <code>for (auto&amp; row : a)</code> the error actually occurs on the following line <code>for(auto x : row)</code>. This is because of the way the <a href=\"http://en.cppreference.com/w/cpp/language/range-for\" rel=\"nofollow\">range-based <code>for</code></a> is specified. The clause pertinent to your use case is</p>\n\n<blockquote>\n  <p>If <code>__range</code> is an array, then <em>begin_expr</em> is <code>__range</code> and <em>end_expr</em> is <code>(__range + __bound)</code>, where <code>__bound</code> is the number of elements in the array (if the array has unknown size or is of an incomplete type, the program is ill-formed) </p>\n</blockquote>\n\n<p>Hereon I'll be referring to the identifiers mentioned in the <strong>Explanation</strong> section of the linked page.</p>\n\n<hr>\n\n<p>Consider the case <code>for (auto&amp; row : a)</code>:</p>\n\n<p><code>__range</code> is deduced as <code>int(&amp;)[3][3]</code> (reference to array of size [3][3]). <code>__begin</code> is then deduced as <code>int(*)[3]</code> (pointer to array of size [3]) because the type of <code>__range</code> decays to a pointer to the first row of the 2D array. The <em>range_expression</em> you have is <code>auto&amp; row</code>, so <code>row</code> is deduced as <code>int(&amp;)[3]</code> (reference to array of size [3]).</p>\n\n<p>Next, the same process is repeated for the inner range-based <code>for</code>. In this case, <code>__range</code> is <code>int(&amp;)[3]</code> and the array clause I quoted above applies; the remaining type deduction process is similar to what I described above.</p>\n\n<pre><code>__range = int(&amp;)[3]\n__begin = int*\nx       = int\n</code></pre>\n\n<hr>\n\n<p>Now consider the case <code>for (auto row : a)</code>:</p>\n\n<p><code>__range</code>, <code>__begin</code> and <code>__end</code> are all deduced the same. The crucial difference in this case is the <em>range_expression</em> <code>auto row</code>, which causes decay of the <code>int(*)[3]</code> type that <code>__begin</code> was deduced as. This means <code>row</code> is deduced as <code>int *</code>, and none of the 3 clauses where the determination of <em>begin_expr</em>/<em>end_expr</em> are described handle a raw pointer. This results in a compilation error within the nested <code>for</code> loop.</p>\n"}], "owner": {"reputation": 628, "user_id": 4970589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKm2N.jpg?s=128&g=1", "display_name": "Anwesha", "link": "https://stackoverflow.com/users/4970589/anwesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 1, "accepted_answer_id": 30631182, "answer_count": 2, "score": 6, "last_activity_date": 1433367429, "creation_date": 1433364284, "last_edit_date": 1433367429, "question_id": 30630312, "link": "https://stackoverflow.com/questions/30630312/for-each-ranged-base-for-on-2d-array", "title": "for_each &amp; ranged base for on 2D array", "body": "<p>I was trying to print a 2D array using <code>for_each</code> and range based <code>for</code> loop.</p>\n\n<p>My program goes like this:-</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nint main()\n{\n  int a[3][3]={{1,2,3},{4,5,6},{7,8,9}};\n  //for_each (begin(a), end(a), [] (int x) { cout&lt;&lt;x&lt;&lt;\" \";}); this code throws error\n\n  for_each (begin(a[0]), end(a[2]), [] (int x) { cout&lt;&lt;x&lt;&lt;\" \";});  //this code works well, why ?\n\n  cout&lt;&lt;endl;\n\n  for  (auto &amp;row: a)  // without &amp; for row, error is thrown\n  {\n     for (auto x:row)  // no &amp; needed for x, why ?\n     {\n        cout&lt;&lt;x&lt;&lt;\" \";\n     }\n  }\n  return 0;\n}\n</code></pre>\n\n<p>Why did my first <code>for_each</code> throw errors and why is <code>&amp;</code> symbol necessary for row? What is its type? Is <code>row</code> a pointer?</p>\n"}, {"tags": ["c++", "operator-overloading"], "comments": [{"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1433365163, "post_id": 30630303, "comment_id": 49326822, "body": "In your class have a constructor that takes a int32_t. You could then cast a single element of the array to your class in order to operate on it."}], "answers": [{"tags": [], "owner": {"reputation": 326, "user_id": 3398329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3191b4422b8f38e9b29d2fd1a175138?s=128&d=identicon&r=PG&f=1", "display_name": "PlushBeaver", "link": "https://stackoverflow.com/users/3398329/plushbeaver"}, "is_accepted": true, "score": 1, "last_activity_date": 1433368792, "creation_date": 1433368792, "answer_id": 30631550, "question_id": 30630303, "link": "https://stackoverflow.com/questions/30630303/cast-integral-array-to-class-array/30631550#30631550", "title": "Cast integral array to class array", "body": "<p>First of all, please note that if you are not constrained by performance, only by memory consumption, the solution suggested by @Aumnayan may be preferable for simplicity and portability.</p>\n\n<p>In order to force your objects to match the size <code>int32_t</code> and alignment of Q23.8 you can use bit-fields:</p>\n\n<pre><code>struct Q_23_8\n{\n    int32_t fractional :  8;\n    int32_t integral   : 23;\n};\n\nstatic_assert(sizeof(Q_23_8) == sizeof(int32_t), \"Sizes differ!\");\n</code></pre>\n\n<p>Please note that the order of fields depends on target CPU endianness; the sample is for little-endian. Also, to ensure the size of your class you may need to use your compiler's packing and alignment control capabilities (e g. <code>#pragma pack</code>).</p>\n\n<p>Having <code>int32_t encoded[]</code> you can interpret it as an array of <code>Q_23_8</code> as follows:</p>\n\n<pre><code>Q_23_8* decoded = reinterpret_cast&lt;Q_23_8*&gt;(encoded);\n</code></pre>\n\n<p>Here is a complete code sample: <a href=\"http://ideone.com/X177fQ\" rel=\"nofollow\">http://ideone.com/X177fQ</a>. I strongly suggest <a href=\"http://en.cppreference.com/w/cpp/language/bit_field\" rel=\"nofollow\">reading more about bit-fields</a>, their portability, and limitations.</p>\n"}], "owner": {"reputation": 447, "user_id": 565542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29f98efb175cc25f7765fdf36f71a282?s=128&d=identicon&r=PG", "display_name": "sbell", "link": "https://stackoverflow.com/users/565542/sbell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 30631550, "answer_count": 1, "score": 0, "last_activity_date": 1433368792, "creation_date": 1433364259, "question_id": 30630303, "link": "https://stackoverflow.com/questions/30630303/cast-integral-array-to-class-array", "title": "Cast integral array to class array", "body": "<p>I'm using a library passes me a pointer to an array of <code>int32_T</code>. I need to do some math on these numbers, but the data is actually in <a href=\"http://en.wikipedia.org/wiki/Q_(number_format)\" rel=\"nofollow\">Q23.8</a> format.</p>\n\n<p>I created a class overloading the basic math operators, but I'm stuck with how to cast the <code>int32_t</code> array pointer to my new class -- the datatypes are different sizes. Is there a way to do force my new class to match the size of <code>int32_t</code>, or is there another way to get this done?</p>\n\n<p>Note: I want to avoid copying each item of this large array, as I'm developing for a resource constrained system.</p>\n"}, {"tags": ["c++", "machine-learning", "signal-processing", "mlpack"], "comments": [{"owner": {"reputation": 819, "user_id": 2379385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Us2h.jpg?s=128&g=1", "display_name": "ryan", "link": "https://stackoverflow.com/users/2379385/ryan"}, "edited": false, "score": 0, "creation_date": 1433469314, "post_id": 30630235, "comment_id": 49376815, "body": "Are you sure you&#39;ve read the documentation completely?  <code>Regress()</code> takes in a reference to a matrix, not a pointer.  I don&#39;t understand the rest of your question, or why it matters whether a pointer, value, or reference is used by <code>Regress()</code>."}, {"owner": {"reputation": 9, "user_id": 3787894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc084a65c26d3986da2778fd832c451?s=128&d=identicon&r=PG&f=1", "display_name": "chia", "link": "https://stackoverflow.com/users/3787894/chia"}, "reply_to_user": {"reputation": 819, "user_id": 2379385, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Us2h.jpg?s=128&g=1", "display_name": "ryan", "link": "https://stackoverflow.com/users/2379385/ryan"}, "edited": false, "score": 0, "creation_date": 1433569478, "post_id": 30630235, "comment_id": 49419831, "body": "so I want to pass in function to do some computation instead of passing a matrix. Do you know if there&#39;s any workaround that maybe I can overwrite the function?"}], "owner": {"reputation": 9, "user_id": 3787894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc084a65c26d3986da2778fd832c451?s=128&d=identicon&r=PG&f=1", "display_name": "chia", "link": "https://stackoverflow.com/users/3787894/chia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1479140862, "creation_date": 1433364007, "last_edit_date": 1479140862, "question_id": 30630235, "link": "https://stackoverflow.com/questions/30630235/mlpack-lasso-regression-that-takes-in-pointer-to-function", "title": "mlpack: Lasso regression that takes in pointer to function", "body": "<p>from\n<a href=\"http://www.mlpack.org/doxygen.php?doc=classmlpack_1_1regression_1_1LARS.html\" rel=\"nofollow\">http://www.mlpack.org/doxygen.php?doc=classmlpack_1_1regression_1_1LARS.html</a></p>\n\n<p>I'm trying to use \nvoid mlpack::regression::LARS::Regress \nbut the function itself only takes in some &amp;gramMatrix as input. If I want to pass in function to compute some sum R_i * X_i, I'm stuck because it only takes in pointer to matrix. Any idea on how to get around this ? ( the beta is constantly updating within the optimization function void mlpack::regression::LARS::Regress, and beta is neeeded to compute sum R_i * X_i ).</p>\n\n<p>Any suggestion to other C++ ml library would also be madly helpful. \nThanks!</p>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 2005, "user_id": 2427542, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b0093fa9da51e42168545e83750c3e81?s=128&d=identicon&r=PG", "display_name": "aspiring_sarge", "link": "https://stackoverflow.com/users/2427542/aspiring-sarge"}, "edited": false, "score": 0, "creation_date": 1433399114, "post_id": 30630234, "comment_id": 49337702, "body": "Maybe this might help?: <a href=\"http://stackoverflow.com/questions/23433860/opencv-imread-to-mat-float\" title=\"opencv imread to mat float\">stackoverflow.com/questions/23433860/opencv-imread-to-mat-fl&zwnj;&#8203;oat</a>"}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1433402828, "post_id": 30630234, "comment_id": 49339810, "body": "please check image.depth() and image.type().  for sure, your image is <b>not</b> float by default (if you want that, you&#39;ll have to convert it explicitly)"}, {"owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1433428984, "post_id": 30630234, "comment_id": 49357577, "body": "@berak , the depth is 5 and the image type is also 5. The strange part is that if I open the Image with ImageJ it says that it&#39;s a float Image and all the informations from opencv tells me the same, right?"}, {"owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "reply_to_user": {"reputation": 2005, "user_id": 2427542, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b0093fa9da51e42168545e83750c3e81?s=128&d=identicon&r=PG", "display_name": "aspiring_sarge", "link": "https://stackoverflow.com/users/2427542/aspiring-sarge"}, "edited": false, "score": 0, "creation_date": 1433430188, "post_id": 30630234, "comment_id": 49358553, "body": "@aspiring_sarge, didn&#39;t worked for me! =("}, {"owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433446913, "post_id": 30630234, "comment_id": 49368577, "body": "Whatever ImageJ is showing is completely irrelevant. Every program converts rgb values to whatever it thinks is more convenient. I open this tiff in irfanview and see int rgb values. Why don&#39;t you drop CV_LOAD_IMAGE_ANYDEPTH from imread or use CV_LOAD_IMAGE_GRAYSCALE since that&#39;s what you have. Also why would you want a greyscale image stored in int? you are wasting memory. what you want is 8-bit image."}, {"owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "reply_to_user": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433450176, "post_id": 30630234, "comment_id": 49370348, "body": "@RedOctober, the image is in fact photon count values and they are up to 32bits. That&#39;s why I want int values."}, {"owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433450880, "post_id": 30630234, "comment_id": 49370695, "body": "I see, well since this is not really an image data perhaps saving it to image is not the best idea. I don&#39;t know what program program saves it but you might want to look into some other formats like yaml for example. then you can get the raw data out and know exactly what you are dealing with. Image reading functions will make all sorts of assumptions which are reasonable to make when you are dealing with images. So you may very well end up with int data which is typed as float."}, {"owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433450986, "post_id": 30630234, "comment_id": 49370744, "body": "If you prefer to use the work around you already have, may i suggest to do conversion more efficiently. I don&#39;t have opencv installed right now so i can&#39;t check it but i&#39;m sure you can d something like this: Mat converted(source.size(),  CV_32SC1, source.data);"}, {"owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "reply_to_user": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433451045, "post_id": 30630234, "comment_id": 49370777, "body": "@RedOctober, The interesting part is that in Python for example the PIL library is able to open it very well! The image is generated by the detector software, so in this case there&#39;s no much that I can do! This workaround so far is dealing with this. Great! I will try your suggestion and I will post here the result! Thanks!"}, {"owner": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433451838, "post_id": 30630234, "comment_id": 49371199, "body": "You might have to put &quot;true&quot; as the last parameter to make sure it actually copies the data:  Mat converted(source.size(), CV_32SC1, source.data, true);"}, {"owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "reply_to_user": {"reputation": 205, "user_id": 986457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389568752c7da94d87f0eec4ead0754e?s=128&d=identicon&r=PG", "display_name": "RedOctober", "link": "https://stackoverflow.com/users/986457/redoctober"}, "edited": false, "score": 0, "creation_date": 1433509914, "post_id": 30630234, "comment_id": 49396863, "body": "@RedOctober, it worked! =) Much better than my for looping. The previous comment about a segfault was my mistake! Thank you!"}], "owner": {"reputation": 43, "user_id": 3495066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7584c05f65e06873d327af9f7bcb7bb?s=128&d=identicon&r=PG&f=1", "display_name": "hhslepicka", "link": "https://stackoverflow.com/users/3495066/hhslepicka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433445436, "creation_date": 1433363998, "last_edit_date": 1433445436, "question_id": 30630234, "link": "https://stackoverflow.com/questions/30630234/issue-with-imread-strange-float-values", "title": "Issue with imread. Strange float values", "body": "<p>I'm trying to simple load an image (TIFF) and display a pixel value.</p>\n\n<p>If I open the image using ImageJ the values are 32-bit float. But opening the same image using opencv I get really strange float values, e.g. 4.2039e-44.</p>\n\n<p>If I read the value of a specific pixel using \"int\" the presented value is correct. Below is the code I use to test. And here a link for the image: <a href=\"https://goo.gl/Wmv9xE\" rel=\"nofollow\">https://goo.gl/Wmv9xE</a>.</p>\n\n<p>Thanks in advance.</p>\n\n<pre><code>#include &lt;opencv2/highgui/highgui.hpp&gt;\n#include &lt;opencv2/core/core.hpp&gt;\n#include &lt;iostream&gt;\n\nint main(int argc, char **argv) {\n    std::string imageFile = \"image.tiff\";\n\n    cv::Mat image;\n    image = cv::imread(imageFile, CV_LOAD_IMAGE_ANYDEPTH);   // Read the file\n\n    if (!image.data)                              // Check for invalid input\n    {\n        std::cout &lt;&lt; \"Could not open or find the image: \" &lt;&lt; imageFile &lt;&lt; std::endl;\n        return -1;\n    }\n    std::cout &lt;&lt; \"Image:\" &lt;&lt; image.rows &lt;&lt; \" x \" &lt;&lt; image.cols &lt;&lt; \" Channels: \" &lt;&lt; image.channels() &lt;&lt; \" Depth: \" &lt;&lt; image.depth() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Value at 0,0: \" &lt;&lt; image.at&lt;float&gt;(0,1)&lt;&lt; std::endl; // Strange Value\n    std::cout &lt;&lt; \"Value at 0,0: \" &lt;&lt; image.at&lt;int&gt;(0,1)&lt;&lt; std::endl; // Correct Value\n\n    return (EXIT_SUCCESS);\n}\n</code></pre>\n\n<p><strong>* Update *</strong></p>\n\n<p>Trying to move forward with the code, I decided to create a function to convert the data to \"int\" reading from the file.\nAs a <strong>temporary</strong> solution this worked, but I'm still looking for the reason why the data is being loaded wrong.</p>\n\n<pre><code>int main(int argc, char **argv) {\n    std::string imageFile = \"/home/slepicka/XSConfig/image.tiff\";\n\n    cv::Mat image = openImage(imageFile);\n\n    if (!image.data)                              // Check for invalid input\n    {\n        std::cout &lt;&lt; \"Could not open or find the image: \" &lt;&lt; imageFile &lt;&lt; std::endl;\n        return -1;\n    }\n\n    std::cout &lt;&lt; \"Image:\" &lt;&lt; image.rows &lt;&lt; \" x \" &lt;&lt; image.cols &lt;&lt; \" Channels: \" &lt;&lt; image.channels() &lt;&lt; \" Depth: \" &lt;&lt; image.depth() &lt;&lt; \" Type: \" &lt;&lt; image.type() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Value at 0,0: \" &lt;&lt; image.at&lt;int&gt;(0,1)&lt;&lt; std::endl; // Correct Value\n    //std::cout &lt;&lt; \"Data: \" &lt;&lt; image &lt;&lt; std::endl;\n    return (EXIT_SUCCESS);\n}\n\ncv::Mat openImage(std::string filename){\n    cv::Mat imageLoad = cv::imread(filename, CV_LOAD_IMAGE_ANYDEPTH);\n\n    if(imageLoad.type() == CV_32F){\n        return convertToInt(imageLoad);\n    }\n\n    return imageLoad;\n\n}\n\ncv::Mat convertToInt(cv::Mat source){\n    int r, c;\n    cv::Mat converted;\n\n    converted.create(source.rows, source.cols, CV_32SC1);\n\n    for (r=0; r&lt;source.rows;r++) {\n        for (c=0; c&lt;source.cols;c++) {\n            converted.at&lt;int&gt;(r, c) = source.at&lt;int&gt;(r, c);\n        }\n    }\n    return converted;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 2559, "user_id": 4789375, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LRyDO.png?s=128&g=1", "display_name": "p.i.g.", "link": "https://stackoverflow.com/users/4789375/p-i-g"}, "edited": false, "score": 2, "creation_date": 1433363894, "post_id": 30630176, "comment_id": 49326151, "body": "There are plnety of smart pointer implementations. Why do you want to implement one ?"}, {"owner": {"reputation": 2912, "user_id": 1274223, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/uGq26.jpg?s=128&g=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/1274223/alejandro"}, "edited": false, "score": 0, "creation_date": 1433364357, "post_id": 30630176, "comment_id": 49326388, "body": "Could you please post a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433364562, "post_id": 30630176, "comment_id": 49326487, "body": "The interface of <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"nofollow noreferrer\"><code>std::shared_ptr</code></a> is a good guideline when implementing smart pointers."}], "answers": [{"tags": [], "owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "is_accepted": false, "score": 1, "last_activity_date": 1435052921, "last_edit_date": 1435052921, "creation_date": 1433368155, "answer_id": 30631393, "question_id": 30630176, "link": "https://stackoverflow.com/questions/30630176/template-inherited-class-derived-base-assignment/30631393#30631393", "title": "template inherited class derived-base assignment", "body": "<h1>your answer</h1>\n\n<p>I think you might mean <code>SmartPtr&lt;A&gt;</code> and <code>SmartPtr&lt;B&gt;</code>. Of course you won't be able to assign them, because class A is not class B.\nYou will need to add another assignment operator, that looks like this</p>\n\n<pre><code>tempalte &lt;typename U&gt;\nSmartPtr&lt;T&gt;&amp; operator=(const SmartPtr&lt;U&gt;&amp; p);\n</code></pre>\n\n<p>if you like to, you could use <code>std::enable_if</code> to make sure, U is derived from T</p>\n\n<pre><code>template &lt;typename U&gt;\nSmartPtr&lt;T&gt;&amp; operator=(const typename SmartPtr&lt;std::enable_if&lt;std::is_base_of&lt;T, U&gt;::value, U&gt;::type &amp;p);\n</code></pre>\n\n<p>and then you can implement this, by using <code>dynamic_cast</code> in your code to convert A to B</p>\n\n<h1>the 'correct' answer</h1>\n\n<p>using std::shared_ptr you could use this\n<a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/pointer_cast\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/memory/shared_ptr/pointer_cast</a></p>\n"}], "owner": {"reputation": 47, "user_id": 3684545, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/05ce077aee2bb3a22cf3d9ff2ff7cee3?s=128&d=identicon&r=PG&f=1", "display_name": "user3684545", "link": "https://stackoverflow.com/users/3684545/user3684545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435052921, "creation_date": 1433363795, "last_edit_date": 1433369758, "question_id": 30630176, "link": "https://stackoverflow.com/questions/30630176/template-inherited-class-derived-base-assignment", "title": "template inherited class derived-base assignment", "body": "<p>I have 2 classes, A and B and B is derived from A. I'm not allowed to change them. I'm implementing smart pointer class. </p>\n\n<pre><code>template &lt;typename T&gt;\nclass SmartPtr{\n    ...\n    SmartPtr&amp; operator=(const SmartPtr&amp; p); \n    ...\n}\n\ntemplate&lt;typename T&gt;\nSmartPtr&lt;T&gt;&amp; SmartPtr&lt;T&gt;::operator=(const SmartPtr &amp; p) {\n    ++*p.cnt;\n    if(--*cnt == 0) { \n        delete ptr; \n        delete cnt; \n    }\n    ptr = p.ptr;\n    cnt = p.cnt;\n    return *this;\n}\n</code></pre>\n\n<p>I get error when I try to assign SmartPtr A to SmartPtr B as operand types are different. How can I fix that without changing A and B?</p>\n"}, {"tags": ["c++", "linux", "debian", "code-injection"], "comments": [{"owner": {"reputation": 6346, "user_id": 2587908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LhXQO.jpg?s=128&g=1", "display_name": "sfjac", "link": "https://stackoverflow.com/users/2587908/sfjac"}, "edited": false, "score": 0, "creation_date": 1433363874, "post_id": 30630084, "comment_id": 49326137, "body": "Have you looked at dlopen &amp; company?"}, {"owner": {"reputation": 151, "user_id": 4777874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37edab96f42138baeac688f938d5c02b?s=128&d=identicon&r=PG&f=1", "display_name": "mlgpro", "link": "https://stackoverflow.com/users/4777874/mlgpro"}, "reply_to_user": {"reputation": 6346, "user_id": 2587908, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LhXQO.jpg?s=128&g=1", "display_name": "sfjac", "link": "https://stackoverflow.com/users/2587908/sfjac"}, "edited": false, "score": 0, "creation_date": 1433364102, "post_id": 30630084, "comment_id": 49326256, "body": "@sfjac what do you mean by that? If I&#39;m not wrong it&#39;s used to load dynamic library into current process, but I want to inject library A into process B which is running"}], "answers": [{"comments": [{"owner": {"reputation": 4633, "user_id": 35250, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4176f6bb8693964fe2de1a597c74a88?s=128&d=identicon&r=PG", "display_name": "milianw", "link": "https://stackoverflow.com/users/35250/milianw"}, "edited": false, "score": 0, "creation_date": 1433366610, "post_id": 30630972, "comment_id": 49327582, "body": "and if you want runtime attachement, use something liek explained here: <a href=\"http://stackoverflow.com/questions/27137527/overload-symbols-of-running-process-ld-preload-attachement\" title=\"overload symbols of running process ld preload attachement\">stackoverflow.com/questions/27137527/&hellip;</a>"}, {"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "reply_to_user": {"reputation": 4633, "user_id": 35250, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4176f6bb8693964fe2de1a597c74a88?s=128&d=identicon&r=PG", "display_name": "milianw", "link": "https://stackoverflow.com/users/35250/milianw"}, "edited": false, "score": 0, "creation_date": 1433366672, "post_id": 30630972, "comment_id": 49327606, "body": "@milianw, yes i just noticed that (answer!) as well and have already added that to my answer..."}, {"owner": {"reputation": 4633, "user_id": 35250, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4176f6bb8693964fe2de1a597c74a88?s=128&d=identicon&r=PG", "display_name": "milianw", "link": "https://stackoverflow.com/users/35250/milianw"}, "edited": false, "score": 0, "creation_date": 1433401387, "post_id": 30630972, "comment_id": 49338976, "body": "oh - sorry. didn&#39;t see it for some reason."}, {"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "reply_to_user": {"reputation": 4633, "user_id": 35250, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d4176f6bb8693964fe2de1a597c74a88?s=128&d=identicon&r=PG", "display_name": "milianw", "link": "https://stackoverflow.com/users/35250/milianw"}, "edited": false, "score": 0, "creation_date": 1433711292, "post_id": 30630972, "comment_id": 49455137, "body": "@milianw, that&#39;s because i added it (@ 21:25) while you were typing (@ 21:23) :-)"}], "tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": false, "score": 1, "last_activity_date": 1433366700, "last_edit_date": 1433366700, "creation_date": 1433366434, "answer_id": 30630972, "question_id": 30630084, "link": "https://stackoverflow.com/questions/30630084/linux-dynamic-link-library-injection/30630972#30630972", "title": "linux dynamic link library injection", "body": "<p>If you can control the startup of the process, simply use <code>LD_PRELOAD</code> to force-load a library alongside the executable, possibly shadowing symbols from other libraries (that are linked into the binary):</p>\n\n<pre><code> LD_PRELOAD=/path/to/libfoo.so myapplication\n</code></pre>\n\n<p>Following is a real-world use-case for adding a v4l2-support layer to v4l1-only applications, by intercepting <code>ioctl</code>:</p>\n\n<pre><code>LD_PRELOAD=/usr/local/lib/libv4l/v4l1compat.so camorama\n</code></pre>\n\n<p>To inject symbols into already running processes, checkout out <a href=\"/questions/27137527\">this answer</a>.</p>\n"}], "owner": {"reputation": 151, "user_id": 4777874, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/37edab96f42138baeac688f938d5c02b?s=128&d=identicon&r=PG&f=1", "display_name": "mlgpro", "link": "https://stackoverflow.com/users/4777874/mlgpro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1496, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433366700, "creation_date": 1433363456, "question_id": 30630084, "link": "https://stackoverflow.com/questions/30630084/linux-dynamic-link-library-injection", "title": "linux dynamic link library injection", "body": "<p>currently I'm working on some application plugin written in C++ - on windows I'm injecting dll into process, capturing interfaces and doing my work - but my question is - how can I do something similar on linux? I would prefer doing it without editing executable - code injection to running process.</p>\n"}, {"tags": ["c++", "qt", "qt5.4"], "answers": [{"tags": [], "owner": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "is_accepted": true, "score": 1, "last_activity_date": 1433363973, "creation_date": 1433363973, "answer_id": 30630224, "question_id": 30630022, "link": "https://stackoverflow.com/questions/30630022/qt-child-qgraphicitem-does-not-use-parent-coordinate-system/30630224#30630224", "title": "Qt child QGraphicItem does not use parent coordinate system", "body": "<p>All your BuildingTile items have their origin at the scene's origin, i.e. (0, 0) in scene coordinates.</p>\n\n<p>For example (your second BuildingTile item):</p>\n\n<pre><code>item = new BuildingTile(150, 0, QColor(91,161,212), \"indigo plant\");\nscene-&gt;addItem(item);\n</code></pre>\n\n<p>This creates a BuildingTile item located at (0, 0), containing a rectangle located at (150,0) of its own coordinate system. You're changing the position of the rectangle <em>in its own coordinate system</em>, but not the position of the rect's coordinate system in relation to its parent (the scene).</p>\n\n<p>Now you create ellipses and labels in relation to the BuildingTile coordinate systems, which are all identical and located at (0,0) in \"global\" scene coordinates, so you end up with scene coordinates (10, 10) for all labels. </p>\n\n<p>To achieve what you want, do:</p>\n\n<pre><code>item = new BuildingTile(0, 0, QColor(91,161,212), \"indigo plant\");\nscene-&gt;addItem(item);\nitem-&gt;setPos(150, 0);\n</code></pre>\n"}], "owner": {"reputation": 166, "user_id": 3346435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ImhDn.jpg?s=128&g=1", "display_name": "Dennis", "link": "https://stackoverflow.com/users/3346435/dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "accepted_answer_id": 30630224, "answer_count": 1, "score": 0, "last_activity_date": 1433363973, "creation_date": 1433363244, "question_id": 30630022, "link": "https://stackoverflow.com/questions/30630022/qt-child-qgraphicitem-does-not-use-parent-coordinate-system", "title": "Qt child QGraphicItem does not use parent coordinate system", "body": "<p>I'm trying to create a BuildingTile class which has QGraphicsRectItem as base.</p>\n\n<p>In this BuildingTile I'm trying to add QGraphicsEllipseItems and a QGraphicsSimpleTextItem but these do not use my BuildingTile's coordinate system although they say on <a href=\"http://doc.qt.io/qt-5/graphicsview.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/graphicsview.html</a>: \"Child coordinates are relative to the parent's coordinates. If the child is untransformed, the difference between a child coordinate and a parent coordinate is the same as the distance between the items in parent coordinates.\"</p>\n\n<p>I would be really glad if someone could help me with this.</p>\n\n<p><img src=\"https://i.stack.imgur.com/aSk5H.png\" alt=\"http://i.imgur.com/5B0ISLD.png\"></p>\n\n<p>The header:</p>\n\n<pre><code>class BuildingTile : public QGraphicsRectItem\n{\n\nprivate:\n    Building* m_building;\n\n    bool m_empty;\n    QGraphicsSimpleTextItem* m_name;\n    QList&lt;QGraphicsEllipseItem*&gt; m_colonists;\npublic:\n    BuildingTile(qreal x, qreal y, QColor color, QString name, Building* m_building = 0);\n\n    bool isEmpty() const {return m_empty;}\n    void setEmpty(bool empty) {m_empty = empty;}\n    void setBuilding(Building* building) {m_building = building;}\n};\n</code></pre>\n\n<p>The constructor:</p>\n\n<pre><code>BuildingTile::BuildingTile(qreal x, qreal y, QColor color, QString name, Building *building) : QGraphicsRectItem(x,y,150,75)\n{\n    m_building = building;\n    setBrush(color);\n    for(int i = 0; i&lt;3; i++)\n    {\n        QGraphicsEllipseItem* item = new QGraphicsEllipseItem(10+i*35, 40, 25, 25, this);\n        m_colonists.append(item);\n        item-&gt;setBrush(QColor(255,255,255));\n    }\n    m_name = new QGraphicsSimpleTextItem(name, this);\n    m_name-&gt;setPos(10,10);\n}\n</code></pre>\n\n<p>MainWindow constructor:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) : QWidget(parent)\n{\n    QGraphicsScene* scene = new QGraphicsScene;\n    BuildingTile* item = new BuildingTile(0, 0, QColor(203,130,232), \"small market\");\n    scene-&gt;addItem(item);\n    item = new BuildingTile(150, 0, QColor(91,161,212), \"indigo plant\");\n    scene-&gt;addItem(item);\n    item = new BuildingTile(300, 0, QColor(120,113,107), \"coffee roaster\");\n    scene-&gt;addItem(item);\n\n    QGraphicsView* view = new QGraphicsView;\n    view-&gt;setScene(scene);\n    view-&gt;setAlignment(Qt::AlignTop | Qt::AlignLeft);\n\n    QHBoxLayout *layout = new QHBoxLayout;\n    layout-&gt;addWidget(view);\n    setLayout(layout);\n}\n</code></pre>\n"}, {"tags": ["c++", "bash", "gcc", "parallel-processing"], "comments": [{"owner": {"reputation": 69, "user_id": 3736201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af4c635aaafca97ac5dc78d2d0c3a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3736201", "link": "https://stackoverflow.com/users/3736201/user3736201"}, "edited": false, "score": 1, "creation_date": 1433363126, "post_id": 30629901, "comment_id": 49325734, "body": "The last 3 lines  XXXX@YYYY-login2 pio]$ mpif90 --showme:compile -bash: mpif90: command not found &gt;[XXXX@YYYY-login2 pio]$ module avail  were just something I was trying from a search result, sorry do not concern yourselves with that please*"}, {"owner": {"reputation": 69, "user_id": 3736201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af4c635aaafca97ac5dc78d2d0c3a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3736201", "link": "https://stackoverflow.com/users/3736201/user3736201"}, "edited": false, "score": 0, "creation_date": 1433363681, "post_id": 30629901, "comment_id": 49326039, "body": "[solved] had two slashes in my environment where I directed the netcdf path anyone with the same issue check your environment"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433366647, "post_id": 30629901, "comment_id": 49327591, "body": "A general wondering: How come on this Ux distribution, bash is not able to handle double slashes?"}, {"owner": {"reputation": 69, "user_id": 3736201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af4c635aaafca97ac5dc78d2d0c3a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3736201", "link": "https://stackoverflow.com/users/3736201/user3736201"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1433438320, "post_id": 30629901, "comment_id": 49363724, "body": "It seems to be able to outside of execution, configure, make, and make install. But when doing these, things the errors seem to be more fatal."}], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 7952027, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jht3DwEaDac/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTTzFv3_5DCK_l5dDJ_wZZF7GElw/photo.jpg?sz=128", "display_name": "Tejas Shetty", "link": "https://stackoverflow.com/users/7952027/tejas-shetty"}, "is_accepted": false, "score": 0, "last_activity_date": 1583259696, "creation_date": 1583259696, "answer_id": 60513382, "question_id": 30629901, "link": "https://stackoverflow.com/questions/30629901/trying-to-install-parallel-io-on-unix-getting-error-cant-open-included-file/60513382#60513382", "title": "Trying to install Parallel IO on Unix, getting Error: Can&#39;t open included file &#39;mpif.h&#39;", "body": "<p>I think you need to install open-mpi. The error is similar to the one in <a href=\"https://askubuntu.com/q/1214043/707756\">my question asked here</a>. Hopefully, the <a href=\"https://askubuntu.com/a/1214062/707756\">answer</a> here would help you. </p>\n"}], "owner": {"reputation": 69, "user_id": 3736201, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/af4c635aaafca97ac5dc78d2d0c3a1b8?s=128&d=identicon&r=PG&f=1", "display_name": "user3736201", "link": "https://stackoverflow.com/users/3736201/user3736201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 460, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583259696, "creation_date": 1433362812, "question_id": 30629901, "link": "https://stackoverflow.com/questions/30629901/trying-to-install-parallel-io-on-unix-getting-error-cant-open-included-file", "title": "Trying to install Parallel IO on Unix, getting Error: Can&#39;t open included file &#39;mpif.h&#39;", "body": "<p><a href=\"http://www.cesm.ucar.edu/models/pio/install.html\" rel=\"nofollow\">http://www.cesm.ucar.edu/models/pio/install.html</a> \nInstructions linked here</p>\n\n<p>I am on item 3. and when I run gmake this is my output</p>\n\n<pre><code>&gt;gmake[1]: *** [pio_kinds.o] Error 1\ngmake[1]: Leaving directory `/home/XXXX/ParallelIO/PIO3/pio'\ngmake: *** [all] Error 2\n[XXXX@YYYYY-login2 pio]$ gmake\nMaking dependencies for pio_kinds.F90 --&gt; pio_kinds.d\nDone updating dependencies\ngmake[1]: Entering directory `/home/XXXXX/ParallelIO/PIO3/pio'\nMaking dependencies for pio_kinds.F90 --&gt; pio_kinds.d\ngfortran -c -DSPMD -DHAVE_MPI -DNO_MPIMOD -DNO_C_SIZEOF -DSYSLINUX -D_NETCDF -I/home/XXXX/netCDF//include -D_NOPNETCDF  -g -O2 -I/home/XXXX/netCDF//include    pio_kinds.F90\npio_kinds.F90:31: Error: Can't open included file 'mpif.h'\ngmake[1]: *** [pio_kinds.o] Error 1\ngmake[1]: Leaving directory `/home/XXXX/ParallelIO/PIO3/pio'\ngmake: *** [all] Error 2\n[XXXX@YYYY-login2 pio]$ mpif90 --showme:compile\n-bash: mpif90: command not found\n&gt;[XXXX@YYYY-login2 pio]$ module avail\n</code></pre>\n\n<p>I have tried loading different available modules, </p>\n\n<p>compilers/gcc is loaded\nmpi/openmpi iS loaded\nfollowing a search result i found on google, I unloaded compilers/gcc and and loaded mpich-x86_64 but that still gives the error. </p>\n\n<p>Does anyone know how to address this issue?</p>\n"}, {"tags": ["c++", "fstream"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 2, "creation_date": 1433362598, "post_id": 30629809, "comment_id": 49325433, "body": "Does it work with an absolute path?"}, {"owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1433362661, "post_id": 30629809, "comment_id": 49325478, "body": "I haven&#39;t tried that. gave it some though, but I don&#39;t really know how to do that on a mac. I recently got this computer and I am not really fond of Xcode yet."}, {"owner": {"reputation": 18466, "user_id": 477563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/07a89fb7b2fd8ece1e9e39e95e004a36?s=128&d=identicon&r=PG", "display_name": "Mr. Llama", "link": "https://stackoverflow.com/users/477563/mr-llama"}, "edited": false, "score": 3, "creation_date": 1433362684, "post_id": 30629809, "comment_id": 49325500, "body": "How are you running the program?  Because you have no path specified on the file, it will check your present working directory which isn&#39;t guaranteed to be where the program resides."}, {"owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "edited": false, "score": 0, "creation_date": 1433362729, "post_id": 30629809, "comment_id": 49325521, "body": "I am building it from Xcode. I even imported the file into the project and that didn&#39;t work. it was still unable to open the file. where else can the program reside if not the working directory."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 2, "creation_date": 1433362846, "post_id": 30629809, "comment_id": 49325583, "body": "If you&#39;re going to give a relative path to the stream, then the path should be relative to the current working directory. Try printing that out before you attempt to open the given file, you may see that your relative path is off. The current working directory is usually the same directory as the executable you run from, but that could get changed at any time (e.g. during initializzation any third party library). This is why Borgleader asked about absolute paths; by their nature you shouldn&#39;t need to modify them depending on the current working directory."}, {"owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "edited": false, "score": 0, "creation_date": 1433362979, "post_id": 30629809, "comment_id": 49325659, "body": "It&#39;s in the working directory. how do I print the relative path. I am pretty sure that Xcode manages the projects differently than visual studio. I would imagine that importing the file to the project would have worked though."}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "edited": false, "score": 0, "creation_date": 1433363233, "post_id": 30629947, "comment_id": 49325798, "body": "not sure how to type full directory path on a mac (new to apple). &quot;/desktop/practice/example.txt&quot; doesn&#39;t work though."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 0, "creation_date": 1433363514, "post_id": 30629947, "comment_id": 49325945, "body": "Do &quot;~/Desktop/practice/example.txt&quot;"}, {"owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "edited": false, "score": 0, "creation_date": 1433363897, "post_id": 30629947, "comment_id": 49326152, "body": "It works. Full path name was on the side of the program."}], "tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": true, "score": 3, "last_activity_date": 1433363022, "last_edit_date": 1495541667, "creation_date": 1433363022, "answer_id": 30629947, "question_id": 30629809, "link": "https://stackoverflow.com/questions/30629809/unable-to-open-file-stream-c/30629947#30629947", "title": "unable to open file stream c++", "body": "<p>First of all, remember, that working directory is not always the same directory where the program's binary resides.</p>\n\n<p>Change:</p>\n\n<pre><code>infile.open(\"example.txt\");\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>infile.open(\"/full/path/to/program/directory/example.txt\");\n</code></pre>\n\n<p>where <code>/full/path/to/program/directory/</code> is the location of folder, where program (and thus <code>example.txt</code> file) is placed. It should fix the issue.</p>\n\n<hr>\n\n<p>By the way, you may also want to read <a href=\"https://stackoverflow.com/questions/13225500/how-to-change-the-working-directory-to-the-location-of-the-program\">this question</a>, that addresses very similar problem.</p>\n\n<p>Also, read about <a href=\"http://linux.die.net/man/3/getcwd\" rel=\"nofollow noreferrer\"><code>getcwd()</code> function</a>.</p>\n"}], "owner": {"reputation": 137, "user_id": 1033922, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bfd6d1e6180b6263f79b9d2c372d239c?s=128&d=identicon&r=PG", "display_name": "TEddyBEaR", "link": "https://stackoverflow.com/users/1033922/teddybear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4872, "favorite_count": 0, "accepted_answer_id": 30629947, "answer_count": 1, "score": 0, "last_activity_date": 1433363022, "creation_date": 1433362528, "question_id": 30629809, "link": "https://stackoverflow.com/questions/30629809/unable-to-open-file-stream-c", "title": "unable to open file stream c++", "body": "<p>I am working with Xcode and I am having trouble opening a file stream to assign variables from a text file. I speculate that placing the txt file in the same directory as the project would allow me open the stream without including the entire dir. I have been messing with this for a little while to no avail can I get it to work properly. I believe I was able to read data at one point, but I think the string printed was in unicode (not sure). It is a very simple program.. I would think that it would work.\nI think my problem has to do with the directory the example is in and how Xcode works with project files. I just put the example file in the project folder and hoped that it would work.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\nint main()\n{\n    string name;\n    ifstream infile;\n    infile.open(\"example.txt\");\n    if(infile.is_open())\n    {\n        infile &gt;&gt; name;\n    }\n    else\n        cout &lt;&lt; \"Unable to open file\";\n\n    cout &lt;&lt; name;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "doxygen", "chm", "doxygen-wizard", "html-help-workshop"], "answers": [{"tags": [], "owner": {"reputation": 1036, "user_id": 2516756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8deb539e88fa2cbfeb025f1e024811dd?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas Wolf", "link": "https://stackoverflow.com/users/2516756/jonas-wolf"}, "is_accepted": false, "score": 2, "last_activity_date": 1433404460, "last_edit_date": 1433404460, "creation_date": 1433364133, "answer_id": 30630263, "question_id": 30629770, "link": "https://stackoverflow.com/questions/30629770/how-to-generate-chm-with-doxygen-and-html-help-compiler/30630263#30630263", "title": "How to generate CHM with Doxygen and HTML Help Compiler?", "body": "<p>In your doxyfile, put the path to <code>hhc.exe</code> in double quotes, since it contains spaces.</p>\n\n<p>Or even better, do not use paths with spaces.</p>\n"}, {"comments": [{"owner": {"reputation": 577, "user_id": 4577467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QeCEV_3eDeM/AAAAAAAAAAI/AAAAAAAAAE0/KhDbuC4MGs4/photo.jpg?sz=128", "display_name": "Mike Finch", "link": "https://stackoverflow.com/users/4577467/mike-finch"}, "edited": false, "score": 0, "creation_date": 1433435019, "post_id": 30646615, "comment_id": 49361817, "body": "I did not see a &quot;blocked&quot; button to click.  But, that got me thinking on the right track.  I had simplified my above problem description, by saying that the resulting <code>Foo.chm</code> file was on the <code>c:</code> drive.  However, it is actually on a mapped network drive.  When I copied the CHM file to a physical drive on my computer, all the content displayed.   Problem solved.  Thanks."}], "tags": [], "owner": {"reputation": 4742, "user_id": 3154588, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/c8ef4736f3db9e55c6ce1f36a4eaf949?s=128&d=identicon&r=PG&f=1", "display_name": "Phil", "link": "https://stackoverflow.com/users/3154588/phil"}, "is_accepted": false, "score": 6, "last_activity_date": 1490626469, "last_edit_date": 1490626469, "creation_date": 1433428066, "answer_id": 30646615, "question_id": 30629770, "link": "https://stackoverflow.com/questions/30629770/how-to-generate-chm-with-doxygen-and-html-help-compiler/30646615#30646615", "title": "How to generate CHM with Doxygen and HTML Help Compiler?", "body": "<p>When I have seen this problem (the html exists and the chm has content but that content is not visible), it has been because windows security has \"blocked\" the chm file. To see if this is what you are encountering try the following:</p>\n\n<ol>\n<li>From windows explorer, Right click the generated .chm file and select properties.</li>\n<li>On the General tab, if you see an Unblock button, click it.</li>\n<li>Close the dialog and open the .chm file. </li>\n</ol>\n\n<p>(I have not encountered this problem with locally generated doxygen .chm files, but I am hopeful from your description that this may fix your problem.)</p>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 4577467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QeCEV_3eDeM/AAAAAAAAAAI/AAAAAAAAAE0/KhDbuC4MGs4/photo.jpg?sz=128", "display_name": "Mike Finch", "link": "https://stackoverflow.com/users/4577467/mike-finch"}, "is_accepted": true, "score": 3, "last_activity_date": 1433435166, "creation_date": 1433435166, "answer_id": 30649261, "question_id": 30629770, "link": "https://stackoverflow.com/questions/30629770/how-to-generate-chm-with-doxygen-and-html-help-compiler/30649261#30649261", "title": "How to generate CHM with Doxygen and HTML Help Compiler?", "body": "<p>The essential problem was that the CHM file was on a mapped network drive.</p>\n\n<p>When I copied the CHM file to a physical drive on my computer, all the content displays.</p>\n"}], "owner": {"reputation": 577, "user_id": 4577467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QeCEV_3eDeM/AAAAAAAAAAI/AAAAAAAAAE0/KhDbuC4MGs4/photo.jpg?sz=128", "display_name": "Mike Finch", "link": "https://stackoverflow.com/users/4577467/mike-finch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13985, "favorite_count": 1, "accepted_answer_id": 30649261, "answer_count": 3, "score": 3, "last_activity_date": 1490626469, "creation_date": 1433362412, "question_id": 30629770, "link": "https://stackoverflow.com/questions/30629770/how-to-generate-chm-with-doxygen-and-html-help-compiler", "title": "How to generate CHM with Doxygen and HTML Help Compiler?", "body": "<p><strong>The short story</strong>:  I can generate a CHM file with Doxygen.  Launching the CHM file, I observe that the Contents and Index tabs do list the pages, namespaces, classes, and members of those classes.  However, clicking on the items in those Contents and Index lists do not display any content.</p>\n\n<p>I am on a computer using Windows 7 Professional SP1, 64-bit.</p>\n\n<p>I use Doxywizard to run Doxygen version 1.8.9.1 on my code.  It correctly generates the HTML output;  the pages, namespaces, classes, and members appear in the documentation.</p>\n\n<p>I then further want to convert the HTML into a compressed HTML (CHM) file.  </p>\n\n<p>I downloaded the Microsoft HTML Help Workshop version 1.31 (i.e., <code>htmlhelp.exe</code> version 4.74.8703 ) from the Microsoft website ( <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms669985(v=vs.85).aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms669985(v=vs.85).aspx</a> ).  I ran the installer.  As the installer was proceeding, a popup message appeared:</p>\n\n<blockquote>\n  <p>This computer already has a newer version of HTML Help.</p>\n</blockquote>\n\n<p>However, installation completed successfully.  And, the <code>hhc.exe</code> program is there where I told it to install.</p>\n\n<p>I now specify these relevant Doxygen settings:</p>\n\n<ul>\n<li>Wizard --> Output:\n<ul>\n<li>HTML is checked</li>\n<li>\"prepare for compressed HTML (.chm)\" option is selected.</li>\n</ul></li>\n<li>Expert --> HTML:\n<ul>\n<li>GENERATE_HTMLHELP = YES</li>\n<li>CHM_FILE = Foo.chm</li>\n<li>HHC_LOCATION = C:\\Program Files(x86)\\Microsoft\\HTML Help Workshop\\hhc.exe</li>\n</ul></li>\n</ul>\n\n<p>When I run Doxygen again, it reports an error:</p>\n\n<pre><code>error: failed to run html help compiler on index.hhp\n</code></pre>\n\n<p>The <code>Foo.chm</code> file is generated where expected.  But, as described above, it is missing a lot of content.</p>\n\n<p>I tried running <code>hhc.exe</code> manually on the HHP file generated by Doxygen.  It does not indicate any errors.</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft\\HTML Help Workshop&gt;hhc c:\\test\\html\\index.hhp\nMicrosoft HTML Help Compiler 4.74.8702\n\nCompiling c:\\test\\html\\Foo.chm\n\nCompile time: 0 minutes, 3 seconds\n292     Topics\n3,855   Local links\n83      Internet links\n0       Graphics\n\nCreated c:\\test\\html\\Foo.chm, 259,580 bytes\nCompression decreased file by 1,077,915 bytes.\n</code></pre>\n\n<p>However, the result is the same:  a <code>Foo.chm</code> file that is missing content.</p>\n\n<p>I subsequently found that I had another installation of the HTML Help Workshop on my computer.  But, the <code>hhc.exe</code> was the exact same version.  So, that is not likely the problem.</p>\n\n<p>Can you suggest what else I can try to get all the documentation content to display in the CHM file?</p>\n"}, {"tags": ["c++", "mingw"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 1, "creation_date": 1433361813, "post_id": 30629533, "comment_id": 49324948, "body": "Shouldn&#39;t the title of your post be <i>Can anyone suggest a download that will definitely bring my Mingw32 compiler up to speed?</i>"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1433361851, "post_id": 30629533, "comment_id": 49324976, "body": "<i>&quot;I&#39;m a little confused as to why Code::Blocks Mingw32 didn&#39;t supply a fully updated C++11 standard&quot;</i> Don&#39;t be upset, Visual Studio 2013 has a slew of C++11 non-compliance too :) <a href=\"https://msdn.microsoft.com/en-us/library/hh567368.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/hh567368.aspx</a>"}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433361901, "post_id": 30629533, "comment_id": 49325001, "body": "Does it work if you use <code>s.cbegin()</code> instead of <code>s.begin()</code> ?"}, {"owner": {"reputation": 1131, "user_id": 4338785, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e624595a16f268116870ed65489e5bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Silversonic", "link": "https://stackoverflow.com/users/4338785/silversonic"}, "reply_to_user": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1433362039, "post_id": 30629533, "comment_id": 49325081, "body": "@JonathanPotter There is no matching function with a const_iterator parameter. So it doesn&#39;t work."}], "owner": {"reputation": 1131, "user_id": 4338785, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/e624595a16f268116870ed65489e5bc6?s=128&d=identicon&r=PG&f=1", "display_name": "Silversonic", "link": "https://stackoverflow.com/users/4338785/silversonic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1433362479, "creation_date": 1433361590, "last_edit_date": 1433362479, "question_id": 30629533, "link": "https://stackoverflow.com/questions/30629533/software-issue-can-anyone-suggest-a-download-that-will-definitely-bring-my-min", "title": "(Software issue) Can anyone suggest a download that will definitely bring my Mingw32 compiler up to speed?", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main(){\n\n    string s = \"wassup\", newVal = \"though\";\n\n    cout &lt;&lt; *(s.insert(s.begin(), newVal.begin(), newVal.end()));\n\n}\n</code></pre>\n\n<p>This brings up the problem that the return type of string's insert member function is void (error: void value not ignored as it ought to be). <a href=\"http://www.cplusplus.com/reference/string/string/insert/\" rel=\"nofollow\">This link</a> indicates C++98 returns void but the \"new\" standard C++11 does indeed return an iterator. </p>\n\n<p>A bit of context, I actually faced this problem earlier. I was/am using CodeBlocks (GCC Compiler Collection) on Windows 7 64-bit and this program gave the same issue (dereferencing void):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;list&gt;\nint main(){\n\n    list&lt;int&gt; x = {1,2,3,4};\n\n    *(x.insert(++x.begin(), 3, 2));\n\n    for(auto c : x)\n        cout &lt;&lt; c;\n\n}\n</code></pre>\n\n<p>I posted my issue on a different forum and a user pointed out Mingw32 was missing that particular C++11 change, indicating Mingw-w64 does not have this issue. So I went straight to installing Mingw-w64 on Code::Blocks using <a href=\"http://yzhong.co/?p=622\" rel=\"nofollow\">this</a> guide and the problem was resolved. It's only now I've found out that the overloaded function which takes three iterator parameters STILL returns void. </p>\n\n<p>I'm a little confused as to why Code::Blocks Mingw32 didn't supply a fully updated C++11 standard. Can anyone suggest a download that will definitely bring my compiler up to speed? </p>\n"}, {"tags": ["c++", "c++11", "boost", "boost-regex"], "answers": [{"comments": [{"owner": {"reputation": 5765, "user_id": 118657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96bb78b4e6b3c0d368bd5cff99394f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Zelid", "link": "https://stackoverflow.com/users/118657/zelid"}, "edited": false, "score": 0, "creation_date": 1433361800, "post_id": 30629537, "comment_id": 49324942, "body": "ouch... just porting regex from perl and got confused by <code>=~ m&#47;...&#47;</code> <code>m</code> letter."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 3, "last_activity_date": 1433361864, "last_edit_date": 1433361864, "creation_date": 1433361599, "answer_id": 30629537, "question_id": 30629464, "link": "https://stackoverflow.com/questions/30629464/c-boostregex-match-strange-behaviour/30629537#30629537", "title": "C++ boost::regex_match strange behaviour", "body": "<p><code>regex_match</code> only matches full input: <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/regex/doc/html/boost_regex/ref/regex_match.html\" rel=\"nofollow\">documentation</a></p>\n\n<blockquote>\n  <h1>\u26a0 Important</h1>\n  \n  <p>Note that the result is true only if the expression matches the whole of the input sequence. If you want to search for an expression somewhere within the sequence then use <code>regex_search</code>. If you want to match a prefix of the character string then use <code>regex_search</code> with the flag <code>match_continuous</code> set</p>\n</blockquote>\n\n<p>Use <code>regex_search</code></p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/e9d5c9f4cd52c79e\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/regex.hpp&gt;\n#include &lt;iostream&gt;\n\nint main() {\n    boost::cmatch what;\n    std::string fn_re_str = R\"(\\.sig\\|\\|([a-zA-Z0-9$]+)\\()\";\n    boost::regex fn_re(fn_re_str);\n    if (boost::regex_search(\"{var d=a[c];if(d.sig||d.s){var e=d.sig||qt(d.\", what, fn_re)) {\n        std::cout &lt;&lt; what[1] &lt;&lt; std::endl;\n    } else {\n        std::cerr &lt;&lt; \"not found\" &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>qt\n</code></pre>\n"}], "owner": {"reputation": 5765, "user_id": 118657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/96bb78b4e6b3c0d368bd5cff99394f3e?s=128&d=identicon&r=PG&f=1", "display_name": "Zelid", "link": "https://stackoverflow.com/users/118657/zelid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "accepted_answer_id": 30629537, "answer_count": 1, "score": 2, "last_activity_date": 1433361864, "creation_date": 1433361399, "question_id": 30629464, "link": "https://stackoverflow.com/questions/30629464/c-boostregex-match-strange-behaviour", "title": "C++ boost::regex_match strange behaviour", "body": "<p>Trying boost::regex_match and got a strange behaviour.</p>\n\n<pre><code>boost::cmatch what;\nstd::string fn_re_str = R\"(\\.sig\\|\\|([a-zA-Z0-9$]+)\\()\";\nboost::regex fn_re(fn_re_str);\nif (boost::regex_match(\"{var d=a[c];if(d.sig||d.s){var e=d.sig||qt(d.\", what, fn_re)) {\n    std::cout &lt;&lt; what[1] &lt;&lt; std::endl;\n} else {\n    std::cerr &lt;&lt; \"not found\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p><code>qt</code> is expected to be found.</p>\n\n<p>Here <a href=\"https://regex101.com/r/iR9rW5/1\" rel=\"nofollow\">https://regex101.com/r/iR9rW5/1</a> it is found.</p>\n\n<p>Why boost::regex_match can't find it? Do I miss something?</p>\n"}, {"tags": ["c++", "multithreading", "qt"], "answers": [{"comments": [{"owner": {"reputation": 113, "user_id": 10482789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PP7A8.jpg?s=128&g=1", "display_name": "Chinh Nguyen Huu", "link": "https://stackoverflow.com/users/10482789/chinh-nguyen-huu"}, "edited": false, "score": 0, "creation_date": 1604997555, "post_id": 30637195, "comment_id": 114510994, "body": "Thanks for your answer, this is really the best solution and the easiest way to implement as well"}], "tags": [], "owner": {"reputation": 4083, "user_id": 2169277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c6847992b611dad2388150de645242c?s=128&d=identicon&r=PG", "display_name": "Amartel", "link": "https://stackoverflow.com/users/2169277/amartel"}, "is_accepted": false, "score": 1, "last_activity_date": 1433401566, "creation_date": 1433401566, "answer_id": 30637195, "question_id": 30629453, "link": "https://stackoverflow.com/questions/30629453/threading-and-qregistermetatype-issue/30637195#30637195", "title": "Threading and QRegisterMetatype issue", "body": "<p>You are doing something worng. My example:</p>\n\n<p><strong>Object.h</strong></p>\n\n<pre><code>#ifndef OBJECT_H\n#define OBJECT_H\n\n#include &lt;QtCore&gt;\n\nclass Object : public QObject\n{\n    Q_OBJECT\npublic:\n    explicit Object(QObject *parent = 0);\n\n    void emitSignal(uint32_t v);\n\npublic slots:\n    void mySlot(uint32_t v);\n\nsignals:\n    void mySignal(uint32_t v);\n};\n\n#endif // OBJECT_H\n</code></pre>\n\n<p><strong>Object.cpp</strong></p>\n\n<pre><code>#include \"Object.h\"\n\nObject::Object(QObject *parent) :\n    QObject(parent)\n{\n}\n\nvoid Object::emitSignal(uint32_t v)\n{\n    emit mySignal(v);\n}\n\nvoid Object::mySlot(uint32_t v)\n{\n    qDebug() &lt;&lt; v;\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include \"Object.h\"\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication app(argc, argv);\n\n    qRegisterMetaType &lt; uint32_t &gt;(\"uint32_t\");    // &lt;--------------\n\n    Object o1, o2;\n    QThread t1, t2;\n\n    o1.moveToThread(&amp;t1);\n    o2.moveToThread(&amp;t2);\n\n    QObject::connect(&amp;o1, SIGNAL(mySignal(uint32_t)), &amp;o2, SLOT(mySlot(uint32_t)));\n    QObject::connect(&amp;o2, SIGNAL(mySignal(uint32_t)), &amp;o1, SLOT(mySlot(uint32_t)));\n\n    t1.start();\n    t2.start();\n\n    o1.emitSignal(5);\n    o2.emitSignal(10);\n\n    return app.exec();\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>5\n10\n</code></pre>\n\n<p>When removing <code>qRegisterMetaType &lt; uint32_t &gt;(\"uint32_t\");</code> line, also complains:</p>\n\n<pre><code>QObject::connect: Cannot queue arguments of type 'uint32_t'\n(Make sure 'uint32_t' is registered using qRegisterMetaType().)\nQObject::connect: Cannot queue arguments of type 'uint32_t'\n(Make sure 'uint32_t' is registered using qRegisterMetaType().)\n</code></pre>\n\n<p>P.S.: I don't like your connect+emit pair. You do know, that you need to connect signal to slot only once in order it to work? You do not need to do it before each signal emit.</p>\n"}], "owner": {"reputation": 2343, "user_id": 4033050, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/8617552b81048f6c4b67c9ec04f413b1?s=128&d=identicon&r=PG&f=1", "display_name": "Seb", "link": "https://stackoverflow.com/users/4033050/seb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433401566, "creation_date": 1433361377, "question_id": 30629453, "link": "https://stackoverflow.com/questions/30629453/threading-and-qregistermetatype-issue", "title": "Threading and QRegisterMetatype issue", "body": "<p>I have develop an app in Qt/C++, the app is currently working in one thread and and based on a UI and a framework. the UI and framework discuss together using the signal/slot mecanism provided by Qt. I have added threading because some operation inside the framework freeze UI.</p>\n\n<p>The issue I'm facing is that now the app is not working anymore because of </p>\n\n<pre><code>QObject::connect: Cannot queue arguments of type 'uint32_t'\n(Make sure 'uint32_t' is registered using qRegisterMetaType().)\n</code></pre>\n\n<p>What I have done is, declare in the main the qRegisterMetatype but it still complaining. I don't really know what I have to do in addition.</p>\n\n<p>I have gave you below the basic process for a deletion for example.</p>\n\n<p>main.cpp</p>\n\n<pre><code>qRegisterMetaType&lt;uint32_t&gt;(\"uint32_t\");\nqRegisterMetaType&lt;QList&lt;QTreeWidgetItem*&gt; &gt;(\"QList&lt;QTreeWidgetItem*&gt;\");\n</code></pre>\n\n<p>Treewidget.cpp</p>\n\n<pre><code>void TreeWidget::DeleteAction() {\n    ....\n    connect(this,&amp;PulsTreeWidget::RequestDelete, &amp;m_Framework, &amp;PulsFramework::DeleteItem);\n    emit RequestDelete(item, nb_items);\n}\n</code></pre>\n\n<p>Framework.cpp</p>\n\n<pre><code>void Framework::DeleteItem(QList&lt;QTreeWidgetItem *&gt; item, uint32_t total_item) {...}\n</code></pre>\n\n<p>Any idea ? do I need to not use the uint32_t as it is but change it's definition</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "css", "qt", "qcheckbox"], "comments": [{"owner": {"reputation": 8149, "user_id": 616644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wVwGC.png?s=128&g=1", "display_name": "Rick Smith", "link": "https://stackoverflow.com/users/616644/rick-smith"}, "edited": false, "score": 0, "creation_date": 1433360834, "post_id": 30629211, "comment_id": 49324367, "body": "Where are you setting <code>color: rgb(255,0,0); </code>? Are you doing this via Qt Creator with setStylesheet?"}, {"owner": {"reputation": 8149, "user_id": 616644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wVwGC.png?s=128&g=1", "display_name": "Rick Smith", "link": "https://stackoverflow.com/users/616644/rick-smith"}, "edited": false, "score": 0, "creation_date": 1433361209, "post_id": 30629211, "comment_id": 49324585, "body": "Using the answer supplied in duplicate question works for me.  If this does not help you, please provide some information about how what you are doing is different.  Using <code>QCheckBox { color: red }</code> <b><i>and</i></b> <code>QCheckBox::indicator{...}</code> causes me no problems.  If you don&#39;t understand why this works, update your question and I can explain."}, {"owner": {"reputation": 53, "user_id": 4742874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnO5a.png?s=128&g=1", "display_name": "Churchbus", "link": "https://stackoverflow.com/users/4742874/churchbus"}, "reply_to_user": {"reputation": 8149, "user_id": 616644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wVwGC.png?s=128&g=1", "display_name": "Rick Smith", "link": "https://stackoverflow.com/users/616644/rick-smith"}, "edited": false, "score": 0, "creation_date": 1433361658, "post_id": 30629211, "comment_id": 49324847, "body": "Ah, I see now.  I had seen that other question before, but I missed the part where you have to include <code>QCheckBox { }</code> to specify what you&#39;re changing.  In all my other style sheets, I could just throw in <code>color: rgb(255,0,0);</code> without any other identifiers, and it would work.  Thanks for the help, and feel free to mark this question as duplicate or whatever else needs to be done."}, {"owner": {"reputation": 8149, "user_id": 616644, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wVwGC.png?s=128&g=1", "display_name": "Rick Smith", "link": "https://stackoverflow.com/users/616644/rick-smith"}, "edited": false, "score": 1, "creation_date": 1433361872, "post_id": 30629211, "comment_id": 49324985, "body": "Glad to see you got it.  Also, it is not a good idea to use <code>color</code> in this way because any children will inherit the cascading style (look up how CSS cascades) and it will be a pain to track down where stray styles are coming from.  I always put all of my CSS on the top-most widget and narrow their reach as best I can."}], "owner": {"reputation": 53, "user_id": 4742874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AnO5a.png?s=128&g=1", "display_name": "Churchbus", "link": "https://stackoverflow.com/users/4742874/churchbus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 0, "closed_date": 1433361775, "answer_count": 0, "score": 0, "last_activity_date": 1433360516, "creation_date": 1433360516, "question_id": 30629211, "link": "https://stackoverflow.com/questions/30629211/editing-qt-style-sheet-of-qcheckbox", "closed_reason": "Duplicate", "title": "Editing Qt style sheet of QCheckBox", "body": "<p>I'm using style sheets to edit some checkboxes to my liking.  I can change the color of the text with</p>\n\n<pre><code>color: rgb(255,0,0);      // Red text\n</code></pre>\n\n<p>and I can change the look of the checkbox itself with</p>\n\n<pre><code>QCheckBox::indicator\n{\n    background-color: qlineargradient(...);\n    border: 2px solid rgb(170, 57, 57);\n    width: 50px;\n    height: 50px;\n    border-radius: 10px;\n};\n</code></pre>\n\n<p>...but I can't do both at the same time.  If I place both sections of code in the style sheet together, the text color edit gets ignored, regardless of whether I put it inside or outside the indicator bracketed section.  I've noticed that this also applies to background color changes.</p>\n\n<p>I assume I'm missing something about how style sheets work (especially regarding QCheckBox), but none of the Qt documentation I've found so far is helpful (I'm using Qt 4.8 in Qt Creator).</p>\n"}, {"tags": ["c++", "windows", "permissions", "directory"], "answers": [{"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433360728, "post_id": 30629234, "comment_id": 49324319, "body": "Note that&#39;s specific for windows environments apparently. I don&#39;t have such behavior on my linux development environment."}, {"owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433360883, "post_id": 30629234, "comment_id": 49324392, "body": "Yes I have noticed this as well. Linux will let you run multiple instances after recompiling."}, {"owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433372342, "post_id": 30629234, "comment_id": 49330066, "body": "In general windows will not let me do alot of things that linux does. Windows is very particular in the &quot;right way&quot; to do things it seems. Another example is how in linux I can link a library built without debug symbols to a program that is built with debug symbols and run debug on it. Windows will not let you do this which is very annoying. By windows I should clarify that I mean Visual Studio"}], "tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 2, "last_activity_date": 1433372436, "last_edit_date": 1433372436, "creation_date": 1433360589, "answer_id": 30629234, "question_id": 30629186, "link": "https://stackoverflow.com/questions/30629186/i-keep-getting-an-error-that-the-permission-to-the-output-file-is-denied-and-so/30629234#30629234", "title": "I keep getting an error that the permission to the output file is denied and so my code can&#39;t run", "body": "<p>This can be caused, if the linker cannot create a new binary named \"bin\\Debug\\problema 24.exe\" because it is currently running. Make sure that executable is not running so that the linker can rebuild it.</p>\n"}], "owner": {"reputation": 11, "user_id": 4971150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f31e5c8fc7df878fd8d35e8c9350f88?s=128&d=identicon&r=PG&f=1", "display_name": "teodor.teleaga", "link": "https://stackoverflow.com/users/4971150/teodor-teleaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1433372436, "creation_date": 1433360425, "last_edit_date": 1433360822, "question_id": 30629186, "link": "https://stackoverflow.com/questions/30629186/i-keep-getting-an-error-that-the-permission-to-the-output-file-is-denied-and-so", "title": "I keep getting an error that the permission to the output file is denied and so my code can&#39;t run", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;iomanip&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main()\n{\n        ifstream fin(\"problema24.in\");\n        ofstream fout(\"problema24.out\");\n        int n, i;\n        float v[1000];\n        fin&gt;&gt;n;\n        for(i=1;i&lt;=2*n;i++)\n        {\n            fin&gt;&gt;v[i];\n        }\n        fin.close();\n        for(i=1;i&lt;=n;i++)\n        {\n            v[i]=floor(v[i])+v[n*2-i+1]-floor(v[n*2-i+1]);\n        }\n        for(i=1;i&lt;=n;i++)\n        {\n            fout&lt;&lt;setprecision(3)&lt;&lt;v[i]&lt;&lt;\" \";\n        }\n        fout.close();\n        return 0;\n}\n</code></pre>\n\n<p>// I keep getting this message:</p>\n\n<blockquote>\n  <p>ld.exe||cannot open output file bin\\Debug\\problema 24.exe Permission\n  denied|</p>\n</blockquote>\n\n<p>Can you guys help me please!!</p>\n"}, {"tags": ["c++", "templates", "gcc", "boost"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 1039778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/701d5d3f01e1ce73a1ada9cafac06e38?s=128&d=identicon&r=PG", "display_name": "Nghia", "link": "https://stackoverflow.com/users/1039778/nghia"}, "is_accepted": false, "score": 0, "last_activity_date": 1433373509, "creation_date": 1433373509, "answer_id": 30632469, "question_id": 30629057, "link": "https://stackoverflow.com/questions/30629057/gcc-boost-template-results-in-defined-in-discarded-section/30632469#30632469", "title": "gcc Boost template results in &quot;defined in discarded section&quot;", "body": "<p>It turns out the problem is with another module that was including Boost Statechart. Removing the Boost related code in the other module resolves all the compilation error. I'm guessing the linker doesn't like seeing multiple instance of Boost templates in different object files.</p>\n"}], "owner": {"reputation": 81, "user_id": 1039778, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/701d5d3f01e1ce73a1ada9cafac06e38?s=128&d=identicon&r=PG", "display_name": "Nghia", "link": "https://stackoverflow.com/users/1039778/nghia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1433373509, "creation_date": 1433360047, "last_edit_date": 1433371188, "question_id": 30629057, "link": "https://stackoverflow.com/questions/30629057/gcc-boost-template-results-in-defined-in-discarded-section", "title": "gcc Boost template results in &quot;defined in discarded section&quot;", "body": "<p>I'm using gcc 4.7.4 20140401 to cross compile for an embedded ARM Cortex M4 (Pixhawk). I'm trying to get Boost Statechart working and I've come across an error that I can't resolve. Below is an of one them, there are many like this.</p>\n\n<blockquote>\n  <p><code>_ZTIN5boost12noncopyable_11noncopyableE' referenced in section</code>.rodata._ZTIN5boost10statechart13state_machineI15PositionControl15HoldingPositionSaIvENS0_25null_exception_translatorEEE[_ZTIN5boost10statechart13state_machineI15PositionControl15HoldingPositionSaIvENS0_25null_exception_translatorEEE]' of /home/nghia/Documents/catkin/Firmware/Build/px4fmu-v2_default.build//home/nghia/Documents/catkin/Firmware/src/modules/state_machine_boost/module.pre.o: defined in discarded section `.rodata._ZTIN5boost12noncopyable_11noncopyableE[_ZTIN5boost12noncopyable_11noncopyableE]' of /home/nghia/Documents/catkin/Firmware/Build/px4fmu-v2_default.build//home/nghia/Documents/catkin/Firmware/src/modules/state_machine_boost/module.pre.o</p>\n</blockquote>\n\n<p>I've read through all the Stackoverflow posts regarding 'defined in discarded section', but haven't found any solution that works. This includes enabling/disabling -ffunction-sections, -fdata-sections, --gc-sections, optimization flags, and re-ordering the module.</p>\n\n<p>Boost Statechart makes heavy use of template, which I suspect is causing the problem. Is gcc optimizing out stuff it thinks isn't being used?</p>\n\n<p><strong>UPDATE:</strong>\nI've managed to come up with a bare minimal example that triggers the error above:</p>\n\n<pre><code>class dummy : boost::noncopyable\n{\npublic:\n    int x;    \n};\n\nstatic dummy g_dummy;\n</code></pre>\n"}, {"tags": ["c++", "static"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1433360033, "post_id": 30629034, "comment_id": 49323925, "body": "No.  The variable is only static when you use the keyword."}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 1, "creation_date": 1433360164, "post_id": 30629034, "comment_id": 49323987, "body": "A static function just makes a function &#39;local&#39; so it cannot referenced by other objects. In other words, if this function was defined in foo.cc, bar.cc couldn&#39;t call that function."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 1, "creation_date": 1433360548, "post_id": 30629034, "comment_id": 49324216, "body": "This question is a proof that reusing the keyword <code>static</code> for hiding functions was a questionable idea. Perhaps, introducing a keyword <code>hidden</code> would have been a better approach."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1433360748, "post_id": 30629034, "comment_id": 49324331, "body": "@dasblinkenlight Really all it&#39;s proof of is that the OP hasn&#39;t read his Stroustrup properly :)"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1433361170, "post_id": 30629034, "comment_id": 49324567, "body": "@dasblinkenlight This took me forever to sort out when going from C to C++: <a href=\"http://programmers.stackexchange.com/a/141897/98845\">programmers.stackexchange.com/a/141897/98845</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6088, "user_id": 1889720, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PYEBN.png?s=128&g=1", "display_name": "Evorlor", "link": "https://stackoverflow.com/users/1889720/evorlor"}, "edited": false, "score": 0, "creation_date": 1433382590, "post_id": 30629149, "comment_id": 49332786, "body": "Your print statements tripped me up for a second. I couldn&#39;t figure out why bar was equal to eleven :-)"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 6088, "user_id": 1889720, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PYEBN.png?s=128&g=1", "display_name": "Evorlor", "link": "https://stackoverflow.com/users/1889720/evorlor"}, "edited": false, "score": 1, "creation_date": 1433423944, "post_id": 30629149, "comment_id": 49353747, "body": "@Evorlor Now that you say it that is kinda confusing. I&#39;ve edited to add in an <code>endl</code>."}], "tags": [], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": false, "score": 8, "last_activity_date": 1433423902, "last_edit_date": 1433423902, "creation_date": 1433360313, "answer_id": 30629149, "question_id": 30629034, "link": "https://stackoverflow.com/questions/30629034/are-all-variables-inside-a-static-function-static-by-default/30629149#30629149", "title": "Are all variables inside a static function static by default?", "body": "<p>No, the only provision for making a variable static in C++ is the <a href=\"http://en.cppreference.com/w/cpp/language/static\" rel=\"nofollow\"><code>static</code> keyword</a>.</p>\n\n<p>For example if you change <code>Foo</code> to:</p>\n\n<pre><code>static void Foo()\n{\n    int bar = 0;\n\n    bar++;\n    cout &lt;&lt; bar &lt;&lt; endl;\n}\n</code></pre>\n\n<p>And then call:</p>\n\n<pre><code>Foo();\nFoo();\n</code></pre>\n\n<p>Because <code>bar</code> is <em>not</em> static the output will be:</p>\n\n<blockquote>\n  <p>1<br>\n  1</p>\n</blockquote>\n\n<p>If however you declare <code>bar</code> as <code>static</code> like this:</p>\n\n<pre><code>static void Foo()\n{\n    static int bar = 0;\n\n    bar++;\n    cout &lt;&lt; bar &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Your output will in fact be:</p>\n\n<blockquote>\n  <p>1<br>\n  2</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 5, "last_activity_date": 1433360330, "creation_date": 1433360330, "answer_id": 30629155, "question_id": 30629034, "link": "https://stackoverflow.com/questions/30629034/are-all-variables-inside-a-static-function-static-by-default/30629155#30629155", "title": "Are all variables inside a static function static by default?", "body": "<p>No, variables inside static functions are allocated in automatic storage by default.</p>\n\n<p><code>static</code> functions and <code>static</code> variables represent orthogonal concepts that happen to reuse the same keyword in the syntax of C and C++</p>\n\n<ul>\n<li>Making a function <code>static</code> tells the compiler to hide it from functions defined in other translation units</li>\n<li>Making a variable <code>static</code> tells the compiler to place the data for that variable in a static storage.</li>\n</ul>\n\n<p>Use of <code>static</code> for functions has nothing to do with static storage area.</p>\n"}], "owner": {"reputation": 75, "user_id": 2232951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pxsy0.png?s=128&g=1", "display_name": "Dyzzet", "link": "https://stackoverflow.com/users/2232951/dyzzet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1433423902, "creation_date": 1433359965, "question_id": 30629034, "link": "https://stackoverflow.com/questions/30629034/are-all-variables-inside-a-static-function-static-by-default", "title": "Are all variables inside a static function static by default?", "body": "<pre><code>static void Foo()\n{\n    int bar = 0;\n}\n</code></pre>\n\n<p>Is <i>bar</i> static by default? What does Standard say about this?</p>\n"}, {"tags": ["c++", "c++11", "tuples"], "comments": [{"owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 0, "creation_date": 1433360740, "post_id": 30629028, "comment_id": 49324325, "body": "This one is similar: <a href=\"http://stackoverflow.com/questions/30531017/working-around-the-static-type-property-of-c/30531182#30531182\" title=\"working around the static type property of c\">stackoverflow.com/questions/30531017/&hellip;</a>"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1433427000, "post_id": 30629028, "comment_id": 49356004, "body": "short answer why it isn&#39;t easy to do this in c++: Simply put, c++ doesn&#39;t have <a href=\"http://en.wikipedia.org/wiki/Type_introspection\" rel=\"nofollow noreferrer\">introspection</a> (you can argue it has some limited introspection)."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3381848"}, "edited": false, "score": 0, "creation_date": 1433426826, "post_id": 30629536, "comment_id": 49355849, "body": "Thank you a lot.I am a newbie to template and I think it&#39;s great."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433429807, "post_id": 30629536, "comment_id": 49358275, "body": "@Mao, I&#39;m glad I was able to help."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1433437673, "last_edit_date": 1433437673, "creation_date": 1433361594, "answer_id": 30629536, "question_id": 30629028, "link": "https://stackoverflow.com/questions/30629028/how-can-i-add-const-to-gett-function-of-tuple-in-c-11/30629536#30629536", "title": "How can I add const to get&lt;&gt;(t) function of tuple in C++ 11?", "body": "<p>You can use templates to simulate a <code>for</code> loop.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;tuple&gt;\n\ntemplate &lt;size_t N&gt; struct Printer\n{\n   template &lt;typename ... Args&gt;\n   static void print(std::tuple&lt;Args ...&gt; const&amp; tuple)\n   {\n      Printer&lt;N-1&gt;::print(tuple);\n      std::cout &lt;&lt; std::get&lt;N-1&gt;(tuple) &lt;&lt; std::endl;\n   }\n};\n\n// Terminating specialization.\ntemplate &lt;&gt; struct Printer&lt;0&gt;\n{\n   template &lt;typename ... Args&gt;\n   static void print(std::tuple&lt;Args ...&gt; const&amp; tuple)\n   {\n      // Nothing to be done here.\n   }\n};\n\ntemplate &lt;typename ... Args&gt;\nvoid printTuple(std::tuple&lt;Args ...&gt; const&amp; tuple)\n{\n   Printer&lt;std::tuple_size&lt;std::tuple&lt;Args ...&gt;&gt;::value&gt;::print(tuple);\n}\n\nint main()\n{\n   std::tuple&lt;int, bool, double&gt; tuple1;\n   tuple1 = std::make_tuple&lt;int, bool, double&gt;(1,true,3.3);\n\n   printTuple(tuple1);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1\n1\n3.3\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3381848"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "closed_date": 1433361741, "answer_count": 1, "score": 0, "last_activity_date": 1471969087, "creation_date": 1433359951, "last_edit_date": 1471969087, "question_id": 30629028, "link": "https://stackoverflow.com/questions/30629028/how-can-i-add-const-to-gett-function-of-tuple-in-c-11", "closed_reason": "Duplicate", "title": "How can I add const to get&lt;&gt;(t) function of tuple in C++ 11?", "body": "<p>I am reading the book <em>C++ primier</em>, the tuple part.\nI had a problem when I finished a test program. Here's the code:</p>\n\n<pre><code>#include &lt;tuple&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\ntuple&lt;int, bool, double&gt; tuple1;\n\nint main() {\n    tuple1 = make_tuple&lt;int, bool, double&gt;(1,true,3.3);\n\n    for (int  i = 0; i &lt;tuple_size&lt;decltype(tuple1)&gt;::value; i++)\n    {\n        cout &lt;&lt; get&lt;i&gt;(tuple1) &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>But the <code>get&lt;i&gt;</code> function didn't work as <code>i</code> is non-const. How can I make\n<code>i</code> const? Or is there easier way to get the <code>get&lt;...&gt;</code> function working?</p>\n\n<p>Thank you @<strong>R Sahu</strong> for your answer and @<strong>Praetorian</strong> for linking to the duplicate question. Now I know that there's not an easy way to get over the problem.</p>\n\n<p>But now I wonder why there isn't a easy way to do this in c++11?Thanks.</p>\n"}, {"tags": ["c++", "codeblocks"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 2, "creation_date": 1433359790, "post_id": 30628945, "comment_id": 49323803, "body": "You are comparing floats for equality <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>"}, {"owner": {"reputation": 5413, "user_id": 1743849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cwvZ.jpg?s=128&g=1", "display_name": "rakeb.mazharul", "link": "https://stackoverflow.com/users/1743849/rakeb-mazharul"}, "edited": false, "score": 0, "creation_date": 1433361277, "post_id": 30628945, "comment_id": 49324619, "body": "Can you tell us the error exactly?"}, {"owner": {"reputation": 100, "user_id": 4672842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KK5s2.jpg?s=128&g=1", "display_name": "NikolaTEST", "link": "https://stackoverflow.com/users/4672842/nikolatest"}, "edited": false, "score": 0, "creation_date": 1433362581, "post_id": 30628945, "comment_id": 49325420, "body": "It shows &quot;doesn&#39;t work&quot; instead of &quot;works&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433360020, "post_id": 30629032, "comment_id": 49323922, "body": "<code>d</code> is not a valid suffix to create a <code>double</code> literal, it would be <code>2.0</code> for example. Regardless all of their <code>int</code> variables will be promoted so this isn&#39;t the issue either."}], "tags": [], "owner": {"reputation": 43, "user_id": 4966606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78ec0e55da8b59ce17d0edb6cdd43226?s=128&d=identicon&r=PG&f=1", "display_name": "Joe T.", "link": "https://stackoverflow.com/users/4966606/joe-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1433364720, "last_edit_date": 1433364720, "creation_date": 1433359962, "answer_id": 30629032, "question_id": 30628945, "link": "https://stackoverflow.com/questions/30628945/codeblocks-c-bug/30629032#30629032", "title": "CodeBlocks C++ Bug", "body": "<p>Variable types.</p>\n\n<pre><code>double pow (double base     , double exponent);\n     float pow (float base      , float exponent);\nlong double pow (long double base, long double exponent);\n     double pow (Type1 base      , Type2 exponent);        // additional overloads\n</code></pre>\n\n<p><a href=\"http://www.cplusplus.com/reference/cmath/pow/\" rel=\"nofollow\">http://www.cplusplus.com/reference/cmath/pow/</a></p>\n\n<p>try</p>\n\n<pre><code>&gt; int main() {\n&gt;     double d1 = 3.0, d2 = 4.0, d3 = 5.0;\n&gt;     if(pow(d1,2) + pow(d2,2) == pow(d3,2)) {\n&gt;         cout &lt;&lt; \"Works\" &lt;&lt; endl;\n&gt;     }\n&gt;     else {\n&gt;         cout &lt;&lt; \"Nope\" &lt;&lt; endl;\n&gt;     } }\n</code></pre>\n\n<p>The above doesn't work in VS 2013 either.</p>\n\n<p>I got it to work by using a function</p>\n\n<pre><code>bool CheckPyth(double a, double b, double c) {\n  double aa = pow(a,2);\n  double bb = pow(b,2);\n  double cc = pow(c,2);\n\n  if(aa + bb == cc) {\n    return(true);\n  }\n  else {\n    return(false);\n  }\n}\n</code></pre>\n\n<p>This seems to indicate it is, like CoryKramer pointed out, a floating point rounding error. He's also right about the d suffix not being valid for double literals, so I changed the code to correct that as well.</p>\n"}, {"comments": [{"owner": {"reputation": 100, "user_id": 4672842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KK5s2.jpg?s=128&g=1", "display_name": "NikolaTEST", "link": "https://stackoverflow.com/users/4672842/nikolatest"}, "edited": false, "score": 0, "creation_date": 1433362940, "post_id": 30629277, "comment_id": 49325640, "body": "I sent my code to my friend (he tested it in DevC++) and it worked, but doesn&#39;t work for me."}], "tags": [], "owner": {"reputation": 1, "user_id": 4964322, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MEWwK_Eol_s/AAAAAAAAAAI/AAAAAAAAABA/y6FyOue6D_U/photo.jpg?sz=128", "display_name": "malli b", "link": "https://stackoverflow.com/users/4964322/malli-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1433360741, "creation_date": 1433360741, "answer_id": 30629277, "question_id": 30628945, "link": "https://stackoverflow.com/questions/30628945/codeblocks-c-bug/30629277#30629277", "title": "CodeBlocks C++ Bug", "body": "<p>It worked on ideone.com too ! <a href=\"http://ideone.com/3XcY4G\" rel=\"nofollow\">http://ideone.com/3XcY4G</a></p>\n\n<pre><code>    int main() \n{\n    int t1 = 3, t2 = 4, t3 = 5;\n    if (pow(t1, 2) + pow(t2, 2) == pow(t3, 2)) {\n        cout &lt;&lt; \"Works\" &lt;&lt; endl;\n    } else { cout &lt;&lt; \"Doesn't work\" &lt;&lt; endl; }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5413, "user_id": 1743849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cwvZ.jpg?s=128&g=1", "display_name": "rakeb.mazharul", "link": "https://stackoverflow.com/users/1743849/rakeb-mazharul"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1438342357, "post_id": 30630423, "comment_id": 51423627, "body": "@MattMcNabb, surely, then the <code>else if</code> or <code>else</code> block will handle that case."}], "tags": [], "owner": {"reputation": 5413, "user_id": 1743849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cwvZ.jpg?s=128&g=1", "display_name": "rakeb.mazharul", "link": "https://stackoverflow.com/users/1743849/rakeb-mazharul"}, "is_accepted": false, "score": 3, "last_activity_date": 1434997142, "last_edit_date": 1434997142, "creation_date": 1433364591, "answer_id": 30630423, "question_id": 30628945, "link": "https://stackoverflow.com/questions/30628945/codeblocks-c-bug/30630423#30630423", "title": "CodeBlocks C++ Bug", "body": "<p>Unless you tell us what was your \"weird\" error, I'm assuming that, your second snippet code prints:</p>\n\n<blockquote>\n  <p>Doesn't work</p>\n</blockquote>\n\n<p>The problem is, you are comparing floating point numbers because <code>pow()</code> returns <code>floating points</code>, <a href=\"http://www.cplusplus.com/reference/cmath/pow/\" rel=\"nofollow\">see the definition of <code>pow()</code> function</a>.</p>\n\n<p>Floating point math is not exact because of <a href=\"http://floating-point-gui.de/errors/rounding/\" rel=\"nofollow\">Rounding Errors</a>. Simple values like 9.0 cannot be precisely represented using binary floating point numbers, and the limited precision of floating point numbers means that slight changes in the order of operations can change the result. Different compilers and CPU architectures store temporary results at different precisions, so results will differ depending on the details of your environment. For example:</p>\n\n<pre><code>    float a = 9.0 + 16.0\n    float b = 25.0\n    if(a == b) // can be false!\n    if(a &gt;= b) // can also be false!\n</code></pre>\n\n<p>Even </p>\n\n<pre><code>    if( Math.abs(a-b) &lt; 0.00001) // wrong - don't do this\n</code></pre>\n\n<p>This is a bad way to do it because a fixed <code>epsilon</code> (0.00001) chosen because it \u201clooks small\u201d could actually be way too large when the numbers being compared are very small as well.</p>\n\n<p>I personally use the following method,</p>\n\n<pre><code>public static boolean nearlyEqual(float a, float b, float epsilon) {\n        final float absA = Math.abs(a);\n        final float absB = Math.abs(b);\n        final float diff = Math.abs(a - b);\n\n        if (a == b) { // shortcut, handles infinities\n            return true;\n        } else if (a == 0 || b == 0 || diff &lt; Float.MIN_NORMAL) {\n            // a or b is zero or both are extremely close to it\n            // relative error is less meaningful here\n            return diff &lt; (epsilon * Float.MIN_NORMAL);\n        } else { // use relative error\n            return diff / Math.min((absA + absB), Float.MAX_VALUE) &lt; epsilon;\n        }\n    }\n</code></pre>\n\n<p>And don't <strong>forget</strong> to read <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>!</p>\n\n<p><strong>Reference:</strong> <a href=\"http://floating-point-gui.de/errors/comparison/\" rel=\"nofollow\">This</a> is the reference of my answer.</p>\n\n<p><strong>Edit:</strong> As the OP's problem concerning about <code>C++</code>, so here is the edited version of <code>nearlyEqual()</code> :</p>\n\n<pre><code>#include &lt;iostream&gt;     // std::cout\n#include &lt;cmath&gt;        // std::abs\n#include &lt;algorithm&gt;    // std::min\nusing namespace std;\n\n#define MIN_NORMAL 1.17549435E-38f\n#define MAX_VALUE 3.4028235E38f\n\nbool nearlyEqual(float a, float b, float epsilon) {\n    float absA = std::abs(a);\n    float absB = std::abs(b);\n    float diff = std::abs(a - b);\n\n    if (a == b) {\n        return true;\n    } else if (a == 0 || b == 0 || diff &lt; MIN_NORMAL) {\n        return diff &lt; (epsilon * MIN_NORMAL);\n    } else {\n        return diff / std::min(absA + absB, MAX_VALUE) &lt; epsilon;\n    }\n}\n\nint main(void) {\n    float t1 = 3.0, t2 = 4.0, t3 = 5.0, epsilon = 0.0000000001; // don't use int here!\n    if (nearlyEqual((pow(t1, 2) + pow(t2, 2)), pow(t3, 2), epsilon)) {\n        cout &lt;&lt; \"Works\" &lt;&lt; endl;\n    } else {\n        cout &lt;&lt; \"Doesn't work\" &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The output is :</p>\n\n<blockquote>\n  <p>Works</p>\n</blockquote>\n\n<p><strong>Compiler :</strong> Cygwin C++ Compiler.</p>\n\n<p><strong>Cygwin Version:</strong> 1.7.25</p>\n"}, {"comments": [{"owner": {"reputation": 5413, "user_id": 1743849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cwvZ.jpg?s=128&g=1", "display_name": "rakeb.mazharul", "link": "https://stackoverflow.com/users/1743849/rakeb-mazharul"}, "edited": false, "score": 0, "creation_date": 1434141943, "post_id": 30665153, "comment_id": 49671887, "body": "Yeah, we all mention this (<code>cmath</code> and <code>int-float</code> thing) two days ago you posted this answer."}, {"owner": {"reputation": 100, "user_id": 4672842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KK5s2.jpg?s=128&g=1", "display_name": "NikolaTEST", "link": "https://stackoverflow.com/users/4672842/nikolatest"}, "reply_to_user": {"reputation": 5413, "user_id": 1743849, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cwvZ.jpg?s=128&g=1", "display_name": "rakeb.mazharul", "link": "https://stackoverflow.com/users/1743849/rakeb-mazharul"}, "edited": false, "score": 0, "creation_date": 1434189563, "post_id": 30665153, "comment_id": 49681454, "body": "Because it&#39;s possible to use int and math.h in DevC++, and not in CodeBlocks."}], "tags": [], "owner": {"reputation": 100, "user_id": 4672842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KK5s2.jpg?s=128&g=1", "display_name": "NikolaTEST", "link": "https://stackoverflow.com/users/4672842/nikolatest"}, "is_accepted": true, "score": -1, "last_activity_date": 1433502934, "creation_date": 1433502934, "answer_id": 30665153, "question_id": 30628945, "link": "https://stackoverflow.com/questions/30628945/codeblocks-c-bug/30665153#30665153", "title": "CodeBlocks C++ Bug", "body": "<p>The problem is that the math.h doesn't work, so I have to use cmath. Second, not int, but float or double.</p>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main()\n{\n\n    float t1 = 3, t2 = 4, t3 = 5;\n\n    if (pow(t1, 2) + pow(t2, 2) == pow(t3, 2)) {\n        cout &lt;&lt; \"PT\" &lt;&lt; endl;\n    }\n    else {\n        cout &lt;&lt; pow(t1, 2) + pow(t2, 2) &lt;&lt; endl;\n        cout &lt;&lt; pow(t3, 2) &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 100, "user_id": 4672842, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KK5s2.jpg?s=128&g=1", "display_name": "NikolaTEST", "link": "https://stackoverflow.com/users/4672842/nikolatest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 1, "accepted_answer_id": 30665153, "answer_count": 4, "score": 0, "last_activity_date": 1438341844, "creation_date": 1433359683, "last_edit_date": 1438341844, "question_id": 30628945, "link": "https://stackoverflow.com/questions/30628945/codeblocks-c-bug", "title": "CodeBlocks C++ Bug", "body": "<p>I was doing something in C++ (CodeBlocks), but I found a weird problem. I sent my code to my friend (he tested it in DevC++) and it worked.\nI tried these two codes:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\nusing namespace std;\n\nint main() //this function works\n{\n    if (pow(3, 2) + pow(4, 2) == pow(5, 2)) {\n        cout &lt;&lt; \"Works\" &lt;&lt; endl;\n    } else { cout &lt;&lt; \"Nope\" &lt;&lt; endl; } \n}\n</code></pre>\n\n<p>But, then I changed the main function like this (and it didn't work):</p>\n\n<pre><code>int main() //this function doesn't work\n{\n    int t1 = 3, t2 = 4, t3 = 5;\n    if (pow(t1, 2) + pow(t2, 2) == pow(t3, 2)) {\n        cout &lt;&lt; \"Works\" &lt;&lt; endl;\n    } else { cout &lt;&lt; \"Doesn't work\" &lt;&lt; endl; }\n}\n</code></pre>\n\n<p>Anyone knows what's the problem ?</p>\n"}, {"tags": ["c++", "arrays", "file", "vector", "3d"], "comments": [{"owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 1, "creation_date": 1433359887, "post_id": 30628934, "comment_id": 49323849, "body": "That&#39;s the kind of task where it would be appropriate to just read an unsigned char array and use OS APIs (e.g. ReadFile on Win32)"}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 5, "creation_date": 1433360008, "post_id": 30628934, "comment_id": 49323915, "body": "How does 500mb become 6gbs?"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "edited": false, "score": 2, "creation_date": 1433360103, "post_id": 30628934, "comment_id": 49323959, "body": "did you use constructor with # of items specified or did you call vector.reserve()? 6Gb might be from massive reallocation on filling via push_back"}, {"owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "edited": false, "score": 0, "creation_date": 1433360138, "post_id": 30628934, "comment_id": 49323974, "body": "You might want to try a memory mapped file. Implementation is different on Windows / Linux  and you did not specify which OS."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1433360732, "post_id": 30628934, "comment_id": 49324321, "body": "You may reserve a huge size first (std::vector::reserve) and shrink that after computation (std::vector::shrink_to_fit). You may induce a bad memory fragmentation which can be resolved after the last computation, only)"}, {"owner": {"reputation": 693, "user_id": 3662223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef0890f4d686f08217ccf1eac4c1a44?s=128&d=identicon&r=PG&f=1", "display_name": "Aumnayan", "link": "https://stackoverflow.com/users/3662223/aumnayan"}, "edited": false, "score": 0, "creation_date": 1433362240, "post_id": 30628934, "comment_id": 49325212, "body": "For large file processing I would recommend against utilizing std::containers and instead work with the raw bytes.... I&#39;m not sure how 500mb became 6 gigs. Seams like an awful lot of overhead even if you are attempting to load this int std::vector&lt;unsigned char&gt;..."}], "answers": [{"comments": [{"owner": {"reputation": 33597, "user_id": 2445184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0b51ece74c2314ba345a862c4b00d804?s=128&d=identicon&r=PG", "display_name": "cmaster - reinstate monica", "link": "https://stackoverflow.com/users/2445184/cmaster-reinstate-monica"}, "edited": false, "score": 3, "creation_date": 1433364761, "post_id": 30630170, "comment_id": 49326585, "body": "To be precise: the vector needs to store two pointer sized values in addition to the three bytes payload. From the given figures I also deduce that the <code>std::vector&lt;&gt;</code> implementation that&#39;s used does not optimize for small allocations, so the OP also has to pay for dynamic allocation, which is another two pointer sized values. On a 64 bit machine, that&#39;s <code>4*sizeof(size_t) + 3 + alignment = 35 + alignment</code> bytes to store three bytes which corresponds well with the factor 12 given in the OP."}], "tags": [], "owner": {"reputation": 5034, "user_id": 70881, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7126dca6cd426e522fed4694a7d9f02c?s=128&d=identicon&r=PG", "display_name": "rotoglup", "link": "https://stackoverflow.com/users/70881/rotoglup"}, "is_accepted": true, "score": 5, "last_activity_date": 1433363772, "creation_date": 1433363772, "answer_id": 30630170, "question_id": 30628934, "link": "https://stackoverflow.com/questions/30628934/a-really-huge-3d-array-in-c/30630170#30630170", "title": "A REALLY huge 3D array in C++", "body": "<p>What you call a 3D array is more a 2D array containing RGB elements, and 500Mb is really not 'REALLY huge' those days.</p>\n\n<p>You approach of using <code>std::vector</code> to store only 3 bytes (<code>char</code>) should be avoided as:</p>\n\n<ul>\n<li>the <code>std::vector</code> ifself consumes much more that 3 bytes (you may know how much by inspecting the result of <code>sizeof(std::vector&lt;char&gt;)</code>.</li>\n<li>the memory you allocate is fragmented</li>\n</ul>\n\n<p>Traditionnally, for your use case, which is loading a 2D bitmap, the memory is allocated in a single block, and then, values accessed using a computed index.</p>\n\n<p>Overly simplified, this would be something like :</p>\n\n<pre><code>struct rgb {            // you should check that sizeof(rgb) == 3*sizeof(char), just to be sure\n  char channels[3];\n};\nstd::vector&lt;rgb&gt; raster_data;\nraster_data.resize(width*height);\n// channel access :\nraster_data[j*width+i][k] = ...;\n</code></pre>\n\n<p>You could read the entire file contents efficiently in a buffer like this, but you would need to consider the alignment for each rows, and off the top of my head, I can't really say which it is (I believe each row is aligned on a 4 bytes boundary).</p>\n\n<p>For you to learn more about handling BMP bitmap data in C/C++, I strongly suggest you get a look at Handmade Hero, that covers the topic from the beginning, I believe in this episode : <a href=\"https://www.youtube.com/watch?v=ofMJUSchXwo\" rel=\"noreferrer\">https://www.youtube.com/watch?v=ofMJUSchXwo</a></p>\n"}], "owner": {"reputation": 277, "user_id": 4170663, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2d5faea6fdfa1f58261f31de8836ad1f?s=128&d=identicon&r=PG&f=1", "display_name": "CrizerPL", "link": "https://stackoverflow.com/users/4170663/crizerpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 1, "accepted_answer_id": 30630170, "answer_count": 1, "score": 4, "last_activity_date": 1433363772, "creation_date": 1433359661, "last_edit_date": 1433363188, "question_id": 30628934, "link": "https://stackoverflow.com/questions/30628934/a-really-huge-3d-array-in-c", "title": "A REALLY huge 3D array in C++", "body": "<p>The point is: I'm writing a kind of dumb program that takes a BMP image of a handdrawn sound wave and converts it to actual sound. It works fine, but I'm searching for a good way to load the whole image to memory. I currently used std::vector to load a 500 MB image just to see in Task Manager that the process has allocated so much of my 8GB RAM that it needed additional paging (stopped at around 6 GB). I guess it's some kind of overhead...</p>\n\n<p>And here's my question: is there a more memory-efficient way to allocate huge 3D arrays? And is there any speed-efficient way to read huge files byte by byte? (I'm writing this while waiting for it to load, it's 85% after ~50 minutes)</p>\n\n<p><em>EDIT</em>\nThe OS is 64-bit Windows. And it's even more than 6GB, the RAM was just too small for it, so Windows started putting the array in the paging file (I made a little percentage indicator and allocating was around around 80% at that moment)..</p>\n\n<p>and here's the code I'm using for allocation</p>\n\n<pre><code>vector &lt;vector&lt;vector&lt;char&gt; &gt; &gt; raster_data; //declaration\nraster_data.resize(width);\nfor(int i=0; i&lt;width; i++)\n{\n    raster_data[i].resize(height);\n\n    for(int j=0; j&lt;height; j++)\n    {\n        raster_data[i][j].resize(3); //(24bpp=3Bpp)\n    }\n}\n</code></pre>\n\n<p>so I'm writing data not via push_back(), but by accessing vector like a normal array:</p>\n\n<pre><code>raster_data[i][j][k] // in a 3d for loop\n</code></pre>\n"}, {"tags": ["c++", "device"], "comments": [{"owner": {"reputation": 9268, "user_id": 1715716, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eTmIS.png?s=128&g=1", "display_name": "Gauthier Boaglio", "link": "https://stackoverflow.com/users/1715716/gauthier-boaglio"}, "edited": false, "score": 0, "creation_date": 1433364539, "post_id": 30628818, "comment_id": 49326474, "body": "More descriptive text would be greatly appreciated. Please provide some code and eventually error outputs. Otherwise you won&#39;t get any answer. Too vague."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4961977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UCzr0.jpg?s=128&g=1", "display_name": "Hector Silva Carmona", "link": "https://stackoverflow.com/users/4961977/hector-silva-carmona"}, "edited": false, "score": 0, "creation_date": 1433511191, "post_id": 30628926, "comment_id": 49397798, "body": "Thanks but when I see the properties in my project and I see debugging , it doesnt show working directory instead it shows  the option called remote executable , I am debugging in a smart device project for pda , but I need exactly that , I need set up the working directory as Storage Card so I will able to manage the folders in my pc, I am using the emulator for pda of the visual studios, and I cant manage the created folder in the virtual memory so for that reason I need configure the working directory as storage card , because the emulator allows set the storage card as a folder of my pc"}, {"owner": {"reputation": 4145, "user_id": 1410669, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e48a0c062eea7f211bd8cf5ae31c2886?s=128&d=identicon&r=PG&f=1", "display_name": "UpAndAdam", "link": "https://stackoverflow.com/users/1410669/upandadam"}, "edited": false, "score": 0, "creation_date": 1433542489, "post_id": 30628926, "comment_id": 49414955, "body": "put this info into the question"}], "tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": true, "score": 0, "last_activity_date": 1433359650, "creation_date": 1433359650, "answer_id": 30628926, "question_id": 30628818, "link": "https://stackoverflow.com/questions/30628818/in-c-smart-device-i-need-configure-like-default-output-folder-the-store-card/30628926#30628926", "title": "in C++ smart device, I need configure like default output folder the store card, so when I am debugging", "body": "<p>I believe what you are referring to is called the \"Working Directory\". This is the directory that the program is run from when debugging so any operations such as creating or modifying files/folders will originate from that directory. In visual studio if you go to the project properties and look under the \"Debugging\" section there is an entry for \"Working Directory\". Enter the directory on the SD card that you would like to run the program from in this box.</p>\n"}], "owner": {"reputation": 9, "user_id": 4961977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UCzr0.jpg?s=128&g=1", "display_name": "Hector Silva Carmona", "link": "https://stackoverflow.com/users/4961977/hector-silva-carmona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 30628926, "answer_count": 1, "score": -3, "last_activity_date": 1433576373, "creation_date": 1433359289, "last_edit_date": 1433576373, "question_id": 30628818, "link": "https://stackoverflow.com/questions/30628818/in-c-smart-device-i-need-configure-like-default-output-folder-the-store-card", "title": "in C++ smart device, I need configure like default output folder the store card, so when I am debugging", "body": "<p>In C++ smart device in visual studios, I need  configure like default output folder the store card, so when I am debugging and use the function CreateDirectory the created folders appears into the SD card. </p>\n"}, {"tags": ["c++", "constructor"], "comments": [{"owner": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 2, "creation_date": 1433359572, "post_id": 30628798, "comment_id": 49323696, "body": "It&#39;s almost always bad design to have base depend on derived."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1433359855, "post_id": 30628798, "comment_id": 49323829, "body": "@Pubby, unless you use the CRTP."}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "reply_to_user": {"reputation": 48293, "user_id": 964135, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8caec1b0320fe1b8b498936fbb6b846?s=128&d=identicon&r=PG", "display_name": "Pubby", "link": "https://stackoverflow.com/users/964135/pubby"}, "edited": false, "score": 0, "creation_date": 1433359857, "post_id": 30628798, "comment_id": 49323830, "body": "@Pubby exception to this is abstract class ?"}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433359947, "post_id": 30628798, "comment_id": 49323878, "body": "@RSahu Comparable in java is an example of CRTP"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1433361584, "post_id": 30628798, "comment_id": 49324804, "body": "Do you build a house without doing the foundations first? Starting off with the roof is daft"}], "answers": [{"comments": [{"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1433360029, "post_id": 30629036, "comment_id": 49323924, "body": "I&#39;m modifying <code>z</code> before passing it to parent :)"}, {"owner": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "edited": false, "score": 0, "creation_date": 1433360250, "post_id": 30629036, "comment_id": 49324045, "body": "Base class members are private so derived class constructor cannot modify them"}, {"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "reply_to_user": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "edited": false, "score": 0, "creation_date": 1433360286, "post_id": 30629036, "comment_id": 49324069, "body": "@mathematician1975 exactly :3"}], "tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1433360194, "last_edit_date": 1433360194, "creation_date": 1433359985, "answer_id": 30629036, "question_id": 30628798, "link": "https://stackoverflow.com/questions/30628798/initialize-variable-in-class-before-calling-parents-constructor-in-c/30629036#30629036", "title": "initialize variable in class before calling parent&#39;s constructor in c++", "body": "<p>If you are not modifying \"z\" before you pass it to the parent class then you should just pass \"z\" to the parent class like this:</p>\n\n<pre><code>class B:public A\n{\n    int z;\n    public :\n       B(const int &amp;x,const int &amp;y,const int &amp;thez):A(x+thez,y+thez), z(thez)\n};\n</code></pre>\n\n<p>This way the parent class gets the \"z\" value added to its \"x\" and \"y\" and you also get to store the value of \"z\" for later use.</p>\n\n<p>Another way is to use the derived class constructor to modify the inherited values like this:</p>\n\n<pre><code>class B:public A\n{\n    int z;\n    public :\n       B(const int &amp;x,const int &amp;y,const int &amp;thez):A(x,y), z(thez)\n       {\n           //modifications to z\n           x +=z;\n           y +=z;\n       }\n};\n</code></pre>\n\n<p>This only works if you are not doing other modifications in the parent constructor.</p>\n"}, {"comments": [{"owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1433362198, "post_id": 30629260, "comment_id": 49325183, "body": "this will solve the problem , but I don&#39;t want multiple inheritance , I know I&#39;ll regret it later"}, {"owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "reply_to_user": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "edited": false, "score": 0, "creation_date": 1433364302, "post_id": 30629260, "comment_id": 49326370, "body": "@niceman: not definitely: keep it constrained to the bare essentials, and maybe derive <code>private</code>ly. See here what <a href=\"https://isocpp.org/wiki/faq/multiple-inheritance#mi-not-evil\" rel=\"nofollow noreferrer\">Stroustroup says about MI</a>. You don&#39;t have many other chances, otherwise derived class members will get initialized after base class members."}], "tags": [], "owner": {"reputation": 12139, "user_id": 2412846, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eBJip.gif?s=128&g=1", "display_name": "davidhigh", "link": "https://stackoverflow.com/users/2412846/davidhigh"}, "is_accepted": false, "score": 2, "last_activity_date": 1433360972, "last_edit_date": 1495539920, "creation_date": 1433360667, "answer_id": 30629260, "question_id": 30628798, "link": "https://stackoverflow.com/questions/30628798/initialize-variable-in-class-before-calling-parents-constructor-in-c/30629260#30629260", "title": "initialize variable in class before calling parent&#39;s constructor in c++", "body": "<p>Besides whether it is a good idea or not to do so: If you want to have a derived class member initialized before the base class members, you can use the <a href=\"http://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Base-from-Member\" rel=\"nofollow noreferrer\"><em>base-from-member-idiom</em></a>: just put the corresponding member into another base class and make sure it is initialized first.</p>\n\n<pre><code>class A\n{\n    int x,y;\n    public: \n        A(const int &amp;x,const int &amp;y):x(x),y(y) {} \n};\n\nclass Z\n{\n    int z;\n    Z(const int &amp;thez): z(thez) {}\n};\n\nclass B: public Z, public A\n     //  ^^^^^^^^ \n     // Z must come before A\n{\n    public :\n       B(const int &amp;x,const int &amp;y,const int &amp;thez): Z(thez), A(x+z,y+z) {}\n};\n</code></pre>\n\n<p>This, the base class <code>Z</code> -- and particularly its member <code>z</code> -- is going to be initialized before the members of <code>A</code>.</p>\n\n<p>Disclaimer: in general, be careful with multiple inheritance and its <a href=\"https://stackoverflow.com/questions/137282/how-can-you-avoid-the-diamond-of-death-in-c-when-using-multiple-inheritance\">diamond of death</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1647, "user_id": 2078550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff7db2db0315d259a4d5a45f448b7046?s=128&d=identicon&r=PG", "display_name": "sheltond", "link": "https://stackoverflow.com/users/2078550/sheltond"}, "is_accepted": false, "score": 1, "last_activity_date": 1461338907, "creation_date": 1461338907, "answer_id": 36797812, "question_id": 30628798, "link": "https://stackoverflow.com/questions/30628798/initialize-variable-in-class-before-calling-parents-constructor-in-c/36797812#36797812", "title": "initialize variable in class before calling parent&#39;s constructor in c++", "body": "<p>The other answers have given some suggestions for how to work around your issue - my suggestion would be to think about the problem slightly differently.</p>\n\n<p>This seems like a case where <a href=\"https://en.wikipedia.org/wiki/Composition_over_inheritance\" rel=\"nofollow\">using composition instead of inheritance</a> might be a good idea.</p>\n\n<p>In your case, you said that \"Body\" is the parent of \"Player\", which leads me to think that this may be a design choice that could be reconsidered. I would consider thinking of it like this instead:</p>\n\n<ul>\n<li>Create an abstract parent class called something like ThingWithInteria, which defines the API for getting the inertia of an object.</li>\n<li>Create a BodyPart class, which contains the values relevant to each body part (in your case, perhaps this would be mass and distance from center?), and which implements the ThingWithInteria API using some simple calculations on those values.</li>\n<li>Change the Player class to also inherit from ThingWithInertia. It would contain a number of BodyParts (\"head\", \"body\" and \"legs\" in your example).</li>\n<li>In the constructor for Player, initialize each of the BodyParts before entering the main body of the function constructor. It's then easy to compute the overall inertia as a function of the inertias of the individual parts.</li>\n</ul>\n\n<p>This class hierarchy reflects the fact the relationship between Player and BodyPart is not an \"is a\" relationship, it's a \"has a\" (or \"has some\") relationship. While they may share a common API for accessing the inertia, the way that they implement it is different because they represent fundamentally different things.</p>\n\n<p>While this doesn't solve the specific programming question that you asked about how to initialize member variables before calling the parent constructor, I thought it would be worth mentioning in case others find this question due to making some similar design choice which has led them to this point.</p>\n"}], "owner": {"reputation": 2334, "user_id": 2397162, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/665b976c79d0c9c842b131a2df510c3c?s=128&d=identicon&r=PG", "display_name": "niceman", "link": "https://stackoverflow.com/users/2397162/niceman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 799, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1461338907, "creation_date": 1433359223, "question_id": 30628798, "link": "https://stackoverflow.com/questions/30628798/initialize-variable-in-class-before-calling-parents-constructor-in-c", "title": "initialize variable in class before calling parent&#39;s constructor in c++", "body": "<p>if I have these classes :</p>\n\n<pre><code>class A\n{\n    int x,y;\n    public: \n        A(const int &amp;x,const int &amp;y):x(x),y(y){} \n};\nclass B:public A\n{\n    int z;\n    public :\n       B(const int &amp;x,const int &amp;y,const int &amp;thez):z(thez),A(x+z,y+z)\n};\n</code></pre>\n\n<p>I want to initialize <code>z</code> in class B before calling A's constructor but as I discovered from debug A's constructor always get called first no matter where it's put.  </p>\n\n<p>The real goal of this is to calculate rotational inertia of a Player class(the Player found in foosball) that is composed of three cubes(  head, body, and legs), the three cubes are initialized in the Player constructor and Player inertia is initialized in Body's constructor(Body is the parent of Player).  </p>\n\n<p>My problem is that inertia of the Player depends on the inertias of the cubes, I calculate them and I want to sum them and call parent on it but I can't sum them without initializing the cubes(they're nothing before initializing).  </p>\n\n<p>So how to do this ?  </p>\n\n<h2>PS</h2>\n\n<p>I know I can just put the relations and sum, well yes but it's veeeery long, the constructor will get ugly easily if I did that, I'm considering this as last resort only.</p>\n"}, {"tags": ["c++", "opencv", "detect"], "comments": [{"owner": {"reputation": 61, "user_id": 4414901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U2QwVUNO3Mw/AAAAAAAAAAI/AAAAAAAAACY/blkTsEO-QMg/photo.jpg?sz=128", "display_name": "Isra-MiAn", "link": "https://stackoverflow.com/users/4414901/isra-mian"}, "edited": false, "score": 0, "creation_date": 1433365635, "post_id": 30628773, "comment_id": 49327091, "body": "I&#39;m sorry because my english isn&#39;t very well, I hope that you understant me"}], "answers": [{"tags": [], "owner": {"reputation": 787, "user_id": 3419885, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/100001500229007/picture?type=large", "display_name": "mbaros", "link": "https://stackoverflow.com/users/3419885/mbaros"}, "is_accepted": false, "score": 1, "last_activity_date": 1450955128, "creation_date": 1450955128, "answer_id": 34451789, "question_id": 30628773, "link": "https://stackoverflow.com/questions/30628773/how-to-get-keypoint-id/34451789#34451789", "title": "How to get keyPoint ID", "body": "<p>OpenCV have a KeyPoint class which have the following parameters:</p>\n\n<p><strong>pt</strong> (x,y) -> the position of the KeyPoints,\n<strong>size</strong> - size of the keypoint,\n<strong>angle</strong> - orientation of the keypoint,\n<strong>response</strong> - strength of the keypoint,\n<strong>octave</strong> - number of octave layer the keypoint is detected,\n<strong>class_id</strong> - the number of object the keypoint belongs to.</p>\n\n<p>So basically what you need is the <strong>class_id</strong>. </p>\n\n<pre><code>keyPoint kpt;\nkpt.class_id;\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 4414901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-U2QwVUNO3Mw/AAAAAAAAAAI/AAAAAAAAACY/blkTsEO-QMg/photo.jpg?sz=128", "display_name": "Isra-MiAn", "link": "https://stackoverflow.com/users/4414901/isra-mian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1450955128, "creation_date": 1433359151, "question_id": 30628773, "link": "https://stackoverflow.com/questions/30628773/how-to-get-keypoint-id", "title": "How to get keyPoint ID", "body": "<p>I'm doing a matching programm in opencv and C++ and I want to classifier my keyPoints-detected depending of the region of image they are.</p>\n\n<p>i.e: If I detect a keypoint in the top of the image I want to classifier this in region 1... An depending where I found the keypoints I want to classifier them.</p>\n\n<p>Finally I'm going to do a new classifier vector like this:</p>\n\n<blockquote>\n  <p>vector  classifier_vector;</p>\n</blockquote>\n\n<p>and one of the two parameters that I need is the id of every detected points.</p>\n\n<p>Does someone know how I can to get the keypoints id?</p>\n\n<p>I'm not sure about the next but I saw that the parameter I need to get is </p>\n\n<blockquote>\n  <p>int _class_id</p>\n</blockquote>\n\n<p>Am I right?</p>\n\n<p>Thanks everybody. ;)</p>\n"}, {"tags": ["c++", "qt", "pointers", "undefined-behavior", "partial-ordering"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1433359224, "post_id": 30628742, "comment_id": 49323499, "body": "Nice question. I think you&#39;ve answered it yourself, though: The conversion from pointer to integer could produce a different value every time (imagine <code>to_int(void * p) { return to_int32(p) + rand() &lt;&lt; 40; }</code>"}, {"owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 0, "creation_date": 1433359749, "post_id": 30628742, "comment_id": 49323779, "body": "That&#39;s ok in theory, but does anyone knows about a such platform?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1433359996, "post_id": 30628742, "comment_id": 49323909, "body": "Speaking about your example if a pointer is 40 bits but an unsigned long is 64 bits then the assert will trigger."}, {"owner": {"reputation": 2322, "user_id": 1987178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YS4r1.png?s=128&g=1", "display_name": "rom1v", "link": "https://stackoverflow.com/users/1987178/rom1v"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1433360356, "post_id": 30628742, "comment_id": 49324106, "body": "@NathanOliver Good point :)"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "reply_to_user": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 0, "creation_date": 1433360877, "post_id": 30628742, "comment_id": 49324390, "body": "@marom compilers on x86 for real and protected mode used <a href=\"https://en.wikipedia.org/wiki/X86_memory_segmentation\" rel=\"nofollow noreferrer\">segmented memory model</a>. In this context you have exactly the restrictions of the standard."}, {"owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1433360972, "post_id": 30628742, "comment_id": 49324446, "body": "@Christophe Like the far/near attributes of Windows 3.11 age?"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "reply_to_user": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "edited": false, "score": 0, "creation_date": 1433363139, "post_id": 30628742, "comment_id": 49325742, "body": "@marom yes, and msdos before..."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 0, "creation_date": 1433364185, "post_id": 30628742, "comment_id": 49326291, "body": "@Christophe But there aren&#39;t any (standard) C++ compilers left for 16 bit x86, are there? Nor indeed any OS."}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1433453131, "post_id": 30628742, "comment_id": 49371794, "body": "@KerrekSB Conversion of a pointer to a large enough integer is defined in the sense that casting that integer back to a pointer gives the same pointer as the one you started with. You can&#39;t randomize that unless the compiler/runtime (in this case Hell++) keeps track of the values generated..."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1433454199, "post_id": 30628742, "comment_id": 49372223, "body": "@rubenvb: The assumption here is that the pointer is narrower than the resulting integer type, so the conversion back reproduces the original pointer."}, {"owner": {"reputation": 2322, "user_id": 1987178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YS4r1.png?s=128&g=1", "display_name": "rom1v", "link": "https://stackoverflow.com/users/1987178/rom1v"}, "edited": false, "score": 0, "creation_date": 1433593319, "post_id": 30628742, "comment_id": 49425764, "body": "Also, for the very same reason, I would say that <code>qHash(const T*, uint)</code> is not guaranteed to work: <code>return qHash(reinterpret_cast&lt;quintptr&gt;(key), seed);</code>."}], "answers": [{"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 1, "last_activity_date": 1433368291, "creation_date": 1433368291, "answer_id": 30631419, "question_id": 30628742, "link": "https://stackoverflow.com/questions/30628742/does-casting-pointers-to-integers-define-a-total-order-on-pointers/30631419#30631419", "title": "Does casting pointers to integers define a total order on pointers?", "body": "<p>I think that you can't assume that there is a total order on pointers.  The guarantees given by the standard for pointer to int conversions are rather limited:</p>\n\n<blockquote>\n  <p><strong>5.2.10/4:</strong> A pointer can be explicitly converted to any integral type large enough to hold it. The mapping function is\n  implementation-defined.</p>\n  \n  <p><strong>5.2.10/5:</strong> A value of integral type or enumeration type can be explicitly converted to a pointer.  A pointer converted to an integer\n  of sufficient size (...) and back to the same pointer type will have\n  its original value; mappings between pointers and integers are\n  otherwise implementation-defined.</p>\n</blockquote>\n\n<p><strong>From a practical point of view</strong>, most of the mainstream compilers will convert a pointer to an integer in a bitwise manner, and you'll have a total order.    </p>\n\n<h1>The theoretical problem:</h1>\n\n<p>But this is not guaranteed.  It might not work on past platforms (<a href=\"https://en.wikipedia.org/wiki/X86_memory_segmentation\" rel=\"nofollow\">x86 real and protected mode</a>), on exotic platform (embedded systems ?) , and -who knows- on some future platforms (?). </p>\n\n<p>Take the example of <a href=\"https://en.wikipedia.org/wiki/Intel_Memory_Model\" rel=\"nofollow\">segmented memory</a> of the 8086: The real address  is given by the combination of a segment (e.g.  DS register for data segment, an SS for stack segment,...) and an offest:  </p>\n\n<pre><code>Segment:   XXXX YYYY YYYY YYYY 0000    16 bits shifted by 4 bits\nOffset:    0000 ZZZZ ZZZZ ZZZZ ZZZZ    16 bits not sifted\n           ------------------------\nAddress:   AAAA AAAA AAAA AAAA AAAA    20 bits address                      \n</code></pre>\n\n<p>Now imagine that the compiler would convert the pointer to int, by simply doing the address math and put 20 bits in the integer: your safe and have a total order.  </p>\n\n<p>But another equally valid approach would be to store the segment on 16 upper bits and the offset on the 16 lower bits.  In fact, this way would significantly facilitate/accelerate the load of pointer values into cpu registers.  </p>\n\n<p>This approach is compliant with standard c++ requirements, but each single address could be represented by 16 different pointers: your total order is lost !! </p>\n\n<p>**Are there alternatives for the order ? **</p>\n\n<p>One could imagine using pointer arithmetics.  There are strong constraints on pointer arithmetics for elements in a same array:     </p>\n\n<blockquote>\n  <p><strong>5.7/6:</strong> When two pointers to elements of the same array object are subtracted, the result is the difference of the subscripts of the two\n  array elements.</p>\n</blockquote>\n\n<p>And subscripts are ordered.  </p>\n\n<p>Array can be of maximum <code>size_t</code> elements. So, naively, if <code>sizeof(pointer) &lt;= sizof(size_t)</code> one could assume that taking an arbitrary reference pointer and doing some pointer arithmetic  should lead to a total order.  </p>\n\n<p>Unfortunately, here also, the standard is very prudent: </p>\n\n<blockquote>\n  <p><strong>5.7.7:</strong>  For addition or subtraction, if the expressions P or Q have type \u201cpointer to cv T\u201d, where T is different from the\n  cv-unqualified array element type, the behavior is undefined.</p>\n</blockquote>\n\n<p>So pointer arithmetic won't do the trick for arbitrary pointers either.  Again,  back to the segmented memory models, helps to understand:  arrays could have maximum 65535 bytes to fit completely in one segment. But different arrays could use different segments so that pointer arithmetic wouldn't be reliable for a total order either.  </p>\n\n<h1>Conclusion</h1>\n\n<p>There's a subtle note in the standard on the mapping between pointer and interal value:  </p>\n\n<blockquote>\n  <p>It is intended to be unsurprising to those who know the addressing\n  structure of the underlying machine.</p>\n</blockquote>\n\n<p>This means that must be be possible to determine a total order.  But keep in mind that it'll be non portable.  </p>\n"}, {"tags": [], "owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "is_accepted": false, "score": 2, "last_activity_date": 1433452934, "creation_date": 1433452934, "answer_id": 30654393, "question_id": 30628742, "link": "https://stackoverflow.com/questions/30628742/does-casting-pointers-to-integers-define-a-total-order-on-pointers/30654393#30654393", "title": "Does casting pointers to integers define a total order on pointers?", "body": "<p>The Standard guarantees that converting a pointer to an <code>uintptr_t</code> will yield a value of some unsigned type which, if cast to the original pointer type, will yield the original pointer.  It also mandates that any pointer can be decomposed into a sequence of <code>unsigned char</code> values, and that using such a sequence of <code>unsigned char</code> values to construct a pointer will yield the original.  Neither guarantee, however, would forbid an implementation from including padding bits within pointer types, nor would either guarantee require that the padding bits behave in any consistent fashion.</p>\n\n<p>If code avoided storing pointers, and instead cast to <code>uintptr_t</code> every pointer returned from <code>malloc</code>, later casting those values back to pointers as required, then the resulting <code>uintptr_t</code> values would form a ranking.  The ranking might not have any relationship to the order in which objects were created, nor to their arrangement in memory, but it would be a ranking.  If any pointer gets converted to <code>uintptr_t</code> more than once, however, the resulting values might rank entirely independently.</p>\n"}], "owner": {"reputation": 2322, "user_id": 1987178, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/YS4r1.png?s=128&g=1", "display_name": "rom1v", "link": "https://stackoverflow.com/users/1987178/rom1v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 1, "accepted_answer_id": 30631419, "answer_count": 2, "score": 4, "last_activity_date": 1433452934, "creation_date": 1433359047, "last_edit_date": 1495541668, "question_id": 30628742, "link": "https://stackoverflow.com/questions/30628742/does-casting-pointers-to-integers-define-a-total-order-on-pointers", "title": "Does casting pointers to integers define a total order on pointers?", "body": "<p><em>(related to <a href=\"https://stackoverflow.com/questions/30617158/how-does-stdless-work\">my previous question</a>)</em></p>\n\n<p>In QT, the <a href=\"http://doc.qt.io/qt-5/qmap.html#details\" rel=\"nofollow noreferrer\"><code>QMap</code> documentation</a> says:</p>\n\n<blockquote>\n  <p>The key type of a QMap must provide <code>operator&lt;()</code> specifying a <strong>total order</strong>.</p>\n</blockquote>\n\n<p>However, in <code>qmap.h</code>, they seem to use something similar to <code>std::less</code> to compare pointers:</p>\n\n<pre><code>/*\n    QMap uses qMapLessThanKey() to compare keys. The default\n    implementation uses operator&lt;(). For pointer types,\n    qMapLessThanKey() casts the pointers to integers before it\n    compares them, because operator&lt;() is undefined on pointers\n    that come from different memory blocks. (In practice, this\n    is only a problem when running a program such as\n    BoundsChecker.)\n*/\n\ntemplate &lt;class Key&gt; inline bool qMapLessThanKey(const Key &amp;key1, const Key &amp;key2)\n{\n    return key1 &lt; key2;\n}\n\ntemplate &lt;class Ptr&gt; inline bool qMapLessThanKey(const Ptr *key1, const Ptr *key2)\n{\n    Q_STATIC_ASSERT(sizeof(quintptr) == sizeof(const Ptr *));\n    return quintptr(key1) &lt; quintptr(key2);\n}\n</code></pre>\n\n<p>They just cast the pointers to <code>quintptr</code>s (which is the QT-version of <code>uintptr_t</code>, that is, an unsigned int that is capable of <a href=\"https://stackoverflow.com/a/22624888\">storing a pointer</a>) and compare the results.</p>\n\n<blockquote>\n  <p>The following type designates an unsigned integer type with the property that any valid pointer to void can be converted to this type, then converted back to a pointer to void, and the result will compare equal to the original pointer: <code>uintptr_t</code></p>\n</blockquote>\n\n<p>Do you think this implementation of <code>qMapLessThanKey()</code> on pointers is ok?</p>\n\n<p>Of course, there is a total order on integral types. But I think this is not sufficient to conclude that this operation defines a total order on pointers.</p>\n\n<p>I think that it is true only if <code>p1 == p2</code> implies <code>quintptr(p1) == quintptr(p2)</code>, which, AFAIK, is not specified.</p>\n\n<p>As a counterexample of this condition, imagine a target using 40 bits for pointers; it could convert pointers to <code>quintptr</code>, setting the 40 lowest bits to the pointer address and leaving the 24 highest bits unchanged (random). This is sufficient to respect the convertibility between <code>quintptr</code> and pointers, but this does not define a total order for pointers.</p>\n\n<p>What do you think?</p>\n"}, {"tags": ["c++", "visual-studio-2013", "com"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1433359361, "post_id": 30628735, "comment_id": 49323573, "body": "COM programming: You need teaching from COM programming teachers abused by several COM programming teachers before. (Sorry, I consider COM a pale of junk)"}, {"owner": {"reputation": 283, "user_id": 3769011, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e0ad2ac446dc4aa47f7eb6d722bafad?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck D", "link": "https://stackoverflow.com/users/3769011/chuck-d"}, "edited": false, "score": 0, "creation_date": 1433359652, "post_id": 30628735, "comment_id": 49323724, "body": "I do have the &#39;basics&#39; down (it&#39;s been more than 8 years since I dealt with COM).  I just hate that the development environment itself seems to be blocking me at this point."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 6, "creation_date": 1433360865, "post_id": 30628735, "comment_id": 49324383, "body": "You need to link with <code>ole32.lib</code>."}, {"owner": {"reputation": 283, "user_id": 3769011, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e0ad2ac446dc4aa47f7eb6d722bafad?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck D", "link": "https://stackoverflow.com/users/3769011/chuck-d"}, "edited": false, "score": 0, "creation_date": 1433361267, "post_id": 30628735, "comment_id": 49324613, "body": "That was it, I knew it was stupid.  Thanks!"}], "owner": {"reputation": 283, "user_id": 3769011, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/2e0ad2ac446dc4aa47f7eb6d722bafad?s=128&d=identicon&r=PG&f=1", "display_name": "Chuck D", "link": "https://stackoverflow.com/users/3769011/chuck-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 784, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433359021, "creation_date": 1433359021, "question_id": 30628735, "link": "https://stackoverflow.com/questions/30628735/link-error-for-coinitializeex-unresolved-token", "title": "Link error for CoInitializeEx, unresolved token", "body": "<p>I created a CLR Class Library where I am wanting to do some WASAPI Core Audio processing.  Finally got around to adding the COM stuff, and I've stripped it all down to simply this:</p>\n\n<pre><code>bool AudioLibrary::AudioClass::initializeAudioDevices()\n{\n    HRESULT hr = CoInitializeEx(NULL, COINIT_MULTITHREADED);\n\n    if (FAILED(hr))\n    {\n        // Big problem\n        return hr;\n    }\n}\n</code></pre>\n\n<p>This is extremely basic, and compiles just fine (my namespace is obviously AudioLibrary and the class is AudioClass).  However, during link I get this:</p>\n\n<pre><code>Error   9   error LNK2028: unresolved token (0A000029) \"extern \"C\" long __stdcall CoInitializeEx(void *,unsigned long)\" (?CoInitializeEx@@$$J18YGJPAXK@Z) referenced in function \"private: bool __clrcall AudioLibrary::AudioClass::initializeAudioDevices(void)\" (?initializeAudioDevices@AudioClass@AudioLibrary@@$$FA$AAM_NXZ)   C:\\Users\\Administrator\\Documents\\Visual Studio Projects\\WindowsFormsApplication1\\AudioLibrary\\AudioLibrary.obj  AudioLibrary\n</code></pre>\n\n<p>I've got Windows.h and objbase.h included, but I'm obviously missing some type of link reference.  I've tried both 'inherit from parent' and no inherit in the link options for the project.</p>\n\n<p>Been doing too much IOS/Android/OSX programming lately so I'm apparently pretty stale on Visual Studio stuff.  What am I missing to include CoInitializeEx?  I'm using Visual Studio 2013 Ultimate.  Thanks!</p>\n"}, {"tags": ["c++", "checksum"], "comments": [{"owner": {"reputation": 1778, "user_id": 856976, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s2TxB.jpg?s=128&g=1", "display_name": "tsnorri", "link": "https://stackoverflow.com/users/856976/tsnorri"}, "edited": false, "score": 0, "creation_date": 1433362144, "post_id": 30628709, "comment_id": 49325148, "body": "See <a href=\"http://en.wikipedia.org/wiki/Rolling_hash\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Rolling_hash</a>"}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1433377041, "post_id": 30628709, "comment_id": 49331420, "body": "You can just keep a separate uint32_t counter -- initialize it to zero, and then whenever you add an item to the set, calculate the item&#39;s checksum and add it to your counter; and whenever you remove an item from the set, calculate the item&#39;s checksum and subtract it from your counter.  (Caching each item&#39;s checksum so that you don&#39;t have to calculate it more than once is optional)"}], "answers": [{"comments": [{"owner": {"reputation": 7769, "user_id": 271599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de267f213b375efca5da07890e5efc25?s=128&d=identicon&r=PG", "display_name": "dromodel", "link": "https://stackoverflow.com/users/271599/dromodel"}, "edited": false, "score": 0, "creation_date": 1433360970, "post_id": 30629127, "comment_id": 49324444, "body": "I should have mentioned, the hash key needs to be 32-bits. How would you handle the incremental nature of the computation as well?"}], "tags": [], "owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "is_accepted": false, "score": 1, "last_activity_date": 1433361928, "last_edit_date": 1433361928, "creation_date": 1433360235, "answer_id": 30629127, "question_id": 30628709, "link": "https://stackoverflow.com/questions/30628709/what-are-some-checksum-implementations-that-allow-for-incremental-computation/30629127#30629127", "title": "What are some checksum implementations that allow for incremental computation?", "body": "<p>Simply store a dictionary of items in your set, and their corresponding hash value. The hash value of the set is the hash value of the concatenated, <strong>sorted</strong> hashes of the items. In Python:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code> hashes = '''dictionary of hashes in string representation'''\n # e.g.\n hashes = { item: hashlib.sha384(item) for item in items }\n\n sorted_hashes = sorted(hashes.values())\n concatenated_hashes = ''.join(sorted_hashes)\n hash_of_the_set = hashlib.sha384(concatenated_hashes)\n</code></pre>\n\n<p>As hash function I would use sha384, but you might want to try Keccak-384.</p>\n\n<hr>\n\n<p>Because there are (of course) no cryptographic hash functions with a lengths of only 32-bit, you have to use a checksum instead, like Adler-32 or CRC32. The idea remains the same. Best use Adler32 on the items and crc32 on the concatenated hashes:</p>\n\n<pre><code> hashes = { item: zlib.adler32(item) for item in items }\n\n sorted_hashes = sorted(hashes.values())\n concatenated_hashes = ''.join(sorted_hashes)\n hash_of_the_set = zlib.crc32(concatenated_hashes)\n</code></pre>\n\n<p>In C++ you can use <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1Adler32.html\" rel=\"nofollow\">Adler-32</a> and <a href=\"http://botan.randombit.net/doxygen/classBotan_1_1CRC32.html\" rel=\"nofollow\">CRC-32</a> of <a href=\"http://botan.randombit.net/\" rel=\"nofollow\">Botan</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 7769, "user_id": 271599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de267f213b375efca5da07890e5efc25?s=128&d=identicon&r=PG", "display_name": "dromodel", "link": "https://stackoverflow.com/users/271599/dromodel"}, "edited": false, "score": 0, "creation_date": 1433457100, "post_id": 30632891, "comment_id": 49373336, "body": "Interesting thought. How does one calculate CRC(A)? Can you create a 32-bit number from a 32-bit number? I&#39;d been doing option (1) until now but it has the disadvantage that most of the pointer values aren&#39;t random numbers but spread within a small range so (X+128) and (X-128) in one set has the same hash code as (X-16) and (X+16) if that makes sense."}, {"owner": {"reputation": 2705, "user_id": 1268551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7dPm.png?s=128&g=1", "display_name": "rabensky", "link": "https://stackoverflow.com/users/1268551/rabensky"}, "reply_to_user": {"reputation": 7769, "user_id": 271599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de267f213b375efca5da07890e5efc25?s=128&d=identicon&r=PG", "display_name": "dromodel", "link": "https://stackoverflow.com/users/271599/dromodel"}, "edited": false, "score": 1, "creation_date": 1433463435, "post_id": 30632891, "comment_id": 49375329, "body": "@balor123 It makes sense if you use <code>^</code> as your operation in (1) - as xoring similar values cancels out most of the bits. If you use <code>+</code> or <code>*</code> as your operation - it shouldn&#39;t be a problem (but you will have other problems). In (2) I&#39;m referring to any linear CRC (that uses a linear polynomial) - look at the wikipedia page for CRC. Option (2) is tricky to implement unless you&#39;re very familiar with linear algebra."}, {"owner": {"reputation": 2705, "user_id": 1268551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7dPm.png?s=128&g=1", "display_name": "rabensky", "link": "https://stackoverflow.com/users/1268551/rabensky"}, "reply_to_user": {"reputation": 7769, "user_id": 271599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de267f213b375efca5da07890e5efc25?s=128&d=identicon&r=PG", "display_name": "dromodel", "link": "https://stackoverflow.com/users/271599/dromodel"}, "edited": false, "score": 0, "creation_date": 1433463663, "post_id": 30632891, "comment_id": 49375383, "body": "@balor123 Also - I just noticed that I used <code>CRC</code> as a general name for &quot;checksum function&quot; - sorry about the confusion :) So when I wrote <code>CRC(a)</code> I wasn&#39;t referring to anything specific but rather &quot;whatever checksum function you want&quot;"}], "tags": [], "owner": {"reputation": 2705, "user_id": 1268551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B7dPm.png?s=128&g=1", "display_name": "rabensky", "link": "https://stackoverflow.com/users/1268551/rabensky"}, "is_accepted": false, "score": 1, "last_activity_date": 1433376502, "creation_date": 1433376502, "answer_id": 30632891, "question_id": 30628709, "link": "https://stackoverflow.com/questions/30628709/what-are-some-checksum-implementations-that-allow-for-incremental-computation/30632891#30632891", "title": "What are some checksum implementations that allow for incremental computation?", "body": "<p>A CRC is a set of bits that are calculated from an input. </p>\n\n<p>If your input is the same size (or less) as the CRC (in your case - 32 bits), you can find the input that created this CRC - in effect reversing it.</p>\n\n<p>If your input is larger than 32 bits, but you know all the input except for 32 bits, you can still reverse the CRC to find the missing bits.</p>\n\n<p>If, however, the unknown part of the input is larger than 32 bits, you can't find it as there is more than one solution.</p>\n\n<p>Why am I telling you this? Imagine you have the CRC of the set </p>\n\n<pre><code>{A,B,C}\n</code></pre>\n\n<p>Say you know what <code>B</code> is, and you can now calculate easily the CRC of the set</p>\n\n<pre><code>{A,C}\n</code></pre>\n\n<p>(by \"easily\" I mean - without going over the entire <code>A</code> and <code>C</code> inputs - like you wanted)</p>\n\n<p>Now you have 64 bits describing <code>A</code> and <code>C</code>! And since we didn't have to go over the entirety of <code>A</code> and <code>C</code> to do it - it means we can do it even if we're missing information about <code>A</code> and <code>C</code>. </p>\n\n<p>So it looks like IF such a method exists, we can magically fix more than 32 unknown bits from an input if we have the CRC of it.</p>\n\n<p>This obviously is wrong. Does that mean there's no way to do what you want? Of course not. But it does give us constraints on how it can be done:</p>\n\n<p><strong>Option 1:</strong> we don't gain more information from <code>CRC({A,C})</code> that we didn't have in <code>CRC({A,B,C})</code>. That means that the (relative) effect of <code>A</code> and <code>C</code> on the CRC doesn't change with the removal of <code>B</code>. Basically - it means that when calculating the CRC we use some \"order not important\" function when adding new elements:</p>\n\n<p>we can use, for example, <code>CRC({A,B,C}) = CRC(A) ^ CRC(B) ^ CRC(C)</code> (not very good, as if A appears twice it's the same CRC as if it never appeared at all), or <code>CRC({A,B,C}) = CRC(A) + CRC(B) + CRC(C)</code> or <code>CRC({A,B,C}) = CRC(A) * CRC(B) * CRC(C)</code> (make sure <code>CRC(X)</code> is odd, so it's actually just 31 bits of CRC) or <code>CRC({A,B,C}) = g^CRC(A) * g^CRC(B) * g^CRC(C)</code> (where <code>^</code> is power - useful if you want cryptographically secure) etc.</p>\n\n<p><strong>Option 2:</strong> we do need all of <code>A</code> and <code>C</code> to calculate <code>CRC({A,C})</code>, but we have a data structure that makes it less than linear in time to do so if we already calculated <code>CRC({A,B,C})</code>.</p>\n\n<p>This is useful if you want specifically CRC32, and don't mind remembering more information in addition to the CRC after the calculation (the CRC is still 32 bit, but you remember a data structure that's O(len(A,B,C)) that you will later use to calculate CRC{A,C} more efficiently)</p>\n\n<p>How will that work? Many CRCs are just the application of a polynomial on the input.</p>\n\n<p>Basically, if you divide the input into <code>n</code> chunks of 32 bit each - <code>X_1...X_n</code> - there is a matrix <code>M</code> such that </p>\n\n<pre><code>CRC(X_1...X_n) = M^n * X_1 + ... + M^1 * X_n\n</code></pre>\n\n<p>(where <code>^</code> here is power)</p>\n\n<p>How does that help? This sum can be calculated in a tree-like fashion: </p>\n\n<pre><code>CRC(X_1...X_n) = M^(n/2) * CRC(X_1...X_n/2) + CRC(X_(n/2+1)...X_n)\n</code></pre>\n\n<p>So you begin with all the <code>X_i</code> on the leaves of the tree, start by calculating the CRC of each consecutive pair, then combine them in pairs until you get the combined CRC of all your input.</p>\n\n<p>If you remember all the partial CRCs on the nodes, you can then easily remove (or add) an item anywhere in the list by doing just <code>O(log(n))</code> calculations!</p>\n\n<hr>\n\n<p>So there - as far as I can tell, those are your two options. I hope this wasn't too much of a mess :)</p>\n\n<p>I'd personally go with option 1, as it's just simpler... but the resulting CRC isn't standard, and is less... good. Less \"CRC\"-like.</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 7769, "user_id": 271599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/de267f213b375efca5da07890e5efc25?s=128&d=identicon&r=PG", "display_name": "dromodel", "link": "https://stackoverflow.com/users/271599/dromodel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1433376502, "creation_date": 1433358933, "last_edit_date": 1433359746, "question_id": 30628709, "link": "https://stackoverflow.com/questions/30628709/what-are-some-checksum-implementations-that-allow-for-incremental-computation", "title": "What are some checksum implementations that allow for incremental computation?", "body": "<p>In my program I have a set of sets that are stored in a proprietary hash table. Like all hash tables, I need two functions for each element. First, I need the hash value to use for insertion. Second, I need a compare function when there's conflicts. It occurs to me that a checksum function would be perfect for this. I could use the value in both functions. There's no shortage of checksum functions but I would like to know if there's any commonly available ones that I wouldn't need to bring in a library for (my company is a PIA when it comes to that).A system library would be ok.</p>\n\n<p>But I have an additional, more complicated requirement. I need for the checksum to be incrementally calculable. That is, if a set contains A B C D E F and I subtract D from the set, it should be able to return a new checksum value without iterating over all the elements in the set again. The reason for this is to prevent non-linearity in my code. Ideally, I'd like for the checksum to be order independent but I can sort them first if needed. Does such an algorithm exist?</p>\n"}, {"tags": ["c++", "qt", "cmake", "qt5", "qmake"], "comments": [{"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 1, "creation_date": 1433411152, "post_id": 30628593, "comment_id": 49345125, "body": "&quot;Can&#39;t get to work&quot; which errors do you get?"}, {"owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "reply_to_user": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 0, "creation_date": 1433432920, "post_id": 30628593, "comment_id": 49360482, "body": "&quot;Not a library&quot; on the load. I&#39;ve figured it out, will post a solution."}, {"owner": {"reputation": 8851, "user_id": 760746, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/19726c55cf8ab72ea01bbb2feee5a3f1?s=128&d=identicon&r=PG", "display_name": "Nobody moving away from SE", "link": "https://stackoverflow.com/users/760746/nobody-moving-away-from-se"}, "edited": false, "score": 0, "creation_date": 1510745830, "post_id": 30628593, "comment_id": 81562998, "body": "@DaveyLaser Seems to be a very complex solution when it is taking you years to post it. ;)"}, {"owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "reply_to_user": {"reputation": 8851, "user_id": 760746, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/19726c55cf8ab72ea01bbb2feee5a3f1?s=128&d=identicon&r=PG", "display_name": "Nobody moving away from SE", "link": "https://stackoverflow.com/users/760746/nobody-moving-away-from-se"}, "edited": false, "score": 0, "creation_date": 1510762582, "post_id": 30628593, "comment_id": 81575347, "body": "Wow @Nobody, haha! Thanks for pointing that out, I&#39;ll post a solution sometime in the next couple of years."}], "answers": [{"comments": [{"owner": {"reputation": 2669, "user_id": 1228771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SF8S5.png?s=128&g=1", "display_name": "Amfasis", "link": "https://stackoverflow.com/users/1228771/amfasis"}, "edited": false, "score": 1, "creation_date": 1576508498, "post_id": 47318274, "comment_id": 104912554, "body": "Thanks! I had all the code but was missing the MOC option. Checking the difference with <a href=\"https://linux.die.net/man/1/nm\" rel=\"nofollow noreferrer\">nm</a> revealed two added functions: <code>qt_plugin_instance</code> and <code>qt_plugin_query_metadata</code>"}], "tags": [], "owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "is_accepted": true, "score": 7, "last_activity_date": 1510784267, "creation_date": 1510784267, "answer_id": 47318274, "question_id": 30628593, "link": "https://stackoverflow.com/questions/30628593/using-cmake-with-qt5-and-qt-plugins/47318274#47318274", "title": "Using CMake with Qt5 and Qt Plugins", "body": "<p>Qt generates meta code for plugins, add the following to <code>CMakeLists.txt</code>:</p>\n\n<pre><code>set(CMAKE_AUTOMOC ON)\n</code></pre>\n\n<p>Here's a complete working example:</p>\n\n<p><strong>CMakeLists.txt</strong></p>\n\n<pre><code>project(test-plugin)\ncmake_minimum_required(VERSION 3.2.0)\n\nset(CMAKE_INCLUDE_CURRENT_DIR ON)\nset(CMAKE_AUTOMOC ON)\n\nfind_package(Qt5Widgets REQUIRED)\n\nset(COMPILE_OPTIONS -std=c++11)\n\nadd_library(test-plugin SHARED test-plugin.cpp)\ntarget_link_libraries(test-plugin PRIVATE Qt5::Widgets)\ntarget_compile_options(test-plugin PRIVATE ${COMPILE_OPTIONS})\n\nadd_executable(test-plugin-exec main.cpp)\ntarget_link_libraries(test-plugin-exec PRIVATE Qt5::Widgets)\ntarget_compile_options(test-plugin-exec PRIVATE ${COMPILE_OPTIONS})\n</code></pre>\n\n<p><strong>test-plugin-interface.hpp</strong></p>\n\n<pre><code>#ifndef TEST_PLUGIN_INTERFACE\n#define TEST_PLUGIN_INTERFACE\n#include &lt;QtPlugin&gt;\n\nclass TestPluginInterface\n{\npublic:\n    virtual ~TestPluginInterface() {}\n    virtual void doSomething() const = 0;\n};\n\n#define TestPluginInterface_iid \"whatever.you.want.TestPluginInterface\"\nQ_DECLARE_INTERFACE(TestPluginInterface, TestPluginInterface_iid)\n#endif // TEST_PLUGIN_INTERFACE\n</code></pre>\n\n<p><strong>test-plugin.hpp</strong></p>\n\n<pre><code>#ifndef TEST_PLUGIN_HPP\n#define TEST_PLUGIN_HPP\n#include &lt;QObject&gt;\n#include &lt;QtPlugin&gt;\n#include \"test-plugin-interface.hpp\"\n\nclass TestPlugin : public QObject, public TestPluginInterface\n{\n    Q_OBJECT\n    Q_PLUGIN_METADATA(IID TestPluginInterface_iid)\n    Q_INTERFACES(TestPluginInterface)\n\npublic:\n    ~TestPlugin() override {}\n    void doSomething() const override;\n};\n#endif // TEST_PLUGIN_HPP\n</code></pre>\n\n<p><strong>test-plugin.cpp</strong></p>\n\n<pre><code>#include &lt;QDebug&gt;\n#include \"test-plugin.hpp\"\n\nvoid TestPlugin::doSomething() const\n{\n    qDebug()&lt;&lt; \"hot dog!\";\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include &lt;assert.h&gt;\n#include &lt;QDebug&gt;\n#include &lt;QPluginLoader&gt;\n#include \"test-plugin.hpp\"\n\nconstexpr auto ABSOLUTE_PATH_TO_PLUGIN = \n    \"/path/to/build/libtest-plugin.so\";\n\nint main(int argc, char* argv[])\n{\n    assert(QLibrary::isLibrary(ABSOLUTE_PATH_TO_PLUGIN));\n    QPluginLoader loader(ABSOLUTE_PATH_TO_PLUGIN);\n    if (auto instance = loader.instance()) {\n        if (auto plugin = qobject_cast&lt; TestPluginInterface* &gt;(instance)){\n            plugin-&gt;doSomething();\n        }\n        else {\n            qDebug()&lt;&lt; \"qobject_cast&lt;&gt; returned nullptr\";\n        }\n    }\n    else {\n      qDebug()&lt;&lt; loader.errorString();\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4390, "favorite_count": 2, "accepted_answer_id": 47318274, "answer_count": 1, "score": 9, "last_activity_date": 1510784350, "creation_date": 1433358526, "last_edit_date": 1510784350, "question_id": 30628593, "link": "https://stackoverflow.com/questions/30628593/using-cmake-with-qt5-and-qt-plugins", "title": "Using CMake with Qt5 and Qt Plugins", "body": "<p>I'd like to avoid using <code>qmake</code> and <code>.pro</code> files. The problem is that I cannot get <code>cmake</code> to work nicely with <code>Qt Plugins</code>. I've included the code below showing the interface, plugin, loader that work correctly for the given <code>.pro</code> file but I cannot figure out how to transfer this functionality to <code>cmake</code>. </p>\n\n<h2>Plugin Interface</h2>\n\n<p>Pure virtual interface, known by the loader.</p>\n\n<pre><code>#include &lt;QtCore/qglobal.h&gt;\n\nclass HelloPluginInterface\n{\npublic:\n    virtual void DoSomething() const = 0;\n};\n\nQ_DECLARE_INTERFACE( HelloPluginInterface, \"com.harbrick.Qt.HelloPluginInterface\")\n</code></pre>\n\n<h2>Plugin</h2>\n\n<p>Plugin that becomes a <code>.so</code> to be loaded by the loader.</p>\n\n<pre><code>#include &lt;QtPlugin&gt;\n#include \"helloplugin_global.h\"\n\nclass HelloPlugin : public QObject, public HelloPluginInterface\n{\n    Q_OBJECT\n    Q_PLUGIN_METADATA( IID \"com.harbrick.Qt.HelloPluginInterface\" )\n    Q_INTERFACES( HelloPluginInterface )\n\npublic:\n    void DoSomething() const;\n};\n</code></pre>\n\n<h2>Plugin Loader</h2>\n\n<pre><code>void MainWindow::LoadPlugin( const QString&amp; pathToLibrary )\n{\n    QPluginLoader loader( pathToLibrary );\n    QObject* instance = loader.instance();\n\n    if( instance )\n    {\n        HelloPluginInterface *plugin = qobject_cast&lt; HelloPluginInterface* &gt;( instance );\n        if(plugin)\n        {\n            //do stuff\n            ...\n        }\n        else\n        {\n            qDebug() &lt;&lt; \"Not a plugin: \" &lt;&lt; Filename &lt;&lt; \" = \" &lt;&lt; loader.errorString();\n        }\n    }\n}\n</code></pre>\n\n<h2>CMakeLists.txt</h2>\n\n<p><strong>Can't get to work</strong></p>\n\n<pre><code>project( HelloPlugin )\ncmake_minimum_required( VERSION 2.8.11 )\n\nset( CMAKE_INCLUDE_CURRENT_DIR ON )\n\nfind_package(Qt5Widgets)\n\ninclude_directories( \n    ${CMAKE_CURRENT_SOURCE_DIR} \n)\n\nset( INCLUDE\n    cmakeplugin.h\n    cmakeplugininterface.h\n)\n\nset( SOURCES\n    cmakeplugin.cpp\n)\n\nadd_executable(${PROJECT_NAME} ${INCLUDE} ${SOURCES} ${SRC_LIST})\n\nadd_library( cmakePlugin SHARED cmakeplugin.cpp )\n</code></pre>\n\n<h2>QMake .pro</h2>\n\n<p><strong>Works</strong></p>\n\n<pre><code>QT       += widgets\n\nTARGET = HelloPlugin\nTEMPLATE = lib\n\nSOURCES += helloplugin.cpp\n\nHEADERS += helloplugin.h \\\n    helloplugin_global.h\n\nCONFIG += plugin debug\n\nINSTALLS += target\n</code></pre>\n"}, {"tags": ["c++", "c++11", "language-lawyer", "move-semantics", "rvalue-reference"], "comments": [{"owner": {"reputation": 31218, "user_id": 211160, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Z2fk7.png?s=128&g=1", "display_name": "HostileFork says dont trust SE", "link": "https://stackoverflow.com/users/211160/hostilefork-says-dont-trust-se"}, "edited": false, "score": 2, "creation_date": 1433357955, "post_id": 30628370, "comment_id": 49322739, "body": "You are being rapidly voted as &quot;too broad&quot;, but I don&#39;t think it should discourage your line of inquiry.  Maybe pick a couple of focused cases and ask something very specific about them?"}, {"owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "edited": false, "score": 2, "creation_date": 1433357972, "post_id": 30628370, "comment_id": 49322757, "body": "Measure. <a href=\"https://www.youtube.com/watch?v=BezbcQIuCsY\" rel=\"nofollow noreferrer\">Measure</a>. Measure."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1433358127, "post_id": 30628370, "comment_id": 49322853, "body": "It&#39;s not so much that that it makes things perform better, it&#39;s that it makes it much cleaner and easier to avoid needless allocate/copy/free cycles, resulting (we hope) in clearer code that&#39;s easier to understand and maintain. Take a look at some of the pre-C++11 monstrosities that people have constructed to get what move semantics give you naturally. For example, compare <code>auto_ptr</code> and <code>unique_ptr</code>."}, {"owner": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "edited": false, "score": 0, "creation_date": 1433358415, "post_id": 30628370, "comment_id": 49323041, "body": "The value of an rvalue reference is whatever you set it to, using the assignment operator of course."}, {"owner": {"reputation": 30038, "user_id": 16673, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2bd7c0e93b52c224e284d18ac34752b8?s=128&d=identicon&r=PG", "display_name": "Suma", "link": "https://stackoverflow.com/users/16673/suma"}, "edited": false, "score": 1, "creation_date": 1433362985, "post_id": 30628370, "comment_id": 49325663, "body": "What you suggest in the edit as an alternative universe is known as RVO, and is already implemented by most decent compilers."}], "answers": [{"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 3, "creation_date": 1433358255, "post_id": 30628506, "comment_id": 49322927, "body": "Plus one as usual. If I could afford you I&#39;d try to hire you!"}, {"owner": {"reputation": 31218, "user_id": 211160, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Z2fk7.png?s=128&g=1", "display_name": "HostileFork says dont trust SE", "link": "https://stackoverflow.com/users/211160/hostilefork-says-dont-trust-se"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1433358396, "post_id": 30628506, "comment_id": 49323029, "body": "@Bathsheba Why hire someone who&#39;ll solve your problems for free?  :-)"}, {"owner": {"reputation": 5185, "user_id": 2540407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70244e2142d529ec009d23422d404ba1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2540407/michael"}, "edited": false, "score": 0, "creation_date": 1433361520, "post_id": 30628506, "comment_id": 49324758, "body": "@Kerrek, could you explain why rvalue references are essential to your example? I get the value of unique_ptr, shared_ptr, and their make_; these are indeed dramatic improvements over new/delete. What I don&#39;t understand is why rvalue references are essential for that. Actually, give me 2 min, I&#39;ll add an alternative (completely fictitious) extension of C++03."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 5185, "user_id": 2540407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70244e2142d529ec009d23422d404ba1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2540407/michael"}, "edited": false, "score": 0, "creation_date": 1433362441, "post_id": 30628506, "comment_id": 49325334, "body": "@Michael: I don&#39;t quite follow. Is your question now why one language extension was chosen instead of another? I don&#39;t know, I wasn&#39;t there. Did you submit your design as a proposal? Only things that are proposed get accepted."}, {"owner": {"reputation": 5185, "user_id": 2540407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70244e2142d529ec009d23422d404ba1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2540407/michael"}, "edited": false, "score": 1, "creation_date": 1433363184, "post_id": 30628506, "comment_id": 49325775, "body": "@KerrekSB , disregard the edit; the question is: why rvalue references are essential in your example? Why cannot one implement make_unique without them?"}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 7, "last_activity_date": 1433358512, "last_edit_date": 1433358512, "creation_date": 1433358205, "answer_id": 30628506, "question_id": 30628370, "link": "https://stackoverflow.com/questions/30628370/whats-the-value-of-rvalues/30628506#30628506", "title": "What&#39;s the value of rvalues?", "body": "<p>The value of rvalue references does not not primarily lie in performance. Much rather, it lies in <em>expressiveness</em>. Without rvalue references, you cannot encode ownership in the type system in a useful way. Thanks to transfer of ownership that rvalue references allow, we can now write fully subexpression-wise correct code that has no non-local dependencies.</p>\n\n<p>For example, pre-C++11:</p>\n\n<pre><code>int * p = new int[N];    // may be a bug, who knows?\n\n                         // ... keep paying attention...\n\ndelete p;                // ah, no bug... or is it?\n</code></pre>\n\n<p>With rvalues:</p>\n\n<pre><code>auto p = std::make_unique&lt;int[]&gt;(N);   // fine\n</code></pre>\n\n<p>Note that no single <em>subexpression</em> of the modern example is itself ever the root cause of a resource bug. The same approach can be applied to a myriad of resource/handle pairs: memory/pointer, file/handle, mutex/lock, task/continuation, etc.</p>\n\n<p>(If you think of resource acquisition and release as two opposite poles, then modern C++ should be written like a magnet: the two are always together as part of one entity.)</p>\n\n<p>Allowing the type system to completely guarantee locality of correctness is a dramatic improvement of the language.</p>\n"}], "owner": {"reputation": 5185, "user_id": 2540407, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/70244e2142d529ec009d23422d404ba1?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2540407/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "closed_date": 1433358609, "answer_count": 1, "score": 1, "last_activity_date": 1433362276, "creation_date": 1433357693, "last_edit_date": 1433362276, "question_id": 30628370, "link": "https://stackoverflow.com/questions/30628370/whats-the-value-of-rvalues", "closed_reason": "Duplicate", "title": "What&#39;s the value of rvalues?", "body": "<p>That is, how much performance improvement one typically gets in an otherwise well-designed C++03 code when one takes advantage of C++11 typename &amp;&amp; features such as move constructors, etc.? How often it's worth the trouble, and in what circumstances?</p>\n\n<p>EDIT:</p>\n\n<p>Imagine an alternative universe where instead of rvalue references C++11 extended C++03 with a keyword \"returning\" that marks a local variable that would get returned by a function. If a local variable is marked as \"returning\" it's placed in the portion of the stack where the return value would usually reside. Imagine you could use that keyword like this:</p>\n\n<pre><code>SomeClass foo()\n{\n    returning SomeClass bar; // Created where return value usually resides.\n    // do something with bar\n    return bar; // No copy constructor is involved here.\n}\n</code></pre>\n\n<p>I think such mechanism would enable creation of make_unique and such just as well as rvalue references do, and would cause much less confusion and potential pitfalls. Rule of three would remain rule of three instead of becoming rule of five; there would be no confusion of whether &amp;&amp; if rvalue ref or universal ref; there would be no need for std::move etc.</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["c++", "printing", "while-loop"], "comments": [{"owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "edited": false, "score": 1, "creation_date": 1433357512, "post_id": 30628209, "comment_id": 49322478, "body": "Put the code that&#39;s supposed to repeat in curly braces. Your while loop only assumes the first line after <code>while (conti)</code>  is supposed to repeat, since you didn&#39;t tell it any different."}, {"owner": {"reputation": 110, "user_id": 4106585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf58aca0c136cd6791697ddecab93116?s=128&d=identicon&r=PG&f=1", "display_name": "alex436", "link": "https://stackoverflow.com/users/4106585/alex436"}, "edited": false, "score": 0, "creation_date": 1433398708, "post_id": 30628209, "comment_id": 49337503, "body": "these downvotes are a bit unfaire. The OP said its his first program. be nice guys...remeber how you started.."}], "answers": [{"tags": [], "owner": {"reputation": 1147, "user_id": 4672156, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/fmHEN.jpg?s=128&g=1", "display_name": "Fuad", "link": "https://stackoverflow.com/users/4672156/fuad"}, "is_accepted": false, "score": 2, "last_activity_date": 1433357537, "creation_date": 1433357537, "answer_id": 30628323, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line/30628323#30628323", "title": "While loop keeps printing out and not reading the next line", "body": "<p>you need braces for the while loop, or it will execute just that single statement forever. </p>\n"}, {"tags": [], "owner": {"reputation": 110, "user_id": 4106585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf58aca0c136cd6791697ddecab93116?s=128&d=identicon&r=PG&f=1", "display_name": "alex436", "link": "https://stackoverflow.com/users/4106585/alex436"}, "is_accepted": true, "score": 2, "last_activity_date": 1433397581, "last_edit_date": 1433397581, "creation_date": 1433357595, "answer_id": 30628342, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line/30628342#30628342", "title": "While loop keeps printing out and not reading the next line", "body": "<p>You need to use <code>brackets</code></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main()\n{\n\n    string userName;\n    cout &lt;&lt; \"Hello there.\\n\";\n    cout &lt;&lt; \"My name is TARS. \\n\";\n    cout &lt;&lt; \"What is your name? \\n\";\n    getline(std::cin, userName);\n    cout &lt;&lt; userName &lt;&lt; \", let's play a game.\\n\";\n    int secretNum;\n    secretNum = rand() % 20 + 1;\n    cout &lt;&lt; \"I'm thinking of a number between 1-20.\\n\";\n    int Guess;\n    bool conti = true;\n\n    while (conti)\n    {\n\n         cout &lt;&lt; \"Guess what it is. \\n\";\n         cin &gt;&gt; Guess;\n\n         if (Guess == secretNum)\n         {\n             cout &lt;&lt; \"You read my mind!\";\n             conti = false;\n         }\n\n         if (Guess &lt; secretNum)\n         {\n             cout &lt;&lt; \"That is too low.\";\n         }\n\n         if (Guess &gt; secretNum)\n         {\n             cout &lt;&lt; \"That is too high.\";\n         }\n\n    }\n\n    return 0;\n\n}\n</code></pre>\n\n<p>By default if you don't use them only the next line will be considered part of the while loop\nin your case:</p>\n\n<pre><code>while (conti)\n    cout &lt;&lt; \"Guess what it is. \\n\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1433357650, "creation_date": 1433357650, "answer_id": 30628359, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line/30628359#30628359", "title": "While loop keeps printing out and not reading the next line", "body": "<pre><code>while (conti)\ncout &lt;&lt; \"Guess what it is. \\n\";\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>while (conti)\n{\n   cout &lt;&lt; \"Guess what it is. \\n\";\n}\n</code></pre>\n\n<p>i.e. the loop ends there. What you need is provide the opening and closing braces for the loop at the right place.</p>\n\n<pre><code>while (conti)\n{\n   cout &lt;&lt; \"Guess what it is. \\n\";\n   cin &gt;&gt; Guess;\n   if (Guess == secretNum)\n   {\n       cout &lt;&lt; \"You read my mind!\";\n       conti = false;\n   }\n   if (Guess &lt; secretNum)\n   {\n       cout &lt;&lt; \"That is too low.\";\n   }\n   if (Guess &gt; secretNum)\n   {\n       cout &lt;&lt; \"That is too high.\";\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3457, "user_id": 4897144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9772adabbde494edcd403e4f2d349a7c?s=128&d=identicon&r=PG&f=1", "display_name": "shruti1810", "link": "https://stackoverflow.com/users/4897144/shruti1810"}, "is_accepted": false, "score": 1, "last_activity_date": 1433397844, "last_edit_date": 1433397844, "creation_date": 1433357686, "answer_id": 30628368, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line/30628368#30628368", "title": "While loop keeps printing out and not reading the next line", "body": "<p>You have <code>missed the braces</code> for while loop. You may try this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main()\n{\n\n    string userName;\n\n    cout &lt;&lt; \"Hello there.\\n\";\n    cout &lt;&lt; \"My name is TARS. \\n\";\n    cout &lt;&lt; \"What is your name? \\n\";\n    getline(std::cin, userName);\n    cout &lt;&lt; userName &lt;&lt; \", let's play a game.\\n\";\n\n    int secretNum;\n    secretNum = rand() % 20 + 1;\n\n    cout &lt;&lt; \"I'm thinking of a number between 1-20.\\n\";\n\n    int Guess;\n    bool conti = true;\n\n    while (conti){\n\n        cout &lt;&lt; \"Guess what it is. \\n\";\n        cin &gt;&gt; Guess;\n\n        if (Guess == secretNum)\n        {\n            cout &lt;&lt; \"You read my mind!\";\n            conti = false;\n        }\n\n        if (Guess &lt; secretNum)\n        {\n            cout &lt;&lt; \"That is too low.\";\n        }\n\n        if (Guess &gt; secretNum)\n        {\n            cout &lt;&lt; \"That is too high.\";\n        }\n\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 168, "user_id": 2064089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0519993a57f5f19451440f9949747f0?s=128&d=identicon&r=PG", "display_name": "Christian Blume", "link": "https://stackoverflow.com/users/2064089/christian-blume"}, "is_accepted": false, "score": 1, "last_activity_date": 1433400756, "last_edit_date": 1433400756, "creation_date": 1433358660, "answer_id": 30628635, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line/30628635#30628635", "title": "While loop keeps printing out and not reading the next line", "body": "<p>You're missing two <code>curly braces</code> to widen the scope of your while-loop. Note that without curly braces the scope of any loop in C++ will stop at the first semicolon. Here's a working solution:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nint main()\n{\n\n      string userName;\n\n      cout &lt;&lt; \"Hello there.\\n\";\n      cout &lt;&lt; \"My name is TARS. \\n\";\n      cout &lt;&lt; \"What is your name? \\n\";\n      getline(std::cin, userName);\n\n      cout &lt;&lt; userName &lt;&lt; \", let's play a game.\\n\";\n\n      int secretNum;\n      secretNum = rand() % 20 + 1;\n\n      cout &lt;&lt; \"I'm thinking of a number between 1-20.\\n\";\n\n      int Guess;\n      bool conti = true;\n\n      while (conti) \n      {  // &lt;-- This curly brace was missing\n\n          cout &lt;&lt; \"Guess what it is. \\n\";\n          cin &gt;&gt; Guess;\n\n          if (Guess == secretNum)\n          {\n              cout &lt;&lt; \"You read my mind!\";\n              conti = false;\n          }\n\n          if (Guess &lt; secretNum)\n          {\n              cout &lt;&lt; \"That is too low.\";\n          }\n\n          if (Guess &gt; secretNum)\n          {\n            cout &lt;&lt; \"That is too high.\";\n          }\n\n\n      } // &lt;-- This curly brace was also missing\n\n      return 0;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4668041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9f929d2e629ca27d6497b403ff04e4d?s=128&d=identicon&r=PG&f=1", "display_name": "user8852", "link": "https://stackoverflow.com/users/4668041/user8852"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 676, "favorite_count": 0, "accepted_answer_id": 30628342, "answer_count": 5, "score": -4, "last_activity_date": 1433400756, "creation_date": 1433357180, "last_edit_date": 1433394529, "question_id": 30628209, "link": "https://stackoverflow.com/questions/30628209/while-loop-keeps-printing-out-and-not-reading-the-next-line", "title": "While loop keeps printing out and not reading the next line", "body": "<p>This is my first simple program. It keeps printing out <code>Guess what it is.</code> non-stop and doesn't even ask for user input. (the next line of code.)\nWhat is my mistake?</p>\n\n<pre><code> #include &lt;iostream&gt;\n #include &lt;string&gt;\n using namespace std;\n\nint main()\n{\n    string userName;\n    cout &lt;&lt; \"Hello there.\\n\";\n    cout &lt;&lt; \"My name is TARS. \\n\";\n    cout &lt;&lt; \"What is your name? \\n\";\n    getline(std::cin, userName);\n    cout &lt;&lt; userName &lt;&lt; \", let's play a game.\\n\";\n    int secretNum;\n    secretNum = rand() % 20 + 1;\n    cout &lt;&lt; \"I'm thinking of a number between 1-20.\\n\";\n    int Guess;\n    bool conti = true;\n\n    while (conti)\n\n        cout &lt;&lt; \"Guess what it is. \\n\";\n        cin &gt;&gt; Guess;   \n\n        if (Guess == secretNum)\n        {\n            cout &lt;&lt; \"You read my mind!\";\n            conti = false;\n        }\n        if (Guess &lt; secretNum)\n        {\n            cout &lt;&lt; \"That is too low.\";\n        }\n        if (Guess &gt; secretNum)\n        {\n            cout &lt;&lt; \"That is too high.\";\n        }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "overloading", "operator-keyword"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433367276, "post_id": 30628107, "comment_id": 49327908, "body": "Write up a <a href=\"http://stackoverflow.com/help/mcve\">concise sample</a> to clarify what you&#39;r actually asking for please! I&#39;ve already been exhausting my close votes on this question as mentioned, but unless you show this in your question, it&#39;s keeping being either <i>too broad</i>, or actually <i>opinion based</i>."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433367491, "post_id": 30628107, "comment_id": 49328006, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, My intent was to obtain advice as to how the canonical forrm(s) of the stream extraction operator (&gt;&gt;) handle eof conditions that either exist on entry or occur while extraction is being done. A number of folks (including you) have been very helpful in addressing this question."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433367621, "post_id": 30628107, "comment_id": 49328062, "body": "There&#39;s no <i>canonical forms</i>, but <b><i>use cases</i></b> you have for your custom overloads. Sorry c++ doesn&#39;t provide a <i>cooking recipe</i>, but flexibilty."}], "answers": [{"comments": [{"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 3, "creation_date": 1433359352, "post_id": 30628567, "comment_id": 49323568, "body": "An overloaded extraction operator is not necessarily just an aggregate of extractions of simpler members. It may need to do some custom validation. And if that validation fails, the fail bit should be set on the stream."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1433359669, "post_id": 30628567, "comment_id": 49323732, "body": "@BenjaminLindley Well, the OP should clarify more about what they&#39;re actually doing then. I&#39;ve already started out close voting that question as <i>primarily opinion based</i> (retracted later). OP just talks about handling <code>eof()</code> state, in this case it&#39;s certainly not necessary to manipulate the input stream state. Custom validation on an operational <code>std::istream</code>, is a valid reason to manipulate the stream state from the overloaded operator. Having <code>eof()</code> state, isn&#39;t."}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1433360074, "post_id": 30628567, "comment_id": 49323947, "body": "I was really just responding to one specific point in your answer, <i>&quot;you&#39;re not supposed to manage stream states in overloaded extraction operators, it will be done correctly with the sub extraction operations that the overloaded operator uses.&quot;</i> -- That is, imo, as per my earlier comment, wrong. Irrespective of whatever the OP is doing."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433366094, "post_id": 30628567, "comment_id": 49327328, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, Why would a user need to check for eof before and after using a C++ input stream extraction operator (&gt;&gt;)? Because otherwise, the user will have no way of telling if the eof state existed before the &gt;&gt; operator was used or if the eof state occurred as a consequence of obtaining a value (quite possibly valid) from the input stream using the &gt;&gt; operator."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433366664, "post_id": 30628567, "comment_id": 49327604, "body": "@PeterSchaeffer Does that really matter for a user, why extraction actually failed? If it was because of <code>eof</code>, or actually an extraction failure when parsing the stream? The stream goes to <code>fail</code> state in either way, unless you want to do extra validation on successfully parsed fields from the standard extraction operators."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433366999, "post_id": 30628567, "comment_id": 49327769, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, It certainly could matter to a user, why extraction failed. For example, bad input (causing an extraction failure) is typically handled quite differently, than simply reaching the end of the input stream. My original concern was how to tell the difference between an eof condition that existed before an extraction operator (&gt;&gt;) was used, versus an eof condition that occurred as a consequence of an extraction operator (&gt;&gt;). The only way I could see to do this (tell the difference between the two cases) was to test for eof before the extraction."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433367205, "post_id": 30628567, "comment_id": 49327869, "body": "@PeterSchaeffer <i>My original concern was how to tell the difference between an eof ...</i> <code>eof()</code> just keeps to be true for such case, there&#39;s no specific need to set <code>fail()</code> state additionally."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433367275, "post_id": 30628567, "comment_id": 49327907, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, QuestionC suggests that this question be resolved in a different way. If eof is set before an extraction (using &gt;&gt;), then a failure flag should be set. This could be done manually (setstate(std::ios_base::failbit)) or implicitly by using the extraction operator (&gt;&gt;) with a std::string. Since my code uses &gt;&gt; to obtain a std::string before attempting validation, this makes considerable sense."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433367905, "post_id": 30628567, "comment_id": 49328174, "body": "@PeterSchaeffer <i>&quot; QuestionC suggests ...&quot;</i> They&#39;re most probably wrong. Even if this is seemingly your way, you want to go about this."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433368879, "post_id": 30628567, "comment_id": 49328619, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6, &quot;Each of the extractions will set the fields to their default constructed values&quot;. That&#39;s interesting. The code sample provided by QuestionC seems to show that fields are left unchanged in failure cases."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433370600, "post_id": 30628567, "comment_id": 49329326, "body": "@PeterSchaeffer Sorry, yes they&#39;re left with their original state. I&#39;m going to fix this. Doesn&#39;t have a big impact about the real points of your question here."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1433370717, "last_edit_date": 1433370717, "creation_date": 1433358425, "answer_id": 30628567, "question_id": 30628107, "link": "https://stackoverflow.com/questions/30628107/c-stream-extraction-operator-overloading/30628567#30628567", "title": "C++ stream extraction operator overloading", "body": "<blockquote>\n  <p><em>\"If the second approach is used, it implies that the caller <strong>must always check the eof flag</strong> before any attempt is made to invoke the >> operator.\"</em></p>\n</blockquote>\n\n<p>No, why do you think they need to do so?</p>\n\n<blockquote>\n  <p><em>\"Should a user-written extraction operator (>>) set the failure flag (because no instance of the desired object can be found) or should it just return to the caller with the eof flag still set.\"</em></p>\n</blockquote>\n\n<p>The latter option of course, you're not supposed to manage stream states in overloaded extraction operators, unless you add your own validation rules (e.g. for expecting specific character patterns with the <code>std::string</code> field). It will usually be done correctly with the sub extraction operations that the overloaded operator uses.</p>\n\n<p>Supposed you have something like follows:</p>\n\n<pre><code>struct MyType {\n    std::string field1;\n    int field2;\n    double field3;\n}\n\nstd::istream&amp; operator&gt;&gt;(std::istream&amp; is, MyType&amp; myinstance) {\n      is &gt;&gt; field1;\n      is &gt;&gt; field2;\n      is &gt;&gt; field3;\n      return is;\n}\n</code></pre>\n\n<p>Each of the extractions will set the fields to their default constructed values, in case the <code>operator&gt;&gt;()</code> fails, because the stream is in <code>eof()</code> state, and the value will be left in it's original state for the field that was attempted to extract.</p>\n\n<p>I actually don't see a need to have any additional check for <code>eof()</code> or setting the stream to <code>fail()</code> state in your overloaded input operator.</p>\n\n<p>The client (caller) will simply use something like e.g.</p>\n\n<pre><code> std::ifstream input(\"MyFile.txt\");\n std::vector&lt;MyType&gt; allObjects;\n MyType curObject;\n while(input &gt;&gt; curObject) {\n      allObjects.push_back(curObject);\n }\n</code></pre>\n\n<p>You see, no need to check for <code>input.eof()</code> anywhere.</p>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1433367714, "post_id": 30629486, "comment_id": 49328100, "body": "Where&#39;s the overloaded extraction operator?? Your answer doesn&#39;t make any sense for me."}, {"owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "edited": false, "score": 0, "creation_date": 1433434494, "post_id": 30629486, "comment_id": 49361499, "body": "QuestionC your code example and comments provided the insights I was missing in my attempts to implement a stream extraction operator.  \u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 your efforts in this matter are to be commended even if I don&#39;t entirely agree."}], "tags": [], "owner": {"reputation": 9718, "user_id": 3294441, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/UwdVL.png?s=128&g=1", "display_name": "QuestionC", "link": "https://stackoverflow.com/users/3294441/questionc"}, "is_accepted": true, "score": 2, "last_activity_date": 1433362677, "last_edit_date": 1433362677, "creation_date": 1433361456, "answer_id": 30629486, "question_id": 30628107, "link": "https://stackoverflow.com/questions/30628107/c-stream-extraction-operator-overloading/30629486#30629486", "title": "C++ stream extraction operator overloading", "body": "<p>You should implement solution 1.</p>\n\n<p>When in doubt, just look at what's already being done.  As you can see below, the fail bit is being set if we try to read from a stream in EOF state.</p>\n\n<p>Note that EOF is not the only way to fail though.  Try setting <code>std::string vals = \"52 43 A\";</code> in the code below.</p>\n\n<p><code>failbit</code> should be set if <strong>for any reason</strong>, <code>operator&gt;&gt;</code> doesn't actually stream a value.  EOF is just one of those reasons.</p>\n\n<pre><code>#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nvoid print_stream (std::istream &amp; print_me, int const &amp; i)\n{\n  std::cout &lt;&lt; \"i: \" &lt;&lt; i &lt;&lt; \"\\n\";\n  std::ios_base::iostate bits = print_me.rdstate();\n\n  std::cout &lt;&lt; \"good: \" &lt;&lt; (bits &amp; std::ios_base::goodbit) &lt;&lt; \n    \", bad: \" &lt;&lt; (bits &amp; std::ios_base::badbit) &lt;&lt; \n    \", fail: \" &lt;&lt; (bits &amp; std::ios_base::failbit) &lt;&lt;\n    \", eof: \" &lt;&lt; (bits &amp; std::ios_base::eofbit) &lt;&lt; \"\\n\";\n\n  std::cout &lt;&lt; \"\\n----------------------------\\n\\n\";\n}\n\nint main (void)\n{\n  std::string vals = \"52 43\";\n  std::istringstream iss(vals);\n  int i;\n\n  iss &gt;&gt; i;\n  print_stream (iss, i);\n  iss &gt;&gt; i;\n  print_stream (iss, i);\n  iss &gt;&gt; i;\n  print_stream (iss, i);\n  iss &gt;&gt; i;\n  print_stream (iss, i);\n\n  return 0;\n}\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>$ ./a.exe\ni: 52\ngood: 0, bad: 0, fail: 0, eof: 0\n\n----------------------------\n\ni: 43\ngood: 0, bad: 0, fail: 0, eof: 2\n\n----------------------------\n\ni: 43\ngood: 0, bad: 0, fail: 4, eof: 2\n\n----------------------------\n\ni: 43\ngood: 0, bad: 0, fail: 4, eof: 2\n\n----------------------------\n</code></pre>\n\n<hr>\n\n<p>Note that the typical read pattern loop is some variation of...</p>\n\n<pre><code>while (input &gt;&gt; var &gt;&gt; var2 &gt;&gt; var3)\n{\n  // failbit is not set.  All reads succeeded.\n  // Do Stuff\n}\n</code></pre>\n\n<p>If you need to detect whether the fail happened at some point during reading of multiple values then yea, you need to be a little more sophisticated and do some testing like...</p>\n\n<pre><code>while (true)\n{\n  if (input &gt;&gt; var)\n  {\n    // We successfully read first value\n    if (input &gt;&gt; var2 &gt;&gt; var3)\n    {\n      // We succesfully read all the values!\n      // Do stuff\n    }\n    else\n    {\n      ErrorLog (\"Partial line read!\");\n      break;\n    }\n  else\n  {\n    // Nothing else to read\n    break;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 2907920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/582d7c7279d5e514d92fd234f3483390?s=128&d=identicon&r=PG&f=1", "display_name": "Peter Schaeffer", "link": "https://stackoverflow.com/users/2907920/peter-schaeffer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1761, "favorite_count": 0, "accepted_answer_id": 30629486, "answer_count": 2, "score": 2, "last_activity_date": 1433370717, "creation_date": 1433356852, "last_edit_date": 1433368104, "question_id": 30628107, "link": "https://stackoverflow.com/questions/30628107/c-stream-extraction-operator-overloading", "title": "C++ stream extraction operator overloading", "body": "<p>This is a question as to the philosophy (canonical design) of user-written C++ input stream extraction operators (>>). </p>\n\n<p>Assume that on entry to the >> operator implementation (for a user-written class), the eof flag is already set for the input stream. </p>\n\n<p>Should a user-written extraction operator (>>) </p>\n\n<ol>\n<li>set the failure flag (because no instance of the desired object can be found) </li>\n<li>should it just return to the caller with the eof flag still set. </li>\n</ol>\n\n<p>If the second approach is used, it implies that the caller must always check the eof flag before any attempt is made to invoke the >> operator. The reason is that the >> operator might successfully extract an instance of the desired class and set the eof flag. </p>\n\n<p>The original code follows. Based on the comments below, this code appears to be wrong. If eof is already set on input, the extraction operator will simply return with eof still set. It appears that if eof is set, but bad and fail are not set, then an extraction of a string should be done to set the fail bit. Of course, the fail bit can be set directly. </p>\n\n<pre><code>/* Implement the C/C++ &gt;&gt; (stream input) operator as a non-member \n   function */\nstd::istream &amp;operator&gt;&gt;(std::istream&amp; is, DecNumber &amp;val) {\n  DecContext  context{DecContext::defInit};\n  uint32_t    status;\n  /* The true value below prevents whitespace from being skipped */\n  std::istream::sentry  s(is, true);\n  std::string           inStr;\n  /* Check if the input stream is in a good state. Just return to the\n     caller if the input stremm is not in a good state. The caller\n     must handle this condition. */\n  if(!s) \n    return is; \n  /* Get a string from the input stream. This string is converted to \n     a DecNumber below. Just return to the caller if this step causes\n     any stream related errors. Note that reaching the end of the \n     input is not a stream related error here. A decimal number might\n     be the absolute last thing in the stream. */\n  is &gt;&gt; inStr;\n  if (is.bad() || is.fail())\n    return is;\n  /* Try to convert the string to a DecNumber using the default context\n     value */\n  decNumberFromString(val.getDecVal(), inStr.c_str(), context.getDecCont());\n  status = context.DecContextGetStatus();\n  /* Remove a few status bits we don't care about */\n  status &amp;= ~(DEC_Inexact + DEC_Rounded);\n  if (status)\n    is.setstate(std::ios_base::failbit); \n  return is;\n}\n</code></pre>\n"}, {"tags": ["c++", "haxe", "flashdevelop", "haxeflixel"], "answers": [{"comments": [{"owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "edited": false, "score": 0, "creation_date": 1433396146, "post_id": 30629164, "comment_id": 49336366, "body": "Thanx for your time. This is a part of a generic XML Parser (Utility Class) I&#39;ve made for myself, that is safely parsing misc types of xml data, where the structure model is loose. E.g, it should handle a missing optional child, returning null instead of crashing (Fast would crash). The getNodeNamed is supposed to return null if the child is not there, and in this case it does, that&#39;s why I&#39;ve put it in a try-catch, I think that the XML is irrelevant. The main issue in this question, is why a NullPointer in <code>_node.x.iterator();</code> breaks the try-catch block"}, {"owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "edited": false, "score": 0, "creation_date": 1433397144, "post_id": 30629164, "comment_id": 49336759, "body": "What I&#39;m trying to explain is that the code is irrelevant since I&#39;ve narroewd down the exact line where the code is crashing. I&#39;ve provided some documentation for the function, to help you understand how the &#39;big-ass-try&#39; works, but honestly I don&#39;t think that the function&#39;s logic is the issue here."}], "tags": [], "owner": {"reputation": 7835, "user_id": 508029, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7c58d7270127a933ea4ca10026a46e5?s=128&d=identicon&r=PG", "display_name": "Mark Knol", "link": "https://stackoverflow.com/users/508029/mark-knol"}, "is_accepted": false, "score": 0, "last_activity_date": 1433360357, "creation_date": 1433360357, "answer_id": 30629164, "question_id": 30628025, "link": "https://stackoverflow.com/questions/30628025/why-is-this-haxe-try-catch-block-still-crashing-when-using-release-mode-for-c/30629164#30629164", "title": "Why is this Haxe try-catch block still crashing, when using Release mode for C++ target", "body": "<p>That seems odd, some questions that may help solving it.</p>\n\n<ul>\n<li>It looks like you are doing quite some assumptions on how the xml looks (doing some manual <code>it.next()</code>), why is that?</li>\n<li>Why are you using this big-ass try-catch block? </li>\n<li>How does getNodeNamed look, it seems it <em>can</em> return <code>null</code>.</li>\n<li>Do you have an example xml to test with?</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1433432326, "post_id": 30648177, "comment_id": 49360088, "body": "More precisely, it doesn&#39;t have null pointer dereference exceptions at all. However, on Windows you can <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms681409%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">catch system signals as exceptions</a>. Whether this is a good idea is left to the reader&#39;s discretion (hint : no.)"}], "tags": [], "owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "is_accepted": false, "score": 2, "last_activity_date": 1433432106, "last_edit_date": 1495539917, "creation_date": 1433432106, "answer_id": 30648177, "question_id": 30628025, "link": "https://stackoverflow.com/questions/30628025/why-is-this-haxe-try-catch-block-still-crashing-when-using-release-mode-for-c/30648177#30648177", "title": "Why is this Haxe try-catch block still crashing, when using Release mode for C++ target", "body": "<p>I guess this boils down to how C++ handles null-pointer Exceptions. It doesn't!</p>\n\n<p>More info <a href=\"https://stackoverflow.com/a/1823749/879368\">here</a> or <a href=\"https://stackoverflow.com/a/14139326/879368\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "edited": false, "score": 0, "creation_date": 1433519580, "post_id": 30657578, "comment_id": 49403690, "body": "I didn&#39;t try the crashdumper, but the haxedefs worked for me just fine, I think this is the way to work with Haxe: It will still crash with a nullPointer Exception, but it provides the stack to track the Exception. Thanx again!"}, {"owner": {"reputation": 935, "user_id": 486704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87b66ea78d6c6a3d855cffdffbf72ab7?s=128&d=identicon&r=PG", "display_name": "larsiusprime", "link": "https://stackoverflow.com/users/486704/larsiusprime"}, "reply_to_user": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "edited": false, "score": 0, "creation_date": 1433775364, "post_id": 30657578, "comment_id": 49482427, "body": "Thanks! Did you ever find the final cause of the crash?"}, {"owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "edited": false, "score": 0, "creation_date": 1433779752, "post_id": 30657578, "comment_id": 49485602, "body": "Sure, check my answer. C++ cannot dereference null-pointer Exceptions, leading to app Crash. I still don&#39;t know why it happens on release mode, and not in debug. Tracing down the null pointer exceptions, and putting null checks before accessing null Fast nodes, I solved my crashes"}], "tags": [], "owner": {"reputation": 935, "user_id": 486704, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/87b66ea78d6c6a3d855cffdffbf72ab7?s=128&d=identicon&r=PG", "display_name": "larsiusprime", "link": "https://stackoverflow.com/users/486704/larsiusprime"}, "is_accepted": true, "score": 3, "last_activity_date": 1433472477, "creation_date": 1433472477, "answer_id": 30657578, "question_id": 30628025, "link": "https://stackoverflow.com/questions/30628025/why-is-this-haxe-try-catch-block-still-crashing-when-using-release-mode-for-c/30657578#30657578", "title": "Why is this Haxe try-catch block still crashing, when using Release mode for C++ target", "body": "<p>What haxedefs do you have defined? </p>\n\n<p>Adding these to your project.xml might help:</p>\n\n<pre><code>&lt;haxedef name=\"HXCPP_CHECK_POINTER\"/&gt;  &lt;!--makes null references cause errors--&gt;\n&lt;haxedef name=\"HXCPP_STACK_LINE\" /&gt;    &lt;!--if you want line numbers--&gt;\n&lt;haxedef name=\"HXCPP_STACK_TRACE\"/&gt;    &lt;!--if you want stack traces--&gt;\n</code></pre>\n\n<p>You might also try the crashdumper library:\n<a href=\"https://github.com/larsiusprime/crashdumper\" rel=\"nofollow\">https://github.com/larsiusprime/crashdumper</a></p>\n\n<p>(Crashdumper will turn on HXCPP_CHECK_POINTER by default as part of it's include.xml, and will set up hooks for both hxcpp's errors and openfl/lime's uncaught error events)</p>\n"}], "owner": {"reputation": 2903, "user_id": 879368, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zrbsd.jpg?s=128&g=1", "display_name": "yannicuLar", "link": "https://stackoverflow.com/users/879368/yannicular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 30657578, "answer_count": 3, "score": 3, "last_activity_date": 1433472477, "creation_date": 1433356605, "last_edit_date": 1433431457, "question_id": 30628025, "link": "https://stackoverflow.com/questions/30628025/why-is-this-haxe-try-catch-block-still-crashing-when-using-release-mode-for-c", "title": "Why is this Haxe try-catch block still crashing, when using Release mode for C++ target", "body": "<p>I have a HaxeFlixel project, that is working OK in Debug mode for misc targets, including flash, neko and windows. But Targeting <strong>Windows</strong> in <strong>Release mode</strong>, I'm having an unexpected crash, and surprisingly it's happening inside a try-catch block. Here's the crashing function:</p>\n\n<pre><code>/**\n * Will safely scan a parent node's children, search for a child by name, and return it's text.\n * @param   parent an Fast object that is parent of the `nodeNamed` node\n * @param   nodeName the node's name or a comma-separated path to the child (will scan recursively)\n * @return node's text as String, or null if child is not there\n */\npublic static function getNodeText(parent:Fast, nodeName:String):String {\n\n    try {\n        var _node : Fast = getNodeNamed(parent, nodeName);\n\n        //if (_node == null)\n        //  return null;\n\n        // next line will crash if _node is null\n        var it :Iterator&lt;Xml&gt; = _node.x.iterator();\n        if ( it == null || !it.hasNext() )\n            return null;\n        var v = it.next();\n        var n = it.next();\n        if( n != null ) {\n            if( v.nodeType == Xml.PCData &amp;&amp; n.nodeType == Xml.CData &amp;&amp; StringTools.trim(v.nodeValue) == \"\" ) {\n                var n2 = it.next();\n                if( n2 == null || (n2.nodeType == Xml.PCData &amp;&amp; StringTools.trim(n2.nodeValue) == \"\" &amp;&amp; it.next() == null) )\n                    return n.nodeValue;\n            }\n            //does not only have data (has children)\n            return null;\n        }\n        if( v.nodeType != Xml.PCData &amp;&amp; v.nodeType != Xml.CData )\n            //does not have data\";\n            return null;\n        return v.nodeValue;\n    }catch (err:Dynamic) {\n        trace(\"Failed parsing node Text [\" + nodeName+\"] \" + err );\n        return null;\n    }\n}\n</code></pre>\n\n<p>By enabling <code>if (_node == null) return null;</code> line, It's working safely again. By catching errors as <code>Dynamic</code> I thought I was supposed to catch every possible error type! Why is this happening? And why is it appearing in release mode?</p>\n\n<p>My IDE is FlashDevelop, and I'm using HaxeFlixel 3.3.6, lime 0.9.7 and openFL 1.4.0,  if that makes any difference</p>\n\n<p>EDIT: I suspect this has to do with how the translated C++ code missed the <code>Dynamic</code> Exception. The equivalent generated C++ code is:</p>\n\n<pre><code>STATIC_HX_DEFINE_DYNAMIC_FUNC2(BaxXML_obj,_getNodeNamed,return )\n\n::String BaxXML_obj::getNodeText( ::haxe::xml::Fast parent,::String nodeName){\n    HX_STACK_FRAME(\"bax.utils.BaxXML\",\"getNodeText\",0x4a152f07,\"bax.utils.BaxXML.getNodeText\",\"bax/utils/BaxXML.hx\",56,0xf6e2d3cc)\n    HX_STACK_ARG(parent,\"parent\")\n    HX_STACK_ARG(nodeName,\"nodeName\")\n    HX_STACK_LINE(56)\n    try\n    {\n    HX_STACK_CATCHABLE(Dynamic, 0);\n    {\n        HX_STACK_LINE(57)\n        ::haxe::xml::Fast _node = ::bax::utils::BaxXML_obj::getNodeNamed(parent,nodeName);      HX_STACK_VAR(_node,\"_node\");\n        HX_STACK_LINE(63)\n        Dynamic it = _node-&gt;x-&gt;iterator();      HX_STACK_VAR(it,\"it\");\n        // ...  Let's skip the irrelevant code\n    }\n    catch(Dynamic __e){\n        {\n            HX_STACK_BEGIN_CATCH\n            Dynamic err = __e;{\n                HX_STACK_LINE(82)\n                ::String _g5 = ::Std_obj::string(err);      HX_STACK_VAR(_g5,\"_g5\");\n                HX_STACK_LINE(82)\n                ::String _g6 = (((HX_CSTRING(\"Failed parsing node Text [\") + nodeName) + HX_CSTRING(\"] \")) + _g5);      HX_STACK_VAR(_g6,\"_g6\");\n                HX_STACK_LINE(82)\n                ::haxe::Log_obj::trace(_g6,hx::SourceInfo(HX_CSTRING(\"BaxXML.hx\"),82,HX_CSTRING(\"bax.utils.BaxXML\"),HX_CSTRING(\"getNodeText\")));\n                HX_STACK_LINE(83)\n                return null();\n            }\n        }\n    }\n    HX_STACK_LINE(56)\n    return null();\n}\n</code></pre>\n"}, {"tags": ["c++", "regex", "boost"], "comments": [{"owner": {"reputation": 3107, "user_id": 1928235, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8119b4672d36b04e505f44e0e9187eea?s=128&d=identicon&r=PG", "display_name": "user4520", "link": "https://stackoverflow.com/users/1928235/user4520"}, "edited": false, "score": 0, "creation_date": 1433358248, "post_id": 30628024, "comment_id": 49322922, "body": "This has nothing to do with C."}], "answers": [{"tags": [], "owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "is_accepted": true, "score": 1, "last_activity_date": 1433356995, "creation_date": 1433356995, "answer_id": 30628147, "question_id": 30628024, "link": "https://stackoverflow.com/questions/30628024/c-boost-regex-doesnt-save-capture/30628147#30628147", "title": "C++ Boost Regex doesn&#39;t save capture", "body": "<p><code>matches[0]</code> is the whole matched expression.</p>\n\n<p>The first capture group is in <code>matches[1]</code>.</p>\n"}], "owner": {"reputation": 101, "user_id": 4970898, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/35393649581ed574b21231399c8b7292?s=128&d=identicon&r=PG&f=1", "display_name": "Cata", "link": "https://stackoverflow.com/users/4970898/cata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 1, "accepted_answer_id": 30628147, "answer_count": 1, "score": 0, "last_activity_date": 1433358647, "creation_date": 1433356601, "last_edit_date": 1433358647, "question_id": 30628024, "link": "https://stackoverflow.com/questions/30628024/c-boost-regex-doesnt-save-capture", "title": "C++ Boost Regex doesn&#39;t save capture", "body": "<p>I am trying to communicate with a web page,retrieve it's source code and than search and store specific strings( names ) inside an output file.\nHere is what I did:</p>\n\n<pre><code>    #include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;conio.h&gt;\n#include &lt;boost/asio.hpp&gt;\n#include &lt;boost/regex.hpp&gt;\n#include &lt;fstream&gt;\nusing namespace std;\nofstream o(\"out.txt\");\nint main()\n{\n    boost::asio::ip::tcp::iostream s(\"www.lolsummoners.com\", \"http\");\n    if(!s)\n        cout &lt;&lt; \"Could not connect to http://www.lolsummoners.com/\\n\";\n    s  &lt;&lt; \"GET /ladders/eune HTTP/1.1\\r\\n\"\n       &lt;&lt; \"Host: www.lolsummoners.com\\r\\n\"\n       &lt;&lt; \"Accept: */*\\r\\n\"\n       &lt;&lt; \"Connection: close\\r\\n\\r\\n\" ;\n       boost::regex rgx(\"/leagues/.*&gt;(.+\\\\s*)&lt;/a&gt;&lt;/td&gt;\");\n    for(string line; getline(s, line); )\n    {\n        boost::smatch matches;\n        if(regex_search(line, matches, rgx ) )\n        {\n            o &lt;&lt; matches[0] &lt;&lt; '\\n';\n        }\n    }\n}\n</code></pre>\n\n<p>The problem is,that in my output file,it doesn't save the capture,instead,it saved the whole thing:</p>\n\n<pre><code>/leagues/eune/64657\"&gt;Kenachi&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n\n<p>I only want it to save <code>\"Kenachi\"</code> Without the \"</p>\n"}, {"tags": ["c++", "multithreading", "exception", "visual-studio-2013", "visual-studio-debugging"], "answers": [{"comments": [{"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1433358432, "post_id": 30628419, "comment_id": 49323047, "body": "but, I don&#39;t want to suppress <i>all</i> exception output messages, just that particular one. Also, I would like to know why it isn&#39;t always output."}], "tags": [], "owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "is_accepted": false, "score": 0, "last_activity_date": 1433357876, "creation_date": 1433357876, "answer_id": 30628419, "question_id": 30627988, "link": "https://stackoverflow.com/questions/30627988/suppress-debug-output-of-setthreadname-exception-in-msvc/30628419#30628419", "title": "Suppress debug output of SetThreadName exception in MSVC", "body": "<p><a href=\"http://blogs.msdn.com/b/davidklinems/archive/2005/07/12/438061.aspx\" rel=\"nofollow\">What is a first chance exception?</a></p>\n\n<p>When you have the debugger attached, any exceptions that are thrown are given to the debugger first. That is why it is displaying the exception even though you handle the exception with the <code>__except(EXCEPTION_EXECUTE_HANDLER)</code> clause. The debugger gets the <em>first chance</em> to handle it. In this case it seems to just print that it received it and then pass it along normally.</p>\n\n<p>To disable these messages, you can right click on the output menu and uncheck <code>Exception Messages</code>.</p>\n"}], "owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433362974, "creation_date": 1433356496, "question_id": 30627988, "link": "https://stackoverflow.com/questions/30627988/suppress-debug-output-of-setthreadname-exception-in-msvc", "title": "Suppress debug output of SetThreadName exception in MSVC", "body": "<p>I am using the suggested way to set the name of a thread via <a href=\"https://msdn.microsoft.com/en-us/library/xcb2z8hs(v=vs.120).aspx\" rel=\"nofollow\">SetThreadName</a>. It works, and I see the names changing in the thread view tool window. However, I frequently get an exception message printed out to the debug output window. Since I have several threads, I may get several of these messages, but sometimes I get none. An example message:</p>\n\n<pre><code>First-chance exception at 0x75419558 (KernelBase.dll) in MyProgram.exe : 0x406D1388 (parameters: 0x00001000, 0x00E1EB70, 0x00000A40, 0x00000000).\n</code></pre>\n\n<p>Although the exception gets handled/ignored as it should by the <code>__except</code> block, and everything continues without a problem, it concerns me. Is there an explanation why this happens, and only happens intermittently? Is there some other way to do this to avoid the message, or is there some way to suppress the output of the exception message to the debug output?</p>\n\n<p>Note: this seems to happen in all versions of Visual Studio - I have tested VC2010-2015RC.</p>\n"}, {"tags": ["c++", "makefile", "clang", "clang++", "libc++"], "comments": [{"owner": {"reputation": 1401, "user_id": 2737046, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5gIpP.jpg?s=128&g=1", "display_name": "perencia", "link": "https://stackoverflow.com/users/2737046/perencia"}, "edited": false, "score": 1, "creation_date": 1433356619, "post_id": 30627922, "comment_id": 49321929, "body": "what is 1y? Also you lack the linker flags... could you post the compile line?"}, {"owner": {"reputation": 881, "user_id": 1541012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/658f517ed534a4bf7672797cc3cdad8a?s=128&d=identicon&r=PG", "display_name": "Bastien", "link": "https://stackoverflow.com/users/1541012/bastien"}, "reply_to_user": {"reputation": 1401, "user_id": 2737046, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/5gIpP.jpg?s=128&g=1", "display_name": "perencia", "link": "https://stackoverflow.com/users/2737046/perencia"}, "edited": false, "score": 0, "creation_date": 1433357095, "post_id": 30627922, "comment_id": 49322200, "body": "1y is for c++14 in clang version 3.14 or earlier (<a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow noreferrer\">clang</a>). And you where right I missed the -<code>lc++</code> flag. My bad."}, {"owner": {"reputation": 19889, "user_id": 906839, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bce6d276ec5c9b7b97804d0add55084?s=128&d=identicon&r=PG", "display_name": "Brett Hale", "link": "https://stackoverflow.com/users/906839/brett-hale"}, "edited": false, "score": 1, "creation_date": 1433385165, "post_id": 30627922, "comment_id": 49333302, "body": "note - for <code>clang++</code> &#39;dialect&#39; and library options, I would always recommend making them part of the <code>CXX</code> variable (keep <code>CC</code> for C compilers). The <code>-std=c++11 -stdlib=libc++</code> also affect linking."}], "answers": [{"tags": [], "owner": {"reputation": 881, "user_id": 1541012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/658f517ed534a4bf7672797cc3cdad8a?s=128&d=identicon&r=PG", "display_name": "Bastien", "link": "https://stackoverflow.com/users/1541012/bastien"}, "is_accepted": false, "score": 1, "last_activity_date": 1433407019, "last_edit_date": 1495541668, "creation_date": 1433357507, "answer_id": 30628311, "question_id": 30627922, "link": "https://stackoverflow.com/questions/30627922/linker-command-fail-with-a-bunch-of-undefined-reference/30628311#30628311", "title": "Linker command fail with a bunch of undefined reference", "body": "<p>I missed the linker flag <code>-lc++</code>... Thank you <a href=\"https://stackoverflow.com/users/2737046/perencia\">perencia</a>.</p>\n\n<p>Here is the working makefile :</p>\n\n<pre><code>EXEC = ModularMadness\nSRCDIR = src/\nINC =-I$(SRCDIR)\nSOURCES := $(wildcard $(SRCDIR)*.cpp) $(wildcard $(SRCDIR)*/*.cpp)\nOBJECTS = $(SOURCES:.cpp=.o)\n\nCXX = clang++\nCXX_FLAGS = -std=c++1y -stdlib=libc++ $(INC)\n\nall: $(EXEC)\n\n$(EXEC): $(OBJECTS)\n    $(CXX) $(OBJECTS) -o $(EXEC) -lc++ # Here\n\n%.o: %.cpp\n    $(CXX) -c $(CXX_FLAGS) $&lt; -o $@\n\n.PHONY: all clean\n\nclean:\n    @echo Cleaning...\n    @rm -f $(EXEC) $(OBJECTS)\n    @echo done\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 1541012, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/658f517ed534a4bf7672797cc3cdad8a?s=128&d=identicon&r=PG", "display_name": "Bastien", "link": "https://stackoverflow.com/users/1541012/bastien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433407079, "creation_date": 1433356207, "last_edit_date": 1433407079, "question_id": 30627922, "link": "https://stackoverflow.com/questions/30627922/linker-command-fail-with-a-bunch-of-undefined-reference", "title": "Linker command fail with a bunch of undefined reference", "body": "<p>I try to compile a project using clang and libc++. Here is my makefile :</p>\n\n<pre><code>EXEC = ModularMadness\nSRCDIR = src/\nINC =-I$(SRCDIR)\nSOURCES := $(wildcard $(SRCDIR)*.cpp) $(wildcard $(SRCDIR)*/*.cpp)\nOBJECTS = $(SOURCES:.cpp=.o)\n\nCXX = clang++\nCXX_FLAGS = -std=c++1y -stdlib=libc++ $(INC)\n\nall: $(EXEC)\n\n$(EXEC): $(OBJECTS)\n    $(CXX) $(OBJECTS) -o $(EXEC)\n\n%.o: %.cpp\n    $(CXX) -c $(CXX_FLAGS) $&lt; -o $@\n\n.PHONY: all clean\n\nclean:\n    @echo Cleaning...\n    @rm -f $(EXEC) $(OBJECTS)\n    @echo done\n</code></pre>\n\n<p>The .o files creation works fine, but I ran in multiple error like \n<code>In function 'std::__1::weak_ptr&lt;module::Module&gt;::lock() const': undefined reference to 'std::__1::__shared_weak_count::lock()'</code> during linker command.</p>\n\n<p>Could someone help me understanding what's the problem here ?</p>\n\n<hr>\n\n<h3>Note</h3>\n\n<p>This makefile run perfectly on OS X.</p>\n"}, {"tags": ["c++", "windows", "qt", "qpixmap"], "answers": [{"tags": [], "owner": {"reputation": 2559, "user_id": 4789375, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LRyDO.png?s=128&g=1", "display_name": "p.i.g.", "link": "https://stackoverflow.com/users/4789375/p-i-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1433358179, "creation_date": 1433358179, "answer_id": 30628503, "question_id": 30627827, "link": "https://stackoverflow.com/questions/30627827/how-can-i-create-a-translucent-copy-of-a-qpixmap/30628503#30628503", "title": "How can I create a translucent copy of a QPixmap?", "body": "<p>Maybe you should read <a href=\"http://doc.qt.io/qt-4.8/qt-painting-imagecomposition-example.html\" rel=\"nofollow\">this example</a>. I think you will need to use <a href=\"http://doc.qt.io/qt-4.8/qpainter.html#CompositionMode-enum\" rel=\"nofollow\">the composition mode</a> for this purpose.</p>\n"}, {"comments": [{"owner": {"reputation": 237, "user_id": 3866205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0b10a0ba3cb7140fa72d6014b34aa16f?s=128&d=identicon&r=PG&f=1", "display_name": "knockonwood", "link": "https://stackoverflow.com/users/3866205/knockonwood"}, "edited": false, "score": 0, "creation_date": 1433360245, "post_id": 30629010, "comment_id": 49324042, "body": "Yes, the intention was to perform this once at startup so I wouldn&#39;t have to do it every time I needed the translucent image. The link you provided is just what I was looking for."}], "tags": [], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 0, "last_activity_date": 1433359910, "creation_date": 1433359910, "answer_id": 30629010, "question_id": 30627827, "link": "https://stackoverflow.com/questions/30627827/how-can-i-create-a-translucent-copy-of-a-qpixmap/30629010#30629010", "title": "How can I create a translucent copy of a QPixmap?", "body": "<p>No, there is no performant way to do this.</p>\n\n<p>To modify channels of a <code>QPixmap</code> it must be: Converted into a <code>QImage</code>, modified, converted back to a <code>QPixmap</code>. Depending upon your application the round trip will probably make it simpler to just do this in the <code>QPainter</code>: <a href=\"http://www.qtcentre.org/threads/51158-setting-QPixmap-s-alpha-channel\" rel=\"nofollow\">http://www.qtcentre.org/threads/51158-setting-QPixmap-s-alpha-channel</a></p>\n\n<p>However if you could do roll this into your startup time the round trip may be reasonable, preventing repeated conversions in <code>QPainter</code>.</p>\n\n<ol>\n<li>Convert your <code>QPixmap</code> to a <code>QImage</code>:<a href=\"http://doc.qt.io/qt-5/qpixmap.html#toImage\" rel=\"nofollow\">http://doc.qt.io/qt-5/qpixmap.html#toImage</a></li>\n<li>If you didn't have an alpha channel in your <code>QPixmap</code> you'll need to add one: <a href=\"http://doc.qt.io/qt-5/qimage.html#convertToFormat\" rel=\"nofollow\">http://doc.qt.io/qt-5/qimage.html#convertToFormat</a></li>\n<li>Then for each pixel in your image call <code>setPixel</code>: <a href=\"http://doc.qt.io/qt-5/qimage.html#pixel-manipulation\" rel=\"nofollow\">http://doc.qt.io/qt-5/qimage.html#pixel-manipulation</a> (Note that <code>setPixel</code> takes a <code>QRgb</code>. You'll need to get the red, green, and blue channels from the pixel to be modified and use these along with your desired alpha value in <code>qRgba</code>: <a href=\"http://doc.qt.io/qt-5/qcolor.html#qRgba\" rel=\"nofollow\">http://doc.qt.io/qt-5/qcolor.html#qRgba</a>)</li>\n<li>Finally you'll need to use <code>convertFromImage</code>: <a href=\"http://doc.qt.io/qt-5/qpixmap.html#convertFromImage\" rel=\"nofollow\">http://doc.qt.io/qt-5/qpixmap.html#convertFromImage</a></li>\n</ol>\n"}], "owner": {"reputation": 237, "user_id": 3866205, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0b10a0ba3cb7140fa72d6014b34aa16f?s=128&d=identicon&r=PG&f=1", "display_name": "knockonwood", "link": "https://stackoverflow.com/users/3866205/knockonwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 30629010, "answer_count": 2, "score": 1, "last_activity_date": 1433359910, "creation_date": 1433355840, "question_id": 30627827, "link": "https://stackoverflow.com/questions/30627827/how-can-i-create-a-translucent-copy-of-a-qpixmap", "title": "How can I create a translucent copy of a QPixmap?", "body": "<p>In the program I'm making, I need two images, which are exactly the same but one is translucent. For performance reasons, I want to create two separate <code>QPixmaps</code> instead of using just one and setting the opacity of a <code>QPainter</code>. Is there a straightforward way to do this?</p>\n"}, {"tags": ["c++", "c++11", "condition-variable", "chrono"], "comments": [{"owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1433357604, "post_id": 30627773, "comment_id": 49322536, "body": "Collin, start and end are time_points. I am subtracting the time points to form a duration. I am comparing the measured duration to the desired duration. The resolution on my system is sufficient for this measurement. I have increased the desired duration to both 500ms and 5s and the test still fails. I would still be curious to know more details relating to why you think this is a bad test."}], "answers": [{"comments": [{"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1433358319, "post_id": 30628431, "comment_id": 49322973, "body": "This can easily fail if <code>steady_clock</code> has, for example, 16 ms resolution. The <code>wait_for</code> could delay for 64 ms, even though you requested 50 ms."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1433358432, "post_id": 30628431, "comment_id": 49323048, "body": "@CollinDauphinee And that would fail the test how?"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1433358523, "post_id": 30628431, "comment_id": 49323106, "body": "@CollinDauphinee:  If the <code>wait_for</code> delays for 64 ms, then the test as written passes, assuming <code>REQUIRE</code> is a good name."}, {"owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433358761, "post_id": 30628431, "comment_id": 49323241, "body": "Howard, the reason I added the count() method was that the test framework I am using (Catch) cannot, as far as I know, expand a duration in the failure scenario. The result of count() can be expanded so I can see a representation of the actual comparison (&quot;24 &gt;= 50&quot; in one case)."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433359001, "post_id": 30628431, "comment_id": 49323372, "body": "@JeffRoekle:  How unfortunate.  While I don&#39;t see a problem in this case, the manual conversions and escape to <code>count()</code> are an opportunity for bugs.  In other uses keep in mind that <code>duration_cast</code> will truncate towards zero.  This can have unexpected effects if the value being truncated is negative (which it can&#39;t in this example).  If you find yourself needing other rounding modes (e.g. <code>floor</code> -- truncate towards negative infinity), here are some utilities: <a href=\"http://howardhinnant.github.io/duration_io/chrono_util.html\" rel=\"nofollow noreferrer\">howardhinnant.github.io/duration_io/chrono_util.html</a>"}, {"owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433359820, "post_id": 30628431, "comment_id": 49323817, "body": "@HowardHinnant: First, thank you for the reference link. Second, I was under the impression that the ratio of the time_point&#39;s internal duration was implementation dependent and that I needed to use the duration_cast in order to compare it to a duration with a fixed ratio, milliseconds for example."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433360467, "post_id": 30628431, "comment_id": 49324177, "body": "@JeffRoekle:  Nope. When doing comparisons (or arithmetic) the <code>chrono</code> library will convert both operands to the <code>common_type</code> duration which is a duration both operands will convert to with no truncation error, and then perform the operation.  If by some chance <code>std::chrono::steady_clock::duration</code> is coarser than milliseconds on this implementation (which would be hard to swallow), the <code>duration_cast</code> could truncate <code>end-start</code> to 0ms.  You could add a <code>static_assert</code> to confirm that isn&#39;t true.  I&#39;ll update my answer with instructions on how to do that."}, {"owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433361051, "post_id": 30628431, "comment_id": 49324492, "body": "@HowardHinnant: Thanks, I will be very happy to drop the duration_cast from my code."}, {"owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "edited": false, "score": 0, "creation_date": 1433361470, "post_id": 30628431, "comment_id": 49324727, "body": "@HowardHinnant: Incidentally, after removing the duration_cast the tests pass, so it appears that the rounding the duration_cast was doing broke the test. Thank you again."}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 3, "last_activity_date": 1439020696, "last_edit_date": 1439020696, "creation_date": 1433357909, "answer_id": 30628431, "question_id": 30627773, "link": "https://stackoverflow.com/questions/30627773/c-condition-variable-wait-for-not-behaving-as-expected/30628431#30628431", "title": "C++ condition variable wait_for not behaving as expected", "body": "<p>This sounds like a bug in your vendor's implementation.  I don't see how this test can fail.</p>\n\n<p>Fwiw, your <code>REQUIRE</code> statement can be greatly simplified:</p>\n\n<pre><code>REQUIRE(end - start &gt;= rel_time);\n</code></pre>\n\n<p>Comparisons among <code>durations</code> are <em>always</em> exact.</p>\n\n<p>There is one way your test, as written, could fail:  If <code>std::chrono::steady_clock::duration</code> is larger than milliseconds, the expression <code>duration_cast&lt;milliseconds&gt;(end - start)</code> could result in 0ms.  To protect against such a poor implementation you could add:</p>\n\n<pre><code>static_assert(std::chrono::steady_clock::duration{1} &lt;= std::chrono::milliseconds{1},\n    \"This steady_clock implementation has an outrageously coarse duration\");\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 4970851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da8a599d81f2ee2af51ab273b03757c3?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Roekle", "link": "https://stackoverflow.com/users/4970851/jeff-roekle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 0, "accepted_answer_id": 30628431, "answer_count": 1, "score": 2, "last_activity_date": 1439020696, "creation_date": 1433355691, "last_edit_date": 1433358257, "question_id": 30627773, "link": "https://stackoverflow.com/questions/30627773/c-condition-variable-wait-for-not-behaving-as-expected", "title": "C++ condition variable wait_for not behaving as expected", "body": "<p>I am having a problem understanding why a test case that I think should be passing is failing most of the time. I have distilled the test down to the condition variable and using the wait_for method, specifically testing it to see if it does indeed wait for at least as long as the specified duration.</p>\n\n<p>The test code snippet is below:</p>\n\n<pre><code>TEST_CASE(\"Condition variable test\")\n{\n    std::mutex m;\n    std::unique_lock&lt;std::mutex&gt; lock(m);\n    std::condition_variable cv;\n    bool ex = false;\n    std::chrono::milliseconds rel_time(50);\n\n    auto start = std::chrono::steady_clock::now();\n\n    cv.wait_for(lock, rel_time, [&amp;ex] {return(ex);});\n\n    auto end = std::chrono::steady_clock::now();\n\n    REQUIRE(std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(end - start).count() &gt;= rel_time.count());\n}\n</code></pre>\n\n<p>I would expect from my understanding of the C++11 standard that this should pass all of the time. Ironically, if I change the clock type to the system clock I cannot get the test to fail.</p>\n\n<p>An excerpt from <a href=\"http://cplusplus.com\" rel=\"nofollow\">cplusplus.com</a> for the condition_variable::wait_for method states that \"If pred is specified (2), the function only blocks if pred returns false, and notifications can only unblock the thread when it becomes true (which is especially useful to check against spurious wake-up calls). It behaves as if implemented as:\nreturn wait_until (lck, <strong>chrono::steady_clock::now()</strong> + rel_time, std::move(pred));\"</p>\n\n<p>Which implies to me that using the steady clock to take my reference time stamps is the correct clock.</p>\n\n<p>I am compiling using the MinGW environment with the gcc 4.8.2 compiler.</p>\n"}, {"tags": ["c++", "c++11", "gcc", "c++14", "clang++"], "comments": [{"owner": {"reputation": 52177, "user_id": 2073257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91182220a689e37a8939785bbe491000?s=128&d=identicon&r=PG", "display_name": "Daniel Frey", "link": "https://stackoverflow.com/users/2073257/daniel-frey"}, "edited": false, "score": 4, "creation_date": 1433356195, "post_id": 30627599, "comment_id": 49321687, "body": "It&#39;s a bug in Clang, <a href=\"http://coliru.stacked-crooked.com/a/1405db5825284b1d\" rel=\"nofollow noreferrer\">fixed with Clang 3.6</a>"}, {"owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "reply_to_user": {"reputation": 52177, "user_id": 2073257, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/91182220a689e37a8939785bbe491000?s=128&d=identicon&r=PG", "display_name": "Daniel Frey", "link": "https://stackoverflow.com/users/2073257/daniel-frey"}, "edited": false, "score": 0, "creation_date": 1433357999, "post_id": 30627599, "comment_id": 49322773, "body": "Ah.. Thanks.  My search-foo wasn&#39;t good enough to find this."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1433358363, "post_id": 30627599, "comment_id": 49323006, "body": "It&#39;s always a good idea to check with the newest versions of the compilers. <a href=\"http://melpon.org/wandbox/\" rel=\"nofollow noreferrer\">melpon.org/wandbox</a> is great for that purpose."}], "answers": [{"comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 1, "creation_date": 1446286998, "post_id": 33450458, "comment_id": 54687953, "body": "quote from <a href=\"http://clang.llvm.org/cxx_status.html\" rel=\"nofollow noreferrer\">clang.llvm.org/cxx_status.html</a>: <code>Clang fully implements all published ISO C++ standards including C++11, as well as the upcoming C++14 standard, and some parts of the fledgling C++1z standard, and is considered a production-quality C++ compiler</code>"}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 1, "creation_date": 1446287084, "post_id": 33450458, "comment_id": 54687970, "body": "<code>you can be sure that everything (talking C++ code) that is compiled in GCC should compile in Clang, and if not, it is a Clang bug.</code> So <b>not true</b>. See all the bug reports of both g++ and clang regarding corner cases in c++ language."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 1, "creation_date": 1446287452, "post_id": 33450458, "comment_id": 54688045, "body": "What have you been drinking? The &quot;built over gcc&quot; bit is especially hilarious - the very point of the Clang project was to build a new C++ front-end completely from scratch because the architecture of gcc was showing its serious limitations. Also, Clang normally  uses LLVM as a backend, so not even the backend is in common."}, {"owner": {"reputation": 83, "user_id": 3871227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mUkBm.png?s=128&g=1", "display_name": "Arty McLabin", "link": "https://stackoverflow.com/users/3871227/arty-mclabin"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1446325862, "post_id": 33450458, "comment_id": 54699705, "body": "@Matteo Italia: you might get me wrong. the meaning of &quot;built over gcc&quot; stands for  -&gt; clang is designed to be compatible with GCC and eventually replace it (in ideology)."}, {"owner": {"reputation": 83, "user_id": 3871227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mUkBm.png?s=128&g=1", "display_name": "Arty McLabin", "link": "https://stackoverflow.com/users/3871227/arty-mclabin"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1446326147, "post_id": 33450458, "comment_id": 54699793, "body": "@bolov: by the case of irony, you are in a question page with confirmed clang bug."}], "tags": [], "owner": {"reputation": 83, "user_id": 3871227, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/mUkBm.png?s=128&g=1", "display_name": "Arty McLabin", "link": "https://stackoverflow.com/users/3871227/arty-mclabin"}, "is_accepted": false, "score": -2, "last_activity_date": 1446286722, "creation_date": 1446286722, "answer_id": 33450458, "question_id": 30627599, "link": "https://stackoverflow.com/questions/30627599/c14-variadic-template-argument-inference-in-clang-and-gcc/33450458#33450458", "title": "C++14 variadic template argument inference in clang and gcc", "body": "<p>You should understand that Clang is still experimental (even though it is \"widely\" used), and basically is built upon GCC (trough it has some significant changes) and you can be sure that everything (talking C++ code) that is compiled in GCC should compile in Clang, and if not, it is a Clang bug. </p>\n\n<p>GCC had it's time to prove being robust.</p>\n"}], "owner": {"reputation": 264, "user_id": 1580244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e04d19359a74ca0e9e7e0d67ff32be1?s=128&d=identicon&r=PG", "display_name": "cshelton", "link": "https://stackoverflow.com/users/1580244/cshelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1446286722, "creation_date": 1433355070, "question_id": 30627599, "link": "https://stackoverflow.com/questions/30627599/c14-variadic-template-argument-inference-in-clang-and-gcc", "title": "C++14 variadic template argument inference in clang and gcc", "body": "<p>I am using clang 3.5.0 and gcc version 4.9.2 (both with C++14 options on, although with trailing return types this could be done in C++11).</p>\n\n<p>The following code compiles in g++ and not in clang++.  My question is \"which is right?\"</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;tuple&gt;\n#include &lt;functional&gt;\nusing namespace std;\n\ntemplate&lt;typename OP, typename F1, typename... Fs&gt;\nstruct symop {\n     OP op;\n     tuple&lt;F1,Fs...&gt; fs;\n\n     symop(const OP &amp;oopp, const F1 &amp;f1, const Fs &amp;...ffss)\n          : op(oopp), fs(f1,ffss...) {}\n};\n\ntemplate&lt;typename OP, typename... Fs&gt;\nauto baz(const symop&lt;OP,Fs...&gt; &amp;so) {\n     return so.op(get&lt;0&gt;(so.fs),get&lt;1&gt;(so.fs));\n}\n\n/* // this version compiles on both compilers\ntemplate&lt;typename OP, typename F1, typename... Fs&gt;\nauto baz(const symop&lt;OP,F1,Fs...&gt; &amp;so) {\n     return so.op(get&lt;0&gt;(so.fs),get&lt;1&gt;(so.fs));\n}\n*/\n\nint main() {\n     symop&lt;plus&lt;int&gt;,int,int&gt; so{plus&lt;int&gt;{},3,4};\n     cout &lt;&lt; baz(so) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Clang reports</p>\n\n<pre><code>q.cpp:29:10: error: no matching function for call to 'baz'\n        cout &lt;&lt; baz(so) &lt;&lt; endl;\n                ^~~\nq.cpp:16:6: note: candidate template ignored: couldn't infer template argument\n      'OP'\nauto baz(const symop&lt;OP,Fs...&gt; &amp;so) {\n     ^\n</code></pre>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 9690, "user_id": 1707560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8VK4M.jpg?s=128&g=1", "display_name": "imreal", "link": "https://stackoverflow.com/users/1707560/imreal"}, "edited": false, "score": 6, "creation_date": 1433354552, "post_id": 30627418, "comment_id": 49320734, "body": "Both do the same thing, both correct."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1433355243, "post_id": 30627418, "comment_id": 49321138, "body": "If you use brace initialization than your last function can become <code>return { 1, 30, 59 };  &#47;&#47; Using curly bracket</code>"}], "answers": [{"tags": [], "owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "is_accepted": false, "score": 5, "last_activity_date": 1433355780, "creation_date": 1433355780, "answer_id": 30627807, "question_id": 30627418, "link": "https://stackoverflow.com/questions/30627418/can-i-directly-return-an-object-by-returning-constructor/30627807#30627807", "title": "Can I directly return an object by returning constructor?", "body": "<p>In this context, yes they are the same, but that isn't always the case. They <em>can</em> be different constructors of the same class. In the example below the class behaves differently depending on how it is constructed:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;initializer_list&gt;\n\nclass Foo {\npublic:\n   Foo( int a, int b, int c) {\n      std::cout &lt;&lt; \"1\" &lt;&lt; std::endl;\n   }\n\n   Foo( std::initializer_list&lt;int&gt; data) {\n      std::cout &lt;&lt; \"2\" &lt;&lt; std::endl;\n   }\n};\n\nint main() {\n   Foo f(1, 2, 3);\n   Foo o{1, 2, 3};\n   return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 4161, "user_id": 2998612, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2c2a14786a7098647715bfac3d2a5042?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Dong", "link": "https://stackoverflow.com/users/2998612/kevin-dong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1433355780, "creation_date": 1433354416, "last_edit_date": 1433355308, "question_id": 30627418, "link": "https://stackoverflow.com/questions/30627418/can-i-directly-return-an-object-by-returning-constructor", "title": "Can I directly return an object by returning constructor?", "body": "<pre><code>class time\n{\n    public:\n    time(int i, int j, int k)\n    {\n        hour = i, minute = j, second = k;\n    }\n\n    private:\n    int hour, minute, second;\n}\n\ntime return_an_object_1 (void)\n{\n    return time(1, 30, 59);  // Using parentheses\n}\n\ntime return_an_object_2 (void)\n{\n    return time{1, 30, 59};  // Using curly bracket\n}\n</code></pre>\n\n<p>Both can be compiled successfully, but what is the difference?</p>\n"}, {"tags": ["c++", "templates", "operator-overloading"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 3, "creation_date": 1433354520, "post_id": 30627358, "comment_id": 49320707, "body": "You are doing it wrong: Your operators are binary operators which should return a <code>CSet&lt;T&gt;</code>. The mutating binary operators are @=, which should return <code>CSet&lt;T&gt;&amp;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1433357748, "post_id": 30627528, "comment_id": 49322622, "body": "You miss the union-set logic, but idea is here. BTW, operator may be <code>const</code>"}, {"owner": {"reputation": 149, "user_id": 4312153, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/768587367/picture?type=large", "display_name": "Adam Morad", "link": "https://stackoverflow.com/users/4312153/adam-morad"}, "edited": false, "score": 0, "creation_date": 1433399950, "post_id": 30627528, "comment_id": 49338164, "body": "So can I use a const or not on the return value? and we are not allowed to use std::vector."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 149, "user_id": 4312153, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/768587367/picture?type=large", "display_name": "Adam Morad", "link": "https://stackoverflow.com/users/4312153/adam-morad"}, "edited": false, "score": 0, "creation_date": 1433421849, "post_id": 30627528, "comment_id": 49352256, "body": "@adam if you are returning by value there is no reason to make the return constant.  You can make the function constant thought."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1433428226, "last_edit_date": 1433428226, "creation_date": 1433354821, "answer_id": 30627528, "question_id": 30627358, "link": "https://stackoverflow.com/questions/30627358/c-template-class-operator-overloading/30627528#30627528", "title": "C++ template class operator overloading", "body": "<p>You don't want to return a constant reference to an object you are creating in the function.  What you should do is create a  object in the function and then return it by value. To do that your code would be:</p>\n\n<pre><code>template &lt;class T&gt;\nCSet&lt;T&gt; CSet&lt;T&gt;::operator|(const CSet&lt;T&gt;&amp; obj_input) const\n{\n    CSet&lt;T&gt; temp;\n    temp.size = *this.size + obj_input.size;\n    temp.arr = new T[temp.size];\n    int i = 0;\n    for (; i &lt; *this.size; i++)\n        temp.arr[i] = *this.arr[i];\n    for (; i - *this.size &lt; obj_input.size; i++)\n        temp.arr[i] = *this.arr[i];\n    return temp;\n}\n</code></pre>\n\n<p>If you instead use a <code>std::vector</code> instead of raw arrays your function would become:</p>\n\n<pre><code>template &lt;class T&gt;\nCSet&lt;T&gt; CSet&lt;T&gt;::operator|(const CSet&lt;T&gt;&amp; obj_input) const\n{\n    CSet&lt;T&gt; temp;\n    temp.arr.insert(temp.arr.end(), *this.arr.begin(), *this.arr.end());\n    temp.arr.insert(temp.arr.end(), obj_input.arr.begin(), obj_input.arr.end())\n    return temp;\n}\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 4312153, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/768587367/picture?type=large", "display_name": "Adam Morad", "link": "https://stackoverflow.com/users/4312153/adam-morad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433428226, "creation_date": 1433354249, "question_id": 30627358, "link": "https://stackoverflow.com/questions/30627358/c-template-class-operator-overloading", "title": "C++ template class operator overloading", "body": "<p>So I'm trying to build a template class for a study project about group theory and logic. I have the class:</p>\n\n<pre><code>#pragma once\n#include &lt;iostream&gt;\n#include &lt;assert.h&gt;\nusing namespace std;\ntemplate &lt;class T&gt;\nclass CSet\n{\nprivate:\n    T* arr;\n    int size;\nprotected:\n\npublic:\n    /*Constructors &amp; Destructor*/\n    CSet(int s = 0, T* a = NULL); //Default constructor\n    CSet(const CSet&lt;T&gt; &amp; obj_input); //Copy constructor\n    ~CSet() { delete[] arr; } //Destructor\n\n    /*Operators Overloading*/\n    const CSet&lt;T&gt;&amp; operator=(const CSet&lt;T&gt;&amp; obj_input); // = overloading\n    const CSet&lt;T&gt;&amp; operator+=(const T&amp; val_input); // += overloading\n    const CSet&lt;T&gt;&amp; operator-=(const T&amp; val_input); // -= overloading\n\n    /*Logic Operators Overloading*/\n    const CSet&lt;T&gt;&amp; operator|(const CSet&lt;T&gt;&amp; obj_input);\n    const CSet&lt;T&gt;&amp; operator&amp;(const CSet&lt;T&gt;&amp; obj_input);\n    const CSet&lt;T&gt;&amp; operator-(const CSet&lt;T&gt;&amp; obj_input);\n    bool operator==(const CSet&lt;T&gt;&amp; obj_input);\n    bool operator!=(const T&amp; val_input);\n    bool operator&gt;(const CSet&lt;T&gt;&amp; obj_input);\n    const CSet&lt;T&gt;&amp; operator^(const CSet&lt;T&gt;&amp; obj_input);\n\n    //void DifWrite(const CSet&lt;T&gt;&amp; obj_input); //does - and outputs to file\n\n    friend ostream&amp; operator&lt;&lt;(ostream&amp; op, const CSet&lt;T&gt;&amp; input) {\n        for (int i = 0; i &lt; input.size; i++)\n        {\n            op &lt;&lt; input.arr[i] &lt;&lt; \" \";\n        }\n        return op;\n    }\n};\n</code></pre>\n\n<p>and I'm trying to make the | operator to simulate OR logic function. This means that if I make A={1,2,3} and B={3,4,5} then A|B={1,2,3,4,5} which is a new object. However I can't decipher how to allocate memory for the new object and return it. The function I currently have is changing 'this' instead of returning a new object:</p>\n\n<pre><code>template &lt;class T&gt;\nconst CSet&lt;T&gt;&amp; CSet&lt;T&gt;::operator|(const CSet&lt;T&gt;&amp; obj_input) {\n    if (!arr)   \n    {\n        *this = obj_input;\n        return *this;\n    }\n    else if (!obj_input.arr)\n    {\n        return *this;\n    }\n    else\n    {\n        for (int i = 0; i &lt; size; i++)\n        {\n            temp += this-&gt;arr[i];\n        }\n        for (int i = 0; i &lt; obj_input.size; i++)\n        {\n            temp += obj_input.arr[i];\n        }\n        *this = temp;\n    }\n    return *this;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "qt"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 7, "creation_date": 1433354144, "post_id": 30627271, "comment_id": 49320453, "body": "A real small code snippet showing the problem"}, {"owner": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "edited": false, "score": 0, "creation_date": 1433357840, "post_id": 30627271, "comment_id": 49322683, "body": "I&#39;ve run the application again, this time with run time checks enabled. It&#39;s showing stack corruption around a variable declared in the scope of the function."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1433358230, "post_id": 30627271, "comment_id": 49322914, "body": "The manual lock/unlock is not exception safe."}], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "edited": false, "score": 0, "creation_date": 1433358109, "post_id": 30628439, "comment_id": 49322843, "body": "The function has all its &quot;return&quot; statements preceded by unlock. I am now puzzled with the problem of the stack corruption, and the fact that it doesn&#39;t happen with QMutexLocker. It&#39;s late here, I&#39;ll further investigate tomorrow and write the results here."}, {"owner": {"reputation": 614, "user_id": 4876536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36757ceb0bbec00338926fc2ab6cda58?s=128&d=identicon&r=PG&f=1", "display_name": "fassl", "link": "https://stackoverflow.com/users/4876536/fassl"}, "edited": false, "score": 0, "creation_date": 1433374671, "post_id": 30628439, "comment_id": 49330837, "body": "It looks like when you investigate the code for QMutexLocker (i am looking at qt 4.2.2) right now, i think it does not always lock or unlock. I cannot really decipher the logic behind when it is locking or not, but maybe you also havr a copy of your mutex in another thread which never gets reset because its another instance. What happens if you allocate your mutex on the heap?"}], "tags": [], "owner": {"reputation": 2559, "user_id": 4789375, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/LRyDO.png?s=128&g=1", "display_name": "p.i.g.", "link": "https://stackoverflow.com/users/4789375/p-i-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1433357942, "creation_date": 1433357942, "answer_id": 30628439, "question_id": 30627271, "link": "https://stackoverflow.com/questions/30627271/difference-between-using-a-mutex-locker-and-locking-the-mutex-manually/30628439#30628439", "title": "Difference between using a mutex locker and locking the mutex manually", "body": "<p>As the <a href=\"http://doc.qt.io/qt-5/qmutexlocker.html#details\" rel=\"nofollow\">description</a> says if you have a function with many exit point, you need to write <code>mutex.unlock()</code> to every exit point. But if you use a mutex locker you don't have to do this.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4971042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42ecf186be5db2c96c0c6390765444d2?s=128&d=identicon&r=PG&f=1", "display_name": "WheresWaldo", "link": "https://stackoverflow.com/users/4971042/whereswaldo"}, "is_accepted": false, "score": 1, "last_activity_date": 1433358058, "creation_date": 1433358058, "answer_id": 30628474, "question_id": 30627271, "link": "https://stackoverflow.com/questions/30627271/difference-between-using-a-mutex-locker-and-locking-the-mutex-manually/30628474#30628474", "title": "Difference between using a mutex locker and locking the mutex manually", "body": "<p>From the <a href=\"http://doc.qt.io/qt-4.8/qmutexlocker.html\" rel=\"nofollow\">documentation</a> it seems that the QMutexLocker somewhat managed meaning that it will auto-magically unlock whenever you go out of scope. If your const member function will only have one possible return path, then either method is fine. However, if this function becomes more complex or if you change the design at a later point, I would just use the class.</p>\n"}, {"comments": [{"owner": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "edited": false, "score": 1, "creation_date": 1433404257, "post_id": 30628526, "comment_id": 49340598, "body": "After all, it was a problem of some objects with non trivial destructors that were created inside the scope of the function. The unlock() call released the mutex before these destructors completed, causing race conditions. Many thanks for the comment, it got me investigating the inner code of the method to finally find the problem."}, {"owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "reply_to_user": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "edited": false, "score": 2, "creation_date": 1433414830, "post_id": 30628526, "comment_id": 49347608, "body": "@LeCoc: nice to hear that you found the problem. Indeed this is another non obvious advantage of using locker objects. As destruction happens in reverse order of construction if you create the locker on enter you&#39;re also guaranteed that unlocking will happen right before leaving the function (i.e. also after the execution of all other local instances destructor). Edited the answer to show this more clearly..."}], "tags": [], "owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "is_accepted": true, "score": 4, "last_activity_date": 1433414677, "last_edit_date": 1433414677, "creation_date": 1433358265, "answer_id": 30628526, "question_id": 30627271, "link": "https://stackoverflow.com/questions/30627271/difference-between-using-a-mutex-locker-and-locking-the-mutex-manually/30628526#30628526", "title": "Difference between using a mutex locker and locking the mutex manually", "body": "<p>The advantage of a locker object is that automatically handles all exit points, including ones caused by exceptions.</p>\n\n<p>Normally forgetting an exit point or an exception however just leaves the mutex locked and the symptom is the program just hanging.</p>\n\n<p>If you are having a crash then the problem is somewhere else and the fact that you see the problem disappearing when using a locker object is just a coincidence (if there is a crash the program is for sure buggy, if there is no crash you cannot say the program is correct... especially in a language like C++ at has the concept of \"undefined behavior\").</p>\n\n<h2>Edit</h2>\n\n<p>Another non-obvious advantage is that using a locker object created as first statement you're guaranteed that unlocking will happen as last thing before returning to the caller. This can make a difference if there are other objects created inside the function that depend on the mutex:</p>\n\n<pre><code>void ok_func() {\n    Locker mylock(mymutex);\n    Obj myobj; // constructor and destructor require the lock\n}\n\nvoid buggy_func() {\n    lock(mymutex);\n    Obj myobj; // constructor and destructor require the lock\n    unlock(mymutex);\n    // Bug: myobj instance will be destroyed without the lock\n}\n\n\nvoid workaround_func() {\n    lock(mymutex);\n    {   // nested scope needed\n        Obj myobj; // constructor and destructor require the lock\n    }\n    unlock(mymutex);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "is_accepted": false, "score": 1, "last_activity_date": 1433404117, "creation_date": 1433404117, "answer_id": 30637962, "question_id": 30627271, "link": "https://stackoverflow.com/questions/30627271/difference-between-using-a-mutex-locker-and-locking-the-mutex-manually/30637962#30637962", "title": "Difference between using a mutex locker and locking the mutex manually", "body": "<p>Alright, found the problem after following the advice from @6502. First a small example that reproduces the problem:</p>\n\n<pre><code>class TileCache\n{\n    struct Culprit\n    {\n        Culprit(int&amp; n) : mN(n) { ++mN; }\n        ~Culprit() { --mN; }\n    private:\n        int&amp; mN;\n    };\npublic:\n    int&amp; fillBuffer(const std::string&amp; name) const {\n        //QMutexLocker lock(&amp;mCacheMutex);\n        mCacheMutex.lock();\n        auto ite = mCache.find(name);\n        if(ite == mCache.end())\n            ite = mCache.insert(ite, std::make_pair(name, 0));\n        Culprit culprit(ite-&gt;second);\n        unsigned char somebuffer[1];\n        somebuffer[ (ite-&gt;second -1) * 8192 ] = 'Q';\n        mCacheMutex.unlock();\n        return ite-&gt;second;\n    }\nprivate:\n    mutable std::map&lt;std::string, int&gt; mCache;\n    mutable QMutex mCacheMutex;\n};\nint main(int argc, char *argv[])\n{\n    TileCache cache;\n#pragma omp parallel for shared(cache) num_threads(2)\n    for(int i = 0; i &lt; 2048; ++i)\n    {\n        int&amp; n = cache.fillBuffer(\"my buffer\");\n        if(n != 0) throw std::logic_error(\"Buff\");\n    }\n    return 0;\n}\n</code></pre>\n\n<p>The sole difference between using QMutexLocker and manually lock/unlock was that in the locker case the unlock method will be called when exiting scope, in the reverse order of creation for that scope. That is what I didn't see, some objects inside the fillBuffer method do also RIIA, so the end of the fillBuffer method should not be the end of the protected section.\nBy using the mutex locker, the unlock() method is called last, protecting the whole method. It also works, of course, to have braces to delimit an inner scope where all the fillBuffer method will be doing its work:</p>\n\n<pre><code>int&amp; fillBuffer(....) const {\n    mCacheMutex.lock();\n    {\n        auto ite = ....\n        ...\n    }\n    mCacheMutex.unlock();\n}\n</code></pre>\n\n<p>But the real function has some other return points, which prevent this solution from working.</p>\n\n<p>TL;DR\nSo I learnt that yes, it's not equivalent to have a scope based mutex locker compared with manual calls to lock() and unlock(), if the destructors of the objects created inside that scope should also be protected. <em>In this case, the scoped lock will work, but the manual calls will not</em>.</p>\n\n<p>Many thanks to all that tried to help me, I appreciate it.</p>\n"}], "owner": {"reputation": 192, "user_id": 817736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faa77dcb9f9228fc99cce77e2599ac77?s=128&d=identicon&r=PG", "display_name": "LeCoc", "link": "https://stackoverflow.com/users/817736/lecoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1793, "favorite_count": 1, "accepted_answer_id": 30628526, "answer_count": 4, "score": 5, "last_activity_date": 1548598198, "creation_date": 1433353958, "last_edit_date": 1548598198, "question_id": 30627271, "link": "https://stackoverflow.com/questions/30627271/difference-between-using-a-mutex-locker-and-locking-the-mutex-manually", "title": "Difference between using a mutex locker and locking the mutex manually", "body": "<p>Specifically, in a const member function if I use <code>mutex.lock()</code> at the beginning of it, and <code>mutex.unlock()</code> right before the return, I get crashes when running it inside an OpenMP loop. But if I replace those two calls with one <code>QMutexLocker(&amp;mutex)</code> at the beginning of the function, it runs smoothly.\nVisual Studio 2010, Qt 4.8.\nI would expect the two codes to be equivalent, but they are obviously not. What am I missing here?</p>\n\n<p>EDIT:\nAlthough this doesn't reproduce the problem, a small example:</p>\n\n<pre><code>class TileCache\n{\npublic:\n    bool fillBuffer(const std::string&amp; name) const {\n        //QMutexLocker lock(&amp;mCacheMutex);\n        mCacheMutex.lock();\n        auto ite = mCache.find(name);\n        if(ite == mCache.end())\n            mCache.insert(ite, std::make_pair(name, new unsigned char[1024]));\n        // code here\n        mCacheMutex.unlock();\n        return true;\n    }\nprivate:\n    mutable std::map&lt;std::string, unsigned char*&gt; mCache;\n    mutable QMutex mCacheMutex;\n};\n\nint main(int argc, char *argv[])\n{\n    std::cout &lt;&lt; \"Test\" &lt;&lt; std::endl;\n    TileCache cache;\n#pragma omp parallel for shared(cache)\n    for(int i = 0; i &lt; 2048; ++i)\n    {\n        cache.fillBuffer(\"my buffer\");\n    }\n    return 0;\n}\n</code></pre>\n\n<p>I was basically asking if there is any known reason to believe that the two ways are not equivalent, if always calling <code>lock()</code>/<code>unlock()</code> (no <code>lock()</code> call without its matching <code>unlock()</code>) can behave differently than <code>QMutexLocker</code>, under some circumstances.</p>\n"}, {"tags": ["c++", "text"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1433353673, "post_id": 30627168, "comment_id": 49320214, "body": "Read the source file and write desired parts to another file."}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1433354164, "post_id": 30627168, "comment_id": 49320465, "body": "Do you want to actually modify the input file or just skip the for X lines?"}, {"owner": {"reputation": 101, "user_id": 2782095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0fa28096fb6f63145c58ccc87a8657?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/2782095/zack"}, "edited": false, "score": 0, "creation_date": 1433354357, "post_id": 30627168, "comment_id": 49320596, "body": "I&#39;ve tried to use standard keyword finding techniques to actually find the specific line, but none of them seem to actually give a line number when found."}, {"owner": {"reputation": 101, "user_id": 2782095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0fa28096fb6f63145c58ccc87a8657?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/2782095/zack"}, "edited": false, "score": 0, "creation_date": 1433354371, "post_id": 30627168, "comment_id": 49320601, "body": "Also, I&#39;m hoping to modify the input file."}, {"owner": {"reputation": 1540, "user_id": 3427419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de87c9d24eea8e8baa4458e4c2ece6c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3427419", "link": "https://stackoverflow.com/users/3427419/user3427419"}, "edited": false, "score": 1, "creation_date": 1433356451, "post_id": 30627168, "comment_id": 49321827, "body": "You should not be modifying input file just in case Murphy strikes. Standard technique is to make a new file, copy stuff there, close it, and then move it over the old file. But it should be faster just to skip lines you don&#39;t want."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 2, "creation_date": 1433356505, "post_id": 30627168, "comment_id": 49321870, "body": "When analyzing large files it can often be helpful to create a metadata index about the files. This way you don&#39;t need to modify the original file and you save the extracted information for later use. In your case you could scan the file to find the starting point of the real data and write that starting point into another file. Then you&#39;d know where to move to right away, without deleting the first part of the file."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "reply_to_user": {"reputation": 1540, "user_id": 3427419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de87c9d24eea8e8baa4458e4c2ece6c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3427419", "link": "https://stackoverflow.com/users/3427419/user3427419"}, "edited": false, "score": 0, "creation_date": 1433356585, "post_id": 30627168, "comment_id": 49321915, "body": "@user3427419: To be extra safe against Murphy write the new file, call fsync(), <i>check the return value for errors</i>, and <i>then</i> close the file."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1433361961, "post_id": 30627168, "comment_id": 49325039, "body": "@Zack: please remove your answer from your post, as it goes against Stack Overflow&#39;s intentions as a &quot;Question and Answer&quot; site. If you want, you can <i>submit</i> it as a proper answer."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1433367139, "post_id": 30627168, "comment_id": 49327835, "body": "I&#39;d prefer it if he didn&#39;t submit it as an answer. It&#39;s a very poor solution to the problem and leaving it here propagates bad thinking about how to use file streams."}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1433371101, "post_id": 30627168, "comment_id": 49329517, "body": "@user4581301: that may well be true, but <i>bad</i> answers are still allowed. (And you are free to downvote them ;) and suggest improvements.) I could copy this answer out of the post and submit it as <a href=\"http://stackoverflow.com/help/privileges/community-wiki\">Community wiki</a>, but like you I&#39;m not so sure it&#39;s worth the trouble. Anyway, if OP doesn&#39;t change this post, I&#39;m going to roll it back."}], "answers": [{"comments": [{"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 1, "creation_date": 1433359711, "post_id": 30627840, "comment_id": 49323761, "body": "I don&#39;t like this pattern. IMO, it would be better to call <code>doStuffWithRestOfFile</code> outside of the file loop."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1433361309, "post_id": 30627840, "comment_id": 49324638, "body": "@MustafaOzturk Personal preference or are their tactical/readability reasons? I went with this because I thought the flow was more obvious than my personal preference of <code>while (std::getline (stream, line) &amp;&amp; line.find(&quot;&lt;event&gt;&quot;) == line.npos)</code> an empty loop and then <code>doStuffWithRestOfFile</code>"}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1433427415, "post_id": 30627840, "comment_id": 49356347, "body": "The purpose of the while loop is to bring the stream state to the point you want it. When the event occurs, the purpose of the while loop is done. Conceptually I see it like this: step 1: skip garbage, step 2: process good stuff. The pattern you&#39;re using makes it seem like step 2 is a part of step 1. IMO, your edit is much easier to read."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 2, "last_activity_date": 1433361495, "last_edit_date": 1433361495, "creation_date": 1433355899, "answer_id": 30627840, "question_id": 30627168, "link": "https://stackoverflow.com/questions/30627168/c-delete-all-lines-in-a-txt-file-up-until-a-certain-keyword-is-reached/30627840#30627840", "title": "C++ Delete all lines in a .txt file up until a certain keyword is reached", "body": "<p>Basic skeleton:</p>\n\n<pre><code>std::ifstream stream(\"file name goes here\")\nstd::string line;\n// optional: define line number here\nwhile (std::getline (stream, line))\n{\n    // optional: increment line number here\n    if (line.find(\"&lt;event&gt;\") != line.npos)\n    {  // Deity of choice help you if &lt;event&gt; naturally occurs in junk lines. \n       // Extra smarts may be required here.\n        doStuffWithRestOfFile(stream);\n        break;\n    } \n}\n</code></pre>\n\n<p>Not enough information on how you wish to modify the source file to answer that sub-question. Once you get the reader going, ask a new question if you haven't figured it out.</p>\n\n<p>Edit: Short version</p>\n\n<pre><code>std::ifstream stream(\"file name goes here\")\nstd::string line;\n// optional: define line number here\nwhile (std::getline (stream, line) &amp;&amp; (line.find(\"&lt;event&gt;\") == line.npos))\n{\n    // optional: increment line number here\n}\ndoStuffWithRestOfFile(stream);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 729, "user_id": 1758142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/087d5392c25711573eb218471eac3204?s=128&d=identicon&r=PG", "display_name": "pascx64", "link": "https://stackoverflow.com/users/1758142/pascx64"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433356312, "post_id": 30627888, "comment_id": 49321747, "body": "Thanks, I changed the code to use a <code>do while</code> instead"}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1433356314, "post_id": 30627888, "comment_id": 49321749, "body": "should be <code>while (line.find(&quot;&lt;event&gt;&quot;) == line.npos)</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433356763, "post_id": 30627888, "comment_id": 49322005, "body": "Fails to test if getline succeeded. Will operate on at least one invalid line at end of file."}, {"owner": {"reputation": 729, "user_id": 1758142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/087d5392c25711573eb218471eac3204?s=128&d=identicon&r=PG", "display_name": "pascx64", "link": "https://stackoverflow.com/users/1758142/pascx64"}, "edited": false, "score": 0, "creation_date": 1433357343, "post_id": 30627888, "comment_id": 49322357, "body": "I did suppose that there was eventually a <code>&quot;&lt;event&gt;&quot;</code>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1433360934, "post_id": 30627888, "comment_id": 49324419, "body": "And if there isn&#39;t or there is a file error, you have the dreaded undefined behaviour, probably an infinite loop as the last successfully read value of  line gets continually retested."}], "tags": [], "owner": {"reputation": 729, "user_id": 1758142, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/087d5392c25711573eb218471eac3204?s=128&d=identicon&r=PG", "display_name": "pascx64", "link": "https://stackoverflow.com/users/1758142/pascx64"}, "is_accepted": false, "score": 1, "last_activity_date": 1433356337, "last_edit_date": 1433356337, "creation_date": 1433356081, "answer_id": 30627888, "question_id": 30627168, "link": "https://stackoverflow.com/questions/30627168/c-delete-all-lines-in-a-txt-file-up-until-a-certain-keyword-is-reached/30627888#30627888", "title": "C++ Delete all lines in a .txt file up until a certain keyword is reached", "body": "<p>If you want to override the file with the new version ( without the beginning ) you can either read all the file to memory and override it, or write to a second file while reading the first one, and move/rename it after</p>\n\n<p>to read all line until you find <code>&lt;event&gt;</code> :</p>\n\n<pre><code>std::ifstream input_file( filePath );\nstd::string line;\nint current_line = 0;\n\ndo\n{\n   std::getline( input_file, line );\n   ++current_line;\n}\nwhile( line.find(\"&lt;event&gt;\") == line.npos );\n// use input_line to process the rest of the file\n</code></pre>\n\n<p>Keep in mind that if <code>\"&lt;event&gt;\"</code> is a the first line, then after the <code>do while</code>, <code>current_line</code> will contain 1, not 0</p>\n"}], "owner": {"reputation": 101, "user_id": 2782095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc0fa28096fb6f63145c58ccc87a8657?s=128&d=identicon&r=PG&f=1", "display_name": "zack", "link": "https://stackoverflow.com/users/2782095/zack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1433361495, "creation_date": 1433353550, "last_edit_date": 1433359692, "question_id": 30627168, "link": "https://stackoverflow.com/questions/30627168/c-delete-all-lines-in-a-txt-file-up-until-a-certain-keyword-is-reached", "title": "C++ Delete all lines in a .txt file up until a certain keyword is reached", "body": "<p>I am fairly new to C++, and I'm trying write a code to run some analysis on large data files.  I've managed to write code that produces a text file where only one word/number is displayed per line (there are millions of lines).  However, the first ~3000 or so lines contain useless stuff not needed for my analysis.</p>\n\n<p>The only problem is, the actual data starts at a different line number depending on the input file.</p>\n\n<p>Is there any way to write a quick code which would search the text document and remove all lines up until the point the keyword <code>\"&lt;event&gt;\"</code> is found?</p>\n\n<p>Update: \nI got it to work! May be a little more complicated than what was suggested but it still works.</p>\n\n<p>Thanks for the help!</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;fstream&gt;\n    #include &lt;cstdio&gt;\n    #include &lt;cstring&gt;\n    using namespace std;\n\n    int main()\n    {\n\n        int counter = 0;\n\n    ifstream FileSearch(\"OutputVector.txt\"); // search OutputVector input file.\n\n    while(!FileSearch.eof())\n    {\n        counter++;\n        string temp;\n        FileSearch &gt;&gt; temp;\n\n        if(temp == \"&lt;event&gt;\")\n        {\n            break; //While loop adding +1 to counter each time &lt;event&gt; is not found.\n        }\n    }\n\n\n\n    std::ofstream outFile(\"./final.txt\"); //Create output file \"final.txt.\"\n    std::string line;\n\n std::ifstream inFile(\"OutputVector.txt\"); //open input file OutputVector again.\n\n int count = 0;\n\n while(getline(inFile, line)){\n\n     if(count &gt; counter-2){\n        outFile &lt;&lt; line &lt;&lt; std::endl;\n     }\n     count++; //while loop counts from counter-2 until the end and writes them to the new file.\n }\n outFile.close();\n inFile.close(); //close the files.\n remove(\"OutputVector.txt\"); //Delete uneeded OutputVector File.\n}\n</code></pre>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1433353381, "post_id": 30627073, "comment_id": 49320042, "body": "You can&#39;t add string literals..."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 2, "creation_date": 1433353418, "post_id": 30627073, "comment_id": 49320064, "body": "You&#180;re mathematically adding a character to a memory address here (at least you want to). Don&#180;t confuse C or C++ with eg. Java, and decide for one language (C &quot;or&quot; C++), then we can show you something correct."}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 5, "last_activity_date": 1433353767, "creation_date": 1433353767, "answer_id": 30627215, "question_id": 30627073, "link": "https://stackoverflow.com/questions/30627073/invalid-operands-of-types-const-char-and-const-char-93-to-binary/30627215#30627215", "title": "invalid operands of types &#39;const char*&#39; and &#39;const char [93]&#39; to binary", "body": "<p>You cannot add string literals in C++.  If you use a <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"noreferrer\"><code>std::string</code></a> object then you can do:</p>\n\n<pre><code>int i = 'a';\nchar b = (char)i;\nstd::string text = std::string(\"function make_page(\") + b + \"){\"\n    \"var url = 'http://www.gigasena.com.br/loterias/mega-sena/resultados/resultado-mega-sena-'+\" + b + \"+'.htm';\"\n    \"var page = require('webpage').create();\"\n    \"var fs = require('fs');\"\n    \"page.open(url, function () {\"\n    \"page.evaluate(function(){\"\n    \"\"\n    \"});\"\n    \"page.render('results/export-'+\" + b + \"+'.png');\"\n    \"fs.write('results/'+\" + b + \"+'.html', page.content, 'w');\"\n    \"phantom.exit();\"\n    \"});\"\n    \"}\"\n    \"make_page(\" + b + \");\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 2, "last_activity_date": 1433354486, "creation_date": 1433354486, "answer_id": 30627445, "question_id": 30627073, "link": "https://stackoverflow.com/questions/30627073/invalid-operands-of-types-const-char-and-const-char-93-to-binary/30627445#30627445", "title": "invalid operands of types &#39;const char*&#39; and &#39;const char [93]&#39; to binary", "body": "<p>You cannot use operator+ on two c strings. You can use this:</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/string/byte/strcat\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/string/byte/strcat</a></p>\n\n<p>Or you can do something like this:</p>\n\n<pre><code>char b;\nstd::string text = std::string(\"your text here\") + b + std::string(\"more text etc\");\n//then use text.c_str() if you need const char*\n</code></pre>\n"}], "owner": {"reputation": 7341, "user_id": 1776681, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vykfV.jpg?s=128&g=1", "display_name": "Arthur Yakovlev", "link": "https://stackoverflow.com/users/1776681/arthur-yakovlev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6398, "favorite_count": 1, "closed_date": 1449240494, "accepted_answer_id": 30627215, "answer_count": 2, "score": -3, "last_activity_date": 1433354486, "creation_date": 1433353250, "question_id": 30627073, "link": "https://stackoverflow.com/questions/30627073/invalid-operands-of-types-const-char-and-const-char-93-to-binary", "closed_reason": "Duplicate", "title": "invalid operands of types &#39;const char*&#39; and &#39;const char [93]&#39; to binary", "body": "<pre><code>char b = (char)i;\n        char *text = \"function make_page(\"+b+\"){\"\n\"var url = 'http://www.gigasena.com.br/loterias/mega-sena/resultados/resultado-mega-sena-'+\"+b+\"+'.htm';\"\n\"var page = require('webpage').create();\"\n\"var fs = require('fs');\"\n\"page.open(url, function () {\"\n    \"page.evaluate(function(){\"\n\"\"\n    \"});\"\n    \"page.render('results/export-'+\"+b+\"+'.png');\"\n    \"fs.write('results/'+\"+b+\"+'.html', page.content, 'w');\"\n    \"phantom.exit();\"\n\"});\"\n\"}\"\n\"make_page(\"+b+\");\";\n</code></pre>\n"}, {"tags": ["c++", "linux", "shared-libraries", "sfml"], "comments": [{"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 1, "creation_date": 1433353239, "post_id": 30627040, "comment_id": 49319955, "body": "if you&#39;re building from source, make sure you include the <code>.so</code> in the directory of the executable."}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "reply_to_user": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433353509, "post_id": 30627040, "comment_id": 49320119, "body": "@OMGtechy what do you mean &#39;include the <code>.so</code> in the directory of the executable&#39;? Like put it in the linker settings (I use Code::Blocks btw)"}, {"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1433354405, "post_id": 30627040, "comment_id": 49320631, "body": "What is the error? Try compiling your exe using <code>-z defs</code>, do you get any errors?"}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "edited": false, "score": 0, "creation_date": 1433359529, "post_id": 30627040, "comment_id": 49323675, "body": "The error is <code>cannot open shared object file: No such file or directory</code>, but I have all the necessary files in the folder with it"}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360353, "post_id": 30627040, "comment_id": 49324103, "body": "@bboy3577 if you built it yourself, you need to include the <code>.so</code> file that gets built in the same directory as the executable. This is because it needs to load it at runtime. If you&#39;re not building yourself, it&#39;s irrelevant :)"}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "reply_to_user": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360582, "post_id": 30627040, "comment_id": 49324236, "body": "@OMGtechy The <code>.so</code> files are definitely in the same directory as the executable, in fact I&#39;ve pretty much put the <code>.so</code> files everywhere that makes sense."}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360726, "post_id": 30627040, "comment_id": 49324318, "body": "@bboy3577 you should add everything you&#39;ve tried to this, so people can skip these questions.I&#39;ll look at starting a chat room for youu"}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360764, "post_id": 30627040, "comment_id": 49324340, "body": "@bboy3577 join me in <a href=\"http://chat.stackoverflow.com/rooms/79575/error-while-loading-shared-libraries-libsfml-graphics-so-2-2-0\">chat</a>"}, {"owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "reply_to_user": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360844, "post_id": 30627040, "comment_id": 49324370, "body": "@OMGtechy I need 2 more rep to talk in chat"}, {"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433360878, "post_id": 30627040, "comment_id": 49324391, "body": "@bboy3577 voted up one of your good questions, try again"}], "answers": [{"tags": [], "owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "is_accepted": true, "score": 2, "last_activity_date": 1433395234, "last_edit_date": 1433395234, "creation_date": 1433394114, "answer_id": 30635271, "question_id": 30627040, "link": "https://stackoverflow.com/questions/30627040/error-while-loading-shared-libraries-libsfml-graphics-so-2-2-0/30635271#30635271", "title": "Error while loading shared libraries: libsfml-graphics.so.2.2.0", "body": "<p>This answer relies on <code>libsfml-dev</code> being installed on your system. The way to fix it is removing all SFML options from the Search Directories>Linker, then make sure the linker settings looks something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/vhxOF.png\" alt=\"Linker Settings example\"></p>\n\n<p>This means that CodeBlocks will link to the default place. Afterwards recompile the code (Edit the code so CodeBlocks will actually compile it). I was running g++ 4.9.2 but I'm not sure if the default 4.8.2 works, or if it makes any difference at all.</p>\n"}], "owner": {"reputation": 407, "user_id": 4622917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0c16db7e8178c30e9237415048b35223?s=128&d=identicon&r=PG&f=1", "display_name": "bboy3577", "link": "https://stackoverflow.com/users/4622917/bboy3577"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3631, "favorite_count": 1, "accepted_answer_id": 30635271, "answer_count": 1, "score": 2, "last_activity_date": 1433395234, "creation_date": 1433353111, "last_edit_date": 1433393856, "question_id": 30627040, "link": "https://stackoverflow.com/questions/30627040/error-while-loading-shared-libraries-libsfml-graphics-so-2-2-0", "title": "Error while loading shared libraries: libsfml-graphics.so.2.2.0", "body": "<p>Full Error:\n<code>error while loading shared libraries: libsfml-graphics.so.2.2.0: cannot open shared object file: No such file or directory</code></p>\n\n<p>This is probably the quintillionth time I've run into this error with SFML. This error oddly only occurs when running the executable, rather than during compilation. I don't know what is causing the error (apart from the program not finding the file), since it worked like a charm before I reinstalled Ubuntu. I've tried <code>sudo ldconfig</code> and I have used <code>sudo apt-get install libsfml-dev</code>, but I don't link SFML using it, but from an extracted archive.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 2635, "user_id": 640397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j0Sj.png?s=128&g=1", "display_name": "Apples", "link": "https://stackoverflow.com/users/640397/apples"}, "edited": false, "score": 3, "creation_date": 1433353834, "post_id": 30627011, "comment_id": 49320288, "body": "Why do you need to pass them as reference? <code>V.begin()</code> and <code>V.end()</code> return temporary values, which can only bind to <code>const T&amp;</code> or <code>T&amp;&amp;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 648, "user_id": 3811791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/649e85a70c38c5c3b44ea97f82c9e36c?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Revo", "link": "https://stackoverflow.com/users/3811791/alexander-revo"}, "is_accepted": false, "score": 1, "last_activity_date": 1434029677, "last_edit_date": 1434029677, "creation_date": 1433356190, "answer_id": 30627917, "question_id": 30627011, "link": "https://stackoverflow.com/questions/30627011/passing-reference-to-the-templates/30627917#30627917", "title": "passing reference to the templates", "body": "<p>As AlchemicalApples pointed out in the comment, <code>V.begin()</code> and <code>V.end()</code> return rvalues, which can only be bound to <code>const</code> or rvalue references.</p>\n\n<p>You don't really need to pass iterators by reference - they are cheap to copy. In fact, all STL algorithms take their iterator arguments by value.</p>\n\n<p>Actually, you shouldn't ever pass iterators by reference, because your function would modify them, which is unexpected (none of the standard algorithms do that) and could lead to errors if you use these iterators further in the code.</p>\n"}], "owner": {"reputation": 81, "user_id": 4638508, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1799751303583662/picture?type=large", "display_name": "Mohsin Mushtaq", "link": "https://stackoverflow.com/users/4638508/mohsin-mushtaq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1434029726, "creation_date": 1433353031, "last_edit_date": 1434029726, "question_id": 30627011, "link": "https://stackoverflow.com/questions/30627011/passing-reference-to-the-templates", "title": "passing reference to the templates", "body": "<p>nowadays i m working on the templates .So, i got stuck in the following problem this is the code that fills the vector with random values and then count how many odd values are in it:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;numeric&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n#include &lt;ctime&gt;\nusing namespace std;\nclass Odd{\nprivate:\n    int c;\npublic:\n    bool operator()(int x){return x%2!=0;}\n};\ntemplate&lt;typename T,typename Q&gt;\nint count_(T f1,T f2,Q&amp; check){\n    int count=0;\n    while(f1!=f2)\n    {\n        count+=check(*f1);\n        f1++;\n    }\n    return count;\n}\nint Rand(){\n    return ((rand()%100)+1);\n}\nint main(){\n    srand(time(0));\n    vector&lt;int&gt; V(100);\n    Odd O;\n    generate(V.begin(),V.end(),Rand);\n    cout&lt;&lt;count_(V.begin(),V.end(),O);\n}\n</code></pre>\n\n<p>This works perfectly fine but when i pass T&amp; in the arguments it gives error ..i.e</p>\n\n<pre><code>template&lt;typename T,typename Q&gt;\nint count_(T&amp; f1,T&amp; f2,Q&amp; check){\n    int count=0;\n    while(f1!=f2)\n    {\n        count+=check(*f1);\n        f1++;\n    }\n</code></pre>\n\n<p>I dont know why because this is the reference to the pointer so it will work perfectly fine ...plz HELP ..THANKX</p>\n"}, {"tags": ["c++", "enums"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1433355627, "post_id": 30626963, "comment_id": 49321366, "body": "&quot;For example i create an enum in one function&quot;... you might want to read up on <i>scope</i> as well as how to delcare &amp; implements functions with parameters."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433367141, "post_id": 30626963, "comment_id": 49327836, "body": "For your <code>animals</code> type to be usable in both functions, it has to be visible to both functions, which means it can&#39;t be defined inside either of them. Also, C++ doesn&#39;t have array parameters; either pass a pointer to the first element (<code>function2(array)</code> does this implicitly), which means you&#39;ll need to pass the length explicitly, or use a container class (<code>vector</code>, <code>array</code>, etc.; I don&#39;t know which one is best)."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1433373856, "post_id": 30626963, "comment_id": 49330584, "body": "@Ben that&#39;s a C question; C++ has better options"}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1433373648, "post_id": 30631043, "comment_id": 49330518, "body": "Casting to <code>int*</code> is still a bad idea. Types <code>int</code> and <code>animals</code> might not be the same size. And your description still refers to casting to an array type. I suggest deleting the first two lines of this answer; making the <code>enum</code> type visible to both functions is the only sensible solution."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1433373690, "post_id": 30631043, "comment_id": 49330532, "body": "This causes undefined behaviour"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 0, "creation_date": 1433373924, "post_id": 30631043, "comment_id": 49330609, "body": "@AnT You could cast to reference to array type"}], "tags": [], "owner": {"reputation": 629, "user_id": 2581799, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac581346398a0fd1694fbbbd456559cc?s=128&d=identicon&r=PG", "display_name": "Luke", "link": "https://stackoverflow.com/users/2581799/luke"}, "is_accepted": true, "score": -2, "last_activity_date": 1433370820, "last_edit_date": 1433370820, "creation_date": 1433366708, "answer_id": 30631043, "question_id": 30626963, "link": "https://stackoverflow.com/questions/30626963/passing-an-enum-type-as-a-parameter-c/30631043#30631043", "title": "Passing an enum type as a parameter? c++", "body": "<p>You can cast the array to an int array and pass it in: </p>\n\n<pre><code>function2((int*)array);\n</code></pre>\n\n<p>But then function 2 won't know how to decode your enum.  If you want to use the enum across more than one function, then you need to define it as a global or in some other place that both functions can see.</p>\n"}, {"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1433373837, "creation_date": 1433373837, "answer_id": 30632522, "question_id": 30626963, "link": "https://stackoverflow.com/questions/30626963/passing-an-enum-type-as-a-parameter-c/30632522#30632522", "title": "Passing an enum type as a parameter? c++", "body": "<p>The <code>enum</code> definition has to be visible to both functions. For example:</p>\n\n<pre><code>enum animals{cow,cat,dog};\n\ntemplate&lt;size_t N&gt;\nvoid function2(animals (&amp;foo)[N])\n{\n    cout &lt;&lt; \"Received \" &lt;&lt; N &lt;&lt; \" animals.\\n\";\n}\n\nvoid function1()\n{\n    animals array[3] = { cow, cow, cow };\n    function2(array);\n} \n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4970754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7c3db90514c60fa9810b28fd4fd81?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Costa", "link": "https://stackoverflow.com/users/4970754/pedro-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "accepted_answer_id": 30631043, "answer_count": 2, "score": 0, "last_activity_date": 1433373837, "creation_date": 1433352888, "last_edit_date": 1433366312, "question_id": 30626963, "link": "https://stackoverflow.com/questions/30626963/passing-an-enum-type-as-a-parameter-c", "title": "Passing an enum type as a parameter? c++", "body": "<p>For example i create an enum in one function and save them on an array of animals type, int this case just the cow value, and then i want to pass that array into function2 as a parameter, how do i do it?</p>\n\n<pre><code>void function1()\n{\n    enum animals{cow,cat,dog};\n\n    animals array[3];\n\n    for(int i=0;i&lt;3;i++)\n    {\n        array[i]=cow;\n    }\n\n    function2(array);\n} \n\nvoid function2()\n{\n    // blablabla\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "edited": false, "score": 0, "creation_date": 1433364481, "post_id": 30626887, "comment_id": 49326446, "body": "This will be always inaccurate alone because of other (user) events being processed in the main thread and blocking it. I&#39;d consider using another dedicated thread for this and other means to schedule the beeps (some variant of sleep() might already do the trick)"}, {"owner": {"reputation": 295, "user_id": 978563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/487106d76b8a00a62e837e064b834c30?s=128&d=identicon&r=PG", "display_name": "zacharoni16", "link": "https://stackoverflow.com/users/978563/zacharoni16"}, "reply_to_user": {"reputation": 23728, "user_id": 299399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1907f4968c4c5b5fedb8f7cba422a032?s=128&d=identicon&r=PG", "display_name": "Frank Osterfeld", "link": "https://stackoverflow.com/users/299399/frank-osterfeld"}, "edited": false, "score": 0, "creation_date": 1433379948, "post_id": 30626887, "comment_id": 49332163, "body": "You mean sleep() in the worker thread? I&#39;m not sure if I want to introduce another thread, but as far as I can tell the thread for sound is output only and does not need to communicate with the main thread at all. So there shouldn&#39;t be any threading issues like semaphores as I can tell needed"}], "answers": [{"tags": [], "owner": {"reputation": 12454, "user_id": 79737, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/GaA88.jpg?s=128&g=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/79737/jay"}, "is_accepted": false, "score": 3, "last_activity_date": 1433353125, "creation_date": 1433353125, "answer_id": 30627043, "question_id": 30626887, "link": "https://stackoverflow.com/questions/30626887/improving-qtimer-accuracy/30627043#30627043", "title": "Improving QTimer Accuracy", "body": "<p>The accuracy of the timer is limited by the operating system. The Qt library uses operating system timers \"under the covers\".</p>\n\n<p>If you need high accuracy I would have a timer subroutine that reads a hardware based clock to establish the timing of events. You'll need to dig into your operating system documentation to get the details.</p>\n"}], "owner": {"reputation": 295, "user_id": 978563, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/487106d76b8a00a62e837e064b834c30?s=128&d=identicon&r=PG", "display_name": "zacharoni16", "link": "https://stackoverflow.com/users/978563/zacharoni16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433353125, "creation_date": 1433352609, "question_id": 30626887, "link": "https://stackoverflow.com/questions/30626887/improving-qtimer-accuracy", "title": "Improving QTimer Accuracy", "body": "<p>I am using QT 4.7, and have a timer that will execute a function 2 times a second or 4 times a second based on what type of sound is required.</p>\n\n<pre><code>    void Keypad::SoundRequest(bool allowBeeps, int beepType)\n    {\n\n        // Clear any Previous active Timer\n        if (sound1Timer-&gt;isActive() == true)\n        {\n            sound1Timer-&gt;stop();\n        }\n        else if(sound2Timer-&gt;isActive() == true)\n        {\n            sound2Timer-&gt;stop();\n        }\n\n        // Zero out main \n        (void) memset(&amp;soundmain_t, (char) 0, sizeof(soundmain_t));\n        // Zero out sound1\n        (void) memset(&amp;sound1_t, (char) 0, sizeof(sound1_t));\n        // Zero out the sound2\n        (void) memset(&amp;sound2_t, (char) 0, sizeof(sound2_t));\n\n        if (allowBeeps == true)\n        {\n            if(beepType == OSBEEP)\n            {\n                sound1Timer-&gt;start(500); // 250mS On / 250mS off called every 500mS = 2HZ\n            }\n            else if (beepType == DOORBEEP)\n            {\n                sound2Timer-&gt;start(250); // 125mS On / 125mS off called every 250mS = 4HZ\n            }\n\n        }\n        else if (allowBeeps == false)\n        {\n            //Shut the Beeper Down\n\n            if (sound1Timer-&gt;isActive() == true)\n            {\n                sound1Timer-&gt;stop();\n            }\n            else if(sound2Timer-&gt;isActive() == true)\n            {\n                sound2Timer-&gt;stop();\n            }\n\n            SOUND_BLAST(0, &amp;soundmain_t);\n        }\n\n\n    }\n\nConstructor:\n\n    sound1Timer = new QTimer(this);\n    sound2Timer = new QTimer(this);\n\n    connect(sound1Timer, SIGNAL(timeout()), this, SLOT(sound1Handler()));\n    connect(sound2Timer, SIGNAL(timeout()), this, SLOT(sound2Handler()));\n\n\n\nSLOTS:\n\nvoid Keypad::sound1Handler()\n{\n    // Sound a 250mS chirp\n    SOUND_BLAST(0, &amp;sound1_t);\n}\n\n// Public SLOT, Called by sound2Timer()\n// Sounds a single 125mS Beep\n\nvoid Keypad::sound2Handler()\n{\n    // Emit a Single 125mS chirp\n    SOUND_BLAST(0, &amp;sound2_t);\n}\n</code></pre>\n\n<p>The Timer is mostly accurate, but it is not exactly 2Hz or 4Hz all the time. To improve the accuracy I was thinking of using a faster timer of say 25mS and letting it run, and every time it accumulates to 250mS or 125mS then sound the beep. However, I am not sure if this would make it more accurate. </p>\n\n<p>Should I measure execution time with QElapsedTimer() and subtract the overhead to sound1Timer, and sound2Timer intervals? Is there a better way to do this? </p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 1, "creation_date": 1433352789, "post_id": 30626879, "comment_id": 49319656, "body": "use tag-dispatching or sfinae"}, {"owner": {"reputation": 9345, "user_id": 1021920, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/VukgG.jpg?s=128&g=1", "display_name": "hellow", "link": "https://stackoverflow.com/users/1021920/hellow"}, "edited": false, "score": 0, "creation_date": 1433352848, "post_id": 30626879, "comment_id": 49319702, "body": "just remove the &lt;T&gt; after pop and it just should work. Not tested though ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1433353273, "post_id": 30626879, "comment_id": 49319975, "body": "You have <code>two pop&lt;T&gt;()</code> with different return types, no good."}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 2, "creation_date": 1433353620, "post_id": 30626879, "comment_id": 49320184, "body": "<a href=\"http://stackoverflow.com/q/27444624/3953764\">How to simulate a partial specialization of selected member functions based on a template parameter that is an STL container?</a>"}, {"owner": {"reputation": 315, "user_id": 1727449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e0681faba8eeefa837e950bbd004043?s=128&d=identicon&r=PG", "display_name": "Austin Salgat", "link": "https://stackoverflow.com/users/1727449/austin-salgat"}, "edited": false, "score": 0, "creation_date": 1433428246, "post_id": 30626879, "comment_id": 49356975, "body": "Thanks Piotr your solution (tag dispatching) worked great. I updated the original question with the solution I got from you."}, {"owner": {"reputation": 49634, "user_id": 8372853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GzQid.png?s=128&g=1", "display_name": "cigien", "link": "https://stackoverflow.com/users/8372853/cigien"}, "edited": false, "score": 0, "creation_date": 1606926344, "post_id": 30626879, "comment_id": 115112600, "body": "Please don&#39;t add a solution to the question. Add it as an answer instead. I&#39;ve rolled-back the question, and added your solution as an answer."}], "answers": [{"comments": [{"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 1, "creation_date": 1433353285, "post_id": 30627010, "comment_id": 49319981, "body": "the idea is good ... but there are so many syntax errors in the answer it&#39;s hard to follow. You wrote <code>classname_pop</code> then <code>classname_pop_t</code>, and you called the function the same thing, <code>classname_pop</code> (should be <code>classname::pop</code>?). And surely it should be <code>classname::pop()</code> (with no argument) calling <code>classname_pop::pop(*this)</code> (with one argument)? And the unspecialized one should call <code>return obj.pop_unspecialized&lt;T&gt;()</code> ?"}], "tags": [], "owner": {"reputation": 4944, "user_id": 4877767, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RO6mn.png?s=128&g=1", "display_name": "marom", "link": "https://stackoverflow.com/users/4877767/marom"}, "is_accepted": false, "score": 1, "last_activity_date": 1433353021, "creation_date": 1433353021, "answer_id": 30627010, "question_id": 30626879, "link": "https://stackoverflow.com/questions/30626879/template-specialization-for-t-stdvectort/30627010#30627010", "title": "Template Specialization for T -&gt; std::vector&lt;T&gt;", "body": "<p>A possible solution is a non-member function implemented like this</p>\n\n<pre><code>template &lt;class T&gt;\nstruct classname_pop\n{\n    static T pop(classname &amp;obj) { return obj.pop() ;}\n}\n\ntemplate &lt;class T&gt;\nstruct classname_pop&lt;std::vector&lt;T&gt;&gt;\n{\n   static std::vector&lt;T&gt; pop(classname &amp;obj) {obj.specialized_pop() ;}\n}\n\ntemplate &lt;class T&gt;\nT classname_pop(classname &amp;obj)\n{\n   return classname_pop_t&lt;T&gt;::pop() ;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1433353386, "post_id": 30627012, "comment_id": 49320045, "body": "You&#39;re going to need to pass <code>*this</code> to those static functions, surely?"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1433353460, "post_id": 30627012, "comment_id": 49320089, "body": "@JonathanWakely Well, in the OP&#39;s example, the function took no arguments."}, {"owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "edited": false, "score": 0, "creation_date": 1433412294, "post_id": 30627012, "comment_id": 49345913, "body": "Right, that&#39;s exactly what I meant. I can&#39;t upvote it again though, as I already did :)"}], "tags": [], "owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "is_accepted": false, "score": 6, "last_activity_date": 1433353567, "last_edit_date": 1433353567, "creation_date": 1433353036, "answer_id": 30627012, "question_id": 30626879, "link": "https://stackoverflow.com/questions/30626879/template-specialization-for-t-stdvectort/30627012#30627012", "title": "Template Specialization for T -&gt; std::vector&lt;T&gt;", "body": "<p>Off the top of my head, I usually get around it by using a one-member struct:</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct pop_impl {\n    static T pop(classname&amp; x); // normal function\n};\n\ntemplate &lt;typename T&gt;\nstruct pop_impl&lt;std::vector&lt;T&gt;&gt; {\n    static std::vector&lt;T&gt; pop(classname&amp; x); // specialized for std::vector&lt;T&gt;\n};\n\ntemplate &lt;typename T&gt;\nT classname::pop() { return pop_impl&lt;T&gt;::pop(*this); }\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 0, "last_activity_date": 1433357299, "last_edit_date": 1433357299, "creation_date": 1433356901, "answer_id": 30628120, "question_id": 30626879, "link": "https://stackoverflow.com/questions/30626879/template-specialization-for-t-stdvectort/30628120#30628120", "title": "Template Specialization for T -&gt; std::vector&lt;T&gt;", "body": "<p>You need a temporary proxy to dispatch to different results:</p>\n\n<p>Example:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nclass Stack\n{\n    private:\n    std::vector&lt;int&gt; m_data;\n\n    class Pop {\n        friend class Stack;\n\n        public:\n        Stack&amp; stack;\n\n        Pop(Stack&amp; stack)\n        :   stack(stack)\n        {}\n\n        private:\n        Pop(const Pop&amp;) = default;\n        Pop&amp; operator = (const Pop&amp;) = default;\n\n        public:\n        operator int () {\n            std::vector&lt;int&gt;&amp; data = stack.m_data;\n            int result = -1;\n            if( ! data.empty()) {\n                result = data.front();\n                data.erase(data.begin());\n            }\n            return result;\n        }\n\n        operator std::vector&lt;int&gt; () {\n            std::vector&lt;int&gt;&amp; data = stack.m_data;\n            std::size_t size = std::min(data.size(), std::size_t(3));\n            std::vector&lt;int&gt; result(data.begin(), data.begin() + size);\n            data.erase(data.begin(), data.begin() + size);\n            return result;\n        }\n    };\n\n    public:\n    Stack()\n    :   m_data( {0, 1, 2, 3, 4, 5, 6, 7, 8} )\n    {}\n\n    const std::vector&lt;int&gt;&amp; data() const { return m_data; }\n    Pop pop() { return Pop(*this); }\n};\n\nint main()\n{\n    Stack stack;\n    int i = stack.pop();\n    std::vector&lt;int&gt; v = stack.pop();\n    std::cout &lt;&lt; \"i = \" &lt;&lt; i &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"v = {\";\n    for(auto i : v)\n        std::cout &lt;&lt; i;\n    std::cout &lt;&lt; \"}\\n\";\n}\n</code></pre>\n\n<p><strong>Disclaimer</strong>: I consider the code totally useless (It might become useful if there is a pop() just returning a single value and a pop(std::size_t) converting to different containers, where the destructor of Pop is doing the erase).</p>\n"}, {"tags": [], "owner": {"reputation": 49634, "user_id": 8372853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GzQid.png?s=128&g=1", "display_name": "cigien", "link": "https://stackoverflow.com/users/8372853/cigien"}, "is_accepted": true, "score": 2, "last_activity_date": 1607026335, "last_edit_date": 1607026335, "creation_date": 1606926251, "answer_id": 65112076, "question_id": 30626879, "link": "https://stackoverflow.com/questions/30626879/template-specialization-for-t-stdvectort/65112076#65112076", "title": "Template Specialization for T -&gt; std::vector&lt;T&gt;", "body": "<p>This answer was originally provided by <a href=\"https://stackoverflow.com/users/1727449\">Austin Salgat</a> in the body of the question <a href=\"https://stackoverflow.com/questions/30626879\">Template Specialization for T -&gt; std::vector</a>, (posted under the CC BY-SA 3.0 license), and has been moved here as an answer in order to adhere to the site's Q&amp;A format.</p>\n<hr />\n<blockquote>\n<p>Thanks to Piotr I ended up using tag dispatching. Below is the code\nfor what I ended up doing,</p>\n<pre><code>// The public method that is accessed by class.push&lt;std::vector&lt;int&gt;&gt;(12);\ntemplate&lt;class T&gt;\nvoid push(T data) {\n    push(tag&lt;T&gt;(), data);\n}\n\n// The private method that calls the actual vector push for vector types\ntemplate&lt;class T&gt;\nvoid push(tag&lt;std::vector&lt;T&gt;&gt;, std::vector&lt;T&gt; const&amp; data_vector) {\n    push_vector(data_vector);\n}\n\n// The actual implementation\ntemplate&lt;class T&gt;\nvoid push_vector(std::vector&lt;T&gt; const&amp; data_vector) {\n// Actual implementation in here\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 315, "user_id": 1727449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e0681faba8eeefa837e950bbd004043?s=128&d=identicon&r=PG", "display_name": "Austin Salgat", "link": "https://stackoverflow.com/users/1727449/austin-salgat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2160, "favorite_count": 1, "accepted_answer_id": 65112076, "answer_count": 4, "score": 6, "last_activity_date": 1607026335, "creation_date": 1433352573, "last_edit_date": 1606926276, "question_id": 30626879, "link": "https://stackoverflow.com/questions/30626879/template-specialization-for-t-stdvectort", "title": "Template Specialization for T -&gt; std::vector&lt;T&gt;", "body": "<p>I have a template class method</p>\n<pre><code>template&lt;class T&gt;\nT pop&lt;T&gt;();\n</code></pre>\n<p>Now I want to do a template specialization as follows,</p>\n<pre><code>template&lt;class T&gt;\nstd::vector&lt;T&gt; pop&lt;T&gt;();\n</code></pre>\n<p>I can do the following no problem,</p>\n<pre><code>template&lt;&gt;\nstd::vector&lt;int&gt; classname::pop&lt;std::vector&lt;int&gt;&gt;();\n</code></pre>\n<p>But I still need to leave the type as a template parameter. How do I accomplish this?</p>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 981, "user_id": 2373609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Sij07.jpg?s=128&g=1", "display_name": "MatthewRock", "link": "https://stackoverflow.com/users/2373609/matthewrock"}, "edited": false, "score": 0, "creation_date": 1433352300, "post_id": 30626690, "comment_id": 49319370, "body": "My first thoguht too. Read up about SFINAE, this could be useful."}, {"owner": {"reputation": 3215, "user_id": 391022, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea7fc262f7e3fe98d8996d19c3283ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Andreson", "link": "https://stackoverflow.com/users/391022/marc-andreson"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1433352623, "post_id": 30626690, "comment_id": 49319541, "body": "@LightnessRacesinOrbit what SFINAE has to do with it?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 3215, "user_id": 391022, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ea7fc262f7e3fe98d8996d19c3283ea4?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Andreson", "link": "https://stackoverflow.com/users/391022/marc-andreson"}, "edited": false, "score": 7, "creation_date": 1433352703, "post_id": 30626690, "comment_id": 49319595, "body": "@MarcAndreson: Well I failed to substitute &quot;SFINAE&quot; for a better idea, but that&#39;s not an error ;)"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1433353262, "post_id": 30626690, "comment_id": 49319967, "body": "@LightnessRacesinOrbit Actually, can you come up with any reasonable example in which <code>bool_constant</code> should be used in conjunction with SFINAE? I can&#39;t, off the top of my head."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1433354214, "post_id": 30626690, "comment_id": 49320503, "body": "@Columbo: Refer to my previous comment, if you get a spare moment."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1433354633, "post_id": 30626690, "comment_id": 49320782, "body": "@LightnessRacesinOrbit I realize that SFINAE has not <i>much</i> to do with it, and you jokingly acknowledged that. I still want to know whether there is an example, just out of curiosity."}, {"owner": {"reputation": 33082, "user_id": 726300, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZWH6H.png?s=128&g=1", "display_name": "Luc Danton", "link": "https://stackoverflow.com/users/726300/luc-danton"}, "edited": false, "score": 1, "creation_date": 1433437131, "post_id": 30626690, "comment_id": 49363063, "body": "<a href=\"http://www.boost.org/doc/libs/release/libs/mpl/doc/\" rel=\"nofollow noreferrer\">Boost.MPL</a> is in some sense a precursor to modern metaprogramming and it comes with <a href=\"http://www.boost.org/doc/libs/release/libs/mpl/doc/refmanual/bool.html\" rel=\"nofollow noreferrer\"><code>mpl::bool_&lt;&gt;</code></a> (as well as <code>mpl::int_</code> and so on), so the technique has a precedent."}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1433384507, "post_id": 30626908, "comment_id": 49333169, "body": "Whenever I repeatedly use <code>std::integral_constant</code> I end up writing aliases much like it; which is an argument for.  OTOH, I use <code>bool_t</code> instead of something that long.  Brevity is the something."}, {"owner": {"reputation": 568, "user_id": 859774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/859774/matt"}, "edited": false, "score": 0, "creation_date": 1433421649, "post_id": 30626908, "comment_id": 49352121, "body": "Thanks for the answer! And, yeah, I&#39;ve already been using <code>std::integral_constant</code>, so the question had an implicit &quot;as opposed to just using <code>std::integral_constant&lt;bool, B&gt;</code> as before&quot; part, which you&#39;ve also answered: Syntactic sugar &amp; conciseness make sense :-)"}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 16, "last_activity_date": 1469430212, "last_edit_date": 1469430212, "creation_date": 1433352721, "answer_id": 30626908, "question_id": 30626690, "link": "https://stackoverflow.com/questions/30626690/rationale-behind-stdbool-constant/30626908#30626908", "title": "Rationale behind std::bool_constant", "body": "<p>It's pure syntactic sugar. Often, we use e.g. tag-dispatching like so:</p>\n\n<pre><code>void foo_impl(std::false_type) { /*Implementation for stuff (and char) */}\nvoid foo_impl(std::true_type ) { /*Implementation for integers but not char*/}\n\ntemplate &lt;typename T&gt;\nvoid foo(T) {\n    foo_impl(t, std::bool_constant&lt;std::is_integral&lt;T&gt;{} &amp;&amp; !std::is_same&lt;char, T&gt;{}&gt;());\n}\n</code></pre>\n\n<p>Without <code>bool_constant</code>, we'd have to use a longer type-specifier to designate the desired type: <code>std::integral_constant&lt;bool, ...&gt;</code>. Since the usage of <code>integral_constant</code> for boolean values pops up especially often, a concise and short way of adressing the specializations was asked for, and <code>bool_constant</code> provides that.<br>\nIn fact, <code>bool_constant</code> is nothing more than an alias template for <code>bool</code>-specializations of <code>integral_constant</code>:</p>\n\n<pre><code>template &lt;bool B&gt;\nusing bool_constant = integral_constant&lt;bool, B&gt;;\n</code></pre>\n\n<p>The only reason the declarations for <code>true_type</code> and <code>false_type</code> (and other uses of <code>integral_constant&lt;bool, ..&gt;</code>) were altered is for brevity in the standard, even; There was no technical need, as <code>integral_constant&lt;bool, false&gt;</code> and <code>bool_constant&lt;false&gt;</code> designate the exact same type.</p>\n"}], "owner": {"reputation": 568, "user_id": 859774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc4a77a8256c3049728728c6c45625b?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/859774/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2422, "favorite_count": 1, "accepted_answer_id": 30626908, "answer_count": 1, "score": 6, "last_activity_date": 1469430212, "creation_date": 1433352020, "question_id": 30626690, "link": "https://stackoverflow.com/questions/30626690/rationale-behind-stdbool-constant", "title": "Rationale behind std::bool_constant", "body": "<p>I'm wondering, what is the rationale behind introducing <code>std::bool_constant</code> and its subsequent use for <code>std::true_type</code> and <code>std::false_type</code> (as well as the comparison structs defined in header <code>&lt;ratio&gt;</code>, cf. N4389) in C++17?</p>\n\n<p>Thus far I've only been able to locate the papers containing the wording:</p>\n\n<ul>\n<li><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4334.html\" rel=\"noreferrer\">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2014/n4334.html</a></li>\n<li><a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4389.html\" rel=\"noreferrer\">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2015/n4389.html</a></li>\n</ul>\n\n<p>While both paper refer to a \"rationale\" -- <a href=\"https://issues.isocpp.org/show_bug.cgi?id=51\" rel=\"noreferrer\">https://issues.isocpp.org/show_bug.cgi?id=51</a> -- the linked-to comment feed mostly states that this is \"Based on the discussion on c++std-lib*\" (presumably referring to the private reflector?) without going into further details.</p>\n\n<p>Here is the the documentation:\n<a href=\"http://en.cppreference.com/w/cpp/types/integral_constant\" rel=\"noreferrer\">http://en.cppreference.com/w/cpp/types/integral_constant</a></p>\n"}, {"tags": ["c++", "file", "io"], "comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1433352156, "post_id": 30626657, "comment_id": 49319297, "body": "Unless you only have plain data types, you will run into trouble reading and writing your data like that (i.e. a <code>std::string</code> or <code>std::vector</code> will be a problem)."}, {"owner": {"reputation": 1, "user_id": 4154562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb0d30ccf0e4fa2f3d500d8df62a9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Kathuria", "link": "https://stackoverflow.com/users/4154562/ankit-kathuria"}, "reply_to_user": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 0, "creation_date": 1433352468, "post_id": 30626657, "comment_id": 49319458, "body": "How do you suggest I do it?"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433352473, "post_id": 30626657, "comment_id": 49319462, "body": "<code>for(int i=0;i&lt;count-1;i++)</code> should be <code>for(int i=0;i&lt;count;i++)</code>."}, {"owner": {"reputation": 1, "user_id": 4154562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb0d30ccf0e4fa2f3d500d8df62a9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Kathuria", "link": "https://stackoverflow.com/users/4154562/ankit-kathuria"}, "edited": false, "score": 0, "creation_date": 1433353528, "post_id": 30626657, "comment_id": 49320135, "body": "Hey it worked! Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4970713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846f351fbaa084e790ad971bea23449d?s=128&d=identicon&r=PG", "display_name": "tomek", "link": "https://stackoverflow.com/users/4970713/tomek"}, "is_accepted": false, "score": 0, "last_activity_date": 1433352463, "creation_date": 1433352463, "answer_id": 30626838, "question_id": 30626657, "link": "https://stackoverflow.com/questions/30626657/unable-to-write-an-object-to-a-file-in-c/30626838#30626838", "title": "Unable to write an object to a file in C++", "body": "<p>Here is how to do this using streams:</p>\n\n<ol>\n<li>Writing to file:</li>\n</ol>\n\n<p><code>int main () {\n              std::fstream fs;\n          fs.open (\"test.txt\", std::fstream::in | std::fstream::out | std::fstream::app);\n              fs &lt;&lt; \" more lorem ipsum\";\n              fs.close();\n              return 0;\n    }</code></p>\n\n<ol start=\"2\">\n<li>Reading from file:</li>\n</ol>\n\n<p><code>int main () {\n      string line;\n      ifstream myfile (\"example.txt\");\n      if (myfile.is_open())\n      {\n        while ( getline (myfile,line) )\n        {\n          cout &lt;&lt; line &lt;&lt; '\\n';\n        }\n        myfile.close();\n      }\n      else cout &lt;&lt; \"Unable to open file\";\n      return 0;\n    }</code></p>\n"}], "owner": {"reputation": 1, "user_id": 4154562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bb0d30ccf0e4fa2f3d500d8df62a9e1?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Kathuria", "link": "https://stackoverflow.com/users/4154562/ankit-kathuria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1433355595, "creation_date": 1433351900, "last_edit_date": 1433355595, "question_id": 30626657, "link": "https://stackoverflow.com/questions/30626657/unable-to-write-an-object-to-a-file-in-c", "title": "Unable to write an object to a file in C++", "body": "<p>After running <code>SaveToFile()</code> the file isempty. It won't print anything. Also, when I use <code>while(file.eof() == 0)</code> instead of <code>while(file.read(...))</code> in <code>DisplayFromFile()</code> it loops forever.</p>\n\n<pre><code>using namespace std;\n\nvoid database::SaveToFile()\n{\n  fstream file;\n  file.open(\"abc\", ios::ate);\n  for (int i = 0; i &lt; count - 1; i++)\n  {\n    file.write((char *) &amp;s[i], sizeof s[i]);\n  }\n  file.close();\n}\n\nvoid database::DisplayFromFile()\n{\n  student stud;\n  fstream file;\n  file.open(\"abc\", ios::in);\n  file.seekg(0, ios::beg);\n  cout &lt;&lt; \"Rollno\\t|\\tMarks \" &lt;&lt; endl;\n  cout &lt;&lt; \"------------------------------------\" &lt;&lt; endl;\n  while (file.read((char *) &amp;stud, sizeof stud))\n  {\n    cout &lt;&lt; stud.getrollno() &lt;&lt; \"\\t|\\t\" &lt;&lt; stud.getmarks() &lt;&lt; endl;\n  }\n  file.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "input", "getline"], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1433352345, "post_id": 30626762, "comment_id": 49319394, "body": "why not <code>if (isspace(ch)</code>?"}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1433352545, "post_id": 30626762, "comment_id": 49319499, "body": "@NathanOliver This would keep other characters, such as digits and special characters. However, OP&#39;s shifting algorithm is not suitable for these characters."}, {"owner": {"reputation": 17, "user_id": 4963855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1c749dc4f29665dd1a0d8ce4ce14d96?s=128&d=identicon&r=PG&f=1", "display_name": "bert0nius", "link": "https://stackoverflow.com/users/4963855/bert0nius"}, "edited": false, "score": 0, "creation_date": 1433352660, "post_id": 30626762, "comment_id": 49319570, "body": "Works perfectly. I&#39;ll remember that check. Thank you very much dasblinkenlight."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1433352667, "post_id": 30626762, "comment_id": 49319579, "body": "Ah I see.  You are only going to encrypt the character if it is in a-z."}], "tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1433352254, "creation_date": 1433352254, "answer_id": 30626762, "question_id": 30626644, "link": "https://stackoverflow.com/questions/30626644/why-are-numbers-and-special-characters-inserted-into-spaces/30626762#30626762", "title": "Why are numbers and special characters inserted into spaces?", "body": "<p>The reason why your <code>encrypt</code> inserts special characters is that the loop does not pay attention to spaces, shifting them by <code>key</code> code points in the same way as it does the regular characters.</p>\n\n<p>Adding a check to see if the character is a lowercase letter will fix the problem:</p>\n\n<pre><code>for (auto &amp;it : iostr)\n{\n    ch = tolower(it);\n    if (!islower(ch)) {\n        continue;\n    }\n    ch += key;\n    if (ch &gt; 'z') {\n        ch -= 26;\n    }\n    it = ch;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1433353101, "creation_date": 1433353101, "answer_id": 30627034, "question_id": 30626644, "link": "https://stackoverflow.com/questions/30626644/why-are-numbers-and-special-characters-inserted-into-spaces/30627034#30627034", "title": "Why are numbers and special characters inserted into spaces?", "body": "<p>You are shifting all characters by the key including the spaces. You need to exclude the spaces from your shift if you want them to stay. For example you could do the following:</p>\n\n<pre><code>void encrypt(std::string &amp;iostr, int key)\n{\n   key %= 26;\n   int ch;\n\n   for (auto &amp;it : iostr)\n   {\n      if (it != ' ')  //if not space character then shift\n      {\n         ch = tolower(it) + key;\n         if (ch &gt; 'z')\n            ch -= 26;\n         it = ch;\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 4963855, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1c749dc4f29665dd1a0d8ce4ce14d96?s=128&d=identicon&r=PG&f=1", "display_name": "bert0nius", "link": "https://stackoverflow.com/users/4963855/bert0nius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 30626762, "answer_count": 2, "score": 1, "last_activity_date": 1433353101, "creation_date": 1433351862, "last_edit_date": 1433352276, "question_id": 30626644, "link": "https://stackoverflow.com/questions/30626644/why-are-numbers-and-special-characters-inserted-into-spaces", "title": "Why are numbers and special characters inserted into spaces?", "body": "<p>I've been trying to use getline to recognize the spaces in my string input. Instead of spaces, numbers are special characters are being inserted between words. When I use cin normally the function works, but it doesn't see spaces. </p>\n\n<p>How can I change the following so that there are actual spaces?</p>\n\n<p>Here's my code with getline(Letters in string no longer shifting):</p>\n\n<pre><code>#include \"stdafx.h\"\nusing namespace std;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nvoid encrypt(std::string &amp;iostr, int key)\n{\n    key %= 26;\n    int ch;\n\n    for (auto &amp;it : iostr)\n    {\n        ch = tolower(it) + key;\n        if (ch &gt; 'z')\n            ch -= 26;\n        it = ch;\n    }\n}\n\nint main()\n{\n    string source;\n    int key = 1;\n    cout &lt;&lt; \"Paste cyphertext and press enter to shift 1 right: \";\n\n    getline(cin, source);\n    encrypt(source, key);\n\n\n    cout &lt;&lt; source &lt;&lt; \"\";\n\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "bitmap", "textures", "sdl", "surface"], "answers": [{"tags": [], "owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "is_accepted": true, "score": 1, "last_activity_date": 1433352882, "creation_date": 1433352882, "answer_id": 30626960, "question_id": 30626543, "link": "https://stackoverflow.com/questions/30626543/how-to-go-from-raw-bitmap-data-to-sdl-surface-or-texture/30626960#30626960", "title": "How to go from raw Bitmap data to SDL Surface or Texture?", "body": "<p><code>SDL_LoadBMP_RW</code> is for loading an image in the BMP file format. And it expects an <code>SDL_RWops*</code>, which is a file stream, not a pixel buffer. The function you want is <a href=\"https://wiki.libsdl.org/SDL_CreateRGBSurfaceFrom\" rel=\"nofollow\">SDL_CreateRGBSurfaceFrom</a>. I believe this call should work for your purposes:</p>\n\n<pre><code>SDL_Surface* surface =\n    SDL_CreateRGBSurfaceFrom(\n      pixels,       // dest_buffer from CopyTo\n      width,        // in pixels\n      height,       // in pixels\n      depth,        // in bits, so should be dest_depth * 8\n      pitch,        // dest_row_span from CopyTo\n      Rmask,        // RGBA masks, see docs\n      Gmask,\n      Bmask,\n      Amask\n    );\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 4970636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3012bc871f9dba062e4e0de0daa2649a?s=128&d=identicon&r=PG&f=1", "display_name": "William Boyer", "link": "https://stackoverflow.com/users/4970636/william-boyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1695, "favorite_count": 0, "accepted_answer_id": 30626960, "answer_count": 1, "score": 1, "last_activity_date": 1433352882, "creation_date": 1433351521, "question_id": 30626543, "link": "https://stackoverflow.com/questions/30626543/how-to-go-from-raw-bitmap-data-to-sdl-surface-or-texture", "title": "How to go from raw Bitmap data to SDL Surface or Texture?", "body": "<p>I'm using a library called Awesomium and it has the following function:</p>\n\n<pre><code>void Awesomium::BitmapSurface::CopyTo   (   unsigned char *     dest_buffer, // output\nint     dest_row_span, // input that I can select\nint     dest_depth, // input that I can select\nbool    convert_to_rgba, // input that I can select\nbool    flip_y // input that I can select\n)       const\nCopy this bitmap to a certain destination. Will also set the dirty bit to False.\n\nParameters\ndest_buffer A pointer to the destination pixel buffer.\ndest_row_span   The number of bytes per-row of the destination.\ndest_depth  The depth (number of bytes per pixel, is usually 4 for BGRA surfaces and 3 for BGR surfaces).\nconvert_to_rgba Whether or not we should convert BGRA to RGBA.\nflip_y  Whether or not we should invert the bitmap vertically.\n</code></pre>\n\n<p>This is great because it gives me an <code>unsigned char *   dest_buffer</code> which contains raw bitmap data. I've been trying for several hours to convert this raw bitmap data into some sort of usable format that I can use in SDL but I'm having trouble. =[ Is there any way I can load it into a SDL texture or surface? It would be ideal to have examples for both but if I only get one example (either texture or surface), that is sufficient and I will be very grateful. :) I tried to use SDL_LoadBMP_RW but that crashed. I'm not even sure if I should be using that method.</p>\n"}, {"tags": ["c++", "list", "sorting", "lambda"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433350976, "post_id": 30626300, "comment_id": 49318552, "body": "You do not need the <code>-&gt; bool</code> after your lambda arguments"}], "answers": [{"tags": [], "owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "is_accepted": false, "score": 3, "last_activity_date": 1433350969, "creation_date": 1433350969, "answer_id": 30626366, "question_id": 30626300, "link": "https://stackoverflow.com/questions/30626300/sort-a-list-of-pointers-to-objects-using-lambda-expression/30626366#30626366", "title": "Sort a list of pointers to objects using lambda expression", "body": "<p>Use <a href=\"http://en.cppreference.com/w/cpp/container/list/sort\" rel=\"nofollow\"><code>std::list::sort</code></a>. <code>std::sort</code> requires random-access iterators and you've given it bidirectional iterators. The other option would be to use a container like <code>std::vector</code> that has random-access iterators.</p>\n"}], "owner": {"reputation": 95, "user_id": 4355521, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/9e406a6bd7a4dbc9e506125d33b2b0f5?s=128&d=identicon&r=PG&f=1", "display_name": "hectorhfm", "link": "https://stackoverflow.com/users/4355521/hectorhfm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 569, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433352161, "creation_date": 1433350782, "question_id": 30626300, "link": "https://stackoverflow.com/questions/30626300/sort-a-list-of-pointers-to-objects-using-lambda-expression", "title": "Sort a list of pointers to objects using lambda expression", "body": "<p>I am trying to sort a list of pointers to Pilot\u2019s objects by the times they take to compete in a race. Times are computed through compete method in class Pilot. So I will be sorting them by a method rather than a class attribute.\nClasses involved in the problem:</p>\n\n<pre><code>class Pilot\n{\n    double compete(Race *race); // Computes the time the pilot takes to finish the race\n}\nclass Race\n{\n    list&lt;Pilot*&gt; pilots; // Pilots competing\n\n    void sortByTime();\n}\n</code></pre>\n\n<p>I want to sort the list using a lambda expression. Here is my try:</p>\n\n<pre><code>void Race::sortByTimes()\n{ \n    sort(pilots.begin(), pilots.end(), [this](Pilot *p1, Pilot *p2) -&gt; bool\n    {\n        return p1-&gt;compete(this) &lt; p2-&gt;compete(this);\n    });\n}\n</code></pre>\n\n<p>I got 5 compile errors in algorithm library:</p>\n\n<pre><code>Error C2784 'unknown.type std::operator - (std::move_iterator&lt;_RanIt&gt; &amp;, const std::move_iterator&lt;_RanIt2&gt; &amp;)' : could not deduce template argument for 'std::move_iterator&lt;_RantIt&gt; &amp;' from 'std::_List_iterator&lt;std::_List_val&lt;std::_List_simple_types&lt;PilotoOficial*&gt;&gt;&gt;'\n</code></pre>\n\n<p>Two more C2784 errors in std:: reverse_iterator and std::_Revranit</p>\n\n<pre><code>Error C2676 binary : 'std::_List_iterator&lt;std::_List_val&lt;std::_List_simple_types&lt;Pilot*&gt;&gt;&gt;' : does not define this operator or a conversion to a type acceptable to the predefined operator\n\nError C2780 'void std::_Sort(_RanIt,_RanIt,_Diff,_Pr' : expects 4 arguments; 3 provided\n</code></pre>\n"}, {"tags": ["c++", "clang"], "comments": [{"owner": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 1, "creation_date": 1433351045, "post_id": 30626288, "comment_id": 49318592, "body": "possible duplicate? <a href=\"http://stackoverflow.com/questions/491000/friend-class-inherited-classes-are-not-friend-as-well\" title=\"friend class inherited classes are not friend as well\">stackoverflow.com/questions/491000/&hellip;</a>"}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "reply_to_user": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 1, "creation_date": 1433351294, "post_id": 30626288, "comment_id": 49318754, "body": "@BlakeMcConnell I don&#39;t think so. In the question you are pointing to, &quot;friend arrow&quot; has a different direction: class hierarchy is a friend of a single class."}, {"owner": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 0, "creation_date": 1433351618, "post_id": 30626288, "comment_id": 49318959, "body": "agreed, but have a look at this one: <a href=\"http://stackoverflow.com/questions/9878723/does-a-friend-see-base-classes\" title=\"does a friend see base classes\">stackoverflow.com/questions/9878723/&hellip;</a>"}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "reply_to_user": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 0, "creation_date": 1433351836, "post_id": 30626288, "comment_id": 49319089, "body": "@BlakeMcConnell yes, this looks similar, but we wouldn&#39;t see T.C.&#39;s exhaustive answer if I&#39;d find this question before posting mine :)"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 123, "user_id": 4825204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HvrZbZ64s2Q/AAAAAAAAAAI/AAAAAAAAAJM/YbL74OqOVq4/photo.jpg?sz=128", "display_name": "Blake McConnell", "link": "https://stackoverflow.com/users/4825204/blake-mcconnell"}, "edited": false, "score": 0, "creation_date": 1433351977, "post_id": 30626288, "comment_id": 49319180, "body": "@BlakeMcConnell That one&#39;s for non-static members, for which there is an extra rule."}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "edited": false, "score": 1, "creation_date": 1433351794, "post_id": 30626464, "comment_id": 49319065, "body": "@anxieux It was reported by a Clang dev, so I&#39;m not surprised."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 2, "last_activity_date": 1433351335, "creation_date": 1433351335, "answer_id": 30626464, "question_id": 30626288, "link": "https://stackoverflow.com/questions/30626288/use-protected-static-function-of-the-base-class-from-the-friend-of-the-derived-c/30626464#30626464", "title": "Use protected static function of the base class from the friend of the derived class", "body": "<p>This is <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1873\" rel=\"nofollow\">CWG issue 1873</a>, which changed the rules for this case ([class.access.base]/p5):</p>\n\n<blockquote>\n  <p>A member <code>m</code> is accessible at the point <code>R</code> when named in class <code>N</code> if</p>\n  \n  <ul>\n  <li>[...]</li>\n  <li><code>m</code> as a member of <code>N</code> is protected, and <code>R</code> occurs in a member or friend of class <code>N</code>, or in a member <strong><s>or friend</s></strong> of a class <code>P</code> derived\n  from <code>N</code>, where <code>m</code> as a member of <code>P</code> is public, private, or protected,\n  or</li>\n  <li>[...]</li>\n  </ul>\n</blockquote>\n\n<p>Here, <code>N</code> is <code>Base</code>, <code>P</code> is <code>Derived</code>, <code>m</code> is <code>f()</code>, and <code>R</code> occurs in a member of <code>DerivedFriend</code>; pre-CWG1873 this would be allowed, but CWG1873 removed the \"friend of a derived class\" case and makes this ill-formed.</p>\n\n<p>The fix is to refer to <code>f</code> as a member of <code>Derived</code> rather than <code>Base</code>.</p>\n"}], "owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 30626464, "answer_count": 1, "score": 1, "last_activity_date": 1433351335, "creation_date": 1433350735, "question_id": 30626288, "link": "https://stackoverflow.com/questions/30626288/use-protected-static-function-of-the-base-class-from-the-friend-of-the-derived-c", "title": "Use protected static function of the base class from the friend of the derived class", "body": "<p>Different compiler seems to have different opinion on the subject. The following code compiles fine with <code>gcc</code>, but fails with <code>clang</code>:</p>\n\n<pre><code>class Base {\nprotected:\n    static void f() {}\n};\n\nclass Derived : public Base {\n    friend class DerivedFriend;\n};\n\nclass DerivedFriend {\npublic:\n    void g() {\n        Base::f();\n    }\n};\n</code></pre>\n\n<p><code>clang</code>'s error is:</p>\n\n<pre><code>main.cpp:13:15: error: 'f' is a protected member of 'Base'\n        Base::f();\n              ^\nmain.cpp:3:17: note: declared protected here\n    static void f() {}\n                ^\n1 error generated.\n</code></pre>\n"}, {"tags": ["c++", "pointers", "vector", "stxxl"], "comments": [{"owner": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "edited": false, "score": 0, "creation_date": 1433352353, "post_id": 30626239, "comment_id": 49319399, "body": "What&#39;s the error you get when trying to allocate more than 30 <code>B</code>s?  Also, are you copying the pointer to the new <code>B</code> somewhere within the loop, or deleting it, or is it leaking memory?"}, {"owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "reply_to_user": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "edited": false, "score": 0, "creation_date": 1433352927, "post_id": 30626239, "comment_id": 49319758, "body": "Program run stops when trying to allocate 30 B&#39;s throwing the following exception :  &quot;Unhandled exception at 0x6326326C (msvcr110.dll) in test2.exe: Fatal program exit requested.&quot;                                               Within the loop, I am passing the &quot;Pointer to the new B&quot; to another method &quot;foo()&quot; as:    foo(newVect); in each iteration of the Loop."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1433353158, "post_id": 30626239, "comment_id": 49319901, "body": "Try removing that other function call, it might be causing the problem. After removing it, can you create more than the 30 you&#39;re currently having a problem with?"}, {"owner": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1433353773, "post_id": 30626239, "comment_id": 49320257, "body": "First try what @Steve said, then also enclose the contents of your loop in a <code>try...catch</code> block and see what the thrown exception is.  <code>std::exception::what()</code> should give you a clue as to what exactly the problem is."}, {"owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1433353881, "post_id": 30626239, "comment_id": 49320317, "body": "@Steve, I tried removing the function call from the loop but it didn&#39;t help. Check my example code snippet in the UPDATE above."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1433354008, "post_id": 30626239, "comment_id": 49320385, "body": "Yeah, but did the crash this time happen in <code>f()</code> or inside your loop in <code>main()</code>?"}, {"owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "edited": false, "score": 0, "creation_date": 1433392047, "post_id": 30626239, "comment_id": 49335002, "body": "Crash happen in main() itself when it tries to create the 31st &#39;buff&#39; in :        for(int h=0;h&lt;35;h++)     {         buff* b=new buff();          parent.b[h]=b;                                                                                           }"}, {"owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "edited": false, "score": 0, "creation_date": 1433395729, "post_id": 30626239, "comment_id": 49336202, "body": "@nos , Need your help..."}, {"owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "edited": false, "score": 1, "creation_date": 1433428358, "post_id": 30626239, "comment_id": 49357055, "body": "Exception is : &quot;bad allocation&quot;. Is there any alternative for this problem?"}], "answers": [{"tags": [], "owner": {"reputation": 294, "user_id": 2950810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KMLwW.jpg?s=128&g=1", "display_name": "Timo Bingmann", "link": "https://stackoverflow.com/users/2950810/timo-bingmann"}, "is_accepted": true, "score": 1, "last_activity_date": 1433428961, "creation_date": 1433428961, "answer_id": 30646969, "question_id": 30626239, "link": "https://stackoverflow.com/questions/30626239/why-do-creating-pointer-to-instances-beyond-certain-number30-of-a-structure/30646969#30646969", "title": "Why do creating pointer to instances beyond certain number(30) of a &#39;Structure&#39; with &#39;stxxl:Vector&#39; as one of its DataType fails?", "body": "<p>Each stxxl::vector costs a specific amount of internal memory, since it is basically a paging system for blocks in external memory.</p>\n\n<p>With the default settings, this is 8 (CachePages) * 4 (PageSize) * 2 MiB (BlockSize) = 64 MiB of RAM per stxxl::vector.</p>\n\n<p>So, you are basically running out of RAM.</p>\n"}], "owner": {"reputation": 53, "user_id": 4970376, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Rq75_POcjyo/AAAAAAAAAAI/AAAAAAAAAHg/y26peu6v2cw/photo.jpg?sz=128", "display_name": "Akif Khan", "link": "https://stackoverflow.com/users/4970376/akif-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "accepted_answer_id": 30646969, "answer_count": 1, "score": 0, "last_activity_date": 1433428961, "creation_date": 1433350576, "last_edit_date": 1433354112, "question_id": 30626239, "link": "https://stackoverflow.com/questions/30626239/why-do-creating-pointer-to-instances-beyond-certain-number30-of-a-structure", "title": "Why do creating pointer to instances beyond certain number(30) of a &#39;Structure&#39; with &#39;stxxl:Vector&#39; as one of its DataType fails?", "body": "<p>I am using STXXL Library's stxxl::vector in my code as :</p>\n\n<pre><code>struct B\n{\n    typedef stxxl::VECTOR_GENERATOR&lt;float&gt;::result vector;\n    vector content; \n};\n</code></pre>\n\n<p>And then creating many instances of the above declared Structure in a loop using the following code snippet :</p>\n\n<pre><code> for(i=0;i&lt;50;i++)\n {\n     B* newVect= new B();\n     // Passing the above '*newVect' to some other function\n }\n</code></pre>\n\n<p>But this snippet will not create 'newVect' beyond certain number(30: in this case)</p>\n\n<p>However, I tried the same thing by just replacing \"stxxl:Vector\" with some other In Memory datatypes as :</p>\n\n<pre><code>struct B\n{\n    float a,b,c;\n    int  f,g,h;\n};\n</code></pre>\n\n<p>Above created Structure works fine even for \"100000\" new instances as:</p>\n\n<pre><code>for(i=0;i&lt;100000;i++)\n{\n    B* newVect= new B();\n    // Passing the above '*newVect' to some other function\n}\n</code></pre>\n\n<p>with every system resource remaining same.</p>\n\n<p>Please help me with this.</p>\n\n<p>Can \"stxxl:Iterators\" help here or work as an alternative?</p>\n\n<p>What kind of behavior do 'stxxl:vector'  have in this case?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Tried removing the function call from each iteration and putting it altogether outside the loop but no help.\nExample  Code: </p>\n\n<pre><code>#include &lt;stxxl/vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nstruct buff\n{\n    typedef stxxl::VECTOR_GENERATOR&lt;float&gt;::result vector;\n\n    vector content; \n};\n\nstruct par\n{\n    buff* b[35];\n};\n\nvoid f(par *p)\n{\n    for(int h=0;h&lt;35;h++)\n    {\n        std::cout&lt;&lt;endl&lt;&lt;\"In func: \"&lt;&lt;(*p).b[h];    \n    }\n}\n\nint main()\n{\n    par parent;\n    for(int h=0;h&lt;35;h++)\n    {\n        buff* b=new buff();\n\n        parent.b[h]=b;\n        cout&lt;&lt;endl&lt;&lt;\"IN main: \"&lt;&lt;parent.b[h];\n    }\n\n    cout &lt;&lt; endl &lt;&lt; endl;\n    f(&amp;parent);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "vector", "smart-pointers"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433350283, "post_id": 30626124, "comment_id": 49318148, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/347441/erasing-elements-from-a-vector\">Erasing elements from a vector</a>"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 2, "creation_date": 1433350332, "post_id": 30626124, "comment_id": 49318177, "body": "When you are iterating over a container using a <code>for</code> loop and call <code>erase</code>, you invalidate the iterator for the next iteration. See the above link for a solution to this, as it is a common issue."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1433350950, "post_id": 30626124, "comment_id": 49318531, "body": "Do you have a valid <code>operator=()</code> overload in <code>mSmartPtr&lt;Employee&gt;</code>?"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433351037, "post_id": 30626124, "comment_id": 49318586, "body": "@CoryKramer: This sounds more like a compiler error, than a runtime error."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1433351136, "post_id": 30626124, "comment_id": 49318647, "body": "See the <a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow noreferrer\">rule of five</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1433351215, "post_id": 30626124, "comment_id": 49318706, "body": "Change <code>void ProjectCycle::removeEmp(emp_vec::iterator itr)</code> to <code>iterator ProjectCycle::removeEmp(emp_vec::iterator itr)</code> and follow the notes in <a href=\"http://stackoverflow.com/questions/4645705/vector-erase-iterator\">stackoverflow.com/questions/4645705/vector-erase-iterator</a>"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1433351226, "post_id": 30626124, "comment_id": 49318713, "body": "@BenjaminLindley While some compilers may <i>warn</i> you about such behavior, it is not an <i>error</i>, it will compile just fine (unfortunately)"}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433351302, "post_id": 30626124, "comment_id": 49318760, "body": "@CoryKramer: I&#39;m talking about the OP&#39;s error. &quot;semantic issue no viable overloaded &#39;=&#39;&quot;. That sounds like a compiler error. Whereas the duplicate you linked is about a runtime issue."}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433351366, "post_id": 30626124, "comment_id": 49318797, "body": "Oh I see what you meant. Yes the OP has two issues. Their issue with the move semantics is causing their compile error, the linked issue is the other, you are correct. Perhaps they haven&#39;t even noticed the latter issue yet :)"}, {"owner": {"reputation": 13, "user_id": 4732919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f27789aaa0cb91c989d160a97af256e?s=128&d=identicon&r=PG&f=1", "display_name": "itorra", "link": "https://stackoverflow.com/users/4732919/itorra"}, "edited": false, "score": 0, "creation_date": 1433355071, "post_id": 30626124, "comment_id": 49321032, "body": "hey everyone... i tried reading the material you supplied, unfortunately I still couldn&#39;t get the code to work. my operator= pf the smartPtr() template is valid. I used the return value of the erase() and still no luck. I also tried using std::remove(...) and got even more errors. I&#39;m on the ledge ;("}, {"owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "edited": false, "score": 0, "creation_date": 1433360939, "post_id": 30626124, "comment_id": 49324421, "body": "<a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4732919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f27789aaa0cb91c989d160a97af256e?s=128&d=identicon&r=PG&f=1", "display_name": "itorra", "link": "https://stackoverflow.com/users/4732919/itorra"}, "edited": false, "score": 0, "creation_date": 1433355360, "post_id": 30626418, "comment_id": 49321204, "body": "operator=() is valid, and tested"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 13, "user_id": 4732919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f27789aaa0cb91c989d160a97af256e?s=128&d=identicon&r=PG&f=1", "display_name": "itorra", "link": "https://stackoverflow.com/users/4732919/itorra"}, "edited": false, "score": 0, "creation_date": 1433355506, "post_id": 30626418, "comment_id": 49321289, "body": "@itorra, I assume you have a copy assignment operator (<code>mSmartPtr&amp; operator=( mSmartPtr const&amp; rhs );</code>). Do you have the move-assignment operator (<code>mSmartPtr&amp; operator=( mSmartPtr&amp;&amp; rhs );</code>) also?"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 0, "last_activity_date": 1433351147, "creation_date": 1433351147, "answer_id": 30626418, "question_id": 30626124, "link": "https://stackoverflow.com/questions/30626124/c-working-with-vectorerase/30626418#30626418", "title": "c++ working with vector::erase", "body": "<p>I think the problem is caused by lack of a valid <code>operator=()</code> overload in <code>mSmartPtr&lt;Employee&gt;</code>.</p>\n\n<p>Add the following member function</p>\n\n<pre><code>mSmartPtr&amp; operator=( mSmartPtr&amp;&amp; rhs );\n</code></pre>\n\n<p>in <code>mSmartPtr</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 4732919, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1f27789aaa0cb91c989d160a97af256e?s=128&d=identicon&r=PG&f=1", "display_name": "itorra", "link": "https://stackoverflow.com/users/4732919/itorra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1433351147, "creation_date": 1433350207, "question_id": 30626124, "link": "https://stackoverflow.com/questions/30626124/c-working-with-vectorerase", "title": "c++ working with vector::erase", "body": "<p>i'm trying to work with a class that uses a vector of smartpointer with reference counting that it had to implement on my own.\neverything works fine but when i try to remove an iterator from my vector i get the following error:\n(inside algorithm)\nsemantic issue\nno viable overloaded '='\nwhich occurs at:</p>\n\n<pre><code>template &lt;class _InputIterator, class _OutputIterator&gt;\ninline _LIBCPP_INLINE_VISIBILITY\n_OutputIterator\n__move(_InputIterator __first, _InputIterator __last, _OutputIterator __result)\n{\n    for (; __first != __last; ++__first, ++__result)\n        *__result = _VSTD::move(*__first);\n    return __result;\n}\n</code></pre>\n\n<p>which i guess is part of ...</p>\n\n<p>here is my code:</p>\n\n<pre><code>#include \"Project.h\"\n#include \"Date.h\"\n#include \"mSharedPtr.h\"\nclass ProjectCycle\n{\nprivate:\n    mSmartPtr&lt;Project&gt; project;\n    Date startDate;\n    int numberOfEmployees;\n    std::vector&lt;mSmartPtr&lt;Employee&gt;&gt; employeeList;\n\npublic:\n    ProjectCycle(const mSmartPtr&lt;Project&gt;&amp; pro, const Date&amp; strdate, const int&amp; numemp, const std::vector&lt;mSmartPtr&lt;Employee&gt;&gt;&amp; list) :\n    project(pro), startDate(strdate), numberOfEmployees(numemp), employeeList(list) {};\n    void finishCycle();\n    ~ProjectCycle();\n\n    void timeForwardHours(int);\n    void startProject();\n    void terminateProject();\n    void removeEmp(emp_vec::iterator);\n};\n</code></pre>\n\n<p>cppFile:</p>\n\n<pre><code>#include \"ProjectCycle.h\"\n#include &lt;vector&gt;\n\nvoid ProjectCycle::timeForwardHours(int num) {\n    int totalDay=0;\n    //   For each day ////////////////////////////////\n    for (int day=0; day&lt;num; totalDay=0,day++) {\n        // For each employee ////////////////////////////\n         emp_vec::iterator empIter = employeeList.begin();\n        for (; empIter != employeeList.end(); empIter++) {\n            totalDay += (*empIter)-&gt;addHoursToCurrProj();\n            if ( (*empIter)-&gt;isDoneProject())\n                removeEmp(empIter);\n        }\n        ///  Progress project ////////////////////////////////////\n        project-&gt;setHoursLeft( project-&gt;getHoursLeft()-totalDay );\n        if (project-&gt;getHoursLeft() &lt;= 0) {\n            terminateProject();\n            break;\n        }\n    }\n}\nvoid ProjectCycle::removeEmp(emp_vec::iterator itr){\n    project-&gt;addToDoneList(itr);\n    employeeList.erase(itr);\n</code></pre>\n\n<p>thanks in advance,</p>\n\n<hr>\n"}, {"tags": ["c++", "arrays", "char", "global"], "comments": [{"owner": {"reputation": 1498, "user_id": 2797746, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/TaPVN.jpg?s=128&g=1", "display_name": "Alexandre Severino", "link": "https://stackoverflow.com/users/2797746/alexandre-severino"}, "edited": false, "score": 0, "creation_date": 1433349485, "post_id": 30625834, "comment_id": 49317681, "body": "Can you give us your <code>charconvert.h</code> so we can test your application?"}, {"owner": {"reputation": 9846, "user_id": 1745544, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/92a0f69d86d214e0cffceb76c6e3f09f?s=128&d=identicon&r=PG", "display_name": "OldProgrammer", "link": "https://stackoverflow.com/users/1745544/oldprogrammer"}, "edited": false, "score": 0, "creation_date": 1433349665, "post_id": 30625834, "comment_id": 49317778, "body": "Well, what is the compiler error, and where??"}, {"owner": {"reputation": 87, "user_id": 4029118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6542d819472b3e7ad05e425fc93540b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fiscus", "link": "https://stackoverflow.com/users/4029118/dan-fiscus"}, "edited": false, "score": 0, "creation_date": 1433349791, "post_id": 30625834, "comment_id": 49317847, "body": "The error is &quot;Line 23: error: cannot convert &#39;&lt;brace-enclosed initializer list&gt;&#39; to &#39;char&#39; in assignment|&quot;"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1433350123, "post_id": 30625834, "comment_id": 49318042, "body": "&quot;It won&#39;t compile correctly&quot; &quot;It won&#39;t run correctly&quot; These are vastly too vague problem statements."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4029118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6542d819472b3e7ad05e425fc93540b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fiscus", "link": "https://stackoverflow.com/users/4029118/dan-fiscus"}, "edited": false, "score": 0, "creation_date": 1433350022, "post_id": 30625999, "comment_id": 49317987, "body": "So I did that, and it runs, but I want to replace the numbers with spaces when they start playing. If the way I assigned it before was wrong, what would be the correct way to do that?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 87, "user_id": 4029118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6542d819472b3e7ad05e425fc93540b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fiscus", "link": "https://stackoverflow.com/users/4029118/dan-fiscus"}, "edited": false, "score": 0, "creation_date": 1433350154, "post_id": 30625999, "comment_id": 49318066, "body": "@DanFiscus I edited my post.  see the last part to see how to change the contents of the array from spaces to numbers."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 0, "last_activity_date": 1433350079, "last_edit_date": 1433350079, "creation_date": 1433349787, "answer_id": 30625999, "question_id": 30625834, "link": "https://stackoverflow.com/questions/30625834/global-character-array-wont-be-reassigned-or-outputted-correctly/30625999#30625999", "title": "Global character array won&#39;t be reassigned or outputted correctly", "body": "<p>You cannot reassign an array like:</p>\n\n<pre><code>board[3][3] = {\n    { '1', '2', '3' },\n    { '4', '5', '6' },\n    { '7', '8', '9' }\n};\n</code></pre>\n\n<p>Since you never use board before you try to assign values to it in <code>main()</code> just replace</p>\n\n<pre><code>char board[3][3] =\n{\n    { ' ', ' ', ' ' },\n    { ' ', ' ', ' ' },\n    { ' ', ' ', ' ' }\n};\n</code></pre>\n\n<p>With</p>\n\n<pre><code>char board[3][3] = \n{\n    { '1', '2', '3' },\n    { '4', '5', '6' },\n    { '7', '8', '9' }\n};\n</code></pre>\n\n<p>If you do not want to have the global array populated with the numbers at the start of the program then you would need to set each individual array element with the value you want.  You could do that with a couple for loops:</p>\n\n<pre><code>for (int i = 0, spot = 1; i &lt; 3; i++)\n{\n    for (int j = 0; j &lt; 3; j++)\n    {\n        board[i][j] = spot + '0';\n        spot++;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1433351579, "post_id": 30626192, "comment_id": 49318932, "body": "There is only one array declaration.  The line in <code>main()</code> is a reassignment not a re-declaration."}], "tags": [], "owner": {"reputation": 21, "user_id": 4970596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcb5fd969ae15cd29f827a766f06554?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Durand", "link": "https://stackoverflow.com/users/4970596/tom-durand"}, "is_accepted": false, "score": 1, "last_activity_date": 1433350437, "creation_date": 1433350437, "answer_id": 30626192, "question_id": 30625834, "link": "https://stackoverflow.com/questions/30625834/global-character-array-wont-be-reassigned-or-outputted-correctly/30626192#30626192", "title": "Global character array won&#39;t be reassigned or outputted correctly", "body": "<p>You declare the char array \"board\" twice - once globally (outside any function) and again in main(). You only need to declare it once (globally), and I would add the word \"static\" at the start of the declaration line (recommended practice).</p>\n\n<p>If you declare \"board\" in main(), then you have to pass it to the lower-level functions as a pointer (and as a pointer to a pointer using '&amp;' if you want to change the array). Here is a web site reference showing how to allocate and pass a copy of a string to another function (the called function cannot change the string):\n<a href=\"https://www.cs.bu.edu/teaching/cpp/string/array-vs-ptr/\" rel=\"nofollow\">https://www.cs.bu.edu/teaching/cpp/string/array-vs-ptr/</a>\nand\n<a href=\"http://web.cs.swarthmore.edu/~newhall/unixhelp/C_arrays.html\" rel=\"nofollow\">http://web.cs.swarthmore.edu/~newhall/unixhelp/C_arrays.html</a></p>\n\n<p>If you need more help, see me offline.\nTom Durand\ntmdurand@gci.net</p>\n"}, {"tags": [], "owner": {"reputation": 259, "user_id": 4918170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bd2cd461a60c719d148b1aaf83faacb?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Edwards", "link": "https://stackoverflow.com/users/4918170/josh-edwards"}, "is_accepted": false, "score": 0, "last_activity_date": 1433351284, "creation_date": 1433351284, "answer_id": 30626447, "question_id": 30625834, "link": "https://stackoverflow.com/questions/30625834/global-character-array-wont-be-reassigned-or-outputted-correctly/30626447#30626447", "title": "Global character array won&#39;t be reassigned or outputted correctly", "body": "<p>You cannot reinitialize the board array again in the main function. You can only use the initializer when you declare it. It should also probably be declared as static. If you want to modify it in main() then you need to reference the individual cells and give them a value.</p>\n"}], "owner": {"reputation": 87, "user_id": 4029118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6542d819472b3e7ad05e425fc93540b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Fiscus", "link": "https://stackoverflow.com/users/4029118/dan-fiscus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 30625999, "answer_count": 3, "score": 0, "last_activity_date": 1433351284, "creation_date": 1433349206, "last_edit_date": 1433349731, "question_id": 30625834, "link": "https://stackoverflow.com/questions/30625834/global-character-array-wont-be-reassigned-or-outputted-correctly", "title": "Global character array won&#39;t be reassigned or outputted correctly", "body": "<p>I'm trying to make a very basic tic tac toe program, and I'm storing the board in a character array. The array is global so I can output it from a function and also assign X's and O's to places in the main function. My code is below. The problem is it won't compile correctly. If I add char before I reassign it in main, it compiles but does not run correctly. My C++ teacher is confused too, so I thought I'd ask here.\nCode:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"charconvert.h\"\n#include &lt;ctype.h&gt;\nusing namespace std;\nchar board[3][3] =\n{\n    { ' ', ' ', ' ' },\n    { ' ', ' ', ' ' },\n    { ' ', ' ', ' ' }\n};\nvoid boardout();\nint main()\n{\n    int currentplayer = 1;\n    char p1 = 'X';\n    char p2 = 'O';\n    char pactive;\n    int rounds = 1;\n    board[3][3] = {\n        { '1', '2', '3' },\n        { '4', '5', '6' },\n        { '7', '8', '9' }\n    };\n    boardout();\n    bool gameover = false;\n    do\n    {\n        if (rounds % 2 == 0){ currentplayer = 1; }\n        if (rounds % 2 != 0){ currentplayer = 2; }\n        boardout();\n        chartoint input;\n        char playermove;\n        do\n        {\n            cout &lt;&lt; \"Player \" &lt;&lt; currentplayer &lt;&lt; \", what space will you go on?\" &lt;&lt; endl;\n            cin &gt;&gt; playermove;\n        } while (!isdigit(playermove));\n        int space = input.convert(playermove);\n        if (currentplayer == 1){ pactive = p1; }\n        if (currentplayer == 2){ pactive = p2; }\n        if (!(space&gt;9) &amp;&amp; !(space&lt;0))\n        {\n            switch (space)\n            {\n            case 1:\n                if (space == ' ')\n                {\n                    board[0][0] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 2:\n                if (space == ' ')\n                {\n                    board[1][0] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 3:\n                if (space == ' ')\n                {\n                    board[2][0] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 4:\n                if (space == ' ')\n                {\n                    board[0][1] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 5:\n                if (space == ' ')\n                {\n                    board[1][1] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 6:\n                if (space == ' ')\n                {\n                    board[2][1] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 7:\n                if (space == ' ')\n                {\n                    board[0][2] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 8:\n                if (space == ' ')\n                {\n                    board[1][2] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            case 9:\n                if (space == ' ')\n                {\n                    board[2][2] = pactive;\n                }\n                else{ cout &lt;&lt; \"That space is already used. You forfeit this turn.\" &lt;&lt; endl; }\n                break;\n            default:\n                cout &lt;&lt; \"That is an invalid space. You forfeit your turn.\" &lt;&lt; endl;\n            }\n        }\n        char yn;\n        cout &lt;&lt; \"Is the game over? Enter Y for yes or N for no.\" &lt;&lt; endl;\n        cin &gt;&gt; yn;\n        if (yn == 'Y' || yn == 'y'){ gameover = true; }\n        rounds++;\n    } while (!gameover);\n    return 0;\n}\nvoid boardout()\n{\n    int x, y;\n    x = 0;\n    y = 0;\n    do\n    {\n        do\n        {\n            cout &lt;&lt; board[x][y];\n            if (x != 2){ cout &lt;&lt; \" | \"; }\n            x++;\n        } while (x &lt;= 2);\n        if (y != 2)\n        {\n            cout &lt;&lt; \"\\n---------\" &lt;&lt; endl;\n        }\n        x = 0;\n        y++;\n    } while (y &lt;= 2);\n}\n</code></pre>\n\n<p>Here's charconvert.h:</p>\n\n<pre><code>#ifndef CHARCONVERT_H_INCLUDED\n#define CHARCONVERT_H_INCLUDED\n#include &lt;math.h&gt;\n#include &lt;string&gt;\nusing namespace std;\nclass chartoint\n{\npublic:\nint convert(char);\n};\n\nint chartoint::convert(char in)\n{\nint out = in;\nout = out - 48;\nreturn out;\n}\n\nclass strtonum\n{\npublic:\nint strconvert(string);\n};\n\nint strtonum::strconvert(string input)\n{\nint numdigs = input.size();\n//cout &lt;&lt; input &lt;&lt; endl;\n//cout &lt;&lt; \"int numdigs = input.size();\\nnumdigs = \" &lt;&lt; numdigs &lt;&lt; endl;\nint c=0;\n//cout &lt;&lt; \"int c=0;\" &lt;&lt; endl;\n int number [numdigs];\n//cout &lt;&lt; \"int number [10] = { };\\n\";\n/*int n=0;\ndo\n{\n    cout &lt;&lt; \"number [\" &lt;&lt; n &lt;&lt; \"] = \" &lt;&lt; number[n] &lt;&lt; endl;\n    n++;\n}\nwhile(n&lt;11);*/\nint output = 0;\nchar tempnumc;\nint tempnumi;\n//int tenminusc = 10 - c;\nif(numdigs&lt;=10)\n{\n    //cout &lt;&lt; \"entered if(numdigs&lt;=10)\" &lt;&lt; endl;\n    do\n    {\n    //cout &lt;&lt; \"c = \" &lt;&lt; c &lt;&lt; endl;\n    tempnumc = input[c];\n    //cout &lt;&lt; \"temp char \" &lt;&lt; tempnumc &lt;&lt; endl;\n    tempnumi = tempnumc;\n    //cout &lt;&lt; \"temp i \" &lt;&lt; tempnumi &lt;&lt; endl;\n    tempnumi = tempnumi - 48;\n    //cout &lt;&lt; \"temp i \" &lt;&lt; tempnumi &lt;&lt; endl;\n    number[c] = tempnumi;\n    //cout &lt;&lt; \"number 10 - c = \" &lt;&lt; number[tenminusc] &lt;&lt; endl;\n    //cout &lt;&lt; \"input[numdigs-c] = number[10-c];\" &lt;&lt; endl &lt;&lt; \"numdigs-c = \" &lt;&lt; numdigs-c &lt;&lt; '\\t'&lt;&lt; \"input[numdigs-c] = \" &lt;&lt; input[numdigs-c] &lt;&lt; '\\t' &lt;&lt; \"number[10-c] = \" &lt;&lt; number[10-c] &lt;&lt; endl;\n    //cout &lt;&lt; \"output = \" &lt;&lt; output &lt;&lt; endl;\n    int idontevenknowatthispoint;\n    idontevenknowatthispoint = (numdigs-c)-1;\n    output = output + (number[c]*pow(10,idontevenknowatthispoint));\n    //cout &lt;&lt; \"output = output + (number[10-c]*pow(10,c));\" &lt;&lt; endl;\n    //cout &lt;&lt; \"pow(10,c) = \" &lt;&lt; pow(10,c) &lt;&lt; endl;\n    //cout &lt;&lt; \"(number[c]*pow(10,c) = \" &lt;&lt; number[c]*pow(10,idontevenknowatthispoint) &lt;&lt; endl;\n    c++;\n    tempnumc = ' ';\n    tempnumi = 0;\n    }\n    while(c &lt; numdigs);\n    if(numdigs==3)\n    {\n        output = output + 1;\n    }\n    if(numdigs==9)\n    {\n        output = output + 2;\n    }\n}\nelse\n{\n    output = -42;\n}\nreturn output;\n}\n\n#endif // CHARCONVERT_H_INCLUDED\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "compiler-errors", "visual-studio-2015"], "comments": [{"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 0, "creation_date": 1433349030, "post_id": 30625727, "comment_id": 49317414, "body": "Try using ASCII characters only in the filename and adding .cpp"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 1, "creation_date": 1433349626, "post_id": 30625727, "comment_id": 49317756, "body": "Your build is actually calling the Visual C++ 6.0 compiler (MSC version 12.00.xxxx). Ah, the memories..."}, {"owner": {"reputation": 11, "user_id": 4970356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0312eb61e1748fd7a4dee7a531d9a9ff?s=128&d=identicon&r=PG&f=1", "display_name": "456hubf", "link": "https://stackoverflow.com/users/4970356/456hubf"}, "edited": false, "score": 0, "creation_date": 1433359509, "post_id": 30625727, "comment_id": 49323658, "body": "I understand that from some stuff I read on the internet, but how do I fix this?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1433361931, "post_id": 30625727, "comment_id": 49325018, "body": "Let me get this straight: you created a brand new solution and project (File -&gt; New -&gt; Project -&gt; Visual C++ -&gt; Win32 Console Application), left all settings on default, wrote a hello world program from scratch, and got this when building?"}, {"owner": {"reputation": 11, "user_id": 4970356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0312eb61e1748fd7a4dee7a531d9a9ff?s=128&d=identicon&r=PG&f=1", "display_name": "456hubf", "link": "https://stackoverflow.com/users/4970356/456hubf"}, "edited": false, "score": 0, "creation_date": 1433398799, "post_id": 30625727, "comment_id": 49337548, "body": "Not exactly, I first created an empty project instead of a Win32 Console Application, then I left all settings on default and wrote a Hello World program to test Visual Studio, and then I indeed got this error when building."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1433448613, "post_id": 30625727, "comment_id": 49369530, "body": "In the project properties, look at <code>VC++ Directories -&gt; Executable Directories</code>. Is the path to the old toolset in there?"}], "owner": {"reputation": 11, "user_id": 4970356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0312eb61e1748fd7a4dee7a531d9a9ff?s=128&d=identicon&r=PG&f=1", "display_name": "456hubf", "link": "https://stackoverflow.com/users/4970356/456hubf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 680, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1433348915, "creation_date": 1433348915, "question_id": 30625727, "link": "https://stackoverflow.com/questions/30625727/why-doesnt-my-visual-studio-2015-rc-compile-properly", "title": "Why doesn&#39;t my Visual Studio 2015 RC compile properly?", "body": "<p>I downloaded Microsoft Visual Studio 2015 RC after using Code::Blocks for a long time.</p>\n\n<p>To test it I just created a simple Hello World program, but it won't compile properly.</p>\n\n<p>This is the output from the compiler:</p>\n\n<pre><code>All packages are already installed and there is nothing to restore.\nNuGet package restore finished.\n1&gt;------ Build started: Project: Sandbox, Configuration: Release Win32 ------\n1&gt;  Microsoft (R) 32-bit C/C++ Optimizing Compiler Version 12.00.8168 for 80x86\n1&gt;  Copyright (C) Microsoft Corp 1984-1998. All rights reserved.\n1&gt;\n1&gt;  cl  \u25a0/\n1&gt;\n1&gt;CL : Command line warning D4024: unrecognized source file type ' \u25a0/', object file assumed\n1&gt;  Microsoft (R) Incremental Linker Version 14.00.22816.0\n1&gt;  Copyright (C) Microsoft Corporation.  All rights reserved.\n1&gt;\n1&gt;  /out:.exe\n1&gt;  \u00ff\u00fe/\n1&gt;LINK : fatal error LNK1181: cannot open input file '\u00ff\u00fe/.obj'\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n"}, {"tags": ["c++", "extern"], "comments": [{"owner": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 1, "creation_date": 1433348947, "post_id": 30625679, "comment_id": 49317364, "body": "I&#39;m not too familiar with C++, but I don&#39;t think <code>extern A const a;</code> (in x.h) and <code>extern const A a ;</code> (in main.cpp) are the same thing."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 18146, "user_id": 646619, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/bd61a0f309ebc135d2661710c2faf379?s=128&d=identicon&r=PG", "display_name": "Colonel Thirty Two", "link": "https://stackoverflow.com/users/646619/colonel-thirty-two"}, "edited": false, "score": 0, "creation_date": 1433351660, "post_id": 30625679, "comment_id": 49318982, "body": "@ColonelThirtyTwo: Why&#39;s that?"}], "answers": [{"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 3, "last_activity_date": 1433349054, "creation_date": 1433349054, "answer_id": 30625776, "question_id": 30625679, "link": "https://stackoverflow.com/questions/30625679/why-do-i-need-an-include-file-for-extern-variables/30625776#30625776", "title": "Why do I need an include file for extern variables?", "body": "<p>Namespace-scope <code>const</code> variables default to internal linkage (i.e., visible only within that translation unit). The <code>extern</code> is needed to override the default and give it external linkage (so that it can be accessed from a different translation unit).</p>\n"}], "owner": {"reputation": 1428, "user_id": 2819922, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e61964f3e5cdcde3dc90370e0cdfe2d4?s=128&d=identicon&r=PG&f=1", "display_name": "datafiddler", "link": "https://stackoverflow.com/users/2819922/datafiddler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1433349054, "creation_date": 1433348780, "last_edit_date": 1495540693, "question_id": 30625679, "link": "https://stackoverflow.com/questions/30625679/why-do-i-need-an-include-file-for-extern-variables", "title": "Why do I need an include file for extern variables?", "body": "<p>I found this:\n<a href=\"https://stackoverflow.com/questions/1433204/how-do-i-use-extern-to-share-variables-between-source-files-in-c\">How do I use extern to share variables between source files?</a>\nand its main answer is rather clear to me.</p>\n\n<p>However I do not understand why this gives me an error:</p>\n\n<p>x.h :</p>\n\n<pre><code>#pragma once\nnamespace x {\n   class A {\n   public:  void func() const;\n   };\n   // extern A const a;  // cannot move this out of the include file !!!\n   // extern int xi;     // fine to remove from here\n}\n</code></pre>\n\n<p>--- main.cpp ---</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"x.h\"\n\nnamespace x { extern int xi; extern const A a ; }  // instead of include file\n\nextern int i;\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n   std::cout &lt;&lt; i &lt;&lt; std::endl; // works\n   std::cout &lt;&lt; x::xi &lt;&lt; std::endl; // works\n\n   x::a.func();  \n\n    return 0;\n}\n</code></pre>\n\n<p>--- x.cpp ---</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"x.h\"\n\nnamespace x\n{\n   void A::func() const\n   { std::cout &lt;&lt; \"x::A::func() called\" &lt;&lt; std::endl;  }\n\n   const A a;  // Problem if const\n   int xi = 234; // works\n}\nint i = 123;  // works\n</code></pre>\n\n<p>error LNK2001: unresolved external symbol \"class x::A const x::a\" (?a@x@@3VA@1@B)<br>\n(VisualStudio 2013)\nCompiling the two files is fine, and I can build and run it if I remove the const keyword, or if I move the extern statement into the include file.</p>\n\n<p>Thanks for an explanation (can't believe in a compiler bug)  ;)</p>\n"}, {"tags": ["c++", "c", "compilation", "linker", "mpir"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433351819, "post_id": 30625744, "comment_id": 49319082, "body": "Thanks, I tried that; it still &quot;cannot find -lmpir&quot;.  Compiling with a &quot;-v&quot; option yields, among others: &quot;... #include &quot;...&quot; search starts here: [newline] #include &lt;...&gt; search starts here: [newline]  c:\\mingw\\bin\\../lib/gcc/mingw32/4.8.1/include [newline] ...&quot; and similars; does that indicate that the compiler did not leave the MinGW directory? I did, however, add the MPIR path to the PATH environment variable, and am also working in the directory containing the #included file... ???"}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433352023, "post_id": 30625744, "comment_id": 49319209, "body": "Try to manually find the libmpir.a in the mingw directory.  That&#39;s where your -L flag needs to point to."}, {"owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433353123, "post_id": 30625744, "comment_id": 49319879, "body": "There is none. In the MPIR directory, however, there are various similarly named files, in particular libmpir.la, libmpir.lai, libmpir.dll.a and more, the first one in the top mpir-2.7.0 directory, the others in the .lib subdirectory. I did, however, perform &quot;make check&quot; and &quot;make install&quot; without any errors... how do I check if the installation was successful? thanks."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433353232, "post_id": 30625744, "comment_id": 49319950, "body": "Ok, that&#39;s your directory that you need to point to with the -L flag.  So you should have -lmplr -LC:\\MPLR-or-whatever\\path\\to\\lib at the very end of your compile/link command."}, {"owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433354433, "post_id": 30625744, "comment_id": 49320652, "body": "Yes... that&#39;s what I do... I use exactly what you wrote, gcc mytest.c -o mytest -lmpir -IC:/MPIR/mpir-2.7.0/ -LC:/MPIR/mpir-2.7.0 . However, is there a file &quot;libmpir.a&quot; missing which ought to be generated in the build process? It still does not find any mpir library."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433354865, "post_id": 30625744, "comment_id": 49320919, "body": "Try <code>-lmplr.dll</code> since you only seem to have the libmplr.dll.a file available.  This is a static library that is converted to a dll by the build process later and should be statically linkable."}, {"owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433373801, "post_id": 30625744, "comment_id": 49330569, "body": "libmpir.dll.a is available, not libmplr.dll.a . I tried this, but it neither helped."}, {"owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "reply_to_user": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1433374099, "post_id": 30625744, "comment_id": 49330662, "body": "Sorry, I couldn&#39;t tell the difference between the spellings with capital <code>I</code> and lowercase <code>l</code>.  I should have noticed the order of your flags as well.  Glad you figured it out."}], "tags": [], "owner": {"reputation": 1809, "user_id": 951784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858b1ffedc039e48a0ed219198d538c?s=128&d=identicon&r=PG", "display_name": "rost0031", "link": "https://stackoverflow.com/users/951784/rost0031"}, "is_accepted": false, "score": 1, "last_activity_date": 1433348951, "creation_date": 1433348951, "answer_id": 30625744, "question_id": 30625676, "link": "https://stackoverflow.com/questions/30625676/mpir-gcc-compilation-cannot-find-lmpir/30625744#30625744", "title": "MPIR gcc compilation - cannot find -lmpir", "body": "<p>Change</p>\n\n<blockquote>\n  <p>gcc mytest.c -o mytest -lmpir -I/C:/MPIR/mpir-2.7.0/</p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>gcc mytest.c -o mytest -lmpir -IC:/MPIR/mpir-2.7.0/ -LC:/MPIR/mpir-2.7.0</p>\n</blockquote>\n\n<p>You don't need a / in front of C: and the -L flag tells the linker where to find the library that you are linking to with -l flag.</p>\n\n<p>Also, I would recommend using relative paths to your includes and libraries instead of absolute.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "edited": false, "score": 0, "creation_date": 1434554965, "post_id": 30632484, "comment_id": 49831031, "body": "Hm. After two weeks (not trying it), the above still did compile without error, but when executing the program via &quot;mytest&quot;, it complained &quot;The program could not be started since libmpir-16.dll is missing. Install the program again.&quot; But this file is actually sitting in the C:/MPIR/mpir-2.7.0/.libs directory (while eg. mpir.a or libmpir.a are not!)... or do I need to look for it somewhere else? I have added the MinGW/bin and the mpir-2.7.0/ path to the PATH environment variable... no improvement. Where else can they be and should they be?"}], "tags": [], "owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "is_accepted": true, "score": 0, "last_activity_date": 1433373632, "creation_date": 1433373632, "answer_id": 30632484, "question_id": 30625676, "link": "https://stackoverflow.com/questions/30625676/mpir-gcc-compilation-cannot-find-lmpir/30632484#30632484", "title": "MPIR gcc compilation - cannot find -lmpir", "body": "<p>Ok, I fixed it.<br>\nSummarizing, critical points are:<br>\n- the order of the gcc options matter: \"-o mytest\" needs to go to the end, and \"-lname\" before but after the \"-Ldir\";<br>\n- the path should have \".libs\" at the end because this is where the libraries are (even if they do not need to be named libmpir.a)<br>\n- (at least in MinGW) the working format is c:/MPIR/mpir-2.7.0/.libs (thus absolute, also from /usr/local/ or other places) </p>\n\n<p>What worked was for example:</p>\n\n<p>$ gcc mytest.c  -Lc:/MPIR/mpir-2.7.0/.libs -lmpir -o mytest<br>\n$ gcc mytest.c  -Lc:/MPIR/mpir-2.7.0/.libs -lmpir.dll -o mytest  </p>\n\n<p>Best.</p>\n"}], "owner": {"reputation": 75, "user_id": 4467733, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b030c8fd4e7feb86f17d402ca39c395f?s=128&d=identicon&r=PG&f=1", "display_name": "Futurist", "link": "https://stackoverflow.com/users/4467733/futurist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 666, "favorite_count": 0, "accepted_answer_id": 30632484, "answer_count": 2, "score": 0, "last_activity_date": 1433373632, "creation_date": 1433348769, "question_id": 30625676, "link": "https://stackoverflow.com/questions/30625676/mpir-gcc-compilation-cannot-find-lmpir", "title": "MPIR gcc compilation - cannot find -lmpir", "body": "<p>I am trying to compile a simple C program using GCC with MPIR under MinGW on my Windows 7 machine. I installed MPIR successfully (I guess) with configure, make, make check and make install (did not use \"sudo\" - what is this?).</p>\n\n<p>The program is called \"mytest.cpp\", sits in the top folder of MPIR, namely C:/MPIR/mpir-2.7.0/, where also \"mpir.h\" is sitting (is it \"the\" (correct one? are there several?) mpir.h?):  </p>\n\n<pre><code>#include \"mpir.h\"\nusing namespace std;\n\nint main ()\n{\n  mpz_t z; \n  mpz_init(z);   \n  return 0;\n}\n</code></pre>\n\n<p>I tried compiling via</p>\n\n<p>gcc mytest.c -o mytest -lmpir -I/C:/MPIR/mpir-2.7.0/ </p>\n\n<p>with the hope that GCC would then be able to locate mpir.h, \"-lmpir\" because a helpful developer told me to; but then it says:</p>\n\n<p>\"C:/mingw/ [...] /bin/ld.exe: cannot find -lmpir\"</p>\n\n<p>where \"[...]\" stands for some directory up-and-down-climbs inside the \"minGW\" directory. However, I am with the shell currently in the \nC:/MPIR/mpir-2.7.0/ directory.</p>\n\n<p>What is wrong? How to make GCC find the mpir files? Should the compile option \"-I\" be spelled differently? I also heard about some \"-L\" option but could not find that anywhere. Thanks.</p>\n"}, {"tags": ["c++", "xml", "tinyxml2"], "answers": [{"tags": [], "owner": {"reputation": 935, "user_id": 1967221, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5U3DX.png?s=128&g=1", "display_name": "JTejedor", "link": "https://stackoverflow.com/users/1967221/jtejedor"}, "is_accepted": true, "score": 0, "last_activity_date": 1433497506, "creation_date": 1433497506, "answer_id": 30663349, "question_id": 30625430, "link": "https://stackoverflow.com/questions/30625430/find-xml-element-start-and-end-using-tinyxml2-or-other-c-xml-library/30663349#30663349", "title": "Find XML element &#39;start&#39; and &#39;end&#39; using tinyxml2 (or other C++ XML library)", "body": "<p><a href=\"http://www.grinninglizard.com/tinyxml2/\" rel=\"nofollow\">tinyXml2</a> offers a very basic(and very fast) implementation to parser and navigate inside a xml structure. <a href=\"http://rapidxml.sourceforge.net/\" rel=\"nofollow\">RapidXML</a> is likely faster but it has the same basic behavior. </p>\n\n<p>I suggest if it is enterily mandatory catching event (start and end) use Xerces because SAXParser allows catching when the parser is inside an xml element and when it exits from the element also. The great inconvenience, in my humble opinion, is the compilation under MSVC, it is damned tedious because you must compile the apache commons in C++, but under gcc environment I think is trivial in comparission. GoodLuck!</p>\n"}], "owner": {"reputation": 43, "user_id": 4970506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bbd6e29efe986a3b4a682aff0eb644?s=128&d=identicon&r=PG&f=1", "display_name": "user4970506", "link": "https://stackoverflow.com/users/4970506/user4970506"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 30663349, "answer_count": 1, "score": 0, "last_activity_date": 1433497506, "creation_date": 1433348015, "last_edit_date": 1495541158, "question_id": 30625430, "link": "https://stackoverflow.com/questions/30625430/find-xml-element-start-and-end-using-tinyxml2-or-other-c-xml-library", "title": "Find XML element &#39;start&#39; and &#39;end&#39; using tinyxml2 (or other C++ XML library)", "body": "<p>I am trying to iterate through the elements of an XML document, and firing events on 'start' elements and 'end' elements.  </p>\n\n<p>This is pretty straight-forward in using Python's lxml module, and there is even another question on SO regarding this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8111556/using-pythons-xml-etree-to-find-element-start-and-end-character-offsets\">Using Python&#39;s xml.etree to find element start and end character offsets</a></p>\n\n<pre><code>#!/usr/bin/python\nimport re, sys\nfrom lxml import etree\nfrom StringIO import StringIO\n\ndtd = etree.DTD (open (sys.argv [1], \"r\"))\nxml = etree.XML (open (sys.argv [2], \"r\").read ())\n\nresult = dtd.validate (xml)\nfor error in dtd.error_log.filter_from_errors():\n    print(error.message)\n    print(error.line)\n    print(error.column)\n\nif result == True :\n    for event, elem in etree.iterwalk (xml, events=('start', 'end')) :\n        if event == 'start' :\n            print 'starting element:', elem.tag\n        elif event == 'end' :\n            print 'ending element:', elem.tag\n            if elem is not xml :\n                print elem.tail\n</code></pre>\n\n<p>I would like to do essentially the same thing using the tinyxml2 C++ XML library, but I have not had any luck with this so far [<strong>specifically finding closing tags</strong>].</p>\n\n<p>I prefer tinyxml2 as it is 'tiny', but I am open to other C++ XML libs if they can achieve this end (more easily).</p>\n\n<p>If there is a better way to fire events on 'end tags' I am open to that as well.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433347946, "post_id": 30625318, "comment_id": 49316780, "body": "Try changing the function signature to <code>bool MiddlePointPartition(PrimitiveBvhRepresentation const&amp; current)</code>"}, {"owner": {"reputation": 375, "user_id": 1274748, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/gOBVM.jpg?s=128&g=1", "display_name": "Adrian De Barro", "link": "https://stackoverflow.com/users/1274748/adrian-de-barro"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1433348011, "post_id": 30625318, "comment_id": 49316806, "body": "@CoryKramer didnt work :/"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 3, "creation_date": 1433348059, "post_id": 30625318, "comment_id": 49316837, "body": "Is it a non static member function?"}], "answers": [{"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1433348321, "post_id": 30625507, "comment_id": 49316989, "body": "If <code>MiddlePointPartition</code> is non-static, this only works in a context you can capture <code>this</code> (i.e., a member of <code>PrimitiveBvhRepresentation</code>)?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1433348444, "post_id": 30625507, "comment_id": 49317056, "body": "@T.C. yes, but I assume we must be in such a context.  People rarely think member function pointers to a completely different, unnamed object are magical.  They often think member function pointers to members of this are.  If I am wrong, fixing it is easy, but if I am right, the fix will be noise."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1433348322, "last_edit_date": 1433348322, "creation_date": 1433348227, "answer_id": 30625507, "question_id": 30625318, "link": "https://stackoverflow.com/questions/30625318/stdpartition-error-when-partitioning-a-vector-of-a-type-of-object/30625507#30625507", "title": "std::partition error when partitioning a vector of a type of object", "body": "<p>Non static member functions are not functions.</p>\n\n<p>Try this:</p>\n\n<pre><code>auto lastFirst = std::partition(first, last,\n  [this](auto const&amp; x){return MiddlePointPartition(x);}\n);\n</code></pre>\n\n<p>in C++14.  In C++11 replace the <code>auto const&amp;</code> with <code>PrimitiveBvhRepresentation const&amp;</code>.</p>\n\n<p>In C++03, consider a new compiler, or use <code>std::bind(&amp;mem_fun, this)</code> as the 3rd argument to <code>partition</code> instead of the lambda.</p>\n"}, {"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1433348261, "creation_date": 1433348261, "answer_id": 30625517, "question_id": 30625318, "link": "https://stackoverflow.com/questions/30625318/stdpartition-error-when-partitioning-a-vector-of-a-type-of-object/30625517#30625517", "title": "std::partition error when partitioning a vector of a type of object", "body": "<p>The standard algorithms require a function object that can be used with the normal function call syntax, so a pointer to member doesn't qualify. If you need a non-static member function, wrap it with <code>std::mem_fn</code>.</p>\n\n<p><code>std::partition</code> requires a unary predicate, but your member function, assuming that it is non-static, takes two arguments (the implicit <code>this</code> parameter, and <code>current</code>). It's not clear to me whether you'd want this function to be a static member, or just operate on <code>this</code>.</p>\n"}], "owner": {"reputation": 375, "user_id": 1274748, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/gOBVM.jpg?s=128&g=1", "display_name": "Adrian De Barro", "link": "https://stackoverflow.com/users/1274748/adrian-de-barro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1433348322, "creation_date": 1433347719, "last_edit_date": 1433347786, "question_id": 30625318, "link": "https://stackoverflow.com/questions/30625318/stdpartition-error-when-partitioning-a-vector-of-a-type-of-object", "title": "std::partition error when partitioning a vector of a type of object", "body": "<p>Am using the following line of code to partition a number of objects through the following code: </p>\n\n<pre><code>vector&lt;PrimitiveBvhRepresentation&gt;::iterator lastFirst = std::partition(first, last, &amp;Engine::BVHNode::MiddlePointPartition);\n</code></pre>\n\n<p>the partition functions makes use of the following function to determine if the respective objects in the vector are true or false.</p>\n\n<pre><code>bool MiddlePointPartition(PrimitiveBvhRepresentation current)\n{\n    if (splittingAxis == 0)\n    {\n        return current.boundingBoxCentroid.x &lt;= splittingAxisValue;\n    }\n    else if (splittingAxis == 1)\n    {\n        return current.boundingBoxCentroid.y &lt;= splittingAxisValue;\n    }\n    else\n    {\n        return current.boundingBoxCentroid.z &lt;= splittingAxisValue;\n    }\n}\n</code></pre>\n\n<p>yet upon execution i get the following error: </p>\n\n<pre><code>Error   63  error C2064: term does not evaluate to a function taking 1 arguments\n</code></pre>\n\n<p>When clicking on the error it takes me to the algorithm class. Is the reference to the function written wrong? </p>\n"}, {"tags": ["c++", "divide-and-conquer"], "comments": [{"owner": {"reputation": 1824, "user_id": 700390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca9bc884e43cc60081c7beb05987f762?s=128&d=identicon&r=PG", "display_name": "user700390", "link": "https://stackoverflow.com/users/700390/user700390"}, "edited": false, "score": 1, "creation_date": 1433347752, "post_id": 30625224, "comment_id": 49316652, "body": "It may also be helpful if you include the error message that you are receiving at run time."}, {"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 1, "creation_date": 1433347873, "post_id": 30625224, "comment_id": 49316734, "body": "In <code>func</code> you have statements such as <code>if(a[n] &lt;= a[n+1])</code> but no check is made if any of these are actually valid array index values. But without seeing your error message it&#39;s hard to say if this is the problem. Please include any error output you are getting by editing your question to include it."}], "answers": [{"tags": [], "owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "is_accepted": true, "score": 2, "last_activity_date": 1433349054, "creation_date": 1433349054, "answer_id": 30625775, "question_id": 30625224, "link": "https://stackoverflow.com/questions/30625224/1d-peak-on-execution-says-an-error-has-caused-the-code-to-be-stop-working/30625775#30625775", "title": "1D Peak, on execution says an error has caused the code to be stop working", "body": "<p>Don't use postincrement and similar in function calls.</p>\n\n<p>Here's the problem condensed down to a really simple piece of code</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint test(int n){\n    if(n == 1){\n        std::cout &lt;&lt; \"Function called!\";\n        return test(n++);\n    }else{\n        return 0;\n    }\n}\n\nint main() {\n    test(1);\n    return 0;\n}\n</code></pre>\n\n<p>Before you run this, ask yourself what you expect to happen here. Did it do what you thought?</p>\n\n<p>When you run this you'll see that the code doesn't terminate properly. The output shows the function gets called infinitely many times, eventually the stack runs out of space and the program crashes.</p>\n\n<p>You can see this code in action here: <a href=\"http://ideone.com/QL0jCP\" rel=\"nofollow\">http://ideone.com/QL0jCP</a></p>\n\n<p>In your program you have the same problem:</p>\n\n<pre><code>int func(int n)// say n = 4\n{\n    if(a[n] &lt;= a[n+1])//say this is true\n    {\n        func(n++); //this calls func(4) THEN increments n afterwards\n    }\n</code></pre>\n\n<p>This calls <code>func</code> with the same value over and over.</p>\n\n<p>The solution is to not use postincrement or postdecrement in your function calls. These create hard to diagnose bugs as you have seen in this question. Just a simple <code>func(n+1)</code> is all you need. If you needed to use the variable later then just create an explicit variable to do that, it's much cleaner coding style (as this problem you ran into here shows).</p>\n\n<p>After you fix this you'll need to fix your array bounds checking. </p>\n\n<pre><code>if(a[n] &lt;= a[n+1])\n</code></pre>\n\n<p>If <code>n</code> is the last spot in the array you suddenly are trying to access one place past the end of the array, if you are lucky you get a segfault and a crash, if you are unlucky you get some bug that messes up your system that is hard to find. You want to check the values are valid.</p>\n"}], "owner": {"reputation": 45, "user_id": 3997062, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7d0bbf264a6af3bfa6680a609fe7da2?s=128&d=identicon&r=PG&f=1", "display_name": "Dhruv K", "link": "https://stackoverflow.com/users/3997062/dhruv-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 30625775, "answer_count": 1, "score": -1, "last_activity_date": 1433349054, "creation_date": 1433347438, "last_edit_date": 1433348207, "question_id": 30625224, "link": "https://stackoverflow.com/questions/30625224/1d-peak-on-execution-says-an-error-has-caused-the-code-to-be-stop-working", "title": "1D Peak, on execution says an error has caused the code to be stop working", "body": "<p>I am trying to find the 1D peak through Divide and Conquer technique in this particular question,\nmy program even though it runs,\nbut at the time of giving the final output it says that there has been some problem with the execution, \nI have got the answer from a different method, but I would like to know where am I at fault here. </p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\nint a[8];\n\nclass pg1\n{\npublic:\n    int func(int n)\n    {\n        if(a[n] &lt;= a[n+1])\n        {\n            func(n++);\n        }\n        else if(a[n] &lt;=a [n-1])\n        {\n            func(n--);\n        }\n        else\n        {\n            return n;\n        }\n    }\n};\n\nint main()\n{   \n    pg1 ob;\n    for(int i=0;i&lt;8;i++)\n    {\n        cin &gt;&gt; a[i];\n    }\n    int x = ob.func(4);\n    cout &lt;&lt; endl &lt;&lt; x;\n    return 0;\n}\n</code></pre>\n\n<p>Input-\n5\n6\n8\n5\n4\n3\n6\n4</p>\n\n<p>Errors are-\n1D Peak.exe has stopped working.\nA problem caused the program to stop working correctly.Windows will close the program and notify you aif a solution is available.</p>\n\n<p>End Result-\nProcess Exited with return value 3221225725</p>\n"}]