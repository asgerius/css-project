[{"tags": ["c++"], "comments": [{"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456963258, "post_id": 35760535, "comment_id": 59194466, "body": "This doesn&#39;t look right: <code>std::result_of_t&lt;FUNC(ARGS...)&gt;</code>. Something more like <code>decltype(std::declval&lt;FUNC&gt;()(args...))</code>?"}, {"owner": {"reputation": 371, "user_id": 4960518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d2441ba402398e738acd2f317e7e83c?s=128&d=identicon&r=PG&f=1", "display_name": "simon", "link": "https://stackoverflow.com/users/4960518/simon"}, "reply_to_user": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456963918, "post_id": 35760535, "comment_id": 59194676, "body": "That upsets the VC2015 compiler as well :-("}, {"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456964257, "post_id": 35760535, "comment_id": 59194785, "body": "I think you also want to pass the object by pointer, not reference, when using a member function with <code>std::function</code>. I don&#39;t know if it&#39;s the problem, though. And <code>result_of&lt;FUNC(ARGS...)&gt;</code> will give you <code>FUNC</code> as the return type."}, {"owner": {"reputation": 371, "user_id": 4960518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d2441ba402398e738acd2f317e7e83c?s=128&d=identicon&r=PG&f=1", "display_name": "simon", "link": "https://stackoverflow.com/users/4960518/simon"}, "reply_to_user": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456964620, "post_id": 35760535, "comment_id": 59194882, "body": "That compiles, Thanks James! :-O"}, {"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456964730, "post_id": 35760535, "comment_id": 59194920, "body": "Lol I was just guessing. I should make this an answer."}, {"owner": {"reputation": 371, "user_id": 4960518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d2441ba402398e738acd2f317e7e83c?s=128&d=identicon&r=PG&f=1", "display_name": "simon", "link": "https://stackoverflow.com/users/4960518/simon"}, "reply_to_user": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456964838, "post_id": 35760535, "comment_id": 59194950, "body": "You can still make it an answer, and I will mark it as answer to my question if you do so."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456965902, "post_id": 35760535, "comment_id": 59195262, "body": "Please include <code>#include</code>s when you post your MCVE."}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1456965385, "post_id": 35760938, "comment_id": 59195114, "body": "Actually, a reference is just as acceptable as a pointer. <a href=\"http://en.cppreference.com/w/cpp/concept/Callable\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/concept/Callable</a>"}, {"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456965481, "post_id": 35760938, "comment_id": 59195141, "body": "@PreferenceBean Really? I wasn&#39;t sure, but I figured it must be because it solved the problem. That&#39;s a strange coincidence."}, {"owner": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "edited": false, "score": 0, "creation_date": 1456965544, "post_id": 35760938, "comment_id": 59195158, "body": "<code>std::function&lt;std::result_of_t&lt;FUNC(ARGS...)&gt;() &gt; rFunc</code> just works fine with VS2015. I don&#39;t know why you propose gibberish instead."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456965631, "post_id": 35760938, "comment_id": 59195183, "body": "@JamesRoot: A broken implementation of <code>INVOKE</code> is not out of the question, though I&#39;ve not been able to find any previous SO questions on the subject which is surprising if this is indeed VS&#39;s behaviour."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 1137, "user_id": 2696695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e02253aec3ee891b2375c4f4763013a9?s=128&d=identicon&r=PG&f=1", "display_name": "nshct", "link": "https://stackoverflow.com/users/2696695/nshct"}, "edited": false, "score": 0, "creation_date": 1456965985, "post_id": 35760938, "comment_id": 59195285, "body": "@nshct: Doesn&#39;t for me on GCC. I believe you misread that part of James&#39;s answer."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456966200, "post_id": 35760938, "comment_id": 59195343, "body": "Huh <a href=\"http://coliru.stacked-crooked.com/a/463d44f0468cbf34\" rel=\"nofollow noreferrer\">interesting</a>. There&#39;s some facet here that I&#39;m missing."}], "tags": [], "owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "is_accepted": true, "score": 1, "last_activity_date": 1456967506, "last_edit_date": 1456967506, "creation_date": 1456965070, "answer_id": 35760938, "question_id": 35760535, "link": "https://stackoverflow.com/questions/35760535/error-on-compiling-template-function-of-queue-of-stdfunctions/35760938#35760938", "title": "Error on compiling template function of Queue of std::functions", "body": "<p>So, I think this is an issue with vc++. Passing a member function works just fine when the next parameter is a pointer, but fails when it is a reference.</p>\n\n<pre><code>template &lt;class F, class... A&gt;\nstd::result_of_t&lt;F(A...)&gt; Foo::bar(F f, A... a)\n{\n    return 0;\n}\n\nFoo f;\nf.bar(&amp;Foo::other_function, std::ref(f)); //error\nf.bar(&amp;Foo::other_function, &amp;f); //success\n</code></pre>\n\n<p>Additionally, <code>result_of</code> in vc++ fails when the function type is a function (like <code>void()</code>), but clang and gcc both succeed.</p>\n\n<pre><code>template &lt;class F, class... A&gt;\nstruct Foo\n{\n    typedef std::result_of_t&lt;F(A...)&gt; type;\n};\n\nFoo&lt;int(int), int&gt; //fails in only vc++\n</code></pre>\n"}], "owner": {"reputation": 371, "user_id": 4960518, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d2441ba402398e738acd2f317e7e83c?s=128&d=identicon&r=PG&f=1", "display_name": "simon", "link": "https://stackoverflow.com/users/4960518/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 483, "favorite_count": 0, "accepted_answer_id": 35760938, "answer_count": 1, "score": 1, "last_activity_date": 1456967506, "creation_date": 1456962495, "last_edit_date": 1456966112, "question_id": 35760535, "link": "https://stackoverflow.com/questions/35760535/error-on-compiling-template-function-of-queue-of-stdfunctions", "title": "Error on compiling template function of Queue of std::functions", "body": "<p>I want to make a template function to queue both general functions and also class member functions. With internet search, I came up with the following code but have error in compiling it. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n#include &lt;queue&gt;\n#include &lt;string&gt;\n\ndouble MyFunction(double num1, double num2)\n{\n    std::cout &lt;&lt; \"MyFunction( \" &lt;&lt; num1 &lt;&lt; \", \" &lt;&lt; num2 &lt;&lt; \" )\\n\";\n    return num1 + num2;\n}\n\nclass MyClass\n{\npublic:\n    double MyClassFunction(double num1, double num2, double num3) const\n    {\n        std::cout &lt;&lt; \"MyClass::MyClassFunction( \" &lt;&lt; num1 &lt;&lt; \", \" &lt;&lt; num2 &lt;&lt; \", \" &lt;&lt; num3 &lt;&lt; \" )\\n\";\n        return num1 + num2 + num3;\n    }\n};\n\nstruct MyFunctionQueue\n{\n    template &lt;typename FUNC, typename... ARGS&gt;\n    void QueueFunction(FUNC fn, ARGS&amp;&amp;... args)\n    {\n        std::function&lt;std::result_of_t&lt;FUNC(ARGS...)&gt; () &gt; rFunc = std::bind(fn, args...);\n        _myFQ.push(rFunc);\n    }\n\n    void Execute()\n    {\n        while (!_myFQ.empty())\n        {\n            _myR.push(_myFQ.front()());\n            _myFQ.pop();\n        }\n    }\n\n    double PopResult()\n    {\n        double r = _myR.front();\n        _myR.pop();\n        return r;\n    }\n\n    std::queue&lt;std::function&lt;double()&gt;&gt; _myFQ;\n    std::queue&lt;double&gt; _myR;\n};\n\n\nint main()\n{\n    MyFunctionQueue funcQue;\n\n    funcQue.QueueFunction(MyFunction, 1.234, 2.345);\n\n    MyClass obj;\n    funcQue.QueueFunction(&amp;MyClass::MyClassFunction, std::ref(obj), 1.234, 2.345, 3.456);\n\n    funcQue.Execute();\n\n    std::cout &lt;&lt; \"MyFunction result: \" &lt;&lt; funcQue.PopResult() &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"MyClass::MyClassFunction result: \" &lt;&lt; funcQue.PopResult() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>I know the error is with the template code generation on the class member function. With my limited knowledge in using templates I cannot figure out what's wrong with it. Can anyone help to point out the mistake in the code? And the error I've got from VC++ is:</p>\n\n<pre><code>1&gt;------ Build started: Project: TestFunctionQueue, Configuration: Debug Win32 ------\n1&gt;  TestFunctionQueue.cpp\n1&gt;c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\type_traits(1469): error C2672: 'std::invoke': no matching overloaded function found\n1&gt;  c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(31): note: see reference to class template instantiation 'std::result_of&lt;FUNC (std::reference_wrapper&lt;MyClass&gt;,double,double,double)&gt;' being compiled\n1&gt;          with\n1&gt;          [\n1&gt;              FUNC=double (__thiscall MyClass::* )(double,double,double) const\n1&gt;          ]\n1&gt;  c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(63): note: see reference to function template instantiation 'void MyFunctionQueue::QueueFunction&lt;double(__thiscall MyClass::* )(double,double,double) const,std::reference_wrapper&lt;MyClass&gt;,double,double,double&gt;(FUNC,std::reference_wrapper&lt;MyClass&gt; &amp;&amp;,double &amp;&amp;,double &amp;&amp;,double &amp;&amp;)' being compiled\n1&gt;          with\n1&gt;          [\n1&gt;              FUNC=double (__thiscall MyClass::* )(double,double,double) const\n1&gt;          ]\n1&gt;c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\type_traits(1469): error C2893: Failed to specialize function template 'unknown-type std::invoke(_Callable &amp;&amp;,_Types &amp;&amp;...)'\n1&gt;  c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\type_traits(1469): note: With the following template arguments:\n1&gt;  c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\type_traits(1469): note: '_Callable=double (__thiscall MyClass::* )(double,double,double) const'\n1&gt;  c:\\program files (x86)\\microsoft visual studio 14.0\\vc\\include\\type_traits(1469): note: '_Types={std::reference_wrapper&lt;MyClass&gt;, double, double, double}'\n1&gt;c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(31): error C2440: 'initializing': cannot convert from 'std::_Binder&lt;std::_Unforced,FUNC &amp;,std::reference_wrapper&lt;MyClass&gt; &amp;,double &amp;,double &amp;,double &amp;&gt;' to 'std::function&lt;unknown-type (void)&gt;'\n1&gt;          with\n1&gt;          [\n1&gt;              FUNC=double (__thiscall MyClass::* )(double,double,double) const\n1&gt;          ]\n1&gt;  c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(31): note: No constructor could take the source type, or constructor overload resolution was ambiguous\n1&gt;c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(32): error C2664: 'void std::queue&lt;std::function&lt;double (void)&gt;,std::deque&lt;_Ty,std::allocator&lt;_Ty&gt;&gt;&gt;::push(const std::function&lt;double (void)&gt; &amp;)': cannot convert argument 1 from 'std::function&lt;unknown-type (void)&gt;' to 'std::function&lt;double (void)&gt; &amp;&amp;'\n1&gt;          with\n1&gt;          [\n1&gt;              _Ty=std::function&lt;double (void)&gt;\n1&gt;          ]\n1&gt;  c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(32): note: Reason: cannot convert from 'std::function&lt;unknown-type (void)&gt;' to 'std::function&lt;double (void)&gt;'\n1&gt;  c:\\users\\siu.chan\\documents\\visual studio 2015\\projects\\testfunctionqueue\\testfunctionqueue\\testfunctionqueue.cpp(32): note: No user-defined-conversion operator available that can perform this conversion, or the operator cannot be called\n</code></pre>\n"}, {"tags": ["c++", "c++11", "lambda", "variadic-templates", "perfect-forwarding"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1456962291, "post_id": 35760453, "comment_id": 59194109, "body": "Hmm, an occurrence of a pack without an expansion?"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1456963415, "post_id": 35760453, "comment_id": 59194518, "body": "@Columbo I&#39;m not sure which part you&#39;re referring to."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1456963634, "post_id": 35760453, "comment_id": 59194596, "body": "<code>[weak, params]() {\u2026}</code>"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1456963666, "post_id": 35760453, "comment_id": 59194604, "body": "@Columbo Have a look at the text just below that.  I tried several variations, including an attempted expansion."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1456963847, "post_id": 35760453, "comment_id": 59194653, "body": "<code>member</code> is not captured either."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1456963951, "post_id": 35760453, "comment_id": 59194690, "body": "The attempted expansion would have been the correct way, so use that as an example.  Either way, your compiler is crap, so you&#39;ll have to stick with a workaround for now."}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1456964000, "post_id": 35760453, "comment_id": 59194704, "body": "@Jarod42 True, that was a typo -- it was correct in the original code.  I&#39;ve corrected that now."}], "answers": [{"comments": [{"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1456967322, "post_id": 35761260, "comment_id": 59195693, "body": "Considering the target compiler is VS2013, which is barely C++11 and not C++14, I&#39;m not sure this is all that useful.  Definitely interesting, however.  I&#39;m not sure it&#39;s all that different in practice from the workaround I posted myself, though."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 1, "last_activity_date": 1456967213, "creation_date": 1456967213, "answer_id": 35761260, "question_id": 35760453, "link": "https://stackoverflow.com/questions/35760453/c11-lambdas-and-parameter-packs/35761260#35761260", "title": "C++11 lambdas and parameter packs", "body": "<p>Make things work is my goal.</p>\n\n<p>I'll attack this:</p>\n\n<pre><code>qp-&gt;Post([weak, member, params]()\n{\n  if (auto strong = weak.lock()) {\n    ((*strong).*member)(std::forward&lt;Params&gt;(params)...);\n  }\n});\n</code></pre>\n\n<p>First, let us get <code>params</code> into the lambda.</p>\n\n<pre><code>auto tParams = std::make_tuple( std::forward&lt;Params&gt;(params)... );\nqp-&gt;Post([weak, member, tParams]()\n{\n  if (auto strong = weak.lock()) {\n    ((*strong).*member)(std::forward&lt;Params&gt;(params)...);\n  }\n});\n</code></pre>\n\n<p>however, you'll note that now the body doesn't compile!</p>\n\n<p>We are, however, closer.</p>\n\n<pre><code>template&lt;class T, class M&gt;\nstruct member_invoke_t;\ntemplate&lt;class T, class R, class...Args&gt;\nstruct member_invoke_t&lt;T*, R(::*)(Args...)&gt; {\n  T* t;\n  R(::*m)(Args...);\n  template&lt;class...Ts&gt;\n  R operator()(Ts&amp;&amp;...ts)const{\n    return (t-&gt;*m)(std::forward&lt;Ts&gt;(ts)...);\n  }\n};\ntemplate&lt;class T, class M&gt;\nmember_invoke_t&lt;T*, M*&gt; member_invoke(T* t, M*m) {\n  return {t, m};\n};\n</code></pre>\n\n<p>then we only have to write <code>std::apply</code></p>\n\n<pre><code>qp-&gt;Post([weak, member, tParams]()mutable\n{\n  if (auto strong = weak.lock())\n    std::apply( member_invoke(strong.get(), member), std::move(tParams) );\n}\n</code></pre>\n\n<p>which should be doable.  (The above code assumes that the lambda passed to <code>Post</code> will only be invoked once by the way -- hence the <code>move</code> and the <code>mutable</code>).</p>\n\n<p><code>std::apply</code> has a possible C++14 implementation <a href=\"http://en.cppreference.com/w/cpp/experimental/apply\" rel=\"nofollow\">over here</a>.  Converting to C++11 requires writing <code>index_sequence</code> and replacing the <code>decltype(auto)</code> with an explicit <code>-&gt;decltype(expression)</code> I think.  In any case, that is a sub-problem I'll skip here.</p>\n"}, {"comments": [{"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1456969901, "post_id": 35761562, "comment_id": 59196439, "body": "The templated <code>operator()</code> is needed to obtain perfect forwarding. Without it, your rvalue references are just rvalue references, not forwarding references."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1456970367, "post_id": 35761562, "comment_id": 59196579, "body": "The same goes for <code>[=](Params&amp;&amp;... params)</code> and <code>std::function&lt;void(Params&amp;&amp;...)&gt;</code>, just adding <code>&amp;&amp;</code> to the parameter types of the <code>member</code> function doesn&#39;t magically create forwarding references."}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1456980408, "post_id": 35761562, "comment_id": 59199552, "body": "@Oktalist So are you saying that this version still has problems, or that it&#39;s fine as is?"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "reply_to_user": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1456986317, "post_id": 35761562, "comment_id": 59201649, "body": "FWIW, further testing shows that using <code>Params...</code> (no <code>&amp;&amp;</code> or <code>std::forward</code>) on the lambda is sufficient for copyable types, but neither version works for move-only types.  Which is disappointing but not surprising.  I&#39;m ok with things as they are but would appreciate a moveable version if someone were so inclined."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "edited": false, "score": 0, "creation_date": 1457013108, "post_id": 35761562, "comment_id": 59219319, "body": "For VS2013 it&#39;s difficult. Yakk&#39;s answer should work."}], "tags": [], "owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "is_accepted": false, "score": 0, "last_activity_date": 1456969654, "last_edit_date": 1495535285, "creation_date": 1456969251, "answer_id": 35761562, "question_id": 35760453, "link": "https://stackoverflow.com/questions/35760453/c11-lambdas-and-parameter-packs/35761562#35761562", "title": "C++11 lambdas and parameter packs", "body": "<p><a href=\"https://stackoverflow.com/a/35761260/43534\">Yakk's answer</a> did inspire me a bit to make a slight alteration to the workaround posted above:</p>\n\n<pre><code>template&lt;typename T, typename... Params&gt;\nstruct WeakCaller\n{\n    typedef void (T::*member_type)(Params...);\n    typedef boost::weak_ptr&lt;T&gt; weak_type;\n\n    WeakCaller(member_type member, const weak_type&amp; weak)\n        : m_member(member), m_weak(weak) {}\n\n    template&lt;typename... Args&gt;\n    void operator()(Args&amp;&amp;... params)\n    {\n        if (auto strong = m_weak.lock())\n        {\n            ((*strong).*m_member)(std::forward&lt;Args&gt;(params)...);\n        }\n    }\n\nprivate:\n    member_type m_member;\n    weak_type m_weak;\n};\n\ntemplate&lt;typename T, typename... Params&gt;\nauto PostWeakTask(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                  void (T::*member)(Params...),\n                  const boost::weak_ptr&lt;T&gt;&amp; weak)\n    -&gt; std::function&lt;void (Params...)&gt;\n{\n    return [=](Params&amp;&amp;... params)\n    {\n        if (auto qp = queue.lock())\n        {\n            qp-&gt;Post(std::bind(WeakCaller&lt;T, Params...&gt;(member, weak),\n                     std::forward&lt;Params&gt;(params)...));\n        }\n    }\n}\n</code></pre>\n\n<p>This appears to compile and work as expected, although I haven't tested it with move-only types yet (I suspect they will be problematic due to the use of <code>bind</code> and <code>function</code>).  I'm not really sure why re-templating the operator was needed, but it seems to bypass the compiler errors I was having with <code>&amp;&amp;</code> params.</p>\n\n<p>I'm also still not sure whether the return type of <code>PostWeakTask</code> should be <code>std::function&lt;void(Params...)&gt;</code> or <code>std::function&lt;void(Params&amp;&amp;...)&gt;</code>; it seems to compile ok both ways.</p>\n"}, {"comments": [{"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457043516, "post_id": 35782030, "comment_id": 59239758, "body": "Thanks, this looks useful.  Although it seems a bit weird to implement copy constructors as move constructors -- wasn&#39;t that the thing everyone hated about <code>auto_ptr</code>?  Also, I tried using <a href=\"http://pdimov.com/cpp2/simple_cxx11_metaprogramming.html\" rel=\"nofollow noreferrer\">this implementation</a> of <code>std::index_sequence</code>, but it causes an internal compiler error.  Do you know of a better one?"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457044774, "post_id": 35782030, "comment_id": 59240350, "body": "Ok, I found <a href=\"http://stackoverflow.com/questions/26245856/how-to-implement-a-variadic-tuple-map-operation\">another one</a> that seems to work.  I had to make a couple of tweaks to the above (mostly adding <code>const</code> in a few places), and it does compile and work for copyable types.  However it&#39;s having the same problem as the <code>bind</code>-based one for move-only types.  I&#39;ll add the move-only test case that I&#39;m using to the question, since it&#39;s easier to format it there.  Maybe I&#39;m doing something dumb?"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457046936, "post_id": 35782030, "comment_id": 59241285, "body": "Never mind, I worked it out.  After adding the <code>const</code> (so that <code>MoveTupleWrapper</code> actually had a copy constructor, not merely a reference constructor), the <code>std::move</code> still ended up invoking the tuple&#39;s copy constructor, because <code>const tuple&amp;&amp;</code> can be passed to <code>const tuple&amp;</code> and can&#39;t be passed to <code>tuple&amp;&amp;</code>.  (It would be nice if this had generated a compiler warning so this was more obvious.)  Making the <code>m_tuple</code> member <code>mutable</code> fixed this, so I now have a fully working solution, thanks!"}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457047732, "post_id": 35782030, "comment_id": 59241586, "body": "I noticed the similarity to <code>autoptr</code>. You are of course correct that it&#39;s a bit evil, but this is what VS2013 imposes on us. I&#39;ve made an edit, adding <code>mutable</code> to the lambda (not the tuple) which is probably the better fix. The lack of <code>const</code> in the copy ctor and operator is valid and intended. But adding <code>const</code> and <code>mutable</code> as you have done will also work, it slightly obscures the fact that the copy ctor and operator will modify <code>other</code> (by moving from its <code>m_tuple</code> member)."}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457048726, "post_id": 35782030, "comment_id": 59241944, "body": "Omitting the <code>const</code> from the copy constructor causes compiler error <code>MoveTupleWrapper&lt;&gt;&#39; : no copy constructor available or copy constructor is declared &#39;explicit&#39;</code>, even with <code>mutable</code> on the lambda.  I added my current version of the above to the end of the question.  It&#39;s a little ugly that it moves from a const parameter, but that&#39;s just an internal detail and it does compile and passes tests.  (Though not for lvalue-refs, but that&#39;s not surprising.)"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457060127, "post_id": 35782030, "comment_id": 59245358, "body": "Actually, it can be persuaded to work with lvalue refs too, although it&#39;s a bit clunky.  I&#39;m not really expecting to need those though, so it&#39;s fine."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457115794, "post_id": 35782030, "comment_id": 59276109, "body": "A non-const lvalue reference would usually denote an output parameter. The caller might expect <code>member</code> to modify the argument through the reference, but as currently written, it would only be modifying the captured copy. You&#39;d want to wrap it with <code>std::ref</code>, and then you&#39;d want to avoid the default behaviour of <code>std::make_tuple</code> which is to unwrap the reference wrapper, and you&#39;d need to be sure that the lifetime of the lambda would not exceed the lifetime of the argument."}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457302099, "post_id": 35782030, "comment_id": 59333361, "body": "See the addition to the question (added prior to my comment above).  It appears that <code>std::ref</code> doesn&#39;t get unwrapped automatically anyway (though perhaps this is a VS2013 defect; I haven&#39;t tested on any other compilers)."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457360963, "post_id": 35782030, "comment_id": 59357817, "body": "I could be wrong about having to avoid the unwrap. The resulting tuple can&#39;t be copy assigned but can be copy constructed which is probably sufficient. But as I have written it, it would <i>move from</i> the original lvalue argument which is probably not what you would want."}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457402124, "post_id": 35782030, "comment_id": 59380536, "body": "I assume you mean if not using <code>std::ref</code>?  When using <code>std::ref</code> it will try to move from the <code>reference_wrapper</code>, which will decay to a copy, and everything after that just works.  (I tested it, although admittedly only with a <code>reference_wrapper&lt;int&gt;</code> so it&#39;s possible I missed some side effect.)"}, {"owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "edited": false, "score": 0, "creation_date": 1457402283, "post_id": 35782030, "comment_id": 59380581, "body": "Although there does seem to be something odd going on.  When I used <code>std::ref</code> I definitely received a <code>reference_wrapper&lt;T&gt;</code> in the wrapped callback.  But you&#39;re right that <code>make_tuple</code> (even in VS2013) does pass the parameter types through a reference-unwrapper metafunction.  So I&#39;m not sure why it survived that."}], "tags": [], "owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "is_accepted": true, "score": 2, "last_activity_date": 1457047186, "last_edit_date": 1457047186, "creation_date": 1457035772, "answer_id": 35782030, "question_id": 35760453, "link": "https://stackoverflow.com/questions/35760453/c11-lambdas-and-parameter-packs/35782030#35782030", "title": "C++11 lambdas and parameter packs", "body": "<blockquote>\n  <p>I thought part of the point of using rvalue references this way was that they were supposed to forward perfectly without needing multiple overloads?</p>\n</blockquote>\n\n<p>No, rvalue references and forwarding references are two different things. They both involve <code>&amp;&amp;</code> but they behave differently. Forwarding references occur only in the presence of template argument deduction (or <code>auto</code> type deduction, which uses the same rules).</p>\n\n<p>This is a forwarding reference:</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid foo(T&amp;&amp; v);\n</code></pre>\n\n<p>Template argument deduction will let <code>T</code> be any type; if <code>T</code> is an lvalue reference then <code>v</code> is an lvalue reference, otherwise <code>v</code> is an rvalue reference, due to reference collapsing.</p>\n\n<p>This is NOT a forwarding reference:</p>\n\n<pre><code>void foo(int&amp;&amp; v);\n</code></pre>\n\n<p>There is no template argument deduction here, so <code>v</code> is a plain rvalue reference to <code>int</code>, it can bind only to rvalues.</p>\n\n<p>This is also NOT a forwarding reference:</p>\n\n<pre><code>template&lt;typename T&gt;\nstruct Foo\n{\n    void bar(T&amp;&amp; v);\n};\n</code></pre>\n\n<p>Again because there is no template argument deduction. The function <code>Foo&lt;int&gt;::bar</code> is not a template, it is a plain function taking a plain rvalue reference parameter which can bind only to rvalues. The function <code>Foo&lt;int&amp;&gt;::bar</code> is a plain function taking a plain lvalue reference parameter which can bind only to lvalues.</p>\n\n<blockquote>\n  <p>On a side note, I originally tried to use <code>decltype([](Params&amp;&amp;...){})</code> as the return type, as this seems more natural.</p>\n</blockquote>\n\n<p>That would never work. Every lambda expression denotes a unique type, so <code>decltype([]{})</code> and <code>decltype([]{})</code> are two different, unrelated types.</p>\n\n<p>Here is a possible solution. The only C++14 feature used is <code>std::index_sequence</code>, for which you can Google a C++11 implementation.</p>\n\n<pre><code>template&lt;typename... Ts&gt;\nstruct MoveTupleWrapper\n{\n    MoveTupleWrapper(std::tuple&lt;Ts...&gt;&amp;&amp; tuple) : m_tuple(tuple) {}\n    MoveTupleWrapper(MoveTupleWrapper&amp; other) : m_tuple(std::move(other.m_tuple)) {}\n    MoveTupleWrapper&amp; operator=(MoveTupleWrapper&amp; other) { m_tuple = std::move(other.m_tuple); }\n    std::tuple&lt;Ts...&gt; m_tuple;\n\n    template&lt;typename T, typename... Params&gt;\n    void apply(void (T::*member)(Params...), T&amp; object)\n    {\n        applyHelper(member, object, std::index_sequence_for&lt;Ts...&gt;);\n    }\n    template&lt;typename T, typename... Params, size_t... Is&gt;\n    void applyHelper(void (T::*member)(Params...), T&amp; object, std::index_sequence&lt;Is...&gt;)\n    {\n        (object.*member)(std::move(std::get&lt;Is&gt;(m_tuple))...);\n    }\n};\n\ntemplate&lt;typename... Ts&gt;\nauto MoveTuple(Ts&amp;&amp;... objects)\n    -&gt; MoveTupleWrapper&lt;std::decay_t&lt;Ts&gt;...&gt;\n{\n    return std::make_tuple(std::forward&lt;Ts&gt;(objects)...);\n}\n\ntemplate&lt;typename T, typename... Params&gt;\nstruct WeakTaskPoster\n{\n    WeakTaskPoster(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                   void (T::*member)(Params...),\n                   const boost::weak_ptr&lt;T&gt;&amp; weak) :\n        m_queue(queue),\n        m_member(member),\n        m_weak(weak)\n    {}\n    boost::weak_ptr&lt;IWorkQueue&gt; m_queue;\n    void (T::*m_member)(Params...);\n    boost::weak_ptr&lt;T&gt; m_weak;\n\n    template&lt;typename... XParams&gt;\n    void operator()(XParams&amp;&amp;... params) const\n    {\n        if (auto qp = m_queue.lock())\n        {\n            auto weak = m_weak;\n            auto member = m_member;\n            auto tuple = MoveTuple(std::forward&lt;XParams&gt;(params)...);\n            qp-&gt;Post([weak, member, tuple]() mutable\n            {\n                if (auto strong = weak.lock())\n                {\n                    tuple.apply(member, *strong);\n                }\n            });\n        }\n    }\n};\n\ntemplate&lt;typename T, typename... Params&gt;\nauto PostWeakTask(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                  void (T::*member)(Params...),\n                  const boost::weak_ptr&lt;T&gt;&amp; weak)\n    -&gt; WeakTaskPoster&lt;T, Params...&gt;\n{\n    return { queue, member, weak };\n}\n</code></pre>\n\n<p>Note that <code>WeakTaskPoster::operator()</code> is a template, so we obtain perfect forwarding. The C++14 way to do that would've been a generic lambda. Then there is this <code>MoveTuple</code> thing. That's a wrapper around a <code>std::tuple</code> which simply implements copy in terms of move, so we can work around the lack of C++14 lambda capture-by-move. It also implements exactly the subset of <code>std::apply</code> that is necessary.</p>\n\n<p>It's very similar to Yakk's answer, except that the tuple of parameters is moved instead of copied into the lambda's capture set.</p>\n"}], "owner": {"reputation": 11713, "user_id": 43534, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6b36958661c789010d95b27325154828?s=128&d=identicon&r=PG", "display_name": "Miral", "link": "https://stackoverflow.com/users/43534/miral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1143, "favorite_count": 0, "accepted_answer_id": 35782030, "answer_count": 3, "score": 4, "last_activity_date": 1457074508, "creation_date": 1456962076, "last_edit_date": 1495542224, "question_id": 35760453, "link": "https://stackoverflow.com/questions/35760453/c11-lambdas-and-parameter-packs", "title": "C++11 lambdas and parameter packs", "body": "<p>I'm having essentially the same problem as <a href=\"https://stackoverflow.com/questions/24029833/visual-studio-2013-c-lambda-capture-parameter-pack\">this question</a>, however unfortunately the only posted answer there is now a dead link.</p>\n\n<p>Specifically, using VS2013 Update 4, I'm trying to get the following code to compile, and it's not being cooperative:</p>\n\n<pre><code>template&lt;typename T, typename... Params&gt;\nauto PostWeakTask(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                  void (T::*member)(Params...),\n                  const boost::weak_ptr&lt;T&gt;&amp; weak)\n    -&gt; std::function&lt;void (Params&amp;&amp;...)&gt;\n{\n    return [queue, member, weak](Params&amp;&amp;... params)\n    {\n        if (auto qp = queue.lock())\n        {\n            qp-&gt;Post([weak, member, params]()\n            {\n                if (auto strong = weak.lock())\n                {\n                    ((*strong).*member)(std::forward&lt;Params&gt;(params)...);\n                }\n            });\n        }\n    };\n}\n</code></pre>\n\n<p>(As written, the capture of <code>params</code> fails with <code>C3481: 'params': lambda capture variable not found</code>.  If I try using implicit capture with <code>=</code> instead, it says <code>C2065: 'params' : undeclared identifier</code>.  If I try <code>params...</code>, I get <code>C3521: 'params' is not a parameter pack</code>.)</p>\n\n<p>The idea of course is to return a function that when called will post a member function with arbitrary parameters to a work queue that accepts <code>void()</code> tasks only, and to only keep weak references to the queue and task when not yet executed.</p>\n\n<p>I don't think there's anything actually wrong in the code here, though.  I think I've found a workaround using <code>bind</code> instead of a lambda, but oddly it only seems to work with <code>std::function</code> and not <code>boost::function</code>.  (Using Boost 1.55.  I suspect this might be pre-rvalue-ref support?)</p>\n\n<p>(On a side note, I originally tried to use <code>decltype([](Params&amp;&amp;...){})</code> as the return type, as this seems more natural.  But it crashes the compiler.)</p>\n\n<hr>\n\n<p>The workaround is doing something a bit weird too.  Maybe I should ask this as a separate question as it mostly relates to the perfect-forwarding part instead, but:</p>\n\n<pre><code>template&lt;typename T, typename... Params&gt;\nauto PostWeakTask(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                  void (T::*member)(Params...),\n                  const boost::weak_ptr&lt;T&gt;&amp; weak)\n    -&gt; std::function&lt;void (Params...)&gt;\n{\n    struct WeakCaller\n    {\n        typedef void (T::*member_type)(Params...);\n        typedef boost::weak_ptr&lt;T&gt; weak_type;\n\n        WeakCaller(member_type member, const weak_type&amp; weak)\n            : m_member(member), m_weak(weak) {}\n\n        void operator()(Params&amp;&amp;... params)\n        {\n            if (auto strong = m_weak.lock())\n            {\n                ((*strong).*m_member)(std::forward&lt;Params&gt;(params)...);\n            }\n        }\n\n    private:\n        member_type m_member;\n        weak_type m_weak;\n    };\n\n    return [=](Params&amp;&amp;... params)\n    {\n        if (auto qp = queue.lock())\n        {\n            qp-&gt;Post(std::bind(WeakCaller(member, weak),\n                     std::forward&lt;Params&gt;(params)...));\n        }\n    }\n}\n</code></pre>\n\n<p>This seems like it should work, but when I try calling it (with a <code>void (tribool,tribool,const std::string&amp;)</code> method) I get a binding error that a <code>tribool</code> parameter is not compatible with a <code>tribool&amp;&amp;</code> one.</p>\n\n<p>(Specifically: <code>C2664: 'void WeakCaller&lt;T,boost::logic::tribool,boost::logic::tribool,const std::string &amp;&gt;::operator ()(boost::logic::tribool &amp;&amp;,boost::logic::tribool &amp;&amp;,const std::string &amp;)' : cannot convert argument 1 from 'boost::logic::tribool' to 'boost::logic::tribool &amp;&amp;'</code>.)</p>\n\n<p>I thought part of the point of using rvalue references this way was that they were supposed to forward perfectly without needing multiple overloads?</p>\n\n<p>I can make it compile by making <code>WeakCaller</code> have <code>void operator()(Params... params)</code> instead, but doesn't this defeat perfect forwarding?  (Oddly it seems ok with leaving the <code>&amp;&amp;</code> at the top-level lambda... and I'm not sure if the mismatch between the <code>std::function</code> signature and the lambda signature is ok.)</p>\n\n<hr>\n\n<p>Just for reference, here is the final version I'm using now, after tweaking <a href=\"https://stackoverflow.com/a/35782030/43534\">Oktalist's answer</a>:</p>\n\n<pre><code>namespace detail\n{\n    template&lt;size_t... Ints&gt; struct index_sequence\n    {\n        static size_t size() { return sizeof...(Ints); }\n    };\n\n    template&lt;size_t Start, typename Indices, size_t End&gt;\n    struct make_index_sequence_impl;\n\n    template&lt;size_t Start, size_t... Indices, size_t End&gt;\n    struct make_index_sequence_impl&lt;Start, index_sequence&lt;Indices...&gt;, End&gt;\n    {\n        typedef typename make_index_sequence_impl&lt;\n            Start + 1, index_sequence&lt;Indices..., Start&gt;, End&gt;::type type;\n    };\n\n    template&lt;size_t End, size_t... Indices&gt;\n    struct make_index_sequence_impl&lt;End, index_sequence&lt;Indices...&gt;, End&gt;\n    {\n        typedef index_sequence&lt;Indices...&gt; type;\n    };\n\n    template &lt;size_t N&gt;\n    using make_index_sequence = typename\n        make_index_sequence_impl&lt;0, index_sequence&lt;&gt;, N&gt;::type;\n\n    template&lt;typename... Ts&gt;\n    using index_sequence_for = make_index_sequence&lt;sizeof...(Ts)&gt;;\n\n    template&lt;typename... Ts&gt;\n    struct MoveTupleWrapper\n    {\n        MoveTupleWrapper(std::tuple&lt;Ts...&gt;&amp;&amp; tuple)\n            : m_tuple(std::move(tuple)) {}\n        MoveTupleWrapper(const MoveTupleWrapper&amp; other)\n            : m_tuple(std::move(other.m_tuple)) {}\n        MoveTupleWrapper&amp; operator=(const MoveTupleWrapper&amp; other)\n            { m_tuple = std::move(other.m_tuple); }\n\n        template&lt;typename T, typename... Params&gt;\n        void apply(void (T::*member)(Params...), T&amp; object) const\n        {\n            applyHelper(member, object, index_sequence_for&lt;Ts...&gt;());\n        }\n\n        template&lt;typename T, typename... Params, size_t... Is&gt;\n        void applyHelper(void (T::*member)(Params...), T&amp; object,\n                         index_sequence&lt;Is...&gt;) const\n        {\n            (object.*member)(std::move(std::get&lt;Is&gt;(m_tuple))...);\n        }\n\n    private:\n        mutable std::tuple&lt;Ts...&gt; m_tuple;\n    };\n\n    template&lt;typename... Ts&gt;\n    auto MoveTuple(Ts&amp;&amp;... objects)\n        -&gt; MoveTupleWrapper&lt;std::decay_t&lt;Ts&gt;...&gt;\n    {\n        return std::make_tuple(std::forward&lt;Ts&gt;(objects)...);\n    }\n\n    template&lt;typename T, typename... Params&gt;\n    struct WeakTaskPoster\n    {\n        WeakTaskPoster(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                       void (T::*member)(Params...),\n                       const boost::weak_ptr&lt;T&gt;&amp; weak) :\n            m_queue(queue),\n            m_member(member),\n            m_weak(weak)\n        {}\n\n        template&lt;typename... XParams&gt;\n        void operator()(XParams&amp;&amp;... params) const\n        {\n            if (auto qp = m_queue.lock())\n            {\n                auto weak = m_weak;\n                auto member = m_member;\n                auto tuple = MoveTuple(std::forward&lt;XParams&gt;(params)...);\n                qp-&gt;Post([weak, member, tuple]()\n                {\n                    if (auto strong = weak.lock())\n                    {\n                        tuple.apply(member, *strong);\n                    }\n                });\n            }\n        }\n\n    private:\n        boost::weak_ptr&lt;IWorkQueue&gt; m_queue;\n        void (T::*m_member)(Params...);\n        boost::weak_ptr&lt;T&gt; m_weak;\n    };\n}\n\ntemplate&lt;typename T, typename... Params&gt;\nauto PostWeakTask(const boost::weak_ptr&lt;IWorkQueue&gt;&amp; queue,\n                  void (T::*member)(Params...),\n                  const boost::weak_ptr&lt;T&gt;&amp; weak)\n    -&gt; detail::WeakTaskPoster&lt;T, Params...&gt;\n{\n    return { queue, member, weak };\n}\n</code></pre>\n\n<p>I guess it's still not truly universal since it doesn't work with lvalue references, but since those are dangerous in a delayed callback context anyway this is not that important.</p>\n\n<p>(Although, if you're really desperate to pass lvalue references around, it appears to work if you call with <code>std::ref(x)</code> and receive as <code>std::reference_wrapper&lt;T&gt;</code> (or <code>const&amp;</code> or <code>&amp;&amp;</code>).  There's probably some additional magic that could make this transparent, but I don't really need it so I haven't investigated.)</p>\n"}, {"tags": ["c++", "return-type", "virtual-functions", "static-typing", "covariant-return-types"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1456961027, "post_id": 35760137, "comment_id": 59193618, "body": "Did you mean <code>ReturnTypeDerived1* one = objects[0]-&gt;Get();</code>?"}, {"owner": {"reputation": 367, "user_id": 2505053, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/45247aa06f7ee3ba3f5a3da89aae982d?s=128&d=identicon&r=PG", "display_name": "Scott Oliver", "link": "https://stackoverflow.com/users/2505053/scott-oliver"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1456961107, "post_id": 35760137, "comment_id": 59193655, "body": "@flatmouse Yes, nearly got the edit in. :D"}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1457193559, "post_id": 35760137, "comment_id": 59300154, "body": "Do you have a use-case in mind?"}, {"owner": {"reputation": 367, "user_id": 2505053, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/45247aa06f7ee3ba3f5a3da89aae982d?s=128&d=identicon&r=PG", "display_name": "Scott Oliver", "link": "https://stackoverflow.com/users/2505053/scott-oliver"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1457383501, "post_id": 35760137, "comment_id": 59373010, "body": "@curiousguy I&#39;m writing an Entity-Component system where the entity doesn&#39;t know what type (in the code sense) of components it has, and therefore you can&#39;t interact with the components via the entity&#39;s interface, which would&#39;ve been nice. I guess I was trying to reproduce the syntactic sugar of C# extension methods, where each new type of component would also define accompanying extensions to the entity interface. The C++ way (which I&#39;ve decided to go with) is to use free functions, actually functors in this case, to extend the interface. It&#39;s just a little less convenient."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1457480626, "post_id": 35760137, "comment_id": 59423697, "body": "Would it be possible to use templates so that the code wouldn&#39;t have to &quot;know&quot; but could still &quot;know&quot; the types?"}, {"owner": {"reputation": 367, "user_id": 2505053, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/45247aa06f7ee3ba3f5a3da89aae982d?s=128&d=identicon&r=PG", "display_name": "Scott Oliver", "link": "https://stackoverflow.com/users/2505053/scott-oliver"}, "edited": false, "score": 0, "creation_date": 1457643953, "post_id": 35760137, "comment_id": 59513007, "body": "My ideas involving templates still look a little clunky. I can live with the functor route. :)"}], "answers": [{"comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1456961507, "post_id": 35760250, "comment_id": 59193803, "body": "Isn&#39;t there an error here? Shouldn&#39;t the <code>dynamic_cast</code> be <code>static_cast</code>?"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1456961817, "post_id": 35760250, "comment_id": 59193916, "body": "@flatmouse You can also use <code>static_cast</code> but then you have no way of telling whether you were wrong about the actual type."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1456961996, "post_id": 35760250, "comment_id": 59193993, "body": "The <code>dynamic_cast</code>s won&#39;t work because <code>ReturnTypeBase</code> is not a polymorphic type."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1456962148, "post_id": 35760250, "comment_id": 59194047, "body": "<a href=\"http://coliru.stacked-crooked.com/a/bdb8e11112f37a0a\" rel=\"nofollow noreferrer\">Doesn&#39;t work</a> with g++ or MSVC."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": true, "score": 4, "last_activity_date": 1456962166, "last_edit_date": 1456962166, "creation_date": 1456961032, "answer_id": 35760250, "question_id": 35760137, "link": "https://stackoverflow.com/questions/35760137/c-virtual-method-return-different-derived-types/35760250#35760250", "title": "C++ Virtual Method return different derived types", "body": "<p>The code will not compile as written. Because <code>objects[0]</code> has static type <code>Base*</code>, invoking the <code>Get</code> function results in a pointer with static type <code>ReturnTypeBase*</code> being returned. Since this is an overridden virtual function, the derived class's <code>Get</code> function will be called as you would expect, and the returned pointer would actually point to a <code>ReturnTypeDerived1</code> object, but the compiler can't prove this. You would need a cast:</p>\n\n<pre><code>auto one = static_cast&lt;ReturnTypeDerived1*&gt;(objects[0]-&gt;Get());\nauto two = static_cast&lt;ReturnTypeDerived2*&gt;(objects[1]-&gt;Get());\n</code></pre>\n\n<p>If you make <code>ReturnTypeBase</code> a polymorphic type, you can use <code>dynamic_cast</code> here instead to avoid undefined behaviour if you happen to be wrong about the dynamic type.</p>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 5775927, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bKixY.jpg?s=128&g=1", "display_name": "kgorham", "link": "https://stackoverflow.com/users/5775927/kgorham"}, "is_accepted": false, "score": 0, "last_activity_date": 1456961603, "creation_date": 1456961603, "answer_id": 35760380, "question_id": 35760137, "link": "https://stackoverflow.com/questions/35760137/c-virtual-method-return-different-derived-types/35760380#35760380", "title": "C++ Virtual Method return different derived types", "body": "<p>As written, you will get compiler errors on the .Get() call.\nIf you want to avoid that, make the assignment to base class..</p>\n\n<pre><code>ReturnTypeBase * one = objects[0].Get();\nReturnTypeBase * two = objects[1].Get();\n</code></pre>\n\n<p>As long as you access 'one' and 'two' through abstract methods defined in the base class, (eg. a 'toString()' method), you won't have problems with the internal data.</p>\n\n<p>If you intend on treating the data the same across all instances of the base class, you might want to considering using a template class instead.</p>\n"}], "owner": {"reputation": 367, "user_id": 2505053, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/45247aa06f7ee3ba3f5a3da89aae982d?s=128&d=identicon&r=PG", "display_name": "Scott Oliver", "link": "https://stackoverflow.com/users/2505053/scott-oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1118, "favorite_count": 0, "accepted_answer_id": 35760250, "answer_count": 2, "score": 1, "last_activity_date": 1457191998, "creation_date": 1456960520, "last_edit_date": 1495541732, "question_id": 35760137, "link": "https://stackoverflow.com/questions/35760137/c-virtual-method-return-different-derived-types", "title": "C++ Virtual Method return different derived types", "body": "<p>Referencing this question: <a href=\"https://stackoverflow.com/questions/4665117/c-virtual-function-return-type\">C++ virtual function return type</a></p>\n\n<p>Let's consider the following set of objects.</p>\n\n<pre><code>class ReturnTypeBase\n{\n};\n\nclass ReturnTypeDerived1 : public ReturnTypeBase\n{\npublic:\n    int x;\n};\n\nclass ReturnTypeDerived2 : public ReturnTypeBase\n{\npublic:\n    float y;\n};\n\nclass Base\n{\npublic:\n    virtual ReturnTypeBase* Get() = 0;\n};\n\nclass Derived1: public Base\n{\npublic:\n    virtual ReturnTypeDerived1* Get()\n    {\n        return new ReturnTypeDerived1();\n    }\n};\n\nclass Derived2: public Base\n{\npublic:\n    virtual ReturnTypeDerived2* Get()\n    {\n        return new ReturnTypeDerived2();\n    }\n};\n</code></pre>\n\n<p>Can these objects be used in the following way?</p>\n\n<pre><code>Base* objects[2];\n\nobjects[0] = new Derived1();\n\nobjects[1] = new Derived2();\n\nReturnTypeDerived1* one = objects[0]-&gt;Get();\n\nReturnTypeDerived2* two = objects[1]-&gt;Get();\n</code></pre>\n\n<p>I'm assuming since the return types are covariant(?), that the set of objects above is legal C++. Will the appropriate Get() method be called? Can the pointers one/two be assigned the return value of the Get() method without casting?</p>\n"}, {"tags": ["c++", "visual-studio-2013", "sse", "memory-alignment", "disassembly"], "comments": [{"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 1, "creation_date": 1456960262, "post_id": 35759966, "comment_id": 59193320, "body": "What is in <code>rax</code> during the crash?"}, {"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 1, "creation_date": 1456960370, "post_id": 35759966, "comment_id": 59193368, "body": "RAX = 000000CFD296E900 RBX = 000000CFD296E960 RCX = 000000CFD296E960 RDX = 000000CFD296EA90 RSI = 000000CFD2B5C400 RDI = 000000CFD296E910 R8  = 000000CFD296EA98 R9  = 000000CFD296E910 R10 = B5026F5AA96619E9 R11 = 0000000000000286 R12 = 0000000000000000 R13 = FFFFFFFFFFFFFFFF R14 = 0000000000000000 R15 = 0000000000000000 RIP = 00007FF6CF2D50BD RSP = 000000CFD296E860 RBP = 000000CFD296E9F0 EFL = 00010203   000000CFD296E8A8 = ????????????????????????????????"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 3, "creation_date": 1456963287, "post_id": 35759966, "comment_id": 59194478, "body": "So RAX-58 is not aligned to 16 bytes. Your data structures and types need to be aligned to 16 bytes when using SSE aligned instructions [such as MOVAPS]"}, {"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1456964669, "post_id": 35759966, "comment_id": 59194903, "body": "@MatsPetersson: Isn&#39;t it dereferencing <code>rax - 58h</code> and using that value as the address? That was also my original thought, but I deleted my comment because I thought it was wrong."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1456966227, "post_id": 35759966, "comment_id": 59195356, "body": "Yes, it&#39;s using RAX - 58 as an address. As the lower part of RAX is 900, it makes 958, which is not aligned to a 16-byte address, it will GP fault due to unaligned access. It is rather bad if the compiler doesn&#39;t realize this and produces this code &quot;thinking&quot; it will work."}, {"owner": {"reputation": 4237, "user_id": 295726, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cb26cbd67ecfd04292fe33fc5e3e4bb0?s=128&d=identicon&r=PG", "display_name": "holtavolt", "link": "https://stackoverflow.com/users/295726/holtavolt"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1456980408, "post_id": 35759966, "comment_id": 59199551, "body": "Are you certain there are no alignment compile flags or &quot;pack pragma&#39;s&quot; in the source?  Based on @Mats findings, such directives (esp. on Vec3Base/Vec3f) could be causing problems - nice writeup here: <a href=\"http://www.songho.ca/misc/alignment/dataalign.html\" rel=\"nofollow noreferrer\">songho.ca/misc/alignment/dataalign.html</a>"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1456994697, "post_id": 35759966, "comment_id": 59206241, "body": "Appologies for my bad math above, 900-58 is NOT 958, it is 8A8. However, the &quot;it is unaligned&quot; is still correct. I would argue at this point that producing the smallest possible example that reproduces the problem is the way to go."}, {"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "reply_to_user": {"reputation": 4237, "user_id": 295726, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/cb26cbd67ecfd04292fe33fc5e3e4bb0?s=128&d=identicon&r=PG", "display_name": "holtavolt", "link": "https://stackoverflow.com/users/295726/holtavolt"}, "edited": false, "score": 0, "creation_date": 1457004988, "post_id": 35759966, "comment_id": 59213570, "body": "@holtavolt: No alignment pragmas in the code. The project setting for &quot;Struct Member Alignment&quot; is default and after changing it to 16-bit or 8-bit alignment it still crashes. Speaking of pragmas, it may be worth mentioning that I use OMP for parallelization, but the code I am debugging now has been placed at the beginning of main() before any parallelization is started."}, {"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1457005110, "post_id": 35759966, "comment_id": 59213639, "body": "I will try to reduce it to the &quot;smallest possible example&quot; now as @Mats suggested."}, {"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "edited": false, "score": 0, "creation_date": 1457038583, "post_id": 35759966, "comment_id": 59237039, "body": "I simplified it a bit and am about to rewrite the question..."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 1, "creation_date": 1457141348, "post_id": 35759966, "comment_id": 59287086, "body": "This example is not complete.  It tried to test it with gcc, but it doesn&#39;t compile.  (No declaration of <code>Vec3f</code>, and you omitted the code you said needed to be there to cause the crash.)  Did you use SSE intrinsics or the <code>__m128</code> type at all?"}, {"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "reply_to_user": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1457190238, "post_id": 35759966, "comment_id": 59298945, "body": "@PeterCordes, the original question was too long and I got tl;dr responses so I cut it to what I considered important for the problem. I just added a link to uploaded small example at the end at the question. I don&#39;t use any SSE explicitly, all was generated by the compiler."}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "edited": false, "score": 0, "creation_date": 1457432461, "post_id": 35819882, "comment_id": 59393367, "body": "A friend of mine tested the example on MSVC 2015 for me and it compiled and worked well, so it really seems to be a bug in MSVC 2013. However, I doubt it makes much sense to report it to MS because it is related to an old product and they sometimes don&#39;t fix compiler bugs even within the current version not the old one. Fortunately, I found using AVX instead of SSE to be a viable workaround."}], "tags": [], "owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "is_accepted": true, "score": 3, "last_activity_date": 1457211823, "creation_date": 1457211823, "answer_id": 35819882, "question_id": 35759966, "link": "https://stackoverflow.com/questions/35759966/movaps-accesses-unaligned-address/35819882#35819882", "title": "MOVAPS accesses unaligned address", "body": "<p>gcc and clang are both fine, and make non-crashing non-vectorized code for your example.  (Of course, I'm compiling for the Linux SysV ABI where none of the vector regs are caller-saved, so they weren't generating code to save xmm{6..15} on the stack in the first place.)</p>\n\n<p>Your IDEone link doesn't demonstrate a crash either, so IDK.  I there are online compile &amp; run sites that have MSVC as an option.  You can even get asm out of them if your program uses <code>system</code> to run a disassembler on itself. :P</p>\n\n<hr>\n\n<p>The asm output you posted is <em>guaranteed</em> to crash, for any possible value of <code>rax</code>:</p>\n\n<pre><code>00007FF7A7DC3522  movaps      xmmword ptr [rax-58h],xmm10  \n00007FF7A7DC3527  lea         rax,[rax+18h]  \n...\n00007FF7A7DC3533  movaps      xmmword ptr [rax-68h],xmm11\n</code></pre>\n\n<p>Accounting for the LEA, the second store address is <code>[init_rax-50h]</code>, which is only 8B offset from the earlier stores.  One or the other will fault.  <strong>This appears to be a compiler bug that you should report.</strong></p>\n\n<p>I have no idea why your compiler would use <code>lea</code> instead of <code>add rax, 18h</code>.  It does it right before clobbering the flags with a <code>comiss</code></p>\n"}], "owner": {"reputation": 185, "user_id": 2000546, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6b21abfa9f1eac1eb65412b103b866?s=128&d=identicon&r=PG", "display_name": "ivokabel", "link": "https://stackoverflow.com/users/2000546/ivokabel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3130, "favorite_count": 1, "accepted_answer_id": 35819882, "answer_count": 1, "score": 5, "last_activity_date": 1457217173, "creation_date": 1456959806, "last_edit_date": 1457217173, "question_id": 35759966, "link": "https://stackoverflow.com/questions/35759966/movaps-accesses-unaligned-address", "title": "MOVAPS accesses unaligned address", "body": "<p>For some reason one of my functions is calling an SSE instruction <code>movaps</code> with unaligned parameter, which causes a crash. It happens on the first line of the function, the rest is needed to be there just for crash to happen, but is ommited for clarity.</p>\n\n<pre><code>Vec3f CrashFoo(\n    const Vec3f &amp;aVec3,\n    const float  aFloat,\n    const Vec2f &amp;aVec2)\n{\n    const Vec3f vecNew =\n        Normalize(Vec3f(aVec3.x, aVec3.x, std::max(aVec3.x, 0.0f)));\n\n    // ...\n}\n</code></pre>\n\n<p>This is how I call it from the debugging main:</p>\n\n<pre><code>int32_t main(int32_t argc, const char *argv[])\n{\n    Vec3f vec3{ 0.00628005248f, -0.999814332f, 0.0182171166f };\n    Vec2f vec2{ 0.947231591f, 0.0522233732f };\n    float floatVal{ 0.010f };\n\n    Vec3f vecResult = CrashFoo(vec3, floatVal, vec2);\n\n    return (int32_t)vecResult.x;\n}\n</code></pre>\n\n<p>This is the disassembly from the beginning of the <code>CrashFoo</code> function to the line where it crashes:</p>\n\n<pre><code>00007FF7A7DC34F0  mov         rax,rsp  \n00007FF7A7DC34F3  mov         qword ptr [rax+10h],rbx  \n00007FF7A7DC34F7  push        rdi  \n00007FF7A7DC34F8  sub         rsp,80h  \n00007FF7A7DC34FF  movaps      xmmword ptr [rax-18h],xmm6  \n00007FF7A7DC3503  movss       xmm6,dword ptr [rdx]  \n00007FF7A7DC3507  movaps      xmmword ptr [rax-28h],xmm7  \n00007FF7A7DC350B  mov         dword ptr [rax+18h],0  \n00007FF7A7DC3512  mov         rdi,r9  \n00007FF7A7DC3515  mov         rbx,rcx  \n00007FF7A7DC3518  movaps      xmmword ptr [rax-38h],xmm8  \n00007FF7A7DC351D  movaps      xmmword ptr [rax-48h],xmm9  \n00007FF7A7DC3522  movaps      xmmword ptr [rax-58h],xmm10  \n00007FF7A7DC3527  lea         rax,[rax+18h]  \n00007FF7A7DC352B  xorps       xmm8,xmm8  \n00007FF7A7DC352F  comiss      xmm8,xmm6  \n00007FF7A7DC3533  movaps      xmmword ptr [rax-68h],xmm11  \n</code></pre>\n\n<p>My understanding is that it first does the usual function call stuff and then it starts preparing the playground by saving the current content of some SSE registers (<code>xmm6</code>-<code>xmm11</code>) onto the stack so that they are free to be used by the subsequent code. The <code>xmm*</code> registers are stored one after another to addresses from <code>[rax-18h]</code> to <code>[rax-68h]</code>, which are nicely aligned to 16 bytes since <code>rax=0xe4d987f788</code>, but before the <code>xmm11</code> register gets stored, the <code>rax</code> is increased by 18h which breaks the alignment causing crash. The <code>xorps</code> and <code>comiss</code> lines is where the actual code starts (<code>std::max</code>'s comparison with 0). When I remove <code>std::max</code> it works nicely.</p>\n\n<p>Do you see any reason for this behaviour?</p>\n\n<h2>Additional info</h2>\n\n<p>I uploaded a <a href=\"http://ideone.com/0I4OnD\" rel=\"nofollow\">small compilable example</a> that crashes for me in my Visual Studio, but not in the IDEone.</p>\n\n<p>The code is compiled in Visual Studio 2013 Update 5 (x64 release, v120). I've set the \"Struct Member Alignment\" setting of the project to 16 bytes, but with little improvement and there are no packing <code>pragma</code> in the structures that I use. The error message is:</p>\n\n<blockquote>\n  <p>First-chance exception at 0x00007ff7a7dc3533 in PG3Render.exe: 0xC0000005: Access violation reading location 0xffffffffffffffff.</p>\n</blockquote>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 5, "creation_date": 1456959169, "post_id": 35759783, "comment_id": 59192893, "body": "Please speak less and show us the code you&#39;re struggling with..."}, {"owner": {"reputation": 1371, "user_id": 5798435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/46e85c028ee4f738679c57821206d870?s=128&d=identicon&r=PG&f=1", "display_name": "Mukesh Ingham", "link": "https://stackoverflow.com/users/5798435/mukesh-ingham"}, "edited": false, "score": 0, "creation_date": 1456959329, "post_id": 35759783, "comment_id": 59192968, "body": "Try googling &quot;memcpy&quot;"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 1, "creation_date": 1456959419, "post_id": 35759783, "comment_id": 59193012, "body": "@Christophe He can not show the code because he is busy with  struggling.with it."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6010378, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9fb50b5809e959bf47a4595326fe804f?s=128&d=identicon&r=PG&f=1", "display_name": "Speakmore", "link": "https://stackoverflow.com/users/6010378/speakmore"}, "edited": false, "score": 0, "creation_date": 1456960924, "post_id": 35760085, "comment_id": 59193579, "body": "Yeah I know vectors can do it, and I know how to do it with vectors - but this exercise wants me to NOT use vector"}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1456960314, "creation_date": 1456960314, "answer_id": 35760085, "question_id": 35759783, "link": "https://stackoverflow.com/questions/35759783/copy-array-then-delete-original/35760085#35760085", "title": "Copy array then delete original", "body": "<p>Arrays are fixed size.  You cannot change the capacity of the original array.  </p>\n\n<p>{<em>Use <code>std::vector</code></em>}</p>\n\n<p>You can have a pointer to an array.  And use the same pointer.  When the array is full, you can allocate another array, copy old array items to new array, delete the old array and assign your array pointer to the new array.</p>\n\n<p><em>{Did I mention <code>std::vector</code>?}</em>  </p>\n\n<p>By the way, there is a data structure that performs resizing as necessary.  If I recall correctly, it is <strong><code>std::vector</code></strong>.  Try it out. :-)</p>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 6010378, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9fb50b5809e959bf47a4595326fe804f?s=128&d=identicon&r=PG&f=1", "display_name": "Speakmore", "link": "https://stackoverflow.com/users/6010378/speakmore"}, "edited": false, "score": 0, "creation_date": 1456960988, "post_id": 35760095, "comment_id": 59193604, "body": "I&#39;ll add the code when I get home in like 10 minutes"}], "tags": [], "owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "is_accepted": false, "score": 0, "last_activity_date": 1456960374, "creation_date": 1456960374, "answer_id": 35760095, "question_id": 35759783, "link": "https://stackoverflow.com/questions/35759783/copy-array-then-delete-original/35760095#35760095", "title": "Copy array then delete original", "body": "<p>Assuming you are using <code>std::array</code> (which you should be), then copying the array is very easy.</p>\n\n<pre><code>std::array&lt;myStruct, 1000&gt; array1{};\nstd::array&lt;myStruct, 2000&gt; array2{};\n// codes...\nstd::copy(array1.begin(), array1.end(), array2.begin())\n</code></pre>\n\n<p>However, this is a specific scenario in which you only use these two arrays. It will not dynamically double the size of the array as you simply cannot do this dynamically with stack-based arrays, just like c arrays[]. </p>\n\n<p>What you can, and should, be using is <code>std::vector&lt;myStruct&gt;</code>. This will dynamically grow as you need it. Until you provide us with code and a more specific issue, this is the best advice that I can offer with the information provided.</p>\n"}, {"tags": [], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1456962838, "last_edit_date": 1495539916, "creation_date": 1456962838, "answer_id": 35760599, "question_id": 35759783, "link": "https://stackoverflow.com/questions/35759783/copy-array-then-delete-original/35760599#35760599", "title": "Copy array then delete original", "body": "<p>If you aren't allowed to use <code>std::vector</code>, as one of your comments stated, then you'll want to look at dynamic allocation.</p>\n\n<pre><code>size_t sz = [whatever];\n\n// Dynamically allocate an array of size sz.\nT* T_array = new T[sz];\n\n// Do whatever...\n\ndelete[] T_array; // new[] needs to be paired with delete[].\nT_array = nullptr; // Not strictly necessary, but a good idea if you have more code after.\n</code></pre>\n\n<p>As the size doesn't need to be constant for a dynamic array, this will allow you to allocate memory as necessary.  You can then use <code>std::copy()</code> to copy data from one array to the other, as <a href=\"https://stackoverflow.com/a/35760095/5386374\">Goodies mentioned</a>.</p>\n\n<p>[For more information on dynamic allocation, see <a href=\"http://www.learncpp.com/cpp-tutorial/6-9a-dynamically-allocating-arrays/\" rel=\"nofollow noreferrer\">here</a>.]</p>\n"}], "owner": {"reputation": 69, "user_id": 6010378, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9fb50b5809e959bf47a4595326fe804f?s=128&d=identicon&r=PG&f=1", "display_name": "Speakmore", "link": "https://stackoverflow.com/users/6010378/speakmore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1541, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1457522823, "creation_date": 1456959011, "last_edit_date": 1457522823, "question_id": 35759783, "link": "https://stackoverflow.com/questions/35759783/copy-array-then-delete-original", "title": "Copy array then delete original", "body": "<p>I have an array of a structure (with the parameters of name and number), and the initial array takes in elements from a document that I've made. The initial list size starts at 1000. When the list fills up, I call another method that I'm struggling with. I would like for it to copy the data into a new array that doubled the size, and then delete the old array.</p>\n\n<p>If I name it: array1 and array2, I have my program use array1 throughout. I need help with the pointers that would get array2 to work as array1.</p>\n\n<p>Is there a way to copy the array to a temp array of the same or new size, and then remake the initial array reassigning back to that? For this exercise, I can't use vectors. While I know how to use them, and that they solve this issue while being better, I'm trying to do it with only arrays.</p>\n\n<pre><code>using namespace std;\n\nstruct Information {\n  char functionality;\n  int SSN;\n  string name;\n};\n\nint numPeople = 1000;\n\n//Gets called if the initial array (whatever size) is filled\nvoid doubleArray(Information *array){\n  numPeople = numPeople * 2;\n  //Will now be the doubled array size\n  Information temp[numPeople]\n  for(int i = 0; i &lt; numArray; i++){\n    temp[i].SSN = array[i].SSN;\n    temp[i].name = array[i].name;\n  }\n  //Normally makes it crash\n  delete[] array;\n}\n</code></pre>\n\n<p>edit: This is what I currently have</p>\n\n<pre><code>void doubleArray(Information *person){\n  numPeople = numPeople * 2;\n  Information* temp = new Information[numPeople];\n  memcpy(temp, person, numPeople);\n  delete[] person;\n  person = temp;\n}\n</code></pre>\n\n<p>It gets to numPeople = 1000 (the initial list size) but then crashes shortly after. Is the doubling array correct?</p>\n"}, {"tags": ["c++", "c++11", "g++", "initializer-list", "clang++"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1456961807, "post_id": 35759743, "comment_id": 59193914, "body": "There are no array rvalues in C++03, you will have to make named arrays so that <code>const T (&amp;table) [SIZE]</code> can bind to them. (or change foo and bar)"}, {"owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456994797, "post_id": 35759743, "comment_id": 59206320, "body": "@M.M Thank you for the explanation :-) I did not know it. I have just clarified my question replacing &quot;initialize list&quot; -&gt; &quot;array rvalue&quot;. Is my question more correct? Cheers"}], "answers": [{"tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": true, "score": 2, "last_activity_date": 1456961032, "creation_date": 1456961032, "answer_id": 35760251, "question_id": 35759743, "link": "https://stackoverflow.com/questions/35759743/how-to-fix-array-rvalue-not-compiling-with-gcc-4-8-and-clang-3-7/35760251#35760251", "title": "How to fix &quot;array rvalue&quot; not compiling with gcc-4.8 and clang-3.7?", "body": "<p>You can make this code C++03-compatible by giving names to the temporary arrays C++11 would create.</p>\n\n<pre><code>int main (int argc, char *argv[])\n{\n    const char il1[] = {argv[0][0], argv[1][1]};\n    const char* const il2[] = { argv[0], argv[1] };\n    return argc\n        + foo( \"foo\" )\n        + foo( il1 )\n        + bar( il2 );\n}\n</code></pre>\n"}], "owner": {"reputation": 40598, "user_id": 938111, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DHtZw.png?s=128&g=1", "display_name": "oHo", "link": "https://stackoverflow.com/users/938111/oho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 35760251, "answer_count": 1, "score": 2, "last_activity_date": 1456994947, "creation_date": 1456958859, "last_edit_date": 1456994947, "question_id": 35759743, "link": "https://stackoverflow.com/questions/35759743/how-to-fix-array-rvalue-not-compiling-with-gcc-4-8-and-clang-3-7", "title": "How to fix &quot;array rvalue&quot; not compiling with gcc-4.8 and clang-3.7?", "body": "<p>This snippet requires at least flag <code>-std=c++Ox</code> to compile with GCC-4.9.<br>\nPlease see <a href=\"http://goo.gl/qtJ1bO\" rel=\"nofollow\">online compilation on gcc.godbolt.org</a>.</p>\n\n<pre><code>template &lt;typename T, int SIZE&gt;\nint foo (const T (&amp;table) [SIZE])           // T = char\n{\n  return SIZE ? table[0] : 0;\n}\n\ntemplate &lt;typename T, int SIZE&gt;\nint bar (const T (&amp;table) [SIZE])           // T = char *\n{\n    return SIZE ? table[0][0] : 0;\n}\n\nint main (int argc, char *argv[])\n{\n  return argc\n       + foo( \"foo\" )\n       + foo( {argv[0][0], argv[1][1]} )    // array rvalue\n       + bar( {argv[0],    argv[1]   } );   // array rvalue\n}\n</code></pre>\n\n<p>This compiles fine using GCC-4.9 ... GCC-6.<br>\nBut fails using previous GCC versions and all Clang versions (last tested is Clang-3.7.1).</p>\n\n<hr>\n\n<p>Questions</p>\n\n<ol>\n<li><strong>What to change to fix the issue?</strong><br>\n(if possible only adapt the <code>main()</code> body)  </li>\n<li><strong>Is there a way to make the code compatible with C++03?</strong><br>\n(again, if possible only in the <code>main()</code> body)  </li>\n</ol>\n\n<hr>\n\n<p>GCC-4.8.2 output</p>\n\n<pre><code>example.cpp: In function 'int main(int, char**)':\n17 : error: no matching function for call to 'foo(&lt;brace-enclosed initializer list&gt;)'\n+ foo( { argv[0][0], argv[1][1] } )\n^\n17 : note: candidate is:\n2 : note: template&lt;class T, int SIZE&gt; int foo(const T (&amp;)[SIZE])\nint foo (const T (&amp;table) [SIZE]) // T = char\n^\n2 : note: template argument deduction/substitution failed:\n17 : note: couldn't deduce template parameter 'T'\n+ foo( { argv[0][0], argv[1][1] } )\n^\n18 : error: no matching function for call to 'bar(&lt;brace-enclosed initializer list&gt;)'\n+ bar( { argv[0], argv[1] } );\n^\n18 : note: candidate is:\n8 : note: template&lt;class T, int SIZE&gt; int bar(const T (&amp;)[SIZE])\nint bar (const T (&amp;table) [SIZE]) // T = char *\n^\n8 : note: template argument deduction/substitution failed:\n18 : note: couldn't deduce template parameter 'T'\n+ bar( { argv[0], argv[1] } );\n^\nCompilation failed\n</code></pre>\n\n<hr>\n\n<p>Clang-3.7.1 output</p>\n\n<pre><code>17 : error: no matching function for call to 'foo'\n+ foo( { argv[0][0], argv[1][1] } )\n^~~\n2 : note: candidate template ignored: couldn't infer template argument 'T'\nint foo (const T (&amp;table) [SIZE]) // T = char\n^\n18 : error: no matching function for call to 'bar'\n+ bar( { argv[0], argv[1] } );\n^~~\n8 : note: candidate template ignored: couldn't infer template argument 'T'\nint bar (const T (&amp;table) [SIZE]) // T = char *\n^\n2 errors generated.\nCompilation failed\n</code></pre>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1456958733, "post_id": 35759672, "comment_id": 59192697, "body": "Read up on the precedence of operators and the answer will be ...."}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1456958758, "post_id": 35759672, "comment_id": 59192709, "body": "How long is <code>long</code>? Note: Dereferencing has higher precedence than the addition."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1456959198, "post_id": 35759672, "comment_id": 59192904, "body": "@learnerX  Strictly speaking there will be undefined behaviour.:)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 16851, "user_id": 5460719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f2a855c86ad12fc2988d3948b69ec6?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Karzes", "link": "https://stackoverflow.com/users/5460719/tom-karzes"}, "edited": false, "score": 0, "creation_date": 1456962192, "post_id": 35759672, "comment_id": 59194065, "body": "@TomKarzes: you&#39;re looking in the wrong column.  The answer would be (0x04) + 2 == 0x06."}], "answers": [{"comments": [{"owner": {"reputation": 932, "user_id": 1913137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae59b40d06a8b06c115b6f598bb4044?s=128&d=identicon&r=PG&f=1", "display_name": "learnerX", "link": "https://stackoverflow.com/users/1913137/learnerx"}, "edited": false, "score": 0, "creation_date": 1456958924, "post_id": 35759719, "comment_id": 59192780, "body": "I don&#39;t think that we are derefrencing the pointer. The question before this one asked for value of: *(ptr_long+2) and this is a different case. The answer for this one should be 0x0F. But I don&#39;t know how. Any ideas?"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "reply_to_user": {"reputation": 932, "user_id": 1913137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae59b40d06a8b06c115b6f598bb4044?s=128&d=identicon&r=PG&f=1", "display_name": "learnerX", "link": "https://stackoverflow.com/users/1913137/learnerx"}, "edited": false, "score": 0, "creation_date": 1456959157, "post_id": 35759719, "comment_id": 59192888, "body": "@learnerX templatetypedefs answer is absolutely correct. So either you have mistyped the question, misunderstood the question or you have the wrong answer. An expression to actually get 0xF would be <code>*(pointer + 1) + 2</code>"}, {"owner": {"reputation": 29251, "user_id": 3923896, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4139ee1298ce4b0690a788cb97d47569?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Summit", "link": "https://stackoverflow.com/users/3923896/steve-summit"}, "reply_to_user": {"reputation": 932, "user_id": 1913137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae59b40d06a8b06c115b6f598bb4044?s=128&d=identicon&r=PG&f=1", "display_name": "learnerX", "link": "https://stackoverflow.com/users/1913137/learnerx"}, "edited": false, "score": 0, "creation_date": 1456959470, "post_id": 35759719, "comment_id": 59193031, "body": "@learnerX: if you&#39;ve got an expression with <code>*</code> in front of a pointer, you&#39;re dereferencing it.  And I don&#39;t see any simple expression that would give <code>0x0F</code>.  Why do you think that&#39;s the answer? (And why didn&#39;t you mention that in the question?) It&#39;s possible that whoever told you that the answer was <code>0x0F</code> was simply wrong."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "reply_to_user": {"reputation": 932, "user_id": 1913137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae59b40d06a8b06c115b6f598bb4044?s=128&d=identicon&r=PG&f=1", "display_name": "learnerX", "link": "https://stackoverflow.com/users/1913137/learnerx"}, "edited": false, "score": 0, "creation_date": 1456960735, "post_id": 35759719, "comment_id": 59193513, "body": "@learnerX If your homework is a cumulative set of problems (viz. the operations done in one problem carry over to the next one), you might get a different answer. But as it stands and is presented to us now, templatetypedef&#39;s answer is correct."}], "tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": false, "score": 3, "last_activity_date": 1456958724, "creation_date": 1456958724, "answer_id": 35759719, "question_id": 35759672, "link": "https://stackoverflow.com/questions/35759672/what-will-be-the-value-of-pointer-2-in-c-in-this-case/35759719#35759719", "title": "What will be the value of *pointer + 2 in C++ in this case?", "body": "<p>Notice that</p>\n\n<pre><code>*pointer + 2\n</code></pre>\n\n<p>is parsed as </p>\n\n<pre><code>(*pointer) + 2\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>*(pointer + 2),\n</code></pre>\n\n<p>so it means \"dereference the pointer, then add two to the number you get as a result\" rather than \"go forward two objects, then dereference the pointer you get.\" In this case, you should get 6 (0x04 + 2).</p>\n\n<p>If you add parentheses to get <code>*(pointer + 2)</code>, you'd get back 0x0c assuming that each <code>long</code> is four bytes (which I suspect given that you're only given sixteen bytes of memory), since <code>pointer + 2</code> means \"skip forward by 2 * <code>sizeof(long)</code> bytes.\"</p>\n"}, {"comments": [{"owner": {"reputation": 5162, "user_id": 2785528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc85984f1234637fa4ec24d93ae51bc?s=128&d=identicon&r=PG&f=1", "display_name": "2785528", "link": "https://stackoverflow.com/users/2785528/2785528"}, "edited": false, "score": 1, "creation_date": 1456962770, "post_id": 35760362, "comment_id": 59194308, "body": "both sizeof(long int) and sizeof(uintptr_t) report 8 bytes (not 4 bytes) on my ubuntu 15.10 (64) machine."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1456967936, "post_id": 35760362, "comment_id": 59195871, "body": "<code>*(ptr + 2)</code> is the content of 0x0<b><i>8</i></b> as a long (assuming 4-byte longs)"}], "tags": [], "owner": {"reputation": 364, "user_id": 5920582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLw60.jpg?s=128&g=1", "display_name": "Ali ISSA", "link": "https://stackoverflow.com/users/5920582/ali-issa"}, "is_accepted": false, "score": 0, "last_activity_date": 1457133691, "last_edit_date": 1457133691, "creation_date": 1456961534, "answer_id": 35760362, "question_id": 35759672, "link": "https://stackoverflow.com/questions/35759672/what-will-be-the-value-of-pointer-2-in-c-in-this-case/35760362#35760362", "title": "What will be the value of *pointer + 2 in C++ in this case?", "body": "<p>The answer depends on your system,\nin most cases the answer is:</p>\n\n<pre><code>*ptr + 2 = 0x6 \n*(ptr + 2) = 0xc \n</code></pre>\n\n<p>A long type is coded on 4 bytes for 32 bits systems, and on 8 bytes for 64 bits systems,</p>\n\n<p>Depending on your system and CPU, your memory status may be as following :</p>\n\n<pre><code>0x00 : 04 00 00 00\n0x04 : 0d 00 00 00\n0x08 : 0c 00 00 00\n0x0c : 0a 00 00 00\n\nor\n\n0x00 : 00 00 00 04\n0x04 : 00 00 00 0d\n0x08 : 00 00 00 0c\n0x0c : 00 00 00 0d  \n</code></pre>\n\n<p>or ( for 64 bits systems ):</p>\n\n<pre><code>0x00 : 04 00 00 00 00 00 00 00\n0x08 : 0d 00 00 00 00 00 00 00\n0x10 : 0c 00 00 00 00 00 00 00\n0x18 : 0a 00 00 00 00 00 00 00\n</code></pre>\n\n<p>Your example is closer to a 32 bits system case, \nin this case :</p>\n\n<pre><code># if ptr is a long pointer :\n*ptr + 2 = 0x6      // the ( content of the long value at the adress 0x00 ) + 2 = 0x04 + 0x02\n*(ptr + 2) = 0xc    // the content of adress 0x10    ( 0x00 + 2 as long size ) = 0x00 + 0x10 ( 16 in decimal)\n</code></pre>\n\n<p>it is good to know that :\n*(ptr + 2) = *ptr[2]</p>\n\n<pre><code>ptr   --&gt;0x00 : 04 00 00 00 \n         0x04 : 0d 00 00 00 \nptr+2 --&gt;0x08 : 0c 00 00 00  \n         0x0C : 0a 00 00 00 \n</code></pre>\n\n<h1>contrariwise:</h1>\n\n<h1>if ptr is a char pointer :</h1>\n\n<pre><code>*ptr + 2 = 0x6      // the ( content of the char/byte value at the adress 0x00 ) + 2\n*(ptr + 2) = 0x0    // the content of adress 0x02   ( 0x00 + 2 as char size ) = 0x00 + 0x02 ( 2 in decimal)\n\n                ptr    ptr+2=0x02\n                  |     |\n         0x00 : (04)00(00)00 \n         0x04 :  0d 00 00 00 \n         0x08 :  0c 00 00 00  \n         0x0C :  0a 00 00 00 \n</code></pre>\n\n<p>In this case :\nif for example a new pointer of type long  (long *)ptr2 is initialized by the ptr+2 value,\nIn 32 bits, the content at the adresse pointed by ptr2 will be : 00 00 0d 00</p>\n\n<pre><code>         0x00 : 04 00 (00 00 \n         0x04 : 0d 00) 00 00 \n         0x08 : 0c 00 00 00 \n         0x0C : 0a 00 00 00 \n</code></pre>\n\n<p>In 64 bits, the content of the adresse pointed by ptr2 will be : 00 00 00 00 00 00 0d 00</p>\n\n<pre><code>0x00 : 04 00 (00 00 00 00 00 00\n0x08 : 0d 00 ) 00 00 00 00 00 00\n0x10 : 0c 00 00 00 00 00 00 00 \n0x18 : 0a 00 00 00 00 00 00 00\n</code></pre>\n\n<p>in both cases the value is the same :<br>\n*ptr2 + 2 = 0x0d02   // the ( content of the long value at the adress 0x02 ) + 2</p>\n\n<p>but in 32 bits system :<br>\n*(ptr2 + 2) = 0x0a00    // the content of adress 0x0a    ( 0x02 + 2 as long ( 4 bytes) size ) = 0x02 + 0x08 \n                        // the value is 0x0a00 = ( 00 00 00 0a )</p>\n\n<pre><code>               adress 0x0a\n                       |\n         0x08 : 0c 00(00 00\n         0x0C : 0a 00)00 00\n</code></pre>\n\n<p>but in 64 bits system :<br>\n*(ptr2 + 2) = 0x12    // the content of adress 0x12    ( 0x02 + 2 as long (8 bytes) size ) = 0x02 + 0x10 \n                      // the value is 0x0a00</p>\n\n<pre><code>               adress 0x12\n                       |\n         0x10 : 0c 00(00 00 00 00 00 00 \n         0x18 : 0a 00)00 00 00 00 00 00          \n</code></pre>\n\n<p>I prurpose you to compile and run the follow C programme :</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n\nvoid long_hexa_print( long *p )\n{\n char *ptr = (char *)p;\n int size=sizeof(*p);\n printf (\"0x%x : \", p  );\n for ( int i=0; i&lt;size; i++){printf ( \"0x%x \" ,  *(ptr + i) );}\n printf (\"\\n\");\n}\n\nint main(void)\n{\n   // char * string = \"REVERSE\";\n    //reverse(string);\n\n    int j=4;\n    long *long_ptr =  (long *)malloc((j*sizeof(long))+1);\n    char *ptr = (char *)long_ptr;\n\n    char *  char_ptr2;\n    int *   int_ptr2;\n    long *  long_ptr2;\n\n\n     long_ptr[0]=0x4;  // 4\n     long_ptr[1]=0xb;  // 11\n     long_ptr[2]=0xc;  // 12\n     long_ptr[3]=0xa;  // 10\n\n    char_ptr2 = (char *)( ptr + 2 );  // or (char *) ptr[2] \n    int_ptr2  = (int *)( ptr + 2 );\n    long_ptr2 = (long *)( ptr + 2 );\n\n    printf (\"\\n=== Sizes of types ====\\n\\n\");\n    printf (\"Size of char = %d\\n\", sizeof(char));\n    printf (\"Size of long = %d\\n\\n\", sizeof(long));\n\n    printf (\"\\n=== Memory status ====\\n\\n\");\n    long_hexa_print( long_ptr );\n    long_hexa_print( long_ptr + 1);\n    long_hexa_print( long_ptr + 2);\n    long_hexa_print( long_ptr + 3);\n    long_hexa_print( long_ptr + 4);\n\n    printf (\"\\n=== Values of pointers ====\\n\\n\");\n    printf (\"long_ptr     = 0x%x\\n\",  long_ptr );\n    printf (\"long_ptr + 1 = 0x%x\\n\",  long_ptr + 1 );\n    printf (\"long_ptr + 2 = 0x%x\\n\\n\",  long_ptr + 2 );\n\n    printf (\"* long_ptr + 2  = 0x%x\\n\",  * long_ptr + 2 );\n    printf (\"*(long_ptr + 2) = 0x%x\\n\",  *(long_ptr + 2) );\n    printf (\"  long_ptr[2]   = 0x%x\\n\\n\",  long_ptr[2] );\n\n\n    printf (\"&amp;long_ptr[0] = 0x%x\\n\", &amp; long_ptr[0] );\n    printf (\"&amp;long_ptr[1] = 0x%x\\n\", &amp; long_ptr[1] );\n    printf (\"&amp;long_ptr[2] = 0x%x\\n\\n\", &amp; long_ptr[2] );\n\n    printf (\"\\n##### char *ptr = (char *)long_ptr; ##### \\n\");\n    for ( int i=0; i&lt;=7; i++){printf ( \"ptr+%d     = 0x%x\\n\",  i, *(ptr + i) );}\n\n\n    printf (\"\\n=== Values of contents ====\\n\\n\");\n    printf (\"*long_ptr    = 0x%x\\n\", *long_ptr );\n    printf (\"*(long_ptr) = 0x%x\\n\\n\", *(long_ptr) );\n    printf (\"long_ptr[0]  = 0x%x\\n\",  long_ptr[0] );\n    printf (\"long_ptr[1]  = 0x%x\\n\",  long_ptr[1] );\n    printf (\"long_ptr[2]  = 0x%x\\n\\n\",  long_ptr[2] );\n    printf (\"*(long_ptr+0) = 0x%x\\n\", *(long_ptr+0) );\n    printf (\"*(long_ptr+1) = 0x%x\\n\", *(long_ptr+1) );\n    printf (\"*(long_ptr+2) = 0x%x\\n\\n\", *(long_ptr+2) );\n\n    printf (\"char_ptr2 = 0x%x\\n\", *char_ptr2 );\n    printf (\"int_ptr2  = 0x%x\\n\", *int_ptr2 );\n    printf (\"long_ptr2 = 0x%x\\n\\n\", *long_ptr2 );\n\n    printf (\"*( ptr)   = 0x%x\\n\", *( ptr));\n    printf (\"*( ptr+1) = 0x%x\\n\", *( ptr + 1));\n    printf (\"*( ptr+2) = 0x%x\\n\", *( ptr + 2));\n    printf (\"*( ptr+3) = 0x%x\\n\", *( ptr + 3));\n    printf (\"*( ptr+4) = 0x%x\\n\", *( ptr + 4));\n    printf (\"*( ptr+5) = 0x%x\\n\", *( ptr + 5));\n    printf (\"*( ptr+6) = 0x%x\\n\", *( ptr + 6));\n    printf (\"*( ptr+7) = 0x%x\\n\", *( ptr + 7));\n    printf (\"*( ptr+8) = 0x%x\\n\", *( ptr + 8));\n    printf (\"*( ptr+9) = 0x%x\\n\\n\", *( ptr + 9));\n\n    printf (\"(long *)( ptr + 4) = 0x%x\\n\", *( ptr + 4));\n    printf (\"(long *)( ptr + 4) = %d\\n\\n\", *( ptr + 4));\n\n    printf (\"(long *)( ptr + 8) = 0x%x\\n\", (long *)( ptr + 8));\n    printf (\"(long *)( ptr + 8) = %d\\n\\n\", (long *)( ptr + 8));\n\n    return 0;\n}\n</code></pre>\n\n<p>The result will look like the following :</p>\n\n<pre><code>=== Sizes of types ====\n\nSize of char = 1\nSize of long = 8\n\n\n=== Memory status ====\n\n0x10350 : 0x4 0x0 0x0 0x0 0x0 0x0 0x0 0x0\n0x10358 : 0xb 0x0 0x0 0x0 0x0 0x0 0x0 0x0\n0x10360 : 0xc 0x0 0x0 0x0 0x0 0x0 0x0 0x0\n0x10368 : 0xa 0x0 0x0 0x0 0x0 0x0 0x0 0x0\n0x10370 : 0x0 0x0 0x0 0x0 0x0 0x0 0x0 0x0\n\n=== Values of pointers ====\n\nlong_ptr     = 0x10350\nlong_ptr + 1 = 0x10358\nlong_ptr + 2 = 0x10360\n\n* long_ptr + 2  = 0x6\n*(long_ptr + 2) = 0xc\n  long_ptr[2]   = 0xc\n\n&amp;long_ptr[0] = 0x10350\n&amp;long_ptr[1] = 0x10358\n&amp;long_ptr[2] = 0x10360\n\n\n##### char *ptr = (char *)long_ptr; #####\nptr+0     = 0x4\nptr+1     = 0x0\nptr+2     = 0x0\nptr+3     = 0x0\nptr+4     = 0x0\nptr+5     = 0x0\nptr+6     = 0x0\nptr+7     = 0x0\n\n=== Values of contents ====\n\n*long_ptr    = 0x4\n*(long_ptr) = 0x4\n\nlong_ptr[0]  = 0x4\nlong_ptr[1]  = 0xb\nlong_ptr[2]  = 0xc\n\n*(long_ptr+0) = 0x4\n*(long_ptr+1) = 0xb\n*(long_ptr+2) = 0xc\n\nchar_ptr2 = 0x0\nint_ptr2  = 0x0\nlong_ptr2 = 0x0\n\n*( ptr)   = 0x4\n*( ptr+1) = 0x0\n*( ptr+2) = 0x0\n*( ptr+3) = 0x0\n*( ptr+4) = 0x0\n*( ptr+5) = 0x0\n*( ptr+6) = 0x0\n*( ptr+7) = 0x0\n*( ptr+8) = 0xb\n*( ptr+9) = 0x0\n\n(long *)( ptr + 4) = 0x0\n(long *)( ptr + 4) = 0\n\n(long *)( ptr + 8) = 0x10358\n(long *)( ptr + 8) = 66392\n</code></pre>\n\n<p>I hope this will help you to better understand pointers</p>\n"}], "owner": {"reputation": 932, "user_id": 1913137, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fae59b40d06a8b06c115b6f598bb4044?s=128&d=identicon&r=PG&f=1", "display_name": "learnerX", "link": "https://stackoverflow.com/users/1913137/learnerx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1457133691, "creation_date": 1456958534, "last_edit_date": 1456959427, "question_id": 35759672, "link": "https://stackoverflow.com/questions/35759672/what-will-be-the-value-of-pointer-2-in-c-in-this-case", "title": "What will be the value of *pointer + 2 in C++ in this case?", "body": "<p>Given a variable <code>long *ptr_long;</code></p>\n\n<p>And, the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/jo4SV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jo4SV.png\" alt=\"Memory Content\"></a></p>\n\n<p>What will be value of the operation *ptr_long + 2? Also, how?</p>\n\n<p>I have tried the following: *ptr points to 0x00 right now that holds the contents '0x04'. Now, you take that and increase by 2 (4 bytes since it's a long type?). I'm not sure where to go from there.</p>\n"}, {"tags": ["c++", "inheritance", "virtual", "throw"], "comments": [{"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1456958378, "post_id": 35759583, "comment_id": 59192530, "body": "&quot;<code>throw(\u2026)</code>&quot; I hardly recommend that you use exception specifications in C++. Not only they don&#39;t do anything useful on some platforms, not only they are deprecated, but they were also voted for removal in C++17 except for the empty specification (<code>throw()</code>)"}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 2, "creation_date": 1456958445, "post_id": 35759583, "comment_id": 59192569, "body": "What error do you get?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 1, "creation_date": 1456958508, "post_id": 35759583, "comment_id": 59192602, "body": "@KABoissonneault, and <code>noexcept</code> is better <code>throw()</code>."}, {"owner": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "edited": false, "score": 0, "creation_date": 1456958510, "post_id": 35759583, "comment_id": 59192604, "body": "Yeah, I&#39;ve seen other people talked about that as well, but the thing is that I have to use the baseclass I&#39;m given here. It&#39;s for a assignment and I&#39;m not allowed to modify it"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1456958563, "post_id": 35759583, "comment_id": 59192625, "body": "Yes, we want to see the error message."}, {"owner": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "edited": false, "score": 0, "creation_date": 1456958649, "post_id": 35759583, "comment_id": 59192666, "body": "@Allan Strokes, I&#39;m getting some &quot;unexpected token(s) preceding &#39;;&#39;&quot; and &quot;syntax error : indentifier &#39;...&#39;&quot; and &quot;unable to recover from previous error(s); stopping compilation&quot;. I&#39;m using Visual Studio 13 and there aren&#39;t any red marking under the code. It&#39;s just those errors"}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1456958793, "post_id": 35759583, "comment_id": 59192724, "body": "Might the problem be due to the use of the <a href=\"http://www.fileformat.info/info/unicode/char/2026/index.htm\" rel=\"nofollow noreferrer\">Unicode Horizontal Ellipsis</a> character?"}, {"owner": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1456959254, "post_id": 35759583, "comment_id": 59192935, "body": "@Kupiakos, It appears to work if I&#39;m changing that symbol to &#39;...&#39; instead. I just copied the class from the assignment since they said that we weren&#39;t allowed to modify it"}, {"owner": {"reputation": 1076, "user_id": 668636, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/dd0d1ba423c4cb719f2af5d01dfeae42?s=128&d=identicon&r=PG", "display_name": "cppcoder", "link": "https://stackoverflow.com/users/668636/cppcoder"}, "edited": false, "score": 0, "creation_date": 1456959471, "post_id": 35759583, "comment_id": 59193032, "body": "In g++, If I remove (...) then the code compiles fine. Can you try removing the (...) and see if it works in Visual studio? If it works, email the course TA. to correct it:)."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1456959501, "post_id": 35759583, "comment_id": 59193049, "body": "There is a very real possibility that the people teaching you are - and this is the politest way I can put it - not paying enough attention to detail."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "edited": false, "score": 0, "creation_date": 1456960468, "post_id": 35759883, "comment_id": 59193409, "body": "Yeah this is it, I changed it so it&#39;s three dots &#39;...&#39; now instead and it&#39;s working fine. Thank you so much :)"}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "reply_to_user": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "edited": false, "score": 0, "creation_date": 1456960659, "post_id": 35759883, "comment_id": 59193485, "body": "@Adam Glad to help. If an answer solved your problem, you can mark it as the solution by clicking the checkmark below the voting arrows on that question."}], "tags": [], "owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "is_accepted": false, "score": 3, "last_activity_date": 1456959835, "last_edit_date": 1456959835, "creation_date": 1456959430, "answer_id": 35759883, "question_id": 35759583, "link": "https://stackoverflow.com/questions/35759583/inherit-a-pure-virtual-function-that-throws/35759883#35759883", "title": "Inherit a pure virtual function that throws", "body": "<p>Your problem is due to using the <a href=\"http://www.fileformat.info/info/unicode/char/2026/index.htm\" rel=\"nofollow\">Unicode HORIZONTAL ELLIPSIS</a> character <code>\u2026</code> instead of <code>...</code>. However, even <code>throw(...)</code> is not compiling on my system. The class is also missing a semicolon at the end of its declaration, although it's not clear if that was a just a mistake when uploading to Stack Overflow.</p>\n\n<p>You mentioned that you copied the class from an assignment description. Whatever this was copied from does not format text correctly, and this should be fixed by the professor/whoever manages the assignments.</p>\n\n<p>Also, in general, using exception specifications is considered a <a href=\"http://www.gotw.ca/publications/mill22.htm\" rel=\"nofollow\">bad idea</a> in C++, anyways.</p>\n"}], "owner": {"reputation": 11, "user_id": 5882706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3a85ea373c9813234e23069546203e6?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5882706/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456959835, "creation_date": 1456958184, "last_edit_date": 1456958949, "question_id": 35759583, "link": "https://stackoverflow.com/questions/35759583/inherit-a-pure-virtual-function-that-throws", "title": "Inherit a pure virtual function that throws", "body": "<p>as the title follows I would like to make an inherited class-function from a class-function that throws an exception. The function in the baseclass looks as follow:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass IQueue {\npublic:\nvirtual T dequeue()throw(\u2026) = 0;\n}\n</code></pre>\n\n<p>Note that I'm not allowed to modify this since it's for a class. How am I suppose to declare the function in the diverted class? I have tried like this:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass Queue : public IQueue &lt; T &gt;{\npublic:\nvirtual T dequeue()throw(\u2026) {}\n}\n</code></pre>\n\n<p>But I'm not allowed to run it, and it's giving me error that points to the declaration in the baseclass. So I'm thinking that I'm not overriding it as I should.</p>\n\n<p>These are the errors I'm getting:</p>\n\n<pre><code>unexpected token(s) preceding ';'\nsyntax error : indentifier '...'\nunable to recover from previous error(s); stopping compilation\".\n</code></pre>\n\n<p>and the two at the top are in the IQueue.h and the last one in xlocale.\nI'm using Visual Studio 2013.</p>\n"}, {"tags": ["c++", "function", "templates", "pointers"], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 1513138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274b47399957c41ead1e506403b110ec?s=128&d=identicon&r=PG", "display_name": "david11", "link": "https://stackoverflow.com/users/1513138/david11"}, "edited": false, "score": 0, "creation_date": 1456958402, "post_id": 35759584, "comment_id": 59192543, "body": "Thanks, I know that I can resolve the function signature when I pass it in as you described, but I want to use both the float and the int version inside of the <code>ApplyToFields</code> function. I don&#39;t want to resolve the overloading until inside of that function."}, {"owner": {"reputation": 90, "user_id": 1513138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274b47399957c41ead1e506403b110ec?s=128&d=identicon&r=PG", "display_name": "david11", "link": "https://stackoverflow.com/users/1513138/david11"}, "edited": false, "score": 0, "creation_date": 1456960688, "post_id": 35759584, "comment_id": 59193497, "body": "Yes, the generic functor is exactly what I was looking for. Thanks!"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 1, "last_activity_date": 1456959196, "last_edit_date": 1456959196, "creation_date": 1456958188, "answer_id": 35759584, "question_id": 35759460, "link": "https://stackoverflow.com/questions/35759460/how-to-pass-an-overloaded-function-pointer-as-an-argument-without-resolving-c/35759584#35759584", "title": "How to pass an overloaded function pointer as an argument without resolving (C++03)", "body": "<p>With your code, you have to specify which overload you want:</p>\n\n<pre><code>ApplyToFields(&amp;ns1, &amp;ns2, add_print&lt;float&gt;);\nApplyToFields(&amp;ns1, &amp;ns2, sub_print&lt;int&gt;);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>ApplyToFields&lt;float&gt;(&amp;ns1, &amp;ns2, add_print);\nApplyToFields&lt;int&gt;(&amp;ns1, &amp;ns2, sub_print);\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/62820163c7c490a3\" rel=\"nofollow\">Demo</a></p>\n\n<p>That you want is a generic functor</p>\n\n<pre><code>template&lt;typename F&gt;\nvoid ApplyToFields(const NodeStatus &amp;ns1, const NodeStatus &amp;ns2, F func) {\n  func(ns1.float_val, ns2.float_val);\n  func(ns1.int_val, ns2.int_val);\n}\n\nstruct add_print\n{\n    template&lt;typename T&gt;\n    void operator() (T a, T b) {\n        std::cout &lt;&lt; b + a &lt;&lt; std::endl;\n    }\n};\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/cdc038752bf3ec0d\" rel=\"nofollow\">Demo</a></p>\n"}, {"tags": [], "owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "is_accepted": true, "score": 3, "last_activity_date": 1456959284, "last_edit_date": 1456959284, "creation_date": 1456958978, "answer_id": 35759775, "question_id": 35759460, "link": "https://stackoverflow.com/questions/35759460/how-to-pass-an-overloaded-function-pointer-as-an-argument-without-resolving-c/35759775#35759775", "title": "How to pass an overloaded function pointer as an argument without resolving (C++03)", "body": "<p>You can create a function object wrapping your function template (or replacing it):</p>\n\n<pre><code>struct add_printer {\n    template&lt;typename T&gt;\n    void operator()(T a, T b) const {\n        add_print(a, b);\n    }\n};\n</code></pre>\n\n<p>And then use it like this:</p>\n\n<pre><code>ApplyToFields(&amp;ns1, &amp;ns2, add_printer());\n</code></pre>\n\n<p>This will delay overload resolution until <code>add_printer</code>'s <code>operator()</code> is actually instantiated when it is used in <code>ApplyToFields</code>.</p>\n\n<p>In C++14, you could use a polymorphic lambda:\n<code>[](auto a, auto b) { add_print(a, b); }</code>\nwhich, unlike the function object, can be defined almost anywhere, not just at namespace scope.</p>\n"}], "owner": {"reputation": 90, "user_id": 1513138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274b47399957c41ead1e506403b110ec?s=128&d=identicon&r=PG", "display_name": "david11", "link": "https://stackoverflow.com/users/1513138/david11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 35759775, "answer_count": 2, "score": 1, "last_activity_date": 1456959284, "creation_date": 1456957746, "question_id": 35759460, "link": "https://stackoverflow.com/questions/35759460/how-to-pass-an-overloaded-function-pointer-as-an-argument-without-resolving-c", "title": "How to pass an overloaded function pointer as an argument without resolving (C++03)", "body": "<p>I would like to apply an overloaded function to all elements of a struct like so: (The code below will not compile)</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntypedef struct {\n  float float_val;\n  int int_val;\n} NodeStatus;\n\ntemplate&lt;typename T&gt;\nvoid ApplyToFields(NodeStatus *ns1, NodeStatus *ns2, void (*func)(T, T)) {\n  func(ns1-&gt;float_val, ns2-&gt;float_val);\n  func(ns1-&gt;int_val, ns2-&gt;int_val);\n}\n\ntemplate&lt;typename T&gt;\nvoid add_print(T a, T b) {\n  std::cout &lt;&lt; b + a &lt;&lt; std::endl;\n}\n\ntemplate&lt;typename T&gt;\nvoid sub_print(T a, T b) {\n  std::cout &lt;&lt; b - a &lt;&lt; std::endl;\n}\n\nint main() {\n  NodeStatus ns1, ns2;\n  ns1.float_val = 2.3;\n  ns2.float_val = 25.3;\n  ns1.int_val = 2;\n  ns2.int_val = 20;\n  ApplyToFields(&amp;ns1, &amp;ns2, add_print);\n  ApplyToFields(&amp;ns1, &amp;ns2, sub_print);\n}\n</code></pre>\n\n<p>I am new to C++ coming from C. After some research I realize that passing a function pointer is probably not the correct way to do this in C++. I am interested in the best way to accomplish the same purpose as opposed to the literal question I posed which may be impossible. Solutions adhering to C++03 would be ideal. Thanks!</p>\n"}, {"tags": ["c++", "time"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 2, "creation_date": 1456957131, "post_id": 35759229, "comment_id": 59191925, "body": "<code>I can&#39;t understand why month output 10 instead of 3 ???</code> because month is not 30 days"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 2, "creation_date": 1456957243, "post_id": 35759229, "comment_id": 59191990, "body": "The number of days in a month can be 28, 29, 30 or 31. Why are you using 30?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957792, "post_id": 35759229, "comment_id": 59192253, "body": "and there are also leap seconds :)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 0, "creation_date": 1456957833, "post_id": 35759229, "comment_id": 59192281, "body": "@EdHeal, what does it have to do with Android?"}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957850, "post_id": 35759229, "comment_id": 59192289, "body": "@SergeyA - Please do not confuse the poor chap"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1456957852, "post_id": 35759229, "comment_id": 59192290, "body": "Midnight, first January 1970 is the POSIX epoch, so you can often just use <code>localtime</code> or similar. Otherwise, look up &quot;Zeller&#39;s congruence&quot;."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957926, "post_id": 35759229, "comment_id": 59192332, "body": "@SergeyA - I selected the wrong one in the list of duplicates"}, {"owner": {"reputation": 13, "user_id": 6010214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56418be514eab3e72388efa787a1f2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Bishoy George Micheal", "link": "https://stackoverflow.com/users/6010214/bishoy-george-micheal"}, "edited": false, "score": 0, "creation_date": 1456958033, "post_id": 35759229, "comment_id": 59192385, "body": "i thought taking the average but you asked the right question indeed this was my problem thank you"}], "answers": [{"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1456957947, "creation_date": 1456957947, "answer_id": 35759516, "question_id": 35759229, "link": "https://stackoverflow.com/questions/35759229/convert-seconds-elapsed-since-1970-to-current-date-format/35759516#35759516", "title": "convert seconds elapsed since 1970 to current date format", "body": "<p>It is extremely daunting task of converting 'seconds since epoch' to day/month/year/etc.</p>\n\n<p>This is why library got you covered. There are <code>gmtime_r()</code> and <code>localtime()_r</code> designed specifically for that. Unfortunately, those functions are not standard, and the only standard ones are thread unsafe <code>gmtime()</code> and <code>localtime()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 1, "last_activity_date": 1456959038, "last_edit_date": 1456959038, "creation_date": 1456958325, "answer_id": 35759622, "question_id": 35759229, "link": "https://stackoverflow.com/questions/35759229/convert-seconds-elapsed-since-1970-to-current-date-format/35759622#35759622", "title": "convert seconds elapsed since 1970 to current date format", "body": "<p><a href=\"http://www.cplusplus.com/reference/ctime/time/\" rel=\"nofollow\"><code>time()</code></a> function returns a number of seconds since January 1st, 1970.  </p>\n\n<p>Converting this into a date is much more complex than you think:   </p>\n\n<ul>\n<li>It starts with calculating the seconds: taking the number <code>%60</code> should in principle tell the seconds in the current minute.  That seems obvious.  But this is not exact: it doesn't take into account the <a href=\"https://en.wikipedia.org/wiki/Leap_second\" rel=\"nofollow\">25 leap seconds</a> that took place since 1970.  </li>\n<li>minutes, hours would be ok if you take into account this first correction (and eventually taking into account daylight saving time, if this code is not ran in winter)  </li>\n<li>your calculation of the day of the month does not take into account the fact that not all the months are 30 days long, and it doesn't take into account the leap years.  </li>\n<li>And basically, the calculation of the months and the year would be affected by the impact of the wrong estimation of month.  </li>\n</ul>\n\n<p>Do yourself a favour and convert the date using a standard function like <a href=\"http://www.cplusplus.com/reference/ctime/gmtime/\" rel=\"nofollow\"><code>gmtime()</code></a> or <a href=\"http://www.cplusplus.com/reference/ctime/localtime/\" rel=\"nofollow\"><code>localtime()</code></a> and accessing the fields of the <a href=\"http://www.cplusplus.com/reference/ctime/tm/\" rel=\"nofollow\"><code>struct tm</code></a> </p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": true, "score": 0, "last_activity_date": 1456959112, "last_edit_date": 1456959112, "creation_date": 1456958702, "answer_id": 35759714, "question_id": 35759229, "link": "https://stackoverflow.com/questions/35759229/convert-seconds-elapsed-since-1970-to-current-date-format/35759714#35759714", "title": "convert seconds elapsed since 1970 to current date format", "body": "<p>Converting seconds to days/hours/minutes is trivial. Converting days since 1970 to current date is not. You either should use library functions if you can or you  may use formula provided for <a href=\"https://en.wikipedia.org/wiki/Julian_day\" rel=\"nofollow\">Julian day</a>, just pay attention that 1/1/1970 is not 0 for Julian day.</p>\n\n<p>PS subtracting reminder is completely unnecessary:</p>\n\n<pre><code>int min = ((now - sec) / 60) % 60;\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>int min = now / 60 % 60;\n</code></pre>\n\n<p>or even better:</p>\n\n<pre><code>int sec = now % 60;\nnow /= 60;\nint min = now % 60;\nnow /= 60;\n</code></pre>\n\n<p>and so on.</p>\n"}], "owner": {"reputation": 13, "user_id": 6010214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56418be514eab3e72388efa787a1f2d1?s=128&d=identicon&r=PG&f=1", "display_name": "Bishoy George Micheal", "link": "https://stackoverflow.com/users/6010214/bishoy-george-micheal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 0, "closed_date": 1457013502, "accepted_answer_id": 35759714, "answer_count": 3, "score": 0, "last_activity_date": 1456959112, "creation_date": 1456956843, "question_id": 35759229, "link": "https://stackoverflow.com/questions/35759229/convert-seconds-elapsed-since-1970-to-current-date-format", "closed_reason": "Duplicate", "title": "convert seconds elapsed since 1970 to current date format", "body": "<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n\n\nusing namespace std;\nint main()\n{\n\ntime_t now = time(NULL);\n\nint sec = now % 60;\n\nint min = ((now - sec) / 60) % 60;\n\nint hour = ((((now - sec) / 60) - min) / 60) % 24;\n\nint day = ((((((now - sec) / 60) - min) / 60) - hour) / 24) % 30;\n\nint month = ((((((((now - sec) / 60) - min) / 60) - hour) / 24) - day) / 30) % 12;\n\nint year = ((((((((((now - sec) / 60) - min) / 60) - hour) / 24) - day) / 30) - month) / 12) + 1970;\n\ncout &lt;&lt; hour &lt;&lt; \":\" &lt;&lt; min &lt;&lt; \":\"&lt;&lt; \":\" &lt;&lt; day &lt;&lt; \":\" &lt;&lt; month &lt;&lt; \":\" &lt;&lt; year&lt;&lt;endl;\n}\n</code></pre>\n\n<blockquote>\n  <p>I can't understand why month output 10 instead of 3 ???</p>\n  \n  <p>(I know there is c_time function but i am learning and making my own one)</p>\n</blockquote>\n"}, {"tags": ["c++", "templates", "g++", "clang++", "crtp"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 2, "creation_date": 1456958415, "post_id": 35759047, "comment_id": 59192552, "body": "You inherit from <code>Parent&lt; Child&lt;T,N&gt; &gt;</code>, at this point <code>Child</code> is still an incomplete type. Normally, you can&#39;t use typedefs, or members from the derived class in the CRTP base class body, see <a href=\"http://stackoverflow.com/a/2749029/996886\">this answer</a> for example, so I wouldn&#39;t expect it to work with a static member... but I&#39;m not certain :)"}, {"owner": {"reputation": 61, "user_id": 3406892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635877c8d297ab132e566aae0fd30366?s=128&d=identicon&r=PG&f=1", "display_name": "drd_82", "link": "https://stackoverflow.com/users/3406892/drd-82"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456959778, "post_id": 35759047, "comment_id": 59193147, "body": "@melak47 I agree and that is exactly the error (incomplete type) that I encounter if I try this code with icc 14.0.2. So I would expect the behaviour of icc and clang++ to be valid. Wonder why g++ 5.2.1 does not complain."}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 2, "creation_date": 1456960177, "post_id": 35759047, "comment_id": 59193290, "body": "Hm, <code>Parent::value</code> is only used at runtime. If you add something that requires the value at compile-time, you get the incomplete type error from GCC as well: <a href=\"http://coliru.stacked-crooked.com/a/c0da629ab0061534\" rel=\"nofollow noreferrer\">coliru</a>. Might be a difference in how GCC and Clang treat initialization of static const variables?"}, {"owner": {"reputation": 61, "user_id": 3406892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635877c8d297ab132e566aae0fd30366?s=128&d=identicon&r=PG&f=1", "display_name": "drd_82", "link": "https://stackoverflow.com/users/3406892/drd-82"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456961327, "post_id": 35759047, "comment_id": 59193735, "body": "@melak47 Nice catch. That makes much more sense now."}], "owner": {"reputation": 61, "user_id": 3406892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/635877c8d297ab132e566aae0fd30366?s=128&d=identicon&r=PG&f=1", "display_name": "drd_82", "link": "https://stackoverflow.com/users/3406892/drd-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 276, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1456956177, "creation_date": 1456956177, "question_id": 35759047, "link": "https://stackoverflow.com/questions/35759047/clang-3-7-crtp-compilation-error-no-named-member-in-parents-template-argume", "title": "Clang++-3.7 CRTP compilation error &quot;no named member&quot; in parent&#39;s template argument", "body": "<p>In the below code I am trying to use CRTP to use the static member \"value\" from the Child class in the Parent class. When compiling the code with g++ 5.2.1 with the \"-pedantic\" flag, I am able to compile as expected, and on execution both <code>c.print_value();</code> and <code>Child&lt;int,4&gt;::print_value();</code> print out 4. </p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename DE&gt;\nstruct Parent\n{\n    static const int value = DE::value;\n    static void print_value ()\n    {\n        std::cout &lt;&lt; \"Value : \" &lt;&lt; value &lt;&lt; '\\n';\n    }\n};\n\ntemplate &lt;typename T, int N&gt;\nstruct Child : Parent&lt; Child&lt;T,N&gt; &gt;\n{\n    static const int value = N;\n};\n\nint\nmain ()\n{\n    Child&lt;int,4&gt; c;\n    c.print_value();\n    Child&lt;int,4&gt;::print_value();\n}\n</code></pre>\n\n<p>However when compiling the same code with clang++3.7, I encounter compilation failures.</p>\n\n<pre><code>crtp_clang_error.cpp:9:32: error: no member named 'value' in 'Child&lt;int, 4&gt;'\nstatic const int value = DE::value;\n                       ~~~~^\ncrtp_clang_error.cpp:27:16: note: in instantiation of template class 'Parent&lt;Child&lt;int, 4&gt; &gt;' requested here\nstruct Child : Parent&lt; Child&lt;T,N&gt; &gt;\n           ^\ncrtp_clang_error.cpp:38:16: note: in instantiation of template class 'Child&lt;int, 4&gt;' requested here\n  Child&lt;int,4&gt; c;\n           ^\ncrtp_clang_error.cpp:40:3: error: no member named 'print_value' in 'Child&lt;int, 4&gt;'; did you mean 'Parent&lt;Child&lt;int, 4&gt; &gt;::print_value'?\n  Child&lt;int,4&gt;::print_value();\n  ^~~~~~~~~~~~~~~~~~~~~~~~~\n  Parent&lt;Child&lt;int, 4&gt; &gt;::print_value\ncrtp_clang_error.cpp:11:15: note: 'Parent&lt;Child&lt;int, 4&gt; &gt;::print_value' declared here\n  static void print_value ()\n</code></pre>\n\n<p>I am not sure if this a Clang++ bug or a GCC hack. Would very much appreciate some insights.</p>\n"}, {"tags": ["c++", "opencv", "image-processing", "vector"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1456956887, "post_id": 35759015, "comment_id": 59191771, "body": "A single contour is made of point, so it&#39;s a <code>vector&lt;Point&gt;</code>. So <code>contours</code> is a vector of contours, each made by a vector of points. Regarding hierarchy, look at the <a href=\"http://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=findcontours#findcontours\" rel=\"nofollow noreferrer\">doc</a>. Working on a still image, or a single frame of a video is the same thing. Have a look at <a href=\"http://docs.opencv.org/2.4/modules/highgui/doc/reading_and_writing_images_and_video.html#videocapture\" rel=\"nofollow noreferrer\">VideoCapture</a> example. Also, seriously, try to search better... ton of questions about this stuff"}, {"owner": {"reputation": 7, "user_id": 5983739, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4d55d8f15709aa355ba392bd7187865d?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi Sajjadi", "link": "https://stackoverflow.com/users/5983739/mehdi-sajjadi"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1456976166, "post_id": 35759015, "comment_id": 59198223, "body": "Thanks Miki,you always give me good advice, to be honest,  am quite new in OpenCV and some concepts of C++, so whenI read the OpenCv documentation and also other guidance I become confused, so I am trying to ask from somebody to tell a simpler form of the concept that I have problem, by the way, I will try to search more in net to find my question&#39;s answer, by the way, I appreciate  your kind attention"}], "answers": [{"tags": [], "owner": {"reputation": 1118, "user_id": 1362085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6108844429ce59a569a369bda74be6e5?s=128&d=identicon&r=PG", "display_name": "Thesane", "link": "https://stackoverflow.com/users/1362085/thesane"}, "is_accepted": false, "score": 0, "last_activity_date": 1456957018, "last_edit_date": 1592644375, "creation_date": 1456956937, "answer_id": 35759255, "question_id": 35759015, "link": "https://stackoverflow.com/questions/35759015/variables-used-for-find-contour/35759255#35759255", "title": "Variables Used for &quot;Find Contour&quot;", "body": "<p>from <a href=\"http://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=findcontours#findcontours\" rel=\"nofollow noreferrer\">OpenCV documentation</a></p>\n<blockquote>\n<p><strong>contours</strong> \u2013 Detected contours. Each contour is stored as a vector of points.</p>\n<p><strong>hierarchy</strong> \u2013 Optional output vector, containing information about the image topology. It has as many elements as the number of contours. For each i-th contour contours[i] , the elements hierarchy[i][0] , hiearchy<a href=\"http://docs.opencv.org/2.4/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html?highlight=findcontours#findcontours\" rel=\"nofollow noreferrer\">i</a> , hiearchy[i][2] , and hiearchy[i][3] are set to 0-based indices in contours of the next and previous contours at the same hierarchical level, the first child contour and the parent contour, respectively. If for the contour i there are no next, previous, parent, or nested contours, the corresponding elements of hierarchy[i] will be negative.</p>\n</blockquote>\n"}], "owner": {"reputation": 7, "user_id": 5983739, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4d55d8f15709aa355ba392bd7187865d?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi Sajjadi", "link": "https://stackoverflow.com/users/5983739/mehdi-sajjadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1456957018, "creation_date": 1456956086, "last_edit_date": 1456956671, "question_id": 35759015, "link": "https://stackoverflow.com/questions/35759015/variables-used-for-find-contour", "title": "Variables Used for &quot;Find Contour&quot;", "body": "<p>I a trying to find contours in a video in OpenCV. I have tried to use the sample that is mentioned in OpenCV website and also other samples too.\nI have seen in all examples they are using such variable definition:</p>\n\n<pre><code>vector&lt;vector&lt;Point&gt;&gt; contours;\nvector&lt;Vec4i&gt; hierarchy;\n</code></pre>\n\n<p>Would you please let me know what is meaning of these variables in codes?\nAlso does anybody have a simple code for finding contours in a live video?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1456956503, "post_id": 35758944, "comment_id": 59191593, "body": "It&#39;s because 0.8 is not exactly representable. So you get the closest representable value: <a href=\"http://pages.cs.wisc.edu/~rkennedy/exact-float?number=.8\" rel=\"nofollow noreferrer\">pages.cs.wisc.edu/~rkennedy/exact-float?number=.8</a>"}, {"owner": {"reputation": 19466, "user_id": 2666, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aeff0099743dd003da31e22fc33204e3?s=128&d=identicon&r=PG", "display_name": "Jim Buck", "link": "https://stackoverflow.com/users/2666/jim-buck"}, "edited": false, "score": 0, "creation_date": 1456956742, "post_id": 35758944, "comment_id": 59191701, "body": "A <i>must</i>-read, &quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot; - <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a>"}, {"owner": {"reputation": 11, "user_id": 4820953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5398d034c378d37a376a9f2591548dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4820953/manish"}, "edited": false, "score": 0, "creation_date": 1456957005, "post_id": 35758944, "comment_id": 59191849, "body": "Thank you guys !! Now I know why."}], "answers": [{"comments": [{"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 1, "creation_date": 1456956345, "post_id": 35759043, "comment_id": 59191522, "body": "Nope. 2 is exactly representable."}, {"owner": {"reputation": 3997, "user_id": 3193464, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2cea5a766d750121c7c89390262ee88e?s=128&d=identicon&r=PG&f=1", "display_name": "Anedar", "link": "https://stackoverflow.com/users/3193464/anedar"}, "edited": false, "score": 1, "creation_date": 1456956480, "post_id": 35759043, "comment_id": 59191582, "body": "Your point is right, just your example is a bad choice: Multiples of 2 are exactly those numbers that ARE representable (including 1/2, 1/4, 1/8 and so on). 0.1 would be an example that is not representable."}, {"owner": {"reputation": 19466, "user_id": 2666, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/aeff0099743dd003da31e22fc33204e3?s=128&d=identicon&r=PG", "display_name": "Jim Buck", "link": "https://stackoverflow.com/users/2666/jim-buck"}, "edited": false, "score": 1, "creation_date": 1456956514, "post_id": 35759043, "comment_id": 59191598, "body": "Also, if your money values are large enough, even <i>they</i> will not represent the exact amounts need. (Hence why using floats/doubles to represent money is A Bad Idea.)"}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "reply_to_user": {"reputation": 3997, "user_id": 3193464, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2cea5a766d750121c7c89390262ee88e?s=128&d=identicon&r=PG&f=1", "display_name": "Anedar", "link": "https://stackoverflow.com/users/3193464/anedar"}, "edited": false, "score": 0, "creation_date": 1456956530, "post_id": 35759043, "comment_id": 59191605, "body": "@Anedar or, in this case 0.8"}, {"owner": {"reputation": 310, "user_id": 4725314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bcb156db2cfc962f405c8a9dfd1394f?s=128&d=identicon&r=PG&f=1", "display_name": "astrosteve", "link": "https://stackoverflow.com/users/4725314/astrosteve"}, "edited": false, "score": 0, "creation_date": 1456959402, "post_id": 35759043, "comment_id": 59193006, "body": "Sorry, I didn&#39;t know exactly what numbers might not be able to be represented exactly, just that some numbers cannot be."}], "tags": [], "owner": {"reputation": 310, "user_id": 4725314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bcb156db2cfc962f405c8a9dfd1394f?s=128&d=identicon&r=PG&f=1", "display_name": "astrosteve", "link": "https://stackoverflow.com/users/4725314/astrosteve"}, "is_accepted": false, "score": -1, "last_activity_date": 1456959551, "last_edit_date": 1456959551, "creation_date": 1456956161, "answer_id": 35759043, "question_id": 35758944, "link": "https://stackoverflow.com/questions/35758944/computations-involving-double-numbers/35759043#35759043", "title": "Computations involving double numbers", "body": "<p>Floats and doubles cannot represent numbers exactly always, so sometimes they are a little off.  For money type values, it works, as you can round to the nearest two digits.</p>\n\n<p>For example, if you set a value to 0.1, it may say 0.0999999999 or 0.100000000001 (I'm not sure what it would be exactly, just that it will be off a tiny bit).  This is just normal with floats and doubles.</p>\n\n<p>UPDATE: Updated above since it was pointed out my original example of 2.0 can be represented exactly, but that 0.1 was an example of a number that can't be represented exactly.</p>\n"}], "owner": {"reputation": 11, "user_id": 4820953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5398d034c378d37a376a9f2591548dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Manish", "link": "https://stackoverflow.com/users/4820953/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "closed_date": 1456956313, "answer_count": 1, "score": 0, "last_activity_date": 1456959551, "creation_date": 1456955842, "last_edit_date": 1456955934, "question_id": 35758944, "link": "https://stackoverflow.com/questions/35758944/computations-involving-double-numbers", "closed_reason": "Duplicate", "title": "Computations involving double numbers", "body": "<p>For the below code, why the value of cellSide is not 0.80000000000000000 but 0.80000000000000004.</p>\n\n<pre><code>/*****Additional info *******\n*#define RADIUS 4\n*double cellSide = 0.0  ;\n*int iCelleParameter=10;\n*****************************/\n\ncellSide = 2 * RADIUS / (double)iCelleParameter;\n</code></pre>\n"}, {"tags": ["c++", "c", "linux", "memory-management", "fork"], "comments": [{"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 1, "creation_date": 1456956237, "post_id": 35758889, "comment_id": 59191470, "body": "This is generally unnecessary, as Linux uses a copy-on-write fork implementation so that the parent and child share the &quot;copied&quot; memory until the child modifies it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1456956656, "post_id": 35758889, "comment_id": 59191660, "body": "What you want isn&#39;t really feasible. For instance, suppose the library uses stdio, and stdio has some allocated memory, you wouldn&#39;t want your &quot;free all allocated memory&quot; to free that. So what you really want is &quot;free everything that&#39;s not needed any more&quot;, but how can a general-purpose function know what&#39;s not needed?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 1, "creation_date": 1456956713, "post_id": 35758889, "comment_id": 59191685, "body": "@RossRidge But you&#39;d like to remove your reference to the copy, so it will all go away when the parent exits."}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "reply_to_user": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 0, "creation_date": 1456958341, "post_id": 35758889, "comment_id": 59192512, "body": "@RossRidge Also, &quot;modifying&quot; here also possibly means stuff like allocating new memory. This will change internal state of the user space allocator, possibly dirtying many pages with stuff allocated by the &quot;calling&quot; process."}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "reply_to_user": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1456961118, "post_id": 35758889, "comment_id": 59193660, "body": "@DanielJour Meh.  Any reasonably efficient allocator isn&#39;t going to modify &quot;many pages&quot; when allocating new memory."}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1456961514, "post_id": 35758889, "comment_id": 59193807, "body": "@RosdRidge That greatly depends on the fragmentation when doing the fork. I&#39;m also not talking about a single allocation, but rather many (done by the service). Due to possible fragmentation, they could end up in a lot of different pages, which contain (possibly a lot) of the data the &quot;calling&quot; process allocated."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "edited": false, "score": 1, "creation_date": 1456965245, "post_id": 35758889, "comment_id": 59195078, "body": "@RossRidge It becomes unshared when either the parent or the child modifies it. In the extreme case, where the parent goes on to modify everything and the child just does its own stuff, you wind up with a copy of every page of memory the parent had allocated before the call to <code>fork</code>."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1456965312, "post_id": 35758889, "comment_id": 59195095, "body": "Your question is internally inconsistent. Either you can easily separate what is a parameter from what isn&#39;t or you can&#39;t. If you can&#39;t, then it&#39;s hopeless. How could you know what needs to be freed and what doesn&#39;t? If you can, then what&#39;s the problem with using <code>exec(&#47;proc&#47;self&#47;exe)</code>? Just separate all the stuff you want to keep first (using shared memory, for example)."}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1456966515, "post_id": 35758889, "comment_id": 59195446, "body": "@DavidSchwartz The problem with that would be that you&#39;d execute the library&#39;s client program and not the library&#39;s server executable."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "edited": false, "score": 0, "creation_date": 1456966890, "post_id": 35758889, "comment_id": 59195571, "body": "@thatotherguy True. You&#39;d need the library API to include a function the application must call early in <code>main</code> that decides whether to return or not based on how the library was invoked, doing nothing if it&#39;s a normal invocation of the application. You can probably hook stuff before <code>main</code> if you must, but that&#39;s kind of ugly."}], "answers": [{"comments": [{"owner": {"reputation": 4782, "user_id": 829568, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1bca76875ee9066171d5e2acb8a06a26?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/829568/heinzi"}, "edited": false, "score": 0, "creation_date": 1457000869, "post_id": 35761471, "comment_id": 59210645, "body": "Thanks. I don&#39;t want to rely on the PATH, because it is a security critical application and who knows where in the path an attacker might be able to place an alternative executable (e.g. ~/bin). One of the other points might work though. About the <i>exec</i> call, I&#39;d be passing sensitive data into the executable (e.g. passwords). Will they then be visible in a call to <i>ps</i> if I pass them to <i>exec</i>?"}, {"owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "reply_to_user": {"reputation": 4782, "user_id": 829568, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1bca76875ee9066171d5e2acb8a06a26?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/829568/heinzi"}, "edited": false, "score": 1, "creation_date": 1457029010, "post_id": 35761471, "comment_id": 59231353, "body": "You could always sanitize your path, people with write access to <code>&#47;sbin</code> and <code>&#47;usr&#47;sbin</code> already have the system pwned. Any data you pass by key through <code>shm_open</code> will have the permissions you specify in that call. Other users can not use <code>ps</code> or anything else to read it, even if they have the key."}], "tags": [], "owner": {"reputation": 100768, "user_id": 1899640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47374ccb28e4b0d2454b64f7b975bc66?s=128&d=identicon&r=PG", "display_name": "that other guy", "link": "https://stackoverflow.com/users/1899640/that-other-guy"}, "is_accepted": true, "score": 3, "last_activity_date": 1456968632, "creation_date": 1456968632, "answer_id": 35761471, "question_id": 35758889, "link": "https://stackoverflow.com/questions/35758889/fork-and-free-all-allocated-memory/35761471#35761471", "title": "fork() and free all allocated memory", "body": "<p>This is an interesting question that I sadly don't have a good answer for. I doubt any cleanup strategies like sbrk+close+munmap will reliably allow any libc based code to continue to function, so I'd try to make exec'ing better:</p>\n\n<p>For any kind of exec based solution, you should be able to deep-copy data into shm to pass non-strings. This should take care of your second problem. </p>\n\n<p>Here are some wild suggestions for your first issue:</p>\n\n<ol>\n<li><p>Don't: just require that an executable is in PATH or a compile-time directory.</p>\n\n<p>This is transparent and follows the UNIX philosophy. An error message <code>Can't find myhelper in PATH</code> will not slow anyone down. Most tools depending on helper executables do this, and it's fine.</p></li>\n<li><p><a href=\"https://gcc.gnu.org/ml/gcc-help/2003-07/msg00232.html\" rel=\"nofollow\">Make your library executable</a>, and use that as your exec target. You can try finding its name with some kind of introspection, perhaps <code>/proc/self/maps</code> or whatever glibc offers. </p></li>\n<li><p>Like above, but exec <code>python</code> or something you can be reasonably sure exists, and use a foreign pointer interface to run a function on your library.</p></li>\n<li><p>As part of your build process, compile a tiny executable and include it as binary data in your library. Write it to <code>/tmp</code> and execute.</p></li>\n</ol>\n\n<p>Out of these, I prefer the simplicity and transparency of #1, even if that's the most boring solution.</p>\n"}], "owner": {"reputation": 4782, "user_id": 829568, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1bca76875ee9066171d5e2acb8a06a26?s=128&d=identicon&r=PG", "display_name": "Heinzi", "link": "https://stackoverflow.com/users/829568/heinzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "accepted_answer_id": 35761471, "answer_count": 1, "score": 0, "last_activity_date": 1456968632, "creation_date": 1456955705, "question_id": 35758889, "link": "https://stackoverflow.com/questions/35758889/fork-and-free-all-allocated-memory", "title": "fork() and free all allocated memory", "body": "<p>I'm writing a service (i.e. background process) and want to offer starting it via a shared library. That is, someone wanting to use the service would link to the shared library, call it's <em>start()</em> method, which would fork and return. The fork would then run the service.</p>\n\n<p>The problem with this approach is that the service process now might have a lot of legacy allocated memory it actually doesn't need. Is there a way to get rid of that and have the forked process allocate its own stuff? I know about <em>exec()</em> of course, but the problem with that is</p>\n\n<ul>\n<li>that I need an executable which might not be in the location I expect it to be due to different operating system folder layouts</li>\n<li>that I'd have to cast all potential parameters to string to pass it as program arguments to <em>exec()</em>.</li>\n</ul>\n\n<p>So basically, I'm looking for a way to call an arbitrary function <em>func()</em>  with some parameters that should run in a new process, and everything not passed into that function shouldn't be in the new process. Is there a way to achieve this or something similar?</p>\n"}, {"tags": ["c++", "bitmap", "gdi+", "header-files"], "comments": [{"owner": {"reputation": 67, "user_id": 4455770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XZyRV.jpg?s=128&g=1", "display_name": "Hayden Taylor", "link": "https://stackoverflow.com/users/4455770/hayden-taylor"}, "edited": false, "score": 0, "creation_date": 1456956284, "post_id": 35758881, "comment_id": 59191492, "body": "Wow, okay, I swear I&#39;m usually not this stupid, thank you."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 5991368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO4eJ.jpg?s=128&g=1", "display_name": "Peter Barmettler", "link": "https://stackoverflow.com/users/5991368/peter-barmettler"}, "is_accepted": false, "score": 2, "last_activity_date": 1456957126, "last_edit_date": 1495541741, "creation_date": 1456956799, "answer_id": 35759218, "question_id": 35758881, "link": "https://stackoverflow.com/questions/35758881/gdi-bitmap-issues/35759218#35759218", "title": "GDI+ Bitmap Issues", "body": "<p>The Bitmap copy constructor is private to prevent copying of the Bitmap class (See related thread <a href=\"https://stackoverflow.com/questions/19570133/how-to-return-a-gdibitmap-from-a-function?rq=1\">How to return a GDI::Bitmap from a function</a>). I guess you should try to initialise bmp directly</p>\n\n<pre><code>Bitmap bmp((INT)(reptileRect.Width * 2), (INT)(reptileRect.Width * 2));\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4455770, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XZyRV.jpg?s=128&g=1", "display_name": "Hayden Taylor", "link": "https://stackoverflow.com/users/4455770/hayden-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456957126, "creation_date": 1456955668, "question_id": 35758881, "link": "https://stackoverflow.com/questions/35758881/gdi-bitmap-issues", "title": "GDI+ Bitmap Issues", "body": "<p>I'm having some issues using GDI plus in c++ for a project. I'm currently just trying to create a blank Bitmap in order to draw to it a later time, but I'm having some issues. My current code is this:</p>\n\n<pre><code>reptileRect.Height = windowHeight / 9;\nreptileRect.Width = windowWidth / 15;\nreptileRect.Y = (windowHeight - (windowHeight / 4));\nreptileRect.X = windowWidth * ratio;\n\n\n\nBitmap bmp = Bitmap((INT)(reptileRect.Width * 2), (INT)(reptileRect.Width * 2));\n</code></pre>\n\n<p>But I'm getting an error to the effect of:</p>\n\n<pre><code>\"Gdiplus::Bitmap::Bitmap(const Gdiplus::Bitmap &amp;)\" (declared at line 638 of \"c:\\Program Files (x86)\\Windows Kits\\8.1\\Include\\um\\gdiplusheaders.h\") is inaccessible  \n</code></pre>\n\n<p>and <code>'Gdiplus::Bitmap::Bitmap': cannot access private member declared in class 'Gdiplus::Bitmap'\n</code></p>\n\n<p>Does anyone know why this is happening?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 4, "creation_date": 1456955778, "post_id": 35758878, "comment_id": 59191201, "body": "A do-while loop usually looks like <code>do { ... } while (...);</code>. Yours looks like <code>do { ... while (...); ... }</code>"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "edited": false, "score": 1, "creation_date": 1456955820, "post_id": 35758878, "comment_id": 59191230, "body": "Your <code>do</code> does not have a matching <code>while</code>. You seem to know that this is supposed to be a <code>do-while</code> loop. But where is your <code>while</code> for your <code>do</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 997, "user_id": 4122792, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PUWEO.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/4122792/pablo"}, "edited": false, "score": 0, "creation_date": 1456956374, "post_id": 35758994, "comment_id": 59191532, "body": "Thanks guys.  I got it know. There was a } missing.  Thanks for your patience. I hope to come up with a better question next time"}], "tags": [], "owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "is_accepted": false, "score": 2, "last_activity_date": 1456956025, "creation_date": 1456956025, "answer_id": 35758994, "question_id": 35758878, "link": "https://stackoverflow.com/questions/35758878/i-am-getting-error-c2059-syntax-error-for-a-do-while-loop-exercise-with-vi/35758994#35758994", "title": "I am getting error C2059: syntax error: &#39;}&#39; for a do-while loop exercise with Visual studio 2013", "body": "<p>As mentioned in the comments, a <code>do-while</code> loop is:</p>\n\n<pre><code>do\n{\n} while(...);\n</code></pre>\n\n<p>What you have is:</p>\n\n<pre><code>do\n{\nwhile(...);\n}\n</code></pre>\n\n<p>I'm assuming you meant for the <code>while</code> to go after the last brace. Right now, it's acting as a different nested loop that doesn't do anything, and causing a syntax error because the <code>do</code> is missing the <code>while</code>.</p>\n"}], "owner": {"reputation": 997, "user_id": 4122792, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PUWEO.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/4122792/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1456956025, "creation_date": 1456955654, "last_edit_date": 1456955882, "question_id": 35758878, "link": "https://stackoverflow.com/questions/35758878/i-am-getting-error-c2059-syntax-error-for-a-do-while-loop-exercise-with-vi", "title": "I am getting error C2059: syntax error: &#39;}&#39; for a do-while loop exercise with Visual studio 2013", "body": "<p>I try to run this little test program and I get the above-mentioned error.  When I delete the last } and rebuild the project, I get Error</p>\n\n<blockquote>\n  <p>error C1075: end of file found before the left brace '{'.</p>\n</blockquote>\n\n<p>Am I missing something?  I am using VS 2013. I feel the syntax is somehow wrong, hence the error being churned out. Thanks for your help.</p>\n\n<pre><code>#include \"iostream\"\n#include &lt;string&gt;\nusing namespace std;\n\nint main(){\n\n    const string password = \"Hello\";\n    string input;\n\n    do{\n        cout &lt;&lt; \"Enter your password: \" &lt;&lt; flush;\n        cin &gt;&gt; input;\n        if (input == password){\n            cout &lt;&lt; \"password accepted\" &lt;&lt; endl;\n        }\n        while (input != password);\n        cout &lt;&lt; \"access denied\" &lt;&lt; endl;\n        return 0;\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["c++", "go", "cuda"], "comments": [{"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 3, "creation_date": 1456955408, "post_id": 35758750, "comment_id": 59190992, "body": "I&#39;m not familiar with go, but it may be a C vs. C++ linking issue.  Try wrapping your <code>test_add()</code> prototype in <code>extern &quot;C&quot; { ... }</code>"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1456955448, "post_id": 35758750, "comment_id": 59191025, "body": "@RobertCrovella: Where do you see C code? CUDA is C++ based."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1456955665, "post_id": 35758750, "comment_id": 59191139, "body": "@Olaf where did I say &quot;I see C code.&quot; ?  I&#39;m aware that CUDA uses C++ style linkage.  If by chance <a href=\"https://golang.org/cmd/cgo/#hdr-Go_references_to_C\" rel=\"nofollow noreferrer\">the go import of <code>C</code> is expecting the function to be provided with C style linkage</a>, then you would run into this problem.  It&#39;s just a guess."}, {"owner": {"reputation": 157, "user_id": 6010103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Kniu6vzIoug/AAAAAAAAAAI/AAAAAAAAAI0/XZIAzGnidyk/photo.jpg?sz=128", "display_name": "Peter Veselinovi\u0107", "link": "https://stackoverflow.com/users/6010103/peter-veselinovi%c4%87"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1456956233, "post_id": 35758750, "comment_id": 59191469, "body": "@RobertCrovella: thanks man, I tried your suggestion and it works. You&#39;re a life saver : )"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 3, "creation_date": 1456958330, "post_id": 35758750, "comment_id": 59192510, "body": "kudos for providing an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> in your very first SO posting."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 6010103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Kniu6vzIoug/AAAAAAAAAAI/AAAAAAAAAI0/XZIAzGnidyk/photo.jpg?sz=128", "display_name": "Peter Veselinovi\u0107", "link": "https://stackoverflow.com/users/6010103/peter-veselinovi%c4%87"}, "edited": false, "score": 0, "creation_date": 1457039450, "post_id": 35763142, "comment_id": 59237565, "body": "For me the solution works if I use <code>extern &quot;C&quot; {...code...} </code> in test.cu file. But if I include <code>extern &quot;C&quot;</code> in header test.h I get an error <code>.&#47;test.h:1:8: error: expected identifier or &#39;(&#39; before string constant</code>. So I will go with <code>extern &quot;C&quot;</code> in cuda files (.cu) which seems to work for me. Thanks again for helping out."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "reply_to_user": {"reputation": 157, "user_id": 6010103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Kniu6vzIoug/AAAAAAAAAAI/AAAAAAAAAI0/XZIAzGnidyk/photo.jpg?sz=128", "display_name": "Peter Veselinovi\u0107", "link": "https://stackoverflow.com/users/6010103/peter-veselinovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1457044014, "post_id": 35763142, "comment_id": 59239983, "body": "Thanks.  I&#39;ve updated the answer to reflect your usage.  I&#39;m not an expert in this but I think your question could be useful for future readers as a canonical &quot;how do I connect go to CUDA&quot; type question."}], "tags": [], "owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "is_accepted": true, "score": 4, "last_activity_date": 1457043991, "last_edit_date": 1457043991, "creation_date": 1456978885, "answer_id": 35763142, "question_id": 35758750, "link": "https://stackoverflow.com/questions/35758750/golang-calling-cuda-library/35763142#35763142", "title": "Golang calling CUDA library", "body": "<p>It appears, at least in this case, that  <a href=\"https://golang.org/cmd/cgo/#hdr-Go_references_to_C\" rel=\"nofollow\">the go import of <code>C</code> is expecting the function to be provided with C style linkage</a>.</p>\n\n<p>CUDA (i.e. nvcc) mainly follows C++ patterns and provides by default C++ style linkage (including function name mangling, etc.)  </p>\n\n<p>It's possible to force a section of code to be provided externally using C rather than C++ style linkage using <code>extern \"C\" {...code...}</code>.   This is a C++ language feature and not specific to CUDA or nvcc.</p>\n\n<p>Therefore it appears the problem can be solved via the following modification to the test.cu:</p>\n\n<pre><code>extern \"C\" { int test_add(void) { ... code ... }; }\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 6010103, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Kniu6vzIoug/AAAAAAAAAAI/AAAAAAAAAI0/XZIAzGnidyk/photo.jpg?sz=128", "display_name": "Peter Veselinovi\u0107", "link": "https://stackoverflow.com/users/6010103/peter-veselinovi%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4376, "favorite_count": 2, "accepted_answer_id": 35763142, "answer_count": 1, "score": 10, "last_activity_date": 1457043991, "creation_date": 1456955252, "last_edit_date": 1456955402, "question_id": 35758750, "link": "https://stackoverflow.com/questions/35758750/golang-calling-cuda-library", "title": "Golang calling CUDA library", "body": "<p>I am trying to call a CUDA function from my Go code.\nI have the following three files.</p>\n\n<p>test.h:</p>\n\n<pre><code>int test_add(void);\n</code></pre>\n\n<p>test.cu:</p>\n\n<pre><code>__global__ void add(int *a, int *b, int *c){\n       *c = *a + *b;\n}\n\nint test_add(void) {\n       int a, b, c; // host copies of a, b, c\n       int *d_a, *d_b, *d_c; // device copies of a, b, c\n       int size = sizeof(int);\n       // Allocate space for device copies of a, b, c\n       cudaMalloc((void **)&amp;d_a, size);\n       cudaMalloc((void **)&amp;d_b, size);\n       cudaMalloc((void **)&amp;d_c, size);\n      // Setup input values\n      a = 2;\n      b = 7;\n\n      // Copy inputs to device\n      cudaMemcpy(d_a, &amp;a, size, cudaMemcpyHostToDevice);\n      cudaMemcpy(d_b, &amp;b, size, cudaMemcpyHostToDevice);\n      // Launch add() kernel on GPU\n     add&lt;&lt;&lt;1,1&gt;&gt;&gt;(d_a, d_b, d_c);\n     // Copy result back to host\n     cudaMemcpy(&amp;c, d_c, size, cudaMemcpyDeviceToHost);\n     // Cleanup\n     cudaFree(d_a); cudaFree(d_b); cudaFree(d_c);\n    return 0;\n}\n</code></pre>\n\n<p>test.go:</p>\n\n<pre><code>package main\n\nimport \"fmt\"\n\n//#cgo CFLAGS: -I.\n//#cgo LDFLAGS: -L. -ltest\n//#cgo LDFLAGS: -lcudart\n//#include &lt;test.h&gt;\nimport \"C\"\n\n\nfunc main() {\n     fmt.Printf(\"Invoking cuda library...\\n\")\n     fmt.Println(\"Done \", C.test_add())\n}\n</code></pre>\n\n<p>I am compiling CUDA code with:</p>\n\n<pre><code>nvcc -m64 -arch=sm_20 -o libtest.so --shared -Xcompiler -fPIC test.cu\n</code></pre>\n\n<p>All three files - test.h, test.cu and test.go are in the same directory.\nThe error I am getting when I try to build with go is \"undefined reference to `test_add'\".</p>\n\n<p>I have very little experience with C/C++ and am a total novice in CUDA.</p>\n\n<p>I've been trying to solve my problem for two days now and would be\nvery grateful for any input.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "c++", "windows-store-apps"], "comments": [{"owner": {"reputation": 595, "user_id": 5543175, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/77c8155e884ca29020ca1b8817c45431?s=128&d=identicon&r=PG&f=1", "display_name": "VinnyGuitara", "link": "https://stackoverflow.com/users/5543175/vinnyguitara"}, "edited": false, "score": 1, "creation_date": 1456955123, "post_id": 35758676, "comment_id": 59190844, "body": "I think you should make an attempt to start and do some research online.  Once you have something - post it.  This way we have something to look at and help you with.  Otherwise someone would just be doing it for you :)"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456955484, "post_id": 35758676, "comment_id": 59191045, "body": "<a href=\"http://blogs.msdn.com/b/windowsstore/archive/2012/06/08/listing-your-desktop-app-in-the-store.aspx\" rel=\"nofollow noreferrer\">This post</a> from 2012 talks about the process of submitting desktop apps to the Windows 8 store. All of this may have changed since then, but it&#39;s worth checking."}, {"owner": {"reputation": 116487, "user_id": 80274, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/cdf128a0ee0cf38f0a673dbc82a74449?s=128&d=identicon&r=PG", "display_name": "Scott Chamberlain", "link": "https://stackoverflow.com/users/80274/scott-chamberlain"}, "edited": false, "score": 1, "creation_date": 1456955490, "post_id": 35758676, "comment_id": 59191052, "body": "It&#39;s odd, <a href=\"https://msdn.microsoft.com/en-us/library/windows/apps/mt185506.aspx\" rel=\"nofollow noreferrer\">System.Diagnostics namespaces for UWP apps</a> says &quot;<i>System.Diagnostics and its child namespaces (System.Diagnostics.CodeAnalysis, System.Diagnostics.Contracts, and System.Diagnostics.Tracing) contain types that enable you to interact with system processes, event logs, and <b>performance counters</b>.</i>&quot; (bold mine), but I can&#39;t find anywhere where to get them."}], "answers": [{"tags": [], "owner": {"reputation": 1225, "user_id": 1509124, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/LKJy7.jpg?s=128&g=1", "display_name": "GeralexGR", "link": "https://stackoverflow.com/users/1509124/geralexgr"}, "is_accepted": false, "score": 0, "last_activity_date": 1456955137, "creation_date": 1456955137, "answer_id": 35758725, "question_id": 35758676, "link": "https://stackoverflow.com/questions/35758676/create-a-system-performance-windows-10-app-for-store/35758725#35758725", "title": "Create a System performance Windows 10 App (for store)", "body": "<p>I think that you can not collect the diagnostics you need with uwp apis</p>\n"}], "owner": {"reputation": 11, "user_id": 6010090, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bgYoGqGsK0Y/AAAAAAAAAAI/AAAAAAAAAMM/aauhGFTdHAI/photo.jpg?sz=128", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/6010090/jeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1517190653, "creation_date": 1456954969, "question_id": 35758676, "link": "https://stackoverflow.com/questions/35758676/create-a-system-performance-windows-10-app-for-store", "title": "Create a System performance Windows 10 App (for store)", "body": "<p>I'm tasked with a need to migrate an application I previously created as a Windows service in .NET to an application which can be added to the windows store. (Which I understand must use the UWP format, but please correct me if that's wrong.)</p>\n\n<p>My service collected data about CPU, Memory, Network data and uptime and then could ship it off via a call to my external RESTful API.  </p>\n\n<p>Moving to the UWP format, all of my previous code becomes invalid.  (I don't have access to System.Diagnostics.Performance counter, for instance.)  </p>\n\n<p>I've been looking at all options, including using C++ to get at Native Calls, but that doesn't seem to help.</p>\n\n<p>It dawned on me that the performance tab in task manager is gathering exactly the data I need.  So my root question is, how can I get at this type of data using an application which can be built for the windows store?</p>\n\n<p><a href=\"http://i.stack.imgur.com/dIqHj.png\" rel=\"nofollow\">Sample of the Performance Tab in W10 Task Manager</a></p>\n\n<p>TIA,\nJeremy</p>\n"}, {"tags": ["c++", "string", "linked-list", "reverse", "singly-linked-list"], "comments": [{"owner": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "edited": false, "score": 0, "creation_date": 1456955008, "post_id": 35758656, "comment_id": 59190775, "body": "Why use a linked list? Why even create your own <code>list</code>? Just use <code>crbegin()</code> and <code>crend()</code>."}, {"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "reply_to_user": {"reputation": 671, "user_id": 5298959, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cdb0a2b0364de45e4108bdfa18d44002?s=128&d=identicon&r=PG&f=1", "display_name": "fuzzything44", "link": "https://stackoverflow.com/users/5298959/fuzzything44"}, "edited": false, "score": 0, "creation_date": 1456955150, "post_id": 35758656, "comment_id": 59190860, "body": "Because this is for a class lolol, I mean I would do that. But I need to show I can do it by my self I guess."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1456955850, "post_id": 35758656, "comment_id": 59191248, "body": "Isn&#39;t each node supposed to contain a single character not a string? Otherwise how would the list help you reverse the string?"}, {"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1456955957, "post_id": 35758656, "comment_id": 59191314, "body": "Yea, your right. I will change that."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1456955922, "post_id": 35758822, "comment_id": 59191292, "body": "Dam, ty. this is demoralizing"}, {"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457522392, "post_id": 35758822, "comment_id": 59441096, "body": "nullptr was not declared in this scope error - line 26"}, {"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457522449, "post_id": 35758822, "comment_id": 59441133, "body": "&quot; - line 48 ranged based for loops are not allowd in c++98 - nulptr not declared line 24"}, {"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "reply_to_user": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457544533, "post_id": 35758822, "comment_id": 59457525, "body": "@RED LIGHTER sounds like your compiler is stuck in the last century. Try compiling with support for c++11 at least."}], "tags": [], "owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "is_accepted": false, "score": 1, "last_activity_date": 1456955493, "creation_date": 1456955493, "answer_id": 35758822, "question_id": 35758656, "link": "https://stackoverflow.com/questions/35758656/print-string-backwards-using-linkedlist-c/35758822#35758822", "title": "Print string backwards using linkedlist C+", "body": "<p>Aside from the fact you never create a list or put anything in it...</p>\n\n<p>You test if the list has no nodes in it:</p>\n\n<pre><code>if (head == NULL)\n</code></pre>\n\n<p>This will be true, because it is the first insertion. Then you create one node:</p>\n\n<pre><code>tail = head= new Node(x[0]);\n</code></pre>\n\n<p>Then that's it. Your <code>if</code> block ends there, and skips to the end of the <code>if-else</code> where there are no more statements, just the end brace of the function body. You probably didn't want to use an <code>if-else</code> and just an <code>if</code>.</p>\n\n<pre><code>int i = 0;\nif (head == NULL)\n{\n    tail = head= new Node(x[0]);\n    i = 1;\n}\n</code></pre>\n\n<p>Just make sure you check if the string is longer than one character.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457413132, "post_id": 35759082, "comment_id": 59383489, "body": "I get errros when I compile this with gcc"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457428455, "post_id": 35759082, "comment_id": 59390643, "body": "@REDLIGHTER It seems you did not correctly copies and pasted the code I showed. What errors did you get?"}, {"owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457524041, "post_id": 35759082, "comment_id": 59442367, "body": "nullptr was not declared in this scope error - line 26 \u2013 RED LIGHTER 27 mins ago      \t \t &quot; - line 48 ranged based for loops are not allowd in c++98 - nulptr not declared line 24 \u2013 RED LIGHTER 26 mins ago"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "edited": false, "score": 0, "creation_date": 1457524474, "post_id": 35759082, "comment_id": 59442649, "body": "@REDLIGHTER Try to use NULL instead of nullptr."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1456996544, "last_edit_date": 1456996544, "creation_date": 1456956319, "answer_id": 35759082, "question_id": 35758656, "link": "https://stackoverflow.com/questions/35758656/print-string-backwards-using-linkedlist-c/35759082#35759082", "title": "Print string backwards using linkedlist C+", "body": "<p>In fact you need a stack. You could use standard container <code>std::forward_list</code> to output a string in the reverse order using a list. Or of course you could use the standard container adapter <code>std::stack</code>.</p>\n\n<p>If you need to write the list yourself then the program can look something like the following</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass LinkedList\n{\nprivate:\n    struct Node\n    {\n        char data;\n        Node *next;\n    } *head;\npublic:\n    LinkedList() : head( nullptr ) {}\n    LinkedList( const std::string &amp;s ) : head( nullptr )\n    {\n        for ( char c : s ) push_front( c );\n    }\n    ~LinkedList()\n    {\n        while ( head )\n        {\n            Node *current = head;\n            head = head-&gt;next;\n            delete current;\n        }\n    }        \n    void push_front( char c )\n    {\n        head = new Node { c, head };\n    }        \n    friend std::ostream &amp; operator &lt;&lt;( std::ostream &amp;, const LinkedList &amp; );\n};\n\nstd::ostream &amp; operator &lt;&lt;( std::ostream &amp;os, const LinkedList &amp;lst )\n{\n    for ( LinkedList::Node *current = lst.head; current; current = current-&gt;next )\n    {\n        os &lt;&lt; current-&gt;data;\n    }\n\n    return os;\n}\n\nint main()\n{\n    std::string s( \"Hello World!\" );\n    std::cout &lt;&lt; s &lt;&lt; std::endl;\n\n    LinkedList lst( s );\n    std::cout &lt;&lt; lst &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>Hello World!\n!dlroW olleH\n</code></pre>\n\n<p>You can add your own methods to the list if you want. For example you could add methods like <code>clear</code> or <code>reset</code>.</p>\n\n<p>Here is the same class with added methods <code>front</code> and <code>pop_front</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass LinkedList\n{\nprivate:\n    struct Node\n    {\n        char data;\n        Node *next;\n    } *head;\npublic:\n    LinkedList() : head( nullptr ) {}\n    LinkedList( const std::string &amp;s ) : head( nullptr )\n    {\n        for ( char c : s ) push_front( c );\n    }\n    ~LinkedList()\n    {\n        while ( head )\n        {\n            Node *current = head;\n            head = head-&gt;next;\n            delete current;\n        }\n    }\n    LinkedList( const LinkedList &amp; ) = delete;\n    LinkedList &amp; operator =( const LinkedList &amp; ) = delete;\n    void push_front( char c )\n    {\n        head = new Node { c, head };\n    } \n    bool empty() const\n    {\n        return head == nullptr;\n    }\n    void pop_front()\n    {\n        if ( !empty() )\n        {\n            Node *current = head;\n            head = head-&gt;next;\n            delete current;\n        }\n    }\n    char &amp; front()\n    {\n        return head-&gt;data;\n    }        \n    const char &amp; front() const\n    {\n        return head-&gt;data;\n    }        \n    friend std::ostream &amp; operator &lt;&lt;( std::ostream &amp;, const LinkedList &amp; );\n};\n\nstd::ostream &amp; operator &lt;&lt;( std::ostream &amp;os, const LinkedList &amp;lst )\n{\n    for ( LinkedList::Node *current = lst.head; current; current = current-&gt;next )\n    {\n        os &lt;&lt; current-&gt;data;\n    }\n\n    return os;\n}\n\nint main()\n{\n    std::string s( \"Hello World!\" );\n    std::cout &lt;&lt; s &lt;&lt; std::endl;\n\n    LinkedList lst( s );\n    std::cout &lt;&lt; lst &lt;&lt; std::endl;\n\n    while ( !lst.empty() )\n    {\n        std::cout &lt;&lt; lst.front();\n        lst.pop_front();\n    }\n    std::cout &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>Hello World!\n!dlroW olleH\n!dlroW olleH\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5408091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f7bdfca8b4e434b6211ebebcbc677a?s=128&d=identicon&r=PG&f=1", "display_name": "RED LIGHTER", "link": "https://stackoverflow.com/users/5408091/red-lighter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1456996630, "creation_date": 1456954876, "last_edit_date": 1456996630, "question_id": 35758656, "link": "https://stackoverflow.com/questions/35758656/print-string-backwards-using-linkedlist-c", "title": "Print string backwards using linkedlist C+", "body": "<p>OK, well I'm ready to get schooled and insulted. I must make a simple program that accepts a string and prints it backewards using linked list. Below is my implementation, I tried testing it by printing the first node, but nothing appears. Why is this so?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstddef&gt;\n#include &lt;string&gt;\n#include &lt;stdio.h&gt;\n#include &lt;cstring&gt;\n#include &lt;sstream&gt;\n\nusing std::cout;\nusing std::endl;\nusing std::string;\n\nvoid addNode(char x);\n\nint main(int argc, const char *argv[]){\n    string text;\n    std::cout&lt;&lt;\"Insert texst to see it backwards: \";\n    std::cin &gt;&gt; text;\n\n    //convert string to char array\n    char ctext[1024];\n    strcpy(ctext, text.c_str());\n\n}\nclass Node{\n      friend class LinkedList;\n    private:\n        string data;\n        Node *pnext;\n\n    public:\n\n        //general constructor\n        Node(void):pnext(NULL)\n        {}\n\n        //constructor with data value\n        Node(string val):data(val),pnext(NULL)\n        {}\n        //constructor with data and next values\n        Node(string val, Node* next):data(val), pnext(next)\n        {}\n\n        //Getters\n        string getValue(void){\n            return data;\n        }\n\n        Node* getNext(void){\n            return pnext;\n        }\n\n};\n\nclass LinkedList\n{\n    private:\n\n        Node *head;\n        Node *tail;\n\n    public:\n        LinkedList(void); //general constructor\n        LinkedList(string val);//constructor with value of a list node\n\n        void addNode(char* x);\n};\n\nLinkedList::LinkedList(){\n    head = tail = NULL;\n}\n\nLinkedList::LinkedList(string val){\n    head = new Node(val);\n    tail = head;\n}\n\nvoid LinkedList::addNode(char* x){\n\n    if (head == NULL){\n        tail = head= new Node(x[0]);\n    }\n    else{\n    int i = 0;\n    while (x[i]!=NULL){\n        //creat new node with value\n        Node* tmp = new Node(x[i]);\n        //tmp node points to head\n        tmp-&gt;pnext = head;\n        //tmp becomes new head\n        head=tmp;\n        i++;\n    }\n    Node *p = head;\n    std::cout&lt;&lt;p-&gt;data;\n\n\n\n}\n}\n</code></pre>\n"}, {"tags": ["c++", "static", "extern"], "answers": [{"comments": [{"owner": {"reputation": 457, "user_id": 5887576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Wmvz.jpg?s=128&g=1", "display_name": "chandr3sh", "link": "https://stackoverflow.com/users/5887576/chandr3sh"}, "edited": false, "score": 0, "creation_date": 1456961979, "post_id": 35758629, "comment_id": 59193977, "body": "Error: &#39;foo::val&#39; : &#39;static&#39; storage-class specifier illegal on members."}, {"owner": {"reputation": 62852, "user_id": 1737, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9152c282382ec3b1f0cd18dc8ba7a5ab?s=128&d=identicon&r=PG", "display_name": "Roddy", "link": "https://stackoverflow.com/users/1737/roddy"}, "reply_to_user": {"reputation": 457, "user_id": 5887576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Wmvz.jpg?s=128&g=1", "display_name": "chandr3sh", "link": "https://stackoverflow.com/users/5887576/chandr3sh"}, "edited": false, "score": 0, "creation_date": 1456962691, "post_id": 35758629, "comment_id": 59194274, "body": "@kumarchandresh oops. Yes, you don&#39;t need the &#39;static&#39; in the definition."}], "tags": [], "owner": {"reputation": 62852, "user_id": 1737, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9152c282382ec3b1f0cd18dc8ba7a5ab?s=128&d=identicon&r=PG", "display_name": "Roddy", "link": "https://stackoverflow.com/users/1737/roddy"}, "is_accepted": true, "score": 3, "last_activity_date": 1456962664, "last_edit_date": 1456962664, "creation_date": 1456954773, "answer_id": 35758629, "question_id": 35758605, "link": "https://stackoverflow.com/questions/35758605/hiding-visibility-of-variables-in-a-c-source-file/35758629#35758629", "title": "Hiding visibility of variables in a c++ source file", "body": "<p>in foo.cpp add:-</p>\n\n<pre><code> int foo::val;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 457, "user_id": 5887576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Wmvz.jpg?s=128&g=1", "display_name": "chandr3sh", "link": "https://stackoverflow.com/users/5887576/chandr3sh"}, "edited": false, "score": 0, "creation_date": 1456962179, "post_id": 35758641, "comment_id": 59194060, "body": "Error: &#39;foo::val&#39; : &#39;static&#39; storage-class specifier illegal on members."}], "tags": [], "owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "is_accepted": false, "score": 1, "last_activity_date": 1456986773, "last_edit_date": 1456986773, "creation_date": 1456954804, "answer_id": 35758641, "question_id": 35758605, "link": "https://stackoverflow.com/questions/35758605/hiding-visibility-of-variables-in-a-c-source-file/35758641#35758641", "title": "Hiding visibility of variables in a c++ source file", "body": "<p>Put in the .cpp file</p>\n\n<pre><code>int foo:val = 5;\n</code></pre>\n\n<p>to give it the space it requires.</p>\n"}, {"comments": [{"owner": {"reputation": 457, "user_id": 5887576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Wmvz.jpg?s=128&g=1", "display_name": "chandr3sh", "link": "https://stackoverflow.com/users/5887576/chandr3sh"}, "edited": false, "score": 0, "creation_date": 1456962110, "post_id": 35758797, "comment_id": 59194027, "body": "I&#39;d rather have my get() function inline... Please help!"}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 1, "last_activity_date": 1456955422, "creation_date": 1456955422, "answer_id": 35758797, "question_id": 35758605, "link": "https://stackoverflow.com/questions/35758605/hiding-visibility-of-variables-in-a-c-source-file/35758797#35758797", "title": "Hiding visibility of variables in a c++ source file", "body": "<p>You need class member or free variable? If you want free variable, just remove variable declaration from header file, remove definition of <code>get()</code> (leave the declaration) and implement <code>get()</code> in .cpp file.</p>\n"}], "owner": {"reputation": 457, "user_id": 5887576, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Wmvz.jpg?s=128&g=1", "display_name": "chandr3sh", "link": "https://stackoverflow.com/users/5887576/chandr3sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 35758629, "answer_count": 3, "score": 0, "last_activity_date": 1456986773, "creation_date": 1456954664, "question_id": 35758605, "link": "https://stackoverflow.com/questions/35758605/hiding-visibility-of-variables-in-a-c-source-file", "title": "Hiding visibility of variables in a c++ source file", "body": "<p>I am using cpp file to initialize some data</p>\n\n<pre><code>// foo.cpp\n\n#include \"foo.h\"\n\nint val = 5;\n</code></pre>\n\n<p>&amp; using header to share it with other files in the project.</p>\n\n<pre><code>// foo.h\n\nextern int val;\n\ninline int get() {\n    return val;\n}\n</code></pre>\n\n<p>But I don't want the variable <em>val</em> to be accessible in other files of the project. I want to access the value through <em>get()</em> function. Is there any way to achieve this?</p>\n\n<p>I've tried another approach...</p>\n\n<pre><code>// foo.h\n\nclass foo {\n\nprivate:\n\n    static int val;\n\npublic:\n\n    static int get() {\n        return val;\n    }\n\n    static void set();\n}\n</code></pre>\n\n<p>&amp;...</p>\n\n<pre><code>// foo.cpp\n\nvoid foo::set() {\n    val = 5;\n}\n</code></pre>\n\n<p>but it too doesn't work. Getting linker error: <em>unresolved external symbol \"private: static int foo::val\"</em>.</p>\n"}, {"tags": ["c++", "constructor", "destructor", "friend"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456955233, "post_id": 35758595, "comment_id": 59190902, "body": "What are you trying to do? What is the purpose of the factory?"}, {"owner": {"reputation": 3, "user_id": 6010110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70490bf46b4d3365ed0f466b084b6b95?s=128&d=identicon&r=PG&f=1", "display_name": "bjoska", "link": "https://stackoverflow.com/users/6010110/bjoska"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456955297, "post_id": 35758595, "comment_id": 59190937, "body": "Just to create A. But I do not want the user let the following: A a;"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456955494, "post_id": 35758595, "comment_id": 59191055, "body": "Why? Why user shouldn&#39;t be able to do <code>A a</code>? And second question - why do you need a separate class for creation?"}, {"owner": {"reputation": 3, "user_id": 6010110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70490bf46b4d3365ed0f466b084b6b95?s=128&d=identicon&r=PG&f=1", "display_name": "bjoska", "link": "https://stackoverflow.com/users/6010110/bjoska"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456955928, "post_id": 35758595, "comment_id": 59191296, "body": "Ok so to be more precise, class B will do other things with A. For example store it in an inner list, etc. An instance of A will  be only valid if created by B, otherwise it will be useless."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957465, "post_id": 35758595, "comment_id": 59192106, "body": "In this case, you have to live with your friend. You can not alter class definition between your header and compiled version. No one guarantees you that binary representation for both will be the same."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957703, "post_id": 35758595, "comment_id": 59192215, "body": "It is not about when it&#39;s needed. It is about the fact that the definition of your class during library compilation should match verbatim definition of your class during client code compilation. If you alter your header file, this is no longer the case. Why do you even consider this?"}, {"owner": {"reputation": 3, "user_id": 6010110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70490bf46b4d3365ed0f466b084b6b95?s=128&d=identicon&r=PG&f=1", "display_name": "bjoska", "link": "https://stackoverflow.com/users/6010110/bjoska"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456958286, "post_id": 35758595, "comment_id": 59192485, "body": "So I thought it is only needed at compile time but it seems i was wrong :)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456961095, "post_id": 35758595, "comment_id": 59193648, "body": "The C++ Standard doesn&#39;t permit what you are describing.  But it may or may not work in practice.   There&#39;s no harm in leaving the <code>friend class B;</code> in the header you publish"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6010110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70490bf46b4d3365ed0f466b084b6b95?s=128&d=identicon&r=PG&f=1", "display_name": "bjoska", "link": "https://stackoverflow.com/users/6010110/bjoska"}, "edited": false, "score": 0, "creation_date": 1456956729, "post_id": 35758967, "comment_id": 59191694, "body": "Well, i would make it private so the code itself won&#39;t compile. Of course the user can change it to public, but if i start using a library, i won&#39;t change the given headers for a reason :)"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456957402, "post_id": 35758967, "comment_id": 59192066, "body": "Wrong. You can not alter class definition."}, {"owner": {"reputation": 3997, "user_id": 3193464, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2cea5a766d750121c7c89390262ee88e?s=128&d=identicon&r=PG&f=1", "display_name": "Anedar", "link": "https://stackoverflow.com/users/3193464/anedar"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456959740, "post_id": 35758967, "comment_id": 59193134, "body": "@SergeyA: challenge accepted, i tried it. I honestly didn&#39;t expect that much freedom. Gonna take a look at the standard now if i can find anything...."}], "tags": [], "owner": {"reputation": 3997, "user_id": 3193464, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/2cea5a766d750121c7c89390262ee88e?s=128&d=identicon&r=PG&f=1", "display_name": "Anedar", "link": "https://stackoverflow.com/users/3193464/anedar"}, "is_accepted": true, "score": -1, "last_activity_date": 1456959657, "last_edit_date": 1456959657, "creation_date": 1456955936, "answer_id": 35758967, "question_id": 35758595, "link": "https://stackoverflow.com/questions/35758595/c-library-making-hiding-destructor-constructor-without-friend-in-header/35758967#35758967", "title": "C++ library making, hiding destructor/constructor without friend in header", "body": "<p>If you compile it with the friend line and then remove the friend line, your user can always add it again. Your user might also be able to change the function from private to public.</p>\n\n<p>If the implementation of <code>A::A()</code> is exported by your library is a different question and under windows determined by the <code>declspec(dllexport/import)</code> attribute, so independent from private/public it might be available to the user or not. From what i've seen so far, public, private and friend declarations have no impact on the compiled dll and using member-pointers you can even get access to private members without compiling a dll. However no guarantee on this point.</p>\n\n<p>The real question is: Why would you want to do this?<br>\nIf you state in your header that this constructor is private and only accessibly by <code>B</code>, provide a factory function in <code>B</code> and (hopefully) state in your documentation that the user should use this factory, then you have done everything reasonable to keep the user from using this class. If he still does, it is not your fault anymore.</p>\n\n<p><strong>Edit:</strong> (challenge accepted)</p>\n\n<p>I just compiled the following .dll with MSVC 2015:</p>\n\n<pre><code>//class.cpp\n#include \"class.h\"\n\nvoid bar(C &amp; c)\n{\n    c.privatePrint();\n}\n\n//class.h\n#pragma once\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass C {\nprivate:\n    std::string str;\n    C() :str(\"foo\") {}\n\n    void print() {\n        std::cout &lt;&lt; str &lt;&lt; std::endl;\n    }\n\n    void privatePrint() {\n        std::cout &lt;&lt; \"private \" &lt;&lt; str &lt;&lt; std::endl;\n    }\n\n    friend _declspec(dllexport) void bar(C&amp; c);\n};\n\n_declspec(dllexport) void bar(C&amp; c);\n</code></pre>\n\n<p>And loaded it in the following .exe:</p>\n\n<pre><code>//main.cpp\n#include &lt;iostream&gt;\n#include \"class.h\"\n#pragma comment(lib,\"../Debug/lib.lib\")\n\nint main(){\n    C c;\n\n    bar(c);\n    c.print();\n}\n\n//class.h\nclass C {\npublic:\n    std::string str;\n    C() :str(\"foo\") {}\n\n    void print() {\n        std::cout &lt;&lt; str &lt;&lt; std::endl;\n    }\n};\n\n_declspec(dllimport) void bar(C&amp; c);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>private foo\nfoo\n</code></pre>\n\n<p>So what we learn is: The constructor here is defined inside the class definition, so even without _declspec(dllexport/import) the executable has access to it. We in fact <strong>can</strong> change private to public and have access to the constructor. Same is true for the member-function <code>print()</code>.<br>\nAnd even though i not only omitted the fried declaration for <code>bar()</code> in the executables header <strong>but also the complete function definition used by <code>bar()</code></strong> it is no problem for bar to print the string - simply because the code for <code>bar()</code> is already compiled in the .dll.</p>\n\n<p>So obviously a class is totally defined by its member-variables and their layout, neither functions nor access specifiers need to be the same. <strong>However i don't state that this is compliant to the Standard, guaranteed to work or should be done at all</strong></p>\n"}], "owner": {"reputation": 3, "user_id": 6010110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70490bf46b4d3365ed0f466b084b6b95?s=128&d=identicon&r=PG&f=1", "display_name": "bjoska", "link": "https://stackoverflow.com/users/6010110/bjoska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 35758967, "answer_count": 1, "score": 0, "last_activity_date": 1456959657, "creation_date": 1456954630, "question_id": 35758595, "link": "https://stackoverflow.com/questions/35758595/c-library-making-hiding-destructor-constructor-without-friend-in-header", "title": "C++ library making, hiding destructor/constructor without friend in header", "body": "<p>I have to make a shared library and now I'm facing with the following problem. (MSVC2015). I want to hide constructor/destructor like in class A, and I have a \"factory\" class like B.</p>\n\n<pre><code>class A {\n     public:\n     private:\n         A() {};\n         ~A() {};\n     friend class B;\n};\n\nclass B {\n   public:\n   B() {};\n   ~B() {};\n    A * Create() { return new A(); };\n};\n</code></pre>\n\n<p>So I compile these two classes to create a .lib and a .dll. My question is, that if i give the user the header file which contains class A's definition plus the .lib and .dll but remove the line friend class B from this header then will it be a valid solution? In other words: is \"friend class\" is needed in only compile time or is it needed in runtime too?</p>\n\n<p>Thank you for your help!</p>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 1305, "user_id": 4070984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf1830194e35e5efadc5a078c76b217?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4070984/ben"}, "edited": false, "score": 7, "creation_date": 1456954683, "post_id": 35758571, "comment_id": 59190585, "body": "You&#39;ve declared e as an int, and assigned it the value 0.3 (3/10)(which will be cast down to 0) rather than 1/3"}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 5, "creation_date": 1456954687, "post_id": 35758571, "comment_id": 59190591, "body": "<code>.3</code> does not equal <code>1.0&#47;3</code>."}, {"owner": {"reputation": 112, "user_id": 4807513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AZWj1.jpg?s=128&g=1", "display_name": "Md. Shohan Hossain", "link": "https://stackoverflow.com/users/4807513/md-shohan-hossain"}, "edited": false, "score": 1, "creation_date": 1456954765, "post_id": 35758571, "comment_id": 59190632, "body": "<a href=\"http://stackoverflow.com/questions/18103769/how-can-i-obtain-the-cube-root-in-c\" title=\"how can i obtain the cube root in c\">stackoverflow.com/questions/18103769/&hellip;</a>"}, {"owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "edited": false, "score": 0, "creation_date": 1456955073, "post_id": 35758571, "comment_id": 59190822, "body": "This is not a dup.  OP knows to use the <code>pow</code> function.  He&#39;s just having trouble figuring out how."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "edited": false, "score": 0, "creation_date": 1456955185, "post_id": 35758571, "comment_id": 59190881, "body": "Actually even <code>pow(k, 1.0 &#47; 3.0)</code> wouldn&#39;t calculate a cube root. Close though."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 1305, "user_id": 4070984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/baf1830194e35e5efadc5a078c76b217?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4070984/ben"}, "edited": false, "score": 1, "creation_date": 1456957867, "post_id": 35758571, "comment_id": 59192300, "body": "@Ben - there is no cast. The value is <b>converted</b> to 0."}, {"owner": {"reputation": 19889, "user_id": 906839, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5bce6d276ec5c9b7b97804d0add55084?s=128&d=identicon&r=PG", "display_name": "Brett Hale", "link": "https://stackoverflow.com/users/906839/brett-hale"}, "edited": false, "score": 2, "creation_date": 1456966816, "post_id": 35758571, "comment_id": 59195553, "body": "Issues of (1/3) aside, why not just use the <code>cbrt</code> function?"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1575129383, "post_id": 35758571, "comment_id": 104465544, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4269069/finding-cube-root-in-c\">finding cube root in C++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 158911, "user_id": 1687119, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f9c3036c1979d65847da3bdc271bb5b9?s=128&d=identicon&r=PG", "display_name": "dbush", "link": "https://stackoverflow.com/users/1687119/dbush"}, "is_accepted": false, "score": 5, "last_activity_date": 1456955212, "creation_date": 1456955212, "answer_id": 35758740, "question_id": 35758571, "link": "https://stackoverflow.com/questions/35758571/how-to-calculate-3rd-root-of-a-number-in-c/35758740#35758740", "title": "How to calculate 3rd root of a number in c++", "body": "<p>Two issues:</p>\n\n<ul>\n<li>You declare <code>e</code> as an <code>int</code> but try to store a <code>double</code> value in it, so it gets truncated.  You need to declare <code>e</code> as <code>double</code> to properly store the value.</li>\n<li>The value you're using for <code>e</code> is not correct.  <code>0.3</code> is not the same as <code>1.0/3.0</code>, so your results will be off.  Use <code>1.0/3.0</code> for this value instead.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1880, "user_id": 4098951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a881be644826f456f06c71635f849632?s=128&d=identicon&r=PG&f=1", "display_name": "Euan Smith", "link": "https://stackoverflow.com/users/4098951/euan-smith"}, "is_accepted": false, "score": 2, "last_activity_date": 1456955398, "creation_date": 1456955398, "answer_id": 35758790, "question_id": 35758571, "link": "https://stackoverflow.com/questions/35758571/how-to-calculate-3rd-root-of-a-number-in-c/35758790#35758790", "title": "How to calculate 3rd root of a number in c++", "body": "<p>You've declared the exponent as an integer so it will always be assigned as a zero.  declare it as a double.</p>\n\n<p>inside your main try</p>\n\n<pre><code>double e = 1.0/3.0;\ndouble k;\ncout &lt;&lt; \"Enter k:\" &lt;&lt; endl;\ncin &gt;&gt; k;\nk = pow(k, e);\ncout &lt;&lt; \"The result of k^1/3 \" &lt;&lt; k &lt;&lt; endl;\nreturn 0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1136, "user_id": 2999921, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0564f700a2fe14bc0aa8152a5b97925?s=128&d=identicon&r=PG", "display_name": "cwschmidt", "link": "https://stackoverflow.com/users/2999921/cwschmidt"}, "is_accepted": false, "score": 2, "last_activity_date": 1456955620, "creation_date": 1456955620, "answer_id": 35758863, "question_id": 35758571, "link": "https://stackoverflow.com/questions/35758571/how-to-calculate-3rd-root-of-a-number-in-c/35758863#35758863", "title": "How to calculate 3rd root of a number in c++", "body": "<p>You have to use double here:</p>\n\n<pre><code>double e = 1./3.;\n</code></pre>\n\n<p>instead of int.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\nusing namespace std;\n\nint main() {\n    double e = 1./3.; // &lt;- this line is changed!\n    double k;\n    cout &lt;&lt; \"Enter k:\" &lt;&lt; endl;\n    cin &gt;&gt; k;\n    k = pow(k, e);\n    cout &lt;&lt; \"The result of k^1/3 \" &lt;&lt;k &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 178, "user_id": 5483301, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/RmIZk.jpg?s=128&g=1", "display_name": "Isan Rivkin", "link": "https://stackoverflow.com/users/5483301/isan-rivkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1457027483, "creation_date": 1456954547, "last_edit_date": 1457027483, "question_id": 35758571, "link": "https://stackoverflow.com/questions/35758571/how-to-calculate-3rd-root-of-a-number-in-c", "title": "How to calculate 3rd root of a number in c++", "body": "<p>I am trying to calculate the 3rd root of a number.</p>\n\n<p>For example if \n<strong>n=8->2;\nif n=27->3;</strong></p>\n\n<p>The pow function works well on square root (x^0.5) but it does not work on 3rd root (x^1/3), why is that?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n\nusing namespace std;\n\nint main() {\n    int e = 0.3;\n    double k;\n    cout &lt;&lt; \"Enter k:\" &lt;&lt; endl;\n    cin &gt;&gt; k;\n    k = pow(k, e);\n    cout &lt;&lt; \"The result of k^1/3 \" &lt;&lt; k &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "qt", "plot", "3d"], "answers": [{"tags": [], "owner": {"reputation": 3696, "user_id": 1104179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZY6X.gif?s=128&g=1", "display_name": "Rethunk", "link": "https://stackoverflow.com/users/1104179/rethunk"}, "is_accepted": false, "score": 0, "last_activity_date": 1456981444, "creation_date": 1456981444, "answer_id": 35763603, "question_id": 35758555, "link": "https://stackoverflow.com/questions/35758555/tools-for-plotting-qvector3d-data/35763603#35763603", "title": "Tools for plotting QVector3D data?", "body": "<p>This might help, though I haven't used it:</p>\n\n<p><a href=\"http://doc.qt.io/QtDataVisualization/\" rel=\"nofollow\">http://doc.qt.io/QtDataVisualization/</a></p>\n\n<p>Spend a little time looking into <strong>OpenGL</strong>. To display OpenGL scenes in Qt you would use QGLWidget (for Qt 4.x) or QOpenGLWidget (for Qt 5.x). OpenGL allows you to write graphics that run on a GPU card, meaning you can tap into the same horsepower used for 3D video games. Given time and inclination, you can build up a good 3D graphics library.</p>\n\n<p><a href=\"https://www.opengl.org/\" rel=\"nofollow\">https://www.opengl.org/</a></p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qopenglwidget.html\" rel=\"nofollow\">http://doc.qt.io/qt-5/qopenglwidget.html</a></p>\n\n<p>The Qt tutorials can help, but you'll also want to read other OpenGL tutorials. Here are some tutorials targeting older versions of Qt:</p>\n\n<p><a href=\"ftp://ftp.informatik.hu-berlin.de/pub1/Mirrors/ftp.troll.no/QT/pub/developerguides/qtopengltutorial/OpenGLTutorial.pdf\" rel=\"nofollow\">ftp://ftp.informatik.hu-berlin.de/pub1/Mirrors/ftp.troll.no/QT/pub/developerguides/qtopengltutorial/OpenGLTutorial.pdf</a></p>\n\n<p><a href=\"http://www.decom.ufop.br/sibgrapi2012/eproceedings/tutorials/t3-survey_paper.pdf\" rel=\"nofollow\">http://www.decom.ufop.br/sibgrapi2012/eproceedings/tutorials/t3-survey_paper.pdf</a></p>\n\n<p>Tutorials tend to start with \"immediate mode\" examples, meaning the CPU is continually involved with updating data and writing that data to the GPU. As soon as you grasp the basics you'll want to implement \"retained mode\" code, meaning (very loosely) that the GPU manages the data and the need for CPU resources is minimized.</p>\n\n<p>All that said, getting into OpenGL is a commitment. If you want the user to be able to change the viewpoint of the chart, or zoom in/out, or mouse over a plot to check individual values, etc., then it will take some time to implement. For a standard that's so widely use it's odd that the documentation and available textbooks aren't better--don't expect to find the OpenGL textbook equivalent of Kernighan &amp; Ritchie or the Perl camel book.</p>\n\n<p>There may be some Qt 3D graphing project somewhere that enjoys active development, and with luck maybe some other SO user will know about one. </p>\n"}], "owner": {"reputation": 11, "user_id": 6010141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6ff99d967f9a7d02d5f5bef051523f8?s=128&d=identicon&r=PG&f=1", "display_name": "mar77", "link": "https://stackoverflow.com/users/6010141/mar77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456981444, "creation_date": 1456954513, "question_id": 35758555, "link": "https://stackoverflow.com/questions/35758555/tools-for-plotting-qvector3d-data", "title": "Tools for plotting QVector3D data?", "body": "<p>I have a series of points (x,y,z) that I would like to plot as a vector in a 3D plane. <a href=\"http://i.stack.imgur.com/xNn68.png\" rel=\"nofollow\">Something like this.</a></p>\n\n<p>I am successfully using QCustomPlot elsewhere, but the documentation says it cannot be used for 3D plots. Googling turned up QwtPlot3D, but it hasn't been maintained since 2007, as far as I can tell, and I don't want to run into any problems since I'm using Qt5. I was also looking at QtCharts but can't seem to find any example of plotting x,y,z data points.</p>\n\n<p>Does anyone have tips for including a 3D graph in my C++/Qt application? Is there a tool that would work better with Python with Qt, rather than C++? Or another technology entirely? This graph will be part of a larger UI.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 17580, "user_id": 493106, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/48b0c7ab491edf2f69e63773181a22b5?s=128&d=identicon&r=PG", "display_name": "xaxxon", "link": "https://stackoverflow.com/users/493106/xaxxon"}, "edited": false, "score": 0, "creation_date": 1456954392, "post_id": 35758467, "comment_id": 59190415, "body": "inString[i] is a character, not a string.   You should try making inStack a vector of char&#39;s if that&#39;s what you want to do.  Also, you should post the full compiler message including line numbers."}, {"owner": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 0, "creation_date": 1456954450, "post_id": 35758467, "comment_id": 59190447, "body": "You don&#39;t understand why you can&#39;t convert a <code>char</code> to a <code>const char *</code>? Do you understand why <code>&#39;A&#39;</code> is never going to be converted to, for example, <code>0x40000144</code>? Your containers are set up for you to add <code>string</code> elements to them. Perhaps you meant to have them accept <code>char</code> types instead?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1456954599, "post_id": 35758467, "comment_id": 59190532, "body": "Your stack should hold characters, not strings. However, the error message doesn&#39;t make sense. I am sure it is from the different programm."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 5989964, "user_type": "registered", "profile_image": "https://graph.facebook.com/1046793515381038/picture?type=large", "display_name": "Virgil Litan", "link": "https://stackoverflow.com/users/5989964/virgil-litan"}, "is_accepted": false, "score": 0, "last_activity_date": 1456954634, "creation_date": 1456954634, "answer_id": 35758597, "question_id": 35758467, "link": "https://stackoverflow.com/questions/35758467/error-invalid-conversion-from-char-to-const-char-in-palindrome-program/35758597#35758597", "title": "error: invalid conversion from &#39;char&#39; to &#39;const char*&#39; in palindrome program", "body": "<p>You forgot to assign to inLength the actual length of the string and get a outside i gets very big, bigger than it should be and you probably get a segmentation fault.</p>\n\n<p>Try after reading the string to assign the value properly.</p>\n\n<pre><code>inLength = inString.size();\n</code></pre>\n\n<p>I hope this helps you.</p>\n"}, {"tags": [], "owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "is_accepted": true, "score": 1, "last_activity_date": 1456956181, "creation_date": 1456956181, "answer_id": 35759050, "question_id": 35758467, "link": "https://stackoverflow.com/questions/35758467/error-invalid-conversion-from-char-to-const-char-in-palindrome-program/35759050#35759050", "title": "error: invalid conversion from &#39;char&#39; to &#39;const char*&#39; in palindrome program", "body": "<p>There are three main errors in your code.</p>\n\n<p>You are pushing characters onto a stack and a queue that are defined to hold strings.  The string constructor cannot implicitly convert from char to string, since there is no constructor that takes a char.  You probably meant to define them as:</p>\n\n<pre><code>stack&lt;char&gt; inStack;\nqueue&lt;char&gt; inQueue;\n</code></pre>\n\n<p>You didn't set <code>inLength</code>; I suggest adding something like</p>\n\n<pre><code>inLength = inString.size();\n</code></pre>\n\n<p>after your <code>if (inString.size() > 0) {</code> to fix that.</p>\n\n<p>Most important, you use <code>i &lt;= inLength</code> (in your for loop condition), which won't work; you should use <code>&lt;</code>, since <code>push</code>ing <code>inString[inString.size()]</code> is actually pushing one character beyond what you enter, which will always result in <code>isPalindrome == false</code> since your stack and queue will have an invalid (random garbage) character at the corresponding top and front.</p>\n\n<p>These three changes appear to be enough to fix your project.</p>\n\n<p>A simpler solution to give you an example of how C++ iterators can be used to reduce the amount of code you have to write for these kinds of things:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    vector&lt;char&gt; left, right; // left-to-right and right-to-left lists\n\n    cout&lt;&lt;\"Enter a word to see if it is a palindrome: \";\n    string inString; //user input\n    cin&gt;&gt;inString;\n\n    if(!inString.empty()){\n        // add characters left to right\n        left.insert(left.end(), inString.begin(), inString.end());\n        // add characters in reverse order, right to left\n        right.insert(right.end(), inString.rbegin(), inString.rend());\n        // compare the two vectors\n        if(left == right)\n            cout&lt;&lt;\"It is indeed a palindrome.\"&lt;&lt;endl;\n        else\n            cout&lt;&lt;\"It is not a palindrome.\"&lt;&lt;endl;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5971598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd40dd3cefe475149b73bcd8cb8539a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kronaka", "link": "https://stackoverflow.com/users/5971598/kronaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1211, "favorite_count": 0, "accepted_answer_id": 35759050, "answer_count": 2, "score": -2, "last_activity_date": 1456956181, "creation_date": 1456954208, "question_id": 35758467, "link": "https://stackoverflow.com/questions/35758467/error-invalid-conversion-from-char-to-const-char-in-palindrome-program", "title": "error: invalid conversion from &#39;char&#39; to &#39;const char*&#39; in palindrome program", "body": "<p>This code is an attempt to test whether or not a string is a palindrome. It reads a string of characters, pushing each character onto a stack as it is read and simultaneously adding it to a queue. Then, it uses basic stack and queue operations to determine if the string is a palindrome.</p>\n\n<p>The program blows up with the aforementioned error(s) when it hits:</p>\n\n<pre><code>inStack.push(inString[i]);\ninQueue.push(inString[i]);\n</code></pre>\n\n<p>and I don't understand why, or how to fix it. The research I have done looking into this error as it applies to my case hasn't been fruitful. I'm fairly new to c++ so forgive me if I'm overlooking something stupid.</p>\n\n<p>The code is as follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stack&gt;\n#include &lt;queue&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\n    stack &lt;string&gt; inStack; \n    queue &lt;string&gt; inQueue;\n    string inString; //user input\n    int inLength; //loop counter variable\n    bool isPalindrome(false);\n\n    cout&lt;&lt;\"Enter a word to see if it is a palindrome: \";\n    cin&gt;&gt;inString;\n\n    if (inString.size() &gt; 0)\n    {\n        for (int i = 0; i &lt;= inLength; i++)\n        { \n            inStack.push(inString[i]); //put string chars onto stack\n            inQueue.push(inString[i]); //add string chars to queue\n        }\n\n        isPalindrome = true;\n\n        while (isPalindrome &amp;&amp; (!inStack.empty()) &amp;&amp; (!inQueue.empty()))\n        {\n            if (inStack.top() != inQueue.front())\n            {\n                isPalindrome = false;\n            }\n            else\n            {\n                inStack.pop();\n                inQueue.pop();\n            }\n        }\n    }\n\n    if(isPalindrome == false)\n    {\n        cout&lt;&lt;\"It is not a palindrome.\"&lt;&lt;endl;\n    }\n    else\n    {\n        cout&lt;&lt;\"It is indeed a palindrome.\"&lt;&lt;endl;\n    }\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "iterator", "constants"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 3, "creation_date": 1456954324, "post_id": 35758415, "comment_id": 59190378, "body": "Unlike <code>getRandomFunction</code>, <code>conversion</code> is not <code>const</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3191398"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1456954720, "post_id": 35758415, "comment_id": 59190605, "body": "Thanks. That&#39;s right. When i look for error I just focus on arguments and forgot about that."}], "owner": {"user_type": "does_not_exist", "display_name": "user3191398"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456954035, "creation_date": 1456954035, "question_id": 35758415, "link": "https://stackoverflow.com/questions/35758415/passing-const-functionset-as-this-argument-discards-qualifiers-fpermissive", "title": "passing &#39;const FunctionSet&#39; as &#39;this&#39; argument discards qualifiers [-fpermissive] on my type", "body": "<p>I have defined type Functions and I have written method to convert this type to pair.\nDefinition:</p>\n\n<pre><code>typedef std::map&lt;std::string, std::pair&lt;int,FunctionPtr&gt;&gt; Functions;\n</code></pre>\n\n<p>FunctionPtr and FunctionId:</p>\n\n<pre><code>typedef int(*FunctionPtr) (const std::vector&lt;cv::Mat&gt;&amp;, cv::Mat&amp;);\nstruct FunctionId\n{\n    std::string name;\n    int nArguments;\n};\n</code></pre>\n\n<p>My method:</p>\n\n<pre><code>pair&lt;FunctionId,FunctionPtr&gt; FunctionSet::conversion(Functions::const_iterator&amp; it)\n{\n    string name = it-&gt;first;\n    int argumentsNumber = it-&gt;second.first;\n    FunctionPtr function = it-&gt;second.second;\n    FunctionId id = {name, argumentsNumber};\n\n    return make_pair(id,function);\n}\n</code></pre>\n\n<p>Then I call it here:</p>\n\n<pre><code>pair&lt;FunctionId,FunctionPtr&gt; FunctionSet::getRandomFunction() const\n{\n    Functions::const_iterator it = functions_.begin();\n    std::advance(it, rand() % functions_.size() );\n\n    pair&lt;FunctionId,FunctionPtr&gt; p = conversion(it); //in this line error\n\n    return p;\n}\n</code></pre>\n\n<p>And got error:</p>\n\n<blockquote>\n  <p>passing 'const FunctionSet' as 'this' argument discards qualifiers\n  [-fpermissive]</p>\n</blockquote>\n\n<pre><code>note:   in call to 'std::pair&lt;FunctionId, int (*)(const std::vector&lt;cv::Mat&gt;&amp;, cv::Mat&amp;)&gt; FunctionSet::conversion(std::map&lt;std::__cxx11::basic_string&lt;char&gt;, std::pair&lt;int, int (*)(const std::vector&lt;cv::Mat&gt;&amp;, cv::Mat&amp;)&gt; &gt;::const_iterator)'              std::pair&lt;FunctionId,FunctionPtr&gt; conversion(Functions::const_iterator it);\n\n                                   ^ \n</code></pre>\n\n<p>FunciontSet is a class name.</p>\n"}, {"tags": ["c++", "function", "timer"], "comments": [{"owner": {"reputation": 327, "user_id": 5986090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bPdMk.jpg?s=128&g=1", "display_name": "Peter Silon", "link": "https://stackoverflow.com/users/5986090/peter-silon"}, "edited": false, "score": 0, "creation_date": 1456953463, "post_id": 35758107, "comment_id": 59189876, "body": "It&#39;s not very clear to me what do you try to achieve. You can write a function which takes a pointer to a function and wraps start &amp; stop counters around the call. Number of parameters does not matter. You simply set to default parameters you don&#39;t need."}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456953606, "post_id": 35758107, "comment_id": 59189949, "body": "In C++11 and beyond, just wrap the code you want to time in a lambda, and prefer the portable <code>std::chrono</code> clocks. Or better yet, use a nice little microbenchmarking library like <a href=\"https://nonius.io/\" rel=\"nofollow noreferrer\">nonius</a>."}], "answers": [{"comments": [{"owner": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "edited": false, "score": 0, "creation_date": 1544600794, "post_id": 35758437, "comment_id": 94329090, "body": "I would suggest to pass <code>func</code> by forwarding reference as well and then use <code>std::invoke</code>. And, also, to measure runtime by <code>chrono</code> library."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 0, "last_activity_date": 1456954121, "creation_date": 1456954121, "answer_id": 35758437, "question_id": 35758107, "link": "https://stackoverflow.com/questions/35758107/implementing-timer-to-measure-execution-time-of-function-passed-as-parameter/35758437#35758437", "title": "Implementing Timer to Measure Execution Time of Function Passed as Parameter", "body": "<p>Your question is not about timing functions, it is about generic function wrappers. With C++14, it is a trivial task.</p>\n\n<p>Following is an example:</p>\n\n<pre><code>template &lt;class F, class... ARGS&gt;\nauto wrapper(F func, ARGS&amp;&amp;... args) {\n    clock_t begin = clock(); // better stuff from chrono\n    auto r = func(std::forward&lt;ARGS...&gt;(args...));\n    clock_t end = clock();\n    double elapsed_secs = double(end - begin) / CLOCKS_PER_SEC;\n    printf (\"Elapsed time is %.2lf seconds.\", elapsed_secs );\n\n    return r;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 475, "user_id": 5256963, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3b4896ad04a1ce99d5a3e60d34e9993?s=128&d=identicon&r=PG&f=1", "display_name": "Charlie", "link": "https://stackoverflow.com/users/5256963/charlie"}, "is_accepted": false, "score": 1, "last_activity_date": 1456961752, "last_edit_date": 1456961752, "creation_date": 1456955625, "answer_id": 35758866, "question_id": 35758107, "link": "https://stackoverflow.com/questions/35758107/implementing-timer-to-measure-execution-time-of-function-passed-as-parameter/35758866#35758866", "title": "Implementing Timer to Measure Execution Time of Function Passed as Parameter", "body": "<pre><code>#include &lt;windows.h&gt; //win header for large integer and query performance\n</code></pre>\n\n<p>consider this stopwatch class:</p>\n\n<pre><code>class stopwatch\n{\ndouble PCFreq = 0.0;\n__int64 CounterStart = 0;\nLARGE_INTEGER li;\n\npublic:\n    void StartCounter()\n    {\n        if (!QueryPerformanceFrequency(&amp;li))ExitProcess(0);\n        PCFreq = double(li.QuadPart) / 1000.0;\n        QueryPerformanceCounter(&amp;li); CounterStart = li.QuadPart;\n    }\n\n    double GetCounter() \n    { \n        QueryPerformanceCounter(&amp;li); \n        return double(li.QuadPart - CounterStart) / PCFreq; \n    }\n};\n</code></pre>\n\n<p>To make it work, you need to create an object of the class, say:</p>\n\n<pre><code>stopwatch mystopwatch;\n</code></pre>\n\n<p>that will have the functions to start/reset the timer and check it:</p>\n\n<pre><code>mystopwatch.StartCounter();//starts this specific objects timer over\nmystopwatch.GetCounter(); //returns value in milliseconds\n</code></pre>\n\n<p>This way, you can tell it to start running, and query it again asking how much time has passed. (its very precise)</p>\n\n<pre><code>while (mystopwatch.clockflag &lt;= 5){};  //waits 5 milliseconds\n</code></pre>\n\n<p>Using this to solve your problem wouldnt be very hard. Something like:</p>\n\n<pre><code>double SelectionSort(dataVector, dataVector.size())\n{\n    stopwatch mystopwatch;\n    mystopwatch.StartCounter(); //starts the clock timer\n//...run actual function here..//\n    return mystopwatch.GetCounter(); //return time in milliseconds\n}\n</code></pre>\n\n<p>will do the calculations, start the timer, then return the time it took as a double in milliseconds.</p>\n"}], "owner": {"reputation": 17, "user_id": 6010023, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/VyRdh.jpg?s=128&g=1", "display_name": "A Coder", "link": "https://stackoverflow.com/users/6010023/a-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1456961752, "creation_date": 1456953000, "question_id": 35758107, "link": "https://stackoverflow.com/questions/35758107/implementing-timer-to-measure-execution-time-of-function-passed-as-parameter", "title": "Implementing Timer to Measure Execution Time of Function Passed as Parameter", "body": "<p>For ordinary functions, at least those of a single parameter, there is no problem. However, I am trying to measure the execution time for a bunch of different sorting algorithms that have multiple parameters, one of which is a vector. </p>\n\n<p>Here is the timer contained in main:</p>\n\n<pre><code>clock_t begin = clock();\nFunctionToTime();\nclock_t end = clock();\ndouble elapsed_secs = double(end - begin) / CLOCKS_PER_SEC;\nprintf (\"Elapsed time is %.2lf seconds.\", elapsed_secs );\nreturn 0;\n</code></pre>\n\n<p>Example of sample function to be passed as parameter to timer:\n    SelectionSort(dataVector, dataVector.size());</p>\n\n<p>Is it possible to make a function that accepts the sorting algorithm as a function parameter and measures the execution time of that inner function? </p>\n\n<p>I have tried a few approaches, but none of them have been successful. Is this possible?</p>\n"}, {"tags": ["c++", "macos", "gcc", "protocol-buffers"], "answers": [{"comments": [{"owner": {"reputation": 1370, "user_id": 319894, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/439a8396905a3508b2acc738e949a282?s=128&d=identicon&r=PG", "display_name": "Chad Skeeters", "link": "https://stackoverflow.com/users/319894/chad-skeeters"}, "edited": false, "score": 0, "creation_date": 1456960150, "post_id": 35758174, "comment_id": 59193280, "body": "I have verified that g++-5 can be used when protobuf is compiled with g++-5.  I had to set <code>DYLD_LIBRARY_PATH</code> to get the resulting binary to utilize the non-brew library."}], "tags": [], "owner": {"reputation": 7392, "user_id": 1555823, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2b69fc6d16ff23e3509b2f3602838acd?s=128&d=identicon&r=PG", "display_name": "vladon", "link": "https://stackoverflow.com/users/1555823/vladon"}, "is_accepted": true, "score": 1, "last_activity_date": 1456953205, "creation_date": 1456953205, "answer_id": 35758174, "question_id": 35758073, "link": "https://stackoverflow.com/questions/35758073/protobuf-will-not-compile-on-osx-when-using-g-5/35758174#35758174", "title": "protobuf will not compile on osx when using g++-5", "body": "<p>It is because different ABI for clang, g++-5 and g++-4.x. You need first to recompile protobuf itself with g++-5, and only then link it to your program with <code>-lprotobuf</code>.</p>\n"}], "owner": {"reputation": 1370, "user_id": 319894, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/439a8396905a3508b2acc738e949a282?s=128&d=identicon&r=PG", "display_name": "Chad Skeeters", "link": "https://stackoverflow.com/users/319894/chad-skeeters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 266, "favorite_count": 0, "accepted_answer_id": 35758174, "answer_count": 1, "score": 0, "last_activity_date": 1456953205, "creation_date": 1456952913, "question_id": 35758073, "link": "https://stackoverflow.com/questions/35758073/protobuf-will-not-compile-on-osx-when-using-g-5", "title": "protobuf will not compile on osx when using g++-5", "body": "<p>See the following sample project based on the <a href=\"https://developers.google.com/protocol-buffers/docs/cpptutorial\" rel=\"nofollow\">c++ tutorial</a> on <a href=\"https://github.com/google/protobuf\" rel=\"nofollow\">protobuf</a>.</p>\n\n<p><a href=\"https://github.com/cskeeters/protobuf_addressbook\" rel=\"nofollow\">https://github.com/cskeeters/protobuf_addressbook</a></p>\n\n<p>I installed protobuf on osx 10.10.5 using:</p>\n\n<p><code>\nbrew install protobuf\n</code></p>\n\n<p>I installed g++-5 via brew install also, but it's been a while.  Why won't this won't compile with g++?</p>\n\n<p>The command that fails is:</p>\n\n<p><code>\ng++-5  -g -O2 -L/usr/local/Cellar/protobuf/2.6.1/lib -lprotobuf -D_THREAD_SAFE   -o main main.o addressbook.pb.o\n</code></p>\n\n<p>The result is:\n<code>\nUndefined symbols for architecture x86_64:\n  \"google::protobuf::MessageFactory::InternalRegisterGeneratedFile(char const*, void (*)(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;))\", referenced from:\n      tutorial::protobuf_AddDesc_addressbook_2eproto()      in addressbook.pb.o\n...\n</code></p>\n\n<p>I'm just testing.  I have no reason not to use clang++ on osx.  I'm just curious.</p>\n"}, {"tags": ["c++", "string", "char"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 2, "creation_date": 1456952725, "post_id": 35757970, "comment_id": 59189453, "body": "Stop using old-fashioned string functions that quit on a null byte, such as <code>strcpy_s</code>. That&#39;s the <i>only</i> way to get null bytes in the middle of a string."}, {"owner": {"reputation": 5768, "user_id": 3088572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/769f723b0fd6eb8c99d5f65b39392b18?s=128&d=identicon&r=PG&f=1", "display_name": "alvits", "link": "https://stackoverflow.com/users/3088572/alvits"}, "edited": false, "score": 0, "creation_date": 1456953380, "post_id": 35757970, "comment_id": 59189826, "body": "<code>memcpy()</code> should be able to copy memory containing <code>0</code>s. Give it a try. Note that it will be your responsibility to null terminate strings copied using <code>memcpy()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 2573138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pl2g4.jpg?s=128&g=1", "display_name": "Matteo", "link": "https://stackoverflow.com/users/2573138/matteo"}, "is_accepted": true, "score": 0, "last_activity_date": 1456953752, "creation_date": 1456953752, "answer_id": 35758337, "question_id": 35757970, "link": "https://stackoverflow.com/questions/35757970/convert-string-to-char-string-has-0/35758337#35758337", "title": "convert string to char* [string has &#39;0&#39;]", "body": "<p>I guess there is an additional convention you are not using to convert the hex string. </p>\n\n<p>For example if you just modify your code adding an if statement:</p>\n\n<pre><code>[...]\nchar chr = (char)(int)strtol(byte.c_str(), NULL, 16);\nif ( chr &lt; 10 )\n   continue;\n[...]\n</code></pre>\n\n<p>the output would be very close to the desired one:</p>\n\n<pre><code>    87&lt;BREAK&gt;&lt;PCA To ART WD&gt;\u00a7\u00a7@\u263cPCA WD FROM LPC-&lt;/PCA To ART WD&gt;&lt;/BREAK&gt;\n</code></pre>\n\n<p>I believe the sequence in the original <code>hex</code></p>\n\n<pre><code>080000000000\n</code></pre>\n\n<p>is a control sequence, not really something you wish to convert.</p>\n"}], "owner": {"reputation": 21, "user_id": 5731540, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d653528a2726b4a51e6eeda8360bd72e?s=128&d=identicon&r=PG&f=1", "display_name": "shorty", "link": "https://stackoverflow.com/users/5731540/shorty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 35758337, "answer_count": 1, "score": 0, "last_activity_date": 1456953752, "creation_date": 1456952561, "question_id": 35757970, "link": "https://stackoverflow.com/questions/35757970/convert-string-to-char-string-has-0", "title": "convert string to char* [string has &#39;0&#39;]", "body": "<p>How do i convert a hex string to a char, whilst keeping and zero's that are within the string? I am currently doing...</p>\n\n<pre><code>std::string hex = \"202020202020202038373c425245414b3e3c50434120546f204152542057443e150080000000000100154007000f5043412057442046524f4d204c50430001000000002d08000000003c2f50434120546f204152542057443e3c2f425245414b3e\";\nint len = hex.length();\n    std::string newString;\n    for (int i = 0; i&lt; len; i += 2)\n    {\n        std::string byte = hex.substr(i, 2);\n        char chr = (char)(int)strtol(byte.c_str(), NULL, 16);\n        newString.push_back(chr);\n    }\n\n    //std::cout &lt;&lt; newString;\n    char *sendBuf;\n    sendBuf = new char[newString.size() + 1];\n    strcpy_s(sendBuf, newString.size() + 1, newString.c_str());\n    std::cout &lt;&lt; sendBuf;\n</code></pre>\n\n<p>But this gives me an output with everything converted up to the first zero after 'e150'. The hex is meant to convert to <code>'        87&lt;BREAK&gt;&lt;PCA To ART WD&gt;\u20ac@\u000fPCA WD FROM LPC-&lt;/PCA To ART WD&gt;&lt;/BREAK&gt;'</code>\nbut i get         <code>87&lt;BREAK&gt;&lt;PCA To ART WD&gt;</code>, any suggestions for a fix?</p>\n\n<p>thanks</p>\n"}, {"tags": ["c++", "qt", "qtablewidget", "qtablewidgetitem"], "comments": [{"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457341441, "post_id": 35757954, "comment_id": 59345569, "body": "start from explaining what exactly you are trying to achieve. I can see description &quot;it doesn&#39;t work like I want&quot; but only shreds of information what do you want."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457341914, "post_id": 35757954, "comment_id": 59345805, "body": "sorry, I thought I put it well. It does also say what I want in the title, I&#39;m sorry but I don&#39;t much agree with your statement, please point out where I could improve and I&#39;ll be happy to do so, thanks!"}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457343957, "post_id": 35757954, "comment_id": 59346905, "body": "should both widgets show exactly same information winch is in sync? In such case passing whole data model will solve problem perfectly in one simple line."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457375343, "post_id": 35757954, "comment_id": 59368037, "body": "both widgets should show the same information when the button is clicked. how exactly do I solve this in a single line? thanks."}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457390896, "post_id": 35757954, "comment_id": 59376871, "body": "<code>widgetB-&gt;setModel(widgetA-&gt;model());</code>"}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457444597, "post_id": 35757954, "comment_id": 59401793, "body": "would this mean setting the tablewidget&#39;s to a model and then transferring the model using a signal and switch mechanism? is that right? I&#39;m not sure if this is what you mean."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457445020, "post_id": 35757954, "comment_id": 59402107, "body": "also qtablewidget doesnt allow me to set a model, i would then have to use qtableview and this would mean changing more code, so preferabbly not, is it somehow possible to use setModel on a qtablewidget."}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457445036, "post_id": 35757954, "comment_id": 59402125, "body": "Nope. Simply data model will be shared. Every change done by view will update a model and every model which uses this model will display up to date values of given model. This is standard MVC pattern. Difference between QTableView and QTableWidget is only that Widget version enforces use of standard item model. So you can safely switch to QTableView if you need to."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 0, "creation_date": 1457445513, "post_id": 35757954, "comment_id": 59402493, "body": "so how do i do this with a tablewidget? I&#39;m not sure what you mean sorry."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1456997766, "post_id": 35766134, "comment_id": 59208345, "body": "I get a SIGSEGV error but now on the line <code>ui-&gt;tableWidget-&gt;setItem(i,j, EditData-&gt;clone());</code>."}, {"owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457011896, "post_id": 35766134, "comment_id": 59218372, "body": "Maybe some cell are NULL. And now I see that also the logic is totally wrong."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457030882, "post_id": 35766134, "comment_id": 59232403, "body": "I&#39;m not to great with qt, how exactly would I copy the cells from the dialog screen? That is what I&#39;m trying to do but I don&#39;t know how to without getting sigsegv error, please help. Thanks for pointing out the error in the logic though."}, {"owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457076393, "post_id": 35766134, "comment_id": 59250803, "body": "The sigsegv error is probably caused by a C++ error in the code. I need more code to investigate (e.g I don&#39;t understand the role of the EditMode1 class and how the table in the dialog is created). Also you must check that the QTableWidgetItem returned by the item() method is not NULL."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457187035, "post_id": 35766134, "comment_id": 59297933, "body": "what more do you need to see (the editmode bit I have edited out, its not needed here (this entire code is ripped out of a bigger chunk of code as you have guessed by now)), I simply made the tables by dragging them in on the qt form designer and editing them in the constructors respectively, using functions like setRowCount and setColumnCount to create the appropriate table sizes."}, {"owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457334756, "post_id": 35766134, "comment_id": 59342298, "body": "For example the variable <code>TableWidgetedit</code> in the<code>Dialog::on_pushButton_clicked()</code> is very strange. I expected to see a <b>pointer</b> to a table, and specifically someting like <code>ui-&gt;tableWidget-&gt;item(i,j)</code> if you have created the table with the designer"}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457339792, "post_id": 35766134, "comment_id": 59344746, "body": "<code>tablewidgetedit</code> is simply a pointer to <code>EditUi-&gt;tableWidget</code>, replacing allows me to run the program, however now when i click on the pushbutton, it transfers (0,0) on the dialog table and places it in all spaces on the mainwindow table. so this is probably the logical error you were on about. any clue what I can do to fix this?"}, {"owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457340176, "post_id": 35766134, "comment_id": 59344949, "body": "Sorry but TableWidgetedit can&#39;t be a pointer (TableWidgetedit.item(i,j) instead of TableWidgetedit-&gt;item(i,j))."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457340910, "post_id": 35766134, "comment_id": 59345284, "body": "ok that explains a fair bit a few errors I had haha, thank you. onto the new problem, which is now that it copies the last cell in the dialog table and places it in all of the cells in the mainwindow table, and I understand this logical error (sort of) but I&#39;m not sure how to fix it."}, {"owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1457341927, "post_id": 35766134, "comment_id": 59345814, "body": "As general rule <b>never</b> use deference operator with Qt objects. I have written a function and some suggestions, see my edits"}], "tags": [], "owner": {"reputation": 2202, "user_id": 3770506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a1AGW.jpg?s=128&g=1", "display_name": "Fabio", "link": "https://stackoverflow.com/users/3770506/fabio"}, "is_accepted": false, "score": 0, "last_activity_date": 1457341857, "last_edit_date": 1457341857, "creation_date": 1456991400, "answer_id": 35766134, "question_id": 35757954, "link": "https://stackoverflow.com/questions/35757954/qt-changing-qtablewidgets-data-to-another-classs-qtablewidgets-data/35766134#35766134", "title": "Qt - Changing QTableWidget&#39;s Data to another class&#39;s QTableWidget&#39;s Data", "body": "<p>Your error is in this line:</p>\n\n<pre><code>ui-&gt;tableWidget-&gt;setItem(i,j,&amp;EditData);\n</code></pre>\n\n<p>You pass a pointer of an object that live in the stack and will be destroyed at the end of the <code>setTableDataSlot</code>. Also you are trying to set the same object in all the table cells.</p>\n\n<p>You have to create a new <code>QTableWidgetItem</code> for each cell.</p>\n\n<p>Also the logic is wrong, because you are copying each cell of table A end put each copy into all cells of table B (cell [0, 0] of A in all cells of B, than cell [0, 1] of A in all cells of B and so on).</p>\n\n<p>I suggest to change approach (for example get the table of the dialog from the main window and copy the cells, without passing all the QTableWidgetItem by signal-slot)</p>\n\n<p>EDIT</p>\n\n<p>You can use this function to copy the QTableItems from a table to another (not tested)</p>\n\n<pre><code>void copyTableContents(QTableWidget* sourceTable, QTableWidget* destTable)\n{\n    for(int r = 0; r &lt; sourceTable-&gt;rowCount() &amp;&amp; r &lt; destTable-&gt;rowCount(); ++r)\n    {\n        for(int c = 0; c &lt; sourceTable-&gt;columnCount() &amp;&amp; c &lt; destTable-&gt;columnCount(); ++c)\n        {\n            //delete old item if exists\n            QTableWidgetItem* dItem = destTable-&gt;takeItem(r, c);\n            if(dItem)\n                delete dItem;\n            QTableWidgetItem* sItem = sourceTable-&gt;item(r, c);\n            if(sItem) //copy the item if exists\n                destTable-&gt;setItem(r, c, sItem-&gt;clone());\n        }\n    }\n}\n</code></pre>\n\n<p>You can create a function in the dialog that return the table pointer.\nYou can emit a signal without parameters from dialog when the copy button is clicked.\nConnect this signal to a slot of the main window that get the table from the dialog and call the function to copy the items.</p>\n"}], "owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457341857, "creation_date": 1456952484, "last_edit_date": 1457340980, "question_id": 35757954, "link": "https://stackoverflow.com/questions/35757954/qt-changing-qtablewidgets-data-to-another-classs-qtablewidgets-data", "title": "Qt - Changing QTableWidget&#39;s Data to another class&#39;s QTableWidget&#39;s Data", "body": "<p>I'm have two , one on a MainWindow ui and another on a Dialog ui. What I'm trying to do is copy the data from the Dialog's  and paste it in the MainWindow's . What I have tried to do is use Qt's Slot's and Signals mechanism to copy the data. Below is the code I tried to use:</p>\n\n<p>MainWindow.h:</p>\n\n<pre><code>#include \"ui_mainwindow.h\"\nnamespace Ui {\nclass MainWindow;\n}\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:   \nexplicit MainWindow(QWidget *parent = 0);\n\n\n~MainWindow();\n\npublic slots:\nvoid SetTableDataSlot(QTableWidgetItem* EditData);\n}\n</code></pre>\n\n<p>MainWindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"dialog.h\"\nDialog *dialog;\n\nMainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\nui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\ndelete ui;\n}\nvoid MainWindow::on_pushButton_clicked()\n{\ndialog = new Dialog(this);\nconnect(mEdit,SIGNAL(setTableDataSignal(QTableWidgetItem*)),\n                 this,SLOT(setTableDataSlot(QTableWidgetItem*)));\ndialog-&gt;show();\n}\n\nvoid MainWindow::setTableDataSlot(QTableWidgetItem* EditData){\nfor(int i = 0; i&lt;ui-&gt;tableWidget-&gt;rowCount();++i){\n    for(int j = 0; j&lt;ui-&gt;tableWidget-&gt;columnCount();++j){\n        ui-&gt;tableWidget-&gt;setItem(i,j,EditData-&gt;clone());\n    }\n  }\n}\n</code></pre>\n\n<p>Dialog.h:</p>\n\n<pre><code>#include &lt;QDialog&gt;\n#include &lt;QTableWidget&gt;\n\n\nnamespace Ui {\nclass dialog;\n}\n\nclass dialog : public QDialog\n{\nQ_OBJECT\n\npublic:\nexplicit dialog(QWidget *parent = 0);\n\n~dialog();\nsignals:\nvoid setTableDataSignal(QTableWidgetItem *EditData);\n}\n</code></pre>\n\n<p>Dialog.cpp:</p>\n\n<pre><code>#include \"ui_mainwindow.h\"\n#include \"mainwindow.h\"\n#include \"editmode1.h\"\n#include \"ui_editmode1.h\"\n\nDialog::Dialog(QWidget *parent) :\nQDialog(parent),\nui(new Ui::Dialog)\n{\nui-&gt;setupUi(this);\n}\n\nDialog::~Dialog()\n{\ndelete ui;\n}\n\nvoid Dialog::on_pushButton_clicked()\n{\nfor (int i=0; i&lt;rows;++i){\n    for(int j = 0; j&lt;columns;++j){\n        emit setTableDataSignal(ui-&gt;tableWidget-&gt;item(i,j);\n    }\n  }\n}\n</code></pre>\n\n<p>Now the program compiles fine but when I click on the button on the dialog form, it copies the data from the last cell in the dialog table, and pastes it in every cell in the mainwindow table. If anyone can give me an explanation on what is wrong here and how it could be fixed I would be very grateful. Thanks in advance.</p>\n"}, {"tags": ["c++", "linker", "variable-templates"], "answers": [{"comments": [{"owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "edited": false, "score": 0, "creation_date": 1456962827, "post_id": 35758102, "comment_id": 59194321, "body": "Good catch. It may be related, but it puzzles me that it only manifests itself when it is preceded by unary minus. It is some sort of parsing error or AST generation error. I&#39;ll probably open a new bug and link 65719."}, {"owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "edited": false, "score": 0, "creation_date": 1456964034, "post_id": 35758102, "comment_id": 59194718, "body": "I submitted the bug (id 70056) and the GCC maintainers did mark it as an exact duplicate of 65719. So, you got it!"}, {"owner": {"reputation": 871, "user_id": 36034, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b12f32bfa45d983d3613b14563d7c0b1?s=128&d=identicon&r=PG", "display_name": "Chris Morley", "link": "https://stackoverflow.com/users/36034/chris-morley"}, "reply_to_user": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "edited": false, "score": 0, "creation_date": 1457058176, "post_id": 35758102, "comment_id": 59244862, "body": "I can&#39;t say that looking at the diff of the change makes it completely clear to me either - I assume that there was some inconsistency between how the declaration and the reference were treated wrt extern vs internal linkage."}], "tags": [], "owner": {"reputation": 871, "user_id": 36034, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b12f32bfa45d983d3613b14563d7c0b1?s=128&d=identicon&r=PG", "display_name": "Chris Morley", "link": "https://stackoverflow.com/users/36034/chris-morley"}, "is_accepted": true, "score": 2, "last_activity_date": 1456952990, "creation_date": 1456952990, "answer_id": 35758102, "question_id": 35757931, "link": "https://stackoverflow.com/questions/35757931/variable-template-fails-to-link/35758102#35758102", "title": "Variable template fails to link", "body": "<blockquote>\n  <p>runs fine using ... gcc 5.2.0</p>\n</blockquote>\n\n<p>Possibly <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65719\" rel=\"nofollow\">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=65719</a></p>\n"}], "owner": {"reputation": 36542, "user_id": 104427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e852d4a44a1d795a9f207bcd30920bc?s=128&d=identicon&r=PG&f=1", "display_name": "Escualo", "link": "https://stackoverflow.com/users/104427/escualo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 35758102, "answer_count": 1, "score": 3, "last_activity_date": 1456952990, "creation_date": 1456952429, "question_id": 35757931, "link": "https://stackoverflow.com/questions/35757931/variable-template-fails-to-link", "title": "Variable template fails to link", "body": "<p>The following code:</p>\n\n<pre><code>template&lt;typename T&gt;\nconstexpr T foo { 1.2345 };\n\ntemplate&lt;typename T&gt;\nT fun(T x) {\n  return -foo&lt;T&gt; * x;\n}\n\nint main() {\n  fun(2.0);\n}\n</code></pre>\n\n<p>compiled using gcc version 5.1.0 on Linux</p>\n\n<pre><code>g++ gcc-bug.cpp -std=c++14\n</code></pre>\n\n<p>fails during the linking step with the following message:</p>\n\n<pre><code>/tmp/ccuciovi.o: In function `double fun&lt;double&gt;(double)':\ngcc-bug.cpp:(.text._Z3funIdET_S0_[_Z3funIdET_S0_]+0xd): undefined reference to `foo&lt;double&gt;'\ncollect2: error: ld returned 1 exit status\n</code></pre>\n\n<p>Removing the unary minus (which changes the meaning of the code), gets rid of the linking error. Prepending zero (which does not change the meaning of the code) also gets rid of the error. The following two implementations of <code>foo</code> lead to a successful compilation:</p>\n\n<pre><code>template&lt;typename T&gt;\nT fun(T x) {\n  return foo&lt;T&gt; * x; // different meaning\n}\n\ntemplate&lt;typename T&gt;\nT fun(T x) {\n  return 0 - foo&lt;T&gt; * x; // same meaning\n}\n</code></pre>\n\n<p>I do not observe this behavior in other compilers. The original code (with the unary minus) compiles and runs fine using clang 3.6.0 and gcc  5.2.0.</p>\n\n<p>Before I submit this as a bug in gcc 5.1.0 I'd like to hear your take on this behavior.</p>\n"}, {"tags": ["c++", "arduino", "usb", "hardware"], "comments": [{"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1456980004, "post_id": 35757909, "comment_id": 59199434, "body": "you want to use some libraries but not all, or you want to go full on bare metal?  usb is not remotely the first thing you want to try bare metal.  blink an led, spit stuff out the uart, can take you a week or more.  usb might take months as a fair amount is learning usb independent of the chip.  lastly hacking at a protocol for your camera, if not fully documented somewhere, is yet another research project.   so it is unclear what you are asking..."}, {"owner": {"reputation": 1463, "user_id": 2591595, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YR9G0.jpg?s=128&g=1", "display_name": "Blurry Sterk", "link": "https://stackoverflow.com/users/2591595/blurry-sterk"}, "edited": false, "score": 0, "creation_date": 1456983256, "post_id": 35757909, "comment_id": 59200487, "body": "Are you sure your camera can do what you want via the USB?"}, {"owner": {"reputation": 849, "user_id": 5848375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kliTJ.png?s=128&g=1", "display_name": "mhopeng", "link": "https://stackoverflow.com/users/5848375/mhopeng"}, "edited": false, "score": 0, "creation_date": 1456987341, "post_id": 35757909, "comment_id": 59202114, "body": "FYI you can buy apps for your phone which have this functionality (and a lot more)."}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "reply_to_user": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1456987850, "post_id": 35757909, "comment_id": 59202345, "body": "@dwelch well my goal is to make an intervalometer myself if the best way is to use a library (if it exists) then so be it. Secondly if I want to write my own library or own specific code to control camera features like shutterspeed etc, how do I figure out what values or whatever I have to send out to my camera through the usb (lets say I&#39;ll still be using the usb host library as a basis)"}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "reply_to_user": {"reputation": 1463, "user_id": 2591595, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YR9G0.jpg?s=128&g=1", "display_name": "Blurry Sterk", "link": "https://stackoverflow.com/users/2591595/blurry-sterk"}, "edited": false, "score": 0, "creation_date": 1456987968, "post_id": 35757909, "comment_id": 59202406, "body": "@Blurry Sterk there are numerous existing projects on YouTube but the majority don&#39;t give away any code so I can&#39;t figure out how they did it"}, {"owner": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 1, "creation_date": 1456997213, "post_id": 35757909, "comment_id": 59207935, "body": "@Edward Wow, just a noobish thing :P Anyway, when you have to interface with something you don&#39;t have a library for, you should know how to do it yourself. Usually for common hardware you have a datasheet explaining the protocol, but for this kind of product I hardly believe there is the USB description. You can try asking Nikon, but I don&#39;t think they will be interested. The last hope is to find the linux generic driver which controls the camera and look at its source code (the linux drivers embedded in the kernel are open source)"}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "reply_to_user": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 0, "creation_date": 1456998179, "post_id": 35757909, "comment_id": 59208641, "body": "@frarugi so basically it&#39;s close to impossible for someone like me"}, {"owner": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 1, "creation_date": 1456998361, "post_id": 35757909, "comment_id": 59208769, "body": "@Edward even for me... And for a lot of people here ;) you can try searching for info, and maybe if you are lucky you will get to a document explaining it. Or maybe it uses a standardized interface, so you can look at the standard. In the end, the linux driver path is really the last hope.."}, {"owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "reply_to_user": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "edited": false, "score": 0, "creation_date": 1456998592, "post_id": 35757909, "comment_id": 59208954, "body": "@frarugi87 still wondering how those people on youtube did it, but anyeays i should look for a datasheet of my camera then? Even if I manage to get that I still won&#39;t get how to get it working, what is the next step in learning all this. I mean I believe i got to know all the basics around the arduino"}, {"owner": {"reputation": 62072, "user_id": 16007, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e859640aaeb4b305e163a990be827cf9?s=128&d=identicon&r=PG&f=1", "display_name": "old_timer", "link": "https://stackoverflow.com/users/16007/old-timer"}, "edited": false, "score": 0, "creation_date": 1457009408, "post_id": 35757909, "comment_id": 59216567, "body": "If you have a working driver for linux/windows then you can sometimes sniff the interface and get at the protocol, and from there make your own driver for whatever platform.  That is how a number of closed protocols are figured out."}], "answers": [{"tags": [], "owner": {"reputation": 1025, "user_id": 5043289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fef66445955c19e7768a09672d2ba4c?s=128&d=identicon&r=PG", "display_name": "Nick Gammon", "link": "https://stackoverflow.com/users/5043289/nick-gammon"}, "is_accepted": false, "score": 1, "last_activity_date": 1457060466, "creation_date": 1457060466, "answer_id": 35787191, "question_id": 35757909, "link": "https://stackoverflow.com/questions/35757909/how-does-one-start-programming-communicating-with-finished-hardware-using-an-ard/35787191#35787191", "title": "How does one start programming/communicating with finished hardware using an Arduino?", "body": "<p>If I understand you correctly, you want to fire the camera shutter at predetermined intervals? - <a href=\"https://en.wikipedia.org/wiki/Intervalometer\" rel=\"nofollow\">Wikipedia - Intervalometer</a></p>\n\n<p>Depending on the camera it may have an interface on the side which if you close it (possibly meaning, connecting it to ground) then it will take a photo.</p>\n\n<p>A while ago I had a <a href=\"http://www.gammon.com.au/forum/?id=11671\" rel=\"nofollow\">project to take freeze-frame photographs</a> which involved having the Arduino trigger the camera flash.</p>\n\n<p>I had to purchase a suitable interface cable, get to the bare wires, and connect them to an output pin. Then a simple program \"closed\" the connection and fired the flash when required.</p>\n\n<p>In your case you could do a similar thing, if the camera supports it. By \"supports it\" I mean an electrical shutter interface. I think this is becoming increasingly common. It is certainly more likely than some sort of USB interface to fire the shutter.</p>\n"}], "owner": {"reputation": 1391, "user_id": 3845362, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fb0426c92408f8ec9f0a653a4e654077?s=128&d=identicon&r=PG&f=1", "display_name": "Edward", "link": "https://stackoverflow.com/users/3845362/edward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457060466, "creation_date": 1456952366, "question_id": 35757909, "link": "https://stackoverflow.com/questions/35757909/how-does-one-start-programming-communicating-with-finished-hardware-using-an-ard", "title": "How does one start programming/communicating with finished hardware using an Arduino?", "body": "<p>Arduino apprentice here. I've done my fair share of basic Arduino projects, like building a thermostat and a remote-controlled/area-scanning car through Bluetooth. But all these projects rely on existing libraries.</p>\n\n<p>I own a Nikon D3300 DSLR and wanted to make an intervalometer for it using the built-in usb port and my Arduino-Uno. Now I don't really know where to start like how do I figure out which pins or bits or whatever control certain things on my camera. </p>\n\n<p>Having used a USB Host Shield and its <a href=\"https://github.com/felis/USB_Host_Shield_2.0\" rel=\"nofollow\">library</a> (I'm so grateful for this), I found out that a lot of 'classes' have predefined addresses or something like that. </p>\n\n<p><em>example from BTD.h from the <a href=\"https://github.com/felis/USB_Host_Shield_2.0/blob/master/BTD.h\" rel=\"nofollow\">library</a></em></p>\n\n<pre><code>/* HCI Events managed */\n#define EV_INQUIRY_COMPLETE                             0x01\n#define EV_INQUIRY_RESULT                               0x02\n#define EV_CONNECT_COMPLETE                             0x03\n#define EV_INCOMING_CONNECT                             0x04\n#define EV_DISCONNECT_COMPLETE                          0x05\n#define EV_AUTHENTICATION_COMPLETE                      0x06\n#define EV_REMOTE_NAME_COMPLETE                         0x07\n#define EV_ENCRYPTION_CHANGE                            0x08\n#define EV_CHANGE_CONNECTION_LINK                       0x09\n#define EV_ROLE_CHANGED                                 0x12\n#define EV_NUM_COMPLETE_PKT                             0x13\n#define EV_PIN_CODE_REQUEST                             0x16\n#define EV_LINK_KEY_REQUEST                             0x17\n#define EV_LINK_KEY_NOTIFICATION                        0x18\n#define EV_DATA_BUFFER_OVERFLOW                         0x1A\n#define EV_MAX_SLOTS_CHANGE                             0x1B\n#define EV_READ_REMOTE_VERSION_INFORMATION_COMPLETE     0x0C\n#define EV_QOS_SETUP_COMPLETE                           0x0D\n#define EV_COMMAND_COMPLETE                             0x0E\n#define EV_COMMAND_STATUS                               0x0F\n#define EV_LOOPBACK_COMMAND                             0x19\n#define EV_PAGE_SCAN_REP_MODE                           0x20\n</code></pre>\n\n<p>Now I reached the limit of my Arduino skills and don't know what to do. How do I figure out how I can communicate with my camera through USB. I'd really want to try this from scratch instead of relying on a library yet again.</p>\n"}, {"tags": ["c++", "windows", "winapi", "dll"], "comments": [{"owner": {"reputation": 7, "user_id": 5932131, "user_type": "registered", "profile_image": "https://graph.facebook.com/170909833286083/picture?type=large", "display_name": "Levi Branch", "link": "https://stackoverflow.com/users/5932131/levi-branch"}, "edited": false, "score": 0, "creation_date": 1456952281, "post_id": 35757876, "comment_id": 59189175, "body": "Code didn&#39;t format right. New to this. Sorry!"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1456952869, "post_id": 35757876, "comment_id": 59189548, "body": "after <code>ShowWindow(hwnd, SW_SHOWNORMAL);</code> add <code>UpdateWindow(hwnd);</code>"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 1, "creation_date": 1456952930, "post_id": 35757876, "comment_id": 59189577, "body": "also, you&#39;re not checking for errors, almost every call to system function can fail, add some kind of alert on it"}, {"owner": {"reputation": 7, "user_id": 5932131, "user_type": "registered", "profile_image": "https://graph.facebook.com/170909833286083/picture?type=large", "display_name": "Levi Branch", "link": "https://stackoverflow.com/users/5932131/levi-branch"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1456953152, "post_id": 35757876, "comment_id": 59189697, "body": "Heavenly. Thank you!"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1456954125, "post_id": 35757876, "comment_id": 59190277, "body": "Don&#39;t post error messages as screenshots. This will not be easily discoverable in text searches, making your question less useful to other readers."}, {"owner": {"reputation": 7, "user_id": 5932131, "user_type": "registered", "profile_image": "https://graph.facebook.com/170909833286083/picture?type=large", "display_name": "Levi Branch", "link": "https://stackoverflow.com/users/5932131/levi-branch"}, "edited": false, "score": 0, "creation_date": 1456957304, "post_id": 35757876, "comment_id": 59192021, "body": "Sorry about that, should have thought it through. Not sure about the terminology for this, but hopefully you can understand me: how can I create a button like not on the title bar, but down below it, that says &quot;execute&quot; in the bottom right corner?"}, {"owner": {"reputation": 7, "user_id": 5932131, "user_type": "registered", "profile_image": "https://graph.facebook.com/170909833286083/picture?type=large", "display_name": "Levi Branch", "link": "https://stackoverflow.com/users/5932131/levi-branch"}, "edited": false, "score": 0, "creation_date": 1456958843, "post_id": 35757876, "comment_id": 59192744, "body": "I created one but for some reason it does not appear."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1456968910, "post_id": 35757876, "comment_id": 59196149, "body": "I don&#39;t think you are supposed create GUI thread on <code>DLL_PROCESS_ATTACH</code> in <code>DllMain</code> entry point. The error you are getting seems to be Visual Studio link error, perhaps from a separate EXE project. And you try call <code>DllMain</code> directly. You should start with something much simpler. Lookup <code>__declspec(dllexport)&#47;dllimport</code> and create DLL file, access it from your own EXE file."}, {"owner": {"reputation": 3418, "user_id": 2835286, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/357f94482ec908e87bbc8055feaa88d0?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Popovic", "link": "https://stackoverflow.com/users/2835286/marko-popovic"}, "edited": false, "score": 0, "creation_date": 1456995395, "post_id": 35757876, "comment_id": 59206695, "body": "The error message suggests that you have defined two <code>DllMain</code> functions in your source files, remove one and the error should disappear."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "reply_to_user": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1457004354, "post_id": 35757876, "comment_id": 59213152, "body": "@BarmakShemirani: Calling <code>CreateThread</code> from <code>DllMain</code> is fine, if you do not synchronize with other threads (see <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dn633971.aspx\" rel=\"nofollow noreferrer\">Dynamic-Link Library Best Practices</a>)."}], "owner": {"reputation": 7, "user_id": 5932131, "user_type": "registered", "profile_image": "https://graph.facebook.com/170909833286083/picture?type=large", "display_name": "Levi Branch", "link": "https://stackoverflow.com/users/5932131/levi-branch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456968919, "creation_date": 1456952249, "last_edit_date": 1456968919, "question_id": 35757876, "link": "https://stackoverflow.com/questions/35757876/using-a-c-dll-from-v-s-2015-how-would-i-attach-a-window", "title": "Using a C++ DLL (from V.S. 2015), how would I attach a window?", "body": "<p>So, recently I have gotten into coding. However, the type of programming I want to do would require heavy knowledge of reverse engineering- exploiting a games flaws. I want to be a penetration tester. My problem is that when I build the DLL solution, and inject into a random process (e.g. notepad, using Extreme Injector) no menu pops up. I believe it has something to do with the following error; however, after heavy research, I turn up nothing. Could someone link me to a viable source explaining the error, and what causes it?</p>\n\n<p><a href=\"https://gyazo.com/ae92e00aefbac3702bc75df369ccb188\" rel=\"nofollow\">The error:</a><br>\n<img src=\"https://i.gyazo.com/ae92e00aefbac3702bc75df369ccb188.png\"></p>\n\n<p>I'm not sure what is wrong with this. However, I have noticed that this occurred sometime after I put it into the editor- it was NOT there at the start. I believe I may have modified something which broke it.</p>\n\n<p>The code can be found below.</p>\n\n<pre><code>#include \"stdafx.h\"\n\n#define MYMENU_EXIT (WM_APP + 101)\n#define MYMENU_MESSAGEBOX (WM_APP + 102) \n\nHINSTANCE  inj_hModule;\nHWND       prnt_hWnd;\n\nLRESULT CALLBACK DLLWindowProc(HWND, UINT, WPARAM, LPARAM);\n\nBOOL RegisterDLLWindowClass(wchar_t szClassName[]) {\n    WNDCLASSEX wc;\n    wc.hInstance = inj_hModule;\n    wc.lpszClassName = (LPCWSTR)L\"InjectedDLLWindowClass\";\n    wc.lpszClassName = (LPCWSTR)szClassName;\n    wc.lpfnWndProc = DLLWindowProc;\n    wc.style = CS_DBLCLKS;\n    wc.cbSize = sizeof(WNDCLASSEX);\n    wc.hIcon = LoadIcon(NULL, IDI_APPLICATION);\n    wc.hIconSm = LoadIcon(NULL, IDI_APPLICATION);\n    wc.hCursor = LoadCursor(NULL, IDC_ARROW);\n    wc.lpszMenuName = NULL;\n    wc.cbClsExtra = 0;\n    wc.cbWndExtra = 0;\n    wc.hbrBackground = (HBRUSH)COLOR_BACKGROUND;\n    if (!RegisterClassEx(&amp;wc)) {\n        return 0;\n    }\n}\n\nHMENU CreateDLLWindowMenu() {\n    HMENU hMenu;\n    hMenu = CreateMenu();\n    HMENU hMenuPopup;\n    if (hMenu == NULL) {\n        return FALSE;\n    }\n\n    hMenuPopup = CreatePopupMenu();\n    AppendMenu(hMenuPopup, MF_STRING, MYMENU_EXIT, TEXT(\"Exit\"));\n    AppendMenu(hMenu, MF_POPUP, (UINT_PTR)hMenuPopup, TEXT(\"File\"));\n\n    hMenuPopup = CreatePopupMenu();\n    AppendMenu(hMenuPopup, MF_STRING, MYMENU_MESSAGEBOX, TEXT(\"MessageBox\"));\n    AppendMenu(hMenu, MF_POPUP, (UINT_PTR)hMenuPopup, TEXT(\"Test\"));\n    return hMenu;\n}\n\nDWORD WINAPI ThreadProc(LPVOID lpParam) {\n    MSG messages;\n    wchar_t *pString = reinterpret_cast&lt;wchar_t * &gt; (lpParam);\n    HMENU hMenu = CreateDLLWindowMenu();\n    RegisterDLLWindowClass(L\"InjectedDLLWindowClass\");\n    prnt_hWnd = FindWindow(NULL, L\"ROBLOX\");\n    HWND hwnd = CreateWindowEx(0, L\"InjectedDLLWindowClass\", pString, \n        WS_EX_PALETTEWINDOW, CW_USEDEFAULT, CW_USEDEFAULT, 400, 300, \n        prnt_hWnd, hMenu, inj_hModule, NULL);\n    ShowWindow(hwnd, SW_SHOWNORMAL);\n    while (GetMessage(&amp;messages, NULL, 0, 0)) {\n        TranslateMessage(&amp;messages);\n        DispatchMessage(&amp;messages);\n    }\n    return 1;\n}\n\nLRESULT CALLBACK DLLWindowProc(HWND hwnd, UINT message, WPARAM wParam, LPARAM lParam) {\n    switch (message) {\n    case WM_COMMAND:\n        switch (wParam) {\n        case MYMENU_EXIT:\n            SendMessage(hwnd, WM_CLOSE, 0, 0);\n            break;\n        case MYMENU_MESSAGEBOX:\n            MessageBox(hwnd, L\"Test\", L\"MessageBox\", MB_OK);\n            break;\n        }\n        break;\n    case WM_DESTROY:\n        PostQuitMessage(0);\n        break;\n    default:\n        return DefWindowProc(hwnd, message, wParam, lParam);\n    }\n    return 0;\n}\n\nBOOL APIENTRY DllMain(HMODULE hModule, DWORD  ul_reason_for_call, LPVOID lpReserved) {\n    if (ul_reason_for_call == DLL_PROCESS_ATTACH) {\n        inj_hModule = hModule;\n        CreateThread(0, NULL, ThreadProc, (LPVOID)L\"Agsploit - [By: Agluk15]\", NULL, NULL);\n    }\n    return TRUE;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "answers": [{"comments": [{"owner": {"reputation": 3379, "user_id": 4787510, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0p1SM.jpg?s=128&g=1", "display_name": "Sossenbinder", "link": "https://stackoverflow.com/users/4787510/sossenbinder"}, "edited": false, "score": 0, "creation_date": 1456953956, "post_id": 35758338, "comment_id": 59190175, "body": "Is there a way to use one general slot function then, but still be able to determine which button called the function? I would have to give some kind of information, right?"}, {"owner": {"reputation": 3379, "user_id": 4787510, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0p1SM.jpg?s=128&g=1", "display_name": "Sossenbinder", "link": "https://stackoverflow.com/users/4787510/sossenbinder"}, "edited": false, "score": 0, "creation_date": 1456954797, "post_id": 35758338, "comment_id": 59190646, "body": "Thanks, that works perfectly. Finally some C++ home soil with the sight of lambdas :) Regarding ui, It was autogenerated to be a object in my case. I was actually thinking this was standard behaviour"}], "tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 1, "last_activity_date": 1456954174, "last_edit_date": 1456954174, "creation_date": 1456953752, "answer_id": 35758338, "question_id": 35757840, "link": "https://stackoverflow.com/questions/35757840/why-is-my-connect-not-firing-off-the-signal-function/35758338#35758338", "title": "Why is my connect not firing off the signal function?", "body": "<p>You have inconsistency between the signal and the slot signatures - the signal has no parameter, the slot requires one parameter. Signatures must match, it is OK if the signal has say an int and a float parameters, in this case you can connect to a slot that takes only an int parameter, and the float will be discarded. In your case you connect a <code>signal(void)</code> to a <code>slot(enum)</code>, but where does the enum value come from?</p>\n\n<p>Instead create another slot that takes no parameters and connect the signal to it, and in that slot <code>m_uiInit.get()-&gt;ClickEvents(Buttons::PausePlayButton);</code></p>\n\n<p>In Qt the signal parameter is not specified upon connection, but upon signal emission - <code>emit someSignal(param)</code>. </p>\n\n<p>That being said, you can use the new connection syntax available in Qt5, and connect to a lambda, which will capture the needed data. It will be similar to creating the auxiliary slot, but it will be an unnamed function for each button instead (only works in Qt5+):</p>\n\n<pre><code>connect(ui-&gt;playPauseButton, &amp;QPushButton::clicked, [=](){ m_uiInit.get()-&gt;ClickEvents(Buttons::PausePlayButton); }); \n</code></pre>\n\n<p>BTW, <code>ui</code> is a pointer, so <code>ui.playPauseButton</code> is wrong as well.</p>\n"}, {"tags": [], "owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "is_accepted": false, "score": 0, "last_activity_date": 1456953945, "creation_date": 1456953945, "answer_id": 35758383, "question_id": 35757840, "link": "https://stackoverflow.com/questions/35757840/why-is-my-connect-not-firing-off-the-signal-function/35758383#35758383", "title": "Why is my connect not firing off the signal function?", "body": "<p>1) If the connect fails, you should get a run-time warning</p>\n\n<p>2) Look at <a href=\"http://doc.qt.io/qt-5/qsignalmapper.html\" rel=\"nofollow\">QSignalMapper</a> for the \"a class which should handle all the button events\" stuff</p>\n"}], "owner": {"reputation": 3379, "user_id": 4787510, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0p1SM.jpg?s=128&g=1", "display_name": "Sossenbinder", "link": "https://stackoverflow.com/users/4787510/sossenbinder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 35758338, "answer_count": 2, "score": 0, "last_activity_date": 1456954174, "creation_date": 1456952134, "last_edit_date": 1456953802, "question_id": 35757840, "link": "https://stackoverflow.com/questions/35757840/why-is-my-connect-not-firing-off-the-signal-function", "title": "Why is my connect not firing off the signal function?", "body": "<p>I am trying to learn Qt and wanted to start off with a small project.</p>\n\n<p>I added a pushbutton to my project with the name \"playPauseButton\". Currently, I am trying to connect it to a signal in a class which should handle all the button events, determining the current event with an enum value given in my SLOT.</p>\n\n<p>This is my code right now:</p>\n\n<pre><code>connect(ui.playPauseButton, SIGNAL(clicked()), m_uiInit.get(), SLOT(ClickEvents(Buttons::PausePlayButton)));\n</code></pre>\n\n<p>Note that <code>m_uiInit</code> is a <code>shared_ptr</code> pointing to the class which has the <code>ClickEvents()</code> method in it:</p>\n\n<pre><code>std::shared_ptr&lt;UIInit&gt; m_uiInit = std::shared_ptr&lt;UIInit&gt;(new UIInit());\n</code></pre>\n\n<p>My slot in the UIInit class looks like this:</p>\n\n<p>Header: </p>\n\n<pre><code>public slots:\n\n    void ClickEvents(Buttons button);\n</code></pre>\n\n<p>Cpp:</p>\n\n<pre><code>void UIInit::ClickEvents(Buttons button)\n{\n    switch (button)\n    {\n    case Buttons::PausePlayButton:\n        //Do something\n        break;\n    }\n}\n</code></pre>\n\n<p>Can anyone explain to me why this is not working?</p>\n\n<p>I suspect it's due to the third argument in the connect()-call. I often saw it with just \"this\", but I read up on it and found that it seems like it has to be a pointer to the object of the class containing the SLOT method?</p>\n\n<p>Can anyone help me out?</p>\n"}, {"tags": ["c++", "sorting", "radix-sort"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1456953302, "post_id": 35757826, "comment_id": 59189787, "body": "It sounds like you may need to learn how to use a debugger to step through your code. With a good debugger, you can execute your program line by line and see where it is deviating from what you expect. This is an essential tool if you are going to do any programming.  Further reading: <b><a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a></b>"}], "owner": {"reputation": 165, "user_id": 3529582, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/100002543619427/picture?type=large", "display_name": "user3529582", "link": "https://stackoverflow.com/users/3529582/user3529582"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1456952076, "creation_date": 1456952076, "question_id": 35757826, "link": "https://stackoverflow.com/questions/35757826/error-implementing-radix-sort-in-c", "title": "Error implementing Radix sort in C++", "body": "<p>I\u2019m trying to implement Radix-Sort with arrays of long int. </p>\n\n<p>My Algorithm has 2 inputs:</p>\n\n<ul>\n<li>The number \u2019n\u2019 of elements to be sorted</li>\n<li>The number \u2018b\u2019 of bits per digit (So, insted of taking the last decimal number, I take the groups of \u2018b\u2019 digits, representing one digit)</li>\n</ul>\n\n<p>But, when I try to sort the vector, I find 2 problems:</p>\n\n<ul>\n<li>First one: It doesn\u2019t sort the vector properly</li>\n<li>Second one: I have implemented it for taking from the last group of bits to the first one. But it seems like it tries to sort in in the opposite direction.</li>\n</ul>\n\n<p>Here is the code:</p>\n\n<pre><code>#define MAX_BITS sizeof(long int)*8\n#define VectorL vector&lt;long int&gt;\n\nstruct Compare\n{\n   int beg = 0;\n   int bits_per_digit = 2;\n\n   Compare(int x, int y){\n       beg = x;\n       bits_per_digit = y;\n   }\n\n   bool operator() (long&amp; a, long&amp; b){\n       int _begin = beg;\n       int _final = _begin + bits_per_digit - 1;\n\n       assert(_begin &lt;= _final); // b==f if  bits_per_digit = 1;\n\n       bitset&lt;sizeof(long int)&gt; _x(a), _y(b);\n\n       for(_begin; _begin &lt;= _final; _begin++)\n           if(_x[_begin] != _y[_begin])\n               return (_x[_begin] &lt; _y[_begin]) ? true : false;\n\n       return false;\n   }\n};\n\nvoid ALG(VectorL&amp; nums, int n, int b)\n{\n   assert(nums.size() == n);\n   assert(MAX_BITS%b == 0);\n\n   int _grupos = MAX_BITS/b;\n   Compare myobject(MAX_BITS,b);\n\n   for (int g = 1; g &lt;= _grupos; g++)\n   {\n       myobject.beg -= b;\n\n       sort(nums.begin(), nums.end(), myobject);\n   }\n}\n</code></pre>\n\n<p>Here\u2019s the main:</p>\n\n<pre><code>int n=5, b=2;\nVectorL nums(n);\nnums[0] = 2;\nnums[1] = 6;\nnums[2] = 1;\nnums[3] = 5;\nnums[4] = 0;\n\nALG(nums, n, b);\n</code></pre>\n\n<p>And here\u2019s the output:</p>\n\n<pre><code>Initial Vector: 2 6 1 5 0\nFrom bit 62 to bit 63\nVector after the 1\u00ba sort: 2 6 1 5 0\nFrom bit 60 to bit 61\nVector after the 2\u00ba sort: 2 6 1 5 0\nFrom bit 58 to bit 59\nVector after the 3\u00ba sort: 2 6 1 5 0\nFrom bit 56 to bit 57\nVector after the 4\u00ba sort: 2 6 1 5 0\nFrom bit 54 to bit 55\nVector after the 5\u00ba sort: 2 6 1 5 0\nFrom bit 52 to bit 53\nVector after the 6\u00ba sort: 2 6 1 5 0\nFrom bit 50 to bit 51\nVector after the 7\u00ba sort: 2 6 1 5 0\nFrom bit 48 to bit 49\nVector after the 8\u00ba sort: 2 6 1 5 0\nFrom bit 46 to bit 47\nVector after the 9\u00ba sort: 2 6 1 5 0\nFrom bit 44 to bit 45\nVector after the 10\u00ba sort: 2 6 1 5 0\nFrom bit 42 to bit 43\nVector after the 11\u00ba sort: 2 6 1 5 0\nFrom bit 40 to bit 41\nVector after the 12\u00ba sort: 2 6 1 5 0\nFrom bit 38 to bit 39\nVector after the 13\u00ba sort: 2 6 1 5 0\nFrom bit 36 to bit 37\nVector after the 14\u00ba sort: 2 6 1 5 0\nFrom bit 34 to bit 35\nVector after the 15\u00ba sort: 2 6 1 5 0\nFrom bit 32 to bit 33\nVector after the 16\u00ba sort: 2 6 1 5 0\nFrom bit 30 to bit 31\nVector after the 17\u00ba sort: 2 6 1 5 0\nFrom bit 28 to bit 29\nVector after the 18\u00ba sort: 2 6 1 5 0\nFrom bit 26 to bit 27\nVector after the 19\u00ba sort: 2 6 1 5 0\nFrom bit 24 to bit 25\nVector after the 20\u00ba sort: 2 6 1 5 0\nFrom bit 22 to bit 23\nVector after the 21\u00ba sort: 2 6 1 5 0\nFrom bit 20 to bit 21\nVector after the 22\u00ba sort: 2 6 1 5 0\nFrom bit 18 to bit 19\nVector after the 23\u00ba sort: 2 6 1 5 0\nFrom bit 16 to bit 17\nVector after the 24\u00ba sort: 2 6 1 5 0\nFrom bit 14 to bit 15\nVector after the 25\u00ba sort: 2 6 1 5 0\nFrom bit 12 to bit 13\nVector after the 26\u00ba sort: 2 6 1 5 0\nFrom bit 10 to bit 11\nVector after the 27\u00ba sort: 2 6 1 5 0\nFrom bit 8 to bit 9\nVector after the 28\u00ba sort: 2 6 1 5 0\nFrom bit 6 to bit 7\nVector after the 29\u00ba sort: 2 6 1 5 0\nFrom bit 4 to bit 5\nVector after the 30\u00ba sort: 2 6 1 5 0\nFrom bit 2 to bit 3\nVector after the 31\u00ba sort: 2 1 0 6 5\nFrom bit 0 to bit 1\nVector after the 32\u00ba sort: 0 2 6 1 5\n</code></pre>\n\n<p>As you can see in the output, the changes only happens in the 31st and 32nd sort (so, that means the significant bits are found in the last searchs).</p>\n\n<p>Anyone can help me to find my mistake?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "qt", "post", "multipart", "sendgrid"], "comments": [{"owner": {"reputation": 2065, "user_id": 5526140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JiUdk.jpg?s=128&g=1", "display_name": "Justin Steele", "link": "https://stackoverflow.com/users/5526140/justin-steele"}, "edited": false, "score": 0, "creation_date": 1456959580, "post_id": 35757738, "comment_id": 59193074, "body": "If you can &quot;translate&quot; VBA to your language see my answer to <a href=\"http://stackoverflow.com/questions/35423101/sendgrid-attachments-are-empty-or-corrupt-using-api-vba\">http://stackoverflow.com/questions/35423101/sendgrid-attachm&zwnj;&#8203;ents-are-empty-or-co&zwnj;&#8203;rrupt-using-api-vba</a>"}, {"owner": {"reputation": 2065, "user_id": 5526140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JiUdk.jpg?s=128&g=1", "display_name": "Justin Steele", "link": "https://stackoverflow.com/users/5526140/justin-steele"}, "edited": false, "score": 0, "creation_date": 1456959803, "post_id": 35757738, "comment_id": 59193159, "body": "Where you see BASE64ENCODEDFILE in that example you would replace that with the Base64 encoded file (read it from disk, base64 encode it). To add more files you&#39;d add: dataToSend = dataToSend + &quot;--&quot; + boundary + vbCrLf dataToSend = dataToSend + &quot;Content-Disposition: form-data; name=&quot;&quot;files[2]&quot;&quot;; filename=&quot;&quot;my2ndPDF.pdf&quot;&quot;&quot; + vbCrLf  dataToSend = dataToSend + &quot;Content-Type: application/octet-stream&quot; + vbCrLf dataToSend = dataToSend + 2NDBASE64ENCODEDFILE + vbCrLf  dataToSend = dataToSend + &quot;--&quot; + boundary + vbCrLf"}, {"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1457017434, "post_id": 35757738, "comment_id": 59222809, "body": "Post some code so we&#39;ll see what you are trying. Here is an example how to attach a file and set header for multipart with QNAM <a href=\"http://stackoverflow.com/questions/15109656/qnetworkaccessmanager-post-http-multipart-from-serial-qiodevice\" title=\"qnetworkaccessmanager post http multipart from serial qiodevice\">stackoverflow.com/questions/15109656/&hellip;</a>"}, {"owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "reply_to_user": {"reputation": 2065, "user_id": 5526140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JiUdk.jpg?s=128&g=1", "display_name": "Justin Steele", "link": "https://stackoverflow.com/users/5526140/justin-steele"}, "edited": false, "score": 0, "creation_date": 1457023843, "post_id": 35757738, "comment_id": 59227977, "body": "@JustinSteele Ive written what i think should be the equivalent to your code in C++ but its not sending emails."}, {"owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "reply_to_user": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1457043959, "post_id": 35757738, "comment_id": 59239957, "body": "@misha130 i have posted what i have been trying, the multipart request on the page you linked is what i am confused about, how could i get that to work with what i currently have? on the send grid web api it didn&#39;t mention things like &#39;Content Type Headers&#39; so I&#39;m not sure where or why it would come into the code i currently have"}, {"owner": {"reputation": 3775, "user_id": 2490286, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b5e93900c574c9f37fa4a77593fb5b8a?s=128&d=identicon&r=PG&f=1", "display_name": "misha130", "link": "https://stackoverflow.com/users/2490286/misha130"}, "edited": false, "score": 0, "creation_date": 1457044462, "post_id": 35757738, "comment_id": 59240201, "body": "No No it did mention that <a href=\"https://sendgrid.com/docs/API_Reference/Web_API/mail.html#-send\" rel=\"nofollow noreferrer\">sendgrid.com/docs/API_Reference/Web_API/mail.html#-send</a> see example in the end. Basically your POST should look like theirs. If all fails, include curl and let it handle it for you. But I mean if everything everything fails."}, {"owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "edited": false, "score": 0, "creation_date": 1457044812, "post_id": 35757738, "comment_id": 59240362, "body": "ah ok, so I should replicate this format in my post request from the point &quot;Content-Type: multipart/form-data....&quot; up until &quot;HTTP/1.1 200 OK&quot; ?"}, {"owner": {"reputation": 2065, "user_id": 5526140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JiUdk.jpg?s=128&g=1", "display_name": "Justin Steele", "link": "https://stackoverflow.com/users/5526140/justin-steele"}, "edited": false, "score": 0, "creation_date": 1457050647, "post_id": 35757738, "comment_id": 59242646, "body": "I figured it out! Posting answer soon..."}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "edited": false, "score": 0, "creation_date": 1457053554, "post_id": 35785905, "comment_id": 59243686, "body": "thanks so much, this worked! although it did require two small changes, i renamed &#39;files[1]&#39; to &#39;files[TodayRoute.html]&#39; and i removed the &#39;.toBase64()&#39; from the &#39;file1.readAll()&#39;"}], "tags": [], "owner": {"reputation": 2065, "user_id": 5526140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JiUdk.jpg?s=128&g=1", "display_name": "Justin Steele", "link": "https://stackoverflow.com/users/5526140/justin-steele"}, "is_accepted": true, "score": 2, "last_activity_date": 1457053647, "last_edit_date": 1457053647, "creation_date": 1457051827, "answer_id": 35785905, "question_id": 35757738, "link": "https://stackoverflow.com/questions/35757738/how-to-make-a-request-to-sendgrid-web-api-which-includes-a-multipart-http-post/35785905#35785905", "title": "How to make a request to SendGrid web api which includes a multipart HTTP POST", "body": "<p>I played around with this using C# and learned that you need an empty line         \"\\r\\n\" between the Content-Disposition: line and the value. I believe you also need one after the Content-Type: line for the file. And the last boundary ends with '--'.</p>\n\n<pre><code>    char speechMk = '\"';\n    QString boundary = \"----------------------------123456789abc\";\n\n    QByteArray data(QString(\"--\" + boundary + \"\\r\\n\").toLatin1());\n\n    data.append(QString(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"api_user\" + QString(speechMk) + \"\\r\\n\").toLatin1());\n    data.append(\"\\r\\n\");\n    data.append(\"myuser\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"api_key\" + QString(speechMk) + \"\\r\\n\" );\n    data.append(\"\\r\\n\");\n    data.append(\"mypassword\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"to\" + QString(speechMk) + \"\\r\\n\");\n    data.append(\"\\r\\n\");\n    data.append(\"myemail@hotmail.co.uk\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"toname\" + QString(speechMk) + \"\\r\\n\");\n    data.append(\"\\r\\n\");\n    data.append( \"Destination\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"subject\" + QString(speechMk) + \"\\r\\n\");\n    data.append(\"\\r\\n\");\n    data.append(\"eSubject\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"text\" + QString(speechMk) + \"\\r\\n\");\n    data.append(\"\\r\\n\");\n    data.append(\"eBody\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"from\" + QString(speechMk) + \"\\r\\n\");\n    data.append(\"\\r\\n\");\n    data.append(\"noreply@randomdomain.com\");\n    data.append(\"\\r\\n\");\n\n    data.append(\"--\" + boundary + \"\\r\\n\");\n    data.append(\"Content-Disposition: form-data; name=\" +  QString(speechMk) + \"files[1]\" + QString(speechMk) + \"; filename=\" + QString(speechMk) + \"TodayRoute.html\" + QString(speechMk) + \"\\r\\n\");\n\n    data.append(\"Content-Type: application/octet-stream\");\n    data.append(\"\\r\\n\");\n    data.append(\"\\r\\n\");\n\n    QFile file1(path);\n    if (!file1.open(QFile::ReadOnly)){\n        qDebug() &lt;&lt; \"could not open\";\n    } else {\n        data.append(file1.readAll().toBase64() + \"\\r\\n\");\n    }\n    data.append(\"--\" + boundary + \"--\\r\\n\");\n\n    file1.close();\n\n    QNetworkAccessManager theMan;\n\n    QNetworkRequest req = QNetworkRequest(QUrl(\"https://api.sendgrid.com/api/mail.send.json\"));\n    req.setHeader(QNetworkRequest::ContentTypeHeader, QVariant(\"multipart/form-data; boundary=\" + boundary));\n    theMan.post(req,data);\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 2471711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a89b6532ecd20c64a26eae7bc6e047d1?s=128&d=identicon&r=PG", "display_name": "user2471711", "link": "https://stackoverflow.com/users/2471711/user2471711"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 582, "favorite_count": 0, "accepted_answer_id": 35785905, "answer_count": 1, "score": 2, "last_activity_date": 1457053647, "creation_date": 1456951707, "last_edit_date": 1457023665, "question_id": 35757738, "link": "https://stackoverflow.com/questions/35757738/how-to-make-a-request-to-sendgrid-web-api-which-includes-a-multipart-http-post", "title": "How to make a request to SendGrid web api which includes a multipart HTTP POST", "body": "<p>I know there are similar questions but I still cant get this to work or understand what i am supposed to do.</p>\n\n<p>Im writing an application in C++ and using QtCreator. I am trying to use the SendGrid web api to send an email with an html file attached. so far I have been able to send an email but I am having trouble attaching a file to it (the file is local). The documentation says: </p>\n\n<blockquote>\n  <p>The file contents must be part of the multipart HTTP POST. Ex: <code>files[file1.jpg]=file1.jpg&amp;files[file2.pdf]=file2.pdf'</code></p>\n</blockquote>\n\n<p>I wasn't exactly sure what is meant by this so i researched what a multipart http post was and saw examples but i cant see how i would get it to work with what I am doing. \nso far all I have needed to do is call post, enter the link for the request and the post data: </p>\n\n<pre><code>api_user=your_sendgrid_username&amp;api_key=your_sendgrid_password&amp;to=destination@example.com&amp;toname=Destination&amp;subject=Example_Subject&amp;text=testingtextbody&amp;from=info@domain.com\n</code></pre>\n\n<p>I don't see where a multipart HTTP post would come into this and how it could replace the current post data, Ive seen things like setting the Header and Body in a multipart HTTP post but i don't see how any of that is relevant to what i am doing or what i am supposed to do with it.</p>\n\n<p>Could someone please give me an example of how I could attach a local file to the post call to SendGrid in Qt C++</p>\n\n<p>Update:\nThis is my interpretation of justin steele's instructions:</p>\n\n<pre><code> char speechMk = '\"';\nQString boundary = \"----------------------------123456789abc\";\n    QByteArray data(QString(\"--\" + boundary + \"\\r\\n\").toLatin1());\n    data.append(QString(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"api_user\" + QString(speechMk) + \"\\r\\n\").toLatin1());\n       data.append(\"myuser\");\n       data.append(\"\\r\\n\");\n\n       data.append(\"--\" + boundary + \"\\r\\n\");\n       data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"api_key\" + QString(speechMk) + \"\\r\\n\" );\n       data.append(\"mypassword\");\n       data.append(\"\\r\\n\");\n\n       data.append(\"--\" + boundary + \"\\r\\n\");\n       data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"to\" + QString(speechMk) + \"\\r\\n\");\n       data.append(\"myemail@hotmail.co.uk\");\n       data.append(\"\\r\\n\");\n\n        data.append(\"--\" + boundary + \"\\r\\n\");\n       data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"toname\" + QString(speechMk) + \"\\r\\n\");\n       data.append( \"Destination\");\n       data.append(\"\\r\\n\");\n\n       data.append(\"--\" + boundary + \"\\r\\n\");\n       data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"subject\" + QString(speechMk) + \"\\r\\n\");\n       data.append(\"eSubject\");\n       data.append(\"\\r\\n\");\n\n       data.append(\"--\" + boundary + \"\\r\\n\");\n       data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"text\" + QString(speechMk) + \"\\r\\n\");\n       data.append(\"eBody\");\n       data.append(\"\\r\\n\");\n\n       data.append(\"--\" + boundary + \"\\r\\n\");\n      data.append(\"Content-Disposition: form-data; name=\" + QString(speechMk) + \"from\" + QString(speechMk) + \"\\r\\n\");\n      data.append(\"noreply@randomdomain.com\");\n      data.append(\"\\r\\n\");\n\n      data.append(\"--\" + boundary + \"\\r\\n\");\n      data.append(\"Content-Disposition: form-data; name=\" +  QString(speechMk) + \"files[1]\" + QString(speechMk) + \"; filename=\" + QString(speechMk) + \"TodayRoute.html\" + QString(speechMk) + \"\\r\\n\");\n\n      data.append(\"Content-Type: application/octet-stream\");\n      data.append(\"\\r\\n\");\n      QFile file1(path);\n      if (!file1.open(QFile::ReadOnly)){\n          qDebug() &lt;&lt; \"could not open\";\n      } else {\n          data.append(file1.readAll().toBase64() + \"\\r\\n\");\n      }\n      data.append(\"--\" + boundary + \"\\r\\n\");\n\n    file1.close();\n\n    QNetworkAccessManager theMan;\n\n    QNetworkRequest req = QNetworkRequest(QUrl(\"https://api.sendgrid.com/api/mail.send.json\"));\n    req.setHeader(QNetworkRequest::ContentTypeHeader, QVariant(\"multipart/form-data; boundary=\" + boundary));\n    theMan.post(req,data);\n</code></pre>\n\n<p>This is what i had before (below) and it would send an email with an attached file, but the attached file wouldn't contain the contents I wanted.</p>\n\n<pre><code> QByteArray data(QString(\"api_user=myuser&amp;\").toLatin1());\n        data.append(\"api_key=mypassword&amp;\");\n        data.append(\"to=myemail@hotmail.co.uk&amp;\");\n        data.append(\"toname=Destination&amp;\");\n        data.append(\"files[TodayRoute.html]=\");\n        QFile file(path);\n            if (!file.open(QIODevice::ReadOnly)){\n                qDebug() &lt;&lt; \"QFile Error: File not found!\";\n            //    return data;\n            } else { qDebug() &lt;&lt; \"File found, proceed as planned\"; }\n        data.append(file.readAll());\n\n        data.append(\"&amp;subject=Example_Subject&amp;\");\n        data.append(\"text=testingtextbody&amp;\");\n        data.append(\"from=noreply@domainrandom.com\");\n\n\n\n           QUrl mResultsURL = QUrl(\"https://api.sendgrid.com/api/mail.send.json\");\n           QNetworkAccessManager mNetworkManager;\n           QNetworkRequest request(mResultsURL); //our server with php-script\n          mNetworkManager.post(request,data);\n        file.close(); \n</code></pre>\n"}, {"tags": ["c++", "project"], "comments": [{"owner": {"reputation": 2640, "user_id": 5195699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f85291bb71f55981b1d412f1efcb7603?s=128&d=identicon&r=PG&f=1", "display_name": "R_Kapp", "link": "https://stackoverflow.com/users/5195699/r-kapp"}, "edited": false, "score": 1, "creation_date": 1456951886, "post_id": 35757682, "comment_id": 59188929, "body": "The error message means that you&#39;ve defined (at least) one function more than once. Without more information (e.g., the full compiler output, which should include which functions are defined multiple times), it&#39;s not possible to provide much more help. Also, for future reference, make sure to reduce your examples to the shortest possible segment necessary to reproduce the problem. This is just a code dump."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 1235106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYDja.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1235106/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1461146260, "last_edit_date": 1461146260, "creation_date": 1456953628, "answer_id": 35758308, "question_id": 35757682, "link": "https://stackoverflow.com/questions/35757682/lnk1169-one-or-more-multiply-defined-symbols-found-in-a-basic-game/35758308#35758308", "title": "LNK1169 &quot;one or more multiply defined symbols found&quot; in a basic game", "body": "<p>Its simple, you have used</p>\n\n<pre><code>#ifndef PLAYER_H\n#define PLAYER_H\n</code></pre>\n\n<p>twice in Player.h and Enemy.h. Just simply replace:</p>\n\n<pre><code>#ifndef PLAYER_H\n#define PLAYER_H\n</code></pre>\n\n<p>by</p>\n\n<pre><code>#ifndef ENEMY_H\n#define ENEMY_H\n</code></pre>\n\n<p>in Enemy.h</p>\n\n<p>Or use <code>#pragma once</code> preprocessor directive before your declarations in *.h\n files</p>\n\n<p>But the real problem is this line in Player.h</p>\n\n<pre><code>std::vector&lt;std::string&gt; type = { \"Bronze\", \"Iron\", \"Silver\", \"Steel\", \"Gold\", \"Diamond\" };\n</code></pre>\n\n<p>To declare an global variable in a header use the keyword extern.</p>\n\n<pre><code>// Player.h\nextern std::vector&lt;std::string&gt; type;\n\n// Player.cpp\nstd::vector&lt;std::string&gt; type = { \"Bronze\", \"Iron\", \"Silver\", \"Steel\", \"Gold\", \"Diamond\" };\n</code></pre>\n\n<p>Is it not an option to change this to an enum class?</p>\n\n<pre><code>enum class Types {\n    Bronze,\n    Iron,\n    Silver,\n    Steel,\n    Gold,\n    Diamond\n};\n</code></pre>\n\n<p>And use namespace through out the application?</p>\n"}], "owner": {"reputation": 19, "user_id": 6009914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43a09bef951080b859ca32f745c97227?s=128&d=identicon&r=PG&f=1", "display_name": "S. Cornfield", "link": "https://stackoverflow.com/users/6009914/s-cornfield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1461146260, "creation_date": 1456951443, "question_id": 35757682, "link": "https://stackoverflow.com/questions/35757682/lnk1169-one-or-more-multiply-defined-symbols-found-in-a-basic-game", "title": "LNK1169 &quot;one or more multiply defined symbols found&quot; in a basic game", "body": "<p>This project is not done but currently my group is stuck with the LNK1169 error.</p>\n\n<p>We have a player.h and player.cpp as well as an enemy.h and enemy.cpp and obviously a source.cpp.  Somehow the linking between the files got messed up when we combined work on the player and work on the enemy files.</p>\n\n<p>Source.cpp  </p>\n\n<pre><code>//#pragma once\n\n#include \"Player.h\"\n#include \"Enemy.h\"\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;time.h&gt;\n#include &lt;random&gt;\n\nusing namespace std;\n\nint main()\n{\ncout &lt;&lt; \"Welcome to our game\" &lt;&lt; endl;\ncout &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n\nint ans = 0;\n\ndo {\n    cout &lt;&lt; \"    Main Menu\" &lt;&lt; endl;\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n    cout &lt;&lt; \"1:     Play Game\" &lt;&lt; endl;\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n    cout &lt;&lt; \"2:     Exit\" &lt;&lt; endl;\n    cout &lt;&lt; \"-----------------------------\" &lt;&lt; endl;\n\n    cin &gt;&gt; ans;\n\n    switch (ans)\n    {\n    case 1: //main body of game\n\n    case 2:\n        return 0;\n\n    default:\n        cout &lt;&lt; \"Please enter 1 to play the game or 2 to exit\" &lt;&lt; endl;\n        cin &gt;&gt; ans;\n        break;\n    }\n} while (ans != 2);\nreturn 0;\n}\n</code></pre>\n\n<p>Enemy.h:</p>\n\n<pre><code>/*           UML\n           Enemies\n******************************************\nPrivate\n- Health: int\n- Attack : int\n- Defence : int\n******************************************\nPublic\n+ accessor and mutator functions\n+ AttackCharacter()\n+ DefendCharacter()\n+ ChangePosition()\n+ LoseHealth()\n+ RandomSpawn()\n*******************************************\n*/\n//#pragma once\n#ifndef PLAYER_H\n#define PLAYER_H\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nclass Enemy\n{\nprivate:\n    int\n        health,\n        attack,\n        defence;\n\npublic:\n    Enemy(int Health, int Attack, int Defence)\n    {\n        health = Health; attack = Attack; defence = Defence;\n    }\n\n    int getHealth();\n    int getAttack();\n    int getDefence();\n\n    void setHealth(int h);\n    void setAttack(int a);\n    void setDefence(int d);\n\n    //void Attack(Player P1);\n};\n\n#endif\n</code></pre>\n\n<p>Enemy.cpp</p>\n\n<pre><code>#include \"Enemy.h\"\n#include \"Player.h\"\n\n/*#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n*/\n\nint Enemy::getHealth() { return health; }\nint Enemy::getAttack() { return attack; }\nint Enemy::getDefence() { return defence; }\n\nvoid Enemy::setHealth(int h)\n{\n    health = h;\n}\n\nvoid Enemy::setAttack(int a)\n{\n    attack = a;\n}\n\nvoid Enemy::setDefence(int d)\n{\n    defence = d;\n}\n\n//void Enemy::Attack(Player P1)\n//{\n//  int h = P1.getHealth();\n//  int d = P1.getDefence();\n//  int a = getAttack();\n//  if (d + h - a &gt; h)\n//  {\n//      cout &lt;&lt; \"You lost 0 health\" &lt;&lt; endl;\n//      P1.setHealth(h);\n//  }\n//  else\n//  {\n//      int h1 = h + d - a;\n//      cout &lt;&lt; \"You lost \" &lt;&lt; h1 - h &lt;&lt; \" health\" &lt;&lt; endl;\n//      P1.setHealth(h1);\n//  }\n//}\n</code></pre>\n\n<p>The Enemy::attack() function is a work in progress and not really the problem</p>\n\n<p>Player.h:</p>\n\n<pre><code>//#pragma once\n#ifndef PLAYER_H\n#define PLAYER_H\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nstruct Armor\n{\n    string name;\n    char type;\n    int health;\n    int attack;\n    int defense;\n    Armor() { name = \"\"; type = ' '; health = 0; attack = 0; defense = 0; } //  constructor\n};\n\nstruct Weapon\n{\n    string name;\n    char type;\n    int health;\n    int attack;\n    int defense;\n    Weapon() { name = \"\"; type = ' '; health = 0; attack = 0; defense = 0; } //  constructor\n};\n\nstruct Shield\n{\n    string name;\n    char type;\n    int health;\n    int attack;\n    int defense;\n    Shield() { name = \"\"; type = ' '; health = 0; attack = 0; defense = 0; } //  constructor\n};\n\nstruct Potion\n{\n    string name;\n    char type;\n    int health;\n    int attack;\n    int defense;\n    Potion() { name = \"\"; type = ' '; health = 0; attack = 0; defense = 0; } //  constructor\n};\n\nvector&lt;string&gt; type = { \"Bronze\", \"Iron\", \"Silver\", \"Steel\", \"Gold\", \"Diamond\" };\n\nclass Player\n{\nprivate:\n    string name;\n    int initialhealth;\n    int initialattack;\n    int initialdefense;\n    int health;\n    int attack;\n    int defense;\npublic:\n    Player(string n = \" \", int ih = 0, int ia = 0, int id = 0, int h = 0, int a = 0, int d = 0)\n    {\n        name = n; initialhealth = ih; initialattack = ia; initialdefense = id; health = h; attack = a; defense = d;\n    };\n\n    Armor armor;\n    Weapon weapon;\n    Shield shield;\n    Potion potion;\n\n    string getname();\n    int getinitialhealth();\n    int getinitialattack();\n    int getinitialdefense();\n    int getHealth();\n    int getAttack();\n    int getDefense();\n\n    void setname(string n);\n    void setinitialhealth(int ih);\n    void setinitialattack(int ia);\n    void setinitialdefense(int id);\n    void setHealth(int h);\n    void setAttack(int a);\n    void setDefense(int d);\n\n    void addITEMS();\n    void displayPlayer();\n    void checkARMOR();\n\n};\n\n\n#endif\n</code></pre>\n\n<p>Player.cpp:</p>\n\n<pre><code>//#include &lt;iostream&gt;\n//#include &lt;string&gt;\n#include \"Player.h\"\n//using namespace std;\n\nstring Player::getname() { return name; }\nint Player::getinitialhealth() { return initialhealth; }\nint Player::getinitialattack() { return initialattack; }\nint Player::getinitialdefense() { return initialdefense; }\nint Player::getHealth() { return health; }\nint Player::getAttack() { return attack; }\nint Player::getDefense() { return defense; }\n\nvoid Player::setname(string n) { name = n; }\nvoid Player::setinitialhealth(int ih) { initialhealth = ih; }\nvoid Player::setinitialattack(int ia) { initialattack = ia; }\nvoid Player::setinitialdefense(int id) { initialdefense = id; }\nvoid Player::setHealth(int ih) { health = ih; }\nvoid Player::setAttack(int ia) { attack = ia; }\nvoid Player::setDefense(int id) { defense = id; }\n\nvoid Player::addITEMS()\n{\n    health = initialhealth + armor.health + weapon.health + shield.health;\n    attack = initialattack + armor.attack + weapon.attack + shield.attack;\n    defense = initialdefense + armor.defense + weapon.defense + shield.defense;\n}\n\nvoid Player::displayPlayer()\n{\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"=========================\" &lt;&lt; endl;\n    cout &lt;&lt; \" Name    : \" &lt;&lt; name &lt;&lt; endl;\n    cout &lt;&lt; \" Health  : \" &lt;&lt; health &lt;&lt; endl;\n    cout &lt;&lt; \" Attack  : \" &lt;&lt; attack &lt;&lt; endl;\n    cout &lt;&lt; \" Defence : \" &lt;&lt; defense &lt;&lt; endl;\n    cout &lt;&lt; \"=========================\" &lt;&lt; endl;\n}\n\n\nvoid Player::checkARMOR()\n{\n    if (weapon.name == \"Bronze\")\n    {\n        armor.health = 10;\n        armor.attack = 5;\n        armor.defense = 15;\n    }\n\n    if (armor.name == \"Iron\")\n    {\n        armor.health = 100;\n        armor.attack = 15;\n        armor.defense = 150;\n    }\n}\n</code></pre>\n\n<p>Any insight anyone could give into why the LNK1169 error may be popping up would be greatly appreciated.  Thank you.</p>\n"}, {"tags": ["c++", "debugging", "gdb"], "comments": [{"owner": {"reputation": 927, "user_id": 5220640, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1314995621c1b3ea44cc9110eab67e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Tuffwer", "link": "https://stackoverflow.com/users/5220640/tuffwer"}, "edited": false, "score": 0, "creation_date": 1456951969, "post_id": 35757675, "comment_id": 59188980, "body": "Are you looking to just print the current state of the variables at that point? <a href=\"http://stackoverflow.com/questions/6261392/printing-all-global-variables-local-variables\" title=\"printing all global variables local variables\">stackoverflow.com/questions/6261392/&hellip;</a>. Or do you really need to know how each is behaving changing line by line?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456954215, "post_id": 35757675, "comment_id": 59190324, "body": "Is it possible to throw an IDE at the problem? You should be able to run your program under test through gdbserver from a full-featured desktop."}, {"owner": {"reputation": 15, "user_id": 5963238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJkOc.png?s=128&g=1", "display_name": "Klaus Valse", "link": "https://stackoverflow.com/users/5963238/klaus-valse"}, "edited": false, "score": 0, "creation_date": 1457468822, "post_id": 35757675, "comment_id": 59418058, "body": "Thank you Guys and Tuffwer - the link to the question answered my question sufficiently."}], "answers": [{"tags": [], "owner": {"reputation": 18871, "user_id": 1442050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e975c669f2ce0f2be4613f1e123864b3?s=128&d=identicon&r=PG", "display_name": "Tom Tromey", "link": "https://stackoverflow.com/users/1442050/tom-tromey"}, "is_accepted": false, "score": 0, "last_activity_date": 1456957553, "creation_date": 1456957553, "answer_id": 35759418, "question_id": 35757675, "link": "https://stackoverflow.com/questions/35757675/how-can-i-make-a-step-in-gdb-and-show-the-output-of-the-line-at-the-same-time/35759418#35759418", "title": "How can I make a step in gdb and show the output of the line at the same time?", "body": "<p>You can tell gdb to re-evaluate an expression after each step using the <code>display</code> command.  So for example you could:</p>\n\n<pre><code>(gdb) display var1\n(gdb) display var2\n(gdb) display var3\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 5963238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJkOc.png?s=128&g=1", "display_name": "Klaus Valse", "link": "https://stackoverflow.com/users/5963238/klaus-valse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456957553, "creation_date": 1456951418, "question_id": 35757675, "link": "https://stackoverflow.com/questions/35757675/how-can-i-make-a-step-in-gdb-and-show-the-output-of-the-line-at-the-same-time", "title": "How can I make a step in gdb and show the output of the line at the same time?", "body": "<p>I have to debug a code segment where I have a lot of values and I need to know the value of each right before I step to the next line. Of course I can do this with \n    step\n    print Value\nbut with more than 3 values this gets exhausting, so is there an automatic version?</p>\n"}, {"tags": ["c++", "list", "extract", "sublist"], "comments": [{"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1456951490, "post_id": 35757640, "comment_id": 59188705, "body": "<a href=\"https://github.com/ryanhaining/cppitertools#slice\" rel=\"nofollow noreferrer\">iter::slice plug</a>"}, {"owner": {"reputation": 1026, "user_id": 5583153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/116adeea4dcb2db23e70b696d4949184?s=128&d=identicon&r=PG&f=1", "display_name": "Nacho", "link": "https://stackoverflow.com/users/5583153/nacho"}, "edited": false, "score": 1, "creation_date": 1456951667, "post_id": 35757640, "comment_id": 59188814, "body": "Traverse the list, make a new list with the Person objects that meet your requirements?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1456951812, "post_id": 35757640, "comment_id": 59188888, "body": "So what is your actual problem?"}, {"owner": {"reputation": 43, "user_id": 5840158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33683745cdd98501a08feac9b9fa7952?s=128&d=identicon&r=PG&f=1", "display_name": "P. A.", "link": "https://stackoverflow.com/users/5840158/p-a"}, "edited": false, "score": 0, "creation_date": 1456952715, "post_id": 35757640, "comment_id": 59189446, "body": "Suppose you want to take all people named John and remove the John entry in the list with the minimum value of weight. Repeat the process for every unique name."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456953297, "post_id": 35757640, "comment_id": 59189782, "body": "Pretty good odds that the cost of building the sublist and then iterating the sublist will be higher than simply operating on the list. Unless you have some groovy ordering scheme you haven&#39;t shared, you have to iterate the whole list to make sure you have all of the matching elements in the sublist. Might as well just perform the operation on the elements as you find them."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456953436, "post_id": 35757640, "comment_id": 59189863, "body": "Unless you intend to cache and reuse that sublist, that is. In that case, may I recommend <code>std::shared_ptr</code>? Why the heck are you using a list of pointers anyway?"}], "owner": {"reputation": 43, "user_id": 5840158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33683745cdd98501a08feac9b9fa7952?s=128&d=identicon&r=PG&f=1", "display_name": "P. A.", "link": "https://stackoverflow.com/users/5840158/p-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456952438, "creation_date": 1456951271, "question_id": 35757640, "link": "https://stackoverflow.com/questions/35757640/how-do-i-select-a-subset-of-elements-from-a-stl-list", "title": "How do I select a subset of elements from a STL list?", "body": "<p>I have an STL list of pointers to a Person class, list L. The instances of the class have three properties Name, Age, Weight, and Height. They are of type string, int, int, double respectively. I want to extract a subset of the list where Name assumes a value, say, \"John\" and perform operations on the sublist. Alternately, I could perform operations on the sublist without first extracting it from the main list. How do I accomplish this? </p>\n"}, {"tags": ["c++", "list", "raspberry-pi2", "arduino-uno"], "comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1456950888, "post_id": 35757453, "comment_id": 59188386, "body": "Given that 16383 happens to be 2 ** 14 -1, I suspect there&#39;s simply a stack limit here... and you cannot have an array of size 131,300..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1456950969, "post_id": 35757453, "comment_id": 59188423, "body": "Assume <code>sizeof(int) == 4</code> a fairly safe assumption for raspberry pi. 16383 * 4 = 65532 which is 1 int away from 65536, 2 to the power of 16. Very likely a memory limit and a misleading error message."}, {"owner": {"reputation": 13883, "user_id": 2883245, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/NPpPG.jpg?s=128&g=1", "display_name": "erip", "link": "https://stackoverflow.com/users/2883245/erip"}, "edited": false, "score": 1, "creation_date": 1456951004, "post_id": 35757453, "comment_id": 59188444, "body": "You don&#39;t have enough storage on your raspberry pi."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456951741, "post_id": 35757453, "comment_id": 59188845, "body": "Arduino and Raspberry Pi are completely different products, please select the appropriate tag"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1456951818, "post_id": 35757453, "comment_id": 59188890, "body": "The error message you posted suggests the compiler adjusted <code>int sintab2[131300]</code> to <code>int sintab2[16383]</code>. Were there any earlier warning or error messages that you neglected to post?  (Always post the complete compiler output)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456952035, "post_id": 35757453, "comment_id": 59189023, "body": "BTW there is arduino.stackexchange.com"}], "owner": {"reputation": 41, "user_id": 5914306, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b36059e250d9229ce70f0652e629e7bf?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/5914306/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1584881654, "creation_date": 1456950593, "last_edit_date": 1456950911, "question_id": 35757453, "link": "https://stackoverflow.com/questions/35757453/why-does-arduino-ide-tell-me-i-have-too-many-initiallizers", "title": "Why does arduino ide tell me I have too many initiallizers?", "body": "<p>I have a sinewave look up table in the form of a list in my arduino program. I used a calculator to generate it. I have confirmed the length of the list with a python 2 shell,\n<code>&gt;&gt;&gt;a=[all the variables  separated by commas]</code> \n<code>&gt;&gt;&gt;len(a)</code>\n131300 is the value returned as the number of values in 'a'. So why when I run this code:</p>\n\n<pre><code>#include &lt;Wire.h&gt;//Include the Wire library to talk I2C\n\n//This is the I2C Address of the MCP4725, by default (A0 pulled to GND).\n#define MCP4725_ADDR 0x60   \n\n//Sinewave Tables were generated using this calculator:\n//http://www.daycounter.com/Calculators/Sine-Generator-Calculator.phtml\n\n\nint lookup = 0;//varaible for navigating through the tables\nint sintab2[131300]=\n{ \n    /* This is where I put my list. */ \n};\n\n\nvoid setup()\n{\n  Wire.begin();\n\n  // Set A2 and A3 as Outputs to make them our GND and Vcc,\n  //which will power the MCP4725\n  pinMode(A2, OUTPUT);\n  pinMode(A3, OUTPUT);\n\n  digitalWrite(A2, LOW);//Set A2 as GND\n  digitalWrite(A3, HIGH);//Set A3 as Vcc\n}\n//---------------------------------------------------\nvoid loop()\n{\n  Wire.beginTransmission(MCP4725_ADDR);\n  Wire.write(64);                     // cmd to update the DAC\n  Wire.write(sintab2[lookup] &gt;&gt; 4);        // the 8 most significant bits...\n  Wire.write((sintab2[lookup] &amp; 15) &lt;&lt; 4); // the 4 least significant bits...\n  Wire.endTransmission();\n  lookup = (lookup + 1) &amp; 147454;\n}\n</code></pre>\n\n<p>Why am I getting this error, the python shell is telling me my list is 131300 values long.</p>\n\n<pre><code>DAC_SINE.cpp:6607:1: error: too many initializers for 'int [16383]'\n</code></pre>\n\n<p>If it is needed I can post my list. The values I entered into the daycounter.com calculator with 131299 for the number of points, 4095 for the max amplitude, 20 numbers per row, and decimal format. Please help.</p>\n"}, {"tags": ["c++", "visual-studio-2008", "stdvector", "access-violation", "push-back"], "comments": [{"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 3, "creation_date": 1456950557, "post_id": 35757424, "comment_id": 59188201, "body": "Why are you using <code>malloc</code> if this is a C++ program?"}, {"owner": {"reputation": 461, "user_id": 5705400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67436c96bbae12f9e64d1f2b729413d9?s=128&d=identicon&r=PG&f=1", "display_name": "jabozzo", "link": "https://stackoverflow.com/users/5705400/jabozzo"}, "reply_to_user": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1456950951, "post_id": 35757424, "comment_id": 59188411, "body": "Because I&#39;m storing values as void*, type safety is ensured using the set/get functions (not in sample code) which sets/checks the type using the <code>ValueType</code> or <code>KeyType</code> enumeration."}, {"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 1, "creation_date": 1456951140, "post_id": 35757424, "comment_id": 59188523, "body": "If you really need <code>void*</code> pointers (note: you shouldn&#39;t need them), you can obtain them from pointers allocated with <code>new</code> by using <code>reinterpret_cast</code>"}], "answers": [{"tags": [], "owner": {"reputation": 7970, "user_id": 227322, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/9df8e10b1e84522c5a3afd056ead0712?s=128&d=identicon&r=PG", "display_name": "villintehaspam", "link": "https://stackoverflow.com/users/227322/villintehaspam"}, "is_accepted": false, "score": 1, "last_activity_date": 1456951593, "last_edit_date": 1456951593, "creation_date": 1456951068, "answer_id": 35757583, "question_id": 35757424, "link": "https://stackoverflow.com/questions/35757424/stdvector-push-back-results-in-access-violation/35757583#35757583", "title": "std::vector push_back results in access Violation", "body": "<p>Since you are using C for allocating stuff, you do not get C++ initialization behavior.</p>\n\n<p>So when you allocate your <code>Dict</code>, the <code>std::vector</code> is still completely uninitialized. You can't use it without initializing it first. You should use placement new for this as long as you do not want to actually use C++.</p>\n\n<p>The proper solution is to program in C++ => use <code>new</code> instead of <code>malloc</code>. Also, it's a good idea to not store stuff on the heap unless you really need to.</p>\n\n<p>So the quick fix is to add:</p>\n\n<pre><code>new (&amp;(test-&gt;nodes)) std::vector&lt;DictNodes&gt;;\n</code></pre>\n\n<p>after your allocate test.</p>\n\n<p>A better way would be to stop using <code>malloc</code> alltogether and to use</p>\n\n<pre><code>Dict *test = new Dict; // this automatically initializes the vector\n</code></pre>\n\n<p>or possibly</p>\n\n<pre><code>Dict test; // no need to allocate on the heap if you don't need to\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "is_accepted": true, "score": 3, "last_activity_date": 1456951075, "creation_date": 1456951075, "answer_id": 35757588, "question_id": 35757424, "link": "https://stackoverflow.com/questions/35757424/stdvector-push-back-results-in-access-violation/35757588#35757588", "title": "std::vector push_back results in access Violation", "body": "<p><code>Dict* test = (Dict*)malloc(sizeof(Dict));</code> does not do what you think it does.</p>\n\n<p><code>malloc</code> allocates a block of memory, but does not initialize it. So later on, when you call <code>test-&gt;nodes.push_back</code>, you're calling into uninitialized memory. Undefined behavior. In your case, it crashes.</p>\n\n<p>The solution here is allocate <code>test</code> with <code>new</code>, which will initialize both <code>test</code> and <code>test-&gt;nodes</code>.</p>\n\n<pre><code>Dict* test = new Dict;\n</code></pre>\n\n<p>The even better solution is to ask why <code>test</code> is dynamically allocated to begin with.</p>\n"}], "owner": {"reputation": 461, "user_id": 5705400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67436c96bbae12f9e64d1f2b729413d9?s=128&d=identicon&r=PG&f=1", "display_name": "jabozzo", "link": "https://stackoverflow.com/users/5705400/jabozzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 35757588, "answer_count": 2, "score": -2, "last_activity_date": 1456951593, "creation_date": 1456950482, "question_id": 35757424, "link": "https://stackoverflow.com/questions/35757424/stdvector-push-back-results-in-access-violation", "title": "std::vector push_back results in access Violation", "body": "<p><strong>Story:</strong> I'm making a shared library exposing C code as a wrapper to a C++ static library compiled in VS 2008, so I'm tied to that compiler. In my library I'm trying to do a very simple dictionary to pass data through the shared library boundaries. I'll not pass the actual dictionary, just the handler an provide functions to access its members. The dictionary is simply a std::vector of key-value pairs.</p>\n\n<p><strong>Problem:</strong> My program crashes every time I try to push_back a key-value pair into the dictionary. Here is a self-contained demo code (main.cpp of a fresh Win32 console project):</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include \"stdafx.h\"\n\n#include &lt;cstdlib&gt;\n#include &lt;vector&gt;\n\ntypedef enum KeyType\n{\n    KeyType_CHAR = 0,\n    KeyType_INT,\n    KeyType_CHAR_PTR_AS_STRING\n};\n\ntypedef enum ValueType\n{\n    ValueType_CHAR = 0,\n    ValueType_INT,\n    ValueType_CHAR_PTR_AS_STRING\n};\n\nstruct DictNode\n{\n    ValueType value_type;\n    void* value_unsafe_ptr;\n    void* key_unsafe_ptr;\n};\n\nstruct Dict\n{\n    KeyType key_type;\n    std::vector&lt;DictNode&gt; nodes;\n};\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    /* Create Dict */\n    Dict* test = (Dict*)malloc(sizeof(Dict));\n    test-&gt;key_type = KeyType_INT;\n\n    /* Add (0, \"Zero\") */\n    int* key0 = (int*)malloc(sizeof(int));\n    *key0 = 0;\n\n    char* content0 = (char*)malloc(sizeof(char)*5);\n    content0[0] = 'Z';\n    content0[1] = 'e';\n    content0[2] = 'r';\n    content0[3] = 'o';\n    content0[4] = '\\0';\n\n    DictNode node0;\n    node0.value_type = ValueType_CHAR;\n    node0.key_unsafe_ptr = key0;\n    node0.value_unsafe_ptr = content0;\n\n    test-&gt;nodes.push_back(node0); // BOOM\n\n    /* Release memory */\n    test-&gt;nodes.clear();\n    free(key0);\n    free(content0);\n    free(test);\n\n    return 0;\n}\n</code></pre>\n\n<p>At line <code>test-&gt;nodes.push_back(node0);</code> I get <code>0xC0000005: Access violation reading location 0xcdcdcdc1</code>. By setting a breakpoint at that line, I can see that all <code>key</code>, <code>content0</code>, node0 and <code>test</code> are defined and have the <a href=\"http://i.stack.imgur.com/3QDvp.png\" rel=\"nofollow\">correct values</a>.</p>\n"}, {"tags": ["c++", "oop", "c++11"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456951183, "post_id": 35757422, "comment_id": 59188541, "body": "It looks like this is you issue: <a href=\"http://stackoverflow.com/questions/21567291/why-does-stdgetline-skip-input-after-a-formatted-extraction\" title=\"why does stdgetline skip input after a formatted extraction\">stackoverflow.com/questions/21567291/&hellip;</a>"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1456952167, "post_id": 35757422, "comment_id": 59189118, "body": "Why do you think it crashes? (BTW this has nothing to do with OOP)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5920058"}, "edited": false, "score": 0, "creation_date": 1456952407, "post_id": 35757422, "comment_id": 59189259, "body": "I am propably trying to retrieve something that isnt set up yet or something out of vector size. But cant figure out why is that happening"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1456954910, "post_id": 35757422, "comment_id": 59190722, "body": "Nay, what makes you believe it crashes? Do you get any error messages or other unusual output?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5920058"}, "edited": false, "score": 0, "creation_date": 1456961630, "post_id": 35757422, "comment_id": 59193860, "body": "&quot;Program has stopped working&quot; - segmentation fault"}, {"owner": {"reputation": 37736, "user_id": 2153571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d5573368e2aa8dd2039de1c545ce2b9c?s=128&d=identicon&r=PG", "display_name": "juzzlin", "link": "https://stackoverflow.com/users/2153571/juzzlin"}, "edited": false, "score": 0, "creation_date": 1456962039, "post_id": 35757422, "comment_id": 59194007, "body": "I tried your loop on Ubuntu with g++ and it stopped fine when I hit CTRL+C."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5920058"}, "edited": false, "score": 0, "creation_date": 1456963914, "post_id": 35757422, "comment_id": 59194675, "body": "Strange , i tried it too on linux Ubuntu and it did not throw any seg.fault... But there is a still question about the getline, i updated question."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1456964653, "post_id": 35757422, "comment_id": 59194895, "body": "It might help with understanding if the class names were English."}, {"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1456965845, "post_id": 35757422, "comment_id": 59195248, "body": "@Kupiakos his <i>problem</i> has nothing to do with his classes, he&#39;s encountering trouble with output when sending <code>Ctrl+z</code> (<code>eof</code>) to <code>getline</code> or <code>cin</code> in his <code>fillStudents</code> method, which is English."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "reply_to_user": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1456965998, "post_id": 35757422, "comment_id": 59195293, "body": "@JonnyHenly It&#39;s a good lesson to any new user that English should be used everywhere possible for best understanding of a question."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1457084317, "post_id": 35757422, "comment_id": 59255021, "body": "There are no &quot;segmentation fault&quot; messages on Windows. What exactly did you observe?"}], "answers": [{"tags": [], "owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "is_accepted": false, "score": 0, "last_activity_date": 1456967987, "last_edit_date": 1456967987, "creation_date": 1456967576, "answer_id": 35761307, "question_id": 35757422, "link": "https://stackoverflow.com/questions/35757422/class-holding-vector-of-classes/35761307#35761307", "title": "Class holding vector of classes", "body": "<p>You need to check for <code>eof</code> (<code>Ctrl+z</code>(<code>^Z</code>)) after <code>name</code> has been entered and after <code>age</code> has been entered. If you enter <code>Ctrl+z</code> for <code>name</code> then the <code>eofbit</code> flag will be set on <code>cin</code> but not caught until after outputting <code>Age:</code>. The reason it doesn't pause for <code>age</code> input is because:</p>\n\n<blockquote>\n  <p>The extraction also stops if the end of file is reached in [the <code>istream</code>] or if some other error occurs during the input operation. - <a href=\"http://www.cplusplus.com/reference/string/string/getline/\" rel=\"nofollow\">C++ Reference - getline</a></p>\n  \n  <p>Note: The <code>istream</code> in the quote above is <code>cin</code> in your code.</p>\n</blockquote>\n\n<p>Your code should resemble:</p>\n\n<pre><code>// above code removed for brevity\ncout &lt;&lt; \"Name: \";\ngetline(cin,name);\n\nif(cin.eof()) {\n    break;\n}\n\ncout &lt;&lt; \"Age: \";\ncin &gt;&gt; age;\n\nif(cin.eof()) {\n    break;\n} else {\n// below code removed for brevity\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Tested on Windows with CodeBlocks and GCC. \n\nName: ^Z[Enter]\n\nProcess returned 0 (0x0)    execution time : 1.685 s\nPress any key to continue.\n\nName: John\nAge: ^Z [Enter]\n\nProcess returned 0 (0x0)    execution time : 1.685 s\nPress any key to continue.\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5920058"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1456967987, "creation_date": 1456950481, "last_edit_date": 1456967272, "question_id": 35757422, "link": "https://stackoverflow.com/questions/35757422/class-holding-vector-of-classes", "title": "Class holding vector of classes", "body": "<p>I am learning OOP in C++ so I tried to practice a little. I want to create a \"database\" (using objects) of class and its students. I created a class for a student. Each have a name and age.</p>\n\n<pre><code>class Ziak {\n\npublic:\n\n    Ziak(int,string);\n    int getAge() {\n        return age;\n    }\n    string getName() {\n        return name;\n    }\n\nprivate:\n\n    int age;\n    string name;\n\n};\n\nZiak::Ziak(int age,string name) {\n    this-&gt;age=age;\n    this-&gt;name=name;\n}\n</code></pre>\n\n<p>And I created a class of a <code>Classroom</code> , each is represented by its name , teacher and students ( vector of objects )</p>\n\n<pre><code>class Trieda {\n\npublic:\n    Trieda(string,string);\n    void fillStudents() {\n        while(1) {\n            int age;\n            string name;\n            cout &lt;&lt; \"Name: \";\n            getline(cin,name);\n            cout &lt;&lt; \"Age: \";\n            cin &gt;&gt; age;\n\n            Ziak newStudent(age,name);\n            n.push_back(newStudent);\n\n            if(cin.eof()) {\n                break;\n            }\n        }\n    }\n\n    string getTeacher() {\n        return ucitel;\n    }\n\n    string getNamesOfStudents() {\n        for(unsigned i = 0; i &lt; n.size(); i++) {\n            cout &lt;&lt; \"hey \" &lt;&lt; n[i].getName() &lt;&lt; endl;\n        }\n    }\n\nprotected:\n    vector&lt;Ziak&gt; n;\n    string nazov;\n    string ucitel;\n};\n\nTrieda::Trieda(string nazov,string ucitel) {\n    this-&gt;nazov = nazov;\n    this-&gt;ucitel = ucitel;\n}\n</code></pre>\n\n<p>and I am just calling its methods in <code>main</code>:</p>\n\n<pre><code>int main() {\n    Trieda newClass(\"4A\",\"Ms Foster\");\n\n    newClass.fillStudents();\n    newClass.getNamesOfStudents();\n\n    return 0;\n}\n</code></pre>\n\n<p>My problem here is the method <code>fillStudents()</code> output starts pretty nice:</p>\n\n<pre><code>Name: // insert name\nAge : // insert age\n</code></pre>\n\n<p>but the second iteration looks worse:</p>\n\n<pre><code>Name:Age: // insert something\n</code></pre>\n\n<p>and the third iteration is an infinite loop printing <code>Name:Age:</code> till the end of the world.</p>\n\n<p>I tried to just use <code>cin &gt;&gt; name</code> instead of <code>getline</code>, e.g:</p>\n\n<pre><code>void fillStudents() {\n    while(1) {\n        int age;\n        string name;\n\n        cout &lt;&lt; \"Name: \";\n        cin &gt;&gt; name;\n        /*getline(cin,name);*/\n\n        cout &lt;&lt; \"Age: \";\n        cin &gt;&gt; age;\n\n        if(cin.eof()) {\n            break;\n        } else {\n            Ziak newStudent(age,name);\n            n.push_back(newStudent);\n        }\n        cin.clear();\n\n    }\n}\n</code></pre>\n\n<p>It works. But it works like this:</p>\n\n<pre><code>Name: // insert name\nAge : // insert age\n// it works till the last one when i press ctrl+Z as eof (currently on windows)\n// it outputs Age: Hey + first name ....\nHey name 2 // and so on , then it crashes\n</code></pre>\n\n<p>What causes this? I suspect it could be something with buffer not being cleared but I tried <code>cin.clear()</code> and it happened too. How can I implement it with <code>getline</code> (I wanted full name as name input e.g John Wicked).</p>\n\n<p>I am trying to figure it out but I'm just a beginner with C++ so my knowledge is limited.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I fixed it using <code>cin.get()</code> as advised from question posted in comments, now my function looks like this:</p>\n\n<pre><code>void fillStudents() {\n    while(1) {\n        int age;\n        string name;\n\n        cout &lt;&lt; \"Name: \";\n        //cin &gt;&gt; name;\n        getline(cin,name);\n\n        cout &lt;&lt; \"Age: \";\n        cin &gt;&gt; age;\n\n        if(cin.eof()) {\n            break;\n        } else {\n            if(cin.fail()) {\n                cout&lt;&lt; \"chyba \";\n                break;\n            }\n\n            Ziak newStudent(age,name);\n            n.push_back(newStudent);\n        }\n        cin.get();\n\n    }\n}\n</code></pre>\n\n<p>What still makes me uncomfortable is the output with <code>cout</code>. It produces this: </p>\n\n<pre><code>Name: John\nAge: 15\nName: Lia\nAge: 25\nName: Age: hey John\nhey Lia\n</code></pre>\n\n<p>The <code>Name: Age:</code> still gets printed after <code>eof</code>, I tried to put <code>cin.eof()</code> test at the start of the while loop but it messed up all of the output. How can I modify the code without it showing the <code>cout</code> after <code>eof</code>?</p>\n"}, {"tags": ["c++", "linux", "g++"], "comments": [{"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 2, "creation_date": 1456950319, "post_id": 35757339, "comment_id": 59188060, "body": "Try <code>g++ -v &#47;home&#47;me&#47;tc.cpp</code> - and post the output from that in your question, as it&#39;s usually unreadable [and probably too long] for a comment."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 1, "creation_date": 1456950388, "post_id": 35757339, "comment_id": 59188102, "body": "I updated your tags, as I&#39;m 99% sure it&#39;s not specific to 4.9 [I&#39;m using 4.9 on my Ubuntu machine at work, and I&#39;m fairly sure that&#39;s what my home machine has too, but I mostly use clang at home]"}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 1, "creation_date": 1456951804, "post_id": 35757339, "comment_id": 59188878, "body": "Your output gives you the error: <code>#include &lt;...&gt; search starts here: ...</code> and none of those paths are where your <code>iostream</code> is located. It further states that &quot;<code>usr&#47;include&#47;c++&#47;4.9.2</code>&quot; is nonexistent.  You will need to update those paths to be <code>&#47;usr&#47;include&#47;c++&#47;4.9.2</code> (make sure to include the leading forward slash)."}, {"owner": {"reputation": 906, "user_id": 144488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WiCn3.jpg?s=128&g=1", "display_name": "nzc", "link": "https://stackoverflow.com/users/144488/nzc"}, "edited": false, "score": 0, "creation_date": 1456952046, "post_id": 35757339, "comment_id": 59189034, "body": "I totally get that -- I just a) don&#39;t know how to do that and b) am wondering why the vendors&#39; SDK built an image with this problem.  I will of course take &quot;b&quot; up with vendor... :-)"}, {"owner": {"reputation": 906, "user_id": 144488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WiCn3.jpg?s=128&g=1", "display_name": "nzc", "link": "https://stackoverflow.com/users/144488/nzc"}, "edited": false, "score": 0, "creation_date": 1456952117, "post_id": 35757339, "comment_id": 59189083, "body": "I&#39;m totally willing to RTFM but the FM for g++ is quite large -- a pointer to the right section would be a big help."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 3, "creation_date": 1456952272, "post_id": 35757339, "comment_id": 59189168, "body": "The headers are supposed to be in <code>&#47;usr&#47;lib64&#47;gcc&#47;powerpc64-fsl-linux&#47;4.9.2&#47;include</code>  . If that path doesn&#39;t exist then you need to find out why.  I suggest <i>not</i> linking/copying it to /usr/include (well, not unless you exhausted other options), those could be headers for a different compiler or different version of compiler leading to weird problems down the track."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 1, "creation_date": 1456953023, "post_id": 35757339, "comment_id": 59189634, "body": "I would 1) reinstall g++ (<code>sudo apt-get install gcc</code>) or 2) rerun the configure script for <code>g++</code> (<code>.&#47;configure</code>) or 3) both. When it comes to g++ configuration, it can be brutal and sometimes the best/fastest way to resolve it is to just clean it all."}, {"owner": {"reputation": 906, "user_id": 144488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WiCn3.jpg?s=128&g=1", "display_name": "nzc", "link": "https://stackoverflow.com/users/144488/nzc"}, "edited": false, "score": 0, "creation_date": 1457018000, "post_id": 35757339, "comment_id": 59223280, "body": "I tried re-installing the whole system, and retried the build; this failed.  I then set up the &quot;smart&quot; package manager and tried to re-install the gcc package.  I have the rpms from the sdk visible via lighttpd, according to the smart documentation, I added the channels and did a &quot;smart update&quot; -- and smart reported downloading the repo information.  But when I try to re-install gcc using smart, smart says &quot;not available for download.&quot;.  So now I&#39;m debugging smart... sigh."}], "answers": [{"tags": [], "owner": {"reputation": 906, "user_id": 144488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WiCn3.jpg?s=128&g=1", "display_name": "nzc", "link": "https://stackoverflow.com/users/144488/nzc"}, "is_accepted": true, "score": 0, "last_activity_date": 1457452604, "creation_date": 1457452604, "answer_id": 35872009, "question_id": 35757339, "link": "https://stackoverflow.com/questions/35757339/why-would-g-be-unable-to-find-system-includes-which-are-installed/35872009#35872009", "title": "Why would g++ be unable to find system includes which are installed?", "body": "<p>So this turns out to be a bug in gcc, where configuring it with sysroot set to '/' causes exactly this problem.  It was discovered in gcc 4.7.2 and is still broken in gcc 4.9.2.  I have a patch which fixes the problem, and have moved on to trying to understand how to get bitbake to rebuild the target gcc with the patch, so I'm going to answer this.</p>\n\n<p>Here's email regard the bug and patch: <a href=\"https://gcc.gnu.org/ml/gcc-patches/2012-02/msg00320.html\" rel=\"nofollow\">https://gcc.gnu.org/ml/gcc-patches/2012-02/msg00320.html</a></p>\n"}], "owner": {"reputation": 906, "user_id": 144488, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WiCn3.jpg?s=128&g=1", "display_name": "nzc", "link": "https://stackoverflow.com/users/144488/nzc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 35872009, "answer_count": 1, "score": 0, "last_activity_date": 1457452604, "creation_date": 1456950190, "last_edit_date": 1456951687, "question_id": 35757339, "link": "https://stackoverflow.com/questions/35757339/why-would-g-be-unable-to-find-system-includes-which-are-installed", "title": "Why would g++ be unable to find system includes which are installed?", "body": "<p>Here's a simple example program which compiles on my desktop linux machine (Ubuntu 14.04 64 bit intel, fwiw):  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n\nusing namespace std;\n\nint main(){\n  cout&lt;&lt;\"hello\"&lt;&lt;endl;\n  return 0;\n}\n</code></pre>\n\n<p>When I try to compile it on an embedded machine which appears to have the header files (and the equivalent of build-essential) installed:  </p>\n\n<pre><code>me@t4240rdb:~$ ls /usr/include/c++/4.9.2/iostream\n/usr/include/c++/4.9.2/iostream\nme@t4240rdb:~# find /usr/include/ -name cmath\n/usr/include/c++/4.9.2/ext/cmath\n/usr/include/c++/4.9.2/cmath\n/usr/include/c++/4.9.2/tr1/cmath\n</code></pre>\n\n<p>using <code>g++ /home/me/tc.cpp</code>, I get  </p>\n\n<pre><code>/home/me/tc.cpp:1:20: fatal error: iostream: No such file or directory\n #include &lt;iostream&gt;\n                    ^\ncompilation terminated.\n</code></pre>\n\n<p>Anyone have any idea why this would happen?  </p>\n\n<p>Including the output of g++ -v as requested in the comments:</p>\n\n<pre><code>me@t4240rdb:~# g++ -v /home/me/tc.cpp \nUsing built-in specs.\nCOLLECT_GCC=g++\nCOLLECT_LTO_WRAPPER=/usr/lib64/gcc/gcc/powerpc64-fsl-linux/4.9.2/lto-wrapper\nTarget: powerpc64-fsl-linux\nConfigured with: /home/jenkins/ci/iso-make/master/b4860qds-64b/build_b4860qds-64b/tmp/work-shared/gcc-4.9.2-r0/gcc-4.9.2/configure --build=x86_64-linux --host=powerpc64-fsl-linux --target=powerpc64-fsl-linux --prefix=/usr --exec_prefix=/usr --bindir=/usr/bin --sbindir=/usr/sbin --libexecdir=/usr/lib64/gcc --datadir=/usr/share --sysconfdir=/etc --sharedstatedir=/com --localstatedir=/var --libdir=/usr/lib64 --includedir=/usr/include --oldincludedir=/usr/include --infodir=/usr/share/info --mandir=/usr/share/man --disable-silent-rules --disable-dependency-tracking --with-libtool-sysroot=/home/jenkins/ci/iso-make/master/b4860qds-64b/build_b4860qds-64b/tmp/sysroots/b4860qds-64b --with-gnu-ld --enable-shared --enable-languages=c,c++ --enable-threads=posix --enable-multilib --enable-c99 --enable-long-long --enable-symvers=gnu --enable-libstdcxx-pch --program-prefix=powerpc64-fsl-linux- --without-local-prefix --enable-target-optspace --enable-lto --enable-libssp --disable-bootstrap --disable-libmudflap --with-system-zlib --with-linker-hash-style=gnu --enable-linker-build-id --with-ppl=no --enable-checking=release --enable-cheaders=c_global --with-sysroot=/ --with-build-sysroot=/home/jenkins/ci/iso-make/master/b4860qds-64b/build_b4860qds-64b/tmp/sysroots/b4860qds-64b --with-native-system-header-dir=/home/jenkins/ci/iso-make/master/b4860qds-64b/build_b4860qds-64b/tmp/sysroots/b4860qds-64b/usr/include --with-gxx-include-dir=/usr/include/c++/4.9.2 --with-long-double-128 --enable-nls --enable-__cxa_atexit\nThread model: posix\ngcc version 4.9.2 (GCC) \nCOLLECT_GCC_OPTIONS='-v' '-shared-libgcc'\n /usr/lib64/gcc/gcc/powerpc64-fsl-linux/4.9.2/cc1plus -quiet -v -D_GNU_SOURCE -D__unix__ -D__gnu_linux__ -D__linux__ -Dunix -D__unix -Dlinux -D__linux -Asystem=linux -Asystem=unix -Asystem=posix /home/me/tc.cpp -quiet -dumpbase tc.cpp -auxbase tc -version -o /tmp/cc4avGfH.s\nGNU C++ (GCC) version 4.9.2 (powerpc64-fsl-linux)\n    compiled by GNU C version 4.9.2, GMP version 6.0.0, MPFR version 3.1.2, MPC version 1.0.2\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nignoring nonexistent directory \"usr/include/c++/4.9.2\"\nignoring nonexistent directory \"usr/include/c++/4.9.2/powerpc64-fsl-linux\"\nignoring nonexistent directory \"usr/include/c++/4.9.2/backward\"\nignoring nonexistent directory \"/usr/local/include\"\nignoring nonexistent directory \"/usr/lib64/gcc/powerpc64-fsl-linux/4.9.2/../../../../powerpc64-fsl-linux/include\"\n#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /usr/lib64/gcc/powerpc64-fsl-linux/4.9.2/include\n /usr/lib64/gcc/powerpc64-fsl-linux/4.9.2/include-fixed\n /usr/include\nEnd of search list.\nGNU C++ (GCC) version 4.9.2 (powerpc64-fsl-linux)\n    compiled by GNU C version 4.9.2, GMP version 6.0.0, MPFR version 3.1.2, MPC version 1.0.2\nGGC heuristics: --param ggc-min-expand=100 --param ggc-min-heapsize=131072\nCompiler executable checksum: 63db6eac369c397424f29967693724f9\n/home/me/tc.cpp:1:20: fatal error: iostream: No such file or directory\n #include &lt;iostream&gt;\n                    ^\ncompilation terminated.\n</code></pre>\n\n<p>It's quite interesting -- there's clearly something wrong with the configuration.  How do I fix it?  </p>\n"}, {"tags": ["c++", "unit-testing", "testing", "catch-unit-test"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 3, "creation_date": 1456951226, "post_id": 35757334, "comment_id": 59188562, "body": "You call <code>vec.at(10)</code> -&gt; it throws the exception <code>std::out_of_range</code> -&gt; you say that you expect the exception <code>std::logic_error</code> to be thrown -&gt; <code>std::out_of_range</code> <i>is</i> <code>std::logic_error</code> because it&#39;s a subtype of it -&gt; everything&#39;s fine"}], "answers": [{"comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 1, "creation_date": 1456994941, "post_id": 35757656, "comment_id": 59206402, "body": "I missed the part where <code>logic_error</code> is the base class of <code>out_of_range</code>. thanks"}], "tags": [], "owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "is_accepted": true, "score": 8, "last_activity_date": 1456951355, "creation_date": 1456951355, "answer_id": 35757656, "question_id": 35757334, "link": "https://stackoverflow.com/questions/35757334/catch-unit-testing-framework-require-throws-as/35757656#35757656", "title": "&quot;Catch&quot; unit testing framework - REQUIRE_THROWS_AS", "body": "<p><code>std::out_of_range</code> (which is what <code>vector::at</code> should throw here) is derived from <code>std::logic_error</code>:</p>\n\n<blockquote>\n  <p>No standard library components throw this exception directly, but the exception  types <code>std::invalid_argument</code>, <code>std::domain_error</code>, <code>std::length_error</code>, <code>std::out_of_range</code>, <code>std::future_error</code>, and <code>std::experimental::bad_optional_access</code> are derived from <code>std::logic_error</code>. -- <a href=\"http://en.cppreference.com/w/cpp/error/logic_error\" rel=\"noreferrer\">cppreference</a>:</p>\n</blockquote>\n\n<p><code>REQUIRE_THROWS_AS</code> likely does something like:</p>\n\n<pre><code>try { expression; } \ncatch (const exception_type&amp;) { SUCCEED(\"yay\"); return; }\ncatch (...) { FAIL(\"wrong exception type\"); return; }\nFAIL(\"no exception\");\n</code></pre>\n\n<p>And due to the polymorphic nature of exceptions, the assertion passes.</p>\n"}], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5218, "favorite_count": 0, "accepted_answer_id": 35757656, "answer_count": 1, "score": 2, "last_activity_date": 1500224952, "creation_date": 1456950174, "last_edit_date": 1500224952, "question_id": 35757334, "link": "https://stackoverflow.com/questions/35757334/catch-unit-testing-framework-require-throws-as", "title": "&quot;Catch&quot; unit testing framework - REQUIRE_THROWS_AS", "body": "<p>I started to use \"Catch\" unit testing framework and so far it's really great. I have used VS built in unit testing framwork with great pain . </p>\n\n<p>one thing I have noticed that the macro <code>REQUIRE_THROWS_AS</code> does not behave as one would expect</p>\n\n<p>from the docs:</p>\n\n<blockquote>\n<pre><code>REQUIRE_THROWS_AS( expression, exception type ) and\nCHECK_THROWS_AS( expression, exception type )\n</code></pre>\n  \n  <p>Expects that an exception of the specified type is thrown during\n  evaluation of the expression.</p>\n</blockquote>\n\n<p>when I try to write</p>\n\n<pre><code>TEST_CASE(\"some test\") {\n    SECTION(\"vector throws\") {\n        std::vector&lt;int&gt; vec;\n        REQUIRE_THROWS_AS(vec.at(10), std::logic_error);\n    }\n}\n</code></pre>\n\n<p>I expect the test to fail and yet it says the test passed. is there a bug in the framework or I am wrong?</p>\n"}, {"tags": ["c++", "templates", "dictionary", "comparator", "constructorargument"], "comments": [{"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456950516, "post_id": 35757307, "comment_id": 59188182, "body": "Because that would involve some type-erasing, which is not optimal?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456950795, "post_id": 35757307, "comment_id": 59188322, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/984394/why-not-infer-template-parameter-from-constructor\">Why not infer template parameter from constructor?</a>"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456950994, "post_id": 35757307, "comment_id": 59188438, "body": "@PiotrSkotnicki You&#39;re saying that for the functor version? But doesn&#39;t <code>map</code> provide a comparison constructor? <a href=\"http://www.cplusplus.com/reference/map/map/map/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/map/map/map</a> Isn&#39;t that exactly what this is for?"}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456951091, "post_id": 35757307, "comment_id": 59188491, "body": "@JonathanMee it&#39;s used to initialize the actual comparator stored in a map. how would you store that comparator without knowing its type outside of the constructor"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456951303, "post_id": 35757307, "comment_id": 59188600, "body": "@NathanOliver You&#39;re saying that we have to have the type in the <code>map</code> template because we could just use a pointer?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456951426, "post_id": 35757307, "comment_id": 59188675, "body": "@JonathanMee Yes.  How would you know what kind of map it is?  Remember a template class is not a class it is a recipe.  We need to know at compile time which kind of map to make and having a pointer an initializing it a run time would circumvent that."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456951494, "post_id": 35757307, "comment_id": 59188707, "body": "@PiotrSkotnicki I see what you&#39;re saying. I&#39;m thinking of functors as though they are <code>bool operator(const int&amp;, const int&amp;)</code> functions, but in fact <code>less</code> and <code>greater</code> are completely different structs. That sounds like a reasonable answer if you want to post it."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1457354913, "post_id": 35757307, "comment_id": 59353675, "body": "@PiotrSkotnicki I have gone ahead and posted an answer of what I extrapolated from your comments. If you feel like posting an answer let me know, and I&#39;ll remove mine to defer to yours."}], "answers": [{"comments": [{"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 1, "creation_date": 1457357782, "post_id": 35844085, "comment_id": 59355608, "body": "<code>map&lt;int, string, greater&lt;int&gt;&gt; foo(greater&lt;int&gt;())</code> is a function declaration (most vexing parse)"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1457358953, "post_id": 35844085, "comment_id": 59356437, "body": "@PiotrSkotnicki Ugh, thanks. Obviously I didn&#39;t try that cause it&#39;s kinda pointless. I&#39;ve edited, and actually tested that it works now: <a href=\"http://ideone.com/1Ygrze\" rel=\"nofollow noreferrer\">ideone.com/1Ygrze</a>"}], "tags": [], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 1, "last_activity_date": 1457358772, "last_edit_date": 1457358772, "creation_date": 1457354627, "answer_id": 35844085, "question_id": 35757307, "link": "https://stackoverflow.com/questions/35757307/map-comparison-constructor-parameter/35844085#35844085", "title": "map Comparison Constructor Parameter", "body": "<p>This question stems from a misconception. To clear that up:</p>\n\n<p><strong>Functors are objects <em>not</em> functions</strong></p>\n\n<p>Trying to assign a function pointer or a lambda to an object doesn't make any sense. So this cannot be done: <strike><code>map&lt;int, string&gt; bar([](const int&amp; lhs, const int&amp; rhs){ return lhs &gt; rhs; });</code></strike> The way to define a <code>map</code> which takes a function pointer or lambda is to use the template arguments from the question: <code>map&lt;int, string, function&lt;bool(const int&amp;, const int&amp;)&gt;&gt;</code></p>\n\n<p>Halfway between the two ill-conceived options in the question is another misconception: <strike><code>map&lt;int, string, [](const int&amp; lhs, const int&amp; rhs){ return lhs &gt; rhs; }&gt;</code></strike> Doesn't work because the comparator template argument is the <em>type</em> of a member of <code>map</code>, <em>not</em> the intialization value. <strong>So a <code>map</code> using a function pointer or lambda comparator must always have that value passed to the <code>map</code> constructor: <code>map&lt;int, string, function&lt;bool(const int&amp;, const int&amp;)&gt;&gt; bar([](const int&amp; lhs, const int&amp; rhs){ return lhs &gt; rhs; })</code></strong> Otherwise <code>function&lt;bool(const int&amp;, const int&amp;)&gt;()</code> would be used for comparisons in the <code>map</code>.</p>\n\n<p>This is probably already clear by now, but since functors are objects you cannot pass an unrelated object is the construction value of a completely different type of object. Calling <strike><code>map&lt;int, string&gt; foo(greater&lt;int&gt;())</code></strike> is like calling <strike><code>less&lt;int&gt; foo = greater&lt;int&gt;</code></strike>. <strong>The only acceptable compatator constructor argument to a <code>map</code> whose comparator template argument is a functor is something that can be converted into an object of the functor type in the template argument: <code>map&lt;int, string, greater&lt;int&gt;&gt; foo(greater&lt;int&gt;{})</code></strong> This is obviously unnecessary, because if no argument was provided and the <code>greater&lt;int&gt;</code> was default constructed the same member initialization of the <code>map</code> would result, so <code>map&lt;int, string, greater&lt;int&gt;&gt;</code> is sufficent.</p>\n"}], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 35844085, "answer_count": 1, "score": 0, "last_activity_date": 1457358772, "creation_date": 1456950061, "question_id": 35757307, "link": "https://stackoverflow.com/questions/35757307/map-comparison-constructor-parameter", "title": "map Comparison Constructor Parameter", "body": "<p>Is there a reason why I cannot pass a comparison functor to a <code>map</code> as a constructor argument:</p>\n\n<pre><code>map&lt;int, string, greater&lt;int&gt;&gt; foo;\n//map&lt;int, string&gt; foo(greater&lt;int&gt;()); Doesn't work\n</code></pre>\n\n<p>Or why I cannot pass a lambda without providing my own comparison type:</p>\n\n<pre><code>map&lt;int, string, function&lt;bool(const int&amp;, const int&amp;)&gt;&gt; bar([](const int&amp; lhs, const int&amp; rhs){ return lhs &gt; rhs; });\n//map&lt;int, string&gt; bar([](const int&amp; lhs, const int&amp; rhs){ return lhs &gt; rhs; }); Doesn't work\n</code></pre>\n\n<p>I'd like to just be able to declare <code>map&lt;int, string&gt;</code> and construct it with a comparator. Why can't I?</p>\n\n<p>[<a href=\"http://ideone.com/iCfG8n\" rel=\"nofollow\">Live Example</a>]</p>\n"}, {"tags": ["python", "c++", "swig", "gnuradio", "gnuradio-companion"], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 3822400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8616b85051cfd90fe595565df0575d38?s=128&d=identicon&r=PG", "display_name": "eeKnud", "link": "https://stackoverflow.com/users/3822400/eeknud"}, "is_accepted": false, "score": 0, "last_activity_date": 1460676649, "last_edit_date": 1460676649, "creation_date": 1460670155, "answer_id": 36634528, "question_id": 35757232, "link": "https://stackoverflow.com/questions/35757232/how-to-import-a-function-noblock-written-in-c-into-grc/36634528#36634528", "title": "How to import a function (&quot;noblock&quot;) written in C++ into GRC", "body": "<p>It sounds like you are close and that swig is set up correctly. I've been fighting this for the past 2 days and have come up with an approach I think mimics what is done in gr-digital. However, before I spell it all out, have you tried adding an \"Import\" block to GRC and then entering \"import my_module\" as its \"Import\"?</p>\n\n<p>I kind of assume so since you were able to import and use the module in python.</p>\n\n<p>Did you create something like swig/my_module.i? Follow gr-digital/swig/packet_header.i as a template. Then make sure that swig/CMakeLists.txt includes my_module.i in the install() statement at the end; again, look at gr-digital/swig/CMakeLists.txt for guidance.</p>\n\n<p>Last, make sure your swig/_swig.i includes</p>\n\n<pre><code>#include \"&lt;module_name&gt;/my_module.h\"\n</code></pre>\n\n<p>and later</p>\n\n<pre><code>%include \"&lt;module_name&gt;/my_module.h\"\n</code></pre>\n\n<p>at the end of the file</p>\n\n<pre><code>%include \"my_module.i\"\n</code></pre>\n\n<p>Again, see gr-digital/swig/digital_swig.i for examples using packet_header.</p>\n"}], "owner": {"reputation": 43, "user_id": 6007870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c30f250468394cd442e28bdfc4e611f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eva Aleksey", "link": "https://stackoverflow.com/users/6007870/eva-aleksey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1460676649, "creation_date": 1456949801, "question_id": 35757232, "link": "https://stackoverflow.com/questions/35757232/how-to-import-a-function-noblock-written-in-c-into-grc", "title": "How to import a function (&quot;noblock&quot;) written in C++ into GRC", "body": "<p>In my OOT module, I have written a function as a \"noblock\" type, and I would like to import it in GRC.</p>\n\n<p>The compilation process and installation went well, and I am able to use the functions I wrote in python using <code>import my_module as mm</code> and <code>mm.my_python_function()</code>.</p>\n\n<p>But this is not working for the one in C++ and I have error message :</p>\n\n<blockquote>\n  <p>Param - Value(value):     Value \"my_module.my_cpp_function()\" cannot be\n  evaluated:    'module' object has no attribute 'my_cpp_function'</p>\n</blockquote>\n\n<p>What I am missing please ? Does this have anything to do with swig ? How to set it up ? Thank you.</p>\n\n<p>Note : I am running Ubuntu 14.04 and GRC have been installed using PyBombs with <code>prefix = /usr/local</code></p>\n"}, {"tags": ["c++", "static", "initialization", "singleton"], "comments": [{"owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1456949739, "post_id": 35757109, "comment_id": 59187697, "body": "Since you know that <code>_instance</code> is guaranteed to be initialized when <code>getInstance</code> is first called, why do you still need the <code>if</code> statement?"}, {"owner": {"reputation": 275, "user_id": 3029308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6cc6c40377a9da947db60836b6d960a?s=128&d=identicon&r=PG&f=1", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/3029308/thalhammer"}, "reply_to_user": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 1, "creation_date": 1456952696, "post_id": 35757109, "comment_id": 59189430, "body": "Because _instance does not hold a value. Default initialising a std::shared_ptr stores a nullpointer in it."}, {"owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1456979993, "post_id": 35757109, "comment_id": 59199432, "body": "If so, why not initialize the <code>shared_ptr</code> with <code>new A</code> right away?"}, {"owner": {"reputation": 275, "user_id": 3029308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6cc6c40377a9da947db60836b6d960a?s=128&d=identicon&r=PG&f=1", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/3029308/thalhammer"}, "reply_to_user": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1457009777, "post_id": 35757109, "comment_id": 59216810, "body": "Yes you&#39;re right, initializing it with a new A would work. I did not think about this. But there is an even better way: Initializing with std::make_shared, which gives both shorter code and all advantages of make_shared. I have changed my example."}, {"owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1457010010, "post_id": 35757109, "comment_id": 59216993, "body": "You are right! I definitely did not know that <code>make_shared</code> was more efficient than simply constructing with <code>new</code>. Thanks!"}, {"owner": {"reputation": 275, "user_id": 3029308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6cc6c40377a9da947db60836b6d960a?s=128&d=identicon&r=PG&f=1", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/3029308/thalhammer"}, "reply_to_user": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1457010271, "post_id": 35757109, "comment_id": 59217179, "body": "Well make_shared was added exactly for this reason. There is also allocate_shared which does the same as make_shared but supports custom allocators."}, {"owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "edited": false, "score": 0, "creation_date": 1457010941, "post_id": 35757109, "comment_id": 59217668, "body": "Yes! Thank you very much for making that clear!"}], "answers": [{"tags": [], "owner": {"reputation": 9690, "user_id": 1707560, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8VK4M.jpg?s=128&g=1", "display_name": "imreal", "link": "https://stackoverflow.com/users/1707560/imreal"}, "is_accepted": true, "score": 0, "last_activity_date": 1456949894, "creation_date": 1456949894, "answer_id": 35757258, "question_id": 35757109, "link": "https://stackoverflow.com/questions/35757109/getinstance-class-vs-method-static/35757258#35757258", "title": "getInstance - Class vs Method static", "body": "<p>Actually <code>_instance</code> is guaranteed to be initialized before the first call to <code>getInstance()</code> (provided that they are defined in the same translation unit)</p>\n\n<p>From the Standard <strong><em>3.6.2-4 Initialization of non-local variables</em></strong>:</p>\n\n<blockquote>\n  <p>It is implementation-defined whether the dynamic initialization of a non-local variable with static storage\n  duration is done before the first statement of main. If the initialization is deferred to some point in time\n  after the first statement of main, it shall occur before the first odr-use (3.2) of any function or variable\n  defined in the same translation unit as the variable to be initialized.35</p>\n</blockquote>\n"}], "owner": {"reputation": 275, "user_id": 3029308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c6cc6c40377a9da947db60836b6d960a?s=128&d=identicon&r=PG&f=1", "display_name": "Thalhammer", "link": "https://stackoverflow.com/users/3029308/thalhammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 35757258, "answer_count": 1, "score": 0, "last_activity_date": 1457009753, "creation_date": 1456949323, "last_edit_date": 1457009753, "question_id": 35757109, "link": "https://stackoverflow.com/questions/35757109/getinstance-class-vs-method-static", "title": "getInstance - Class vs Method static", "body": "<p>I know that there are only realy basic guarantees about when a static variable is initialised. The most important thing (for me) that is not guaranteed is the order of initialisation of variables in different compilation units, which raised the following question.</p>\n\n<p>I have always written my singleton classes like this:</p>\n\n<pre><code>class A {\n    ...\n    public:\n       static std::shared_ptr&lt;A&gt; getInstance();\n    private:\n       static std::shared_ptr&lt;A&gt; _instance;\n}\n== A.cpp ==\nstd::shared_ptr&lt;A&gt; A::getInstance() {\n    if(!_instance)\n       _instance = std::make_shared&lt;A&gt;();\n    return _instance;\n}\n</code></pre>\n\n<p>However as far as I understand this does not guarantee that instance is already initialized (and therefore calling operator bool is valid) if I call this function in the constructor of any other static Object (which might in some rare case happen before main starts execution).</p>\n\n<p>My new idea is the following:</p>\n\n<pre><code> class A {\n    ...\n    public:\n       static std::shared_ptr&lt;A&gt; getInstance();\n}\n== A.cpp ==\nA&amp; A::getInstance() {\n    static std::shared_ptr&lt;A&gt; _instance = std::make_shared&lt;A&gt;();\n    return _instance;\n}\n</code></pre>\n\n<p>Which in my opinion is not just cleaner but also better code, because now I have a guaranteed order of initialisation. </p>\n\n<p>Are my assumptions correct ?</p>\n"}, {"tags": ["c++", "parallel-processing", "openmp"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 1, "creation_date": 1456948230, "post_id": 35756654, "comment_id": 59186771, "body": "You may have to turn on the OpenMP Support option under C++/Language."}, {"owner": {"reputation": 31, "user_id": 5991625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f5c3b7775703f90ad3809ca312c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "LuckyB", "link": "https://stackoverflow.com/users/5991625/luckyb"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456948691, "post_id": 35756654, "comment_id": 59187066, "body": "It worked! Thanks. Project &gt; &#39;Project Name&#39; Properties &gt; C++ &gt; language &gt; OpenMP support"}], "owner": {"reputation": 31, "user_id": 5991625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f5c3b7775703f90ad3809ca312c6a55?s=128&d=identicon&r=PG&f=1", "display_name": "LuckyB", "link": "https://stackoverflow.com/users/5991625/luckyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "closed_date": 1456948900, "answer_count": 0, "score": 0, "last_activity_date": 1456947851, "creation_date": 1456947851, "question_id": 35756654, "link": "https://stackoverflow.com/questions/35756654/openmp-works-on-linux-doesnt-work-on-windows-is-there-a-need-of-extra-librar", "closed_reason": "Duplicate", "title": "OpenMP: works on linux, doesn&#39;t work on windows. Is there a need of extra library for windows?", "body": "<p>I am trying to learn openMP API. For beginning I found <a href=\"http://openmp.org/mp-documents/omp-hands-on-SC08.pdf\" rel=\"nofollow\">this tutorial</a>.</p>\n\n<p>Now, for a start, I tried to get this code worked:</p>\n\n<pre><code>#include \"omp.h\"\n#include &lt;stdio.h&gt;\n\nvoid main()\n{\n    //\n#pragma omp parallel\n{\n    //\n    int ID = omp_get_thread_num();\n    printf(\"Hello(%d)\", ID);\n    printf(\"World(%d) \\n\", ID);\n    printf(\"How(%d)\", ID);\n    printf(\"Are(%d) \\n\", ID);\n    printf(\"You(%d)\", ID);\n    printf(\"Today(%d) \\n\", ID);\n\n}\n\ngetchar();\n\n}\n</code></pre>\n\n<p>Pretty simple I say. However, while the exact same code works on ubuntu and calls for 4 different threads(I have 4), on windows all of them is processed in thread_0:</p>\n\n<pre><code>Hello(0)World(0)\nHow(0)Are(0)\nYou(0)Today(0)\n</code></pre>\n\n<p>I am using Visual Studio 2015. What causing to this? and How can I fix this? Thanks.</p>\n"}, {"tags": ["c++", "visual-studio", "header", "stdafx.h"], "comments": [{"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 4, "creation_date": 1456947713, "post_id": 35756493, "comment_id": 59186478, "body": "This is a Visual Studio oddity. It supports their precompiled headers. Parameters to <code>main</code> are optional--you can add them if needed, or omit them if you&#39;re not using them. <code>_tmain</code> as the program entry point is also a Microsoft oddity, not part of standard C++."}, {"owner": {"reputation": 1364, "user_id": 4882052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b6f17495dcbf1f2bd2ed7e3dfa3cc46f?s=128&d=identicon&r=PG&f=1", "display_name": "Angelus Mortis", "link": "https://stackoverflow.com/users/4882052/angelus-mortis"}, "edited": false, "score": 1, "creation_date": 1456948301, "post_id": 35756493, "comment_id": 59186821, "body": "you can remove <code>stdafx.h</code> and after that you got to disable precompiled headers -&gt; <a href=\"http://stackoverflow.com/questions/7261707/how-to-avoid-precompiled-headers\" title=\"how to avoid precompiled headers\">stackoverflow.com/questions/7261707/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 2, "last_activity_date": 1456948760, "last_edit_date": 1495541269, "creation_date": 1456948067, "answer_id": 35756724, "question_id": 35756493, "link": "https://stackoverflow.com/questions/35756493/c-header-file-in-visual-studio/35756724#35756724", "title": "C++ header file in Visual Studio", "body": "<blockquote>\n  <p>Okay. So I've got a simple question. If I ask it in the wrong place, please correct me. What I want to ask is, why Visual Studio gives me this:\n  ...</p>\n</blockquote>\n\n<p>Well, it depends a bit on the project type you've been choosing from the wizard. Looks like the standard template for a <em>console project</em>.</p>\n\n<pre><code>#include \"stdafx.h\"\n</code></pre>\n\n<p>is prepended for any type of translation unit by the wizard. It supports the <a href=\"https://stackoverflow.com/a/4726838/1413395\">precompiled header optimizaton mechanism</a>.</p>\n\n<hr>\n\n<blockquote>\n  <p>why there is no <code>(int argc, char** argv)</code> in main declaration? </p>\n</blockquote>\n\n<p>Because the template provides the minimum for a valid <code>main()</code> entry routine definition.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 1235106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BYDja.jpg?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1235106/kevin"}, "is_accepted": false, "score": 2, "last_activity_date": 1456948453, "last_edit_date": 1495542224, "creation_date": 1456948453, "answer_id": 35756834, "question_id": 35756493, "link": "https://stackoverflow.com/questions/35756493/c-header-file-in-visual-studio/35756834#35756834", "title": "C++ header file in Visual Studio", "body": "<p>When creating a new Win32 project, Visual Studio automatically adds a precompiled header \"stdafx.h\" to your project, even if you unchecked the 'Empty Project' checkbox. </p>\n\n<p>If you want to disable this, go to your project configuration properties -> C/C++ -> Precompiled Headers and select 'Not Using Precompiled Headers'.</p>\n\n<p>Working with precompiled headers see: <a href=\"https://stackoverflow.com/a/4726838\">https://stackoverflow.com/a/4726838</a>.</p>\n\n<p>And P.S. look at -> <a href=\"https://stackoverflow.com/a/4207223\">https://stackoverflow.com/a/4207223</a></p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 5985004, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205768663280792/picture?type=large", "display_name": "Myrle Krantz", "link": "https://stackoverflow.com/users/5985004/myrle-krantz"}, "is_accepted": false, "score": 2, "last_activity_date": 1456948948, "creation_date": 1456948948, "answer_id": 35756994, "question_id": 35756493, "link": "https://stackoverflow.com/questions/35756493/c-header-file-in-visual-studio/35756994#35756994", "title": "C++ header file in Visual Studio", "body": "<p>The precompiled header is for speeding up compile times by compiling the contents of your most frequently included headers only once and then reusing the compile results. You can change its name if you want. </p>\n"}], "owner": {"reputation": 1697, "user_id": 5172820, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/da4f4afa5dabda9b8e3de78e61e55713?s=128&d=identicon&r=PG&f=1", "display_name": "minecraftplayer1234", "link": "https://stackoverflow.com/users/5172820/minecraftplayer1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 35756724, "answer_count": 3, "score": 0, "last_activity_date": 1456948948, "creation_date": 1456947285, "question_id": 35756493, "link": "https://stackoverflow.com/questions/35756493/c-header-file-in-visual-studio", "title": "C++ header file in Visual Studio", "body": "<p>Okay. So I've got a simple question. If I ask it in the wrong place, please correct me. What I want to ask is, why Visual Studio gives me this:</p>\n\n<pre><code>#include \"stdafx.h\"\n\n\nint main()\n{\n    return 0;\n}\n</code></pre>\n\n<p>everytime I create a new project? (I know I can select Empty Project, and add mine .cpp file by myself, but I'm just curious. It says <code>#include &lt;stdio.h&gt;</code> and <code>#include &lt;tchar.h&gt;</code>. So what is it for? Are you all using it or something?</p>\n\n<p>And P.S - why there is no <code>(int argc, char** argv)</code> in <code>main</code> declaration? (on my coding course in college I've learned that there may be <code>_tmain(int argc, _TCHAR* argv)</code>, when creating something in VS)</p>\n"}, {"tags": ["c++", "pointers", "language-lawyer"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1456956549, "post_id": 35756466, "comment_id": 59191617, "body": "See point 3 of clause 5, &quot;Clause 5 defines the effects of operators when applied to types for which they have not been overloaded.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1457018489, "post_id": 35756525, "comment_id": 59223696, "body": "This is a great explanation! I never realized the resolution to a raw pointer before the equivalent expression conversion. The example was a very helpful illustration."}], "tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": true, "score": 6, "last_activity_date": 1456956358, "last_edit_date": 1456956358, "creation_date": 1456947389, "answer_id": 35756525, "question_id": 35756466, "link": "https://stackoverflow.com/questions/35756466/c-member-access-indirection-operator-equivalence/35756525#35756525", "title": "C++ member access/indirection operator equivalence", "body": "<p>The conversion from <code>E1 -&gt; E2</code> to <code>(*(E1)).E2</code> only applies to raw pointer types. For class types, <code>E1 -&gt; E2</code> evaluates to <code>(E1).operator-&gt;().E2</code>, which potentially might recursively expand out even more copies of <code>operator-&gt;</code> if the return type of <code>operator-&gt;</code> is not itself a pointer type. You can see this by creating a type that supports <code>operator*</code> but not <code>operator-&gt;</code> and trying to use the arrow operator on it; you'll get an error that <code>operator-&gt;</code> is undefined.</p>\n\n<p>As a follow-up, it's common to implement <code>operator -&gt;</code> in terms of <code>operator *</code> in a way that makes the semantics of <code>-&gt;</code> match the semantics for pointers. You often see things like this:</p>\n\n<pre><code>PointerType ClassType::operator-&gt; () const {\n    return &amp;**this;\n}\n</code></pre>\n\n<p>This expression is interpreted as</p>\n\n<pre><code>&amp;(*(*this)),\n</code></pre>\n\n<p>meaning \"take this object (<code>*this</code>), dereference it (<code>*(*this)</code>), and get the address of what you find (<code>&amp;(*(*this))</code>.).\" Now, if you use the rule that <code>E1 -&gt; E2</code> should be equivalent to <code>(*(E1)).E2</code>, you can see that you end up getting something equivalent.</p>\n"}], "owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 1, "accepted_answer_id": 35756525, "answer_count": 1, "score": 4, "last_activity_date": 1457354635, "creation_date": 1456947192, "last_edit_date": 1495542769, "question_id": 35756466, "link": "https://stackoverflow.com/questions/35756466/c-member-access-indirection-operator-equivalence", "title": "C++ member access/indirection operator equivalence", "body": "<p>I was looking at the C++ standard regarding member reference operators (the unary <code>*</code> dereferencing operator, the <code>-&gt;</code> member accessor operator) as well as many other related questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2470255/c-difference-between-and\">C++ - Difference between (*). and ->?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/447543/ptr-hello-versus-ptr-hello\">ptr->hello(); /* VERSUS */ (*ptr).hello();</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/7681926/c-pointers-difference-between-and\">C++ pointers difference between * and -></a></p>\n\n<p>I saw that most answers stated that <code>p-&gt;m</code> is syntactic sugar for <code>(*p).m</code> as defined by the C++ Standard (5.2.5, paragraph 2):</p>\n\n<blockquote>\n  <p>The expression <code>E1-&gt;E2</code> is converted to the equivalent form <code>(*(E1)).E2</code></p>\n</blockquote>\n\n<p>Many comments also noted that because <code>operator*</code> and <code>operator-&gt;</code> are overloadable in classes, they should be overloaded uniformly to ensure consistent behavior.</p>\n\n<p>These statements seem to contradict each other: if (as per the standard) <code>E1-&gt;E2</code> is converted to the equivalent form <code>(*(E1)).E2</code>, then what would be the purpose of overloading <code>operator-&gt;</code> (as is permitted by the standard)?</p>\n\n<p>Simpler stated, are these two parts of the standard in conflict, or am I misunderstanding the Standard?<br>\nDoes the <code>E1-&gt;E2</code> equivalence transformation to <code>(*(E1)).E2</code> apply to all complete types or only to built in ones?</p>\n"}, {"tags": ["c++", "stack"], "comments": [{"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 2, "creation_date": 1456947115, "post_id": 35756429, "comment_id": 59186127, "body": "I don&#39;t know, have you tried?"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "reply_to_user": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1456947162, "post_id": 35756429, "comment_id": 59186155, "body": "Yes, and in my program, it wasn&#39;t working correctly. I was wondering if anyone had a better way/one that is normally used."}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 3, "creation_date": 1456947187, "post_id": 35756429, "comment_id": 59186170, "body": "the loop is wrong, you should iterate until a is empty"}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "edited": false, "score": 0, "creation_date": 1456947303, "post_id": 35756429, "comment_id": 59186230, "body": "That&#39;s what it was. Thanks"}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456947322, "post_id": 35756429, "comment_id": 59186246, "body": "a side note: if you need to introspect the contents of the stack, then perhaps use some other container, which allows to do so without making a copy"}, {"owner": {"reputation": 532, "user_id": 1835951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b6a1bc568a2e7da75c55447b84f897f?s=128&d=identicon&r=PG", "display_name": "NiBZ", "link": "https://stackoverflow.com/users/1835951/nibz"}, "edited": false, "score": 0, "creation_date": 1456947432, "post_id": 35756429, "comment_id": 59186311, "body": "This questions shoud definitely not be tagged as <code>c</code>, this is pure <code>c++</code> !"}, {"owner": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 0, "creation_date": 1456947483, "post_id": 35756429, "comment_id": 59186345, "body": "`  while(!a.empty()){  std::cout &lt;&lt; a.pop(); }  `"}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "reply_to_user": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 2, "creation_date": 1456947552, "post_id": 35756429, "comment_id": 59186393, "body": "@ArifBurhan <code>std::stack&lt;T&gt;::pop</code> does not return anything but <code>void</code>"}, {"owner": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 0, "creation_date": 1456947715, "post_id": 35756429, "comment_id": 59186480, "body": "Then have  <b>cout&lt;&lt;a.top(); a.pop()</b> all in while loop, and you need an empty() method which returns true when the stack is empty."}, {"owner": {"reputation": 481, "user_id": 5916150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c209005186a84dd1820b220d7b78527e?s=128&d=identicon&r=PG&f=1", "display_name": "Arif Burhan", "link": "https://stackoverflow.com/users/5916150/arif-burhan"}, "edited": false, "score": 0, "creation_date": 1456947834, "post_id": 35756429, "comment_id": 59186544, "body": "Or   <b>while(( a.size() ) != 0)</b>"}], "answers": [{"tags": [], "owner": {"reputation": 9721, "user_id": 131057, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4d84023d355c712ca3a393881e862679?s=128&d=identicon&r=PG", "display_name": "Luka Rahne", "link": "https://stackoverflow.com/users/131057/luka-rahne"}, "is_accepted": false, "score": 2, "last_activity_date": 1456947330, "creation_date": 1456947330, "answer_id": 35756510, "question_id": 35756429, "link": "https://stackoverflow.com/questions/35756429/function-to-print-all-elements-of-stack/35756510#35756510", "title": "Function to print all elements of stack?", "body": "<pre><code>for (unsigned int i = 0; i &lt; c.size(); i++)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>while(a.size() &gt; 0)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "edited": false, "score": 0, "creation_date": 1456948124, "post_id": 35756516, "comment_id": 59186712, "body": "So, if I wanted to make a function that cleared all the elements of the stack, and I want it to register with the global stack&lt;char&gt; c, I would use <code>void clear_stack(stack&lt;char&gt; &amp;c)</code>?"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "edited": false, "score": 0, "creation_date": 1589269781, "post_id": 35756516, "comment_id": 109218474, "body": "@NickPredey, something like that."}, {"owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "edited": false, "score": 0, "creation_date": 1591939470, "post_id": 35756516, "comment_id": 110250232, "body": "Funny looking back 4 years ago and seeing to where I&#39;ve progressed from this question..thanks for the answer! :)"}, {"owner": {"reputation": 87, "user_id": 12339291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2u9h1.jpg?s=128&g=1", "display_name": "Z41N", "link": "https://stackoverflow.com/users/12339291/z41n"}, "edited": false, "score": 0, "creation_date": 1595936522, "post_id": 35756516, "comment_id": 111640172, "body": "Exactly what I needed, thank you. For some explanation for my fellow noobs: while loops continue to run infinitely until a specific condition right? So what we&#39;re doing is printing out whatever is at the top of the stack, then pop (or remove the element) and re-iterate. This keeps happening once the stack is now empty (since we kept popping). Once its empty, it stops. Done."}], "tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 6, "last_activity_date": 1456947696, "last_edit_date": 1456947696, "creation_date": 1456947352, "answer_id": 35756516, "question_id": 35756429, "link": "https://stackoverflow.com/questions/35756429/function-to-print-all-elements-of-stack/35756516#35756516", "title": "Function to print all elements of stack?", "body": "<p>Your loop is wrong, consider what happens to <code>a</code> when you do <code>a.pop()</code> if <code>a.size()</code> was 3, it is now 2, so your loop will iterate one less time. You should do this:</p>\n\n<pre><code>while (!a.empty()) {\n      std::cout&lt;&lt;a.top();\n      a.pop();\n }\n</code></pre>\n\n<p>Also you dont need to copy <code>c</code>, since your function signiture is <code>void print_stack(stack&lt;char&gt; c)</code> not <code>void print_stack(stack&lt;char&gt; &amp;c)</code> you are creating a copy of <code>c</code> for the scope of this function anyway. Which means this would be sufficient:</p>\n\n<pre><code>void print_stack(stack&lt;char&gt; c) {\n    while (!c.empty()) {\n        std::cout&lt;&lt;c.top();\n        c.pop();\n    }\n}\n</code></pre>\n\n<p><a href=\"http://ideone.com/ex7DGZ\" rel=\"nofollow\">Here is a live example.</a> </p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10162473"}, "is_accepted": false, "score": 0, "last_activity_date": 1533068209, "creation_date": 1533068209, "answer_id": 51621402, "question_id": 35756429, "link": "https://stackoverflow.com/questions/35756429/function-to-print-all-elements-of-stack/51621402#51621402", "title": "Function to print all elements of stack?", "body": "<p>You could also simply do </p>\n\n<pre><code>std::stack&lt;int&gt; c;\nstd::cout &lt;&lt; c; //[a, b, c]\n</code></pre>\n\n<p>Though you can't format it, you'll be able to get the representation of it.</p>\n"}], "owner": {"reputation": 545, "user_id": 5458157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f169232f8d4042adda8069dce96032c?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Predey", "link": "https://stackoverflow.com/users/5458157/nick-predey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9742, "favorite_count": 0, "accepted_answer_id": 35756516, "answer_count": 3, "score": 0, "last_activity_date": 1533068209, "creation_date": 1456947076, "last_edit_date": 1533065800, "question_id": 35756429, "link": "https://stackoverflow.com/questions/35756429/function-to-print-all-elements-of-stack", "title": "Function to print all elements of stack?", "body": "<p>I want to print all the elements of a character stack. This is my function:</p>\n\n<pre><code>void print_stack(stack&lt;char&gt; c)\n{\n     stack&lt;char&gt; a = c;\n     for (unsigned int i = 0; i &lt; a.size(); i++) {\n          std::cout&lt;&lt;a.top();\n          a.pop();\n     }\n}\n</code></pre>\n\n<p>Currently, it is printing only the first <code>a.size() - 1</code> elements and not the last element. I am having trouble figuring out why this is the case.</p>\n"}, {"tags": ["c++", "class", "c++11", "object", "vector"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1456947227, "post_id": 35756378, "comment_id": 59186189, "body": "Does that still happen if you don&#39;t store the vector in a class? Please take the habit first extracting a minimal but complete example."}], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 3891312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/998f9736610b935376162590d411b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "kvway", "link": "https://stackoverflow.com/users/3891312/kvway"}, "edited": false, "score": 0, "creation_date": 1456947236, "post_id": 35756418, "comment_id": 59186193, "body": "Oh thanks i had it like that before but it was still giving me errors but i forgot to change it in class as well."}, {"owner": {"reputation": 94713, "user_id": 1139697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f136ddb684f39aaee1c028ee1950f6f?s=128&d=identicon&r=PG", "display_name": "Zeta", "link": "https://stackoverflow.com/users/1139697/zeta"}, "edited": false, "score": 0, "creation_date": 1456947305, "post_id": 35756418, "comment_id": 59186232, "body": "And the explicit <code>const</code> is required, since <code>std::begin()</code> on a <code>const std::vector&lt;T&gt;</code> yields a <code>const_iterator</code>."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 1, "last_activity_date": 1456947033, "creation_date": 1456947033, "answer_id": 35756418, "question_id": 35756378, "link": "https://stackoverflow.com/questions/35756378/class-containing-vector-of-classes/35756418#35756418", "title": "Class containing vector of classes", "body": "<p>Just change </p>\n\n<pre><code>void printAtributes ( void );\n</code></pre>\n\n<p>to </p>\n\n<pre><code>void printAtributes ( void ) const;\n                          // ^^^^^\n</code></pre>\n\n<p>As you're explicitly requiring it from a const reference</p>\n\n<pre><code>for ( const auto &amp;  student : vectorOfStudents )\n   // ^^^^^^^^^^^^\n</code></pre>\n\n<p>the function must be declared as being callable from a <code>const</code> reference.</p>\n"}], "owner": {"reputation": 484, "user_id": 3891312, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/998f9736610b935376162590d411b0ab?s=128&d=identicon&r=PG&f=1", "display_name": "kvway", "link": "https://stackoverflow.com/users/3891312/kvway"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "accepted_answer_id": 35756418, "answer_count": 1, "score": -1, "last_activity_date": 1456947310, "creation_date": 1456946920, "last_edit_date": 1456947310, "question_id": 35756378, "link": "https://stackoverflow.com/questions/35756378/class-containing-vector-of-classes", "title": "Class containing vector of classes", "body": "<p>I have defined two classes : </p>\n\n<pre><code>class Group\n{\n  public:\n    Group ( void );\n    bool addStudent ( const Student &amp; X );\n    void printAll( void ) const;\n\n  protected:\n    vector&lt;Student&gt; vectorOfStudents;\n};\n//-----------------------------------------------\nclass Student\n{\n   public:\n     Student ( string name, int age );\n     void printAtributes ( void );\n\n   protected:\n     string                    nameOfStudent;\n     int                       ageOfStudent;\n};\n</code></pre>\n\n<p>I'm creating objects and storing them in Group object to vector but i have problem when i want to print them :</p>\n\n<pre><code>void Group::printAll ( void ) const\n{\n  for ( const auto &amp;  student : vectorOfStudents )\n  {\n    student . printAtributes (  ); // Line 54\n    cout &lt;&lt; endl;\n  }\n}\n</code></pre>\n\n<p>Here is the function which should call and print name of student every time : </p>\n\n<pre><code>void Student::printAtributes ( void )\n{\n  cout &lt;&lt; \"name: \" &lt;&lt; nameOfStudent &lt;&lt; \" | \" &lt;&lt; \"age: \" &lt;&lt; ageOfStudent&lt;&lt; endl;\n}\n</code></pre>\n\n<p>Gives me this error :</p>\n\n<pre><code>54:33: error: passing \u2018const Student\u2019 as \u2018this\u2019 argument of \u2018void Student::printAtributes()\u2019 discards qualifiers [-fpermissive]\n     student . printAtributes (  );\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 2, "creation_date": 1456946797, "post_id": 35756306, "comment_id": 59185938, "body": "Maybe you can tell us what inputs give what wrong outputs."}, {"owner": {"reputation": 1, "user_id": 6008784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb34667976aef4db73a139b26cdfe2?s=128&d=identicon&r=PG&f=1", "display_name": "M. Liberian", "link": "https://stackoverflow.com/users/6008784/m-liberian"}, "reply_to_user": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 0, "creation_date": 1456947751, "post_id": 35756306, "comment_id": 59186507, "body": "The inputs are: 6  -10  -4 2   6     9 2   4     8 0   2     4 2   4     2  But the output seems to be: 6       -10     -4      -0.333333       2 2       6       9       -0.333333       2 2       4       8       -0.333333       2 0       2       4       -0.333333       2 2       4       2       -0.333333       2  Coded by Paye W. Kialain Press any key to continue . . ."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456948003, "post_id": 35756306, "comment_id": 59186635, "body": "Details of some of whats going wrong here: <a href=\"http://stackoverflow.com/questions/21895756/why-are-floating-point-numbers-inaccurate\">Why Are Floating Point Numbers Inaccurate?</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1456948094, "post_id": 35756306, "comment_id": 59186686, "body": "@M.Liberian edit the question to include the input and output. Easier to read and find. Also worth adding what you expected the output to be."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456948453, "post_id": 35756306, "comment_id": 59186931, "body": "Recommend replacing <code>while (!fin2.eof())</code> with <code>while (!fin2.eof(fin2 &gt;&gt; A &gt;&gt; B &gt;&gt; C &gt;&gt; root1 &gt;&gt; root2))</code> and getting rid of the two <code>fin2 &gt;&gt; A &gt;&gt; B &gt;&gt; C &gt;&gt; root1 &gt;&gt; root2;</code>s. Bit easier to read and catches poorly formatted input as well as end of file. Current could trip over bad input and go into infinite loop because the bad read is never handled and cleared."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456948972, "post_id": 35756306, "comment_id": 59187236, "body": "Why <code>while (A != -99)</code>?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456949388, "post_id": 35756306, "comment_id": 59187490, "body": "<code>root1</code> and <code>root2</code> can be used before they are initialized."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6008784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb34667976aef4db73a139b26cdfe2?s=128&d=identicon&r=PG&f=1", "display_name": "M. Liberian", "link": "https://stackoverflow.com/users/6008784/m-liberian"}, "edited": false, "score": 0, "creation_date": 1456948367, "post_id": 35756589, "comment_id": 59186875, "body": "Thanks for the help! However, I&#39;m unsure how to incorporate the epsilon constant without complicating everything; and will that stop the code from giving the same value for every root1 and root2 value?"}, {"owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "reply_to_user": {"reputation": 1, "user_id": 6008784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb34667976aef4db73a139b26cdfe2?s=128&d=identicon&r=PG&f=1", "display_name": "M. Liberian", "link": "https://stackoverflow.com/users/6008784/m-liberian"}, "edited": false, "score": 0, "creation_date": 1456949428, "post_id": 35756589, "comment_id": 59187518, "body": "Think of the <code>epsilon</code> method as the &quot;safe&quot; version of <code>some_float == 0</code>. I don&#39;t see how it would complicate anything. You&#39;ll have to try it out yourself. You can&#39;t get anywhere with programming if you can&#39;t be bothered with or afraid to experiment and iterate."}], "tags": [], "owner": {"reputation": 986, "user_id": 4146185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e841a5b29c1e621da3e5a52ba095490?s=128&d=identicon&r=PG&f=1", "display_name": "Nard", "link": "https://stackoverflow.com/users/4146185/nard"}, "is_accepted": false, "score": 1, "last_activity_date": 1456947639, "creation_date": 1456947639, "answer_id": 35756589, "question_id": 35756306, "link": "https://stackoverflow.com/questions/35756306/c-quadratic-code-errors/35756589#35756589", "title": "C++ Quadratic Code Errors", "body": "<p>The statements <code>discriminant == 0</code> and <code>A == 0</code> are dangerous comparisons because <code>discriminant</code> and <code>A</code> are <code>float</code>s. Floating-point calculations are often accompanied with floating-point errors (Think errors you get in mathematical approximations).</p>\n\n<p>Consider this simple example of floating-point errors:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main()\n{\n  float a = 3.0;\n  float b = 10.0;\n  std::cout.precision(20);\n  std::cout &lt;&lt; a/b &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>3.0/10.0, that's elementary math! You'd expect the result to be 0.3. However, as it turns out, the result is 0.30000001192092895508. If <code>a</code> and <code>b</code> were <code>double</code>s, the result would be 0.2999999999999999889. This is because the way floating-point numbers are represented in binary does not allow for an accurate representation of 0.3. Now imagine what would have happened if I had code like <code>if(a/b == 0.3)</code>. The condition will never be satisfied.</p>\n\n<p>A solution to this problem is to introduce an epsilon value. This epsilon value basically serves as a value for error tolerance.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>float a = 3.0;\nfloat b = 10.0;\n\nconst float epsilon = 0.000001;\n\nif(fabs(a/b - 0.3) &lt; epsilon) {\n  std::cout &lt;&lt; \"a/b is equal to 0.3!\" &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6008784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23eb34667976aef4db73a139b26cdfe2?s=128&d=identicon&r=PG&f=1", "display_name": "M. Liberian", "link": "https://stackoverflow.com/users/6008784/m-liberian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1456952247, "creation_date": 1456946667, "last_edit_date": 1456952247, "question_id": 35756306, "link": "https://stackoverflow.com/questions/35756306/c-quadratic-code-errors", "title": "C++ Quadratic Code Errors", "body": "<p>I'm having issues with the code below:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;cmath&gt;\n\nusing namespace std;\n\nint main()\n{\n    ifstream fin(\"input.txt\");\n    ofstream fout(\"output.txt\");\n\n    float discriminant, A, B, C, root1, root2;\n\n    fin &gt;&gt; A &gt;&gt; B &gt;&gt; C;\n\n    while (A != -99)\n    {\n        discriminant = (pow(B, 2.0) - 4 * A*C);\n\n        if (A == 0)\n        {\n            fout &lt;&lt; A &lt;&lt; \"\\t\" &lt;&lt; B &lt;&lt; \"\\t\" &lt;&lt; C &lt;&lt; \"\\t\" &lt;&lt; root1 &lt;&lt; \"\\t\" &lt;&lt; root2 &lt;&lt; endl;\n        }\n\n        else if (discriminant &gt; 0)\n        {\n            root1 = (-B - sqrt(discriminant)) / (2.0*A);\n            root2 = (-B + sqrt(discriminant)) / (2.0*A);\n            fout &lt;&lt; A &lt;&lt; \"\\t\" &lt;&lt; B &lt;&lt; \"\\t\" &lt;&lt; C &lt;&lt; \"\\t\" &lt;&lt; root1 &lt;&lt; \"\\t\" &lt;&lt; root2 &lt;&lt; endl;\n        }\n\n        else if (discriminant == 0)\n        {\n            fout &lt;&lt; A &lt;&lt; \"\\t\" &lt;&lt; B &lt;&lt; \"\\t\" &lt;&lt; C &lt;&lt; \"\\t\" &lt;&lt; root1 &lt;&lt; \"\\t\" &lt;&lt; root2 &lt;&lt; endl;\n        }\n\n        else\n        {\n            fout &lt;&lt; A &lt;&lt; \"\\t\" &lt;&lt; B &lt;&lt; \"\\t\" &lt;&lt; C &lt;&lt; \"\\t\" &lt;&lt; root1 &lt;&lt; \"\\t\" &lt;&lt; root2 &lt;&lt; endl;\n        }\n\n        fin &gt;&gt; A &gt;&gt; B &gt;&gt; C;\n    }\n\n    fout.close();\n\n    ifstream fin2(\"output.txt\");\n\n    fin2 &gt;&gt; A &gt;&gt; B &gt;&gt; C &gt;&gt; root1 &gt;&gt; root2;\n\n    while (!fin2.eof())\n    {\n        cout &lt;&lt; A &lt;&lt; \"\\t\" &lt;&lt; B &lt;&lt; \"\\t\" &lt;&lt; C &lt;&lt; \"\\t\" &lt;&lt; root1 &lt;&lt; \"\\t\" &lt;&lt; root2 &lt;&lt; endl;\n\n        fin2 &gt;&gt; A &gt;&gt; B &gt;&gt; C &gt;&gt; root1 &gt;&gt; root2;\n    }\n\n    cout &lt;&lt; endl;\n    cout &lt;&lt; \"Coded by Paye W. Kialain\" &lt;&lt; \"\\t\"&lt;&lt; endl;\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p>In the project description, I was told to create an input file containing a, b, and c, which I did. The format of the output is also correct. It is a table displaying the a, b and c values along with the 2 calculated roots. However, the calculations of the roots seem to be off. Are my if statements the issue?</p>\n"}, {"tags": ["c++", "compiler-errors"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 1, "creation_date": 1456946823, "post_id": 35756299, "comment_id": 59185953, "body": "Define member functions in the header. The compiler needs to see the template function definitions."}, {"owner": {"reputation": 11, "user_id": 6007960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f457273551865bd6e9040417a79fab?s=128&d=identicon&r=PG&f=1", "display_name": "P.Brown", "link": "https://stackoverflow.com/users/6007960/p-brown"}, "reply_to_user": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1456947290, "post_id": 35756299, "comment_id": 59186223, "body": "So it is imposible to define the functions outside the class, when writing a template?"}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 0, "creation_date": 1456947434, "post_id": 35756299, "comment_id": 59186312, "body": "There was an attempt to do that but in the new C++ Standard it is impossible."}, {"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1456947480, "post_id": 35756299, "comment_id": 59186341, "body": "That&#39;s an FAQ actually, check out the C++ FAQ at parashift&#39;s."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1456947770, "post_id": 35756299, "comment_id": 59186513, "body": "templated class methods can be defined outside the class, but they still have to be defined where anyone using the method can include and see them. In other words in a header. End result is you don&#39;t gain much by separating them from the class. Details and effectively a dupe here: <a href=\"http://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">Why can templates only be implemented in the header file?</a>"}, {"owner": {"reputation": 11, "user_id": 6007960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f457273551865bd6e9040417a79fab?s=128&d=identicon&r=PG&f=1", "display_name": "P.Brown", "link": "https://stackoverflow.com/users/6007960/p-brown"}, "edited": false, "score": 0, "creation_date": 1456948006, "post_id": 35756299, "comment_id": 59186637, "body": "Thank you all for the solution!"}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1456947030, "creation_date": 1456947030, "answer_id": 35756415, "question_id": 35756299, "link": "https://stackoverflow.com/questions/35756299/unresolved-external-symbol-constructor/35756415#35756415", "title": "unresolved external symbol - constructor", "body": "<p>Each compilation unit that refers to member functions of a template class needs to see the function definitions.</p>\n\n<p>So move the constructor definition from the cpp module to the header.</p>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 3381600, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2Z1E2.jpg?s=128&g=1", "display_name": "Luv", "link": "https://stackoverflow.com/users/3381600/luv"}, "is_accepted": true, "score": -1, "last_activity_date": 1456948401, "last_edit_date": 1592644375, "creation_date": 1456948401, "answer_id": 35756816, "question_id": 35756299, "link": "https://stackoverflow.com/questions/35756299/unresolved-external-symbol-constructor/35756816#35756816", "title": "unresolved external symbol - constructor", "body": "<p>Use the following include statement after your declaration of graph.h. This way the implementation is still separated from the definition, and the compiler can access it.</p>\n<pre><code>#include &quot;graph.cpp&quot;\n</code></pre>\n<p>A template is not a <em>class</em> or a <em>function</em>. A template is basically a <strong>generalized pattern</strong> which helps the compiler to generate a particular type of requested class or a function.</p>\n<p>In order for the compiler to generate the code, it must see both the template definition (not just declaration) and the specific types/whatever used to \u201cfill in\u201d the template. For example, if you\u2019re trying to use a <strong>Graph</strong>, the compiler must see both the <strong>Graph template</strong> and the fact that you\u2019re trying to make a specific <strong>Graph</strong>.</p>\n<p>Your compiler probably doesn\u2019t remember the details of one .cpp file while it is compiling another .cpp file. This is called the \u201c<strong>separate compilation model</strong>.\u201d</p>\n<blockquote>\n<p>References :</p>\n<ol>\n<li><a href=\"https://isocpp.org/wiki/faq/templates#templates-defn-vs-decl\" rel=\"nofollow noreferrer\">https://isocpp.org/wiki/faq/templates#templates-defn-vs-decl</a></li>\n<li><a href=\"https://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">Why can templates only be implemented in the header file?</a></li>\n</ol>\n</blockquote>\n"}], "owner": {"reputation": 11, "user_id": 6007960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f457273551865bd6e9040417a79fab?s=128&d=identicon&r=PG&f=1", "display_name": "P.Brown", "link": "https://stackoverflow.com/users/6007960/p-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2870, "favorite_count": 0, "accepted_answer_id": 35756816, "answer_count": 2, "score": 1, "last_activity_date": 1456948401, "creation_date": 1456946647, "question_id": 35756299, "link": "https://stackoverflow.com/questions/35756299/unresolved-external-symbol-constructor", "title": "unresolved external symbol - constructor", "body": "<p>I have a class <code>graph.h</code> written like this</p>\n\n<pre><code>#include &lt;fstream&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nclass Graph\n{\nprivate:\n    T ** graphData;\npublic:\n    Graph(ifstream &amp; inputFile);\n    ~Graph(){};\n    friend ofstream &amp; operator&lt;&lt;(ostream&amp;, const Graph &amp;);\n};\n</code></pre>\n\n<p>where constructor <code>Graph(ifstream &amp; inputFile);</code> is defined in <code>graph.cpp</code>:</p>\n\n<pre><code>#include \"graph.h\"  \ntemplate &lt;typename T&gt;\nGraph&lt;T&gt;::Graph(ifstream &amp; inputFile){}\n</code></pre>\n\n<p>I tried to make an instance of this class in main.cpp:</p>\n\n<pre><code>#include &lt;fstream&gt;\n#include \"graph.h\"    \nusing namespace std;\n\nint main()\n{\n    ifstream myFile (\"example.txt\");\n    Graph&lt;int&gt; * IntGraph = new Graph&lt;int&gt;(myFile);\n    return 0;\n}\n</code></pre>\n\n<p>but I keep getting these errors</p>\n\n<pre><code>Error   1   error LNK2019: unresolved external symbol \"public: __thiscall Graph&lt;int&gt;::Graph&lt;int&gt;(class std::basic_ifstream&lt;char,struct std::char_traits&lt;char&gt; &gt; &amp;)\" (??0?$Graph@H@@QAE@AAV?$basic_ifstream@DU?$char_traits@D@std@@@std@@@Z) referenced in function _main    C:\\Users\\Vlada\\Dropbox\\FJFI\\BP - Graph partitioning\\BP-program\\BP-program\\main.obj  BP-program\nError   2   error LNK1120: 1 unresolved externals   C:\\Users\\Vlada\\Dropbox\\FJFI\\BP - Graph partitioning\\BP-program\\Debug\\BP-program.exe BP-program\n</code></pre>\n\n<p>I tried to search, but none of the result I found seemed to me like this.</p>\n"}, {"tags": ["c++", "literals", "overloading", "ambiguous-call"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 2, "creation_date": 1456946791, "post_id": 35756262, "comment_id": 59185933, "body": "Use one function <code>void foo(const T&amp;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": true, "score": 2, "last_activity_date": 1456946837, "creation_date": 1456946837, "answer_id": 35756351, "question_id": 35756262, "link": "https://stackoverflow.com/questions/35756262/how-to-solve-ambiguity-caused-by-function-overloading-like-this/35756351#35756351", "title": "How to solve ambiguity caused by function overloading like this?", "body": "<p>You can pass by const reference <code>const T&amp;</code> so that it will also accept literal constants, or pass by rvalue reference <code>T&amp;&amp;</code> instead of <code>T</code> so that it will only accept rvalues (like literal constants)</p>\n"}], "owner": {"reputation": 318, "user_id": 3597574, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7042f3009680085a9a5cd153fddee5ce?s=128&d=identicon&r=PG&f=1", "display_name": "whoAmI", "link": "https://stackoverflow.com/users/3597574/whoami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 35756351, "answer_count": 1, "score": 1, "last_activity_date": 1456946837, "creation_date": 1456946517, "question_id": 35756262, "link": "https://stackoverflow.com/questions/35756262/how-to-solve-ambiguity-caused-by-function-overloading-like-this", "title": "How to solve ambiguity caused by function overloading like this?", "body": "<p>I have a piece of code similar to this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\ntemplate&lt;typename T&gt;\nclass Class\n{\npublic:\n    Class() {}\n    void foo(T)  {cout &lt;&lt; \"foo(T) is called \\n\";}\n    void foo(T&amp;) {cout &lt;&lt; \"foo(T&amp;) is called \\n\";}\n};\n\nint main()\n{\n    Class&lt;int&gt; c;\n    int a = 1;\n\n    c.foo(1);\n    c.foo(a);\n\n    return 0;\n}\n</code></pre>\n\n<p>I want to have both overloads of function <code>foo</code> because <code>foo(T&amp;)</code> is more efficient but I can't use a literal constant as it's argument and <code>foo(T)</code> will work for literal constants although it is not as efficient as <code>foo(T&amp;)</code>. But when I define both functions there will be an ambiguous call when <code>c.foo(a)</code> is going to execute.</p>\n\n<blockquote>\n  <p>error: call of overloaded 'foo(int&amp;)' is ambiguous</p>\n</blockquote>\n\n<p>How can I overcome this problem?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 0, "creation_date": 1456947048, "post_id": 35756231, "comment_id": 59186088, "body": "What&#39;s the content of the file? Without that, it&#39;s hard to tell. Also, which values is off? Try to reduce your example to just one of the two values if possible."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1456950734, "post_id": 35756231, "comment_id": 59188291, "body": "What is <code>cie</code> in the expression <code>k.find(cie, start_pos)</code>?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1456950811, "post_id": 35756231, "comment_id": 59188334, "body": "Is there a difference between <code>cie</code> and <code>cei</code>?  I highly recommend using verbose variable names.  Variable names have nothing to do with executable performance and are negligible to build time."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1521094620, "post_id": 35756231, "comment_id": 85587851, "body": "You are counting the number of occurrences, not the number of words."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 1, "creation_date": 1521095142, "post_id": 35756231, "comment_id": 85588067, "body": "Also, rtf??????"}], "owner": {"reputation": 1, "user_id": 6009639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a50fd8e8bb02cffc8c666f693378a1a?s=128&d=identicon&r=PG&f=1", "display_name": "HighKingOfGondor", "link": "https://stackoverflow.com/users/6009639/highkingofgondor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1521092639, "creation_date": 1456946417, "last_edit_date": 1521092639, "question_id": 35756231, "link": "https://stackoverflow.com/questions/35756231/finding-a-substring-through-a-file-of-strings-c", "title": "Finding a substring through a file of strings, c++", "body": "<p>beginner (mostly, anyway) here. I'm working on a program that takes words from a dictionary file, cycles it into a string, and then finds a specific substring that can possibly appear more than once per word. This program is looking through \"Cie\" and \"Cei\" to see how many times each pop up in the file. I've got it working for the most part, and it does accurately get the correct times for \"cei\". However, It's adding a couple extra increments to <code>tally</code> making it a tad off. Here's the code:</p>\n\n<pre><code>    struct Dictionary\n{\n    void checker(ifstream&amp;);\n    void out();\nprivate:\n    int tally, tally2 = 0;\n};\n\nvoid Dictionary::checker(ifstream&amp;usa)\n{\n    string k;\n    while (usa &gt;&gt; k)\n    {\n        transform(k.begin(), k.end(), k.begin(), ::tolower);\n        string::size_type start_pos = 0;\n        while(string::npos != (start_pos = k.find(cie, start_pos)))\n        {\n            tally++;\n            ++start_pos;\n        }\n        string::size_type begin_pos = 0;\n        while(string::npos != (begin_pos = k.find(cei, begin_pos)))\n        {\n            tally2++;\n            ++begin_pos;\n        }\n    }\n}\n\n\n\nvoid Dictionary::out()\n{\n    cout &lt;&lt; \"The number of words cie is used in is: \" &lt;&lt; tally &lt;&lt; endl;\n    cout &lt;&lt; \"The number of words cei is used in is: \" &lt;&lt; tally2 &lt;&lt; endl;\n}\n\n\nint main()\n{\n    try{\n        //string american(\"/usr/share/dict/american\");\n        ifstream american {\"./american.rtf\"};\n        if (!american)\n            throw runtime_error(\"Can't open input file.\");\n        Dictionary words;\n        words.checker(american);\n        words.out();\n    }\n    catch(const runtime_error&amp; e)\n    {\n        cerr &lt;&lt; \"Exception: \" &lt;&lt; e.what() &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456946252, "post_id": 35756123, "comment_id": 59185607, "body": "There&#39;s no standard approach with the current c++ standard yet. May be such stuff can be handled with the c++17 file system approach properly."}, {"owner": {"reputation": 99, "user_id": 2140415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607ce51b2ab91beb60cf0e48accdc8ba?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/2140415/marcos"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456946535, "post_id": 35756123, "comment_id": 59185770, "body": "Thanks for pointing this out. I&#39;m not asking for a standard approach but for some approach to doing this task with the &quot;regular&quot; C++ language resources for streams management -- if this is at all feasible &quot;within reason&quot;."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456946820, "post_id": 35756123, "comment_id": 59185952, "body": "<i>&quot;I&#39;m not asking for a standard approach but for some approach to doing this task with the &quot;regular&quot; C++ language resources for streams management &quot;</i> No there isn&#39;t any <i>standard approach</i>. You need to interact with the particular operating system capabilities (file exclusive locking, change file watching, etc.)."}, {"owner": {"reputation": 99, "user_id": 2140415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607ce51b2ab91beb60cf0e48accdc8ba?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/2140415/marcos"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456947227, "post_id": 35756123, "comment_id": 59186190, "body": "Maybe I didn&#39;t get your point right. Do you mean any &quot;standard C++ approach&quot; as opposed to any &quot;C++ standard approach&quot;? If this so, you might consider answering in that way and, if no one comes with an alternative in some time, I&#39;ll check your answer as valid. By the way, do you know if this is this the reason why my question has been downvoted?"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 2140415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607ce51b2ab91beb60cf0e48accdc8ba?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/2140415/marcos"}, "edited": false, "score": 0, "creation_date": 1456951580, "post_id": 35756685, "comment_id": 59188758, "body": "Your answer is very informative and helpful in that way, but I&#39;m afraid I cannot switch to a different file as you suggest because the writing process is attached to it in a way that prevents me from doing so without losing data. Actually, and just as you point out, changes to the writing process would be needed, but the scenario does not enable me to access the process itself."}], "tags": [], "owner": {"reputation": 4948, "user_id": 405704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd4896c3199e219cf737e1cfb49532b?s=128&d=identicon&r=PG&f=1", "display_name": "Ionut", "link": "https://stackoverflow.com/users/405704/ionut"}, "is_accepted": false, "score": 3, "last_activity_date": 1456947944, "creation_date": 1456947944, "answer_id": 35756685, "question_id": 35756123, "link": "https://stackoverflow.com/questions/35756123/how-can-i-delete-data-from-a-sequential-file-while-it-is-being-appended-by-anoth/35756685#35756685", "title": "How can I delete data from a sequential file while it is being appended by another process", "body": "<p>This is not just a matter of C++, any language you use it will at some point (in its runtime, standard library implementation, interpreter or whatever its architecture is) use the system calls that the system provides for file handling (e.g. <code>open()</code>, <code>read()</code>, <code>write()</code>).</p>\n\n<p>I'm not aware of any system call that will delete parts of a file or replace parts with something else (you can position yourself somewhere in the middle of the file and start overwriting its contents, but this will be a byte for byte change, you can't change a piece of it with another piece with a different size). There are all sorts of workarounds for simulating deleting or changing parts of a file, but nothing that does it directly. For example: read from the original file, write only what you want to keep in a temporary file, remove the original and rename the temporary. But this will not work in your situation if the writing process keeps the file open.</p>\n\n<p>Another approach would be something inspired by <a href=\"http://linux.die.net/man/8/logrotate\" rel=\"nofollow\">logrotate</a>: when the file gets to a certain maximum size it gets switched with a new one, and you can process the previous one as you want. This approach does require changes in the writing process also.</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 2140415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607ce51b2ab91beb60cf0e48accdc8ba?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/2140415/marcos"}, "edited": false, "score": 0, "creation_date": 1456952123, "post_id": 35756789, "comment_id": 59189088, "body": "But then I would lose data because I cannot stop or even pause the writing process. Or, do you conceive of any approach to doing as you suggest while not losing data? As I said in my comment to lonut&#39;s answer, I cannot act on the writing process, which is attached to the file."}], "tags": [], "owner": {"reputation": 468, "user_id": 5884133, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/1067728893247971/picture?type=large", "display_name": "Art\u016brs Eimanis", "link": "https://stackoverflow.com/users/5884133/art%c5%abrs-eimanis"}, "is_accepted": false, "score": 1, "last_activity_date": 1456948307, "creation_date": 1456948307, "answer_id": 35756789, "question_id": 35756123, "link": "https://stackoverflow.com/questions/35756123/how-can-i-delete-data-from-a-sequential-file-while-it-is-being-appended-by-anoth/35756789#35756789", "title": "How can I delete data from a sequential file while it is being appended by another process", "body": "<p>You could specify the file length at the beginning, then start writing in it and when you reach your end of file, you just start writing at the beginning of the file again. But you should make sure that read pointer doesn't pass the writing pointer.</p>\n"}, {"tags": [], "owner": {"reputation": 2722, "user_id": 558366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c9348270fd077842628ea3bf281fc1f?s=128&d=identicon&r=PG", "display_name": "bcmpinc", "link": "https://stackoverflow.com/users/558366/bcmpinc"}, "is_accepted": false, "score": 0, "last_activity_date": 1456953485, "creation_date": 1456953485, "answer_id": 35758263, "question_id": 35756123, "link": "https://stackoverflow.com/questions/35756123/how-can-i-delete-data-from-a-sequential-file-while-it-is-being-appended-by-anoth/35758263#35758263", "title": "How can I delete data from a sequential file while it is being appended by another process", "body": "<p>It seems like you're trying to emulate the behavior of a <a href=\"https://en.wikipedia.org/wiki/Named_pipe\" rel=\"nofollow\">named pipe</a> using a regular file. This would require special support from your operating system, which probably doesn't exist because you should be using named pipes instead. Named pipes are a special kind of file which is used for communication between two processes. Like regular files, it has a path, has a filename and exist on disk. However, where a regular file's contents are stored on disk, the contents of a named pipe only exists in memory and only that data that has been written, but not yet read. This is exactly what you're trying to do. </p>\n\n<p>Assuming you're using a unix based OS. you can run <code>mkfifo outputfile</code> and then use <code>outputfile</code> for reading and appending. No C++ code required, though if you want you can also call <a href=\"http://linux.die.net/man/3/mkfifo\" rel=\"nofollow\"><code>mkfifo()</code></a> from your c++ code.</p>\n\n<p>If you're using Windows, it all becomes a bit more complicated. You have to specify something like <code>\\\\.\\pipe\\outputfile</code> as the filename for reading and appending.</p>\n"}], "owner": {"reputation": 99, "user_id": 2140415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607ce51b2ab91beb60cf0e48accdc8ba?s=128&d=identicon&r=PG", "display_name": "Marcos", "link": "https://stackoverflow.com/users/2140415/marcos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1456953485, "creation_date": 1456946057, "last_edit_date": 1456951556, "question_id": 35756123, "link": "https://stackoverflow.com/questions/35756123/how-can-i-delete-data-from-a-sequential-file-while-it-is-being-appended-by-anoth", "title": "How can I delete data from a sequential file while it is being appended by another process", "body": "<p>I'm reading data from a file in a sequential manner while the same file is being appended data by another process. So far so good. My trouble comes when I need to delete from the file the data that I have already retrieved, which I have to do in order to prevent the file from getting too large due to the writing process. I don't need to delete exactly the data that I have just retrieved, but at least do some removal periodically without losing any data that have not already been read. How can I do this with C++? </p>\n\n<p>I understand that there may be different valuable approaches. I'd check as valid answer any that would prove useful to my developing the code. </p>\n"}, {"tags": ["c++", "qt", "pointers", "segmentation-fault"], "comments": [{"owner": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1456999137, "post_id": 35756022, "comment_id": 59209385, "body": "Welcome to SO. Here, to mark an answer solved you just need to use the little green mark (as you did) on the correct answer. There is no need to edit the question and/or title."}, {"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "reply_to_user": {"reputation": 27069, "user_id": 2307070, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/l8ha6.jpg?s=128&g=1", "display_name": "Thomas Ayoub", "link": "https://stackoverflow.com/users/2307070/thomas-ayoub"}, "edited": false, "score": 0, "creation_date": 1456999401, "post_id": 35756022, "comment_id": 59209565, "body": "Ohh ok, didn&#39;t know that (And you already know im new to SO :p) Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1456947629, "post_id": 35756297, "comment_id": 59186430, "body": "Thank you for your response, but someone came along with the signals and slots idea, which is what I need."}, {"owner": {"reputation": 6147, "user_id": 3767076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64707b213de57fb785081ba23aaea2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3767076/felix"}, "reply_to_user": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "edited": false, "score": 0, "creation_date": 1456948741, "post_id": 35756297, "comment_id": 59187099, "body": "Ah, seems I misunderstood your question ;) I thought you wanted to create a second one"}], "tags": [], "owner": {"reputation": 6147, "user_id": 3767076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64707b213de57fb785081ba23aaea2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3767076/felix"}, "is_accepted": false, "score": 0, "last_activity_date": 1456946644, "creation_date": 1456946644, "answer_id": 35756297, "question_id": 35756022, "link": "https://stackoverflow.com/questions/35756022/initializing-a-ui-pointer-from-a-qmainwindow-class-to-a-qdialog-class/35756297#35756297", "title": "Initializing a Ui pointer From a QMainWindow class to a QDialog Class", "body": "<p>Short answere - your can't! If you want to create a new instance of the ui, you would have to do:</p>\n\n<pre><code>MainWindow::Ui *ui = new MainWindow::UI();\nui-&gt;setupUi(this);\n</code></pre>\n\n<p>However, the <code>this</code>-pointer for a UI created for a <code>QMainWindow</code> based class must inherit <code>QMainWindow</code> - thus, you can't.</p>\n\n<p>In general, it is possible if you create your Ui based on a <code>QWidget</code> instead of a <code>QMainWindow</code>, since both inherit <code>QWidget</code>.</p>\n\n<p>Alternativly, you could try the following:</p>\n\n<pre><code>QMainWindow *subWindow = new QMainWindow(this);\nsubWindow-&gt;setWindowFlags(Qt::Widget);\nMainWindow::Ui *ui = new MainWindow::UI();\nui-&gt;setupUi(subWindow );\n//... add the mainwindow as a widget to some layout\n</code></pre>\n\n<p>But I would guess the result will look weird and may not even work in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 2436, "user_id": 821892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb1aca69df1ca829681a6009ebcdb93?s=128&d=identicon&r=PG", "display_name": "docsteer", "link": "https://stackoverflow.com/users/821892/docsteer"}, "is_accepted": true, "score": 1, "last_activity_date": 1456946935, "creation_date": 1456946935, "answer_id": 35756388, "question_id": 35756022, "link": "https://stackoverflow.com/questions/35756022/initializing-a-ui-pointer-from-a-qmainwindow-class-to-a-qdialog-class/35756388#35756388", "title": "Initializing a Ui pointer From a QMainWindow class to a QDialog Class", "body": "<p>Generally in C++ you should practice what is called encapsulation - keep data inside a class hidden from others that don't need to know about it. It's not good to have multiple pointers to the UI object as now all those other objects have to know how the main window UI is implemented.</p>\n\n<p>In this case, what I would recommend is to use Qt's signals and slots mechanism to allow the dialog to tell the main window what you need it to do. That has the advantage that if you add more dialogs, or change how things are implemented in the main window, you don't need to alter the signal slot mechanism, and the details are hidden cleanly.</p>\n\n<p>So - for your dialog, add a signal like this in the header file</p>\n\n<pre><code>class Dialog : QDialog\n{\n   Q_OBJECT\n   signals:\n      void setTextSignal(QString text);\n}\n</code></pre>\n\n<p>and in your main window header, add a slot.</p>\n\n<pre><code>class MainWindow : public QMainWindow\n{\n  Q_OBJECT\npublic slots:\n   void setTextSlot(const QString &amp;text);\n}\n</code></pre>\n\n<p>now in your method where the button is pressed,</p>\n\n<pre><code>void Dialog::on_pushbutton_clicked()\n{\n   emit setTextSignal(\"test\");\n}\n</code></pre>\n\n<p>and in your main window</p>\n\n<pre><code>void MainWindow::setTextSlot(const QString &amp;text)\n{\n   mainUi-&gt;label-&gt;setText(text);\n}\n</code></pre>\n\n<p>The final part is to connect the signal and slot together, which you would do in your main window function where you create the dialog:</p>\n\n<pre><code>void MainWindow::on_pushButton_clicked()\n{\n   dialog = new Dialog(this); \n   connect(dialog, SIGNAL(setTextSignal(QString)), this, SLOT(setTextSlot(QString)));\n   dialog-&gt;show();\n}\n</code></pre>\n\n<p>You can see there are many advantages to this; the Dialog no longer needs a pointer to the main window UI, and it makes your code much more flexible (you can have other objects connected to the signals and slots as well).</p>\n"}], "owner": {"reputation": 47, "user_id": 5892359, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ec306c3bdf4483062a34f5d8163da9e7?s=128&d=identicon&r=PG", "display_name": "Kitty Burner", "link": "https://stackoverflow.com/users/5892359/kitty-burner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1262, "favorite_count": 0, "accepted_answer_id": 35756388, "answer_count": 2, "score": 3, "last_activity_date": 1456999163, "creation_date": 1456945727, "last_edit_date": 1456999163, "question_id": 35756022, "link": "https://stackoverflow.com/questions/35756022/initializing-a-ui-pointer-from-a-qmainwindow-class-to-a-qdialog-class", "title": "Initializing a Ui pointer From a QMainWindow class to a QDialog Class", "body": "<p>I'm really stuck on one problem that I want to solve. the problem is that I have a Class for QMainWindow which holds the Ui variable for that form. Now I want to be able to edit that Form using the Ui variable in that class on a QDialog cpp file. I probably sound really stupid and I really have no idea how I should explain this, but I have code which maybe can help. </p>\n\n<p>MainWindow.h:</p>\n\n<pre><code>#include \"ui_mainwindow.h\"\nnamespace Ui {\nclass MainWindow;\n}\nclass MainWindow : public QMainWindow\n{\nQ_OBJECT\n\npublic:   \nexplicit MainWindow(QWidget *parent = 0);\n\n\n~MainWindow();\nprotected:\n    Ui::MainWindow *ui;\n}\n</code></pre>\n\n<p>MainWindow.cpp:</p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n#include \"dialog.h\"\nDialog *dialog;\n\nMainWindow::MainWindow(QWidget *parent) :\nQMainWindow(parent),\nui(new Ui::MainWindow)\n{\nui-&gt;setupUi(this);\n}\n\nMainWindow::~MainWindow()\n{\ndelete ui;\n}\nvoid MainWindow::on_pushButton_clicked()\n{\ndialog = new Dialog(this); \ndialog-&gt;show();\n}\n</code></pre>\n\n<p>QDialog.cpp:</p>\n\n<pre><code>#include \"ui_mainwindow.h\"\n#include \"mainwindow.h\"\n#include \"dialog.h\"\n#include \"ui_dialog.h\"\n\nDialog::Dialog(QWidget *parent) :\nQDialog(parent),\nui(new Ui::Dialog)\n{\nui-&gt;setupUi(this);\n}\n\nDialog::~Dialog()\n{\ndelete ui;\n}\n\nUi::MainWindow *mainui;\nvoid Dialog::on_pushbutton_clicked(){\nmainui-&gt;label-&gt;setText(\"test\");\n}\n</code></pre>\n\n<p>So as you can see from the above code, it shows that I have a pointer to the Ui variable however its uninitialised, therefore it would lead to a SIGSEGV error, so how to do Initialize this pointer? any help here is highly appreciated, and even though this is probably really simple I just don't know what to do. (I have looked at other questions but I couldn't quite grasp what to do, so please explain what I am to do before linking me to a similar question. Also, I have left out the Dialog.h file as I didn't think it was needed, please tell me if I need to show it, thanks!).</p>\n"}, {"tags": ["c++", "dictionary", "vector"], "comments": [{"owner": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1456946484, "post_id": 35755875, "comment_id": 59185736, "body": "<code>Car ford = new Car(std::map loadCars(cars.txt);</code> has unbalanced parentheses."}, {"owner": {"reputation": 45, "user_id": 4125115, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9142db650d744732db5ae4da5ad480a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz J", "link": "https://stackoverflow.com/users/4125115/mateusz-j"}, "reply_to_user": {"reputation": 4121, "user_id": 2098932, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/BBJGp.jpg?s=128&g=1", "display_name": "Logicrat", "link": "https://stackoverflow.com/users/2098932/logicrat"}, "edited": false, "score": 0, "creation_date": 1456949051, "post_id": 35755875, "comment_id": 59187281, "body": "Yeah, this was all made up code for the purpose of the demonstration, the actual files deal with something a bit more complex."}], "owner": {"reputation": 45, "user_id": 4125115, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/9142db650d744732db5ae4da5ad480a3?s=128&d=identicon&r=PG&f=1", "display_name": "Mateusz J", "link": "https://stackoverflow.com/users/4125115/mateusz-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456945244, "creation_date": 1456945244, "question_id": 35755875, "link": "https://stackoverflow.com/questions/35755875/array-within-array-when-loading-from-a-file", "title": "Array within array when loading from a file", "body": "<p>My problem is quite peculiar in that I have a solution, but it is in my opinion extremely poor and I am looking for a better one. Here's the problem:</p>\n\n<p><em>There's a file that needs to be loaded and have characteristics to create a bunch of objects. The object will have 10-12 properties and there will be a few types of objects each one with different characteristics. To make it even more fun, there's one type of object that is actually made up of two separate other objects, but that can be ignored for the purpose of this question. The file will store the characteristics for a few objects as well as the base class. For example the base class will contain the \"car\" manufacturer, factory made and maybe  the engine used, but each of the objects will contain other data unique to each model; model name, tires, or whatever you can think of.</em></p>\n\n<p>At the moment I have the cars loaded into a map, from the file:</p>\n\n<pre><code>std::map&lt;std::string,std::string&gt; loadCars(std::string filePath);\n</code></pre>\n\n<p>This way I can just pass this map to each of the objects constructors and it'll look for the key it needs (For example one model might need to check for the types of sunroof used whilst another doesn't have a sunroof, so can ignore it) and initialize the data. It'll load the car model name into the object name etc, like this:</p>\n\n<p>Car ford = new Car(std::map loadCars(cars.txt);</p>\n\n<p>Now here's the problems, from minor to major:</p>\n\n<p>1) If three car models are loaded in and none of them have sunroofs, the sunroof field in the map will be unitiliazed when its passed to the constructors, I dont know if this will cause errors, so I will require a function that pre-initializes the map with empty values, which I don't think is too bad.</p>\n\n<p>2) And here's the major problem and why this solution does not work:\nSome of the values in the car file are arrays. Meaning that an std::string in the map will not store them. Now the solution I have at the moment to me appears very ugly:</p>\n\n<pre><code>std::map&lt;std::string, std::vector&lt;std::string&gt;&gt; loadCars(std::string);\n</code></pre>\n\n<p>So I pass this map to the constructor and for each of the vectors it has to check if it has more than one value. For example <em>model name</em> would not, so it would be hardcoded to put that one value in a string. Or if this particular car only has one type of tire but normally they have multiple types, it'll just put in the vector with one element. </p>\n\n<p>The problem is that when doing the actual file loading absolutely everything will have to be converted from simple strings like the string for the model name into a vector. This seems like a waste and very shoddy code. </p>\n\n<p>Are there any better ways of doing this? Ideally you'd have a map-like container where the second value can either be a vector or a string but I dont think those exist. </p>\n"}, {"tags": ["c++", "doxygen"], "comments": [{"owner": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 1, "creation_date": 1456945299, "post_id": 35755867, "comment_id": 59184999, "body": "Seems like a maintainance burden, no? If you add/remove lines in the file where the lines have to come from you have to update the documentation in another file?"}, {"owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "reply_to_user": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 0, "creation_date": 1456945439, "post_id": 35755867, "comment_id": 59185076, "body": "No, exactly the opposite. I mark a range for the example and when I change the real world code the documentation is updated. Now it is a maintenance nightmare as the example is copy and paste. When the real code is changed you have to find and update the documentation elsewhere."}, {"owner": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 0, "creation_date": 1456945559, "post_id": 35755867, "comment_id": 59185154, "body": "That&#39;s not really the opposite, it&#39;s only shifting around what has to be updated: now you copy/paste code, when referring to lines you&#39;ll be adjusting line numbers. Number of keystrokes/mouseclicks to keep both in sync won&#39;t differ much."}, {"owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "reply_to_user": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 0, "creation_date": 1456945756, "post_id": 35755867, "comment_id": 59185277, "body": "Who has said that the reference has to be marked by line numbers. I do not know how to mark such a range, that``s why I ask. It could be block with a tag I can reference, then your statement is wrong. As said, I have no idea if this is possible and how to do it. Do you? After I know that I can tell if it is suitable for my problem."}, {"owner": {"reputation": 5891, "user_id": 1657886, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34d48ba7c8258ef5c613ba129411a6b0?s=128&d=identicon&r=PG", "display_name": "albert", "link": "https://stackoverflow.com/users/1657886/albert"}, "edited": false, "score": 0, "creation_date": 1456946898, "post_id": 35755867, "comment_id": 59186003, "body": "did you have a look at the \\snippet possibilities or the \\dontinclude / \\skip / ...  commands?"}, {"owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "edited": false, "score": 0, "creation_date": 1456947333, "post_id": 35755867, "comment_id": 59186254, "body": "Not yet, have looked at the <code>\\code</code> command, but snippet looks promising"}, {"owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "edited": false, "score": 0, "creation_date": 1456954442, "post_id": 35755867, "comment_id": 59190441, "body": "After some fiddling around and some examples as her <a href=\"http://stackoverflow.com/a/16034375/356726\">stackoverflow.com/a/16034375/356726</a> it does exactly what I want. And no static line numbers referenced, but a surrounding tag (so no maintenance nightmare). albert if you post your hint as answer i will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "is_accepted": true, "score": 0, "last_activity_date": 1456956521, "last_edit_date": 1495539902, "creation_date": 1456956521, "answer_id": 35759133, "question_id": 35755867, "link": "https://stackoverflow.com/questions/35755867/use-existing-code-range-in-cpp-file-as-example-for-documentation/35759133#35759133", "title": "Use existing code range in cpp file as example for documentation", "body": "<p>As pointed out by albert (comments above) <code>\\snippet</code> can be used. A full example can be found here <a href=\"https://stackoverflow.com/a/16034375/356726\">https://stackoverflow.com/a/16034375/356726</a></p>\n\n<p>You refer to a file and in that file (<code>.cpp</code> in my scenario) you mark the block by <code>[]</code> brackets. It then will appear as code block.</p>\n"}], "owner": {"reputation": 12853, "user_id": 356726, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/PhH4C.gif?s=128&g=1", "display_name": "Horst Walter", "link": "https://stackoverflow.com/users/356726/horst-walter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 35759133, "answer_count": 1, "score": 0, "last_activity_date": 1456956521, "creation_date": 1456945226, "last_edit_date": 1456946167, "question_id": 35755867, "link": "https://stackoverflow.com/questions/35755867/use-existing-code-range-in-cpp-file-as-example-for-documentation", "title": "Use existing code range in cpp file as example for documentation", "body": "<p>Can I use an <strong>existing code range</strong> (means some lines of code from a <code>cpp</code> file) as example in the doxygen docu?</p>\n\n<pre><code>/*!\n * \\brief My Foo class\n * \\details More about foo\n * \\example?? Foo used like here, some LOC from cpp follow (how can I do that??)\n */\nclass Foo  \n</code></pre>\n\n<p>I want to show 3-10 lines of existing code of how I have used <code>Foo</code>. Those 3-10 line are supposed to come from a <code>cpp</code> file.</p>\n\n<p>I understand that I have to tag the very <code>cpp</code> file with <code>\\file</code>, but how do I refer to some lines of code there?</p>\n\n<p>Something like this (incorrect pseudo code, as I have no idea how to do it)</p>\n\n<pre><code>somewhereelse.cpp\n...\n...\n//! \\example Foo (supposed to display with Foo docu). This is how Foo is used\n//! @{\nFoo f;\nf.init(); // init first\nf.start(); // then start\n//! }@\n...\n</code></pre>\n"}, {"tags": ["c++", "decode", "lzw"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1456946225, "post_id": 35755758, "comment_id": 59185582, "body": "LZW by itself is only an algorithm, you won&#39;t find an industry standard for the specific parameters. For that you need to look deeper into each application, in your example the TIFF spec."}, {"owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1456948312, "post_id": 35755758, "comment_id": 59186836, "body": "Thanks Mark for having me search for the Tiff implementation of LZW. I just thought it was a generic algorithm... Turns out they have a few reserved entries in the dictionary (such as Clear and an EndOfInformation) as well as bit order information that I had wrong."}], "answers": [{"comments": [{"owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "edited": false, "score": 0, "creation_date": 1456946235, "post_id": 35755926, "comment_id": 59185590, "body": "Thanks Jerry, So the question is which codeword length is correct for my example? In the case of the all black image (the first pixel is RGB 0,0,0), I would expect then the first codeword (if 9bits) to contain all zeros, but in my case it is <code>000000010</code> which evaluates to 128, which is not what I was expecting."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "edited": false, "score": 0, "creation_date": 1456947073, "post_id": 35755926, "comment_id": 59186095, "body": "@Stanton: You&#39;ll need to read the TIFF spec for details. I&#39;m pretty sure it starts at 9 bits, but it&#39;s pretty routine to pre-fill the dictionary with 7-bit or 8-bit values. A fair number also start by sending a &quot;clear dictionary&quot; code (and if memory serves, TIFF did) in which case the first word won&#39;t normally carry any actual data."}, {"owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "edited": false, "score": 0, "creation_date": 1456948550, "post_id": 35755926, "comment_id": 59186996, "body": "thanks for the info. I found the Tiff spec in Appendix F of <a href=\"http://www.martinreddy.net/gfx/2d/TIFF-5.txt\" rel=\"nofollow noreferrer\">martinreddy.net/gfx/2d/TIFF-5.txt</a>. they use 9bit codes to start (like you suggested), and there are two reserved codes for Clear and EndOfInfo. Also, I had the bit order wrong. So I should have gotten 256 as the first code, which evaluates to their Clear code."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 2, "last_activity_date": 1456945893, "last_edit_date": 1456945893, "creation_date": 1456945393, "answer_id": 35755926, "question_id": 35755758, "link": "https://stackoverflow.com/questions/35755758/how-to-detect-codeword-length-for-lzw-decoding/35755926#35755926", "title": "How to detect codeword length for LZW Decoding", "body": "<p>LZW can be done any of these ways. By far the most common (at least in my experience) is start with 9 bit codes, then when the dictionary gets full, move to 10 bit codes, and so on up to some maximum size.</p>\n\n<p>From there, you typically have a couple of choices. One is to clear the dictionary and start over. Another is to continue using the current dictionary, without adding new entries. In the latter case, you typically track the compression rate, and if it drops too far, then you clear the dictionary and start over.</p>\n\n<p>I'd have to dig through docs to be sure, but if I'm not mistaken, the specific implementation of LZW used in TIFF starts at 9 and goes up to 12 bits (when it was being designed, MS-DOS was a major target, and the dictionary for 12-bit codes used most of the available 640K of RAM). If memory serves, it clears the table as soon as the last 12-bit code has been used.</p>\n"}], "owner": {"reputation": 657, "user_id": 4325153, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1Uh6h.jpg?s=128&g=1", "display_name": "Stanton", "link": "https://stackoverflow.com/users/4325153/stanton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 35755926, "answer_count": 1, "score": 0, "last_activity_date": 1456945893, "creation_date": 1456944891, "question_id": 35755758, "link": "https://stackoverflow.com/questions/35755758/how-to-detect-codeword-length-for-lzw-decoding", "title": "How to detect codeword length for LZW Decoding", "body": "<p>I'm writing a general LZW decoder c++ program and I'm having trouble finding documentation on the length (in bits) of codewords used. Some articles I've found say that codewords are 12bits long, while others say 16bits, while still others say that variable bit length is used. So which is it? It would make sense to me that bit length is variable since that would give the best compression (i.e. initially start with 9 bits, then move to 10 when necessary, then move to 11 etc...). But I can't find any \"official\" documentation on what the industry standard is.</p>\n\n<p>For example, if I were to open up Microsoft Paint and create a simple 100x100pixel all black image and save it as a Tiff. The image is saved in the Tiff using LZW compression. So in this scenario when I'm parsing the LZW codewords, should I read in 9bits, 12bits, or 16bits for the first codeword? and how would I know which to use?</p>\n\n<p>Thanks for any help you can provide.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1456944689, "post_id": 35755661, "comment_id": 59184627, "body": "all of you <code>&lt;=</code>&#39;s in your for loops need to be <code>&lt;</code>&#39;s.  Otherwise you have undefined behavior."}, {"owner": {"reputation": 1876, "user_id": 2209511, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/6BtmQ.png?s=128&g=1", "display_name": "aslg", "link": "https://stackoverflow.com/users/2209511/aslg"}, "edited": false, "score": 0, "creation_date": 1456944974, "post_id": 35755661, "comment_id": 59184786, "body": "As Nathan pointed out you&#39;re making invalid accesses to your arrays. It may happen that the program is reading the <code>target</code> variable in one of those accesses and thus always &quot;finds the item&quot;. By the way, your <code>break</code> statement only goes out of the inner loop, not the outer. So by setting <code>flag = 0</code> every iteration, even if you fix what Nathan pointed out, you&#39;ll still run into issues."}, {"owner": {"reputation": 204, "user_id": 3993731, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1f54ddc35792ff1d2ab7718aa733a532?s=128&d=identicon&r=PG&f=1", "display_name": "shreshta bm", "link": "https://stackoverflow.com/users/3993731/shreshta-bm"}, "edited": false, "score": 0, "creation_date": 1456945489, "post_id": 35755661, "comment_id": 59185106, "body": "you can lose the else part as well no need of making flag to 0"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456945817, "post_id": 35755661, "comment_id": 59185324, "body": "OP I noticed you edited your code.  Does the updated version have the same issue?  I cannot replicate it in its current form."}, {"owner": {"reputation": 13, "user_id": 5971598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd40dd3cefe475149b73bcd8cb8539a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kronaka", "link": "https://stackoverflow.com/users/5971598/kronaka"}, "edited": false, "score": 0, "creation_date": 1456947356, "post_id": 35755661, "comment_id": 59186272, "body": "I&#39;ve made the changes that were recommended and tweaked a couple other things. Everything is working fine now. Thank you!"}, {"owner": {"reputation": 1355, "user_id": 4335909, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/MrGAW.jpg?s=128&g=1", "display_name": "Rana", "link": "https://stackoverflow.com/users/4335909/rana"}, "edited": false, "score": 0, "creation_date": 1456948013, "post_id": 35755661, "comment_id": 59186639, "body": "note: <code>break</code> only breaks the inner loop, not the outer loop! Also, your <code>else{&#47;&#47;do nothing}</code> is not needed."}], "answers": [{"tags": [], "owner": {"reputation": 199, "user_id": 5991368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AO4eJ.jpg?s=128&g=1", "display_name": "Peter Barmettler", "link": "https://stackoverflow.com/users/5991368/peter-barmettler"}, "is_accepted": true, "score": 0, "last_activity_date": 1456947754, "creation_date": 1456947754, "answer_id": 35756627, "question_id": 35755661, "link": "https://stackoverflow.com/questions/35755661/unwanted-output-repetition-and-matrix-search-issues/35756627#35756627", "title": "Unwanted output repetition and matrix search issues", "body": "<p>As aslg mentioned in his comment you break only your inner loop, you need to beak the outer <code>for(int x=0;x&lt;5;x++)</code> loop as well. You can do this after the inner loop by stating:     </p>\n\n<pre><code>if(flag==0){\n   break;\n}\n</code></pre>\n\n<p>But this is not a particularly elegant solution. I suggest you let the standard library do the job.</p>\n\n<pre><code>int* end = mat[0]+25;\nint* found = std::find(mat[0],end,target);\n\nif(found!=end)\n{\n    cout&lt;&lt;\"Item found!\";\n}\nelse\n{\n    cout&lt;&lt;\"Item not found.\";\n}\n</code></pre>\n\n<p>Whats going on here: In fact the static multidimensional 5x5 array is stored as a one-dimensional array of size 25. <code>mat[0]</code> points to its start and <code>mat[0] + 25</code> to its end. <code>std::find(start,end,target)</code> returns the pointer to the target if it can be found within [start,end[, else <code>end</code> is returned.</p>\n"}], "owner": {"reputation": 13, "user_id": 5971598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd40dd3cefe475149b73bcd8cb8539a7?s=128&d=identicon&r=PG&f=1", "display_name": "Kronaka", "link": "https://stackoverflow.com/users/5971598/kronaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 35756627, "answer_count": 1, "score": 0, "last_activity_date": 1456947754, "creation_date": 1456944577, "last_edit_date": 1456947244, "question_id": 35755661, "link": "https://stackoverflow.com/questions/35755661/unwanted-output-repetition-and-matrix-search-issues", "title": "Unwanted output repetition and matrix search issues", "body": "<p>This code is an attempt to search for a target value (item) in a 5x5 matrix that I hard-coded values into. It queries the user for the value to be searched for. The problem is, when I run the code it tells me \"Item found!\" regardless of the user input. Also, It appears to be repeating user input. For example, when I used \"87\" as the user input, this is my output:</p>\n\n<p>What is the value you'd like to search for? 878787Item found!</p>\n\n<p>I'm fairly new to C++ so forgive me if I did something stupid. The code is as follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;array&gt;\n\nusing namespace std;\n\nint main()\n{\n    int target;\n    int flag;\n    int mat[5][5]= //hardcoded the matrix data\n    {\n       {1,2,3,4,5},\n       {6,7,8,9,10},\n       {11,12,13,14,15},\n       {16,17,18,19,20},\n       {21,22,23,24,25}\n    };\n\n    cout&lt;&lt;\"What is the value you'd like to search for? \";\n    cin&gt;&gt;target;\n\n    for(int x=0;x&lt;5;x++)\n    {\n        for(int y=0;y&lt;5;y++)\n        {\n            if (mat[x][y]==target)\n            {\n                flag=1;\n                break;\n            }\n            else\n            {\n                //do nothing\n            }\n        }\n    }\n    if(flag == 1)\n    {\n        cout&lt;&lt;\"Item found!\";\n    }\n    else\n    {\n        cout&lt;&lt;\"Item not found.\";\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "gcc", "cygwin"], "comments": [{"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1456966628, "post_id": 35755479, "comment_id": 59195487, "body": "you really should NOT have placed the ioping project files in your <code>home</code> directory.   rather,  create a sub directory.  Then place the project files in that sub directory."}, {"owner": {"reputation": 1, "user_id": 5689204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b86539f03ea791b4d0eba45cc596216?s=128&d=identicon&r=PG&f=1", "display_name": "mmmlll lis", "link": "https://stackoverflow.com/users/5689204/mmmlll-lis"}, "reply_to_user": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1457040771, "post_id": 35755479, "comment_id": 59238321, "body": "I was terse for simplicity at the time, but I actually put it in it&#39;s own dir, just didn&#39;t show it above, just wanted to point out what seemed like was the most relevant base dir. But yes for posterity, it should be located in a sub dir for organizational reason. Some may see as nitpicking, but a good point none the less."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5689204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b86539f03ea791b4d0eba45cc596216?s=128&d=identicon&r=PG&f=1", "display_name": "mmmlll lis", "link": "https://stackoverflow.com/users/5689204/mmmlll-lis"}, "edited": false, "score": 0, "creation_date": 1457040544, "post_id": 35761747, "comment_id": 59238188, "body": "Simplest solution for me was installing standalone &#39;MinGW&#39;. From what I read it would have taken some work to get it working with Cygwin(Didn&#39;t want to take chance of messing up Cygwin environment settings as I use it for other things) Thanks for the attempt."}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "reply_to_user": {"reputation": 1, "user_id": 5689204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b86539f03ea791b4d0eba45cc596216?s=128&d=identicon&r=PG&f=1", "display_name": "mmmlll lis", "link": "https://stackoverflow.com/users/5689204/mmmlll-lis"}, "edited": false, "score": 0, "creation_date": 1457041910, "post_id": 35761747, "comment_id": 59238954, "body": "the utility <code>MinGW</code> is for windows, not a unix like environment.   The only changes would be within the oping.c file not in the cygwin environment.  however, if you do not want to change the *.c file, then in your .bashrc file add statements similar to <code>set __linux__ </code>  and <code>export __linux__</code>"}], "tags": [], "owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "is_accepted": false, "score": 0, "last_activity_date": 1456970340, "creation_date": 1456970340, "answer_id": 35761747, "question_id": 35755479, "link": "https://stackoverflow.com/questions/35755479/how-to-compile-ioping-with-cygwin/35761747#35761747", "title": "How to compile ioping with cygwin", "body": "<p>the function: <code>get_device_size()</code>  selects certain `ioctl() depending on the underlying OS.  </p>\n\n<p>which <code>ioctl()</code> depends on which of the following are defined at <code>make</code> time</p>\n\n<ol>\n<li><code>__linux__</code></li>\n<li><code>__gnu_hurd__</code></li>\n<li><code>__FreeBSD__</code></li>\n<li><code>__FreeBSD_kernel__</code></li>\n<li><code>__DragonFly__</code></li>\n<li><code>__OpenBSD__</code></li>\n<li><code>__APPLE__</code></li>\n<li><code>__sun__</code></li>\n<li><code>__MINGW32__</code></li>\n</ol>\n\n<p>Browse your environment variables</p>\n\n<p>I would expect some environment variable like <code>__cygwin__</code></p>\n\n<p>Which ever environment variable seems most likely to be the appropriate one, add the name of the environment variable to the sets of preprocessor blocks near the top of the <code>ioping.c</code> file and again in the <code>get_device_size()</code> function.</p>\n"}], "owner": {"reputation": 1, "user_id": 5689204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b86539f03ea791b4d0eba45cc596216?s=128&d=identicon&r=PG&f=1", "display_name": "mmmlll lis", "link": "https://stackoverflow.com/users/5689204/mmmlll-lis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1457041041, "creation_date": 1456943977, "last_edit_date": 1457041041, "question_id": 35755479, "link": "https://stackoverflow.com/questions/35755479/how-to-compile-ioping-with-cygwin", "title": "How to compile ioping with cygwin", "body": "<p>Using Cygwin on Windows 7 x64. Extracted 'ioping' source into '/home'</p>\n\n<p>This is the result:</p>\n\n<pre><code>$ make\ntest ! -d .git || git describe --tags --dirty=+ | sed 's/^v//;s/-/./g' &gt; version\ncc -std=gnu99 -g -Wall -Wextra -pedantic -DVERSION=\\\"0.8\\\" -c -o ioping.o ioping.c\nioping.c: In function \u2018get_device_size\u2019:\nioping.c:602:3: error: #error no get disk size method\n # error no get disk size method\n   ^\nMakefile:46: recipe for target 'ioping.o' failed\nmake: *** [ioping.o] Error 1\n</code></pre>\n\n<p>Trying to compile a Windows executable. I'm new to Cygwin. Seems like a preprocessor is missing when looking at the code.</p>\n\n<p>Source: <a href=\"https://github.com/koct9i/ioping\" rel=\"nofollow\">https://github.com/koct9i/ioping</a></p>\n\n<p>Edit:\nSee accepted asnwer user, 'user3629249' and my comments for full answer.</p>\n\n<p>Note of the linked source. 'Readme' says it works on windows, Tried running it on Win 7 Ultimate 64-bit with SSD and it errors out with \"preparation write failed: no error\".</p>\n"}, {"tags": ["c++", "pointers", "arduino"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1456943503, "post_id": 35755329, "comment_id": 59183873, "body": "Don&#39;t pass arrays as pointers. Simple as that."}, {"owner": {"reputation": 3159, "user_id": 4566726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/703bf229fd5caa423e3681efd566dcb7?s=128&d=identicon&r=PG", "display_name": "H. Guijt", "link": "https://stackoverflow.com/users/4566726/h-guijt"}, "edited": false, "score": 2, "creation_date": 1456943672, "post_id": 35755329, "comment_id": 59183977, "body": "If you need a fixed-size array of integers, use std::array&lt;int&gt;. If you need the size to be dynamic, use std::vector&lt;int&gt;. Don&#39;t bother with pointers; pass them by (const) refererence."}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1456943675, "post_id": 35755329, "comment_id": 59183981, "body": "Perhaps you should post your C++ code so we can see what you might be doing wrong."}, {"owner": {"reputation": 21, "user_id": 6009463, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UDnnN7xk9EY/AAAAAAAAAAI/AAAAAAAACug/mCW0oezsHq0/photo.jpg?sz=128", "display_name": "Ziyad Yehia", "link": "https://stackoverflow.com/users/6009463/ziyad-yehia"}, "edited": false, "score": 0, "creation_date": 1456946564, "post_id": 35755329, "comment_id": 59185789, "body": "Doesn&#39;t an array automatically decay to a pointer when a function parameter?"}, {"owner": {"reputation": 21, "user_id": 6009463, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UDnnN7xk9EY/AAAAAAAAAAI/AAAAAAAACug/mCW0oezsHq0/photo.jpg?sz=128", "display_name": "Ziyad Yehia", "link": "https://stackoverflow.com/users/6009463/ziyad-yehia"}, "reply_to_user": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1456946586, "post_id": 35755329, "comment_id": 59185801, "body": "@ColinBasnett, the code is up now"}, {"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1456946786, "post_id": 35755329, "comment_id": 59185929, "body": "<code>_channelList</code> is declared in a global scope, is this what you want? It seems more like you want each node to have it&#39;s own channel list."}, {"owner": {"reputation": 8889, "user_id": 3493731, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/0ccfa8c5c786e748c8cf4f1d3bae9694?s=128&d=identicon&r=PG&f=1", "display_name": "MuertoExcobito", "link": "https://stackoverflow.com/users/3493731/muertoexcobito"}, "edited": false, "score": 0, "creation_date": 1456948050, "post_id": 35755329, "comment_id": 59186657, "body": "Also, unless you have some code somewhere else <code>_channelList</code> doesn&#39;t have any memory it points to - it&#39;s uninitialized. So, when you&#39;re writing to it in the Node constructor, you&#39;re writing to invalid memory."}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "edited": false, "score": 0, "creation_date": 1456950325, "post_id": 35755329, "comment_id": 59188064, "body": "You stop copying over channelList when you reach an entry that is equal to the null character.  This is unusual for integer arrays, to say the least.  Are you sure your global channelList is null-terminated? ...You really need to post an MCVE."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1456950357, "post_id": 35755329, "comment_id": 59188086, "body": "@ZiyadYehia Yes, arrays decay to pointers, but that doesn&#39;t mean an <code>int*</code> can be used as an array just like that.  If <code>_channelList</code> isn&#39;t pointing to an actual array, you may encounter problems."}], "answers": [{"comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1456958066, "post_id": 35759510, "comment_id": 59192403, "body": "Note that <code>std::array</code> has a member function <code>size()</code>, as well; since the size is known, and stored as a constant or template parameter, I used it directly for consistency.  Also note that both <code>array</code> and <code>vector</code> have member functions <code>begin()</code> and <code>end()</code>, such that <code>array_or_vector.begin()</code> is equivalent to <code>begin(array_or_vector)</code>, and <code>array_or_vector.end()</code> is equivalent to <code>end(array_or_vector)</code>.  Again, I went with the latter for consistency."}], "tags": [], "owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "is_accepted": false, "score": 1, "last_activity_date": 1483568108, "last_edit_date": 1483568108, "creation_date": 1456957929, "answer_id": 35759510, "question_id": 35755329, "link": "https://stackoverflow.com/questions/35755329/c-pointers-arrays/35759510#35759510", "title": "c++ pointers &amp; Arrays", "body": "<p>Assuming that <code>channelList</code> is null-terminated, and that <code>_channelList</code> is supposed to be a class member, you could try this:</p>\n\n<pre><code>#include &lt;algorithm&gt; // For std::copy().\n\n// ...\n\ntemplate&lt;size_t N&gt; Node::Node(bool isBase, const int (&amp;channelList)[N]) : _isBase(isBase)\n{\n    std::copy(std::begin(channelList), std::end(channelList), std::begin(_channelList));\n}\n</code></pre>\n\n<p>Unless I'm missing something, that should take a C-style int array of any size, and copy it into <code>_channelList</code>.  If the passed array is larger than <code>_channelList</code>, it may cause issues.  If possible, you would be better off using a <code>std::array</code> if the size is predetermined, or a <code>std::vector</code> if it isn't.</p>\n\n<hr>\n\n<p>If the size is fixed:</p>\n\n<pre><code>#include &lt;array&gt;\n#include &lt;algorithm&gt;  // For std::copy() and std::fill().\n\nconst size_t _sz = [whatever];\n// Simple way of setting size, but not the best.  See below.\n\nclass Node\n{\n    bool _isBase;\n    std::array&lt;int, _sz&gt; _channelList;\n\n    public:\n        Node(bool isBase, const int (&amp;channelList)[_sz]);\n        Node(bool isBase, const std::array&lt;int, _sz&gt;&amp; channelList);\n        // ...\n};\n\n/* Alternatively, you can code the size into the class as a magic number (not a good idea),\n * or better yet, make it a template parameter for the class:\n *     template&lt;size_t _sz&gt; class Node\n *     {\n *         bool _isBase;\n *         std::array&lt;int, _sz&gt; _channelList;\n *\n *         public:\n *             Node(/ * parameters * /);\n *\n *             template&lt;size_t N&gt;\n *             Node(/ * parameters * /);\n *         // ...\n *     };\n * When using the class, you would declare an instance as \"Node&lt;SIZE&gt;\", where \"SIZE\" is the\n * desired size.\n *\n * Note that if you make the size a template parameter, and define the member functions\n * outside of the class' definition, you have to put the same template at the start of each\n * member function:\n *     template&lt;size_t _sz&gt; Node&lt;_sz&gt;::Node(/ * parameters * /)\n *     {\n *         // ...\n *     }\n * This also applies to templated member functions, which will have two sets of template\n * parameters.\n *     template&lt;size_t _sz&gt; template&lt;size_t N&gt; Node&lt;_sz&gt;::Node(/ * parameters * /)\n *     {\n *         // ...\n *     }\n */\n\n// Constructor initialising from C array, if you need to work with preexisting code.\nNode::Node(bool isBase, const int (&amp;channelList)[_sz]) : _isBase(isBase)\n{\n    std::copy(std::begin(channelList), std::end(channelList), std::begin(_channelList));\n}\n\n// Constructor using std::array.\nNode::Node(bool isBase, const std::array&lt;int, _sz&gt;&amp; channelList)\n  : _isBase(isBase), _channelList(channelList)\n{\n    // Initialisation list handles everything.\n}\n\n// Note, however, that this will cause issues if the size of channelList doesn't\n// necessarily match the size of _channelList.  To solve this, we can change Node as\n// follows:\n// (Note that delegation requires a C++11-compatible compiler.)\n\n#include &lt;type_traits&gt;  // For std::integral_constant, std::true_type, and std::false_type.\n\nclass Node {\n    bool _isBase;\n    std::array&lt;int, _sz&gt; _channelList;\n\n    // Actual constructors (C-style array):\n    template&lt;size_t N&gt;\n    Node(std::true_type x, bool isBase, const int (&amp;channelList)[N]);\n\n    template&lt;size_t N&gt;\n    Node(std::false_type x, bool isBase, const int (&amp;channelList)[N]);\n\n    // Actual constructors (std::array):\n    template&lt;size_t N&gt;\n    Node(std::true_type x, bool isBase, const std::array&lt;int, N&gt;&amp; channelList);\n\n    template&lt;size_t N&gt;\n    Node(std::false_type x, bool isBase, const std::array&lt;int, N&gt;&amp; channelList);\n\n    public:\n        // Public constructors, delegate to one of the actual constructors.\n        // C-style array:\n        template&lt;size_t N&gt;\n        Node(bool isBase, const int (&amp;channelList)[N]);\n\n        // std::array:\n        template&lt;size_t N&gt;\n        Node(bool isBase, const std::array&lt;int, N&gt;&amp; channelList);\n\n        // ...\n};\n\n/* Now, these constructors are easy enough to make.\n * I'll provide an example using C-style arrays.  To make versions that take a\n * std::array instead, change the parameter:\n *     const int (&amp;channelList)[N]\n * to:\n *     const std::array&lt;int, N&gt;&amp; channelList\n * The constructors should work properly with either kind of array.\n */\n\n// Check if passed array is smaller than or equal to _sz, or if it's larger..\ntemplate&lt;size_t N&gt; Node::Node(bool isBase, const int (&amp;channelList)[N])\n  : Node(std::integral_constant&lt;bool, N &lt;= _sz&gt;{}, isBase, channelList) { }\n\n// N is smaller than or equal to _sz.\ntemplate&lt;size_t N&gt; Node::Node(std::true_type x, bool isBase, const int (&amp;channelList)[N])\n  : _isBase(isBase)\n{\n    // Copy channelList into _channelList.\n    std::copy(std::begin(channelList), std::end(channelList), std::begin(_channelList));\n    // Fill empty space at the end of _channelList.\n    std::fill(&amp;(_channelList[N]), std::end(_channelList), '\\0');\n}\n\n// N is larger than _sz.\ntemplate&lt;size_t N&gt; Node::Node(std::false_type x, bool isBase, const int (&amp;channelList)[N])\n{\n    // Handle appropriately.\n}\n</code></pre>\n\n<p>This should allow you to get the functionality you want.  [Note that you can also use the above delegation, <code>true_type</code>, and <code>false_type</code> constructors to fill C-style arrays as well as <code>std::array</code>s, if you need to use them.]</p>\n\n<hr>\n\n<p>If the size isn't fixed:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nclass Node {\n    bool _isBase;\n    std::vector&lt;int&gt; _channelList;\n\n    public:\n        template&lt;size_t N&gt;\n        Node(bool isBase, const int (&amp;channelList)[N]);\n\n    // ...\n};\n\ntemplate&lt;size_t N&gt; Node::Node(bool isBase, const int (&amp;channelList)[N]) : _isBase(isBase)\n{\n    _channelList.assign(std::begin(channelList), std::end(channelList));\n}\n\n// You can also define a constructor that takes a std::array&lt;int, N&gt;, if you\n// so desire.  Again, the only change needed is the parameter itself.\n</code></pre>\n\n<p>As a vector's length can be changed at runtime, we can use <code>vector::assign</code> to allocate space and store the entirety of <code>channelList</code>.</p>\n\n<hr>\n\n<p>Regardless of whether <code>_channelList</code> is stored as a C array, <code>std::array</code>, or <code>std::vector</code>, it's relatively easy to define getters and setters.</p>\n\n<p>Getter (entire thing):</p>\n\n<pre><code>// All of the following use this class definition, with comments identifying which\n// functions use which parts.\n// Note that the trailing \"const\" in each getter signature indicates that the function\n// cannot be used to modify the instance.  It's optional, but useful to include.\nclass Node {\n    // Return C array (either way).\n    int _channelListC[_sz];\n    // Return std::array.\n    std::array&lt;int, _sz&gt; _channelListSArr;\n    // Return std::vector.\n    std::vector&lt;int&gt; _channelListSVec;\n\n    // Return C array the readable way.\n    typedef int _channelListC_t[_sz];\n    // C++11 alternative typedef:\n    using _channelListC_t = decltype(_channelList);\n    // The C++11 version is safer, as \"decltype(_channelList)\" won't break if you change\n    // _channelList's implementation.\n    // If you need to return the entire array, it may be a good idea to make this a public\n    // typedef, so it's easier &amp; safer to declare a variable you can return it to.\n\n    public:\n        // Return C array the ugly way.\n        const int (&amp;getChannelListCUgly() const)[_sz];\n\n        // Return C array the readable way.\n        const _channelListC_t&amp; getChannelListCReadable() const;\n\n        // Return C array the readable C++11 way.\n        auto getChannelListCReadableCPP11() const -&gt; const int(&amp;)[_sz];\n\n        // Return std::array.\n        const std::array&lt;int, _sz&gt;&amp; getChannelListSArr() const;\n\n        // Return std::vector.\n        const std::vector&lt;int&gt;&amp; getChannelListSVec() const;\n};\n\n// Return C array:\n/* Note that you can't return an array from a function.  However, you can return a pointer\n * or reference to an array, depending on whether you use * or &amp; in the signature.\n */\n// The ugly way:\nconst int (&amp;Node::getChannelListCUgly() const)[_sz]\n{\n    return _channelList;\n}\n\n// The readable way:\nconst Node::_channelListC_t&amp; Node::getChannelListCReadable() const\n{\n    return _channelList;\n}\n\n// The new readable way, as of C++11:\nauto getChannelListCReadableCPP11() const -&gt; const int(&amp;)[_sz]\n{\n    return _channelList;\n}\n\n// Return std::array:\nconst std::array&lt;int, _sz&gt;&amp; Node::getChannelListSArr() const\n{\n    return _channelList;\n}\n\n// Return std:;vector:\nconst std::vector&lt;int&gt;&amp; getChannelListSVec() const\n{\n    return _channelList;\n}\n</code></pre>\n\n<p>Note that to my knowledge, a C-style array returned in this manner must be stored in a reference variable.</p>\n\n<pre><code>Node::_channelListC_t&amp; arr = nodeInstance.getChannelListCUgly();\n</code></pre>\n\n<p>Getter (single element):</p>\n\n<pre><code>// C array or std::array:\nint Node::getChannelListArrElement(int index) const\n{\n    if (index &lt; _sz)\n    {\n        // index is valid, return element.\n        return _channelList[index];\n    }\n    else\n    {\n        // index &gt;= _sz, and is invalid.\n        // Handle accordingly.\n    }\n}\n\n// std::vector:\nint Node::getChannelListVecElement(int index) const\n{\n    if (index &lt; _channelList.size())\n    {\n        // index is valid.\n        return _channelList[index];\n    }\n    else\n    {\n        // index is invalid.\n        // Handle accordingly.\n    }\n}\n</code></pre>\n\n<p>You can define a setter for the entire thing using the constructors above.  I would suggest using <code>std::fill()</code> to erase the contents of <code>_channelList</code> first, then copying the new array into <code>_channelList</code>.  You can define a setter for single elements using the single-element getter as a basis.</p>\n\n<p>Setter (entire thing):</p>\n\n<pre><code>// Array (either type):\n//   \"CHANNEL_LIST_TYPE[N] channelList\" is either \"const int (&amp;channelList)[N]\" or\n//   \"std::array&lt;int, N&gt;&amp; channelList\".  Remember to replace it with the correct one in the\n//   actual code.\n\n// Public function.\ntemplate&lt;size_t N&gt;\nvoid Node::setChannelListArr(CHANNEL_LIST_TYPE[N] channelList)\n{\n    setChannelListArr(std::integral_constant&lt;bool, N &lt;= _sz&gt;{}, channelList);\n}\n\n// Private function, N &lt;= _sz.\ntemplate&lt;size_t N&gt;\nvoid Node::setChannelListArr(std::true_type x, CHANNEL_LIST_TYPE[N] channelList)\n{\n    std::fill(std::begin(_channelList), std::end(_channelList), '\\0');\n    std::copy(std::begin(channelList), std::end(channelList), std::begin(_channelList));\n}\n\n// Private function, N &gt; _sz.\ntemplate&lt;size_t N&gt;\nvoid Node::setChannelListArr(std::false_type x, CHANNEL_LIST_TYPE[N] channelList)\n{\n    // channelList is too large.  Handle appropriately.\n}\n\n\n// std::vector:\n//   \"CHANNEL_LIST_TYPE[N]\" is used as above, and should be replaced in your actual code.\n//   Also note that you can easily modify this function to accept another vector, by\n//   removing the template, making the parameter \"const std::vector&lt;int&gt;&amp; channelList\", and\n//   using \"channelList.size()\" in place of \"N\" when calling resize().\ntemplate&lt;size_t N&gt;\nvoid Node::setChannelListVec(CHANNEL_LIST_TYPE[N] channelList)\n{\n    _channelList.resize(N); // Resize _channelList to have N elements.\n    std::fill(std::begin(_channelList), std::end(_channelList), '\\0');\n    std::copy(std::begin(channelList), std::end(channelList), std::begin(_channelList));\n}\n</code></pre>\n\n<p>Setter (single element):</p>\n\n<pre><code>// Array (either type):\nvoid Node::setChannelListArrElement(int index, int value)\n{\n    if (index &lt; _sz)\n    {\n        _channelList[index] = value;\n    }\n    else\n    {\n        // index is invalid.  Handle accordingly.\n    }\n}\n\n// std::vector:\nvoid Node::setChannelListVecElement(int index, int value)\n{\n    if (index &lt; _channelList.size())\n    {\n        _channelList[index] = value;\n    }\n    else\n    {\n        // index is invalid.  Handle accordingly.\n    }\n}\n\n// Alternative std::vector setter:\nvoid Node::setChannelListVecElement2(int index, int value)\n{\n    if (index &gt;= _channelList.size())\n    {\n        // index is out of bounds.  Resize vector to fit it.\n        _channelList.resize(index + 1, '\\0');\n    }\n\n    // Modify element.\n    _channelList[index] = value;\n}\n</code></pre>\n\n<hr>\n\n<p>Note that this answer assumes that <code>channelList</code> is null-terminated, as it appears to be.  If <code>channelList</code> isn't null-terminated, but you want to stop filling <code>_channelList</code> at the first null element, then you'll have to do a bit more work, likely using your <code>while</code> loop.</p>\n\n<hr>\n\n<p>You can find working examples of most of the above <a href=\"http://ideone.com/liO6pN\" rel=\"nofollow noreferrer\">here</a>.  It's a bit of a mess, since it's just a quick program I used to test various things while typing up this answer.</p>\n\n<hr>\n\n<p>[My apologies for any typoes and/or errors I may have missed.  I believe I caught them, but there may still be some there.]</p>\n\n<p>[Edit: Added a note about using fixed-size template constructors with C arrays.  Added the C++11 trailing return type way of returning a reference to an array.  Added a simple, working example.]\n[Edit: Added an additional single-element setter for a vector.]</p>\n"}, {"tags": [], "owner": {"reputation": 2636, "user_id": 3368201, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9c46939557e63148d8c8cfa3b14d9e2f?s=128&d=identicon&r=PG&f=1", "display_name": "frarugi87", "link": "https://stackoverflow.com/users/3368201/frarugi87"}, "is_accepted": false, "score": 1, "last_activity_date": 1456999145, "creation_date": 1456999145, "answer_id": 35768838, "question_id": 35755329, "link": "https://stackoverflow.com/questions/35755329/c-pointers-arrays/35768838#35768838", "title": "c++ pointers &amp; Arrays", "body": "<p>Justin Time's answer is the correct way to implement this in C++ (using arrays and vectors natively handled by C++)</p>\n\n<p>I just have to add this solution, which is the correct way to implement what you tried to do in C (i.e. using char arrays).</p>\n\n<p>There are two problems in your code</p>\n\n<ol>\n<li><code>_channelList</code> is NOT tied to the <code>Node</code> object, but is a somewhat static member.</li>\n<li><code>_channelList</code> is never allocated, so it points to nothing.</li>\n<li>not a real problem, but usually <code>'\\0'</code> is the string terminator. Ok, it maps to <code>0</code>, but you should just use a <code>0</code> here</li>\n</ol>\n\n<p>There are two solutions here. The first one is to give <code>_channelList</code> a fixed MAXIMUM size (maximum means that if the passed <code>channelList</code> is shorter you will get a shorter list, ok, but the allocated memory will still be the maximum one).</p>\n\n<pre><code>// File Node.h\n#define MAXIMUM_CHANNELS    10\nclass Node {\n    public:\n        Node(boolean isBase, int *channelList);\n        boolean isBase();\n        int* getChannelList();\n\n    private:\n        int _channelList[MAXIMUM_CHANNELS + 1]; // Last one is the terminator\n};\n\n// File Node.cpp\ninclude \"Arduino.h\"\n#include \"Node.h\"\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;WiFiUdp.h&gt;\n\nNode::Node(boolean isBase, int *channelList)\n{\n    _isBase = isBase;\n    int channelListLength;\n    // Get channel list lenght\n    for (channelListLength = 0; channelList[channelListLength] != 0; channelListLength++);\n\n    if (channelListLength &gt; MAXIMUM_CHANNELS)\n        channelListLength = MAXIMUM_CHANNELS;\n\n    int i;\n    for (i = 0; i &lt; channelListLength; i++)\n        _channelList[i] = channelList[i];\n    _channelList[channelListLength] = 0; // Enforce the last one to be a 0\n}\n\nboolean Node::isBase(){\n    return _isBase;\n}\n\nint* Node::getChannelList(){\n    return _channelList;\n}\n</code></pre>\n\n<p>The second method dynamically allocates the memory for the array. You should, however, dispose it when you are done with the object (in the destructor). This means that if you create the <code>Node</code> variable you are ok (for instance, <code>Node mynode;</code>). If, however, you dynamically allocate it (with <code>Node *p_mynode = new Node();</code> you will need to call a <code>delete</code> on it when you are done.</p>\n\n<pre><code>// File Node.h\nclass Node {\n    public:\n        Node(boolean isBase, int *channelList);\n        ~Node(); // destructor (called at object destruction)\n        boolean isBase();\n        int* getChannelList();\n\n    private:\n        int *_channelList;\n};\n\n// File Node.cpp\ninclude \"Arduino.h\"\n#include \"Node.h\"\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;WiFiUdp.h&gt;\n\nNode::Node(boolean isBase, int *channelList)\n{\n    _isBase = isBase;\n    int channelListLength;\n    // Get channel list lenght\n    for (channelListLength = 0; channelList[channelListLength] != 0; channelListLength++);\n\n    _channelList = (int*)malloc((channelListLength+1)*sizeof(int));\n    if (_channelList != NULL)\n    {\n        int i;\n        for (i = 0; i &lt;= channelListLength; i++)\n            _channelList[i] = channelList[i];\n        // No need to enforce the last one to be a 0\n    }\n}\n\n~Node()\n{\n    free(_channelList);\n}\n\nboolean Node::isBase(){\n    return _isBase;\n}\n\nint* Node::getChannelList(){\n    return _channelList;\n}\n</code></pre>\n\n<p>Note, however, that if the <code>malloc</code> fails you will have a <code>NULL</code> pointer. In theory it should not fail, unless you run out of ram...</p>\n\n<p>Just one more thing. Using a 0-terminated int array is not a good idea, because if you have something like this <code>{ 15, 3, 0, 5, 10 }</code> and then the terminator you will just get the first two numbers. It would be MUCH better to explicitely tell the array size (and save it in the object)</p>\n\n<pre><code>// File Node.h\nclass Node {\n    [...]\n    private:\n        int *_channelList;\n        int _channelListLength;\n};\n\n// File Node.cpp\nNode::Node(boolean isBase, int *channelList, int channelListLength)\n{\n    _isBase = isBase;\n\n    _channelListLength = channelListLength;\n    _channelList = (int*)malloc((_channelListLength)*sizeof(int));\n    if (_channelList != NULL)\n    {\n        int i;\n        for (i = 0; i &lt;= _channelListLength; i++)\n            _channelList[i] = channelList[i];\n    }\n}\n\n...\n\nint Node::getChannelListLength(){\n    return _channelListLength;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6009463, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UDnnN7xk9EY/AAAAAAAAAAI/AAAAAAAACug/mCW0oezsHq0/photo.jpg?sz=128", "display_name": "Ziyad Yehia", "link": "https://stackoverflow.com/users/6009463/ziyad-yehia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1483568108, "creation_date": 1456943466, "last_edit_date": 1456946522, "question_id": 35755329, "link": "https://stackoverflow.com/questions/35755329/c-pointers-arrays", "title": "c++ pointers &amp; Arrays", "body": "<p>I am really at my wits end with trying to get pointers to work on c++. I have searched so many questions, but I just cant understand these things.</p>\n\n<p>I am trying to do the equivalent of this python code in c++ :</p>\n\n<pre><code>    class Node:\n\n    def __init__(self,isBase,channelList):\n        self.isBase = isBase\n        self.channelList = channelList\n\n    def getChannelList(self):\n        return self.channelList\n\n    def isBase(self):\n        return self.isBase\n</code></pre>\n\n<p>Channel list is the difficult bit. It is an array of integers.\nI know that this will be passed as a pointer to my class declaration. I want to be able to store this in a class variable, and  be able to get and set it on command. </p>\n\n<p>The C++ Code is as follows:</p>\n\n<pre><code>#include \"Arduino.h\"\n#include \"Node.h\"\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;WiFiUdp.h&gt;\n\nint *_channelList;\nNode::Node(boolean isBase, int *channelList)\n{\n    _isBase = isBase;\n    int i=0;\n    while(channelList[i]!='\\0'){\n        _channelList[i] = channelList[i];\n        i++;\n    }\n    _channelList[i+1] = '\\0';\n    }\n\nboolean Node::isBase(){\n     return _isBase;\n}\n\nint* Node::getChannelList(){\n    return _channelList;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "constructor"], "comments": [{"owner": {"reputation": 90163, "user_id": 10897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/csXHX.png?s=128&g=1", "display_name": "Martin Beckett", "link": "https://stackoverflow.com/users/10897/martin-beckett"}, "edited": false, "score": 0, "creation_date": 1456943529, "post_id": 35755298, "comment_id": 59183893, "body": "I know this is probably just a homework exercise. But check if your graphics lib really wants RGBA pre-multiplied by A"}, {"owner": {"reputation": 1206, "user_id": 4534873, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f2986933131ee379e139e90f4de68a7?s=128&d=identicon&r=PG&f=1", "display_name": "happy_sisyphus", "link": "https://stackoverflow.com/users/4534873/happy-sisyphus"}, "reply_to_user": {"reputation": 90163, "user_id": 10897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/csXHX.png?s=128&g=1", "display_name": "Martin Beckett", "link": "https://stackoverflow.com/users/10897/martin-beckett"}, "edited": false, "score": 0, "creation_date": 1456943740, "post_id": 35755298, "comment_id": 59184017, "body": "Is it a bad idea to multiply by A? Could you please tell me more about it?"}, {"owner": {"reputation": 90163, "user_id": 10897, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/csXHX.png?s=128&g=1", "display_name": "Martin Beckett", "link": "https://stackoverflow.com/users/10897/martin-beckett"}, "edited": false, "score": 0, "creation_date": 1456943941, "post_id": 35755298, "comment_id": 59184127, "body": "The reason for the &quot;A&quot; is to change the all the colors at once, to handle overlaying images etc. Normally the graphics hardware would do the multiplication at display time."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456953559, "post_id": 35755298, "comment_id": 59189925, "body": "<code>this-&gt;rgba[0]</code> is an error. The only thing that can appear after <code>:</code> is a member identifier, i.e. <code>rgba</code> is the only option for this class"}], "answers": [{"comments": [{"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "edited": false, "score": 0, "creation_date": 1456943927, "post_id": 35755321, "comment_id": 59184113, "body": "This assumes a C++11 compliant compiler. Some people still aren&#39;t using C++11."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1456953643, "post_id": 35755321, "comment_id": 59189975, "body": "Some people haven&#39;t discovered computers yet so we should print this answer out and do a leaflet drop"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 4, "last_activity_date": 1456943441, "creation_date": 1456943441, "answer_id": 35755321, "question_id": 35755298, "link": "https://stackoverflow.com/questions/35755298/c-constructor-initialization-list-with-array/35755321#35755321", "title": "C++ Constructor initialization list with array", "body": "<p>It should be</p>\n\n<pre><code>Color(float red, float green, float blue, float alpha=1.0):\n            rgba{red * alpha, green*alpha, blue*alpha, 0}\n    {\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 6005409, "user_type": "registered", "profile_image": "https://graph.facebook.com/237771269899178/picture?type=large", "display_name": "Andr&#233;s Guerrero", "link": "https://stackoverflow.com/users/6005409/andr%c3%a9s-guerrero"}, "is_accepted": false, "score": 0, "last_activity_date": 1456962093, "creation_date": 1456962093, "answer_id": 35760459, "question_id": 35755298, "link": "https://stackoverflow.com/questions/35755298/c-constructor-initialization-list-with-array/35760459#35760459", "title": "C++ Constructor initialization list with array", "body": "<p>You can use the asigment operator instead of parentetheses:</p>\n\n<pre><code>this-&gt;rgba[0](red * alpha) // wrong\nthis-&gt;rgba[1] = red * alpha // ok\n</code></pre>\n"}], "owner": {"reputation": 1206, "user_id": 4534873, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8f2986933131ee379e139e90f4de68a7?s=128&d=identicon&r=PG&f=1", "display_name": "happy_sisyphus", "link": "https://stackoverflow.com/users/4534873/happy-sisyphus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 35755321, "answer_count": 2, "score": 0, "last_activity_date": 1456962093, "creation_date": 1456943364, "question_id": 35755298, "link": "https://stackoverflow.com/questions/35755298/c-constructor-initialization-list-with-array", "title": "C++ Constructor initialization list with array", "body": "<p>What am I doing wrong here? The compiler tells me it is a syntax error. </p>\n\n<pre><code>class Color {\nprivate:\n    float rgba[4];\npublic:\n    Color(float red, float green, float blue, float alpha=1.0):\n            this-&gt;rgba[0] (red * alpha),\n            this-&gt;rgba[1] (green*alpha)\n            this-&gt;rgba[2] (blue*alpha)\n    {\n\n    }\n};\n</code></pre>\n"}, {"tags": ["c++", "linux", "zlib"], "comments": [{"owner": {"reputation": 2456, "user_id": 541763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43aac9fdbb3f489dbeb253d3debb8b80?s=128&d=identicon&r=PG", "display_name": "LiMuBei", "link": "https://stackoverflow.com/users/541763/limubei"}, "edited": false, "score": 0, "creation_date": 1456943267, "post_id": 35755192, "comment_id": 59183721, "body": "I guess you&#39;d have to come up with your own compression algorithm to support that :)"}], "answers": [{"tags": [], "owner": {"reputation": 3159, "user_id": 4566726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/703bf229fd5caa423e3681efd566dcb7?s=128&d=identicon&r=PG", "display_name": "H. Guijt", "link": "https://stackoverflow.com/users/4566726/h-guijt"}, "is_accepted": true, "score": 1, "last_activity_date": 1456943210, "creation_date": 1456943210, "answer_id": 35755258, "question_id": 35755192, "link": "https://stackoverflow.com/questions/35755192/zlib-compress-uncompress-c-linux/35755258#35755258", "title": "zlib compress/uncompress c++ linux", "body": "<p>No, you cannot. The result of compression is a complex structure that you cannot simply concatenate. And even if you could, you shouldn't be doing it with strcpy since the output of compress() may very well contain null-characters. </p>\n\n<p>It's also a bad idea because the compression ratio will be much better for longer runs of data. </p>\n\n<p>If you are looking for some kind of streaming solution, your only option is to buffer your input until you are ready to compress. If, on the other hand, you are looking for some zip-archive like thing, there is code on the zlib website to help you create zip archives.</p>\n"}], "owner": {"reputation": 37, "user_id": 4268308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-9FtNQCeZDl4/AAAAAAAAAAI/AAAAAAAABWw/BqPBYfKk7BY/photo.jpg?sz=128", "display_name": "gbux", "link": "https://stackoverflow.com/users/4268308/gbux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 386, "favorite_count": 0, "accepted_answer_id": 35755258, "answer_count": 1, "score": 0, "last_activity_date": 1456943210, "creation_date": 1456942962, "question_id": 35755192, "link": "https://stackoverflow.com/questions/35755192/zlib-compress-uncompress-c-linux", "title": "zlib compress/uncompress c++ linux", "body": "<p>So I have a question I can't seem to find the answer for.</p>\n\n<p>If I containually compress small char arrays and add them to a larger character array, can I uncompress that large character array at once and get back all my original data?</p>\n\n<p>For instance:</p>\n\n<pre><code>char arry1 = \"Today is\";\nchar arry2 = \" a nice day\";\nchar arryBig[20];\n\n//pseudo code for compress, but you get the idea\ncompress(arry1)\n\nstrcpy(arryBig, arry1);\n\n//again, pseudo code for compress\ncompress(arry2);\n\nstrcpy(arryBig+9, arry2);\n\nuncompress(arryBig);\n\n//does arryBig == \"today is a nice day\" ??\n</code></pre>\n"}, {"tags": ["c++", "qt"], "answers": [{"tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": true, "score": 1, "last_activity_date": 1456943769, "creation_date": 1456943769, "answer_id": 35755415, "question_id": 35755184, "link": "https://stackoverflow.com/questions/35755184/determining-if-the-mouse-is-over-a-specific-layout/35755415#35755415", "title": "Determining if the mouse is over a specific layout", "body": "<p>I don't think it is possible to do directly.</p>\n\n<p>However, it might be possible to fake it. You can put a custom widget inside the layout, use <code>setMouseTracking(true)</code> and override the widget's <code>enterEvent()</code>. This way you can execute your code when the mouse enters that widget, for example emit a signal, and since the widget will fill the layout, it will be identical to the mouse cursor entering the layout.</p>\n\n<p>The downside is now you have lost the original layout, as it will only contain the \"hover listener\" widget, but you can put another layout in the listener widget and use that to put in other widgets.</p>\n"}], "owner": {"reputation": 9766, "user_id": 1305891, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/bca679c18291b3c88ee8ffae151d81a1?s=128&d=identicon&r=PG", "display_name": "Rajeshwar", "link": "https://stackoverflow.com/users/1305891/rajeshwar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 1, "accepted_answer_id": 35755415, "answer_count": 1, "score": 1, "last_activity_date": 1456943769, "creation_date": 1456942928, "question_id": 35755184, "link": "https://stackoverflow.com/questions/35755184/determining-if-the-mouse-is-over-a-specific-layout", "title": "Determining if the mouse is over a specific layout", "body": "<p>Is it possible to determine if the mouse is over a specific Layout. I would like to know if the mouse is over a specific QVBoxLayout. This QVBoxLayout may contain other widgets. Any ideas or suggestions would be appreciated.</p>\n"}, {"tags": ["c++", "header", "include"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 4, "creation_date": 1456942759, "post_id": 35755069, "comment_id": 59183391, "body": "You don&#39;t include <code>.cpp</code> files, <code>.cpp</code> files include headers."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1456942841, "post_id": 35755069, "comment_id": 59183454, "body": "<b><i>In which cases should I include the .cpp file?</i></b> I say never although my convention is to not name template implementations <code>.cpp</code>. I see that some users use <code>.cpp</code> for template implementations and include that from the template header."}], "answers": [{"tags": [], "owner": {"reputation": 6179, "user_id": 2969544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8b66660630d54cf58a7d4675be1d6ff?s=128&d=identicon&r=PG", "display_name": "oklas", "link": "https://stackoverflow.com/users/2969544/oklas"}, "is_accepted": false, "score": 1, "last_activity_date": 1456943114, "last_edit_date": 1456943114, "creation_date": 1456942734, "answer_id": 35755102, "question_id": 35755069, "link": "https://stackoverflow.com/questions/35755069/whats-the-difference-between-including-a-header-and-a-c-file/35755102#35755102", "title": "What&#39;s the difference between including a header and a C++ file?", "body": "<p>There is no difference to include <code>.cpp</code> and <code>.h</code> files from point of view of compiler. But The content of <code>.cpp</code> and <code>.h</code> is different in common case. The <code>.cpp</code> files is for implementation of class, functions, static objects, and the <code>.h</code> files is for class definition. If you include the <code>.cpp</code> file into another <code>.cpp</code> file the content is duplicated and will fail at link stage becouse the naming collisions.</p>\n"}, {"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1456942790, "creation_date": 1456942790, "answer_id": 35755121, "question_id": 35755069, "link": "https://stackoverflow.com/questions/35755069/whats-the-difference-between-including-a-header-and-a-c-file/35755121#35755121", "title": "What&#39;s the difference between including a header and a C++ file?", "body": "<blockquote>\n  <p>What's the difference between including a header(.h files) and C++ file(.cpp files)?</p>\n</blockquote>\n\n<p>Supposed the <code>.cpp</code> file contains some function definitions, the latter option usually doesn't work well with commonly used build systems, and ends up with <code>multiple definition</code> errors, when the <code>.cpp</code> is included by more of one translation unit.</p>\n\n<p>The exception might be having inlined all of your function definitions in the <code>.cpp</code> file.</p>\n\n<p>In the very principle it's that the C/C++ preprocessor just expands the text found in either file type into the current translation unit. The file extension doesn't play any role here. </p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "is_accepted": false, "score": 0, "last_activity_date": 1456944029, "last_edit_date": 1456944029, "creation_date": 1456943169, "answer_id": 35755249, "question_id": 35755069, "link": "https://stackoverflow.com/questions/35755069/whats-the-difference-between-including-a-header-and-a-c-file/35755249#35755249", "title": "What&#39;s the difference between including a header and a C++ file?", "body": "<p>There is no difference. Both are handled by the preprocessor as plain text for concatenation to a single file. However, including a source might have a undesirable result (multiple definitions of variables/functions). Header files are usually protected by inclusion guards (#ifndef HEADER_H or a #pragma once) to prevent duplication of their content.</p>\n\n<p>Note: The compiler does it's work after preprocessing (or invokes the preprocessor before compiling).</p>\n"}, {"tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": true, "score": 2, "last_activity_date": 1456943729, "creation_date": 1456943729, "answer_id": 35755399, "question_id": 35755069, "link": "https://stackoverflow.com/questions/35755069/whats-the-difference-between-including-a-header-and-a-c-file/35755399#35755399", "title": "What&#39;s the difference between including a header and a C++ file?", "body": "<p>What files are called, and what their contents is, are entirely convention. If you like to confuse people, you could call your header files <code>something.b</code> and your source files <code>something.r</code> - this will of course mean nothing useful to most people, and some people may think your files contain the language R rather than C++ sources. And your editor will probably not understand that it's C or C++ in files called <code>.b</code> - and build tools such as <code>Make</code>, <code>scons</code>, <code>CMake</code>, etc will probably not understand how to compile the your files without being \"told\". [Compilers also look a the filename extension to determine if it's supposed to compile as C++ or C, which of course will not work with \"unconventional names\"]</p>\n\n<p>What is important is not what the files are called, but what they actually contain. A header (what most people call <code>something.h</code>) file should be such that it can be included anywhere, and any number of times in your project [exceptions do exist, where header files are not really meant to be included more than a single time in the entire project - for example a <code>version.h</code> which declares a string that describes the current version number]. </p>\n\n<p>A source file (what is conventionally called <code>something.cpp</code>, typically, should be passed to the compiler directly to be compiled, and not used as <code>#include \"something.cpp\"</code>. However, it is the CONTENT that determines this, not the name of the file. It's just badly named files if you use them that way.</p>\n\n<p>In summary: The compiler just reads the source file passed in, then \"inserts\" the <code>#include</code> into the stream of code that it compiles, as if it was pasted into the original source file. The compiler doesn't really care what your file names are, where they came from, or what their content is, as long as the compiler is \"ok\" with the compilation as a whole.</p>\n"}], "owner": {"reputation": 1390, "user_id": 4388482, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/7e9aca1603e015896ee9abc9374185c1?s=128&d=identicon&r=PG&f=1", "display_name": "tony", "link": "https://stackoverflow.com/users/4388482/tony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 502, "favorite_count": 1, "accepted_answer_id": 35755399, "answer_count": 4, "score": 0, "last_activity_date": 1456944029, "creation_date": 1456942627, "last_edit_date": 1456942981, "question_id": 35755069, "link": "https://stackoverflow.com/questions/35755069/whats-the-difference-between-including-a-header-and-a-c-file", "title": "What&#39;s the difference between including a header and a C++ file?", "body": "<p>What's the difference between including a header(.h files) and a C++ file(.cpp files)? When I create a class, I create a .h file and .cpp file. If I want to use an object of this class should I include both of these files or not? In which cases should I include the .cpp file?</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 7, "creation_date": 1456942240, "post_id": 35754891, "comment_id": 59183072, "body": "C++ is not Java or C#.  You don&#39;t need all of those calls to <code>new</code> to create objects.  <code>Point p(0.1, 0.2, 0.3); vector&lt;Point&gt; points; points.push_back(p);</code>"}, {"owner": {"reputation": 14124, "user_id": 3545094, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5105cb702f101f44d85e885bc61c8525?s=128&d=identicon&r=PG&f=1", "display_name": "Martin G", "link": "https://stackoverflow.com/users/3545094/martin-g"}, "edited": false, "score": 2, "creation_date": 1456942254, "post_id": 35754891, "comment_id": 59183078, "body": "You store a copy of the object pointed to by p"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1456942417, "post_id": 35754891, "comment_id": 59183172, "body": "Why all this <code>new</code> / <code>delete</code> stuff. Do you have a particular reasoning doing this?"}, {"owner": {"reputation": 159, "user_id": 4846434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ec6A2AiabMc/AAAAAAAAAAI/AAAAAAAAAeU/uuf8Nx-lE2s/photo.jpg?sz=128", "display_name": "adtewa", "link": "https://stackoverflow.com/users/4846434/adtewa"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456942817, "post_id": 35754891, "comment_id": 59183439, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 yes my original code is more complicated than this, i simplified it for the question. (And I like doing new and delete)"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1456943038, "post_id": 35754891, "comment_id": 59183577, "body": "@Simon&#193;d&#225;m I have &quot;complicated code&quot; and nowhere do I create vectors using <code>new</code>.  What you post, even though it is small, creates an impression that this is what you would do even for a tiny program.  Second, this is a much better reference to <code>push_back</code>:  <a href=\"http://en.cppreference.com/w/cpp/container/vector/push_back\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/vector/push_back</a>"}, {"owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "edited": false, "score": 0, "creation_date": 1456943083, "post_id": 35754891, "comment_id": 59183607, "body": "copy or move depends on the type of the parameter (lvalue,rvalue,..), and whether the implementation of the type (Point) permits it."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1456943087, "post_id": 35754891, "comment_id": 59183612, "body": "If you <i>simplified</i> to buttloads of pointers, I recommend a time-out to stop and do a re-think."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456943233, "post_id": 35754891, "comment_id": 59183697, "body": "@Simon&#193;d&#225;m You may want to have a look at <a href=\"http://en.cppreference.com/w/cpp/memory\" rel=\"nofollow noreferrer\">smart pointers</a>, and decide if you really think you need to manage that yourself."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1456952097, "post_id": 35754891, "comment_id": 59189068, "body": "The main reason not to use <code>new</code> is memory leaks, <i>as demonstrated in the code you posted</i>.  You allocate memory for the <code>p</code> variable, but you never delete it.  If you simply <i>declared</i> the variable, the compiler would take care of construction and destruction.  The destruction occurs at the end of the scope that it was declared in.  Since the compiler is destroying the variable, no memory loss or leaks occur."}], "answers": [{"comments": [{"owner": {"reputation": 4599, "user_id": 2055064, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/815c89ab1784fd780fe7faf44ebfc79f?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/2055064/thomas"}, "edited": false, "score": 0, "creation_date": 1456942495, "post_id": 35754945, "comment_id": 59183228, "body": "That really doesn&#39;t answer the question wrt whether deleting <code>p</code> is necessary or not in the OPs code."}], "tags": [], "owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "is_accepted": true, "score": 6, "last_activity_date": 1481185845, "last_edit_date": 1495542631, "creation_date": 1456942277, "answer_id": 35754945, "question_id": 35754891, "link": "https://stackoverflow.com/questions/35754891/c-how-does-vector-saving-own-class/35754945#35754945", "title": "C++ :: How does vector saving own class", "body": "<p>The vector <code>points</code> is storing a copy of the <code>Point</code> that is passed through <code>push-back</code> (<code>*p</code>).</p>\n\n<p>In your code, when <code>points</code> is destructed (through <code>delete</code>), the contained objects will be destructed, but not the pointer you created with <code>new Point</code> (<code>p</code>), since a copy was created.</p>\n\n<p>If you don't <em>need</em> to be using dynamic allocation (and in this case it seems you don't), just treat everything as a stack-allocated object and pass that.</p>\n\n<pre><code>Point p{ 0.1, 0.2, 0.3 };\nstd::vector&lt;Point&gt; points;\npoints.push_back(p);\n// Do stuff with points\n</code></pre>\n\n<p>Otherwise, if you'd need dynamic allocation, use something like <a href=\"http://en.cppreference.com/w/cpp/memory/unique_ptr\" rel=\"nofollow noreferrer\"><code>std::unique_ptr</code></a> or <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"nofollow noreferrer\"><code>std::shared_ptr</code></a> (or another <a href=\"http://en.cppreference.com/w/cpp/memory\" rel=\"nofollow noreferrer\">smart pointer</a>) so that when the vector is destructed, the pointers contained are as well.</p>\n\n<pre><code>Point *p = new Point{ 0.1, 0.2, 0.3 };\nstd::vector&lt;std::unique_ptr&lt;Point&gt;&gt; points;\npoints.push_back(std::make_unique&lt;Point&gt;(0.1, 0.2, 0.3));\n</code></pre>\n\n<p>Generally, with move semantics in C++11, most of the time you will likely not need to manage memory (use <code>new</code> and <code>delete</code>) with something like this.</p>\n\n<p>It is determined whether an object passed into <code>push_back</code> is copied or moved based on whether it is an rvalue or not. For more information, read <a href=\"https://stackoverflow.com/questions/3106110/what-are-move-semantics\">this answer on move semantics</a>. As mentioned, you can also use <a href=\"http://en.cppreference.com/w/cpp/container/vector/emplace_back\" rel=\"nofollow noreferrer\"><code>std::vector::emplace_back</code></a> to guarantee no copies are performed.</p>\n"}], "owner": {"reputation": 159, "user_id": 4846434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-ec6A2AiabMc/AAAAAAAAAAI/AAAAAAAAAeU/uuf8Nx-lE2s/photo.jpg?sz=128", "display_name": "adtewa", "link": "https://stackoverflow.com/users/4846434/adtewa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 35754945, "answer_count": 1, "score": 1, "last_activity_date": 1481185845, "creation_date": 1456942106, "last_edit_date": 1456942704, "question_id": 35754891, "link": "https://stackoverflow.com/questions/35754891/c-how-does-vector-saving-own-class", "title": "C++ :: How does vector saving own class", "body": "<p>Here is my own Point class (<code>Point.h</code>):</p>\n\n<pre><code>class Point {\npublic:\n    Point(double x, double y, double z);\n    Point(const Point&amp; orig);\n    virtual ~Point();\n    double getX();\n    double getY();\n    double getZ();\n    void writeOut();\nprivate:\n    double x, y, z;\n};\n</code></pre>\n\n<p>Here I create a point and add it to the <code>vector&lt;Point&gt;</code> (<code>main.cpp</code>):</p>\n\n<pre><code>Point* p = new Point(0.1,0.2,0.3);\nvector&lt;Point&gt;* points = new vector&lt;Point&gt;;\npoints-&gt;push_back(*p);\n//doing stuff\ndelete points;\n</code></pre>\n\n<p>My question: is vector making a copy of the Point and store it (so I need to <code>delete p;</code> too), or is it storing the one instance created before?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I read <a href=\"http://www.cplusplus.com/reference/vector/vector/push_back/\" rel=\"nofollow\">here</a> that push_back \"Adds a new element at the end of the vector, after its current last element. The content of val is <strong>copied (or moved)</strong> to the new element.\" But which one? Copied or moved? How is it determined?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "edited": false, "score": 0, "creation_date": 1456942120, "post_id": 35754870, "comment_id": 59182998, "body": "This isn&#39;t <i>invalid</i> syntax, but it&#39;s completely incorrect and doesn&#39;t do what you think it does."}, {"owner": {"reputation": 26680, "user_id": 1806780, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/NCB41.jpg?s=128&g=1", "display_name": "Sami Kuhmonen", "link": "https://stackoverflow.com/users/1806780/sami-kuhmonen"}, "edited": false, "score": 0, "creation_date": 1456942182, "post_id": 35754870, "comment_id": 59183038, "body": "You cannot combine things in <code>if</code> like that. Your <code>vowels</code> also doesn&#39;t do what you think it does. Check arrays in any book."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456942211, "post_id": 35754870, "comment_id": 59183052, "body": "<code>const char vowels[] = {&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;};</code> and use a loop."}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456942214, "post_id": 35754870, "comment_id": 59183056, "body": "<code>char vowels = (&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;);</code>: you might want to look up the comma operator, it&#39;s playing a trick on you here. Similarly, in <code>stringArr == &#39;a&#39;|&#39;e&#39;|&#39;i&#39;|&#39;o&#39;|&#39;u&#39;</code> you&#39;re using the bitwise and operator, which is also not doing what you want."}, {"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 0, "creation_date": 1456942297, "post_id": 35754870, "comment_id": 59183099, "body": "If this is for a class, then you should&#39;ve received some sort of introduction to C++. Re-read that again! Additionally, get a book / online tutorial on C++. This is far from working code."}, {"owner": {"reputation": 13595, "user_id": 668501, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f15b157200c05100d6baeb0ede510f0?s=128&d=identicon&r=PG", "display_name": "Soren", "link": "https://stackoverflow.com/users/668501/soren"}, "edited": false, "score": 0, "creation_date": 1456943045, "post_id": 35754870, "comment_id": 59183584, "body": "guidance: try to use a <code>switch</code> statement with fall through instead."}], "answers": [{"tags": [], "owner": {"reputation": 3725, "user_id": 2209008, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MceJL.jpg?s=128&g=1", "display_name": "Colin Basnett", "link": "https://stackoverflow.com/users/2209008/colin-basnett"}, "is_accepted": true, "score": 0, "last_activity_date": 1456943295, "creation_date": 1456943295, "answer_id": 35755277, "question_id": 35754870, "link": "https://stackoverflow.com/questions/35754870/reading-chars-within-a-string-to-output-only-vowels-in-c/35755277#35755277", "title": "Reading chars within a string to output only vowels in C++", "body": "<p>First off, your array declaration syntax is incorrect.</p>\n\n<p>Since you are using C++, you should be using the built-in <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow\"><code>array</code></a> class for static (fixed-length) arrays.</p>\n\n<p>The correct way to initialize an array is with the following syntax:</p>\n\n<pre><code>std::array&lt;char, 5&gt; vowels = { 'a', 'e', 'i', 'o', 'u' };\n</code></pre>\n\n<p>Next, this syntax is also not doing what you think it is:</p>\n\n<pre><code>if (stringArr == 'a'|'e'|'i'|'o'|'u')\n</code></pre>\n\n<p>The <code>|</code> is actually a binary or, meaning it's doing bit manipulation, which isn't what you want. Also, it's odd that you declare the vowels and then re-state all the vowels in this if statement. <em>Don't repeat yourself!</em> Use the list you already made and search that. It makes your code much easier to maintain.</p>\n\n<p>The standard way to search an <code>array</code> (and many other container classes) is to use the <code>find</code> function.</p>\n\n<pre><code>c = 'a'; // some character\nfind(vowels.begin(), vowels.end(), c) != vowels.end()\n</code></pre>\n\n<p>What this means is that it will return <code>true</code> if <code>c</code> is found in <code>vowels</code>.</p>\n\n<p>So now we just need to go through <em>all</em> the characters of the string the user entered. In order to do this you need to use a loop. In C++, there is something called a <a href=\"http://en.cppreference.com/w/cpp/language/range-for\" rel=\"nofollow\">range-based <code>for</code> loop</a>. The syntax is as follows:</p>\n\n<pre><code>for (auto c : user_string)\n{\n    // do something with c\n}\n</code></pre>\n\n<p>This will iterate through the entirety of the string, and execute the code inside the block (<code>{ }</code>) for each character.</p>\n\n<p>Here is working code that does exactly what you want:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n#include &lt;iomanip&gt;\n#include &lt;array&gt;\n#include &lt;algorithm&gt;\n\nusing namespace std;\n\nint main()\n{\n    bool vowels_found = false;\n    string user_string = \"yea man\";\n    array&lt;char, 5&gt; vowels = { 'a', 'e', 'i', 'o', 'u' };\n\n    for (auto c : user_string)\n    {\n        if (find(vowels.begin(), vowels.end(), c) != vowels.end())\n        {\n            cout &lt;&lt; c;\n\n            vowels_found = true;\n        }\n    }\n\n    if (!vowels_found)\n    {\n        cout &lt;&lt; \"No vowels found.\";\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1456943820, "last_edit_date": 1456943820, "creation_date": 1456943520, "answer_id": 35755342, "question_id": 35754870, "link": "https://stackoverflow.com/questions/35754870/reading-chars-within-a-string-to-output-only-vowels-in-c/35755342#35755342", "title": "Reading chars within a string to output only vowels in C++", "body": "<p>It seems you mean the following:)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main()\n{\n    while ( true )\n    {\n        std::cout &lt;&lt; \"\\nEnter some text (Enter - exit): \";\n\n        std::string userString;\n\n        if ( !std::getline( std::cin, userString ) || userString.empty() ) break;\n\n        const char *vowels = \"AaEeIiOoUu\";\n\n        bool present = false;\n\n        for ( std::string::size_type pos = 0;\n              ( pos = userString.find_first_of( vowels, pos ) ) != std::string::npos;\n              ++pos )\n        {\n            if ( !present ) present = true;\n            std::cout &lt;&lt; userString[pos] &lt;&lt; ' ';\n        }\n\n        if ( !present ) std::cout &lt;&lt; \"No vowels found.\";\n\n        std::cout &lt;&lt; std::endl;\n    }       \n\n    return 0;\n}\n</code></pre>\n\n<p>The program output might look like</p>\n\n<pre><code>Enter some text (Enter - exit): Hello World!\ne o o \n\nEnter some text (Enter - exit): Hll Wrld!\nNo vowels found.\n\nEnter some text (Enter - exit): hEllO wOrld!\nE O O \n\nEnter some text (Enter - exit): \n</code></pre>\n\n<p>As for your code  then it does not make great sense.:)</p>\n\n<p>For example in this declaration</p>\n\n<pre><code>char vowels = ('a','e','i','o','u');\n</code></pre>\n\n<p>there is used the comma operator and variable <code>vowels</code> will have value <code>'u'</code>.</p>\n\n<p>Or this declaration</p>\n\n<pre><code>char stringArr = userString[0];\n</code></pre>\n\n<p>initializes <code>stringArr</code> with the terminating zero (provided that the code is compiled as C++ 2011)</p>\n\n<p>Or the condition in the if statement</p>\n\n<pre><code>if (stringArr == 'a'|'e'|'i'|'o'|'u')\n</code></pre>\n\n<p>is always evaluates to <code>true</code> because at least <code>'e'</code> is not equal to 0.</p>\n"}], "owner": {"reputation": 33, "user_id": 5536066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef8a75b96c53bedb9bcc4b24d2fd65b5?s=128&d=identicon&r=PG&f=1", "display_name": "DrOdie", "link": "https://stackoverflow.com/users/5536066/drodie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1056, "favorite_count": 0, "accepted_answer_id": 35755277, "answer_count": 2, "score": -1, "last_activity_date": 1456943820, "creation_date": 1456942023, "question_id": 35754870, "link": "https://stackoverflow.com/questions/35754870/reading-chars-within-a-string-to-output-only-vowels-in-c", "title": "Reading chars within a string to output only vowels in C++", "body": "<p>I'm trying to take a user entered string, cycle through each char within the string, and then print only the vowels.</p>\n\n<p>I've posted below what I have so far, but of course all it does is output the first char from the string, regardless of whether or not it's a vowel (just FYI, this is for a class, so I'm not looking for someone to give me the answer, but I definitely need some guidance!)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;string&gt;\n#include &lt;iomanip&gt;\n\nusing namespace std;\n\nint main()\n{\n    string userString;\n    char vowels = ('a','e','i','o','u');\n    char stringArr = userString[0];\n\n    cout &lt;&lt; \"Enter some text: \";\n    cin &gt;&gt; userString;\n    cout &lt;&lt; endl;\n\n    if (stringArr == 'a'|'e'|'i'|'o'|'u')\n        cout &lt;&lt; userString[0] &lt;&lt; \" \" &lt;&lt; endl &lt;&lt; endl;\n    else\n        cout &lt;&lt; \"No vowels found.\";\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "winapi", "graphics", "window", "drawimage"], "comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1456942362, "post_id": 35754780, "comment_id": 59183144, "body": "Don&#39;t code by instinct. Instead, read the resources offered to you in <a href=\"http://stackoverflow.com/questions/35698324/winapi-create-window-child-windows-process-a-button-press#comment59074595_35698324\">a comment</a> to your previous question."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1456942817, "post_id": 35754780, "comment_id": 59183440, "body": "I think that <code>Graphics</code> will try to destroy the HDC you pass it when it goes out of scope. And if it doesn&#39;t, what do you think will be the result when you fill a rectangle immediately afterwards?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1456943982, "post_id": 35754780, "comment_id": 59184147, "body": "@MarkRansom: the <code>Graphics</code> class does not destroy the provided <code>HDC</code>."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1456945828, "post_id": 35754780, "comment_id": 59185328, "body": "@RemyLebeau good to know, thanks. I couldn&#39;t find an indication either way in the documentation."}], "answers": [{"tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": false, "score": 3, "last_activity_date": 1456944002, "creation_date": 1456944002, "answer_id": 35755485, "question_id": 35754780, "link": "https://stackoverflow.com/questions/35754780/c-winapi-draw-image-jpg-to-new-window/35755485#35755485", "title": "C++ WinApi Draw image .jpg to new window?", "body": "<p>You have to initialize GDI+, then shut it down before exit.</p>\n\n<pre><code>int WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE, PWSTR pCmdLine, int nCmdShow)\n{\n    Gdiplus::GdiplusStartupInput gdiplusStartupInput;\n    ULONG_PTR gdiplusToken;\n    Gdiplus::GdiplusStartup(&amp;gdiplusToken, &amp;gdiplusStartupInput, NULL);\n\n    //...\n\n    Gdiplus::GdiplusShutdown(gdiplusToken);\n\n    return 0;\n}\n</code></pre>\n\n<p><code>graphics.DrawImage(&amp;image, 10, 10);</code> is enough to paint the image. Once you paint the image, don't paint anything else over it.</p>\n\n<p>You can use <code>Example_DrawImage9(hdc)</code> in <code>WM_PAINT</code>. Use <code>FillRect</code> before drawing the image.</p>\n"}, {"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 6, "last_activity_date": 1456944692, "creation_date": 1456944692, "answer_id": 35755703, "question_id": 35754780, "link": "https://stackoverflow.com/questions/35754780/c-winapi-draw-image-jpg-to-new-window/35755703#35755703", "title": "C++ WinApi Draw image .jpg to new window?", "body": "<p>You are on the right track.  Use the <code>HDC</code> that <code>BeginPaint()</code> provides.  And don't forget to initialize GDI+ before using it.</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include \"stdafx.h\" \n#include &lt;objidl.h&gt;\n#include &lt;gdiplus.h&gt;\n\nusing namespace Gdiplus;\n#pragma comment (lib, \"Gdiplus.lib\")\n\nvoid Example_DrawImage9(HDC hdc)\n{\n    Graphics graphics(hdc);\n    // Create an Image object.\n    Image image(L\"C:/Users/Me/Desktop/fuzz.jpg\");\n    // Create a Pen object.\n    Pen pen(Color(255, 255, 0, 0), 2);\n    // Draw the original source image.\n    graphics.DrawImage(&amp;image, 10, 10);\n    // Create a Rect object that specifies the destination of the image.\n    Rect destRect(200, 50, 150, 75);\n    // Draw the rectangle that bounds the image.\n    graphics.DrawRectangle(&amp;pen, destRect);\n    // Draw the image.\n    graphics.DrawImage(&amp;image, destRect);\n}\n\nLRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam);\n\nint WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE, PWSTR pCmdLine, int nCmdShow)\n{\n    ULONG_PTR token;\n    GdiplusStartupInput input = {0};\n    input.GdiplusVersion = 1;\n    GdiplusStartup(&amp;token, &amp;input, NULL);\n\n    const wchar_t CLASS_NAME[] = L\"Sample Window Class\";\n    WNDCLASS wc = {}; \n    wc.lpfnWndProc = &amp;WindowProc; //attach this callback procedure\n    wc.hInstance = hInstance; //handle to application instance\n    wc.lpszClassName = CLASS_NAME; \n    RegisterClass(&amp;wc); //register wc\n    // Create the window.\n    HWND hwnd = CreateWindowEx( \n        0,                              // Optional window styles.\n        CLASS_NAME,                     // Window class\n        L\"Learn to Program Windows\",    // Window text\n        WS_OVERLAPPEDWINDOW,            // Window style\n\n        // Size and position\n        CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,\n\n        NULL,       // Parent window    \n        NULL,       // Menu\n        hInstance,  // Instance handle\n        NULL        // Additional application data\n    );\n\n    if (hwnd != NULL)\n    {\n        ShowWindow(hwnd, nCmdShow);\n\n        MSG msg;\n        while (GetMessage(&amp;msg, NULL, 0, 0) &gt; 0)\n        {\n            TranslateMessage(&amp;msg);\n            DispatchMessage(&amp;msg);\n        }\n    }\n\n    GdiplusShutdown(token);\n    return 0;\n}\n\n//callback procedure for this window, takes in all the window details\nLRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam)\n{\n    switch (uMsg)\n    {\n        case WM_DESTROY: \n            PostQuitMessage(0);\n            return 0;\n\n        case WM_PAINT:\n        {\n            PAINTSTRUCT ps;\n            HDC hdc = BeginPaint(hwnd, &amp;ps);\n            FillRect(hdc, &amp;ps.rcPaint, (HBRUSH)(COLOR_WINDOW + 1));\n            Example_DrawImage9(hdc);\n            EndPaint(hwnd, &amp;ps);\n            return 0;\n        }\n    }\n\n    return DefWindowProc(hwnd, uMsg, wParam, lParam);\n}\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 3545370, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1551536573/picture?type=large", "display_name": "user3545370", "link": "https://stackoverflow.com/users/3545370/user3545370"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4334, "favorite_count": 1, "accepted_answer_id": 35755703, "answer_count": 2, "score": 2, "last_activity_date": 1456944692, "creation_date": 1456941717, "last_edit_date": 1456944101, "question_id": 35754780, "link": "https://stackoverflow.com/questions/35754780/c-winapi-draw-image-jpg-to-new-window", "title": "C++ WinApi Draw image .jpg to new window?", "body": "<p>I am new to the Windows API. Using some of the Windows sample code supplied on the Winapi tutorials:</p>\n\n<p><a href=\"https://msdn.microsoft.com/enus/library/windows/desktop/ms536051.aspx\" rel=\"nofollow\">Graphics.DrawImage(Image*, const Rect) method</a></p>\n\n<p>I'm looking to open a <code>.jpg</code> image and draw it to a new window I have created.  The trouble is that I'm not sure exactly how to use the <code>VOID Example_DrawImage9(HDC hdc)</code> method with my existing window. My first instinct was to invoke it inside <code>case WM_PAINT</code> in the callback procedure and use the <code>hdc</code> from there,  but the image does not display. How do I know the correct <code>hdc</code> to supply? And where should I invoke the method?</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include \"stdafx.h\" \n#include &lt;objidl.h&gt;\n#include &lt;gdiplus.h&gt;\n\nusing namespace Gdiplus;\n#pragma comment (lib,\"Gdiplus.lib\")\n\n//*************************************************** added for gdiplus\nHWND hEdit;\n\n//************************************************how do I use this method   with the window I have created below?\nVOID Example_DrawImage9(HDC hdc){\n    Graphics graphics(hdc); // Create an Image object.\n    Image image(L\"C:/Users/Me/Desktop/fuzz.jpg\"); // Create a Pen object.\n    Pen pen(Color(255, 255, 0, 0), 2); // Draw the original source image.\n    graphics.DrawImage(&amp;image, 10, 10); // Create a Rect object that specifies the destination of the image.\n    Rect destRect(200, 50, 150, 75); // Draw the rectangle that bounds the image.\n    graphics.DrawRectangle(&amp;pen, destRect); // Draw the image.\n    graphics.DrawImage(&amp;image, destRect);\n}\n//*********************************************************************************************\n\n\n\nLRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam);\n\nint WINAPI wWinMain(HINSTANCE hInstance, HINSTANCE, PWSTR pCmdLine, int nCmdShow)\n{\n    const wchar_t CLASS_NAME[] = L\"Sample Window Class\";\n    WNDCLASS wc = {}; \n    wc.lpfnWndProc = WindowProc; //attach this callback procedure\n    wc.hInstance = hInstance; //handle to application instance\n    wc.lpszClassName = CLASS_NAME; \n    RegisterClass(&amp;wc); //register wc\n    // Create the window.\n    HWND hwnd = CreateWindowEx( \n        0,                              // Optional window styles.\n        CLASS_NAME,                     // Window class\n        L\"Learn to Program Windows\",    // Window text\n        WS_OVERLAPPEDWINDOW,            // Window style\n\n                                        // Size and position\n        CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT, CW_USEDEFAULT,\n\n        NULL,       // Parent window    \n        NULL,       // Menu\n        hInstance,  // Instance handle\n        NULL        // Additional application data\n        );\n\n    if (hwnd == NULL){\n        return 0;\n    }\n\n    ShowWindow(hwnd, nCmdShow);\n\n    MSG msg = {};\n    while (GetMessage(&amp;msg, NULL, 0, 0)){\n    TranslateMessage(&amp;msg);\n    DispatchMessage(&amp;msg);\n}\nreturn 0;\n}\n\n//callback procedure for this window, takes in all the window details\nLRESULT CALLBACK WindowProc(HWND hwnd, UINT uMsg, WPARAM wParam, LPARAM lParam){\n    switch (uMsg){\n        case WM_DESTROY: \n            PostQuitMessage(0);\n            return 0;\n\n        case WM_PAINT:{\n            PAINTSTRUCT ps;\n            HDC hdc = BeginPaint(hwnd, &amp;ps);\n            //***************************************************************\n            //do we call DrawImage here? what do we need to pass as hdc?\n            //Example_DrawImage9(HDC hdc);//?????????????\n            //***************************************************************\n            FillRect(hdc, &amp;ps.rcPaint, (HBRUSH)(COLOR_WINDOW + 1));\n            EndPaint(hwnd, &amp;ps);\n        }\n        return 0;\n    }\n    return DefWindowProc(hwnd, uMsg, wParam, lParam);\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "encryption", "wincrypt"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1456942256, "post_id": 35754727, "comment_id": 59183079, "body": "&quot;...disable the encryption which is encrypted in Wincrypt API.&quot; - are you saying you want to <i>decrypt</i> content encrypted with the Wincrypt API? Your phrasing is not helping the clarity of your question."}, {"owner": {"reputation": 237, "user_id": 5431231, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8233e3b60d7398219087e3be8ad5ef4?s=128&d=identicon&r=PG&f=1", "display_name": "ojas", "link": "https://stackoverflow.com/users/5431231/ojas"}, "edited": false, "score": 0, "creation_date": 1456943723, "post_id": 35754727, "comment_id": 59184002, "body": "@WhoizCraig: yes thats what i want to say"}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 1, "creation_date": 1457377163, "post_id": 35754727, "comment_id": 59369137, "body": "So are you saying you want to have a function that takes a <code>EncryptedMessage</code> and <code>KeyBlob</code> and returns a <code>TextMessage</code>? The question is very unclear. We don&#39;t have access to your classes as well, it seems. Please provide a <a href=\"/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 237, "user_id": 5431231, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8233e3b60d7398219087e3be8ad5ef4?s=128&d=identicon&r=PG&f=1", "display_name": "ojas", "link": "https://stackoverflow.com/users/5431231/ojas"}, "edited": false, "score": 0, "creation_date": 1457381109, "post_id": 35754727, "comment_id": 59371655, "body": "oki sure. give me some time.. i will edit my question. i am taking time to edit because there are some security features which i am reluctant to show"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1457382244, "post_id": 35754727, "comment_id": 59372291, "body": "Start by changing the title."}], "answers": [{"tags": [], "owner": {"reputation": 891, "user_id": 3896299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3660fe434b2c13e0d54e35643b3b32b?s=128&d=identicon&r=PG&f=1", "display_name": "Garland", "link": "https://stackoverflow.com/users/3896299/garland"}, "is_accepted": true, "score": 0, "last_activity_date": 1457388118, "creation_date": 1457388118, "answer_id": 35854973, "question_id": 35754727, "link": "https://stackoverflow.com/questions/35754727/how-to-disable-encryption-done-by-wincrypt-api/35854973#35854973", "title": "How to disable encryption done by Wincrypt API", "body": "<p>If you want to decrypt the encrypted message, you should use the <code>CryptDecrypt</code> function.</p>\n\n<p>See MSDN document:\n<a href=\"https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(Wincrypt%2FCryptDecrypt);k(CryptDecrypt);k(DevLang-C%2B%2B);k(TargetOS-Windows)&amp;rd=true\" rel=\"nofollow\">https://msdn.microsoft.com/query/dev14.query?appId=Dev14IDEF1&amp;l=EN-US&amp;k=k(Wincrypt%2FCryptDecrypt);k(CryptDecrypt);k(DevLang-C%2B%2B);k(TargetOS-Windows)&amp;rd=true</a></p>\n\n<p>Based on your code, you should use the same <code>SessionKey</code> as the one used in the Encrypt method to decrypt the encrypted message.</p>\n"}], "owner": {"reputation": 237, "user_id": 5431231, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f8233e3b60d7398219087e3be8ad5ef4?s=128&d=identicon&r=PG&f=1", "display_name": "ojas", "link": "https://stackoverflow.com/users/5431231/ojas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 35854973, "answer_count": 1, "score": -3, "last_activity_date": 1457874600, "creation_date": 1456941529, "last_edit_date": 1457874600, "question_id": 35754727, "link": "https://stackoverflow.com/questions/35754727/how-to-disable-encryption-done-by-wincrypt-api", "title": "How to disable encryption done by Wincrypt API", "body": "<p>I want to disable the encryption which is encrypted in Wincrypt API.<br>\nPlease give me suggestions, how to do that, general sugestions are also welcomed<br>\nBelow is the Code Samples from EncryptedMessage.cpp  :</p>\n\n<pre><code>EncryptedMessage Encrypt( TextMessage&amp; Msg, const KeyBlob&amp; RecipientExchangeKeyBlob )\n    throw( CCryptoEngine::Exception )\n  {\n    CryptProvider CryptProvider = GetCryptoProvider();\n    CryptKey SessionKey = CreateSessionKey( CryptProvider );\n    CryptKey RecipientExchangeKey = ImportExchangeKey( CryptProvider,\n                                                       RecipientExchangeKeyBlob );\n    KeyBlob SessionKeyBlob = CreateSessionKeyBlob( SessionKey, RecipientExchangeKey );\n    if( ! CryptEncrypt( SessionKey, 0, TRUE, 0,\n                        Msg.Text(), &amp;Msg.Size(), Msg.Capacity() ) )\n      throw CCryptoEngine::Exception( ResourceString( IDS_CREN_MSG_ENC_FAILED ) +\n                                      GetErrorMessageFromCode( GetLastError() ) );\n\n    KeyBlob SignatureBlob; //Empty signature\n    return EncryptedMessage( SessionKeyBlob, Msg, SignatureBlob );\n  }\n</code></pre>\n\n<p>Useful Code Snipped from another class Below:</p>\n\n<pre><code>CCryptoEngine::CryptProvider CCryptoEngine::\nGetCryptoProvider()\n  throw( CCryptoEngine::Exception )\n{\n  if( ! CryptProviderAllocator::IsAllocated( m_RSACryptProvider ) )\n  {\n    if( ! CryptAcquireContext( &amp;m_RSACryptProvider, _T(\"CollabWorx SIM Client\"),\n                               MS_ENHANCED_PROV, PROV_RSA_FULL, 0 ) )\n      if( ! CryptAcquireContext( &amp;m_RSACryptProvider, _T(\"CollabWorx SIM Client\"),\n                                 MS_ENHANCED_PROV, PROV_RSA_FULL, CRYPT_NEWKEYSET ) )\n        if( ! CryptAcquireContext( &amp;m_RSACryptProvider, NULL, MS_ENHANCED_PROV,\n                                   PROV_RSA_FULL, CRYPT_NEWKEYSET | CRYPT_VERIFYCONTEXT ) )\n          throw CCryptoEngine::Exception(\n              \"Your system may lack the required security capabilities.\\n\"\n              \"Please make sure that Microsoft High Encryption Pack (128-bit strength) \"\n              \"is installed in your system.\\n\\nInformation for the support:\\n\"\n              + GetErrorMessageFromCode( GetLastError() ) );\n\n    g_RSACryptProvider = m_RSACryptProvider;\n  }\n  return m_RSACryptProvider;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "netbeans", "linker", "glew"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5581908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f686b6114ba7fb129405a2fdd319d240?s=128&d=identicon&r=PG&f=1", "display_name": "Andrewh", "link": "https://stackoverflow.com/users/5581908/andrewh"}, "edited": false, "score": 0, "creation_date": 1457551513, "post_id": 35760217, "comment_id": 59462008, "body": "I re-downloaded all the library files to make sure and I&#39;m getting the same errors. Non-static glew gives me the same errors. The crazy thing is it compiles and runs with MinGW if I use command prompt."}, {"owner": {"reputation": 11, "user_id": 6010377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5696dae2f49d89f9b27968100605c4f4?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/6010377/jerry"}, "reply_to_user": {"reputation": 41, "user_id": 5581908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f686b6114ba7fb129405a2fdd319d240?s=128&d=identicon&r=PG&f=1", "display_name": "Andrewh", "link": "https://stackoverflow.com/users/5581908/andrewh"}, "edited": false, "score": 0, "creation_date": 1458003866, "post_id": 35760217, "comment_id": 59654426, "body": "Are they the same copy of mingw? And mainly are the flags in the same order? GCC/G++ is very picky about this"}], "tags": [], "owner": {"reputation": 11, "user_id": 6010377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5696dae2f49d89f9b27968100605c4f4?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/6010377/jerry"}, "is_accepted": false, "score": 1, "last_activity_date": 1456960890, "creation_date": 1456960890, "answer_id": 35760217, "question_id": 35754664, "link": "https://stackoverflow.com/questions/35754664/cant-get-netbeans-to-link-glew-properly/35760217#35760217", "title": "Can&#39;t get netbeans to link GLEW properly", "body": "<p>Where did you download glew32? <br>\nmaybe you downloaded the Visual C version if not you could've unpacked the wrong version (64 bit).</p>\n\n<p>Another thing I've heard (try this first)\nI've had issues with glew32s on mingw and for some reason it doesn't work, use regular glew32. It should still work with the preprocessor and compiles statically without any issue.</p>\n"}], "owner": {"reputation": 41, "user_id": 5581908, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f686b6114ba7fb129405a2fdd319d240?s=128&d=identicon&r=PG&f=1", "display_name": "Andrewh", "link": "https://stackoverflow.com/users/5581908/andrewh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456960890, "creation_date": 1456941326, "last_edit_date": 1456941738, "question_id": 35754664, "link": "https://stackoverflow.com/questions/35754664/cant-get-netbeans-to-link-glew-properly", "title": "Can&#39;t get netbeans to link GLEW properly", "body": "<p>I am running a basic openGL program that compiles and runs fine in command prompt with the command </p>\n\n<p>g++ gltest.cpp -std=c++11 -lglew32s -lglfw3 -lgdi32 -lopengl32 -o gltest.exe </p>\n\n<p>but when I try to use it in netbeans it gives me a bunch of \"undefined reference to `_imp____glewCreateShader'\" errors. All references to glew functions.</p>\n\n<p>I have the needed libraries put in the linker options </p>\n\n<p><a href=\"https://i.stack.imgur.com/khss1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/khss1.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fI1Ky.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fI1Ky.png\" alt=\"enter image description here\"></a></p>\n\n<p>here is the code:</p>\n\n<pre><code>// g++ gldrop.cpp -std=c++11 -lglew32s -lglfw3 -lgdi32 -lopengl32 -o gldrop.exe \n\n#define GLEW_STATIC\n#include &lt;iostream&gt;\n#include \"gl\\glew.h\"\n#include \"gl\\glfw3.h\"\n#include \"shaderM.cpp\"\n#include \"glm\\glm\\gtc\\matrix_transform.hpp\"\n#include \"glm\\glm\\glm.hpp\"\n\n#include \"data.cpp\"\n\nGLFWwindow* window;\n\nint main(int argv, char** argc)\n{\n//initialize GLFW\nif (!glfwInit())\n{\n    std::cout &lt;&lt; \"Failed to initialize GLFW \\n\";\n    return -1;\n}\n\nglfwWindowHint(GLFW_SAMPLES, 4);\nglfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\nglfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\nglfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n\n//create GLFW window\nwindow = glfwCreateWindow(640, 480, \"GL\", NULL, NULL);\n\nglfwMakeContextCurrent(window);\nglewExperimental = true;\n\n//initialize GLEW\nif(glewInit() != GLEW_OK)\n{\n    std::cout &lt;&lt; \"failed to initialize glew\";\n    return -1;\n}\n\nglfwSetInputMode(window, GLFW_STICKY_KEYS, GL_TRUE);\n\n//background\nglClearColor(0.4f, 0.3f, 0.7f, 0.0f);\n\n//depth test\nglEnable(GL_DEPTH_TEST);\n//takes fragments closer to the camera\nglDepthFunc(GL_LESS);\n\n//Vertex array object                                                \nGLuint vao;\nglGenVertexArrays(1, &amp;vao);\nglBindVertexArray(vao);\n\n//Vertex buffer\nGLuint vertexbuffer;\nglGenBuffers(1, &amp;vertexbuffer);\nglBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\nglBufferData(GL_ARRAY_BUFFER, sizeof(g_vertex_buffer_data), g_vertex_buffer_data, GL_STATIC_DRAW);\n\n//color buffer\nGLuint colorbuffer;\nglGenBuffers(1, &amp;colorbuffer);\nglBindBuffer(GL_ARRAY_BUFFER, colorbuffer);\nglBufferData(GL_ARRAY_BUFFER, sizeof(g_color_buffer_data), g_color_buffer_data, GL_STATIC_DRAW);\n\n//create shaders and attach them to a program object\nGLuint program = rigShadersToProgram();\n\nGLuint matrixID = glGetUniformLocation(program, \"MVP\");\n//projection matrix 45 degree FoV, 4:3 ratio, display range 0.1 - 100\nglm::mat4 projection = glm::perspective(70.0f, 4.0f/3.0f, 0.1f, 100.0f);\n//camera matrix\nglm::mat4 view = glm::lookAt(\n                    glm::vec3(4,3,-3), //camera is at (4,3,-3)\n                    glm::vec3(0,0, 0), //looks at origin\n                    glm::vec3(0,1, 0)  //head is up\n                    );\n//model matrix identity matrix\nglm::mat4 model = glm::mat4(1.0f);\n//model-view-projection\nglm::mat4 MVP   = projection * view * model;\n\nwhile (!glfwWindowShouldClose(window))\n{\n    //clear the screen\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    //use the compiled shaders\n    glUseProgram(program);\n    //send transformation matrix to currently bound shader \n    glUniformMatrix4fv(matrixID, 1, GL_FALSE, &amp;MVP[0][0]);\n\n    glEnableVertexAttribArray(0);\n    glBindBuffer(GL_ARRAY_BUFFER, vertexbuffer);\n\n    glVertexAttribPointer(\n        0,          //index \n        3,          //size\n        GL_FLOAT,   //type\n        GL_FALSE,   //normalized?\n        0,          //stride\n        0           //array buffer offset\n    );\n\n    glEnableVertexAttribArray(1);\n    glBindBuffer(GL_ARRAY_BUFFER, colorbuffer);\n\n    glVertexAttribPointer(\n        1,          //index \n        3,          //size\n        GL_FLOAT,   //type\n        GL_FALSE,   //normalized?\n        0,          //stride\n        0           //array buffer offset\n    );\n\n    //draw triangle\n    glDrawArrays(GL_TRIANGLES, 0, 12*3); //start @ vertex 0, 3 verticies\n\n    glfwSwapBuffers(window);\n    glfwPollEvents();\n}\n\nglDeleteBuffers(1, &amp;vertexbuffer);\nglDeleteBuffers(1, &amp;colorbuffer);\nglDeleteProgram(program);\nglDeleteVertexArrays(1, &amp;vao);\n\nglfwTerminate();\n\nreturn 0;\n</code></pre>\n\n<p>}</p>\n\n<p>Not sure why it won't recognize the libraries. </p>\n"}, {"tags": ["c++", "qt", "events"], "comments": [{"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 1, "creation_date": 1456941507, "post_id": 35754612, "comment_id": 59182618, "body": "You&#39;re explicitly calling <code>QWidget::event</code>, I  <i>think</i> you need to call <code>QToolButton</code>&#39;s <code>event</code> member, if you want to keep its behavior."}, {"owner": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "reply_to_user": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456942785, "post_id": 35754612, "comment_id": 59183415, "body": "I thought that as well (and I&#39;ve tried it too), but since that didn&#39;t work either, I stuck with what I saw in various code examples."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1457013150, "post_id": 35754612, "comment_id": 59219358, "body": "@Wolf That&#39;s wrong. You need to fix that <i>and</i> fix whatever else is broken :)"}], "answers": [{"comments": [{"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1456948943, "post_id": 35756177, "comment_id": 59187218, "body": "That makes sense, except for the part where the OP says that it&#39;s working when he&#39;s commenting out the event function."}, {"owner": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "edited": false, "score": 0, "creation_date": 1456950884, "post_id": 35756177, "comment_id": 59188381, "body": "Felix, thank you so much. After you pointed it out I could see exactly how I was subverting the event system."}, {"owner": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "reply_to_user": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "edited": false, "score": 0, "creation_date": 1456951330, "post_id": 35756177, "comment_id": 59188614, "body": "@Ilya: My implementation of <code>event()</code> was actually tying up the other event handlers (so commenting <code>event()</code> freed them).  Note to others: 1 minor change to the code suggested by Felix is that the parameter for the two mouse event handlers needs to be changed from <code>QMouseEvent</code> (I did that) to <code>QEvent</code> (what it&#39;s supposed to be)"}, {"owner": {"reputation": 4667, "user_id": 5695504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7c8870ba24f6cb1b54dfae0521cb13?s=128&d=identicon&r=PG", "display_name": "Ilya", "link": "https://stackoverflow.com/users/5695504/ilya"}, "reply_to_user": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "edited": false, "score": 0, "creation_date": 1456952062, "post_id": 35756177, "comment_id": 59189042, "body": "@Wolf &quot;tying up the other event handlers&quot; =&gt; what&#39;s that ? Can you point me on some reference to explain this ? I don&#39;t quite get it."}, {"owner": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "edited": false, "score": 0, "creation_date": 1457023071, "post_id": 35756177, "comment_id": 59227432, "body": "The system couldn&#39;t process the mouse press/release events properly because (#1) <code>My::event</code> handler was hijacking them first and redirecting them to <code>My::mousePressEvent</code> (this prevented the system from ever being able to directly call the real <code>mousePressEvent</code> handler), and (#2) my handlers weren&#39;t reposting the event to their respective base handlers (e.g., <code>My::mousePressEvent</code> must call <code>QToolButton::mousePressEvent</code> for event processing to continue - it didn&#39;t. While #2 is certainly the root problem, #1 is still bad because it makes the code convoluted and subverts the event flow model."}], "tags": [], "owner": {"reputation": 6147, "user_id": 3767076, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/64707b213de57fb785081ba23aaea2cd?s=128&d=identicon&r=PG&f=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3767076/felix"}, "is_accepted": true, "score": 0, "last_activity_date": 1456946205, "creation_date": 1456946205, "answer_id": 35756177, "question_id": 35754612, "link": "https://stackoverflow.com/questions/35754612/qt-loss-of-behavior-when-reimplementing-qwidgetevent/35756177#35756177", "title": "Qt - loss of behavior when reimplementing QWidget::event()", "body": "<p>Why did you call your reimplement the <code>mousePressEvent</code> and <code>mouseReleaseEvent</code> functions in your event-function? I think thats where your problem is! Those are virtual functions, and thus <code>QToolButton::event</code> will internally call your implementation of those, instead of calling the original ones!</p>\n\n<p>The following code should do the right thing - by overriding the functions correctly:</p>\n\n<pre><code>class NavButton : public QToolButton()\n{\n        //...\n    protected:\n        void mousePressEvent(QMouseEvent *ev) Q_DECL_OVERRIDE {\n            /*repaint();*/\n            QToolButton::mousePressEvent(ev);\n        }\n        void mouseReleaseEvent(QMouseEvent *ev) Q_DECL_OVERRIDE {\n            emit stateChanged(id, state);\n            QToolButton::mouseReleaseEvent(ev);\n        }\n        void hoverEnter(QHoverEvent *) {\n            setIcon(QIcon(hIcon));\n        }\n        void hoverLeave(QHoverEvent *) {\n            QIcon icon = (state) ? aIcon : iIcon;\n            setIcon(icon);\n        }\n\n        bool event(QEvent *event) Q_DECL_OVERRIDE {\n            switch(event-&gt;type()) {\n            case QEvent::HoverEnter:\n                hoverEnter((QHoverEvent*)(event));\n                break;\n            case QEvent::HoverLeave:\n                hoverLeave((QHoverEvent*)(event));\n                break;\n            default:\n                break;\n            }\n\n            return QToolButton::event(event);\n        }\n\n    //...\n}; \n</code></pre>\n\n<p>All event handler that have been overriden do now call the handler of the base class. And in your event handler you only need to call the specific handlers that you have created on your own! (The <code>Q_DECL_OVERRIDE</code>-macro indicates that you are overriding a function).</p>\n"}], "owner": {"reputation": 35, "user_id": 4990943, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c67103e01f6ed9258f1c1f558f16c64f?s=128&d=identicon&r=PG", "display_name": "Wolf", "link": "https://stackoverflow.com/users/4990943/wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 35756177, "answer_count": 1, "score": 1, "last_activity_date": 1456946205, "creation_date": 1456941165, "last_edit_date": 1456943290, "question_id": 35754612, "link": "https://stackoverflow.com/questions/35754612/qt-loss-of-behavior-when-reimplementing-qwidgetevent", "title": "Qt - loss of behavior when reimplementing QWidget::event()", "body": "<p>Problem:</p>\n\n<p>I derived an class from <code>QToolButton</code> and reimplemented the event function so I could have access to the QHover events - which I am able to do. However the buttons have lost some of their other functionality, as if only the events I am catching are being processed. For instance, the buttons don't visually looked pressed (when you click on them), the <code>QButtonGroup</code> they're in doesn't seem to have any information about them (e.g., <code>isChecked()</code> is always false and no signals seem to fire). In the code below you can see that I started going down the road of keeping track of the button's state myself, but that bothers me because I know that I'm missing something very simple - yet very important - that is jamming things up.</p>\n\n<p>Things I've tried:</p>\n\n<ul>\n<li>I tried adding <code>event-&gt;ignore()</code> and <code>return false</code> in the case blocks, but the problem remains the same (ignore, accept, false, true, none of it effects any difference)</li>\n<li>I end the event function with <code>return QWidget::event(event)</code>, because as best as I can find in the docs that's how you pass on the event, but it evidently doesn't do what I think it's supposed to do </li>\n<li>(added after reading melak47's comment): I have also ping-ponged back and forth between <code>QWidget::event</code> and <code>this-&gt;QToolButton::event</code> to no avail. The latter implementation did seem like the more correct way to do things, but since it didn't change anything I went with what I saw in other code.</li>\n<li>If I comment out the entire event function the buttons get functionality back (but of course, then I can't see the hover event). I could make an <code>eventFilter</code> to peek at the enter and leave events, but I was trying to avoid having the parent intercept the child's events if the child could do it on it's own.</li>\n</ul>\n\n<pre><code>class NavButton : public QToolButton()\n{\n    Q_OBJECT\n\n    public:\n        NavButton(int buttonid, bool buttonState = 0, QWidget *parent = 0)\n            : QToolButton( parent ), id(buttonid), state(buttonState)\n        {\n            //setMouseTracking(true);\n            setAttribute(Qt::WA_Hover);\n        }\n\n       ~NavButton(){}\n        void setActiveIcon(QIcon active)      {aIcon = active;}\n        void setInActiveIcon(QIcon inactive)  {iIcon = inactive;}\n        void setHoverIcon(QIcon hover)        {hIcon = hover;}\n        int  getId()                          {return  id;}\n        bool getState()                       {return  state;}\n        void setId(int buttonId)              {id    = buttonId;}\n        void setState(int buttonState)\n             {\n                 state = buttonState;\n                 QIcon icon = (state) ? aIcon : iIcon;\n                 setIcon(icon);\n             }\n\n    protected:\n        void mousePressEvent(QMouseEvent *)   {/*repaint();*/}\n        void mouseReleaseEvent(QMouseEvent *) {emit stateChanged(id, state);}\n        void hoverEnter(QHoverEvent *)        {setIcon(QIcon(hIcon));}\n        void hoverLeave(QHoverEvent *)\n             {\n                 QIcon icon = (state) ? aIcon : iIcon;\n                 setIcon(icon);\n             }\n\n        bool event(QEvent *event)\n             {\n                 switch(event->type())\n                 {\n                     case QEvent::MouseButtonPress:\n                         mousePressEvent((QMouseEvent*)(event));\n                         break;\n                     case QEvent::MouseButtonRelease:\n                         mouseReleaseEvent((QMouseEvent*)(event));\n                         //event->ignore();                         // Makes no difference\n                         //return false;                            // Makes no difference\n                         break;\n                     case QEvent::HoverEnter:\n                         hoverEnter((QHoverEvent*)(event));\n                         break;\n                     case QEvent::HoverLeave:\n                         hoverLeave((QHoverEvent*)(event));\n                         break;\n                     default:\n                         break;\n                 }\n\n                 return QWidget::event(event);\n             }\n\n    signals:\n        void stateChanged(int id, bool state);\n\n    private:\n        int   id;\n        bool  state;\n        QIcon aIcon;\n        QIcon iIcon;\n        QIcon hIcon;\n}; \n\n</code></pre>\n\n<p>The docs and books I've been reading make this sound so simple, plus when I look online no one is having this problem; which makes me think it probably is that easy but I'm just missing some elementary concept.</p>\n\n<p>Any insight is much appreciated</p>\n"}, {"tags": ["c++", "boost", "netbeans", "cygwin"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456940944, "post_id": 35754462, "comment_id": 59182235, "body": "IIRC there isn&#39;t a single <code>libboost.a</code> stub, but you have to specify them separately as per usage and dependency: <code>-lboost_asio -lboost_system</code>"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6009259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353c0370d8efa6c126a2a32c6aeeaa34?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/6009259/nate"}, "edited": false, "score": 0, "creation_date": 1456942544, "post_id": 35754743, "comment_id": 59183263, "body": "Thanks, but sudo apt-get install libboost-all-dev is not a recognized command in terminal. I am using Mac OSX Snow Leopard, do you know a way around this?"}], "tags": [], "owner": {"reputation": 999, "user_id": 5668691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b2f0199abaed8efe849372dc60bb35?s=128&d=identicon&r=PG&f=1", "display_name": "Sudipta Kumar Sahoo", "link": "https://stackoverflow.com/users/5668691/sudipta-kumar-sahoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1456943403, "last_edit_date": 1456943403, "creation_date": 1456941570, "answer_id": 35754743, "question_id": 35754462, "link": "https://stackoverflow.com/questions/35754462/build-fail-error-message-translatopn/35754743#35754743", "title": "Build Fail- Error Message Translatopn", "body": "<p>As you can clearly see in the error message that \"Boost\" library not found.</p>\n\n<pre><code>ld: library not found for -lboost\n</code></pre>\n\n<p>So you need to install it using the following command;</p>\n\n<pre><code>sudo apt-get install libboost-all-dev\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>Edit:\nAs MAC does not support <code>apt-get</code> so you need to use <a href=\"http://Homebrew\">http://brew.sh/</a>.\nPlease have a look in this url <a href=\"http://here\" rel=\"nofollow\">http://stackoverflow.com/questions/19688424/why-is-apt-get-function-not-working-in-terminal-on-mac-osx-10-9</a> for more details about how <code>Homebrew</code>.</p>\n"}], "owner": {"reputation": 9, "user_id": 6009259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/353c0370d8efa6c126a2a32c6aeeaa34?s=128&d=identicon&r=PG&f=1", "display_name": "Nate", "link": "https://stackoverflow.com/users/6009259/nate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456943403, "creation_date": 1456940663, "last_edit_date": 1495539902, "question_id": 35754462, "link": "https://stackoverflow.com/questions/35754462/build-fail-error-message-translatopn", "title": "Build Fail- Error Message Translatopn", "body": "<p>I recently made the switch from a PC to a Mac, Visual Studio to Netbeans, and Java to C++. I tried to include a boost library into my program, and when I build my code, I receive a build error. Can someone please walk me through what this build error is saying? I followed <a href=\"https://stackoverflow.com/questions/13291582/netbeans-ide-7-2-1-how-to-add-the-c-boost-library\">this post to add the libraries</a>. I also followed <a href=\"http://www.boost.org/doc/libs/1_60_0/more/getting_started/unix-variants.html#the-boost-distribution\" rel=\"nofollow noreferrer\">this Boost getting start tutorial</a>, and the Boost folder is in the \"Netbeans Projects\" folder, this is the directory \"<code>/Users/Nate/NetBeansProjects/boost_1_60_0/boost</code>\". Should the boost files have been placed somewhere else?</p>\n\n<pre><code>\"/usr/bin/make\" -f nbproject/Makefile-Debug.mk QMAKE= SUBPROJECTS= .build-conf\n\"/usr/bin/make\"  -f nbproject/Makefile-Debug.mk dist/Debug/GNU-MacOSX/stockapp\nmkdir -p dist/Debug/GNU-MacOSX\ng++     -o dist/Debug/GNU-MacOSX/stockapp build/Debug/GNU-MacOSX/main.o -L../boost_1_60_0/boost -l boost\nld: library not found for -lboost\ncollect2: ld returned 1 exit status\nmake[2]: *** [dist/Debug/GNU-MacOSX/stockapp] Error 1\nmake[1]: *** [.build-conf] Error 2\nmake: *** [.build-impl] Error 2\n\n\nBUILD FAILED (exit value 2, total time: 213ms)\n</code></pre>\n\n<p>I am trying to build an program that will download website HTML and parse the HTML to retrieve stock prices from fiance.yahoo.com, here is the unfinished code:</p>\n\n<pre><code>using namespace std;\n\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;boost/asio.hpp&gt; //code worked before adding this include\n\nstatic string Index;      //initialize string hosting Index Name\nstatic vector&lt;string&gt; Symbol;\n\nint ReadIndexFile()\n{\n    string FileRead;\n    string FileName;\n    //string Temp;\n    int count = 0;\n\n    FileName = Index + \"Symbols.csv\";\n    cout &lt;&lt; FileName &lt;&lt; \"\\n\";\n\n    ifstream source(FileName.c_str());//establishes source file\n    while (!source.eof())           //reads source until end of file\n    {\n        while (getline(source, FileRead, ','))//retrieves source data to ',' and stores in temp\n        {\n            Symbol.push_back(FileRead);     //writes to array line by line\n            cout &lt;&lt; Symbol.at(count);\n            count++;\n        }\n    }\n}\n\nint DownloadHTML()\n{\n    cout &lt;&lt; \"HTML Downloaded\";\n}\n\nint main(int argc, char** argv) {\n    cout &lt;&lt; \"Name your Index: \";\n    cin &gt;&gt; Index;\n    ReadIndexFile();\n    DownloadHTML();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1456940497, "post_id": 35754376, "comment_id": 59181944, "body": "1. Your question is almost entirely unreadable. 2. What do you mean by &quot;converting a letter to a number&quot;?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456940659, "post_id": 35754376, "comment_id": 59182038, "body": "Letters (<code>char</code> constants) are numbers actually."}, {"owner": {"reputation": 3343, "user_id": 1983409, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/T95Sg.jpg?s=128&g=1", "display_name": "zdf", "link": "https://stackoverflow.com/users/1983409/zdf"}, "edited": false, "score": 0, "creation_date": 1456940921, "post_id": 35754376, "comment_id": 59182213, "body": "This <code>digit = &#39;1&#39; - &#39;0&#39; -&gt; digit == 1</code>? There is a difference between &quot;number&quot; and &quot;digit&quot;."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1456951821, "post_id": 35754376, "comment_id": 59188892, "body": "In today&#39;s world of localization and Unicode, doing this in this manner isn&#39;t a good idea. If you&#39;re writing a tool for yourself, it might be okay."}], "answers": [{"comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1456941402, "post_id": 35754449, "comment_id": 59182556, "body": "Those formulas are <b>not</b> portable."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1456941804, "post_id": 35754449, "comment_id": 59182806, "body": "@PeteBecker they&#39;re portable <i>enough</i> - I&#39;ve never used a system where that trick wouldn&#39;t work. But then again I&#39;ve never needed to deal with accented characters."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1456942599, "post_id": 35754449, "comment_id": 59183299, "body": "They are portable as long as dealing with ASCII characters A-Z. It won&#39;t work for languages that use characters with accents/umlauts and other modifiers, and of course, not languages that use other writing symbols than &quot;English&quot;. But assuming you are not working on code that has to work on a IBM system using EBCDIC, and only in English, then it&#39;ll work fine."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "edited": false, "score": 0, "creation_date": 1456942787, "post_id": 35754449, "comment_id": 59183418, "body": "@MatsPetersson I had linked to the wrong versions.  I changed it to the <code>&lt;locale&gt;</code> versions as that is the more portable version."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1456942667, "last_edit_date": 1456942667, "creation_date": 1456940635, "answer_id": 35754449, "question_id": 35754376, "link": "https://stackoverflow.com/questions/35754376/converting-upper-and-lower-case-letters/35754449#35754449", "title": "Converting upper and lower case letters", "body": "<p>There are \"formulas\" to convert a lower case to upper case and vice versa.  They deal with adding or subtracting the the value of distance between <code>'A'</code> and <code>'a'</code>.  Instead of using them though we have <a href=\"http://en.cppreference.com/w/cpp/locale/tolower\" rel=\"nofollow\"><code>std::tolower</code></a> and <a href=\"http://en.cppreference.com/w/cpp/locale/toupper\" rel=\"nofollow\"><code>std::toupper</code></a> which will handle the conversion.</p>\n"}, {"tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": false, "score": 1, "last_activity_date": 1456940996, "creation_date": 1456940996, "answer_id": 35754561, "question_id": 35754376, "link": "https://stackoverflow.com/questions/35754376/converting-upper-and-lower-case-letters/35754561#35754561", "title": "Converting upper and lower case letters", "body": "<p>Converting a digit as a character to it's integer value can be done by <code>ch - '0'</code> - although I'm not 100% sure that's what you are asking for. Obviously, converting a string to a number means picking off the digits in the correct order and multiplying, to make the \"whole\" number.</p>\n"}], "owner": {"reputation": 1, "user_id": 6009278, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-o0Mz6S3PgcQ/AAAAAAAAAAI/AAAAAAAAFFI/xcLGSI2qjbQ/photo.jpg?sz=128", "display_name": "Adi T.", "link": "https://stackoverflow.com/users/6009278/adi-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1464737762, "creation_date": 1456940409, "last_edit_date": 1464737762, "question_id": 35754376, "link": "https://stackoverflow.com/questions/35754376/converting-upper-and-lower-case-letters", "title": "Converting upper and lower case letters", "body": "<p>In c++, how do I convert a capital letter to a small letter and back?</p>\n\n<pre><code>ch= ch-('a'-'A') a -&gt; A\nch= ch+('a'-'A'). A-&gt; a\n</code></pre>\n\n<p>Is there a \"formula\" like that one for converting a letter to a number and reversed?</p>\n"}, {"tags": ["c++", "multithreading", "c++11"], "comments": [{"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 2, "creation_date": 1456940372, "post_id": 35754337, "comment_id": 59181862, "body": "<code>boost::optional&lt;std::thread::id&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 3941935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c538ac627f3e153ee89f59122a644728?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Sodzawiczny", "link": "https://stackoverflow.com/users/3941935/tomasz-sodzawiczny"}, "edited": false, "score": 1, "creation_date": 1456992121, "post_id": 35754370, "comment_id": 59204650, "body": "I think it&#39;s worth noting, that it works because the <code>operator==</code> for ids is defined this way (<i>Returns: true only if x and y represent the same thread of execution or neither x nor y represents a thread of execution.</i>). Also - the <code>t.get_id() == id()</code> is true in some states of the thread <code>t</code>."}], "tags": [], "owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "is_accepted": true, "score": 15, "last_activity_date": 1456940386, "creation_date": 1456940386, "answer_id": 35754370, "question_id": 35754337, "link": "https://stackoverflow.com/questions/35754337/is-there-a-null-value-for-stdthreadid/35754370#35754370", "title": "Is there a &quot;null&quot; value for std::thread::id?", "body": "<p>According to <a href=\"http://en.cppreference.com/w/cpp/thread/thread/get_id\">cppreference on std::thread::id (default constructor)</a>:</p>\n\n<blockquote>\n  <p>Default-constructs a new thread identifier. The identifier does not represent a thread.</p>\n</blockquote>\n\n<p>So, you can store and compare against a default constructed <code>std::thread::id</code>.</p>\n"}], "owner": {"reputation": 24928, "user_id": 997112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7c52a3944cdd2eac9725e54fc548f368?s=128&d=identicon&r=PG", "display_name": "user997112", "link": "https://stackoverflow.com/users/997112/user997112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2216, "favorite_count": 0, "accepted_answer_id": 35754370, "answer_count": 1, "score": 8, "last_activity_date": 1456940386, "creation_date": 1456940276, "question_id": 35754337, "link": "https://stackoverflow.com/questions/35754337/is-there-a-null-value-for-stdthreadid", "title": "Is there a &quot;null&quot; value for std::thread::id?", "body": "<p>I'd like to have a class member of type <code>std::thread::id</code> where I can also nullify it and then check whether it has been set.</p>\n\n<p>What is the best way to \"nullify\" this type and then check whether it has been set?</p>\n"}, {"tags": ["c++", "multithreading", "c++11"], "comments": [{"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 2, "creation_date": 1456939983, "post_id": 35754215, "comment_id": 59181633, "body": "Because the <code>join</code> function is not called (i.e., <code>t.join();</code>)."}, {"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "reply_to_user": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "edited": false, "score": 0, "creation_date": 1456940069, "post_id": 35754215, "comment_id": 59181682, "body": "So what? I understand that join() must only be called for the main thread to wait for the worker thread. In this case, there is no purpose in waiting, because I press a key."}, {"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1456940139, "post_id": 35754215, "comment_id": 59181722, "body": "and thus you leak a resource. A very, very expensive resource."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 2, "creation_date": 1456940180, "post_id": 35754215, "comment_id": 59181747, "body": "When the <code>thread</code> instance is destroyed, it must be either joined or detached, otherwise <code>terminate</code> is called. (<a href=\"http://en.cppreference.com/w/cpp/thread/thread/%7Ethread\" rel=\"nofollow noreferrer\">Source</a>)"}, {"owner": {"reputation": 4622, "user_id": 996886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lSuAl.png?s=128&g=1", "display_name": "melak47", "link": "https://stackoverflow.com/users/996886/melak47"}, "edited": false, "score": 0, "creation_date": 1456940221, "post_id": 35754215, "comment_id": 59181773, "body": "&quot;there is no purpose in waiting&quot; is at odds with <a href=\"http://en.cppreference.com/w/cpp/thread/thread\" rel=\"nofollow noreferrer\">cppreference</a>: <code>std::thread::~thread</code>:  destructs the thread object, underlying thread must be joined or detached"}, {"owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "edited": false, "score": 0, "creation_date": 1456941346, "post_id": 35754215, "comment_id": 59182519, "body": "Is this a debugger error, or is this error thrown when running the console application standalone?  If this is a debugger error, it is Visual Studio telling you that a thread was aborted on exit, which is normal behavior - Visual Studio recognizes that an unfinished thread was terminated, and also, operating systems always close all resource handles associated with an application when the application terminates (this includes threads, file descriptors, allocated memory, etc)."}, {"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456941468, "post_id": 35754215, "comment_id": 59182598, "body": "It is a debugger error."}], "answers": [{"comments": [{"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456941098, "post_id": 35754331, "comment_id": 59182342, "body": "Ahh, I see. But what I don&#39;t understand is this. Suppose I write thread t([]() { ... }); and then on the next line write t.join() (in main). Still, t could finish before t.join() is called (in theory) and thus it calls std::terminate?   Just to be sure, it is std::terminate that makes VS display a debug error, right?"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456941270, "post_id": 35754331, "comment_id": 59182466, "body": "@NicolasLykkeIversen Yes, it is perfectly fine for <code>t</code> to finish execution before <code>join</code> is called. The issue is that <code>join</code> needs to be called before the destructor of <code>t</code> is called (i.e., before the closing <code>}</code> brace of the <code>main</code> function). Therefore calling <code>join</code> immediately after <code>t</code> is constructed with the lambda expression will guarantee <code>t</code> finishes before the destructor of <code>t</code> is executed."}, {"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456941419, "post_id": 35754331, "comment_id": 59182568, "body": "Aha! That&#39;s making sense... Still, is it the std::terminate called by t (because it is joinable) that causes VS to give the debug error? Or what means causes it?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456941425, "post_id": 35754331, "comment_id": 59182574, "body": "Well <code>join</code> or <code>detach</code>.  The main thing is <code>joinable</code> needs to return <code>false</code>."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456941519, "post_id": 35754331, "comment_id": 59182626, "body": "@NathanOliver Yes, the answer states that <code>detach</code> works as well as the fact that <code>joinable == true</code> is the reason <code>std::terminate</code> is called."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456941630, "post_id": 35754331, "comment_id": 59182699, "body": "@NicolasLykkeIversen I think the <a href=\"http://stackoverflow.com/questions/35754215/why-does-this-c-thread-code-trigger-an-abort-error/35754331#comment59182519_35754215\">comment</a> provided by <b>Matt Jordan</b> explains this for you."}, {"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456943239, "post_id": 35754331, "comment_id": 59183701, "body": "Will std::terminate from the thread cause the main program to terminate or just the thread?"}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456943592, "post_id": 35754331, "comment_id": 59183935, "body": "@NicolasLykkeIversen The <code>std::terminate</code> function is called by the destructor of the <code>std::thread</code> object. In this case the object is named <code>t</code> which is instantiated in the <code>main</code> function therefore <code>std::thread::~thread</code> is called in the context of the <code>main</code> thread (i.e., it&#39;s not called in the context of the thread created by the <code>t</code> object)."}, {"owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456943746, "post_id": 35754331, "comment_id": 59184022, "body": "I see, so the program terminates."}, {"owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "reply_to_user": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "edited": false, "score": 0, "creation_date": 1456943928, "post_id": 35754331, "comment_id": 59184114, "body": "@NicolasLykkeIversen Yes, the program terminates -- [<a href=\"http://en.cppreference.com/w/cpp/error/terminate]\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/error/terminate]</a> &quot;In any case, <code>std::terminate</code> calls the currently installed <code>std::terminate_handler</code>. The default <code>std::terminate_handler</code> calls <code>std::abort</code>.&quot; [<a href=\"http://en.cppreference.com/w/cpp/utility/program/abort]\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/utility/program/abort]</a> &quot;Causes abnormal program termination unless SIGABRT is being caught by a signal handler passed to signal and the handler does not return.&quot;"}], "tags": [], "owner": {"reputation": 8891, "user_id": 4505712, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/h9W5W.png?s=128&g=1", "display_name": "James Adkison", "link": "https://stackoverflow.com/users/4505712/james-adkison"}, "is_accepted": true, "score": 4, "last_activity_date": 1456940570, "last_edit_date": 1456940570, "creation_date": 1456940268, "answer_id": 35754331, "question_id": 35754215, "link": "https://stackoverflow.com/questions/35754215/why-does-this-c-thread-code-trigger-an-abort-error/35754331#35754331", "title": "Why does this C++ thread code trigger an abort() error?", "body": "<p>The behavior you're seeing is expected and the following explains how to avoid it.</p>\n\n<p>From the <a href=\"http://en.cppreference.com/w/cpp/thread/thread/~thread\" rel=\"nofollow\">std::thread::~thread documentation</a>.</p>\n\n<blockquote>\n  <p>If *this has an associated thread (joinable() == true), std::terminate() is called.</p>\n</blockquote>\n\n<p><br></p>\n\n<blockquote>\n  <p>A thread object does not have an associated thread (and is safe to destroy) after</p>\n  \n  <ul>\n  <li>it was default-constructed</li>\n  <li>it was moved from</li>\n  <li>join() has been called</li>\n  <li>detach() has been called</li>\n  </ul>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>So what? I understand that join() must only be called for the main thread to wait for the worker thread. In this case, there is no purpose in waiting, because I press a key.</p>\n</blockquote>\n\n<p>Why is there no purpose in waiting? What happens if the <code>main</code> function finishes execution before the <code>std::cout</code> stream object is used by the thread (albeit unlikely it's still possible even though you have the <code>getchar()</code> call)? Is that global stream object still valid for use by the thread?</p>\n"}], "owner": {"reputation": 7894, "user_id": 1020139, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e6b113d9e9ab23110a4e5b611bcaad61?s=128&d=identicon&r=PG", "display_name": "Shuzheng", "link": "https://stackoverflow.com/users/1020139/shuzheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1646, "favorite_count": 1, "accepted_answer_id": 35754331, "answer_count": 1, "score": 0, "last_activity_date": 1456940570, "creation_date": 1456939943, "last_edit_date": 1456939988, "question_id": 35754215, "link": "https://stackoverflow.com/questions/35754215/why-does-this-c-thread-code-trigger-an-abort-error", "title": "Why does this C++ thread code trigger an abort() error?", "body": "<p>I am testing the new C++11 thread features. To do this, I start a thread by providing a lambda expression to its constructor:</p>\n\n<pre><code>   int main()\n    {\n        thread t([]() {\n            cout &lt;&lt; \"Hello World!\" &lt;&lt; endl;\n        });\n\n        //this_thread::sleep_for(chrono::seconds(5));\n\n        cout &lt;&lt; \"I am done!\" &lt;&lt; endl;\n        getchar();\n        return 0;\n    }\n</code></pre>\n\n<p>But after I press a key (<code>getchar</code>), I get the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/giIaj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/giIaj.png\" alt=\"Debug\"></a> </p>\n\n<p>Can someone give a reason?</p>\n"}, {"tags": ["c++", "fonts", "direct2d", "directwrite"], "answers": [{"tags": [], "owner": {"reputation": 894, "user_id": 5758312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15560486f98d522b0e9a43cc60c82144?s=128&d=identicon&r=PG&f=1", "display_name": "bunglehead", "link": "https://stackoverflow.com/users/5758312/bunglehead"}, "is_accepted": false, "score": 0, "last_activity_date": 1456980167, "creation_date": 1456980167, "answer_id": 35763359, "question_id": 35754162, "link": "https://stackoverflow.com/questions/35754162/is-there-anyway-i-could-set-width-and-layout-width-to-be-the-same-in-directwrite/35763359#35763359", "title": "Is there anyway I could set width and layout width to be the same in Directwrite TextLayout?", "body": "<p>Initial layout dimensions are used to control word wrapping or trimming, if enabled. So it depends on what you want to achieve, normally you set desired layout box, and text does not have to fit or fully fill to any degree. When rendering you might be interested in effective rectangle that your text fits in fully, you need to call <code>GetMetrics</code> for that, and use returned <code>DWRITE_TEXT_METRICS</code> struct fields. Metrics data will contain actual rectangle sizes for your text, regardless of what you specified on layout creation.</p>\n"}], "owner": {"reputation": 11, "user_id": 4945211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91b2af05a4245686631377e9deddd2a0?s=128&d=identicon&r=PG&f=1", "display_name": "Mazer", "link": "https://stackoverflow.com/users/4945211/mazer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456980167, "creation_date": 1456939765, "question_id": 35754162, "link": "https://stackoverflow.com/questions/35754162/is-there-anyway-i-could-set-width-and-layout-width-to-be-the-same-in-directwrite", "title": "Is there anyway I could set width and layout width to be the same in Directwrite TextLayout?", "body": "<p>Whenever I render a text using text layout object, it's apparent that actual width of text is not same as the width of layout depending on enable option in text wrapping. </p>\n\n<p>I would like to know if there is anyway I could do to set width and layout width to be the same?</p>\n\n<p>So When I pass in width and height in a creation of text layout object, I want it to render the text in the exact dimension I provided. </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1456939921, "post_id": 35754157, "comment_id": 59181595, "body": "<i>&quot;I&#39;ve seen many questions and answers about this issue but still I can&#39;t solve my problem&quot;</i> Can you tell us first what about all those answers was unhelpful? It seems pointless to reproduce the common answers yet again if there was something specific that&#39;s different for your use case. For what it&#39;s worth, I can&#39;t see what that would be. Also, I don&#39;t really see <i>why</i> you&#39;re using a <code>static</code> member here. Why not a nice <code>EmployeesCollection</code> class that you can instantiate in <code>main</code>?"}, {"owner": {"reputation": 183, "user_id": 4499647, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3b43e4e7ec2c5bfbd68d7c988ce68fc?s=128&d=identicon&r=PG&f=1", "display_name": "mathsicist", "link": "https://stackoverflow.com/users/4499647/mathsicist"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456941426, "post_id": 35754157, "comment_id": 59182579, "body": "I beg your pardon? I don&#39;t understand what do you mean by <code>EmployeesCollection</code> class. I&#39;ve tried create <code>static void InstantiateVector();</code> but I didn&#39;t understand it completely. I&#39;ve also found something about <b>boost</b> library but I&#39;ve decided to solve the issue using standards tools"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456961949, "post_id": 35754157, "comment_id": 59193965, "body": "I&#39;m asking you why you think you need a <code>static</code> member and, if you really do, why all the many answers you&#39;ve already read did not help you. No need to &quot;beg my pardon&quot; thank you."}], "answers": [{"comments": [{"owner": {"reputation": 183, "user_id": 4499647, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3b43e4e7ec2c5bfbd68d7c988ce68fc?s=128&d=identicon&r=PG&f=1", "display_name": "mathsicist", "link": "https://stackoverflow.com/users/4499647/mathsicist"}, "edited": false, "score": 0, "creation_date": 1456951317, "post_id": 35757539, "comment_id": 59188606, "body": "Thanks for your response. I&#39;ve written on another forum and I&#39;ve got the same answer like you. Take a look how my code looks now. I&#39;d be grateful if you&#39;ll review it for me. Do I do it properly now?"}, {"owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "reply_to_user": {"reputation": 183, "user_id": 4499647, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3b43e4e7ec2c5bfbd68d7c988ce68fc?s=128&d=identicon&r=PG&f=1", "display_name": "mathsicist", "link": "https://stackoverflow.com/users/4499647/mathsicist"}, "edited": false, "score": 0, "creation_date": 1456951710, "post_id": 35757539, "comment_id": 59188830, "body": "OK, I got it.  That is basically the way I would do it."}], "tags": [], "owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "is_accepted": true, "score": 2, "last_activity_date": 1456950916, "creation_date": 1456950916, "answer_id": 35757539, "question_id": 35754157, "link": "https://stackoverflow.com/questions/35754157/static-vector-as-a-class-objects-container/35757539#35757539", "title": "Static vector as a class objects container", "body": "<p>Your code didn't work when I ran it.  In addition to adding includes and fixing some typos, I had to add this line:</p>\n\n<pre><code>std::vector&lt;Employee&gt; Employee::employee;\n</code></pre>\n\n<p>However, I don't think this is the best solution.  For sweet clarity's sake, an Employee shouldn't contain a vector of Employees, but should be, well, an employee.  If you want a vector of employees, you can declare one in main (or elsewhere).  If you want your vector of employees to have some added features like the interactive employee-adding function you wrote, you can do it like this:</p>\n\n<pre><code>class EmployeeForce: public std::vector&lt;Employee&gt;\n{\n   void interactivelyAddEmployee ();\n   ...\n};\n\n...\nEmployeeForce myStaff;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1456951903, "post_id": 35757679, "comment_id": 59188939, "body": "While this may answer the question (your own), it is only code without any explanation. A <i>good</i> answer should indicate what was done to fix the problem."}], "tags": [], "owner": {"reputation": 183, "user_id": 4499647, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3b43e4e7ec2c5bfbd68d7c988ce68fc?s=128&d=identicon&r=PG&f=1", "display_name": "mathsicist", "link": "https://stackoverflow.com/users/4499647/mathsicist"}, "is_accepted": false, "score": 0, "last_activity_date": 1456952535, "last_edit_date": 1456952535, "creation_date": 1456951433, "answer_id": 35757679, "question_id": 35754157, "link": "https://stackoverflow.com/questions/35754157/static-vector-as-a-class-objects-container/35757679#35757679", "title": "Static vector as a class objects container", "body": "<p>I've changed entire the concept. The problem was that I unnecessary wanted to put inside the class the container of objects (in this case: std::vector). I know now that class should only contain informations about the single object; it shouldn't know about anything about others one.</p>\n\n<pre><code>class Employee\n{\npublic:\n    std::string name;\n    int age;\n\n};\n\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const std::vector&lt;Employee&gt;&amp; v)\n{\n    out &lt;&lt; \"[\";\n    for (size_t i = 0; i &lt; v.size(); ++i)\n    {\n        out &lt;&lt; \"Name: \" &lt;&lt; v[i].name &lt;&lt; \" age: \" &lt;&lt; v[i].age;\n        if (i != v.size() - 1)\n            out &lt;&lt; \", \";\n    }\n    out &lt;&lt; \"]\";\n\n    return out;\n}\n\nEmployee generate_random_employee(Employee obj)\n{\n    obj.name = \"Marek\"; //GenerateName();\n    obj.age = 21; //these function is not ready yet. it'd be just a rand()\n\n    return obj;\n}\n\nint main()\n{\n    int decision;\n    std::string name;\n    std::vector&lt;Employee&gt; employees;\n    Employee some_new_employee;\n\n    std::cout &lt;&lt; \"Welcome mrs. manager. What do you want to do today, sir?\" &lt;&lt; std::endl &lt;&lt; std::endl;\n\n    do\n    {\n        std::cout &lt;&lt; \"Hire sombody [1], Fire somebody [2], Exit [0] \" &lt;&lt; std::endl;\n        std::cin &gt;&gt; decision;\n\n        switch (decision)\n        {\n        case 1:\n            some_new_employee = generate_random_employee(some_new_employee);\n\n            if (should_i_employ(some_new_employee))\n            {\n                employees.push_back(some_new_employee);\n            }\n            break;\n\n        case 2:\n            std::cout &lt;&lt; \"Who do you want to fire?\" &lt;&lt; std::endl;\n            std::cin &gt;&gt; name;\n\n            if (is_the_employee_exist(employees, name))\n            {\n                if (are_u_sure())\n                {\n\n                }\n            }\n            else\n                std::cout &lt;&lt; \"\" &lt;&lt; std::endl;\n\n            break;\n\n        case 3:\n            std::cout &lt;&lt; employees &lt;&lt; std::endl;\n            break;\n\n        case 0:\n            std::cout &lt;&lt; \"Good bye, sir\" &lt;&lt; std::endl;\n            break;\n\n        default:\n            std::cout &lt;&lt; \"There is not these option. Try again \" &lt;&lt; std::endl;\n        }\n\n    } while (decision != 0);\n\n    system(\"pause\");\n}\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 4499647, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e3b43e4e7ec2c5bfbd68d7c988ce68fc?s=128&d=identicon&r=PG&f=1", "display_name": "mathsicist", "link": "https://stackoverflow.com/users/4499647/mathsicist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 35757539, "answer_count": 2, "score": -2, "last_activity_date": 1456952851, "creation_date": 1456939742, "last_edit_date": 1456952851, "question_id": 35754157, "link": "https://stackoverflow.com/questions/35754157/static-vector-as-a-class-objects-container", "title": "Static vector as a class objects container", "body": "<p>I've seen many questions and answers about this issue but still I can't solve my problem. How should I initialize a static vector? I'm also asking you for checking I use a default construct properly. I don't mean checking if it's working because I know that it does. I just wonder if it is an elegant implementation? </p>\n\n<pre><code>class Employee\n{\nprivate:\n    static std::vector&lt;Employee&gt; employee;\n    std::string name;\n    int age;\n\n    Employee::Employee()\n    {\n        std::string localName;\n        int localAge;\n\n        std::cout &lt;&lt; \"So... do you want to hire a new employee? Let's look at CVs \" &lt;&lt; std::endl;\n        localName = \"Marek\"; //GenerateName();\n        localAge = 21; //these function is not ready yet. it'd be just a rand()\n        std::cout &lt;&lt; \"I've got one. What do u think about \" &lt;&lt; localName &lt;&lt; \" age \" &lt;&lt; localAge &lt;&lt; \"?\" &lt;&lt; std::endl;\n\n        int decision;\n\n        do\n        {\n            std::cout &lt;&lt; \"Do you want hire him [1] or not [2] ? \" &lt;&lt; std::endl;\n            std::cin &gt;&gt; decision;\n\n            switch (decision)\n            {\n            case 1:\n                name = localName;\n                age = localAge;\n                decision = 0;\n                break;\n\n            case 2:\n                employees.erase(employees.end());\n                decision = 0;\n                break;\n\n            default:\n                std::cout &lt;&lt; \"Incorrect option. Try again\" &lt;&lt; std::endl;\n            }\n        } while (decision != 0);\n    }\n\npublic:\n    static void Employ()\n    {\n        employees.push_back(Employee::Employee());\n    }\n};\n\nint main()\n{\n    Employee::Employ();\n\n    system(\"pause\");\n}\n</code></pre>\n"}, {"tags": ["c#", "c++", "adodb", "recordset"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1456940290, "post_id": 35754015, "comment_id": 59181814, "body": "A heavy impedance mismatch.  Recover the raw interface pointer with Marshal::GetIUnknownForObject(), cast the IntPtr to IUnknown* and call the _RecordsetPtr constructor.  One reference count too many, I think, call Marshal::Release()"}], "answers": [{"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1457026655, "post_id": 35775733, "comment_id": 59229899, "body": "You&#39;d better check for memory leaks.  Write a little test app that does this a million times."}], "tags": [], "owner": {"reputation": 63, "user_id": 3960874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ffd4bd3e1b22b0ddcf177f7e0dfc33?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Godsey", "link": "https://stackoverflow.com/users/3960874/tommy-godsey"}, "is_accepted": true, "score": 1, "last_activity_date": 1457017521, "creation_date": 1457017521, "answer_id": 35775733, "question_id": 35754015, "link": "https://stackoverflow.com/questions/35754015/convert-adodbrecordset-to-recordsetptr/35775733#35775733", "title": "Convert ADODB::Recordset^ to _RecordsetPtr", "body": "<p>Thanks to Hans Passant, I was able to find a solution:</p>\n\n<pre><code>_RecordsetPtr TraserInterface::GetDistributorRecordset()\n{\n    ADODB::Recordset^ recordset = TraserWrapper::Instance-&gt;traserInterface-&gt;DistributorRecordset);\n    IntPtr recordsetIntPtr = Marshal::GetIUnknownForObject(recordset);\n    IUnknown* unknown = (IUnknown*)(void*)recordsetIntPtr;\n    _RecordsetPtr recordsetPtr(unknown);\n    return recordsetPtr;\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 3960874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7ffd4bd3e1b22b0ddcf177f7e0dfc33?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy Godsey", "link": "https://stackoverflow.com/users/3960874/tommy-godsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 35775733, "answer_count": 1, "score": 0, "last_activity_date": 1457017521, "creation_date": 1456939310, "question_id": 35754015, "link": "https://stackoverflow.com/questions/35754015/convert-adodbrecordset-to-recordsetptr", "title": "Convert ADODB::Recordset^ to _RecordsetPtr", "body": "<p>I'm using a C# dll inside in C++/CLI wrapper. The dll is returning an ADODB::Recordset^ object, but I need the wrapper to return a _RecordsetPtr object.\nHow can I convert between the two?</p>\n\n<p>Here's what I have so far. The problem I'm running in to is that after the last line of the for-loop, the function skips to the return statement and ends. It doesn't continue looping, and it doesn't hit the \"Object^ rows = . . .\" line.</p>\n\n<pre><code>_RecordsetPtr TraserInterface::GetDistributorRecordset()\n{\n    ADODB::Recordset^ recordset = TraserWrapper::Instance-&gt;traserInterface-&gt;DistributorRecordset;\n    ADODB::Fields^ fields = ((ADODB::RecordsetClass^)recordset)-&gt;default;\n    HRESULT hr;\n    _RecordsetPtr recordsetPtr(\"ADODB.Recordset\");\n    for (int i = 0; i &lt; fields-&gt;Count; i++)\n    {\n        ADODB::Field^ field = fields[i];\n        String^ fieldName = field-&gt;Name;\n        _bstr_t bstrName = MarshalString(fieldName).c_str();\n        int type = (int)field-&gt;Type;\n        int definedSize = field-&gt;DefinedSize;\n        int fieldAttrib = field-&gt;Attributes;\n        hr = recordsetPtr-&gt;Fields-&gt;Append(bstrName, (DataTypeEnum)type, definedSize, (FieldAttributeEnum)fieldAttrib);\n    }\n    Object^ rows = recordset-&gt;GetRows((int)ADODB::GetRowsOptionEnum::adGetRowsRest, (Object^)ADODB::BookmarkEnum::adBookmarkFirst, (Object^)fields);\n    // loop through rows and populate recordsetPtr . . .\n    return recordsetPtr;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "c++11", "constexpr", "crtp"], "comments": [{"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456939499, "post_id": 35753956, "comment_id": 59181309, "body": "It also fails to compile on clang."}, {"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "reply_to_user": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456939574, "post_id": 35753956, "comment_id": 59181359, "body": "Is it illegal syntax, and GCC simply fluked out?"}, {"owner": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 1, "creation_date": 1456939675, "post_id": 35753956, "comment_id": 59181431, "body": "I&#39;m not sure, but it looks like it should be illegal, otherwise you could have <code>num = Derived::value</code> and <code>value = CRTP&lt;V&gt;::num</code>"}, {"owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "reply_to_user": {"reputation": 4531, "user_id": 4756309, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/XMiQX.png?s=128&g=1", "display_name": "Weak to Enuma Elish", "link": "https://stackoverflow.com/users/4756309/weak-to-enuma-elish"}, "edited": false, "score": 0, "creation_date": 1456939759, "post_id": 35753956, "comment_id": 59181487, "body": "But on GCC it compiles and also when running my program, all outputs are as expected, i.e. no undefined behaviour."}, {"owner": {"reputation": 43107, "user_id": 3953764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd168106a67cbd805c107cba3252caa?s=128&d=identicon&r=PG", "display_name": "Piotr Skotnicki", "link": "https://stackoverflow.com/users/3953764/piotr-skotnicki"}, "edited": false, "score": 0, "creation_date": 1456940115, "post_id": 35753956, "comment_id": 59181707, "body": "<code>Derived=A</code> is incomplete, so I doubt this is valid"}], "answers": [{"tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": true, "score": 6, "last_activity_date": 1456940614, "creation_date": 1456940614, "answer_id": 35754443, "question_id": 35753956, "link": "https://stackoverflow.com/questions/35753956/crtp-compiling-error/35754443#35754443", "title": "CRTP compiling error", "body": "<p>Try making it a constexpr function instead. The way you have it setup now attempts to access an incomplete type.<br>\nSince a templated member function will only be initialized upon first being used, type <code>A</code> will be fully defined by that point.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename Derived&gt;\nstruct CRTP {\n    static constexpr int num() { return  Derived::value + 1; }\n};\n\nstruct A : CRTP&lt;A&gt; {\n    static constexpr int value = 5;\n};\n\nint main()\n{\n    std::cout &lt;&lt; A::num();\n    return 0;\n}\n</code></pre>\n\n<p>See it live <a href=\"http://ideone.com/zbradM\">here</a></p>\n"}, {"comments": [{"owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "edited": false, "score": 0, "creation_date": 1464920542, "post_id": 35754618, "comment_id": 62694338, "body": "Why does the initializer of <code>CRTP&lt;Derived&gt;::num</code> need to be instantiated at the time <code>CRTP&lt;Derived&gt;</code> is instantiated? Can you provide a reference to the standard?"}, {"owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "edited": false, "score": 0, "creation_date": 1464921227, "post_id": 35754618, "comment_id": 62694497, "body": "What I found is <code>[temp.inst] p9</code>: &quot;The implicit instantiation of a class template does not cause any static data members of that class to be implicitly instantiated&quot;."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "edited": false, "score": 0, "creation_date": 1464922702, "post_id": 35754618, "comment_id": 62694796, "body": "@HighCommander4 That has to do with the definition of the member - the declaration still has to be parsed and valid, which it is not in the OP&#39;s example as <code>Derived</code> is as yet incomplete."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1456941188, "creation_date": 1456941188, "answer_id": 35754618, "question_id": 35753956, "link": "https://stackoverflow.com/questions/35753956/crtp-compiling-error/35754618#35754618", "title": "CRTP compiling error", "body": "<p>The problem is here:</p>\n\n<pre><code>template &lt;typename Derived&gt;\nstruct CRTP {\n    static constexpr int num = Derived::value + 1;\n                               \u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\u2191\n};\n</code></pre>\n\n<p>At the time of the instantiation of <code>CRTP&lt;A&gt;</code>, <code>A</code> isn't a complete class yet, so you can't actually access static members of it. </p>\n\n<p>One workaround is to pass in <code>num</code> as a separate template argument:</p>\n\n<pre><code>template &lt;typename Derived, int N&gt;\nstruct CRTP {\n    static constexpr int num = N;\n};\n\nstruct A : CRTP&lt;A, 5&gt; {\n\n};\n</code></pre>\n"}], "owner": {"reputation": 4585, "user_id": 3089350, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2070bd8045abf2ac967cd4ead6dc59a9?s=128&d=identicon&r=PG&f=1", "display_name": "prestokeys", "link": "https://stackoverflow.com/users/3089350/prestokeys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 1, "accepted_answer_id": 35754443, "answer_count": 2, "score": 4, "last_activity_date": 1456941188, "creation_date": 1456939119, "last_edit_date": 1456940070, "question_id": 35753956, "link": "https://stackoverflow.com/questions/35753956/crtp-compiling-error", "title": "CRTP compiling error", "body": "<p>The following will compile with GCC 5.2 but not with Visual Studio 2015.</p>\n\n<pre><code>template &lt;typename Derived&gt;\nstruct CRTP {\n    static constexpr int num = Derived::value + 1;\n};\n\nstruct A : CRTP&lt;A&gt; {\n    static constexpr int value = 5;\n};\n</code></pre>\n\n<p>It complains that <code>A</code> does not have a member named <code>value</code>.\nHow to fix the code so that it compiles on both compilers?  Or is it illegal altogether?</p>\n"}, {"tags": ["c++", "serialization", "boost", "boost-serialization"], "answers": [{"comments": [{"owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456949322, "post_id": 35756430, "comment_id": 59187445, "body": "Would you mind taking a look at my answer (I intend to accept your answer, mine is just listing concrete examples of several cases) to see if everything looks ok and the concepts are demonstrated correctly? The last one is the most interesting - why do we not need to register the base class?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456951364, "post_id": 35756430, "comment_id": 59188635, "body": "@DavidDoria Done, see updates with improved code for all cases:  <a href=\"http://coliru.stacked-crooked.com/a/d22dc9f69356feaf\" rel=\"nofollow noreferrer\">case1.cpp</a>,  <a href=\"http://coliru.stacked-crooked.com/a/8a3958a630b507e6\" rel=\"nofollow noreferrer\">case2.cpp</a>,  <a href=\"http://coliru.stacked-crooked.com/a/45257bf4a4aeb9e8\" rel=\"nofollow noreferrer\">case3.cpp</a>,  <a href=\"http://coliru.stacked-crooked.com/a/f6ffb1329dc696cd\" rel=\"nofollow noreferrer\">case4.cpp</a> and  <a href=\"http://coliru.stacked-crooked.com/a/e5eed5a5ba9d7e16\" rel=\"nofollow noreferrer\">case5.cpp</a>. Note the output for case2 and case4 where you can actually verify that the parent data was deserialized."}, {"owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952119, "post_id": 35756430, "comment_id": 59189085, "body": "Thanks. Are these Coliru links permalinks (i.e. should I delete my answer and just keep the links in your updated answer? I still don&#39;t follow the use of <code>base_object</code> - in case2.cpp (and likewise case4.cpp), you are saying that we MUST call <code>boost::serialization::base_object</code> when I had actually showed that NONE of the OR&#39;s that you list are required and the base class serialize still seems to be called? (see <a href=\"http://coliru.stacked-crooked.com/a/4b5f3eeca54e86a7\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/4b5f3eeca54e86a7</a>)"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952256, "post_id": 35756430, "comment_id": 59189160, "body": "@DavidDoria you failed to show that, by not checking wether parent data was serialized. See in my case2/4 where the values are 99 and 101"}, {"owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952419, "post_id": 35756430, "comment_id": 59189268, "body": "Oops, you&#39;re right. The value of <code>mParentData</code> that I thought had been deserialized was just from the initial value in the object that was read back in."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952463, "post_id": 35756430, "comment_id": 59189290, "body": "You got it :) <code>base_object</code> does indeed magically register some casts (and sometimes types) with the archive. Coliru is permalinks (though nobody knows what happens to websites in the future)"}, {"owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952516, "post_id": 35756430, "comment_id": 59189323, "body": "Would you like me to pull your code from Coliru directly into your answer?"}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1456952600, "post_id": 35756430, "comment_id": 59189369, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/105196/discussion-between-sehe-and-david-doria\">continue this discussion in chat</a>."}, {"owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "edited": false, "score": 0, "creation_date": 1459047933, "post_id": 35756430, "comment_id": 60117033, "body": "I guess the confusion is not over :). Even without the type registration caused by pointers to parent classes, the deserializing constructor concept doesn&#39;t seem to work well when forwarding the archive up to a parents deserializing constructor: <a href=\"http://stackoverflow.com/questions/36222439/deserializing-constructor-hierarchy/36223411?noredirect=1#comment60081089_36223411\" title=\"deserializing constructor hierarchy\">stackoverflow.com/questions/36222439/&hellip;</a>"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 3, "last_activity_date": 1456958053, "last_edit_date": 1456958053, "creation_date": 1456947079, "answer_id": 35756430, "question_id": 35753953, "link": "https://stackoverflow.com/questions/35753953/common-confusions-with-serializing-polymorphic-types/35756430#35756430", "title": "Common confusions with serializing polymorphic types", "body": "<ul>\n<li><code>boost::serialization::base_object</code> vs <code>BOOST_SERIALIZATION_BASE_OBJECT_NVP</code></li>\n</ul>\n\n<p>The NVP wrapper is only ever required for archives that have element naming, like XML.</p>\n\n<p>Unless you use it, <code>base_object&lt;&gt;</code> is cleaner and simpler.</p>\n\n<ul>\n<li><code>archive &amp; mData;</code> vs <code>archive &amp; BOOST_SERIALIZATION_NVP(mData);</code></li>\n</ul>\n\n<p>Ditto</p>\n\n<ul>\n<li>The usefulness of <code>BOOST_SERIALIZATION_ASSUME_ABSTRACT(AbstractPoint);</code></li>\n</ul>\n\n<p>I assume it will merely be an optimization - suppressing registered type information with each archive type, since you told the framework it will never be de-serializing instances of the type</p>\n\n<ul>\n<li>Requiring <code>serialize()</code> for a class in the hierarchy that doesn't need to serialize anything.</li>\n</ul>\n\n<p>You don't need it, unless you need the type information about a polymorphic base there. When do you need that? When you need to de-serialize pointers of the base type.</p>\n\n<p>Hence, if you have </p>\n\n<pre><code>struct A{ virtual ~A(); };\nstruct B:A{};\n\nstruct C:B{};\nstruct D:B{};` \n</code></pre>\n\n<p>you <em>will</em> need serialization for <code>A</code> (but not <code>B</code>) if you (de)serialize <code>A*</code>. You will need serialization for <code>B</code> if you (de)serialize <code>B*</code>.</p>\n\n<p>Similarly, if your type is not polymorphic (virtual) or you don't use it as such, you don't need any base serialization (e.g. if you (de)serialize <code>C</code> or <code>D</code> directly). </p>\n\n<p>Finally, if you have <code>struct A{}; struct B:A{};</code> there is no need to tell Boost Serialization about the base type at all, (you could just do the serialization from within <code>B</code>).</p>\n\n<h2>Update in response to your samples:</h2>\n\n<ol>\n<li><a href=\"http://coliru.stacked-crooked.com/a/d22dc9f69356feaf\" rel=\"nofollow\">case1.cpp</a> looks ok</li>\n<li><p><a href=\"http://coliru.stacked-crooked.com/a/8a3958a630b507e6\" rel=\"nofollow\">case2.cpp</a> <strong>needs</strong> to call base serialization, of course; not necessarily using base_object because you require polymorphic serialization:</p>\n\n<pre><code>template&lt;class TArchive&gt; void serialize(TArchive&amp; archive, unsigned) {\n    archive &amp; boost::serialization::base_object&lt;AbstractPoint&gt;(*this)\n            &amp; mData;\n    // OR:\n    archive &amp; static_cast&lt;AbstractPoint&amp;&gt;(*this) \n            &amp; mData;\n    // OR even just:\n    archive &amp; mParentData \n            &amp; mData;\n}\n</code></pre></li>\n<li><p><a href=\"http://coliru.stacked-crooked.com/a/45257bf4a4aeb9e8\" rel=\"nofollow\">case3.cpp</a>: indeed, it's exactly like case1, but with dynamic allocation and object tracking</p></li>\n<li><p><a href=\"http://coliru.stacked-crooked.com/a/f6ffb1329dc696cd\" rel=\"nofollow\">case4.cpp</a>: is exactly like case1, but with dynamic allocation and object tracking; <strong>NB!!</strong> it requires explicitly serializing for the base! </p>\n\n<pre><code>template&lt;class TArchive&gt; void serialize(TArchive&amp; archive, unsigned) {\n    archive &amp; boost::serialization::base_object&lt;AbstractPoint&gt;(*this)\n            &amp; mData;\n}\n</code></pre></li>\n<li><p><a href=\"http://coliru.stacked-crooked.com/a/e5eed5a5ba9d7e16\" rel=\"nofollow\">case5.cpp</a>: yes, but it's more typical to use the <code>CLASS_EXPORT*</code> macros from <code>boost/serialization/export.hpp</code></p></li>\n</ol>\n\n<blockquote>\n  <p>Bitrot insurance: </p>\n  \n  <ul>\n  <li><a href=\"http://paste.ubuntu.com/15269929/\" rel=\"nofollow\">case1.cpp</a></li>\n  <li><a href=\"http://paste.ubuntu.com/15269931/\" rel=\"nofollow\">case2.cpp</a></li>\n  <li><a href=\"http://paste.ubuntu.com/15269932/\" rel=\"nofollow\">case3.cpp</a></li>\n  <li><a href=\"http://paste.ubuntu.com/15269933/\" rel=\"nofollow\">case4.cpp</a></li>\n  <li><a href=\"http://paste.ubuntu.com/15269939/\" rel=\"nofollow\">case5.cpp</a></li>\n  </ul>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "is_accepted": false, "score": 1, "last_activity_date": 1456949203, "creation_date": 1456949203, "answer_id": 35757067, "question_id": 35753953, "link": "https://stackoverflow.com/questions/35753953/common-confusions-with-serializing-polymorphic-types/35757067#35757067", "title": "Common confusions with serializing polymorphic types", "body": "<p>Following @sehe's advice, here are some example uses:</p>\n\n<p><strong>Serialize derived class object, not forwarding to parent</strong></p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n};\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        archive &amp; mData;\n    }\n\n    double mData;\n};\n\nint main()\n{\n    Point point(7.4);\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    Point pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive &gt;&gt; pointRead;\n\n    std::cout &lt;&lt; pointRead.mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Serialize derived class object, including (automatic) forwarding to parent:</strong></p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n\n    double mParentData = 3.1;\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        archive &amp; mParentData;\n    }\n};\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        // this is not required, the parent serialize() seems to be called automatically\n        // archive &amp; boost::serialization::base_object&lt;AbstractPoint&gt;(*this);\n\n        archive &amp; mData;\n    }\n\n    double mData;\n};\n\nint main()\n{\n    Point point(7.4);\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    Point pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive &gt;&gt; pointRead;\n\n    std::cout &lt;&lt; pointRead.mParentData &lt;&lt; std::endl;\n    std::cout &lt;&lt; pointRead.mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Serialize derived class pointer, not forwarding to parent</strong>\n(note nothing changes from the object case)</p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n#include &lt;boost/serialization/shared_ptr.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n};\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        archive &amp; mData;\n    }\n\n    double mData;\n};\n\nint main()\n{\n    std::shared_ptr&lt;Point&gt; point(new Point(7.4));\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    std::shared_ptr&lt;Point&gt; pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive &gt;&gt; pointRead;\n\n    std::cout &lt;&lt; pointRead-&gt;mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Serialize derived class pointer, forwarding to parent</strong>\n(note nothing changes from the object case)</p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n#include &lt;boost/serialization/shared_ptr.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        archive &amp; mParentData;\n    }\n\n    double mParentData = 3.1;\n};\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        archive &amp; mData;\n    }\n\n    double mData;\n};\n\nint main()\n{\n    std::shared_ptr&lt;Point&gt; point(new Point(7.4));\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    std::shared_ptr&lt;Point&gt; pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive &gt;&gt; pointRead;\n\n    std::cout &lt;&lt; pointRead-&gt;mParentData &lt;&lt; std::endl;\n    std::cout &lt;&lt; pointRead-&gt;mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p><strong>Serialize base class pointer</strong> \n(We now have to register the type of the derived class with the archives, as well as use <code>boost::serialization::base_object</code>)</p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n#include &lt;boost/serialization/shared_ptr.hpp&gt;\n#include &lt;boost/serialization/base_object.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n\n    // This is required if we want to serialize an AbstractPoint pointer\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        // do nothing\n    }\n};\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        // Without this, we get unregistered void cast\n        archive &amp; boost::serialization::base_object&lt;AbstractPoint&gt;(*this);\n\n        archive &amp; mData;\n    }\n\n    double mData;\n};\n\nint main()\n{\n    std::shared_ptr&lt;AbstractPoint&gt; point(new Point(7.4));\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive.register_type&lt;Point&gt;();\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    std::shared_ptr&lt;AbstractPoint&gt; pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive.register_type&lt;Point&gt;();\n    inputArchive &gt;&gt; pointRead;\n\n    std::shared_ptr&lt;Point&gt; castedPoint = std::dynamic_pointer_cast&lt;Point&gt;(pointRead);\n    std::cout &lt;&lt; castedPoint-&gt;mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 8839, "user_id": 284529, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/18c27850f3d5b3dd62373e839c3a09ea?s=128&d=identicon&r=PG", "display_name": "David Doria", "link": "https://stackoverflow.com/users/284529/david-doria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 35756430, "answer_count": 2, "score": 3, "last_activity_date": 1456958053, "creation_date": 1456939110, "question_id": 35753953, "link": "https://stackoverflow.com/questions/35753953/common-confusions-with-serializing-polymorphic-types", "title": "Common confusions with serializing polymorphic types", "body": "<p>I have seen many questions, tutorials, and documentation involving serializing derived classes, and I haven't been able to reach a consensus on several issues, including (and illustrated in the following code):</p>\n\n<ul>\n<li><code>boost::serialization::base_object</code> vs <code>BOOST_SERIALIZATION_BASE_OBJECT_NVP</code></li>\n<li><code>archive &amp; mData;</code> vs <code>archive &amp; BOOST_SERIALIZATION_NVP(mData);</code></li>\n<li>The usefulness of <code>BOOST_SERIALIZATION_ASSUME_ABSTRACT(AbstractPoint);</code></li>\n<li>Requiring <code>serialize()</code> for a class in the hierarchy that doesn't need to serialize anything.</li>\n</ul>\n\n<p>Code:</p>\n\n<pre><code>#include &lt;boost/archive/text_oarchive.hpp&gt;\n#include &lt;boost/archive/text_iarchive.hpp&gt;\n#include &lt;boost/serialization/shared_ptr.hpp&gt;\n#include &lt;boost/serialization/base_object.hpp&gt;\n\n#include &lt;fstream&gt;\n\nclass AbstractPoint\n{\npublic:\n    virtual ~AbstractPoint(){}\n    virtual void DoSomething() = 0;\n\n    // Even though the class is abstract, we still need this\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        // do nothing\n    }\n};\n\n// This doesn't seem to do anything\n//BOOST_SERIALIZATION_ASSUME_ABSTRACT(AbstractPoint);\n\nclass Point : public AbstractPoint\n{\npublic:\n    Point() = default;\n    Point(const double data) : mData(data) {}\n\n    void DoSomething(){}\n\n    template&lt;class TArchive&gt;\n    void serialize(TArchive&amp; archive, const unsigned int version)\n    {\n        // These two seem equivalent. Without one of them, unregistered void cast\n        archive &amp; boost::serialization::base_object&lt;AbstractPoint&gt;(*this);\n        //archive &amp; BOOST_SERIALIZATION_BASE_OBJECT_NVP(AbstractPoint);\n\n        // These two seem equivalent\n        archive &amp; mData;\n        //archive &amp; BOOST_SERIALIZATION_NVP(mData);\n    }\n\n    double mData;\n};\n\nint main()\n{\n    std::shared_ptr&lt;AbstractPoint&gt; point(new Point(7.4));\n\n    std::ofstream outputStream(\"test.txt\");\n    boost::archive::text_oarchive outputArchive(outputStream);\n    outputArchive.register_type&lt;Point&gt;();\n    outputArchive &lt;&lt; point;\n    outputStream.close();\n\n    std::shared_ptr&lt;AbstractPoint&gt; pointRead;\n    std::ifstream inputStream(\"test.txt\");\n    boost::archive::text_iarchive inputArchive(inputStream);\n    inputArchive.register_type&lt;Point&gt;();\n    inputArchive &gt;&gt; pointRead;\n\n    std::shared_ptr&lt;Point&gt; castedPoint = std::dynamic_pointer_cast&lt;Point&gt;(pointRead);\n    std::cout &lt;&lt; castedPoint-&gt;mData &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>The other major issue is where to register classes in a \"real\" environment (when there is linking, etc.), but that seems worth a separate question.</p>\n\n<p>It would be great to have a \"gold standard\" example of these kinds of things in the documentation, but at the least on StackOverflow :)</p>\n"}, {"tags": ["c++", "templates", "g++", "c++14", "sfinae"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1456939397, "post_id": 35753920, "comment_id": 59181256, "body": "Are you using 4.9.0 or is it higher than that?  I have seen some bugs in 4.9.0 that were fixed if you go to 4.9.2."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456939919, "post_id": 35753920, "comment_id": 59181591, "body": "Well that was all I could contribute.  if it makes you fell any better it works on clang too."}, {"owner": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 2, "creation_date": 1456939924, "post_id": 35753920, "comment_id": 59181597, "body": "This has at least been filed as a <a href=\"https://gcc.gnu.org/ml/gcc-bugs/2014-12/msg02669.html\" rel=\"nofollow noreferrer\">bug in version 4.9.2</a>."}, {"owner": {"reputation": 5128, "user_id": 152060, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4b0bc5fee5f02e4d117db039b47528dc?s=128&d=identicon&r=PG", "display_name": "Daisy Sophia Hollman", "link": "https://stackoverflow.com/users/152060/daisy-sophia-hollman"}, "reply_to_user": {"reputation": 2971, "user_id": 4975646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XzXhmdjjKB0/AAAAAAAAAAI/AAAAAAAAAeg/9rsygRfbVyk/photo.jpg?sz=128", "display_name": "callyalater", "link": "https://stackoverflow.com/users/4975646/callyalater"}, "edited": false, "score": 0, "creation_date": 1456940110, "post_id": 35753920, "comment_id": 59181705, "body": "Oh, wonderful @callyalater.  It&#39;s good to know I&#39;m not using the language incorrectly.  Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 22, "last_activity_date": 1456940807, "last_edit_date": 1456940807, "creation_date": 1456940694, "answer_id": 35754473, "question_id": 35753920, "link": "https://stackoverflow.com/questions/35753920/why-does-the-void-t-detection-idiom-not-work-with-gcc-4-9/35754473#35754473", "title": "Why does the void_t&lt;&gt; detection idiom not work with gcc-4.9?", "body": "<p>This comes about as a result of <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1558\">CWG Issue 1558</a>, and is now considered a bug in gcc (specifically <a href=\"https://gcc.gnu.org/bugzilla/show_bug.cgi?id=64395\">64395</a> - currently fixed). The idea behind the issue is that since you don't actually use the template parameters here:</p>\n\n<pre><code>template &lt;typename...&gt; using void_t = void;\n</code></pre>\n\n<p>there's no substitution failure regardless of what types or expressions you try to pass in. </p>\n\n<p>Thankfully, there's an easy workaround that doesn't involve upgrading your compiler. We can rewrite <code>void_t</code> to actually use its parameter pack, thereby triggering the substitution failure:</p>\n\n<pre><code>namespace void_details {\n    template &lt;class... &gt;\n    struct make_void { using type = void; };\n}\n\ntemplate &lt;class... T&gt; using void_t = typename void_details ::make_void&lt;T...&gt;::type;\n</code></pre>\n\n<p>That'll make your example do the right thing across all the gcc versions I tried. </p>\n"}], "owner": {"reputation": 5128, "user_id": 152060, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4b0bc5fee5f02e4d117db039b47528dc?s=128&d=identicon&r=PG", "display_name": "Daisy Sophia Hollman", "link": "https://stackoverflow.com/users/152060/daisy-sophia-hollman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 3, "closed_date": 1472204468, "accepted_answer_id": 35754473, "answer_count": 1, "score": 14, "last_activity_date": 1456940807, "creation_date": 1456938994, "last_edit_date": 1456940445, "question_id": 35753920, "link": "https://stackoverflow.com/questions/35753920/why-does-the-void-t-detection-idiom-not-work-with-gcc-4-9", "closed_reason": "Duplicate", "title": "Why does the void_t&lt;&gt; detection idiom not work with gcc-4.9?", "body": "<p>Consider the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n\nstruct Test { Test&amp; operator++(); };\nstruct NoIncrement { };\n\ntemplate &lt;typename...&gt; using void_t = void;\n\ntemplate &lt;class, class=void_t&lt;&gt;&gt;\nstruct has_pre_increment_member : std::false_type { };\n\ntemplate &lt;class T&gt;\nstruct has_pre_increment_member&lt;T, void_t&lt;decltype( ++std::declval&lt;T&amp;&gt;() )&gt;&gt;\n  : public std::true_type { };\n\nint main() {\n  std::cout &lt;&lt; has_pre_increment_member&lt;Test&gt;::value &lt;&lt; \" \";\n  std::cout &lt;&lt; has_pre_increment_member&lt;NoIncrement&gt;::value &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>With g++ version 5 and later (and the -std=c++14 flag, of course), this code outputs</p>\n\n<pre><code>1 0\n</code></pre>\n\n<p>as it should.  With g++ version 4.9 (and the -std=c++14 flag), however, it outputs</p>\n\n<pre><code>1 1\n</code></pre>\n\n<p>Both claim to be using the same language standard, so what's the issue here?</p>\n"}, {"tags": ["c++", "boost", "enums", "c-preprocessor"], "answers": [{"comments": [{"owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "edited": false, "score": 0, "creation_date": 1457005802, "post_id": 35755736, "comment_id": 59214112, "body": "I spoke too soon.  It works fine with GCC and clang but not with MSVC.  I&#39;ve not yet found a workaround to make this work with VC++."}], "tags": [], "owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "is_accepted": false, "score": 1, "last_activity_date": 1456944815, "creation_date": 1456944815, "answer_id": 35755736, "question_id": 35753893, "link": "https://stackoverflow.com/questions/35753893/using-boost-pp-seq-foreach-r-to-recursively-process-enums/35755736#35755736", "title": "Using BOOST_PP_SEQ_FOREACH_R to recursively process enums", "body": "<p>I found a workaround in <a href=\"https://groups.google.com/forum/#!topic/boost-devel-archive/Tbcs4nn4sPE\" rel=\"nofollow\">https://groups.google.com/forum/#!topic/boost-devel-archive/Tbcs4nn4sPE</a> which gives this solution:</p>\n\n<pre><code>#include &lt;boost/preprocessor.hpp&gt;\n#include &lt;iostream&gt;\n\n#define LASERTYPE_VALUES (EXCIMER)(GAS)(METALVAPOR)(SOLIDSTATE)(DYE)(SEMICONDUCTOR)(FREEELECTRON)(OTHER)\n\nenum LaserType\n{\n  BOOST_PP_SEQ_ENUM(LASERTYPE_VALUES)\n};\n\n#define PP_SEQ_FOR_EACH_R_ID() BOOST_PP_SEQ_FOR_EACH_R \n#define PP_DEFER(x) x BOOST_PP_EMPTY()\n\n#define LT_NESTED(maR, maToplevelType, maNestedType)                    \\\n  std::cout &lt;&lt; \"Test nested: first=\" &lt;&lt; LaserType(maToplevelType) &lt;&lt; \" second=\" &lt;&lt; LaserType(maNestedType) &lt;&lt; \" \\n\";\n\n#define LT_TOPLEVEL(maR, maUnused, maType)                              \\\n  std::cout &lt;&lt; \"Test toplevel: \" &lt;&lt; LaserType(maType) &lt;&lt; \" \\n\";         \\\n  PP_DEFER(PP_SEQ_FOR_EACH_R_ID)()(maR, LT_NESTED, maType, LASERTYPE_VALUES);\n\nint main() {\n  BOOST_PP_EXPAND(BOOST_PP_SEQ_FOR_EACH(LT_TOPLEVEL, %%, LASERTYPE_VALUES));\n}\n</code></pre>\n\n<p>It's a bit esoteric but it compiles and functions as required.</p>\n"}], "owner": {"reputation": 459, "user_id": 2647431, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/eeb2499381257d7f7f76cc6c4bda29aa?s=128&d=identicon&r=PG", "display_name": "Roger Leigh", "link": "https://stackoverflow.com/users/2647431/roger-leigh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456944815, "creation_date": 1456938904, "last_edit_date": 1495535285, "question_id": 35753893, "link": "https://stackoverflow.com/questions/35753893/using-boost-pp-seq-foreach-r-to-recursively-process-enums", "title": "Using BOOST_PP_SEQ_FOREACH_R to recursively process enums", "body": "<p>Related to my question <a href=\"https://stackoverflow.com/questions/35360908/alternative-to-expanding-templates-in-a-switch-statement/\">Alternative to expanding templates in a switch statement</a> trying to get Boost.Preprocessor to do a nested interation over a sequence.</p>\n\n<pre><code>#include &lt;boost/preprocessor.hpp&gt;\n#include &lt;iostream&gt;\n\n#define LASERTYPE_VALUES (EXCIMER)(GAS)(METALVAPOR)(SOLIDSTATE)(DYE)(SEMICONDUCTOR)(FREEELECTRON)(OTHER)\n\nenum LaserType\n{\n  BOOST_PP_SEQ_ENUM(LASERTYPE_VALUES)\n};\n\n#define LT_NESTED(maR, maToplevelType, maNestedType)                    \\\n  std::cout &lt;&lt; \"Test nested: first=\" &lt;&lt; LaserType(maToplevelType) &lt;&lt; \" second=\" &lt;&lt; LaserType(maNestedType) &lt;&lt; \" \\n\";\n\n#define LT_TOPLEVEL(maR, maUnused, maType)                              \\\n  std::cout &lt;&lt; \"Test toplevel: \" &lt;&lt; LaserType(maType) &lt;&lt; \" \\n\";         \\\n  BOOST_PP_SEQ_FOR_EACH_R(maR, LT_NESTED, maType, LASERTYPE_VALUES);\n\nint main() {\n  BOOST_PP_SEQ_FOR_EACH(LT_TOPLEVEL, %%, LASERTYPE_VALUES);\n}\n</code></pre>\n\n<p>This leads to this error:</p>\n\n<pre><code>test-pp.cpp: In function \u2018int main()\u2019:\ntest-pp.cpp:15:32: error: \u2018LT_NESTED\u2019 was not declared in this scope\n   BOOST_PP_SEQ_FOR_EACH_R(maR, LT_NESTED, maType, LASERTYPE_VALUES);\n                                ^\n/usr/include/boost/preprocessor/seq/for_each.hpp:49:57: note: in expansion of macro \u2018LT_TOPLEVEL\u2019\n # define BOOST_PP_SEQ_FOR_EACH_M_I(r, macro, data, seq) macro(r, data, BOOST_PP_SEQ_HEAD(seq))\n                                                         ^\ntest-pp.cpp:4:39: error: \u2018EXCIMER\u2019 cannot be used as a function\n #define LASERTYPE_VALUES (EXCIMER)(GAS)(METALVAPOR)(SOLIDSTATE)(DYE)(SEMICONDUCTOR)(FREEELECTRON)(OTHER)\n                                       ^\ntest-pp.cpp:15:51: note: in expansion of macro \u2018LASERTYPE_VALUES\u2019\n   BOOST_PP_SEQ_FOR_EACH_R(maR, LT_NESTED, maType, LASERTYPE_VALUES);\n</code></pre>\n\n<p>Reordering the macros doesn't help.  There's something fundamentally wrong here, and it's likely trivial, but I haven't yet figured out how to do this and haven't seen any decent examples.  If anyone had any suggestions, I'd be very interested to know what I'm doing wrong here.</p>\n\n<p><a href=\"https://groups.google.com/forum/#!topic/boost-list/jhN4NE9VAtg\" rel=\"nofollow noreferrer\">https://groups.google.com/forum/#!topic/boost-list/jhN4NE9VAtg</a> indicates that I might be running into reentrancy problems.  It looks like I might be able to use BOOST_PP_FOR directly for the top level macro perhaps.  If anyone had an example of that, it would be really useful.</p>\n"}, {"tags": ["c++", "recursion"], "comments": [{"owner": {"reputation": 36985, "user_id": 749284, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9939c97c2ccc2f1f6b829e9afbc32e5b?s=128&d=identicon&r=PG", "display_name": "mah", "link": "https://stackoverflow.com/users/749284/mah"}, "edited": false, "score": 0, "creation_date": 1456938957, "post_id": 35753841, "comment_id": 59180971, "body": "There are multiple ways you can produce the count. What problem are you trying to solve which is not already solved here? If you&#39;re looking for an opinion on how to go about the solution, you&#39;ve come to the wrong site."}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 1, "creation_date": 1456938984, "post_id": 35753841, "comment_id": 59180989, "body": "<code>return DivByTwo(node.left) + (node.key % 2 == 0 ? 1 : 0) + DivByTwo(node.right)</code>"}, {"owner": {"reputation": 35, "user_id": 4713819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkdCa.jpg?s=128&g=1", "display_name": "lisolm", "link": "https://stackoverflow.com/users/4713819/lisolm"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1456939317, "post_id": 35753841, "comment_id": 59181205, "body": "@Phylogenesis , thank you! That makes more sense... I guess the problem still arises when you need to determine increments based on other info you need to return, but this helps with a more basic case."}, {"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1456939543, "post_id": 35753841, "comment_id": 59181336, "body": "Partitioning an algorithm like this is something that only really comes with practice. At some point you learn how to reduce a problem to an end case and a reduction step (In this case, the empty tree has no even numbers, and every other tree reduces to the number of even numbers in the subtrees added to whether the value in the current node is even)."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4713819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkdCa.jpg?s=128&g=1", "display_name": "lisolm", "link": "https://stackoverflow.com/users/4713819/lisolm"}, "edited": false, "score": 0, "creation_date": 1456939506, "post_id": 35753926, "comment_id": 59181315, "body": "Thanks for the info! That might be a little much for the current problem, but its something I&#39;ll look into for later on. :)"}], "tags": [], "owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1456939011, "creation_date": 1456939011, "answer_id": 35753926, "question_id": 35753841, "link": "https://stackoverflow.com/questions/35753841/incrementing-in-a-recursive-function/35753926#35753926", "title": "Incrementing in a recursive function", "body": "<p>Passing the counter by reference works and is a reasonable \"small\" solution.  If you want a more formal, more complex, but more adaptable to future needs solution consider implementing the visitor pattern which is described in many places on the net including <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow\" title=\"here\">in Wikipedia</a></p>\n"}, {"comments": [{"owner": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1456939174, "post_id": 35753937, "comment_id": 59181107, "body": "You also need to check <code>node == null</code> and return 0, but this would be the canonical recursive method."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1456939221, "post_id": 35753937, "comment_id": 59181143, "body": "BTW - the reason your way (OP) with counter++ failed is because when you pass counter into divbytwo function it gets its own copy of counter that gets destroyed on exit"}, {"owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "reply_to_user": {"reputation": 7115, "user_id": 2347483, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80792d6741e11aaa6bec5f80fcc30a9c?s=128&d=identicon&r=PG", "display_name": "Phylogenesis", "link": "https://stackoverflow.com/users/2347483/phylogenesis"}, "edited": false, "score": 0, "creation_date": 1456939293, "post_id": 35753937, "comment_id": 59181185, "body": "@Phylogenesis: The provided code didn&#39;t, I assume to avoid extra clutter?, so I just provided the basic solution to the mentioned problem, but yes, checking for null is going to be necessary in the actual code."}, {"owner": {"reputation": 35, "user_id": 4713819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkdCa.jpg?s=128&g=1", "display_name": "lisolm", "link": "https://stackoverflow.com/users/4713819/lisolm"}, "edited": false, "score": 0, "creation_date": 1456939607, "post_id": 35753937, "comment_id": 59181382, "body": "Thank you, this is exactly what I needed. I&#39;m still fairly new to recursion, and keeping track of info is kinda bugging me out."}], "tags": [], "owner": {"reputation": 2082, "user_id": 5849470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/270b9a87f8f1cba83d545b6e601337ea?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Jordan", "link": "https://stackoverflow.com/users/5849470/matt-jordan"}, "is_accepted": true, "score": 5, "last_activity_date": 1456939051, "creation_date": 1456939051, "answer_id": 35753937, "question_id": 35753841, "link": "https://stackoverflow.com/questions/35753841/incrementing-in-a-recursive-function/35753937#35753937", "title": "Incrementing in a recursive function", "body": "<p>Here is a way to avoid passing a ref parameter, although it requires being able to return a value (you don't include any type info, so I took a best guess at your types):</p>\n\n<pre><code>int DivByTwo(NodeType node){\n    int result = DivByTwo(node.left) + DivByTwo(node.right);\n    if(node.key % 2 == 0)\n        result += 1;\n    return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5321, "user_id": 157726, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/PY0sR.png?s=128&g=1", "display_name": "Juan Leni", "link": "https://stackoverflow.com/users/157726/juan-leni"}, "is_accepted": false, "score": 0, "last_activity_date": 1456951985, "last_edit_date": 1456951985, "creation_date": 1456939215, "answer_id": 35753984, "question_id": 35753841, "link": "https://stackoverflow.com/questions/35753841/incrementing-in-a-recursive-function/35753984#35753984", "title": "Incrementing in a recursive function", "body": "<p>You could do it by returning the result:</p>\n\n<pre><code>int DivByTwo(Node *node) {\n   if (node == null_ptr)\n       return 0;\n\n   return DivByTwo(node-&gt;left) + DivByTwo(node-&gt;right) + (node-&gt;key%2==0);\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 4713819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kkdCa.jpg?s=128&g=1", "display_name": "lisolm", "link": "https://stackoverflow.com/users/4713819/lisolm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1356, "favorite_count": 0, "accepted_answer_id": 35753937, "answer_count": 3, "score": 0, "last_activity_date": 1456951985, "creation_date": 1456938763, "question_id": 35753841, "link": "https://stackoverflow.com/questions/35753841/incrementing-in-a-recursive-function", "title": "Incrementing in a recursive function", "body": "<p>While working through tree-processing problems, I'm confused about best way to approach storing the number of instances a certain pattern has been observed.</p>\n\n<p>For example, say I want to return the number of times of number in a Binary Search Tree is divisible by 2. I would walk through the tree recursively, check each key if it was divisible by two, and increment a counter. </p>\n\n<p>Right now, the only way I can think to store this counter is by reference.\nFor example:</p>\n\n<pre><code>DivByTwo(node, counter) {\n    DivByTwo(node.left, counter)\n    DivByTwo(node.right, counter)\n\n    if (node.key % 2 == 0) \n      counter ++\n}\n</code></pre>\n\n<p>And after this is finished, the value of counter will be the number of keys divisible by 2. Is this a proper way to approach this problem? Is there a better way to capture this data without forcing the user to pass some variable by reference?</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 0, "creation_date": 1456938835, "post_id": 35753790, "comment_id": 59180891, "body": "<a href=\"https://ideone.com/Ia3csX\" rel=\"nofollow noreferrer\">Unable to Reproduce</a>"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1456938876, "post_id": 35753790, "comment_id": 59180919, "body": "<a href=\"http://ideone.com/JHyqD9\" rel=\"nofollow noreferrer\">Cannot reproduce</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456938887, "post_id": 35753790, "comment_id": 59180934, "body": "<a href=\"http://coliru.stacked-crooked.com/a/8c6939905f6a28ec\" rel=\"nofollow noreferrer\">Cannot reproduce</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456939456, "post_id": 35753790, "comment_id": 59181286, "body": "<a href=\"http://coliru.stacked-crooked.com/a/8c6939905f6a28ec\" rel=\"nofollow noreferrer\">404: reproduction not found</a>"}, {"owner": {"reputation": 2505, "user_id": 5552022, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kDe2K.png?s=128&g=1", "display_name": "Omar Aflak", "link": "https://stackoverflow.com/users/5552022/omar-aflak"}, "edited": false, "score": 0, "creation_date": 1456939476, "post_id": 35753790, "comment_id": 59181295, "body": "Strange... <a href=\"http://i.imgur.com/nurV2Ez.png?1\" rel=\"nofollow noreferrer\">i.imgur.com/nurV2Ez.png?1</a>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1456939568, "post_id": 35753790, "comment_id": 59181351, "body": "I would suggest that you step through your code and see what is going on then.  I do not think we are going to be able to help much."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 3, "creation_date": 1456939663, "post_id": 35753790, "comment_id": 59181425, "body": "I bet this has something to do with available <code>pow</code> overloads. Knowing your GCC version wouldn&#39;t hurt \u2014 you should also generally include all this information (including all includes!!) in your questions."}, {"owner": {"reputation": 94, "user_id": 5530296, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0SDbSJmRQiA/AAAAAAAAAAI/AAAAAAAAADI/QhLDyPIH4EM/photo.jpg?sz=128", "display_name": "WingedPanther73", "link": "https://stackoverflow.com/users/5530296/wingedpanther73"}, "edited": false, "score": 0, "creation_date": 1456939690, "post_id": 35753790, "comment_id": 59181438, "body": "Noticing that you&#39;re in code::blocks 13.12, I wonder if it&#39;s a compiler-specific error. That raises the question: what compiler are you using? You&#39;re on windows using something identified as GCC, but we don&#39;t know details."}, {"owner": {"reputation": 2505, "user_id": 5552022, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kDe2K.png?s=128&g=1", "display_name": "Omar Aflak", "link": "https://stackoverflow.com/users/5552022/omar-aflak"}, "edited": false, "score": 0, "creation_date": 1456939822, "post_id": 35753790, "comment_id": 59181528, "body": "The error appears at the second addition: <a href=\"http://i.imgur.com/1PTJQxY.png?1\" rel=\"nofollow noreferrer\">i.imgur.com/1PTJQxY.png?1</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1456940491, "post_id": 35753790, "comment_id": 59181939, "body": "off topic performance note: <code>pow</code> is designed to handle weird stuff like 3.14 to the power of 1/2.78. If you are <code>pow</code>ing integers, it&#39;s almost always faster to multiply. In this case, <code>x*=10; x+=v[i];</code> replaces <code>x+=v[i]*pow(10, v.size()-1-i);</code> with far less overhead and fuss (but requires brackets around the body of the <code>for</code>). `"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1456940973, "post_id": 35753790, "comment_id": 59182261, "body": "addendum to @PreferenceBean ;&#39;s comment. Try removing <code>using namespace std;</code> or stating <code>::pow</code> to force the compiler to use <code>pow</code> in place of <code>std::pow</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2505, "user_id": 5552022, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kDe2K.png?s=128&g=1", "display_name": "Omar Aflak", "link": "https://stackoverflow.com/users/5552022/omar-aflak"}, "edited": false, "score": 0, "creation_date": 1456940332, "post_id": 35754152, "comment_id": 59181839, "body": "Thank you, the first one works good for me! I will remember that, even if I still don&#39;t understand why the error occurred..."}, {"owner": {"reputation": 32321, "user_id": 173397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pqKT8.jpg?s=128&g=1", "display_name": "pm100", "link": "https://stackoverflow.com/users/173397/pm100"}, "edited": false, "score": 0, "creation_date": 1456945815, "post_id": 35754152, "comment_id": 59185323, "body": "the reason it fails is because floating point number math (pow is floating point) on computers is not exact"}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 4, "last_activity_date": 1456939727, "creation_date": 1456939727, "answer_id": 35754152, "question_id": 35753790, "link": "https://stackoverflow.com/questions/35753790/strange-vectorint-to-int-c/35754152#35754152", "title": "Strange: vector&lt;int&gt; to int C++", "body": "<p>I can't imagine it leading to the problem you've cited, but the way you're doing the conversion is pretty ugly, and involves floating point math, so it could lead to at least some degree of inaccuracy in some cases.</p>\n\n<p>You could eliminate that particular problem by doing the conversion a little differently. For example:</p>\n\n<pre><code>int toInt(vector&lt;int&gt; const &amp;v) { // pass by reference to avoid copying\n    int ret = 0;\n    for (int i=0; i&lt;v.size(); i++)\n        ret = 10 * ret + v[i];\n    return ret;\n}\n</code></pre>\n\n<p>Or, you could use the standard library to handle more of the work for you:</p>\n\n<pre><code>int toInt(vector&lt;int&gt; const &amp;v) { // pass by reference to avoid copying\n    return std::accumulate(v.begin(), v.end(), \n               0, \n               [](int v, int digit) { return 10 * v + digit; });\n}\n</code></pre>\n\n<p>Of course, this is still limited to values that will fit in an <code>int</code>--around 2 billion for a typical 32-bit <code>int</code>, for example.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 3040351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42a955087f2c572813046770eb0a2abd?s=128&d=identicon&r=PG&f=1", "display_name": "idler1515", "link": "https://stackoverflow.com/users/3040351/idler1515"}, "is_accepted": false, "score": 0, "last_activity_date": 1456940699, "creation_date": 1456940699, "answer_id": 35754476, "question_id": 35753790, "link": "https://stackoverflow.com/questions/35753790/strange-vectorint-to-int-c/35754476#35754476", "title": "Strange: vector&lt;int&gt; to int C++", "body": "<p>Your code works fine on my computer</p>\n\n<pre><code>uint32_t toInt(vector&lt;int&gt; v)\n{\n    uint32_t x=0;\n    for(int i=0 ; i&lt;v.size() ; i++)\n        x+=v[i]*pow(10, v.size()-1-i);\n\n    return x;\n}\nint main(){\n    int myints[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n    vector&lt;int&gt; v (myints, myints + sizeof(myints) / sizeof(int) );\n    cout &lt;&lt; toInt(v) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>which excute like:</p>\n\n<blockquote>\n  <p>./test\n  123456789\n  Exit code: 0</p>\n</blockquote>\n\n<p>This computer is old and runs c++98 but I dont see any reason your program doesn't work. Check your memory for overflow maybe.</p>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1456941692, "last_edit_date": 1495542671, "creation_date": 1456941692, "answer_id": 35754774, "question_id": 35753790, "link": "https://stackoverflow.com/questions/35753790/strange-vectorint-to-int-c/35754774#35754774", "title": "Strange: vector&lt;int&gt; to int C++", "body": "<p>The exact cause of this I'm unable to reproduce, but one simple solution is to not use <code>pow</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nuint32_t toInt(std::vector&lt;int&gt; v)\n{\n    uint32_t x=0;\n    for(size_t i=0 ; i&lt;v.size() ; i++)\n    {\n        x*=10; \n        x+=v[i];\n    }\n    return x;\n}\n\nint main()\n{\n    std::vector&lt;int&gt; v = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n    std::cout &lt;&lt; toInt(v) &lt;&lt; std::endl; \n}\n</code></pre>\n\n<h1>On <code>pow</code></h1>\n\n<p><code>pow</code> is designed to compute powers of floating point numbers and as a result it does some complex and expensive things. If you are merely getting the power of an integer to an integer, it is almost always faster to multiply.</p>\n\n<p><code>pow</code> and <code>std::pow</code> are subtly different. <code>std::pow</code> is a templated beast that ultimately calls <code>pow</code>, but only after playing casting games with the input data types and can lead to odd results. Case in point, what this questioner ran into: <a href=\"https://stackoverflow.com/questions/33187956/c-pow-unusual-type-conversion\">C++ pow unusual type conversion</a></p>\n\n<p>This is but one of the many ways <code>using namespace std;</code> can get you. You might be surprised by which <code>pow</code> the compiler selected. Read more here: <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">Why is &quot;using namespace std&quot; considered bad practice?</a></p>\n"}], "owner": {"reputation": 2505, "user_id": 5552022, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/kDe2K.png?s=128&g=1", "display_name": "Omar Aflak", "link": "https://stackoverflow.com/users/5552022/omar-aflak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 35754152, "answer_count": 3, "score": 0, "last_activity_date": 1456942587, "creation_date": 1456938603, "last_edit_date": 1456940431, "question_id": 35753790, "link": "https://stackoverflow.com/questions/35753790/strange-vectorint-to-int-c", "title": "Strange: vector&lt;int&gt; to int C++", "body": "<p>I am trying to convert a vector of int to an int. This is how I proceed:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cmath&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nuint32_t toInt(vector&lt;int&gt; v)\n{\n    uint32_t x=0;\n    for(int i=0 ; i&lt;v.size() ; i++)\n        x+=v[i]*pow(10, v.size()-1-i);\n\n    return x;\n}\n\nint main()\n{\n    vector&lt;int&gt; v = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9};\n    cout &lt;&lt; toInt(v) &lt;&lt; endl; // displays: 123456787 (???)\n}\n</code></pre>\n\n<p>The program should output 123456789, but instead I have 12345678(!)7(!).</p>\n\n<p>I am using <strong>GCC (tdm-1) 4.7.1</strong> on Code::Blocks 13.12</p>\n\n<p>Does someone have an explanation to this problem, and a way to solve it ?\nThank you.</p>\n"}, {"tags": ["c++", "cmake"], "answers": [{"comments": [{"owner": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "edited": false, "score": 0, "creation_date": 1456940055, "post_id": 35754126, "comment_id": 59181677, "body": "well, that seems intuitive to have two different calls. I thought there could be something else more elegant in cmake to pass the compile definitions from a calling rule for example. but thanks anyways :)"}], "tags": [], "owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "is_accepted": false, "score": 1, "last_activity_date": 1456939656, "creation_date": 1456939656, "answer_id": 35754126, "question_id": 35753738, "link": "https://stackoverflow.com/questions/35753738/how-to-add-recursive-compile-definition-for-a-target-in-cmake/35754126#35754126", "title": "How to add recursive compile definition for a target in cmake", "body": "<p>Expression <code>$&lt;TARGET_OBJECTS&gt;</code> refers not to the sources, but to the objects. It is late for change compile definitions for the sources - they are <strong>already compiled</strong> at this stage. If you need set of sources to be compiled <em>differently</em> for different purposes, you need <code>add_library()</code> calls for each compilation way:</p>\n\n<pre><code>set(my_lib_sources ...)\n\n# Set of objects for application\nadd_library(my_lib OBJECTS ${my_lib_sources})\n\n# Set of objects for tests, they use special compile definitions\nadd_library(my_lib_test OBJECTS ${my_lib_sources})\ntarget_compile_definitions(my_lib_test PRIVATE TESTS=1)\n\nadd_executable(tests\n    $&lt;TARGET_OBJECTS:my_lib_test&gt; # Already use special compile definitions\n    Tests/Main.cpp)\n\n# Uncomment, if additional definitions are needed for Tests/Main.cpp\n# target_compile_definitions(tests PRIVATE TESTS=1)\n</code></pre>\n"}], "owner": {"reputation": 2673, "user_id": 4558644, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b6c0ca1e65b6c1e58eae9dc635702243?s=128&d=identicon&r=PG&f=1", "display_name": "mkmostafa", "link": "https://stackoverflow.com/users/4558644/mkmostafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456939656, "creation_date": 1456938475, "last_edit_date": 1456938935, "question_id": 35753738, "link": "https://stackoverflow.com/questions/35753738/how-to-add-recursive-compile-definition-for-a-target-in-cmake", "title": "How to add recursive compile definition for a target in cmake", "body": "<p>Basically I have rule to create binaries for the tests source code, other rule to create binaries for the application source code. Then I have two separate rules to generate the executable for each of them (each linking to their respective libraries). Below is the sample for the rule for generating the executable for the tests. As Shown I have added a compile definition. My problem is this compile definition seems to not be passed/available recursively to the application binaries rule (when called from the rule below). So I have some code in the application that is guarded by \"TESTS\" and I would like that it be compiled only when this rule below is triggered. The code is also guarded in the header file.\nIs there a way to achieve this?</p>\n\n<p>EDIT:\nTo make it clearer I would like when this rule is called, this compile definition be added in the compile definition for the two targets OBJS and Tests_OBJS.</p>\n\n<pre><code>add_executable(tests\n    $&lt;TARGET_OBJECTS:Tests_OBJS&gt; \n    $&lt;TARGET_OBJECTS:OBJS&gt; \n    Tests/Main.cpp) \ntarget_link_libraries(tests ${LIBS})\ntarget_compile_definitions(tests PRIVATE TESTS=1)\n</code></pre>\n"}, {"tags": ["c++", "ios", "swift", "objective-c++"], "comments": [{"owner": {"reputation": 611, "user_id": 5909396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6c28d2fed6a5f01ddfe26cda6568c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil.Chokshi", "link": "https://stackoverflow.com/users/5909396/harshil-chokshi"}, "reply_to_user": {"reputation": 22686, "user_id": 3758484, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/pJmdo.jpg?s=128&g=1", "display_name": "johnbakers", "link": "https://stackoverflow.com/users/3758484/johnbakers"}, "edited": false, "score": 0, "creation_date": 1456938983, "post_id": 35753652, "comment_id": 59180987, "body": "I am posting answer now."}, {"owner": {"reputation": 1985, "user_id": 3468651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/VCLH7.png?s=128&g=1", "display_name": "Oleshko", "link": "https://stackoverflow.com/users/3468651/oleshko"}, "edited": false, "score": 0, "creation_date": 1456939135, "post_id": 35753652, "comment_id": 59181080, "body": "Check out this question <a href=\"http://stackoverflow.com/questions/32541268/can-i-have-swift-objective-c-c-and-c-files-in-the-same-xcode-project/32546879#32546879\" title=\"can i have swift objective c c and c files in the same xcode project\">stackoverflow.com/questions/32541268/&hellip;</a>"}, {"owner": {"reputation": 611, "user_id": 5909396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6c28d2fed6a5f01ddfe26cda6568c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil.Chokshi", "link": "https://stackoverflow.com/users/5909396/harshil-chokshi"}, "edited": false, "score": 0, "creation_date": 1456939386, "post_id": 35753652, "comment_id": 59181247, "body": "Thank you that&#39;s the question I looked at but didn&#39;t notice that answer. Thnaks"}], "answers": [{"tags": [], "owner": {"reputation": 611, "user_id": 5909396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6c28d2fed6a5f01ddfe26cda6568c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil.Chokshi", "link": "https://stackoverflow.com/users/5909396/harshil-chokshi"}, "is_accepted": true, "score": 0, "last_activity_date": 1456939288, "creation_date": 1456939288, "answer_id": 35754009, "question_id": 35753652, "link": "https://stackoverflow.com/questions/35753652/can-i-import-objective-c-classes-in-a-swift-based-project-using-bridging-heade/35754009#35754009", "title": "Can I import Objective-C++ classes in a Swift based project using bridging header?", "body": "<p>Ok I feel really foolish right now, but I should have tried it instead of just asking it on Stack Overflow and expecting an answer. It isn't that I am lazy but I got so used to asking questions on Stack Overflow that my instinct is to ask a question on Stack as soon as I have a problem instead of trying to find the solution myself first. </p>\n\n<p>Answer:</p>\n\n<p>Yes it works! You can use an Objective-C++ class in Swift via the bridging header. Now I didn't do anything to complicated, just implemented a method in Objective-C++ class and included the file in the bridging header and called the method in ViewController.Swift and it worked perfectly fine. I do not know whether all C++ syntax will work perfectly with Swift classes, but i guarantee it most should. So final answer is that yes it works! </p>\n"}], "owner": {"reputation": 611, "user_id": 5909396, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f6c28d2fed6a5f01ddfe26cda6568c0c?s=128&d=identicon&r=PG&f=1", "display_name": "Harshil.Chokshi", "link": "https://stackoverflow.com/users/5909396/harshil-chokshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 207, "favorite_count": 0, "accepted_answer_id": 35754009, "answer_count": 1, "score": 0, "last_activity_date": 1571814998, "creation_date": 1456938228, "last_edit_date": 1571814998, "question_id": 35753652, "link": "https://stackoverflow.com/questions/35753652/can-i-import-objective-c-classes-in-a-swift-based-project-using-bridging-heade", "title": "Can I import Objective-C++ classes in a Swift based project using bridging header?", "body": "<p>I know that if I want to use Objective-C classes in Swift, I have to use the bridging header. I know that I can use Objective-C and C++ in the same file via the .mm extension. </p>\n\n<p>Now can I have a file that uses a class written in Objective-C++ and import it into a Swift based project via the bridging header?</p>\n\n<p>I know a similar question that has been asked on Stack Overflow, but the user asked if he/she can use Swift and C++ in the same FILE, not project via a bridging header. </p>\n"}, {"tags": ["c++", "eclipse", "c++11", "gcc", "eclipse-cdt"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1456944882, "post_id": 35753502, "comment_id": 59184716, "body": "Are you sure this is the indexer and not the <code>code analyzer</code>? I just turned the <code>code analyzer</code> off, the compiler does a good enough job of pointing out such errors."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1456945085, "post_id": 35753502, "comment_id": 59184860, "body": "Also it looks like you have strange User Settings. Maybe this will help with configuring for <code>C++11</code> <a href=\"https://stackoverflow.com/questions/17131744/eclipse-cdt-indexer-does-not-know-c11-containers/24628885#24628885\" title=\"eclipse cdt indexer does not know c11 containers\">stackoverflow.com/questions/17131744/&hellip;</a>"}, {"owner": {"reputation": 692, "user_id": 2878556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/66e63ca913b4f533c6c022bde6ad5135?s=128&d=identicon&r=PG&f=1", "display_name": "Markus L", "link": "https://stackoverflow.com/users/2878556/markus-l"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1457080084, "post_id": 35753502, "comment_id": 59252590, "body": "@Galik: Configuring the providers like in the mentioned thread means that I have to put my referenced library headers in the &quot;CDT User Settings Entries&quot;. I tried that but after rebuilding the index it leads to exactly the same situation: The same function calls are marked as erroneous."}, {"owner": {"reputation": 692, "user_id": 2878556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/66e63ca913b4f533c6c022bde6ad5135?s=128&d=identicon&r=PG&f=1", "display_name": "Markus L", "link": "https://stackoverflow.com/users/2878556/markus-l"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1457081285, "post_id": 35753502, "comment_id": 59253153, "body": "@Galik disabling the semantic errors in the <code>code analyzer</code> settings really removes the false-positive error marks! However, I think that only hides the actual problem (either a bug in Eclipse or a bad configuration in my project settings)."}], "answers": [{"comments": [{"owner": {"reputation": 692, "user_id": 2878556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/66e63ca913b4f533c6c022bde6ad5135?s=128&d=identicon&r=PG&f=1", "display_name": "Markus L", "link": "https://stackoverflow.com/users/2878556/markus-l"}, "edited": false, "score": 0, "creation_date": 1456995263, "post_id": 35753716, "comment_id": 59206596, "body": "Yes, you&#39;re right. I tried to show simplified examples of my code that doesn&#39;t work. I simplified too much! I fixed my examples.They compile now without any errors or warnings together with my project code. Eclipse still shows errors."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 1, "last_activity_date": 1456938425, "creation_date": 1456938425, "answer_id": 35753716, "question_id": 35753502, "link": "https://stackoverflow.com/questions/35753502/eclipse-indexer-shows-false-positive-semantic-errors/35753716#35753716", "title": "Eclipse indexer shows false-positive semantic errors", "body": "<p><code>std::next(i);</code> is incorrect.  When you use</p>\n\n<pre><code>for (auto i : v)\n{\n    std::next(i);\n}\n</code></pre>\n\n<p><code>i</code> becomes of the type <code>*(v.begin())</code> which in your code is an <code>int</code>.  <code>std::next</code> requires an iterator and that iterator must also provide a <code>difference_type</code> type.</p>\n\n<p>The whole purpose of a ranged based for loop is to not have to worry about advancing through the container.  If you wanted to print everything out of the vector you would just use</p>\n\n<pre><code>for (auto i : v)\n{\n    std::cout &lt;&lt; i &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>I know this doesn't solve your other error but it fixes the first one</p>\n"}, {"tags": [], "owner": {"reputation": 692, "user_id": 2878556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/66e63ca913b4f533c6c022bde6ad5135?s=128&d=identicon&r=PG&f=1", "display_name": "Markus L", "link": "https://stackoverflow.com/users/2878556/markus-l"}, "is_accepted": true, "score": 1, "last_activity_date": 1459760831, "creation_date": 1459760831, "answer_id": 36398526, "question_id": 35753502, "link": "https://stackoverflow.com/questions/35753502/eclipse-indexer-shows-false-positive-semantic-errors/36398526#36398526", "title": "Eclipse indexer shows false-positive semantic errors", "body": "<p>I updated Eclipse CDT to version 8.8.1 and the false-positive compile errors don't show up anymore. So after all it was a software bug.</p>\n"}], "owner": {"reputation": 692, "user_id": 2878556, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/66e63ca913b4f533c6c022bde6ad5135?s=128&d=identicon&r=PG&f=1", "display_name": "Markus L", "link": "https://stackoverflow.com/users/2878556/markus-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1173, "favorite_count": 0, "accepted_answer_id": 36398526, "answer_count": 2, "score": 1, "last_activity_date": 1459760831, "creation_date": 1456937802, "last_edit_date": 1495540834, "question_id": 35753502, "link": "https://stackoverflow.com/questions/35753502/eclipse-indexer-shows-false-positive-semantic-errors", "title": "Eclipse indexer shows false-positive semantic errors", "body": "<p>I've recently updated to Eclipse Mars.2 (version 4.5.2) and switched my project to C++11 development (yeah, it's about time!).</p>\n\n<p>I've managed to configure all my Makefiles to build correctly (ie. no obvious errors or warnings) but the Eclipse built-in indexer reports several false-positive semantic errors. Not all of them have to do with C++11 specific features.</p>\n\n<p>I'm referring to already existing threads <a href=\"https://stackoverflow.com/questions/8148235/eclipse-cdt-shows-semantic-errors-but-compilation-is-ok\">[1]</a> and <a href=\"https://stackoverflow.com/questions/10103465/eclipse-cdt-complains-about-unresolved-functions-but-still-builds-successfully\">[2]</a> which are older and haven't brought any real solution for me.</p>\n\n<h3>False-positives examples</h3>\n\n<p><code>std::next(..)</code> not recognized - but I have no problems with <code>std::begin()</code> or <code>std::end()</code>:</p>\n\n<pre><code>std::vector&lt;int&gt; v;\nfor (auto i = std::begin(v); i != std::end(v); i++)\n{\n  std::next(i);\n}\n</code></pre>\n\n<blockquote>\n  <p>Invalid arguments '\n  Candidates are:\n  #0 next(#0, std::iterator_traits&lt;#0>::difference_type)\n  Semantic Error</p>\n</blockquote>\n\n<p><code>std::string::substr(..)</code> not recognized:</p>\n\n<pre><code>std::string myString = \"test\";\nmyString.substr(0, 1);\n</code></pre>\n\n<blockquote>\n  <p>Invalid arguments '\n  Candidates are:\n  std::basic_string,std::allocator> substr(?, ?)\n  Semantic Error</p>\n</blockquote>\n\n<p>googletest's <code>ASSERT_EQ</code> macro is not not recognized (however, other assertions work!):</p>\n\n<pre><code>std::string expValue = \"test\";\nstd::string actValue = \"test\";\nASSERT_EQ(expValue, actValue);\n</code></pre>\n\n<blockquote>\n  <p>Function 'Compare' could not be resolved<br>\n  Semantic Error</p>\n</blockquote>\n\n<hr>\n\n<p>I've tested various project settings and I came to the conclusion that it has something to do with the Eclipse project's \"Paths and Symbols\" settings as well with the \"Preprocessor Include Paths, Macros, etc.\" settings. Especially the order of the Providers is highly sensitive for any changes.</p>\n\n<p>The additional problem is that I have an older system with gcc 4.4.4 compiler (default in <code>/usr/bin/gcc</code>) and an additional gcc 4.8.2 installed in <code>/opt/...</code> which shall be actually used for compilation. This also means that I have two sets of header files but only one includes the C++11 features.</p>\n\n<p>My current configuration is this (as seen in Project Settings -> C/C++ General -> Preprocessor Includes Paths -> Entries):</p>\n\n<ul>\n<li>CDT User Settings Entries\n\n<ul>\n<li>system headers of gcc 4.8.2 (treated as built-in)</li>\n<li>preprocessor macro <code>__cplusplus = 201103L</code></li>\n</ul></li>\n<li>CDT Managed Build Settings Entries\n\n<ul>\n<li>paths to custom includes and library paths</li>\n</ul></li>\n<li>CDT GCC Build Output Parser</li>\n<li>CDT GCC Built-in Compiler Settings\n\n<ul>\n<li>non-changeable system headers of gcc 4.4.4</li>\n<li>local includes</li>\n</ul></li>\n</ul>\n\n<p>I have tried other combinations as well but this one gives me lowest amount of false-positive errors.</p>\n\n<hr>\n\n<p>The indexer has project specific settings enabled. I haven't found any switch so far that makes the errors go away. </p>\n\n<hr>\n\n<p>Has anybody experienced such problems as well? Is it a configuration issue of my paths and symbols or is it a bug in the Eclipse indexer?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1456937468, "post_id": 35753336, "comment_id": 59179956, "body": "And what is the trouble you are having?"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "edited": false, "score": 1, "creation_date": 1456937895, "post_id": 35753336, "comment_id": 59180209, "body": "Please make sure when you post code that your code is properly indented and readable."}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 3, "creation_date": 1456938013, "post_id": 35753336, "comment_id": 59180288, "body": "Please reconsider your use of bad practices <a href=\"http://stackoverflow.com/q/1452721/1171191\"><code>using namespace std;</code></a> and <a href=\"http://chris-sharpe.blogspot.co.uk/2016/02/why-you-shouldnt-use-stdendl.html\" rel=\"nofollow noreferrer\"><code>endl</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 36, "user_id": 5960978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c359c7835ac2758af3bc7bbf2f811b6?s=128&d=identicon&r=PG", "display_name": "Dylan plus plus", "link": "https://stackoverflow.com/users/5960978/dylan-plus-plus"}, "edited": false, "score": 0, "creation_date": 1456938417, "post_id": 35753689, "comment_id": 59180583, "body": "subtracting 97 from the asci values of each character allows you index it in an array."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1456938880, "post_id": 35753689, "comment_id": 59180923, "body": "Subtracting <code>&#39;a&#39;</code> from the <i>ASCII</i> values will make the index zero based.  Note the use of the character literal which makes programs easier to read."}, {"owner": {"reputation": 36, "user_id": 5960978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c359c7835ac2758af3bc7bbf2f811b6?s=128&d=identicon&r=PG", "display_name": "Dylan plus plus", "link": "https://stackoverflow.com/users/5960978/dylan-plus-plus"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1456939212, "post_id": 35753689, "comment_id": 59181138, "body": "I don&#39;t know about that though. Its easier for me to subtract numbers, than  subtract characters. Plus you save one character by doing it this way.#codeGolf"}], "tags": [], "owner": {"reputation": 36, "user_id": 5960978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c359c7835ac2758af3bc7bbf2f811b6?s=128&d=identicon&r=PG", "display_name": "Dylan plus plus", "link": "https://stackoverflow.com/users/5960978/dylan-plus-plus"}, "is_accepted": false, "score": 0, "last_activity_date": 1456938338, "creation_date": 1456938338, "answer_id": 35753689, "question_id": 35753336, "link": "https://stackoverflow.com/questions/35753336/c-scrabble-game-using-arrays/35753689#35753689", "title": "c++ Scrabble game using arrays", "body": "<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    std::string input;\n    std::cin&gt;&gt;input;\n\n    //  fill this with scrable values\n    int scrable_values[26] = {1,3,3,2,1,4,2,4,1,9,5,1,3,1,1,3,10,1,1,1,1,4,4,8,4,10};\n\n    int ans = 0;\n    for(int i=0;i&lt;input.size();i++)\n    {\n        ans += scrable_values[input[i]-97];\n    }\n    return ans;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4748049, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7e1895c2d71792da9a807ede2a94d33b?s=128&d=identicon&r=PG&f=1", "display_name": "javjunkie", "link": "https://stackoverflow.com/users/4748049/javjunkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2142, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1456938338, "creation_date": 1456937360, "question_id": 35753336, "link": "https://stackoverflow.com/questions/35753336/c-scrabble-game-using-arrays", "title": "c++ Scrabble game using arrays", "body": "<p>I have to make a scrabble scoring game using 2 arrays. The first array holds the user inputted word and the second array holds the value of each letter. Lastly a function is needed to calculate the score. Im having trouble assigning the user values to the second array to get the score and getting the right code for the function.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;cmath&gt;\n#include &lt;ctime&gt;\n\nusing namespace std;\n\nint scoreCalculator(int total);\nchar userWord;\nint points;\nint total=0;\nint main()\n{\n\nchar userWord[11];\nfor (int i=0; i&lt;11; i++)\n{\n    userWord[i]='\\0';\n}\n\ncout&lt;&lt;\"Enter your word less than 10 letters: \"&lt;&lt;endl;\ncin&gt;&gt;userWord;\ncout&lt;&lt;\"Here is the word you inputted: \"&lt;&lt;userWord&lt;&lt;endl;  \n\nint scrabblePoints[26]={1,3,3,2,1,4,2,4,1,8,5,1,3,1,1,3,10,1,1,1,1,4,4,8,4,10};\n\nfor(int j=0; j&lt;26; j++)\n{\n    userWord[i]\n}\n\ncout&lt;&lt;\"Here is your score: \"&lt;&lt;scoreCalculator(total)&lt;&lt;endl;\n\n}\nint scoreCalculator(int total)\n{\n\ntotal+=scrabblePoints[j];\n\n}\n</code></pre>\n\n<p>This is what I have so far and where im stuck at</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 3, "creation_date": 1456937350, "post_id": 35753224, "comment_id": 59179878, "body": "Simple cheat: use a larger type for the calculation, but still compare against <code>UINT_MAX</code>."}], "answers": [{"tags": [], "owner": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "is_accepted": false, "score": 2, "last_activity_date": 1456937827, "last_edit_date": 1456937827, "creation_date": 1456937419, "answer_id": 35753356, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c/35753356#35753356", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>If <code>factorial2 &gt; UINT_MAX / (s+1)</code>, the next factorial can't be calculated.</p>\n\n<p>By the way, you should use <code>unsigned int</code> for <code>factorial2</code></p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1456939180, "post_id": 35753363, "comment_id": 59181110, "body": "I am real newbie on all this, so can you tell me how excatly do it ?"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1456939849, "post_id": 35753363, "comment_id": 59181551, "body": "@Maaverick I think you will learn more if you figure it out on your own. But I will give you a hint, the <code>for</code> statement is much more flexible than the way it is typically used."}], "tags": [], "owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "is_accepted": false, "score": 2, "last_activity_date": 1456937441, "creation_date": 1456937441, "answer_id": 35753363, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c/35753363#35753363", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>Before calculating the next factorial in the list, see if the previous one is greater than <code>UINT_MAX / i</code>. If it is, you know that the next multiplication will go out of bounds.</p>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457004107, "post_id": 35753366, "comment_id": 59213001, "body": "If i understand correct, than in your if statement fact_so_far is s in my code but what is n ?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457004589, "post_id": 35753366, "comment_id": 59213312, "body": "No, <code>fact_so_far</code> is <code>factorial1</code> or <code>factorial2</code>. <code>n</code> is <code>s</code> in your code."}, {"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457005027, "post_id": 35753366, "comment_id": 59213591, "body": "Now it gives me only factorials what is bigger that 12!"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457005319, "post_id": 35753366, "comment_id": 59213771, "body": "Yes, my bad - got the <code>&lt;</code> and <code>&gt;</code> mixed up in my thinking. The correct will be <code>INT_MAX &#47; fact_so_far &gt; n</code> - will edit the answer."}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457005813, "post_id": 35753366, "comment_id": 59214121, "body": "@Maaverick: Crashes? Or exits?"}, {"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457005878, "post_id": 35753366, "comment_id": 59214161, "body": "It work now but programm is crasing and max factorial what i get is 11! And when i change &gt; to this &gt;= it gives me after fact 11! fact 19!"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457006013, "post_id": 35753366, "comment_id": 59214233, "body": "Actually, it was correct - the code was meant to STOP at <code>n</code> that is greater than the correct one. If you are using it the other way around, you need <code>&gt;= n</code>"}, {"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457006994, "post_id": 35753366, "comment_id": 59214899, "body": "So is there a way to get factorial 12! ? &gt;= And i dont know why after putting this it prints out after fact 11! fact 19! ?"}, {"owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "reply_to_user": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457007660, "post_id": 35753366, "comment_id": 59215327, "body": "Since I don&#39;t know what your code looks like, I&#39;m not sure what you&#39;re doing and why it&#39;s not working... You probably should stop looping once you reach the maximum number..."}, {"owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "edited": false, "score": 0, "creation_date": 1457017784, "post_id": 35753366, "comment_id": 59223099, "body": "I update the code, now you can see what i have add and did in it."}], "tags": [], "owner": {"reputation": 119371, "user_id": 1919155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7d26642f016f64f37619d209037dff?s=128&d=identicon&r=PG", "display_name": "Mats Petersson", "link": "https://stackoverflow.com/users/1919155/mats-petersson"}, "is_accepted": true, "score": 2, "last_activity_date": 1457006180, "last_edit_date": 1457006180, "creation_date": 1456937443, "answer_id": 35753366, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c/35753366#35753366", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>In a 32-bit signed integer, 12! is the largest possible. </p>\n\n<p>You can check this by doing </p>\n\n<pre><code>if (INT_MAX / fact_so_far &lt; n)\n{\n   std::cout &lt;&lt; \"Max factorial \" &lt;&lt; n-1 &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>[This code STOPS when it reaches the \"unable to calculate\", because <code>INT_MAX / fact_so_far</code> will not multiply without overflow]. </p>\n\n<pre><code>if (INT_MAX / fact_so_far &gt;= n)\n{\n    fact_so_far *= n;\n}\nelse\n{\n    std::cout &lt;&lt; n &lt;&lt; \" is too large to calculate factorial\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>would be the other way to do this. [Obviously with suitable loop to increment <code>n</code>]</p>\n\n<p>Not that <code>MAX_UINT</code> is the max value for <code>unsigned int</code>, not for <code>int</code> [it's typically half that].</p>\n\n<p>Edit to explain the logic:</p>\n\n<p>The logic here is that if we divide <code>INT_MAX</code> with what our current factorial value is, it should produce a value larger than <code>n</code> [the current multiplier for the next factorial]. </p>\n\n<p>As a simple step through example, we pick a MAX_INT of 127:</p>\n\n<p>Initial state:</p>\n\n<pre><code>factorial = 1, n = 1; \n</code></pre>\n\n<p>Steps:</p>\n\n<pre><code>n = 2, MAX_INT / factorial = 127 -&gt; factorial *= n =&gt; 2\nn = 3, MAX_INT / factorial = 63 -&gt; factorial *= n =&gt; 6\nn = 4, MAX_INT / factorial = 21 -&gt; factorial *= n =&gt; 24\nn = 5, MAX_INT / factorial = 5 -&gt; factorial *= n = 120\nn = 6, MAX_INT / factorial = 1 -&gt; FAIL - will overflow.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7763, "user_id": 5924721, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LWjjj.png?s=128&g=1", "display_name": "Frank Puffer", "link": "https://stackoverflow.com/users/5924721/frank-puffer"}, "edited": false, "score": 0, "creation_date": 1456938429, "post_id": 35753630, "comment_id": 59180596, "body": "But still <code>i</code> will always be smaller than <code>INT_MAX</code>."}], "tags": [], "owner": {"reputation": 507, "user_id": 4348460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac731d79e985b5e27aa532007ee49e97?s=128&d=identicon&r=PG&f=1", "display_name": "0x0001", "link": "https://stackoverflow.com/users/4348460/0x0001"}, "is_accepted": false, "score": 1, "last_activity_date": 1456939687, "last_edit_date": 1456939687, "creation_date": 1456938153, "answer_id": 35753630, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c/35753630#35753630", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>You are comparing the signed int with an unsigned one i.e. you are doing i &lt; UINT_MAX (This is the maximum value of unsigned int) which is wrong and will result in overflow and wrong condition check. </p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "is_accepted": false, "score": 0, "last_activity_date": 1457089406, "last_edit_date": 1457089406, "creation_date": 1457089103, "answer_id": 35794314, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c/35794314#35794314", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>so i finaly did this with my code. Now it works but its not realy good. Maybe someone someday will need something like this as a start for his own max factorial programm. First program will ask you to insert a random number and then it calculate its factorial (only in max int borders). Then it prints out all possible int factorials. Its show only 11! as max but the max is 12! I add factorial 12! manualy, becouse the if statment cannot print out excatly the number 12 as max it prints one before. And in the end the programm shows you what is maxium possible factorial for intiger. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;climits&gt;//\n#include &lt;cmath&gt;\nusing namespace std;\n\nint main() {\nint k, max,s;\nunsigned  int factorial = 1;\nunsigned  int factorial2 = 1;\nunsigned  uval=INT_MAX;\n\ncout &lt;&lt; \"Ievadi koeficentu k: \";\ncin &gt;&gt; k;\nfor(int i = 1; i&lt;=k; ++i) {\n    factorial *= i;\n}\ncout &lt;&lt; \"Ievadita koeficenta \" &lt;&lt; k &lt;&lt; \" faktorials \" &lt;&lt; \" = \" &lt;&lt;factorial;\n\ncout &lt;&lt; \"\\nVisi iespejamie faktoriali no 1 - n: \";\nfor( s = 1; s&lt;=uval; ++s) {\n\n    factorial2 *= s;\n    max=factorial2;\n\nif( s &lt;= uval / factorial2 ){\ncout  &lt;&lt;\" \\nkoeficenta \" &lt;&lt; s &lt;&lt; \" faktorials ir ==&gt; \" &lt;&lt;factorial2;\n\n}\nelse {\n        break;\n}\n    }\ncout  &lt;&lt;\" \\nkoeficenta \" &lt;&lt; s &lt;&lt; \" faktorials ir ==&gt; \" &lt;&lt;factorial2;\ncout  &lt;&lt;\" \\nMaksimalais faktorials ir skaitla \" &lt;&lt; s &lt;&lt; \" faktorials ==&gt; \" &lt;&lt;max;\n\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>This is what the programm looks like!</p>\n\n<p><img src=\"https://i.stack.imgur.com/j9DyB.png\" alt=\"Programm\">\n![Programm][1]</p>\n"}], "owner": {"reputation": 61, "user_id": 5058648, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/1432162380442380/picture?type=large", "display_name": "Maaverick", "link": "https://stackoverflow.com/users/5058648/maaverick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1532, "favorite_count": 0, "accepted_answer_id": 35753366, "answer_count": 5, "score": 0, "last_activity_date": 1457089406, "creation_date": 1456937087, "last_edit_date": 1457017759, "question_id": 35753224, "link": "https://stackoverflow.com/questions/35753224/finding-maxium-factorial-n-what-intiger-allows-c", "title": "Finding maxium factorial n what intiger allows! C++", "body": "<p>Sorry for bad English.<br>\nSo my problem is that i need to find all possible factorials starting from 1. \nI need it to stop when Int have maximum memory used and print out maximum factorial value. My code is pretty simple, but i do not know how to get to stop loop when it reach maximum of Intiger values. </p>\n\n<pre><code> #include &lt;iostream&gt;\n #include&lt;climits&gt;//\n #include &lt;cmath&gt;\n using namespace std;\n\n int main() {\n\nint k,n=0;\nunsigned  int factorial = 1;\nunsigned  int factorial2=1;\nunsigned  uval=INT_MAX;\n\ncout &lt;&lt; \"Ievadi koeficentu k: \";\ncin &gt;&gt; k;\nfor(int i = 1; i&lt;=k; ++i) {\n    factorial *= i;\n}\ncout &lt;&lt; \"Ievadita koeficenta \" &lt;&lt; k &lt;&lt; \" faktorials \" &lt;&lt; \" = \" &lt;&lt;factorial;\n\ncout &lt;&lt; \"\\nVisi iespejamie faktoriali no 1 - n: \";\nfor(int s = 1; s&lt;=uval; ++s) {\n\n    factorial2 *= s;\n   if( s &lt; uval / factorial2 ){\n      cout  &lt;&lt;\" \\nkoeficenta \" &lt;&lt; s &lt;&lt; \" faktorials ir ==&gt; \" &lt;&lt;factorial2;\n   }\n}\n\n\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>The problem is that the loop is going to calculate factorial to all UINT_MAX values, and most of the output will be 0 becouse memory is overloaded. \nBut it should stop before it goes bigger that UINT_MAX memory! \n Hope you all understand my problem and will help me with this.</p>\n"}, {"tags": ["c++", "windows", "qt", "audio", "webrtc"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1456937451, "post_id": 35753182, "comment_id": 59179947, "body": "<a href=\"http://stackoverflow.com/questions/32335454/recording-system-sound-using-qt\" title=\"recording system sound using qt\">stackoverflow.com/questions/32335454/&hellip;</a>"}, {"owner": {"reputation": 753, "user_id": 1238432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71847ab58c5f79394e87bc9889b4dc88?s=128&d=identicon&r=PG", "display_name": "forlayo", "link": "https://stackoverflow.com/users/1238432/forlayo"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1457019255, "post_id": 35753182, "comment_id": 59224356, "body": "@ddriver Problem is mixer doesn&#39;t appears in all Windows systems, for example it didn&#39;t appears on mine :("}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1457019910, "post_id": 35753182, "comment_id": 59224938, "body": "It is usually only hidden, but if you can&#39;t enable it, maybe your device / driver doesn&#39;t support it. For me it works for the integrated realtec device, but it is not available on my professional audio interface."}, {"owner": {"reputation": 753, "user_id": 1238432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71847ab58c5f79394e87bc9889b4dc88?s=128&d=identicon&r=PG", "display_name": "forlayo", "link": "https://stackoverflow.com/users/1238432/forlayo"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1457105636, "post_id": 35753182, "comment_id": 59269460, "body": "Uhm, was hidden and this works; but problem is I haven&#39;t a way to programatically enabling this device or ask for enabling it or so. Do you know a way to do that ?"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1457108547, "post_id": 35753182, "comment_id": 59271442, "body": "There is no way to do it from Qt, it might be possible to do from the MS APIs, but I wouldn&#39;t know it."}], "owner": {"reputation": 753, "user_id": 1238432, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/71847ab58c5f79394e87bc9889b4dc88?s=128&d=identicon&r=PG", "display_name": "forlayo", "link": "https://stackoverflow.com/users/1238432/forlayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456939405, "creation_date": 1456936957, "last_edit_date": 1456939405, "question_id": 35753182, "link": "https://stackoverflow.com/questions/35753182/how-to-record-from-audio-mixer-what-you-hear-in-windows-using-qt", "title": "How to record from audio mixer &quot;what-you-hear&quot; in Windows. ( Using Qt )", "body": "<p>I'm trying to figure how to record from audio mixer a.k.a. \"what-you-hear\" on Windows in order of recording audio that's being played in a video and also audio from microphone at same time. Are there a way to directly access to this as an especial kind of device or something like that? How can I do this?</p>\n"}, {"tags": ["c++", "matlab", "opencv", "computer-vision"], "answers": [{"tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 1, "last_activity_date": 1456939030, "creation_date": 1456939030, "answer_id": 35753929, "question_id": 35753123, "link": "https://stackoverflow.com/questions/35753123/matlab-to-opencv-mask-of-pixels-with-value-inside-a-range/35753929#35753929", "title": "Matlab to OpenCV: mask of pixels with value inside a range", "body": "<p>I assume that your <code>imageHSV</code> has values in range <code>[0,1]</code>, otherwise you just need to change the range values. This is because in Matlab images are usually in range [0,1], while in OpenCV in range [0,255].</p>\n\n<p>Actually for HSV images this is a little different:</p>\n\n<ul>\n<li>If <code>imageHSV</code> is of type <code>CV_8UC3</code>, then the ranges are: <code>H</code> in [0,180], <code>S</code> and <code>V</code> in [0,255].</li>\n<li>If <code>imageHSV</code> is of type <code>CV_32FC3</code>, the valid ranges for OpenCV are: <code>H</code> in [0,360], <code>S</code> and <code>V</code> in [0,1].</li>\n</ul>\n\n<hr>\n\n<p>You can do this using <a href=\"http://docs.opencv.org/2.4/modules/core/doc/operations_on_arrays.html#inrange\" rel=\"nofollow\">inRange</a>. Just define lower and upper range for the 3 channels. Take care to correct the Matlab range for OpenCV:</p>\n\n<pre><code>Mat imgHSV = ... type should CV_32FC3\n\nMat skin;\ninRange(imgHSV, Scalar(0.02, 0.18, 0), Scalar(0.085, 0.754, 1), skin);\n//                      h     s    v            h      s    v\n//                      lower range              upper range\n\n// skin will be a binary mask of type CV_8UC1, with values either 0 or 255\n</code></pre>\n"}], "owner": {"reputation": 218, "user_id": 4219351, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/VP331.jpg?s=128&g=1", "display_name": "Francisco Garc&#237;a", "link": "https://stackoverflow.com/users/4219351/francisco-garc%c3%ada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 0, "accepted_answer_id": 35753929, "answer_count": 1, "score": 1, "last_activity_date": 1456947421, "creation_date": 1456936800, "last_edit_date": 1456947421, "question_id": 35753123, "link": "https://stackoverflow.com/questions/35753123/matlab-to-opencv-mask-of-pixels-with-value-inside-a-range", "title": "Matlab to OpenCV: mask of pixels with value inside a range", "body": "<p>I have this Matlab code to find a mask (<code>skin</code>) of the pixel with values inside the ranges for H and S channels of my HSV image <code>hsv_im</code>:</p>\n\n<pre><code>h_range = [0.02 0.085]; \ns_range = [0.18 .754];\n\nH = hsv_im(:,:,1);\nS = hsv_im(:,:,2);\n\n%targets skin by only selecting values within the rectangle skin range\nskin = (S&gt;s_range(1) &amp; S&lt;s_range(2) &amp; H&gt;h_range(1) &amp; H&lt;h_range(2));\n</code></pre>\n\n<p>I need to port this to OpenCV. So far I have this:</p>\n\n<pre><code>  float h_range[2] = {0.02, 0.085};\n  float s_range[2] = {0.18, 0.754};\n\n  vector&lt;Mat&gt; channels;\n  split(imageHSV, channels);\n  Mat H = channels[0];\n  Mat S = channels[1];\n</code></pre>\n\n<p>but I failed to do the rest.</p>\n"}, {"tags": ["c++", "c++11", "boost", "vector", "gzip"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5393887, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32fcb33a873a7276e2f847fa8da79830?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Ulysse", "link": "https://stackoverflow.com/users/5393887/glenn-ulysse"}, "edited": false, "score": 0, "creation_date": 1456950990, "post_id": 35757079, "comment_id": 59188436, "body": "It&#39;s a great answer, thanks a lot for taking the time to make it."}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 1, "creation_date": 1494370373, "post_id": 35757079, "comment_id": 74797038, "body": "To get rid of the temp copy: <code>std::istream istr{&amp;iin};  vecArg.assign(std::istreambuf_iterator&lt;char&gt;{istr}, {});</code> ... see <a href=\"http://coliru.stacked-crooked.com/a/38ac3a7e40cf05c3\" rel=\"nofollow noreferrer\">live on Coliru</a>. Also you don&#39;t need to wrap <code>array_source</code> in a stream."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1494371153, "post_id": 35757079, "comment_id": 74797265, "body": "@zett42 I updated the answer (and shaved off another unneeded stream-wrap :))"}, {"owner": {"reputation": 14021, "user_id": 7571258, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/fBP6e.png?s=128&g=1", "display_name": "zett42", "link": "https://stackoverflow.com/users/7571258/zett42"}, "edited": false, "score": 0, "creation_date": 1494371519, "post_id": 35757079, "comment_id": 74797352, "body": "Nice, I tried it without the <code>istream</code> wrapper at first but it didn&#39;t work because I didn&#39;t see that <code>istreambuf_iterator</code> takes a streambuf address, not a reference. It takes a <i>stream</i> reference though, quite confusing."}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 7, "last_activity_date": 1494371128, "last_edit_date": 1494371128, "creation_date": 1456949241, "answer_id": 35757079, "question_id": 35753040, "link": "https://stackoverflow.com/questions/35753040/decompress-file-from-boost-filtering-streambuf-to-stdvectorunsigned-char/35757079#35757079", "title": "Decompress file from Boost filtering_streambuf to std::vector&lt;unsigned char&gt;?", "body": "<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/2723fe8564f0f288\" rel=\"noreferrer\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/iostreams/stream.hpp&gt;\n#include &lt;boost/iostreams/filter/gzip.hpp&gt;\n#include &lt;boost/iostreams/filtering_streambuf.hpp&gt;\n#include &lt;boost/iostreams/device/array.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n\nnamespace bio = boost::iostreams;\n\nvoid decompress(unsigned char const* arr, std::size_t nCopySize, std::vector &lt;unsigned char&gt;&amp; vecArg) {\n    bio::array_source arrs{ reinterpret_cast&lt;char const*&gt;(arr), nCopySize };\n\n    bio::filtering_istreambuf iin;\n    iin.push(bio::gzip_decompressor{});\n    iin.push(arrs);\n\n    vecArg.assign(std::istreambuf_iterator&lt;char&gt;{&amp;iin}, {});\n}\n\nint main() {\n    /*\n     * If you really want to hear about it, the first thing you'll probably want to know is\n     * where I was born, an what my lousy childhood was like, and how my parents were\n     * occupied and all before they had me, and all that David Copperfield kind of crap, but I\n     * don't feel like going into it, if you want to know the truth. In the first place, that stuff\n     * bores me, and in the second place, my parents would have about two hemorrhages apiece\n     * if I told anything pretty personal about them. They're quite touchy about anything like\n     * that, especially my father.\n     */\n    unsigned char sample[] = {\n        0x1f, 0x8b, 0x08, 0x00, 0x8a, 0x47, 0xd7, 0x56, 0x00, 0x03, 0x55, 0x52, 0x4b, 0x76, 0xc3, 0x20, 0x10, 0xdb, 0xfb, 0x14, 0xda, 0x65, 0xe3, 0x97,\n        0x4b, 0xb4, 0x1b, 0xef, 0x7b, 0x81, 0x31, 0x0c, 0x81, 0x17, 0xc2, 0x50, 0x3e, 0xf5, 0xf3, 0xed, 0x3b, 0xd8, 0x69, 0x5e, 0xba, 0x84, 0x91, 0x34,\n        0x92, 0x60, 0x71, 0xd8, 0xa5, 0xa3, 0x30, 0xc5, 0xb8, 0x63, 0xa3, 0xd4, 0xd0, 0x04, 0x9e, 0xa9, 0x80, 0x56, 0xe9, 0x0d, 0xa1, 0xcd, 0x68, 0x9e,\n        0xe1, 0x42, 0xa9, 0x3a, 0xf3, 0x21, 0xdd, 0x06, 0xe3, 0x12, 0x23, 0x72, 0x91, 0x95, 0xd6, 0x37, 0xda, 0x3d, 0xc9, 0x86, 0x50, 0xa7, 0xcd, 0x73,\n        0x61, 0x2c, 0x7a, 0x5f, 0xb1, 0x4a, 0x49, 0x33, 0x28, 0x61, 0xf3, 0xd4, 0xf0, 0xd8, 0x11, 0xa5, 0xd7, 0x1d, 0xc6, 0x87, 0x68, 0xbd, 0x88, 0x3d,\n        0x40, 0x31, 0xdc, 0x79, 0x80, 0x2c, 0xbc, 0x2a, 0x28, 0x28, 0x53, 0xe1, 0xd4, 0x2a, 0x36, 0x15, 0x9a, 0xc4, 0x98, 0x9e, 0x03, 0xdb, 0x03, 0xa0,\n        0x3e, 0xb1, 0xb2, 0x13, 0x5d, 0xa0, 0xb6, 0x76, 0x78, 0xb2, 0x78, 0x3c, 0xc9, 0x63, 0xd6, 0xc6, 0x9a, 0x4f, 0xfa, 0x09, 0x16, 0x1f, 0x92, 0x33,\n        0x17, 0x17, 0x38, 0x5a, 0xdc, 0x83, 0xce, 0xc5, 0xc1, 0x14, 0xca, 0x33, 0x56, 0x0d, 0xb6, 0x4c, 0x56, 0xd2, 0xa5, 0xc1, 0x31, 0xc7, 0xc3, 0x00,\n        0x6e, 0x32, 0xc2, 0x85, 0xa4, 0x49, 0x46, 0xea, 0x70, 0x56, 0xf3, 0x2f, 0xdc, 0x68, 0xa2, 0x95, 0xde, 0xfc, 0x15, 0x4b, 0x7a, 0xeb, 0x25, 0x47,\n        0x32, 0x3c, 0x9f, 0xcb, 0x6b, 0xeb, 0xce, 0x4d, 0x9a, 0x9b, 0xeb, 0xcb, 0x59, 0x38, 0xc1, 0x95, 0x8d, 0xe8, 0xe9, 0x89, 0x7e, 0xcf, 0x29, 0x5d,\n        0x4d, 0x7a, 0xfa, 0xe1, 0x67, 0xed, 0x6d, 0x1b, 0xaf, 0xf0, 0x90, 0x52, 0x3c, 0xdd, 0x54, 0x88, 0xb4, 0x00, 0xc3, 0x93, 0x7a, 0x5a, 0xd4, 0x4c,\n        0x1c, 0x5d, 0xec, 0xe7, 0x63, 0xe4, 0xc2, 0xad, 0xa9, 0x12, 0x97, 0x2a, 0x89, 0xe2, 0x1f, 0x5f, 0xc9, 0x57, 0x7c, 0x69, 0x43, 0x17, 0x6d, 0xea,\n        0xbb, 0x87, 0xa6, 0xc6, 0xa5, 0x1b, 0xbf, 0x3f, 0x01, 0x2f, 0xfe, 0x88, 0x3e, 0x0d, 0xe3, 0x33, 0xb8, 0x66, 0x36, 0xe1, 0xf8, 0x09, 0xea, 0xcd,\n        0x91, 0x8a, 0x94, 0xeb, 0xf4, 0x0b, 0xb2, 0xb3, 0x9b, 0x5a, 0x23, 0x02, 0x00, 0x00 };\n\n    std::vector&lt;unsigned char&gt; d;\n    decompress(sample, sizeof(sample), d);\n\n    std::cout.write(reinterpret_cast&lt;char const*&gt;(&amp;*d.begin()), d.size());\n}\n</code></pre>\n\n<p>Prints</p>\n\n<pre><code>If you really want to hear about it, the first thing you'll probably want to know is\nwhere I was born, an what my lousy childhood was like, and how my parents were\noccupied and all before they had me, and all that David Copperfield kind of crap, but I\ndon't feel like going into it, if you want to know the truth. In the first place, that stuff\nbores me, and in the second place, my parents would have about two hemorrhages apiece\nif I told anything pretty personal about them. They're quite touchy about anything like\nthat, especially my father.\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5393887, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/32fcb33a873a7276e2f847fa8da79830?s=128&d=identicon&r=PG&f=1", "display_name": "Glenn Ulysse", "link": "https://stackoverflow.com/users/5393887/glenn-ulysse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1196, "favorite_count": 0, "accepted_answer_id": 35757079, "answer_count": 1, "score": 4, "last_activity_date": 1494371128, "creation_date": 1456936575, "last_edit_date": 1495535477, "question_id": 35753040, "link": "https://stackoverflow.com/questions/35753040/decompress-file-from-boost-filtering-streambuf-to-stdvectorunsigned-char", "title": "Decompress file from Boost filtering_streambuf to std::vector&lt;unsigned char&gt;?", "body": "<p>I am writing a program that performs ssl 3.1 encryption decryption data exchange.\nI receive data which is also compressed in the gzip format.\nI am able to decrypt this data and print it to my console, using this chuck of code : </p>\n\n<pre><code>void decompress(unsigned char * arr, int nCopySize, std::vector &lt;unsigned char&gt;&amp; vecArg)\n{\n    using namespace boost::iostreams;\n    using namespace boost::interprocess;\n    std::string str1(reinterpret_cast&lt;const char *&gt;(arr), nCopySize);\n    auto sizeT = str1.size();\n    stringstream file2(str1, ios_base::in | ios_base::binary);\n    filtering_streambuf&lt;input&gt; iin;\n    iin.push(gzip_decompressor());\n    iin.push(file2);\n    boost::iostreams::copy(iin, cout);\n</code></pre>\n\n<p>//stops working here (the decompressed code was successfully printed in console)</p>\n\n<pre><code>    boost::interprocess::basic_vectorstream&lt;std::vector&lt;char&gt;&gt; vectorStream;\n    boost::iostreams::copy(iin, vectorStream); // this produces compile time error\n    std::vector&lt;unsigned char&gt; chars(\n        vectorStream.vector().begin(),\n        vectorStream.vector().end()\n        );\n\n\n}\n</code></pre>\n\n<p>I am trying to store the decompressed code into an unsigned char vector but while using the last chunk of code found here : <a href=\"https://stackoverflow.com/questions/12485881/decompress-file-from-boost-filtering-streambuf-to-stdvectorchar\">Decompress file from Boost filtering_streambuf to std::vector&lt;char&gt;?</a>\nI am having this compile time error : </p>\n\n<pre><code>Error   5   error C2243: 'type cast' : conversion from 'boost::interprocess::basic_vectorstream&lt;std::vector&lt;char,std::allocator&lt;char&gt;&gt;,std::char_traits&lt;char&gt;&gt; *' to 'volatile const std::basic_streambuf&lt;char,std::char_traits&lt;char&gt;&gt; *' exists, but is inaccessible   c:\\boost_1_59_0\\boost\\iostreams\\traits.hpp  57  1   TeraLauncher\n</code></pre>\n\n<p>I have done other tries, using char arrays or string, managed to compile but ran into run time crash.\nIdeally, I would like it to work with the code I have written (std::vector).\nThanks </p>\n"}, {"tags": ["c++", "glut"], "comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 2, "creation_date": 1456936092, "post_id": 35752859, "comment_id": 59178896, "body": "How do you define <code>mouse</code>? My guess? with <code>MouseController mouse();</code> ..."}, {"owner": {"reputation": 25, "user_id": 4842773, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2bm20K9L4tU/AAAAAAAAAAI/AAAAAAAAACU/YEF4BUGaqjw/photo.jpg?sz=128", "display_name": "Yuri Bilas", "link": "https://stackoverflow.com/users/4842773/yuri-bilas"}, "reply_to_user": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1456936359, "post_id": 35752859, "comment_id": 59179114, "body": "Yes,  MouseController mouse();"}], "answers": [{"comments": [{"owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "edited": false, "score": 0, "creation_date": 1456937186, "post_id": 35753047, "comment_id": 59179742, "body": "Would still need <code>this</code>."}], "tags": [], "owner": {"reputation": 782, "user_id": 4544684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3da28f0aeb513efaa637564170672d8d?s=128&d=identicon&r=PG&f=1", "display_name": "NickLamp", "link": "https://stackoverflow.com/users/4544684/nicklamp"}, "is_accepted": false, "score": 0, "last_activity_date": 1456937301, "last_edit_date": 1456937301, "creation_date": 1456936591, "answer_id": 35753047, "question_id": 35752859, "link": "https://stackoverflow.com/questions/35752859/glut-request-for-member-which-is-non-class-type/35753047#35753047", "title": "glut - Request for member which is non-class type", "body": "<p>Here is the signature for <code>glutPassiveMotionFunc</code></p>\n\n<pre><code>void glutPassiveMotionFunc(void (*func)(int x, int y));\n</code></pre>\n\n<p>As you can see it takes in a function pointer with two ints as arguments. In C++, you cannot get a pointer to a non-static member function because non-static member functions have the implict first parameter <code>this</code> which is unique to each instance of the class. </p>\n\n<p>What you could try is storing a function pointer within MouseController that points to the update function and then pass that into <code>glutPassiveMotionFunc</code></p>\n\n<p>This would give you a way to get a pointer to the function but would still not match the signature of the function pointer needed to be passed in to <code>glutPassiveMotionFunc</code>. Look at the other responder's solution for a lambda to do that.</p>\n"}, {"tags": [], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "is_accepted": false, "score": 1, "last_activity_date": 1456937923, "last_edit_date": 1592644375, "creation_date": 1456936661, "answer_id": 35753075, "question_id": 35752859, "link": "https://stackoverflow.com/questions/35752859/glut-request-for-member-which-is-non-class-type/35753075#35753075", "title": "glut - Request for member which is non-class type", "body": "<h3>Problem</h3>\n<p>By defining <code>mouse</code>as</p>\n<pre><code>MouseController mouse();\n</code></pre>\n<p>you define a function taking no argument, returning a <code>MouseController</code>, called <code>mouse</code>. Then, when you call</p>\n<pre><code>glutPassiveMotionFunc(mouse.update);\n</code></pre>\n<p>you try to access the member <code>update</code> of the function <code>mouse</code>. Hence the error message.</p>\n<h3>Solution</h3>\n<pre><code>MouseController mouse;\n</code></pre>\n<p>(would only work if <code>MouseController::update(int,int)</code> werestatic, which it is not.)</p>\n<h3>Real solution</h3>\n<pre><code>MouseController mouse;\nglutPassiveMotionFunc([&amp;](int x, int y){mouse.update(x, y)});\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4842773, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2bm20K9L4tU/AAAAAAAAAAI/AAAAAAAAACU/YEF4BUGaqjw/photo.jpg?sz=128", "display_name": "Yuri Bilas", "link": "https://stackoverflow.com/users/4842773/yuri-bilas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1456937923, "creation_date": 1456936010, "question_id": 35752859, "link": "https://stackoverflow.com/questions/35752859/glut-request-for-member-which-is-non-class-type", "title": "glut - Request for member which is non-class type", "body": "<p>I have a class MouseController. There is a method - update.</p>\n\n<pre><code>void MouseController::update(int x, int y) {\nthis-&gt;mX = x;\nthis-&gt;mY = y;\n\nthis-&gt;diffX = mX  - 650;\nthis-&gt;diffY = mY - 350;\n\ncalculateAngle();\n}\n</code></pre>\n\n<p>I'm using glut. I want to make glutPassiveMotionFunc and to put that update function.</p>\n\n<pre><code>glutPassiveMotionFunc(mouse.update);\n</code></pre>\n\n<p>I get following error :</p>\n\n<blockquote>\n  <p>D:\\projects\\cpp\\glut\\main.cpp|129|error: request for member 'update'\n  in 'mouse', which is of non-class type 'MouseController()'</p>\n</blockquote>\n"}, {"tags": ["c++", "boost", "boost-dynamic-bitset"], "comments": [{"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1456936173, "post_id": 35752760, "comment_id": 59178959, "body": "I can&#39;t understand what the question is here, can you elaborate?"}, {"owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "edited": false, "score": 0, "creation_date": 1456939565, "post_id": 35752760, "comment_id": 59181350, "body": "Hard to say, without knowing what Boost version and, more importantly, which C++ compiler and version you&#39;re using. And then you could of course just compare the implementations yourself\u2026"}, {"owner": {"reputation": 171, "user_id": 3631538, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kS4bVjRRaGQ/AAAAAAAAAAI/AAAAAAAAARs/sKhSHukSW9g/photo.jpg?sz=128", "display_name": "William J. Cunningham", "link": "https://stackoverflow.com/users/3631538/william-j-cunningham"}, "edited": false, "score": 0, "creation_date": 1456940251, "post_id": 35752760, "comment_id": 59181785, "body": "I&#39;m using g++ 4.7.3 and boost 1.55.0.  Here&#39;s a twist - I simply &quot;borrowed&quot; the function defined in Boost, and my implementation is twice the speed Boost&#39;s is.  The only difference I can tell is Boost is using iterators while I use raw arrays."}, {"owner": {"reputation": 4783, "user_id": 3233921, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c91a2bba49841086eb1b85d219f0c2c2?s=128&d=identicon&r=PG", "display_name": "mindriot", "link": "https://stackoverflow.com/users/3233921/mindriot"}, "edited": false, "score": 0, "creation_date": 1456940264, "post_id": 35752760, "comment_id": 59181799, "body": "Also, what architecture have you benchmarked this on? What were your optimization settings?"}, {"owner": {"reputation": 171, "user_id": 3631538, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kS4bVjRRaGQ/AAAAAAAAAAI/AAAAAAAAARs/sKhSHukSW9g/photo.jpg?sz=128", "display_name": "William J. Cunningham", "link": "https://stackoverflow.com/users/3631538/william-j-cunningham"}, "edited": false, "score": 0, "creation_date": 1456951561, "post_id": 35752760, "comment_id": 59188748, "body": "Centos 6.7 64-bit, optimized with the -O3 flag.  Running on a Xeon E5-2680v3."}, {"owner": {"reputation": 66, "user_id": 3293193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f27c800436a1942f64cd7bdf062b51b?s=128&d=identicon&r=PG", "display_name": "047", "link": "https://stackoverflow.com/users/3293193/047"}, "edited": false, "score": 0, "creation_date": 1528838949, "post_id": 35752760, "comment_id": 88656974, "body": "If your CPU doesn&#39;t have __builtin_popcount, compiler substitutes it with regular for loop. Although most modern CPUs have __builtin_popcount, maybe your CPU doesn&#39;t?"}], "owner": {"reputation": 171, "user_id": 3631538, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kS4bVjRRaGQ/AAAAAAAAAAI/AAAAAAAAARs/sKhSHukSW9g/photo.jpg?sz=128", "display_name": "William J. Cunningham", "link": "https://stackoverflow.com/users/3631538/william-j-cunningham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456936479, "creation_date": 1456935774, "last_edit_date": 1456936479, "question_id": 35752760, "link": "https://stackoverflow.com/questions/35752760/implementation-of-count-in-boosts-dynamic-bitset", "title": "Implementation of count() in Boost&#39;s dynamic_bitset", "body": "<p>I'm profiling some code which uses a <code>dynamic_bitset&lt;&gt;</code> and I've found my bottleneck occurs in the <code>count()</code> function, which needs to be called millions of times in a for loop.  To be brief, the for loop takes pairs of bitsets, calculates the set intersection using <code>&amp;</code>, and then saves the Hamming weight using <code>count()</code>.</p>\n\n<p>To compare to the regular <code>&lt;bitset&gt;</code> in STL, I implemented a bitset as an array of long's and used the <code>__builtin_popcountl()</code> (used in <code>&lt;bitset&gt;</code>), and found it was much slower - about 50% slower.  Has anyone looked at boost's <code>do_count()</code> function, found in <code>&lt;boost/detail/dynamic_bitset.hpp&gt;</code>, because it uses some lookup table which I don't understand at all.</p>\n\n<p>To be more clear, my question is why Boost's <code>do_count()</code> is so much more efficient than <code>__builtin_popcount()</code>?</p>\n"}, {"tags": ["c++", "winapi"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 5, "creation_date": 1456936972, "post_id": 35752702, "comment_id": 59179571, "body": "You are Polish, the standard keyboard layout in Poland has an AltGr key.  Located where other keyboards have the right-Alt key.  <a href=\"https://en.wikipedia.org/wiki/AltGr_key#Control_.2B_Alt_as_a_substitute\" rel=\"nofollow noreferrer\">Read this</a>."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1456937100, "post_id": 35752702, "comment_id": 59179682, "body": "@HansPassant that&#39;s worthy of an answer."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1456937802, "post_id": 35752702, "comment_id": 59180148, "body": "Somebody Polish ought to write that answer.  I don&#39;t have a keyboard like that.so can only guess that this is the underlying issue.  The OP is a good candidate."}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1457005523, "post_id": 35752702, "comment_id": 59213935, "body": "Regarding your edit, that is the point of duplicates. They are an &quot;alternate path&quot; (hopefully a more search-friendly one) to the information. Don&#39;t fret that the question was marked as a duplicate. It doesn&#39;t mean you did anything wrong."}], "answers": [{"tags": [], "owner": {"reputation": 154, "user_id": 1113279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76d960e17fa64fa0a6edb9df48be27ce?s=128&d=identicon&r=PG", "display_name": "Marek Kijo", "link": "https://stackoverflow.com/users/1113279/marek-kijo"}, "is_accepted": false, "score": 2, "last_activity_date": 1456945669, "last_edit_date": 1495541270, "creation_date": 1456945669, "answer_id": 35756005, "question_id": 35752702, "link": "https://stackoverflow.com/questions/35752702/strange-windows-message-sequence-of-wm-keydown-wm-keyup-while-pressing-vk-menu/35756005#35756005", "title": "Strange Windows Message sequence of WM_KEYDOWN / WM_KEYUP while pressing VK_MENU (Alt key)", "body": "<p>Just to make stackoverflow.com clear I rewrite an answer of <a href=\"https://stackoverflow.com/users/17034/hans-passant\">Hans Passant</a> who put his answer as a comment.<br/>\nI can confirm that on some keyboard layouts <kbd>Alt(right)</kbd> behaves like pushing together <kbd>Alt</kbd>+<kbd>Ctrl</kbd>. Also on one of keyboards that I'm using <kbd>Alt(right)</kbd> is tagged <kbd>AltGr</kbd> what is described in detail <a href=\"https://en.wikipedia.org/wiki/AltGr_key\" rel=\"nofollow noreferrer\">here</a>.<br/>\nI can also confirm that changing keyboard layout to eg. US Native (not International) cause that only those</p>\n\n<pre><code>WM_KEYDOWN with wParam == 0x12 (VK_MENU)\nWM_KEYUP with wParam == 0x12 (VK_MENU)\n</code></pre>\n\n<p>events are generated.<br/>\nThanks a lot <a href=\"https://stackoverflow.com/users/17034/hans-passant\">Hans Passant</a>.</p>\n"}], "owner": {"reputation": 154, "user_id": 1113279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76d960e17fa64fa0a6edb9df48be27ce?s=128&d=identicon&r=PG", "display_name": "Marek Kijo", "link": "https://stackoverflow.com/users/1113279/marek-kijo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 829, "favorite_count": 0, "closed_date": 1456961296, "answer_count": 1, "score": 1, "last_activity_date": 1456998228, "creation_date": 1456935635, "last_edit_date": 1495541270, "question_id": 35752702, "link": "https://stackoverflow.com/questions/35752702/strange-windows-message-sequence-of-wm-keydown-wm-keyup-while-pressing-vk-menu", "closed_reason": "Duplicate", "title": "Strange Windows Message sequence of WM_KEYDOWN / WM_KEYUP while pressing VK_MENU (Alt key)", "body": "<p>I'm pretty confused about <code>WM_KEY*</code> messages sequence when I'm pressing and releasing <kbd>Alt</kbd> key (which is know in Virtual Key codes as <code>VK_MENU</code>).\nWhen pressing right <kbd>Alt</kbd> key I get messages:</p>\n\n<pre><code>WM_KEYDOWN with wParam == 0x11 (VK_CONTROL)\nWM_KEYDOWN with wParam == 0x12 (VK_MENU)\n</code></pre>\n\n<p>both messages one by one, when I'm releasing that key (right <kbd>Alt</kbd>) I get:</p>\n\n<pre><code>WM_KEYUP with wParam == 0x11 (VK_CONTROL)\nWM_KEYUP with wParam == 0x12 (VK_MENU)\n</code></pre>\n\n<p>I was rather expecting:</p>\n\n<pre><code>WM_KEYDOWN with wParam == 0x12 (VK_MENU)\nWM_KEYUP with wParam == 0x12 (VK_MENU)\n</code></pre>\n\n<p>Why there is <code>VK_CONTROL</code> involved in the message sequence if it wasn't touched at all? Is there some explanation?<br/><br/>\n<em>Edit: Some people marked this as a duplicate of <a href=\"https://stackoverflow.com/questions/7094282/why-do-i-get-two-messages-on-altgr-being-pressed\">Why do I get two messages on <kbd>Alt</kbd> being pressed?</a>. Yes I agree it's a duplicate but somehow when I was trying to look for the answer giving keywords like <code>VK_CONTROL</code>, <code>VK_MENU</code>, <code>WM_KEYDOWN</code>, <code>Alt</code> etc. I couldn't find anything useful. Also not on every keyboard right Alt is marked as <kbd>AltGr</kbd>  depending on location (only OS keyboard setup matters) so it also is a keyword that you could have problem to figure out to look for. So I think it is good to have it explained in some other way.</em></p>\n"}, {"tags": ["c++", "json"], "comments": [{"owner": {"reputation": 158803, "user_id": 246342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8ba0aea3f521082f18dd7c186e7d4c3?s=128&d=identicon&r=PG", "display_name": "Alex K.", "link": "https://stackoverflow.com/users/246342/alex-k"}, "edited": false, "score": 2, "creation_date": 1456935832, "post_id": 35752610, "comment_id": 59178693, "body": "Not using a library would be significantly harder than using a library, so use a library. - if you have problems implementing one then they are what you need to address rather than attempting to bake your own json parser which is something you cannot delegate to the operating system."}, {"owner": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "edited": false, "score": 1, "creation_date": 1456935844, "post_id": 35752610, "comment_id": 59178704, "body": "C++ doesn&#39;t offer support for HTTP connections out of the box. You either dig your way with a library (cURL seems the best way to go) or use the OS primitive for handling socket. You won&#39;t like the latter though, considering you are having troubles using a library,"}, {"owner": {"reputation": 2012, "user_id": 5397911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a072ff6221030c46750c7e994f484e50?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamad Elghawi", "link": "https://stackoverflow.com/users/5397911/mohamad-elghawi"}, "edited": false, "score": 0, "creation_date": 1456936089, "post_id": 35752610, "comment_id": 59178892, "body": "It all depends on what platform you&#39;re targeting but I would say that writing HTTP code using bare sockets/apis is much more of a headache than trying to figure out how a library works. I suggest using the <a href=\"https://casablanca.codeplex.com/\" rel=\"nofollow noreferrer\">C++ Rest Sdk</a>."}, {"owner": {"reputation": 263, "user_id": 5991706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/806d96950e72f8ad42e25b0d28e4cd75?s=128&d=identicon&r=PG&f=1", "display_name": "JeffCoderr", "link": "https://stackoverflow.com/users/5991706/jeffcoderr"}, "reply_to_user": {"reputation": 33092, "user_id": 5801661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D8ENZ.jpg?s=128&g=1", "display_name": "Margaret Bloom", "link": "https://stackoverflow.com/users/5801661/margaret-bloom"}, "edited": false, "score": 0, "creation_date": 1456936375, "post_id": 35752610, "comment_id": 59179128, "body": "@MargaretBloom when i download cURL i get ALOT of files, i cant seem to find the .lib file withing the cURL .zip :/"}], "answers": [{"comments": [{"owner": {"reputation": 263, "user_id": 5991706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/806d96950e72f8ad42e25b0d28e4cd75?s=128&d=identicon&r=PG&f=1", "display_name": "JeffCoderr", "link": "https://stackoverflow.com/users/5991706/jeffcoderr"}, "edited": false, "score": 0, "creation_date": 1456938417, "post_id": 35753638, "comment_id": 59180582, "body": "thanks for the answer! ill start looking into to it, hopefully i&#39;ll be able get it working soon :)"}, {"owner": {"reputation": 2201, "user_id": 3359432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5d48edbf794415b7f16c19c50d8cc524?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhin David", "link": "https://stackoverflow.com/users/3359432/nidhin-david"}, "reply_to_user": {"reputation": 263, "user_id": 5991706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/806d96950e72f8ad42e25b0d28e4cd75?s=128&d=identicon&r=PG&f=1", "display_name": "JeffCoderr", "link": "https://stackoverflow.com/users/5991706/jeffcoderr"}, "edited": false, "score": 0, "creation_date": 1456938898, "post_id": 35753638, "comment_id": 59180942, "body": "@JeffCoderr You must also take a look at <a href=\"http://www.sgh1.net/b4/curlpp-getting-started-tutorial\" rel=\"nofollow noreferrer\">sgh1.net/b4/curlpp-getting-started-tutorial</a> if you are a beginner."}], "tags": [], "owner": {"reputation": 2201, "user_id": 3359432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5d48edbf794415b7f16c19c50d8cc524?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhin David", "link": "https://stackoverflow.com/users/3359432/nidhin-david"}, "is_accepted": true, "score": 1, "last_activity_date": 1456938179, "creation_date": 1456938179, "answer_id": 35753638, "question_id": 35752610, "link": "https://stackoverflow.com/questions/35752610/c-send-request-to-api-on-webserver-then-receive-json-array-response/35753638#35753638", "title": "c++ send request to API on webserver then receive json array response?", "body": "<p><em>Even though the question is about not using a library I 'am taking this opportunity to show how easy it is to use a library than the user thinks</em>. </p>\n\n<p>Its better to use pre-built libraries and stop reinventing the wheel. You can use <strong>curlcpp library</strong>. Its a wrapper for libcurl. Using this library HTTP requests can be made easily. Learning curve is also less and it provides C++ style access which makes it more comfortable to work with.</p>\n\n<p><strong>The following code is taken from their gitHub page - <a href=\"https://github.com/JosephP91/curlcpp\" rel=\"nofollow\">https://github.com/JosephP91/curlcpp</a></strong></p>\n\n<p>It makes a simple <strong>GET request</strong> to Google and retrieves the HTML response. You can use this example to hit apis too.</p>\n\n<pre><code>#include \"curl_easy.h\"\n#include \"curl_exception.h\"\n\nusing curl::curl_easy;\nusing curl::curl_easy_exception;\nusing curl::curlcpp_traceback;\n\nint main(int argc, const char **argv) {\n    curl_easy easy;\n    // Add some option to the curl_easy object.\n    easy.add&lt;CURLOPT_URL&gt;(\"http://www.google.it\");\n    easy.add&lt;CURLOPT_FOLLOWLOCATION&gt;(1L);\n    try {\n        // Execute the request.\n        easy.perform();\n    } catch (curl_easy_exception error) {\n        // If you want to get the entire error stack we can do:\n        curlcpp_traceback errors = error.get_traceback();\n        // Otherwise we could print the stack like this:\n        error.print_traceback();\n        // Note that the printing the stack will erase it\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 5991706, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/806d96950e72f8ad42e25b0d28e4cd75?s=128&d=identicon&r=PG&f=1", "display_name": "JeffCoderr", "link": "https://stackoverflow.com/users/5991706/jeffcoderr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 35753638, "answer_count": 1, "score": 1, "last_activity_date": 1456938179, "creation_date": 1456935407, "last_edit_date": 1456936141, "question_id": 35752610, "link": "https://stackoverflow.com/questions/35752610/c-send-request-to-api-on-webserver-then-receive-json-array-response", "title": "c++ send request to API on webserver then receive json array response?", "body": "<p>I'm wondering the most simple way to send a request to a API on my server then receive the API's response (json array) wihtout using any libraries. I've tried using libs like cURL &amp; boost without any luck which is the reason i want to stay away from them. I've searched for many days for a answer and have not been able to find anything, which is why i've resorted to coming to the stack overflow community!</p>\n"}, {"tags": ["c++", "pointers"], "answers": [{"tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 0, "last_activity_date": 1456935415, "creation_date": 1456935415, "answer_id": 35752617, "question_id": 35752565, "link": "https://stackoverflow.com/questions/35752565/what-does-this-mean-a-in-c/35752617#35752617", "title": "What does this mean **&amp;a in C++", "body": "<p>The difference between the two is that in the <code>int **&amp;a</code> version, <code>a</code> has been passed by reference. If you change the value of the pointer itself (that is to say, write code like <code>a = a+5;</code>) the value of <code>a</code> will be modified in the original calling function.</p>\n"}, {"tags": [], "owner": {"reputation": 782, "user_id": 4544684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3da28f0aeb513efaa637564170672d8d?s=128&d=identicon&r=PG&f=1", "display_name": "NickLamp", "link": "https://stackoverflow.com/users/4544684/nicklamp"}, "is_accepted": false, "score": 0, "last_activity_date": 1456935425, "creation_date": 1456935425, "answer_id": 35752622, "question_id": 35752565, "link": "https://stackoverflow.com/questions/35752565/what-does-this-mean-a-in-c/35752622#35752622", "title": "What does this mean **&amp;a in C++", "body": "<p>The first function passes the double pointer <code>a</code> by reference and the second function just passes the double pointer <code>a</code> as an argument.</p>\n\n<p>In the first function, any modification done to <code>a</code> will persist after the function has exited unlike in the second where any modification to <code>a</code> will not persist.</p>\n"}], "owner": {"reputation": 135, "user_id": 2802526, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/8be9f656f12cd8715d2735daa81ef957?s=128&d=identicon&r=PG&f=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/2802526/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 852, "favorite_count": 1, "closed_date": 1456935616, "answer_count": 2, "score": -2, "last_activity_date": 1456935425, "creation_date": 1456935303, "question_id": 35752565, "link": "https://stackoverflow.com/questions/35752565/what-does-this-mean-a-in-c", "closed_reason": "Duplicate", "title": "What does this mean **&amp;a in C++", "body": "<p>What is different between two fucntions bellow?</p>\n\n<pre><code>void init1(int **&amp;a, int n)\n{\n    a = new int *[n];\n    for (int i = 0; i&lt;n; i++)\n        a[i] = new int [n];\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>void init1(int **a, int n)\n{\n    a = new int *[n];\n    for (int i = 0; i&lt;n; i++)\n        a[i] = new int [n];\n}\n</code></pre>\n\n<p>Thanks,</p>\n"}, {"tags": ["c++", "c++11", "raii"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1456935264, "post_id": 35752518, "comment_id": 59178201, "body": "The purpose of RAII is to not delay initialization but have it done when you create the object."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 3, "creation_date": 1456935385, "post_id": 35752518, "comment_id": 59178295, "body": "X-Y problem, why you need to delay the initialization?"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1456935457, "post_id": 35752518, "comment_id": 59178359, "body": "Simple solution: do not use an <code>init</code> method in your <code>Game</code> class, but rather the constructor for initialization purposes. Then, you can initialize members of the <code>Game</code> class in its constructor, too."}, {"owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "edited": false, "score": 0, "creation_date": 1456935493, "post_id": 35752518, "comment_id": 59178398, "body": "It seems cleaner to initialize everything in the <code>init</code> function to me... but if there&#39;s no way around it then I guess I&#39;ll init everything in the ctor"}, {"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 1, "creation_date": 1456935592, "post_id": 35752518, "comment_id": 59178489, "body": "It is a violation of RAII. You will end up with <code>Game</code> objects that are invalid because they have not been initialized. This is avoided by doing initialization in the ctor. Why is a separate method &quot;cleaner&quot;?"}, {"owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "edited": false, "score": 0, "creation_date": 1456935962, "post_id": 35752518, "comment_id": 59178790, "body": "It&#39;s just my personal opinion, having all &quot;initializations&quot; done in an <code>init()</code> method. I will take all your advice into consideration, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1456938141, "post_id": 35752961, "comment_id": 59180391, "body": "I think this is a good answer. For future reference, it looks like <a href=\"http://en.cppreference.com/w/cpp/experimental/optional/~optional\" rel=\"nofollow noreferrer\"><code>std::experimental::optional</code></a> could work too, as it also calls the dtor. It&#39;s possible to imagine implementations of <code>optional</code> that don&#39;t require dynamic memory allocations, though, so it might have some advantage."}], "tags": [], "owner": {"reputation": 1727, "user_id": 2014022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b5ab8fa77e562296a1b668005395762?s=128&d=identicon&r=PG", "display_name": "Peter K", "link": "https://stackoverflow.com/users/2014022/peter-k"}, "is_accepted": false, "score": 3, "last_activity_date": 1456936302, "creation_date": 1456936302, "answer_id": 35752961, "question_id": 35752518, "link": "https://stackoverflow.com/questions/35752518/raii-issue-regarding-resource-manager-class/35752961#35752961", "title": "RAII issue regarding resource manager class", "body": "<p>The general solution to this is to have</p>\n\n<pre><code>unique_ptr&lt;WindowHandler&gt; window;\n</code></pre>\n\n<p>instead of plain</p>\n\n<pre><code>WindowHandler window;\n</code></pre>\n\n<p>member, then you can call its constructor with delay.</p>\n\n<pre><code>void Game::init(int arg) {\n    window = make_unique&lt;WindowHandler&gt;(arg);\n}\n</code></pre>\n\n<p>and it will still be destroyed automatically.</p>\n\n<p>(I'm technical here, if this is a good or bad design or if it is a violation of RAII is out of current scope).</p>\n"}], "owner": {"reputation": 1037, "user_id": 5909227, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/0c26a3ebb3e603b06723ab605b4085f8?s=128&d=identicon&r=PG&f=1", "display_name": "Chara", "link": "https://stackoverflow.com/users/5909227/chara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1456936302, "creation_date": 1456935195, "question_id": 35752518, "link": "https://stackoverflow.com/questions/35752518/raii-issue-regarding-resource-manager-class", "title": "RAII issue regarding resource manager class", "body": "<p>I have a <code>SDL_Window</code> wrapper class called <code>WindowHandler</code> as a class member in my <code>Game</code> class. Preferably, I would like to initialize the <code>WindowHandler</code> in my <code>Game::init</code> method. However, the class does not have a 0-param ctor, so the program will break if I don't initialize the <code>WindowHandler</code> variable in an initialization list. Is there a way to delay the initialization to the <code>Game::init</code> method?</p>\n"}]