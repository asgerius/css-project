[{"tags": ["c++"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1430351929, "post_id": 29956684, "comment_id": 48034063, "body": "If you couldn&#39;t use them, you&#39;d get a compiler error."}, {"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352101, "post_id": 29956684, "comment_id": 48034112, "body": "I can&#39;t use myage inside the loop(you are correct)"}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 2, "creation_date": 1430352136, "post_id": 29956684, "comment_id": 48034123, "body": "You have changed your question, and now your code works as described when compiled and run. Are you getting an error message? What is it?"}, {"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352224, "post_id": 29956684, "comment_id": 48034145, "body": "Yes, it says the variable myage might not be initialized"}, {"owner": {"reputation": 3282, "user_id": 4833127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2dbdd602d584725385f45ab6087bda58?s=128&d=identicon&r=PG&f=1", "display_name": "Zsw", "link": "https://stackoverflow.com/users/4833127/zsw"}, "edited": false, "score": 1, "creation_date": 1430352507, "post_id": 29956684, "comment_id": 48034237, "body": "Your example code doesn&#39;t reproduce the error for me."}, {"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352584, "post_id": 29956684, "comment_id": 48034261, "body": "I&#39;m sorry, the code I pasted in wasn&#39;t exactly the same for me, so it created an error. It now works, thanks to Arun."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352166, "post_id": 29956701, "comment_id": 48034130, "body": "Thanks for letting me know, but I wrote this quickly as an example to try to explain my problem better."}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 1, "creation_date": 1430352175, "post_id": 29956701, "comment_id": 48034134, "body": "Frustratingly, the OP changed the question which makes this answer obsolete."}, {"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352294, "post_id": 29956701, "comment_id": 48034157, "body": "Was I not supposed to change it?"}, {"owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "edited": false, "score": 0, "creation_date": 1430352375, "post_id": 29956701, "comment_id": 48034187, "body": "Yes, it is frustrating indeed :)"}, {"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430352815, "post_id": 29956701, "comment_id": 48034320, "body": "Thank you for your help."}], "tags": [], "owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "is_accepted": true, "score": 6, "last_activity_date": 1430351923, "creation_date": 1430351923, "answer_id": 29956701, "question_id": 29956684, "link": "https://stackoverflow.com/questions/29956684/i-cannot-figure-out-how-to-refer-to-a-variable-outside-a-loopc/29956701#29956701", "title": "I cannot figure out how to refer to a variable outside a loop(C++)", "body": "<p>The loop never executes</p>\n\n<pre><code>for(int i=0; i&gt;98; i++){\n</code></pre>\n\n<p>since <code>i&gt;98</code> is <code>false</code></p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 4142717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka9sc.jpg?s=128&g=1", "display_name": "sabreitweiser", "link": "https://stackoverflow.com/users/4142717/sabreitweiser"}, "is_accepted": false, "score": 0, "last_activity_date": 1430352203, "creation_date": 1430352203, "answer_id": 29956740, "question_id": 29956684, "link": "https://stackoverflow.com/questions/29956684/i-cannot-figure-out-how-to-refer-to-a-variable-outside-a-loopc/29956740#29956740", "title": "I cannot figure out how to refer to a variable outside a loop(C++)", "body": "<p>If you're asking what I think you're asking, absolutely. A for loop is almost more of a convenience syntax, giving you a place to specify an initial condition, a break condition, and a command to execute every iteration. To the best of my knowledge you can use as many or as few of these as you want, for example</p>\n\n<pre><code>#include &lt;iostream&gt;\nint main(){\n    int myage = 0;\n    for(; myage&lt;10; myage++)\n        std::cout &lt;&lt; myage &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>will print out the numbers 0 through 9. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4503632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65abb43eee6cde3a0f54427b5712cbd9?s=128&d=identicon&r=PG&f=1", "display_name": "Marko Opa\u010di\u0107", "link": "https://stackoverflow.com/users/4503632/marko-opa%c4%8di%c4%87"}, "is_accepted": false, "score": 0, "last_activity_date": 1430352430, "creation_date": 1430352430, "answer_id": 29956779, "question_id": 29956684, "link": "https://stackoverflow.com/questions/29956684/i-cannot-figure-out-how-to-refer-to-a-variable-outside-a-loopc/29956779#29956779", "title": "I cannot figure out how to refer to a variable outside a loop(C++)", "body": "<p>Since this is already answered, you could improve and shorten your code by using += operator like this:\n <code>myage += 1;</code></p>\n\n<p>or this:\n<code>myage++;</code> </p>\n\n<p>instead of <code>myage=myage+1;</code></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "edited": false, "score": 0, "creation_date": 1430354105, "post_id": 29956975, "comment_id": 48034679, "body": "Very helpful, as I am learning code. Thank you for sharing this!"}], "tags": [], "owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "is_accepted": false, "score": 0, "last_activity_date": 1430353788, "creation_date": 1430353788, "answer_id": 29956975, "question_id": 29956684, "link": "https://stackoverflow.com/questions/29956684/i-cannot-figure-out-how-to-refer-to-a-variable-outside-a-loopc/29956975#29956975", "title": "I cannot figure out how to refer to a variable outside a loop(C++)", "body": "<p>Understanding scope is important. Loops and functions create a scope, and they can always access things at a higher up scope; however, things cannot be accessed from a smaller scope. Objects exist for the entire duration of their scope, and anything within that scope can access them.</p>\n\n<pre><code>// Global scope:\nint g = 0; // everything in this file can access this variable\n\nclass SomeClass\n{\n    // Class scope\n    int c = 0;\n    void ClassFunction()\n    {\n        // ClassFunction scope\n        // Here we can access anything at global scope as well as anything within this class's scope:\n        int f = 0;\n\n        std::cout &lt;&lt; g &lt;&lt; std::endl; // fine, can access global scope\n        std::cout &lt;&lt; c &lt;&lt; std::endl; // fine, can access class scope\n        std::cout &lt;&lt; f &lt;&lt; std::endl; // fine, can access local scope\n    }\n    // Outside of ClassFunction, we can no longer access the variable f\n};\n\nvoid NonClassFunction()\n{\n    // NonClassFunction scope\n    // We can access the global scope, but not class scope\n    std::cout &lt;&lt; g &lt;&lt; std::endl;\n\n    int n1 = 0;\n    for (...)\n    {\n        // New scope\n        // Here we can still access g and n1\n        n1 = g;\n        int x = 0;\n    }\n    // We can no longer access x, as the scope of x no longer exists\n\n    if (...)\n    {\n        // New scope\n        int x = 0; // fine, x has not been declared at this scope\n        {\n            // New scope\n            x = 1;\n            g = 1;\n            n1 = 1;\n            int n2 = 0;\n        }\n        // n2 no longer exists\n        int n2 = 3; // fine, we are creating a new variable called n2\n    }\n}\n</code></pre>\n\n<p>Hopefully this has helped explain scope to you. With all this new information in mind, the answer is yes: you can access your variables within a for loop because the scope of those variables persists within an inner scope.</p>\n"}], "owner": {"reputation": 13, "user_id": 4848571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7929ccdd71ef93a01822d266147a5776?s=128&d=identicon&r=PG&f=1", "display_name": "Natex", "link": "https://stackoverflow.com/users/4848571/natex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 29956701, "answer_count": 4, "score": -3, "last_activity_date": 1430367936, "creation_date": 1430351801, "last_edit_date": 1430367936, "question_id": 29956684, "link": "https://stackoverflow.com/questions/29956684/i-cannot-figure-out-how-to-refer-to-a-variable-outside-a-loopc", "title": "I cannot figure out how to refer to a variable outside a loop(C++)", "body": "<p>Basically my problem is that I created a variable(string) outside a loop, and I want to use it inside the loop. Here is an example code to try to explain better:</p>\n\n<pre><code>int myage = 0; // set by user\nint currentyear = 2015;\n\ncout &lt;&lt; \"How old are you?\" &lt;&lt; endl;\ncin &gt;&gt; myage;\n\nfor(int i=0; i&gt;98; i++) {\n  myage=myage+1;\n  currentyear=currentyear+1;\n\n  cout &lt;&lt; \"In \" &lt;&lt; currentyear &lt;&lt; \" you will be \" &lt;&lt; myage &lt;&lt; \" years old.\" &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This is just a quick example I made up to try to explain it better, so my question is: is there any way I could use <code>myage</code> or <code>currentyear</code> variables in this loop? If yes, how?</p>\n\n<p>Do not hesitate to ask if you need more info or specific data.</p>\n"}, {"tags": ["c++", "sorting", "char", "wchar"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1430351772, "post_id": 29956655, "comment_id": 48034011, "body": "Do not cast strings."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 1, "creation_date": 1430351827, "post_id": 29956655, "comment_id": 48034033, "body": "<code>if (playerNames[i] != &quot;-&quot;){</code> will <i>always</i> succeed. C-style strings aren&#39;t compared that way; you&#39;re comparing two different pointers for equality. What you want is <code>strcmp()</code> or the WCHAR variant."}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1430352099, "post_id": 29956655, "comment_id": 48034110, "body": "Also: <code>i &lt; 30</code> means you&#39;ll eventually be accessing <code>i[29]</code>, which does not exist (a 29-element array will have elements 0 through 28)."}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 0, "creation_date": 1430353421, "post_id": 29956655, "comment_id": 48034509, "body": "there is still <code>playerNames[i] == &quot;-&quot;</code>"}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 0, "creation_date": 1430353458, "post_id": 29956655, "comment_id": 48034525, "body": "Either tag your question as C, or start using C++ <code>std::string</code>"}], "answers": [{"comments": [{"owner": {"reputation": 169, "user_id": 4381843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f751489758e7b52e40b5a3077f5e49d9?s=128&d=identicon&r=PG&f=1", "display_name": "Hx0", "link": "https://stackoverflow.com/users/4381843/hx0"}, "edited": false, "score": 0, "creation_date": 1430353363, "post_id": 29956688, "comment_id": 48034488, "body": "I made sorted a 30 elements array, also changed <code>if(playerNames[i] != &quot;-&quot;)</code> to <code>if(strcmp(playerNames[i], &quot;-&quot;) != 0)</code>. Still dosen&#39;t work"}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 0, "creation_date": 1430353368, "post_id": 29956688, "comment_id": 48034492, "body": "<code>playerNames[i] != &quot;-&quot;</code> would work if strings in that array were actually C++ strings, not C strings."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 169, "user_id": 4381843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f751489758e7b52e40b5a3077f5e49d9?s=128&d=identicon&r=PG&f=1", "display_name": "Hx0", "link": "https://stackoverflow.com/users/4381843/hx0"}, "edited": false, "score": 0, "creation_date": 1430354405, "post_id": 29956688, "comment_id": 48034767, "body": "@Hx0 Honestly, just load your strings into a <code>std::vector&lt;string&gt;</code> and call <code>std::sort</code> on the vector and you&#39;re done."}, {"owner": {"reputation": 169, "user_id": 4381843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f751489758e7b52e40b5a3077f5e49d9?s=128&d=identicon&r=PG&f=1", "display_name": "Hx0", "link": "https://stackoverflow.com/users/4381843/hx0"}, "edited": false, "score": 0, "creation_date": 1430357182, "post_id": 29956688, "comment_id": 48035586, "body": "I can&#39;t, I&#39;m using an API and most functions returns Any* , I tried to do my code with string and with vector and I always end up with player names in digits."}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "reply_to_user": {"reputation": 169, "user_id": 4381843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f751489758e7b52e40b5a3077f5e49d9?s=128&d=identicon&r=PG&f=1", "display_name": "Hx0", "link": "https://stackoverflow.com/users/4381843/hx0"}, "edited": false, "score": 0, "creation_date": 1430358202, "post_id": 29956688, "comment_id": 48035903, "body": "@Hx0 none of that sounds like a reason you can&#39;t use the STL."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 1, "last_activity_date": 1430351831, "creation_date": 1430351831, "answer_id": 29956688, "question_id": 29956655, "link": "https://stackoverflow.com/questions/29956655/sorting-function-not-working-string-comparison-issue/29956688#29956688", "title": "Sorting function not working (string comparison issue)", "body": "<p>Here's one problem: <code>if (playerNames[i] != \"-\"){</code> will never execute the <code>true</code> branch because you're performing a pointer comparison, not a value comparison (C++ is not like Javascript or C#). You're comparing the memory address of a string in <code>playerNames</code> with the address of the literal string <code>\"-\"</code>.</p>\n\n<p>Also a few other points:</p>\n\n<ol>\n<li>Don't use C-style casts in C++. Use the C++ casting operators (<code>static_cast</code>, <code>dynamic_cast</code> or <code>reinterpret_cast</code> instead as needed).</li>\n<li>As you're using C++, use the STL's string types instead of C-style strings, as they have built-in comparison features.</li>\n<li><code>playerNames</code> has 30 elements but <code>sorted</code> has 29 elements. Why is there a difference?</li>\n<li><code>sorted</code> has function scope lifetime. Once <code>sort</code> returns any pointer to <code>sorted</code> is invalid and the data will likely be overwritten by a subsequent function call or stack allocation.</li>\n<li>Your code doesn't actually perform any sorting, it simply iterates through the list twice resulting in, what seems to me, are meaningless comparisons.</li>\n</ol>\n"}], "owner": {"reputation": 169, "user_id": 4381843, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f751489758e7b52e40b5a3077f5e49d9?s=128&d=identicon&r=PG&f=1", "display_name": "Hx0", "link": "https://stackoverflow.com/users/4381843/hx0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 29956688, "answer_count": 1, "score": -3, "last_activity_date": 1548641773, "creation_date": 1430351606, "last_edit_date": 1548641773, "question_id": 29956655, "link": "https://stackoverflow.com/questions/29956655/sorting-function-not-working-string-comparison-issue", "title": "Sorting function not working (string comparison issue)", "body": "<p>I've got a sorting function which should put all usernames starting from 3 character or more to the top of the array, and all the ones under 3 </p>\n\n<pre><code>if(wcslen((WCHAR*)playerNames[i]) &lt; 3)\n</code></pre>\n\n<p>(Which will all be \"-\") to the bottom and replaced with <code>&lt;Unknown&gt;</code>. I've tried the following but I sets weird debugger values when replacing <code>\"-\"</code> with <code>\"&lt;Unknown&gt;\"</code> and crashes.</p>\n\n<pre><code>char* playerNames[30] = { \"Player1\", \"Player2\", \"Player3\", \"Player4\", \"Player5\", \"Player6\", \"-\", \"Player7\", \"-\", \"-\", \"-\", \"-\", \"Player8\", \"Player9\", \"Player10\", \"Player11\", \"Player12\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"-\", \"Player14\", \"Player15\" };\nvoid sort(){\n    char* sorted[29];\n    int slot = 0;\n    for (int i = 0; i &lt; 30; i++){\n        if (playerNames[i] != \"-\"){\n            if (i == slot){\n                sorted[slot] = playerNames[i];\n            }\n            else {\n                sorted[i] = playerNames[i];\n            }\n            slot++;\n        }\n        else if (playerNames[i] == \"-\"){\n            slot++;\n        }\n    }\n    for (int i = 0; i &lt; 30; i++){\n        if (wcslen((WCHAR*)sorted[i]) &lt; 3){\n            sorted[i] = \"&lt;Unknown&gt;\";\n        }\n        playerNames[i] = sorted[i];\n    }\n}\n</code></pre>\n\n<p>This should return</p>\n\n<pre><code>Player1\nPlayer2\nPlayer3\nPlayer4\nPlayer5\nPlayer6\nPlayer7\nPlayer8\nPlayer9\nPlayer10\nPlayer11\nPlayer12\nPlayer13\nPlayer14\nPlayer15\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n&lt;Unknown&gt;\n</code></pre>\n\n<p>EDIT: Tried the following, but I still don't get it to work:</p>\n\n<pre><code>void sort(){\n    char* sorted[30];\n    int slot = 0;\n    for (int i = 0; i &lt; 30; i++){\n        if (strcmp(playerNames[i], \"-\") != 0){\n            if (i == slot){\n                sorted[slot] = playerNames[i];\n            }\n            else {\n                sorted[i] = playerNames[i];\n            }\n            slot++;\n        }\n        else if (playerNames[i] == \"-\"){\n            slot++;\n        }\n    }\n    for (int i = 0; i &lt; 30; i++){\n        if (strlen(sorted[i]) &lt; 3){\n            sorted[i] = \"&lt;Unknown&gt;\";\n        }\n        playerNames[i] = sorted[i];\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "long-integer", "unsigned", "size-t"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1430352323, "post_id": 29956627, "comment_id": 48034169, "body": "Did you mean to tag this C++?"}, {"owner": {"reputation": 436126, "user_id": 922184, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h7WDB.jpg?s=128&g=1", "display_name": "Mysticial", "link": "https://stackoverflow.com/users/922184/mysticial"}, "edited": false, "score": 0, "creation_date": 1430352394, "post_id": 29956627, "comment_id": 48034196, "body": "That&#39;s probably because <code>size_t</code> is defined as <code>unsigned long</code> on your environment. C/C++ doesn&#39;t have a very strong type system in this aspect."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 2, "creation_date": 1430352915, "post_id": 29956627, "comment_id": 48034359, "body": "This is a bad idea anyway because even if it worked, you would get ambiguous call errors whenever you tried to use the function with <code>int</code>s for example. Can you explain what problem you are trying to solve?"}, {"owner": {"reputation": 197, "user_id": 1257574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7858f3de7073f9a378223803fa7fa7d?s=128&d=identicon&r=PG", "display_name": "Harvey Dent", "link": "https://stackoverflow.com/users/1257574/harvey-dent"}, "edited": false, "score": 0, "creation_date": 1430356508, "post_id": 29956627, "comment_id": 48035367, "body": "thank you all. Actually it passed the compilation, but failed at link phase, where a marco call myFunc()."}], "answers": [{"comments": [{"owner": {"reputation": 972, "user_id": 2481400, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/H9Ddb.png?s=128&g=1", "display_name": "mhs", "link": "https://stackoverflow.com/users/2481400/mhs"}, "edited": false, "score": 0, "creation_date": 1430353735, "post_id": 29956923, "comment_id": 48034598, "body": "isn&#39;t size_t an unsigned integer? it can be unsigned int32 or unsigned int64 but can it be unsigned long?"}, {"owner": {"reputation": 603, "user_id": 4142717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka9sc.jpg?s=128&g=1", "display_name": "sabreitweiser", "link": "https://stackoverflow.com/users/4142717/sabreitweiser"}, "reply_to_user": {"reputation": 972, "user_id": 2481400, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/H9Ddb.png?s=128&g=1", "display_name": "mhs", "link": "https://stackoverflow.com/users/2481400/mhs"}, "edited": false, "score": 1, "creation_date": 1430354059, "post_id": 29956923, "comment_id": 48034666, "body": "@mhs the terminology can get a bit confusing; int, long, int32_t, uint32_t, etc... are all integer types. As far as I know, they&#39;re usually typedef&#39;d down to the basic types, e.g. int or unsigned long. The difference is that the basic types are guaranteed by the standard to be AT LEAST a certain size, while the intX_t types are guaranteed to be EXACTLY X size. So, if you&#39;re on a system where long is a 64 bit data type, uint64_t might just be unsigned long. Similarly, if you&#39;re working on a 64 bit system, size_t might just be typedef&#39;d to unsigned long as well."}, {"owner": {"reputation": 197, "user_id": 1257574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7858f3de7073f9a378223803fa7fa7d?s=128&d=identicon&r=PG", "display_name": "Harvey Dent", "link": "https://stackoverflow.com/users/1257574/harvey-dent"}, "edited": false, "score": 0, "creation_date": 1430356513, "post_id": 29956923, "comment_id": 48035371, "body": "thank you all. Actually it passed the compilation, but failed at link phase, where a marco call myFunc()."}], "tags": [], "owner": {"reputation": 603, "user_id": 4142717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka9sc.jpg?s=128&g=1", "display_name": "sabreitweiser", "link": "https://stackoverflow.com/users/4142717/sabreitweiser"}, "is_accepted": false, "score": 3, "last_activity_date": 1430353462, "creation_date": 1430353462, "answer_id": 29956923, "question_id": 29956627, "link": "https://stackoverflow.com/questions/29956627/unsigned-long-vs-size-t-causes-function-overload-fail/29956923#29956923", "title": "unsigned long vs size_t causes function overload fail", "body": "<p>It sounds like size_t and unsigned long are the same type on your system; the compiler is complaining that you have two of the same function. Furthermore, overloading with multiple number types is generally a bad idea because the compiler may not be able to recognize which overload you want due to casting possibilities. Try using templates instead:</p>\n\n<pre><code>template &lt;T&gt;\nvoid myfunc(T param1, T param2){\n...\n}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 1257574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7858f3de7073f9a378223803fa7fa7d?s=128&d=identicon&r=PG", "display_name": "Harvey Dent", "link": "https://stackoverflow.com/users/1257574/harvey-dent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1062, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1430353462, "creation_date": 1430351440, "last_edit_date": 1430352879, "question_id": 29956627, "link": "https://stackoverflow.com/questions/29956627/unsigned-long-vs-size-t-causes-function-overload-fail", "title": "unsigned long vs size_t causes function overload fail", "body": "<p>I defined a function:</p>\n\n<pre><code>void myfunc(size_t param1, size_t param2){\n...\n}\n</code></pre>\n\n<p>it works fine. But when I try to overload this function</p>\n\n<pre><code>void myfunc(unsigned long param1, unsigned long param2){\n...\n}\n</code></pre>\n\n<p>It fails to compile with the following message:\nerror: myfunc(unsigned long param1, unsigned long param2) cannot be overloaded.</p>\n\n<p>How can I solve this problem without staic_cast the input parameters to size_t?</p>\n\n<p>thanks!</p>\n"}, {"tags": ["c++", "unix", "operating-system", "posix"], "comments": [{"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430350921, "post_id": 29956522, "comment_id": 48033766, "body": "Do you want  to <code>store</code> or to <code>sort</code>?"}, {"owner": {"reputation": 770, "user_id": 3991741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dffc335f7e054af9e9e6be373bf81c6c?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/3991741/sad"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430350965, "post_id": 29956522, "comment_id": 48033780, "body": "I want to store the sorted list of all sub directories. Thanks though!"}, {"owner": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430351145, "post_id": 29956522, "comment_id": 48033828, "body": "So if you don&#39;t want to use an extra file, what do you want  to use?"}, {"owner": {"reputation": 770, "user_id": 3991741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dffc335f7e054af9e9e6be373bf81c6c?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/3991741/sad"}, "reply_to_user": {"reputation": 24609, "user_id": 1974224, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/rQQMq.png?s=128&g=1", "display_name": "Cristik", "link": "https://stackoverflow.com/users/1974224/cristik"}, "edited": false, "score": 0, "creation_date": 1430351219, "post_id": 29956522, "comment_id": 48033853, "body": "like an vector of strings where each entry is the name of the subdirectory."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1430351534, "post_id": 29956522, "comment_id": 48033927, "body": "You might want to look up (for one example) Boost <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/filesystem/doc/reference.html#Class-directory_iterator\" rel=\"nofollow noreferrer\">directory_iterator</a>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1430351774, "post_id": 29956522, "comment_id": 48034012, "body": "You can use <code>popen()</code> to execute a shell command and read the output from it. Then you can read each line into a string, which you put into an array."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1430351819, "post_id": 29956522, "comment_id": 48034027, "body": "See also <a href=\"http://stackoverflow.com/questions/3190514/popen-equivalent-in-c\">stackoverflow.com/questions/3190514/popen-equivalent-in-c</a> for C++ equivalents to <code>popen()</code>."}, {"owner": {"reputation": 770, "user_id": 3991741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dffc335f7e054af9e9e6be373bf81c6c?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/3991741/sad"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1430355323, "post_id": 29956522, "comment_id": 48035019, "body": "@Barmar, I have already a pipe set up between the child and the parent. The parent should send each subdirectory name to the child. How can I again use the popen(),? Thanks though!"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1430355473, "post_id": 29956522, "comment_id": 48035056, "body": "The child can substitute the directory name into the <code>ls</code> command, and then call <code>popen()</code> with that command to read the output."}], "owner": {"reputation": 770, "user_id": 3991741, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/dffc335f7e054af9e9e6be373bf81c6c?s=128&d=identicon&r=PG&f=1", "display_name": "sad", "link": "https://stackoverflow.com/users/3991741/sad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430350798, "creation_date": 1430350798, "question_id": 29956522, "link": "https://stackoverflow.com/questions/29956522/storing-all-the-subdirectories", "title": "Storing all the subdirectories", "body": "<p>I am doing my assignment and would like to store all sub directories in the proc directory. One option is to use a file to store all and later store it back to a string like this.</p>\n\n<pre><code> system(\"ls -1 /proc | sort &gt; hw4data.txt \"); \n\n    myFile.open(\"hw4data.txt\");     \n    myFile &gt;&gt; fdata;\n</code></pre>\n\n<p>But I am not allowed to use an extra file. But I want the list of all subdirectories in the /proc directory. </p>\n"}, {"tags": ["c++", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 11241, "user_id": 3015960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d7011761181ddb840f9cce628eb1e2f0?s=128&d=identicon&r=PG&f=1", "display_name": "anhlc", "link": "https://stackoverflow.com/users/3015960/anhlc"}, "is_accepted": true, "score": 1, "last_activity_date": 1430350991, "creation_date": 1430350991, "answer_id": 29956562, "question_id": 29956350, "link": "https://stackoverflow.com/questions/29956350/inserting-a-record-into-document-using-mongodb-c-api/29956562#29956562", "title": "Inserting a record into document using Mongodb C++ API", "body": "<pre><code>BSONObj ap = BSONObjBuilder().append(\"name\", routerName).obj();\nBSONObj sensorObj = BSONObjBuilder().genOID().append(\"id\", sensorId) \\\n        .append(\"name\",sensorName).append(\"ap\", ap).obj();\n</code></pre>\n"}], "owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 29956562, "answer_count": 1, "score": 0, "last_activity_date": 1430350991, "creation_date": 1430349789, "question_id": 29956350, "link": "https://stackoverflow.com/questions/29956350/inserting-a-record-into-document-using-mongodb-c-api", "title": "Inserting a record into document using Mongodb C++ API", "body": "<p>I have written a C++ function to insert a new record into the document in a Mongodb database. However, I could not finish it. I am new to this API and seeking help. </p>\n\n<p>My record into docuement would look like this. For now, I have written a mongo shell command to do this, but I want to achieve same using C++ API. </p>\n\n<pre><code>{ _id: ObjectId('5541578bcec7d8fd45839197'), id: \"sensor1\", name: \"/temp/s/1\", ap: { name: \"/ap/1/access/1\" } }\n</code></pre>\n\n<p>C++ API.</p>\n\n<pre><code>void\nLocationDb::insert(string sensorId, string sensorName, string routerName) {\n\nBSONObj sensorObj = BSONObjBuilder().genOID().append(\"id\", sensorId) \\\n        .append(\"name\",sensorName).append(\"ap\", \"name\", routerName).obj();\n\n// This last append is not clear to me.\n\nm_conn.insert(\"location_db.ldb\", sensorObj);\n}\n</code></pre>\n\n<p>Can someone please help with the correct API to achieve the above result?</p>\n"}, {"tags": ["c++", "base64"], "comments": [{"owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "edited": false, "score": 0, "creation_date": 1430349917, "post_id": 29956270, "comment_id": 48033458, "body": "What&#39;s wrong with taking one <code>char</code> from the encoded <code>string</code> and <code>push_back</code> it to the <code>vector&lt;bool&gt;</code> (and loop over it)?"}, {"owner": {"reputation": 21, "user_id": 4839868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c1e1bc880dbe25edff139739100fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Javiuzu", "link": "https://stackoverflow.com/users/4839868/javiuzu"}, "reply_to_user": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "edited": false, "score": 0, "creation_date": 1430350191, "post_id": 29956270, "comment_id": 48033539, "body": "the string has the values in bytes, so one char is a byte, i have to get a bit of it, i tried converting it to 8 bits with this code \tint it = 0; \tfor (int i = 0; i &lt; decodedString.size(); ++i) { \t\tunsigned char c = decodedString[i]; \t\tfor (unsigned char j = 128; j &gt; 0; j &lt;&lt;= 1) { \t\t\tif (c&amp;j) bits[++it] = true; \t\t\telse bits[++it] = false; but the result was wrong."}, {"owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "edited": false, "score": 0, "creation_date": 1430350666, "post_id": 29956270, "comment_id": 48033682, "body": "Can you please add your code in the question body in a formatted way so that it is easier to read?"}, {"owner": {"reputation": 21, "user_id": 4839868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c1e1bc880dbe25edff139739100fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Javiuzu", "link": "https://stackoverflow.com/users/4839868/javiuzu"}, "reply_to_user": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "edited": false, "score": 0, "creation_date": 1430350964, "post_id": 29956270, "comment_id": 48033779, "body": "Thanks for the input! I did so"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4839868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c1e1bc880dbe25edff139739100fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Javiuzu", "link": "https://stackoverflow.com/users/4839868/javiuzu"}, "edited": false, "score": 0, "creation_date": 1430352728, "post_id": 29956649, "comment_id": 48034294, "body": "While it worked more consistenly than mine it converted the chars to bytes."}, {"owner": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "edited": false, "score": 1, "creation_date": 1430358685, "post_id": 29956649, "comment_id": 48036035, "body": "<code>sizeof(char)</code> is probably 1, likely not what you want."}, {"owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "reply_to_user": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "edited": false, "score": 0, "creation_date": 1430359412, "post_id": 29956649, "comment_id": 48036214, "body": "@MikeDeSimone: No, I meant CHAR_BIT. Thanks for pointing out."}], "tags": [], "owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "is_accepted": false, "score": 1, "last_activity_date": 1430359192, "last_edit_date": 1430359192, "creation_date": 1430351584, "answer_id": 29956649, "question_id": 29956270, "link": "https://stackoverflow.com/questions/29956270/convert-a-decoded-base64-byte-string-to-a-vector-of-bools/29956649#29956649", "title": "Convert a decoded Base64 byte string to a vector of bools", "body": "<p>In OP's code, it is not clear if the vector <code>bits</code> is of sufficient size, for example, if it is <code>resize</code>d by the caller (It should not be!). If not, then the vector does not have space allocated, and hence <code>bits[++it]</code> may not work; the appropriate thing might be to <code>push_back</code>. (Moreover, I think the code might need  the post-increment of <code>it</code>, i.e. <code>bits[it++]</code> to start from <code>bits[0]</code>.)</p>\n\n<p>Furthermore, in OP's code, the purpose of <code>unsigned char j = 128</code> and <code>j &lt;&lt;= 1</code> is not clear. Wouldn't <code>j</code> be all zeros after the first iteration? If so, the inner loop would always run for only one iteration.</p>\n\n<p>I would try something like this (not compiled):</p>\n\n<pre><code>void DecodedStringToBit(std::string const&amp; decodedString,\n                        std::vector&lt;bool&gt;&amp; bits) {\n    for (auto charIndex = 0; charIndex != decodedString.size(); ++charIndex) {\n        const unsigned char c = decodedString[charIndex];\n        for (int bitIndex = 0; bitIndex != CHAR_BIT; ++bitIndex) { \n            // CHAR_BIT = bits in a char = 8\n            const bool bit = c &amp; (1 &lt;&lt; bitIndex);  // bitwise-AND with mask\n            bits.push_back(bit);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "is_accepted": false, "score": 1, "last_activity_date": 1430358969, "creation_date": 1430358969, "answer_id": 29957724, "question_id": 29956270, "link": "https://stackoverflow.com/questions/29956270/convert-a-decoded-base64-byte-string-to-a-vector-of-bools/29957724#29957724", "title": "Convert a decoded Base64 byte string to a vector of bools", "body": "<p>Your inner <code>for</code> loop is botched: it's shifting <code>j</code> the wrong way. And honestly, if you want to work with 8-bit values, you should use the proper <code>&lt;stdint.h&gt;</code> types instead of <code>unsigned char</code>:</p>\n\n<pre><code>for (uint8_t j = 128; j; j &gt;&gt;= 1)\n    bits.push_back(c &amp; j);\n</code></pre>\n\n<p>Also, remember to call <code>bits.reserve(decodedString.size() * 8);</code> so your program doesn't waste a bunch of time on resizing.</p>\n\n<hr>\n\n<p>I'm assuming the bit order is MSB first. If you want LSB first, the loop becomes:</p>\n\n<pre><code>for (uint8_t j = 1; j; j &lt;&lt;= 1)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 4839868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c1e1bc880dbe25edff139739100fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Javiuzu", "link": "https://stackoverflow.com/users/4839868/javiuzu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1430359192, "creation_date": 1430349345, "last_edit_date": 1430359118, "question_id": 29956270, "link": "https://stackoverflow.com/questions/29956270/convert-a-decoded-base64-byte-string-to-a-vector-of-bools", "title": "Convert a decoded Base64 byte string to a vector of bools", "body": "<p>I have a base64 string containing bits, I have alredy decoded it with the code in <a href=\"http://www.adp-gmbh.ch/cpp/common/base64.html\" rel=\"nofollow\">here</a>. But I'm unable to transform the resultant string in bits I could work with. Is there a way to convert the bytes contained in the code to a vector of bools containing the bits of the string?</p>\n\n<p>I have tried converting the char with this code but it failed to conver to a proper char</p>\n\n<pre><code>void DecodedStringToBit(std::string const&amp; decodedString, std::vector&lt;bool&gt; &amp;bits) {\n    int it = 0;\n    for (int i = 0; i &lt; decodedString.size(); ++i) {\n        unsigned char c = decodedString[i];\n        for (unsigned char j = 128; j &gt; 0; j &lt;&lt;= 1) {\n            if (c&amp;j) bits[++it] = true;\n            else bits[++it] = false;\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "performance", "c++11"], "comments": [{"owner": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "edited": false, "score": 2, "creation_date": 1430349039, "post_id": 29956138, "comment_id": 48033164, "body": "The correct statement would be closer to <code>throw()</code> and mainly <code>noexcept</code> don&#39;t remove much overhead in the general case. While the compiler could seem like it could avoid exception handling for that function, the fact that it must call terminate if an exception is thrown means that it cannot really."}, {"owner": {"reputation": 2942, "user_id": 4821282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fcf596fdff8b28c477a9105501c8a2?s=128&d=identicon&r=PG&f=1", "display_name": "phantom", "link": "https://stackoverflow.com/users/4821282/phantom"}, "reply_to_user": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "edited": false, "score": 0, "creation_date": 1430349321, "post_id": 29956138, "comment_id": 48033278, "body": "@DavidRodr&#237;guez-dribeas So the <code>noexcept</code> case is still doing the full exception checking routine to stop exceptions from escaping the function?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "edited": false, "score": 1, "creation_date": 1430349334, "post_id": 29956138, "comment_id": 48033284, "body": "@DavidRodr&#237;guez-dribeas For <code>noexcept</code>, not having to unwind the stack helps."}, {"owner": {"reputation": 2942, "user_id": 4821282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fcf596fdff8b28c477a9105501c8a2?s=128&d=identicon&r=PG&f=1", "display_name": "phantom", "link": "https://stackoverflow.com/users/4821282/phantom"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 2, "creation_date": 1430349743, "post_id": 29956138, "comment_id": 48033395, "body": "@T.C. So <code>noexcept</code> is only faster than <code>throw()</code> when it gets triggered by an exception?"}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 1, "creation_date": 1430351614, "post_id": 29956138, "comment_id": 48033961, "body": "@Phantom: It depends on your compiler&#39;s exception handling implementation.  If there&#39;s extra overhead in a function call to allow for unwinding, then <code>noexcept</code> can avoid that.  However, most compilers these days use statically built unwinding tables that have no runtime overhead when no exceptions are thrown, just a small space and link-time overhead"}, {"owner": {"reputation": 192274, "user_id": 36565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ccfec45e3fba785daf0e89a797c9216?s=128&d=identicon&r=PG", "display_name": "David Rodr&#237;guez - dribeas", "link": "https://stackoverflow.com/users/36565/david-rodr%c3%adguez-dribeas"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1430377283, "post_id": 29956138, "comment_id": 48042550, "body": "@T.C. I guess my comment was a bit unfortunate. The intention was to clarify that if anything, they would improve performance, not add a cost. Rereading it, which I wrote late at night, the comment is far from good :)"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1431824196, "post_id": 29956138, "comment_id": 48662695, "body": "Which exception handling are you using? MinGW can use <a href=\"http://stackoverflow.com/questions/15670169/what-is-difference-between-sjlj-vs-dwarf-vs-seh\">dwarf, SJLJ, or SEH</a>. Each has different performance characteristics. For example SJLJ causes a penalty when an exception is not thrown."}, {"owner": {"reputation": 2942, "user_id": 4821282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fcf596fdff8b28c477a9105501c8a2?s=128&d=identicon&r=PG&f=1", "display_name": "phantom", "link": "https://stackoverflow.com/users/4821282/phantom"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1431884764, "post_id": 29956138, "comment_id": 48676931, "body": "@MattMcNabb It looks like it is using dwarf exception handling."}], "answers": [{"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 3, "creation_date": 1430355829, "post_id": 29957213, "comment_id": 48035168, "body": "To summarize: the difference exists in code paths which are not reachable in the given test case, hence the run times are statistically identical"}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 13, "last_activity_date": 1430356403, "last_edit_date": 1430356403, "creation_date": 1430355361, "answer_id": 29957213, "question_id": 29956138, "link": "https://stackoverflow.com/questions/29956138/why-dont-throw-and-noexcept-have-any-overhead/29957213#29957213", "title": "Why don&#39;t throw() and noexcept have any overhead?", "body": "<p>gcc and clang have very similar code generation as they are largely ABI compatible with one another.  I only have clang to answer your question with, but my answer should apply to your gcc compiler fairly closely.</p>\n\n<p>One can disassemble <code>throw_func</code>, <code>noexcept_func</code> and <code>std_func</code> using the <code>-S</code> command line flag.  Upon doing so, you will note that the three functions all generate remarkably similar assembly.</p>\n\n<p>Differences include:</p>\n\n<ol>\n<li><p>The mangled name of the functions will differ:  <code>__Z10throw_funcv</code>, <code>__Z13noexcept_funcv</code>, and <code>__Z8std_funcv</code>.</p></li>\n<li><p>The \"normal path\" assembly code will be identical for all three functions except perhaps for the names of labels.</p></li>\n<li><p><code>throw_func</code> and <code>noexcept_func</code> will generate \"exception tables\" after the code.  These tables instruct the low-level C++ runtime library how to unwind the stack.  This includes instructions on what destructors must be run, what catch blocks to try, and in the case of these two functions, what to do if an exception tries to propagate out.  <code>throw_func</code> will contain a call to <code>___cxa_call_unexpected</code> and <code>noexcept_func</code> will contain a call to <code>___clang_call_terminate</code> (for gcc that will be named something else).</p></li>\n<li><p><code>std_func</code> will not contain calls to <code>unexpected</code> nor <code>terminate</code>.  Nor will it have an \"exception table\".  There are no destructors to run, no try/catch clauses to land in, and there is no need to call <code>unexpected</code> or <code>terminate</code>.</p></li>\n</ol>\n\n<p>In summary, the only difference in these three functions is in the \"exceptional path\".  And the \"exceptional path\" adds code size, but is never executed by your <code>main</code>.  In real-world code, just the added code size <em>can</em> impact run-time performance.  However for code that is executed often, and small enough to fit in cache (such as this test), the code size hit won't cause any run-time performance hit.</p>\n\n<p>For completeness, here is the <code>noexcept_func</code> assembly.  Everything below <code>LBB0_1:</code> is to handle the exceptional path.  <code>LBB0_1:</code> thru <code>Ltmp1:</code> throws the exception.  <code>Ltmp2:</code> is a \"landing pad\" that the runtime will branch to if an exception tries to unwind through here.  And <code>GCC_except_table0:</code> is the exception table itself.</p>\n\n<pre><code>    .globl  __Z13noexcept_funcv\n    .align  4, 0x90\n__Z13noexcept_funcv:                    ## @_Z13noexcept_funcv\n    .cfi_startproc\n    .cfi_personality 155, ___gxx_personality_v0\nLeh_func_begin0:\n    .cfi_lsda 16, Lexception0\n## BB#0:\n    pushq   %rbp\nLtmp3:\n    .cfi_def_cfa_offset 16\nLtmp4:\n    .cfi_offset %rbp, -16\n    movq    %rsp, %rbp\nLtmp5:\n    .cfi_def_cfa_register %rbp\n    movq    _val(%rip), %rax\n    leaq    1(%rax), %rcx\n    movq    %rcx, _val(%rip)\n    testq   %rax, %rax\n    je  LBB0_1\nLBB0_2:\n    popq    %rbp\n    retq\nLBB0_1:\n    movl    $1, %edi\n    callq   ___cxa_allocate_exception\nLtmp0:\n    movq    __ZTI9exception@GOTPCREL(%rip), %rsi\n    xorl    %edx, %edx\n    movq    %rax, %rdi\n    callq   ___cxa_throw\nLtmp1:\n    jmp LBB0_2\nLBB0_3:\nLtmp2:\n    movq    %rax, %rdi\n    callq   ___clang_call_terminate\n    .cfi_endproc\nLeh_func_end0:\n    .section    __TEXT,__gcc_except_tab\n    .align  2\nGCC_except_table0:\nLexception0:\n    .byte   255                     ## @LPStart Encoding = omit\n    .byte   155                     ## @TType Encoding = indirect pcrel sdata4\n    .asciz  \"\\242\\200\\200\"          ## @TType base offset\n    .byte   3                       ## Call site Encoding = udata4\n    .byte   26                      ## Call site table length\nLset0 = Leh_func_begin0-Leh_func_begin0 ## &gt;&gt; Call Site 1 &lt;&lt;\n    .long   Lset0\nLset1 = Ltmp0-Leh_func_begin0           ##   Call between Leh_func_begin0 and Ltmp0\n    .long   Lset1\n    .long   0                       ##     has no landing pad\n    .byte   0                       ##   On action: cleanup\nLset2 = Ltmp0-Leh_func_begin0           ## &gt;&gt; Call Site 2 &lt;&lt;\n    .long   Lset2\nLset3 = Ltmp1-Ltmp0                     ##   Call between Ltmp0 and Ltmp1\n    .long   Lset3\nLset4 = Ltmp2-Leh_func_begin0           ##     jumps to Ltmp2\n    .long   Lset4\n    .byte   1                       ##   On action: 1\n    .byte   1                       ## &gt;&gt; Action Record 1 &lt;&lt;\n                                        ##   Catch TypeInfo 1\n    .byte   0                       ##   No further actions\n                                        ## &gt;&gt; Catch TypeInfos &lt;&lt;\n    .long   0                       ## TypeInfo 1\n    .align  2\n</code></pre>\n"}], "owner": {"reputation": 2942, "user_id": 4821282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fcf596fdff8b28c477a9105501c8a2?s=128&d=identicon&r=PG&f=1", "display_name": "phantom", "link": "https://stackoverflow.com/users/4821282/phantom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 2, "accepted_answer_id": 29957213, "answer_count": 1, "score": 9, "last_activity_date": 1431823655, "creation_date": 1430348640, "last_edit_date": 1431823655, "question_id": 29956138, "link": "https://stackoverflow.com/questions/29956138/why-dont-throw-and-noexcept-have-any-overhead", "title": "Why don&#39;t throw() and noexcept have any overhead?", "body": "<p><code>throw()</code> was added in C++03 as an exception specifier, however it was deprecated in C++11 for the <code>noexcept</code> specifier.</p>\n\n<p>After profiling some code to find the speed using <code>throw()</code>, <code>noexcept</code> and just plain functions I found that all of them had roughly the same time for the function call. </p>\n\n<p>Results:</p>\n\n<pre><code>throw()       noexcept      plain old function\n11233 ms      11105 ms      11216 ms\n11195 ms      11122 ms      11150 ms\n11192 ms      11151 ms      11231 ms\n11214 ms      11218 ms      11228 ms\n\ncompiled with MinGW using g++ -o test.exe inc.cpp no.cpp -std=c++11 -O3\n</code></pre>\n\n<p>Here is the code I used to profile:</p>\n\n<pre><code>int main() {\n    unsigned long long iter = (unsigned long long)1 &lt;&lt; (unsigned long long)40;\n    auto t1 = std::chrono::high_resolution_clock::now();\n\n    for(unsigned long long i = 0; i &lt; iter; i++)\n    {\n#ifdef THROW\n        throw_func();\n#elif defined NOEXCEPT\n        noexcept_func();\n#else\n        std_func();\n#endif\n     }\n\n     auto t2 = std::chrono::high_resolution_clock::now();\n\n     std::cout &lt;&lt; std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(t2 - t1).count() &lt;&lt; \" ms\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>The functions are defined as:</p>\n\n<pre><code>unsigned long long val = 1;\n\nstruct exception {  };\n\nvoid throw_func(void) throw()\n{\n    if (!val++)\n       throw exception();\n}\nvoid noexcept_func(void) noexcept\n{\n    if (!val++)\n        throw exception();\n}\nvoid std_func(void)\n{\n    if (!val++)\n        throw exception();\n}\n</code></pre>\n\n<p>I was surprised by these results because I was under the impression that <code>throw()</code> and <code>noexcept</code> added some overhead to the function.</p>\n\n<p>Why doesn't <code>throw()</code> and <code>noexcept</code> add any overhead to the function call as compared to the regular function call?</p>\n"}, {"tags": ["c++", "unordered-map", "segmentation-fault"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4597105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89495e3fb3485f26f3db280e01097e76?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/4597105/sebastian"}, "edited": false, "score": 0, "creation_date": 1430377025, "post_id": 29956180, "comment_id": 48042405, "body": "This was in fact my first idea how to do it. I only removed the pointer because I ran out of ideas while debugging. Anyways you are right, It cannot work that way. But changing it back did not change the Error. I will change the BufferFrame to a proper C++ class later on, but this should not be the issue. Anyways, I&#39;ll let you know if it did change anything."}], "tags": [], "owner": {"reputation": 17992, "user_id": 278326, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/29b774f602a4e39d45f5c4f142566f2b?s=128&d=identicon&r=PG", "display_name": "Arun", "link": "https://stackoverflow.com/users/278326/arun"}, "is_accepted": false, "score": 1, "last_activity_date": 1430348910, "creation_date": 1430348910, "answer_id": 29956180, "question_id": 29956081, "link": "https://stackoverflow.com/questions/29956081/c-unordered-map-sigsegv-on-find-or-insert/29956180#29956180", "title": "C++ unordered_map SIGSEGV on find() or insert()", "body": "<p>It seems the code is returning reference to a local variable. </p>\n\n<pre><code>BufferFrame&amp; BufferManager::fixPage(\n    ....\n    BufferFrame frame;\n    ....   \n    return frame;\n</code></pre>\n\n<p>You may want to change your design to </p>\n\n<pre><code>std::unordered_map&lt;uint64_t, BufferFrame *&gt; pages;\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>std::unordered_map&lt;uint64_t, std::shared_ptr&lt;BufferFrame&gt; &gt; pages;\n</code></pre>\n\n<p>I would also suggest to create <code>BufferFrame</code> as a proper C++ class with a constructor and destructor so that it manages its own memory.</p>\n"}, {"tags": [], "owner": {"reputation": 517, "user_id": 1340410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0eaa45aa2140005e3a407b84b3b5db?s=128&d=identicon&r=PG", "display_name": "KalyanS", "link": "https://stackoverflow.com/users/1340410/kalyans"}, "is_accepted": false, "score": 0, "last_activity_date": 1430378178, "creation_date": 1430378178, "answer_id": 29961358, "question_id": 29956081, "link": "https://stackoverflow.com/questions/29956081/c-unordered-map-sigsegv-on-find-or-insert/29961358#29961358", "title": "C++ unordered_map SIGSEGV on find() or insert()", "body": "<p>Please look at these two aspects closely:</p>\n\n<ul>\n<li>Where is 'pageSize' set and to what value? I can't see any.</li>\n<li>Do you really need to mix 'new' and malloc, while allocating 'frame'.</li>\n<li>You didn't show how do you clean-up BufferFrame objects after usage.</li>\n<li>If you are doing new+free or malloc+delete, you are in trouble.</li>\n</ul>\n\n<p>I'd go with a ctor and dtor for BufferFrame as Arun has suggested.</p>\n"}], "owner": {"reputation": 11, "user_id": 4597105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89495e3fb3485f26f3db280e01097e76?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/4597105/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2721, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1430985736, "creation_date": 1430348350, "last_edit_date": 1430985736, "question_id": 29956081, "link": "https://stackoverflow.com/questions/29956081/c-unordered-map-sigsegv-on-find-or-insert", "title": "C++ unordered_map SIGSEGV on find() or insert()", "body": "<p>Currently I am trying to implement some kind of basic File-Access layer for a Database System we need to build for University. To do this I am asked to cache pages in Memory. To quickly decide which pages are loaded yet, I store all of them in an unordered_map.</p>\n\n<p>Now the Problem is, that after some calls to this function a SIGSEGV appears within _M_find_before_node of the unordered_map. I tried debugging it using gdb, but I have no clue where to look for it, as the error happens on the call to the unordered_map:</p>\n\n<pre><code>#0  0x0000000000402ab0 in std::_Hashtable&lt;unsigned long, std::pair&lt;unsigned long const, BufferFrame&gt;, std::allocator&lt;std::pair&lt;unsigned long const, BufferFrame&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;unsigned long&gt;, std::hash&lt;unsigned long&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;false, false, true&gt; &gt;::_M_find_before_node (this=0x608038, __n=2, __k=@0x7fffffffe050: 2, __code=2) at /usr/include/c++/4.9/bits/hashtable.h:1442\n#1  0x0000000000402286 in std::_Hashtable&lt;unsigned long, std::pair&lt;unsigned long const, BufferFrame&gt;, std::allocator&lt;std::pair&lt;unsigned long const, BufferFrame&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;unsigned long&gt;, std::hash&lt;unsigned long&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;false, false, true&gt; &gt;::_M_find_node (this=0x608038, __bkt=2, __key=@0x7fffffffe050: 2, __c=2) at /usr/include/c++/4.9/bits/hashtable.h:625\n#2  0x0000000000401cd6 in std::_Hashtable&lt;unsigned long, std::pair&lt;unsigned long const, BufferFrame&gt;, std::allocator&lt;std::pair&lt;unsigned long const, BufferFrame&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;unsigned long&gt;, std::hash&lt;unsigned long&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;false, false, true&gt; &gt;::find (this=0x608038, __k=@0x7fffffffe050: 2) at /usr/include/c++/4.9/bits/hashtable.h:1304\n#3  0x000000000040198f in std::unordered_map&lt;unsigned long, BufferFrame, std::hash&lt;unsigned long&gt;, std::equal_to&lt;unsigned long&gt;, std::allocator&lt;std::pair&lt;unsigned long const, BufferFrame&gt; &gt; &gt;::find (\nthis=0x608038, __x=@0x7fffffffe050: 2) at /usr/include/c++/4.9/bits/unordered_map.h:574\n#4  0x00000000004013dd in BufferManager::fixPage (this=0x608030, pageId=2, exclusive=true) at BufferManager.cpp:36\n#5  0x0000000000404268 in main (argc=4, argv=0x7fffffffe2c8) at buffertest.cpp:87\n</code></pre>\n\n<p>I also tried to debug it using valgrind, as i thought about I might get a unnoticed memory corrupution at some point in time before the error appears. This gave me the following output:</p>\n\n<pre><code>==27031== Memcheck, a memory error detector\n==27031== Copyright (C) 2002-2013, and GNU GPL'd, by Julian Seward et al.\n==27031== Using Valgrind-3.10.0 and LibVEX; rerun with -h for copyright info\n==27031== Command: ./buffer-test 11 3 1\n==27031== \n==27031== Invalid write of size 8\n==27031==    at 0x401642: std::__detail::_Hash_node_base::_Hash_node_base() (hashtable_policy.h:234)\n==27031==    by 0x4020A0: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::__detail::_Mod_range_hashing const&amp;, std::__detail::_Default_ranged_hash const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::__detail::_Select1st const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:799)\n==27031==    by 0x401BB5: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:420)\n==27031==    by 0x4018DC: std::unordered_map&lt;std::string, int, std::hash&lt;std::string&gt;, std::equal_to&lt;std::string&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; &gt;::unordered_map(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (unordered_map.h:143)\n==27031==    by 0x401257: BufferManager::BufferManager(unsigned int) (BufferManager.cpp:21)\n==27031==    by 0x4041B6: main (buffertest.cpp:79)\n==27031==  Address 0x5c1d0e0 is 16 bytes after a block of size 64 alloc'd\n==27031==    at 0x4C29180: operator new(unsigned long) (vg_replace_malloc.c:324)\n==27031==    by 0x4041A3: main (buffertest.cpp:79)\n==27031== \n==27031== Invalid write of size 8\n==27031==    at 0x4020A5: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::__detail::_Mod_range_hashing const&amp;, std::__detail::_Default_ranged_hash const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::__detail::_Select1st const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:799)\n==27031==    by 0x401BB5: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:420)\n==27031==    by 0x4018DC: std::unordered_map&lt;std::string, int, std::hash&lt;std::string&gt;, std::equal_to&lt;std::string&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; &gt;::unordered_map(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (unordered_map.h:143)\n==27031==    by 0x401257: BufferManager::BufferManager(unsigned int) (BufferManager.cpp:21)\n==27031==    by 0x4041B6: main (buffertest.cpp:79)\n==27031==  Address 0x5c1d0e8 is 24 bytes after a block of size 64 in arena \"client\"\n==27031== \n\nvalgrind: m_mallocfree.c:304 (get_bszB_as_is): Assertion 'bszB_lo == bszB_hi' failed.\nvalgrind: Heap block lo/hi size mismatch: lo = 128, hi = 0.\nThis is probably caused by your program erroneously writing past the\nend of a heap block and corrupting heap metadata.  If you fix any\ninvalid writes reported by Memcheck, this assertion failure will\nprobably go away.  Please try that before reporting this as a bug.\n\n\nhost stacktrace:\n==27031==    at 0x380A48EF: show_sched_status_wrk (m_libcassert.c:319)\n==27031==    by 0x380A49E4: report_and_quit (m_libcassert.c:390)\n==27031==    by 0x380A4B66: vgPlain_assert_fail (m_libcassert.c:455)\n==27031==    by 0x380B170D: get_bszB_as_is (m_mallocfree.c:302)\n==27031==    by 0x380B170D: get_bszB (m_mallocfree.c:312)\n==27031==    by 0x380B170D: get_pszB (m_mallocfree.c:386)\n==27031==    by 0x380B170D: vgPlain_describe_arena_addr (m_mallocfree.c:1532)\n==27031==    by 0x3809DC93: vgPlain_describe_addr (m_addrinfo.c:188)\n==27031==    by 0x3809C73B: vgMemCheck_update_Error_extra (mc_errors.c:1133)\n==27031==    by 0x380A05BA: vgPlain_maybe_record_error (m_errormgr.c:818)\n==27031==    by 0x3809BCB2: vgMemCheck_record_address_error (mc_errors.c:753)\n==27031==    by 0x803EDF459: ???\n==27031==    by 0x802D95EEF: ???\n==27031==    by 0x3807295F: vgMemCheck_malloc (mc_malloc_wrappers.c:388)\n==27031==    by 0x4020A0: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::__detail::_Mod_range_hashing const&amp;, std::__detail::_Default_ranged_hash const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::__detail::_Select1st const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:799)\n\nsched status:\n  running_tid=1\n\nThread 1: status = VgTs_Runnable\n==27031==    at 0x401682: std::__detail::_Prime_rehash_policy::_Prime_rehash_policy(float) (hashtable_policy.h:464)\n==27031==    by 0x4020C4: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::__detail::_Mod_range_hashing const&amp;, std::__detail::_Default_ranged_hash const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::__detail::_Select1st const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:799)\n==27031==    by 0x401BB5: std::_Hashtable&lt;std::string, std::pair&lt;std::string const, int&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt;, std::__detail::_Select1st, std::equal_to&lt;std::string&gt;, std::hash&lt;std::string&gt;, std::__detail::_Mod_range_hashing, std::__detail::_Default_ranged_hash, std::__detail::_Prime_rehash_policy, std::__detail::_Hashtable_traits&lt;true, false, true&gt; &gt;::_Hashtable(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (hashtable.h:420)\n==27031==    by 0x4018DC: std::unordered_map&lt;std::string, int, std::hash&lt;std::string&gt;, std::equal_to&lt;std::string&gt;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; &gt;::unordered_map(unsigned long, std::hash&lt;std::string&gt; const&amp;, std::equal_to&lt;std::string&gt; const&amp;, std::allocator&lt;std::pair&lt;std::string const, int&gt; &gt; const&amp;) (unordered_map.h:143)\n==27031==    by 0x401257: BufferManager::BufferManager(unsigned int) (BufferManager.cpp:21)\n==27031==    by 0x4041B6: main (buffertest.cpp:79)\n\n\nNote: see also the FAQ in the source distribution.\nIt contains workarounds to several common problems.\nIn particular, if Valgrind aborted or crashed after\nidentifying problems in your program, there's a good chance\nthat fixing those problems will prevent Valgrind aborting or\ncrashing, especially if it happened in m_mallocfree.c.\n\nIf that doesn't help, please report this bug to: www.valgrind.org\n\nIn the bug report, send all the above text, the valgrind\nversion, and what OS and version you are using.  Thanks.\n</code></pre>\n\n<p>Sadly I could not figure out what these errors want to tell me. The code where they happen is not even doing anything with this unordered_map, it is simply the constructor.</p>\n\n<p>I would appreciate any help or idea how to fix this issue.\nBelow are the sources of my code (the relevant lines). If you need any more information or want me to run any test, I will be happy to give it to you.</p>\n\n<p>BufferManager.hpp (updated)</p>\n\n<pre><code>#ifndef BUFFER_MANAGER_HPP\n#include \"BufferFrame.hpp\"\n#include &lt;stdint.h&gt;\n#include &lt;unordered_map&gt;\n\nclass BufferManager {\n\npublic:\n    BufferManager( const unsigned int pageCount );\n    BufferFrame&amp; fixPage( const uint64_t pageId, const bool exclusive );\n    void unfixPage( BufferFrame&amp; frame, const bool isDirty );\n    ~BufferManager();\n\nprivate:\n    uint64_t pageCount;\n    std::unordered_map&lt;uint64_t, BufferFrame *&gt; pages;\n    std::unordered_map&lt;std::string, int&gt; files;\n};\n\n\n#define BUFFER_MANAGER_HPP\n#endif\n</code></pre>\n\n<p>BufferManager.cpp (parts) (updated):</p>\n\n<pre><code>BufferManager::BufferManager( const unsigned int pageCount ) {\n    this-&gt;pageCount = pageCount;\n    std::cout &lt;&lt; \"BufferFrame constructor\" &lt;&lt; std::endl;\n}\n\nBufferFrame&amp; BufferManager::fixPage( const uint64_t pageId, const bool exclusive ) {\n    std::cout &lt;&lt; \"fixPage called with pageId: \" &lt;&lt; pageId &lt;&lt; \" requesting exclusive: \" &lt;&lt; exclusive&lt;&lt; std::endl;\n\n    std::cout &lt;&lt; \"Pages.size(): \" &lt;&lt; pages.size() &lt;&lt; std::endl;\n\n    //Test if we got the frame in the buffer\n    BufferFrame * frame;\n    std::unordered_map&lt;uint64_t, BufferFrame *&gt;::const_iterator got = pages.find(pageId);\n    if (got == pages.end()) {\n        frame = new BufferFrame();\n        frame-&gt;data = malloc(pageSize);\n        frame-&gt;pageId = pageId;\n        frame-&gt;isDirty = false;\n\n        std::pair&lt;uint64_t, BufferFrame *&gt; element(pageId, frame);\n        pages.insert(element);\n        std::cout &lt;&lt; \"fixPage of page: \" &lt;&lt; pageId &lt;&lt; \" (empty page used. Load not implemented!)\" &lt;&lt; std::endl;\n    }\n    else {\n        frame = got-&gt;second;\n        std::cout &lt;&lt; \"fixPage of page: \" &lt;&lt; pageId &lt;&lt; \" (Page loaded from map)\" &lt;&lt; std::endl;\n    }\n    return *frame;\n}\n</code></pre>\n\n<p>BufferFrame.hpp:</p>\n\n<pre><code>#ifndef BUFFER_FRAME_HPP\n#include &lt;stdint.h&gt;\n\nclass BufferFrame {\n    friend class BufferManager;\n\npublic:\n\n    void* getData();\n\nprivate:\n\n    void * data;\n    uint64_t pageId;\n    bool isDirty;\n};\n\n\n\n#define BUFFER_FRAME_HPP\n#endif\n</code></pre>\n\n<p>What I tried so far is replacing the BufferFrame within the unordered_map by a BufferFrame*, which did not change anything. Even replacing it with an int did not seem to have any effect.</p>\n\n<p>EDIT: updated BufferManager.hpp and BufferManager.cpp to use a unordered_map.</p>\n\n<p>EDIT2: First of all: <strong>Thank you to all, that tried to help me</strong></p>\n\n<p><strong>I found the problem: It was a bug in the Makefile that caused one of my .o files not to be regenerated. This lead to different files using a different version of the BufferFrame.hpp. This obviously must lead to bizzarre memory errors (like the ones I got).</strong></p>\n"}, {"tags": ["c++", "arrays", "serialization", "int", "type-conversion"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 4692610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574014c61adef68e1c09b64b58fca51d?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4692610/eric"}, "edited": false, "score": 0, "creation_date": 1430428217, "post_id": 29956373, "comment_id": 48075203, "body": "<i>Most of the time, it seems the Arduino sends both digits before you call serial.Read, but sometimes it only gets one out in time... and the second is read the next time through the loop.</i>    Isn&#39;t this supposed to not happen if they&#39;re using the same baud rate?  Also, I originally did have the Arduino using println, but I got an R6010 - abort error when using the Boost function.  The library doesn&#39;t seem to have a &quot;read line&quot; function.  I may have to implement the last one.  Thanks!"}, {"owner": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "reply_to_user": {"reputation": 109, "user_id": 4692610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574014c61adef68e1c09b64b58fca51d?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4692610/eric"}, "edited": false, "score": 0, "creation_date": 1430442179, "post_id": 29956373, "comment_id": 48079989, "body": "It has nothing to do with baud rate. If the baud rates are more than about 2% mismatched, it will garble the data. I&#39;ve added how to get Boost to work with this."}], "tags": [], "owner": {"reputation": 37904, "user_id": 2624511, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YY5Qf.jpg?s=128&g=1", "display_name": "Mike DeSimone", "link": "https://stackoverflow.com/users/2624511/mike-desimone"}, "is_accepted": false, "score": 1, "last_activity_date": 1430442157, "last_edit_date": 1430442157, "creation_date": 1430349887, "answer_id": 29956373, "question_id": 29955981, "link": "https://stackoverflow.com/questions/29955981/serial-communication-im-having-trouble-turning-an-incoming-char-array-into-an/29956373#29956373", "title": "Serial communication - I&#39;m having trouble turning an incoming char array into an int", "body": "<p>With serial ports, there is no mechanism where a transmitter can inform a receiver how many bytes were transmitted as a block. I.e. there's no \"hidden\" marker where <code>Serial.print(51);</code> tells the receiver that it sent two characters as one number. You have to add some kind of indication (spaces, commas, line ends, initial byte counts, whatever) to your serial protocol.</p>\n\n<p>Because of this, the number of characters you get from <code>serial.Read</code> depends on the number of characters you asked it to read (the second parameter) and how many characters are in the serial port's receive buffer, whichever is smaller. Most of the time, it seems the Arduino sends both digits before you call <code>serial.Read</code>, but sometimes it only gets one out in time... and the second is read the next time through the loop.</p>\n\n<p>So let's assume you decided to use line ends to separate your numbers. All you have to do on the Arduino end is change to <code>Serial.println(51);</code>. The receive end is a little more complex.</p>\n\n<p>I don't know what your serial library has in it. Most have some kind of \"read line\" function, and you would just replace the <code>serial.Read</code> call with something like:</p>\n\n<pre><code>serial.Readline(szBuffer, sizeof(szBuffer) - 1);\n</code></pre>\n\n<p>and it will take care of null-terminating the output. If it doesn't take care of null-termination, you'll need to find the line end and change it to a <code>\\0</code> yourself. From this point on, your code will work fine, because the <code>serial.Readline</code> function will <em>block</em> until it gets the whole line.</p>\n\n<p>If you don't have a \"read line\" or at least a \"read until this character\" function, it's a bit harder. You have to repeatedly call <code>serial.Read</code>, moving through your buffer, until you see the line end character. Further, you run the risk of reading part or all of the next line, so you can't just discard all the data you read when you're done reading the number; you have to move teh data in the buffer so the next line's data (and further) is at the start of the buffer.</p>\n\n<hr>\n\n<p>If you're using Boost (are you? it has no <code>CSerial</code> that I see), it looks like it has a <a href=\"http://www.boost.org/doc/libs/1_40_0/doc/html/boost_asio/reference/read_until/overload1.html\" rel=\"nofollow\">read_until</a> function. This takes three parameters: the stream you're reading from, a stream buffer to store the data in, and something to stop on. In this case, the stream buffer for storage is the one in your <code>std::stringstream</code>:</p>\n\n<pre><code>std::stringstream buffer;\nsize_t chars = boost::asio::read_until(serial, buffer.rdbuf(), '\\n');\nif(chars == 0) return;\nint tester;\nbuffer &gt;&gt; tester;\nprintf(\"My number is: %d\\n\", tester+1);\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 4692610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574014c61adef68e1c09b64b58fca51d?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4692610/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430442157, "creation_date": 1430347835, "last_edit_date": 1430348278, "question_id": 29955981, "link": "https://stackoverflow.com/questions/29955981/serial-communication-im-having-trouble-turning-an-incoming-char-array-into-an", "title": "Serial communication - I&#39;m having trouble turning an incoming char array into an int", "body": "<p>I'm trying to receive a number from an Arduino as an integer in C++.  The full code is below:</p>\n\n<pre><code>#define STRICT\n#include &lt;tchar.h&gt;\n#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;stdlib.h&gt;\n#include \"Serial.h\"\n#include &lt;boost\\lexical_cast.hpp&gt;\nenum { EOF_Char = 27 };\n\nint __cdecl _tmain(int /*argc*/, char** /*argv*/)\n{\n    CSerial serial;\n    LONG    lLastError = ERROR_SUCCESS;\n\n    // Attempt to open the serial port (COM4)\n    lLastError = serial.Open(_T(\"COM4\"), 0, 0, false);\n\n    // Setup the serial port (9600,8N1, which is the default setting)\n    lLastError = serial.Setup(CSerial::EBaud9600, CSerial::EData8, CSerial::EParNone, CSerial::EStop1);\n\n    // Register only for the receive event\n    lLastError = serial.SetMask(CSerial::EEventBreak |\n        CSerial::EEventCTS |\n        CSerial::EEventDSR |\n        CSerial::EEventError |\n        CSerial::EEventRing |\n        CSerial::EEventRLSD |\n        CSerial::EEventRecv);\n\n    // Use 'non-blocking' reads, because we don't know how many bytes\n    // will be received. This is normally the most convenient mode\n    // (and also the default mode for reading data).\n    lLastError = serial.SetupReadTimeouts(CSerial::EReadTimeoutNonblocking);\n\n    // Keep reading data, until an EOF (CTRL-Z) has been received\n    bool fContinue = true;\n    do\n    {\n        // Wait for an event\n        lLastError = serial.WaitEvent();\n\n        // Save event\n        const CSerial::EEvent eEvent = serial.GetEventType();\n\n\n        // Handle data receive event\n        if (eEvent &amp; CSerial::EEventRecv)\n        {\n            // Read data, until there is nothing left\n            DWORD dwBytesRead = 0;\n            char szBuffer[101];\n            do\n            {\n                // Read data from the COM-port\n                lLastError = serial.Read(szBuffer, sizeof(szBuffer) - 1, &amp;dwBytesRead);\n\n                if (dwBytesRead &gt; 0)\n                {\n                    // Finalize the data, so it is a valid string\n                    szBuffer[dwBytesRead] = '\\0';\n\n                    // Display the data\n                    printf(\"%s\", szBuffer);\n\n\n                    // Check if EOF (CTRL+'[') has been specified\n                    if (strchr(szBuffer, EOF_Char))\n                        fContinue = false;\n                }\n            } while (dwBytesRead == sizeof(szBuffer) - 1);\n        }\n    } while (fContinue);\n\n    // Close the port again\n    serial.Close();\n    return 0;\n}\n</code></pre>\n\n<p>I have my Arduino constantly sending out the number 51.  This code works fine and consistently displays \"51\".  However, I want an int to manipulate in C++.</p>\n\n<p>First I added</p>\n\n<pre><code>std::stringstream str(szBuffer);\nint tester;\nstr &gt;&gt; tester;\nprintf(\"My number is: %d\\n\", tester+1);\n</code></pre>\n\n<p>right after </p>\n\n<pre><code>printf(\"%s\", szBuffer);\n</code></pre>\n\n<p>A typical result looks like:</p>\n\n<pre><code>51My number is: 52\n51My number is: 52\n51My number is: 52\n51My number is: 52\n51My number is: 52\n5My number is: 6\n1My number is: 2\n</code></pre>\n\n<p>After doing it perfectly 5 or 6 times, the output always separates the incoming digits once or twice in a row (I haven't been able to find a specific pattern yet, but it's always 5-6 and 1-2).</p>\n\n<p>My other attempt was to use the boost library:</p>\n\n<pre><code>int tester = boost::lexical_cast&lt;int&gt;(szBuffer);\nprintf(\"My number is: %d\\n\", tester);\n</code></pre>\n\n<p>right after </p>\n\n<pre><code>printf(\"%s\", szBuffer);\n</code></pre>\n\n<p>and I get the same result (1-2 errors after 5-6 correct ones).  I don't think the Arduino is sending bad data, since just a </p>\n\n<pre><code>printf(\"%s\", szBuffer);\n</code></pre>\n\n<p>will never deviate from the number it's supposed to be.  Could the conversion be messing up the receiving of data?  Thanks.</p>\n\n<p>EDIT: The Arduino code is:</p>\n\n<pre><code>void setup() {\n    Serial.begin(9600); // same as in your c++ script\n}\n\nvoid loop() {\n      Serial.print(51);\n      delay(1000);\n}\n</code></pre>\n"}, {"tags": ["c++", "mongodb"], "owner": {"reputation": 1623, "user_id": 2398143, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a80e35b77564de45d5c4199b675fb394?s=128&d=identicon&r=PG", "display_name": "AnilJ", "link": "https://stackoverflow.com/users/2398143/anilj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430347702, "creation_date": 1430347702, "question_id": 29955948, "link": "https://stackoverflow.com/questions/29955948/mongodb-update-using-c-api", "title": "Mongodb Update using C++ API", "body": "<p>I have written a C++ function to update a mongodb document. It is as below.</p>\n\n<pre><code>void\nLocationDb::setServingRouter(string sensor, string oAp, string nAp) {\n\n    m_conn.update(\"location_db.ldb\",\n                  BSON(\"id\" &lt;&lt; sensor &lt;&lt; \"name\" &lt;&lt; \"/temp/s/1\" &lt;&lt; \"ap\" &lt;&lt; BSON(\"name\" &lt;&lt; oAp)),\n                  BSON(\"id\" &lt;&lt; sensor &lt;&lt; \"name\" &lt;&lt; \"/temp/s/1\" &lt;&lt; \"ap\" &lt;&lt; BSON(\"name\" &lt;&lt; nAp)));\n}\n</code></pre>\n\n<p>This update query is working; however, I believe it has some limitation i.e. every time I update, I need to pass it the old ap name (oAp). </p>\n\n<p>I find this very annoying in the sense that I just want to update the ap name without bothering was old name is. As per this query implementation, it is first finds the matching record in the document, and then update it.</p>\n\n<p>How can I just update by matching the query partially? Bottom line is that I don't want to remember what old record was. Any help?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "reply_to_user": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "edited": false, "score": 0, "creation_date": 1430348305, "post_id": 29955920, "comment_id": 48032899, "body": "The code I posted above is from an external library i am using"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "edited": false, "score": 0, "creation_date": 1430348403, "post_id": 29955920, "comment_id": 48032942, "body": "Do you have anything called <code>main</code> in your code, apart from <code>int main()</code> function?"}], "answers": [{"comments": [{"owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "edited": false, "score": 0, "creation_date": 1430348947, "post_id": 29956127, "comment_id": 48033135, "body": "Yes there is a method in it called main and its declared as <code>virtual uint32_t main();</code> Do you think that should be renamed. I am not sure what is happening here"}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": true, "score": 1, "last_activity_date": 1430348584, "creation_date": 1430348584, "answer_id": 29956127, "question_id": 29955920, "link": "https://stackoverflow.com/questions/29955920/resolving-a-cannot-define-member-function-within/29956127#29956127", "title": "Resolving a &quot; cannot define member function ... within ..&quot;", "body": "<p>It looks like <code>ImageFramework</code> class has a member called <code>main</code>. So the macro <code>#define main ace_main_i ...</code> expands and gives the error.</p>\n"}], "owner": {"reputation": 3558, "user_id": 4589819, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d29fd6d2f29e22c18d200b5108b2ed99?s=128&d=identicon&r=PG&f=1", "display_name": "James Franco", "link": "https://stackoverflow.com/users/4589819/james-franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2309, "favorite_count": 0, "accepted_answer_id": 29956127, "answer_count": 1, "score": 0, "last_activity_date": 1430348584, "creation_date": 1430347567, "question_id": 29955920, "link": "https://stackoverflow.com/questions/29955920/resolving-a-cannot-define-member-function-within", "title": "Resolving a &quot; cannot define member function ... within ..&quot;", "body": "<p>I have been struggling with this issue for a while and I would like to know a systematic way of figuring out why I might be getting this error. Apparently I have multiple components in my solution. I am getting this error when I attempt to build one of my components.</p>\n\n<pre><code>error: cannot define member function 'ImageFramework::ACE_Main::run_i' within 'ImageFramework'\n\n\nIn file included from C:\\mingw64\\required\\ACE\\ACE_wrappers/ace/config-all.h:89:0,\n                 from C:\\windows-libs\\corba\\ACE_wrappers\\TAO\\orbsvcs/orbsvcs/CosNamingC.h:37,\n                 from C:\\Users\\UserAdmin\\TreeShell\\MainProcess\\SourceCode\\ExternalCommunication\\CORBA/TCorbaClient.h:12,\n                 from C:\\Users\\UserAdmin\\TreeShell\\MainProcess\\SourceCode\\ExternalCommunication/SystemCommunicator.h:23,\n                 from C:\\Users\\UserAdmin\\TreeShell\\MainProcess\\SourceCode\\ApplicationManager\\ApplMngExternalComm.h:18,\n                 from C:\\Users\\UserAdmin\\TreeShell\\MainProcess\\SourceCode\\ApplicationManager\\ApplMngMessageHandler.h:15,\n                 from C:\\Users\\UserAdmin\\TreeShell\\MainProcess\\SourceCode\\ApplicationManager\\ApplMngMessageHandler.cpp:15:\nC:\\mingw64\\required\\ACE\\ACE_wrappers/ace/OS_main.h:218:51: error: cannot define member function 'ImageFramework::ACE_Main::run_i' within 'ImageFramework'\n inline int ACE_Main::run_i (int argc, char *argv[])  \\\n</code></pre>\n\n<p>A little background the component uses an external library called ace and the error lands me in an ace source file (which i am hesitant to touch as its not a part of my project). Which is something like this</p>\n\n<pre><code>#       define main \\\nace_main_i (int, char *[]); \\\nACE_BEGIN_VERSIONED_NAMESPACE_DECL \\\nACE_Export int ace_os_main_i (ACE_Main_Base&amp;, int, char *[]); \\\nclass ACE_Main : public ACE_Main_Base {int run_i (int, char *[]);}; \\\ninline int ACE_Main::run_i (int argc, char *argv[])  \\\n{ \\\n  return ace_main_i (argc, argv); \\\n} \\\nACE_END_VERSIONED_NAMESPACE_DECL \\\nint \\\nACE_MAIN (int argc, char *argv[]) /* user's entry point, e.g., wmain */ \\\n{ \\\n  ACE_Main m; \\\n  return m.run (argc, argv); /*ace_os_main_i (m, argc, argv);   what the user calls \"main\" */ \\\n} \\\n\nint \\\nace_main_i\n\n#     endif /* ACE_WIN32 &amp;&amp; ACE_USES_WCHAR */\n\n#   else /* ACE_HAS_WINCE */\n</code></pre>\n\n<p>Anyways here is what I have tried for the above mentioned  error message error so</p>\n\n<pre><code> error: cannot define member function 'ImageFramework::ACE_Main::run_i' within 'ImageFramework'\n</code></pre>\n\n<p>I have looked through the <code>ImagFramework</code>  class source <code>.h</code> and <code>.cpp</code> which has multiple include files. (Furthermore this class acts as a base class to many other classes) to see if an ace library header was included however I could not find any. I would appreciate suggestions on what might be a systematic approach on finding out what might be causing this issue . I might even be wrong interpreting this message. My understanding of this message is that possibly a method in the <code>imageframework</code> class or a method in its base class might be triggering the above part of the code. Please correct me if I am wrong ? Any suggestions ideas on this issue would be appreciated. Are there any other reasons why i might be getting this ?</p>\n"}, {"tags": ["c++", "vector", "stl", "iterator"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1430355722, "post_id": 29955870, "comment_id": 48035141, "body": "Unless this is an assignment, I recommend you use a database.  Let the database manage the data, such as insert, <i>edit</i>, and searching.  A popular database is MySql and has document examples using C++."}, {"owner": {"reputation": 562, "user_id": 1556332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/264f911d334d668101301b9351134c14?s=128&d=identicon&r=PG", "display_name": "Cosine", "link": "https://stackoverflow.com/users/1556332/cosine"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1430356184, "post_id": 29955870, "comment_id": 48035281, "body": "Agree with @Thomas Matthews; I would consider doing this completely differently with a database."}, {"owner": {"reputation": 21, "user_id": 4359036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666b2e11e1e49a7874c884c13f3f4067?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weaver", "link": "https://stackoverflow.com/users/4359036/ryan-weaver"}, "edited": false, "score": 0, "creation_date": 1430364327, "post_id": 29955870, "comment_id": 48037548, "body": "this is an assignment im required to do this :( i gotta make this using STL"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4359036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666b2e11e1e49a7874c884c13f3f4067?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weaver", "link": "https://stackoverflow.com/users/4359036/ryan-weaver"}, "edited": false, "score": 0, "creation_date": 1430364439, "post_id": 29956285, "comment_id": 48037572, "body": "I have my own file I created . I input the games from the add function.  This is an assignment for school. And the list has to be sorted according to the assignment, then again why am i sorting it  if i am editing and not viewing the list haha. and I have a question are arrays part of the STL? I was told it wasnt thats why i didnt go abouts using an array structure."}, {"owner": {"reputation": 562, "user_id": 1556332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/264f911d334d668101301b9351134c14?s=128&d=identicon&r=PG", "display_name": "Cosine", "link": "https://stackoverflow.com/users/1556332/cosine"}, "reply_to_user": {"reputation": 21, "user_id": 4359036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666b2e11e1e49a7874c884c13f3f4067?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weaver", "link": "https://stackoverflow.com/users/4359036/ryan-weaver"}, "edited": false, "score": 0, "creation_date": 1430486349, "post_id": 29956285, "comment_id": 48094394, "body": "std::vector is from stl. Pointers (C-style arrays) are, obviously, core language."}, {"owner": {"reputation": 562, "user_id": 1556332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/264f911d334d668101301b9351134c14?s=128&d=identicon&r=PG", "display_name": "Cosine", "link": "https://stackoverflow.com/users/1556332/cosine"}, "reply_to_user": {"reputation": 21, "user_id": 4359036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666b2e11e1e49a7874c884c13f3f4067?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weaver", "link": "https://stackoverflow.com/users/4359036/ryan-weaver"}, "edited": false, "score": 0, "creation_date": 1430486422, "post_id": 29956285, "comment_id": 48094434, "body": "Also: If it&#39;s for an assignment, I guess you can&#39;t do it the right way. But you can simply do <code>gamenames[index] = new_name;</code>"}], "tags": [], "owner": {"reputation": 562, "user_id": 1556332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/264f911d334d668101301b9351134c14?s=128&d=identicon&r=PG", "display_name": "Cosine", "link": "https://stackoverflow.com/users/1556332/cosine"}, "is_accepted": false, "score": 0, "last_activity_date": 1430349426, "creation_date": 1430349426, "answer_id": 29956285, "question_id": 29955870, "link": "https://stackoverflow.com/questions/29955870/how-do-you-edit-a-vector-using-input/29956285#29956285", "title": "How do you edit a vector using input?", "body": "<p>I would recommend a different data structure for this, since you are trying to access items by name. <code>vector</code> (and arrays) can only be accessed by index. One that would work would be <a href=\"http://www.cplusplus.com/reference/map/map/\" rel=\"nofollow\">map</a> (especially since you want them to be unique).</p>\n\n<p>If I understand what you're trying to do correctly, you can make a map of <code>string</code> (<code>name</code>) to <code>vector&lt;string&gt;</code> with <code>[console, stock, price]</code>. Now you can access the console, stock, and price (and name).</p>\n\n<p>So you initialize with a lot of <code>&lt;&gt;</code>s :)</p>\n\n<pre><code>map&lt;string, vector&lt;string&gt;&gt; games;\n</code></pre>\n\n<p>The first string is the name, then the vector is the console, stock, and price (all strings).</p>\n\n<p>When reading from the file:</p>\n\n<pre><code>while (!fin.eof())\n{\n    // We know it's 3 big. We could use a C array but why not use vector\n    vector&lt;string&gt; details(3);\n    for (int i=0; i&lt;details.size(); ++i)\n    {\n        fin &gt;&gt; details[i];\n    }\n}\n</code></pre>\n\n<p>You should use a <code>while</code> loop rather than a <code>do...while</code> to check for eof at begging of file (0 byte file) when reading <code>fin</code>.</p>\n\n<p>Your middle loop is odd and I'm not sure what you're trying to achieve (sorting the list for every entry and then assigning an undefined game name?) However you can print every game name by looping the <code>map</code>. This is possible but not like you would expect from a vector: the order is not what you put in (they are sorted internally for speed).</p>\n\n<pre><code>for (auto i = games.begin(); i != games.end(); i++)\n{\n    cout &lt;&lt; i-&gt;first;\n}\n</code></pre>\n\n<p>The map iterator (I used C++11 <code>auto</code> because it's typedef is <em>long</em>) points to a <code>pair</code> which contains <code>first</code> and <code>second</code>. <code>first</code> is your key (your game name). <code>second</code> is the other part (your console, stock, and price).</p>\n\n<p>Now you can quickly access games by name. This is much more scalable than searching for a specific name.</p>\n\n<pre><code>auto game = games.find(name);\nif ('a' == resp)\n{\n    if (game != games.end())\n    {\n        cout &lt;&lt; \"Type in the new name\\n\";\n        cin &gt;&gt; game-&gt;first;\n    }\n}\nelse if (resp &gt; 'a' &amp;&amp; resp &lt;= 'd')\n{\n    // Here we can access the other data.\n    // To avoid writing so many conditionals we calculate the index.\n    // 'b' - 'b' is zero: console. Etc.\n    int index = resp - 'b';\n    cout &lt;&lt; game-&gt;second[index];\n}\n</code></pre>\n\n<p>PS: Written quickly: this may be error-ridden.</p>\n"}], "owner": {"reputation": 21, "user_id": 4359036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666b2e11e1e49a7874c884c13f3f4067?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Weaver", "link": "https://stackoverflow.com/users/4359036/ryan-weaver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430349426, "creation_date": 1430347357, "last_edit_date": 1430349422, "question_id": 29955870, "link": "https://stackoverflow.com/questions/29955870/how-do-you-edit-a-vector-using-input", "title": "How do you edit a vector using input?", "body": "<p>I am creating a video game store database and am having trouble with the function to edit inside the vector.  Ex. If I have mario kart inside the vector and say like its mispelled or prices changes etc I want to be able to go in and edit it. I am fairly new to c++ so criticize me if needed.</p>\n\n<p>Here is what I have so far btw I am graving data from a file and writing back out to it.</p>\n\n<p>heres my full code if u wanna try it out <a href=\"http://pastebin.com/Jp0qGXZB\" rel=\"nofollow\">http://pastebin.com/Jp0qGXZB</a></p>\n\n<pre><code>ifstream fin;\nofstream fout;\nchar resp;\nstring gedit;\nstring name;\nstring new_name;\nconst string SPACES = \"                            \";\n\nfin.open(\"thegamestore.txt\");\nfout.open(\"thegamestore.txt\", ofstream::out | ofstream::app);\n\nif (fout.fail())\n{\n    cout &lt;&lt; \"Error\";\n    exit(1);\n}\n\nif (fin.fail())\n{\n    cout &lt;&lt; \"Error\";\n    exit(1);\n}\n\ndo\n{\n    fin &gt;&gt; gname;\n    gamename.push_back(gname);\n    fin &gt;&gt; gconsole;\n    console.push_back(gconsole);\n    fin &gt;&gt; gstock;\n    stock.push_back(gstock);\n    fin &gt;&gt; gprice;\n    price.push_back(gprice);\n} while(!fin.eof());\n\nfor (std::vector&lt;string&gt;::iterator it = gamename.begin(); it != gamename.end(); ++it)\n{\n    sort(gamename.begin(), gamename.end());\n    gamename.erase(unique(gamename.begin(), gamename.end()), gamename.end());\n    cout &lt;&lt; *it &lt;&lt; endl;\n    *it=gedit;\n}\n\ncout &lt;&lt; \"Which game would you like to edit?\\n\";\ncin &gt;&gt; name;\n\nif (name == gedit)\n{\n    cout &lt;&lt; SPACES &lt;&lt; \"a:NAME\\n\";\n    cout &lt;&lt; SPACES &lt;&lt; \"b:CONSOLE\\n\";\n    cout &lt;&lt; SPACES &lt;&lt; \"c:STOCK\\n\";\n    cout &lt;&lt; SPACES &lt;&lt; \"d:PRICE\\n\";\n    cin &gt;&gt; resp;\n\n    if ('a'==resp)\n    {\n        cout &lt;&lt; \"Type in the new name\\n\";\n        cin &gt;&gt; new_name;\n        name=new_name;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430347327, "post_id": 29955845, "comment_id": 48032460, "body": "And what, exactly, is the error message you get from your compiler? Don&#39;t make us guess."}, {"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430347624, "post_id": 29955845, "comment_id": 48032585, "body": "oh im sorry here it is   MAX_Pgm_Pts was not declared in this scope studentProg was not declared in this scope"}, {"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "reply_to_user": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1430347702, "post_id": 29955845, "comment_id": 48032616, "body": "and than no matching function for call to student::setQuizPts()  no matching function for call toStudent::setSum2Low no matching function for call to setExamPts()"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430348108, "post_id": 29955989, "comment_id": 48032800, "body": "still getting the no matching function for call to error in my constructor again thanks!"}, {"owner": {"reputation": 604, "user_id": 2313339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJKXN.png?s=128&g=1", "display_name": "Maxito", "link": "https://stackoverflow.com/users/2313339/maxito"}, "reply_to_user": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430348221, "post_id": 29955989, "comment_id": 48032857, "body": "You need to pass an int as a parameter as your definition specifies. You defined <i>void setQuizPts( int newQuizPts );</i> And you&#39;re trying to call it without an int as parameter in the constructor  <i>studentQuiz = setQuizPts();</i>"}, {"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430348779, "post_id": 29955989, "comment_id": 48033078, "body": "im sorry i dont think i undestand could you elaborate"}, {"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430349214, "post_id": 29955989, "comment_id": 48033232, "body": "like this?          studentProg = setPgmPts(int newPgmPts); \t studentQuiz = setQuizPts(int newQuizPts); \t studentLowestQ = setSum2Low(int newSum2Low); \t studentExam = setExamPts( double newExamPts);"}, {"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430349436, "post_id": 29955989, "comment_id": 48033319, "body": "i did this  setPgmPts(studentProg); \t setQuizPts(studentQuiz); \t setSum2Low(studentLowestQ); \t setExamPts(studentExam); \tand now it compiles but it dosent display anything"}, {"owner": {"reputation": 604, "user_id": 2313339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJKXN.png?s=128&g=1", "display_name": "Maxito", "link": "https://stackoverflow.com/users/2313339/maxito"}, "reply_to_user": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430350393, "post_id": 29955989, "comment_id": 48033604, "body": "You should really take a look at how contructors in C++ work, here&#39;s something <a href=\"http://www.cplusplus.com/doc/tutorial/classes/\" rel=\"nofollow noreferrer\">cplusplus.com/doc/tutorial/classes</a>"}], "tags": [], "owner": {"reputation": 604, "user_id": 2313339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YJKXN.png?s=128&g=1", "display_name": "Maxito", "link": "https://stackoverflow.com/users/2313339/maxito"}, "is_accepted": true, "score": 1, "last_activity_date": 1430349895, "last_edit_date": 1430349895, "creation_date": 1430347874, "answer_id": 29955989, "question_id": 29955845, "link": "https://stackoverflow.com/questions/29955845/c-porgram-wont-run-is-there-an-error-with-my-constructor/29955989#29955989", "title": "c++ porgram wont run is there an error with my constructor", "body": "<p>In the function setPgmPts, you forgot the class scope name, it should be: </p>\n\n<pre><code>void Student::setPgmPts( int newPgmPts )\n</code></pre>\n\n<p>Also, you defined these member functions must take an argument</p>\n\n<pre><code> void setQuizPts( int newQuizPts );\n void setSum2Low( int newSum2Low );\n void setExamPts( double newExamPts);\n</code></pre>\n\n<p>And in your constructor, you're calling them without passing any argument.</p>\n\n<pre><code>studentQuiz = setQuizPts();\nstudentLowestQ = setSum2Low();\nstudentExam = setExamPts();\n</code></pre>\n\n<p>Also, your trying to obtain a return value from a void function, which doesn't make any sense.\nYou must call them following their definition, for example:</p>\n\n<pre><code>setQuizPts(1);\nsetSum2Low(2);\nsetExamPts(3.0);\n</code></pre>\n\n<p>Or whatever int/double you want to use.</p>\n"}, {"tags": [], "owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "is_accepted": false, "score": 0, "last_activity_date": 1430347887, "creation_date": 1430347887, "answer_id": 29955991, "question_id": 29955845, "link": "https://stackoverflow.com/questions/29955845/c-porgram-wont-run-is-there-an-error-with-my-constructor/29955991#29955991", "title": "c++ porgram wont run is there an error with my constructor", "body": "<p>You have a function, <code>setPgmPts</code> declared outside the <code>Student</code> class. This function is attempting to access members of <code>Student</code> (<code>MAX_Pgm_Pts</code> and <code>studentProg</code>) but it doesn't have access to <code>Student</code> internals. You will need to make this a member of your <code>Student</code> class, or provide <code>public</code> access and a <code>Student</code> object to work with</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "edited": false, "score": 0, "creation_date": 1430349808, "post_id": 29956205, "comment_id": 48033416, "body": "ok i think i fixed those but now it compiles but it does not display anything."}], "tags": [], "owner": {"reputation": 90, "user_id": 4848077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e45f6834d8652cd3c89d0b6a352aed7?s=128&d=identicon&r=PG&f=1", "display_name": "Violeta Marin", "link": "https://stackoverflow.com/users/4848077/violeta-marin"}, "is_accepted": false, "score": 0, "last_activity_date": 1430349032, "creation_date": 1430349032, "answer_id": 29956205, "question_id": 29955845, "link": "https://stackoverflow.com/questions/29955845/c-porgram-wont-run-is-there-an-error-with-my-constructor/29956205#29956205", "title": "c++ porgram wont run is there an error with my constructor", "body": "<p>The code is broken on many levels.</p>\n\n<pre><code>//declarations; those functions take one int argument\nvoid setPgmPts( int newPgmPts );\nvoid setQuizPts( int newQuizPts ); \nvoid setSum2Low( int newSum2Low );\nvoid setExamPts( double newExamPts);\n</code></pre>\n\n<p>The constructor would have to look something like this:</p>\n\n<pre><code>Student::Student(char studentName[],int studentProg,int studentQuiz,int studentLowestQ,double studentExam)\n\n{\n\n    strcpy(studentName,\"Ryan Manion\");\n    //studentProg = calcPgmAverage();-&gt;invalid\n    setQuizPts(studentQuiz); // it has to match the setQuizPts declaration \n    setSum2Low(studentLowestQ); // same as above\n    setExamPts(studentExam); // same as above\n}\n</code></pre>\n\n<p>Instead of </p>\n\n<pre><code>studentProg = calcPgmAverage();\n</code></pre>\n\n<p>you would like to use something like this:</p>\n\n<pre><code>Student student ( values for initialization);\ndouble d = student.calcPgmAverage();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4822213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06731ad47a2cfa406ac7e9e1b8768e56?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4822213/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 29955989, "answer_count": 3, "score": -4, "last_activity_date": 1430349895, "creation_date": 1430347251, "last_edit_date": 1430349753, "question_id": 29955845, "link": "https://stackoverflow.com/questions/29955845/c-porgram-wont-run-is-there-an-error-with-my-constructor", "title": "c++ porgram wont run is there an error with my constructor", "body": "<p>Constructor</p>\n\n<p>This class has one constructor that should initialize the data member using the passed in arguments. It takes 5 arguments: a character array that holds the student's name, an integer that holds the number of program points the student has earned, an integer that holds the number of quiz points the student has earned, an integer that holds the sum of the student's two lowest quiz scores, and a double that holds the number of exam points that the student has earned.</p>\n\n<p>The name data member should be initialized using the passed in argument and the strcpy function. The remaining numeric arguments should be initialized by calling the appropriate set access method and passing in the appropriate argument.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;cstring&gt;\n\n\nusing namespace std;\nclass Student\n{\n    public:\n    Student(char[],int,int,int,double);\n\n\n\n\n     void setPgmPts( int newPgmPts );\n     void setQuizPts( int newQuizPts );\n     void setSum2Low( int newSum2Low );\n     void setExamPts( double newExamPts);\n     double calcPgmAverage();\n     double calcExamAndQuizAverage();\n     double calcCourseAverage();\n     char letterGrade();\n     void printStudent();\n\nprivate:\n    char studentName[50];\n    int studentProg,studentQuiz,studentLowestQ;\n    double studentExam;\n    static const int MAX_Pgm_Pts;\n    static const int MAX_Quiz_Pts;\n    static const int sumLowestQ;\n    static const double MAX_Exam_Pts;\n        }; \n\n\n    const int Student::MAX_Pgm_Pts = 905;\nconst int Student::MAX_Quiz_Pts = 120;\nconst int Student::sumLowestQ = 20;\nconst double Student::MAX_Exam_Pts = 300;   \n\n\nint main()\n{\n\n\nStudent student1(\"Ryan Manion\",767,106,10,286.50);\nStudent student2(\"Peter Laviolette\",474,53,0,218.50);\nStudent student3(\"Joel Quenneville\",905,120,20,300.00);\nStudent student4(\"invalid invalid\",-1,-2,-3,-4.00);\n\ncout &lt;&lt; \"The first Student object\" &lt;&lt; endl; \nstudent1.printStudent();\n\n\ncout &lt;&lt; \"The second Student object\" &lt;&lt; endl; \nstudent2.printStudent();\n\ncout &lt;&lt; \"The Third Student object\" &lt;&lt; endl; \nstudent3.printStudent();\n\ncout &lt;&lt; \"The fourth Student object\" &lt;&lt; endl;\nstudent4.printStudent();\n\n\n\n}\n\n\n//Code the constructors and methods for the Coin class after this line\n\n/***************************************************************\nmethod: void setPgmPts( int newPgmPts )\n\nUse:makes a change to the data member that holds the number of \nprogram points that the student has earned. \n\nArguments:It takes 1 argument: an integer that holds a new \nnumber of program points.\n\nReturns: nothing\n***************************************************************/\n\n void Student::setPgmPts( int newPgmPts )\n\n    {\n\n    if (newPgmPts &lt; 0 &amp;&amp; newPgmPts &gt; MAX_Pgm_Pts)\n        {\n         cout &lt;&lt;\"Error in setPgmPts: argument is invalid\";\n         studentProg = 0;\n\n        }\n\n    else \n        {\n        studentProg = newPgmPts;\n\n        }\n    }\n\n\n/***************************************************************\nmethod:void setQuizPts( int newQuizPts )\n\nUse: makes a change to the data member that holds the number \nof quiz points that the student has earned.\n\nArguments:It takes 1 argument: an integer that holds a new \nnumber of quiz points.\n\nReturns:nothing\n***************************************************************/\n\n void Student::setQuizPts( int newQuizPts )\n\n    {\n        if (newQuizPts &lt; 0 &amp;&amp; newQuizPts &gt; MAX_Quiz_Pts)\n        {\n         cout &lt;&lt;\"Error in setQuizPts: argument is invalid\";\n         studentQuiz = 0;\n\n        }\n\n    else \n        {\n        studentQuiz = newQuizPts;\n\n        }\n\n\n    }\n\n\n/***************************************************************\nvoid setSum2Low( int newSum2Low )\n\nUse: makes a change to the data member that holds the sum of \nthe two lowest quiz scores earned by the student.\n\nArguments:It takes 1 argument: an integer that holds a new \nsum of the two lowest quiz scores.\n\nReturns:nothing\n***************************************************************/\n\n\n void Student::setSum2Low( int newSum2Low )\n\n    {\n\n        if (newSum2Low &lt; 0 &amp;&amp; newSum2Low &gt; sumLowestQ)\n        {\n         cout &lt;&lt;\"Error in setSum2Low: argument is invalid\";\n         studentLowestQ = 0;\n\n        }\n\n    else \n        {\n        studentLowestQ = newSum2Low;\n\n        }\n\n\n    }\n\n/***************************************************************\nmethod:void setExamPts( double newExamPts )\n\nUse:makes a change to the data member that holds the number \nof exam points that the student has earned.\n\nArguments:It takes 1 argument: a double that holds a new \nnumber of exam points.\n\nReturns: nothing\n***************************************************************/\n\nvoid Student::setExamPts( double newExamPts )\n\n    {\n\n    if (newExamPts &lt; 0 &amp;&amp; newExamPts &gt; MAX_Exam_Pts)\n        {\n         cout &lt;&lt;\"Error in setExamPts: argument is invalid\";\n         studentExam = 0;\n\n        }\n\n    else \n        {\n        studentExam = newExamPts;\n\n        }\n\n    }\n\n/***************************************************************\nmethod:double calcPgmAverage()\n\nUse:returns the calculated program average for a student.\n\nArguments:none\n\nReturns:a double, which is the calculated program average.\n***************************************************************/\n\ndouble Student::calcPgmAverage()\n\n    {\n    double pgmAverage;\n\n    pgmAverage = studentProg / MAX_Pgm_Pts * 100;\n\n    return pgmAverage;\n\n\n    }\n\n/***************************************************************\nmethod:double calcExamAndQuizAverage()\n\nUse:returns the calculated exam and quiz average for a student.\n\nArguments:none\n\nReturns: a double, which is the calculated exam and quiz average.\n***************************************************************/\n\ndouble Student::calcExamAndQuizAverage()\n\n    {\n    double examAndQuizAverage;\n\n    examAndQuizAverage = studentExam + studentQuiz - studentLowestQ / \n\n    MAX_Exam_Pts + MAX_Pgm_Pts - sumLowestQ * 100;\n\n    }\n\n/***************************************************************\nmethod:double calcCourseAverage()\n\nUse:returns the calculated course average for a student.\n\nArguments:none\n\nReturns:  a double, which is the calculated course average.\n***************************************************************/\n\ndouble Student::calcCourseAverage()\n\n    {\n\n    double courseAverage;\n\n    courseAverage = .35 * calcPgmAverage() + .65 * calcExamAndQuizAverage();\n\n    return courseAverage;\n\n    }\n\n/***************************************************************\nchar letterGrade()\n\nUse:will determine the student's letter grade for the course.\n\nArguments:none\n\nReturns:a character: the student's letter grade.\n***************************************************************/\n\nchar Student::letterGrade()\n\n    {\n    char letterGrade;\n\n     if(calcCourseAverage() &gt;= 90.00 &amp;&amp; calcCourseAverage() &lt;= 100.00)\n        {\n\n        letterGrade = 'A';\n\n        }\n     else if (calcCourseAverage() &gt;= 0.00 &amp;&amp; calcCourseAverage() &lt;= 90.00)     \n        {\n\n        letterGrade = 'B';\n        }\n     else if (calcCourseAverage() &gt;= 70.00 &amp;&amp; calcCourseAverage() &lt;= 80.00)\n        {\n\n        letterGrade = 'C';\n        }\n     else if (calcCourseAverage() &gt;= 60.00 &amp;&amp; calcCourseAverage() &lt;= 70.00)\n        {\n\n        letterGrade = 'D';\n        }\n     else if (calcCourseAverage() &lt; 60.00)\n        {\n\n        letterGrade = 'F';\n        }\n     else if (calcPgmAverage() &lt; 55.00 &amp;&amp; calcExamAndQuizAverage() &lt; 55.00) \n        {\n\n        letterGrade = 'F';\n        }  \n\n    return letterGrade;\n    }\n\n/***************************************************************\nmethod:void printStudent()\n\nUse: will display the student's course information.\n\nArguments:none\n\nReturns:nothing\n***************************************************************/\nvoid Student::printStudent()\n\n    {\n    for (int i = 0; i &lt;strlen(studentName); i++)\n        {\n        cout &lt;&lt; studentName[i];\n\n        }\n\n    cout &lt;&lt; setprecision(5)&lt;&lt;\"Program Average:     \" &lt;&lt; calcPgmAverage();\n    cout &lt;&lt; setprecision(5)&lt;&lt; \"Exam + Quiz Average:     \" &lt;&lt; calcExamAndQuizAverage();\n    cout &lt;&lt; setprecision(5)&lt;&lt;\"Course Average:     \" &lt;&lt; calcCourseAverage();\n    cout &lt;&lt; setprecision(5)&lt;&lt; \"Letter Grade:     \" &lt;&lt; letterGrade();\n\n    }\n\n\n\nStudent::Student(char studentName[],int studentProg,int studentQuiz,int studentLowestQ,double studentExam)\n\n    {\n\n    strcpy(studentName,\"Ryan Manion\");\n    setPgmPts(studentProg);\n    setQuizPts(studentQuiz); // it has to match the setQuizPts declaration \n    setSum2Low(studentLowestQ); // same as above\n    setExamPts(studentExam); // same as above\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "boost", "graph", "boost-graph"], "answers": [{"comments": [{"owner": {"reputation": 2430, "user_id": 730070, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d09c7ccd960850eb07acd2f8f258fd0a?s=128&d=identicon&r=PG", "display_name": "BrianTheLion", "link": "https://stackoverflow.com/users/730070/brianthelion"}, "edited": false, "score": 0, "creation_date": 1430439777, "post_id": 29956080, "comment_id": 48079397, "body": "Thanks for the thoughtful response. W.r.t the &quot;bookkeeping&quot; issue, I think I see the approach you describe used in <a href=\"http://www.boost.org/doc/libs/1_58_0/libs/graph/example/quick_tour.cpp\" rel=\"nofollow noreferrer\">boost.org/doc/libs/1_58_0/libs/graph/example/quick_tour.cpp</a> but where is &quot;vertex_index&quot; coming from? Is it a special constant in the boost namespace?"}], "tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 7, "last_activity_date": 1430383443, "last_edit_date": 1495541246, "creation_date": 1430348350, "answer_id": 29956080, "question_id": 29955664, "link": "https://stackoverflow.com/questions/29955664/designing-around-bundled-properties-in-the-boost-graph-library/29956080#29956080", "title": "Designing around bundled properties in the Boost Graph Library", "body": "<blockquote>\n  <ol>\n  <li>Do BGL graphs efficiently support complex and possibly heap-bound types for VertexProperty and EdgeProperty? Or are these meant to be lightweight containers for immutable data?</li>\n  </ol>\n</blockquote>\n\n<p>Of course. You can do it anyway you want. Point in case: you could make the bundle hold an (immutable or mutable) pointer to a heap allocated \"complex\" type that is - of course - entirely mutable. Now, </p>\n\n<p>I'd suggest using your preferred ownership adaptor (unique_ptr, scoped_ptr, shared_ptr, what not). Look at <code>std::string</code>: it too is \"heap based\", but you didn't ever worry about using it in a property bundle, did you?</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>If the former, is there any way to get around all the descriptor bookkeeping?</li>\n  </ol>\n</blockquote>\n\n<p>There is not strictly any \"descriptor bookkeeping\". There <em>might</em> be depending on the graph model. But in general, descriptor is really an <em>abstraction</em> of the underlying container iterator model (not that this could be iterators across multiple containers, e.g. the <code>edges(EdgeListgraph)</code> as opposed to <code>out_edges(v, IncidenceGraph)</code> for <code>adjacency_list&lt;&gt;</code>.</p>\n\n<p>The point is to decouple the logic from assumptions about the storage model. Even with some pretty unsightly <code>void*</code> passing-around, the compiler should compile it down to the same code as direct iterator access. In this sense the \"bookkeeping\" is usually <em>perceptual</em>, and you are likely picking up on <em>mental load</em> of having the extra conceptual layer.</p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>If the latter, what's the \"right way\" to deal with large, complicated things that we might want to stick in a BGL graph?</li>\n  </ol>\n</blockquote>\n\n<p>Oops. I think I accidentally addressed this under 1. The absolute simplest thing to use might be refcounted sharing. Your specific situation might allow for more efficient solutions.</p>\n\n<hr>\n\n<h3><em>CAPITA SELECTA</em></h3>\n\n<blockquote>\n  <ul>\n  <li>\"BGL isn't meant to store pointers.\"</li>\n  </ul>\n</blockquote>\n\n<p>Well, not as bundles, perhaps. Even here, it depends solely on how you manage the ownership/lifetime of the pointees.</p>\n\n<p>I think the linked answer is excellent. It resonates with what I said above.</p>\n\n<blockquote>\n  <ul>\n  <li>So if you have a vertex and you want to find neighboring vertices, you have to (a) get the current vertex descriptor, (b) use BGL methods to find the descriptors of its neighbors, and finally (c) reference each of the neighbors via their respective descriptors.</li>\n  </ul>\n</blockquote>\n\n<p>Most BGL algorithms rely on the presence of <code>vertex_index_t</code> property (or require one to be specified as a parameter) to make sure these are low-cost operations. In fact, if you use <code>vecS</code> then the vertex index is the index into the vertex vector, so reverse and forward lookups are pretty simple. (You can always look at the generated assembly with optimizations enabled to see whether there are any surprises).</p>\n\n<p>This answer might be inspirational: <a href=\"https://stackoverflow.com/questions/20414483/boost-graph-library-possible-to-combine-bundled-properties-with-interior-proper/20466558#20466558\">Boost Graph Library: possible to combine Bundled Properties with Interior Properties?</a></p>\n\n<hr>\n\n<h2>TL;DR / Summary</h2>\n\n<p>I have a feeling coming from Python you might be understandably underestimating C++ optimizing compilers in template-heavy generic library code.</p>\n\n<p>What bubbles up when you sift through the layers of generic machinery in practice evaporates at compile time. Of course, the downside of this is that can be hard to see through the abstractions. But it also means that power and abstraction level aren't compromised.</p>\n\n<p>BGL is one library that allows you to switch to radically different graph models, storage layout etc. with very few code changes. The goal here wasn't \"ease of use\" or \"do what I mean\" (use Java or python for that). </p>\n\n<p>The goal was to make the choice for C++ /not/ remove all agility by hard-coding every single implementation detail into your entire code base. Instead, work at the level of library concepts and benefit from the freedom you retain to experiment/change your approach as requirements evolve.</p>\n"}], "owner": {"reputation": 2430, "user_id": 730070, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/d09c7ccd960850eb07acd2f8f258fd0a?s=128&d=identicon&r=PG", "display_name": "BrianTheLion", "link": "https://stackoverflow.com/users/730070/brianthelion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1049, "favorite_count": 2, "accepted_answer_id": 29956080, "answer_count": 1, "score": 9, "last_activity_date": 1430383443, "creation_date": 1430346352, "last_edit_date": 1495540754, "question_id": 29955664, "link": "https://stackoverflow.com/questions/29955664/designing-around-bundled-properties-in-the-boost-graph-library", "title": "Designing around bundled properties in the Boost Graph Library", "body": "<p>I am porting some graph code out of Python (networkx) and into C++ (BGL). In my Python code, the vertices and edges of the graph are client-defined objects implementing an established interface; I go on to call a bunch of methods on them. Everything is fine.</p>\n\n<p>Naively, it would seem that BGL is meant to support a similar design pattern with \"bundled properties.\" These basically allow one to define custom types for the vertices and edges by passing certain template parameters:</p>\n\n<pre><code>adjacency_list&lt;OutEdgeList, VertexList,\n               Directed, VertexProperties,\n               EdgeProperties, GraphProperties,\n               EdgeList&gt;\n</code></pre>\n\n<p>The custom vertex and edge types here are given by <code>VertexProperties</code> and <code>EdgeProperties</code>.</p>\n\n<p>In working on this port I've noticed a couple of things that make me think that maybe BGL's bundled properties interface is really only meant to support (more-or-less) immutable types:</p>\n\n<ul>\n<li><p><strong>Edge and vertex \"descriptors\"</strong></p>\n\n<p>If you put something into the graph, you get back a \"descriptor\" that you have to use to reference it from there on. There are descriptors for edges and vertices, and they are the \"keys\" -- implemented as immutables -- to the graph. So if you have a vertex and you want to find neighboring vertices, you have to (a) get the current vertex descriptor, (b) use BGL methods to find the descriptors of its neighbors, and finally (c) reference each of the neighbors via their respective descriptors.</p>\n\n<p>The net result of all this bookkeeping is an apparent need for additional containers -- <code>std::map</code>, say -- to provide reverse-lookup from vertices and edges (again, types <code>VertexProperty</code> and <code>EdgeProperty</code>) to their descriptors.</p></li>\n<li><p><strong>\"BGL isn't meant to store pointers.\"</strong></p>\n\n<p>I spotted this claim in <a href=\"https://stackoverflow.com/questions/8888798/boost-graph-library-polymorphic-bundled-properties\">a similar SO question</a> but haven't been able to verify it in the Boost docs anywhere. From the ensuing discussion I am left to speculate that the constraint may actually be a bit stronger: \"BGL isn't meant to directly reference the heap.\" This doesn't seem entirely reasonable, though, as the container types are configurable (<code>OutEdgeList</code> and <code>VertexList</code>, above) and default standard things like vectors.</p></li>\n</ul>\n\n<p>I'm a BGL n00b and am having trouble understanding what's <em>intended</em> with bundled properties. (And, frankly, I feel a bit overwhelmed by the programming model in general -- \"properties\", \"concepts\", \"traits\", \"descriptors\", <em>AHHHH!</em>) Questions:</p>\n\n<ol>\n<li><p>Do BGL graphs <em>efficiently</em> support complex and possibly heap-bound types for <code>VertexProperty</code> and <code>EdgeProperty</code>? Or are these meant to be lightweight containers for immutable data?</p></li>\n<li><p>If the former, is there any way to get around all the descriptor bookkeeping?</p></li>\n<li><p>If the latter, what's the \"right way\" to deal with large, complicated things that we might want to stick in a BGL graph? </p></li>\n</ol>\n"}, {"tags": ["c++", "stl", "boost-filesystem"], "comments": [{"owner": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "edited": false, "score": 0, "creation_date": 1432425067, "post_id": 29955632, "comment_id": 48923125, "body": "I am courious what your problem with accumulate is. It seems like you don&#39;t have another choice anyway. Performance wise I think it can&#39;t be too bad considering that paths most of the time are less than 200 characters."}, {"owner": {"reputation": 2594, "user_id": 1536, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4e8f86c5da7dd01276ed919a39401a65?s=128&d=identicon&r=PG", "display_name": "GhassanPL", "link": "https://stackoverflow.com/users/1536/ghassanpl"}, "reply_to_user": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "edited": false, "score": 0, "creation_date": 1432543063, "post_id": 29955632, "comment_id": 48952083, "body": "Sure, but performance-wise it&#39;s still a class slower (O(1) vs O(logn) allocations in the worst case), complexity-wise it&#39;s slower (O(1) vs O(n) in the worst case).  A path-iterator constructor is trivial to make as far as I&#39;m aware, so it&#39;s weird to me that it&#39;s missing. Also from my admittedly bad memory, it&#39;s also the first instance in the standard library of a class with iterators that doesn&#39;t have a constructor that takes those iterators."}], "answers": [{"tags": [], "owner": {"reputation": 401, "user_id": 3140187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a6de2df91830a69213fbfea9976cb1c?s=128&d=identicon&r=PG&f=1", "display_name": "henje", "link": "https://stackoverflow.com/users/3140187/henje"}, "is_accepted": false, "score": 1, "last_activity_date": 1432562720, "last_edit_date": 1432562720, "creation_date": 1432562261, "answer_id": 30440069, "question_id": 29955632, "link": "https://stackoverflow.com/questions/29955632/is-it-possible-to-create-a-filesystem-ts-basic-path-from-a-range-of-path-iterato/30440069#30440069", "title": "Is it possible to create a Filesystem TS basic_path from a range of path iterators or a subpath?", "body": "<p>The best I could find was</p>\n\n<pre><code>path subpath(path p) {\n  auto pathString = p.native();\n  auto newBegin = find(pathString.begin(), pathString.end(), path::preferred_separator);\n  return path{ ++newBegin, pathString.end() };\n}\n</code></pre>\n\n<p>It only requires one allocation but its time complexity is still O(n), however I cannot imagine a way to speed it up any further.</p>\n\n<p>It's still faster than accumulate (200 char path):</p>\n\n<pre><code>accumulate: 31386 ns \u00b1 5336.29\nmy subpath: 785.857 ns \u00b1 422.013\n</code></pre>\n"}], "owner": {"reputation": 2594, "user_id": 1536, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/4e8f86c5da7dd01276ed919a39401a65?s=128&d=identicon&r=PG", "display_name": "GhassanPL", "link": "https://stackoverflow.com/users/1536/ghassanpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1432562720, "creation_date": 1430346218, "question_id": 29955632, "link": "https://stackoverflow.com/questions/29955632/is-it-possible-to-create-a-filesystem-ts-basic-path-from-a-range-of-path-iterato", "title": "Is it possible to create a Filesystem TS basic_path from a range of path iterators or a subpath?", "body": "<p>I'm trying to create a one-level deep subpath of a basic_path (<code>data/images/lol.png</code> -> <code>images/lol.png</code>).</p>\n\n<p>I tried something like <code>std::path{ ++path.begin(), path.end() }</code> but the range constructor apparently needs <code>string_type::iterator</code>s, not <code>basic_path::iterator</code>s.</p>\n\n<p>Is it possible for me to do what I need using <code>basic_path</code> methods, or will I have to use something like <code>std::accumulate( ++path.begin(), path.end() )</code> (pretty inefficient imho)?</p>\n"}, {"tags": ["c++", "class", "constructor", "type-conversion", "destructor"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430346583, "post_id": 29955648, "comment_id": 48032148, "body": "When I add the &#39;fraction&#39; at the beginning of the line, it then tells me that  <code>main.cpp:81:10: error: prototype for &#39;fraction fraction::fracMult()&#39; does not match any in class &#39;fraction&#39;</code> and that <code>main.cpp:26:14: error: candidate is: fraction fraction::fracMult(fraction)</code> for each of the 4 separate Add, Sub, Div, and Mult"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430347052, "post_id": 29955648, "comment_id": 48032345, "body": "@EricBraunreiter, the arguments also have to be added. Updated my answer."}, {"owner": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430347631, "post_id": 29955648, "comment_id": 48032589, "body": "Okay that solved that problem, but now it seems as though it&#39;s not letting me initialize f1, f2, and fresult as fractions. Is there a certain way I have to initialize them since &#39;fraction&#39; is a class, instead of just <code>fraction f1, f2, fresult;</code> like I did when fraction was a structure? (Sorry if these are dumb questions - like I said, I&#39;m still pretty new.)"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430347765, "post_id": 29955648, "comment_id": 48032645, "body": "@EricBraunreiter, since the class defines constructors that are different than the default constructor, the default constructor is deleted by the compiler. You&#39;ll have to use the constructor you have defined to construct instances of the class."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430347878, "post_id": 29955648, "comment_id": 48032707, "body": "I would recommend defining a default constructor, in which you can initialize the member variables to some sensible values: E.g. 0, 1, true."}, {"owner": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "edited": false, "score": 0, "creation_date": 1430348674, "post_id": 29955648, "comment_id": 48033039, "body": "So, do you mean up under public: to put <code>fraction(int numerator = 0, int denom = 1, bool positive = true);</code> Without that, the errors that I&#39;m getting  are <code>undefined reference to &#39;fraction::fraction()&#39;</code> and <code>relocation truncated to fit: R_X86_64_PC32 against undefined symbol &#39;fraction::fraction()&#39;</code> three different times."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1430347035, "last_edit_date": 1430347035, "creation_date": 1430346272, "answer_id": 29955648, "question_id": 29955615, "link": "https://stackoverflow.com/questions/29955615/needs-constructor-destructor-type-conversion-error/29955648#29955648", "title": "Needs constructor/destructor/type conversion error", "body": "<p>You need to add the return type in the implementations of those functions. You are also missing the argument in the implementations.</p>\n\n<pre><code>fraction fraction::fracDiv(fraction b){\n// ^^^^                    ^^^^^\n}\n</code></pre>\n\n<p>Only constructor and destructor implementations can omit the return type.</p>\n\n<pre><code>// OK\nfraction::fraction(){ ... }\n\n// OK\nfraction::~fraction(){ ... }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4848407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8cd8c47e2962e743c62939e345990af?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Braunreiter", "link": "https://stackoverflow.com/users/4848407/eric-braunreiter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430347035, "creation_date": 1430346125, "last_edit_date": 1430346854, "question_id": 29955615, "link": "https://stackoverflow.com/questions/29955615/needs-constructor-destructor-type-conversion-error", "title": "Needs constructor/destructor/type conversion error", "body": "<p>I get the error that after <code>fracMult</code> and before the <code>(</code> <code>I'm missing a constructor, destructor, or type conversion</code>. I don't know what it means by that.</p>\n\n<pre><code>#include &lt;cstdlib&gt;  \n#include &lt;iostream&gt;  \n#include &lt;cmath&gt;  \n#include &lt;cstring&gt;\n\nusing namespace std;\n\nclass fraction\n{\nprivate:\n    int numerator;\n    int denom;\n    bool positive;\npublic:\nfraction();\n    fraction(int numerator, int denom, bool positive);\n    void inputFrac();\n    void printFrac();\n    fraction fracMult(fraction b);\n    fraction fracDiv(fraction b);\n    fraction fracAdd(fraction b);\n    fraction fracSub(fraction b);\n};\n\nfraction f1, f2, fresult;\n\nint main(int argc, char** argv) {\n\nf1.inputFrac();\nf2.inputFrac();\n\ncout &lt;&lt; \"The result of a * b is: \";\nfresult = f1.fracMult(f2);\nfresult.printFrac();\n\n    return 0;\n}\n\nvoid fraction::printFrac()\n{\n    if(!positive){\n        cout &lt;&lt; \"-\";\n    }\ncout &lt;&lt; numerator &lt;&lt; \"/\" &lt;&lt; denom &lt;&lt; endl;\n}\n\nvoid fraction::inputFrac()\n{\n    string tempchar;\n\n    cout &lt;&lt; \"What is the numerator? \";\n    cin &gt;&gt; numerator;\n    cout &lt;&lt; \"What is the denominator? \";\n    cin &gt;&gt; denom;\n    cout &lt;&lt; \"Is the fraction positive? (Y or N): \";\n    cin &gt;&gt; tempchar;\n\n    while(tempchar != \"Y\" &amp;&amp; tempchar != \"N\"){\n        cout &lt;&lt; \"Please enter Y or N: \";\n        cin &gt;&gt; tempchar;\n    }\n\n    if(tempchar == \"Y\"){\n        positive = true;\n    }\n    else{\n        positive = false;\n    }\n}\n\nfraction::fracMult(f2){ \n    fresult.numerator = f1.numerator * f2.numerator;\n    fresult.denom = f1.denom * f2.denom;\n    if(f1.positive != f2.positive){\n        fresult.positive = false;\n    }\n    return fresult;\n}\n\nfraction::fracDiv(){\n}\n\nfraction::fracAdd(){\n}\n\nfraction::fracSub(){   \n}\n</code></pre>\n\n<p>I know that fracDiv, fracAdd, and fracSub are all empty, I'm just working on making the fracMult work first.</p>\n\n<p>I'm very new to c++, so sometimes small, obvious errors still evade me.</p>\n"}, {"tags": ["c++", "c++11", "lambda", "stl"], "answers": [{"tags": [], "owner": {"reputation": 2126, "user_id": 4383774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85a7034d7c42c4249a71567d422eb726?s=128&d=identicon&r=PG&f=1", "display_name": "jepio", "link": "https://stackoverflow.com/users/4383774/jepio"}, "is_accepted": true, "score": 6, "last_activity_date": 1430346813, "creation_date": 1430346813, "answer_id": 29955751, "question_id": 29955554, "link": "https://stackoverflow.com/questions/29955554/c-cannot-convert-lambda-to-stdpackaged-task-in-stdpair/29955751#29955751", "title": "C++ Cannot convert lambda to std::packaged_task in std::pair", "body": "<p>The constructor in question is an explicit constructor. You need to explicitly invoke it for this to compile:</p>\n\n<pre><code>std::pair&lt;int, std::packaged_task&lt;int(void)&gt;&gt; \n    pair(15, std::packaged_task&lt;int(void)&gt;{ []() -&gt; int { return 15; } });\n</code></pre>\n\n<p>Or, better yet, use <code>std::make_pair</code>:</p>\n\n<pre><code>auto pair = \n    std::make_pair(15, std::packaged_task&lt;int(void)&gt;{ []() -&gt; int { return 15; } });\n</code></pre>\n\n<p>The case with the <code>vector</code> works, because <code>emplace_back</code> forwards the arguments to the <code>value_type</code>'s constructor. If you tried with <code>push_back</code> it wouldn't work.</p>\n"}], "owner": {"reputation": 4815, "user_id": 3087601, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad2f9879fa1dea6fd47a45052ad02a09?s=128&d=identicon&r=PG&f=1", "display_name": "Zereges", "link": "https://stackoverflow.com/users/3087601/zereges"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1063, "favorite_count": 0, "accepted_answer_id": 29955751, "answer_count": 1, "score": 5, "last_activity_date": 1430419351, "creation_date": 1430345845, "last_edit_date": 1430419351, "question_id": 29955554, "link": "https://stackoverflow.com/questions/29955554/c-cannot-convert-lambda-to-stdpackaged-task-in-stdpair", "title": "C++ Cannot convert lambda to std::packaged_task in std::pair", "body": "<p>I did some testing with <code>std::packaged_task</code> and came across this problem.</p>\n\n<pre><code>std::packaged_task&lt;int(void)&gt; task([]() -&gt; int { return 1; });\ntask();\n</code></pre>\n\n<p>compiles and calling <code>task()</code> calls the lambda. However, this does not compile:</p>\n\n<pre><code>std::pair&lt;int, std::packaged_task&lt;int(void)&gt;&gt; pair(15, []() -&gt; int { return 15; });\npair.second();\n</code></pre>\n\n<p>because</p>\n\n<blockquote>\n  <p>error C2664: '<code>std::pair&lt;int,std::packaged_task&lt;int (void)&gt;&gt;::pair(const std::pair&lt;int,std::packaged_task&lt;int (void)&gt;&gt; &amp;)</code>': cannot convert argument 2 from '<code>main::&lt;lambda_abbe6cccb9110894d95e872872ec1296&gt;</code>' to '<code>const std::packaged_task&lt;int (void)&gt; &amp;</code>'</p>\n</blockquote>\n\n<p>This, however, does compile:</p>\n\n<pre><code>std::vector&lt;std::packaged_task&lt;int()&gt;&gt; v;\nv.emplace_back([](){ return 1; })\n</code></pre>\n\n<p>Why can't I create a <code>pair</code>?</p>\n"}, {"tags": ["c#", "c++", "debugging", "visual-studio-2013", "breakpoints"], "comments": [{"owner": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1430346969, "post_id": 29955519, "comment_id": 48032315, "body": "can you not add this line of code to your project when debugging and then select from the popup the code and or process you want to debug.. making sure you have breakpoints in the C++ code behind.. I know it works with C# but have never tried it from C# to a different framework / code base... <code>System.Diagnostics.Debugger.Launch();</code>"}, {"owner": {"reputation": 31, "user_id": 4848349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0d37124e840d026dcee74bd147bda0?s=128&d=identicon&r=PG&f=1", "display_name": "spirlibou", "link": "https://stackoverflow.com/users/4848349/spirlibou"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1430385452, "post_id": 29955519, "comment_id": 48047618, "body": "Thanks for the reply, but that doesn&#39;t really answer why or in what way my settings appear to have changed. Nor does it change the way the debugger currently is working for me."}, {"owner": {"reputation": 31, "user_id": 4848349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0d37124e840d026dcee74bd147bda0?s=128&d=identicon&r=PG&f=1", "display_name": "spirlibou", "link": "https://stackoverflow.com/users/4848349/spirlibou"}, "reply_to_user": {"reputation": 17565, "user_id": 955076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd632c95781102806beec8c4020e269b?s=128&d=identicon&r=PG", "display_name": "MethodMan", "link": "https://stackoverflow.com/users/955076/methodman"}, "edited": false, "score": 0, "creation_date": 1430726991, "post_id": 29955519, "comment_id": 48167879, "body": "After some poking around, it turns out my &#39;Managed Compatibility Mode&#39; settings wasn&#39;t always correctly set when attaching to the process. Which is strange, because I thought VS kept a tab on it. Ah well, it&#39;s solved, anyway."}], "owner": {"reputation": 31, "user_id": 4848349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf0d37124e840d026dcee74bd147bda0?s=128&d=identicon&r=PG&f=1", "display_name": "spirlibou", "link": "https://stackoverflow.com/users/4848349/spirlibou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 736, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1525185073, "creation_date": 1430345733, "last_edit_date": 1525185073, "question_id": 29955519, "link": "https://stackoverflow.com/questions/29955519/visual-studio-c-project-c-breakpoint-issue-yet-debugging-still-partially-wo", "title": "Visual Studio C# project - C++ Breakpoint issue yet debugging still partially works", "body": "<p>I am currently working on a C# project which has a C++/CLi wrapper over some native C++ code. I debug this project by attaching it to a process (I don't have another choice, so I can't workaround the problem I'm about to mention).</p>\n\n<p>(OS is Windows 7 Pro, with Visual Studio 2013 with, I believe (will check later), the full package).</p>\n\n<p>Debugging (both native and managed 4.5 .NET code) worked fine till I made some change, or possibly hit some accidental shortcut (no idea what I did, tbh, it must have been at the end of the day and I didn't notice immediately, but I don't recall having done anything unusual).</p>\n\n<p>Here's how it is now :</p>\n\n<ul>\n<li>C++ breakpoints don't get hit anymore, and have the following message when hovering above them : \n\"The breakpoint will not currently be hit. No executable code of the debugger's target code type is associated with this line.\nPossible causes include : conditional compilation, compiler optimization, or ...\"</li>\n<li>C++/CLi breakpoints have the same indication when I hover over them, and don't get hit either.</li>\n<li>C# breakpoints work fine.</li>\n</ul>\n\n<p><strong>BUT</strong> if I attach my process and debug and I hit a C# breakpoint, I can then step into C++/CLi code <strong><em>and the debugger will see the objects being manipulated</em></strong>. I can look at variables, and see their values and their updates. I can even step into C++ code, but in that case the debugger can't look at the objects values and states.</p>\n\n<p>Here are the things tried/found out so far :</p>\n\n<p>-Checked that the dlls were being properly generated and copied (it is the case, and the pdb files are also generated on every build).</p>\n\n<p>-The debug module reports nothing unusual. All symbols are indicated to be loaded in the project files.</p>\n\n<p>-Native code debugging is selected both when attaching process, and in startup project properties.</p>\n\n<p>-Code optimisation is off. So are the Legacy Managed Code options.</p>\n\n<p>-Have tried reverting to last functional commit (two days ago), but no dice. This would perhaps indicate that this is compilation or debugger configuration problem. Or perhaps a bug.</p>\n\n<p>-Tried cleaning rebuilding every solution involved, one by one.</p>\n\n<p>-Tried restarting Visual Studio, then the machine.</p>\n\n<p>-I have a Memory Access Violation in my C++ code, with no particular link to the issue here, <strong>BUT</strong> when debugging, the debugger <strong>STILL</strong> pointed out the line in my code that was causing the issue, even though it supposedly can't link the C++ source to the running process.</p>\n\n<p>-Only one instance of the process running (yet for some reason, I can't see the grayed-out .vshost.exe version of that process anymore. That is the only other change I've noticed since I encoutered the breakpoint issue).</p>\n\n<p>This issue has baffled me the past day, as well as some considerably more experienced colleagues (one of them in particular being very experienced with various versions of Visual Studio since the early 2000s).</p>\n\n<p>Any ideas ? From what I've seen, the breakpoint message isn't all that uncommon (my colleagues had encountered and solved it before), but this slightly different take is rather peculiar, and seems to be harder to track down.</p>\n\n<p>I mean, since it's still possible to debug, and Visual Studio doesn't indicate that the source files and the executed code are different (it did before when I forgot to build before running and attaching process), it would appear to be the exact same code and VS seems to at least partially recognise that...</p>\n"}, {"tags": ["c++", "c", "sse", "simd"], "comments": [{"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1430345985, "post_id": 29955471, "comment_id": 48031904, "body": "No, you can&#39;t easily do this. The closest thing would be <code>_mm_shuffle_epi8</code>, which is a general purpose permute, but I don&#39;t see any obvious way to apply it here. You really want the inverse of this instruction, which doesn&#39;t exist."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 2, "creation_date": 1430346130, "post_id": 29955471, "comment_id": 48031952, "body": "In your example, shouldn&#39;t element r[0] also be 1 ?"}, {"owner": {"reputation": 1071, "user_id": 1293890, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b025551cf4766b10e57a2e5589c755?s=128&d=identicon&r=PG", "display_name": "martin s", "link": "https://stackoverflow.com/users/1293890/martin-s"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1430347086, "post_id": 29955471, "comment_id": 48032360, "body": "Yes, I was thinking if I could use the _mm_shuffle_epi8 instruction. But I could not come up with a solution. I was affraid to hear this.  Thanks for the fast answer though. And yes, r[0] should be 1."}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1430347239, "post_id": 29955471, "comment_id": 48032415, "body": "FWIW you can do it with a loop, which is no more efficient than the original scalar version, but if this is going to be mixed in with a bunch of other SIMD code then it might be worthwhile, in order to avoid scalar code in the middle of your SIMD instruction stream."}, {"owner": {"reputation": 1071, "user_id": 1293890, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b025551cf4766b10e57a2e5589c755?s=128&d=identicon&r=PG", "display_name": "martin s", "link": "https://stackoverflow.com/users/1293890/martin-s"}, "reply_to_user": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1430347523, "post_id": 29955471, "comment_id": 48032544, "body": "Do think about shifting the register 16 times and comparing with the index position?"}, {"owner": {"reputation": 195333, "user_id": 253056, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1977cbe0ac5ffec4f6ee5ee24363988a?s=128&d=identicon&r=PG", "display_name": "Paul R", "link": "https://stackoverflow.com/users/253056/paul-r"}, "edited": false, "score": 0, "creation_date": 1430347807, "post_id": 29955471, "comment_id": 48032674, "body": "Yes, something like that, although you might be able to &quot;early out&quot; once you have processed the last index, so it might be less than 16 iterations in the general case, depending on what your data typically looks like."}], "answers": [{"comments": [{"owner": {"reputation": 1071, "user_id": 1293890, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b025551cf4766b10e57a2e5589c755?s=128&d=identicon&r=PG", "display_name": "martin s", "link": "https://stackoverflow.com/users/1293890/martin-s"}, "edited": false, "score": 0, "creation_date": 1433209510, "post_id": 30570762, "comment_id": 49241617, "body": "wow your solution looks great. Thank a lot for sharing it. I still try to understand all details."}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1435218523, "post_id": 30570762, "comment_id": 50111038, "body": "You don&#39;t need zeros as an input to <code>_mm_cmpeq</code> to generate all-ones.  Any input is equal to itself.  The CPU even takes advantage of this, by generating a uop that doesn&#39;t depend on the previous value of the register, when both operands are the same.  (i.e. it&#39;s recognized as a dependency-breaking instruction.)"}, {"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1435219366, "post_id": 30570762, "comment_id": 50111610, "body": "NVM, looks like you are using your <code>zero</code> reg in the algorithm.  Otherwise, you could get <code>one_epi8</code> from <code>_mm_sign_epi8(bin_ones, bin_ones)</code>.  I thought there was a plain vector negate instruction, but maybe not."}], "tags": [], "owner": {"reputation": 3352, "user_id": 2439725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428ff617402eb64c48ed6dfc153617f9?s=128&d=identicon&r=PG", "display_name": "wim", "link": "https://stackoverflow.com/users/2439725/wim"}, "is_accepted": true, "score": 2, "last_activity_date": 1433155222, "last_edit_date": 1433155222, "creation_date": 1433153378, "answer_id": 30570762, "question_id": 29955471, "link": "https://stackoverflow.com/questions/29955471/is-possible-to-address-the-output-simd-register-by-using-an-input-register/30570762#30570762", "title": "Is possible to address the output SIMD register by using an input register", "body": "<p>It seems that _mm_shuffle_epi8 is indeed the key to a solution. The idea is to set individual bits according to the values of the input vector a. \nThese bits are distributed over (horizontal OR) the bytes of the 128 bits wide \nregister.</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;immintrin.h&gt;\n/*  gcc -O3 -Wall -mavx test4.c                                  */\n/*  gcc -O3 -Wall -msse2 -mssse3 -msse4.1 test4.c                */\n\nint print_char128(__m128i * x);\n\nint print_char128(__m128i * x){\n  unsigned char v_x[16];\n  _mm_storeu_si128((__m128i *)v_x,*x);\n  printf(\"%4u %4u %4u %4u | %4u %4u %4u %4u | %4u %4u %4u %4u | %4u %4u %4u %4u  \\n\",\n  v_x[0],  v_x[1],  v_x[2],  v_x[3],  v_x[4],  v_x[5],  v_x[6],  v_x[7],\n  v_x[8],  v_x[9],  v_x[10], v_x[11], v_x[12], v_x[13], v_x[14], v_x[15] );\n  return 0;\n}\n\n\nint main()\n{\nunsigned char  a_v[] = {0, 0, 0, 10, 0, 0, 0, 2, 0, 0, 0, 0, 3, 1, 0, 0 };\n/*unsigned char  a_v[] = {13, 30, 0, 10, 0, 6, 0, 2, 0, 0, 7, 0, 3, 11, 0, 0 };*/\n  __m128i t0, t1, t2, t3;\n  __m128i a, r, msk0, msk1, msk0_1, zero, bin_ones, one_epi8;\n\n  /* set some constants */\n  unsigned char  msk0_v[] ={1, 2, 4, 8, 16, 32, 64, 128, 0, 0, 0, 0, 0, 0, 0, 0};\n  msk0=_mm_loadu_si128((__m128i *)msk0_v);\n  msk1=_mm_shuffle_epi32(msk0,0b01001110);\n  msk0_1=_mm_blend_epi16(msk0,msk1,0b11110000);\n  zero=_mm_setzero_si128();\n  bin_ones=_mm_cmpeq_epi32(zero,zero);\n  one_epi8=_mm_sub_epi8(zero,bin_ones);\n\n  /* load indices */\n  a=_mm_loadu_si128((__m128i *)a_v);\n\n  /* start of 'SIMD magic'                                            */\n  /* index a_i sets the a_i -th bit within a byte of t0 if 0&lt;=a_i&lt;8  */\n  /* or set (a_i-8)-th bit within a byte of t1 if 8&lt;=a_i&lt;16          */\n  t0=_mm_shuffle_epi8(msk0,a);\n  t1=_mm_shuffle_epi8(msk1,a);\n  /* horizontal OR of the bytes in t0 and t1: */\n  t2=_mm_blend_epi16(t0,t1,0b11110000);\n  t3=_mm_alignr_epi8(t1,t0,8);\n  t0=_mm_or_si128(t2,t3);\n  t1=_mm_shuffle_epi32(t0,0b10110001);\n  t0=_mm_or_si128(t0,t1);\n  t1=_mm_slli_si128(t0,2);\n  t0=_mm_or_si128(t0,t1);\n  t1=_mm_slli_si128(t0,1);\n  t0=_mm_or_si128(t0,t1);\n  t0=_mm_shuffle_epi32(t0,0b11110101);  /* end of horizontal OR */\n  /* filter out the relevant bits */\n  t0=_mm_and_si128(t0,msk0_1);\n  t0=_mm_cmpeq_epi8(t0,zero);\n  r=_mm_andnot_si128(t0,one_epi8);      /* the result is in r */\n  print_char128(&amp;r);\n\n  return 0;\n}\n</code></pre>\n\n<p>This should work quite fast: Aside from the instructions for setting the constants and loading the data it is only 15 SSEx instructions. On today's processors these instructions all have a latency of only 1 cycle.\nThe (reciprocal) througput is even smaller: 1/2 or 1/3 cycle.\nIntrinsic <em>_mm_blend_epi16</em> is SSE4.1, some others are SSSE3.</p>\n"}], "owner": {"reputation": 1071, "user_id": 1293890, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d8b025551cf4766b10e57a2e5589c755?s=128&d=identicon&r=PG", "display_name": "martin s", "link": "https://stackoverflow.com/users/1293890/martin-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 30570762, "answer_count": 1, "score": 1, "last_activity_date": 1433155222, "creation_date": 1430345498, "last_edit_date": 1430346927, "question_id": 29955471, "link": "https://stackoverflow.com/questions/29955471/is-possible-to-address-the-output-simd-register-by-using-an-input-register", "title": "Is possible to address the output SIMD register by using an input register", "body": "<p>Is it possible to use the scalar values of an input vector to index the output vector? I try to implement the following function in SIMD but I can not find any solution.</p>\n\n<pre><code> void shuffle(unsigned char * a,    // input a\n              unsigned char * r){   // output r\n     for (i=0; i &lt; 16; i++)\n            r[i] = 0;\n     for (i=0; i &lt; 16; i++)\n            r[a[i] % 16] = 1;\n }\n</code></pre>\n\n<p>An example input / output vector would look like this</p>\n\n<pre><code>unsigned char * a = {0, 0, 0, 10, 0, 0, 0, 2, 0, 0, 0, 0, 3, 1, 0, 0 };\n... do SIMD magic\n//                   0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15\nunsigned char * r = {1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0 };\n</code></pre>\n\n<p>I was not able to find any suitable instruction that can dynamicly address the left side of an assignment. Maybe this function can be implemented by shifting operations? Did anybody implement something similar?</p>\n"}, {"tags": ["c++", "visual-c++", "visual-studio-2015"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1430346554, "post_id": 29955404, "comment_id": 48032139, "body": "Before you accuse a compiler of having a bug, it&#39;s good to try on several other popular modern compilers.  For example, rextester.com would let you easily try that code on both gcc and clang, with no need to install them on your own computer."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1430347528, "post_id": 29955404, "comment_id": 48032546, "body": "How is a warning a bug? A compiler is pretty free to issue them on perfectly good code, or silently accept dubious code."}, {"owner": {"reputation": 945, "user_id": 4778565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcc04d46859697213ac612773d64673?s=128&d=identicon&r=PG&f=1", "display_name": "mock_blatt", "link": "https://stackoverflow.com/users/4778565/mock-blatt"}, "edited": false, "score": 0, "creation_date": 1430347794, "post_id": 29955404, "comment_id": 48032661, "body": "I think bug&#39;s the wrong word, but I&#39;m curious as to the logic. This compiles with no warnings on VS2013."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1430347800, "post_id": 29955404, "comment_id": 48032667, "body": "@BenVoigt It was a question, not an accusation. And since the compiler isn&#39;t in a release version, I think it&#39;s not a long shot to assume it has problems... Anyway, I followed your suggestion and got some interesting results. GCC 4.9.1 compiles cleanly, Clang 3.5 issues an error: &quot;<i>error: non-constant-expression cannot be narrowed from type &#39;int&#39; to &#39;unsigned char&#39; in initializer list [-Wc++11-narrowing]</i>&quot;. Can anyone explain?"}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1430347865, "post_id": 29955404, "comment_id": 48032702, "body": "@MSalters Still there should be a valid explanation for the warning"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1430348153, "post_id": 29955404, "comment_id": 48032825, "body": "Well, there <i>is</i> an explanation right there in the message. &quot;Narrowing conversions&quot; are known risky."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1430348397, "post_id": 29955404, "comment_id": 48032937, "body": "@MSalters Ok, so why the same doesn&#39;t apply for initialization of <code>x</code>? Moreover, why in <code>Clang</code> it&#39;s an error, not warning? Error must be backed up by a standard. Also, why this fails as well: <code>unsigned char y[] = {(unsigned char)2 | a};</code>? Why we still have a promotion to <code>int</code> here?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1430349121, "post_id": 29955404, "comment_id": 48033195, "body": "@icepack: That&#39;s in the clang error too.  &quot;in initialization list&quot;.  <code>y</code> has an initialization list, <code>x</code> doesn&#39;t.  You have a promotion in <code>(unsigned char)2 | a</code> because the <code>|</code> operator causes the usual promotions.  This is not conversion of one operand to the type of the other, this is promotion."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1430349952, "post_id": 29955404, "comment_id": 48033472, "body": "@BenVoigt You mean there is a promotion of the <i>result</i> of operation <code>|</code> to <code>int</code> ?"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1430350152, "post_id": 29955404, "comment_id": 48033521, "body": "@icepack the operands of <code>|</code> are promoted to <code>int</code> if they are narrower integral types, which <code>unsigned char</code> is. Same with <code>+</code>, <code>-</code>, <code>*</code>, <code>&#47;</code>, <code>%</code>, <code>&amp;</code>, etc."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1430350232, "post_id": 29955404, "comment_id": 48033549, "body": "The workaround you are looking for is <code>unsigned char y[] = { (unsigned char)(2|a) };</code> which is pretty ugly, so I guess you could look for another way to do what you&#39;re trying to do"}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1430350536, "post_id": 29955404, "comment_id": 48033645, "body": "@MattMcNabb Yes, I&#39;m aware of the workaround. What&#39;s a bit not clear to me is when the promotion occurs and whether it&#39;s mandatory or optional. Is it correct that the promotion occurs when the operands are being evaluated for the operation, i.e. after casting (so the casting has no effect)? Also, I read that the the promotion <i>may</i> occur, but not mandatory: <a href=\"http://en.cppreference.com/w/cpp/language/implicit_cast\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/implicit_cast</a>"}], "answers": [{"comments": [{"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430347261, "post_id": 29955673, "comment_id": 48032430, "body": "1. This doesn&#39;t work either: <code>unsigned char y[] = {(unsigned char)2 | a};</code>. 2. I think you&#39;re confusing the new brace init syntax with the old array initialization syntax (<code>y</code> is an array)."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 2, "creation_date": 1430347956, "post_id": 29955673, "comment_id": 48032747, "body": "@icepack: The | operator performs integer promotions (like almost all binary operators) so it will always return an integer type at least as wide as an int, even if you write <code>(char)2 | (char)a</code>. You need to cast the <i>result</i> of the |"}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1430348067, "post_id": 29955673, "comment_id": 48032787, "body": "@rici That&#39;s not the question. What&#39;s not clear is why this conversion seemlesly converts back to a narrower type for a variable initialization but not for an array initialization"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 1, "creation_date": 1430349047, "post_id": 29955673, "comment_id": 48033167, "body": "@icepack: the array is irrelevant. You should get the same warning with <code>unsigned char x = { 2 | a };</code>. As alan says, it&#39; the use of an initialization list."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1430349212, "post_id": 29955673, "comment_id": 48033231, "body": "One thing wrong with this answer -- in the array case, brace initialization syntax is not new, and backward compatibility is a concern."}], "tags": [], "owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "is_accepted": false, "score": 1, "last_activity_date": 1430346400, "creation_date": 1430346400, "answer_id": 29955673, "question_id": 29955404, "link": "https://stackoverflow.com/questions/29955404/vs2015-inconsistent-compiler-behavior/29955673#29955673", "title": "VS2015 inconsistent compiler behavior", "body": "<p><code>(2 | a)</code> is of type <code>int</code>, because 2 is an int, and <code>a</code>gets promoted.</p>\n\n<p>C++ inherited from C an ability to silently perform unsafe conversions from a wider type to a smaller type - unsafe in the sense that any higher order bits are lost.</p>\n\n<p>That's what this does:</p>\n\n<pre><code>unsigned char x = (2 | a);\n</code></pre>\n\n<p>The new brace initialisation syntax is an opportunity to ditch this backward compatibility. By design, if you want an unsafe/lossy conversion when using brace initialisation you must ask for it. That's why this doesn't work:</p>\n\n<pre><code>unsigned char y[] = {2 | a}; \n</code></pre>\n\n<p>Initialising an <code>unsigned char</code> from <code>int</code> loses information so needs a cast.</p>\n\n<p>This isn't a bug, it's required behaviour. And one day it will catch a bug at compile time that would have taken you hours to find when it happened at run time, so always use the new syntax when you can.</p>\n"}, {"comments": [{"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430347329, "post_id": 29955767, "comment_id": 48032461, "body": "Yes, this warning appeared for me as well in a code that worked perfectly fine in VS2013 :)"}], "tags": [], "owner": {"reputation": 945, "user_id": 4778565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebcc04d46859697213ac612773d64673?s=128&d=identicon&r=PG&f=1", "display_name": "mock_blatt", "link": "https://stackoverflow.com/users/4778565/mock-blatt"}, "is_accepted": false, "score": -1, "last_activity_date": 1430347177, "last_edit_date": 1430347177, "creation_date": 1430346873, "answer_id": 29955767, "question_id": 29955404, "link": "https://stackoverflow.com/questions/29955404/vs2015-inconsistent-compiler-behavior/29955767#29955767", "title": "VS2015 inconsistent compiler behavior", "body": "<p>I'm not sure about Alan's answer because the brace syntax to initialize an array (which is what you're doing there) is valid C syntax, so that's not new to C++.</p>\n\n<p>On VS2013, your code compiles for me with no warnings. I said something else originally, but as I think about it I'm not sure what's proper as far as issuing warnings go.</p>\n"}, {"comments": [{"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430350758, "post_id": 29956343, "comment_id": 48033706, "body": "Thanks for the answer, that explains a lot. What I still miss here is a clear definition of when the promotion occurs and whether it&#39;s a must (once it happened, the rest is clear according to the quotes that you added)."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430350850, "post_id": 29956343, "comment_id": 48033740, "body": "@icepack: That should be a separate question, IMO.  Do you need help looking for an existing one?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430350991, "post_id": 29956343, "comment_id": 48033787, "body": "@icepack: I think this is the question you&#39;re looking for: <a href=\"http://stackoverflow.com/q/28142902/103167\">stackoverflow.com/q/28142902/103167</a>  I&#39;ll link it from my answer."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430351547, "post_id": 29956343, "comment_id": 48033935, "body": "Thanks for the link. According to the quote inside, there shouldn&#39;t be any arithmetic promotion in case of 2 operands of the same type, like in this case: <code>unsigned char y[] = {(unsigned char)2 | a};</code> So the only promotion here is an integral one and the standard is kind of vague here: &quot;<i>A prvalue of an integer type other than bool, char16_t, char32_t, or wchar_t whose integer conversion rank (4.13) is less than the rank of int can be converted to a prvalue of type int</i>&quot;. The wording is not decisive, just &quot;can&quot;..."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 1, "creation_date": 1430351798, "post_id": 29956343, "comment_id": 48034023, "body": "@icepack: The wording is a bit weird.  First &quot;these conversions CAN be done&quot;.  Then &quot;this set of conversions form the <i>integral promotions</i>&quot;, meaning that if said conversion isn&#39;t done (which the <i>can</i> wording allows), then no integral promotion has been done.  Finally, the bold portion in the linked answer, which says &quot;integral promotions SHALL be performed&quot;, which rules out exercising the permission not to do them which the word <i>can</i> gave."}, {"owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "edited": false, "score": 0, "creation_date": 1430351917, "post_id": 29956343, "comment_id": 48034060, "body": "Great! That probably was the original meaning, but as usual with C++ they&#39;ve managed to define it as complex as possible :)"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 4, "last_activity_date": 1430351070, "last_edit_date": 1495542243, "creation_date": 1430349734, "answer_id": 29956343, "question_id": 29955404, "link": "https://stackoverflow.com/questions/29955404/vs2015-inconsistent-compiler-behavior/29956343#29956343", "title": "VS2015 inconsistent compiler behavior", "body": "<p>The rules for aggregate initialization changed between C++03 and today -- a lot.  (All quotes from section <code>[dcl.init.aggr]</code> which remains 8.5.1 in all versions)</p>\n\n<p>In C++03, the rule was</p>\n\n<blockquote>\n  <p>All implicit type conversions are considered when initializing the aggregate member with an initializer from an initializer-list. </p>\n</blockquote>\n\n<p>In draft n3485 (roughly, C++11) and n4296 (roughly, C++14), this case is now covered by a different rule</p>\n\n<blockquote>\n  <p>When an aggregate is initialized by an initializer list, as speci\ufb01ed in 8.5.4, the elements of the initializer list are taken as initializers for the members of the aggregate, in increasing subscript or member order. Each\n  member is copy-initialized from the corresponding initializer-clause. <strong>If the initializer-clause is an expression and a narrowing conversion is required to convert the expression, the program is ill-formed.</strong></p>\n</blockquote>\n\n<p>This was an intentional breakage of backward compatibility, and listed as such in the C++11 appendix:</p>\n\n<blockquote>\n  <ul>\n  <li><p>Change: Narrowing restrictions in aggregate initializers</p></li>\n  <li><p>Rationale: Catches bugs.</p></li>\n  <li><p>Effect on original feature: <strong>Valid C++ 2003 code may fail to compile in this International Standard.</strong> For example, the following code is valid in C++ 2003 but invalid in this International Standard because <code>double</code> to <code>int</code> is a narrowing conversion:</p>\n\n<pre><code>int x[] = { 2.0 };\n</code></pre></li>\n  </ul>\n</blockquote>\n\n<p>The semantics of promotion which cause OR-ing <code>unsigned char</code> values to yield a result that doesn't fit back into <code>unsigned char</code> without narrowing have already been fully explained here:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/q/28142902/103167\">Are the &quot;usual arithmetic conversions&quot; and the &quot;integer promotions&quot; the same thing?</a></li>\n</ul>\n"}], "owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1793, "favorite_count": 1, "accepted_answer_id": 29956343, "answer_count": 3, "score": 1, "last_activity_date": 1466017426, "creation_date": 1430345087, "last_edit_date": 1430348648, "question_id": 29955404, "link": "https://stackoverflow.com/questions/29955404/vs2015-inconsistent-compiler-behavior", "title": "VS2015 inconsistent compiler behavior", "body": "<p>I have encountered the following VS2015 CTP6 VC++ compiler behavior:</p>\n\n<pre><code>unsigned char a = 1;\n\nunsigned char x = (2 | a);   //this compiles fine\n\nunsigned char y[] = {2 | a}; //this emits warning C4838: conversion from\n                             //'int' to 'unsigned char' requires a narrowing conversion\n</code></pre>\n\n<p>I assume that some implicit type conversion or promotion occurs in the definition of <code>y</code>, but whatever is happening there should've happened in the line that defines <code>x</code> as well - yet this line compiles fine.</p>\n\n<p>Reversing the operands order didn't help, casting <code>2</code> to <code>unsigned char</code> didn't help either:</p>\n\n<pre><code>unsigned char y[] = {(unsigned char)2 | a}; //same warning\nunsigned char y[] = {a | 2};                //same warning\n</code></pre>\n\n<p>Same thing happens with other bitwise operators as well. The only thing that resolved the warning was an explicit cast of the result of bitwise operation: <code>unsigned char y[] = {(unsigned char)(2 | a)};</code> </p>\n\n<p>Can anyone explain such compiler behavior? Is it a bug?</p>\n\n<p><strong>Edit</strong>:</p>\n\n<p><code>GCC 4.9.1</code> compiles cleanly, <code>Clang 3.5</code> issues an error: \"<em>error: non-constant-expression cannot be narrowed from type 'int' to 'unsigned char' in initializer list [-Wc++11-narrowing]</em>\". Can anyone explain? </p>\n"}, {"tags": ["c++", "sql", "sql-server", "qt", "visual-c++"], "owner": {"reputation": 511, "user_id": 2404336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/065e889ed456fe4ab0e93898bc59198f?s=128&d=identicon&r=PG", "display_name": "cosmarc", "link": "https://stackoverflow.com/users/2404336/cosmarc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430370919, "creation_date": 1430345025, "last_edit_date": 1430370919, "question_id": 29955389, "link": "https://stackoverflow.com/questions/29955389/qsqldatabase-connect-to-a-sql-server-compact-edition-database", "title": "QSqlDatabase Connect to a SQL Server Compact Edition database", "body": "<p>I'm trying to connect to my database file (*.sdf) from my Qt application.<br>\nHow my connection string should look like?<br>\nI'm thinking at something like:</p>\n\n<pre><code>\"DRIVER={SQL Server};SERVER=SQL Server Compact Edition;DATABASE=C:\\\\myDb.sdf\"\n</code></pre>\n"}, {"tags": ["c++", "mysql", "qt", "fedora"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 3376036, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5625ad54791f775a7353cccfe71c197d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me B", "link": "https://stackoverflow.com/users/3376036/j%c3%a9r%c3%b4me-b"}, "edited": false, "score": 0, "creation_date": 1430380329, "post_id": 29957858, "comment_id": 48044306, "body": "Oh my god, thanks. I&#39;m so stupid not to think about it."}], "tags": [], "owner": {"reputation": 779, "user_id": 1837353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PKE7.jpg?s=128&g=1", "display_name": "Hamish Moffatt", "link": "https://stackoverflow.com/users/1837353/hamish-moffatt"}, "is_accepted": true, "score": 1, "last_activity_date": 1430359938, "creation_date": 1430359938, "answer_id": 29957858, "question_id": 29955258, "link": "https://stackoverflow.com/questions/29955258/mysql-driver-for-qt-database-fedora/29957858#29957858", "title": "mysql driver for qt database fedora", "body": "<p>You can't just copy the Qt4 MYSQL driver into Qt5. Install it from the same place you installed the rest of Qt5. (Package qt5-qtbase-mysql perhaps: <a href=\"https://apps.fedoraproject.org/packages/qt5-qtbase-mysql\" rel=\"nofollow\">https://apps.fedoraproject.org/packages/qt5-qtbase-mysql</a> ).</p>\n"}, {"tags": [], "owner": {"reputation": 320, "user_id": 4855149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9dtSx.jpg?s=128&g=1", "display_name": "Roozbeh hz", "link": "https://stackoverflow.com/users/4855149/roozbeh-hz"}, "is_accepted": false, "score": 0, "last_activity_date": 1430516383, "creation_date": 1430516383, "answer_id": 29995555, "question_id": 29955258, "link": "https://stackoverflow.com/questions/29955258/mysql-driver-for-qt-database-fedora/29995555#29995555", "title": "mysql driver for qt database fedora", "body": "<p>You should build mysql driver manually. The only driver that comes with the default installation of Qt is Sqlite driver.</p>\n\n<p>Follow the instructions in <a href=\"http://doc.qt.io/qt-5.4/sql-driver.html#qmysql\" rel=\"nofollow\">http://doc.qt.io/qt-5.4/sql-driver.html#qmysql</a></p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 1817968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/01574e3aed3b3d09d16481171f42ff8a?s=128&d=identicon&r=PG", "display_name": "junghans", "link": "https://stackoverflow.com/users/1817968/junghans"}, "is_accepted": false, "score": 0, "last_activity_date": 1436353191, "creation_date": 1436353191, "answer_id": 31290696, "question_id": 29955258, "link": "https://stackoverflow.com/questions/29955258/mysql-driver-for-qt-database-fedora/31290696#31290696", "title": "mysql driver for qt database fedora", "body": "<ol>\n<li>Install <a href=\"https://dev.mysql.com/downloads/connector/c/\" rel=\"nofollow\">mySQL connector</a>.</li>\n<li>Follow instructions <a href=\"https://wiki.qt.io/How_to_load_a_sql_driver_correctly\" rel=\"nofollow\">here</a></li>\n</ol>\n\n<blockquote>\n  <p>libmysql.dll needs to be located somewhere where it can be found by the application. To make this happen, you can list it in your global PATH in Control Panel/System/Advanced System Settings/Environment variables or put libmysql.dll in the same folder as the Qt dlls in yourQtDirectory/bin.</p>\n</blockquote>\n"}], "owner": {"reputation": 163, "user_id": 3376036, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/5625ad54791f775a7353cccfe71c197d?s=128&d=identicon&r=PG&f=1", "display_name": "J&#233;r&#244;me B", "link": "https://stackoverflow.com/users/3376036/j%c3%a9r%c3%b4me-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 29957858, "answer_count": 3, "score": 2, "last_activity_date": 1436353191, "creation_date": 1430344358, "last_edit_date": 1430345428, "question_id": 29955258, "link": "https://stackoverflow.com/questions/29955258/mysql-driver-for-qt-database-fedora", "title": "mysql driver for qt database fedora", "body": "<p>I understand it's the 100s time someone ask this but I'm still unable to have QMYSQL working.\nSo I installed qt-mysql but I'm still having the</p>\n\n<pre><code>QSqlDatabase: QMYSQL driver not loaded\nQSqlDatabase: available drivers: QSQLITE\n</code></pre>\n\n<p>I copied <code>/usr/lib64/qt4/plugins/sqldrivers/libqsqlmysql.so</code> into <code>/usr/lib64/qt5/plugins/sqldrivers/libqsqlmysql.so</code> but no changes ...</p>\n\n<p>I've also added <code>QT += sql</code> into the .pro file.</p>\n\n<p>So what do I have to do ?</p>\n\n<p>P.S. : I'm on Fedora 21 and I'm using QtCreator 3.3.2 based on Qt 5.4.1.</p>\n\n<p>P.P.S : I also checked if the .so had dependencies problem but there's none :</p>\n\n<pre><code>$ ldd libqsqlmysql.so \nlinux-vdso.so.1 =&gt;  (0x00007fff665d1000)\nlibmysqlclient.so.18 =&gt; /usr/lib64/mysql/libmysqlclient.so.18 (0x00007fcb07294000)\nlibQtSql.so.4 =&gt; /lib64/libQtSql.so.4 (0x00007fcb07052000)\nlibQtCore.so.4 =&gt; /lib64/libQtCore.so.4 (0x00007fcb06b63000)\nlibpthread.so.0 =&gt; /lib64/libpthread.so.0 (0x00007fcb06947000)\nlibstdc++.so.6 =&gt; /lib64/libstdc++.so.6 (0x00007fcb06638000)\nlibm.so.6 =&gt; /lib64/libm.so.6 (0x00007fcb0632f000)\nlibgcc_s.so.1 =&gt; /lib64/libgcc_s.so.1 (0x00007fcb06118000)\nlibc.so.6 =&gt; /lib64/libc.so.6 (0x00007fcb05d5b000)\nlibdl.so.2 =&gt; /lib64/libdl.so.2 (0x00007fcb05b56000)\nlibz.so.1 =&gt; /lib64/libz.so.1 (0x00007fcb05940000)\nlibgthread-2.0.so.0 =&gt; /lib64/libgthread-2.0.so.0 (0x00007fcb0573e000)\nlibglib-2.0.so.0 =&gt; /lib64/libglib-2.0.so.0 (0x00007fcb05404000)\nlibrt.so.1 =&gt; /lib64/librt.so.1 (0x00007fcb051fc000)\n/lib64/ld-linux-x86-64.so.2 (0x00007fcb07aa6000)\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "opencv", "image-processing", "mask"], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 4750105, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/717120f6863dcca04e190d6b7eac04aa?s=128&d=identicon&r=PG&f=1", "display_name": "SemtexB", "link": "https://stackoverflow.com/users/4750105/semtexb"}, "edited": false, "score": 1, "creation_date": 1430389286, "post_id": 29955789, "comment_id": 48050079, "body": "Works perfectly, thanks a lot. I implemented your first solution in a function. This works just fine. Then I read your last note and just redraw my overlays into <code>webcam_img</code>. This is probably the fastest and easiest solution I&#39;d say. Great, thank you. SemtexB"}], "tags": [], "owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "is_accepted": true, "score": 2, "last_activity_date": 1430373371, "last_edit_date": 1592644375, "creation_date": 1430346996, "answer_id": 29955789, "question_id": 29955131, "link": "https://stackoverflow.com/questions/29955131/create-mask-from-color-image-in-c-superimposing-a-colored-image-mask/29955789#29955789", "title": "Create mask from color Image in C++ (Superimposing a colored image mask)", "body": "<h1>1. Custom version</h1>\n<p>I would write it explicitly:</p>\n<pre><code>const int cols = drawing.cols;\nconst int rows = drawing.rows;\n\nfor (int j = 0; j &lt; rows; j++) {\n    const uint8_t* p_draw = drawing.ptr(j); //Take a pointer to j-th row of the image to be drawn\n    uint8_t* p_dest = webcam_img.ptr(j);  //Take a pointer to j-th row of the destination image\n    for (int i = 0; i &lt; cols; i++) {\n        //Check all three channels BGR\n        if(p_draw[0] | p_draw[1] | p_draw[2]) { //Using binary OR should ease the optimization work for the compiler\n            p_dest[0] = p_draw[0]; //If the pixel is not zero, \n            p_dest[1] = p_draw[1]; //copy it (overwrite) in the destination image\n            p_dest[2] = p_draw[2];\n        }\n        p_dest += 3; //Move to the next pixel\n        p_draw += 3; \n    }\n}\n</code></pre>\n<p>Of course you can move this code in a function with arguments <code>(const cv::Mat&amp; drawing, cv::Mat&amp; webcam_img)</code>.</p>\n<h1>2. OpenCV &quot;purist&quot; version</h1>\n<p>But the pure OpenCV way would be the following:</p>\n<pre><code>cv::Mat mask;\n//Create a single channel image where each pixel != 0 if it is colored in your &quot;drawing&quot; image\ncv::cvtColor(drawing, mask, CV_BGR2GRAY);\n //Copy to destination image only pixels that are != 0 in the mask\ndrawing.copyTo(webcam_img, mask);\n</code></pre>\n<p>Less efficient (the color conversion to create the mask is somehow expensive), but certainly more compact. Small note: It won't work if you have one very dark color, like <code>(0,0,1)</code> that in grayscale will be converted to <code>0</code>.</p>\n<hr/>\n<p>Also note that it might be less expensive to redraw the same overlays (lines, circles) in your destination image, basically calling the same draw operations that you made to create your <code>drawing</code> image.</p>\n"}], "owner": {"reputation": 620, "user_id": 4750105, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/717120f6863dcca04e190d6b7eac04aa?s=128&d=identicon&r=PG&f=1", "display_name": "SemtexB", "link": "https://stackoverflow.com/users/4750105/semtexb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1203, "favorite_count": 0, "accepted_answer_id": 29955789, "answer_count": 1, "score": 2, "last_activity_date": 1430373371, "creation_date": 1430343821, "last_edit_date": 1430373320, "question_id": 29955131, "link": "https://stackoverflow.com/questions/29955131/create-mask-from-color-image-in-c-superimposing-a-colored-image-mask", "title": "Create mask from color Image in C++ (Superimposing a colored image mask)", "body": "<p>I've wrote a code which detects squares (white) in realtime and draws a frame around it. Each side of length l of the squares is divided in 7 parts. Then I draw a line of length h=l/7 at each of the six points evolving from the deviation perpendicular to the side of the triangle (blue). The corners are marked in red. It then looks something like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/elJzX.png\" alt=\"enter image description here\"></p>\n\n<p>For the drawing of the blue lines and circles I have a 3 Channel (<code>CV_8UC3</code>) matrix <code>drawing</code>, which is zero everywhere except at the positions of the red, blue and white lines. Then what I do to lay this matrix over my webcam image is using the <code>addWeighted</code> function of opencv.\n<code>addWeighted( drawing, 1, webcam_img, 1, 0.0, dst);</code> (<a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html?highlight=addweighted#addweighted\" rel=\"nofollow noreferrer\">Description for addWeighted here</a>).\nBut then, as you can see I get the effect that the colors for my dashes and circles are wrong outside the black area (probably also not correct inside the black area, but better there). It makes totally sense why it happens, as it just adds the matrices with a weight.</p>\n\n<p>I'd like to have the matrix <code>drawing</code> with the correct colors over my image. Problem is, I don't no how to fix it. I somehow need a mask <code>drawing_mask</code> where my dashes are, sort of, superimposed to my camera image. In Matlab something like <code>dst=webcam_img; dst(drawing&gt;0)=drawing(drawing&gt;0);</code></p>\n\n<p>Anyone an idea how to do this in C++?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 2, "creation_date": 1430343789, "post_id": 29955088, "comment_id": 48031024, "body": "<b><i>Object obj1();</i></b> most vexing parse."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 4848213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c864bcb51d9c0c6b8e43d8bf7c89040?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bresette", "link": "https://stackoverflow.com/users/4848213/michael-bresette"}, "edited": false, "score": 0, "creation_date": 1430344494, "post_id": 29955114, "comment_id": 48031302, "body": "That&#39;s it, I actually just looked back at my code and saw that right after posting this. Thanks for the help"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1430343742, "creation_date": 1430343742, "answer_id": 29955114, "question_id": 29955088, "link": "https://stackoverflow.com/questions/29955088/c-class-pointer-giving-error/29955114#29955114", "title": "C++ class pointer giving error", "body": "<p>This:</p>\n\n<pre><code>Object obj1();\n</code></pre>\n\n<p>is a function declaration. It is a function named <code>obj1</code> that takes zero arguments and returns an <code>Object</code>. This is known as the \"most vexing parse.\" What you meant was:</p>\n\n<pre><code>Object obj1;\n</code></pre>\n\n<p>You can tell this from the error message, indicating that your right-hand-side is of type \"pointer to function that takes zero arguments and returns an <code>Object</code> rather than the \"pointer to <code>Object</code>\" that you were expecting:</p>\n\n<blockquote>\n  <p>Error: a value of type \"<code>Object (*)()</code>\" cannot be used to initialize an entity of type \"<code>Object *</code>\"</p>\n</blockquote>\n"}], "owner": {"reputation": 5, "user_id": 4848213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c864bcb51d9c0c6b8e43d8bf7c89040?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Bresette", "link": "https://stackoverflow.com/users/4848213/michael-bresette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 29955114, "answer_count": 1, "score": 0, "last_activity_date": 1430343742, "creation_date": 1430343630, "question_id": 29955088, "link": "https://stackoverflow.com/questions/29955088/c-class-pointer-giving-error", "title": "C++ class pointer giving error", "body": "<p>In my program I have created an Object class, that's not overly complicated (has a lot of types of constructors but that's beside the point). I have looked at the syntax for creating a pointer to a class, and I can't seem to find a problem with it, but it keeps producing this error code</p>\n\n<blockquote>\n  <p>Error: a value of type \"Object (*)()\" cannot be used to initialize an entity of type \"Object\n  *\"</p>\n</blockquote>\n\n<p>System Info: Windows Embedded 8.1 x64 <br />\nIDE: Microsoft Visual Studio 2013 Update 4\n<br />\n<br /></p>\n\n<p>Object.h:</p>\n\n<pre><code>#ifndef OBJECT_H\n#define OBJECT_H\n\n#include \"Point.h\"\n\nclass Object {\n    private:\n        float mf_Mass;\n        float mf_Volume;\n        int mn_ID;\n        bool mb_Parent;\n        bool mb_Child;\n        Point position;\n        Object* mp_Child;\n        Object* mp_Parent;\n\n    public:\n        //ID generation\n        static int c_IDGenerator;\n        void generateID(){ mn_ID = c_IDGenerator++; return; }\n\n        //Constructor Prototypes\n        Object();\n\n        Object(Point point);\n        Object(Object* child);\n        Object(float mass);\n\n        Object(Point point, Object* child);\n        Object(Point point, float mass);\n        Object(Object* child, Object* parent);\n        Object(Object* child, float mass);\n        Object(float mass, float volume);\n\n        Object(Point point, Object* child, Object* parent);\n        Object(Point point, Object* child, float mass);\n        Object(Object* child, Object* parent, float mass);\n        Object(Object* child, float mass, float volume);\n\n        Object(Point point, Object* child, Object* parent, float mass);\n        Object(Point point, Object* child, float mass, float volume);\n        Object(Object* child, Object* parent, float mass, float volume);\n\n        Object(Point point, Object* child, Object* parent, float mass, float volume);\n\n        //Get and Set methods\n        float getMass(){ return mf_Mass; }\n        float getVolume(){ return mf_Volume; }\n        int getID(){ return mn_ID; }\n        Point getPosition(){ return position; }\n        Object&amp; getChild(){ return &amp;(mp_Child); }\n        Object&amp; getParent(){ return &amp;(mp_Parent); }\n        bool isParent(){ return mb_Parent; }\n        bool isChild(){ return mb_Child; }\n\n        void setMass(float mass){ mf_Mass = mass; return; }\n        void setVolume(float volume){ mf_Volume = volume; return; }\n        void setChild(Object* child){ mp_Child = child; return; }\n        void setParent(Object* parent){ mp_Parent = parent; return; }\n\n        //Object Interface\n        void move(int x, int y);\n        void move(Point point);\n\n        void destroyChild();\n        void resetChild();\n\n        void resetParent();\n\n        float calculateDensity();\n}\n\n#endif\n</code></pre>\n\n<p><br />\nObject.cpp:</p>\n\n<pre><code>#include \"Object.h\" \n\n//Object Constructors with 0 known field(s)\n    Object::Object()\n    :   position(0, 0)\n    {\n        mf_Mass = 1;\n        mf_Volume = 1;\n        mp_Child = 0;\n        mp_Parent = 0;\n        mb_Child = false;\n        mb_Parent = false;\n        generateID();\n    }\n\n//Object Constructors with 1 known field(s)\n    Object::Object(Point point)\n    :   position(point)\n    {\n        mf_Mass = 1;\n        mf_Volume = 1;\n        mp_Child = 0;\n        mp_Parent = 0;\n        mb_Child = false;\n\n        generateID();\n    }\n\n    Object::Object(Object* child)\n    :   position(0, 0)\n    {\n        mf_Mass = 1;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = 0;\n        generateID();\n    }\n\n    Object::Object(float mass)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = 0;\n        mp_Child = 0;\n        mp_Parent = 0;\n        generateID();\n    }\n\n//Object Constructors with 2 known field(s) \n    Object::Object(Point point, Object* child)\n    :   position(point)\n    {\n        mf_Mass = 1;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = 0;\n        generateID();\n    }\n\n    Object::Object(Point point, float mass)\n    :   position(point)\n    {\n        mf_Mass = mass;\n        mf_Volume = 1;\n        mp_Child = 0;\n        mp_Parent = 0;\n        generateID();\n    }\n\n    Object::Object(Object* child, Object* parent)\n    : position(0, 0)\n    {\n        mf_Mass = 1;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = parent;\n        generateID();\n    }\n\n    Object::Object(Object* child, float mass)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = 0;\n        generateID();\n    }\n\n    Object::Object(float mass, float volume)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = volume;\n        mp_Child = 0;\n        mp_Parent = 0;\n        generateID();\n    }\n\n//Object Constructors with 3 known field(s)\n    Object::Object(Point point, Object* child, Object* parent)\n    :   position(point)\n    {\n       mf_Mass = 1;\n       mf_Volume = 1;\n       mp_Child = child;\n       mp_Parent = parent;\n       generateID();\n    }\n\n    Object::Object(Point point, Object* child, float mass)\n    :   position(point)\n    {\n        mf_Mass = mass;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = 0;\n        generateID();\n    }\n\n    Object::Object(Object* child, Object* parent, float mass)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = parent;\n        generateID();\n    }\n\n    Object::Object(Object* child, float mass, float volume)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = volume;\n        mp_Child = child;\n        mp_Parent = 0;\n        generateID();\n    }\n\n\n//Object Constructors with 4 known field(s)\n    Object::Object(Point point, Object* child, Object* parent, float mass)\n    :   position(point)\n    {\n        mf_Mass = mass;\n        mf_Volume = 1;\n        mp_Child = child;\n        mp_Parent = parent;\n        generateID();\n    }\n\n    Object::Object(Object* child, Object* parent, float mass, float volume)\n    :   position(0, 0)\n    {\n        mf_Mass = mass;\n        mf_Volume = volume;\n        mp_Child = child;\n        mp_Parent = parent;\n        generateID();\n    }\n\n//Object Constructors with 5 known field(s)\n    Object::Object(Point point, Object* child, Object* parent, float mass, float volume)\n    :   position(point)\n    {\n        mf_Mass = mass;\n        mf_Volume = volume;\n        mp_Child = child;\n        mp_Parent = parent;\n        generateID();\n    }\n\n//Object Interaction Methods\n    void Object::move(int x = 0, int y = 0)\n    {\n        position.move(x, y);\n    }\n\n    void Object::move(Point point)\n    {\n        position.move(point);\n    }\n\n    void Object::destroyChild()\n    {\n        if(mp_Child)\n        {\n            mp_Child-&gt;~Object();\n            resetChild();\n        }\n        else\n        {\n        resetChild();\n        }\n    }\n    void Object::resetChild()\n    {\n        mp_Child = 0;\n        mb_Parent = false;\n    }\n\n    void Object::resetParent()\n    {\n        mp_Parent = 0;\n        mb_Child = false;\n    }\n\n    float Object::calculateDensity()\n    {\n        return (mf_Mass / mf_Volume);\n    }\n</code></pre>\n\n<p>Point.h:</p>\n\n<pre><code>class Point {\n        public:\n        int _X;\n        int _Y;\n\n        Point()\n        {\n            _X = 0;\n            _Y = 0;\n        }\n\n        Point(int x)\n        {\n            _X = x;\n            _Y = 0;\n        }\n\n        Point(int x, int y)\n        {\n            _X = x;\n            _Y = y;\n        }\n\n        void reset()\n        {\n            _X = 0;\n            _Y = 0;\n        }\n\n        void moveX(int x)\n        {\n            _X = x;\n        }\n\n        void moveY(int y)\n        {\n            _Y = y;\n        }\n\n        void move(int x, int y)\n        {\n            _X = x;\n            _Y = y;\n        }  \n\n        void move(Point point)\n        {\n            _X = point._X;\n            _Y = point._Y;\n        }\n\n        void offsetX(int osX)\n        {\n            _X += osX;\n        }\n\n        void offsetY(int osY)\n        {\n            _Y += osY;\n        }\n\n        void offset(int osX, int osY)\n        {\n            _X += osX;\n            _Y += osY;\n        }\n    }\n</code></pre>\n\n<p><br /></p>\n\n<p>Main.cpp:</p>\n\n<pre><code>#include \"Object.h\"\n#include \"Point.h\"\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    Point origin;\n    Point p1(1);\n    Point p2(1, 3);\n\n    Object obj1();\n\n    Object* child;\n    child = &amp;obj1;\n\n    Object obj2(origin);\n    Object obj3(&amp;obj2);\n    Object obj4(1.25);\n\n    Object obj5(p1, &amp;obj1);\n    Object obj6(p1, 4.0f);\n    Object obj7(&amp;obj1, 4.0f);\n    Object obj8(&amp;obj2, &amp;obj3);\n    Object obj9(2.0f, 4.0f);\n\n    Object obj10(p2, &amp;obj1, &amp;obj2);\n    Object obj11(p2, &amp;obj1, 4.0f);\n    Object obj12(&amp;obj1, &amp;obj2, 3.0f);\n    Object obj13(&amp;obj1, 2.5f, 2.6f);\n\n    Object obj14(origin, &amp;obj10, &amp;obj11, 10.0f);\n    Object obj15(&amp;obj12, &amp;obj13, 11.0f, 13.0f);\n\n    Object obj16(p1, &amp;obj14, &amp;obj15, 100.0f, 100.0f);\n\n    Object objs[] = { obj1, obj2, obj3, obj4, obj5, obj6, obj7, obj8, obj9, obj10, obj11, obj12, obj13, obj14, obj15, obj16 };\n\n    for (int i = 0; i &lt; 16; i++)\n    {\n        cout &lt;&lt; objs[i];\n    }\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<p><br />\n<strong> PLEASE NOTE: </strong> I know I have not overloaded the operator&lt;&lt; function yet, that is to come. I want to get the other problem fixed before I attempt to move on with anything.\n<br />\nAlso, I understand that the \"system(\"pause\");\" line is not recommended and frowned upon, this is just a personal project so I don't care that it is OS specific at the moment, I'll change it if I decide to port to another platform.\n<br /></p>\n\n<p>I can't find anything wrong with my syntax or logic but, I'm pretty new to C++ classes so I'm open for any suggestions, thanks!!!</p>\n"}, {"tags": ["c++", "menu"], "comments": [{"owner": {"reputation": 11030, "user_id": 656346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WCIys.png?s=128&g=1", "display_name": "seva titov", "link": "https://stackoverflow.com/users/656346/seva-titov"}, "edited": false, "score": 0, "creation_date": 1430343811, "post_id": 29955039, "comment_id": 48031032, "body": "One of your <code>do</code> statements does not have a matching <code>while</code>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1430343907, "post_id": 29955039, "comment_id": 48031076, "body": "More than one of your <code>do</code>s even. Consider using functions."}, {"owner": {"reputation": 23582, "user_id": 598289, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/b04c9074fed0dd215caec771c2a9ea98?s=128&d=identicon&r=PG", "display_name": "SJuan76", "link": "https://stackoverflow.com/users/598289/sjuan76"}, "edited": false, "score": 0, "creation_date": 1430343970, "post_id": 29955039, "comment_id": 48031101, "body": "This forum is not for debugging your programs. That said, you can try commenting blocks of your code (begin with the innermost <code>switch</code>, then comment the containing <code>do</code>) until you get no errors, to find were to look for. Better yet, move those blocks of code to different functions so they are easier to read. Alternatively, with most IDEs if you hover on a opening/closing bracket, it will hint you which closing/opening bracket it is paired with..."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1430344685, "post_id": 29955039, "comment_id": 48031379, "body": "Some places need input statements (menu selections).  You prompt the User but don&#39;t let them answer.  I recommend using <code>cin</code> for gettting the values from the User."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4608185, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153045288703965/picture?type=large", "display_name": "Kenneth Miller", "link": "https://stackoverflow.com/users/4608185/kenneth-miller"}, "edited": false, "score": 0, "creation_date": 1430346663, "post_id": 29955299, "comment_id": 48032181, "body": "comments out the switch statements still results in the same errors, as does adding the missing cin and the while loop."}, {"owner": {"reputation": 77, "user_id": 3701771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1051002382/picture?type=large", "display_name": "resistancefm", "link": "https://stackoverflow.com/users/3701771/resistancefm"}, "reply_to_user": {"reputation": 11, "user_id": 4608185, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153045288703965/picture?type=large", "display_name": "Kenneth Miller", "link": "https://stackoverflow.com/users/4608185/kenneth-miller"}, "edited": false, "score": 0, "creation_date": 1430689033, "post_id": 29955299, "comment_id": 48156757, "body": "Can I see the updated code? I think I was unclear before, I meant that instead of using do-while, use a while loop, as I described above. I recommend counting the parenthesis very carefully and matching which one goes with which."}], "tags": [], "owner": {"reputation": 77, "user_id": 3701771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1051002382/picture?type=large", "display_name": "resistancefm", "link": "https://stackoverflow.com/users/3701771/resistancefm"}, "is_accepted": false, "score": 1, "last_activity_date": 1430344932, "last_edit_date": 1430344932, "creation_date": 1430344556, "answer_id": 29955299, "question_id": 29955039, "link": "https://stackoverflow.com/questions/29955039/using-multiple-switch-statements-for-a-menu-program/29955299#29955299", "title": "Using multiple switch statements for a menu program", "body": "<p>It looks like you didn't format the inner do-while loop correctly. The closing bracket for the do-block has no while at the end, and your while statement is inside case 2. You need to make sure that do-while loops are formatted as:</p>\n\n<pre><code>do{\n    /*code*/\n}while(/*boolean statement*/);\n</code></pre>\n\n<p>I would enclose the outermost switch statement in a while(true) loop so that it keeps prompting for the next option until the user quits, then use \"break\" when the user chooses the quit option, that is: put two \"break\" statements in the case which ends a loop, one to break the switch-case and one to break the while-loop.</p>\n\n<p>Also, every time you give a prompt to the user, you need to add the cin statement to read what they type, otherwise your program will crash as written.</p>\n"}], "owner": {"reputation": 11, "user_id": 4608185, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153045288703965/picture?type=large", "display_name": "Kenneth Miller", "link": "https://stackoverflow.com/users/4608185/kenneth-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2455, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430344932, "creation_date": 1430343389, "question_id": 29955039, "link": "https://stackoverflow.com/questions/29955039/using-multiple-switch-statements-for-a-menu-program", "title": "Using multiple switch statements for a menu program", "body": "<p>So this is a project for school. design a flight reservation program with input validation using menu's. I have gotten the first menu selection to compile and it does work, however adding a second menu generates a c2059: syntax error: 'case'</p>\n\n<p>as well as a c2069: syntax error: '}'</p>\n\n<p>I have been stuck on this since Sunday, with no idea what the error relates to. deleting the '}' in question yields about 12 new error's.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{\nstring firstlastname;\n\nint seats = 13;\n\nchar selection;\ncout &lt;&lt; \"Please enter your first and last name.\\n\";\ngetline(cin, firstlastname);\n\ndo\n{\n    cout &lt;&lt; \"  Welcome \" &lt;&lt; firstlastname &lt;&lt; \" to FlightSpace Airlines!\\n\";\n    cout &lt;&lt; \"  ====================================\\n\";\n    cout &lt;&lt; \"  1.  Make a reservation\\n\";\n    cout &lt;&lt; \"  2.  Check a reservation\\n\";\n    cout &lt;&lt; \"  3.  Cancel a Reservation\\n\";\n    cout &lt;&lt; \"  4.  Check flight status\\n\";\n    cout &lt;&lt; \"  5.  Check Local Weather\\n\";\n    cout &lt;&lt; \"\\n\";\n    cout &lt;&lt; \"  6.  Exit\\n\";\n    cout &lt;&lt; \"  ====================================\\n\";\n    cout &lt;&lt; \"  Enter your selection: \";\n    cin &gt;&gt; selection;\n    cout &lt;&lt; endl;\n\n    switch (selection)\n    {\n    case '1':\n    {\n        cout &lt;&lt; \"Make a selection below!\";\n        cout &lt;&lt; \"\\n\";\n        cout &lt;&lt; \"There are currently \" &lt;&lt; seats &lt;&lt; \" seats available!\\n\";\n        cout &lt;&lt; \"Would you like to make a reservation?\\n\";\n\n        char selection;\n\n        do\n        {\n            cout &lt;&lt; \" 1: Yes\\n\";\n            cout &lt;&lt; \" 2: No\\n\";\n\n            switch (selection)\n            {\n            case '1':\n                cout &lt;&lt; \"Great! lets get started!\\n\";\n                cout &lt;&lt; \"\\n\";\n                cout &lt;&lt; \"You are currenly in Dallas, Texas.\\n\";\n                cout &lt;&lt; \"Where would you like to go to?\\n\";\n\n                    do\n                        {\n                        cout &lt;&lt; \"1: New York, NY.\\n\";\n                        cout &lt;&lt; \"2: Shreveport, LA.\\n\";\n                        cout &lt;&lt; \"3: Seattle, WA.\\n\";\n                        cout &lt;&lt; \"4: Los Angeles, CA.\\n\";\n                        cout &lt;&lt; \"5: Miami, FL.\\n\";\n                        cout &lt;&lt; \"6: Des Moines, IA.\\n\";\n                        cout &lt;&lt; \"7: Salt Lake City, NV.\\n\";\n                        cout &lt;&lt; \"8: Charlotte, NC.\\n\";\n                        cout &lt;&lt; \"9: Minneapolis, MN.\\n\";\n                        cout &lt;&lt; \"10: Denver, CO.\\n\";\n\n                        switch (selection)\n                        {\n                        case '1':\n                            cout &lt;&lt; \"You have selected New York. Is this correct?\\n\";\n\n\n                        }\n\n\n                }\n\n\n            case '2':\n                cout &lt;&lt; \"Goodbye!\\n\";\n                while (selection != 2);\n                return 0;\n            default: cout &lt;&lt; selection &lt;&lt; \"is not a valid menu item.\\n\";\n\n            }\n        }\n\n\n\n    }\n\n\n\n\n\n\n\n    break;\n    case '2':\n        cout &lt;&lt; \"Check a reservation\\n\";\n        cout &lt;&lt; \"\\n\";\n        break;\n    case '3':\n        cout &lt;&lt; \"Cancel a Reservation\";\n        cout &lt;&lt; \"\\n\";\n        break;\n\n    case '4':\n        cout &lt;&lt; \"Flight Status is:\\n\";\n        cout &lt;&lt; \"\\n\";\n        break;\n\n    case '5':\n        cout &lt;&lt; \"The Local Weather is 79f\\n\";\n        break;\n\n    case '6':\n        cout &lt;&lt; \"Goodbye!\\n\";\n        return 0;\n    default: cout &lt;&lt; selection &lt;&lt; \"is not a valid menu item.\\n\";\n\n        cout &lt;&lt; endl;\n    }\n\n} while (selection != 6);\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "debugging", "visual-studio-2013", "breakpoints"], "comments": [{"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1430343195, "post_id": 29954942, "comment_id": 48030727, "body": "You likely have two different binaries whose PDB contains that line loaded."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1430353322, "post_id": 29954942, "comment_id": 48034476, "body": "My fellow developer has already checked for that. I&#39;ve performed a clean on my machine, but it still happens (oh, I should have mentioned this is happening on two different development machines). Tomorrow, I&#39;ll blow away everything and pull from source control, and see if that makes a difference. Can&#39;t get much cleaner than that."}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "reply_to_user": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 0, "creation_date": 1430395105, "post_id": 29954942, "comment_id": 48053830, "body": "I&#39;ve completely deleted by source/build directories, copied fresh source from version control, and re-built. I experienced the exact same behavior."}], "owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483027370, "creation_date": 1430342936, "last_edit_date": 1495539963, "question_id": 29954942, "link": "https://stackoverflow.com/questions/29954942/why-would-vs2013s-debugger-place-two-breakpoints-at-two-different-addresses-for", "title": "Why would VS2013&#39;s debugger place two breakpoints at two different addresses for a single line of code?", "body": "<p>I suspect that we've run into a compiler bug in VS2013. Setting a single breakpoint actually inserts a breakpoint into two different addresses of the code.</p>\n\n<p>I set a breakpoint on line 89 of a source file (<code>MessageServerManager.cpp</code>). Here is a snippet of that part of the code (a normal method in a class):</p>\n\n<pre><code>87:     void MessageServerManager::setup_dsp_emulation()\n88:     {\n89:         auto dsp_emulation_setting = util::get_env_var(\"DSP_EMULATION\");\n90:         _emulating_dsp = !dsp_emulation_setting.empty();\n91: \n92:         if (_emulating_dsp)\n</code></pre>\n\n<p>When  I do this, a single breakpoint appears in VS2013's breakpoint window. However, when the code is built and executed (with optimizations turned off, by the way), the view changes to the following:</p>\n\n<p><img src=\"https://i.stack.imgur.com/wJ5CW.png\" alt=\"enter image description here\"></p>\n\n<p>Notice that the two breakpoints are at different addresses. When the first breakpoint is hit, the highlighted line in VS is line 89, but when viewing the disassembly, it's actually in another piece of code (the object's constructor).</p>\n\n<p>Since it's in the objects constructor, it's probably a good idea to share how this object is created. It's a singleton that basically looks like the following:</p>\n\n<pre><code>class MessageServerManager : public boost::basic_lockable_adapter &lt; std::recursive_mutex &gt;\n{\npublic:\n    inline static MessageServerManager&amp; instance() { static MessageServerManager manager; return manager; }\n    void start_dsp_facing_server();\nprivate:\n    MessageServerManager();\n}\n</code></pre>\n\n<p>And the very first time we're accessing <code>MessageServerManager</code>, we're calling <code>start_dsp_facing_server()</code> (it's one of the first few lines of <code>main()</code>):</p>\n\n<pre><code>MessageServerManager::instance().start_dsp_facing_server();\n</code></pre>\n\n<p>The following is the disassembled code of the breakpoint that's in the incorrect location. The C++ code shown is the method the breakpoint should be set on (<code>start_dsp_facing_server()</code>), but the disassembled code is obviously different (it's the constructor):</p>\n\n<pre><code>    87:     void MessageServerManager::setup_dsp_emulation()\n    88:     {\n    89:         auto dsp_emulation_setting = util::get_env_var(\"DSP_EMULATION\");\n011AAB8F  push        0  \n011AAB91  mov         ecx,dword ptr [this]  \n011AAB94  add         ecx,8  \n011AAB97  call        std::shared_ptr&lt;messaging::IMessageServer&gt;::shared_ptr&lt;messaging::IMessageServer&gt; (010619C9h)  \n011AAB9C  mov         byte ptr [ebp-4],1  \n    90:         _emulating_dsp = !dsp_emulation_setting.empty();\n011AABA0  push        0  \n011AABA2  mov         ecx,dword ptr [this]  \n011AABA5  add         ecx,10h  \n011AABA8  call        std::unique_ptr&lt;radian::SimpleThread,std::default_delete&lt;radian::SimpleThread&gt; &gt;::unique_ptr&lt;radian::SimpleThread,std::default_delete&lt;radian::SimpleThread&gt; &gt; (0106E5CAh)  \n011AABAD  mov         byte ptr [ebp-4],2  \n    91: \n    92:         if (_emulating_dsp)\n    93:         {\n</code></pre>\n\n<p>If I look at the disassembly of the other location of the breakpoint, that part also shows a line 89, but it's the right disassembly.</p>\n\n<p>This is in VS2013 update 4, C++ native application, linked against Boost 1.56.0 and Qt 5.3.1, 32-bit.</p>\n\n<p>Has anyone seen this before, know potential causes, and possible solutions?</p>\n\n<p>I've seen <a href=\"https://stackoverflow.com/questions/25877144/c-vs2013-debugger-breakpoint-not-hit\">this question (and the suggestion about line endings)</a>, and I'm aware that optimizations can reorder code and cause odd debugger behavior, but I've batch converted my files to ensure they have proper line endings, and we have optimizations turned off.</p>\n\n<p>I would post a minimal example that shows this behavior, but I'm not able to reproduce this on demand with other code.</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 5, "creation_date": 1430343055, "post_id": 29954940, "comment_id": 48030646, "body": "Do not use EndDialog. Instead post a WM_CLOSE or WM_QUIT to your dialog window by PostMessage or SendMessage."}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430343645, "post_id": 29954940, "comment_id": 48030953, "body": "@hypheni solved it :)"}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430391497, "post_id": 29954940, "comment_id": 48051481, "body": "@hypheni want to post answer to close the question?"}, {"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430421489, "post_id": 29954940, "comment_id": 48071678, "body": "added. Please close it."}], "answers": [{"tags": [], "owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "is_accepted": true, "score": 1, "last_activity_date": 1430421442, "creation_date": 1430421442, "answer_id": 29975969, "question_id": 29954940, "link": "https://stackoverflow.com/questions/29954940/mfc-enddialog-crashes-when-modal-dialog-does-not-have-focus/29975969#29975969", "title": "MFC EndDialog crashes when modal dialog does not have focus", "body": "<p>Do not end the dialog with EndDialog. Instead PostMessage with WM_CLOSE or WM_QUIT to the dialog window. </p>\n"}], "owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 640, "favorite_count": 0, "accepted_answer_id": 29975969, "answer_count": 1, "score": 0, "last_activity_date": 1430421442, "creation_date": 1430342925, "last_edit_date": 1430391481, "question_id": 29954940, "link": "https://stackoverflow.com/questions/29954940/mfc-enddialog-crashes-when-modal-dialog-does-not-have-focus", "title": "MFC EndDialog crashes when modal dialog does not have focus", "body": "<p>I am closing a modal dialog after I end a task, inside a separate thread from where I created a modal dialog:</p>\n\n<pre><code>void CmodguiApp::_notify_task_end() {\n  processingDialog-&gt;EndDialog(0);\n}\n</code></pre>\n\n<p>This works fine if my application has focus (therefore the modal dialog has focus). But this causes the application to crash if I change window while the modal dialog is on (for instance, if I leave the application processing and switch to Firefox or so).</p>\n\n<p>What could be wrong?</p>\n"}, {"tags": ["c++", "xml", "opencv"], "comments": [{"owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430342642, "post_id": 29954573, "comment_id": 48030428, "body": "I never had this problem. What are the specs of your computer?"}, {"owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "reply_to_user": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430342810, "post_id": 29954573, "comment_id": 48030505, "body": "Mac, OSX 10.9.4, 2.5 GHz Intel Core i5, 4 GB 1600 MHz DDR3 RAM (also edited in the main body of the question)."}, {"owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430343264, "post_id": 29954573, "comment_id": 48030761, "body": "Hum, it takes usually about 2sec to load both haarcascades and you have a great computer."}, {"owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "reply_to_user": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430343424, "post_id": 29954573, "comment_id": 48030844, "body": "You&#39;re right - and I actually had Activity Monitor open during my latest test. It showed the test app only using 6% CPU and nowhere near enough RAM to be causing this problem. And yet, for some reason, as soon as I run the .exe, the whole computer slows down, as though the .exe is sucking up ALL the CPU, even though the Activity Monitor indicates otherwise."}, {"owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430343962, "post_id": 29954573, "comment_id": 48031095, "body": "Why do you have a .exe on Mac?"}, {"owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "reply_to_user": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430344092, "post_id": 29954573, "comment_id": 48031149, "body": "Not sure what else I should be exporting to, and I can run a .exe from terminal. Might that be the problem? Should I be exporting to a different extension?"}, {"owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430344390, "post_id": 29954573, "comment_id": 48031263, "body": ".exe are Windows executables. Unix and Linux executables have no extension. Are you using Xcode and the OpenCV Mac OS libraries? Aren&#39;t you using a Virtual Machine?"}, {"owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "reply_to_user": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430346959, "post_id": 29954573, "comment_id": 48032309, "body": "I&#39;m not using a virtual machine, no. I&#39;ve been working out of Terminal, using g++ and cmake to compile."}, {"owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "reply_to_user": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "edited": false, "score": 0, "creation_date": 1430405068, "post_id": 29954573, "comment_id": 48061212, "body": "So I double-checked - I was away from the computer - and it actually is a unix executable, not a windows executable. I&#39;m just so used to windows I assumed it was a .exe - but it&#39;s not actually!"}], "answers": [{"tags": [], "owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1430406881, "creation_date": 1430406881, "answer_id": 29971479, "question_id": 29954573, "link": "https://stackoverflow.com/questions/29954573/c-opencv-reading-haarcascades-slowing-down-computer/29971479#29971479", "title": "C++ OpenCV Reading HaarCascades Slowing Down Computer", "body": "<p>A quick solution would be to replace:</p>\n\n<pre><code>eyes_cascade.detectMultiScale( faceROI, eyes, 1.1, 2, 0 |CASCADE_SCALE_IMAGE, Size(30, 30) );\n</code></pre>\n\n<p>by</p>\n\n<pre><code>eyes_cascade.detectMultiScale( faceROI, eyes, 1.3, 2, 0 |CASCADE_SCALE_IMAGE, Size(60, 60), Size(350, 350) );\n</code></pre>\n\n<p>1.3 is the scale factor, Size(60, 60) the min windows size and Size(350, 350) the max one. It means basically that it will start to search for 60*60 faces then increase size by oldWindowSize*1.3 until it reach 350*350. It is assumed there that your faces are min 60*60 and max 350 * 350.</p>\n\n<p>You can tune it even more depending what you want. The minSize will have a the most impact on performance as well as scale (but 1.3 is already high). The maxSize will have less impact.</p>\n\n<p>After this update, your prog should be twice faster or decrease CPU usage by half. However, I am still surprise that with your current tunings and you computer you have performances problems...</p>\n\n<p>Give us a feedback if it works.</p>\n"}], "owner": {"reputation": 63, "user_id": 4784728, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wqPUzebhqOc/AAAAAAAAAAI/AAAAAAAAABM/liUWdyhh6jQ/photo.jpg?sz=128", "display_name": "Peregrine", "link": "https://stackoverflow.com/users/4784728/peregrine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430406881, "creation_date": 1430341661, "last_edit_date": 1430342859, "question_id": 29954573, "link": "https://stackoverflow.com/questions/29954573/c-opencv-reading-haarcascades-slowing-down-computer", "title": "C++ OpenCV Reading HaarCascades Slowing Down Computer", "body": "<p>I'm writing a program using C++ and OpenCV. It's actually my first so what I'm asking is probably something very basic I've overlooked. Much of it is copied - not copy+pasted mind you, but copied by hand, going line by line, understanding what each line was doing as I wrote it - from some of OpenCV's tutorials. I'll paste the code below.</p>\n\n<p>The problem I'm encountering is that as soon as the webcam starts trying to implement facial recognition, everything just SLOWS. DOWN. As I understand it, its because the .exe is trying to read from two MASSIVE .xml files every frame update, but I don't have any idea how to fix it. It was worse before I constrained the height, width, and framerate of the video.</p>\n\n<p>If anyone has any ideas at this point, I'd love to hear them. I'm very new to software programming - until now I've mostly done web development, so I'm not used to worrying about system memory and other factors.</p>\n\n<p>Thanks in advance!</p>\n\n<p>EDIT: Here are my system specs: Mac, OSX 10.9.4, 2.5 GHz Intel Core i5, 4 GB 1600 MHz DDR3 RAM.</p>\n\n<pre><code>#include \"opencv2/objdetect.hpp\"\n#include \"opencv2/videoio.hpp\"\n#include \"opencv2/highgui.hpp\"\n#include \"opencv2/imgproc.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;stdio.h&gt;\n\nusing namespace std;\nusing namespace cv;\n\n/** Function Headers */\nvoid detectAndDisplay( Mat frame );\n\n/** Global variables */\nString face_cascade_name = \"haarcascade_frontalface_alt.xml\";\nString eyes_cascade_name = \"haarcascade_eye_tree_eyeglasses.xml\";\nCascadeClassifier face_cascade;\nCascadeClassifier eyes_cascade;\nString window_name = \"Capture - Face detection\";\n\n/** @function main */\nint main( void )\n{\n    cv::VideoCapture capture;\n    Mat frame;\n\n    //-- 1. Load the cascades\n    if( !face_cascade.load( face_cascade_name ) ){ printf(\"--(!)Error loading face cascade\\n\"); return -1; };\n    if( !eyes_cascade.load( eyes_cascade_name ) ){ printf(\"--(!)Error loading eyes cascade\\n\"); return -1; };\n\n    //-- 2. Read the video stream\n    capture.open( -1 );\n    if ( ! capture.isOpened() ) { printf(\"--(!)Error opening video capture\\n\"); return -1; }\n\n    capture.set(CV_CAP_PROP_FRAME_WIDTH,640);\n    capture.set(CV_CAP_PROP_FRAME_HEIGHT,480);\n    capture.set(CV_CAP_PROP_FPS, 15);\n\n    while ( capture.read(frame) )\n    {\n        if( frame.empty() )\n        {\n            printf(\" --(!) No captured frame -- Break!\");\n            break;\n        }\n\n        //-- 3. Apply the classifier to the frame\n        detectAndDisplay( frame );\n\n        int c = waitKey(10);\n        if( (char)c == 27 ) { break; } // escape\n    }\n    return 0;\n}\n\n/** @function detectAndDisplay */\nvoid detectAndDisplay( Mat frame )\n{\n    std::vector&lt;Rect&gt; faces;\n    Mat frame_gray;\n\n    cvtColor( frame, frame_gray, COLOR_BGR2GRAY );\n    equalizeHist( frame_gray, frame_gray );\n\n    //-- Detect faces\n    face_cascade.detectMultiScale( frame_gray, faces, 1.1, 2, 0|CASCADE_SCALE_IMAGE, Size(30, 30) );\n\n    for ( size_t i = 0; i &lt; faces.size(); i++ )\n    {\n        Point center( faces[i].x + faces[i].width/2, faces[i].y + faces[i].height/2 );\n        ellipse( frame, center, Size( faces[i].width/2, faces[i].height/2 ), 0, 0, 360, Scalar( 255, 0, 255 ), 4, 8, 0 );\n\n        Mat faceROI = frame_gray( faces[i] );\n        std::vector&lt;Rect&gt; eyes;\n\n        //-- In each face, detect eyes\n        eyes_cascade.detectMultiScale( faceROI, eyes, 1.1, 2, 0 |CASCADE_SCALE_IMAGE, Size(30, 30) );\n\n        for ( size_t j = 0; j &lt; eyes.size(); j++ )\n        {\n            Point eye_center( faces[i].x + eyes[j].x + eyes[j].width/2, faces[i].y + eyes[j].y + eyes[j].height/2 );\n            int radius = cvRound( (eyes[j].width + eyes[j].height)*0.25 );\n            circle( frame, eye_center, radius, Scalar( 255, 0, 0 ), 4, 8, 0 );\n        }\n    }\n    //-- Show what you got\n    imshow( window_name, frame );\n}\n</code></pre>\n"}, {"tags": ["c++", "int", "comparison-operators"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1430341677, "post_id": 29954532, "comment_id": 48029888, "body": "Can we have &quot;some condition&quot; so we can run this code ourselves"}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1430341797, "post_id": 29954532, "comment_id": 48029959, "body": "Sorry, some condition is not very helpful since it is tightly integrated with the rest of the code base."}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1430341870, "post_id": 29954532, "comment_id": 48030004, "body": "Some condition is &quot;ch-&gt;fb[allGreen]-&gt;selection_color() == FL_GREEN&quot;"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1430342091, "post_id": 29954532, "comment_id": 48030122, "body": "Is everything except &quot;some condition&quot; the actual code?"}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 0, "creation_date": 1430342220, "post_id": 29954532, "comment_id": 48030191, "body": "If I replace (some condition) with (allGreen &lt; 6), I can compile and run the program (under MacOS/X 10.9.5, clang 600.0.57) and get the results:  6   true"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1430342241, "post_id": 29954532, "comment_id": 48030199, "body": "Please provide a <a href=\"http://www.stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1430342306, "post_id": 29954532, "comment_id": 48030230, "body": "Specifically are you sure <code>allGreen</code> is an <code>int</code>?"}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430342483, "post_id": 29954532, "comment_id": 48030338, "body": "The code is copy/pasted here and &quot;some condition&quot; is the only change.  If I change the condition to allGreen &lt; 6, it works for me, too."}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430342689, "post_id": 29954532, "comment_id": 48030450, "body": "I&#39;ll add the condition to the question, since it seems to somehow be causing this."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1430342946, "post_id": 29954532, "comment_id": 48030581, "body": "@Patrick The example should be minimum, <b>complete</b>, and <b>verifiable</b>."}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430343310, "post_id": 29954532, "comment_id": 48030779, "body": "I can&#39;t create a minimum, complete, and verifiable example. I realize it is recommended that you do so, but I can&#39;t seem to create one that triggers this problem."}, {"owner": {"reputation": 603, "user_id": 4142717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka9sc.jpg?s=128&g=1", "display_name": "sabreitweiser", "link": "https://stackoverflow.com/users/4142717/sabreitweiser"}, "edited": false, "score": 0, "creation_date": 1430344824, "post_id": 29954532, "comment_id": 48031447, "body": "Is this code multithreaded at all?"}], "answers": [{"comments": [{"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 1, "creation_date": 1430341839, "post_id": 29954588, "comment_id": 48029983, "body": "I didn&#39;t use single quotes in the code. I guess my wording was pretty poor."}], "tags": [], "owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "is_accepted": false, "score": 1, "last_activity_date": 1430341686, "creation_date": 1430341686, "answer_id": 29954588, "question_id": 29954532, "link": "https://stackoverflow.com/questions/29954532/integer-not-comparing-equal-to-its-value/29954588#29954588", "title": "Integer not comparing equal to its value", "body": "<p>The literal '6' is not an integer and does not have a value of 6.</p>\n"}, {"comments": [{"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430344309, "post_id": 29955197, "comment_id": 48031237, "body": "The size of ch-&gt;fb is 6."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2512323"}, "reply_to_user": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430344354, "post_id": 29955197, "comment_id": 48031251, "body": "Then I will expand my answer to show what happening"}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430344538, "post_id": 29955197, "comment_id": 48031318, "body": "It looks like you are correct about the problem. Changing the size to 7 fixes the problem. I had noticed that it was running over the end of the array (I didn&#39;t write the code), but didn&#39;t think it mattered since I was getting the number 6 back. I would be very interested to learn why this breaks the comparison."}, {"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 0, "creation_date": 1430344852, "post_id": 29955197, "comment_id": 48031459, "body": "That is very interesting. It does make sense."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "reply_to_user": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 2, "creation_date": 1430344911, "post_id": 29955197, "comment_id": 48031480, "body": "@Patrick As a wise old Chinese Monk once said, &quot;Undefined behavoir is undefined&quot;. Seriously, look at <a href=\"http://blog.llvm.org/2011/05/what-every-c-programmer-should-know.html\" rel=\"nofollow noreferrer\">this excellent llvm blog post</a> about why anything can happen once UB comes into it and how the compiler doesn&#39;t even know UB is happenning most of the time."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2512323"}, "is_accepted": true, "score": 5, "last_activity_date": 1430344771, "last_edit_date": 1430344771, "creation_date": 1430344091, "answer_id": 29955197, "question_id": 29954532, "link": "https://stackoverflow.com/questions/29954532/integer-not-comparing-equal-to-its-value/29955197#29955197", "title": "Integer not comparing equal to its value", "body": "<p>What is the size of <code>ch-&gt;fb</code> array? If it is 6 or less, it could be compiler optimizing undefined behavior here.</p>\n\n<p>When seeing some simple loop like</p>\n\n<pre><code>while ( a[i] ) i++;\n</code></pre>\n\n<p>Compiler can make an assumption that <code>i</code> never goes outside of <code>a</code> array, otherwise program invokes undefined behavior. That is <code>i</code> lies between <code>0</code> and <code>size of a - 1</code>.</p>\n\n<p>Later, if compiler sees something like <code>i == 8</code>, there <code>8</code> is larger than <code>size of a - 1</code>, it replaces this condition with <code>false</code>.</p>\n\n<p>Just to be sure, you can look at assembly code.</p>\n"}, {"comments": [{"owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "edited": false, "score": 1, "creation_date": 1430344694, "post_id": 29955277, "comment_id": 48031382, "body": "Thank you. I didn&#39;t realize that running out of bounds could break the future comparison, so I didn&#39;t worry about that part of the code. I would certainly have used a container, but this code was given to me in this state. It would be quite interesting to learn how that breaks the comparison between 6 and 6."}], "tags": [], "owner": {"reputation": 51, "user_id": 4470150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fd623e80d309e06bee26b596204d250?s=128&d=identicon&r=PG&f=1", "display_name": "Andres", "link": "https://stackoverflow.com/users/4470150/andres"}, "is_accepted": false, "score": 1, "last_activity_date": 1430344440, "creation_date": 1430344440, "answer_id": 29955277, "question_id": 29954532, "link": "https://stackoverflow.com/questions/29954532/integer-not-comparing-equal-to-its-value/29955277#29955277", "title": "Integer not comparing equal to its value", "body": "<p>As deniss already pointed out, accessing an array out of bounds is undefined behaviour, so maybe that's the cause. Make sure to check for the array's bounds, too.</p>\n\n<p>So if it's OK to count every selection_color of the array, you could try:</p>\n\n<pre><code>const int MAX_FB_VALUES = 6;\n\n// ...\n\nint countOfGreen = 0;\n\nfor (int i = 0; i &lt; MAX_FB_VALUES; ++i)\n{\n    if(ch-&gt;fb[i]-&gt;selection_color() == FL_GREEN)\n        ++countOfGreen;\n}\n\nstd::cout &lt;&lt; countOfGreen &lt;&lt; std::endl;\nstd::cout &lt;&lt; std::boolalpha &lt;&lt; (countOfGreen == MAX_FB_VALUES) &lt;&lt; std::endl;\n</code></pre>\n\n<p>Although it would be better to use a container anyway, of course.</p>\n"}], "owner": {"reputation": 1704, "user_id": 519638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eea0cf955898b07c1d6c2408e5f21de2?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/519638/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 29955197, "answer_count": 3, "score": 2, "last_activity_date": 1430344771, "creation_date": 1430341515, "last_edit_date": 1430344245, "question_id": 29954532, "link": "https://stackoverflow.com/questions/29954532/integer-not-comparing-equal-to-its-value", "title": "Integer not comparing equal to its value", "body": "<p>I've got a piece of code I am trying to debug, which is producing bizarre results. An integer, which very clearly contains the value six, compares false to the literal 6.<br>\nIn my code, this code:</p>\n\n<pre><code>int allGreen = 0;\nint index = 0;\nwhile (ch-&gt;fb[index]-&gt;selection_color() == FL_GREEN) \n{\n    ++allGreen;\n    ++index;\n}\nstd::cout &lt;&lt; allGreen &lt;&lt; std::endl;\nstd::cout &lt;&lt; std::boolalpha &lt;&lt; (allGreen == 6) &lt;&lt; std::endl;\n</code></pre>\n\n<p>Produces the output:</p>\n\n<pre><code>6\nfalse\n</code></pre>\n\n<p>I am compiling with g++ 4.8.2 on Ubuntu. </p>\n\n<p>How can this possibly happen?</p>\n\n<p>Edit: Removing all green from the condition doesn't help.\nEdit 2: index and allGreen are equal, as expected. Neither is equal to 6, despite both being 6.</p>\n"}, {"tags": ["c++", "namespaces", "g++"], "comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1430341470, "post_id": 29954491, "comment_id": 48029769, "body": "Please try to construct an artificial test case (by cutting your program down) containing the <i>smallest possible amount of code</i> that <i>still demonstrates the problem</i>, and then post that here.  Right now we don&#39;t have nearly enough information to help you."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430341490, "post_id": 29954491, "comment_id": 48029780, "body": "It looks like some sort of macro problem."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430341724, "post_id": 29954491, "comment_id": 48029918, "body": "OK, the offending line seems to be <code>std::iter_swap(__i, __first + (std::rand() % ((__i - __first) + 1)));</code>. My guess is someone <code>#define</code>&#39;d <code>rand</code> to be <code>Utility::rand</code> or something similar."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430342068, "post_id": 29954491, "comment_id": 48030107, "body": "Yep, <a href=\"http://melpon.org/wandbox/permlink/fpmHj0wYCphTuooT\" rel=\"nofollow noreferrer\">repro</a>."}, {"owner": {"reputation": 265, "user_id": 3708567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6c50b54c3ce273f4d1e859732520612?s=128&d=identicon&r=PG&f=1", "display_name": "evan", "link": "https://stackoverflow.com/users/3708567/evan"}, "edited": false, "score": 0, "creation_date": 1430342354, "post_id": 29954491, "comment_id": 48030257, "body": "Can you change all call sites to use the fully qualified Utility::rand ? Get rid of the define because it will continue to drive you and others crazy."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1430347729, "post_id": 29954491, "comment_id": 48032631, "body": "I don&#39;t think this is a useful question (anymore). Any sane programmer knows not to <code>#define</code> random symbols, let alone those defined in standard headers."}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1430341892, "creation_date": 1430341892, "answer_id": 29954659, "question_id": 29954491, "link": "https://stackoverflow.com/questions/29954491/namespace-manufacturing-when-i-include-algorithm/29954659#29954659", "title": "Namespace &quot;manufacturing&quot; when I include &lt;algorithm&gt;", "body": "<p>There must be a macro defined with name <code>rand</code> or <code>iter_swap</code> prior to including <code>&lt;algorithm&gt;</code>.</p>\n\n<p>To workaround, try including <code>&lt;algorithm&gt;</code> before including other headers or do:</p>\n\n<pre><code>#undef rand\n#undef iter_swap\n#include &lt;algorithm&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 621, "user_id": 670195, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/2dd9a81bc35a51328d4276ac6d70696e?s=128&d=identicon&r=PG", "display_name": "Kelly Beard", "link": "https://stackoverflow.com/users/670195/kelly-beard"}, "edited": false, "score": 0, "creation_date": 1430402170, "post_id": 29954808, "comment_id": 48058973, "body": "I&#39;ve just gotten into work this morning so have only had a few moments to look around, but indeed there seems to be some #undef of rand and redefining of the term.  I&#39;ll chastise later but see if I can work around the problem in the interim.  Thanks a bunch!  That&#39;s quite a lot of hacking to get the exact message and failure point."}], "tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": true, "score": 5, "last_activity_date": 1430342449, "creation_date": 1430342449, "answer_id": 29954808, "question_id": 29954491, "link": "https://stackoverflow.com/questions/29954491/namespace-manufacturing-when-i-include-algorithm/29954808#29954808", "title": "Namespace &quot;manufacturing&quot; when I include &lt;algorithm&gt;", "body": "<p>I can <a href=\"http://melpon.org/wandbox/permlink/iO8agv8cze0dtyuy\">reproduce the exact error, line numbers, positions and all</a>, with</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#define rand Utility::rand\n#include &lt;algorithm&gt;\n</code></pre>\n\n<p>which produces</p>\n\n<pre><code>In file included from /usr/local/gcc-4.6.4/lib/gcc/x86_64-unknown-linux-gnu/4.6.4/../../../../include/c++/4.6.4/algorithm:63:0,\n                 from prog.cc:3:\n/usr/local/gcc-4.6.4/lib/gcc/x86_64-unknown-linux-gnu/4.6.4/../../../../include/c++/4.6.4/bits/stl_algo.h: In function 'void std::random_shuffle(_RAIter, _RAIter)':\n/usr/local/gcc-4.6.4/lib/gcc/x86_64-unknown-linux-gnu/4.6.4/../../../../include/c++/4.6.4/bits/stl_algo.h:5152:40: error: 'std::Utility' has not been declared\n</code></pre>\n\n<p>So go through your headers and look for something <code>#define</code>'ing <code>rand</code>. Smack the person responsible for this horrendous hack, hard, and then delete the <code>#define</code>.</p>\n"}], "owner": {"reputation": 621, "user_id": 670195, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/2dd9a81bc35a51328d4276ac6d70696e?s=128&d=identicon&r=PG", "display_name": "Kelly Beard", "link": "https://stackoverflow.com/users/670195/kelly-beard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1430382617, "accepted_answer_id": 29954808, "answer_count": 2, "score": 0, "last_activity_date": 1430342449, "creation_date": 1430341378, "question_id": 29954491, "link": "https://stackoverflow.com/questions/29954491/namespace-manufacturing-when-i-include-algorithm", "closed_reason": "Not suitable for this site", "title": "Namespace &quot;manufacturing&quot; when I include &lt;algorithm&gt;", "body": "<p>I have a namespace problem that is driving me bat-sh*t crazy.  There is a namespace called \"Utility\" written by another programmer here that I am using in some of my code.  One file gives me nothing but problems.  This file includes &lt; algorithm > and I must have it.  I've tried all kinds of rearranging and other random stuff to try and get rid of it.  I cannot for the life of me figure out why stl_algo.h has this problem.</p>\n\n<pre><code>/usr/include/c++/4.6/bits/stl_algo.h: In function \u2018void std::random_shuffle(_RAIter, _RAIter)\u2019:\n/usr/include/c++/4.6/bits/stl_algo.h:5152:40: error: \u2018std::Utility\u2019 has not been declared\n</code></pre>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430342190, "post_id": 29954432, "comment_id": 48030176, "body": "Whats the problem you face to find the window handle using FindWindow() ?"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430342638, "post_id": 29954432, "comment_id": 48030425, "body": "The build compiles when I try to use <code>FindWindow()</code> but it never correctly finds the EditDisplayDll so the message never sends."}, {"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430342963, "post_id": 29954432, "comment_id": 48030590, "body": "How are you calling FindWindow ?"}, {"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "reply_to_user": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430343496, "post_id": 29954432, "comment_id": 48030868, "body": "One way I tried was `CWnd *cWndED = FindWindow(_T(&quot;EditDisplay&quot;),_T(&quot;EditDisplay&quot;)); \t\t\tHWND hwnd = (HWND)cWndED; \t\t\t::PostMessage(hwnd,SYSTEMLOCK,0,0);&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "edited": false, "score": 0, "creation_date": 1430349092, "post_id": 29955153, "comment_id": 48033186, "body": "I&#39;ll look in to Spy++ and see if I can implement the changes you have suggested when I return to work tomorrow."}], "tags": [], "owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "is_accepted": true, "score": 2, "last_activity_date": 1430343879, "creation_date": 1430343879, "answer_id": 29955153, "question_id": 29954432, "link": "https://stackoverflow.com/questions/29954432/postmessage-doesnt-work-when-i-am-tabbed-in-to-another-program/29955153#29955153", "title": "::PostMessage doesn&#39;t work when I am tabbed in to another program", "body": "<blockquote>\n  <p>CWnd *cWndED = FindWindow(_T(\"EditDisplay\"),_T(\"EditDisplay\"));  HWND\n  hwnd = (HWND)cWndED;</p>\n</blockquote>\n\n<p>You should use win32 API ::FindWindow with proper class, window name. And do not cast CWnd pointer to HWND. Your code should look like:</p>\n\n<pre><code>HWND hWnd = ::FindWindow(_T(\"ProperClass\"), _T(\"ProperNmae\"));\nif (hWnd != NULL)\n{\n  ::PostMessage(hWnd, YOUR_MESSAGE, ....);\n}\n</code></pre>\n\n<p>I will suggest you to find your Dll window class and name using Spy++ and then try to find that using above method. Remember it's always better to use native API for this kind of tasks. </p>\n"}, {"comments": [{"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430381718, "post_id": 29959556, "comment_id": 48045136, "body": "I don&#39;t know why you are suggesting OP to use nulltptr as first parameter. It should be NULL in windows terminology to find a window with only title name. And moreover in microsoft enviroment its always preferrable to use NULL as a notation."}], "tags": [], "owner": {"reputation": 3687, "user_id": 2509078, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ZV5ER.jpg?s=128&g=1", "display_name": "Blacktempel", "link": "https://stackoverflow.com/users/2509078/blacktempel"}, "is_accepted": false, "score": 1, "last_activity_date": 1430382447, "last_edit_date": 1430382447, "creation_date": 1430371111, "answer_id": 29959556, "question_id": 29954432, "link": "https://stackoverflow.com/questions/29954432/postmessage-doesnt-work-when-i-am-tabbed-in-to-another-program/29959556#29959556", "title": "::PostMessage doesn&#39;t work when I am tabbed in to another program", "body": "<p><a href=\"https://msdn.microsoft.com/de-de/library/windows/desktop/ms633499%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>FindWindow</code></a> is a good solution if you know both, name of the window and the element.<br/>\nIf you want to get the <code>HWND</code> of your window - no element inside the window -, you can pass as first parameter <code>NULL</code>.</p>\n\n<pre><code>::FindWindow(NULL, _T(\"WindowName\"));\n</code></pre>\n\n<p>Back to your code: If you are lucky your <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644944%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>PostMessage</code></a> does nothing, otherwise the active window may catch your message. Who knows how/if it is handled in the active window ? Use the <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644944%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>PostMessage</code></a> if you have a valid <a href=\"https://msdn.microsoft.com/de-de/library/windows/desktop/ms633528%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>IsWindow(HWND)</code></a> from <a href=\"https://msdn.microsoft.com/de-de/library/windows/desktop/ms633499%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>FindWindow</code></a> or <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms633500%28v=vs.85%29.aspx\" rel=\"nofollow\"><code>FindWindowEx</code></a>.<br/>\nIn case you want a <code>CWnd</code> from your <code>HWND</code> take a look at <a href=\"https://msdn.microsoft.com/en-us/library/e547yfza%28v=vs.120%29.aspx\" rel=\"nofollow\">this</a>. (The call may be slow)</p>\n\n<pre><code>HWND hWnd = ::FindWindow(_T(\"ClassName\"), _T(\"WindowName\"));\nif (hWnd &amp;&amp; IsWindow(hWnd))\n{\n    ::PostMessage(hWnd, MESSAGE_TO_BE_SEND, lParam_or_Flags);\n}\n</code></pre>\n"}], "owner": {"reputation": 250, "user_id": 4570718, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/df92e9c9d3db5334f1593179be9f34f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff S", "link": "https://stackoverflow.com/users/4570718/jeff-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "accepted_answer_id": 29955153, "answer_count": 2, "score": 0, "last_activity_date": 1430382447, "creation_date": 1430341164, "last_edit_date": 1495540708, "question_id": 29954432, "link": "https://stackoverflow.com/questions/29954432/postmessage-doesnt-work-when-i-am-tabbed-in-to-another-program", "title": "::PostMessage doesn&#39;t work when I am tabbed in to another program", "body": "<p>In our Program we have a Dialog from a separate dll open to display infomation. I need to close this dialog when our system timer causes the system to lock. </p>\n\n<p>I send information to the dll by registering a system message in both my MainFrm and EditDisplayDll </p>\n\n<blockquote>\n  <p>SYSTEMLOCK = RegisterWindowMessage(\"SystemLock\");</p>\n</blockquote>\n\n<p>When I sent the message via </p>\n\n<blockquote>\n  <p>::PostMessage(GetActiveWindow()->m_hWnd,SYSTEMLOCK,0,0);</p>\n</blockquote>\n\n<p>The message correctly sends to my EditDisplayDll and closes the dialog when the system locks; however, if I alt tab while waiting for the timeout and use another program(firefox, outlook, etc.) the message never correctly calls to the EditDisplayDll. The <code>MainFrm</code> and other windows inside of the <code>MainFrm</code> correctly lockout and hide themselves in either case. </p>\n\n<p>I have tried also using HWND_BROADCAST with <code>PostMessage</code> and <code>SendNotifyMessage</code>. I have also tried to use <code>FindWindow()</code> and <code>FindWindowEx()</code> to specifically call the EditDisplayDll. </p>\n\n<p>I cannot use something like <code>GetDlgItem()</code> because my <code>MainFrm.cpp</code> doesn't have access to this dll. </p>\n\n<p>My decision to use <code>GetActiveWindow()</code> was because I believe it looks to windows specific to my program no matter what window I am in as seen in the imagery in <a href=\"https://stackoverflow.com/questions/3940346/foreground-vs-active-window\">Foreground Vs Active window</a> </p>\n\n<p>Finally, my question is, is there a way to call all Windows in my program no matter what program I am currently in or is there another way I could get access to the specific IDD of the EditDisplayDll in order to send the <code>SYSTEMLOCK</code> message to it? </p>\n"}, {"tags": ["c++", "string", "lambda"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1430341374, "post_id": 29954317, "comment_id": 48029714, "body": "<code>value</code>is a pointer. The parameter that <code>f</code> expects isn&#39;t a pointer."}, {"owner": {"reputation": 2306, "user_id": 3437608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wif9E.jpg?s=128&g=1", "display_name": "Cullub", "link": "https://stackoverflow.com/users/3437608/cullub"}, "edited": false, "score": 1, "creation_date": 1430342229, "post_id": 29954317, "comment_id": 48030193, "body": "Good job on narrowing it down to a specific portion.  You should remove the extra code, then tell what the values are that are being passed to and from the error portion.  In other words, only show the code that is necessary."}, {"owner": {"reputation": 13, "user_id": 4847662, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DaHbhtwFyWo/AAAAAAAAAAI/AAAAAAAAADA/tcXJPr-ow0A/photo.jpg?sz=128", "display_name": "Christian Emerson", "link": "https://stackoverflow.com/users/4847662/christian-emerson"}, "reply_to_user": {"reputation": 2306, "user_id": 3437608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Wif9E.jpg?s=128&g=1", "display_name": "Cullub", "link": "https://stackoverflow.com/users/3437608/cullub"}, "edited": false, "score": 0, "creation_date": 1430404712, "post_id": 29954317, "comment_id": 48060952, "body": "@cullub thanks for the tip, I edited it to narrow it down a little further."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1430536129, "post_id": 29954317, "comment_id": 48115351, "body": "Look at the error. It mentions an argument of type <code>std::basic_string* const&amp;</code>. Your lamba has a parameter of type <code>const string&amp;</code>. You forgot to dereference a pointer in <code>transform</code>: <code>f(*value)</code> or use the parameter type <code>const std::string*</code> in the lambda."}], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 4849012, "user_type": "registered", "profile_image": "https://graph.facebook.com/823824004366225/picture?type=large", "display_name": "Vermonster", "link": "https://stackoverflow.com/users/4849012/vermonster"}, "is_accepted": true, "score": 1, "last_activity_date": 1430533054, "creation_date": 1430533054, "answer_id": 29997637, "question_id": 29954317, "link": "https://stackoverflow.com/questions/29954317/c-no-match-for-call-to-function/29997637#29997637", "title": "C++ No match for call to function", "body": "<p>I had a similar problem I hope this may help. You want to apply f to the value currently in the option. In this case you need to return a new option containing a copy of the value in 'this' option.    </p>\n\n<pre><code>template&lt;typename T&gt;\ntemplate&lt;typename Function&gt;\nOption&lt;T&gt; Option&lt;T&gt;::filter( Function f )const{\n    T t;\n\n    if(f(t) == true){\n        return Option( *this );\n    }\n    else{\n        return Option();\n   }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4847662, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DaHbhtwFyWo/AAAAAAAAAAI/AAAAAAAAADA/tcXJPr-ow0A/photo.jpg?sz=128", "display_name": "Christian Emerson", "link": "https://stackoverflow.com/users/4847662/christian-emerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 372, "favorite_count": 0, "accepted_answer_id": 29997637, "answer_count": 1, "score": 0, "last_activity_date": 1448130414, "creation_date": 1430340775, "last_edit_date": 1448130414, "question_id": 29954317, "link": "https://stackoverflow.com/questions/29954317/c-no-match-for-call-to-function", "title": "C++ No match for call to function", "body": "<p>I am making an option template class for an introduction to C++ class, part of the assignment is to implement a transform() function which takes a given function(f) and runs said function on the given option then returns a new option containing the new value, if it is empty an empty option is returned. \nBelow is the header file:</p>\n\n<pre><code>#ifndef OPTION_HPP\n#define OPTION_HPP\n\ntemplate&lt;typename T&gt;\nclass Option {\nprivate:\nT *value;   // nullptr if the Option is empty.\n\npublic:\n\n// Applies f to the value in this Option. Returns a (copy of) this Option if f returns\n// true; an empty option otherwise. If this Option is empty and empty Option is returned.\ntemplate&lt;typename Function&gt;\nOption&lt;T&gt; filter( Function f ) const;\n\n// Applies f to the value in this Option. Returns an Option containing the result of f.\n// If this Option is empty an empty Option is returned.\ntemplate&lt;typename U, typename Function&gt;\nOption&lt;U&gt; transform( Function f ) const;\n};\n\n\n\n\n\ntemplate&lt;typename T&gt;\ntemplate&lt;typename U, typename Function&gt;\nOption&lt;U&gt; Option&lt;T&gt;::transform( Function f ) const\n{\nif ( value != nullptr){\n    return f(value);\n}else{\n    return value;\n}\n}\n\n#endif\n</code></pre>\n\n<p>Below here is the class file: </p>\n\n<pre><code>#include &lt;string&gt;\n#include \"Option.hpp\"\n\nusing namespace std;\n\nOption&lt;unsigned&gt; process_string( const Option&lt;string&gt; &amp;s )\n{\n// Filter out all strings with a length greater than or equal to 10.\nOption&lt;string&gt; s1 = s.filter( [](const string &amp;x) { return x.length()&lt; 10; } );\n\n// Transform the string into its length. Note that we must explicitly provide the type of U\n// since the compiler can't deduce that type when it is only used in the return type.\nreturn s1.transform&lt;unsigned&gt;( [](const string &amp;x) { return x.length(); } );\n}\n\nint main(){\n\n\n\n}\n</code></pre>\n\n<p>The problem is specifically with this portion:</p>\n\n<pre><code>template&lt;typename T&gt;\ntemplate&lt;typename U, typename Function&gt;\nOption&lt;U&gt; Option&lt;T&gt;::transform( Function f ) const\n{\nif ( value != nullptr){\n    return f(value);\n}else{\n    return value;\n}\n}\n</code></pre>\n\n<p>the error I am receiving is</p>\n\n<blockquote>\n  <p>no match for call to \u2018(process_string(const Option >&amp;)::__lambda1) (std::basic_string* const&amp;)\u2019</p>\n</blockquote>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 3, "creation_date": 1430340541, "post_id": 29954191, "comment_id": 48029230, "body": "Surely the book explains this ... Also a quick google search brings up this article which explains it pretty well: <a href=\"http://www.cprogramming.com/declare_vs_define.html\" rel=\"nofollow noreferrer\">cprogramming.com/declare_vs_define.html</a>"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1430340797, "post_id": 29954191, "comment_id": 48029388, "body": "@Amxx yep, good point. This is a really well formatted question as well. +1."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430340880, "post_id": 29954191, "comment_id": 48029444, "body": "This is related to the <a href=\"http://stackoverflow.com/q/8016780/1708801\">odr rules</a> in the case where a variable is not odr-used then it does not require an out of class definition."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1430340890, "post_id": 29954191, "comment_id": 48029453, "body": "<a href=\"http://stackoverflow.com/questions/1410563/what-is-the-difference-between-a-definition-and-a-declaration\" title=\"what is the difference between a definition and a declaration\">stackoverflow.com/questions/1410563/&hellip;</a>"}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 0, "creation_date": 1430341582, "post_id": 29954191, "comment_id": 48029836, "body": "I like to refer to static data members that are initialized in-class as &quot;declarations with initializers&quot;. They are never definitions."}, {"owner": {"reputation": 2417, "user_id": 2503164, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/68d57915f8c4a877fe42a67251d1420a?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/2503164/mike"}, "edited": false, "score": 0, "creation_date": 1430344140, "post_id": 29954191, "comment_id": 48031168, "body": "My dog is black and he&#39;s a lab. That&#39;s a definition - it is not a dog.  This is my dog, Spot. This is a declaration, it is an actual dog. It is a black lab. This is my dog, Fido. Another declaration, another black lab."}], "answers": [{"comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 2, "creation_date": 1430341869, "post_id": 29954619, "comment_id": 48030003, "body": "That quote is incorrect. You can define a const integral data member and take its address."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430341927, "post_id": 29954619, "comment_id": 48030033, "body": "@Columbo; Its <code>static const</code>."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430342122, "post_id": 29954619, "comment_id": 48030145, "body": "Sorry, I dropped the static. The comment is still valid. <a href=\"http://coliru.stacked-crooked.com/a/1b633f6939183e52\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/1b633f6939183e52</a>"}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430342296, "post_id": 29954619, "comment_id": 48030226, "body": "@Columbo; I am curious.  Do you have any quote from standard?"}, {"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 1, "creation_date": 1430353055, "post_id": 29954619, "comment_id": 48034399, "body": "@Columbo - No, you can&#39;t. You should not have downvoted this answer (I&#39;m assuming you are the downvoter.) <a href=\"http://coliru.stacked-crooked.com/a/9c5df94daf8a700e\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/9c5df94daf8a700e</a>"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "edited": false, "score": 0, "creation_date": 1430378874, "post_id": 29954619, "comment_id": 48043482, "body": "@DavidHammen Of course it won&#39;t link if you don&#39;t define it. The quote in this answer is marginal, though. After visiting the site, it seems that the author does cover definitions of these variables, and not including that is irritative."}], "tags": [], "owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "is_accepted": false, "score": 2, "last_activity_date": 1430373457, "last_edit_date": 1430373457, "creation_date": 1430341773, "answer_id": 29954619, "question_id": 29954191, "link": "https://stackoverflow.com/questions/29954191/what-is-the-difference-between-declaration-and-definition-of-a-variable-in-c/29954619#29954619", "title": "What is the difference between declaration and definition of a variable in C++?", "body": "<p>It is stated <a href=\"http://www.oopweb.com/CPP/Documents/CPPAnnotations/Volume/cplusplus10.html\" rel=\"nofollow\">here</a> that:  </p>\n\n<blockquote>\n  <p>Static <code>const</code> integral data members initialized in the class interface are not addressable variables. They are mere symbolic names for their associated values. Since they are not variables, it is not possible to determine their addresses. Note that this is not a compilation problem, but a linking problem. The static <code>const</code> variable that is initialized in the class interface does not exist as an addressable entity.   </p>\n</blockquote>\n\n<p>What \"addressable entity\" refers here is \"instance\" of static <code>const</code> data type. No instance, no address, i.e its only a declaration.<br>\nNote that static variables that are explicitly defined in a source file can be linked correctly, though.   </p>\n\n<pre><code>class X\n{\n    public:\n        static int const s_x = 34;\n        static int const s_y;\n};\n\nint const X::s_y = 12;\n\nint main()\n{\n    int const *ip = &amp;X::s_x;    // compiles, but fails to link\n    ip = &amp;X::s_y;               // compiles and links correctly\n} \n</code></pre>\n\n<blockquote>\n  <p>... if you do take the address of a class constant, or if your .. part of the above quoted paragraph ?  </p>\n</blockquote>\n\n<p>It <a href=\"http://en.cppreference.com/w/cpp/language/static\" rel=\"nofollow\">means</a> if such a member is odr-used, a definition at namespace scope is still required, but it should not have an initializer.</p>\n\n<pre><code>struct X {\n    const static int n = 1;\n};\nconst int* p = &amp;X::n; // X::n is odr-used\nconst int X::n;       // ... so a definition is necessary\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": false, "score": 8, "last_activity_date": 1430344940, "last_edit_date": 1430344940, "creation_date": 1430341824, "answer_id": 29954631, "question_id": 29954191, "link": "https://stackoverflow.com/questions/29954191/what-is-the-difference-between-declaration-and-definition-of-a-variable-in-c/29954631#29954631", "title": "What is the difference between declaration and definition of a variable in C++?", "body": "<p>Just as with functions, variables can have 'purely declarative' declarations, and actual definitions. You're confused because you probably didn't encounter many pure variable declarations before.</p>\n\n<pre><code>int i; // Definition\nextern int i, j; // (Re)declares i, and declares j\nextern int j = 0; // Defines j (confusing, eh?)\n</code></pre>\n\n<p>As you're used to with functions, definitions are declarations, but not all declarations are definitions. \u00a73.1/2 reads</p>\n\n<blockquote>\n  <p>A declaration is a <em>definition</em> unless [\u2026] it declares a static data\n  member in a class definition (9.2, 9.4),</p>\n</blockquote>\n\n<p>Thus in-class static data member declarations are never defining the variables they declare. However, sometimes, a variables definition doesn't have to be present. That is the case <strong>when you can use its value directly without necessitating the variables run-time existence.</strong></p>\n\n<p>In technical terms, as long as a static data member (or any entity, for that matter) is not 'odr-used', it doesn't have to be defined. <em>Odr-use</em> for all entities is defined in \u00a73.2/3:</p>\n\n<blockquote>\n  <p>A variable <code>x</code> whose name appears as a <em>potentially-evaluated</em> expression\n  <code>ex</code> is <em>odr-used</em> by <code>ex</code> unless applying the lvalue-to-rvalue conversion\n  (4.1) to <code>x</code> yields a constant expression (5.20) that does not invoke\n  any non-trivial functions and, if <code>x</code> is an object, <code>ex</code> is an element of\n  the set of potential results of an expression <code>e</code>, where either the\n  lvalue-to-rvalue conversion (4.1) is applied to <code>e</code>, or <code>e</code> is a\n  discarded-value expression (Clause 5).</p>\n</blockquote>\n\n<p>This looks complicated, and it was simpler in earlier versions of the standard. However, it roughly says that the variable is not odr-used by some expression when that expression \"immediately\" accesses the variables value, and this access yields a constant expression. Meyers example of \"taking its address\" is only one of many for odr-use.</p>\n\n<p>For some class <code>A</code> and its static data member <code>i</code>,</p>\n\n<pre><code>class A {\n    static const int i = 57; // Declaration, not definition\n};\n\nconst int A::i; // Definition in namespace scope. Not required per se.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 142, "user_id": 350737, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ff17030e0dd7274c713aabef0cd1544a?s=128&d=identicon&r=PG", "display_name": "pjsofts", "link": "https://stackoverflow.com/users/350737/pjsofts"}, "is_accepted": false, "score": 0, "last_activity_date": 1430342040, "creation_date": 1430342040, "answer_id": 29954696, "question_id": 29954191, "link": "https://stackoverflow.com/questions/29954191/what-is-the-difference-between-declaration-and-definition-of-a-variable-in-c/29954696#29954696", "title": "What is the difference between declaration and definition of a variable in C++?", "body": "<blockquote>\n  <p><strong>Why now it is a definition and not a declaration ?</strong></p>\n</blockquote>\n\n<p>Because this statement causes the compiler to generate an address for the static variable. </p>\n\n<blockquote>\n  <p>Also, can someone expand on what the author means by \"if you do take\n  the address of a class constant\":</p>\n</blockquote>\n\n<p>When you make a pointer point to a variable you take its address.</p>\n"}, {"tags": [], "owner": {"reputation": 762, "user_id": 1987633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7cc5084e895540051a920e541ab9b8c?s=128&d=identicon&r=PG", "display_name": "Andre Kostur", "link": "https://stackoverflow.com/users/1987633/andre-kostur"}, "is_accepted": false, "score": 0, "last_activity_date": 1430347387, "creation_date": 1430347387, "answer_id": 29955881, "question_id": 29954191, "link": "https://stackoverflow.com/questions/29954191/what-is-the-difference-between-declaration-and-definition-of-a-variable-in-c/29955881#29955881", "title": "What is the difference between declaration and definition of a variable in C++?", "body": "<p>A short answer is: a declaration says \"this thing exists somewhere\", and a definition causes the space to be allocated.  In your case, you've declared it to be static and const.  The compiler may be smart enough to notice that if you only ever use it as a value, it can simply replace that usage with the literal 5.  It doesn't need to actually make space for a variable somewhere and fill it with the 5, it can use the 5 directly at compile-time.   However, if you take the address of it, the compiler can no longer make that assumption and now needs to put that 5 into somewhere addressable.  The compiler needs it to exist in one translation unit (roughly: one cpp file.  See also the One Definition Rule.), so now you have to explicitly declare it somewhere.</p>\n"}], "owner": {"reputation": 2937, "user_id": 2711403, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e0e461d9bbecad550475b778b61b089c?s=128&d=identicon&r=PG", "display_name": "Ujjwal Aryan", "link": "https://stackoverflow.com/users/2711403/ujjwal-aryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1961, "favorite_count": 3, "closed_date": 1430354441, "answer_count": 4, "score": 20, "last_activity_date": 1430373457, "creation_date": 1430340381, "last_edit_date": 1430341473, "question_id": 29954191, "link": "https://stackoverflow.com/questions/29954191/what-is-the-difference-between-declaration-and-definition-of-a-variable-in-c", "closed_reason": "Duplicate", "title": "What is the difference between declaration and definition of a variable in C++?", "body": "<p>My question stems from studying <a href=\"http://www.amazon.in/Effective-Specific-Addison-Wesley-Professional-Computing/dp/0321334876\">Effective C++</a> by Scott Meyers. \nIn Item II of that book, following is written :</p>\n\n<blockquote>\n  <p>To limit the scope of a constant to a class, you must make it a member and, to ensure there's at most one copy of the constant, you must make it a static member. </p>\n</blockquote>\n\n<p>That is correctly written. Then immediately the following example is given : </p>\n\n<pre><code>class GamePlayer {\nprivate:\n    static const int NumTurns = 5;\n    int scores[NumTurns];\n    ....\n  };\n</code></pre>\n\n<p>Then the following is written pertaining to the above example : </p>\n\n<blockquote>\n  <p>What you see above is a <em>declaration</em> and not a definition of NumTurns.</p>\n</blockquote>\n\n<p><strong>My First question is : What is the meaning of this statement ?</strong></p>\n\n<p>Immediately after that the following is mentioned : </p>\n\n<blockquote>\n  <p>Usually C++ requires that you provide a definition for anything you use, but class specific constants that are static and of integral type (e.g - integers, chars, bools) are an exception. As long as you don't take their address, you can declare them and use them without providing a definition. If you do take the address of a class constant, or if your compiler incorrectly insists on a definition even if you don't take the address, you provide a separate definition like this : \n  <code>const int GamePlayer::Numturns; //definition of NumTurns</code></p>\n</blockquote>\n\n<p><strong>Why now it is a definition and not a declaration ?</strong></p>\n\n<p>I understand the difference in the context of a function but do not understand it in the context of a regular variable. Also, can someone expand on what the author means by </p>\n\n<blockquote>\n  <p>... if you do take the address of a class constant, or if your .. \n  part of the above quoted paragraph ?</p>\n</blockquote>\n\n<p>P.S : I am a relatively newbie in C++.</p>\n"}, {"tags": ["c++", "lambda", "auto", "c++14", "std-function"], "comments": [{"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 1, "creation_date": 1430340409, "post_id": 29954147, "comment_id": 48029146, "body": "The two  lines you provided do two very different things. Lambdas are the one case, where you actually HAVE to use auto, because their type is only know to the compiler. <a href=\"http://herbsutter.com/2013/08/12/gotw-94-solution-aaa-style-almost-always-auto/\" rel=\"nofollow noreferrer\">This</a> imight be interesting for you."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 1, "creation_date": 1430342056, "post_id": 29954147, "comment_id": 48030099, "body": "@MikeMB I don&#39;t know about that.  Neither line compiles, so they sort of do the same thing.  One line is CLOSER to compiling?  (only missing 2 characters).  The other contains fundamental misunderstandings of <code>auto</code> as of C++14."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1430344203, "post_id": 29954147, "comment_id": 48031192, "body": "@Yakk: You are right, that especially the function version doesn&#39;t make any sense, whatsoever. But lambdas and std::function are fundamentally different in what they represent and how they are stored. Each lambda is a function object with its own type and is created on the heap. <code>std::funcion</code> is wrapper, that can e.g. wrap different functions or function objects, as long as they have the correct interface. Most likely I also misunderstood the question, because I was focuse on when to use auto for variables, not for parameter type deduction for lambdas."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 1, "creation_date": 1430351239, "post_id": 29954147, "comment_id": 48033864, "body": "@mike lambdas do not use free store/heap storage...  not without help."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1430351539, "post_id": 29954147, "comment_id": 48033929, "body": "@Yakk: Sorry, its too late I meant &quot;stack&quot; of course"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1430360834, "post_id": 29954147, "comment_id": 48036627, "body": "<i>&quot;Have case that are more better do explict instead of auto?&quot;</i> I&#39;m sorry I&#39;m sure it&#39;s a language barrier but I have no idea what you&#39;re talking about"}], "answers": [{"tags": [], "owner": {"reputation": 80284, "user_id": 13430, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QUCnD.png?s=128&g=1", "display_name": "Evan Teran", "link": "https://stackoverflow.com/users/13430/evan-teran"}, "is_accepted": true, "score": 0, "last_activity_date": 1430416599, "last_edit_date": 1430416599, "creation_date": 1430416297, "answer_id": 29974559, "question_id": 29954147, "link": "https://stackoverflow.com/questions/29954147/in-whats-case-should-use-auto-type/29974559#29974559", "title": "In whats case should use auto type?", "body": "<p>Personally, I have tended to use <code>auto</code> for a select few types of code:</p>\n\n<ol>\n<li><p>Unutterable types, such as those created by lambdas:</p>\n\n<pre><code>auto f = []() { /* some code */ };\n</code></pre></li>\n<li><p>iterators, since they all implement the same opaque interface. I don't care what specific type of iterator it is, just that it acts like one.</p>\n\n<pre><code>auto it = m.find(key);\nif(it != m.end() {\n    /* some code */\n}\n</code></pre></li>\n<li><p>if the type was already said on the same line, for example casts:</p>\n\n<pre><code>float f = 123.456;\n/* some code */\nauto n = static_cast&lt;int&gt;(f);\n</code></pre>\n\n<p>or similarly:</p>\n\n<pre><code>if(auto p = dynamic_cast&lt;Derived *&gt;(base_ptr)) {\n    /* some code here */\n}\n</code></pre></li>\n</ol>\n\n<p>For everything else, I will tend to be explicit.</p>\n\n<p>Regarding <code>std::function</code> vs <code>auto</code>, I will use <code>auto</code> when I can, and then will fall back on <code>std::function</code> as needed. This is because <code>std::function</code> has a slight overhead since it is implemented using type-erasure techniques.</p>\n\n<p>This usually means that I will use templates to implement functions which accept a \"callable thing\" when reasonable as well.</p>\n\n<p>That being said, if I need to store a function, possibly pass it around, then <code>std::function</code> is a great fit.</p>\n"}], "owner": {"reputation": 87, "user_id": 3854612, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/a47013e6b6e3c1dcc7677c24a5cbabc1?s=128&d=identicon&r=PG&f=1", "display_name": "user3854612", "link": "https://stackoverflow.com/users/3854612/user3854612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 29974559, "answer_count": 1, "score": -3, "last_activity_date": 1430417193, "creation_date": 1430340228, "last_edit_date": 1430417193, "question_id": 29954147, "link": "https://stackoverflow.com/questions/29954147/in-whats-case-should-use-auto-type", "title": "In whats case should use auto type?", "body": "<p>I have some questions regarding when use <code>auto</code></p>\n\n<ol>\n<li>Explicit, it is not more clear despite the context?</li>\n<li>Cases that are better be explicit instead of <code>auto</code>?</li>\n</ol>\n\n<p>And with lambda functions use <code>auto</code> how these</p>\n\n<pre><code>auto f = [](auto v, auto x) {};\n//or\nstd::function&lt;void(auto v, auto x)&gt; f;\n</code></pre>\n\n<p>Thanks...</p>\n"}, {"tags": ["c++", "include-guards"], "comments": [{"owner": {"reputation": 10428, "user_id": 3135317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e914266956f4052eef356be7850ea49?s=128&d=identicon&r=PG&f=1", "display_name": "FoggyDay", "link": "https://stackoverflow.com/users/3135317/foggyday"}, "edited": false, "score": 0, "creation_date": 1430340548, "post_id": 29954142, "comment_id": 48029237, "body": "1) Include guards are Good. 2) I would expect to see them only in a header, and I would expect them to wrap the <i>ENTIRE</i> header.  3) I would <i>not</i> use include guards with code.  And I <i>dislike</i> including code in headers.  4) Your header can (and should) #include whatever it needs.  And you can safely assume other headers should each have their own include guards."}, {"owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 2, "creation_date": 1430340578, "post_id": 29954142, "comment_id": 48029250, "body": "Well, it can&#39;t hurt to put the entirety of your header inside the guards.  But the other headers that you&#39;re including should already be using either &quot;guard&quot; #ifndef&#39;s or #pragma once.  You can almost always count on system headers following this convention."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430340762, "post_id": 29954142, "comment_id": 48029368, "body": "There is no reason to have includes before include guards. However if &#39;&lt;string.h&gt;&#39; and &#39;&quot;whatever.h&quot;&#39; have proper guards, there is no concern."}, {"owner": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1618632216, "post_id": 29954142, "comment_id": 118666764, "body": "I found an example of this where the outer include contained a define which then excluded the rest of the header file.  If I move it inside the include guards, it no longer sees the defines, even though they are included in the previous line. I don&#39;t understannnnnd"}], "answers": [{"tags": [], "owner": {"reputation": 663663, "user_id": 15168, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WtEI9.png?s=128&g=1", "display_name": "Jonathan Leffler", "link": "https://stackoverflow.com/users/15168/jonathan-leffler"}, "is_accepted": false, "score": 6, "last_activity_date": 1430340577, "creation_date": 1430340577, "answer_id": 29954250, "question_id": 29954142, "link": "https://stackoverflow.com/questions/29954142/include-statements-outside-include-guards/29954250#29954250", "title": "Include statements outside include guards", "body": "<p>Potentially, having <code>#include</code> outside the include guards could lead to circular references, etc.  If the other files are properly protected, there isn't an issue.  If the other files are written like this one, there could be problems.</p>\n\n<p>No, there isn't a good reason that I know of to write the code with the <code>#include</code> lines outside the include guards.</p>\n\n<p>The include guards should be around the whole contents of the header; I can't think of an exception to this (when header guards are appropriate in the first place &mdash; the C header <code>&lt;assert.h&gt;</code> is one which does not have header guards for a good reason).</p>\n"}, {"tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": true, "score": 1, "last_activity_date": 1430344668, "last_edit_date": 1430344668, "creation_date": 1430341433, "answer_id": 29954513, "question_id": 29954142, "link": "https://stackoverflow.com/questions/29954142/include-statements-outside-include-guards/29954513#29954513", "title": "Include statements outside include guards", "body": "<p>As long as you don't have circular includes (<code>whatever1.h</code> includes <code>whatever2.h</code> which includes <code>whatever1.h</code>) this should not be a problem, as the code itself is still protected against multiple inclusion.  </p>\n\n<p>It will however almost certainly impact compile time (how much depends on the project size) for two reasons:</p>\n\n<ol>\n<li>Modern compilers usually detect \"classical\" include guards and just ignore any further <code>#includes</code> of that file (just like <code>#pragma once</code>). The structure you are showing prevents that optimization.</li>\n<li>Each compilation unit becomes much larger as each file will be included much more often - right before the preprocessor then deletes all the inactive blocks again.</li>\n</ol>\n\n<p>In any case, I can't think of any benefit such a structure would have. Maybe it is the result of some strange historical reasons, like some obscure analysis tool that was used on your codebase in pre-standard C++ time.</p>\n"}], "owner": {"reputation": 177, "user_id": 2250024, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bdb3e5a1a523940cbd2dbb36299eceb0?s=128&d=identicon&r=PG", "display_name": "pianoslum", "link": "https://stackoverflow.com/users/2250024/pianoslum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2081, "favorite_count": 0, "accepted_answer_id": 29954513, "answer_count": 2, "score": 1, "last_activity_date": 1430344668, "creation_date": 1430340206, "question_id": 29954142, "link": "https://stackoverflow.com/questions/29954142/include-statements-outside-include-guards", "title": "Include statements outside include guards", "body": "<p>I recently started working on a project where I came across this:</p>\n\n<pre><code>#include &lt;string.h&gt; // includes before include guards\n#include \"whatever.h\"\n\n#ifndef CLASSNAME_H // header guards\n#define CLASSNAME_H\n// The code\n#endif\n</code></pre>\n\n<p>My question: Considering all (included) header files were written in that same style: Could this lead to problems (cyclic reference, etc.). And: Is there any (good) reason to do this?</p>\n"}, {"tags": ["c++", "file-io", "binaryfiles", "fread", "stdio"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1430340423, "post_id": 29953910, "comment_id": 48029157, "body": "What&#39;s the purpose of using <code>ceil</code> here?"}, {"owner": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "reply_to_user": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1430441439, "post_id": 29953910, "comment_id": 48079824, "body": "@RSahu It makes the output an integer number of bytes. Not using <code>ceil</code> would round down, so 603 would end up as 91."}], "answers": [{"comments": [{"owner": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "edited": false, "score": 0, "creation_date": 1430441587, "post_id": 29954255, "comment_id": 48079866, "body": "<code>sizeof(__int64)</code> would always return 8. I am shooting for the smallest filesize possible, therefore I use <code>(int) ceil((nx * ny) &#47; 8)</code>, the smallest possible size."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "edited": false, "score": 0, "creation_date": 1430496817, "post_id": 29954255, "comment_id": 48100659, "body": "Yes, but for storing a single item you must specify at least 1 byte. The element size is independent of array size."}, {"owner": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "edited": false, "score": 0, "creation_date": 1430513391, "post_id": 29954255, "comment_id": 48109326, "body": "Each array is <code>nx</code> by <code>ny</code>"}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "edited": false, "score": 0, "creation_date": 1430525748, "post_id": 29954255, "comment_id": 48113321, "body": "yes but you pass &amp;grids[i] (that&#39;s a __int64*) when writting and fwrite takes account of the bytes of the element: the second parameter cannot be used for write a single bit, the minimum is 1 byte. <a href=\"http://www.cplusplus.com/reference/cstdio/fwrite/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/cstdio/fwrite</a> The same happens for fread."}], "tags": [], "owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "is_accepted": false, "score": 0, "last_activity_date": 1430341014, "last_edit_date": 1430341014, "creation_date": 1430340584, "answer_id": 29954255, "question_id": 29953910, "link": "https://stackoverflow.com/questions/29953910/fread-from-c-binary-file-returning-wrong-value/29954255#29954255", "title": "fread from c++ binary file returning wrong value", "body": "<p>I think you are using <code>fwrite</code> and <code>fread</code> in strange ways. Please do</p>\n\n<pre><code> fwrite(&amp;gris[i], sizeof(__int64), 1, cFile);\n</code></pre>\n\n<p>for dump and</p>\n\n<pre><code> fread(&amp;data, sizeof(__int64), 1, cFile);\n</code></pre>\n\n<p>for recovering.</p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 3, "last_activity_date": 1430342587, "last_edit_date": 1430342587, "creation_date": 1430340876, "answer_id": 29954354, "question_id": 29953910, "link": "https://stackoverflow.com/questions/29953910/fread-from-c-binary-file-returning-wrong-value/29954354#29954354", "title": "fread from c++ binary file returning wrong value", "body": "<p><strong>Problem</strong></p>\n\n<p>The problem is that you are moving the <code>FILE*</code> to the end of the file using:</p>\n\n<pre><code>fseek(cFile, 0, SEEK_END);\n</code></pre>\n\n<p>And then, you are trying to read the data without going back to the start of the file.</p>\n\n<p>You are not checking the returned value of:</p>\n\n<pre><code>fread(&amp;data, (int) ceil((nx * ny) / 8), 1, cFile);\n</code></pre>\n\n<p>to check whether the read was successful or not.</p>\n\n<p><strong>Fix</strong></p>\n\n<p>Add the line </p>\n\n<pre><code>fseek(cFile, 0, SEEK_SET);\n</code></pre>\n\n<p>to rewind the file.</p>\n\n<p>Always check the return value of reading operations.</p>\n\n<pre><code>if ( fread(&amp;data, (int) ceil((nx * ny) / 8), 1, cFile) == 1 )\n{\n   // Successful read.\n   // Use the data\n}\n</code></pre>\n"}], "owner": {"reputation": 1611, "user_id": 3810466, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JUvyo.png?s=128&g=1", "display_name": "ricky3350", "link": "https://stackoverflow.com/users/3810466/ricky3350"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 29954354, "answer_count": 2, "score": 0, "last_activity_date": 1430342587, "creation_date": 1430339320, "last_edit_date": 1430339883, "question_id": 29953910, "link": "https://stackoverflow.com/questions/29953910/fread-from-c-binary-file-returning-wrong-value", "title": "fread from c++ binary file returning wrong value", "body": "<p>I am trying to read and write some boolean grids to a file using <code>stdio.h</code>. The user inputs a number <code>nx</code> (from 1 to 10, generally) and the program generates a list of <code>nx</code> by <code>ceil(nx / 2)</code> boolean grids (<code>ceil(nx / 2)</code> is <code>ny</code>). The grids themselves are stored in <code>__int64</code>s, so this grid (<code>f</code> is false and <code>T</code> is true):</p>\n\n<pre><code>ffTT\nfTfT\n</code></pre>\n\n<p>would be 172 (10101100).</p>\n\n<p>The end list of grids is outputted to a binary file.</p>\n\n<p>My code:</p>\n\n<pre><code>std::vector&lt;__int64&gt; grids;\n\n...\n\nFILE *cFile;\nif (fopen_s(&amp;cFile, (\"grid_\" + std::to_string(nx) + \"_c.bin\").c_str(), \"wb\") != 0) return;\n\nfor (int i = 0; i &lt; grids.size(); i++) {\n    fwrite(&amp;grids[i], (int) ceil((nx * ny) / 8), 1, cFile);\n}\n\nfclose(cFile);\n</code></pre>\n\n<p>This part works fine.</p>\n\n<hr>\n\n<p>However, when I try to read from a file, all of the grids are -858993460, regardless of size, although it gets the number of grids correct. My code for reading:</p>\n\n<pre><code>FILE *cFile;\nif (fopen_s(&amp;cFile, (\"grid_\" + std::to_string(nx) + \"_c.bin\").c_str(), \"rb\") != 0) return;\n\nfseek(cFile, 0, SEEK_END);\nlong size = ftell(cFile);\n\nint grids = size / ((nx * ny) / 8);\n\nfor (int n = 0; n &lt; shapes; n++) {\n    __int64 data;\n    fread(&amp;data, (int) ceil((nx * ny) / 8), 1, cFile);\n    printf(\"%i\\n\", data);\n}\n\nfclose(cFile);\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<hr>\n\n<p>If you need any more information to answer, leave a comment and I'll give it to you.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["c++", "list", "vector", "c++98"], "comments": [{"owner": {"reputation": 2942, "user_id": 4821282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66fcf596fdff8b28c477a9105501c8a2?s=128&d=identicon&r=PG&f=1", "display_name": "phantom", "link": "https://stackoverflow.com/users/4821282/phantom"}, "edited": false, "score": 1, "creation_date": 1430338978, "post_id": 29953783, "comment_id": 48028319, "body": "Try <code>push_back</code> instead."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430338985, "post_id": 29953783, "comment_id": 48028322, "body": "It is called <code>push_back</code>."}, {"owner": {"reputation": 435, "user_id": 3498573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O1z25.jpg?s=128&g=1", "display_name": "Shibumi", "link": "https://stackoverflow.com/users/3498573/shibumi"}, "edited": false, "score": 0, "creation_date": 1430339078, "post_id": 29953783, "comment_id": 48028367, "body": "push_back does not work too: <code>example.cpp:147:50: error: passing \u2018const std::vector&lt;std::basic_string&lt;char&gt; &gt;\u2019 as \u2018this\u2019 argument of \u2018void std::vector&lt;_Tp, _Alloc&gt;::push_back(const value_type&amp;) [with _Tp = std::basic_string&lt;char&gt;; _Alloc = std::allocator&lt;std::basic_string&lt;char&gt; &gt;; std::vector&lt;_Tp, _Alloc&gt;::value_type = std::basic_string&lt;char&gt;]\u2019 discards qualifiers [-fpermissive]          (*it).push_back(&quot;test&quot;); </code>"}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 1, "creation_date": 1430339308, "post_id": 29953783, "comment_id": 48028507, "body": "Use an <code>iterator</code>, not a <code>const_iterator</code>."}, {"owner": {"reputation": 435, "user_id": 3498573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O1z25.jpg?s=128&g=1", "display_name": "Shibumi", "link": "https://stackoverflow.com/users/3498573/shibumi"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1430339416, "post_id": 29953783, "comment_id": 48028573, "body": "@beta thx! this solved the issue"}, {"owner": {"reputation": 4540, "user_id": 752842, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7a569b2ed8b021eb2815e8fbf5ebbc41?s=128&d=identicon&r=PG", "display_name": "Dzyann", "link": "https://stackoverflow.com/users/752842/dzyann"}, "edited": false, "score": 0, "creation_date": 1430400723, "post_id": 29953783, "comment_id": 48057802, "body": "If one of the questions bellow were useful to you, please remember to mark them as answer."}], "answers": [{"tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 4, "last_activity_date": 1430340230, "last_edit_date": 1495542589, "creation_date": 1430340230, "answer_id": 29954148, "question_id": 29953783, "link": "https://stackoverflow.com/questions/29953783/insert-value-into-vector-in-a-list/29954148#29954148", "title": "Insert value into vector in a list", "body": "<p>Because you have declared <code>it</code> as a <code>const_iterator</code> you have made it such that what <code>it</code> references cannot be edited. When you call <code>push_back</code> you are attempting to edit the <code>vector</code> that <code>it</code> points to. You need to replace:</p>\n\n<pre><code>std::list&lt; vector&lt;string&gt; &gt;::const_iterator it = adjacencylist.begin();\n(*it).push_back(\"Some more String\"); \n</code></pre>\n\n<p>with</p>\n\n<pre><code>std::list&lt; vector&lt;string&gt; &gt;::iterator it = adjacencylist.begin();\n(*it).push_back(\"Some more String\");\n</code></pre>\n\n<p>Read up on general <code>constness</code> <a href=\"http://duramecho.com/ComputerInformation/WhyHowCppConst.html\" rel=\"nofollow noreferrer\">here</a> and there is more specific information on <code>const_iterator</code> <a href=\"https://stackoverflow.com/questions/5346890/what-is-the-difference-between-const-iterator-and-iterator\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 484, "user_id": 3629772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b861b18a83418a18259f9bad061a29f8?s=128&d=identicon&r=PG&f=1", "display_name": "JustAnotherDeveloper", "link": "https://stackoverflow.com/users/3629772/justanotherdeveloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1430340371, "creation_date": 1430340371, "answer_id": 29954188, "question_id": 29953783, "link": "https://stackoverflow.com/questions/29953783/insert-value-into-vector-in-a-list/29954188#29954188", "title": "Insert value into vector in a list", "body": "<p>Use simply an iterator. Also you can use <code>it -&gt; push_back</code> instead of <code>(*it).push_back</code>.</p>\n\n<p>This is an example:</p>\n\n<pre><code>for (list&lt; vector&lt;string&gt; &gt; it = adjacencylist.begin(); it != adjacencylist.end(); ++it)\n{\n    it -&gt; push_back(\"Your std::string\");\n}\n</code></pre>\n"}], "owner": {"reputation": 435, "user_id": 3498573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O1z25.jpg?s=128&g=1", "display_name": "Shibumi", "link": "https://stackoverflow.com/users/3498573/shibumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 563, "favorite_count": 1, "accepted_answer_id": 29954148, "answer_count": 2, "score": -1, "last_activity_date": 1430340371, "creation_date": 1430338903, "last_edit_date": 1430339327, "question_id": 29953783, "link": "https://stackoverflow.com/questions/29953783/insert-value-into-vector-in-a-list", "title": "Insert value into vector in a list", "body": "<p>I have a specific list with vectors. i want to add a value to a vector. How can I do this?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>//creating the list with vectors\nstd::list&lt; vector&lt;string&gt; &gt; adjacencylist;\n//adding some vectors to the list...\nadjacencylist.push_back(std::vector&lt;std::string&gt;(1, \"String\"));\nadjacencylist.push_back(std::vector&lt;std::string&gt;(1, \"String\"));\nadjacencylist.push_back(std::vector&lt;std::string&gt;(1, \"String\"));\n</code></pre>\n\n<p>Now I want to add values to the vectors in the list...\nI tried for this:</p>\n\n<pre><code>std::list&lt; vector&lt;string&gt; &gt;::const_iterator it = adjacencylist.begin();\n(*it).push_back(\"Some more String\");\n</code></pre>\n\n<p>I thought that this would work. So I could iterate over all vectors and insert the values that I want. But it does not work. Here the output of the compiler:</p>\n\n<pre><code>example.cpp: In function \u2018int main(int, char**)\u2019:\nexample.cpp:148:31: error: passing \u2018const std::vector&lt;std::basic_string&lt;char&gt; &gt;\u2019 as \u2018this\u2019 argument of \u2018void std::vector&lt;_Tp, _Alloc&gt;::push_back(const value_type&amp;) [with _Tp = std::basic_string&lt;char&gt;; _Alloc = std::allocator&lt;std::basic_string&lt;char&gt; &gt;; std::vector&lt;_Tp, _Alloc&gt;::value_type = std::basic_string&lt;char&gt;]\u2019 discards qualifiers [-fpermissive]\n     (*it).push_back(\"test\");\n</code></pre>\n"}, {"tags": ["c++", "qt", "opengl"], "comments": [{"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "edited": false, "score": 1, "creation_date": 1430342917, "post_id": 29953731, "comment_id": 48030560, "body": "You could always download Qt 5.4 source and compile it yourself: <a href=\"https://wiki.qt.io/Building_Qt_5_from_Git\" rel=\"nofollow noreferrer\">wiki.qt.io/Building_Qt_5_from_Git</a>"}, {"owner": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 1, "creation_date": 1430346364, "post_id": 29953731, "comment_id": 48032059, "body": "<code>QGLWidget</code> has indeed been deprecated, but only because <code>QOpenGLWidget</code> has been created as a successor.  So if you&#39;re using a version of Qt before <code>QOpenGLWidget</code> was introduced, then <code>QGLWidget</code> is what you should be using.  Is there any particular reason why you can&#39;t add a more up to date repo to your distro?"}, {"owner": {"reputation": 680, "user_id": 1635523, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/A6msp.jpg?s=128&g=1", "display_name": "Markus-Hermann", "link": "https://stackoverflow.com/users/1635523/markus-hermann"}, "reply_to_user": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "edited": false, "score": 0, "creation_date": 1430350004, "post_id": 29953731, "comment_id": 48033484, "body": "@KuramaYoko, that would be an option... but how would it say it to my CMakeLists.txt?... googling... maybe using something like <a href=\"http://www.cmake.org/cmake/help/v3.0/variable/CMAKE_INSTALL_PREFIX.html\" rel=\"nofollow noreferrer\">cmake.org/cmake/help/v3.0/variable/CMAKE_INSTALL_PREFIX.html</a>"}, {"owner": {"reputation": 680, "user_id": 1635523, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/A6msp.jpg?s=128&g=1", "display_name": "Markus-Hermann", "link": "https://stackoverflow.com/users/1635523/markus-hermann"}, "reply_to_user": {"reputation": 20165, "user_id": 498437, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d3fc61768229a2cb126ae7c28450b44d?s=128&d=identicon&r=PG", "display_name": "cmannett85", "link": "https://stackoverflow.com/users/498437/cmannett85"}, "edited": false, "score": 0, "creation_date": 1430350426, "post_id": 29953731, "comment_id": 48033615, "body": "@cmannett85: Yes, there is. As stated on <a href=\"https://packages.debian.org/search?suite=default&amp;section=all&amp;arch=any&amp;searchon=names&amp;keywords=qt5-dev-tools\" rel=\"nofollow noreferrer\">packages.debian.org/&hellip;</a> I would have to dare the experimental branch in order to get 5.4. I truly love Debian for its consequent stability policy. However, stuff like this is the downside."}], "owner": {"reputation": 680, "user_id": 1635523, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/A6msp.jpg?s=128&g=1", "display_name": "Markus-Hermann", "link": "https://stackoverflow.com/users/1635523/markus-hermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 348, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430338727, "creation_date": 1430338727, "last_edit_date": 1495541182, "question_id": 29953731, "link": "https://stackoverflow.com/questions/29953731/how-to-get-an-opengl-canvas-in-qt-5-3-2-5-4", "title": "How to get an openGL canvas in qt 5.3.2 &lt; 5.4?", "body": "<p>I am attempting to write a qt 5.3.2 application with a main window that has a rectangular section showing an openGl content.</p>\n\n<p>Browsing the internet I found approaches.</p>\n\n<p>First among them is the <em>QGLWidget</em>. However, it appears to be obsolete: <a href=\"http://doc.qt.io/qt-5/QGLWidget.html\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/QGLWidget.html</a></p>\n\n<p>Sadly the site does not state an alternative, so I browsed on and found Qt 5.4's <em>QOpenGLWidget</em> at <a href=\"https://doc-snapshots.qt.io/qt5-5.4/qopenglwidget.html\" rel=\"nofollow noreferrer\">https://doc-snapshots.qt.io/qt5-5.4/qopenglwidget.html</a></p>\n\n<p>However, being a Debian lover I appear to be stuck with Qt 5.3.2 &lt; 5.4 which is minimum for that class.</p>\n\n<p>On this forum I also found <a href=\"https://stackoverflow.com/questions/17983107/how-can-qwindow-replace-qglwidget\">How can QWindow replace QGLWidget?</a> which was asked more than a year ago and even has an accepted answer. But first I have to admit I do not understand it plus the author states it is a 'temporary hack' at best.</p>\n\n<p>I guess I could dedicate a new window for the openGL content... but is there really no other recommended way for a user of qt 5.3?</p>\n"}, {"tags": ["c++", "vector", "stl"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1430338787, "post_id": 29953690, "comment_id": 48028202, "body": "<code>int *subvector = original.begin()+4;</code> will do the trick, although it&#39;s definitely using a pointer."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "reply_to_user": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1430339237, "post_id": 29953690, "comment_id": 48028466, "body": "@dasblinkenlight: That wouldn&#39;t give you a <code>size()</code> function either ;)"}], "answers": [{"tags": [], "owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "is_accepted": false, "score": 1, "last_activity_date": 1430340027, "last_edit_date": 1430340027, "creation_date": 1430339065, "answer_id": 29953833, "question_id": 29953690, "link": "https://stackoverflow.com/questions/29953690/sub-vector-modifies-original-vector/29953833#29953833", "title": "sub-vector modifies original vector", "body": "<p>The line:</p>\n\n<pre><code>vector&lt;int&gt; subvector(original.begin()+4, original.end()-2);\n</code></pre>\n\n<p>creates a new vector and copies the elements from <code>original.begin()+4</code> to <code>original.end()-2</code> to the new one. Even with pointers, there is no way I would call elegant to achieve what you want, because many change to the original vector (rezise / push_back) could potentially invalidate the pointers to its elements.</p>\n\n<p>Depending on the exact functionality you want to implement, you can use a class like this:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\ntemplate&lt;class T&gt;\nclass Subvector {\n    std::vector&lt;T&gt;*const  vec;\n    size_t start;\n    size_t end;\npublic:\n    Subvector(std::vector&lt;T&gt;&amp; vector, size_t start, size_t end) :\n        vec(&amp;vector),\n        start(start),\n        end(end)\n    {}\n    size_t size() const { return end - start; }\n    T&amp; operator[](size_t i) {\n        return (*vec)[start + i];\n    }\n    const T&amp; operator[](size_t i) const {\n        return (*vec)[start + i];\n    }\n};\n\ntemplate&lt;class VEC&gt;\nvoid printvec(const VEC&amp; v){\n    for (int i = 0; i &lt; v.size(); i++) { cout &lt;&lt; v[i] &lt;&lt; \" \"; }\n    cout &lt;&lt; endl;\n}\n\nint main(){\n    vector&lt;int&gt; original;\n    for (int i = 1; i &lt;= 10; i++) original.push_back(i);\n    printvec(original);\n\n    Subvector&lt;int&gt; subvector(original,4, original.size() - 2);\n    subvector[0] = 0;\n    subvector[1] = 0;\n    printvec(subvector);\n    printvec(original);\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 4, "last_activity_date": 1430339754, "creation_date": 1430339754, "answer_id": 29954012, "question_id": 29953690, "link": "https://stackoverflow.com/questions/29953690/sub-vector-modifies-original-vector/29954012#29954012", "title": "sub-vector modifies original vector", "body": "<p>If you don't want to use a pointer, you could create a <code>slice</code> class to forward the work to - which will just be a pair of iterators and whatever other operations you might need:</p>\n\n<pre><code>template &lt;typename T&gt;\nclass slice {\n    using iterator = typename T::iterator;\n    using reference = typename std::iterator_traits&lt;iterator&gt;::reference;\n\n    slice(iterator first, iterator last)\n        : first(first), last(last)\n    { } \n\n    reference operator[](size_t idx)\n    {   \n        return *std::next(first, idx);\n    } \n\n    iterator begin() const { return first; }  \n    iterator end() const { return last; }\n\nprivate:\n    iterator first, last;\n};\n</code></pre>\n\n<p>With that, you can do your slicing thusly:</p>\n\n<pre><code>    slice&lt;vector&lt;int&gt;&gt; subvector(original.begin()+4, original.end()-2);\n    subvector[0]=0; // changes original[4]\n    subvector[1]=0; // changes original[5]\n</code></pre>\n\n<p>If you change your <code>printvec</code> to take an arbitrary container and use a range-for to iterate over it, you can print the <code>subvector</code> too. It will contain:</p>\n\n<pre><code>0 0 7 8 \n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 4760299, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6a19fb86544b456b0bc04071834e6328?s=128&d=identicon&r=PG&f=1", "display_name": "beginner 101", "link": "https://stackoverflow.com/users/4760299/beginner-101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1430340027, "creation_date": 1430338592, "question_id": 29953690, "link": "https://stackoverflow.com/questions/29953690/sub-vector-modifies-original-vector", "title": "sub-vector modifies original vector", "body": "<p>I want to extract a sub-vector.  Then modify its elements which affects the original vector.   My sample code below:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid printvec(vector&lt;int&gt;&amp; v){\n        for(int i = 0;i &lt; v.size();i++) {cout &lt;&lt; v[i] &lt;&lt; \" \";}\n        cout &lt;&lt; endl;\n}\n\nint main(){\n        vector&lt;int&gt; original;\n        for(int i = 1;i &lt;= 10;i++) original.push_back(i);\n        printvec(original);\n\n        vector&lt;int&gt; subvector(original.begin()+4, original.end()-2);\n        subvector[0]=0;\n        subvector[1]=0;\n        printvec(subvector);\n        printvec(original);\n        return 0;\n}\n</code></pre>\n\n<p>In above code, subvector does not modify vector.  Can some one point me to an elegant way to make a subvector which modifies original vector (hopefully without explicit use of pointers if possible). </p>\n"}, {"tags": ["c++", "gcc", "assembly", "compilation"], "comments": [{"owner": {"reputation": 2626, "user_id": 3243563, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/100002431404708/picture?type=large", "display_name": "laurisvr", "link": "https://stackoverflow.com/users/3243563/laurisvr"}, "edited": false, "score": 0, "creation_date": 1430339661, "post_id": 29953660, "comment_id": 48028714, "body": "This sounds like it has to do with alignment. Usually when you store a class to a file you specify the alignment before the header. In visual studio that&#39;d be something like #pragma pack(1)"}, {"owner": {"reputation": 12800, "user_id": 214796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d05177bba9d853a9c546c4a965085e99?s=128&d=identicon&r=PG", "display_name": "Collin Dauphinee", "link": "https://stackoverflow.com/users/214796/collin-dauphinee"}, "edited": false, "score": 2, "creation_date": 1430340202, "post_id": 29953660, "comment_id": 48029028, "body": "Make sure both TUs are sharing the same definition of <code>Func_Container</code> and do a clean and rebuild. Visual Studio screws up and forgets to recompile object files sometimes."}, {"owner": {"reputation": 3353, "user_id": 1066647, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6af4fdacf179dace5d893487d7c78533?s=128&d=identicon&r=PG", "display_name": "FRob", "link": "https://stackoverflow.com/users/1066647/frob"}, "edited": false, "score": 2, "creation_date": 1430340481, "post_id": 29953660, "comment_id": 48029200, "body": "Are you sure both files are compiled with the same flags? This sounds like func_container might have optional ifdef&#39;d fields. Print sizeof(func_container) in both functions."}, {"owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "edited": false, "score": 0, "creation_date": 1430341090, "post_id": 29953660, "comment_id": 48029559, "body": "This is a clean build, Also, there is no use of pragma pack that I can find in the project."}, {"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 0, "creation_date": 1430344789, "post_id": 29953660, "comment_id": 48031426, "body": "What&#39;s in the corresponding headers?"}, {"owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "reply_to_user": {"reputation": 3353, "user_id": 1066647, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6af4fdacf179dace5d893487d7c78533?s=128&d=identicon&r=PG", "display_name": "FRob", "link": "https://stackoverflow.com/users/1066647/frob"}, "edited": false, "score": 0, "creation_date": 1430345401, "post_id": 29953660, "comment_id": 48031686, "body": "@Frob I&#39;ve updated the question with sizeof() and offset information. The headers are huge, I&#39;ll look for anything that might be caused by ifdefs, is there anything else I should look for."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1430347224, "post_id": 29953660, "comment_id": 48032410, "body": "That&#39;s not the correct way to calculate an offset. You should use <code>offsetof</code>.`"}, {"owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1430347538, "post_id": 29953660, "comment_id": 48032550, "body": "@EJP I couldn&#39;t get offsetof to work on this class."}, {"owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "edited": false, "score": 1, "creation_date": 1430353608, "post_id": 29953660, "comment_id": 48034563, "body": "After rearranging some thing I did find out that it seems to be because of _GLIBCXX_DEBUG. The first included header in B defines this. If I include my header for Func_Container it works correctly. I don&#39;t immediately see anything in the definition for Func_Container that is #ifdef&#39;d to depend on this value but I don&#39;t know what it causes the compiler to do."}, {"owner": {"reputation": 3353, "user_id": 1066647, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/6af4fdacf179dace5d893487d7c78533?s=128&d=identicon&r=PG", "display_name": "FRob", "link": "https://stackoverflow.com/users/1066647/frob"}, "edited": false, "score": 1, "creation_date": 1430390916, "post_id": 29953660, "comment_id": 48051117, "body": "Please add your last comment as an answer with a little more detail, pay it forward to the next person."}], "answers": [{"tags": [], "owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "is_accepted": true, "score": 1, "last_activity_date": 1431122862, "creation_date": 1431122862, "answer_id": 30133563, "question_id": 29953660, "link": "https://stackoverflow.com/questions/29953660/incorrect-class-member-offset-address/30133563#30133563", "title": "Incorrect Class Member Offset Address", "body": "<p>I was able to narrow down the source of my issue be rearranging header includes. After placing the <code>#include \"Func_Container.h\"</code> before other includes in file B, I found that the container became the correct size. I proceeded to move other headers before <code>Func_Container</code> until I found which one was causing the issue. I found that the offending header had the <code>_GLIBCXX_DEBUG</code> flag defined. This caused extra debug members in certain std types which changed their sizes, so when my definition for Func_Container was loaded in later member addresses changed as a result of the larger types.</p>\n\n<p>An example of the issue is available in this mailing list: <a href=\"https://gcc.gnu.org/ml/libstdc++/2012-10/msg00077.html\" rel=\"nofollow\">https://gcc.gnu.org/ml/libstdc++/2012-10/msg00077.html</a></p>\n"}], "owner": {"reputation": 165, "user_id": 844928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/484ce2eb4b5718372e013e043bb0559e?s=128&d=identicon&r=PG", "display_name": "Justin Egli", "link": "https://stackoverflow.com/users/844928/justin-egli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 30133563, "answer_count": 1, "score": 3, "last_activity_date": 1431122862, "creation_date": 1430338497, "last_edit_date": 1430345396, "question_id": 29953660, "link": "https://stackoverflow.com/questions/29953660/incorrect-class-member-offset-address", "title": "Incorrect Class Member Offset Address", "body": "<p>I have an issue where when I try to access a member of a class in a certain file, it does not get the actual value of that member. But when I try to access it in other places I do.</p>\n\n<p>File A:</p>\n\n<pre><code>find_func_wrapper ( Func_Container * rules, char * func_name ) {\n    ulong count = rules-&gt;function_count;\n    cout &lt;&lt; \"A count: \" &lt;&lt; count &lt;&lt; endl;\n    B::find_func( rules, func_name );\n}\n\nmain () {\n    Func_Container *rules = get_rules();\n    find_func_wrapper( rules, func_name );\n}\n</code></pre>\n\n<p>File B:</p>\n\n<pre><code>B::find_func ( Func_Container * rules, char * func_name ) {\n    ulong count = rules-&gt;function_count;\n    cout &lt;&lt; \"B count: \" &lt;&lt; count &lt;&lt; endl;\n}\n</code></pre>\n\n<p>When I run this, I get:</p>\n\n<pre><code>A count: 2\nB count: 0\n</code></pre>\n\n<p>When the count member is set to 2. Stepping through the code with gdb, in both A and B when I use <code>print rules-&gt;function_count</code> I get 2. </p>\n\n<p>Disassembling the code, in A find_func_wrapper.</p>\n\n<pre><code>1885            ulong count = rules-&gt;function_count;\n=&gt; 0x0000000006004be5 &lt;+294&gt;:   mov    -0xa8(%rbp),%rax\n   0x0000000006004bec &lt;+301&gt;:   mov    0x60a8(%rax),%rax\n   0x0000000006004bf3 &lt;+308&gt;:   mov    %rax,-0x38(%rbp)\n</code></pre>\n\n<p>Also <code>print &amp;rules-&gt;function_count = 0x11684158</code> and <code>print rules = 0x1167e0b0</code> <br>\nAnd in B::find_func</p>\n\n<pre><code>2652        ulong count = rules-&gt;function_count;\n   0x00000000062494a1 &lt;+75&gt;:    mov    -0x4f8(%rbp),%rax\n   0x00000000062494a8 &lt;+82&gt;:    mov    0x60e8(%rax),%rax\n   0x00000000062494af &lt;+89&gt;:    mov    %rax,-0x50(%rbp)\n</code></pre>\n\n<p>Printing the addresses of rules and ->function_count return the same addresses as expected. To me, it looks like the culprit is in the second <code>mov</code> instruction where the offset used in B, 0x60e8, is incorrect. Why would this be happening?</p>\n\n<p>get_rules() returns a pointer to a global object that is initialized earlier and kept around till the program ends.</p>\n\n<p>This is being compiled with gcc 4.4.7. The project is extremely large. Additionally, this only happens in debug builds, release builds or non-optimized builds don't seem to have this issue.</p>\n\n<pre><code>Sizeof in find_func_wrapper: 24968\n    Offset: 3093\nSizeof in B::find_func: 25032\n    Offset: 3101\n</code></pre>\n\n<p>Offset calculated by <code>((&amp;rules-&gt;function_count) - rules)</code></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 3, "creation_date": 1430337641, "post_id": 29953340, "comment_id": 48027560, "body": "<code>Vehicle(int, enum, enum, int);</code> you should put the name of the enum type, instead of the keyword enum (i.e. street, direction)"}, {"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 1, "creation_date": 1430337724, "post_id": 29953340, "comment_id": 48027594, "body": "Also, you have extra commas after the last enum values in your declarations."}, {"owner": {"reputation": 1605, "user_id": 2508277, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qfYIb.png?s=128&g=1", "display_name": "Unda", "link": "https://stackoverflow.com/users/2508277/unda"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 3, "creation_date": 1430337745, "post_id": 29953340, "comment_id": 48027607, "body": "@dwcanillas Extra trailing commas are not a problem."}], "answers": [{"comments": [{"owner": {"reputation": 1605, "user_id": 2508277, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qfYIb.png?s=128&g=1", "display_name": "Unda", "link": "https://stackoverflow.com/users/2508277/unda"}, "edited": false, "score": 1, "creation_date": 1430337917, "post_id": 29953414, "comment_id": 48027701, "body": "He also seems to wrongly declare the last 2 private fields."}, {"owner": {"reputation": 71, "user_id": 4104349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvYhr.gif?s=128&g=1", "display_name": "Ricardo Rigaroni", "link": "https://stackoverflow.com/users/4104349/ricardo-rigaroni"}, "edited": false, "score": 0, "creation_date": 1430337930, "post_id": 29953414, "comment_id": 48027710, "body": "Wow. Okay, awesome. Thanks!"}, {"owner": {"reputation": 71, "user_id": 4104349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvYhr.gif?s=128&g=1", "display_name": "Ricardo Rigaroni", "link": "https://stackoverflow.com/users/4104349/ricardo-rigaroni"}, "reply_to_user": {"reputation": 1605, "user_id": 2508277, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qfYIb.png?s=128&g=1", "display_name": "Unda", "link": "https://stackoverflow.com/users/2508277/unda"}, "edited": false, "score": 1, "creation_date": 1430338579, "post_id": 29953414, "comment_id": 48028081, "body": "@Unda How are they wrongly declared? Just starting out on C++. How would I declare them correctly?"}, {"owner": {"reputation": 1605, "user_id": 2508277, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/qfYIb.png?s=128&g=1", "display_name": "Unda", "link": "https://stackoverflow.com/users/2508277/unda"}, "reply_to_user": {"reputation": 71, "user_id": 4104349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvYhr.gif?s=128&g=1", "display_name": "Ricardo Rigaroni", "link": "https://stackoverflow.com/users/4104349/ricardo-rigaroni"}, "edited": false, "score": 0, "creation_date": 1430339254, "post_id": 29953414, "comment_id": 48028475, "body": "@battleskies Just as Bordleader said, you replace <code>enum</code> by the actual name of the enum type. Here: <code>street streetMemberName; direction directionMemberName;</code>"}], "tags": [], "owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "is_accepted": true, "score": 3, "last_activity_date": 1430338055, "last_edit_date": 1430338055, "creation_date": 1430337797, "answer_id": 29953414, "question_id": 29953340, "link": "https://stackoverflow.com/questions/29953340/c-use-of-enum-without-previous-declaration-in-header-file/29953414#29953414", "title": "C++ Use of enum &#39;___&#39; without previous declaration in header file?", "body": "<p><code>Vehicle(int, enum, enum, int);</code></p>\n\n<p>This is incorrect, you should be using the name of the enum type you want (in this case <code>street</code> and <code>direction</code> <em>not</em> the keyword <code>enum</code>.</p>\n\n<p>Same goes for those member variables (thanks to @Unda for noticing).</p>\n"}], "owner": {"reputation": 71, "user_id": 4104349, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/pvYhr.gif?s=128&g=1", "display_name": "Ricardo Rigaroni", "link": "https://stackoverflow.com/users/4104349/ricardo-rigaroni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5369, "favorite_count": 0, "accepted_answer_id": 29953414, "answer_count": 1, "score": 0, "last_activity_date": 1430338055, "creation_date": 1430337512, "last_edit_date": 1430337841, "question_id": 29953340, "link": "https://stackoverflow.com/questions/29953340/c-use-of-enum-without-previous-declaration-in-header-file", "title": "C++ Use of enum &#39;___&#39; without previous declaration in header file?", "body": "<p>I'm trying to use enums to represent streets and directions in a traffic simulation. I'm running into an issue of trying to include in my Vehicle header file putting the enums in the constructor and putting it into the Vehicle constructor. </p>\n\n<p>I get the error when I try to compile Vehicle.h \n - use of enum 'street/direction' without previous declaration. \n - and two expected identifier before ',' token where I declare Vehicle constructor</p>\n\n<p>Here is what I have so far.</p>\n\n<pre><code>//Street.h\n\n#ifndef STREET_H\n#define STREET_H\n\nenum street\n{\n    Main = 1,\n    Church,\n};\n\n#endif\n\n//Direction.h\n\n#ifndef DIRECTION_H\n#define DIRECTION_H\n\nenum direction\n{\n    E = 1,\n    W,\n    N,  \n};\n\n#endif\n\n//Vehicle.h\n\n#ifndef VEHICLE_H  \n#define VEHICLE_H\n\n#include \"Street.h\"\n#include \"Direction.h\"\n\nclass Vehicle\n{\n   private:\n    int vehicleNumber;\n    int arrivalTime;\n    int departureTime;\n    enum street;\n    enum direction;\n\n   public:\n    Vehicle(int, enum, enum, int);\n};\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1430336727, "post_id": 29953066, "comment_id": 48027053, "body": "please do, what the error hints at, and check the <i>exact</i> type of your input, e.g,  CV_64F(6) != CV_32F(5)"}, {"owner": {"reputation": 9586, "user_id": 1000282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/371832f83b79a41443fa50d3793b0cfd?s=128&d=identicon&r=PG", "display_name": "pepper_chico", "link": "https://stackoverflow.com/users/1000282/pepper-chico"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1430338479, "post_id": 29953066, "comment_id": 48028012, "body": "@berak thanks, you made me check that and I realized there&#39;s a bug in the code indeed, at one time one of the matrix types gets unexpected. Despite this, I&#39;d like more information about this I&#39;ve asked, which is unrelated although useful."}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1430347690, "post_id": 29953066, "comment_id": 48032611, "body": "I don&#39;t know if this is sufficient, but the documentation for <a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#gemm\" rel=\"nofollow noreferrer\">gemm</a> does state that only float types are accepted."}, {"owner": {"reputation": 9586, "user_id": 1000282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/371832f83b79a41443fa50d3793b0cfd?s=128&d=identicon&r=PG", "display_name": "pepper_chico", "link": "https://stackoverflow.com/users/1000282/pepper-chico"}, "reply_to_user": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1430540752, "post_id": 29953066, "comment_id": 48116119, "body": "@beaker thanks, I think that&#39;s enough."}], "answers": [{"comments": [{"owner": {"reputation": 9586, "user_id": 1000282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/371832f83b79a41443fa50d3793b0cfd?s=128&d=identicon&r=PG", "display_name": "pepper_chico", "link": "https://stackoverflow.com/users/1000282/pepper-chico"}, "edited": false, "score": 0, "creation_date": 1430340052, "post_id": 29953706, "comment_id": 48028916, "body": "I&#39;m using <code>*</code>. In this question I&#39;m solely interested in docs backing that information or not, since it&#39;s referred in other SO answers. I&#39;ve already solved my bug."}], "tags": [], "owner": {"reputation": 639, "user_id": 4774908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eNaiJ.jpg?s=128&g=1", "display_name": "Tom A", "link": "https://stackoverflow.com/users/4774908/tom-a"}, "is_accepted": false, "score": 1, "last_activity_date": 1430338652, "creation_date": 1430338652, "answer_id": 29953706, "question_id": 29953066, "link": "https://stackoverflow.com/questions/29953066/opencv-matrix-multiplication-assertion/29953706#29953706", "title": "OpenCV matrix multiplication assertion", "body": "<p>You didn't mentioned the operator you are using but you can try mat1.mul(mat2), mat1*mat2, multiply(mat1, mat2, dst) or do:</p>\n\n<pre><code>mat1.convertTo(mat1, CV_32FC1);\nmat2.convertTo(mat2, CV_32FC1);\n</code></pre>\n\n<p>and if needed:</p>\n\n<pre><code>mat1.convertTo(mat1, CV_8UC1);\nmat2.convertTo(mat2, CV_8UC1);\n</code></pre>\n"}], "owner": {"reputation": 9586, "user_id": 1000282, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/371832f83b79a41443fa50d3793b0cfd?s=128&d=identicon&r=PG", "display_name": "pepper_chico", "link": "https://stackoverflow.com/users/1000282/pepper-chico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1502561836, "creation_date": 1430336545, "last_edit_date": 1502561836, "question_id": 29953066, "link": "https://stackoverflow.com/questions/29953066/opencv-matrix-multiplication-assertion", "title": "OpenCV matrix multiplication assertion", "body": "<p>I'm getting</p>\n\n<pre><code>OpenCV Error: Assertion failed (type == B.type() &amp;&amp; (type == CV_32FC1 || type == CV_64FC1 || type == CV_32FC2 || type == CV_64FC2)) in gemm, file /build/buildd\n/opencv-2.4.9+dfsg/modules/core/src/matmul.cpp, line 711\nterminate called after throwing an instance of 'cv::Exception'\n  what():  /build/buildd/opencv-2.4.9+dfsg/modules/core/src/matmul.cpp:711: error: (-215) type == B.type() &amp;&amp; (type == CV_32FC1 || type == CV_64FC1 || type == \nCV_32FC2 || type == CV_64FC2) in function gemm\n</code></pre>\n\n<p>I'd like to know where in the docs it's mentioned matrix multiplication is supported solely for floating point matrices? I could only find people telling this in SO, but nothing so far comparable to a standard documentation.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 3, "creation_date": 1430336184, "post_id": 29952941, "comment_id": 48026740, "body": "Given that a <code>vector</code> can hold more than just simple <code>int</code>s (like <code>string</code>, for example), it makes sense. If you have a <code>vector</code> of <code>string</code>s, those strings haven&#39;t had their constructors run, and thus would be illegal to access."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 1, "creation_date": 1430336436, "post_id": 29952941, "comment_id": 48026900, "body": "<code>int</code> has vacuous initialization, hence your line is fine. However, some object types require initialization to be alive.Passing <code>vec[89]</code> to an assignment operator of a class without a trivial default constructor is UB."}, {"owner": {"reputation": 5811, "user_id": 2726734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JkA2E.jpg?s=128&g=1", "display_name": "ryanpattison", "link": "https://stackoverflow.com/users/2726734/ryanpattison"}, "edited": false, "score": 5, "creation_date": 1430336545, "post_id": 29952941, "comment_id": 48026956, "body": "&quot;however, you can&#39;t resize a vector with default values&quot; see <a href=\"http://www.cplusplus.com/reference/vector/vector/resize/\" rel=\"nofollow noreferrer\">vector.resize</a>"}, {"owner": {"reputation": 3431, "user_id": 1033323, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4117cecb7abcac2b6fb24a8dff99115a?s=128&d=identicon&r=PG", "display_name": "Francisco Aguilera", "link": "https://stackoverflow.com/users/1033323/francisco-aguilera"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430336785, "post_id": 29952941, "comment_id": 48027084, "body": "@Columbo, every type has at least, a default constructor."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1430336998, "post_id": 29952941, "comment_id": 48027201, "body": "@FranciscoAguilera <code>struct foo { foo(int) {} };</code> doesn&#39;t have a default constructor."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 2, "creation_date": 1430347948, "post_id": 29952941, "comment_id": 48032743, "body": "Or more obviously <code>class foo { foo() = delete; };</code>"}], "answers": [{"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": false, "score": 3, "last_activity_date": 1430336620, "creation_date": 1430336620, "answer_id": 29953086, "question_id": 29952941, "link": "https://stackoverflow.com/questions/29952941/why-cant-you-access-memory-allocated-by-vectorreserve/29953086#29953086", "title": "Why can&#39;t you access memory allocated by vector::reserve", "body": "<p>Vectors <em>are</em> like arrays that resize themselves once you reach a certain capacity, if you use <code>insert</code> and <code>push_back</code> and other such functions.</p>\n\n<p>You complain about <code>vec.reserve(100);</code> because it calls all of the constructors, and then imply you want it to work like <code>int[] arr = new int[100];</code>, but you seem to be overlooking the fact that <code>new int</code> <em>also</em> calls all of the destructors.  They do the same thing here.</p>\n\n<blockquote>\n  <p>you can't resize a vector with default values like this more than once other than initially through the constructor</p>\n</blockquote>\n\n<p>There's <code>vector::resize</code> which resizes the array and default constructs any new ones.  If you want to \"reset\" existing ones, simply use <code>std::fill</code>.</p>\n\n<p>The purpose of <code>vector::reserve</code> is to make <code>insert</code> and <code>push_back</code> not do unnecessary reallocations.  Which is a neat trick that raw arrays can't easily duplicate.  This is <em>extra</em> functionality, not <em>missing</em> functionality.</p>\n"}, {"tags": [], "owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "is_accepted": true, "score": 8, "last_activity_date": 1449792595, "last_edit_date": 1449792595, "creation_date": 1430336664, "answer_id": 29953105, "question_id": 29952941, "link": "https://stackoverflow.com/questions/29952941/why-cant-you-access-memory-allocated-by-vectorreserve/29953105#29953105", "title": "Why can&#39;t you access memory allocated by vector::reserve", "body": "<p>You should not mix up <code>resize</code> and <code>reserve</code></p>\n\n<ul>\n<li><code>reserve</code> allocates space (if needed) but doesn't initialize it, that way when you insert new elements only the construction is called and no realocation is done (until you used all the reserved space)</li>\n<li><code>resize</code> allocates space (if needed) and initialize it by calling the constructor.</li>\n</ul>\n\n<p>Therefore when you <code>reserve</code> space, the new values are not accessible until they have been initialized/constructed by doing an operation like <code>push_back</code> or <code>resize</code></p>\n"}, {"comments": [{"owner": {"reputation": 780, "user_id": 4647583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed29ba29164901d431c9755a8fc9a14?s=128&d=identicon&r=PG", "display_name": "Otomo", "link": "https://stackoverflow.com/users/4647583/otomo"}, "edited": false, "score": 2, "creation_date": 1430377207, "post_id": 29953303, "comment_id": 48042504, "body": "This is the best explanation."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 3, "last_activity_date": 1430337412, "creation_date": 1430337412, "answer_id": 29953303, "question_id": 29952941, "link": "https://stackoverflow.com/questions/29952941/why-cant-you-access-memory-allocated-by-vectorreserve/29953303#29953303", "title": "Why can&#39;t you access memory allocated by vector::reserve", "body": "<p>C++ is an abstraction, and in that abstraction those elements aren't \"null\" or \"empty\": they simply do not exist. Only space for them exists.</p>\n\n<p>Now, in the case of <code>int</code> on many practical implementations, if you look at the memory then you can't really tell the difference. You <em>could</em> access that memory. But then you're violating the contract of <code>vector</code>, and this is going to hit you as soon as you perform mutating operations on the container: it's going to take your memory away from you and it's not going to carry your \"data\" along with it.</p>\n\n<p>You don't gain anything by refusing to properly construct actual elements.</p>\n"}], "owner": {"reputation": 3431, "user_id": 1033323, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/4117cecb7abcac2b6fb24a8dff99115a?s=128&d=identicon&r=PG", "display_name": "Francisco Aguilera", "link": "https://stackoverflow.com/users/1033323/francisco-aguilera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2108, "favorite_count": 1, "accepted_answer_id": 29953105, "answer_count": 3, "score": -1, "last_activity_date": 1449792595, "creation_date": 1430336066, "last_edit_date": 1430336446, "question_id": 29952941, "link": "https://stackoverflow.com/questions/29952941/why-cant-you-access-memory-allocated-by-vectorreserve", "title": "Why can&#39;t you access memory allocated by vector::reserve", "body": "<p>Pretty simple question, but why is it that when you call</p>\n\n<pre><code>std::vector&lt;int&gt; vec;\nvec.reserve(100);\nvec[89] = 99; // vector subscript out of range.-\n</code></pre>\n\n<p>You are not allowed to access elements 0-99 of the vector? Doesn't make a lot of sense considering that reserving increased capacity of the vector (allocated a new array of that size) and such you should be able to access those elements even though they would be empty or null to start.</p>\n\n<p>I understand that if you do it the following way:</p>\n\n<pre><code>std::vector&lt;int&gt; vec(99, 0);\nvec[89] = 99;\n</code></pre>\n\n<p>You would be allowed to access the elements because they will be initialized to 0, however, you can't resize a vector with default values like this more than once other than initially through the constructor.</p>\n\n<p>With arrays, one can do:</p>\n\n<pre><code>int[] arr = new int[100];\narr[89] = 99;\n</code></pre>\n\n<p>Granted you would have to write the resizing yourself.</p>\n\n<pre><code>arr1 = new int[200]\nmemcpy (arr1, arr, 100);\narr = arr1;\narr[90] = 100;\n</code></pre>\n\n<p>Is there any way to treat <code>std::vector</code> like arrays that resize themselves once you reach a certain capacity?</p>\n"}, {"tags": ["c++", "linux", "shell", "command-line", "background"], "comments": [{"owner": {"reputation": 4421, "user_id": 774575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I2J58.png?s=128&g=1", "display_name": "mins", "link": "https://stackoverflow.com/users/774575/mins"}, "edited": false, "score": 0, "creation_date": 1430336313, "post_id": 29952892, "comment_id": 48026826, "body": "What is your question? See <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> to improve your post, and have a possibility to get useful answers."}, {"owner": {"reputation": 15, "user_id": 4099949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f3de372ccfdfdea4844ac475558bcb?s=128&d=identicon&r=PG&f=1", "display_name": "Heis", "link": "https://stackoverflow.com/users/4099949/heis"}, "reply_to_user": {"reputation": 4421, "user_id": 774575, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/I2J58.png?s=128&g=1", "display_name": "mins", "link": "https://stackoverflow.com/users/774575/mins"}, "edited": false, "score": 0, "creation_date": 1430576993, "post_id": 29952892, "comment_id": 48125352, "body": "I was just asking for guidance. Pourya gave me the answer i was looking for"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 4099949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f3de372ccfdfdea4844ac475558bcb?s=128&d=identicon&r=PG&f=1", "display_name": "Heis", "link": "https://stackoverflow.com/users/4099949/heis"}, "edited": false, "score": 0, "creation_date": 1430464494, "post_id": 29953073, "comment_id": 48085280, "body": "Cool, thank you i&#39;ll get on it asap."}], "tags": [], "owner": {"reputation": 142, "user_id": 350737, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ff17030e0dd7274c713aabef0cd1544a?s=128&d=identicon&r=PG", "display_name": "pjsofts", "link": "https://stackoverflow.com/users/350737/pjsofts"}, "is_accepted": true, "score": 1, "last_activity_date": 1430336553, "last_edit_date": 1495540706, "creation_date": 1430336553, "answer_id": 29953073, "question_id": 29952892, "link": "https://stackoverflow.com/questions/29952892/writing-a-background-program-with-command-line-interaction/29953073#29953073", "title": "Writing a background program with command line interaction", "body": "<p>You need to write a daemon. Daemons are background processes without user interactions. You can call it <strong>cputempd</strong>.\nThen you need to make a client called <strong>cputemp</strong> that connects to your daemon and gets information.</p>\n\n<p>Writing daemons is explained here with further references: <a href=\"https://stackoverflow.com/questions/17954432/creating-a-daemon-in-linux\">Creating a daemon in Linux</a></p>\n\n<p>For communication between your client program and your daemon there are different methods of Interprocess Communication although you can simply use socket programming. \non IPC: <a href=\"http://www.tldp.org/LDP/lpg/node7.html\" rel=\"nofollow noreferrer\">http://www.tldp.org/LDP/lpg/node7.html</a></p>\n"}], "owner": {"reputation": 15, "user_id": 4099949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f3de372ccfdfdea4844ac475558bcb?s=128&d=identicon&r=PG&f=1", "display_name": "Heis", "link": "https://stackoverflow.com/users/4099949/heis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "closed_date": 1430346353, "accepted_answer_id": 29953073, "answer_count": 1, "score": 0, "last_activity_date": 1430336553, "creation_date": 1430335905, "question_id": 29952892, "link": "https://stackoverflow.com/questions/29952892/writing-a-background-program-with-command-line-interaction", "closed_reason": "Needs more focus", "title": "Writing a background program with command line interaction", "body": "<p>I'm just playing around and want to write a c++ program that monitors my CPU temperature, <em>(i know there is no need to do it, i know i can get that info without writing a program)</em>. I'm willing to design the whole thing as a background process in linux and be able to communicate with it via command line.</p>\n\n<p>let's say my program name is: <strong>cputemp</strong></p>\n\n<p>i want to be able to run the command <strong>cputemp -temp</strong> and get the temp values.</p>\n\n<p>I've never done anything like this before and hope you guys can help me out </p>\n"}, {"tags": ["c++", "boost", "visual-studio-2013", "nuget"], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "edited": false, "score": 0, "creation_date": 1430337065, "post_id": 29953022, "comment_id": 48027243, "body": "I never thought to look there, just left to class but when I get back I&#39;ll check. I&#39;m currently just using whatever NuGet sets and installs with boost."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 1, "creation_date": 1430342924, "post_id": 29953022, "comment_id": 48030563, "body": "The library file name doesn&#39;t need to be added to that list. On MSVC, the boost headers use <code>#pragma comment(lib, &quot;...&quot;)</code> directives to specify the library names automatically. What&#39;s important is to add the <i>directory</i> containing all the boost <code>.lib</code> files to <code>Linker -&gt; General -&gt; Additional Library Directories</code>."}, {"owner": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "edited": false, "score": 0, "creation_date": 1430347734, "post_id": 29953022, "comment_id": 48032632, "body": "I didn&#39;t manage to find the file, but I did get it working via the other boost package in the other reply. Thanks though!"}], "tags": [], "owner": {"reputation": 25072, "user_id": 880096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3aea2f54b1f45e9daad922bd11ca6b5a?s=128&d=identicon&r=PG", "display_name": "FailedDev", "link": "https://stackoverflow.com/users/880096/faileddev"}, "is_accepted": false, "score": 0, "last_activity_date": 1430336359, "creation_date": 1430336359, "answer_id": 29953022, "question_id": 29952757, "link": "https://stackoverflow.com/questions/29952757/vs2013-boost-using-nuget/29953022#29953022", "title": "VS2013 Boost using NuGet", "body": "<p>Does the file <code>libboost_system-vc120-mt-gd-1_57.lib</code> exist on your hard drive?</p>\n\n<p>If yes, did you add the .lib to the linker/input/Additional Dependencies?</p>\n\n<p><img src=\"https://i.stack.imgur.com/fw9Fw.png\" alt=\"enter image description here\"></p>\n"}, {"comments": [{"owner": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "edited": false, "score": 0, "creation_date": 1430344598, "post_id": 29953835, "comment_id": 48031338, "body": "I just installed the boost-vc120 package and it seemed to work. I initially avoided it because I misread the description and thought i saw &quot;Windows XP&quot;. I have both boost and the boost-vc120 packages on my current solution. Is that going to affect anything if i remove the regular boost?"}, {"owner": {"reputation": 93509, "user_id": 4086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e4a1b4bf6865eddd0edfe8cb90361c84?s=128&d=identicon&r=PG", "display_name": "Ferruccio", "link": "https://stackoverflow.com/users/4086/ferruccio"}, "reply_to_user": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "edited": false, "score": 0, "creation_date": 1430347938, "post_id": 29953835, "comment_id": 48032738, "body": "@user3857017 - removing boost should have no effect, but if it does you can always remove boost-vc120 as well and then re-install it."}, {"owner": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "edited": false, "score": 0, "creation_date": 1430348218, "post_id": 29953835, "comment_id": 48032854, "body": "Alright. I just ask because boost is a pretty big package to just leave sitting there for no reason."}], "tags": [], "owner": {"reputation": 93509, "user_id": 4086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e4a1b4bf6865eddd0edfe8cb90361c84?s=128&d=identicon&r=PG", "display_name": "Ferruccio", "link": "https://stackoverflow.com/users/4086/ferruccio"}, "is_accepted": true, "score": 24, "last_activity_date": 1430339067, "creation_date": 1430339067, "answer_id": 29953835, "question_id": 29952757, "link": "https://stackoverflow.com/questions/29952757/vs2013-boost-using-nuget/29953835#29953835", "title": "VS2013 Boost using NuGet", "body": "<p>I suspect you installed the NuGet package named simply \"boost\". This seems to contain all the Boost headers, but no compiled libraries. That's fine if you're interested in using only the header-only Boost libraries (i.e. most of them).</p>\n\n<p>What you really want is the package named \"boost-vc120\" (vc120 refers to VC++ 12.0, which is the VC++ version that ships with VS2013). This has all the libraries as well. You'll notice that it'll take a lot longer to install.</p>\n\n<p>In either case, NuGet will take care of setting up all the necessary VC++ Directories settings. No further configuration is needed. </p>\n"}, {"comments": [{"owner": {"reputation": 93509, "user_id": 4086, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e4a1b4bf6865eddd0edfe8cb90361c84?s=128&d=identicon&r=PG", "display_name": "Ferruccio", "link": "https://stackoverflow.com/users/4086/ferruccio"}, "edited": false, "score": 1, "creation_date": 1471602750, "post_id": 30201149, "comment_id": 65423109, "body": "<code>boost-vc120</code> will download all boost libraries, but it will only link the libraries you actually use in your project. Boost takes advantage of the VC++ <code>#pragma comment(lib)</code> directive in its headers to specify which libraries need to be linked in."}], "tags": [], "owner": {"reputation": 2259, "user_id": 374845, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/68e90bb3a4cb97dab8e40b37aaf1b371?s=128&d=identicon&r=PG", "display_name": "Sergey Shandar", "link": "https://stackoverflow.com/users/374845/sergey-shandar"}, "is_accepted": false, "score": 3, "last_activity_date": 1471623375, "last_edit_date": 1471623375, "creation_date": 1431463766, "answer_id": 30201149, "question_id": 29952757, "link": "https://stackoverflow.com/questions/29952757/vs2013-boost-using-nuget/30201149#30201149", "title": "VS2013 Boost using NuGet", "body": "<p>The structure of Boost NuGet packages is <a href=\"http://getboost.codeplex.com/releases/view/137465\" rel=\"nofollow\">here</a>. You can use <a href=\"http://www.nuget.org/packages/boost-vc120/1.57.0\" rel=\"nofollow\">boost-vc120</a> but it will download ALL boost libraries to your project. So if you want to save disk space, then use <a href=\"http://www.nuget.org/packages/boost/1.57.0\" rel=\"nofollow\">boost</a> package which gives you header files, and specific binary packages. In your case, it's <a href=\"http://www.nuget.org/packages/boost_system-vc120/\" rel=\"nofollow\">boost_system-vc120</a>.</p>\n\n<p>You can't remove boost package because binary packages, such as boost-vc120/boost_system-vc120, depend on it.</p>\n"}, {"tags": [], "owner": {"reputation": 3488, "user_id": 2338477, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/6ac00e047724e6fbed304a083bc8234f?s=128&d=identicon&r=PG", "display_name": "TarmoPikaro", "link": "https://stackoverflow.com/users/2338477/tarmopikaro"}, "is_accepted": false, "score": -1, "last_activity_date": 1551107148, "creation_date": 1551107148, "answer_id": 54869105, "question_id": 29952757, "link": "https://stackoverflow.com/questions/29952757/vs2013-boost-using-nuget/54869105#54869105", "title": "VS2013 Boost using NuGet", "body": "<p>Go to following web page:</p>\n\n<p><a href=\"https://github.com/sergey-shandar/getboost\" rel=\"nofollow noreferrer\">https://github.com/sergey-shandar/getboost</a></p>\n\n<p>From there you find \"NuGet Packages for Boost.\" with multiple links.</p>\n\n<p>If you pick first link - you will get to boost-includes nuget-package\ninstructions. Basically you need to open Package manager in Visual studio, select correct project, and type command \"Install-Package boost -Version 1.69.0\" - it will enable\nboost includes automatic downloading to \"packages\" folder.</p>\n\n<p>By following other links you can get boost static libraries for your specific Visual studio - follow \"boost-vc141\" to get Visual studio 2017 static libraries.</p>\n\n<p>That boost package will get a lot of boost libraries - if you don't need all of them - make temporary project, get boost static libraries, and copy paste libraries which you need by yourself.</p>\n"}], "owner": {"reputation": 255, "user_id": 3857017, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0377154997e9eb82aea4a1058f026a62?s=128&d=identicon&r=PG&f=1", "display_name": "user3857017", "link": "https://stackoverflow.com/users/3857017/user3857017"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5457, "favorite_count": 2, "accepted_answer_id": 29953835, "answer_count": 4, "score": 15, "last_activity_date": 1551107148, "creation_date": 1430335432, "last_edit_date": 1431545695, "question_id": 29952757, "link": "https://stackoverflow.com/questions/29952757/vs2013-boost-using-nuget", "title": "VS2013 Boost using NuGet", "body": "<p>I have been trying for days to get boost to work with my Visual Studio 2013 Premium install. I tried it with a zip install, and now with NuGet. Both methods have gotten me to same point of a linker error.</p>\n\n<p>The error: 1>LINK : fatal error LNK1104: cannot open file 'libboost_system-vc120-mt-gd-1_57.lib'</p>\n\n<p>I looked through the mailing list for boost and found someone posting of a similar issue, but that was from 2012 with boost_1_54_0 or something, so not relevant at all to VS2013 or  boost 1_58_0. </p>\n\n<p>I've also looked at a few forum posts, including SO, but none of them have the same issue I'm having. Either that, or they simply have no replies.</p>\n\n<p>I can't really discern any of the flags that the error show because this is my first time ever using anything other than STL libraries or my own headers. </p>\n\n<p>Any and all help would be appreciated, let me know if there's any other additional info that would be helpful.</p>\n"}, {"tags": ["c#", "c++", "windows", "audio", "mixer"], "comments": [{"owner": {"reputation": 10328, "user_id": 4798077, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/A03gw.jpg?s=128&g=1", "display_name": "Ron Beyer", "link": "https://stackoverflow.com/users/4798077/ron-beyer"}, "edited": false, "score": 1, "creation_date": 1430335670, "post_id": 29952704, "comment_id": 48026402, "body": "Have you looked to see if NAudio (<a href=\"https://github.com/naudio/NAudio\" rel=\"nofollow noreferrer\">github.com/naudio/NAudio</a>) can accomplish what you want? It can enumerate input streams and select those for routing other places (like over a network). See the sample code they provide."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4847943, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PzyUu_s0w8s/AAAAAAAAAAI/AAAAAAAACkw/y0y0Tgbj0SY/photo.jpg?sz=128", "display_name": "Luke", "link": "https://stackoverflow.com/users/4847943/luke"}, "edited": false, "score": 1, "creation_date": 1430336553, "post_id": 29952902, "comment_id": 48026957, "body": "Thanks both of you for answering.  It looks like if access to the individual streams isn&#39;t possible then what I was looking to build won&#39;t be possible either.  It was solely dependent on being able to duplicate the discreet audio sources from apps running on the computer and send them to a virtual output device where they can be mixed (a la a form akin to the windows mixer).  My intention was to build a solution to live-streaming games where using voice communication with fellow players is crucial, however preventing the other player&#39;s voices from being streamed was desired."}, {"owner": {"reputation": 11, "user_id": 4847943, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PzyUu_s0w8s/AAAAAAAAAAI/AAAAAAAACkw/y0y0Tgbj0SY/photo.jpg?sz=128", "display_name": "Luke", "link": "https://stackoverflow.com/users/4847943/luke"}, "edited": false, "score": 0, "creation_date": 1430336729, "post_id": 29952902, "comment_id": 48027055, "body": "This would have also applied to anything else that would have been outputting on the same output device from your computer (Such as netflix in a browser or anything else.)  It&#39;s technically semi-possible via Virtual Audio Cable, but it&#39;s buggy at best and doesn&#39;t allow separating based on the app, but rather based on what audio output device you select for the app itself.  Not all apps have the ability to select anything other than the default device."}], "tags": [], "owner": {"reputation": 64286, "user_id": 868014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PoaTp.png?s=128&g=1", "display_name": "Roman R.", "link": "https://stackoverflow.com/users/868014/roman-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1587444714, "last_edit_date": 1587444714, "creation_date": 1430335939, "answer_id": 29952902, "question_id": 29952704, "link": "https://stackoverflow.com/questions/29952704/grab-audio-sessions-as-they-appear-in-the-windows-audio-mixer-c-or-c/29952902#29952902", "title": "Grab Audio Sessions as they appear in the windows audio mixer (C# or C++)", "body": "<p>The sessions can be enumerated using <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/dd370950%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\"><code>IAudioSessionManager2::GetSessionEnumerator</code></a> and friends (sample C++ code is <a href=\"https://matthewvaneerde.wordpress.com/2012/06/08/getting-audio-peak-meter-values-for-all-active-audio-sessions/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"http://www.alax.info/trac/public/browser/trunk/Utilities/Miscellaneous/AudioSessionVolumeNotification\" rel=\"nofollow noreferrer\">there</a>). Standard Windows volume mixer application is using this API as well. </p>\n\n<p>The API however has no access to data streams, you won't have either (you certainly don't have data whether they are downmixed or not). Neither you can reroute streams to another device. Applications are not allowed to interfere that deep. The best you can do is to create your own device, interactively select it as default output device and then accept data from applications playing audio through this device.</p>\n"}], "owner": {"reputation": 11, "user_id": 4847943, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PzyUu_s0w8s/AAAAAAAAAAI/AAAAAAAACkw/y0y0Tgbj0SY/photo.jpg?sz=128", "display_name": "Luke", "link": "https://stackoverflow.com/users/4847943/luke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1529, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1587444714, "creation_date": 1430335280, "question_id": 29952704, "link": "https://stackoverflow.com/questions/29952704/grab-audio-sessions-as-they-appear-in-the-windows-audio-mixer-c-or-c", "title": "Grab Audio Sessions as they appear in the windows audio mixer (C# or C++)", "body": "<p>I'm trying to figure out how to grab the individual audio streams as they appear in the audio mixer to reroute them to an aggregate audio device.  I'm specifically looking to keep them as discreet streams for the purposes of the program I'm making (If they're muxed down to a 2-channel mix, that defeats the purposes of what I'm trying to achieve.)</p>\n\n<p>E.X.:  (As I've just made this account, I apparently am not able to post images, so here's a link to the image)</p>\n\n<p><a href=\"http://puu.sh/hvpig/ba493b8265.png\" rel=\"nofollow\">windows audio mixer</a></p>\n\n<p>In this, I'm hoping to grab \"System Sounds\" and \"Stream Client Bootstrapper\" as discreet audio streams to route elsewhere, while maintaining their original destination as well (essentially copying the audio going to the original audio device to another simultaneously).</p>\n\n<p>I'm looking to do this in either C# or C++.  I've perused the audio APIs that microsoft has published, and while some things look to be close to what I'm trying to do, nothing has hit the nail on the head.  I appreciate any help.  Thanks.</p>\n"}, {"tags": ["c++", "assembly"], "comments": [{"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 13, "creation_date": 1430335183, "post_id": 29952656, "comment_id": 48026104, "body": "The best way to convert C++ to assembler is to use a C++ compiler."}, {"owner": {"reputation": 119, "user_id": 3005899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7qF3L.png?s=128&g=1", "display_name": "Cube3", "link": "https://stackoverflow.com/users/3005899/cube3"}, "edited": false, "score": 0, "creation_date": 1430335229, "post_id": 29952656, "comment_id": 48026135, "body": "well, I&#39;m using visual studio currently. Any recommendations on how to do so?"}, {"owner": {"reputation": 119, "user_id": 3005899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7qF3L.png?s=128&g=1", "display_name": "Cube3", "link": "https://stackoverflow.com/users/3005899/cube3"}, "reply_to_user": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1430335267, "post_id": 29952656, "comment_id": 48026159, "body": "@MikeVine I am asking a different question. I am asking how to convert the for loop into assembler."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 1, "creation_date": 1430335316, "post_id": 29952656, "comment_id": 48026200, "body": "My bad - I was thinking of <a href=\"https://stackoverflow.com/questions/29921422/high-level-to-asm-conversion\">this</a>, as I knew I saw this before."}], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 3005899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7qF3L.png?s=128&g=1", "display_name": "Cube3", "link": "https://stackoverflow.com/users/3005899/cube3"}, "edited": false, "score": 0, "creation_date": 1430338503, "post_id": 29953506, "comment_id": 48028023, "body": "If I was rated 15 I&#39;d vote you up! Thank you very much. I just wandered in this case why would the variable i be controlled by EDI?"}, {"owner": {"reputation": 9208, "user_id": 3298930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000448921471/picture?type=large", "display_name": "Jose Manuel Abarca Rodr&#237;guez", "link": "https://stackoverflow.com/users/3298930/jose-manuel-abarca-rodr%c3%adguez"}, "reply_to_user": {"reputation": 119, "user_id": 3005899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7qF3L.png?s=128&g=1", "display_name": "Cube3", "link": "https://stackoverflow.com/users/3005899/cube3"}, "edited": false, "score": 1, "creation_date": 1430338542, "post_id": 29953506, "comment_id": 48028050, "body": "it&#39;s possible to use &quot;i&quot; but EDI is more &quot;assembler&quot;."}], "tags": [], "owner": {"reputation": 9208, "user_id": 3298930, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000448921471/picture?type=large", "display_name": "Jose Manuel Abarca Rodr&#237;guez", "link": "https://stackoverflow.com/users/3298930/jose-manuel-abarca-rodr%c3%adguez"}, "is_accepted": true, "score": 1, "last_activity_date": 1430338389, "last_edit_date": 1430338389, "creation_date": 1430338048, "answer_id": 29953506, "question_id": 29952656, "link": "https://stackoverflow.com/questions/29952656/how-to-convert-for-loop-in-c-to-assembler/29953506#29953506", "title": "How to convert for loop in c++ to assembler?", "body": "<p>Next is the code for the \"for\" statement converted into assembler, register EDI is used as the control variable \"i\", if EDI is been changed by \"encrypt21\", just push it before and pop it after \"call encrypt21\" to preserve-restore its value. I changed the parameter \"length\" by \"len\" because the name gave me problems :</p>\n\n<pre><code>void encrypt_chars(int len, char EKey)\n{   char temp_char;\n\n__asm {   mov  edi, 0           ;FOR ( EDI = 0;\n\n        fori:\n\n        ;GET CURRENT CHAR.\n\n          mov  al, OChars[edi]\n          mov  temp_char, al\n\n        ;ENCRYPT CURRENT CHAR.\n\n          push   eax              // save register values on stack to be safe\n          push   ecx\n          movzx  ecx,temp_char  // set up registers (Nb this isn't StdCall or Cdecl)\n          lea    eax,EKey\n          call   encrypt12              // encrypt the character\n          mov    temp_char,al\n          pop    ecx        // restore original register values from stack\n          pop    eax \n\n       ;STORE ENCRYPTED CHAR.\n\n          mov  al, temp_char\n          mov  EChars[ edi ], al\n\n       ;FOR STATEMENT : FOR ( EDI = 0; EDI &lt; LEN, EDI++ )\n\n          inc  edi              ;EDI++.\n          cmp  edi, len\n          jb   fori             ;IF ( EDI &lt; LEN ) JUMP.\n      }\nreturn;\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 3005899, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7qF3L.png?s=128&g=1", "display_name": "Cube3", "link": "https://stackoverflow.com/users/3005899/cube3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 29953506, "answer_count": 1, "score": -2, "last_activity_date": 1479472253, "creation_date": 1430335118, "last_edit_date": 1479472253, "question_id": 29952656, "link": "https://stackoverflow.com/questions/29952656/how-to-convert-for-loop-in-c-to-assembler", "title": "How to convert for loop in c++ to assembler?", "body": "<p>I am trying to convert the procedure encrypt_chars to assembler. I already have some x86 in assembly in the for loop, however I am trying to convert the remainder of the procedure into assembler. I'd be appreciative if you could help me</p>\n\n<pre><code>    void encrypt_chars (int length, char EKey)\n{   char temp_char;                     // char temporary store\n\n    for (int i = 0; i &lt; length; i++)    // encrypt characters one at a time\n    {\n        temp_char = OChars [i];         //\n        __asm {                         //\n            push   eax                  // save register values on stack to be safe\n            push   ecx                  //\n                                        //\n            movzx  ecx,temp_char        // set up registers (Nb this isn't StdCall or Cdecl)\n            lea    eax,EKey             //\n            call   encrypt12                // encrypt the character\n            mov    temp_char,al         //\n                                        //\n            pop    ecx                  // restore original register values from stack\n            pop    eax                  //\n        }\n        EChars [i] = temp_char;         // Store encrypted char in the encrypted chars array\n    }\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "c++11", "vector"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 0, "creation_date": 1430335422, "post_id": 29952650, "comment_id": 48026265, "body": "It is possible to pull of such a capability. However, that is a very dangerous strategy. I would advise against following up on that strategy."}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 3410722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f44c58633e7ca442c1b337cd5beb147?s=128&d=identicon&r=PG&f=1", "display_name": "hrkz", "link": "https://stackoverflow.com/users/3410722/hrkz"}, "edited": false, "score": 0, "creation_date": 1430335628, "post_id": 29952733, "comment_id": 48026381, "body": "I&#39;ve thinked about it, the problem is that the Matrix class possesses some functions like &quot;sum&quot;, &quot;trace&quot;, and I&#39;d like to use them on the referred Block as well.."}, {"owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "reply_to_user": {"reputation": 368, "user_id": 3410722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f44c58633e7ca442c1b337cd5beb147?s=128&d=identicon&r=PG&f=1", "display_name": "hrkz", "link": "https://stackoverflow.com/users/3410722/hrkz"}, "edited": false, "score": 0, "creation_date": 1430335671, "post_id": 29952733, "comment_id": 48026405, "body": "@Raakz Then implement them for a <code>MatrixRef</code> argument as well :)"}, {"owner": {"reputation": 368, "user_id": 3410722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f44c58633e7ca442c1b337cd5beb147?s=128&d=identicon&r=PG&f=1", "display_name": "hrkz", "link": "https://stackoverflow.com/users/3410722/hrkz"}, "edited": false, "score": 0, "creation_date": 1430335928, "post_id": 29952733, "comment_id": 48026571, "body": "If its the only solution, I&#39;ll go for it, I just thought it was a bit repetitive to do so"}, {"owner": {"reputation": 10317, "user_id": 666785, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/NIzSh.jpg?s=128&g=1", "display_name": "sbabbi", "link": "https://stackoverflow.com/users/666785/sbabbi"}, "reply_to_user": {"reputation": 368, "user_id": 3410722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f44c58633e7ca442c1b337cd5beb147?s=128&d=identicon&r=PG&f=1", "display_name": "hrkz", "link": "https://stackoverflow.com/users/3410722/hrkz"}, "edited": false, "score": 0, "creation_date": 1430340605, "post_id": 29952733, "comment_id": 48029264, "body": "@Raakz Use <a href=\"http://en.wikipedia.org/wiki/Curiously_recurring_template_pattern\" rel=\"nofollow noreferrer\">CRTP</a> to code the functions only once."}], "tags": [], "owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "is_accepted": false, "score": 1, "last_activity_date": 1430335355, "creation_date": 1430335355, "answer_id": 29952733, "question_id": 29952650, "link": "https://stackoverflow.com/questions/29952650/an-object-containing-a-vector-referring-to-another-vectors-content/29952733#29952733", "title": "An object containing a vector referring to another vector&#39;s content", "body": "<p>Even when implemented correctly, I'd argue that your behavior is counter-intuitive.</p>\n\n<p>Make a seperate <code>MatrixRef</code> class that acts as a reference to a (subset of) a <code>Matrix</code>. This should also make implementation fairly straightforward.</p>\n"}], "owner": {"reputation": 368, "user_id": 3410722, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f44c58633e7ca442c1b337cd5beb147?s=128&d=identicon&r=PG&f=1", "display_name": "hrkz", "link": "https://stackoverflow.com/users/3410722/hrkz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430339012, "creation_date": 1430335100, "last_edit_date": 1430339012, "question_id": 29952650, "link": "https://stackoverflow.com/questions/29952650/an-object-containing-a-vector-referring-to-another-vectors-content", "title": "An object containing a vector referring to another vector&#39;s content", "body": "<p>My problem is hard to explain, so I'll take the scenario itself as example:\nI have a templated Matrix class, which is using a std::vector as storage.</p>\n\n<p>What I'm looking for is having a \"row\", or \"block\" method, capable to return another Matrix with a smaller size, but referring to its parent.</p>\n\n<p>With this piece of code:</p>\n\n<pre><code>Matrix&lt;float&gt; mat(2, 2);\n// Filling the matrix\nMatrix&lt;float&gt; row = mat.row(0); // returns a 1x2 matrix(row vector)\nrow[1] = 10; // Here I modify the row, which reflects the modifications in mat\nstd::cout &lt;&lt; mat(0, 1); // prints 10\n</code></pre>\n\n<p>I have been thinking about multiple solutions but all of them have some non-negligible downsides.\nDo you have any ideas about how to achieve this?\nThanks!</p>\n\n<p>EDIT 1 :\nI forgot to precise, the behavior should be recursive, like getting a block of another block, etc.</p>\n"}, {"tags": ["c++", "poco-libraries"], "comments": [{"owner": {"reputation": 3764, "user_id": 487296, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OK5ah.jpg?s=128&g=1", "display_name": "rsc", "link": "https://stackoverflow.com/users/487296/rsc"}, "edited": false, "score": 0, "creation_date": 1430335487, "post_id": 29952599, "comment_id": 48026297, "body": "I haven&#39;t tried this yet, but maybe you could use openFrameworks: <a href=\"http://openframeworks.cc/about/\" rel=\"nofollow noreferrer\">openframeworks.cc/about</a>"}, {"owner": {"reputation": 6192, "user_id": 2041317, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/58b0m.png?s=128&g=1", "display_name": "cup", "link": "https://stackoverflow.com/users/2041317/cup"}, "edited": false, "score": 0, "creation_date": 1430339474, "post_id": 29952599, "comment_id": 48028612, "body": "Which version: Basic, Complete or Extended?  Which compiler are you using?  How are you building it?  Are you using one of the cmd files supplied?  Are you building the Windows version or the Android version?"}, {"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1430341482, "post_id": 29952599, "comment_id": 48029777, "body": "I&#39;m creating my own Visual Studio 2013 projects for Foundation, Crypto, Data, etc.  These are building static libraries.  As mentioned, I&#39;m building Android, iOS, and Windows -- all with my own hand-built project files.The Android version seems to build fine, but I&#39;m having this one particular issue on Windows.  What I&#39;ve done for the moment is just include &quot;Process.cpp&quot; in my &quot;Foundation&quot; project -- not the &quot;Process_WIN32U.cpp&quot; file.  This seems like it won&#39;t work properly, but the Win32U file has no access to the &quot;getEnvironmentVariablesBuffer&quot; function because it&#39;s static to &quot;Process.cpp&quot;."}, {"owner": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430343934, "post_id": 29952599, "comment_id": 48031083, "body": "Poco builds smoothly out-of-the-box on Windows, Linux and OSX as well as for iOS and Android. On windows, VS solutions for versions 2008-2013 are provided. Additionally, there is CMake support as well as two build scripts - <a href=\"https://github.com/pocoproject/poco/blob/develop/buildwin.cmd\" rel=\"nofollow noreferrer\">batch file</a> and <a href=\"https://github.com/pocoproject/poco/blob/develop/buildwin.ps1\" rel=\"nofollow noreferrer\">PowerShell</a>. You must be doing something strange and it would help if you post some more information, e.g. what version of poco, how are you building it and what are exactly the errors."}, {"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1430345804, "post_id": 29952599, "comment_id": 48031833, "body": "The version I&#39;m building is from last Friday, downloaded directly from the website.  I&#39;m not using the out-of-the-box build scripts because they don&#39;t product what I need.  As already stated, I&#39;m manually creating VS 2013 project files for each chunk of Poco and building static libraries.  The only issue I have so far with the &quot;Foundation&quot; project is above in my original post.  From what I can see, it&#39;s impossible for that file to access that &quot;external&quot; function because it&#39;s wrapped in an unnamed namespace in the other file.  So which of the two files should be in my project?"}, {"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "edited": false, "score": 0, "creation_date": 1430345930, "post_id": 29952599, "comment_id": 48031884, "body": "NOTE: I don&#39;t think this is a question for people who just use the automated build scripts.  It&#39;s a deeper level question as to how the plain vs. Win32U files are structured.  From what I can see looking at the source, there&#39;s no way the Win32U version could ever compile."}, {"owner": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430437193, "post_id": 29952599, "comment_id": 48078683, "body": "There certainly is a way because I build it almost daily, see e.g. <a href=\"https://github.com/pocoproject/poco/blob/develop/Foundation/src/File.cpp#L22-L36\" rel=\"nofollow noreferrer\">File.cpp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1430500455, "creation_date": 1430500455, "answer_id": 29991607, "question_id": 29952599, "link": "https://stackoverflow.com/questions/29952599/how-to-build-the-poco-c-libraries/29991607#29991607", "title": "How to build the Poco C++ libraries", "body": "<blockquote>\n  <p>So how the heck is \"Process_WIN32U.cpp\" supposed to be able to see that function?</p>\n</blockquote>\n\n<p>ProcessWIN32U.cpp (i.e. ProcessImpl class) is able to see that function because ProcessWIN32U.cpp is <a href=\"https://github.com/pocoproject/poco/blob/9d259ac02f880a486ebef30acc4e5e83d3e87b5f/Foundation/src/Process.cpp#L64\" rel=\"nofollow\">included from Process.cpp</a> and it was not designed or meant to be used standalone - it is <a href=\"https://github.com/pocoproject/poco/blob/develop/Foundation/Foundation_x64_vs120.vcxproj#L905-L912\" rel=\"nofollow\">excluded from build</a> in POCO Visual Studio solutions.</p>\n"}, {"comments": [{"owner": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430715293, "post_id": 30022631, "comment_id": 48162825, "body": "Incorrect, see <a href=\"https://msdn.microsoft.com/en-us/library/b0084kay.aspx\" rel=\"nofollow noreferrer\">Predefined Macros</a>: <code>_WIN32 Defined for applications for Win32 and Win64. Always defined.</code>"}, {"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "reply_to_user": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430946243, "post_id": 30022631, "comment_id": 48288223, "body": "It&#39;s 100% true and 100% reproducable on two PCs in our office."}, {"owner": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430948466, "post_id": 30022631, "comment_id": 48289306, "body": "The _WIN32 macro is a global name reserved for implementers by C++ standard (see 17.4.3.2.1). As such, it is defined by MS compilers and  defining it yourself means looking for trouble. But we are really going off on a tangent. I hope I have answered your original question and would appreciate if you would accept it. We can discuss _WIN32 in another thread."}, {"owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "reply_to_user": {"reputation": 4504, "user_id": 205386, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/870668e636ef0dee2a380bfa4efccfc0?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/205386/alex"}, "edited": false, "score": 0, "creation_date": 1430950128, "post_id": 30022631, "comment_id": 48290098, "body": "I&#39;ve clicked the checkmark.  If there&#39;s something else I need to do let me know. And thanks!"}], "tags": [], "owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "is_accepted": false, "score": -1, "last_activity_date": 1430713752, "creation_date": 1430713752, "answer_id": 30022631, "question_id": 29952599, "link": "https://stackoverflow.com/questions/29952599/how-to-build-the-poco-c-libraries/30022631#30022631", "title": "How to build the Poco C++ libraries", "body": "<p>In order to get ProcessWIN32U.cpp to be included by Process.cpp, one must manually /D_WIN32 which is not defined by Visual Studio (it defines WIN32).</p>\n"}], "owner": {"reputation": 1555, "user_id": 1340021, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/7a12d786f68fedfc466c808ba67a5267?s=128&d=identicon&r=PG", "display_name": "Bungles", "link": "https://stackoverflow.com/users/1340021/bungles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1194, "favorite_count": 0, "accepted_answer_id": 29991607, "answer_count": 2, "score": 1, "last_activity_date": 1430713752, "creation_date": 1430334925, "question_id": 29952599, "link": "https://stackoverflow.com/questions/29952599/how-to-build-the-poco-c-libraries", "title": "How to build the Poco C++ libraries", "body": "<p>I'm trying to build the Poco C++ libraries manually on Android, iOS, and windows.  After much effort I got them to build on Android, but I'm struggling a bit on Windows.</p>\n\n<p>I've had to manually edit several files already to resolve undefined symbols -- specifically File &amp; Path weren't #included properly by *_WIN32U.cpp versions.</p>\n\n<p>I'm down to what APPEARS to be my last compiler issue for \"Foundation\".  It's this line in Process_WIN32U.cpp:</p>\n\n<pre><code>    envChars = getEnvironmentVariablesBuffer(env);\n</code></pre>\n\n<p>The compiler error generated is:\n        \"getEnvironmentVariablesBuffer identifier not found\"</p>\n\n<p>The declaration of \"getEnvironmentVariablesBuffer\" is in Process.cpp but it's not a member of the root class, there are no EXTERN references anywhere, and no header file contains the function declaration.</p>\n\n<p>So how the heck is \"Process_WIN32U.cpp\" supposed to be able to see that function?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "linux", "linux-kernel", "posix", "linux-device-driver"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1430334975, "post_id": 29952576, "comment_id": 48025979, "body": "There shouldn&#180;t be any problems."}, {"owner": {"reputation": 127, "user_id": 4831464, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628f48c946181ba59a67ea5d53e689ad?s=128&d=identicon&r=PG&f=1", "display_name": "Don&#39;t stop forking", "link": "https://stackoverflow.com/users/4831464/dont-stop-forking"}, "edited": false, "score": 0, "creation_date": 1430335336, "post_id": 29952576, "comment_id": 48026210, "body": "C++11 came with some built in multi threading capabilities you may want to look into."}, {"owner": {"reputation": 85, "user_id": 4214942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000657900488/picture?type=large", "display_name": "Shikhar Srivastava", "link": "https://stackoverflow.com/users/4214942/shikhar-srivastava"}, "edited": false, "score": 0, "creation_date": 1430335595, "post_id": 29952576, "comment_id": 48026366, "body": "In c++ we will be including various standard c++ libraries. Wouldn&#39;t there be any name clashing ? And also wouldn&#39;t there be name mangling in c++ ?"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 4214942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000657900488/picture?type=large", "display_name": "Shikhar Srivastava", "link": "https://stackoverflow.com/users/4214942/shikhar-srivastava"}, "edited": false, "score": 0, "creation_date": 1430335397, "post_id": 29952609, "comment_id": 48026245, "body": "In c++ we will be including various standard c++ libraries. Wouldn&#39;t there be any name clashing ? And also wouldn&#39;t there be name mangling in c++ ?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 85, "user_id": 4214942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000657900488/picture?type=large", "display_name": "Shikhar Srivastava", "link": "https://stackoverflow.com/users/4214942/shikhar-srivastava"}, "edited": false, "score": 1, "creation_date": 1430335588, "post_id": 29952609, "comment_id": 48026360, "body": "@ShikharSrivastava Name clashing is solved using namespaces explicitely, also name mangling of c system functions is solved using <code>extern &quot;C&quot;</code> with their declarations. I&#39;m often writing C++ code just wrapping those POSIX API&#39;s, it works pretty well."}, {"owner": {"reputation": 10078, "user_id": 2709018, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p98Vl.png?s=128&g=1", "display_name": "myaut", "link": "https://stackoverflow.com/users/2709018/myaut"}, "edited": false, "score": 0, "creation_date": 1430342966, "post_id": 29952609, "comment_id": 48030592, "body": "Not quite. exit, longjmp and fork are ok in C, but can break RAII in C++, need to be careful with them."}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 1, "last_activity_date": 1430335162, "last_edit_date": 1430335162, "creation_date": 1430334963, "answer_id": 29952609, "question_id": 29952576, "link": "https://stackoverflow.com/questions/29952576/can-we-use-the-posix-c-libraries-in-c/29952609#29952609", "title": "Can we use the POSIX C libraries in c++?", "body": "<blockquote>\n  <p><em>\"Can we use all the functions defined in POSIX C libraries in c++ without any change ?\"</em></p>\n</blockquote>\n\n<p>Of course you can. Any c-style API can be used seamlessly in c++.</p>\n"}, {"comments": [{"owner": {"reputation": 12261, "user_id": 3866447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52ieQ.jpg?s=128&g=1", "display_name": "Sam Protsenko", "link": "https://stackoverflow.com/users/3866447/sam-protsenko"}, "edited": false, "score": 0, "creation_date": 1430355854, "post_id": 29955472, "comment_id": 48035175, "body": "Also if there any stuff like <code>int class;</code> or <code>int template;</code> in C header -- it may not work in C++ as those are language keywords in C++ (but not in pure C). But odds are really small though."}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "reply_to_user": {"reputation": 12261, "user_id": 3866447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/52ieQ.jpg?s=128&g=1", "display_name": "Sam Protsenko", "link": "https://stackoverflow.com/users/3866447/sam-protsenko"}, "edited": false, "score": 2, "creation_date": 1430408208, "post_id": 29955472, "comment_id": 48063625, "body": "@SamProtsenko That&#39;s what I meant by &quot;blithely using some C++ keyword as a declared-name&quot;."}], "tags": [], "owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "is_accepted": false, "score": 6, "last_activity_date": 1430408974, "last_edit_date": 1430408974, "creation_date": 1430345511, "answer_id": 29955472, "question_id": 29952576, "link": "https://stackoverflow.com/questions/29952576/can-we-use-the-posix-c-libraries-in-c/29955472#29955472", "title": "Can we use the POSIX C libraries in c++?", "body": "<p><em>In principle</em> you should be able to use any C API from C++; the language includes features to facilitate it, and most C library authors are aware that people want to do this and will take the appropriate steps.  For the system programming interfaces specified by POSIX, C++ compatibility is an explicit design goal. </p>\n\n<p>However, you may still encounter problems.  In my experience, the most common problems are:</p>\n\n<ol>\n<li>C API headers often dump hundreds of symbols into the global namespace.  Some of those symbols may conflict with C++ library symbols, which will get you in trouble if you <code>using namespace std</code> (but you weren't doing that, right?)</li>\n<li>C API headers often make heavy use of macros, including macro names that, yep, might conflict with C++ library symbols; <code>std::</code> won't save you there.</li>\n<li>Compiling your program in a strict conformance mode (e.g. <code>-std=c++11 -D_XOPEN_SOURCE=700</code>) may expose bugs in system headers.  This is more likely to happen with C++ than C.</li>\n<li>A small handful of the POSIX APIs have abnormal control-flow behavior that <em>may</em> interact poorly with C++ exceptions and destructors, depending on how thorough your C library implementor was about avoiding the problem.  <code>setjmp</code> and <code>longjmp</code> are obviously a concern here (has anyone done a C library that implements those <em>on top of</em> DWARF-style exception handling?) but so are <code>fork</code>, <code>setcontext</code> and friends, <code>pthread_cancel</code>, <code>pthread_cleanup_push</code>, and probably a few others I can't remember off the top of my head.  (I recall a giant, ultimately inconclusive argument between Ulrich Drepper and the GCC C++ guys back in 2004 or so about exactly how <code>pthread_cancel</code> should behave in the presence of destructors.)</li>\n</ol>\n\n<p>If you go beyond POSIX, you may also have problems with:</p>\n\n<ol>\n<li>Headers that don't bother to wrap all the declarations in an <code>extern \"C\"</code> block when compiled as C++, which means all the function names get mangled when they shouldn't have been, and the link fails.</li>\n<li>Headers that don't even bother to stick to the intersection of C and C++.  In the worst case, this can cause failures that don't manifest until the program is run.  The most common instances of this are:\n<ul>\n<li>Blithely using some C++ keyword as a declared-name (e.g. <code>int template;</code>)</li>\n<li>Assuming that <code>void *</code> is assignment compatible with other pointer types (e.g. that it is not necessary to cast the result of <code>malloc</code>)</li>\n<li>Assuming that <code>struct foo;</code> does <em>not</em> define a typedef-name <code>foo</code></li>\n</ul></li>\n</ol>\n\n<p>Note that the <em>headers</em> specified by POSIX frequently contain system-specific extensions that have not been as carefully thought out as the POSIX interfaces themselves.</p>\n"}], "owner": {"reputation": 85, "user_id": 4214942, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/100000657900488/picture?type=large", "display_name": "Shikhar Srivastava", "link": "https://stackoverflow.com/users/4214942/shikhar-srivastava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2449, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1430408974, "creation_date": 1430334866, "question_id": 29952576, "link": "https://stackoverflow.com/questions/29952576/can-we-use-the-posix-c-libraries-in-c", "title": "Can we use the POSIX C libraries in c++?", "body": "<p>I am new in the field of Linux system programming.I currently program in C and want to switch to c++.</p>\n\n<p>Can we use all the functions defined in POSIX C libraries in c++ without any change ?</p>\n"}, {"tags": ["c++", "class", "share"], "comments": [{"owner": {"reputation": 1130, "user_id": 3494492, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/j7gkb.png?s=128&g=1", "display_name": "kiwixz", "link": "https://stackoverflow.com/users/3494492/kiwixz"}, "edited": false, "score": 4, "creation_date": 1430334557, "post_id": 29952393, "comment_id": 48025750, "body": "Try without including classa.hpp in classb.hpp"}, {"owner": {"reputation": 2626, "user_id": 3243563, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/100002431404708/picture?type=large", "display_name": "laurisvr", "link": "https://stackoverflow.com/users/3243563/laurisvr"}, "edited": false, "score": 0, "creation_date": 1430335049, "post_id": 29952393, "comment_id": 48026021, "body": "In this particular case it might help to just include the classa.hpp in classb.cpp and classb.hpp in classa.cpp."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1430335063, "post_id": 29952393, "comment_id": 48026033, "body": "<b><i>Something like classb don&#39;t name a type...any ideas?</i></b> I would search for circular include to understand the reason for the first comment."}], "answers": [{"comments": [{"owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "edited": false, "score": 0, "creation_date": 1430361308, "post_id": 29953773, "comment_id": 48036766, "body": "Thanks for the info :)"}], "tags": [], "owner": {"reputation": 90, "user_id": 4848077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e45f6834d8652cd3c89d0b6a352aed7?s=128&d=identicon&r=PG&f=1", "display_name": "Violeta Marin", "link": "https://stackoverflow.com/users/4848077/violeta-marin"}, "is_accepted": true, "score": 2, "last_activity_date": 1430338875, "creation_date": 1430338875, "answer_id": 29953773, "question_id": 29952393, "link": "https://stackoverflow.com/questions/29952393/passing-value-between-classes/29953773#29953773", "title": "Passing value between classes", "body": "<p>In classb.hpp, the forward declaration of classa is sufficient (class classa;). You do not need to include classa.hpp. Including it will cause a circular dependency: classb.hpp includes classa.hpp, which also includes classb.hpp etc. </p>\n\n<p>So:</p>\n\n<pre><code>#ifndef classb_inc\n#define classb_inc\n\n//#include \"classa.hpp\" -&gt; not ok and useless\n\nclass classa; // =&gt; ok\n</code></pre>\n\n<p>classa.hpp needs to be included in classb.cpp, though, because it needs to know about its implementation.</p>\n\n<pre><code>#include \"classb.hpp\"\n#include \"classa.hpp\" \n\nclassb::classb (int _b) : b(_b) {}\n\nclassb::classb (classa *ca) {\n    b = ca-&gt;get_a (); //needs to know if classa indeed has a get_a() method\n}\n\nint classb::get_b () const {\n    return b;\n}\n</code></pre>\n\n<p>Those changes made the code compile successfully. </p>\n"}, {"tags": [], "owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "is_accepted": false, "score": 2, "last_activity_date": 1430339102, "creation_date": 1430339102, "answer_id": 29953848, "question_id": 29952393, "link": "https://stackoverflow.com/questions/29952393/passing-value-between-classes/29953848#29953848", "title": "Passing value between classes", "body": "<p>Your <code>classb.cpp</code>:</p>\n\n<pre><code>#include \"classb.hpp\"\n\n...\n</code></pre>\n\n<p>The compiler expands the <code>#include</code> macro, and inserts <code>classb.hpp</code>:</p>\n\n<pre><code>#ifndef classb_inc\n#define classb_inc\n\n#include \"classa.hpp\"\n...\nclass classb {\n...\n};\n#endif\n\n...\n</code></pre>\n\n<p>It expands the new <code>#include</code> macro, and inserts <code>classa.hpp</code>:</p>\n\n<pre><code>#ifndef classb_inc\n#define classb_inc\n\n#ifndef classa_inc\n#define classa_inc\n\n#include \"classb.hpp\"\n\n...\nclassb tmp;\n...\n#endif\n\nclass classb {\n...\n};\n...\n#endif\n\n...\n</code></pre>\n\n<p>The compiler expands <em>that</em> <code>#include</code> macro, and inserts <code>classb.hpp</code> again:</p>\n\n<pre><code>#ifndef classb_inc\n#define classb_inc  &lt;--\n\n#ifndef classa_inc\n#define classa_inc\n\n#ifndef classb_inc  &lt;--\n...\n#endif\n\n...\nclassb tmp;  &lt;--\n...\n#endif\n\nclass classb {\n...\n};\n...\n#endif\n\n...\n</code></pre>\n\n<p>Notice the two marked lines; the first defines <code>classb_inc</code>, so the second omits everything until the <code>#endif</code>. This is correct behavior for an include-guard. But now there is no definition of <code>classb</code> before the third marked line, and the compiler complains that it doesn't know what a <code>classb</code> is.</p>\n\n<p>The solution: <code>classb.hpp</code> need not include <code>classa.hpp</code>.</p>\n\n<pre><code>#ifndef classb_inc\n#define classb_inc\n\n//#include \"classa.hpp\"\n\nclass classa;\n\nclass classb {\n...\n};\n</code></pre>\n"}], "owner": {"reputation": 1560, "user_id": 2030219, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6314bf166040bf1eb9deb3a6c03d6864?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/2030219/joel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 29953773, "answer_count": 2, "score": 0, "last_activity_date": 1430339102, "creation_date": 1430334278, "question_id": 29952393, "link": "https://stackoverflow.com/questions/29952393/passing-value-between-classes", "title": "Passing value between classes", "body": "<p>I'm tryng to pass value between two classes:</p>\n\n<pre><code>#ifndef classa_inc\n#define classa_inc\n\n#include \"classb.hpp\"\n\nclass classa {\n    private:\n        int a;\n        classb tmp;\n    public:\n        classa(int);\n        classa ();\n        int get_a() const;\n        int get_b() const;\n};\n\n#endif\n\n// ..\n\n#include \"classa.hpp\"\n\nclassa::classa (int _a) : a(_a), tmp(30) {}\nclassa::classa () : a(20), tmp(30) {}\n\nint classa::get_a () const {\n    return a;\n}\n\nint classa::get_b () const {\n    return tmp-&gt;get_b ();\n}\n\n// ..\n\n#ifndef classb_inc\n#define classb_inc\n\n#include \"classa.hpp\"\n\nclass classa;\n\nclass classb {\n    private:\n        classa *ca;\n        int b;\n    public:\n        classb (int);\n        classb (classa *);\n        int get_b () const;\n};\n\n#endif\n\n// ..\n\n#include \"classb.hpp\"\n\nclassb::classb (int _b) : b(_b) {}\n\nclassb::classb (classa *ca) {\n    b = ca-&gt;get_a ();\n}\n\nint classb::get_b () const {\n    return b;\n}\n\n// ...\n#include &lt;iostream&gt;\n#include \"classa.hpp\"\n#include \"classb.hpp\"\n\nint main () {\n    classa a(10);\n    classa a1; // 20\n    classb b(&amp;a1); // pass 20\n    std::cout &lt;&lt; a.get_a() &lt;&lt; std::endl; // 10\n    std::cout &lt;&lt; a.get_b() &lt;&lt; std::endl; // 30\n    std::cout &lt;&lt; b.get_b() &lt;&lt; std::endl; // 20\n    return 0;\n}\n</code></pre>\n\n<p>I've reading some blogs and tutorials about the topic and I'd like to ask you guys if this the propper way of doing it or there are another way or workaround about doing it, because I got error:</p>\n\n<p>classa.hpp:9:3: error: \u2018classb\u2019 no nombra a un tipo</p>\n\n<p>Something like classb don't name a type...any ideas?</p>\n"}, {"tags": ["c++", "qt", "qpainter"], "answers": [{"tags": [], "owner": {"reputation": 8160, "user_id": 1035613, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b4d6ce44848765d7b02e4309c9efe9bb?s=128&d=identicon&r=PG", "display_name": "Dmitry Sazonov", "link": "https://stackoverflow.com/users/1035613/dmitry-sazonov"}, "is_accepted": true, "score": 4, "last_activity_date": 1430334880, "creation_date": 1430334880, "answer_id": 29952585, "question_id": 29952369, "link": "https://stackoverflow.com/questions/29952369/program-not-drawing-line-with-qpainter/29952585#29952585", "title": "Program not drawing line with QPainter", "body": "<p>You typed a wrong signature. You need <code>void paintEvent( QPaintEvent *e );</code>. It is good practice to use an <code>override</code> keyword to prevent such errors.</p>\n"}], "owner": {"reputation": 335, "user_id": 3830784, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e99c42399c833b0ace266cd1b49806e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3830784", "link": "https://stackoverflow.com/users/3830784/user3830784"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 0, "accepted_answer_id": 29952585, "answer_count": 1, "score": 0, "last_activity_date": 1430335540, "creation_date": 1430334191, "last_edit_date": 1430335540, "question_id": 29952369, "link": "https://stackoverflow.com/questions/29952369/program-not-drawing-line-with-qpainter", "title": "Program not drawing line with QPainter", "body": "<p>I have a program and I am attempting to draw a line on a widget.  Here is the code that I have:</p>\n\n<p>header:</p>\n\n<pre><code>#include &lt;QWidget&gt;\n#include &lt;QtWidgets&gt;\nclass DrawingWidget : public QWidget{\n    Q_OBJECT\npublic:\n    explicit DrawingWidget(QWidget *parent = 0);\n    ~DrawingWidget();\n    QSize minimumSizeHint() const;\n    QSize sizeHint() const;\nprotected:\n    void paintEvent(QEvent *);\n}\n</code></pre>\n\n<p>I also have a slot in the actual program, but at the moment it is commented out while I try to find this bug.</p>\n\n<p>The Code:</p>\n\n<pre><code>DrawingWidget::DrawingWidget(QWidget *parent) : QWidget(parent){\nupdate();\n}\nDrawingWidget::~DrawingWidget(){\n}\nQSize DrawingWidget::minimumSizeHint() const{\n    return QSize(50,30);\n}\nQSize DrawingWidget::sizeHint() const{\n    return QSize(150,50);\n}\nvoid DrawingWidget::paintEvent(QEvent *){\n    qDebug() &lt;&lt; \"paint event called\";\n    QPainter(this);\n    QPen drawPen(Qt::black, 3);\n    QPoint leftLinePoint(10,20);\n    QPoint rightLinePoint(50,20);\n    painter.setPen(drawPen);\n    painter.drawLine(leftLinePoint, rightLinePoint);\n}\n</code></pre>\n\n<p>This widget is included in another program, which has the following constructor:</p>\n\n<pre><code>DataDisplayWidget::DataDisplayWidget(QWidget *parent) : QWidget(parent){\n//other unrelated code\ndisplayBox = new QGroupBox(\"Lines\");\nQBoxLayout *mainLayout = new QBoxLayout(QBoxLayout::LeftToRight);\nQGridLayout *displayLayout = new QGridLayout;\nmyWidget = new DrawingWidget;\ndisplayLayout-&gt;addWidget(myWidget);\ndisplayBox-&gt;setLayout(displayLayout);\n//add other things to main layout\nmainLayout-&gt;addWidget(displayBox);\nsetLayout(mainLayout);\n}\n</code></pre>\n\n<p>The DisplayDataWidget is then used in the main window, which has the following code:</p>\n\n<pre><code>MainWindow::MainWindow(QWidget *parent) : QMainWindow(parent){\n//a bunch of unrelated constructor code\ncreateDataDisplayWidget();\n//more unrelated code\n}\nvoid MainWindow::createDataDisplayWidget(){\nDataDisplayWidget *thisWidget = new DataDisplayWidget;\nQDockWidget *dock = new QDockWidget(\"Displayed Data\", this);\ndock-&gt;setWidget(thisWidget);\ndock-&gt;setAllowedAreas(Qt::BottomDockWidgetArea);\naddDockWidget(Qt::BottomDockWidgetArea, dock);\n//connections\n}\n</code></pre>\n\n<p>So, a brief summary.  I have my program which starts from main.cpp, and launches a QMainWindow object.  This QMainWindow object then creates a dock widget, which includes another widget, which includes my drawing widget.  From testing the drawing widget code in another program (which is working), the actual drawing of lines should run just fine and draw a black line that is visible on the screen.  However, in testing with this program, I never get the line, nor do I get the debug message \"paint event called\".</p>\n\n<p>What am I missing to be able to get the paintEvent triggered?</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 2, "creation_date": 1430334011, "post_id": 29952215, "comment_id": 48025431, "body": "This is also tagged with C++, is that on purpose?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1430334176, "post_id": 29952215, "comment_id": 48025529, "body": "Make it <code>valid = (fread((void*)(&amp;vals), 1, 6 * sizeof(float), file) == 6 * sizeof(float));</code> and(!) check that <code>valid</code>"}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1430334207, "post_id": 29952215, "comment_id": 48025550, "body": "@AndyG this is using C syntax but I am compiling it as C++ code"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 4, "creation_date": 1430334390, "post_id": 29952215, "comment_id": 48025650, "body": "<a href=\"http://stackoverflow.com/questions/5431941/why-is-while-feof-file-always-wrong\">Why is \u201cwhile ( !feof (file) )\u201d always wrong?</a>"}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "edited": false, "score": 0, "creation_date": 1430334437, "post_id": 29952215, "comment_id": 48025679, "body": "@DieterL&#252;cking returns the same"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430335264, "post_id": 29952215, "comment_id": 48026156, "body": "@manatttta: Regarding your latest edit, what is <code>(...)</code>? Please, for the love of programming create a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 4, "creation_date": 1430335423, "post_id": 29952215, "comment_id": 48026266, "body": "Try opening in binary <code>fopen(&quot;file.bin&quot;, &quot;rb&quot;)</code> so that characters equal to the ASCII EOF (aka 26 aka 0x1A aka Ctrl-Z) are not treated as the end of the file."}, {"owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1430336072, "post_id": 29952215, "comment_id": 48026658, "body": "@BenVoigt solved it!!! thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 4, "last_activity_date": 1430337477, "last_edit_date": 1430337477, "creation_date": 1430336947, "answer_id": 29953184, "question_id": 29952215, "link": "https://stackoverflow.com/questions/29952215/fread-and-fgetc-in-the-same-file-stream-not-working/29953184#29953184", "title": "fread and fgetc in the same file stream not working", "body": "<blockquote>\n  <p>it simply stops parsing (way way before the end of the file).</p>\n</blockquote>\n\n<p>You and the C Standard library are having a difference of opinion about where the end of the file is.  ASCII character EOF (for DOS/Windows: decimal 26, hex 1A, aka Ctrl+Z, for Unix/Linux: decimal 4, hex 04, aka Ctrl+D) is a control character meaning \"end of file\".  There's also the file length stored by the filesystem metadata.</p>\n\n<p>The C stdio functions can operate in several modes: text, default, binary, and these control several behaviors:</p>\n\n<ul>\n<li>Newline translations (implementation-defined): enabled in text mode, disabled in binary mode, default: ???</li>\n<li>End of file: Implementation-defined, but usually EOF character in text mode, by filesystem file length in binary mode, default: ???</li>\n</ul>\n\n<p>Since your file contains binary data, you should force binary mode by using <code>\"b\"</code> in the mode string to <code>fopen</code>, e.g.</p>\n\n<pre><code>FILE* file = fopen(\"file.bin\", \"rb\");\n</code></pre>\n\n<p>When you do so, characters with value 26 are treated like any other byte and lose their \"EOF\" meaning.</p>\n"}], "owner": {"reputation": 2802, "user_id": 3661207, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/tzrwF.jpg?s=128&g=1", "display_name": "manatttta", "link": "https://stackoverflow.com/users/3661207/manatttta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 29953184, "answer_count": 1, "score": 1, "last_activity_date": 1430337477, "creation_date": 1430333737, "last_edit_date": 1430334818, "question_id": 29952215, "link": "https://stackoverflow.com/questions/29952215/fread-and-fgetc-in-the-same-file-stream-not-working", "title": "fread and fgetc in the same file stream not working", "body": "<p>I have a binary file with the following repeating format: 6 float values + 3 unsigned char (byte`, integer value from 0 to 255) values.</p>\n\n<p>I am parsing it like this:</p>\n\n<pre><code>FILE *file = fopen(\"file.bin\", \"r\");\nbool valid = true;\n\nwhile(!feof(file)) {\n\n  float vals[6];\n  valid = valid &amp;&amp; (fread((void*)(&amp;vals), sizeof(float), 6, file) == 6);\n  unsigned char a,b,c;\n  a = fgetc(file); b = fgetc(file); c = fgetc(file); \n\n  (...)\n\n}\n</code></pre>\n\n<p>This works fine for the first 30 iterations or so, but after that it simply stops parsing (way way before the end of the file).</p>\n\n<p>What could be wrong?</p>\n\n<p>I also tried parsing the <code>unsigned char</code> bytes with </p>\n\n<pre><code>fread((void*)&amp;(a), sizeof(unsigned char), 1, file);\n</code></pre>\n"}, {"tags": ["c++", "debugging", "assertion"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 4317075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ad260287c87850ccb76ad769b44cc3?s=128&d=identicon&r=PG&f=1", "display_name": "Skillapop", "link": "https://stackoverflow.com/users/4317075/skillapop"}, "edited": false, "score": 0, "creation_date": 1430371558, "post_id": 29952123, "comment_id": 48039683, "body": "Okay, from both of your answers I obviously need to put some more thinking into it... I&#39;ll try to come up with a better solution"}], "tags": [], "owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "is_accepted": false, "score": 1, "last_activity_date": 1430333463, "creation_date": 1430333463, "answer_id": 29952123, "question_id": 29952057, "link": "https://stackoverflow.com/questions/29952057/using-linked-lists-to-implement-a-stack-debug-assertion-failed/29952123#29952123", "title": "Using Linked-lists to implement a stack, debug assertion failed", "body": "<p>You are a bit confused as to what <code>append</code> does. <code>Append</code> places a value (in this case an <code>ItemType</code> x) to the <strong>end</strong> of your stack, not the front. You then assign the top of the stack to the end of the stack, and you lose the pointers to the head of your list. </p>\n\n<p>In fact, there are multiple things wrong now that I look at the rest of your code. I think you lack an understanding of what Linked Lists do, and you should go and read them yourself instead of me just dropping working code in my answer.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 4317075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ad260287c87850ccb76ad769b44cc3?s=128&d=identicon&r=PG&f=1", "display_name": "Skillapop", "link": "https://stackoverflow.com/users/4317075/skillapop"}, "edited": false, "score": 0, "creation_date": 1430371555, "post_id": 29952227, "comment_id": 48039681, "body": "Okay, from both of your answers I obviously need to put some more thinking into it... I&#39;ll try to come up with a better solution"}], "tags": [], "owner": {"reputation": 17175, "user_id": 1756636, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/92f14a1f21e57ba761c7163b2d00a78a?s=128&d=identicon&r=PG&f=1", "display_name": "SomeWittyUsername", "link": "https://stackoverflow.com/users/1756636/somewittyusername"}, "is_accepted": false, "score": 2, "last_activity_date": 1430333787, "creation_date": 1430333787, "answer_id": 29952227, "question_id": 29952057, "link": "https://stackoverflow.com/questions/29952057/using-linked-lists-to-implement-a-stack-debug-assertion-failed/29952227#29952227", "title": "Using Linked-lists to implement a stack, debug assertion failed", "body": "<p>There are several problems with your code:</p>\n\n<ul>\n<li><p>Like mentioned in another answer, <code>append</code> will add the item at the end of the list (i.e., at the bottom from stack perspective) instead of at the top.</p></li>\n<li><p>Your usage of <code>top</code> is inconsistent, you should decide what it means. Classically, top would hold or point to the last inserted element.</p></li>\n<li>You have syntax issues and you're actually redeclaring a new local variable for <code>top</code> instead of using the class member.</li>\n<li>You have memory corruption in the destructor when you explicitly call the contained list destructor.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 4317075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40ad260287c87850ccb76ad769b44cc3?s=128&d=identicon&r=PG&f=1", "display_name": "Skillapop", "link": "https://stackoverflow.com/users/4317075/skillapop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1430333787, "creation_date": 1430333261, "last_edit_date": 1430333753, "question_id": 29952057, "link": "https://stackoverflow.com/questions/29952057/using-linked-lists-to-implement-a-stack-debug-assertion-failed", "title": "Using Linked-lists to implement a stack, debug assertion failed", "body": "<p>I am currently working on implementing a stack data structure using linked lists in C++. I can compile everything fine up until the point I test my \"stack.push\" method when I receive a debug assertion failed error that I have no where near enough knowledge as to how to begin to fix it. I just started on here so I cannot post images apparently, but in short it says:</p>\n\n<pre><code>Debug Assertion Failed!\nProgram...ual studio 2013/....~\nFile:f:/dd/vctools/crt/crtw32/misc/dbgdel.cpp\nLine: 52\nExpression:_BLOCK_TYPE_IS_VALID(pHead-&gt;nBlockUse\n</code></pre>\n\n<p>and here are my codes: Stack.h</p>\n\n<pre><code>#ifndef _STACK_H\n#define _STACK_H\n\n#include \"LList.h\"\ntypedef int ItemType;\nclass Stack{\n\npublic:\n    Stack();\n    ~Stack(); \n\n    int size() { return size_; }\n    void push(ItemType x);\n    ItemType pop();\n    ItemType top() { return top_; }\n\nprivate:\n    ItemType top_;\n    void copy(const Stack &amp;source);\n    int size_;\n    LList items_;\n\n};\n#endif _STACK_H\n</code></pre>\n\n<p>stack.cpp:</p>\n\n<pre><code>#include \"Stack.h\"\n\nStack::Stack()\n{\n    size_ = 0;\n    ItemType top_ = NULL;\n}\n\nvoid Stack::push(ItemType x)\n{\n    items_.append(x);\n    size_ += 1;\n    ItemType top_ = x;\n}\nItemType Stack::pop()\n{\n    ItemType top_ = size_ - 1;\n    size_ -= 1;\n    return items_.pop();\n}\n\nStack::~Stack()\n{\n    items_.~items_();\n}\n</code></pre>\n\n<p>The error occurs after writing test code that assigns a stack and then tries to push a number onto the stack. \nAny help would be appreciated and I apologize if there are any formatting issues with my post.</p>\n"}, {"tags": ["c++", "vector", "mpi", "send", "openmpi"], "comments": [{"owner": {"reputation": 1426, "user_id": 673826, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f50a845aca7585dfa8bff6358258eabc?s=128&d=identicon&r=PG", "display_name": "mlt", "link": "https://stackoverflow.com/users/673826/mlt"}, "edited": false, "score": 1, "creation_date": 1430333802, "post_id": 29952013, "comment_id": 48025280, "body": "Have you considered <a href=\"http://www.boost.org/doc/libs/master/doc/html/mpi/tutorial.html\" rel=\"nofollow noreferrer\">Boost MPI</a>?"}, {"owner": {"reputation": 108, "user_id": 4847808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aEgmo2Gdg0U/AAAAAAAAAAI/AAAAAAAAAEg/AeBVPwFjRYQ/photo.jpg?sz=128", "display_name": "Arnab Bhadury", "link": "https://stackoverflow.com/users/4847808/arnab-bhadury"}, "reply_to_user": {"reputation": 1426, "user_id": 673826, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f50a845aca7585dfa8bff6358258eabc?s=128&d=identicon&r=PG", "display_name": "mlt", "link": "https://stackoverflow.com/users/673826/mlt"}, "edited": false, "score": 0, "creation_date": 1430333953, "post_id": 29952013, "comment_id": 48025390, "body": "I should have mentioned this, I won&#39;t be able to use Boost in our cluster... :("}, {"owner": {"reputation": 965, "user_id": 2337156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hFUjt.png?s=128&g=1", "display_name": "Dr.Tower", "link": "https://stackoverflow.com/users/2337156/dr-tower"}, "edited": false, "score": 3, "creation_date": 1430334178, "post_id": 29952013, "comment_id": 48025531, "body": "Does <code>V == phi[k].size()</code> then?  If so, my suggestion would be to replace the &amp;phi_msg[k] with &amp;phi_msg[k].front() or &amp;phi_msg[k][0]. if phi_msg is the same size as phi, then your passing a reference to a vector&lt;double&gt; rather than the start of the data."}, {"owner": {"reputation": 108, "user_id": 4847808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aEgmo2Gdg0U/AAAAAAAAAAI/AAAAAAAAAEg/AeBVPwFjRYQ/photo.jpg?sz=128", "display_name": "Arnab Bhadury", "link": "https://stackoverflow.com/users/4847808/arnab-bhadury"}, "edited": false, "score": 0, "creation_date": 1430334562, "post_id": 29952013, "comment_id": 48025751, "body": "Thanks sooo much! I come from a Java background, and still make idiotic mistakes such as this.  However, I would like to ask if there is a direct way to send the entire vector in one message... Or do I have to create an MPI_struct for that"}, {"owner": {"reputation": 4652, "user_id": 2189128, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/P19VP.jpg?s=128&g=1", "display_name": "Jeff Hammond", "link": "https://stackoverflow.com/users/2189128/jeff-hammond"}, "edited": false, "score": 0, "creation_date": 1430366710, "post_id": 29952013, "comment_id": 48038184, "body": "You can build Boost.MPI from source in user space. Why can&#39;t you use it?"}, {"owner": {"reputation": 65854, "user_id": 1374437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/34xta.png?s=128&g=1", "display_name": "Hristo &#39;away&#39; Iliev", "link": "https://stackoverflow.com/users/1374437/hristo-away-iliev"}, "edited": false, "score": 0, "creation_date": 1430379105, "post_id": 29952013, "comment_id": 48043624, "body": "You have to use <code>MPI_Type_create_struct</code>. The reason for that is that <code>std::vector</code> itself is not an array but rather a structure that contains a pointer to the actual data storage. Therefore, <code>phi</code> ends up being a collection of pointers that could point to memory areas placed completely randomly in the address space."}], "owner": {"reputation": 108, "user_id": 4847808, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aEgmo2Gdg0U/AAAAAAAAAAI/AAAAAAAAAEg/AeBVPwFjRYQ/photo.jpg?sz=128", "display_name": "Arnab Bhadury", "link": "https://stackoverflow.com/users/4847808/arnab-bhadury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1647, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1430333540, "creation_date": 1430333137, "last_edit_date": 1430333540, "question_id": 29952013, "link": "https://stackoverflow.com/questions/29952013/how-do-you-send-a-vector-of-vectors-in-mpi", "title": "How do you send a vector of vectors in MPI?", "body": "<p>So here is the problem... I have been looking at stackoverflow for a long time for a solution but nothing seems to work for me. </p>\n\n<p>I have a vector of vectors of already determined length, and I just want to pass these vectors (of vectors) around in different nodes for my algorithm during synchronization. But no matter what I do, I still get segmentation errors, which I assume has something to do with my vector's memory allocation.</p>\n\n<p>This is my code snippet:</p>\n\n<pre><code>if(world_rank == 0)\n{\n\n    std::vector&lt;std::vector&lt;double&gt; &gt; phi_msg(K,std::vector&lt;double&gt;(V));\n    for(int k = 0;k&lt;K;k++)\n    { \n        MPI_Sendrecv(&amp;phi[k].front(),phi[k].size(),MPI_DOUBLE,world_rank+1,\n                0, &amp;phi_msg[k], V, MPI_DOUBLE, world_rank+1,0,\n                MPI_COMM_WORLD,MPI_STATUS_IGNORE);\n    }\n\n    std::cout &lt;&lt; \"Message received from \" &lt;&lt; world_rank+1 &lt;&lt; std::endl;\n}\nif(world_rank == 1)\n{\n    std::vector&lt;std::vector&lt;double&gt; &gt; phi_msg(K,std::vector&lt;double&gt;(V));\n    for(int k = 0;k&lt;K;k++)\n    {\n        MPI_Sendrecv(&amp;phi[k].front(),phi[k].size(),MPI_DOUBLE,world_rank-1,\n                0, &amp;phi_msg[k], V, MPI_DOUBLE, world_rank-1,0,\n                MPI_COMM_WORLD,MPI_STATUS_IGNORE);\n    }           \n    std::cout &lt;&lt; \"Message received from \" &lt;&lt; world_rank-1 &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Here, basically I have a V X K vector of doubles that I evaluate before, and I want to pass the newly computer vector of vectors to the other processors. I have tried doing phi_next.reserve(V) but it doesn't help either.</p>\n\n<pre><code>*** Process received signal ***\nSignal: Segmentation fault (11)\nSignal code:  (128)\nFailing at address: (nil)\n*** Process received signal ***\nSignal: Segmentation fault (11)\nSignal code:  (128)\nFailing at address: (nil)\n</code></pre>\n"}, {"tags": ["c++", "windows", "path", "window", "explorer"], "answers": [{"tags": [], "owner": {"reputation": 3189, "user_id": 2855440, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/85a3bda48007f819c2c7249535882486?s=128&d=identicon&r=PG&f=1", "display_name": "Denis Anisimov", "link": "https://stackoverflow.com/users/2855440/denis-anisimov"}, "is_accepted": false, "score": -1, "last_activity_date": 1430388154, "creation_date": 1430388154, "answer_id": 29964715, "question_id": 29951909, "link": "https://stackoverflow.com/questions/29951909/get-current-path-of-windows-explorer-c/29964715#29964715", "title": "Get current path of windows explorer C++", "body": "<p>Delphi only. Translate to C++ by yourself.</p>\n\n<pre><code>function GetPathByExplorerHandle(AHandle: THandle): UnicodeString;\n\n    function GetFolderIDList(AObj: IUnknown): PItemIDList;\n    var\n      PersistFolder2: IPersistFolder2;\n      PersistIDList: IPersistIDList;\n    begin\n      if Succeeded(AObj.QueryInterface(IPersistFolder2, PersistFolder2)) then\n        try\n          if Succeeded(PersistFolder2.GetCurFolder(Result)) then Exit;\n        finally\n          PersistFolder2 := nil;\n        end;\n\n      if Succeeded(AObj.QueryInterface(IPersistIDList, PersistIDList)) then\n        try\n          if Succeeded(PersistIDList.GetIDList(Result)) then Exit;\n        finally\n          PersistIDList := nil;\n        end;\n\n      raise EOleSysError.Create('', E_NOTIMPL, 0);\n    end;\n\nvar\n  ShellWindows: IShellWindows;\n  i: Integer;\n  Dispatch: IDispatch;\n  WebBrowser2: IWebBrowser2;\n  ServiceProvider: IServiceProvider;\n  ShellBrowser: IShellBrowser;\n  ShellView: IShellView;\n  ItemIDList: PItemIDList;\n  ShellFolder: IShellFolder;\n  ChildItem: PItemIDList;\n  StrRet: TStrRet;\nbegin\n  Result := '';\n  OleCheck(CoCreateInstance(CLASS_ShellWindows, nil, CLSCTX_INPROC_SERVER or CLSCTX_LOCAL_SERVER, IShellWindows, ShellWindows));\n  try\n    for i := ShellWindows.Count - 1 downto 0 do\n      begin\n        Dispatch := ShellWindows.Item(i);\n        try\n          OleCheck(Dispatch.QueryInterface(IWebBrowser2, WebBrowser2));\n          try\n            if WebBrowser2.HWND = AHandle then\n              begin\n                OleCheck(Dispatch.QueryInterface(IServiceProvider, ServiceProvider));\n                try\n                  OleCheck(ServiceProvider.QueryService(SID_STopLevelBrowser, IShellBrowser, ShellBrowser));\n                  try\n                    OleCheck(ShellBrowser.QueryActiveShellView(ShellView));\n                    try\n                      ItemIDList := GetFolderIDList(ShellView);\n                      try\n                        OleCheck(SHBindToParent(ItemIDList, IShellFolder, Pointer(ShellFolder), ChildItem));\n                        try\n                          OleCheck(ShellFolder.GetDisplayNameOf(ChildItem, SHGDN_FORPARSING, StrRet));\n                          case StrRet.uType of\n                            STRRET_WSTR:\n                              begin\n                                Result := StrRet.pOleStr;\n                                CoTaskMemFree(StrRet.pOleStr);\n                              end;\n                            STRRET_OFFSET:\n                              if Assigned(ChildItem) then\n                                begin\n                                  Inc(PByte(ChildItem), StrRet.uOffset);\n                                  Result := UnicodeString(PAnsiChar(ChildItem));\n                                end;\n                            STRRET_CSTR:\n                              Result := UnicodeString(AnsiString(StrRet.cStr));\n                          end;\n                          Exit;\n                        finally\n                          ShellFolder := nil;\n                        end;\n                      finally\n                        CoTaskMemFree(ItemIDList);\n                      end;\n                    finally\n                      ShellView := nil;\n                    end;\n                  finally\n                    ShellBrowser := nil;\n                  end;\n                finally\n                  ServiceProvider := nil;\n                end;\n              end;\n          finally\n            WebBrowser2 := nil;\n          end;\n        finally\n          Dispatch := nil;\n        end;\n      end;\n  finally\n    ShellWindows := nil;\n  end;\nend;\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 3770186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000491614602/picture?type=large", "display_name": "omaflak", "link": "https://stackoverflow.com/users/3770186/omaflak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 732, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1430388154, "creation_date": 1430332757, "last_edit_date": 1430382512, "question_id": 29951909, "link": "https://stackoverflow.com/questions/29951909/get-current-path-of-windows-explorer-c", "title": "Get current path of windows explorer C++", "body": "<p>i actually want to detect when a specific folder is opened on Windows, but after some research it seems that it is impossible. So, I want to get the current path of windows explorer, so i could compare it to the path of the folder in question, but I can't figure it out how to get this path... I only have this function but it gives me only the name of the folder.</p>\n\n<pre><code>string GetActiveWindowTitle()\n{\n    char wnd_title[256];\n    HWND hwnd=GetForegroundWindow();\n    GetWindowText(hwnd,wnd_title,sizeof(wnd_title));\n    return wnd_title;\n}\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["c++", "qt", "opengl"], "owner": {"reputation": 3729, "user_id": 1391055, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/edbeabd2b0a1788b369790c88bb00c01?s=128&d=identicon&r=PG", "display_name": "Nyaruko", "link": "https://stackoverflow.com/users/1391055/nyaruko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430498603, "creation_date": 1430332412, "last_edit_date": 1430498603, "question_id": 29951789, "link": "https://stackoverflow.com/questions/29951789/how-to-efficiently-paint-two-qglwidget", "title": "How to efficiently paint two QGLWidget?", "body": "<p>I have two different <code>QGLWidget</code>, and they all have their own shaders.</p>\n\n<p>In case of performance, shall I use two different shaders or I shall write two shaders into one shader and use a uniform value to trigger which shader I should use now?</p>\n\n<p>If So, how can I use one shader in different <code>QGLWidgets</code>?</p>\n"}, {"tags": ["c++", "linux", "boost-asio"], "answers": [{"tags": [], "owner": {"reputation": 48017, "user_id": 1053968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356f892f0e96a3615ae44f6d815c5b0f?s=128&d=identicon&r=PG", "display_name": "Tanner Sansbury", "link": "https://stackoverflow.com/users/1053968/tanner-sansbury"}, "is_accepted": true, "score": 0, "last_activity_date": 1430338609, "last_edit_date": 1495535046, "creation_date": 1430338609, "answer_id": 29953698, "question_id": 29951773, "link": "https://stackoverflow.com/questions/29951773/obtaining-the-sig-int-value-from-siginfo-in-boostsiginfo-handler/29953698#29953698", "title": "Obtaining the sig_int value from siginfo in boost::siginfo handler", "body": "<p>In short, no.</p>\n\n<p>In the presence of <a href=\"http://man7.org/linux/man-pages/man2/sigaction.2.html\" rel=\"nofollow noreferrer\"><code>sigaction()</code></a>, Boost.Asio registers its internal signal handler as <code>sa_handler</code> and does not set the <code>SA_SIGINFO</code> flag.  Hence, Boost.Asio's signal handler never receives the <code>siginfo_t</code> associated with the signal, and cannot propagate it to the user's <a href=\"http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/reference/SignalHandler.html\" rel=\"nofollow noreferrer\">SignalHandler</a> when completing the <code>async_wait()</code> operation.  Here is the relevant excerpt from the <a href=\"https://github.com/boostorg/asio/blob/boost-1.58.0/include/boost/asio/detail/impl/signal_set_service.ipp#L274-L279\" rel=\"nofollow noreferrer\">implementation</a>:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>using namespace std; // For memset.\nstruct sigaction sa;\nmemset(&amp;sa, 0, sizeof(sa));\nsa.sa_handler = boost_asio_signal_handler;\nsigfillset(&amp;sa.sa_mask);\nif (::sigaction(signal_number, &amp;sa, 0) == -1)\n</code></pre>\n\n<hr>\n\n<p>Given your recent question about <a href=\"https://stackoverflow.com/q/29901633/1053968\">having a functor handle a signal</a> and Boost.Asio only receiving and propagating <code>signum</code>, it may be worth considering implementing your own signal handler using the <a href=\"https://www.google.com/?#q=self-pipe+trick\" rel=\"nofollow noreferrer\">self-pipe trick</a>.  However, where as Boost.Asio only <a href=\"https://github.com/boostorg/asio/blob/boost-1.58.0/include/boost/asio/detail/impl/signal_set_service.ipp#L71-L72\" rel=\"nofollow noreferrer\">writes</a> and <a href=\"https://github.com/boostorg/asio/blob/boost-1.58.0/include/boost/asio/detail/impl/signal_set_service.ipp#L99-L103\" rel=\"nofollow noreferrer\">reads</a> <code>signum</code> on the pipe, one could write and read additional information, such as <code>siginfo.si_int</code>. </p>\n"}], "owner": {"reputation": 91, "user_id": 1169195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1561de6cd407464444a04c4d171e1582?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1169195/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 29953698, "answer_count": 1, "score": 0, "last_activity_date": 1430338609, "creation_date": 1430332364, "question_id": 29951773, "link": "https://stackoverflow.com/questions/29951773/obtaining-the-sig-int-value-from-siginfo-in-boostsiginfo-handler", "title": "Obtaining the sig_int value from siginfo in boost::siginfo handler", "body": "<p>I have a custom signal that is emitted from a kernel module to user space in the following way. Note that I include an integer (id) in the <code>si_int</code> struct parameter attached to the signal, and I already know the pid of the user-space app I am targeting.</p>\n\n<pre><code>struct siginfo info;\nmemset(&amp;info, 0, sizeof(struct siginfo));\ninfo.si_signo = MY_CUSTOM_SIGNAL;\ninfo.si_code = SI_QUEUE;        // Fake coming from user-space\ninfo.si_int = id;               // Include some variable id\nsend_sig_info(MY_CUSTOM_SIGNAL, &amp;info, pid);\n</code></pre>\n\n<p>In my user-space application I listen for the signal in the following way:</p>\n\n<pre><code>boost::asio::io_service io;\nboost::asio::signal_set signals(io, MY_CUSTOM_SIGNAL);\nsignals.async_wait(handler);\nio.run();\n</code></pre>\n\n<p>... and this handler is called when it occurs ...</p>\n\n<pre><code>void handler(const boost::system::error_code&amp; error, int signal_number)\n{\n    // Do something with the signal\n}\n</code></pre>\n\n<p>Unfortunately, the siginfo is not passed into the handler, so I am unable to determine the value of the <code>id</code> variable assigned by the kernel module. Is there any way to determine this value?</p>\n"}, {"tags": ["c++", "windows", "event-handling", "windows-embedded-compact"], "comments": [{"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1430332999, "post_id": 29951762, "comment_id": 48024764, "body": "What does your <code>WaitForMultipleObjects</code> call look like?"}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "reply_to_user": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1430333098, "post_id": 29951762, "comment_id": 48024832, "body": "<code>DWORD retval = WaitForMultipleObjects(Number_Of_Events, pEventListener-&gt;m_hEvents, FALSE, INFINITE);</code> where <code>Number_Of_Events</code> is 17, it waits for all of the threads, and <code>m_hEvents</code> is the handles of the events. Then i pass <code>retval</code> to my <code>switch</code> statement."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1430333999, "post_id": 29951762, "comment_id": 48025423, "body": "Using events for signaling is very brittle.  When do you call ResetEvent()?  Are you sure you do that only after the other process has seen it?  Use a named pipe or socket instead."}, {"owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1430334386, "post_id": 29951762, "comment_id": 48025646, "body": "@HansPassant I do not call <code>ResetEvent()</code> because, my understanding of the description of <code>CreateEvent()</code> led me to believe this is automatically handled in the process. See <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms682396%28v=vs.85%29.aspx\" rel=\"nofollow noreferrer\">here</a> for the description of the event object name field. Maybe i misinterpreted it.  Also, i dont think i can use pipes/socket since this is a windows embedded compact application. Im not an expert on this OS so i may be wrong."}], "owner": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1430332335, "creation_date": 1430332335, "question_id": 29951762, "link": "https://stackoverflow.com/questions/29951762/button-event-registers-only-every-other-click", "title": "Button event registers only every other click", "body": "<p>I created a standard button using Expression Blend 3 and tied this into an event handler for turning on an led. I also have a similar button for turning off the led. I am passing this event between subprojects (front end to back end) using windows <code>CreateEvent()</code> and <code>SetEvent()</code>. </p>\n\n<p>The issue im running into is that i have to press the button twice for the back end to register the event. Each click will be registered by the front end and the <code>SetEvent()</code> function will be executed, but only on the second pass will it be picked up in the back end.</p>\n\n<p>Front end implementation:</p>\n\n<pre><code>HRESULT MainPage::Disable_Alarm_Click (IXRDependencyObject* pSender, XRMouseButtonEventArgs* pArgs)\n{\n    HRESULT hr = E_NOTIMPL;\n\n    if ((NULL == pSender) || (NULL == pArgs))\n    {\n        hr = E_INVALIDARG;\n    }\n\n    SetEvent(s_hEvent[19]); //Notify back end that event occured\n\nreturn hr;\n}\n</code></pre>\n\n<p>Back end event implementation:</p>\n\n<pre><code>m_hEvents[ALARM_DISABLE_1] = CreateEvent(NULL, false, false, ALARM_DISABLE_EVENT);\nif(m_hEvents[ALARM_DISABLE_1] == NULL)\n{\n    return;\n}\n</code></pre>\n\n<p>Back end event scanning: </p>\n\n<pre><code>case WAIT_OBJECT_0 + ALARM_DISABLE_1:\n        //Do stuff \n        //I put a breakpoint here but it does not hit it until second pass\n            break;\n</code></pre>\n\n<p>To clarify the <code>case</code>, i have a switch-case infinite loop containing the list of all events pertaining to the back end and this works without issue since the other events are registered every time they occur. </p>\n\n<p>Im not sure if i am doing something wrong in my code. It seems fairly straightforward as far as the coding is concerned. Is this just a bug with the Windows function?</p>\n\n<p>I've tried stepping through the code to see what is going on and it always hits my <code>SetEvent</code> function so I havent found any issues with my code. It just seems that the <code>SetEvent</code> does not set the event object name every time.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1430332254, "post_id": 29951714, "comment_id": 48024301, "body": "It just means you have a bug in your program."}, {"owner": {"reputation": 1036, "user_id": 2516756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8deb539e88fa2cbfeb025f1e024811dd?s=128&d=identicon&r=PG&f=1", "display_name": "Jonas Wolf", "link": "https://stackoverflow.com/users/2516756/jonas-wolf"}, "edited": false, "score": 0, "creation_date": 1430332395, "post_id": 29951714, "comment_id": 48024367, "body": "I experienced this kind of behavior when a variable, maybe also a pointer, is not initialized. Since your pointer is not initialized correctly, it points to the value that is in memory when you run your program."}, {"owner": {"reputation": 780, "user_id": 4647583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed29ba29164901d431c9755a8fc9a14?s=128&d=identicon&r=PG", "display_name": "Otomo", "link": "https://stackoverflow.com/users/4647583/otomo"}, "edited": false, "score": 0, "creation_date": 1430332416, "post_id": 29951714, "comment_id": 48024377, "body": "Smells like undefined behaviour. Can you give us some code?"}, {"owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "reply_to_user": {"reputation": 780, "user_id": 4647583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed29ba29164901d431c9755a8fc9a14?s=128&d=identicon&r=PG", "display_name": "Otomo", "link": "https://stackoverflow.com/users/4647583/otomo"}, "edited": false, "score": 0, "creation_date": 1430332702, "post_id": 29951714, "comment_id": 48024554, "body": "@Otomo here is the code"}, {"owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430332728, "post_id": 29951714, "comment_id": 48024566, "body": "@juanchopanza here is the code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1430332766, "post_id": 29951714, "comment_id": 48024589, "body": "Definite undefined behaviour (you should be ashamed)"}, {"owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "edited": false, "score": 0, "creation_date": 1430332816, "post_id": 29951714, "comment_id": 48024631, "body": "@DieterL&#252;cking here is the code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430332924, "post_id": 29951714, "comment_id": 48024714, "body": "@Predator44 which makes it definite ..."}, {"owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "edited": false, "score": 0, "creation_date": 1430332995, "post_id": 29951714, "comment_id": 48024762, "body": "@DieterL&#252;cking I am fairly new to c++, what do you mean?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430334973, "post_id": 29951714, "comment_id": 48025978, "body": "@Predator44 After changing the question again: <code>(*p++); </code> is undefined behaviour (see operator precedence)"}, {"owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "edited": false, "score": 0, "creation_date": 1430335182, "post_id": 29951714, "comment_id": 48026103, "body": "@DieterL&#252;cking Thank you for the clarification :)"}], "answers": [{"tags": [], "owner": {"reputation": 6920, "user_id": 409020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/322553769bd717b52272cf3c138e7c5d?s=128&d=identicon&r=PG", "display_name": "John Shedletsky", "link": "https://stackoverflow.com/users/409020/john-shedletsky"}, "is_accepted": false, "score": -4, "last_activity_date": 1430332479, "creation_date": 1430332479, "answer_id": 29951813, "question_id": 29951714, "link": "https://stackoverflow.com/questions/29951714/pointers-behaving-differently-on-each-compilation/29951813#29951813", "title": "pointers behaving differently on each compilation?", "body": "<p>This happened to me once when I was writing an operating system.</p>\n\n<p>The bug took forever to find.</p>\n\n<p>The heap was corrupted because one of my string functions wrote into adjacent memory.</p>\n"}, {"tags": [], "owner": {"reputation": 780, "user_id": 4647583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed29ba29164901d431c9755a8fc9a14?s=128&d=identicon&r=PG", "display_name": "Otomo", "link": "https://stackoverflow.com/users/4647583/otomo"}, "is_accepted": true, "score": 0, "last_activity_date": 1430332953, "creation_date": 1430332953, "answer_id": 29951960, "question_id": 29951714, "link": "https://stackoverflow.com/questions/29951714/pointers-behaving-differently-on-each-compilation/29951960#29951960", "title": "pointers behaving differently on each compilation?", "body": "<p>This is undefined behavour. You leave the range of the <code>int</code> you are allowed to point to by incrementing the pointer. The compiler is allowed to do everything it wants to do with your code.</p>\n"}], "owner": {"reputation": 802, "user_id": 2847764, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e9c42c323b893af470f7d9e2cbed4024?s=128&d=identicon&r=PG&f=1", "display_name": "abedzantout", "link": "https://stackoverflow.com/users/2847764/abedzantout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 29951960, "answer_count": 2, "score": -4, "last_activity_date": 1430333791, "creation_date": 1430332213, "last_edit_date": 1430333791, "question_id": 29951714, "link": "https://stackoverflow.com/questions/29951714/pointers-behaving-differently-on-each-compilation", "title": "pointers behaving differently on each compilation?", "body": "<p>What are the ambiguities in C++ that lead pointers to behave differently on each compilation?\nIf we comment then remove the comment, incrementing a pointer by 1 for example leads to different result each time we run the program.</p>\n\n<p>The program behaves differently on visual studio only; on xcode however, the results are consistent.</p>\n\n<pre><code>#include &lt;Windows.h&gt;\n    #include &lt;stdio.h&gt;\n    #include &lt;stdlib.h&gt;\n\n    int main()\n    {\n\n    int a = 5; \n    printf(\"adress of a = %d\\n\\n\", &amp;a);\n    int *p; p= &amp;a; \n    printf(\"The address of a in p = %d\\n\", &amp;a);\n\n    *p = *p +1;\n\n    (*p++); \n    printf(\"p after (*p++); = %d\\n\", p); \n    printf(\"a = %d\\n\\n\", a);\n\n    system(\"PAUSE\");\n    return 0;\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "templates", "inheritance"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1430332907, "post_id": 29951621, "comment_id": 48024698, "body": "Inheritance doesn&#39;t seem appropriate here. A particle isn&#39;t a point."}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "reply_to_user": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1430333038, "post_id": 29951621, "comment_id": 48024794, "body": "I tried doing <code>struct particle : public serializable&lt;particle&gt;{ point p; point v; };</code> but that lead to a structure if size 56 and not 48 ... and I just can&#39;t accept data not to be aligned"}], "answers": [{"comments": [{"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1430332933, "post_id": 29951726, "comment_id": 48024723, "body": "I think composition is the best approach, actually. You could add a conversion operator for <code>particle</code> to return <code>p</code>."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1430333094, "post_id": 29951726, "comment_id": 48024829, "body": "@jxh I agree. That&#39;s why I said &quot;likely.&quot; Not sure about the conversion operator though..."}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1430333231, "post_id": 29951726, "comment_id": 48024923, "body": "Just a thought. It would cover passing a <code>particle</code> to a function wanting a <code>point</code> argument, for example."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 5, "last_activity_date": 1430332239, "creation_date": 1430332239, "answer_id": 29951726, "question_id": 29951621, "link": "https://stackoverflow.com/questions/29951621/override-ambiguous-inheritence/29951726#29951726", "title": "override ambiguous inheritence", "body": "<p>You could bring in the one <code>serialize</code> you want:</p>\n\n<pre><code>struct particle : public point, public serializable&lt;particle&gt;\n{\n    using serializable&lt;particle&gt;::serialize;\n    float v[3];\n};\n</code></pre>\n\n<p>But likely you just want to use composition:</p>\n\n<pre><code>struct particle : public serializable&lt;particle&gt;\n{\n    point p;\n    float v[3];\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430332738, "post_id": 29951862, "comment_id": 48024572, "body": "I plan on overiding serialize for complex structure which includes pointers of stl container. However the point of the default serialize is to dump the data as a <code>char[size_of()]</code> using <code>dump</code>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 1, "creation_date": 1430332965, "post_id": 29951862, "comment_id": 48024740, "body": "@Amxx, That would be a problem since these classes are not PODs. You&#39;ll have to rethink your strategy. <code>sizeof(T)</code> will include not only the data but also the pointer to the virtual table."}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430333981, "post_id": 29951862, "comment_id": 48025410, "body": "After reading your update I&#39;m now conserded about what is and isn&#39;t trivially copyable. My idea was that is the structures contains std::string / std::vector / other similar synamic object, then one would have to overide the serializing function. However I just don&#39;t get how it could be unsafe to use <code>std::memcpy</code> on a structure like <code>point</code> which is juste an array of floats ... also I tried to run <code>std::is_trivially_copyable</code> but the compilers says it&#39;s not a member of std (gcc 4.9.2 / clang 3.6.0)"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430334225, "post_id": 29951862, "comment_id": 48025556, "body": "@Amxx, <a href=\"http://en.cppreference.com/w/cpp/concept/TriviallyCopyable\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/concept/TriviallyCopyable</a> describes when an object is trivially copyable and when it is not."}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430334263, "post_id": 29951862, "comment_id": 48025573, "body": "You&#39;ll need to use the compiler flag <code>-std=c++11</code> to get the C++11 features."}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430334363, "post_id": 29951862, "comment_id": 48025632, "body": "@R Sahu: I of course have this flag active (in fact I even have <code>-std=c++14</code>)"}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 2, "creation_date": 1430334471, "post_id": 29951862, "comment_id": 48025700, "body": "Not yet implemented :( <a href=\"https://gcc.gnu.org/onlinedocs/gcc-4.8.3/libstdc++/manual/manual/status.html#status.iso.2011\" rel=\"nofollow noreferrer\">gcc.gnu.org/onlinedocs/gcc-4.8.3/libstdc++/manual/manual/&hellip;</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1430334638, "post_id": 29951862, "comment_id": 48025799, "body": "@Amxx, that&#39;s unfortunate. gotta live with the limitations of your compiler."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1430334715, "last_edit_date": 1495542513, "creation_date": 1430332602, "answer_id": 29951862, "question_id": 29951621, "link": "https://stackoverflow.com/questions/29951621/override-ambiguous-inheritence/29951862#29951862", "title": "override ambiguous inheritence", "body": "<blockquote>\n  <p>How can I solve this ?</p>\n</blockquote>\n\n<p>Override <code>serialize()</code> in <code>particle</code>. You'll need to serialize the point data and particle's own data anyway. The default implementation of <code>serialize</code> from the base class won't be able to do the right thing for <code>particle</code>.</p>\n\n<p>You also need to override <code>serialize()</code> in <code>point</code> for the same reason.</p>\n\n<p>Also, I think making <code>point</code> a base class of <code>particle</code> doesn't seem right. A <code>particle</code> is not a <code>point</code>. It has a location and velocity. An aggregation seems like the better approach to me.</p>\n\n<pre><code>struct point : public serializable&lt;point&gt;\n{\n   void serialize()\n   {\n      // Serialize p\n      // ...\n   }\n\n   float p[3];\n};\n\nstruct particle : public serializable&lt;particle&gt;\n{\n   void serialize()\n   {\n      // Serialize location.\n      p.serialize();\n\n      // Serialize velocity.\n      // ...\n   }\n\n   point p; \n   float v[3];\n};\n</code></pre>\n\n<p><strong>Problem in <code>serializable</code></strong></p>\n\n<p>Judging by your example usage of <code>serializable</code>, the lines:</p>\n\n<pre><code>    void   dump(void* data) { std::memcpy(data, this, serializable&lt;T&gt;::size_of()); }\n    void   load(void* data) { std::memcpy(this, data, serializable&lt;T&gt;::size_of()); }\n</code></pre>\n\n<p>will lead to undefined behavior. The derived classes are not <a href=\"http://en.cppreference.com/w/cpp/concept/TriviallyCopyable\" rel=\"nofollow noreferrer\">TriviallyCopyable</a>. Using <code>std::memcpy</code> on such types will lead to problems in no time.</p>\n\n<p>See the answers to <a href=\"https://stackoverflow.com/questions/29777492/why-would-the-behavior-of-stdmemcpy-be-undefined-for-objects-that-are-not-triv\">a question I had posted just last week</a>.</p>\n"}], "owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 29951726, "answer_count": 2, "score": 2, "last_activity_date": 1555937753, "creation_date": 1430331905, "last_edit_date": 1555937753, "question_id": 29951621, "link": "https://stackoverflow.com/questions/29951621/override-ambiguous-inheritence", "title": "override ambiguous inheritence", "body": "<p>I'm working on providing a set of serializing methods that need to be structure aware. I therefore built a class template that provides those methods to all class inheriting from it.</p>\n\n<p>Here is what I have right now:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass serializable\n{\n    protected:\n        serializable() = default;\n    public:\n        size_t size_of() { return sizeof(T); }\n        void   dump(void* data) { std::memcpy(data, this, serializable&lt;T&gt;::size_of()); }\n        void   load(void* data) { std::memcpy(this, data, serializable&lt;T&gt;::size_of()); }\n        virtual void serialize()\n        {\n            std::cout &lt;&lt; \"Default serialize : size \" &lt;&lt; serializable&lt;T&gt;::size_of() &lt;&lt; std::endl;\n        }\n};\n\nstruct point : public serializable&lt;point&gt;\n{\n    float p[3];\n};\nstruct particle : public point, public serializable&lt;particle&gt;\n{\n    float v[3];\n};\n\nint main()\n{\n    particle p;\n    p.serialize();\n\n    return 0;\n}\n</code></pre>\n\n<p>The issue is that when calling <code>p.serialize</code>, the compiler issues an ambiguous overload error between <code>serializable&lt;point&gt;::serialize()</code> and <code>serializable&lt;particle&gt;::serialize()</code>.</p>\n\n<p>How can I solve this? Is there any way of overriding the inheritance from <code>serializable&lt;point&gt;</code> to only consider <code>serializable&lt;particle&gt;</code>? Should I consider another approach?</p>\n"}, {"tags": ["c++", "constructor", "protected", "base", "derived"], "comments": [{"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 3, "creation_date": 1430331852, "post_id": 29951564, "comment_id": 48024077, "body": "<code>A a();</code> declares a function. Of course that&#39;s OK."}], "answers": [{"comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "reply_to_user": {"reputation": 359, "user_id": 2207605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9a0637c104259e8edfb2151baafed6?s=128&d=identicon&r=PG", "display_name": "Christine", "link": "https://stackoverflow.com/users/2207605/christine"}, "edited": false, "score": 2, "creation_date": 1430332664, "post_id": 29951632, "comment_id": 48024524, "body": "@Christine: Now you&#39;ve declared a function with the same name as the class; so <code>A</code> will refer to the function, and <code>A a1;</code> doesn&#39;t make any sense. You&#39;d need <code>class A a1;</code> to disambiguate."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1530022264, "post_id": 29951632, "comment_id": 89081070, "body": "Are constructors accessed via an object? Which object would that be? There is no object. It isn&#39;t constructed yet."}], "tags": [], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": false, "score": 2, "last_activity_date": 1430331979, "creation_date": 1430331979, "answer_id": 29951632, "question_id": 29951564, "link": "https://stackoverflow.com/questions/29951564/create-base-class-instance-in-derived-class-member-function-when-the-base-class/29951632#29951632", "title": "Create base class instance in derived class member function when the base class constructor is protected", "body": "<p>In order to create an object, the constructor needed to do so must be accessible. Within a member of <code>B</code>, you can access protected members of <code>A</code>, but <em>only</em> via an object of type <code>B</code>. So you can't access the protected default constructor there.</p>\n\n<p>The previous line <code>A a();</code> compiles because it declares a function.</p>\n"}, {"comments": [{"owner": {"reputation": 359, "user_id": 2207605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9a0637c104259e8edfb2151baafed6?s=128&d=identicon&r=PG", "display_name": "Christine", "link": "https://stackoverflow.com/users/2207605/christine"}, "edited": false, "score": 0, "creation_date": 1430333413, "post_id": 29951816, "comment_id": 48025033, "body": "Where are refering about &quot;11/4/1, 11.6..&quot;?  Thanks"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 359, "user_id": 2207605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9a0637c104259e8edfb2151baafed6?s=128&d=identicon&r=PG", "display_name": "Christine", "link": "https://stackoverflow.com/users/2207605/christine"}, "edited": false, "score": 0, "creation_date": 1430333562, "post_id": 29951816, "comment_id": 48025124, "body": "@Christine The language standard."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529818915, "post_id": 29951816, "comment_id": 89007643, "body": "&quot;<i>All other accesses involve a (possibly implicit) object expression</i>&quot; What is the implicit expression of a constructor call?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529835947, "post_id": 29951816, "comment_id": 89010754, "body": "@curiousguy The object expression is the not-yet constructed object that the constructor is supposed to construct. It&#39;s essentially the name of the unconstructed but accessible object."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529863712, "post_id": 29951816, "comment_id": 89017996, "body": "@Columbo So, an lvalue referencing a non existing object? (In conflict with the widely held belief that an lvalue refers to an object BTW.) How do you designate the subobjects of a non existing object?"}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529930491, "post_id": 29951816, "comment_id": 89039906, "body": "@curiousguy &quot;lvalue refers to an object&quot; Clearly false. Anyway, that goes beyond this question."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529952886, "post_id": 29951816, "comment_id": 89052529, "body": "@Columbo &quot;Clearly false&quot; but a widely held belief. Anyway, the quoted text is BS. There is no implicit expression in a constructor invocation."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529955541, "post_id": 29951816, "comment_id": 89053721, "body": "@curiousguy If it&#39;s a widely held, false belief, why did you bother citing it? Possibly because you don&#39;t really know what you&#39;re talking about? :p The object expression is the (not yet constructed) object that the constructor operates on, i.e. the pointee of <code>this</code>. I feel like you don&#39;t need to hear any of that."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529968703, "post_id": 29951816, "comment_id": 89058114, "body": "&quot;A glvalue is an expression whose evaluation determines the identity of an object, bit-field, or function.&quot; <a href=\"http://eel.is/c++draft/basic.lval\" rel=\"nofollow noreferrer\"><b>basic.lval</b></a> Old version: &quot;An lvalue refers to an object or function.&quot; Either way, the idea that an lvalue of object type must refer to an particular object <b>comes straight from the standard</b>. Unless you want to discuss stuff that doesn&#39;t exist, and their properties and identity. Which would lead to a discussion of Jean-Paul Sartre&#39;s ideas."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529969258, "post_id": 29951816, "comment_id": 89058250, "body": "@Columbo I checked once again, searched <b>[class.init]</b>, there is no mention of implicit an argument passed to a constructor, no implicit <code>this</code>, nothing. The claim &quot;All other accesses involve a (possibly implicit) object expression (5.2.5)&quot; is <b>clearly wrong</b>."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "reply_to_user": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "edited": false, "score": 0, "creation_date": 1529974084, "post_id": 29951816, "comment_id": 89059151, "body": "@curiousguy Of course lvalues can designate non-existent objects. Think of dangling references, which are not undefined expressions per se. I&#39;ve written a paper on classification of lvalues, but it hasn&#39;t gone beyond WIP yet."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1529974204, "post_id": 29951816, "comment_id": 89059175, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/173785/discussion-between-curiousguy-and-columbo\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1430335941, "last_edit_date": 1430335941, "creation_date": 1430332485, "answer_id": 29951816, "question_id": 29951564, "link": "https://stackoverflow.com/questions/29951564/create-base-class-instance-in-derived-class-member-function-when-the-base-class/29951816#29951816", "title": "Create base class instance in derived class member function when the base class constructor is protected", "body": "<p>\u00a711.4/1:</p>\n\n<blockquote>\n  <p>As described earlier, access to a protected member is granted because\n  the reference occurs in a friend or member of some class <code>C</code>. If the\n  access is to form a pointer to member (5.3.1), [\u2026].<br>\n  <strong>All other\n  accesses involve a (possibly implicit) object expression (5.2.5). In\n  this case, the class of the object expression shall be <code>C</code> or a class\n  derived from <code>C</code>.</strong></p>\n</blockquote>\n\n<p>In your case, the access is implicit but nonetheless present. We are trying to access <code>A</code>s constructor with the (implicit) object argument <code>a1</code>. \u00a711/6:</p>\n\n<blockquote>\n  <p>All access controls in Clause 11 affect the ability to access a class\n  member name from the declaration of a particular entity [\u2026]. [ <em>Note</em>:\n  <strong>this access also applies to implicit references to constructors, conversion functions, and destructors.</strong> \u2014 <em>end note</em> ]</p>\n</blockquote>\n\n<p>However, <code>a1</code> is not of type <code>B</code> or a class derived from <code>B</code>. Hence our above requirement is not met, and access control is not happy.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4833336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44038560c2630901f47cf0a60bd1e428?s=128&d=identicon&r=PG&f=1", "display_name": "Sinix", "link": "https://stackoverflow.com/users/4833336/sinix"}, "is_accepted": false, "score": 0, "last_activity_date": 1430334039, "creation_date": 1430334039, "answer_id": 29952319, "question_id": 29951564, "link": "https://stackoverflow.com/questions/29951564/create-base-class-instance-in-derived-class-member-function-when-the-base-class/29952319#29952319", "title": "Create base class instance in derived class member function when the base class constructor is protected", "body": "<p>To allow access to protected methods you can use <code>friend class</code>.\nAn example:</p>\n\n<pre><code>class A\n{\n    friend class B;\nprotected:\n    A(){};\npublic:\n    void foo(){cout &lt;&lt; \"A\\n\";}; \n};\n\nclass B : public A\n{\npublic:\n    B() { };\n    void foo(){\n        cout &lt;&lt; \"B\\n\";\n        A a1;\n    }\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1430361419, "post_id": 29958042, "comment_id": 48036793, "body": "In the first section of examples I used the world sealed in some of the class definitions what this word does, it tells the compiler that you are not expecting to have any derived types from it. As you can notice with the hierarchy  A is not sealed thus B,C&amp;D derive from it. Both B&amp;C are sealed, yet D is not sealed and E&amp;F are derived from D which are both sealed."}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1430371678, "post_id": 29958042, "comment_id": 48039730, "body": "I don&#39;t know if the sealed keyword is available to you or not, but I am using VS2013."}], "tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 0, "last_activity_date": 1430361201, "creation_date": 1430361201, "answer_id": 29958042, "question_id": 29951564, "link": "https://stackoverflow.com/questions/29951564/create-base-class-instance-in-derived-class-member-function-when-the-base-class/29958042#29958042", "title": "Create base class instance in derived class member function when the base class constructor is protected", "body": "<p>When you have any class that has a protected or private Constructor, that class is considered \"An Abstract Class Object\" This means that it represents a concept or an idea of what an object should be like that contains all comment elements. You can not instantiate an object of this type directly! Thus you must inherit from this class who's constructors are public unless if they are abstract as well. The other idea is to be a specialized object that can not be instantiated directly but can be friends to other classes where their methods can instantiate the object, meaning those classes that have friend access to this abstract class would be able to instantiate this object which will live in the life span and scope of the friends class object. Examples:</p>\n\n<pre><code>class A {\npublic: \n    enum ClassType {\n        TYPE_A = 0,\n        TYPE_B,\n        TYPE_C,\n        TYPE_D,\n        TYPE_E,\n        TYPE_F\n    };\n\nprivate:\n    unsigned m_uId;\nprotected:\n    explicit A( A::ClassType type ) :\n    m_uId( static_cast&lt;unsigned&gt;( type ) {}\n\n    void initialize() = 0; // Purely Abstract - Each Derived Class Must Create This Function\n    void cleanup();     \n};\n\nclass B sealed : public A {\npublic:\n    B() : A( TYPE_A ) {}\n    void initialize() override; \n};\n\nclass C sealed : public A {\npublic:\n    C() : A( TYPE_C ) {}\n    void initialize() override;\n};\n\nclass D : public A {\nprotected:\n    D( A::ClassType type ) : A( type ) {}          \n    void initialize() override = 0;\n};\n\nclass E sealed : public D {\npublic:\n    E() : D( TYPE_E ) {}\n    void initialize() override;\n};\n\nclass F sealed : public D {\npublic:\n    F : D( TYPE_F ) {}\n    void initialize() override;\n};\n</code></pre>\n\n<p>Here I demonstrate polymorphic inheritance. Class A &amp; D you can not instantiate objects for, however classes B,C,E &amp; F you can instantiate objects. Because the constructors for A &amp; D are protected any derived class has access to them. With this setup every class has access to A::cleanup() and every class must implement its own ::initialize() override function. </p>\n\n<p>For this next part I will demonstrate the use of using an abstract class that friend classes can use. </p>\n\n<pre><code>class Counter {\n    friend unsigned Object1::getCount();\n    friend unsigned Object2::getCount();\nprivate:\n   static unsigned m_uCounter;       \n   Counter() { ++m_uCounter; }\n\npublic:\n    unsigned getCounter() { return m_uCounter; }       \n};\n\nclass Object1 {\n    friend class Counter;\nprivate:\n    unsigned m_uCount;\npublic:\n    Object1() : m_uCount( 0 ) {}\n    void count() { \n        Counter counter; \n        m_uCount = counter.getCounter();\n    }\n\n    unsigned getCount() const { return m_uCounter; }      \n};\n\nclass Object2 {\n    friend class Counter;\nprivate:\n    unsigned m_uCount;\npublic:\n    Object2() : m_uCount( 0 ) {}\n    void count() {\n        Counter counter;\n        m_uCount = counter.getCounter();\n    }\n\n    unsigned getCount() const { return m_uCount; }\n};\n</code></pre>\n\n<p>This code shows how to use an abstract class that can not be declared on its own, but can be used within other classes by being a friend class. In this situation as only a demonstration the sole purpose of the Counter class is to do the work of incrementing. The counter class can not be a stand alone object which doesn't make sense to have, however its use within other classes through the friend declarations allows those classes to have access to its constructor via the function declaration from the outside classes that are declared as friend functions within the abstract class. This kind of setup allows only Object1::getCount() and Object2::getCount() to declare a type of Counter and to have access to Counter::getCounter(). </p>\n\n<p>I hope this helps your understanding in Abstract Classes that deal with Polymorphism using inheritance, Abstract Class association via friend use, and how to properly declare a type that is abstract. </p>\n\n<p>In your code in which others had addressed A A(); is declaring a function prototype where A a1; is trying to declare a type of A which is Abstract!</p>\n"}], "owner": {"reputation": 359, "user_id": 2207605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db9a0637c104259e8edfb2151baafed6?s=128&d=identicon&r=PG", "display_name": "Christine", "link": "https://stackoverflow.com/users/2207605/christine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "accepted_answer_id": 29951816, "answer_count": 4, "score": 1, "last_activity_date": 1469835726, "creation_date": 1430331746, "last_edit_date": 1469835726, "question_id": 29951564, "link": "https://stackoverflow.com/questions/29951564/create-base-class-instance-in-derived-class-member-function-when-the-base-class", "title": "Create base class instance in derived class member function when the base class constructor is protected", "body": "<p>Given the following code:</p>\n\n<pre><code>class A\n{\nprotected:\n    A(){};  // compilation error\npublic:\n    void foo(){cout &lt;&lt; \"A\\n\";}; \n};\n\nclass B : public A\n{\npublic:\n    B() { };\n    void foo(){\n        cout &lt;&lt; \"B\\n\";\n        A A(); // OK\n        A a1; // compilation error\n    }\n};\n</code></pre>\n\n<p>If I changed the base class <code>A</code> constructor to <code>public</code>, the code compiles. How to explain this?</p>\n"}, {"tags": ["c++", "pointers", "operator-overloading"], "comments": [{"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430331751, "post_id": 29951508, "comment_id": 48024011, "body": "I haven&#39;t actually in my code - I just had that in the example here to emphasise that I started with a pointer"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 1, "creation_date": 1430331814, "post_id": 29951508, "comment_id": 48024048, "body": "@Columbo Didn&#39;t read the whole way through apparently. I don&#39;t actually understand the question then. &quot;Is there a way to get an object from a pointer without <code>*</code>&quot;?"}, {"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "reply_to_user": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 2, "creation_date": 1430332098, "post_id": 29951508, "comment_id": 48024214, "body": "@Columbo There, changed the uses of <code>new</code> to <code>std::unique_ptr</code> which is what I actually use in my code there. I just didn&#39;t bother with that the first time since it doesn&#39;t affect the question at all."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "edited": false, "score": 2, "creation_date": 1430332387, "post_id": 29951508, "comment_id": 48024361, "body": "Why are people downvoting this so much? It&#39;s not poorly asked, and it&#39;s a valid question for those who don&#39;t know the inner workings of C++ very well. It&#39;s unfortunate people are downvoting this without even stating why the downvote is deserved (which is important for the OP to be able to improve!). +1 from me."}, {"owner": {"reputation": 56893, "user_id": 3647361, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/xvjhM.png?s=128&g=1", "display_name": "Columbo", "link": "https://stackoverflow.com/users/3647361/columbo"}, "edited": false, "score": 0, "creation_date": 1430332627, "post_id": 29951508, "comment_id": 48024505, "body": "@Kvothe There is a difference. Smart pointers <i>might</i> overload <code>operator()</code>. <code>unique_ptr</code> does not, but we couldn&#39;t know which one you use, could we."}], "answers": [{"comments": [{"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "edited": false, "score": 0, "creation_date": 1430333038, "post_id": 29951679, "comment_id": 48024795, "body": "Thanks, I was puzzled as to why I couldn&#39;t get it to work with <code>-&gt;</code>. I hadn&#39;t realised it would need to be preceded by <code>operator</code>"}], "tags": [], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": true, "score": 4, "last_activity_date": 1430332137, "creation_date": 1430332137, "answer_id": 29951679, "question_id": 29951508, "link": "https://stackoverflow.com/questions/29951508/combining-member-access-operators-with-overloaded-call-operator/29951679#29951679", "title": "Combining member access operators with overloaded call operator", "body": "<p>No, you have to dereference the pointer to access the object; so the only ways to call the operator are</p>\n\n<pre><code>(*foo_ptr)(1)\nfoo_ptr-&gt;operator()(1);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "edited": false, "score": 0, "creation_date": 1430333209, "post_id": 29951803, "comment_id": 48024906, "body": "Hadn&#39;t though of this, but I guess this method would be just as verbose as declaring a member function instead of overloading the paranthesis operator"}], "tags": [], "owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "is_accepted": false, "score": 2, "last_activity_date": 1430332453, "creation_date": 1430332453, "answer_id": 29951803, "question_id": 29951508, "link": "https://stackoverflow.com/questions/29951508/combining-member-access-operators-with-overloaded-call-operator/29951803#29951803", "title": "Combining member access operators with overloaded call operator", "body": "<p>One way is to make a reference:</p>\n\n<pre><code>std::unique_ptr&lt;Foo&gt; foo_ptr(new Foo);\nFoo&amp; foo_ref = *foo_ptr;\n\nBoo* boo_ptr = foo_ref(1);\n</code></pre>\n\n<p>Besides that, I think Mike Seymour is correct that there's nothing else you can do to invoke <code>operator()</code>.</p>\n"}], "owner": {"reputation": 1659, "user_id": 3893615, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6747082a887efbb8cc4785b7c4279cb7?s=128&d=identicon&r=PG&f=1", "display_name": "Kvothe", "link": "https://stackoverflow.com/users/3893615/kvothe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 29951679, "answer_count": 2, "score": 0, "last_activity_date": 1430332453, "creation_date": 1430331574, "last_edit_date": 1430332213, "question_id": 29951508, "link": "https://stackoverflow.com/questions/29951508/combining-member-access-operators-with-overloaded-call-operator", "title": "Combining member access operators with overloaded call operator", "body": "<p>Given a class <code>Foo</code> with overloaded <code>Boo* operator()(unsigned int)</code>, how should the overloaded operator be accessed?</p>\n\n<p>I originally tried</p>\n\n<pre><code>std::unique_ptr&lt;Foo&gt; foo_ptr(new Foo);\nBoo* boo_ptr = foo_ptr(1);\n</code></pre>\n\n<p>But this doesn't work, so I tried:</p>\n\n<pre><code>std::unique_ptr&lt;Foo&gt; foo_ptr(new Foo);\nBoo* boo_ptr = foo_ptr-&gt;(1);\n</code></pre>\n\n<p>but this doesn't work either (and I didn't really expect it to). Instead I have to do</p>\n\n<pre><code>std::unique_ptr&lt;Foo&gt; foo_ptr(new Foo);\nBoo* boo_ptr = (*foo_ptr)(1);\n</code></pre>\n\n<p>Which is more verbose than declaring a method in <code>Foo</code> such as <code>ByIndex(unsigned int)</code> instead (and making it shorter and more succinct was why I overloaded the operator in the first place).</p>\n\n<p>Is there a way to do this without having to use the <code>*</code> operator to get the base value of the pointer?</p>\n"}, {"tags": ["c++", "inheritance"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1430331741, "post_id": 29951502, "comment_id": 48024006, "body": "Instead of <code>env-&gt;GetType()==&quot;Brick&quot;</code>, why not use <code>Brick* br = dynamic_cast&lt;Brick*&gt;(env); if (env != nullptr)</code>? Safer, clearer, and bypasses the issue."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2946316"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1430331971, "post_id": 29951502, "comment_id": 48024146, "body": "Well the code above is only a prototype which is badly written to demonstrate the though process behind the project. But you are right, i wrote dynamic cast but used static cast anyways in the example :) Cheers"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1430333668, "post_id": 29951502, "comment_id": 48025201, "body": "Why do you think it&#39;s a &quot;waste&quot; to add an <code>Explode</code> function to <code>Environment</code>? It makes the code a lot cleaner. You can have the default implementation do nothing, and let those objects capable of exploding override it with the proper behavior."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2946316"}, "edited": false, "score": 0, "creation_date": 1430334372, "post_id": 29951502, "comment_id": 48025635, "body": "Well this is a 2d game, so the default implementation does take care of alot of things to be honest. Explosion is only 1 out of maybe 20-30 other functions that might be implemented so putting everything in Environment doesnt seem like a good idea. I mean if i put a new object called grass, with its own textures and stuff, that basically only needs to exist in the world, whats the point of having 30-40 other functions available that i will never use?"}, {"owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "edited": false, "score": 1, "creation_date": 1430339950, "post_id": 29951502, "comment_id": 48028865, "body": "My apologies, but I&#39;ve been designing Enterprise systems for years...this is a big mistake.  I see no consistencies among the example you gave.  Think about your system first, a game world has players, walls, floors, etc.  So if you want things that explode create an appropriate base class type (I know <code>Environment</code>) but you can do all of it without ever casting.  Just remember, if you cast too many times you should be rethinking your design."}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "edited": false, "score": 1, "creation_date": 1430339975, "post_id": 29951502, "comment_id": 48028876, "body": "Why would you want to inherit <code>Brick</code> from <code>Environment</code>? What <code>Environment</code> represent? Anyway, wanting to check types at run time smells like trouble."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2946316"}, "edited": false, "score": 0, "creation_date": 1430381181, "post_id": 29951502, "comment_id": 48044824, "body": "thank you guys, I will play around with it a little bit and post some code in a couple of hours. Best regards nilo"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2946316"}, "edited": false, "score": 0, "creation_date": 1430383876, "post_id": 29951502, "comment_id": 48046571, "body": "Well i have another question here. Lets say for instance that i only have access to a void* that needs to be cast to the origin class when the contact-callback function is called. Is it smarter to use enum to detect the type and than cast it back to the class or should i use dynamic_cast? Seems like the first solution is better otherwise i have to write one line for every single class and using typeid only returns the base class. What is the best solution?"}], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1430346182, "post_id": 29955597, "comment_id": 48031976, "body": "He doesn&#39;t actually have a <code>dynamic_cast</code>, he&#39;s implemented his own version which is even slower still."}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1430346367, "post_id": 29955597, "comment_id": 48032062, "body": "@MooingDuck I though he was saying (to paraphrase) <i>I used dynamic_cast in the real version</i>, not <i>I wrote my own custom dynamic_cast</i>."}], "tags": [], "owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "is_accepted": false, "score": 2, "last_activity_date": 1430346417, "last_edit_date": 1495535205, "creation_date": 1430346036, "answer_id": 29955597, "question_id": 29951502, "link": "https://stackoverflow.com/questions/29951502/c-inheritance-and-cast/29955597#29955597", "title": "c++ - Inheritance and cast", "body": "<p>There are two solutions:</p>\n\n<ol>\n<li><p>Use <code>dynamic_cast</code>:\n</p>\n\n<pre><code>if (Brick* brick = dynamic_cast&lt;Brick*&gt;(env))\n{\n    std::cout &lt;&lt; \"BRICK TYPE WAS FOUND, DYNAMIC CAST\" &lt;&lt; std::endl;\n    brick-&gt;explode();\n}\n</code></pre></li>\n<li><p>Add another method to <code>Environment</code> named something like <code>MaybeExplode</code> (that's actually a really bad name, but I can't really think of something better):\n</p>\n\n<pre><code>virtual void MaybeExplode() {}\n</code></pre>\n\n<p>Now, override it in <code>Brick</code>:\n</p>\n\n<pre><code>void MaybeExplode()\n{\n    std::cout &lt;&lt; \"Exploding BRICK\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Then unconditionally call <code>MaybeExplode</code> in your <code>for</code> loop:\n</p>\n\n<pre><code>...\nenv-&gt;Spawn();\nenv-&gt;Update();\nenv-&gt;MaybeExplode();\n\ndelete env;\n</code></pre>\n\n<p>This is <em>not</em> wasteful. It's really how OO design is. The person asking for an explosion doesn't know <em>what</em> <code>env</code> is.</p>\n\n<p>Also, <code>dynamic_cast</code> is actually <a href=\"https://stackoverflow.com/questions/9959315/why-virtual-function-call-is-faster-than-dynamic-cast\">slower than a virtual function</a>, so, if anything, your current version is <em>more</em> wasteful.</p></li>\n</ol>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2946316"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430346417, "creation_date": 1430331563, "last_edit_date": 1430334450, "question_id": 29951502, "link": "https://stackoverflow.com/questions/29951502/c-inheritance-and-cast", "title": "c++ - Inheritance and cast", "body": "<p>I'm writing a 2d game and want to make it right from the beginning. I'm not entirely sure how to solve multiple inheritance and casting.</p>\n\n<p>Lets say for instance that i have a game world. I create a class called <strong>Environment</strong> which all the objects will inherit.</p>\n\n<p>Now if i create another class called Brick and Ground, this two classes are going to inherit the functions from environment. Now lets say i want to be able to explode the Brick upon contact, but the ground class won't ever use it, so it would be a waste to create a function like that in the environment class and make it virtual.</p>\n\n<p>So i though, maybe if i cast the environment object back to the derived class and call its functions from there: (Only a example below to demonstrate the though process)</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;limits&gt;\n\nclass Environment\n{\nprotected:\n    std::string name;\n    int health;\n    int damage;\npublic:\n    Environment(std::string _name)\n    {\n        this-&gt;name = _name;\n    }\n\n    virtual std::string GetType() = 0;\n\n    std::string GetName()\n    {\n        return this-&gt;name;\n    }\n\n    void Spawn()\n    {\n        std::cout &lt;&lt; this-&gt;name &lt;&lt; \": Spawning object...\" &lt;&lt; std::endl;\n    }\n\n    int GetHealth()\n    {\n        return this-&gt;health;\n    }\n\n    void TakeDamage(int _damage)\n    {\n        this-&gt;health-=_damage;\n    }\n\n    virtual void Update() = 0;\n    virtual void Render() = 0;\n    virtual ~Environment(){}\n};\n\nclass Ground : public Environment\n{\nprivate:\n\npublic:\n    Ground(std::string _name) : Environment(_name)\n    {\n\n    }\n\n    std::string GetType()\n    {\n        return \"Ground\";\n    }\n\n    void Update()\n    {\n        std::cout &lt;&lt; \"Updating: \" &lt;&lt; this-&gt;name &lt;&lt; std::endl;\n    }\n\n    void Render()\n    {\n\n    }\n\n};\n\nclass Brick : public Environment\n{\nprivate:\n\npublic:\n    Brick(std::string _name) : Environment(_name)\n    {\n        this-&gt;name = \"Brick Ansikte\";\n        this-&gt;health = 100;\n    }\n\n    std::string GetType()\n    {\n        return \"Brick\";\n    }\n\n    void Update()\n    {\n        std::cout &lt;&lt; \"Updating: \" &lt;&lt; this-&gt;name &lt;&lt; std::endl;\n    }\n\n    void Render()\n    {\n\n    }\n\n    void Explode()\n    {\n        std::cout &lt;&lt; \"Exploding BRICK\" &lt;&lt; std::endl;\n    }\n};\n\nint main()\n{\n    std::vector&lt;Environment*&gt; listEnvironment;\n    listEnvironment.push_back(new Ground(\"Ground fool\"));\n    listEnvironment.push_back(new Brick(\"Ground tun\"));\n\n    for(auto&amp; env : listEnvironment)\n    {\n        std::cout &lt;&lt; \"HP: \" &lt;&lt; env-&gt;GetHealth() &lt;&lt; std::endl; \n        env-&gt;Spawn();\n        env-&gt;Update();\n        if (env-&gt;GetType() == \"Brick\")\n        {\n            std::cout &lt;&lt; \"BRICK TYPE WAS FOUND, DYNAMIC CAST\" &lt;&lt; std::endl;\n            static_cast&lt;Brick*&gt;(env)-&gt;Explode();\n\n        }\n\n        delete env;\n    }\n    listEnvironment.empty();\n\n\n    std::cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(),'\\n');\n    return 0;\n}\n</code></pre>\n\n<p>Is this solution good or bad? Or should i create yet another base helper class that holds all the different type of actions that can occur in the game? Like explode, bounce etc etc?</p>\n\n<p>Best regards\nnilo</p>\n"}, {"tags": ["c++", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "edited": false, "score": 0, "creation_date": 1430331605, "post_id": 29951460, "comment_id": 48023919, "body": "Where is your declaration for <code>portarray</code>?"}, {"owner": {"reputation": 501, "user_id": 2738148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ee18a28885cf8d73eaef501e0a2e95?s=128&d=identicon&r=PG&f=1", "display_name": "Atuos", "link": "https://stackoverflow.com/users/2738148/atuos"}, "edited": false, "score": 0, "creation_date": 1430331637, "post_id": 29951460, "comment_id": 48023941, "body": "You don&#39;t change the value of portchar anywhere"}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 2, "creation_date": 1430331660, "post_id": 29951460, "comment_id": 48023953, "body": "Use <code>std::string</code>, not pointers. You&#39;re storing the same pointer each time, just overwriting the string it points to."}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "reply_to_user": {"reputation": 501, "user_id": 2738148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ee18a28885cf8d73eaef501e0a2e95?s=128&d=identicon&r=PG&f=1", "display_name": "Atuos", "link": "https://stackoverflow.com/users/2738148/atuos"}, "edited": false, "score": 0, "creation_date": 1430331662, "post_id": 29951460, "comment_id": 48023956, "body": "@Atuos Yes he does (sprintf)"}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 1, "creation_date": 1430331714, "post_id": 29951460, "comment_id": 48023984, "body": "@deviantfan: That writes to the array it points to, but doesn&#39;t change the pointer. The same pointer is stored each time, hence the problem."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430333902, "post_id": 29952022, "comment_id": 48025349, "body": "Thanks! I need to have portarray as type char for use further down in the code. Would that be incompatible with option 2?"}, {"owner": {"reputation": 517, "user_id": 1340410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0eaa45aa2140005e3a407b84b3b5db?s=128&d=identicon&r=PG", "display_name": "KalyanS", "link": "https://stackoverflow.com/users/1340410/kalyans"}, "reply_to_user": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430355695, "post_id": 29952022, "comment_id": 48035129, "body": "No, what I am suggesting is &quot;std::string portarray[NUM_REQUIRED]&quot; having said that, such a hardcoded number based approach is not generally recommended. Instead, you should use std::vector&lt;std::string&gt; portarray. And, you can do portarray.push_back(portchar) for every new element."}], "tags": [], "owner": {"reputation": 517, "user_id": 1340410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0eaa45aa2140005e3a407b84b3b5db?s=128&d=identicon&r=PG", "display_name": "KalyanS", "link": "https://stackoverflow.com/users/1340410/kalyans"}, "is_accepted": false, "score": 0, "last_activity_date": 1430355729, "last_edit_date": 1430355729, "creation_date": 1430333154, "answer_id": 29952022, "question_id": 29951460, "link": "https://stackoverflow.com/questions/29951460/my-for-loop-is-making-every-value-the-last-value-c/29952022#29952022", "title": "my for loop is making every value the last value (C++)", "body": "<p>They will be pointing to the same underlying value, as you repeatedly use 'portchar' to print to and it happens to be a static char.</p>\n\n<p>portarray[0]  -> \nportarray[1]  ->\n...\nportarray[2]  ->\n   all pointing to 'portchar'</p>\n\n<p>All of them are pointing to the shared char array. You need to fix a few things:</p>\n\n<ol>\n<li><p>Since portarray is declared as an array of pointers, you would need individual buffers to point to.</p></li>\n<li><p>Change portarray to be declared as an array of std::string. You would get a copy. Thus, you will have distinct values.</p></li>\n<li><p>Keep portarray as an array of pointers, but, allocate a new portchar for each iteration of the loop and store these pointers.</p></li>\n</ol>\n\n<p>_3 is not great, as you would have to manage the memory yourself.</p>\n\n<p>_2 is better, along with using a std::vector&lt;> for portarray.</p>\n\n<p>_1 is generating copies of strings, which you need to decide if you want to pay that cost.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430334325, "post_id": 29952163, "comment_id": 48025614, "body": "thanks for the explanation! I am actually locked into defining the final array as char because of some constraints later in the code (this is someone else&#39;s code that I&#39;m adding the user input part to, and to change the type throughout would be a lot of work).   Will it work to make portchar a std::string and then pull from it for portarray?"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430337072, "post_id": 29952163, "comment_id": 48027248, "body": "I&#39;ve edited my answer to include a solution that doesn&#39;t use <code>std::string</code>. The problem with using <code>std::string</code> with your existing code is that you need to allocate it dynamically to keep it alive beyond the scope of your for loop iterations. But for everything that you keep alive, you have to kill later on. Since you&#39;re already keeping track of character pointers, it makes more sense to use dynamically allocated character pointers than it does to use <code>std::string</code>s."}, {"owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430337590, "post_id": 29952163, "comment_id": 48027537, "body": "Great, thanks so much!! I&#39;m working off of some pretty crappy old code with a lot of constraints. Your solution above almost works-- it instead defines everything as startingport+1. But I got it to work if I added a line: <i>startingport=startingport+1;</i>"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430337822, "post_id": 29952163, "comment_id": 48027651, "body": "It looks like you transcribed it as <code>startingpoint+1</code> when it should be <code>startingpoint+i</code>."}, {"owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430338197, "post_id": 29952163, "comment_id": 48027852, "body": "haha yep, I meant if I added the line startingpoint+i it works. I&#39;m getting a segmentation error now when everything runs through though-- is this related to perhaps not clearing the memory at the appropriate time?"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430338630, "post_id": 29952163, "comment_id": 48028113, "body": "If you get rid of the delete statement and run through the program just fine, it means the delete happens too early. There&#39;s probably a pointer that points to that memory location somewhere in your program."}, {"owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "edited": false, "score": 0, "creation_date": 1430339433, "post_id": 29952163, "comment_id": 48028584, "body": "Yeah tried that, still getting the fault. Thought maybe it was because I wasn&#39;t clearing it, but that doesn&#39;t make sense. Probably just another error left behind for me to clean up in this old code. thanks!"}], "tags": [], "owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "is_accepted": true, "score": 0, "last_activity_date": 1430336961, "last_edit_date": 1430336961, "creation_date": 1430333581, "answer_id": 29952163, "question_id": 29951460, "link": "https://stackoverflow.com/questions/29951460/my-for-loop-is-making-every-value-the-last-value-c/29952163#29952163", "title": "my for loop is making every value the last value (C++)", "body": "<p>First I want to echo Mike Seymour's comment that you should be using <code>std::string</code>s and a container, not <code>char*</code> and <code>*char[]</code>. The higher level abstractions help mitigate a lot of the common issues related to pointer management and arithmetic.</p>\n\n<p>That said, this is a good teachable moment.</p>\n\n<h3>What went wrong</h3>\n\n<p>Let's begin by telling ourselves that a pointer (<code>*</code>) is nothing more than an address. Just like how I live at 555 First St, all objects in memory have an address. If I move out of my address and someone else moves in, when someone asks who lives at 555 First St, the answer at that moment will be whoever moved in, <em>not</em> me.</p>\n\n<p>If pointers are just addresses, then what is an array of pointers? Well, it's just a list of addresses! Imagine a list with empty slots that can hold 32 addresses. This is what <code>portarray</code> is.</p>\n\n<p>So what does your loop do? Well there are three basic operations:</p>\n\n<pre><code>sprintf(portchar, \"%d\", startingport+i);\n</code></pre>\n\n<p>This is equivalent to someone moving into the address <code>portchar</code>. The address is still the same, there's just something new in there now.</p>\n\n<pre><code>cout &lt;&lt; \"defining port: \" &lt;&lt; portchar &lt;&lt; endl;\n</code></pre>\n\n<p>This is the same as asking who lives at that address. Of course, you know what this is, it's just <code>startingport+1</code> since <code>startingport+1</code> just moved in!</p>\n\n<p>Finally:</p>\n\n<pre><code>portarray[i] = portchar;\n</code></pre>\n\n<p>Pay close attention to this. This says to copy down the address <code>portchar</code> into your list of addresses. Imagine you had a piece of paper and you wrote down <code>\"0: 555 First St\"</code>. This is <em>not</em> copying down who <em>lives</em> at that address, but the address itself. The next iteration of this loop, when it comes time to write down the address again, we'd write <code>\"1: 555 First St\"</code>, same as before.</p>\n\n<p>So at the end of your loop, you'll have this nice list of addresses, and all of the addresses are exactly the same, because of course you never actually <em>changed the address</em> in your loop.</p>\n\n<h3>What can you do about it (without using <code>std::string</code>)</h3>\n\n<p>If you're willing to manually manage the memory pointed to by <code>portarray</code>, you can fix your issues using heap allocated memory. This is necessary because you need <code>32</code> unique addresses that you can put into <code>portarray</code>. Your statically allocated <code>portchar</code> gives you one address which is insufficiently.</p>\n\n<pre><code>// Assuming you've removed your portchar declaration\nfor (int i=0; i&lt;32; i++) // defines 32 ports starting with user input\n{\n    portarray[i] = new char[6]; // This dynamically allocates memory\n    sprintf(portarray[i], \"%d\", startingport+i);\n    cout &lt;&lt; \"defining port: \" &lt;&lt; portarray[i] &lt;&lt; endl; // gives correct value\n}\n\ncout &lt;&lt; portarray[0] &lt;&lt; endl; // gives correct value\n</code></pre>\n\n<p>To free up the memory later, you have to do:</p>\n\n<pre><code>for (int i=0; i&lt;32; i++)\n{\n    delete[] portarray[i];\n}\n</code></pre>\n\n<p>It looks messy, and that's because it is. As others have suggested, you can avoid this minefield by using <code>std::string</code> and containers. If your code is amenable to those abstractions, I highly recommend using them.</p>\n"}], "owner": {"reputation": 13, "user_id": 4744469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3af91b468b4eb2b7bdbff174c46768aa?s=128&d=identicon&r=PG&f=1", "display_name": "hw22s", "link": "https://stackoverflow.com/users/4744469/hw22s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 29952163, "answer_count": 2, "score": 1, "last_activity_date": 1430355729, "creation_date": 1430331460, "last_edit_date": 1430331916, "question_id": 29951460, "link": "https://stackoverflow.com/questions/29951460/my-for-loop-is-making-every-value-the-last-value-c", "title": "my for loop is making every value the last value (C++)", "body": "<p>I have a user input a value, then define ports based on that value and the following 31 values. These ports should then be stored in an array, but for some reason when I call from the array every value is the last value. (For example, if a user enters 5000, every value in the array ends up being 5031). It's something wrong with storing the actual numbers in the array since if I print the values as they are being created they are all correct.\nExcuse the inelegant code, I'm a newbie. Thanks!</p>\n\n<pre><code>//enter own ports   \nusing namespace std;\n    cout &lt;&lt; \"enter a port number between 1000-9999: \"; // gets port from user input\n    cin &gt;&gt; startingport;\n\n\nfor (int i=0; i&lt;32; i++) // defines 32 ports starting with user input\n    {\n    sprintf(portchar, \"%d\", startingport+i);\n    cout &lt;&lt; \"defining port: \" &lt;&lt; portchar &lt;&lt; endl; // gives correct value\n    portarray[i] = portchar;\n    }\n\ncout &lt;&lt; portarray[0] &lt;&lt; endl; // gives incorrect value\n</code></pre>\n\n<p>Sorry should have put this before-- I have definitions in another file. I need port to be a character, hence portchar</p>\n\n<pre><code>static int startingport;\nstatic char portchar[6];\nstatic char *portarray[32];\n</code></pre>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 0, "creation_date": 1430336150, "post_id": 29951448, "comment_id": 48026712, "body": "It draws a triangle for me. Can you try replacing your <code>vector</code> array with just an array of floats and uploading that to your buffer? Technically C++ doesn&#39;t guarantee how those structs will be laid out."}, {"owner": {"reputation": 10475, "user_id": 80630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cab57dc435093a99f6fb52726ddb88?s=128&d=identicon&r=PG", "display_name": "Elliot Nelson", "link": "https://stackoverflow.com/users/80630/elliot-nelson"}, "reply_to_user": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 0, "creation_date": 1430336956, "post_id": 29951448, "comment_id": 48027181, "body": "Didn&#39;t realize that!  I tried just uploading an array of float[9] instead, and still no triangle.  The fact that the code <i>works</i> for you is useful info though... Could it be OpenGL version?  I printed <code>glGetString(GL_VERSION)</code> from within my program and got <code>2.1 NVIDIA-10.0.43 310.41.05f0</code>.  I&#39;m not doing anything outside of OpenGL 2.0, am I?"}, {"owner": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 0, "creation_date": 1430337289, "post_id": 29951448, "comment_id": 48027374, "body": "I have an OpenGL 4.4 compatibility context, so it&#39;s very much within the realm of possibilities. I&#39;m looking at some docs now to see."}, {"owner": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 1, "creation_date": 1430337511, "post_id": 29951448, "comment_id": 48027486, "body": "Something does come to mind though: you&#39;re using programmable pipeline features without using shaders, so it might just be OpenGL undefined behavior we&#39;re experiencing. Since I have an AMD card while you have NVidia, they just might be responding differently to it. However I&#39;m not sure; I&#39;ve only personally worked with OpenGL 3.3+ core contexts."}, {"owner": {"reputation": 10475, "user_id": 80630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cab57dc435093a99f6fb52726ddb88?s=128&d=identicon&r=PG", "display_name": "Elliot Nelson", "link": "https://stackoverflow.com/users/80630/elliot-nelson"}, "reply_to_user": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 0, "creation_date": 1430340185, "post_id": 29951448, "comment_id": 48029014, "body": "@chbaker0, it was shaders after all.  Feel free to post in answer form if you&#39;d like.  I will update the question with my exact steps as well."}, {"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "edited": false, "score": 0, "creation_date": 1430343528, "post_id": 29951448, "comment_id": 48030888, "body": "@ElliotNelson, you should post your Update as an answer."}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "edited": false, "score": 0, "creation_date": 1430345424, "post_id": 29951448, "comment_id": 48031697, "body": "@ElliotNelson: the code does <i>not</i> produce undefined behavior, and drawing without shaders is fine in GL 2.x. Furthermore, your shader using <code>ftransform()</code> relies on the aliasing of generic attribute 0 to the builtin vertex attribute in the same way the fixed-function pipeline did. You might just have triggered some driver bug, though."}], "answers": [{"tags": [], "owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "is_accepted": false, "score": 2, "last_activity_date": 1430354030, "last_edit_date": 1430354030, "creation_date": 1430353655, "answer_id": 29956957, "question_id": 29951448, "link": "https://stackoverflow.com/questions/29951448/opengl-refuses-to-draw-a-triangle/29956957#29956957", "title": "OpenGL refuses to draw a triangle", "body": "<p>I do not know if this will help you or not but in your create_vbo() function where you have:</p>\n\n<pre><code>  glBufferData(GL_ARRAY_BUFFER, sizeof(verts), verts, GL_STATIC_DRAW);\n</code></pre>\n\n<p>try this instead:</p>\n\n<pre><code>  glBufferData( GL_ARRAY_BUFFER, sizeof( verts[0] * 3 ), &amp;verts[0], GL_STATIC_DRAW );\n</code></pre>\n\n<p>And after this function call add in this function call to the end of your create_vbo() function</p>\n\n<pre><code>// This MUST BE LAST! Used to Stop The Buffer!\nglBindBuffer( GL_ARRAY_BUFFER, 0 ); \n</code></pre>\n\n<p>It is hard for me to see your error. In my projects I do have some vbos, but I am also using vaos as well. My code is able to working in OpenGL 2.0 - 4.5 but for the older versions there is a split in logic because of the deprecated functions within the API. I also do not use glut. I hope this helps.</p>\n\n<p>The other thing I noticed too is did you pay attention to your vertex winding order? Meaning are they being used by OpenGL in a CCW order or  CW order? Is back face culling turned on or off? There are a lot of elements to consider when setting up and configuring an OpenGL context. It has been a while since I worked with older versions of OpenGL but I do know that once you start working with a specific version or newer you will have to supply your own model view projection matrix, just something to consider. </p>\n"}, {"tags": [], "owner": {"reputation": 10475, "user_id": 80630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cab57dc435093a99f6fb52726ddb88?s=128&d=identicon&r=PG", "display_name": "Elliot Nelson", "link": "https://stackoverflow.com/users/80630/elliot-nelson"}, "is_accepted": true, "score": 0, "last_activity_date": 1534768401, "creation_date": 1534768401, "answer_id": 51930856, "question_id": 29951448, "link": "https://stackoverflow.com/questions/29951448/opengl-refuses-to-draw-a-triangle/51930856#51930856", "title": "OpenGL refuses to draw a triangle", "body": "<p>The issue I ran into was using pipeline features without defining a shader program. The spec says this <em>should</em> work, but on my graphics card it did not did. (See my update in the question for more specifics).</p>\n\n<p>Thanks to all the commenters for nudging me in the right direction.</p>\n"}], "owner": {"reputation": 10475, "user_id": 80630, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cab57dc435093a99f6fb52726ddb88?s=128&d=identicon&r=PG", "display_name": "Elliot Nelson", "link": "https://stackoverflow.com/users/80630/elliot-nelson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1968, "favorite_count": 0, "accepted_answer_id": 51930856, "answer_count": 2, "score": 4, "last_activity_date": 1534768401, "creation_date": 1430331416, "last_edit_date": 1430340937, "question_id": 29951448, "link": "https://stackoverflow.com/questions/29951448/opengl-refuses-to-draw-a-triangle", "title": "OpenGL refuses to draw a triangle", "body": "<p>I'm attempting to draw a single large triangle in a window in OpenGL. My program compiles and runs, but I get just a black screen in my window.</p>\n\n<p>I've checked and double-checked multiple tutorials and it seems like my steps are correct... Am I missing something obvious?</p>\n\n<p>Here is the program in its entirety:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;GL/glew.h&gt;\n#include &lt;GLUT/glut.h&gt;\n\nGLuint VBO;\n\nstruct vector {\n  float _x;\n  float _y;\n  float _z;\n  vector() { }\n  vector(float x, float y, float z) { _x = x; _y = y; _z = z; }\n};\n\nvoid render()\n{\n  glClear(GL_COLOR_BUFFER_BIT);\n\n  glEnableVertexAttribArray(0);\n  glBindBuffer(GL_ARRAY_BUFFER, VBO);\n  glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, 0);\n\n  glDrawArrays(GL_TRIANGLES, 0, 3);\n\n  glDisableVertexAttribArray(0);\n\n  glutSwapBuffers();\n}\n\nvoid create_vbo()\n{\n  vector verts[3];\n  verts[0] = vector(-1.0f, -1.0f, 0.0f);\n  verts[1] = vector(1.0f, -1.0f, 0.0f);\n  verts[2] = vector(0.0f, 1.0f, 0.0f);\n\n    glGenBuffers(1, &amp;VBO);\n    glBindBuffer(GL_ARRAY_BUFFER, VBO);\n    glBufferData(GL_ARRAY_BUFFER, sizeof(verts), verts, GL_STATIC_DRAW);\n}\n\nint main(int argc, char** argv)\n{\n    glutInit(&amp;argc, argv);\n    glutInitDisplayMode(GLUT_DOUBLE|GLUT_RGBA);\n    glutInitWindowSize(1024, 768);\n    glutInitWindowPosition(100, 100);\n    glutCreateWindow(\"Triangle Test\");\n    glutDisplayFunc(render);\n\n    glewInit();\n\n    glClearColor(0.0f, 0.0f, 0.0f, 0.0f);\n\n    create_vbo();\n    glutMainLoop();\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Update:</strong> It turns out that drawing this way without a \"program\" (that is, compiled shader files) produces undefined behavior (the newer your graphics card, the more likely it is to work, however).</p>\n\n<p>Because my card is right on the edge and only supports OpenGL 2.1, it was a little difficult to find an appropriate shader example that would work -- seems like there are many different tutorials out there written at different stages in the evolution of OpenGL.</p>\n\n<p>My vertex shader (entire file):</p>\n\n<pre><code>void main()\n{\n  gl_Position = ftransform();\n}\n</code></pre>\n\n<p>My fragment shader (entire file):</p>\n\n<pre><code>void main()\n{\n    gl_FragColor = vec4(0.4,0.4,0.8,1.0);\n}\n</code></pre>\n\n<p>I used the example <code>LoadShaders</code> function from <a href=\"http://www.opengl-tutorial.org/beginners-tutorials/tutorial-2-the-first-triangle/\" rel=\"nofollow\">this OpenGL Tutorial Site</a> to create the program, and now, I, too, can see the triangle!</p>\n\n<p>(Thanks to @chbaker0 for pointing me in the right direction.)</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 4, "creation_date": 1430331451, "post_id": 29951405, "comment_id": 48023821, "body": "how do you display values?"}, {"owner": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 1, "creation_date": 1430331599, "post_id": 29951405, "comment_id": 48023915, "body": "also, there is no such OS like <code>sql server 2008 64 bit OS</code>"}, {"owner": {"reputation": 369, "user_id": 3374456, "user_type": "registered", "accept_rate": 5, "profile_image": "https://graph.facebook.com/1475851013/picture?type=large", "display_name": "Biryukov Pavel", "link": "https://stackoverflow.com/users/3374456/biryukov-pavel"}, "reply_to_user": {"reputation": 20558, "user_id": 2864275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p2xKk.png?s=128&g=1", "display_name": "I\u0142ya Bursov", "link": "https://stackoverflow.com/users/2864275/i%c5%82ya-bursov"}, "edited": false, "score": 0, "creation_date": 1430372823, "post_id": 29951405, "comment_id": 48040255, "body": "Sorry i meant Windows server 2008 OS. i&#39;m using time_t object to display the value. time_t current_time = time(NULL); LONGLONG x = current_time;"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1430378055, "post_id": 29951405, "comment_id": 48042974, "body": "If you want to correct a mistake in your question, you should exit the question, not just mention it in a comment."}], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 3374456, "user_type": "registered", "accept_rate": 5, "profile_image": "https://graph.facebook.com/1475851013/picture?type=large", "display_name": "Biryukov Pavel", "link": "https://stackoverflow.com/users/3374456/biryukov-pavel"}, "edited": false, "score": 0, "creation_date": 1430650998, "post_id": 29951485, "comment_id": 48143908, "body": "In my case that was a misunderstood behavior that was caused by bad licensing. That may cause additional functions not to work correctly not only time."}], "tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": false, "score": 0, "last_activity_date": 1430331516, "creation_date": 1430331516, "answer_id": 29951485, "question_id": 29951405, "link": "https://stackoverflow.com/questions/29951405/strange-behavior-when-using-timenull/29951485#29951485", "title": "Strange behavior when using time(NULL)", "body": "<p>According to <a href=\"http://en.cppreference.com/w/cpp/chrono/c/time\" rel=\"nofollow\">this</a> reference for <a href=\"http://en.cppreference.com/w/c/chrono/time\" rel=\"nofollow\">std::time()</a>:</p>\n\n<blockquote>\n  <p>The encoding of calendar time in std::time_t is unspecified, but most\n  systems conform to <a href=\"http://pubs.opengroup.org/onlinepubs/9699919799/functions/time.html\" rel=\"nofollow\">POSIX specification</a> and return a value of integral\n  type holding the number of seconds since the Epoch. Implementations in\n  which std::time_t is a 32-bit signed integer (many historical\n  implementations) fail in the year 2038.</p>\n</blockquote>\n\n<p>So it seems the return value of time is not guaranteed to be \" the number of seconds since 1.1.1970\".</p>\n"}, {"comments": [{"owner": {"reputation": 369, "user_id": 3374456, "user_type": "registered", "accept_rate": 5, "profile_image": "https://graph.facebook.com/1475851013/picture?type=large", "display_name": "Biryukov Pavel", "link": "https://stackoverflow.com/users/3374456/biryukov-pavel"}, "edited": false, "score": 0, "creation_date": 1430373163, "post_id": 29951497, "comment_id": 48040415, "body": "That looks like the problem. The question is how did that happen."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 1, "last_activity_date": 1430331547, "creation_date": 1430331547, "answer_id": 29951497, "question_id": 29951405, "link": "https://stackoverflow.com/questions/29951405/strange-behavior-when-using-timenull/29951497#29951497", "title": "Strange behavior when using time(NULL)", "body": "<p>The return value of <a href=\"http://en.cppreference.com/w/cpp/chrono/c/time\" rel=\"nofollow\"><code>std::time</code></a> is unspecified:</p>\n\n<blockquote>\n  <p>The encoding of calendar time in <code>std::time_t</code> is unspecified, but <strong>most</strong> systems conform to POSIX specification and return a value of integral type holding the number of seconds since the Epoch. Implementations in which std::time_t is a 32-bit signed integer (many historical implementations) fail in the year 2038.</p>\n</blockquote>\n\n<p>Looks like one of your systems gave what you expected the POSIX version to give and the other... didn't?</p>\n\n<p>Note that <a href=\"http://en.cppreference.com/w/cpp/chrono/c/time_t\" rel=\"nofollow\"><code>std::time_t</code></a> itself is also unspecified:</p>\n\n<blockquote>\n<pre><code>typedef /* unspecified */ time_t;\n</code></pre>\n  \n  <p>Although not defined, this is <strong>almost</strong> always an integral value holding the number of seconds (not counting leap seconds) since 00:00, Jan 1 1970 UTC, corresponding to POSIX time.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 369, "user_id": 3374456, "user_type": "registered", "accept_rate": 5, "profile_image": "https://graph.facebook.com/1475851013/picture?type=large", "display_name": "Biryukov Pavel", "link": "https://stackoverflow.com/users/3374456/biryukov-pavel"}, "is_accepted": false, "score": 0, "last_activity_date": 1430377871, "creation_date": 1430377871, "answer_id": 29961251, "question_id": 29951405, "link": "https://stackoverflow.com/questions/29951405/strange-behavior-when-using-timenull/29961251#29961251", "title": "Strange behavior when using time(NULL)", "body": "<p>It looks like the problem was caused by windows licensing problem, we had to activate it after 30 days and we did renewed the licence but restart to our services didn't helped, but when i re installed our application i started to work.</p>\n\n<p>Regards,\nPavel.</p>\n"}], "owner": {"reputation": 369, "user_id": 3374456, "user_type": "registered", "accept_rate": 5, "profile_image": "https://graph.facebook.com/1475851013/picture?type=large", "display_name": "Biryukov Pavel", "link": "https://stackoverflow.com/users/3374456/biryukov-pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1430377871, "creation_date": 1430331260, "last_edit_date": 1430331551, "question_id": 29951405, "link": "https://stackoverflow.com/questions/29951405/strange-behavior-when-using-timenull", "title": "Strange behavior when using time(NULL)", "body": "<p>I'm using</p>\n\n<pre><code>time_t t = time(NULL);\n</code></pre>\n\n<p>to get the number of seconds since <strong>1.1.1970</strong>.</p>\n\n<p>On two separate machines I get two different values, on one I get <code>1,419,120,000</code> on the other i get <code>7,812,616,799,348,535,896</code>. </p>\n\n<p>It's important to say that the value was fine on both machines but suddenly stopped working. other machines run the same code for a long time without any issues.</p>\n\n<p>In addition the project compiled as a 32 bit project whereas the project runs on sql server 2008 64 bit OS.</p>\n\n<p>Any suggestions ? </p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "output"], "comments": [{"owner": {"reputation": 1700, "user_id": 2125444, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/VqC96.jpg?s=128&g=1", "display_name": "reggaeguitar", "link": "https://stackoverflow.com/users/2125444/reggaeguitar"}, "edited": false, "score": 0, "creation_date": 1430331216, "post_id": 29951365, "comment_id": 48023659, "body": "What&#39;s the problem? Read this before posting please sscce.org"}, {"owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "edited": false, "score": 4, "creation_date": 1430331296, "post_id": 29951365, "comment_id": 48023715, "body": "You probably should&#39;ve started your homework sooner."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1430338893, "post_id": 29951365, "comment_id": 48028268, "body": "You should factor the <code>system(&quot;cls&quot;);</code> to before <code>switch</code> statement or, IMO, out of the program entirely.  When <code>cases</code> contain the same code, the code may be a candidate to place before or after the <code>switch</code> statement."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 1, "last_activity_date": 1430339317, "creation_date": 1430339317, "answer_id": 29953909, "question_id": 29951365, "link": "https://stackoverflow.com/questions/29951365/how-to-write-listed-records-in-a-text-file/29953909#29953909", "title": "How to write &#39;&#39;Listed Records&#39;&#39; in a text file?", "body": "<p>To keep records in a file, you write them to the file:</p>\n\n<pre><code>fwrite(&amp;variable, 1, sizeof(record), file_pointer);\n</code></pre>\n\n<p>To read a record from a file:</p>\n\n<pre><code>fread(&amp;variable, 1, sizeof(record), file_pointer);\n</code></pre>\n\n<p>To position to record Y in the file:</p>\n\n<pre><code>  fseek(file_pointer, (Y * sizeof(record)), SEEK_SET);\n</code></pre>\n\n<p>If this is not helpful, please clarify \"keep in a file\", or state why it is not helpful.</p>\n"}], "owner": {"reputation": 3, "user_id": 4698556, "user_type": "registered", "profile_image": "https://graph.facebook.com/804884569603085/picture?type=large", "display_name": "Tuna Din&#231;", "link": "https://stackoverflow.com/users/4698556/tuna-din%c3%a7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 377, "favorite_count": 0, "closed_date": 1445479535, "accepted_answer_id": 29953909, "answer_count": 1, "score": -7, "last_activity_date": 1445449194, "creation_date": 1430331141, "last_edit_date": 1445449194, "question_id": 29951365, "link": "https://stackoverflow.com/questions/29951365/how-to-write-listed-records-in-a-text-file", "closed_reason": "Needs details or clarity", "title": "How to write &#39;&#39;Listed Records&#39;&#39; in a text file?", "body": "<p>I am doing a project and I want to know how I can keep the records in a text file, the information that I can see in the second section (List Records).</p>\n\n<pre><code>#include &lt;stdio.h&gt; ///for input output functions like printf, scanf\n#include &lt;stdlib.h&gt;\n#include &lt;conio.h&gt;\n#include &lt;windows.h&gt; ///for windows related functions (not important)\n#include &lt;string.h&gt;  ///string operations\n\n/** List of Global Variable */\nCOORD coord = {0,0}; /// top-left corner of window\n\n/**\n    function : gotoxy\n    @param input: x and y coordinates\n    @param output: moves the cursor in specified position of console\n*/\nvoid gotoxy(int x,int y){\n    coord.X = x; coord.Y = y;\n    SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE),coord);\n}\n\n/** Main function started */\n\n\n\nint main(){\n    ofstream outputFile;\n    outputFile.open(\"program3data.txt\");\n    FILE *fp, *ft; /// file pointers\n    char another, choice;\n\n    /** structure that represent a employee */\n    struct emp{\n        char name[40]; ///name of employee\n        int age; /// age of employee\n        float bs; /// basic salary of employee\n};\n\nstruct emp e; /// structure variable creation\n\nchar empname[40]; /// string to store name of the employee\n\nlong int recsize; /// size of each record of employee\n\n/** open the file in binary read and write mode\n* if the file EMP.DAT already exists then it open that file in read write mode\n* if the file doesn't exit it simply create a new copy\n*/\nfp = fopen(\"EMP.DAT\",\"rb+\");\nif(fp == NULL){\n    fp = fopen(\"EMP.DAT\",\"wb+\");\n    if(fp == NULL){\n        printf(\"Connot open file\");\n        exit(1);\n    }\n}\n\n/// sizeo of each record i.e. size of structure variable e\nrecsize = sizeof(e);\n\n/// infinite loop continues untile the break statement encounter\nwhile(1){\n    system(\"cls\"); ///clear the console window\n    gotoxy(30,10); /// move the cursor to postion 30, 10 from top-left corner\n    printf(\"1. Add Record\"); /// option for add record\n    gotoxy(30,12);\n    printf(\"2. List Records\"); /// option for showing existing record\n    gotoxy(30,14);\n    printf(\"3. Modify Records\"); /// option for editing record\n    gotoxy(30,16);\n    printf(\"4. Delete Records\"); /// option for deleting record\n    gotoxy(30,18);\n    printf(\"5. Exit\"); /// exit from the program\n    gotoxy(30,20);\n    printf(\"Your Choice: \"); /// enter the choice 1, 2, 3, 4, 5\n    fflush(stdin); /// flush the input buffer\n    choice  = getche(); /// get the input from keyboard\n    switch(choice){\n        case '1':  /// if user press 1\n            system(\"cls\");\n            fseek(fp,0,SEEK_END); /// search the file and move cursor to end of the file\n                                    /// here 0 indicates moving 0 distance from the end of the file\n\n            another = 'y';\n            while(another == 'y'){ /// if user want to add another record\n                printf(\"\\nEnter name: \");\n                scanf(\"%s\",e.name);\n                printf(\"\\nEnter age: \");\n                scanf(\"%d\", &amp;e.age);\n                printf(\"\\nEnter basic salary: \");\n                scanf(\"%f\", &amp;e.bs);\n\n                fwrite(&amp;e,recsize,1,fp); /// write the record in the file\n\n                printf(\"\\nAdd another record(y/n) \");\n                fflush(stdin);\n                another = getche();\n            }\n            break;\n        case '2':\n            system(\"cls\");\n            rewind(fp); ///this moves file cursor to start of the file\n            while(fread(&amp;e,recsize,1,fp)==1){ /// read the file and fetch the record one record per fetch\n                printf(\"\\n%s %d %.2f\",e.name,e.age,e.bs); /// print the name, age and basic salary\n            }\n            getch();\n            break;\n\n        case '3':  /// if user press 3 then do editing existing record\n            system(\"cls\");\n            another = 'y';\n            while(another == 'y'){\n                printf(\"Enter the employee name to modify: \");\n                scanf(\"%s\", empname);\n                rewind(fp);\n                while(fread(&amp;e,recsize,1,fp)==1){ /// fetch all record from file\n                    if(strcmp(e.name,empname) == 0){ ///if entered name matches with that in file\n                        printf(\"\\nEnter new name,age and bs: \");\n                        scanf(\"%s%d%f\",e.name,&amp;e.age,&amp;e.bs);\n                        fseek(fp,-recsize,SEEK_CUR); /// move the cursor 1 step back from current position\n                        fwrite(&amp;e,recsize,1,fp); /// override the record\n                        break;\n                    }\n                }\n                printf(\"\\nModify another record(y/n)\");\n                fflush(stdin);\n                another = getche();\n            }\n            break;\n        case '4':\n            system(\"cls\");\n            another = 'y';\n            while(another == 'y'){\n                printf(\"\\nEnter name of employee to delete: \");\n                scanf(\"%s\",empname);\n                ft = fopen(\"Temp.dat\",\"wb\");  /// create a intermediate file for temporary storage\n                rewind(fp); /// move record to starting of file\n                while(fread(&amp;e,recsize,1,fp) == 1){ /// read all records from file\n                    if(strcmp(e.name,empname) != 0){ /// if the entered record match\n                        fwrite(&amp;e,recsize,1,ft); /// move all records except the one that is to be deleted to temp file\n                        }\n                    }\n                    fclose(fp);\n                    fclose(ft);\n                    remove(\"EMP.DAT\"); /// remove the orginal file\n                    rename(\"Temp.dat\",\"EMP.DAT\"); /// rename the temp file to original file name\n                    fp = fopen(\"EMP.DAT\", \"rb+\");\n                    printf(\"Delete another record(y/n)\");\n                    fflush(stdin);\n                    another = getche();\n                }\n                break;\n            case '5':\n                fclose(fp);  /// close the file\n                exit(0); /// exit from the program\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "g++"], "comments": [{"owner": {"reputation": 603, "user_id": 4142717, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ka9sc.jpg?s=128&g=1", "display_name": "sabreitweiser", "link": "https://stackoverflow.com/users/4142717/sabreitweiser"}, "edited": false, "score": 1, "creation_date": 1430333644, "post_id": 29951323, "comment_id": 48025184, "body": "For what it&#39;s worth, this kind of operator overloading is pretty standard, and IMO no more ugly than anything in boost or many other &quot;good&quot; C++ libraries. I&#39;ve used it before on (relatively) high-performance code, and I can&#39;t think of another good way to get the syntax you want without major changes."}], "owner": {"reputation": 1517, "user_id": 275984, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/620339c024f25dbc2597a9d33c6eef54?s=128&d=identicon&r=PG", "display_name": "b0fh", "link": "https://stackoverflow.com/users/275984/b0fh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 207, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1442997176, "creation_date": 1430331028, "last_edit_date": 1442997176, "question_id": 29951323, "link": "https://stackoverflow.com/questions/29951323/how-to-properly-pad-matrix-rows-in-c", "title": "How to properly pad matrix rows in C++", "body": "<p>I want to store a dense N*M matrix in row-major order, and have every row aligned to some memory boundary (meaning rows may require some padding). N and M are known at compile time.</p>\n\n<p>If I define something like this:</p>\n\n<pre><code>typedef struct __attribute__((aligned(64))) { element_t in[M]; } row_t;\ntypedef row_t matrix_t[N];\n</code></pre>\n\n<p>I get what I want, but I have to access elements as <code>m[row].in[col]</code> instead of the simpler <code>m[row][col]</code>.</p>\n\n<p>I hoped to be able to do the following:</p>\n\n<pre><code>typedef __attribute__(aligned(64)) element_t row_t[M];\ntypedef row_t matrix_t[N];\n</code></pre>\n\n<p>but g++ complains that </p>\n\n<pre><code>test.cc:11: error: alignment of array elements is greater than element size\n</code></pre>\n\n<p>I know I can use my struct row_t version, and override the indexing operators to give me the simpler syntax:</p>\n\n<pre><code>typedef struct __attribute__((aligned(64))) {\n    element_t in[M];\n    element_t &amp;operator[](const int idx) {\n        return in[idx];\n    }\n} row_t;\ntypedef row_t matrix_t[N]\n</code></pre>\n\n<p>This works but is complicated and not very aesthetically pleasing.</p>\n\n<p>Surely there must be a better way to do this ?</p>\n"}, {"tags": ["c++", "c++14"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430331481, "post_id": 29951318, "comment_id": 48023837, "body": "Reading <a href=\"http://llvm.org/docs/GettingStartedVS.html\" rel=\"nofollow noreferrer\">llvm.org/docs/GettingStartedVS.html</a> makes me think: you have a brave heart"}], "answers": [{"comments": [{"owner": {"reputation": 21177, "user_id": 207177, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/73b25499d3e9e38f2ad41171ea77d912?s=128&d=identicon&r=PG", "display_name": "There is nothing we can do", "link": "https://stackoverflow.com/users/207177/there-is-nothing-we-can-do"}, "edited": false, "score": 1, "creation_date": 1430378933, "post_id": 29951851, "comment_id": 48043524, "body": "@andiduh hi, I want to thank you for your answer, it worked!!! Thank you very much. Would you have any idea why can&#39;t we just pass the -std=c++14 option? That is, why they didn&#39;t that way so we can use that option without &#39;Xclang&#39;? I mean we do use clang compiler, why not to be able to simply pass arguments to it?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 21177, "user_id": 207177, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/73b25499d3e9e38f2ad41171ea77d912?s=128&d=identicon&r=PG", "display_name": "There is nothing we can do", "link": "https://stackoverflow.com/users/207177/there-is-nothing-we-can-do"}, "edited": false, "score": 3, "creation_date": 1430401083, "post_id": 29951851, "comment_id": 48058087, "body": "@Thereisnothingwecando Complete guess: The shim is designed to accept arguments that VS wants to pass it its compiler (cl).  Rather than teach VS how to talk to clang, they wrote a ship (clang-cl) that translates arguements that VS would use to talk to cl into clang-ese.  If you want to talk <i>directly</i> to clang, you have to &quot;escape&quot; your argument.  Passing &quot;any argument clang-cl does not know to be a cl argument&quot; to clang would be a dangerous mess: whitelisting is safer than blacklisting."}], "tags": [], "owner": {"reputation": 10168, "user_id": 344638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dieij.jpg?s=128&g=1", "display_name": "antiduh", "link": "https://stackoverflow.com/users/344638/antiduh"}, "is_accepted": true, "score": 19, "last_activity_date": 1541437378, "last_edit_date": 1541437378, "creation_date": 1430332578, "answer_id": 29951851, "question_id": 29951318, "link": "https://stackoverflow.com/questions/29951318/enabling-c14-in-clang-in-visual-studio/29951851#29951851", "title": "Enabling C++14 in clang in Visual Studio", "body": "<p><code>clang-cl</code> doesn't use the same option syntax as traditional clang - it's supposed to mimic Visual Studio's <code>cl</code> command line, not <code>clang</code>'s command line.</p>\n\n<p>For instance, from <code>clang-cl</code>'s <a href=\"http://clang.llvm.org/docs/UsersManual.html#clang-cl\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<pre><code>CL.EXE COMPATIBILITY OPTIONS:\n  /?                     Display available options\n  /arch:&lt;value&gt;          Set architecture for code generation\n  /C                     Don't discard comments when preprocessing\n  /c                     Compile only\n  /D &lt;macro[=value]&gt;     Define macro\n  ...\n</code></pre>\n\n<p>Notice that those options are similar to Microsoft's <code>cl</code> option syntax, not <code>clang</code>'s option syntax.</p>\n\n<p>However, they have a little pass-through option to support cases like yours:</p>\n\n<pre><code>OPTIONS:\n  ...\n  -Xclang &lt;arg&gt;         Pass &lt;arg&gt; to the clang compiler\n  -mllvm &lt;value&gt;        Additional arguments to forward to LLVM's option processing\n</code></pre>\n\n<p>And so it would seem that invoking <code>clang-cl -Xclang -std=c++14</code> would be your best bet.</p>\n"}, {"comments": [{"owner": {"reputation": 10168, "user_id": 344638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dieij.jpg?s=128&g=1", "display_name": "antiduh", "link": "https://stackoverflow.com/users/344638/antiduh"}, "edited": false, "score": 0, "creation_date": 1541437298, "post_id": 47425230, "comment_id": 93208342, "body": "Thanks for filling in the background. But regarding this statement &quot;The -Xclang flags are internal flags and are not considered a stable interface&quot; - why is &#39;-XClang&#39; part of the help text? It&#39;s not internal if its widely advertised."}], "tags": [], "owner": {"reputation": 4257, "user_id": 551986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac2dbd10b926229854198fbbedfe8c8b?s=128&d=identicon&r=PG", "display_name": "thakis", "link": "https://stackoverflow.com/users/551986/thakis"}, "is_accepted": false, "score": 6, "last_activity_date": 1511312568, "creation_date": 1511312568, "answer_id": 47425230, "question_id": 29951318, "link": "https://stackoverflow.com/questions/29951318/enabling-c14-in-clang-in-visual-studio/47425230#47425230", "title": "Enabling C++14 in clang in Visual Studio", "body": "<p>I work on clang-cl. As antiduh says, clang-cl tries to mimic Visual Studio's <code>cl</code>. <code>cl</code> up to and including c++14 didn't have a switch for enabling language modes, it just always enabled all the latest stuff. Hence, clang-cl does too. MSVC gained some C++14 support in MSVC 2015, so if you tell clang-cl that you want it to emulate MSVC 2015 or later, it will automatically enable C++14. clang-cl by default emulates the version of MSVC found on your system. You can explicitly pass <code>-fmsc-version=1900</code> to force emulation of 2015, which will then implicitly enable C++14.</p>\n\n<p>As of MSVC 2017, cl.exe supports a <a href=\"https://docs.microsoft.com/en-us/cpp/build/reference/std-specify-language-standard-version\" rel=\"noreferrer\"><code>/std:</code> flag</a>, so clang-cl supports that too. It can be used to enable C++14 (the lowest level), C++17, C++20, or the newest-known version.</p>\n\n<p>The <code>-Xclang</code> flags are internal flags and are not considered a stable interface. So do not use those.</p>\n"}], "owner": {"reputation": 21177, "user_id": 207177, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/73b25499d3e9e38f2ad41171ea77d912?s=128&d=identicon&r=PG", "display_name": "There is nothing we can do", "link": "https://stackoverflow.com/users/207177/there-is-nothing-we-can-do"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3490, "favorite_count": 5, "accepted_answer_id": 29951851, "answer_count": 2, "score": 12, "last_activity_date": 1541437378, "creation_date": 1430331015, "last_edit_date": 1430332343, "question_id": 29951318, "link": "https://stackoverflow.com/questions/29951318/enabling-c14-in-clang-in-visual-studio", "title": "Enabling C++14 in clang in Visual Studio", "body": "<p>I've installed clang 3.7 and I'm using it with visual studio. When I try to compile:</p>\n\n<pre><code>auto f()\n{\nreturn 2;\n}\n</code></pre>\n\n<p>I'm getting error saying that this is future from C++14. I've tried to pass:<br>\n-std=c++14 as compiler arguments but then I'm getting error:  </p>\n\n<p>Error   1   error : unknown argument: '-std=c++14'  <em>C:\\Users...\\visual studio 2013\\Projects\\ConsoleApplication8\\ConsoleApplication8\\clang-cl.exe  ConsoleApplication8.</em>    </p>\n\n<p>Any ideas how to enable c++14 features in clang under Visual Studio 2013?</p>\n\n<p>Edit:<br>\nI have to add that I am able to compile and build c++11 code with this compiler under Visual Studio without any problems.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1430330884, "post_id": 29951273, "comment_id": 48023448, "body": "Ok... so what&#39;s the question?"}, {"owner": {"reputation": 13, "user_id": 4847523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5dcab66eecfde4a554d50a95da5106?s=128&d=identicon&r=PG&f=1", "display_name": "simplegamer", "link": "https://stackoverflow.com/users/4847523/simplegamer"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1430331569, "post_id": 29951273, "comment_id": 48023893, "body": "How do I read that text file I made in the &quot;Get_Answers&quot; function to the main function.... or should I say how do I input the text file into my main function?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 4847523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5dcab66eecfde4a554d50a95da5106?s=128&d=identicon&r=PG&f=1", "display_name": "simplegamer", "link": "https://stackoverflow.com/users/4847523/simplegamer"}, "edited": false, "score": 0, "creation_date": 1430332489, "post_id": 29951521, "comment_id": 48024419, "body": "Basically the user enters 20 answers in the Get_answers function. The answers are then written on to a text file. My problem is idk how to get the text file answers into my main function. Sorry if I&#39;m confusing anyone I&#39;m a beginner."}, {"owner": {"reputation": 38, "user_id": 3838665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6652d2c0a399e53cc983d1e8492e6b?s=128&d=identicon&r=PG&f=1", "display_name": "user262163", "link": "https://stackoverflow.com/users/3838665/user262163"}, "reply_to_user": {"reputation": 13, "user_id": 4847523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5dcab66eecfde4a554d50a95da5106?s=128&d=identicon&r=PG&f=1", "display_name": "simplegamer", "link": "https://stackoverflow.com/users/4847523/simplegamer"}, "edited": false, "score": 0, "creation_date": 1430332707, "post_id": 29951521, "comment_id": 48024555, "body": "Well one thing you can do then if you want to compare is save both to files then open both and save both to arrays using the information  I posted. After that, you can make another for loop that uses the counter data and compares the elements of the array. For example, If arr[i] != arr1[i], the answer is wrong.  Maybe have a variable for wrong answers and right answers and each time it is wrong, it increases wrong, otherwise it increases right."}], "tags": [], "owner": {"reputation": 38, "user_id": 3838665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b6652d2c0a399e53cc983d1e8492e6b?s=128&d=identicon&r=PG&f=1", "display_name": "user262163", "link": "https://stackoverflow.com/users/3838665/user262163"}, "is_accepted": false, "score": 0, "last_activity_date": 1430332529, "last_edit_date": 1430332529, "creation_date": 1430331615, "answer_id": 29951521, "question_id": 29951273, "link": "https://stackoverflow.com/questions/29951273/how-do-i-read-a-text-file-into-to-my-main-function-and-store-it-in-an-array/29951521#29951521", "title": "How do I read a text file into to my main function and store it in an array?", "body": "<p>If you mean store each line to an array, a for loop and getline should work well.</p>\n\n<p>Edit: judging by your previous answer, I would say yes this is how to do it.</p>\n\n<p>To elaborate a little more, a simple way of doing this would be to make a for loop to count how many lines there are, then go to the beginning of the file and make another for loop: for(int i = 0; i != lines; i++) </p>\n\n<p>Then in the for loop make it array[i] = getline(file,string);</p>\n\n<p>You can use while(!file.EOF()) instead of the for loop and the while loop. I just prefer getting a line count for some reason.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 1142089, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/2495c7af147e15a7d29b23597f83f159?s=128&d=identicon&r=PG", "display_name": "Mike Weber", "link": "https://stackoverflow.com/users/1142089/mike-weber"}, "is_accepted": false, "score": 0, "last_activity_date": 1430331786, "creation_date": 1430331786, "answer_id": 29951584, "question_id": 29951273, "link": "https://stackoverflow.com/questions/29951273/how-do-i-read-a-text-file-into-to-my-main-function-and-store-it-in-an-array/29951584#29951584", "title": "How do I read a text file into to my main function and store it in an array?", "body": "<p>You can do it following this code:</p>\n\n<pre><code>  std::ifstream is (\"test.txt\", std::ifstream::binary);\n  if (is) {\n    // get length of file:\n    is.seekg (0, is.end);\n    int length = is.tellg();\n    is.seekg (0, is.beg);\n\n    char * buffer = new char [length];\n\n    std::cout &lt;&lt; \"Reading \" &lt;&lt; length &lt;&lt; \" characters... \";\n    // read data as a block:\n    is.read (buffer,length);\n\n    if (is)\n      std::cout &lt;&lt; \"all characters read successfully.\";\n    else\n      std::cout &lt;&lt; \"error: only \" &lt;&lt; is.gcount() &lt;&lt; \" could be read\";\n    is.close();\n\n    // ...buffer contains the entire file...\n\n    delete[] buffer;\n  }\n</code></pre>\n\n<p>Found this snippet of code here: <a href=\"http://www.cplusplus.com/reference/istream/istream/read/\" rel=\"nofollow\">http://www.cplusplus.com/reference/istream/istream/read/</a></p>\n\n<p>Replace \"test.txt\" with the name of your file.  However your main code has no way of knowing what the file name is created in Get_Answers().</p>\n"}, {"comments": [{"owner": {"reputation": 108, "user_id": 4800401, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7c7445e65aca539437570d78c75dc72a?s=128&d=identicon&r=PG&f=1", "display_name": "irchris102", "link": "https://stackoverflow.com/users/4800401/irchris102"}, "edited": false, "score": 0, "creation_date": 1430345621, "post_id": 29952241, "comment_id": 48031771, "body": "@simplegamer: If any of the answer helped you, vote it up or mark it as an answer so the other users, who may stumble upon this question could easier get to the correct answer of your question."}], "tags": [], "owner": {"reputation": 108, "user_id": 4800401, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/7c7445e65aca539437570d78c75dc72a?s=128&d=identicon&r=PG&f=1", "display_name": "irchris102", "link": "https://stackoverflow.com/users/4800401/irchris102"}, "is_accepted": false, "score": 0, "last_activity_date": 1430333834, "creation_date": 1430333834, "answer_id": 29952241, "question_id": 29951273, "link": "https://stackoverflow.com/questions/29951273/how-do-i-read-a-text-file-into-to-my-main-function-and-store-it-in-an-array/29952241#29952241", "title": "How do I read a text file into to my main function and store it in an array?", "body": "<p>Ok, judging by what you wrote as your question and by my debug results, the problem you have is that you correctly read the file inside the function, but you don't pass this data outside the Get_Answers() function.</p>\n\n<p>I think the C++ way of doing this would be:</p>\n\n<p>1) Initialize a pointer to empty char array in main() function:</p>\n\n<pre><code>char* userAnswersPointer = new char[NUM_ANSWERS];\n</code></pre>\n\n<p>2) Parametrize your Get_Answer() function to pass a pointer to this array:</p>\n\n<pre><code>void Get_Answers(char* userAnswers_Ptr, int N_ANS) {\n\n//...\n\nfor (int i = 0; i &lt; N_ANS; i++)\n    {\n        cout &lt;&lt; \"\\nEnter the test answers \";\n        cin &gt;&gt; userAnswers_Ptr[i];\n\n        textFileOut &lt;&lt; userAnswers[i] &lt;&lt; '\\n';\n    }\n\n//...\n\n}\n</code></pre>\n\n<p>3) Use it properly in main():</p>\n\n<pre><code>int main() {\n\n    //...\n\n    Get_Answers(userAnswersPointer, NUM_ANSWERS);\n\n    //...\n\n    return 0;\n}\n</code></pre>\n\n<p>I didn't compile it, just wrote out of my head, so feel free to check this out. It should give you an idea how this should be done.</p>\n"}], "owner": {"reputation": 13, "user_id": 4847523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5dcab66eecfde4a554d50a95da5106?s=128&d=identicon&r=PG&f=1", "display_name": "simplegamer", "link": "https://stackoverflow.com/users/4847523/simplegamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1430333834, "creation_date": 1430330848, "last_edit_date": 1430330992, "question_id": 29951273, "link": "https://stackoverflow.com/questions/29951273/how-do-i-read-a-text-file-into-to-my-main-function-and-store-it-in-an-array", "title": "How do I read a text file into to my main function and store it in an array?", "body": "<p>I made a text file in my function I created and What I'm trying to do is read that text file in the main function then store the text file into an array. After I figure out how to do both I will compare the text file answers with the correct answers.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nvoid Get_Answers();\n\nint main()\n{   \n    const int NUM_ANSWERS = 20;\n    char answers[NUM_ANSWERS] = { 'A', 'D', 'B', 'B', 'C', 'B', 'A', 'B', 'C', 'D', 'A', 'C', 'D', 'B', 'D', 'C', 'C', 'A', 'D', 'B' };\n    string textName;\n\n    //Fuction for the users answers\n    Get_Answers();\n\n    ifstream textIn;\n    textIn.open(textName);\n\n    if (textIn.fail())\n    {\n        cout &lt;&lt; \"\\nFile not found; program will end\";\n        return (0);\n    }\n\n    cout &lt;&lt; endl &lt;&lt; endl;\n    system(\"pause\");\n    return(0);\n}\n\nvoid Get_Answers()\n{\n    const int NUM_ANSWERS = 20;\n    char userAnswers[NUM_ANSWERS];\n    string textName;\n\n    cout &lt;&lt; \"\\nEnter a text file name \";\n    cin &gt;&gt; textName;\n    ofstream textFileOut;\n    textFileOut.open(textName);\n\n    for (int i = 0; i &lt; NUM_ANSWERS; i++)\n    {\n        cout &lt;&lt; \"\\nEnter the test answers \";\n        cin &gt;&gt; userAnswers[i];\n\n        textFileOut &lt;&lt; userAnswers[i] &lt;&lt; '\\n';\n    }\n    textFileOut.close();\n}\n</code></pre>\n"}, {"tags": ["c++", "inheritance"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430330825, "post_id": 29951196, "comment_id": 48023410, "body": "Make Employee&#39;s destructor <code>virtual</code>, as well as <code>float paymentIs()</code>"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 1, "creation_date": 1430330888, "post_id": 29951196, "comment_id": 48023449, "body": "Protected members are not accessible from an outer scope. Just like private."}, {"owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "edited": false, "score": 0, "creation_date": 1430331753, "post_id": 29951196, "comment_id": 48024016, "body": "<code>main()</code> should return 0 upon successful termination. You can just leave it out for C++11 (and onward)."}], "answers": [{"comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1430330861, "post_id": 29951269, "comment_id": 48023435, "body": "In short: Add accessor methods."}], "tags": [], "owner": {"reputation": 35190, "user_id": 232403, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d4543939a5b9e820157f7e4d23c1d8d2?s=128&d=identicon&r=PG", "display_name": "a1ex07", "link": "https://stackoverflow.com/users/232403/a1ex07"}, "is_accepted": false, "score": 4, "last_activity_date": 1430330834, "creation_date": 1430330834, "answer_id": 29951269, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951269#29951269", "title": "Accessing Protected members by inheritance", "body": "<p>Inherited class is able to access protected members, but in your code you are trying to access it from <code>main</code> function , not from derived class methods...</p>\n"}, {"tags": [], "owner": {"reputation": 12893, "user_id": 922712, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/58c323703912545891e23986ae04e2fa?s=128&d=identicon&r=PG", "display_name": "user93353", "link": "https://stackoverflow.com/users/922712/user93353"}, "is_accepted": false, "score": 0, "last_activity_date": 1430330858, "creation_date": 1430330858, "answer_id": 29951277, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951277#29951277", "title": "Accessing Protected members by inheritance", "body": "<p>You can access it from inside the derived class but not from <code>main</code> (or from anywhere else except <code>Employee</code> and it's derived class).  </p>\n\n<p>In a method inside <code>Manager</code>, you will be able to access <code>protected</code> members of <code>Employee</code>, but will not be able to access <code>private</code> members of <code>Employee</code>. Outside of <code>Employee</code> and <code>Manager</code> (like in <code>main</code>), you can access only <code>public</code> members.</p>\n"}, {"tags": [], "owner": {"reputation": 64283, "user_id": 315052, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/AB5ST.png?s=128&g=1", "display_name": "jxh", "link": "https://stackoverflow.com/users/315052/jxh"}, "is_accepted": false, "score": 1, "last_activity_date": 1430331017, "creation_date": 1430331017, "answer_id": 29951319, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951319#29951319", "title": "Accessing Protected members by inheritance", "body": "<p>You are not allowed to access <code>Name_user</code> or <code>PerHr</code> from either <code>emp</code> or <code>man</code> in <code>main()</code>.</p>\n\n<p>The implementation of <code>Manager</code> is permitted to access protected members ofr <code>Employee</code>. And users or <code>Manager</code> are permitted to use the public interfaces of <code>Employee</code>, since it publicly inherits from <code>Employee</code>.</p>\n\n<p>So, from <code>man</code>, use the accessor methods just as you did for <code>emp</code>.</p>\n\n<pre><code>    cout &lt;&lt; \"Name inherited\" &lt;&lt; man.getName() &lt;&lt; endl;\n    cout &lt;&lt; \"Per hr pay is \" &lt;&lt; man.getPayPerHr() &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": false, "score": 1, "last_activity_date": 1430331055, "creation_date": 1430331055, "answer_id": 29951333, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951333#29951333", "title": "Accessing Protected members by inheritance", "body": "<blockquote>\n  <p>In this code <code>man</code> is not able to access protected member <code>Name_user</code> in the class <code>Employee</code></p>\n</blockquote>\n\n<p>You need to get clarity on what \"X accesses Y\" means in C++ terms.</p>\n\n<p>Above, <code>X</code> must be a <em>function</em>; data members and local variables cannot \"access\" anything, because they are passive.</p>\n\n<p>In your example, it is incorrect to say that <code>man</code> \"accesses\" anything in <code>man.Name_user</code>, because <code>man</code> is not a function.</p>\n\n<p>The function in this case is <code>main</code>, and it tries to access <code>Name_user</code> in the <code>Manager</code> class. It is a protected member, so free-standing functions such as <code>main</code> cannot access it.</p>\n\n<p>In order to get around this, make a public member function in <code>Manager</code>, and access <code>Name_user</code> from it:</p>\n\n<pre><code>class Manager : public Employee\n{\npublic:\n    Manager(){}\n    ~Manager(){}\n    float paymentIs() const ;\n    char name_user() const { return Name_user; }\n};\n</code></pre>\n\n<p>Now <code>main</code> can gain read access to <code>Name_user</code> by calling <code>man.name_user()</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 65594, "user_id": 459640, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/bc790307b3c4cdbd25f582d9067651f1?s=128&d=identicon&r=PG", "display_name": "aschepler", "link": "https://stackoverflow.com/users/459640/aschepler"}, "is_accepted": false, "score": 1, "last_activity_date": 1430331059, "creation_date": 1430331059, "answer_id": 29951338, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951338#29951338", "title": "Accessing Protected members by inheritance", "body": "<p><code>protected</code> means that the member can be accessed from a function belonging to the derived class, like <code>Manager::paymentIs</code> (with some other restrictions).</p>\n\n<p>In your code, the expressions attempting to use members <code>Name_user</code> and <code>PerHr</code> are in function <code>main</code>, which has no rights to any private or protected members of <code>Employee</code> or <code>Manager</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 169, "user_id": 4120792, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100007416067726/picture?type=large", "display_name": "Youssef Emad", "link": "https://stackoverflow.com/users/4120792/youssef-emad"}, "is_accepted": false, "score": 0, "last_activity_date": 1430331098, "creation_date": 1430331098, "answer_id": 29951349, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance/29951349#29951349", "title": "Accessing Protected members by inheritance", "body": "<pre><code>cout &lt;&lt; \"Name inherited\" &lt;&lt; man.Name_user &lt;&lt; endl;\ncout &lt;&lt; \"Per hr pay is \" &lt;&lt; man.PerHr &lt;&lt; endl;\n</code></pre>\n\n<p>You can't access protected members in main , You can only do this if they are public .</p>\n"}], "owner": {"reputation": 217, "user_id": 996506, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bf0aabe29322d93035175fb70e86ce29?s=128&d=identicon&r=PG", "display_name": "Sid", "link": "https://stackoverflow.com/users/996506/sid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 6, "score": -2, "last_activity_date": 1430332313, "creation_date": 1430330653, "last_edit_date": 1430332313, "question_id": 29951196, "link": "https://stackoverflow.com/questions/29951196/accessing-protected-members-by-inheritance", "title": "Accessing Protected members by inheritance", "body": "<p>In this piece of code I am trying to access the protected members of the base class from the derived class . But in the derived class it says that \"Cannot access protected member\"</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nclass Employee\n{\npublic:\n\n    Employee(char Name, int perHrPay) { Name_user=Name, PerHr=perHrPay;};\n    Employee() {}\n    ~Employee() {}\n    char getName() const;\n    float getPayPerHr() const;\n    float paymentIs() const ;\n\nprotected:\n    char Name_user;\n    float PerHr; \n};\n\nclass Manager : public Employee\n{\npublic:\n    Manager(){}\n    ~Manager(){}\n    float paymentIs() const ;\n};\n\nchar Employee::getName() const { return Name_user; }\nfloat Employee::getPayPerHr() const { return PerHr; }\nfloat Employee::paymentIs() const { return PerHr*3; }\n\n\nint main()\n{\n    Employee emp('S',94);\n    Manager man;\n    cout &lt;&lt; \" The name is \" &lt;&lt; emp.getName() &lt;&lt; endl;\n    cout &lt;&lt; \"The per hr pay is \" &lt;&lt; emp.getPayPerHr() &lt;&lt; endl;\n    cout &lt;&lt; \"The payment is \" &lt;&lt; emp.paymentIs() &lt;&lt; endl;    \n    cout &lt;&lt; \"Name inherited\" &lt;&lt; man.Name_user &lt;&lt; endl;\n    cout &lt;&lt; \"Per hr pay is \" &lt;&lt; man.PerHr &lt;&lt; endl;\n    return 1;\n}\n</code></pre>\n\n<p>In this code man is not able to access protected member Name_user in the class Employee. I am not understanding why the inherited class not able to access it.\nPlease help</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1430330924, "post_id": 29951165, "comment_id": 48023477, "body": "Have you tried printing the arrays side by side to make sure they match up?"}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1430331015, "post_id": 29951165, "comment_id": 48023539, "body": "Honestly, I&#39;ve only printed the .txt file array but I can quickly do the user input side to see if it spits out the correct information."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1430331074, "post_id": 29951165, "comment_id": 48023577, "body": "Also remember character comparisons are case sensitive."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430331165, "post_id": 29951165, "comment_id": 48023630, "body": "Please show a sample text file. Say a 5-entry CorrectAnswers.txt file. Also, check that <code>count == KEY</code> after you perform input. Your path to <code>CorrectAnswers.txt</code> could be wrong, and the array could end up with junk data, leading to UB."}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "edited": false, "score": 0, "creation_date": 1430331327, "post_id": 29951165, "comment_id": 48023734, "body": "It does spit out the correct information on the user side and I&#39;ve checked the case on both ends but even when it&#39;s A (like in the answer sheet), it still says it&#39;s wrong. It will take a minute to check the <code>count == KEY</code> but I&#39;ll check that next Andy."}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "edited": false, "score": 0, "creation_date": 1430331869, "post_id": 29951165, "comment_id": 48024083, "body": "I&#39;m not sure if this is related but I took the liberty of commenting sections of my code to try to isolate the issue and even though I&#39;ve since removed the comment marks, it now says a warning that A,B,C,D are unreferenced local variables (specifically warning CF4101). Is this a VBT?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430332179, "post_id": 29951165, "comment_id": 48024255, "body": "@CodingCat: VBT? The warning is what is says; you declare <code>char A, B, C, D;</code> but never use them for anything. You could safely remove them altogether and your program will function the same. However, if you did mean to use them somewhere, the warning could be useful in pointing you to a logic error."}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "edited": false, "score": 0, "creation_date": 1430332778, "post_id": 29951165, "comment_id": 48024603, "body": "Oh, sorry, lingo that I used on another forum from long ago. VBT= very bad thing. I do mean to use them but I&#39;m not sure how to put them into use (not sure if I&#39;m wording that right). Up to this point, I&#39;ve only used <code>char</code> for &#39;Y&#39; or &#39;N&#39; so I&#39;m really unsure of where to take it from there. I was told to ignore it but I see that was wrong."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430334897, "post_id": 29951165, "comment_id": 48025937, "body": "@CodingCat: Aside: You have other issues with integer division, magic numbers, and conditional logic. E.g., <code>sum&#47;20</code>, <code>sum &lt; 14</code>, and <code>if(sum &lt; 14 &amp;&amp; sum &gt;= 0)</code> Additionally, you can accomplish the same thing without a second for loop over <code>rightOrWrong</code>. In fact, you don&#39;t need that array at all."}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430336195, "post_id": 29951165, "comment_id": 48026752, "body": "@AndyG How is it not needed? I was using it to tally the wrong answers since the final output is suppose to tell the user how many were missed plus if they passed the test (which requires that they get 14 of the 20 questions correct). They also have to have the <code>sum&#47;20</code> to get the percentage they made on the test."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430336793, "post_id": 29951165, "comment_id": 48027089, "body": "@CodingCat: Think for a minute about whether you can merge the logic of the second loop into the first one. Second, consider that <code>sum</code> is an <code>int</code>, and then google around for &quot;integer division&quot;"}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1430337344, "post_id": 29951165, "comment_id": 48027402, "body": "@AndyG This is a modification of a set of older code I made. The only difference was that I&#39;m using a .txt file for the answer key where the old code had the answer key built into the program. It had worked that time but it&#39;s entirely possible it just won&#39;t work as before. Will google &quot;integer division&quot; in a moment."}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "edited": false, "score": 0, "creation_date": 1430338762, "post_id": 29951165, "comment_id": 48028186, "body": "Were you referring to the fact I&#39;d lose some numbers using <code>int</code> vs using <code>double</code> or even <code>float</code>? If so, that&#39;s a non-issue. I&#39;m not working with those kind of exacts."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1430340357, "post_id": 29951165, "comment_id": 48029116, "body": "This is a great candidate for learning to use a debugger.  When you used a debugger, which statements are causing the issue?"}, {"owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1430342835, "post_id": 29951165, "comment_id": 48030516, "body": "@ThomasMatthews When I run debug (F5) using Visual Studio Pro 2012, there are no statements pointed out as causing an issue. Unless there is something else I totally don&#39;t know about. I&#39;m an online student with a less than hands-on teacher so it&#39;s possible I don&#39;t entirely know what I&#39;m looking for."}], "owner": {"reputation": 1, "user_id": 4847620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BRg6d.jpg?s=128&g=1", "display_name": "CodingCat", "link": "https://stackoverflow.com/users/4847620/codingcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430332235, "creation_date": 1430330511, "last_edit_date": 1430330807, "question_id": 29951165, "link": "https://stackoverflow.com/questions/29951165/arrays-comparison-txt-file-to-user-input-c", "title": "Arrays comparison (.Txt file to user input) C++", "body": "<p>This is a program that is suppose to compare an answer sheet (which is a .txt file) to user input. Meaning I'm comparing two arrays but I'm having a PITA time making it work. It complies just fine but it just does not compare the user input array to the .txt file array and counts everything as wrong even when I manually put in the correct answers on the user input side. Any advice or suggestions would be appreciated! PS: I cannot use vectors, only arrays. That's not a personal choice but a requirement.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\nint main()\n{\n    const int CHOICE = 20;\n    const char KEY = 20;\n    char correctAnswers[KEY];\n    char A, B, C, D;\n    char userAnswers[CHOICE];\n    char rightOrWrong[CHOICE];\n    int totalMissed;\n    int sum = 0;\n    int count = 0;\n\n    ifstream inputFile;\n\n    inputFile.open(\"CorrectAnswers.txt\");\n\n    while (count &lt; KEY &amp;&amp; inputFile &gt;&gt; correctAnswers[count])\n        count++;\n\n    inputFile.close();\n\n    for (int qst = 0; qst &lt; 20; qst++)\n    {\n        cout &lt;&lt; \"Please put an answer for the question: \" &lt;&lt; endl;\n        cin &gt;&gt; userAnswers[qst];\n        cout &lt;&lt; endl;\n\n        if (userAnswers[qst] == correctAnswers[qst])\n        {\n            rightOrWrong[qst] = 'C';\n        }\n        else\n        {\n            rightOrWrong[qst] = 'I';\n        }\n    }\n\n    for (int qst = 0; qst &lt; 20; qst++)\n    {\n        if (rightOrWrong[qst] == 'C')\n        {\n            sum += 1;\n        }\n        else\n        {\n            cout &lt;&lt; \"Answer #\" &lt;&lt; qst &lt;&lt; \" is not correct\" &lt;&lt; endl;\n        }\n    }\n\n    totalMissed = 20 - sum;\n    cout &lt;&lt; \"This is your final score: \" &lt;&lt; endl;\n    cout &lt;&lt; \"You missed \" &lt;&lt; (20 - sum) &lt;&lt; \"/20 of the questions\" &lt;&lt; endl;\n    cout &lt;&lt; \"You overall percentage is \" &lt;&lt; (sum / 20) &lt;&lt; \"%.\" &lt;&lt; endl;\n\n    if (sum &lt; 14 &amp;&amp; sum &gt;= 0)\n    {\n        cout &lt;&lt; \"You have not passed the exam. You must have a 70% or higher to pass. Study harder next time!\" &lt;&lt; endl;\n    }\n    else\n    {\n        cout &lt;&lt; \"Pat yourself on the back! You've passed the test!\" &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>I apologize if this looks crappily formatted, it doesn't look like this normally.</p>\n"}, {"tags": ["c++", "visual-studio-2010", "boost"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1430332403, "post_id": 29951095, "comment_id": 48024373, "body": "Have you checked the <code>D:\\boost\\boost_1_57_0\\stage\\lib</code> directory whether the library file exists? You should see something similar to <code>libboost_system-vc100-mt-gd-1_57.lib&#47;dll</code>"}, {"owner": {"reputation": 347, "user_id": 2609713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d296719557a8ea3a01b2af97c4744ba7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/2609713/sam"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1430381000, "post_id": 29951095, "comment_id": 48044727, "body": "yes, this file is available...do you have an other idea?"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1430401429, "post_id": 29951095, "comment_id": 48058353, "body": "Could be something going wrong with auto linking. Try setting the linker to verbose mode (Show Progress option) and see what libraries it&#39;s attempting to link to."}, {"owner": {"reputation": 347, "user_id": 2609713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d296719557a8ea3a01b2af97c4744ba7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/2609713/sam"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1430504995, "post_id": 29951095, "comment_id": 48104998, "body": "@Praetorian I have cleaned my project and included each single library. The main problem is the asio library. I will  try setting the linker to verbose mode and give you a response."}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 2609713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d296719557a8ea3a01b2af97c4744ba7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/2609713/sam"}, "is_accepted": false, "score": 2, "last_activity_date": 1431005025, "creation_date": 1431005025, "answer_id": 30102403, "question_id": 29951095, "link": "https://stackoverflow.com/questions/29951095/unresolved-external-symbol-at-boostsystemerror-category/30102403#30102403", "title": "Unresolved external symbol at boost::system::error_category", "body": "<p>I've solved the problem. I've recompiled the boost library 1.57 with the following command: <code>b2 toolset=msvc-10.0 --build-type=complete --libdir=C:\\boost\\lib\\x64 architecture=x86 address-model=64 install</code>. Maybe, you should add the argument <code>j%NUMBER_OF_PROCESSORS%</code> to speed up the compile process.</p>\n\n<p>Note:\nThe main different to the command in my question is, that I use in this case <code>b2</code> instead of <code>bjam</code>.</p>\n"}], "owner": {"reputation": 347, "user_id": 2609713, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d296719557a8ea3a01b2af97c4744ba7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/2609713/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3923, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1464495024, "creation_date": 1430330287, "last_edit_date": 1495541754, "question_id": 29951095, "link": "https://stackoverflow.com/questions/29951095/unresolved-external-symbol-at-boostsystemerror-category", "title": "Unresolved external symbol at boost::system::error_category", "body": "<p>I would like to build my program on x86 Windows 7, which used the boost library. After reading the following <a href=\"https://stackoverflow.com/a/1067072/2609713\">post</a> I tried to build boost and compile my program in debug mode. The output dialog in Visual Studio 2010 throws the following errors:</p>\n\n<p><code>error LNK2001: unresolved external symbol \"class boost::system::error_category const &amp; __cdecl boost::system::system_category(void)\" (?system_category@system@boost@@YAABVerror_category@12@XZ)\n...</code></p>\n\n<p>I've used the following build commands to build boost:\n<code>bjam --build-dir=c:\\boost --build-type=complete --toolset=msvc-10.0 address-model=64 architecture=x86 -j 4</code> Note: command <code>--with-system</code> is not working for me.</p>\n\n<p>My Project Settings are: <code>Project-&gt;Properties-&gt;C/C++-&gt;General-&gt;Additional Include Directories: D:\\boost\\boost_1_57_0;%(AdditionalIncludeDirectories)</code> and <code>Project-&gt;Properties-&gt;Linker-&gt;General-&gt;Additional Library Directories: D:\\boost\\boost_1_57_0\\stage\\lib</code></p>\n\n<p>How can I solve the unresolved external symbol errors?</p>\n"}, {"tags": ["c++", "visual-studio", "winapi", "textbox"], "answers": [{"comments": [{"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430331488, "post_id": 29951254, "comment_id": 48023844, "body": "LPSTR input; I have globally defined the variable as I originally used it in more than one place. The problem is that the variable input does not contain the user input or something else is wrong. If I would do this: input = &quot;Test&quot;, the second text box would show &quot;Test&quot; as soon as I start typing something into text box 1."}, {"owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "reply_to_user": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430331686, "post_id": 29951254, "comment_id": 48023969, "body": "LPSTR input defines a pointer. That does not assign any memory for it to point to.  You must have some memory to pass to Windows. If it is global then start with char input[1024];"}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430332614, "post_id": 29951254, "comment_id": 48024498, "body": "Using char input[1024] has the effect that I delete one letter after the next of the word test but I don&#39;t write anything. Apart from that, does char* also work? I would hate having to use an (normal) array, as this would mean that I would have to guess how long the input will, especially with long inputs being very likely."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430332777, "post_id": 29951254, "comment_id": 48024601, "body": "Apart from my current implementation, isn&#39;t there some method that would allow me to store the content of the text box in a variable, preferably string or char*?"}, {"owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "edited": false, "score": 0, "creation_date": 1430337619, "post_id": 29951254, "comment_id": 48027549, "body": "Not automatically like that. You will need to get the length of the text in the edit control using the <code>WM_GETTEXTLENGTH</code> message or the <code>GetWindowTextLength()</code> function, allocate a buffer large enough to store that text, and then call <code>GetWindowText()</code> to get the window text. Also is there any reason you are using the ANSI (<code>A</code>) variants of the functions and messages, and not the Unicode (<code>W</code>) variants?"}, {"owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "reply_to_user": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430340023, "post_id": 29951254, "comment_id": 48028901, "body": "@Willi Of course you can store the content in a variable. A char array is a variable. Allocate it as a fixed size as I showed you or a dynamic size as andlabs explained. But you can&#39;t store text in a char*, that&#39;s just a pointer to a char array that has to be allocated."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430405627, "post_id": 29951254, "comment_id": 48061590, "body": "Thanks, I figured that out with the length. I already had it in the code for an other try but forgot about it at first. The reason I used the A variant is that the simple version, used in some tutorials and in a book, didn&#39;t work for me, so I tried them out to find the one working for me and that was A. I assume the W version will work as well. Using char input[1024]; char input[length] or whatever didn&#39;t work. I also rewrote the code so that pressing the button what cause the update in case that has been the problem."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430407183, "post_id": 29951254, "comment_id": 48062779, "body": "The problem is that length is worthless to me, as arrays will not work with non const variables and int length needn&#39;t be declared as const int length. The program should be able to update length regularily and there shouldn&#39;t be any artificial length limit which will only cause me trouble. The program should work with an one-word input or a 1.000-page novel if needed. So I guess I will have to look for another way of getting that input. Mabey I&#39;ll have to change that method."}, {"owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "edited": false, "score": 0, "creation_date": 1430407795, "post_id": 29951254, "comment_id": 48063289, "body": "The Windows API functions use C types, not C++ types. The answer by andlabs explains how to use length to create a dynamic array that is large enough. After you have that much working you can, if you like, copy that temporary array into a std::vector or std::string that will provide more convenient C++ features. By choosing to program at the Win32 level you are working at a very low level but wishing for higher level flexibility."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430409772, "post_id": 29951254, "comment_id": 48064853, "body": "The problem is, I am trying to port an application to C++, I originally programmed in Java, to have the additional features of C++. I know from using that program, that I sometimes enter only 20 characters, sometimes 5 pages worth of text. As I probably won&#39;t have access to the Windows API, to add my custom method, I will have to think about a workaround. Mabey I should look if Qt or another Win32 alternative is programmed in a more modern style."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430412021, "post_id": 29951254, "comment_id": 48066317, "body": "Workarounds would be too much unnecessary work, especially because I would have to consider that someone is changing already written text afterwards (e.g typing errors), so storing char[] in a vector would have to be a two-way road. With 8 GB RAM, using a ridiculously large array shouldn&#39;t hurt that much and it doesn&#39;t after a test."}, {"owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "edited": false, "score": 0, "creation_date": 1430412027, "post_id": 29951254, "comment_id": 48066323, "body": "So I simply use the characters count including spacings of a 139 large Word document to ensure that I will never every reach this artificial limit. char input[341898]; With that, my original question has been answered. But if someone has a better alternative for arrays, I would still be interested in hearing it as I have always hated to implement artificial limits to my programmes as they only cause me trouble afterwards."}], "tags": [], "owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "is_accepted": false, "score": 0, "last_activity_date": 1430330791, "creation_date": 1430330791, "answer_id": 29951254, "question_id": 29951054, "link": "https://stackoverflow.com/questions/29951054/win32-api-vs-c-text-box-content-to-string/29951254#29951254", "title": "Win32 API VS C++; Text Box Content to String", "body": "<p>You seem to be creating the input text box (again) when you get a message from it. That doesn't make sense. ANd your GetWindowTextA call is using a variable 'input' that you have not defined. Allocate a character array for that variable. </p>\n"}], "owner": {"reputation": 376, "user_id": 4284179, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d28b7a54f846ace2017a022547c5e999?s=128&d=identicon&r=PG&f=1", "display_name": "Willi", "link": "https://stackoverflow.com/users/4284179/willi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1419, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430330791, "creation_date": 1430330148, "last_edit_date": 1430330486, "question_id": 29951054, "link": "https://stackoverflow.com/questions/29951054/win32-api-vs-c-text-box-content-to-string", "title": "Win32 API VS C++; Text Box Content to String", "body": "<p>I am new with programming Win32 applications. I have programmed a text box where the user can enter text. The problem is that I don't know how to get the input of the box into a string, which is necessary to process the input. For testing purposes, I tried to give out the entered text through the output text box, which I had to program anyway.</p>\n\n<p>Googling, I found out that <code>GetWindowTextA(hInput, input, length);</code> should do the trick. However, I am not sure how to get the input into a variable using this method.</p>\n\n<p>So, my question is, how do I get a text, entered by a user into a text box, into a string?</p>\n\n<p>In case this does matter: I am not using the free version of Visual Studio, as I have free access to Microsoft software through my university. And at the moment I am using Visual Studio 2015 Ultimate Preview anyway. To answer the question in advance, this is NO homework or other work for my university, for a job or anything commercially. I have taught myself C++, which has become my favorite programming language, and I want to be able to program graphical interfaces with it.</p>\n\n<p>Here is Visual Studio's standard code with some modifications, most notably the addition of two text boxes and a button (which does nothing at the moment and is of no importance for this question):</p>\n\n<h3>Includes, globals, forward declarations</h3>\n\n<pre><code>#include \"stdafx.h\"\n#include \"WilliTeX.h\"\n#include &lt;iostream&gt;;\n\nusing namespace std;\n\n#define MAX_LOADSTRING 100\n\n//custom defines\n#define TEXT_INPUT_BOX 1\n#define TEXT_OUTPUT_BOX 2\n#define BUTTON 3\n\nHWND hInput;\nHWND hOutput;\nHWND hButton;\n\nint length;\nLPSTR input;\n\n// Global Variables:\nHINSTANCE hInst;                                // current instance\nTCHAR szTitle[MAX_LOADSTRING];                  // The title bar text\nTCHAR szWindowClass[MAX_LOADSTRING];            // the main window class name\n\n\n// Forward declarations of functions included in this code module:\nATOM                MyRegisterClass(HINSTANCE hInstance);\nBOOL                InitInstance(HINSTANCE, int);\nLRESULT CALLBACK    WndProc(HWND, UINT, WPARAM, LPARAM);\nINT_PTR CALLBACK    About(HWND, UINT, WPARAM, LPARAM);\n</code></pre>\n\n<h3>_tWinMain</h3>\n\n<pre><code>int APIENTRY _tWinMain(_In_ HINSTANCE hInstance,\n                     _In_opt_ HINSTANCE hPrevInstance,\n                     _In_ LPTSTR    lpCmdLine,\n                     _In_ int       nCmdShow)\n{\n    UNREFERENCED_PARAMETER(hPrevInstance);\n    UNREFERENCED_PARAMETER(lpCmdLine);\n\n    MSG msg;\n    HACCEL hAccelTable;\n\n    // Initialize global strings\n    LoadString(hInstance, IDS_APP_TITLE, szTitle, MAX_LOADSTRING);\n    LoadString(hInstance, IDC_WILLITEX, szWindowClass, MAX_LOADSTRING);\n    MyRegisterClass(hInstance);\n\n    // Perform application initialization:\n    if (!InitInstance (hInstance, nCmdShow))\n    {\n        return FALSE;\n    }\n\n    hAccelTable = LoadAccelerators(hInstance, MAKEINTRESOURCE(IDC_WILLITEX));\n\n    // Main message loop:\n    while (GetMessage(&amp;msg, NULL, 0, 0))\n    {\n        if (!TranslateAccelerator(msg.hwnd, hAccelTable, &amp;msg))\n        {\n            TranslateMessage(&amp;msg);\n            DispatchMessage(&amp;msg);\n        }\n    }\n\n    return (int) msg.wParam;\n}\n</code></pre>\n\n<h3>MyRegisterClass</h3>\n\n<pre><code>//\n//  FUNCTION: MyRegisterClass()\n//\n//  PURPOSE: Registers the window class.\n//\nATOM MyRegisterClass(HINSTANCE hInstance)\n{\n    WNDCLASSEX wcex;\n\n    wcex.cbSize = sizeof(WNDCLASSEX);\n\n    wcex.style          = CS_HREDRAW | CS_VREDRAW;\n    wcex.lpfnWndProc    = WndProc;\n    wcex.cbClsExtra     = 0;\n    wcex.cbWndExtra     = 0;\n    wcex.hInstance      = hInstance;\n    wcex.hIcon          = LoadIcon(hInstance, MAKEINTRESOURCE(IDI_WILLITEX));\n    wcex.hCursor        = LoadCursor(NULL, IDC_ARROW);\n    wcex.hbrBackground  = (HBRUSH)(COLOR_WINDOW+1);\n    wcex.lpszMenuName   = MAKEINTRESOURCE(IDC_WILLITEX);\n    wcex.lpszClassName  = szWindowClass;\n    wcex.hIconSm        = LoadIcon(wcex.hInstance, MAKEINTRESOURCE(IDI_SMALL));\n\n    return RegisterClassEx(&amp;wcex);\n}\n</code></pre>\n\n<h3>Rest of Code</h3>\n\n<pre><code>//\n//   FUNCTION: InitInstance(HINSTANCE, int)\n//\n//   PURPOSE: Saves instance handle and creates main window\n//\n//   COMMENTS:\n//\n//        In this function, we save the instance handle in a global variable and\n//        create and display the main program window.\n//\nBOOL InitInstance(HINSTANCE hInstance, int nCmdShow)\n{\n   HWND hWnd;\n\n   hInst = hInstance; // Store instance handle in our global variable\n\n   hWnd = CreateWindow(szWindowClass, szTitle, WS_OVERLAPPEDWINDOW,\n      CW_USEDEFAULT, 0, CW_USEDEFAULT, 0, NULL, NULL, hInstance, NULL);\n\n   if (!hWnd)\n   {\n      return FALSE;\n   }\n\n   ShowWindow(hWnd, nCmdShow);\n   UpdateWindow(hWnd);\n\n   return TRUE;\n}\n\n//\n//  FUNCTION: WndProc(HWND, UINT, WPARAM, LPARAM)\n//\n//  PURPOSE:  Processes messages for the main window.\n//\n//  WM_COMMAND  - process the application menu\n//  WM_PAINT    - Paint the main window\n//  WM_DESTROY  - post a quit message and return\n//\n//\nLRESULT CALLBACK WndProc(HWND hWnd, UINT message, WPARAM wParam, LPARAM lParam)\n{\n    int wmId, wmEvent;\n    PAINTSTRUCT ps;\n    HDC hdc;\n\n    switch (message)\n    {\n    case WM_CREATE:\n    {\n        //This is the input box, where the user enters the text\n        hInput = CreateWindowExA(WS_EX_CLIENTEDGE,\n            \"EDIT\",\n            \"\",\n            WS_CHILD | WS_VISIBLE | ES_MULTILINE | ES_AUTOVSCROLL | ES_AUTOHSCROLL,\n            50, //moving left/right the box\n            10, //moving up/down the box\n            1300, //length\n            350, //height\n            hWnd,\n            (HMENU)TEXT_INPUT_BOX,\n            GetModuleHandle(NULL),\n            NULL);\n\n        //This is the output text box, that will display the convertion\n        hInput = CreateWindowExA(WS_EX_CLIENTEDGE,\n            \"Edit\", \n            \"test\",\n            WS_CHILD | WS_VISIBLE | ES_MULTILINE | ES_AUTOVSCROLL | ES_AUTOHSCROLL,\n            50, //moving left/right the box\n            200, //moving up/down the box\n            1300, //length\n            450, //height\n            hWnd, \n            (HMENU)TEXT_INPUT_BOX,\n            GetModuleHandle(NULL),\n            NULL);\n\n        hButton = CreateWindowExA(NULL,\n            \"BUTTON\",\n            \"OK\",\n            WS_TABSTOP | WS_VISIBLE | WS_CHILD | BS_DEFPUSHBUTTON,\n            3, //moving left/right\n            10, //moving up/down\n            48, //length\n            50, //height\n            hWnd,\n            (HMENU) BUTTON,\n            GetModuleHandle(NULL),\n            NULL);\n\n        break;\n    }\n    case WM_COMMAND:\n        wmId    = LOWORD(wParam);\n        wmEvent = HIWORD(wParam);\n\n        switch (LOWORD(wParam)) {\n            //refreshing the output box whenever the user is giving an input\n        case TEXT_INPUT_BOX:\n        {\n            length = GetWindowTextLengthA(hInput);\n            GetWindowTextA(hInput, input, length);\n\n            hInput = CreateWindowExA(WS_EX_CLIENTEDGE,\n                \"Edit\",\n                input,\n                WS_CHILD | WS_VISIBLE | ES_MULTILINE | ES_AUTOVSCROLL | ES_AUTOHSCROLL,\n                50, //moving left/right the box\n                200, //moving up/down the box\n                1300, //length\n                450, //height\n                hWnd,\n                (HMENU)TEXT_INPUT_BOX,\n                GetModuleHandle(NULL),\n                NULL);\n\n            break;\n        }\n\n        case BUTTON:\n        {\n            break;\n        }\n        }\n\n        // Parse the menu selections:\n        switch (wmId)\n        {\n        case IDM_ABOUT:\n            DialogBox(hInst, MAKEINTRESOURCE(IDD_ABOUTBOX), hWnd, About);\n            break;\n        case IDM_EXIT:\n            DestroyWindow(hWnd);\n            break;\n        default:\n            return DefWindowProc(hWnd, message, wParam, lParam);\n        }\n        break;\n    case WM_PAINT:\n        hdc = BeginPaint(hWnd, &amp;ps);\n        // TODO: Add any drawing code here...\n        EndPaint(hWnd, &amp;ps);\n        break;\n    case WM_DESTROY:\n        PostQuitMessage(0);\n        break;\n    default:\n        return DefWindowProc(hWnd, message, wParam, lParam);\n    }\n    return 0;\n}\n\n// Message handler for about box.\nINT_PTR CALLBACK About(HWND hDlg, UINT message, WPARAM wParam, LPARAM lParam)\n{\n    UNREFERENCED_PARAMETER(lParam);\n    switch (message)\n    {\n    case WM_INITDIALOG:\n        return (INT_PTR)TRUE;\n\n    case WM_COMMAND:\n        if (LOWORD(wParam) == IDOK || LOWORD(wParam) == IDCANCEL)\n        {\n            EndDialog(hDlg, LOWORD(wParam));\n            return (INT_PTR)TRUE;\n        }\n        break;\n    }\n    return (INT_PTR)FALSE;\n}\n</code></pre>\n\n<p>P.S. I am aware that using namespace std; is bad coding practice but for this learning program I don't really care.</p>\n"}, {"tags": ["c++", "linux", "raspberry-pi", "qt5", "raspbian"], "comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1430330208, "post_id": 29951044, "comment_id": 48023023, "body": "We need to see all of your Core class and constructor"}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1430330571, "post_id": 29951044, "comment_id": 48023248, "body": "There it is. Plus, the channel constructor. @dwcanillas"}], "answers": [{"comments": [{"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1430330875, "post_id": 29951265, "comment_id": 48023443, "body": "I&#39;ll try to do that. Will be back in a bit."}, {"owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "edited": false, "score": 0, "creation_date": 1430331725, "post_id": 29951265, "comment_id": 48023996, "body": "It seems to be working! But the raspberry is a little slow to compile, so I&#39;ll let you know if everything went ok. Thanks!"}], "tags": [], "owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "is_accepted": true, "score": 1, "last_activity_date": 1430331535, "last_edit_date": 1430331535, "creation_date": 1430330826, "answer_id": 29951265, "question_id": 29951044, "link": "https://stackoverflow.com/questions/29951044/strange-error-while-trying-to-deploy-qt5-app-on-raspberry-pi/29951265#29951265", "title": "Strange error while trying to deploy qt5 app on raspberry pi", "body": "<p>Your default argument for <code>QString</code> isn't valid:</p>\n\n<pre><code>QString label = NULL\n</code></pre>\n\n<p><code>NULL</code> is just a macro for 0, so you are effectively saying <code>QString label = 0</code>.  <code>QString</code> doesn't define a way to create a <code>QString</code> from an <code>int</code>, which is the reason for your error - on most platforms I'm guessing the <code>QString(const char *)</code> constructor would get called with an implicit conversion from <code>0</code> to <code>const char *</code>.</p>\n\n<p>It looks like your pi had trouble figuring out how to implicitly convert that <code>0</code>.  Change it to <code>QString label = \"\"</code>, <code>QString label = QString()</code>, or something similar.</p>\n"}], "owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 29951265, "answer_count": 1, "score": 0, "last_activity_date": 1430331535, "creation_date": 1430330126, "last_edit_date": 1430330532, "question_id": 29951044, "link": "https://stackoverflow.com/questions/29951044/strange-error-while-trying-to-deploy-qt5-app-on-raspberry-pi", "title": "Strange error while trying to deploy qt5 app on raspberry pi", "body": "<p>I have a project which I've made on Ubuntu 14.04 LTS, but then, I wanted to test if the Raspberry Pi was capable of running this little program of mine.\nThen I've followed the instructions on this <a href=\"https://wiki.qt.io/Native_Build_of_Qt5_on_a_Raspberry_Pi\" rel=\"nofollow\">link</a> to compile and build qt5 natively on the Pi.</p>\n\n<p>I've managed to install qt5 without problems, I could even compile and run the \"cube\" program that is located on the qt samples.</p>\n\n<p>After that, I've compiled and installed the qtmultimedia submodule, which I needed for my project.</p>\n\n<p>Ok, things were looking good. Then I cloned my project on the Pi, ran qmake, and after that I ran make. Until... I got this error message:</p>\n\n<pre><code>In file included from ../mainWindow.h:14:0,\n             from ../main.cpp:3:\n../core/core.h: In constructor \u2018bumbatv::core::Core::Core()\u2019:\n../core/core.h:37:36: error: conversion from \u2018int\u2019 to \u2018QString\u2019 is ambiguous\n../core/core.h:37:36: note: candidates are:\n/usr/local/qt5/include/QtCore/qstring.h:649:31: note: QString::QString(const char*)\n/usr/local/qt5/include/QtCore/qstring.h:214:14: note: QString::QString(const QChar*, int)\nMakefile:2564: recipe for target 'main.o' failed\nmake: *** [main.o] Error 1\n</code></pre>\n\n<p>Thing is... In this particular area of the code, I have no conversion from int to QString!</p>\n\n<pre><code>class Core : public QObject\n{\nQ_OBJECT\nprivate:\n    static Core *instance_;\n    QHash &lt;int, Channel*&gt; channels_;\n    int currentChannelId_;\n    QString computerName_;\n    QString projectDirectory_; \n    Definitions::kPlayerStatus player_;\n    QHash&lt;int, Media*&gt; medias_;\n    QString userEmail_;\n    QString userPassword_;\n    QString userPasswordEncrypted_;\n    bool logged_;\n\n    Core(){\n        Channel *channel = new Channel; // This is the error line.\n        channels_.insert(channel-&gt;getId(),channel);\n        currentChannelId_ = channel-&gt;getId();\n        player_ = Definitions::kStopped;\n        logged_ = false;\n    }\n\n    Core(const Core&amp;);\n    Core&amp; operator=(const Core&amp;);\n    /* Protect destructor.\n     * Deletes all elements allocated in the Document.\n     */\n    ~Core()\n    {\n        // Delete channels\n        foreach (Channel *c, channels_)\n            delete c;\n    }\n(...)\n}\n</code></pre>\n\n<p>And here's the Channel constructor:</p>\n\n<pre><code>        class Channel : public QObject\n{\nQ_OBJECT\nprivate:\n\n    static int countChannel_; \n    int idChannel_; \n    QString label_; \n    int currentMediaId_; \n    int totalTime_; \n    int order_; \n\n    QHash&lt;int, Media*&gt; medias_;  \n\n\nsignals:\n    (...)\n\npublic:\n    Channel(int id = -1, int order = -1, int totalTime = -1, QString label = NULL) {\n        if(id==-1){\n            idChannel_ = countChannel_++;\n        }else{\n            idChannel_ = id;\n            countChannel_ = countChannel_ &lt;= id ? id+1 : countChannel_;\n        }\n\n        order_ = order == -1 ? idChannel_ : order;\n        totalTime_ = totalTime == -1 ? 0 : totalTime;\n        label_ = label == NULL ? QString(\"Channel %1\").arg(idChannel_+1) : label;\n    }\n\n    /* Protect destructor.\n     * Deletes all elements allocated in the Channel.\n     */\n    ~Channel()\n    {\n        // Delete medias\n        foreach (Media *m, medias_)\n            delete m;\n    }\n(...)\n\n}\n</code></pre>\n\n<p>And here is the command called by make:</p>\n\n<pre><code>/usr/bin/g++ -c -pipe -marm -mfpu=vfp -mtune=arm1176jzf-s -march=armv6zk -mabi=aapcs-linux -mfloat-abi=hard -O2 -std=c++0x -Wall -W -D_REENTRANT -fPIE -DQT_NO_SSL -DQT_NO_DEBUG -DQT_MULTIMEDIAWIDGETS_LIB -DQT_MULTIMEDIA_LIB -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_NETWORK_LIB -DQT_XML_LIB -DQT_CORE_LIB -I../../vodas_desktop -I. -I/usr/local/qt5/include -I/usr/local/qt5/include/QtMultimediaWidgets -I/usr/local/qt5/include/QtMultimedia -I/usr/local/qt5/include/QtWidgets -I/usr/local/qt5/include/QtGui -I/usr/local/qt5/include/QtNetwork -I/usr/local/qt5/include/QtXml -I/usr/local/qt5/include/QtCore -I. -I/opt/vc/include -I/opt/vc/include/interface/vcos/pthreads -I/opt/vc/include/interface/vmcs_host/linux -I/usr/local/qt5/mkspecs/devices/linux-rasp-pi-g++ -o main.o ../main.cpp\n</code></pre>\n\n<p>So... Any thoughts? I have no idea of what is wrong. My code compiles on ubuntu and on Windows without this error message.</p>\n"}, {"tags": ["c++", "std", "c++builder", "stl-algorithm", "c++builder-6"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 8, "creation_date": 1430329524, "post_id": 29950858, "comment_id": 48022608, "body": "any_of is C++11 (and newer) did you compile with C++11 enabled? (something like -std=c++11 or similar)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 2, "creation_date": 1430329634, "post_id": 29950858, "comment_id": 48022668, "body": "Side note: &#39;__fastcall&#39; looks ancient"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1430351953, "post_id": 29950858, "comment_id": 48034066, "body": "@DieterL&#252;cking: Borland&#39;s <code>__fastcall</code> calling convention is for compatibility with Delphi&#39;s <code>register</code> calling convention, which is certainly not &quot;ancient&quot;.  Maybe you are thinking of Microsoft&#39;s <code>__fastcall</code> (which is <code>__msfastcall</code> in Borland)."}], "answers": [{"comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1430351880, "post_id": 29950901, "comment_id": 48034045, "body": "C++Builder 6 does not support 64-bit development (and thus does not support C++11).  That was added in C++Builder XE3."}], "tags": [], "owner": {"reputation": 341, "user_id": 880928, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/56329e9913c7460e7016ada208cde397?s=128&d=identicon&r=PG", "display_name": "cmorse", "link": "https://stackoverflow.com/users/880928/cmorse"}, "is_accepted": true, "score": 3, "last_activity_date": 1430329654, "creation_date": 1430329654, "answer_id": 29950901, "question_id": 29950858, "link": "https://stackoverflow.com/questions/29950858/e2316-any-of-is-not-a-member-of-std/29950901#29950901", "title": "E2316 &#39;any_of&#39; is not a member of &#39;std&#39;", "body": "<p>C++ Builder 32-bit is not C++11 compliant. For all of the c++11 features you need to use the 64-bit version.</p>\n\n<p><code>std::set_union</code>, <code>std::set_intersection</code>, and <code>std::set_difference</code> are not c++11 features, which is why they work.</p>\n"}], "owner": {"reputation": 3, "user_id": 4769027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc4c113b20291dad79046daeee00ce3f?s=128&d=identicon&r=PG&f=1", "display_name": "user4769027", "link": "https://stackoverflow.com/users/4769027/user4769027"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2198, "favorite_count": 0, "accepted_answer_id": 29950901, "answer_count": 1, "score": 0, "last_activity_date": 1430329875, "creation_date": 1430329471, "last_edit_date": 1430329875, "question_id": 29950858, "link": "https://stackoverflow.com/questions/29950858/e2316-any-of-is-not-a-member-of-std", "title": "E2316 &#39;any_of&#39; is not a member of &#39;std&#39;", "body": "<p>So I'm trying to use <code>std::any_of()</code> function, but C++ Builder 6 says that there is an error:</p>\n\n<blockquote>\n  <p>[C++ Error] Unit1.cpp(93): E2316 'any_of' is not a member of 'std'</p>\n</blockquote>\n\n<p><br>But I have <code>#include &lt;algorithm&gt;</code> in my Unit1.h</p>\n\n<pre><code>#ifndef Unit1H\n#define Unit1H\n//---------------------------------------------------------------------------\n#include &lt;Classes.hpp&gt;\n#include &lt;Controls.hpp&gt;\n#include &lt;StdCtrls.hpp&gt;\n#include &lt;Forms.hpp&gt;\n#include &lt;ExtCtrls.hpp&gt;\n#include &lt;set&gt;\n#include &lt;algorithm&gt;    // std::set_union, std::sort, etc\n#include &lt;vector&gt;       // std::vector\n#include &lt;math.h&gt;\n//--------------------------------------------------------------------------\n</code></pre>\n\n<p>My Unit1.cpp:</p>\n\n<pre><code>void __fastcall TForm1::Button7Click(TObject *Sender)\n{\n        int el = StrToInt(LabeledEdit1-&gt;Text);\n        if ( std::any_of(A.begin(), A.end(), (*MyIteratorA==el)) ){\n                ShowMessage(\"true\");\n        }else{\n                ShowMessage(\"false\");\n        }\n\n}\n</code></pre>\n\n<p>It's weird, because I'm using such functions as <code>std::set_union()</code>, <code>std::set_intersection()</code>, <code>std::set_difference()</code> in the same programm and everything worked fine untill <code>std::any_of</code>.</p>\n\n<p>Sorry for bad english.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 11, "creation_date": 1430329194, "post_id": 29950743, "comment_id": 48022410, "body": "Use include guards. That is, in Employee.h, add <code>#ifndef EMPLOYEE_H_ #define EMPLOYEE_H_</code> (separate lines) at the very top, and at bottom add <code>#endif </code>"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 7, "creation_date": 1430329194, "post_id": 29950743, "comment_id": 48022411, "body": "Do your headers have <a href=\"http://en.wikipedia.org/wiki/Include_guard\" rel=\"nofollow noreferrer\">include guards</a>?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 4, "creation_date": 1430329233, "post_id": 29950743, "comment_id": 48022435, "body": "Oh and do the same for Marketer.h. Any header file you create, actually."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1430329255, "post_id": 29950743, "comment_id": 48022447, "body": "@juanchopanza: Well timed"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1430329633, "post_id": 29950743, "comment_id": 48022667, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5430019/c-redefinition-errors-in-h-files\">C, redefinition errors in .h files</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5952, "user_id": 1760858, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/VFjmX.png?s=128&g=1", "display_name": "velis", "link": "https://stackoverflow.com/users/1760858/velis"}, "is_accepted": false, "score": 0, "last_activity_date": 1430330441, "creation_date": 1430330441, "answer_id": 29951142, "question_id": 29950743, "link": "https://stackoverflow.com/questions/29950743/the-class-has-been-defined-but-the-program-claims-it-is-redefined/29951142#29951142", "title": "The class has been defined, but the program claims it is redefined", "body": "<p>You need to make sure your .h is only parsed once. #pragma once or #ifndef myheader_h ...</p>\n"}], "owner": {"reputation": 1, "user_id": 4847399, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-HE-ZqWB1Z50/AAAAAAAAAAI/AAAAAAAAAFQ/dnTo5AiIWdk/photo.jpg?sz=128", "display_name": "Darren Li", "link": "https://stackoverflow.com/users/4847399/darren-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430330441, "creation_date": 1430329071, "last_edit_date": 1430329457, "question_id": 29950743, "link": "https://stackoverflow.com/questions/29950743/the-class-has-been-defined-but-the-program-claims-it-is-redefined", "title": "The class has been defined, but the program claims it is redefined", "body": "<p>So I have this one error and just like the title it is a class type redefinition error. I have looked at the previous posts about this type of error and tried to use their solutions; however none of them worked.</p>\n\n<p>This is the header file for employee.h</p>\n\n<pre><code>class Employee { \npublic:\n    Employee();\n    void getHours();\n    void getSalary();\n    void getVacationDays();\n    void getVacationForm();\n};\n</code></pre>\n\n<p>And this is the employee.cpp </p>\n\n<pre><code>#include \"employee.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nvoid Employee::getHours(){\n    cout &lt;&lt; \" I work 40 hours per week\\n\";\n};\nvoid Employee::getSalary(){\n    cout &lt;&lt; \" I earn $40, 000\\n\";\n};\nvoid Employee::getVacationDays(){\n    cout &lt;&lt; \" I receive 2 weeks vacation\\n\";\n};\nvoid Employee::getVacationForm(){\n    cout &lt;&lt; \" Use the yellow vacation form \\n\";\n};\n</code></pre>\n\n<p>I have ran the files before and they worked perfectly fine, but when I made a derived class, \"Marketer\" the program suddenly breaks at some point.</p>\n\n<p>This is the marketer.h </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"employee.h\"\nusing namespace std;\nclass Marketer: public Employee\n{\npublic:\n    Marketer();\n    void Marketer::getPay();\n    void Marketer::getTime();\n    void Marketer::getDayOff();\n    void Marketer::getForm();\n};\n</code></pre>\n\n<p>and this is the Marketer.cpp </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"Marketer.h\"\n#include &lt;string&gt;\nusing namespace std;\nvoid Marketer::getTime(){\n    cout &lt;&lt; \" I work 40 hours per week\\n\";\n};\nvoid Marketer::getPay(){\n    cout &lt;&lt; \" I earn $50, 000\\n\";\n};\nvoid Marketer::getDayOff(){\n    cout &lt;&lt; \" I receive 2 weeks vacation\\n\";\n};\nvoid Marketer::getForm(){\n    cout &lt;&lt; \" Use the yellow vacation form \\n\";\n};\n</code></pre>\n\n<p>When I run the program it only gives me an error saying </p>\n\n<pre><code>\"Error C2011: 'Employee' :'class' type is redefined\". \n</code></pre>\n\n<p>I find no errors in employee.h/.cpp nor Marketer.h/.cpp\nDoes anyone know what went wrong?</p>\n"}, {"tags": ["c++", "vector", "iterator", "const-iterator"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1430329206, "post_id": 29950712, "comment_id": 48022417, "body": "Is T an iterable type?  Why not make your function a template function were the template type names the type of iterator required?  Like <code>template &lt;typname FowardIterator&gt; print(ForwardIterator first, ForwardIterator last) {}</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430329331, "post_id": 29950712, "comment_id": 48022493, "body": "There is no way to do that (in a safe and portable manner)"}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 1544504, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dd4ef644374074983036c4f24326a5f?s=128&d=identicon&r=PG", "display_name": "bartexsz", "link": "https://stackoverflow.com/users/1544504/bartexsz"}, "edited": false, "score": 0, "creation_date": 1430329524, "post_id": 29950792, "comment_id": 48022607, "body": "So you suggest the best/simplest way to do it is to put this object into container and then create iterator?"}], "tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 3, "last_activity_date": 1430329235, "creation_date": 1430329235, "answer_id": 29950792, "question_id": 29950712, "link": "https://stackoverflow.com/questions/29950712/cast-object-into-vectors-const-iterator/29950792#29950792", "title": "Cast object into vector&#39;s const_iterator", "body": "<blockquote>\n  <p><em>\"How can I cast standalone object of type T, into iterator, so I can use it as an argument?\"</em></p>\n</blockquote>\n\n<p>You cannot. That <em>standalone object</em> needs to be stored in an appropriate container. Only containers provide creation of iterators.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 880928, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/56329e9913c7460e7016ada208cde397?s=128&d=identicon&r=PG", "display_name": "cmorse", "link": "https://stackoverflow.com/users/880928/cmorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1430329321, "creation_date": 1430329321, "answer_id": 29950813, "question_id": 29950712, "link": "https://stackoverflow.com/questions/29950712/cast-object-into-vectors-const-iterator/29950813#29950813", "title": "Cast object into vector&#39;s const_iterator", "body": "<p>You shouldn't be trying to cast an arbitrary object type T to <code>std::vector::const_iterator</code>.</p>\n\n<p>Assuming the object is a <code>std::vector&lt;T&gt;</code>, you can use the <code>std::vector::cbegin</code> or <code>std::vector::cend</code> functions to get a <code>std::vector::const_iterator</code>.</p>\n"}], "owner": {"reputation": 229, "user_id": 1544504, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5dd4ef644374074983036c4f24326a5f?s=128&d=identicon&r=PG", "display_name": "bartexsz", "link": "https://stackoverflow.com/users/1544504/bartexsz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 29950792, "answer_count": 2, "score": 0, "last_activity_date": 1430329321, "creation_date": 1430328952, "last_edit_date": 1430329193, "question_id": 29950712, "link": "https://stackoverflow.com/questions/29950712/cast-object-into-vectors-const-iterator", "title": "Cast object into vector&#39;s const_iterator", "body": "<p>Hi I have a function which takes <code>std::vector&lt;T&gt;::const_iterator</code> as parameter.</p>\n\n<p>Question is:</p>\n\n<p>How can I cast standalone object of type T, into iterator, so I can use it as an argument?</p>\n"}, {"tags": ["c++", "mfc"], "comments": [{"owner": {"reputation": 2295, "user_id": 1873374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1079c756b11aa3a39597e7f3cc2cb2b?s=128&d=identicon&r=PG", "display_name": "Sarah Elan", "link": "https://stackoverflow.com/users/1873374/sarah-elan"}, "edited": false, "score": 0, "creation_date": 1430329295, "post_id": 29950626, "comment_id": 48022470, "body": "Please post your code."}, {"owner": {"reputation": 668, "user_id": 3859951, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/w86J6.png?s=128&g=1", "display_name": "hypheni", "link": "https://stackoverflow.com/users/3859951/hypheni"}, "edited": false, "score": 0, "creation_date": 1430342331, "post_id": 29950626, "comment_id": 48030246, "body": "Why are you trying to open a socket connection from a UI thread?"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430357931, "post_id": 29950626, "comment_id": 48035813, "body": "I would like to do send and receive via message queue and UI has a message pump regardless it should work,"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430358160, "post_id": 29950626, "comment_id": 48035888, "body": "I would like to do send and receive via messages and UI has a message pump regardless it should work I just moved the code back to Initnstance and put a _try {} and catch{} around the CAsyncSocket::create as by the wild branch after create I was sure there was an exception but the catch didn&#39;t pick it up"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430431183, "post_id": 29950626, "comment_id": 48076607, "body": "As I said I get messages from other windows to do do send or receive and a UI has message pump not at home right now but I&#39;ll post my code tommorow BTW is there a way to configure stack overflow to send e-mail notification when someone replies thanks"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430453239, "post_id": 29950626, "comment_id": 48082407, "body": "for (i = 0, start_port = 11007; i &lt; 4; start_port++, i++)            {"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430489240, "post_id": 29950626, "comment_id": 48096065, "body": "Here is the code I have a loop in the CWinApp::Initinstance                   for (i = 0, start_port = 11007; i &lt; 4; start_port++, i++)            { threadptr[i] = new SockCLeintThread(start_port);                      ret = threadptr[i]-&gt;CreateThread (CREATE_SUSPENDED);                    In SockCLientThread::initinstance           \t \t if(thisocket.Create(thisocket.port,SOCK_STREAM,(FD_READ | FD_WRITE | FD_OOB | FD_ACCEPT | FD_CONNECT | FD_CLOSE),ipaddr)== 0)           {                           error_code =  thisocket.GetLastError();                    }"}, {"owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "edited": false, "score": 0, "creation_date": 1430489442, "post_id": 29950626, "comment_id": 48096183, "body": "I am sorry for how I posted the code the &quot;Add a comment&quot; has a limited amount of characters &quot;thisocket&quot; is a protected member of   SockClientThread"}], "owner": {"reputation": 1, "user_id": 4812590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cb462e96f62a1836fbdc30969e54fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Fornow", "link": "https://stackoverflow.com/users/4812590/fornow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430332832, "creation_date": 1430328671, "last_edit_date": 1430332832, "question_id": 29950626, "link": "https://stackoverflow.com/questions/29950626/casyncsocketcreate-fails-in-cwinthreadinitinstance-but-works-in-constructor", "title": "CAsyncSocket::Create fails in CWinThread::Initinstance but works in Constructor", "body": "<p>I have CAsynSocket derived class in my CWinThread derived class</p>\n\n<p>I use new and create actually create suspended\nTo create the CWinThread </p>\n\n<p>In my CWINTHREAD::Initintance </p>\n\n<p>I try to do a CAsyncsocket::Create the program goes \"south\" the code totally leaves initinstance\nWhen I move the code to the CWINTHREAD \nConstructor it works </p>\n\n<p>I'm baffeled </p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 6065, "user_id": 864027, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3f26a415e9299390c5090b6150a39b30?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/864027/daniel"}, "edited": false, "score": 1, "creation_date": 1430329798, "post_id": 29950601, "comment_id": 48022768, "body": "It is not at all clear what you are trying to accomplish."}, {"owner": {"reputation": 19, "user_id": 4053139, "user_type": "registered", "profile_image": "https://graph.facebook.com/1296305632/picture?type=large", "display_name": "Jack", "link": "https://stackoverflow.com/users/4053139/jack"}, "reply_to_user": {"reputation": 6065, "user_id": 864027, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3f26a415e9299390c5090b6150a39b30?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/864027/daniel"}, "edited": false, "score": 0, "creation_date": 1430329988, "post_id": 29950601, "comment_id": 48022893, "body": "@daniel I&#39;m deploying 5 ships onto the gameboard.Which is handled by the function void Game::manualPlaceShip(). I&#39;m trying to get the information from my ships class and player class into my game class. I&#39;ll try edit it and make it a little easier to read."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1430330632, "post_id": 29950601, "comment_id": 48023285, "body": "First step would be to familiarize yourself with the Standard Library containers."}, {"owner": {"reputation": 2279, "user_id": 1370785, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/oASta.jpg?s=128&g=1", "display_name": "jiveturkey", "link": "https://stackoverflow.com/users/1370785/jiveturkey"}, "edited": false, "score": 1, "creation_date": 1430332212, "post_id": 29950601, "comment_id": 48024276, "body": "You already answered your own question.  <code>associate shipName with a Player</code>.  One of your constructor arguments to <code>Ships</code> (bad name it should be <code>Ship</code>) should be a <code>Player</code>.  This example also screams for inheritance.  <code>Ship</code> should be a base class, with Destroyer, Cruiser, Submarine, etc. inheriting from it and each defining their own hit points, size, etc. taking away these constructor arguments.  That way <code>int gameboard[][]</code> would be <code>Ship gameboard[][]</code>.  Much more OO."}, {"owner": {"reputation": 19, "user_id": 4053139, "user_type": "registered", "profile_image": "https://graph.facebook.com/1296305632/picture?type=large", "display_name": "Jack", "link": "https://stackoverflow.com/users/4053139/jack"}, "edited": false, "score": 0, "creation_date": 1430367905, "post_id": 29950601, "comment_id": 48038501, "body": "Okay right, awesome. I&#39;ve done a little reading on inheritance and I&#39;ll be learning that next week. Thanks for your help."}], "owner": {"reputation": 19, "user_id": 4053139, "user_type": "registered", "profile_image": "https://graph.facebook.com/1296305632/picture?type=large", "display_name": "Jack", "link": "https://stackoverflow.com/users/4053139/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 178, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430330347, "creation_date": 1430328606, "last_edit_date": 1430330347, "question_id": 29950601, "link": "https://stackoverflow.com/questions/29950601/c-link-multiple-classes-together-create-an-array-of-objects-to-access-sequent", "title": "C++ Link multiple Classes together. Create an Array of objects to access sequentially", "body": "<p>Directly bellow is my partially completed function which should when completed allow me to <strong>place each of the five battleships down on the board.</strong> The issue I'm having is <strong>I want access shipName</strong> which is stored in the <strong>Ship.cpp</strong> and  I also <strong>want to associate shipName</strong> with a <strong>Player</strong>. So for example I can have <strong>player1</strong> and <strong>player2</strong> each have <strong>5 ships associated to them</strong> and run the placement loop for each of them.I believe that's called instantiating an object. I admit that I'll have have to read up on that! </p>\n\n<p>Secondly will I have to have some sort of array which stores each of the ships and loops through each time? So like first pass is the cruiser, second pass is the destroyer etc. Will it actually be more like a string array which I then have a pointer reference, so Player.shipName is actually a pointer to the array or something like that?</p>\n\n<p>I've included my Game.h, Player.h and Ships.h at the bottom for reference.</p>\n\n<p>Thanks in advance for any and all help!</p>\n\n<pre><code>void Game::manualPlaceShip()\n{\n   // start loop \nint currentShipsDeployed = 0;\nint z = 0;\nint a = 0;\n\nwhile (currentShipsDeployed  &lt; 5){\ncout &lt;&lt; \"Please Enter The Co-ordinates to place your\" &lt;&lt; /**Player.shipName**/ \"shipName\"&lt;&lt;  /**Player.shipName**/ \"shipSize\" &lt;&lt;  \"on the battlefield:\";\ncout &lt;&lt; \"\\nEnter the Row co-ordinates between number 1-10:\"; cin &gt;&gt; row;\ncout &lt;&lt; \"\\nEnter the Row co-ordinates between number 1-10:\"; cin &gt;&gt; column;\ncout &lt;&lt; \"\\nChoose the direction to place your ship\\n1.Left-1\\n2.RIGHT-r\\n3.UP-u\\n4.DOWN-d\\n\"; cin &gt;&gt; direction;\n/** if (direction == '1'\n{\n    while (z &lt; shipSize){ \n    gameBoard[row][column] = shipID // ddestroyer = 2, cruiser =3, Submarine = 4, Battleship =5 and Carrier = 6\n    row = row --;\n\n    }\n}\n\nelse if(direction == '2')\n{\n    while (z &lt; shipSize){ \n    gameBoard[row][column] = shipID // destroyer = 2, cruiser =3, Submarine = 4, Battleship =5 and Carrier = 6\n    row = row ++;\n\n    }\n\n}\n\nelse if(direction == 'u')\n\n{\n    while (z &lt; shipSize){ \n    gameBoard[row][column] = shipID // destroyer = 2, cruiser =3, Submarine = 4, Battleship =5 and Carrier = 6\n    row = column ++;\n\n    }\n\n}\n\nelse if(direction == 'd')\n{\n    while (z &lt; shipSize){ \n    gameBoard[row][column] = shipID // destroyer = 2, cruiser =3, Submarine = 4, Battleship =5 and Carrier = 6\n    row = column --;\n\n    }\n\n}\n\nelse\n{\ncout &lt;&lt; \"sorry invalid input please try again\"\n}\n\n**/\ncurrentShipsDeployed ++;\n}\n\n}\n</code></pre>\n\n<p>Game.h</p>\n\n<pre><code>#ifndef GAME_H\n#define GAME_H\n\n#include \"Player.h\"\n#include \"Ships.h\"\n#include &lt;vector&gt;\n\nclass Game {\npublic:\n    Game();\n    ~Game();\n    //void addPlayer(Player newPlayer);\n    void displayBoard();\n    void displayAttackBoard();\n    void setBoard();\n    void randomPlaceShips();\n    void setAttackBoard();\n    void manualPlaceShip();\n    bool attackSequence();\n    //void addShip(Ships newShip);\nprivate:\n     int gameBoard[10][10];\n     int attackBoard[10][10];\n     int x;\n     int y;\n     int pos1;\n     int pos2;\n     int row;\n     int column;\n     char direction;\n\n};\n\n#endif \n</code></pre>\n\n<p>Player.h</p>\n\n<pre><code>#ifndef PLAYER_H\n#define PLAYER_H\n\n\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nclass Player {\n\npublic:\n    Player(string n/**, playerType t**/);\n    ~Player();\n    string displayPlayer();\n\nprivate:\n    string playerName;\n    //playerType pType;\n    int score;\n    bool victory;\n};\n\n#endif\n</code></pre>\n\n<p>Ships.h</p>\n\n<pre><code>#ifndef SHIPS_H\n#define SHIPS_H\n\n#include &lt;string&gt;\nusing namespace std;\n\nclass Ships{\n\n\n\npublic:\n    Ships ();\n    Ships(string shipName,  int shipSize, int shipHitPoints, int shipID);\n\n    int getShipSize();\n    int getShipHitPoints();\n    string getShipName();\n    ~Ships();\n\n\nprivate:\n    string shipName;\n    int shipSize;\n    int shipHitPoints;\n    int shipID;\n    int maxShips;\n\n};\n\n\n#endif\n</code></pre>\n"}, {"tags": ["c++", "arrays", "methods"], "comments": [{"owner": {"reputation": 4037, "user_id": 4056099, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/xF37X.jpg?s=128&g=1", "display_name": "NoseKnowsAll", "link": "https://stackoverflow.com/users/4056099/noseknowsall"}, "edited": false, "score": 0, "creation_date": 1430327838, "post_id": 29950323, "comment_id": 48021588, "body": "Assuming you have your string as a character array, then I believe you&#39;re looking for the <code>atoi()</code> function: <a href=\"http://www.cplusplus.com/reference/cstdlib/atoi/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/cstdlib/atoi</a>"}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1430328472, "post_id": 29950501, "comment_id": 48021984, "body": "<code>atoi</code> doesn&#39;t even allow for error checking if 0 is a possible result."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1430328784, "post_id": 29950501, "comment_id": 48022169, "body": "If you are going to suggest functions from <code>&lt;cstdlib&gt;</code> they should <a href=\"http://www.cplusplus.com/reference/cstdlib/strtol/http://www.cplusplus.com/reference/cstdlib/strtol/\" rel=\"nofollow noreferrer\"><code>strtol()</code></a> since you can check for errors with that."}, {"owner": {"reputation": 4871, "user_id": 2262972, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ab8de75e8ee92b59b797405d5988c7e7?s=128&d=identicon&r=PG", "display_name": "SamTebbs33", "link": "https://stackoverflow.com/users/2262972/samtebbs33"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1430329381, "post_id": 29950501, "comment_id": 48022522, "body": "@NathanOliver I suggsted atoi() as I could tell that the OP may find it more complicated than atoi(), judging by the question and the code posted."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1430330171, "post_id": 29950501, "comment_id": 48023005, "body": "There&#39;s always <code>stoi</code>, which is just as simple as <code>atoi</code> and actually has all the error checking support. Of course one would have to assume the OP is using C++11 in 2015."}, {"owner": {"reputation": 21, "user_id": 4847495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c3b62766998d6c11d0faf3944bcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Anzalone", "link": "https://stackoverflow.com/users/4847495/chase-anzalone"}, "edited": false, "score": 0, "creation_date": 1430332008, "post_id": 29950501, "comment_id": 48024166, "body": "and i was told after converting to put the result into the variable units?"}], "tags": [], "owner": {"reputation": 4871, "user_id": 2262972, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ab8de75e8ee92b59b797405d5988c7e7?s=128&d=identicon&r=PG", "display_name": "SamTebbs33", "link": "https://stackoverflow.com/users/2262972/samtebbs33"}, "is_accepted": false, "score": 0, "last_activity_date": 1430329441, "last_edit_date": 1430329441, "creation_date": 1430328282, "answer_id": 29950501, "question_id": 29950323, "link": "https://stackoverflow.com/questions/29950323/convert-a-string-to-an-int-and-store-the-result-in-a-variable/29950501#29950501", "title": "Convert a String to an int and store the result in a variable", "body": "<p>Use the <code>atoi()</code> function from <code>cstdlib</code> (you will need to include <code>cstdlib</code> at the top of your file):</p>\n\n<pre><code>units = atoi(temp);\n</code></pre>\n\n<p>It converts a char array into an integer. See <a href=\"http://www.cplusplus.com/reference/cstdlib/atoi/%20*here*\" rel=\"nofollow\">here</a>.</p>\n\n<p>You can also use <code>strtol()</code> which allows for error checking, see <a href=\"http://www.cplusplus.com/reference/cstdlib/strtol/%20*here*\" rel=\"nofollow\">here</a> for details. Credit: @NathanOliver</p>\n"}], "owner": {"reputation": 21, "user_id": 4847495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1c3b62766998d6c11d0faf3944bcdb?s=128&d=identicon&r=PG&f=1", "display_name": "Chase Anzalone", "link": "https://stackoverflow.com/users/4847495/chase-anzalone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1430329441, "creation_date": 1430327676, "last_edit_date": 1430328153, "question_id": 29950323, "link": "https://stackoverflow.com/questions/29950323/convert-a-string-to-an-int-and-store-the-result-in-a-variable", "title": "Convert a String to an int and store the result in a variable", "body": "<p>int Units;</p>\n\n<pre><code>void input(int i) {\n    char temp[50];\n    printf(\"Enter class id for #%d &gt; \", i + 1);\n    readLine(ClassID);      \n    printf(\"Enter Name for #%d &gt; \", i + 1);\n    readLine(ClassName);        \n    printf(\"Enter Description for #%d &gt; \", i + 1);\n    readLine(Description);      \n    printf(\"Enter pre-reqs for #%d &gt; \", i + 1);\n    readLine(PreReqs);\n    printf(\"Enter units &gt; \");\n    readLine(temp);\n    // Write a method to convert String temp into an integer and store it in the Units field\n</code></pre>\n\n<p>I think I need to do something with a nested loop but I am not exactly sure how to go about the conversion please help.</p>\n"}, {"tags": ["c++", "c", "memory-management"], "comments": [{"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 1, "creation_date": 1430327562, "post_id": 29950235, "comment_id": 48021406, "body": "Since you&#39;ve tagged it C++, use <code>std::aligned_storage</code>. Or was that tag a mistake?"}, {"owner": {"reputation": 1824, "user_id": 4770328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c70cd143e81361f854286346810e5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/4770328/anatoly"}, "reply_to_user": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1430327681, "post_id": 29950235, "comment_id": 48021481, "body": "@MikeSeymour Ok, thanks. <b>alignof</b> doesn&#39;t work in c++ ?"}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 1, "creation_date": 1430327710, "post_id": 29950235, "comment_id": 48021501, "body": "Are you asking how to check the alignment of a buffer returned from <code>malloc()</code> or how to force a particular alignment on a statically allocated (or automatic) buffer?  The possible solutions are different, and the last few lines in the question suggest the latter."}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 0, "creation_date": 1430327742, "post_id": 29950235, "comment_id": 48021524, "body": "@Anatoly: Yes, C++ has <code>alignof</code>."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1430327768, "post_id": 29950235, "comment_id": 48021545, "body": "Anatoly - Mike is saying you can just use <a href=\"http://en.cppreference.com/w/cpp/types/aligned_storage\" rel=\"nofollow noreferrer\">std::aligned_storage</a> if you&#39;re really using C++."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1430328003, "post_id": 29950235, "comment_id": 48021688, "body": "C11 has <code>max_align_t</code> which has the greatest aliment needs."}, {"owner": {"reputation": 4244, "user_id": 4577158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MFS4a.jpg?s=128&g=1", "display_name": "Ulfalizer", "link": "https://stackoverflow.com/users/4577158/ulfalizer"}, "edited": false, "score": 0, "creation_date": 1430328016, "post_id": 29950235, "comment_id": 48021695, "body": "There&#39;s <code>alignas</code> in C11 as well, e.g. <code>alignas(8) static char heap[Heap_Capacity];</code>. An older trick is to store the thing-to-be-aligned together with some sufficiently-aligned type in a <code>union</code>, which guarantees the same alignment as for that type. There&#39;s likely to be compiler-specific alignment directives as well."}, {"owner": {"reputation": 4244, "user_id": 4577158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MFS4a.jpg?s=128&g=1", "display_name": "Ulfalizer", "link": "https://stackoverflow.com/users/4577158/ulfalizer"}, "edited": false, "score": 0, "creation_date": 1430328070, "post_id": 29950235, "comment_id": 48021732, "body": "<code>alignas</code> requires <code>&lt;stdalign.h&gt;</code> to be included by the way. Otherwise you have to spell it <code>_Alignas</code>."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1430328171, "post_id": 29950235, "comment_id": 48021802, "body": "In C11 - in C++11, <code>alignas</code> is a keyword."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1430328305, "post_id": 29950235, "comment_id": 48021875, "body": "<a href=\"http://stackoverflow.com/a/16339908/2410359\">stackoverflow.com/a/16339908/2410359</a> may be useful"}, {"owner": {"reputation": 1824, "user_id": 4770328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c70cd143e81361f854286346810e5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/4770328/anatoly"}, "edited": false, "score": 1, "creation_date": 1430328322, "post_id": 29950235, "comment_id": 48021889, "body": "There is no difference because both of this functions returns 8"}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1430330570, "post_id": 29950235, "comment_id": 48023246, "body": "How about a simple <code>metadata* block = (metadata*)((((uint64_t)heap-1)&#47;8+1)*8)</code>? Of course, you will have to take into account that not all <code>Heap_Capacity</code> bytes are available to you. Note that I&#39;ve used <code>8</code> just in order to make it more readable in this comment, and that you should basically use <code>sizeof(uint64_t)</code> instead."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 1, "creation_date": 1430330919, "post_id": 29950235, "comment_id": 48023471, "body": "Alternatively, you can declare <code>static uint64_t heap[Heap_Capacity&#47;sizeof(uint64_t)]</code>. This will guarantee that your heap is properly aligned."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 1, "creation_date": 1430339088, "post_id": 29950235, "comment_id": 48028374, "body": "@barak manos  1) Likely needs <code>uint64_t heap[(Heap_Capacity + sizeof(uint64_t) - 1)&#47;sizeof(uint64_t)]</code> as integer division truncates.  2) &quot;guarantee ... properly aligned&quot; is a bit over-stated (consider <code>complex double</code>, etc.), but practically correct."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1430371757, "post_id": 29950235, "comment_id": 48039767, "body": "@chux: Yep, but I couldn&#39;t put this into the comment while keeping it readable :)"}], "answers": [{"comments": [{"owner": {"reputation": 1824, "user_id": 4770328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c70cd143e81361f854286346810e5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/4770328/anatoly"}, "edited": false, "score": 0, "creation_date": 1430328849, "post_id": 29950398, "comment_id": 48022201, "body": "As I said <code>sizeof(metadata) % 8 == 0</code>, so I dont need to use union. Problem with static char heap[Heap_Capacity]; because it start with value that not divided by 8, for example 123. So when I add to it 24, it also not divided by 8"}, {"owner": {"reputation": 65414, "user_id": 768469, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/383724e63ab04b146277912c16f27f54?s=128&d=identicon&r=PG", "display_name": "Nemo", "link": "https://stackoverflow.com/users/768469/nemo"}, "reply_to_user": {"reputation": 1824, "user_id": 4770328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c70cd143e81361f854286346810e5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/4770328/anatoly"}, "edited": false, "score": 0, "creation_date": 1430328968, "post_id": 29950398, "comment_id": 48022274, "body": "@Anatoly: He means to make your heap itself be a union."}, {"owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 1, "creation_date": 1430329367, "post_id": 29950398, "comment_id": 48022513, "body": "<code>union heap_union { void *v; size_t sz; long long ll; long double ld; char heap[Heap_Capacity]; } </code> Then you declare <code>static union heap_union heap;</code> and use <code>heap.heap</code>. Or instead of a union, you could use compiler specific features to request that your char array need a certain alignment."}], "tags": [], "owner": {"reputation": 839, "user_id": 1135979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59464968f70aff62c07a7da3a0f6ba80?s=128&d=identicon&r=PG", "display_name": "yachoor", "link": "https://stackoverflow.com/users/1135979/yachoor"}, "is_accepted": true, "score": 2, "last_activity_date": 1430328242, "last_edit_date": 1495540312, "creation_date": 1430327909, "answer_id": 29950398, "question_id": 29950235, "link": "https://stackoverflow.com/questions/29950235/how-to-check-alignment-of-returned-data-in-the-malloc-implementation/29950398#29950398", "title": "How to check alignment of returned data in the malloc() implementation?", "body": "<p>You could use a union to force correct alignment (see <a href=\"https://stackoverflow.com/questions/891471/union-element-alignment\">Union element alignment</a>) or calculate starting index for allocation that is correctly aligned (which could reduce your heap capacity by up to 7 bytes).</p>\n"}], "owner": {"reputation": 1824, "user_id": 4770328, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1c70cd143e81361f854286346810e5a5?s=128&d=identicon&r=PG&f=1", "display_name": "Anatoly", "link": "https://stackoverflow.com/users/4770328/anatoly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 29950398, "answer_count": 1, "score": 5, "last_activity_date": 1430330034, "creation_date": 1430327403, "last_edit_date": 1430330034, "question_id": 29950235, "link": "https://stackoverflow.com/questions/29950235/how-to-check-alignment-of-returned-data-in-the-malloc-implementation", "title": "How to check alignment of returned data in the malloc() implementation?", "body": "<p><code>malloc(sz)</code> returns memory whose alignment works for any object.</p>\n\n<p>On 32-bit x86 machines, this means that the address value returned by <code>malloc()</code>must be evenly divisible by 4. But in practice, 32-bit malloc implementations return 8-byte aligned memory, meaning that returned addresses are always evenly divisible by 8. You should do this too. (On x86-64/IA-64 machines, the maximum data alignment is 8, but malloc implementations return 16-byte aligned memory.)</p>\n\n<p>I have a test for this situation</p>\n\n<pre><code>// Check alignment of returned data.\n\n int main() \n {\n     double* ptr = (double*) malloc(sizeof(double));\n     assert((uintptr_t) ptr % __alignof__(double) == 0);\n     assert((uintptr_t) ptr % __alignof__(unsigned long long) == 0);\n\n     char* ptr2 = (char*) malloc(1);\n     assert((uintptr_t) ptr2 % __alignof__(double) == 0);\n     assert((uintptr_t) ptr2 % __alignof__(unsigned long long) == 0);\n  }\n</code></pre>\n\n<p>My malloc code allocate more space than the user requested. The first part of that space is used to store metadata about the allocation, including the allocated size. </p>\n\n<p><code>sizeof(metadata) % 8 == 0</code></p>\n\n<p>But my heap</p>\n\n<pre><code> static char heap[Heap_Capacity];\n</code></pre>\n\n<p>starting with value that not divided by 8      </p>\n\n<pre><code>metadata* block = (metadata*)heap;\n(uintptr_t)block % 8 != 0\n</code></pre>\n\n<p>My tests fails, what can I do in this situation?\nHow to be sure that the array begins with address that </p>\n\n<pre><code>metadata* block = (metadata*)heap;\n(uintptr_t)block % 8 == 0\n</code></pre>\n\n<p>?</p>\n"}, {"tags": ["c++", "arrays", "struct"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430327142, "post_id": 29950117, "comment_id": 48021124, "body": "<a href=\"http://stackoverflow.com/a/26299253/1708801\">uint8_t is probably typedef&#39;ed as a char</a> ... I am guessing that is what <code>uint8</code> really is."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 2, "creation_date": 1430327189, "post_id": 29950117, "comment_id": 48021164, "body": "Also since I see <code>cout</code> I am guessing this should really be tagged C++"}, {"owner": {"reputation": 33, "user_id": 4664744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ad1cea04132e599ccd2ea4eb04df43?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan", "link": "https://stackoverflow.com/users/4664744/bogdan"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430327700, "post_id": 29950117, "comment_id": 48021493, "body": "You are right Shafik Yaghmour"}, {"owner": {"reputation": 33, "user_id": 4664744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ad1cea04132e599ccd2ea4eb04df43?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan", "link": "https://stackoverflow.com/users/4664744/bogdan"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430327732, "post_id": 29950117, "comment_id": 48021514, "body": "This works AnchorPixel a; \ta.CH[2] = 5; \tcout &lt;&lt; (int32)a.CH[2];"}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430327740, "post_id": 29950117, "comment_id": 48021521, "body": "Which comment and I right about? About tagging this C++ or about the typedef?"}], "answers": [{"tags": [], "owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "is_accepted": true, "score": 1, "last_activity_date": 1430421443, "last_edit_date": 1430421443, "creation_date": 1430327708, "answer_id": 29950336, "question_id": 29950117, "link": "https://stackoverflow.com/questions/29950117/c-struct-with-uint8-array-weird-behavior/29950336#29950336", "title": "C Struct with uint8 array weird behavior", "body": "<p>It seems likely that <code>uint8</code> is typedef'ed as a <code>unsigned char</code>, we <a href=\"http://coliru.stacked-crooked.com/a/ecbd31215cb3ad86\" rel=\"nofollow\">can see on coliru</a> for <code>uint8_t</code> this is the case. The <code>cstdint</code> header includes <code>stdint.h</code> and there <code>uint8_t</code> is indeed a typedef to <code>unsigned char</code>:</p>\n\n<pre><code>typedef unsigned char       uint8_t;\n</code></pre>\n\n<p>The output you are seeing is consistent with <code>cout</code> treating <code>a.CH[2]</code> as a <code>char</code> type, </p>\n"}], "owner": {"reputation": 33, "user_id": 4664744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7ad1cea04132e599ccd2ea4eb04df43?s=128&d=identicon&r=PG&f=1", "display_name": "Bogdan", "link": "https://stackoverflow.com/users/4664744/bogdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 0, "accepted_answer_id": 29950336, "answer_count": 1, "score": 0, "last_activity_date": 1430421443, "creation_date": 1430327002, "last_edit_date": 1430328635, "question_id": 29950117, "link": "https://stackoverflow.com/questions/29950117/c-struct-with-uint8-array-weird-behavior", "title": "C Struct with uint8 array weird behavior", "body": "<p>I have problem with following C struct:</p>\n\n<pre><code>typedef struct AnchorPixel{\n    int32 X;\n    int32 Y;\n    uint8 CH[5];\n} AnchorPixel;\n</code></pre>\n\n<p>Actually, I have problem with CH array inside it. I just cannot manipulate CH array. For example, following program</p>\n\n<pre><code>AnchorPixel a;\na.CH[2] = 5;\ncout &lt;&lt; a.CH[2];\n</code></pre>\n\n<p>gives output:</p>\n\n<pre><code>\u2663\n</code></pre>\n\n<p>If I change CH type from uint8 to int32, problem disappears. This works:</p>\n\n<pre><code>typedef struct AnchorPixel{\n        int32 X;\n        int32 Y;\n        int32 CH[5]; \n    } AnchorPixel;\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["c++", "pointers"], "comments": [{"owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1430327072, "post_id": 29950095, "comment_id": 48021082, "body": "your question is a bit ambiguos ..."}, {"owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "reply_to_user": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "edited": false, "score": 0, "creation_date": 1430327187, "post_id": 29950095, "comment_id": 48021163, "body": "@DavidHaim - What are you finding ambiguous over here?Don&#39;t you think your comment is ambiguous ?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430327200, "post_id": 29950095, "comment_id": 48021171, "body": "Common practice to make the pointer NULL in the destructor? What for?"}, {"owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430327238, "post_id": 29950095, "comment_id": 48021191, "body": "@juanchopanza - Sorry. Didn&#39;t got your question."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1430327244, "post_id": 29950095, "comment_id": 48021195, "body": "@juanchopanza: When debugging, it makes it 100% clear to the debugger(person) that the memory has already been freed.  Many people swear by it.  Many people swear against it."}, {"owner": {"reputation": 310760, "user_id": 12711, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c330bdee507c95c603a93ca91d9145a9?s=128&d=identicon&r=PG", "display_name": "Michael Burr", "link": "https://stackoverflow.com/users/12711/michael-burr"}, "edited": false, "score": 3, "creation_date": 1430327255, "post_id": 29950095, "comment_id": 48021203, "body": "Don&#39;t do this. See: <a href=\"http://stackoverflow.com/a/4666535/12711\">stackoverflow.com/a/4666535/12711</a>"}, {"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1430327277, "post_id": 29950095, "comment_id": 48021219, "body": "Is <code>func()</code> being called? What is <code>a</code> in it? (Is <code>func</code> supposed to be a member of <code>dummy</code>?) Where is delete being called with no memory allocated?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1430327343, "post_id": 29950095, "comment_id": 48021266, "body": "@MooingDuck It would only make it 100% clear that a local pointer has been set to NULL. The memory doesn&#39;t even have to be freed for that."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430327493, "post_id": 29950095, "comment_id": 48021360, "body": "@juanchopanza: True.  Many people develop the habit that when they free memory, they set it to NULL, in which case, the null-ness of the pointer always reflects the validity of the pointer.  Is it foolproof? No, but no code is.  It&#39;s simply a practice that when used properly helps when debugging. That&#39;s all."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1430327592, "post_id": 29950095, "comment_id": 48021423, "body": "@MooingDuck The downside is that it makes it look like they don&#39;t know what they are doing."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1430327758, "post_id": 29950095, "comment_id": 48021539, "body": "@juanchopanza: In your opinion.  In their opinion, leaving it pointing to invalid memory is a novice mistake.  Subjective either way.  See the question Michael Burr linked."}], "answers": [{"comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 1, "creation_date": 1430327145, "post_id": 29950146, "comment_id": 48021127, "body": "...unless the pointer is null, which is perfectly acceptable (it does nothing in that case). (Aside: downvote&#39;s not mine.)"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1430327199, "post_id": 29950146, "comment_id": 48021170, "body": "@Cameron: Er, right. Forgot that case."}], "tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": false, "score": 0, "last_activity_date": 1430327158, "last_edit_date": 1430327158, "creation_date": 1430327105, "answer_id": 29950146, "question_id": 29950095, "link": "https://stackoverflow.com/questions/29950095/memory-management-pointers/29950146#29950146", "title": "Memory management pointers", "body": "<p>You should not call delete on a pointer that points to an object that isn't heap allocated object, ever.  If you do, the program may ignore that line.  Or it may erase your hard drive.  Or it may ignore that line on your computer, and after you give the program to a friend it erases <em>their</em> hard drive.  Don't do it.</p>\n\n<p>Related: your class is missing the copy constructor, and copy assignment which are <em>critical</em> when you have a pointer that manages memory.  Alternatively, replace the <code>int*</code> member with a <code>unique_ptr&lt;int&gt;</code> member, which manages construction and movement for you.</p>\n"}, {"tags": [], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": true, "score": 2, "last_activity_date": 1430327185, "last_edit_date": 1495541183, "creation_date": 1430327185, "answer_id": 29950176, "question_id": 29950095, "link": "https://stackoverflow.com/questions/29950095/memory-management-pointers/29950176#29950176", "title": "Memory management pointers", "body": "<p>Making it null is completely pointless, since it's about to be destroyed.</p>\n\n<p>Your code isn't deleting it if it's null, due to the <code>if (a!=NULL)</code>. However, that's also pointless: applying <code>delete</code> to a null pointer will simply do nothing, so you can reduce the destructor to an unconditional <code>delete a;</code> (assuming that you know that it's either null, or points to an object created with <code>new</code>).</p>\n\n<p>You do need to make sure your class either isn't copyable, or has valid copy semantics, per the <a href=\"https://stackoverflow.com/questions/4172722\">Rule of Three</a>; otherwise, copying the object will lead to deleting the same memory twice, which is not allowed.</p>\n\n<p>Better still, stop juggling pointers, and use smart pointers, containers and other RAII types to make life much simpler.</p>\n"}], "owner": {"reputation": 2298, "user_id": 1678247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/f8549f94187ef55f60933aea815d64ff?s=128&d=identicon&r=PG", "display_name": "Mayank Jain", "link": "https://stackoverflow.com/users/1678247/mayank-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "closed_date": 1430327316, "accepted_answer_id": 29950176, "answer_count": 2, "score": -3, "last_activity_date": 1430327185, "creation_date": 1430326935, "question_id": 29950095, "link": "https://stackoverflow.com/questions/29950095/memory-management-pointers", "closed_reason": "Duplicate", "title": "Memory management pointers", "body": "<p>I saw a common practice of deleting the pointer amd making it null in destructor even if no memory is allocated to pointer on heap. Consider below C++ code:</p>\n\n<p>dummy.h</p>\n\n<pre><code>class dummy\n{\n     int* a;\n}\n</code></pre>\n\n<p>dummy.cpp</p>\n\n<pre><code>  dummy::dummy():a(NULL)\n   { cout&lt;&lt;Inside Const\"; }\n\n   dummy::~dummy()\n  {\n    if(a!=NULL)\n    {\n      delete a;\n      a = NULL;\n    }\n  }\n\n  bool func()\n  {\n     a = func1();\n  }\n</code></pre>\n\n<p>In above code although  memory to a is not allocated on heap, even then it is deleted. It should not lead to memory leak?</p>\n"}, {"tags": ["c++", "string", "vector", "atof"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1430327346, "post_id": 29950062, "comment_id": 48021270, "body": "You may want to use <a href=\"http://en.cppreference.com/w/cpp/io/basic_istringstream\" rel=\"nofollow noreferrer\"><code>std::istringstream</code></a> to parse values from a line."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430327891, "post_id": 29950062, "comment_id": 48021621, "body": "This should answer it: <a href=\"http://stackoverflow.com/questions/19936483/c-reading-csv-file/19936571#19936571\" title=\"c reading csv file\">stackoverflow.com/questions/19936483/c-reading-csv-file/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 4847439, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153236447368194/picture?type=large", "display_name": "Thomas Cho", "link": "https://stackoverflow.com/users/4847439/thomas-cho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1430327226, "answer_count": 0, "score": 0, "last_activity_date": 1430326820, "creation_date": 1430326820, "question_id": 29950062, "link": "https://stackoverflow.com/questions/29950062/how-to-add-comma-separated-list-of-double-values-into-a-vector", "closed_reason": "Duplicate", "title": "How to add comma separated list of double values into a vector?", "body": "<p>I want to take the user's input which will be in this format-- (xx, xx, x) where the x is some arbitrary double value and there is always  a comma and whitespace after every value. </p>\n\n<p>I've taken this input as a string value to parse it and check if the user didn't put anything funky. I'm having trouble turning the string into a double and then adding those values into a vector of double type. I tried using the atof function, but I am confused as to how i can add to the vector after the first element. </p>\n\n<p>This is what I have so far in C++..</p>\n\n<pre><code>string vector1, vector2;\n\n//asks for first vector\n\ncout &lt;&lt; \"Enter first vector\"&lt;&lt;endl;\ngetline(cin,vector1);\n\nvector &lt;double&gt; Vector1;\n\n//vector1 without the parantheses\n\nvector1= vector1.substr(1,vector1.length()-2);\ncout&lt;&lt; vector1&lt;&lt;endl;\n\nVector1.push_back(atof(vector1.c_str()));\n\ncout&lt;&lt; Vector1[0];\n</code></pre>\n\n<p>Any ideas? I was thinking of making a loop but I don't how to tell the atof function to continue after the comma and whitespace. </p>\n"}, {"tags": ["java", "android", "c++", "dictionary"], "comments": [{"owner": {"reputation": 1993, "user_id": 4792451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a3f319e0b6623e826f35e89b16807133?s=128&d=identicon&r=PG&f=1", "display_name": "Randy", "link": "https://stackoverflow.com/users/4792451/randy"}, "edited": false, "score": 0, "creation_date": 1483919968, "post_id": 29949865, "comment_id": 70283732, "body": "Did you ever get to the bottom of this? I might be able to help you."}], "owner": {"reputation": 929, "user_id": 191726, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/fbf7439ad6c4f4693e227b791b1b2a0d?s=128&d=identicon&r=PG", "display_name": "Miles", "link": "https://stackoverflow.com/users/191726/miles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 953, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1430326161, "creation_date": 1430326161, "question_id": 29949865, "link": "https://stackoverflow.com/questions/29949865/latinime-dicttool-for-use-with-a-v401-binary-dictionary", "title": "LatinIME dicttool for use with a V401 Binary Dictionary", "body": "<p>I\u2019m trying to convert a version 401 <a href=\"https://code.google.com/p/softkeyboard/wiki/BinaryDictionaries\" rel=\"nofollow\">binary dictionary</a> -- a directory called PersonalizationDictionary.en_US.dict -- to human readable .xml. </p>\n\n<p>The command line utility dicttool_aosp in packages/inputmethods/LatinIME/tools/dicttool can do it like so:</p>\n\n<pre><code>dicttool_aosp makedict -s sourcedict.dict -x output.xml\n</code></pre>\n\n<p>I\u2019m unable to compile the Android Lollipop version of dicttool, since dicttool has native C++ dependencies that don\u2019t play nice with my Mac. Note this line in the NativeLib.mk file of dictool:</p>\n\n<pre><code>HACK: Temporarily disable host tool build on Mac until the build system is ready for C++11.\n</code></pre>\n\n<p>I am hoping someone with a compatible setup can compile this utility for me using \u201cmake dicttool_aosp\u201d from the root of the AOSP source tree. I've spent the past few days looking for compiled versions of it, and while I\u2019ve found many makedict.jar files online, they are too old to support my newer V401 binary dictionary. The main difference between the V401 and older versions is that a V401 is split up into multiple files with extensions like .bigrams, .freq, .header, whereas the older dicts are contained in a single file.</p>\n\n<p>Thank you, please let me know if I can clarify anything!</p>\n"}, {"tags": ["c++", "wxwidgets"], "comments": [{"owner": {"reputation": 3068, "user_id": 1558269, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/lENiy.jpg?s=128&g=1", "display_name": "JabberwockyDecompiler", "link": "https://stackoverflow.com/users/1558269/jabberwockydecompiler"}, "edited": false, "score": 2, "creation_date": 1430326121, "post_id": 29949785, "comment_id": 48020424, "body": "Would you provide either code or a screenshot of what happens please. Preferably both."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1430327451, "post_id": 29949785, "comment_id": 48021326, "body": "Could be due to Windows scaling. Check your display settings and see if they&#39;re set to 100% or something else."}, {"owner": {"reputation": 1, "user_id": 4847400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c85cadfc043c181a478e9a87902a0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Vann Vanna", "link": "https://stackoverflow.com/users/4847400/vann-vanna"}, "edited": false, "score": 0, "creation_date": 1430411431, "post_id": 29949785, "comment_id": 48065958, "body": "Guys im using my phone google chrome. How do I upload an image? To explain better the menu bar which contains all my file save options etc seems to be overlapping the below tabs blocking the tab titles. And the buttons get moved slighty left and right."}, {"owner": {"reputation": 1, "user_id": 4847400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c85cadfc043c181a478e9a87902a0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Vann Vanna", "link": "https://stackoverflow.com/users/4847400/vann-vanna"}, "edited": false, "score": 0, "creation_date": 1430412304, "post_id": 29949785, "comment_id": 48066487, "body": "Ok the menu bar overlaping the bottom tab goes away when I adjusted the notebook size from height 650 to 600."}, {"owner": {"reputation": 1, "user_id": 4847400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c85cadfc043c181a478e9a87902a0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Vann Vanna", "link": "https://stackoverflow.com/users/4847400/vann-vanna"}, "edited": false, "score": 0, "creation_date": 1430412658, "post_id": 29949785, "comment_id": 48066689, "body": "Ok my bet its the fod damn sizer messing every thing up. Thanks guys for the interest. If its not the sizer I will keep u posted"}], "owner": {"reputation": 1, "user_id": 4847400, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c85cadfc043c181a478e9a87902a0f2?s=128&d=identicon&r=PG&f=1", "display_name": "Vann Vanna", "link": "https://stackoverflow.com/users/4847400/vann-vanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1430325892, "creation_date": 1430325892, "question_id": 29949785, "link": "https://stackoverflow.com/questions/29949785/why-does-my-wxwidgets-app-get-distorted-in-windows-8-1", "title": "why does my wxwidgets app get distorted in windows 8.1", "body": "<p>Hi I developed an app that works great in windows xp and windows 7. However once on a Windows 8 64 BIT pc the interfave becomes distorted. Tab heading\ns are not fully visible and buttons that were next to each other overlap.</p>\n\n<p>What can I do to sort this out?</p>\n"}, {"tags": ["c++", "pointers", "recursion", "singly-linked-list"], "comments": [{"owner": {"reputation": 523, "user_id": 712134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd93eff9d0a89703dcb0c27417efb6b?s=128&d=identicon&r=PG", "display_name": "Kim Hansson", "link": "https://stackoverflow.com/users/712134/kim-hansson"}, "edited": false, "score": 1, "creation_date": 1430325848, "post_id": 29949578, "comment_id": 48020235, "body": "<i>find_set</i> could be declared <i>static</i>: <code>static blob *find_set(blob* &amp;in_question);</code>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 1, "creation_date": 1430326973, "post_id": 29949578, "comment_id": 48020996, "body": "Why are you modifying the blob as you&#39;re searching through it? Searching is usually not a destructive operation."}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 1, "creation_date": 1430327763, "post_id": 29949578, "comment_id": 48021542, "body": "This is a disjoint data structures method.   The search travels up the link list until reaches the head and then points all the nodes traversed at the at the head so that the search time for subsequent searches is decreased."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1430329421, "post_id": 29949578, "comment_id": 48022548, "body": "@ninjaneer12 Interesting. You can add that to the question to avoid more pointless comments like mine. ;-)"}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "reply_to_user": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1430330983, "post_id": 29949578, "comment_id": 48023517, "body": "@molbdnilo Thanks.  I am new here.  I&#39;m getting better at asking questions."}, {"owner": {"user_type": "does_not_exist", "display_name": "user872744"}, "edited": false, "score": 0, "creation_date": 1430331404, "post_id": 29949578, "comment_id": 48023784, "body": "@ninjaneer12 Don&#39;t get discouraged. Welcome to the land of StackLords and StackGods. They love to ANONYMOUSLY knock down (=downvote) the newbies. But I upvoted and favorited you to encourage you."}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 0, "creation_date": 1430332544, "post_id": 29949578, "comment_id": 48024452, "body": "@Goodbye  hahaha, I sensed that.  I appreciate your encouragement. I&#39;ll stick with it.  I can handle a little condescension in exchange for nearly instant amazing help. :)"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 0, "creation_date": 1430325930, "post_id": 29949675, "comment_id": 48020287, "body": "oooooh I probably read a 10 times on cplusplus.com  but It did not occur to me that it was both necessary and sufficient to do so.  I need to pass in the pointer not a copy of the pointer.  Is that accomplished by virtue of the fact that I&#39;m passing in a pointer?"}, {"owner": {"reputation": 158, "user_id": 4299463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d519c0bf75d456641ad7ea77d85e278?s=128&d=identicon&r=PG&f=1", "display_name": "Jaciq", "link": "https://stackoverflow.com/users/4299463/jaciq"}, "edited": false, "score": 1, "creation_date": 1430326393, "post_id": 29949675, "comment_id": 48020596, "body": "Am I missing something obvious here, or wouldn&#39;t this, and the original code, not just return a copy of the input?"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 1, "creation_date": 1430327160, "post_id": 29949675, "comment_id": 48021143, "body": "@ninjaneer12 Yes; because you&#39;re passing in a pointer, now don&#39;t really need to pass it by reference. You&#39;re assigning to an attribute of the pointer, not the pointer itself."}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "reply_to_user": {"reputation": 158, "user_id": 4299463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d519c0bf75d456641ad7ea77d85e278?s=128&d=identicon&r=PG&f=1", "display_name": "Jaciq", "link": "https://stackoverflow.com/users/4299463/jaciq"}, "edited": false, "score": 1, "creation_date": 1430327474, "post_id": 29949675, "comment_id": 48021346, "body": "@Jaciq what you are missing is that what is being passed is the parent blob."}, {"owner": {"reputation": 158, "user_id": 4299463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d519c0bf75d456641ad7ea77d85e278?s=128&d=identicon&r=PG&f=1", "display_name": "Jaciq", "link": "https://stackoverflow.com/users/4299463/jaciq"}, "edited": false, "score": 1, "creation_date": 1430338825, "post_id": 29949675, "comment_id": 48028228, "body": "But aren&#39;t you just setting the parent? If for instance we have two blobs, A and B, with A being B&#39;s parent and we call the function on B, the following would be the result of the initial if statement, assuming A&#39;s parent is null.  return null; --- A-&gt;parent = null; --- return A; --- B-&gt;parent = A; --- return B;  Shouldn&#39;t you instead return find_set(in_question_&gt;parent), just as the other answer suggests?"}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 158, "user_id": 4299463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d519c0bf75d456641ad7ea77d85e278?s=128&d=identicon&r=PG&f=1", "display_name": "Jaciq", "link": "https://stackoverflow.com/users/4299463/jaciq"}, "edited": false, "score": 0, "creation_date": 1430346276, "post_id": 29949675, "comment_id": 48032016, "body": "@Jaciq Well, I was assuming that something else would end up being inserted and that this was incomplete code..."}], "tags": [], "owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "is_accepted": false, "score": 2, "last_activity_date": 1430327203, "last_edit_date": 1430327203, "creation_date": 1430325528, "answer_id": 29949675, "question_id": 29949578, "link": "https://stackoverflow.com/questions/29949578/recursive-pointer-function/29949675#29949675", "title": "Recursive pointer function", "body": "<p>So, I'm guessing the problem is here:</p>\n\n<pre><code>blob* blob::find_set(blob* &amp;in_question){\nif(in_question!=nullptr)\n   in_question.parent= find_set(&amp;in_question.parent);\nreturn in_question;\n}\n</code></pre>\n\n<p>I'm not quite sure why you're taking a reference to a pointer, but here's a working version of the code:</p>\n\n<pre><code>blob* blob::find_set(blob* in_question){\n    if(in_question != nullptr)\n       in_question-&gt;parent = find_set(in_question-&gt;parent);\n    return in_question;\n}\n</code></pre>\n\n<ul>\n<li>Accessing members of a pointer requires using <code>-&gt;</code> instead of <code>.</code></li>\n<li>Taking the address of <code>in_question-&gt;parent</code> yields an object of type <code>blob**</code>, which is probably not what you want</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 0, "creation_date": 1430328031, "post_id": 29950329, "comment_id": 48021707, "body": "It is called find set because the context is a forest of disjoint trees.  The function finds the root node of the tree, the representative of the set, in the forest."}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 0, "creation_date": 1430328083, "post_id": 29950329, "comment_id": 48021742, "body": "I appreciate the first if though it was definitely something I was going to have to add."}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "edited": false, "score": 0, "creation_date": 1430346313, "post_id": 29950329, "comment_id": 48032029, "body": "<a href=\"https://gradha.github.io/articles/2015/04/whitespace-goto-fail.html\" rel=\"nofollow noreferrer\">You forgot your braces in the last example</a>."}, {"owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "edited": false, "score": 0, "creation_date": 1430371331, "post_id": 29950329, "comment_id": 48039592, "body": "@Kim Hansson Oh man I didn&#39;t see your response until now!! aaaaaaaaaaah!  I have been killing myself over this program, and I didn&#39;t even pull off the flatten part!  Either way I am learning c++!"}], "tags": [], "owner": {"reputation": 523, "user_id": 712134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd93eff9d0a89703dcb0c27417efb6b?s=128&d=identicon&r=PG", "display_name": "Kim Hansson", "link": "https://stackoverflow.com/users/712134/kim-hansson"}, "is_accepted": false, "score": 1, "last_activity_date": 1430368571, "last_edit_date": 1430368571, "creation_date": 1430327697, "answer_id": 29950329, "question_id": 29949578, "link": "https://stackoverflow.com/questions/29949578/recursive-pointer-function/29950329#29950329", "title": "Recursive pointer function", "body": "<p>If the purpose of the method is to get the \"top blob\", i.e. the blob that has no parent, I would change the name to <em>get_top_blob</em> or similar.</p>\n\n<p>Naming aside, you need to change the recursion termination condition so that the last recursion call actually returns the \"top blob\" (currently, the last call returns <em>nullptr</em>).</p>\n\n<pre><code>blob* blob::get_top_blob(blob* in_question){\n    if(in_question == nullptr) //no blob -&gt; no \"top blob\"\n        return nullptr;\n    else if(in_question-&gt;parent != nullptr) // get the \"top blob\" of the parent\n        return get_top_blob(in_question-&gt;parent);         \n    else //in_question is the \"top blob\"\n        return in_question;\n}\n</code></pre>\n\n<p><strong>Update:</strong></p>\n\n<p>Or, in case you wish to \"flatten\" the tree at the same time (see the Enhancements section\n in <a href=\"http://en.literateprograms.org/Disjoint_set_data_structure_(C)\" rel=\"nofollow\">Disjoint set data structure (C)</a>. They're not using recursion and thus their code is easier to read IMO. And now that you have clarified the context, their naming is probably better than what I suggested)</p>\n\n<pre><code>blob* blob::get_top_blob(blob* in_question){\n    if(in_question == nullptr) //no blob -&gt; no \"top blob\"\n        return nullptr;\n    else if(in_question-&gt;parent != nullptr) // get the \"top blob\" of the parent\n    {\n        top_blob = get_top_blob(in_question-&gt;parent);\n        in_question-&gt;parent = top_blob;\n        return top_blob;\n    }   \n    else //in_question is the \"top blob\"\n        return in_question;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 523, "user_id": 712134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecd93eff9d0a89703dcb0c27417efb6b?s=128&d=identicon&r=PG", "display_name": "Kim Hansson", "link": "https://stackoverflow.com/users/712134/kim-hansson"}, "edited": false, "score": 0, "creation_date": 1431111373, "post_id": 29959561, "comment_id": 48371915, "body": "The last recursion call still returns <i>nullptr</i>."}], "tags": [], "owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "is_accepted": false, "score": -1, "last_activity_date": 1430371149, "creation_date": 1430371149, "answer_id": 29959561, "question_id": 29949578, "link": "https://stackoverflow.com/questions/29949578/recursive-pointer-function/29959561#29959561", "title": "Recursive pointer function", "body": "<p>This is what the member function find_set(...) looked like after I got it working.</p>\n\n<pre><code>blob *blob::find_set(blob &amp;in_question){\n    if(in_question.parent!=nullptr)\n        in_question.parent= find_set(*in_question.parent);\n    else\n        std::cout&lt;&lt;\"(\"&lt;&lt;in_question.index[0]&lt;&lt;\",\"&lt;&lt;in_question.index[1]&lt;&lt;\")\"&lt;&lt;std::endl;\n    return in_question.parent;\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4835770, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205532743871020/picture?type=large", "display_name": "ninjaneer12", "link": "https://stackoverflow.com/users/4835770/ninjaneer12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 1, "answer_count": 3, "score": -2, "last_activity_date": 1430371149, "creation_date": 1430325261, "question_id": 29949578, "link": "https://stackoverflow.com/questions/29949578/recursive-pointer-function", "title": "Recursive pointer function", "body": "<p>I am struggling to implement a method called find_set within my class blob.  It is a recursive function which returns pointer to a blob object. My blob class is basically a linked list and this function is supposed to be passed a blob and then recursively traverse blob's parents until arriving at the head of the blob list. \nI am at work so I am having to recreate the essentially components.  This is not copy and pasted version of my code, but I want to know how to do it by the time I get home.</p>\n\n<pre><code>class blob{\n\npublic:\nint size;\nint index[2];\nchar value;\nblob *parent;\nblob *find_set(blob* &amp;in_question);\n};\n</code></pre>\n\n<p>The necessary elements of the blob class to understand my conundrum.</p>\n\n<pre><code>blob* blob::find_set(blob* &amp;in_question){\nif(in_question!=nullptr)\n   in_question.parent= find_set(&amp;in_question.parent);\nreturn in_question;\n}\n</code></pre>\n\n<p>I hope I have been explicit enough.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1430325644, "post_id": 29949574, "comment_id": 48020127, "body": "I&#39;ve always gotten the impression that <code>std::function</code> is actually pretty heavy-weight. It has to be able to contain a class instance for member function pointers, for example. And it could potentially be wrapping a bind expression or lambda with captured variables, which obviously need to store extra state that would need to be copied (unless it was heap allocated, I suppose)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1430325661, "post_id": 29949574, "comment_id": 48020136, "body": "No: A function object (eg. holding a lambda) might be quite expensive to copy."}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "reply_to_user": {"reputation": 85720, "user_id": 21475, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/003174af5095d12b7f9a5efc293eb041?s=128&d=identicon&r=PG", "display_name": "Cameron", "link": "https://stackoverflow.com/users/21475/cameron"}, "edited": false, "score": 0, "creation_date": 1430325824, "post_id": 29949574, "comment_id": 48020217, "body": "@Cameron: It depends on what type of function object it wraps, and how it&#39;s implemented. If it wraps a small (or even empty) object, and is optimised not to dynamically allocate it, then it can be very lightweight."}], "answers": [{"tags": [], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": false, "score": 1, "last_activity_date": 1430325620, "creation_date": 1430325620, "answer_id": 29949699, "question_id": 29949574, "link": "https://stackoverflow.com/questions/29949574/stdfunction-vs-stdfunction-as-a-function-argument/29949699#29949699", "title": "std::function vs std::function&amp; as a function argument", "body": "<blockquote>\n  <p>For the case of <code>function&lt;&gt;</code> objects, would e.g. passing by const reference save time (from e.g. calling potential copy constructor) or space (no need to pass a whole function object to the stack)? </p>\n</blockquote>\n\n<p>Maybe. You'd have to measure it.</p>\n\n<blockquote>\n  <p>How big is a function object in the first place to make it worth passing passing by const reference? </p>\n</blockquote>\n\n<p>It depends on the implementation. You'd have to measure it.</p>\n\n<blockquote>\n  <p>my guess would be that it would roughly be the size of a pointer - is this correct?</p>\n</blockquote>\n\n<p>Implementations are encouraged to use a \"small object optimisation\", so that a small function object is stored inside the <code>function</code> object, rather than dynamically allocated. In that case it will be the size of (or slightly larger than) that object. Otherwise, it would be the size of (or slightly larger than) a pointer to the dynamic object.</p>\n"}, {"tags": [], "owner": {"reputation": 1288, "user_id": 2546106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc6a316b2997bef5e113719fe82f6890?s=128&d=identicon&r=PG", "display_name": "Adam Kosiorek", "link": "https://stackoverflow.com/users/2546106/adam-kosiorek"}, "is_accepted": false, "score": 2, "last_activity_date": 1430325822, "creation_date": 1430325822, "answer_id": 29949761, "question_id": 29949574, "link": "https://stackoverflow.com/questions/29949574/stdfunction-vs-stdfunction-as-a-function-argument/29949761#29949761", "title": "std::function vs std::function&amp; as a function argument", "body": "<p>Let's take gcc 4.9 and check:</p>\n\n<pre><code>cout &lt;&lt; sizeof(int(*)(double, double)) &lt;&lt; endl;\ncout &lt;&lt; sizeof(function&lt;int(double, double)&gt;) &lt;&lt; endl; \n</code></pre>\n\n<p>outputs:</p>\n\n<pre><code>8\n32\n</code></pre>\n\n<p>Size of the callable is, of course, bigger than the pointer size, and you might benefit from passing it by const reference. That is a good idea, however, only if you can guarantee that the object (regardless of it begin an <code>std::function&lt;&gt;</code> or not) you pass by const reference lives as long as you're intending to use it.</p>\n"}], "owner": {"reputation": 179, "user_id": 4830710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd932d1af759c74ca3726d2f26f586?s=128&d=identicon&r=PG&f=1", "display_name": "k_l", "link": "https://stackoverflow.com/users/4830710/k-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1660, "favorite_count": 0, "closed_date": 1430326209, "answer_count": 2, "score": 3, "last_activity_date": 1430325822, "creation_date": 1430325255, "question_id": 29949574, "link": "https://stackoverflow.com/questions/29949574/stdfunction-vs-stdfunction-as-a-function-argument", "closed_reason": "Duplicate", "title": "std::function vs std::function&amp; as a function argument", "body": "<p>consider the three functions below,</p>\n\n<pre><code>func1(std::function&lt;size_t(...) &gt; f, ...);\nfunc2(std::function&lt;size_t(...) &gt;&amp; f );\nfunc3(const std::function&lt;size_t(...)&gt; &amp;f);  \n</code></pre>\n\n<p>For any other type of argument passing by value/copy-constructor, passing by reference and passing by const reference have a clear context and their use cases are well known.</p>\n\n<p>For the case of <code>function&lt;&gt;</code> objects, would e.g. passing by const reference save time (from e.g. calling potential copy constructor) or space (no need to pass a whole function object to the stack)? How big is a function object in the first place to make it worth passing passing by const reference? my guess would be that it would roughly be the size of a pointer - is this correct?</p>\n"}, {"tags": ["c++", "segmentation-fault", "infinite-loop"], "comments": [{"owner": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "edited": false, "score": 0, "creation_date": 1430325460, "post_id": 29949550, "comment_id": 48020010, "body": "Store again the same data? What was your output before giving segfault ?"}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "reply_to_user": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "edited": false, "score": 0, "creation_date": 1430325749, "post_id": 29949550, "comment_id": 48020181, "body": "nothing, just the <code>cout</code> checks and keep looping till it gives a segmentation fault @yanivx"}, {"owner": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "edited": false, "score": 0, "creation_date": 1430325798, "post_id": 29949550, "comment_id": 48020207, "body": "Wanted to see what was the last output before going for a segmentation fault"}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "reply_to_user": {"reputation": 1751, "user_id": 2959769, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/9WfJf.jpg?s=128&g=1", "display_name": "Vinay Shukla", "link": "https://stackoverflow.com/users/2959769/vinay-shukla"}, "edited": false, "score": 0, "creation_date": 1430326019, "post_id": 29949550, "comment_id": 48020354, "body": "@yanivx what you mean by output, cause when i test i key in rubbish value into it"}], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430331459, "post_id": 29951127, "comment_id": 48023825, "body": "still the same, still goes into infinite loop"}, {"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "reply_to_user": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430332484, "post_id": 29951127, "comment_id": 48024416, "body": "When you input a char instead of int does it still stuck? Updating my answer about your second loop (have seen it just now)."}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430333997, "post_id": 29951127, "comment_id": 48025420, "body": "any solution to solve the 2nd infinite loop ? I can&#39;t think of any ways to do it"}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 1, "creation_date": 1430335251, "post_id": 29951127, "comment_id": 48026147, "body": "ok i have manage to solve the first issue, i emptied out the stuff inside <code>cin.ignore</code> and just use <code>cin.ignore();</code>"}, {"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "reply_to_user": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430335961, "post_id": 29951127, "comment_id": 48026599, "body": "Your infinite loop is probably on the else statement that I mentioned in my updated answer. It keeps incrementing countcheck, but you don&#39;t check for a upper limit, which should be Vector.size(). If the system does not complain about accessing an invalid memory position (segfault), then it will keep iterating and will never end.  Updating my answer."}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430338977, "post_id": 29951127, "comment_id": 48028318, "body": "I tried both, the while loop doesn&#39;t go into infinite loop anymore, it just give a segmentation fault straight away. For the for solution, it wouldn&#39;t even go into the for loop."}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430339975, "post_id": 29951127, "comment_id": 48028877, "body": "I might have placed some of the codes wrongly, after rearranging, i can store it once, check if there&#39;s any duplicate data and that&#39;s it. I can&#39;t store 2nd data"}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430340376, "post_id": 29951127, "comment_id": 48029123, "body": "I added some <code>cout</code> to do some checking and realize, after inputting data and running the function another time, after the <code>for</code> loop, the <code>countcheck</code> will be <b>2</b>. Which i don&#39;t get it, it should stop and exit the loop once <code>countcheck</code> = 1."}, {"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "reply_to_user": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430340473, "post_id": 29951127, "comment_id": 48029196, "body": "My code with the for loop can actually substitute your second while() completely (eliminaying the need for a while). It will first check for duplicates in case the <code>Vector.size() &gt; 0</code>. If any duplicate is found, it will break the for and countcheck will be less than Vector.size().  If <code>countcheck == Vector.size()</code>, a new element should be placed, because no duplicates were found.  My code lacks a check for Vector.empty() to insert the first element."}, {"owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "reply_to_user": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 0, "creation_date": 1430340614, "post_id": 29951127, "comment_id": 48029274, "body": "You are right. It should be equals to one. Do a ctrl+f do find where you are incrementing the variable"}, {"owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "edited": false, "score": 1, "creation_date": 1430340683, "post_id": 29951127, "comment_id": 48029320, "body": "finally, i found the error, there was a <code>countcheck++</code> somewhere that i didn&#39;t notice, it works for <code>for</code> loop, thanks !"}], "tags": [], "owner": {"reputation": 1228, "user_id": 995959, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DXPWG.png?s=128&g=1", "display_name": "gibertoni", "link": "https://stackoverflow.com/users/995959/gibertoni"}, "is_accepted": true, "score": 0, "last_activity_date": 1430336875, "last_edit_date": 1430336875, "creation_date": 1430330382, "answer_id": 29951127, "question_id": 29949550, "link": "https://stackoverflow.com/questions/29949550/check-function-going-into-infinite-loop-and-segmentation-fault/29951127#29951127", "title": "Check function going into infinite loop and segmentation fault", "body": "<p>You are dealing with an infinite loop because the error flags are not reset at the end of your iterations.</p>\n\n<p>You should do a cin.clear() to reset the failbit before attempting any other operations:</p>\n\n<pre><code>if(cin.fail())\n{\n   cin.clear();\n   cin.ignore(std::numeric_limits&lt;std::streamsize&gt;::max(), '\\n'); //skip bad input\n   ...\n}\n</code></pre>\n\n<p>On your second loop, you check if the vector of data is empty or not. If it is not empty (a second entry) and your data is new, it will fall indefinitely in the else statement that increases <code>countcheck</code>.</p>\n\n<p>Two things may happen: an infinite loop or a segmentation fault (out of bounds exception).</p>\n\n<p>You should check for an upperbound limit, e.g.:</p>\n\n<pre><code>if(countcheck &gt; Vector.size())\n{\n    //This data is new\n    PTD.setLD(LD);\n    Vector.push_back (PTD);\n    cout &lt;&lt; \"\\nRecord stored successfully, returning back to main menu.\" &lt;&lt; endl;\n    exit = true;\n}\nelse if(Vector[countcheck].getX() == MainX &amp;&amp; \n    ...\n}\n</code></pre>\n\n<p>You could also use a <code>for statement</code> instead:</p>\n\n<pre><code>for(countcheck = 0; countcheck  &lt; Vector.size(); countcheck ++)\n{\n    if(Vector[countcheck].getX() == MainX &amp;&amp; ...)\n    {\n        ...\n        exit = true;\n        break;\n    }\n}\n\n//New element\nif(countercheck == Vector.size())\n{\n    PTD.setLD(LD);\n    Vector.push_back (PTD);\n    cout &lt;&lt; \"\\nRecord stored successfully, returning back to main menu.\" &lt;&lt; endl;\n    exit = true;\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 4449623, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/11cba0b0a62c1eb4120c5cea46344f2e?s=128&d=identicon&r=PG&f=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/4449623/zac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 29951127, "answer_count": 1, "score": -2, "last_activity_date": 1430556520, "creation_date": 1430325175, "last_edit_date": 1430556520, "question_id": 29949550, "link": "https://stackoverflow.com/questions/29949550/check-function-going-into-infinite-loop-and-segmentation-fault", "title": "Check function going into infinite loop and segmentation fault", "body": "<pre><code>void InputStatisticalData() \n{\n    //variables declaration\n\n    cout &lt;&lt; \"\\n[Here to take in data]\" &lt;&lt; endl;\n\n   //cin data\n\n    while (exit == false)\n    {\n        cout &lt;&lt; \"Entered Loop\" &lt;&lt; endl;//for troubleshooting purpose\n        cout &lt;&lt; \"CountCheck: \" &lt;&lt; countcheck &lt;&lt; endl;//for troubleshooting purpose\n\n        if (!Vector.empty())\n        {\n            cout &lt;&lt; \"Entered Vector check IF\" &lt;&lt; endl;//for troubleshooting purpose\n\n            if (condition)//checks if data has any duplicates\n            {\n                cout &lt;&lt; \"\\nData already exist, please enter a new set of data.\" &lt;&lt; endl;\n                break;\n            }\n\n            else\n            {   \n                cout &lt;&lt; \"Entered countcheck++\" &lt;&lt; endl;//for troubleshooting purpose\n                countcheck++;\n            }\n        }\n        else\n        {\n            //stores data\n            exit = true;\n        }\n    }\n}\n</code></pre>\n\n<p>Hi guys, above is my function to take in some data and store them into an object before storing into a vector. Everything works fine, therefore i decided to do some validation checking for the function. 1 of it is to check if the data keyed in, is it already been keyed in before.</p>\n\n<p>I can store the data once and that's it, once i attempt to store it again, it will go into an infinite loop and give me a segmentation fault. I have been trying to solve it for a week but to no avail.</p>\n\n<p>Another infinite loop is the <strong>cin.fail</strong>. It goes into an infinite loop as well if a wrong input is detected.</p>\n\n<p>Thanks for taking your time to take a look.</p>\n\n<p>Lol, why keep down-voting my questions, there's a question and a solution, it's suppose to help others, so stop down-voting and upvote it</p>\n"}, {"tags": ["c++", "boost", "graph"], "answers": [{"tags": [], "owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "is_accepted": true, "score": 2, "last_activity_date": 1430350109, "creation_date": 1430350109, "answer_id": 29956404, "question_id": 29949480, "link": "https://stackoverflow.com/questions/29949480/manually-colouring-of-boosts-graphs/29956404#29956404", "title": "Manually colouring of boost&#39;s graphs", "body": "<p>Vertex colourings are really an algorithmic detail. There is no \"automatic\" provision to translate it to graphviz, as far as I know.</p>\n\n<p>You can add custom attributes though.</p>\n\n<p>I'd usually change it around to use dynamic properties:</p>\n\n<pre><code>std::ofstream outf(\"example.gv\");\n\ndynamic_properties dp;\ndp.property(\"node_id\", get(vertex_index, g));\ndp.property(\"label\", vertex_label);\ndp.property(\"label\", edge_label);\n\nwrite_graphviz_dp(outf, g, dp);\n</code></pre>\n\n<p>Now it's as simple as adding a new vertex attribute to the dynamic set:</p>\n\n<pre><code>dp.property(\"color\", make_transform_value_property_map(&amp;color_to_string, color_map));\n</code></pre>\n\n<p>The only complication is that you need to supply the conversion from <code>default_color_type</code> to text. This is another symptom of the fact that the color maps aren't usually used for representational purposes. Here's a fully working sample:</p>\n\n<p><strong><kbd><a href=\"http://coliru.stacked-crooked.com/a/1433c5856e3623a7\" rel=\"nofollow\">Live On Coliru</a></kbd></strong></p>\n\n<pre><code>#include &lt;boost/graph/adjacency_list.hpp&gt;\n#include &lt;boost/graph/graphviz.hpp&gt;\n#include &lt;iostream&gt;\nusing namespace boost;\n\ninline char const* color_to_string(default_color_type c) {\n    switch(c) {\n        case default_color_type::red_color:   return \"red\";\n        case default_color_type::green_color: return \"green\";\n        case default_color_type::gray_color:  return \"gray\";\n        case default_color_type::white_color: return \"white\";\n        case default_color_type::black_color: return \"black\";\n    }\n    return \"\"; // not known\n}\n\n\nint main() {\n    typedef property&lt;edge_name_t, std::string&gt; EdgeProperties;\n    typedef property&lt;vertex_name_t, std::string, property&lt;vertex_color_t, default_color_type&gt;&gt; VertexProperties;\n    typedef adjacency_list&lt;vecS, vecS, directedS, VertexProperties, EdgeProperties&gt; Graph;\n    typedef graph_traits&lt;Graph&gt;::vertex_descriptor Vertex;\n\n    Graph g;\n    property_map&lt;Graph, vertex_name_t&gt;::type vertex_label = get(vertex_name, g);\n    property_map&lt;Graph, vertex_color_t&gt;::type color_map = get(vertex_color, g);\n    property_map&lt;Graph, edge_name_t&gt;::type edge_label = get(edge_name, g);\n\n    Vertex v1 = add_vertex(g);\n    vertex_label[v1] = \"v1\";\n\n    put(color_map, v1, boost::red_color);\n\n    dynamic_properties dp;\n    dp.property(\"node_id\", get(vertex_index, g));\n    dp.property(\"label\", vertex_label);\n    dp.property(\"label\", edge_label);\n    dp.property(\"color\", make_transform_value_property_map(&amp;color_to_string, color_map));\n\n    write_graphviz_dp(std::cout, g, dp);\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>digraph G {\n0 [color=red, label=v1];\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1955354, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dZqJw.jpg?s=128&g=1", "display_name": "hcordeiro", "link": "https://stackoverflow.com/users/1955354/hcordeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 29956404, "answer_count": 1, "score": 1, "last_activity_date": 1430350109, "creation_date": 1430324935, "question_id": 29949480, "link": "https://stackoverflow.com/questions/29949480/manually-colouring-of-boosts-graphs", "title": "Manually colouring of boost&#39;s graphs", "body": "<p>I'm struggling trying to manually colouring graph's vertices using boost. I wrote the code below but I can't figure it out why the generated file does not have any colour.</p>\n\n<pre><code>int main(int,char*[]) {\n    typedef property&lt;edge_name_t, string&gt; EdgeProperties;\n    typedef property&lt;vertex_name_t, string, property&lt;vertex_color_t, default_color_type&gt;&gt; VertexProperties;\n    typedef adjacency_list&lt;vecS, vecS, directedS, VertexProperties, EdgeProperties&gt; Graph;\n    typedef graph_traits&lt;Graph&gt;::vertex_descriptor Vertex;\n    typedef graph_traits&lt;Graph&gt;::edge_descriptor Edge;\n\n    Graph g;\n    property_map&lt;Graph, vertex_name_t&gt;::type vertex_label = get(vertex_name, g);\n    property_map&lt;Graph, vertex_color_t&gt;::type color_map = get(vertex_color, g);\n    property_map&lt;Graph, edge_name_t&gt;::type edge_label = get(edge_name, g);\n\n    Vertex v1 = add_vertex(g);\n    vertex_label[v1] = \"v1\";\n\n    put(color_map, v1, boost::red_color);\n\n    std::ofstream outf(\"example.gv\");\n    write_graphviz(outf, g,\n                   make_label_writer(vertex_label),\n                   make_label_writer(edge_label)\n                   );\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "qt", "encryption", "crypto++"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1430337110, "post_id": 29949471, "comment_id": 48027274, "body": "Good question. @Yachoor nailed the solution for you."}], "answers": [{"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1430337068, "post_id": 29949819, "comment_id": 48027246, "body": "You beat me to it. I would add to <code>Pump</code> based on a disk block size, like 4096 or 16K."}], "tags": [], "owner": {"reputation": 839, "user_id": 1135979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59464968f70aff62c07a7da3a0f6ba80?s=128&d=identicon&r=PG", "display_name": "yachoor", "link": "https://stackoverflow.com/users/1135979/yachoor"}, "is_accepted": true, "score": 1, "last_activity_date": 1430325999, "creation_date": 1430325999, "answer_id": 29949819, "question_id": 29949471, "link": "https://stackoverflow.com/questions/29949471/cannot-kill-qt-thread-with-cryptopp-filesink-running-in-the-thread-run-method/29949819#29949819", "title": "Cannot kill Qt thread with CryptoPP FileSink running in the thread run method", "body": "<p>You could try passing <code>false</code> to second parameter (<code>pumpAll</code>) of <code>FileSource</code> constructor and doing the work in a loop in chunks using <code>Pump</code> method - this should allow to check <code>isAlive</code> and increment the counters. </p>\n"}], "owner": {"reputation": 2262, "user_id": 4847251, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ba88eab25bb90402783f6f05cfe64db9?s=128&d=identicon&r=PG&f=1", "display_name": "michnovka", "link": "https://stackoverflow.com/users/4847251/michnovka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 29949819, "answer_count": 1, "score": 1, "last_activity_date": 1430326047, "creation_date": 1430324887, "last_edit_date": 1430326047, "question_id": 29949471, "link": "https://stackoverflow.com/questions/29949471/cannot-kill-qt-thread-with-cryptopp-filesink-running-in-the-thread-run-method", "title": "Cannot kill Qt thread with CryptoPP FileSink running in the thread run method", "body": "<p>I have a UI app in C++ and QT5.4, Im using CryptoPP 5.6.2 to encrypt files. I ran into the following problem:</p>\n\n<ol>\n<li><p>When the Encrypt button is hit, a new thread is started based on <a href=\"https://mayaposch.wordpress.com/2011/11/01/how-to-really-truly-use-qthreads-the-full-explanation/\" rel=\"nofollow\">this tutorial</a>.</p>\n\n<pre><code>// new thread\nCryptoWorkerThread = new QThread;\nthis-&gt;worker = new CryptoWorker(fileName.c_str(), newFileName.c_str(), key, keyLength, iv);\nthis-&gt;worker-&gt;moveToThread(CryptoWorkerThread);\nconnect(worker, SIGNAL(error(QString)), this, SLOT(errorString(QString)));\nconnect(CryptoWorkerThread, SIGNAL(started()), worker, SLOT(process()));\nconnect(worker, SIGNAL(finished()), CryptoWorkerThread, SLOT(quit()));\nconnect(worker, SIGNAL(finished()), this, SLOT(on_CryptoWorker_finished()));\nconnect(worker, SIGNAL(finished()), worker, SLOT(deleteLater()));\nconnect(CryptoWorkerThread, SIGNAL(finished()), CryptoWorkerThread, SLOT(deleteLater()));\nCryptoWorkerThread-&gt;start();\n</code></pre></li>\n<li><p>I store pointer to the thread and worker in the mainwindow class (parent of the encrypt button and thus the slot)</p>\n\n<p>Worker Class:</p>\n\n<pre><code>class CryptoWorker : public QObject {\n    Q_OBJECT\npublic:\n    CryptoWorker(const char* sourceFileName, const char* destFileName, const byte * key, int keyLength, const byte * iv);\n    ~CryptoWorker();\n\n    const char* sourceFileName;\n    const char* destFileName;\n\n    public slots:\n    void process();\n\nsignals:\n    void finished();\n    void error(QString err);\n\nprivate:\n    // add your variables here\n    const byte* key;\n    const byte* iv;\n    int keyLength;\n};\n\nCryptoWorker::CryptoWorker(const char* sourceFileName, const char* destFileName, const byte * key, int keyLength, const byte * iv){\n    this-&gt;sourceFileName = sourceFileName;\n    this-&gt;destFileName = destFileName;\n    this-&gt;key = key;\n    this-&gt;keyLength = keyLength;\n    this-&gt;iv = iv;\n}\n\nCryptoWorker::~CryptoWorker(){\n\n}\n\nvoid CryptoWorker::process(){\n\n    CryptoPP::CBC_Mode&lt;CryptoPP::AES&gt;::Encryption encryptor(key, keyLength, iv);\n\n\n    CryptoPP::FileSource(sourceFileName, true,\n        new CryptoPP::StreamTransformationFilter(\n            encryptor,\n            new CryptoPP::FileSink(destFileName),\n            CryptoPP::BlockPaddingSchemeDef::PKCS_PADDING\n        ),\n        true // StreamTransformationFilter\n    ); // FileSource\n\n    emit finished();\n\n    return;\n}\n</code></pre></li>\n</ol>\n\n<p>Now, when the thread is run and I am encrypting file A to file B on the fly, using this function:</p>\n\n<pre><code>CryptoPP::FileSource(sourceFileName, true,\n        new CryptoPP::StreamTransformationFilter(\n            encryptor,\n            new CryptoPP::FileSink(destFileName),\n            CryptoPP::BlockPaddingSchemeDef::PKCS_PADDING\n        ),\n        true // StreamTransformationFilter\n); // FileSource\n</code></pre>\n\n<p>But, the thread is stuck until the file finishes encoding and writing, which can take few minutes. I have no way to kill the thread, as there is no place to put an <code>isAlive()</code> check.</p>\n\n<p>I am trying to find a solution that will allow me to use FileSource, FileSink (speed compared to fstream or file or qfile is amazing) and also let me cancel the operation at some point.</p>\n\n<p>I solved progress monitoring by adding another thread that checks size of the new being created encrypted file B, but it would be cool to have control over the bytes that are being written at a given moment (so that I can check <code>isAlive()</code> and increment data counters).</p>\n\n<p>At this point I am stuck and cannot find a solution. Please help.</p>\n"}, {"tags": ["c++", "windows", "qt", "qt5.4"], "comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1462387025, "post_id": 29949456, "comment_id": 61621222, "body": "There&#39;s quite a big gap between the OS and your application. All that you&#39;re telling us is that a presumably focused window in your program doesn&#39;t see the multimedia key press events. This doesn&#39;t mean Windows doesn&#39;t get to see them."}], "owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1462380535, "creation_date": 1430324849, "last_edit_date": 1462380535, "question_id": 29949456, "link": "https://stackoverflow.com/questions/29949456/qt-multimedia-button-events-not-being-forwarded-to-the-os", "title": "Qt - multimedia button events not being forwarded to the OS", "body": "<p>I've created a default Qt application in Visual Studio 2013 with Qt add-in. There's no event filter. All my multimedia button events are not being forwarded to Windows. I've tried to override the <code>QMainWindow::event</code> and see the output:</p>\n\n<pre><code>bool MainWindow::event(QEvent *event)\n{\n    cout &lt;&lt; event-&gt;type() &lt;&lt; endl;\n\n    return QMainWindow::event(event);\n}\n</code></pre>\n\n<p>Press:</p>\n\n<pre><code>51 - QEvent::ShortcutOverride\n51 - QEvent::ShortcutOverride\n6  - QEvent::KeyPress\n</code></pre>\n\n<p>Release:</p>\n\n<pre><code>7  - QEvent::KeyRelease\n</code></pre>\n\n<p>They are registered by the Qt application. What's blocking them?</p>\n\n<p>I also have a notebook with multimedia buttons separated from function keys and they all work except volume up and volume down buttons. A notification (from driver) pops up on key-down, but the volume doesn't change as I'm holding the button down.</p>\n"}, {"tags": ["c++", "performance", "c++11", "c++14"], "comments": [{"owner": {"reputation": 5511, "user_id": 4516316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBirF.jpg?s=128&g=1", "display_name": "Arun A S", "link": "https://stackoverflow.com/users/4516316/arun-a-s"}, "edited": false, "score": 10, "creation_date": 1430324661, "post_id": 29949377, "comment_id": 48019527, "body": "That depends on your code."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1430324762, "post_id": 29949377, "comment_id": 48019585, "body": "I don&#39;t think this would depend on the language standard, but of better optimization capabilities of more modern compilers."}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "edited": false, "score": 3, "creation_date": 1430324849, "post_id": 29949377, "comment_id": 48019638, "body": "I&#39;ve seen so many examples here of programs that spend all their time calling library functions or I/O, and people wonder if the compiler can make them faster. If .01% of time is spent in the code the compiler sees, that time could be shrunk to 0, and you would never notice."}, {"owner": {"reputation": 14898, "user_id": 1133179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e3a760e170dcbd539461a86a397f1abe?s=128&d=identicon&r=PG", "display_name": "luk32", "link": "https://stackoverflow.com/users/1133179/luk32"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1430324860, "post_id": 29949377, "comment_id": 48019644, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Well, sometimes the same syntax uses newer semantics and related mechanisms, which are (or can be) faster. I think this is the premise of the question. In this meaning, newer standard &quot;could improve performance&quot;, although I say this with a bitter taste =)."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1430324955, "post_id": 29949377, "comment_id": 48019690, "body": "I can think of at least one post-C++11 <a href=\"http://stackoverflow.com/questions/25875596/can-returning-a-local-variable-by-value-in-c11-14-result-in-the-return-value-b/25876175#25876175\">core language tweak</a> that should result in improved performance on identical code, but that one was made via a DR."}, {"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1430326039, "post_id": 29949377, "comment_id": 48020369, "body": "The <code>can you show me a code sample that will be faster when compiled with</code> part of the question make me lean towards thinking this is too broad."}], "answers": [{"comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1430325123, "post_id": 29949498, "comment_id": 48019777, "body": "So there were no changes similar to move semantics that would result in speedups at a language level?"}, {"owner": {"reputation": 14898, "user_id": 1133179, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e3a760e170dcbd539461a86a397f1abe?s=128&d=identicon&r=PG", "display_name": "luk32", "link": "https://stackoverflow.com/users/1133179/luk32"}, "edited": false, "score": 0, "creation_date": 1430325192, "post_id": 29949498, "comment_id": 48019826, "body": "Ummm... are there no new semantics and mechanisms that would make programs faster? I mean, going from 03 to 11, you can write a code that has same syntax and will use <code>move</code> semantics in c++11. It is fairly easy then to write a code that gets &quot;boosted&quot;. The answer is a strong statement, that there were no such changes going from 11 to 14."}, {"owner": {"reputation": 464288, "user_id": 34509, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/7FnYg.jpg?s=128&g=1", "display_name": "Johannes Schaub - litb", "link": "https://stackoverflow.com/users/34509/johannes-schaub-litb"}, "edited": false, "score": 5, "creation_date": 1430325202, "post_id": 29949498, "comment_id": 48019831, "body": "I wonder, what has changed from C++11 to C++14 and why does that not improve performance? I remember reading something about that now compilers can move-rahter-than-copy in more places than in C++11, but forgot the details. Do compilers implement that behavior in their C++11 mode aswell? Are there more cases like that and how does it affect the answer? Is your answer core-language specific or does it also consider the library evolution? Thanks."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 5, "last_activity_date": 1430324983, "creation_date": 1430324983, "answer_id": 29949498, "question_id": 29949377, "link": "https://stackoverflow.com/questions/29949377/will-i-get-a-performance-boost-when-compiling-with-a-c14-compiler-instead-of-c/29949498#29949498", "title": "Will I get a performance boost when compiling with a C++14 compiler instead of C++11?", "body": "<p><strong>Not inherently.</strong></p>\n\n<p>You can probably expect performance to generally increase as compilers get better at code generation over time, so newer compilers would generally be considered \"better\" and more likely to excel at optimisation than older compilers.</p>\n\n<p>But will you automatically get a faster program just by switching between C++11 and C++14 mode? No.</p>\n"}, {"tags": [], "owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "is_accepted": false, "score": 11, "last_activity_date": 1430325878, "creation_date": 1430325878, "answer_id": 29949782, "question_id": 29949377, "link": "https://stackoverflow.com/questions/29949377/will-i-get-a-performance-boost-when-compiling-with-a-c14-compiler-instead-of-c/29949782#29949782", "title": "Will I get a performance boost when compiling with a C++14 compiler instead of C++11?", "body": "<p>There is a core language change in C++14 that allows the implementation to merge memory allocations, see <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2013/n3664.html\">N3664</a>. If your compiler/optimizer takes advantage of this allowance, you may see a performance improvement.</p>\n"}, {"comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430337696, "post_id": 29952532, "comment_id": 48027582, "body": "But since DR1579 is a DR, compilers likely will implement it in C++11 mode too; GCC 5.1 does that."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430342165, "post_id": 29952532, "comment_id": 48030163, "body": "@T.C. even though it is a C++14 status DR?  Or does that mean it is a defect found before C++14 was released?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1430342366, "post_id": 29952532, "comment_id": 48030266, "body": "The latter. &quot;C++14&quot; status means that the resolution is in the C++14 standard, not that it&#39;s a DR against C++14."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 6, "last_activity_date": 1430337718, "last_edit_date": 1430337718, "creation_date": 1430334708, "answer_id": 29952532, "question_id": 29949377, "link": "https://stackoverflow.com/questions/29949377/will-i-get-a-performance-boost-when-compiling-with-a-c14-compiler-instead-of-c/29952532#29952532", "title": "Will I get a performance boost when compiling with a C++14 compiler instead of C++11?", "body": "<p>A fully compliant C++14 compiler with all defects solved has at least one bit of code it is mandated to make more efficient than the C++11 version.</p>\n\n<pre><code>struct one_byte { char x = 7; };\nstruct cheap_move {\n  std::vector&lt;one_byte&gt; state{1000000}; // 1 mb of state, cheap to move\n};\nstruct test_type {\n  test_type(test_type const&amp;)=default;\n  test_type(test_type &amp;&amp;)=default;\n\n  // can construct from a cheap_move via either copy or move:\n  test_type(cheap_move const&amp;y):x(y){}\n  test_type(cheap_move &amp;&amp;y):x(std::move(y)){}\n\n  cheap_move x;\n};\n\ntest_type test_func() {\n  cheap_move m;\n  return m;\n}\n</code></pre>\n\n<p>the <code>return m;</code> in a C++11 compliant compiler will copy 1 megabyte of memory.  In a C++14 compiler with <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_defects.html#1579\" rel=\"noreferrer\">defect 1579</a> implemented, it will copy 3 pointers (well, move 1 vector).</p>\n\n<p>This is because in C++11, the implicit convert-to-rvalue only occurs if the types match exactly.  Under that above defect report (listed as C++14), it occurs if there is an rvalue-consuming constructor that matches.  So C++14 moves into the return value, while C++11 copies into the return value.</p>\n\n<p>(@T.C. tracked down the defect report above).</p>\n\n<p>Note that not all C++14 compilers implement that fix to that defect.  Both clang and gcc over at <a href=\"http://coliru.stacked-crooked.com/\" rel=\"noreferrer\">http://coliru.stacked-crooked.com/</a> at this point do not implement the fix to that defect in C++14 or C++1z mode.</p>\n\n<p>A less contrived example is:</p>\n\n<pre><code>struct modulate {\n  std::vector&lt;double&gt; state;\n  double operator()(double x)const{\n    double r = 0;\n    for (double v:state) {\n      r*=x;\n      r+=v;\n    }\n    return r;\n  }     \n};\nstd::function&lt; double(double) &gt; f( std::vector&lt;double&gt; state ) {\n  auto m = modulate{std::move(state)};\n  return m;\n}\n</code></pre>\n\n<p>The return implicitly moves in C++14, and copies in C++11.</p>\n\n<p>Note that a simple <code>std::move(m)</code> would make C++11 do the same thing as C++14, but the rule that \"you don't <code>move</code> returned local variables\" leads people to avoid that (as it blocks elision): such an \"error\" would be common, given the general rule.</p>\n\n<p>In C++11 this \"error\" leads to inefficiency above, but it is no longer an error in C++14.</p>\n"}], "owner": {"reputation": 1145, "user_id": 3466329, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b2090db900c8e9809f08595aede453e?s=128&d=identicon&r=PG&f=1", "display_name": "Romain", "link": "https://stackoverflow.com/users/3466329/romain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 1, "answer_count": 3, "score": 6, "last_activity_date": 1430337718, "creation_date": 1430324628, "last_edit_date": 1495542812, "question_id": 29949377, "link": "https://stackoverflow.com/questions/29949377/will-i-get-a-performance-boost-when-compiling-with-a-c14-compiler-instead-of-c", "title": "Will I get a performance boost when compiling with a C++14 compiler instead of C++11?", "body": "<p>I know you can get a performance boost when compiling with a C++11 compiler instead of a C++03 compiler (see this <a href=\"https://stackoverflow.com/questions/27595429/can-modern-c-get-you-performance-for-free\">question</a>).</p>\n\n<p>But can I expect a performance boost when going from a C++11 compiler to a C++14 compiler? </p>\n\n<p>If so, can you show me a code sample that will be faster when compiled with C++14 instead of C++11.</p>\n"}, {"tags": ["c++", "c++11", "gcc", "gdb", "g++"], "comments": [{"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "edited": false, "score": 1, "creation_date": 1430326058, "post_id": 29949271, "comment_id": 48020379, "body": "Take a look at <a href=\"https://gcc.gnu.org/onlinedocs/libstdc++/manual/status.html#status.iso.200x\" rel=\"nofollow noreferrer\">this</a>. If you scroll further down you&#39;ll see the implementation status for C++14."}], "answers": [{"tags": [], "owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "is_accepted": false, "score": 1, "last_activity_date": 1430326717, "creation_date": 1430326717, "answer_id": 29950033, "question_id": 29949271, "link": "https://stackoverflow.com/questions/29949271/gnu-gcc-g-compiler-version-on-solaris-for-supporting-c11-14/29950033#29950033", "title": "GNU gcc/g++ compiler version on solaris for supporting C++11/14", "body": "<p>For C++11, version 4.8.1 or later: <a href=\"https://gcc.gnu.org/projects/cxx0x.html\" rel=\"nofollow\">https://gcc.gnu.org/projects/cxx0x.html</a>.</p>\n\n<p>For C++14, version 5 or later: <a href=\"https://gcc.gnu.org/projects/cxx1y.html\" rel=\"nofollow\">https://gcc.gnu.org/projects/cxx1y.html</a>.</p>\n"}], "owner": {"reputation": 6643, "user_id": 2032021, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c1c31bca855c458b3f218ef6a303184d?s=128&d=identicon&r=PG", "display_name": "Dr. Debasish Jana", "link": "https://stackoverflow.com/users/2032021/dr-debasish-jana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1430326717, "creation_date": 1430324295, "last_edit_date": 1430324950, "question_id": 29949271, "link": "https://stackoverflow.com/questions/29949271/gnu-gcc-g-compiler-version-on-solaris-for-supporting-c11-14", "title": "GNU gcc/g++ compiler version on solaris for supporting C++11/14", "body": "<p>I need to know the GNU gcc/g++ version alongwith gmake, gdb and other GNU build tools for upgrading to C++11 first and then to C++14. Please suggest which stable version to look at/download? I will be requiring the compiler/build suite for solaris 32-bit. Please suggest.</p>\n"}, {"tags": ["c++", "qt", "inheritance", "polymorphism"], "answers": [{"comments": [{"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430330954, "post_id": 29949794, "comment_id": 48023493, "body": "How do I work with the <code>Item*</code> ? will I be able to use the functionality I depicted - iterating through <code>items()</code> collection and casting them as <code>Item*</code> ? And if I cast as <code>Item* </code>and the <code>Item</code> happens to be a <code>PixmapItem</code> type, will it have the functionality of the <code>PixmapItem</code> ?"}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "reply_to_user": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 1, "creation_date": 1430331832, "post_id": 29949794, "comment_id": 48024067, "body": "@Thalia You don&#39;t need to cast them as <code>Item*</code> - they will be of <code>Item*</code> type already. Your code should not explicitly cast <code>Item*</code> to subtypes. Implement common method in <code>Item</code> and those that very in behaviour as <code>virtual</code>/abstract in <code>Item</code>, and override them in subclasses."}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430339177, "post_id": 29949794, "comment_id": 48028431, "body": "Will the functions of the child items be used ? I just don&#39;t know how to ask this - it really is the ONLY question I have. If I use the &#39;QGraphicsScene` to manipulate items, will the parent or child <code>paint()</code> methods be used ? When I add an item to a scene, do I have to know what item type it is, or will the child be added even though I am asking for the parent to be added ?"}, {"owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "reply_to_user": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 1, "creation_date": 1430345564, "post_id": 29949794, "comment_id": 48031746, "body": "@Thalia Any simplest tutorial on polymorphism in C++ answers that question in all possible ways. If the methods are virtual, the method of the actual object will be used, regardless of pointer type. So if <code>Item*</code> points to an object of type <code>PixMapItem</code>, methods from <code>PixMapItem</code> will be used."}], "tags": [], "owner": {"reputation": 31937, "user_id": 2642204, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AIjBF.jpg?s=128&g=1", "display_name": "BartoszKP", "link": "https://stackoverflow.com/users/2642204/bartoszkp"}, "is_accepted": false, "score": 1, "last_activity_date": 1430325928, "creation_date": 1430325928, "answer_id": 29949794, "question_id": 29949260, "link": "https://stackoverflow.com/questions/29949260/how-do-i-properly-organize-my-inheritance-classes-to-take-advantage-of-polymorph/29949794#29949794", "title": "How do I properly organize my inheritance classes to take advantage of polymorphism?", "body": "<p>Creating different objects depending on a runtime decision is a typical use case for the <a href=\"http://en.wikipedia.org/wiki/Abstract_factory_pattern\" rel=\"nofollow\">Abstract factory pattern</a>. In your case you can have:</p>\n\n<pre><code>class ItemFactory\n{\npublic:\n    virtual Item* create() = 0;    \n};\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>class PixMapItemFactory : public ItemFactory\n{\npublic:\n    PixMapItemFactory(/* possibly some configuration parameters */);\n    Item* create();  // will return a PixMapItem instance\n};\n</code></pre>\n\n<p>Then you can operate on <code>ItemFactory*</code> type, not knowing nor caring what's the particular type you're creating. It will return <code>Item*</code> instances, so you can change their common properties regardless of their concrete instance type.</p>\n"}, {"comments": [{"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430330741, "post_id": 29949805, "comment_id": 48023350, "body": "This is how I am thinking it - but doesn&#39;t <code>class PixMapItem : public Item, public QGraphicsPixmapItem</code> also contain <code>QGraphicsItem</code> twice ? therefore it should be enough to further specialize the pixmapitem and svgitem classes on top of the existing Item class ? (or technically i is better to make the <code>BaseClass</code> - as an interface ?)"}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430331831, "post_id": 29949805, "comment_id": 48024066, "body": "Also... I still do not understand how to use the items, will I have to cast them to the most childish class before using hem (i.e. adding them to a canvas) ?"}, {"owner": {"reputation": 4967, "user_id": 1935008, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3500ff2f9f622b0cc68319d62ede7244?s=128&d=identicon&r=PG", "display_name": "Ilya Kobelevskiy", "link": "https://stackoverflow.com/users/1935008/ilya-kobelevskiy"}, "reply_to_user": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430336175, "post_id": 29949805, "comment_id": 48026731, "body": "Sorry, it was a typo - I meant BaseItem."}, {"owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430338867, "post_id": 29949805, "comment_id": 48028248, "body": "I am sorry, I just don&#39;t see it - the only difference I see in this example is that you removed the dependency of <code>Item</code> on <code>QGraphicsItem</code>. That will no longer allow a <code>scene()</code> to recognize <code>Item</code> objects - so I can no longer add generic items to a <code>scene()</code> or iterate through the <code>scene()</code> items and extract the <code>Item</code> types. So this has even less functionality - and as for creating items of proper type, there is no way."}, {"owner": {"reputation": 4967, "user_id": 1935008, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3500ff2f9f622b0cc68319d62ede7244?s=128&d=identicon&r=PG", "display_name": "Ilya Kobelevskiy", "link": "https://stackoverflow.com/users/1935008/ilya-kobelevskiy"}, "reply_to_user": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "edited": false, "score": 0, "creation_date": 1430340139, "post_id": 29949805, "comment_id": 48028971, "body": "@Thalia Expanded a bit"}], "tags": [], "owner": {"reputation": 4967, "user_id": 1935008, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3500ff2f9f622b0cc68319d62ede7244?s=128&d=identicon&r=PG", "display_name": "Ilya Kobelevskiy", "link": "https://stackoverflow.com/users/1935008/ilya-kobelevskiy"}, "is_accepted": true, "score": 3, "last_activity_date": 1430340111, "last_edit_date": 1430340111, "creation_date": 1430325961, "answer_id": 29949805, "question_id": 29949260, "link": "https://stackoverflow.com/questions/29949260/how-do-i-properly-organize-my-inheritance-classes-to-take-advantage-of-polymorph/29949805#29949805", "title": "How do I properly organize my inheritance classes to take advantage of polymorphism?", "body": "<p>Probably it worth to reduce your Item class to BaseItem containing everything you are adding to an Item yourself, and all functions you expect any Item to have (as pure virtual if they cannot be implemented without QGraphics*):</p>\n\n<pre><code>class BaseItem {\npublic:\n    void setItemColor(QColor c)    { m_color = c; }\n    QColor getItemColor() const    { return m_color; }\n    ....\nprotected:\n    QColor m_color;\n    ShapeType m_shapeType;\n};\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>class Item : public BaseItem, public QGraphicsItem\nclass PixMapItem : public BaseItem, public QGraphicsPixmapItem\n</code></pre>\n\n<p>and so forth - avoiding circular dependencies. Any Item can be referred to as BaseItem, and provides common interface defined by BaseItem. Each child provides specialization of that interface to proper QGraphics*.</p>\n\n<p>Problem with your original design is that item inherited from QGraphicsItem while it shouldn't, since you plan further specialize it for QGraphicsPixmapItem, which contains QGraphicsItem in itself already.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>Now, you treat all items as BaseItem when you iterate through them - which means that BaseItem has to provide an interface all Items adhere to. Given examples you provided in your question, one way to do it:</p>\n\n<pre><code>class BaseItem {\n  virtual void AddToScene(QGraphicsScene* scene) = 0;\n  // Caller takes ownership.\n  virtual BaseItem* CreateCopy() = 0;\n};\n</code></pre>\n\n<p>Required tasks:</p>\n\n<p>The processing of the scene contains iterations of the type</p>\n\n<pre><code>BaseItem* item1 = renderArea-&gt;item-&gt;CreateCopy();\n// make some changes on the item copy, then add it to a scene\nitem1-&gt;AddToScene(collectionView-&gt;scene());\n</code></pre>\n\n<p>Each derived class <em>implements</em> interface defined by BaseItem, while you treat all Items as BaseItem in your generic operations. That also makes code easily extensible - adding new Item type only requires implementing derived class, but existing code stays as is - so BaseItem needs to be carefully designed to provide interface for operations common for all items.</p>\n\n<pre><code>class Item : public BaseItem, public QGraphicsItem {\n      void AddToScene(QGraphicsScene* scene) override { scene-&gt;addItem(this); }\n      // Caller takes ownership.\n      BaseItem* CreateCopy() override { return new Item; }\n};\n</code></pre>\n"}], "owner": {"reputation": 11175, "user_id": 1217150, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/6ryIf.png?s=128&g=1", "display_name": "Thalia", "link": "https://stackoverflow.com/users/1217150/thalia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 29949805, "answer_count": 2, "score": 2, "last_activity_date": 1430403107, "creation_date": 1430324270, "last_edit_date": 1430403107, "question_id": 29949260, "link": "https://stackoverflow.com/questions/29949260/how-do-i-properly-organize-my-inheritance-classes-to-take-advantage-of-polymorph", "title": "How do I properly organize my inheritance classes to take advantage of polymorphism?", "body": "<p>I am trying to redesign my item class. I am having trouble picturing how things should work.</p>\n\n<p><strong>Current implementation:</strong></p>\n\n<pre><code>class Item : public QGraphicsItem\n{\npublic:\n    typedef enum  { PolygonType = QGraphicsItem::UserType + 1 } ShapeType;\n    Item() {...} \n    Item(const Item &amp;copyItem) // copy constructor\n    {   m_shapeType = copyItem.getItemShape();\n        m_color = copyItem.getItemColor();\n        setPos(copyItem.pos()); ...}\n    QRectF boundingRect() const;\n    QPainterPath shape() const;\n    void setItemShape(ShapeType s) { m_shapeType = s; }\n    ShapeType getItemShape() const { return m_shapeType; }\n    int type() const { return m_shapeType; }   // this will replace the above to allow QGraphicsItem casts\n    void setItemColor(QColor c)    { m_color = c; }\n    QColor getItemColor() const    { return m_color; }\n    ....\nprotected:\n    void paint(QPainter *painter, const QStyleOptionGraphicsItem *option,\n               QWidget *widget);\n    QColor m_color;\n    ShapeType m_shapeType;\n    ....\n};\n\nQPainterPath Item::shape() const\n{\n    QPainterPath path;\n    switch (m_shapeType)\n    {\n    case Item::PolygonType:\n        ...\n        break;\n    ....\n    }\n}\nQRectF Item::boundingRect() const\n{\n    return QRectF(...);\n}\nvoid Item::paint(QPainter *painter, const QStyleOptionGraphicsItem */*option*/, QWidget */*widget*/)\n{\n    switch (m_shapeType)\n    {\n    case Item::PolygonType:\n            painter-&gt;drawPolygon(shape().toFillPolygon());\n            break;\n    ....\n    }\n}\n</code></pre>\n\n<p>Based on selections, I create an item and add to a canvas... then once all changes have been made, I add it to a <code>QGraphicsScene</code>.</p>\n\n<p><strong>Required tasks:</strong> </p>\n\n<p>The processing of the scene contains iterations of the type</p>\n\n<pre><code>Item* item1 = new Item(*renderArea-&gt;item);\n// make some changes on the item copy, then add it to a scene\ncollectionView-&gt;scene()-&gt;addItem(item1);\n\n// in another function...\nfor(int i = 0; i &lt; collectionView-&gt;scene()-&gt;items().size(); ++i)\n{        \n    Item* item = new Item(*(dynamic_cast&lt;Item*&gt;(\n                           collectionView-&gt;scene()-&gt;items().at(i))));\n   ...\n}\n</code></pre>\n\n<p><strong>What I am trying to achieve</strong></p>\n\n<p>This is a minimal approach, but I have to extend functionality to items that extend other classes, like <code>QGraphicsPixmapItem</code> (without having to add a pixmap to every item that does not need it) or <code>QGraphicsSvgItem</code> (again, without having to add so much overhead to items that don't need it).</p>\n\n<p>So what I am trying:</p>\n\n<pre><code>class PolyItem : public Item\n{\npublic:\n    PolyItem(): Item()\n    {\n        m_shapeType = Item::PolygonType;\n    }\n    PolyItem(PolyItem&amp; copy): Item::Item(copy)\n    {\n    }\n    virtual void paint(QPainter* painter,\n                       const QStyleOptionGraphicsItem* option,\n                       QWidget* widget = NULL)\n    {\n        painter-&gt;drawPolygon(shape().toFillPolygon());\n    }\n};\n</code></pre>\n\n<p>or</p>\n\n<pre><code>class PixMapItem : public Item, public QGraphicsPixmapItem\n{\npublic:\n    PixMapItem(): Item()\n    {\n        m_shapeType = Item::PixmapType;\n        setShapeMode(QGraphicsPixmapItem::BoundingRectShape);\n    }\n    PixMapItem(PixMapItem&amp; copy): Item::Item(copy)\n    {\n        setPixmap(copy.pixmap());\n        setShapeMode(QGraphicsPixmapItem::BoundingRectShape);\n    }\n    virtual void paint(QPainter* painter,\n                       const QStyleOptionGraphicsItem* option,\n                       QWidget* widget = NULL)\n    {\n        painter-&gt;drawPixmap(boundingRect(), pixmap());\n    }\n};\n</code></pre>\n\n<p><strong>The question:</strong> </p>\n\n<ul>\n<li>How do I make it work ? How do I create instances of PolygonItem when I choose a shape (and still be able to use the generic Item to modify other properties, like color ?) </li>\n</ul>\n\n<p>-----> I was thinking of making a different constructor that creates the correct shape, in class Item - but that seems to mean that Item requires class polygon that requires class Item... circular dependency ?</p>\n\n<ul>\n<li>Even more complicated, how can I perform the tasks above, modifying a generic item, iterating through items, regardless of shape ?</li>\n</ul>\n\n<p>What I can't visualize: </p>\n\n<p><code>collectionView-&gt;scene()-&gt;addItem(item1);</code></p>\n\n<p>If my item is of polygon type, will the <code>Item::paint()</code> function - and all the other associated functions - be called, or the <code>PolyItem::paint()</code> ?<br>\nDo I have to insert switch-case code to determine and cast every single instance, of every single type ?</p>\n"}, {"tags": ["c++", "c++11", "c++14", "variadic-functions", "variadic-macros"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1430323706, "post_id": 29949025, "comment_id": 48018926, "body": "Can you use variadic template for <code>foo</code> instead of ellipsis ?"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1430323713, "post_id": 29949025, "comment_id": 48018929, "body": "Are you talking about varargs or variadic function templates ? With one your problem can be solved, with the other it can&#39;t."}, {"owner": {"reputation": 234649, "user_id": 204847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdf6da0eaa5db9219d7a731c7daf9c9e?s=128&d=identicon&r=PG", "display_name": "Mike Seymour", "link": "https://stackoverflow.com/users/204847/mike-seymour"}, "edited": false, "score": 4, "creation_date": 1430323834, "post_id": 29949025, "comment_id": 48018993, "body": "Can&#39;t be done. Function parameters are set at run-time, macros are expanded before compilation. I&#39;d throw this mess away and figure out a sensible way of doing whatever it&#39;s trying to do."}, {"owner": {"reputation": 859, "user_id": 2156825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/077db5bd1a2dda03bdf6146de32e44c4?s=128&d=identicon&r=PG", "display_name": "lulijeta", "link": "https://stackoverflow.com/users/2156825/lulijeta"}, "edited": false, "score": 0, "creation_date": 1430323909, "post_id": 29949025, "comment_id": 48019034, "body": "I am not familiar with variadic templates sir, let me check"}, {"owner": {"reputation": 859, "user_id": 2156825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/077db5bd1a2dda03bdf6146de32e44c4?s=128&d=identicon&r=PG", "display_name": "lulijeta", "link": "https://stackoverflow.com/users/2156825/lulijeta"}, "edited": false, "score": 0, "creation_date": 1430381486, "post_id": 29949025, "comment_id": 48044999, "body": "yes, I can use variadic template for foo, but I couldn&#39;t get it to compile when I pass the input parameters to the variadic macro"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1430602172, "post_id": 29949025, "comment_id": 48133760, "body": "Could you show <code>MACRO</code> ? Does it substitution is broken with <code>args...</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 4, "creation_date": 1430406683, "post_id": 29949277, "comment_id": 48062386, "body": "Impossible?  This is C++."}, {"owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1430406949, "post_id": 29949277, "comment_id": 48062601, "body": "@Yakk It <b>is</b> impossible. Read his question again. <code>foo</code> needs to be a function, not a macro."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1430407161, "post_id": 29949277, "comment_id": 48062762, "body": "&quot;Because <code>foo</code> must return a value.&quot;  All we need is a macro that returns a value then! Sacrifice 3 virgin goats on the mars solistice and call me in the morning.  Or, you know, summon abominations with C++ code.  Either works."}], "tags": [], "owner": {"reputation": 97521, "user_id": 565635, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7b4b3e7c9ac68b7d2c93ad02d0b9c79d?s=128&d=identicon&r=PG", "display_name": "orlp", "link": "https://stackoverflow.com/users/565635/orlp"}, "is_accepted": false, "score": 1, "last_activity_date": 1430324317, "creation_date": 1430324317, "answer_id": 29949277, "question_id": 29949025, "link": "https://stackoverflow.com/questions/29949025/variadic-function-calling-a-variadic-macro/29949277#29949277", "title": "Variadic function calling a variadic macro", "body": "<p>What you're asking is impossible.</p>\n\n<p>A variadic function's arguments are determined at runtime, but a macro expands at compile time.</p>\n"}, {"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1430845790, "post_id": 29971396, "comment_id": 48233098, "body": "Note that <code>args...</code> and <code>__VA_ARGS__</code> may differ for cases like <code>foo(arg1, (extra, parenthesis, around, comma, operator, arg2));</code> or simple <code>foo(function_with_side_effect())</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1430845961, "post_id": 29971396, "comment_id": 48233201, "body": "@Jarod42 yep!  The <code>auto&amp;&amp;....args</code> and <code>(__VA_ARGS__)</code> is optional, and can cause unpredictable side effects.  Still, it gives you the arguments as arguments, as well as as tokens, which I figure is what the OP wanted."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 7, "last_activity_date": 1430407309, "last_edit_date": 1430407309, "creation_date": 1430406644, "answer_id": 29971396, "question_id": 29949025, "link": "https://stackoverflow.com/questions/29949025/variadic-function-calling-a-variadic-macro/29971396#29971396", "title": "Variadic function calling a variadic macro", "body": "<p>Make <code>foo</code> a macro that contains a lambda that returns a value, and then invokes that lambda.</p>\n\n<pre><code>#define foo(...) \\\n  [&amp;](auto&amp;&amp;...args){ \\\n    /* do something with args, or __VA_ARGS__ */ \\\n    MACRO(__VA_ARGS__); \\\n    return 7; \\\n  }(__VA_ARGS__)\n</code></pre>\n\n<p>now <code>int x = foo(a, b, c);</code> will both call the lambda inside <code>foo</code>, and inside that lambda call the macro on <code>(a, b, c)</code>, and can return a value.</p>\n\n<p>I pity whomever maintains your code next.</p>\n"}], "owner": {"reputation": 859, "user_id": 2156825, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/077db5bd1a2dda03bdf6146de32e44c4?s=128&d=identicon&r=PG", "display_name": "lulijeta", "link": "https://stackoverflow.com/users/2156825/lulijeta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1165, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1430407309, "creation_date": 1430323552, "last_edit_date": 1430324005, "question_id": 29949025, "link": "https://stackoverflow.com/questions/29949025/variadic-function-calling-a-variadic-macro", "title": "Variadic function calling a variadic macro", "body": "<p>I have an inline variadic function\n<br><code>inline int foo(...)</code>\n<br>I need <code>foo()</code> to call a macro (let's call it <code>MACRO</code>), which is also variadic. \n<br> Basically I need <code>foo()</code> to pass all its input parameters to <code>MACRO</code>. Redefining <code>foo()</code> as another macro would be an easy solution because of <code>__VA_ARGS__</code> option, but I also need <code>foo()</code> to return a value.\n<br>Note: I am trying to interface two parts of already written code and I am not allowed to change them. <code>foo(...)</code> is used in the first part of code and <code>MACRO</code> is defined in the second part. Only thing I am supposed to do is to define a <code>foo()</code> which uses <code>MACRO</code> and I can't because they are both variadic. </p>\n"}, {"tags": ["c++", "parsing", "graph", "graph-algorithm", "topological-sort"], "comments": [{"owner": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1430323562, "post_id": 29948864, "comment_id": 48018840, "body": "If you&#39;re defining the input file, you probably want to define the number of vertices at the top of the file so that you can allocate memory needed to build your data structures in one shot instead of letting them grow as you&#39;re reading from the file. And you probably shouldn&#39;t use std::list unless you&#39;re expecting to insert much more often than read."}, {"owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "reply_to_user": {"reputation": 794, "user_id": 1128487, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/pcJ0L.jpg?s=128&g=1", "display_name": "Mustafa Ozturk", "link": "https://stackoverflow.com/users/1128487/mustafa-ozturk"}, "edited": false, "score": 0, "creation_date": 1430323898, "post_id": 29948864, "comment_id": 48019023, "body": "@MustafaOzturk I am not defining the input file. I thought of using <code>std::list</code> since the adjacency list will grow as the input file is processed."}, {"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1430324376, "post_id": 29948864, "comment_id": 48019347, "body": "This seems like <i>premature optimization</i> to me. A matrix would work, so would an adjacency list or a node-link network. Vectors are good, and so are lists and maps. Get the code working first, then see how well it performs and decide which operation is slowing you down; if you&#39;re using standard containers and practicing good encapsulation, changing the implementation is much easier than you might think."}], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 1892308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/137a2ad54fa9e20dd810a7f3f030a311?s=128&d=identicon&r=PG", "display_name": "Istopopoki", "link": "https://stackoverflow.com/users/1892308/istopopoki"}, "is_accepted": false, "score": 0, "last_activity_date": 1430324142, "last_edit_date": 1495535357, "creation_date": 1430324142, "answer_id": 29949226, "question_id": 29948864, "link": "https://stackoverflow.com/questions/29948864/parsing-an-input-file-to-create-a-directed-graph-c/29949226#29949226", "title": "Parsing an input file to create a directed graph C++", "body": "<p>Concerning the choice between the adjacency list and the matrix, it depends on the nature of your graph and what you intend to do with it.</p>\n\n<p>See this <a href=\"https://stackoverflow.com/questions/2218322/what-is-better-adjacency-lists-or-adjacency-matrices-for-graph-problems-in-c\">thread</a> for example.</p>\n\n<p>Also, did you have a look at what <a href=\"http://www.boost.org/doc/libs/1_57_0/libs/graph/doc/index.html\" rel=\"nofollow noreferrer\">boost</a> library offers for graphs ?\nThere is also <a href=\"https://lemon.cs.elte.hu/trac/lemon\" rel=\"nofollow noreferrer\">lemon</a> as an alternative.\nCould be worth checking if what you intend to implement already exists.</p>\n"}, {"tags": [], "owner": {"reputation": 267, "user_id": 2903213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98c73d72d188f40b0769fa5d571454af?s=128&d=identicon&r=PG&f=1", "display_name": "Tommalla", "link": "https://stackoverflow.com/users/2903213/tommalla"}, "is_accepted": true, "score": 1, "last_activity_date": 1480381185, "last_edit_date": 1480381185, "creation_date": 1430325273, "answer_id": 29949584, "question_id": 29948864, "link": "https://stackoverflow.com/questions/29948864/parsing-an-input-file-to-create-a-directed-graph-c/29949584#29949584", "title": "Parsing an input file to create a directed graph C++", "body": "<p>You're on the right track with a lot of things.</p>\n\n<p>If you can assume that all the inputs you will encounter are just <code>NONE</code> and <code>COURSE_X</code> and you can assume that  all Xes form a continuous interval of ints starting from 1 (or 0) and span to the number of vertices, then you could just treat the vertices as numbers internally. If that is not the case, you can assign each vertex label a number (using std::unordered_map for example) and have this abstract structure anyway.</p>\n\n<p>Now, if you choose to stick with this model, it is convenient to use, because your whole graph can be represented as <code>std::vector&lt;std::list&lt;int&gt;&gt;</code>. You could substitute <code>int</code> with some struct type if you want to store more info about the edge, like labels, weights, etc. Whenever you want to access a specific node's adjacency list, you just access the vector's cell under the node's id.</p>\n\n<p>Obviously this is an adjacency list based solution. It's good for sparse graphs generally speaking. Think of it this way: if you're using a matrix for a sparse graph, a very big part of that allocated memory is not going to be used. Using adjacency graph eliminates this, <strong>but</strong> it takes away the constant access time to any arbitrary edge. This means that it can take linear time to check if a given edge exists. That being said, I wouldn't expect you to use that check in a topological sort. If you chose to use a matrix however, you would still need to map the vertices to numbers, to that part stays.</p>\n\n<p>Last but not least, you can use pointers instead of integer ids. Basically you wouldn't look up vertices in the vector using an id, but you'd directly access a vertice through a stored pointer. You'd most likely still need to have the string -> pointer mapping, at least for the graph creation.</p>\n"}], "owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1251, "favorite_count": 0, "accepted_answer_id": 29949584, "answer_count": 2, "score": 1, "last_activity_date": 1480381185, "creation_date": 1430323063, "question_id": 29948864, "link": "https://stackoverflow.com/questions/29948864/parsing-an-input-file-to-create-a-directed-graph-c", "title": "Parsing an input file to create a directed graph C++", "body": "<p>So I'm starting a project on directed graphs and topological sorting. I'm looking for the most efficient way to parse an input file of courses in the form:</p>\n\n<pre><code>COURSE_1    COURSE_2    \n</code></pre>\n\n<p>where COURSE_1 is a prerequisite to COURSE_2 </p>\n\n<pre><code>NONE    COURSE_3\n</code></pre>\n\n<p>where COURSE_3 has no prerequisites.</p>\n\n<p>All vertex labels will be strings, obviously. I have created a <code>Graph</code> class with data members to store vertices, edges, and vertex labels. Later, I will be adding methods to topologically sort and find the shortest path from one vertex to another. Given these future plans, my questions here are would it be better to use an adjacency list? or matrix? Also what would be the most efficient way to populate the graph from the input files? My initial thought was using an adjacency list. Since the size of the graph isn't known at compile time my idea</p>\n\n<pre><code>std::vector&lt;std::list&lt;std::string&gt;&gt; adjacencyList;\n</code></pre>\n\n<p>Also, I thought of creating a helper function to parse the input file. Something along the lines of</p>\n\n<pre><code>void populateGraph(std::string filename, Graph* graph)\n</code></pre>\n\n<p>Am I totally going in the wrong direction here? </p>\n"}, {"tags": ["c++", "boost-asio"], "comments": [{"owner": {"reputation": 5967, "user_id": 962111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6aecd93d70e5c1b8d3d63e5d3abb137?s=128&d=identicon&r=PG", "display_name": "vidit", "link": "https://stackoverflow.com/users/962111/vidit"}, "edited": false, "score": 2, "creation_date": 1430322666, "post_id": 29948657, "comment_id": 48018199, "body": "<a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask a good question?</a>"}, {"owner": {"reputation": 1794, "user_id": 1135950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b1cf007709e46bbd037f204a43c51fa4?s=128&d=identicon&r=PG", "display_name": "yonutix", "link": "https://stackoverflow.com/users/1135950/yonutix"}, "reply_to_user": {"reputation": 5967, "user_id": 962111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6aecd93d70e5c1b8d3d63e5d3abb137?s=128&d=identicon&r=PG", "display_name": "vidit", "link": "https://stackoverflow.com/users/962111/vidit"}, "edited": false, "score": 0, "creation_date": 1430322745, "post_id": 29948657, "comment_id": 48018258, "body": "How would you put this question?"}, {"owner": {"reputation": 5967, "user_id": 962111, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d6aecd93d70e5c1b8d3d63e5d3abb137?s=128&d=identicon&r=PG", "display_name": "vidit", "link": "https://stackoverflow.com/users/962111/vidit"}, "edited": false, "score": 2, "creation_date": 1430322980, "post_id": 29948657, "comment_id": 48018420, "body": "I&#39;ll show what research I did, what did I try, and what problem(s) did I face while trying that.."}], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": true, "score": 5, "last_activity_date": 1430324066, "creation_date": 1430324066, "answer_id": 29949210, "question_id": 29948657, "link": "https://stackoverflow.com/questions/29948657/getting-the-ip-address-of-a-received-message-in-boost/29949210#29949210", "title": "Getting the IP address of a received message in boost", "body": "<p>You can do so using the </p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/reference/basic_datagram_socket/async_receive_from.html\" rel=\"noreferrer\"><code>boost::asio::ip::udp::socket::async_receive_from()</code></a></p>\n\n<p>or </p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_58_0/doc/html/boost_asio/reference/basic_datagram_socket/receive_from.html\" rel=\"noreferrer\"><code>boost::asio::ip::udp::socket::receive_from()</code></a></p>\n\n<p>functions, which have the <code>endpoint_type &amp; sender_endpoint</code> output parameter. The returned <code>endpoint</code> can be used to resolve the sender IP address. </p>\n"}], "owner": {"reputation": 1794, "user_id": 1135950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/b1cf007709e46bbd037f204a43c51fa4?s=128&d=identicon&r=PG", "display_name": "yonutix", "link": "https://stackoverflow.com/users/1135950/yonutix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 29949210, "answer_count": 1, "score": 0, "last_activity_date": 1430324189, "creation_date": 1430322513, "last_edit_date": 1430324189, "question_id": 29948657, "link": "https://stackoverflow.com/questions/29948657/getting-the-ip-address-of-a-received-message-in-boost", "title": "Getting the IP address of a received message in boost", "body": "<p>How can I retrieve the IP address with boost when I receive a UDP message(using boost::asio::ip::udp)? </p>\n\n<p>Thanks!</p>\n"}]