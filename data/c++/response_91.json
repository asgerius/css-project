[{"tags": ["c++", "c++11", "portability"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 5, "creation_date": 1475711947, "post_id": 39885423, "comment_id": 67057602, "body": "It consists of whatever it is in the source file. It&#39;s a literal: the content is literally what you typed.For a server with well-defined EOL requirements such as HTTP that&#39;s not sufficient: you should use <code>\\r\\n</code> for HTTP, mail, etc."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 1, "creation_date": 1475712541, "post_id": 39885423, "comment_id": 67057726, "body": "Is this only the text, or is this a string literal? Shouldn&#39;t there some parentheses to make the raw string literal work? Something starting with <code>R&quot;(&quot;&quot;line 1</code> perhaps?"}, {"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 4, "creation_date": 1475713781, "post_id": 39885423, "comment_id": 67058025, "body": "@Cheersandhth.-Alf - Not all visitors to the site have 128k rep or are experts in the field. As long as a question is on-topic and not a duplicate, it is acceptable on SO regardless of the rep of the asker."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1475716035, "post_id": 39885423, "comment_id": 67058460, "body": "Mechanically, I believe it&#39;s <code>\\n</code>, which represents <code>0x0A</code>,  in the program code itself (just like newlines in other string constants), but different environments will translate it to their native newlines (such as CRLF on Windows)."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 4, "creation_date": 1475716538, "post_id": 39885423, "comment_id": 67058557, "body": "There is (or at least was) actual implementation divergence on this question. It is hardly &quot;completely intro novice&quot; when people who read standards and write compilers for a living don&#39;t agree with each other."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1475716623, "post_id": 39885423, "comment_id": 67058584, "body": "@Cheersandhth.-Alf: Is my 146k rep high enough for me to disagree with you?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 2, "creation_date": 1475717333, "post_id": 39885423, "comment_id": 67058770, "body": "@Cheersandhth.-Alf: Specifically, I disagree that this is a novice-level question, given that the standard itself is inconsistent."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1475717576, "post_id": 39885423, "comment_id": 67058835, "body": "@KeithThompson: The standard isn&#39;t inconsistent. It&#39;s just vaguely worded. Presumably nobody thought it worth wasting time on making this more precise, or for that matter resolving the DR, <b>because</b> it&#39;s basic, trivial novice level stuff, stuff that everybody knows and nobody at the level of those who implement compilers (main readership) would disagree about."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 5, "creation_date": 1475717900, "post_id": 39885423, "comment_id": 67058931, "body": "@Cheersandhth.-Alf: I disagree. The standard explicitly says that any transformations performed in phases 1 and 2 are reverted. Those transformations explicitly include the introduction of new-line characters. The normative wording is unambiguous, and if you overlook end-of-line indicators that are not character sequences it even makes sense (you might <i>want</i> CR-LF pairs on Windows). And somebody thought it was worthwhile to submit a DR, which is unresolved after 3+ years. I&#39;m not saying you&#39;re wrong, I&#39;m merely suggesting that your conclusion isn&#39;t as obvious as you seem to think it is."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1475718408, "post_id": 39885423, "comment_id": 67059030, "body": "@KeithThompson: As I see it you&#39;re just reading the word &quot;transformations&quot; wrong. With such bad interpretation one ends up thinking something is &quot;explicitly&quot; stated, when it&#39;s really just a consequence of the bad interpretation. It can be recognized as bad since it leads to inconsistency. A good interpretation is instead that the immediately following list of relevant transformations, is what the word &quot;transformations&quot; refers to here. And these transformations are all about making backslash effectively un-processed, which is what raw literals are all about. /That/ makes sense."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1475719298, "post_id": 39885423, "comment_id": 67059253, "body": "@Cheersandhth.-Alf: I think you&#39;re probably right. But I still think the wording is sloppy and subject to reasonable misunderstanding. It says &quot;<b>any</b> transformations&quot; (emphasis added) are reverted. The parenthesized clause after that &quot;(trigraphs, universal-character-names, and line splicing)&quot; seems to be intended to define what &quot;transformations&quot; are referred to, but it&#39;s not sufficiently clear that that&#39;s meant to be an exhaustive list. It&#39;s perfectly reasonable to think of the mapping of physical source characters to the basic source character set as a &quot;transformation&quot;."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1475721967, "post_id": 39885423, "comment_id": 67059863, "body": "@Cheersandhth.-Alf: I&#39;ve rewritten my answer."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1475722605, "post_id": 39885423, "comment_id": 67060040, "body": "@KeithThompson: I like it, upvoted."}, {"owner": {"reputation": 42447, "user_id": 1016716, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1c83d772b1c065603c7f20975d8d3552?s=128&d=identicon&r=PG", "display_name": "Mr Lister", "link": "https://stackoverflow.com/users/1016716/mr-lister"}, "edited": false, "score": 0, "creation_date": 1475735967, "post_id": 39885423, "comment_id": 67064396, "body": "Has anybody checked how this is implemented in real-world compilers, preferably on different OSes?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1475792404, "post_id": 39885423, "comment_id": 67098345, "body": "I downvoted this question as not a real question, considering the OP&#39;s high rep score and alleged background as a very competent person, while the question is a novice question about really basic stuff. The original comment was removed by the SO mods. In the commentary above it&#39;s argued that the question isn&#39;t really basic because at least one compiler has had a bug in this area. To me that&#39;s nonsense."}], "answers": [{"comments": [{"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 3, "creation_date": 1475712304, "post_id": 39885473, "comment_id": 67057668, "body": "This does not (directly) answer the question, which is about raw string literals."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 1, "creation_date": 1475712359, "post_id": 39885473, "comment_id": 67057683, "body": "@TavianBarnes: The C++ standard for newline is <code>\\n</code>. I fail to see how you failed to read that."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 1, "creation_date": 1475712420, "post_id": 39885473, "comment_id": 67057694, "body": "@Alf The C++ standard provides that <code>\\n</code> maps to line feed. If there is something in the standard that answers this question, or that &#39;maps newline to <code>\\n</code>&#39;, which isn&#39;t necessarily the same thing, you should cite and quote it."}, {"owner": {"reputation": 11569, "user_id": 502399, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ccf39757e9c47ae99df42bdb286c6e5c?s=128&d=identicon&r=PG", "display_name": "Tavian Barnes", "link": "https://stackoverflow.com/users/502399/tavian-barnes"}, "edited": false, "score": 2, "creation_date": 1475712596, "post_id": 39885473, "comment_id": 67057736, "body": "@Cheersandhth.-Alf If your point is that <code>R&quot;&quot;&quot; &quot;&quot;&quot;</code> (there should be a newline between the <code>&quot;&quot;&quot;</code>s but of course it won&#39;t render in comments) and <code>&quot;\\n&quot;</code> are equivalent, you should say that explicitly (and preferably give evidence)."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1475714186, "post_id": 39885473, "comment_id": 67058125, "body": "@EJP: The standard doesn&#39;t say that <code>&#39;\\n&#39;</code> maps to line feed. It doesn&#39;t even mention the line feed character. It says that <code>&#39;\\n&#39;</code> maps to new-line."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1475942598, "post_id": 39885473, "comment_id": 67150747, "body": "Friends of Mark: it&#39;s <b>stupid to downvote in retaliation</b>. I cannot express how freaking dumb that is. He certainly won&#39;t get any more help from me, like the help that produced the answer he chose as solution (it was opposite originally)."}], "tags": [], "owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "is_accepted": false, "score": 10, "last_activity_date": 1475816734, "last_edit_date": 1475816734, "creation_date": 1475712002, "answer_id": 39885473, "question_id": 39885423, "link": "https://stackoverflow.com/questions/39885423/c-is-there-a-standard-definition-for-end-of-line-in-a-multi-line-string-const/39885473#39885473", "title": "C++: Is there a standard definition for end-of-line in a multi-line string constant?", "body": "<p><sup>Note: the question has changed substantially since the answers were posted. Only half of it remains, namely the pure C++ aspect. The network focus in this answer addresses the original question's &ldquo;sending a multi-line string to a server with well-defined end-of-line requirements&rdquo;. I do not chase question evolution in general.</sup></p>\n\n<p>Internally in the program, the C++ standard for newline is <code>\\n</code>. This is used also for newline in a raw literal. There is no special convention for raw literals.</p>\n\n<p>Usually <code>\\n</code> maps to ASCII linefeed, which is the value 10.</p>\n\n<p>I'm not sure what it maps to in EBCDIC, but you can check that if needed.</p>\n\n<p>On the wire, however, it's my impression that most protocols use ASCII carriage return plus linefeed, i.e. 13 followed by 10. This is sometimes called <strong>CRLF</strong>, after the ASCII abbreviations CR for carriage return and LF for linefeed. When the C++ escapes are mapped to ASCII this is simply <code>\\r\\n</code> in C++.</p>\n\n<p>You need to abide by the requirements of the protocol you're using.</p>\n\n<p>For ordinary file/stream i/o the C++ standard library takes care of mapping the internal <code>\\n</code> to whatever convention the host environment uses. This is called <em>text mode</em>, as opposed to <em>binary mode</em> where no mapping is performed.</p>\n\n<p>For network i/o, which is not covered by the standard library, the application code must do this itself, either directly or via some library functions.</p>\n\n<hr>\n\n<p>There is an <em>active issue</em> about this, <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1655\" rel=\"nofollow\">core language defect report #1655</a> &ldquo;Line endings in raw string literals&rdquo;, submitted by Mike Miller 2013-04-26, where he asks,</p>\n\n<blockquote>\n  <p><strong>&rdquo;</strong> is it intended that, for example, a CRLF in the source of a raw string literal is to be represented as a newline character or as the original characters?</p>\n</blockquote>\n\n<p>Since line ending values differ depending on the encoding of the original file, and considering that in some file systems there <em>is not</em> an encoding of line endings, but instead lines as records, it's clear that the intention is not to represent the file contents as-is  &ndash;  since that's impossible to do in all cases. But as far as I can see this DR is not yet resolved.</p>\n"}, {"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1475712923, "post_id": 39885551, "comment_id": 67057789, "body": "Unclear. That only says that a newline maps to a newline. It doesn&#39;t say what happens if the source file contained <code>\\r</code> for example."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1475713146, "post_id": 39885551, "comment_id": 67057853, "body": "@EJP: Look up &quot;phases of translation&quot; in the standard. Apparently you think source file characters make it directly into literals. They don&#39;t."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1475713347, "post_id": 39885551, "comment_id": 67057911, "body": "@Cheersandhth.-Alf There&#39;s no &#39;apparently&#39; about it. That&#39;s exactly what I said in my comment below the question. I may well be wrong about that, but no convincing evidence has appeared anywhere here yet. This answer comes closest so far. At least he cites and quotes something."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "reply_to_user": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1475713355, "post_id": 39885551, "comment_id": 67057916, "body": "@Cheersandhth.-Alf in 2.5 it also says &quot;Between the initial and final double quote characters of the raw string, any transformations performed in phases 1 and 2 (trigraphs, universal-character-names, and line splicing) are reverted&quot;"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 0, "creation_date": 1475714033, "post_id": 39885551, "comment_id": 67058086, "body": "@harmic: Yes, that&#39;s due to raw literals being tacked on to the language very late. It&#39;s a kludge to make \\\\ effectively not processed within a raw string literal. But with an unfortunate phrasing. One can analyze it by requiring that it makes sense. It makes sense if the list in the parenthesis is read as an exhaustive enumeration of possible &quot;transformations&quot;. It ceases to make sense if &quot;transformation&quot; is interpreted as also including character set and end-of-line conversions, for then the same source code in different encodings could produce different programs."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 1, "creation_date": 1475714176, "post_id": 39885551, "comment_id": 67058122, "body": "Also, examples, and notes are <a href=\"http://stackoverflow.com/questions/21364398/are-notes-and-examples-in-the-core-language-specification-of-the-c-standard-no\">non-normative</a> which to me leaves a little ambiguity"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 16, "last_activity_date": 1475712662, "creation_date": 1475712662, "answer_id": 39885551, "question_id": 39885423, "link": "https://stackoverflow.com/questions/39885423/c-is-there-a-standard-definition-for-end-of-line-in-a-multi-line-string-const/39885551#39885551", "title": "C++: Is there a standard definition for end-of-line in a multi-line string constant?", "body": "<p>The standard seems to indicate that:</p>\n\n<pre><code>R\"\"\"line 1\nline 2\nline3\"\"\"\n</code></pre>\n\n<p>is equivalent to:</p>\n\n<pre><code>\"line 1\\nline 2\\nline3\"\n</code></pre>\n\n<p>From <strong>2.14.5 String literals</strong> of the C++11 standard:</p>\n\n<blockquote>\n  <p>4 [ <em>Note:</em> A source-file new-line in a raw string literal results in a new-line in the resulting execution <em>string literal</em>. Assuming no whitespace at the beginning of lines in the following example, the assert will succeed:</p>\n\n<pre><code>const char *p = R\"(a\\\nb\nc)\";\nassert(std::strcmp(p, \"a\\\\\\nb\\nc\") == 0);\n</code></pre>\n  \n  <p>\u2014<em>end note</em> ]</p>\n  \n  <p>5 [ <em>Example:</em> The raw string</p>\n\n<pre><code>R\"a(\n)\\\na\"\n)a\"\n</code></pre>\n  \n  <p>is equivalent to <code>\"\\n)\\\\\\na\\\"\\n\"</code>.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1475716835, "post_id": 39886017, "comment_id": 67058642, "body": "Note that the for-arguments-sake interpretation fails outright for file systems where lines are records, that is, where there is no data denoting newline. It&#39;s very long ago since I used such system, but as I recall, MPE/IV on the HP 3000 was like that. I recall vaguely reading that VAX was also that, but although I used VAX machines as a student I can&#39;t recall, sorry. But, main point, the C++ rules can&#39;t do without a transformation of newlines to <code>\\n</code>. Because otherwise would not work on those systems."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1475717026, "post_id": 39886017, "comment_id": 67058692, "body": "Also note that there is an open core language issue about this, referenced in my answer."}, {"owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585507225, "post_id": 39886017, "comment_id": 107777805, "body": "You wrote above: &quot;This clearly states that a newline is mapped to a single &#39;\\n&#39; character.&quot; I agree with your statement with one single exception: the statement in the standard is confusing, for it uses the term <a href=\"http://eel.is/c++draft/cpp.pre#nt:new-line\" rel=\"nofollow noreferrer\">new-line</a> as if it would introduce a new-line character, and not the escape sequence `\\n&#39;. Could you comment on this?"}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585517801, "post_id": 39886017, "comment_id": 107781363, "body": "@Belloc - I&#39;m not sure I understand your comment. A line break in a raw string literal results in a newline character. It doesn&#39;t create a <code>\\n</code> escape sequence, but it is equivalent to a <code>\\n</code> escape sequence."}, {"owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585572422, "post_id": 39886017, "comment_id": 107798613, "body": "OK, I think I can understand what you&#39;re saying. But where exactly in the standard does it say that a new-line character maps to a single <code>\\n</code>  character as you wrote above? I&#39;m sure you are aware that  <a href=\"http://eel.is/c++draft/lex.string#3\" rel=\"nofollow noreferrer\">&#91;lex.string&#93;/3</a> is just a Note."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585601001, "post_id": 39886017, "comment_id": 107813544, "body": "@Belloc The whole point of the cited defect report is that the standard <i>doesn&#39;t</i> state that clearly in normative text. The footnote implies that it was the intent. (I haven&#39;t checked whether later editions of the standard resolve this.)"}, {"owner": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585649963, "post_id": 39886017, "comment_id": 107828970, "body": "After a detailed search in the Standard I found something (<a href=\"http://eel.is/c++draft/lex.ccon#tab:lex.ccon.esc\" rel=\"nofollow noreferrer\">table 9</a>) that I think gives normative status to the assertion that a new-line is mapped to a single <code>\\n</code> character. Thanks for your comments."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "reply_to_user": {"reputation": 6126, "user_id": 1042389, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LgLxA.jpg?s=128&g=1", "display_name": "Belloc", "link": "https://stackoverflow.com/users/1042389/belloc"}, "edited": false, "score": 0, "creation_date": 1585676421, "post_id": 39886017, "comment_id": 107844211, "body": "@Belloc: That table says that <code>\\n</code> <i>in a character literal</i> represents a newline character. It says nothing about raw string literals."}], "tags": [], "owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "is_accepted": true, "score": 28, "last_activity_date": 1475721947, "last_edit_date": 1495542809, "creation_date": 1475716552, "answer_id": 39886017, "question_id": 39885423, "link": "https://stackoverflow.com/questions/39885423/c-is-there-a-standard-definition-for-end-of-line-in-a-multi-line-string-const/39886017#39886017", "title": "C++: Is there a standard definition for end-of-line in a multi-line string constant?", "body": "<p>The intent is that a newline in a raw string literal maps to a single\n<code>'\\n'</code> character.  This intent is not expressed as clearly as it\nshould be, which has led to some confusion.</p>\n\n<p>Citations are to the 2011 ISO C++ standard.</p>\n\n<p>First, here's the evidence that it maps to a single <code>'\\n'</code> character.</p>\n\n<p>A note in section 2.14.5 [lex.string] paragraph 4 says:</p>\n\n<blockquote>\n  <p>[ <em>Note:</em> A source-file new-line in a raw string literal results in a\n  new-line in the resulting execution <em>string-literal</em>. Assuming no\n  whitespace at the beginning of lines in the following example, the\n  assert will succeed:</p>\n</blockquote>\n\n<pre><code>    const char *p = R\"(a\\\n    b\n    c)\";\n    assert(std::strcmp(p, \"a\\\\\\nb\\nc\") == 0);\n</code></pre>\n\n<blockquote>\n  <p>\u2014 <em>end note</em> ]</p>\n</blockquote>\n\n<p>This clearly states that a newline is mapped to a single <code>'\\n'</code>\ncharacter.  It also matches the observed behavior of g++ 6.2.0 and\nclang++ 3.8.1 (tests done on a Linux system using source files with\nUnix-style and Windows-style line endings).</p>\n\n<p>Given the clearly stated intent in the note and the behavior of two\npopular compilers, I'd say it's safe to rely on this -- though it\nwould be interesting to see how other compilers actually handle this.</p>\n\n<p>However, a literal reading of the <em>normative</em> wording of the\nstandard could easily lead to a different conclusion, or at least\nto some uncertainty.</p>\n\n<p>Section 2.5 [lex.pptoken] paragraph 3 says (emphasis added):</p>\n\n<blockquote>\n  <p>Between the initial and final double quote characters of the\n  raw string, <strong>any</strong> transformations performed in phases 1 and 2\n  <strong>(trigraphs, universal-character-names, and line splicing)</strong>\n  are reverted; this reversion shall apply before any <em>d-char</em>,\n  <em>r-char</em>, or delimiting parenthesis is identified.</p>\n</blockquote>\n\n<p>The phases of translation are specified in 2.2 [lex.phases]. In phase 1:</p>\n\n<blockquote>\n  <p>Physical source file characters are mapped, in an\n  implementation-defined manner, to the basic source character set\n  (introducing new-line characters for end-of-line indicators) if\n  necessary.</p>\n</blockquote>\n\n<p>If we assume that the mapping of physical source file characters to the\nbasic character set and the introduction of new-line characters are\n\"<em>tranformations</em>\", we might reasonably conclude that, for example,\na newline in the middle of a raw string literal in a Windows-format\nsource file should be equivalent to a <code>\\r\\n</code> sequence.  (I can imagine\nthat being useful for Windows-specific code.)</p>\n\n<p>(This interpretation does lead to problems with systems where the\nend-of-line indicator is not a sequence of characters, for example\nwhere each line is a fixed-width record.  Such systems are rare\nthese days.)</p>\n\n<p>As <a href=\"https://stackoverflow.com/a/39885473/827263\">\"Cheers and hth. - Alf\"'s answer</a>\npoints out, there is an open\n<a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1655\" rel=\"nofollow noreferrer\">Defect Report</a>\nfor this issue.  It was submitted in 2013 and has not yet been\nresolved.</p>\n\n<p>Personally, I think the root of the confusion is the word \"any\"\n(emphasis added as before):</p>\n\n<blockquote>\n  <p>Between the initial and final double quote characters of the raw\n  string, <strong>any</strong> transformations performed in phases 1 and 2 <strong>(trigraphs,\n  universal-character-names, and line splicing)</strong> are reverted; this\n  reversion shall apply before any <em>d-char</em>, <em>r-char</em>, or delimiting\n  parenthesis is identified.</p>\n</blockquote>\n\n<p>Surely the mapping of physical source file characters to\nthe basic source character set can reasonably be thought of\nas a <em>transformation</em>. The parenthesized clause \"(trigraphs,\nuniversal-character-names, and line splicing)\" seems to be intended\nto specify <em>which</em> transformations are to be reverted, but that\neither attempts to change the meaning of the word \"transformations\"\n(which the standard does not formally define) or contradicts the use\nof the word \"any\".</p>\n\n<p>I suggest that changing the word \"any\" to \"certain\" would express\nthe apparent intent much more clearly:</p>\n\n<blockquote>\n  <p>Between the initial and final double quote characters of the raw\n  string, certain transformations performed in phases 1 and 2 (trigraphs,\n  universal-character-names, and line splicing) are reverted; this\n  reversion shall apply before any <em>d-char</em>, <em>r-char</em>, or delimiting\n  parenthesis is identified.</p>\n</blockquote>\n\n<p>This wording would make it much clearer that \"trigraphs,\nuniversal-character-names, and line splicing\" are the only\ntransformations that are to be reverted. (Not everything done\nin translation phases 1 and 2 is reverted, just those specific\nlisted transformations.)</p>\n"}], "owner": {"reputation": 265978, "user_id": 116, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f6flX.jpg?s=128&g=1", "display_name": "Mark Harrison", "link": "https://stackoverflow.com/users/116/mark-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3808, "favorite_count": 1, "accepted_answer_id": 39886017, "answer_count": 3, "score": 41, "last_activity_date": 1475816734, "creation_date": 1475711660, "last_edit_date": 1475796286, "question_id": 39885423, "link": "https://stackoverflow.com/questions/39885423/c-is-there-a-standard-definition-for-end-of-line-in-a-multi-line-string-const", "title": "C++: Is there a standard definition for end-of-line in a multi-line string constant?", "body": "<p>If I have a multi-line string C++11 string constant such as</p>\n\n<pre><code>R\"\"\"line 1\nline 2\nline3\"\"\"\n</code></pre>\n\n<p>Is it defined what character(s) the line terminator/separator consist of?</p>\n"}, {"tags": ["android", "c++", "android-ndk", "cmake"], "answers": [{"tags": [], "owner": {"reputation": 1026, "user_id": 1221159, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92435cd7ab0de0d8ea614b32e0cb59fb?s=128&d=identicon&r=PG", "display_name": "Barad&#233;", "link": "https://stackoverflow.com/users/1221159/barad%c3%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1475714883, "creation_date": 1475714883, "answer_id": 39885826, "question_id": 39885415, "link": "https://stackoverflow.com/questions/39885415/strip-command-cannot-be-found-by-cmake-android-toolchain-for-arm-when-running-ad/39885826#39885826", "title": "strip command cannot be found by CMake Android toolchain for arm when running add_qt_android_apk", "body": "<p>Somehow the file qtdeploy.json.in got the WRONG entry</p>\n\n<pre><code>\"toolchain-prefix\": \"@ANDROID_ABI@\",\n</code></pre>\n\n<p>which was no problem for x86. Of course it should be:</p>\n\n<pre><code> \"toolchain-prefix\": \"@ANDROID_TOOLCHAIN_MACHINE_NAME@\",\n</code></pre>\n\n<p>Besides I removed the statement setting \"ANDROID_STANDALONE_TOOLCHAIN\" which is not necessary. I got the necessary information using</p>\n\n<pre><code>cmake -DCMAKE_VERBOSE_MAKEFILE=on ...\nmake VERBOSE=1\n</code></pre>\n\n<p>and looking at the Qt CMake package.</p>\n"}], "owner": {"reputation": 1026, "user_id": 1221159, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92435cd7ab0de0d8ea614b32e0cb59fb?s=128&d=identicon&r=PG", "display_name": "Barad&#233;", "link": "https://stackoverflow.com/users/1221159/barad%c3%a9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "accepted_answer_id": 39885826, "answer_count": 1, "score": 1, "last_activity_date": 1475714883, "creation_date": 1475711618, "last_edit_date": 1475713280, "question_id": 39885415, "link": "https://stackoverflow.com/questions/39885415/strip-command-cannot-be-found-by-cmake-android-toolchain-for-arm-when-running-ad", "title": "strip command cannot be found by CMake Android toolchain for arm when running add_qt_android_apk", "body": "<p>In my CMake project I use the android.toolchain.cmake.</p>\n\n<p>I pass the following environment variables as defines:</p>\n\n<pre><code>export ANDROID_ABI=\"armeabi-v7a\" # x86\nexport ANDROID_TOOLCHAIN_NAME=\"arm-linux-androideabi-4.9\" # \"x86-4.9\"\nexport ANDROID_API_LEVEL=\"23\"\nexport QT_DIR=\"$HOME/Qt/5.7/android_armv7\"\nexport ANDROID_STANDALONE_TOOLCHAIN=\"$HOME/android-ndk-r12b/toolchains/arm-linux-androideabi-4.9/\"\nexport ANDROID_PREFIX=\"sdk-android-armv7\" # sdk-android-x86\nexport ANDROID_TARGET=\"armv7\" # x86\nexport QTAV_LIB_DIR=\"lib_android_arm\" # lib_android_x86\n</code></pre>\n\n<p>I pass the variables the following way:</p>\n\n<pre><code>cmake -DUSE_COMPRESSED_FILES=1 -DJAVA_HOME=\"/usr/java/default/\" -DANDROID_SDK=\"$ANDROID_HOME\" -DQT_ANDROID_SDK_ROOT=\"$ANDROID_HOME\" -DQT_ANDROID_ANT=\"$ANT_PATH\" -DCMAKE_MODULE_PATH=\"../cmake\" -DCMAKE_PREFIX_PATH=\"$QT_DIR/lib/cmake\" -DCMAKE_TOOLCHAIN_FILE=../cmake/android.toolchain.cmake -DANDROID_NDK=\"$HOME/android-ndk-r12b\" -DCMAKE_BUILD_TYPE=Debug -DANDROID_ABI=\"$ANDROID_ABI\" -DANDROID_TOOLCHAIN_NAME=\"$ANDROID_TOOLCHAIN_NAME\" -DANDROID_STANDALONE_TOOLCHAIN=\"$ANDROID_STANDALONE_TOOLCHAIN\" -DANDROID_NATIVE_API_LEVEL=\"$ANDROID_API_LEVEL\" -DQT_DIR=\"$QT_DIR\" -DANDROID_PREFIX=\"$ANDROID_PREFIX\" -DANDROID_TARGET=\"$ANDROID_TARGET\" -DQTAV_LIB_DIR=\"$QTAV_LIB_DIR\" ../\n\ncmake --build .\n</code></pre>\n\n<p>When \"Stripping libraries to minimize size.\" it says:\n<code>Command does not exist: /home/peter/android-ndk-r12b/toolchains/armeabi-v7a-4.9/prebuilt/linux-x86_64/bin/arm-linux-androideabi-strip</code></p>\n\n<p>The path should be \"arm-linux-androideabi-4.9\" and not \"armeabi-v7a-4.9\". Why is the ANDROID_ABI used instead of the ANDROID_TOOLCHAIN_NAME?</p>\n\n<p>I do not have these problems for x86:</p>\n\n<pre><code>export ANDROID_ABI=\"x86\"\nexport ANDROID_TOOLCHAIN_NAME=\"x86-4.9\"\nexport ANDROID_API_LEVEL=\"23\"\nexport QT_DIR=\"$HOME/Qt5.7.0/5.7/android_x86\"\nexport ANDROID_STANDALONE_TOOLCHAIN=\"$HOME/android-ndk-r12b/toolchains/x86-4.9/\"\nexport ANDROID_PREFIX=\"sdk-android-x86\"\nexport ANDROID_TARGET=\"x86\"\nexport QTAV_LIB_DIR=\"lib_android_x86\"\n</code></pre>\n\n<p>edit:\nThe strip command is set by the android.toolchain.cmake file:</p>\n\n<pre><code> set( CMAKE_STRIP        \"${ANDROID_TOOLCHAIN_ROOT}/bin/${ANDROID_TOOLCHAIN_MACHINE_NAME}-strip${TOOL_OS_SUFFIX}\"   CACHE PATH \"strip\" )\n</code></pre>\n\n<p>ANDROID_TOOLCHAIN_ROOT is set this way since I specified a NDK path:</p>\n\n<pre><code># setup paths and STL for NDK\nif( BUILD_WITH_ANDROID_NDK )\n set( ANDROID_TOOLCHAIN_ROOT \"${ANDROID_NDK_TOOLCHAINS_PATH}/${ANDROID_GCC_TOOLCHAIN_NAME}${ANDROID_NDK_TOOLCHAINS_SUBPATH}\" )\n</code></pre>\n\n<p>so I guess ANDROID_GCC_TOOLCHAIN_NAME must be wrong? ANDROID_NDK_TOOLCHAINS_SUBPATH starts with \"prebuilt\" so it is correct. ANDROID_NDK_TOOLCHAINS_PATH ends with \"toolchains\" so it is correct, too.</p>\n\n<p>ANDROID_GCC_TOOLCHAIN_NAME is set if it is not Clang (which it is not):</p>\n\n<pre><code>set( ANDROID_GCC_TOOLCHAIN_NAME \"${ANDROID_TOOLCHAIN_NAME}\" )\n</code></pre>\n\n<p>so everything should work fine since my ANDROID_TOOLCHAIN_NAME has been specified as \"arm-linux-androideabi-4.9\" above but it does not.</p>\n\n<p>edit2:</p>\n\n<p>ANDROID_ABI is the value which is used instead. It is never used in any strip path as far as I can see it in the file \"android.toolchain.cmake\" but its value is copied to ANDROID_NDK_ABI_NAME as well which is neither used for any strip path.</p>\n\n<p>edit3:\nIt might be an error in AddQtAndroidApk.cmake rather than the toolchain since the output is actually:</p>\n\n<pre><code>Stripping libraries to minimize size.\nCommand does not exist: /home/peter/android-ndk-r12b/toolchains/armeabi-v7a-4.9/prebuilt/linux-x86_64/bin/arm-linux-androideabi-strip\nCMakeFiles/my_app_apk.dir/build.make:60: recipe for target 'run_android_deploy_qt' failed\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "edited": false, "score": 0, "creation_date": 1558353590, "post_id": 39885300, "comment_id": 99061500, "body": "Java&#39;s GC&#39;s primary responsibility is not <i>ensuring objects are destroyed</i>, rather it is <i>simulating infinite memory</i>. It does this by destroying objects that you won&#39;t miss, at times of it&#39;s choosing."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2580104"}, "edited": false, "score": 0, "creation_date": 1475710839, "post_id": 39885306, "comment_id": 67057308, "body": "Ah I see, then would the smart pointer then just de-scope and eventually also be destroyed (with the thing it points to)? Its not clear to me how the smart pointer knows that it is not being used, thus to destroy the thing it points to if say the smart pointer was replaced with a nullptr with nothing else using it."}, {"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1475711076, "post_id": 39885306, "comment_id": 67057366, "body": "unique_ptr isn&#39;t reference counted (like shared_ptr is).  That&#39;s why you can&#39;t arbitrarily assign it (you must use std::move to transfer ownership).  When it goes out of scope it&#39;ll destroy whatever it was pointing to.  You can also call reset on it of course and that will have the same effect (the thing it was pointing to gets destroyed)."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475711088, "post_id": 39885306, "comment_id": 67057371, "body": "@Naz the instant the <code>unique_ptr</code> passes out of scope its destructor fires and frees the memory it manages. There is no eventually unless you are using a pointer to a <code>unique_ptr</code>, but that defeats the point of using a <code>unique_ptr</code> in the first place."}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 0, "creation_date": 1558353817, "post_id": 39885306, "comment_id": 99061609, "body": "@Robinson <code>shared_ptr</code>s are not reference counted. The object they share ownership of is reference counted. The destructor of the shared pointer decrements the reference count, and the last one also destroys the pointee."}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": true, "score": 2, "last_activity_date": 1475710696, "creation_date": 1475710696, "answer_id": 39885306, "question_id": 39885300, "link": "https://stackoverflow.com/questions/39885300/does-unique-ptr-automatically-destruct-when-not-referenced/39885306#39885306", "title": "Does unique_ptr automatically destruct when not referenced?", "body": "<blockquote>\n  <p>if I go to the parent of the BSTNode containing val, and assign nullptr to the left or right child field (which is the std::unique_ptr containing val), would the smart pointer self destruct? </p>\n</blockquote>\n\n<p>The smart pointer will destroy <em>the thing it points to</em>.</p>\n\n<p>It will not destroy itself (which is what self-destruct means; you may have confused terminology here).</p>\n"}, {"tags": [], "owner": {"reputation": 17005, "user_id": 53870, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/e9bcdc2623fe00b172817ed2fc9c8c11?s=128&d=identicon&r=PG", "display_name": "Andy Dent", "link": "https://stackoverflow.com/users/53870/andy-dent"}, "is_accepted": false, "score": 1, "last_activity_date": 1558347963, "creation_date": 1558347963, "answer_id": 56218995, "question_id": 39885300, "link": "https://stackoverflow.com/questions/39885300/does-unique-ptr-automatically-destruct-when-not-referenced/56218995#56218995", "title": "Does unique_ptr automatically destruct when not referenced?", "body": "<p>The key to <code>unique_ptr</code> is understanding the lifespan of <strong>stack</strong> variables.</p>\n\n<p>There's nothing inherent in <code>unique_ptr</code> that's different from other stack variables, just the use of its destructor to clean up the owned content. This is an idiom widely used before these pointers, referred to as RAII <em>Resource Acquisition Is Initialisation</em>.</p>\n\n<p>If you have a <code>unique_ptr</code> on the stack, ie: declared inside some scope, it executes its destructor when you exit that scope and the stack variables are deleted.</p>\n\n<p>If you have it inside some struct or class allocated on the heap, it executes its destructor when that container is deleted.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2580104"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1901, "favorite_count": 0, "accepted_answer_id": 39885306, "answer_count": 2, "score": 1, "last_activity_date": 1558347963, "creation_date": 1475710649, "question_id": 39885300, "link": "https://stackoverflow.com/questions/39885300/does-unique-ptr-automatically-destruct-when-not-referenced", "title": "Does unique_ptr automatically destruct when not referenced?", "body": "<p>Similar to the concept of GC in Java, when an object is not referenced anymore by something else, it gets marked for GC.</p>\n\n<p>Does unique_ptr work similar to this?</p>\n\n<p>If say I have a data structure (a tree) with nodes containing left/right <code>std::unique_ptr&lt;BSTNode&gt;</code>. Say I have a remove function <code>remove(std::unique_ptr&lt;BSTNode&gt;&amp; root, int val)</code>, if I go to the parent of the <code>BSTNode</code> containing <code>val</code>, and assign nullptr to the left or right child field (which is the <code>std::unique_ptr&lt;BSTNode&gt;</code> containing <code>val</code>), would the smart pointer self destruct? </p>\n\n<p>Or should I <code>reset</code> the smart pointer inside of the remove function as well? This question is mostly a scope issue that I am not understanding. </p>\n"}, {"tags": ["c++", "struct", "linked-list", "segmentation-fault", "double-pointer"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 2, "creation_date": 1475709599, "post_id": 39885099, "comment_id": 67056999, "body": "Why is is <code>head</code> a pointer to pointer in the first place?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1475709626, "post_id": 39885099, "comment_id": 67057005, "body": "Initializing <code>head</code> is probably a good idea rather than just using it. De-referencing an uninitialized pointer = crash."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475709981, "post_id": 39885099, "comment_id": 67057099, "body": "What do you think <code>(*head)</code> will do?"}, {"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710067, "post_id": 39885099, "comment_id": 67057119, "body": "head is pointer to pointer for ease and efficiency when creating my insert function later. Tadman, do you think that before the for loop I should be saying something like... head = new node;"}, {"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710129, "post_id": 39885099, "comment_id": 67057130, "body": "GManNickG, I did not think that was a reasonable solution either but it is what my compiler suggested after I received an error for not dereferencing it."}, {"owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "edited": false, "score": 1, "creation_date": 1475710821, "post_id": 39885099, "comment_id": 67057305, "body": "<code>head</code> itself doesn&#39;t need to be a double pointer. You probably meant you want <code>head</code> to be a double pointer inside the body of insert: <code>void insert(node** head, int data)</code> so you can simply make <code>head</code> a single pointer inside main and pass its address: <code>insert(&amp;head, x)</code>."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 0, "creation_date": 1475711966, "post_id": 39885099, "comment_id": 67057610, "body": "<code>(*head)</code> means &quot;the thing <code>head</code> points to. So tell me, what does <code>head</code> point to?"}], "answers": [{"comments": [{"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710161, "post_id": 39885205, "comment_id": 67057140, "body": "With my implementation it has to be, any ideas?"}, {"owner": {"reputation": 71, "user_id": 6596223, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dM--2yV7kqM/AAAAAAAAAAI/AAAAAAAAAVM/dzdtJ1MIr58/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6596223/jesse"}, "reply_to_user": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710555, "post_id": 39885205, "comment_id": 67057233, "body": "You can still use your double pointer, you just need to make sure <code>head</code> is pointing at something before you try to call <code>(*head)-&gt;next</code>, that&#39;s where your segfault is happening. Your code as-is-written would not produce a linked-list anyway, and needs further examination."}], "tags": [], "owner": {"reputation": 71, "user_id": 6596223, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dM--2yV7kqM/AAAAAAAAAAI/AAAAAAAAAVM/dzdtJ1MIr58/photo.jpg?sz=128", "display_name": "Jesse", "link": "https://stackoverflow.com/users/6596223/jesse"}, "is_accepted": false, "score": 1, "last_activity_date": 1475709915, "creation_date": 1475709915, "answer_id": 39885205, "question_id": 39885099, "link": "https://stackoverflow.com/questions/39885099/initialize-a-linked-list-with-a-double-pointer-head-node-c/39885205#39885205", "title": "initialize a linked list with a double pointer head node c++", "body": "<p><code>head</code> doesn't need to be a pointer to a pointer. It can simply be a pointer to another <code>node</code> which is always the first <code>node</code> in your linked list. <code>head</code> should also be initialized to <code>null</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710408, "post_id": 39885245, "comment_id": 67057181, "body": "Thank you for your reply Kemin Zhou I understand that just using a single pointer would work, but as for implementation of my insert function in regards to efficiency I need head initialized as a double pointer."}, {"owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "reply_to_user": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710521, "post_id": 39885245, "comment_id": 67057226, "body": "You mean head is an array of node pointers. You are already operating pointers without the double pointer, which should be very efficient."}], "tags": [], "owner": {"reputation": 4257, "user_id": 2407363, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/JOzMf.jpg?s=128&g=1", "display_name": "Kemin Zhou", "link": "https://stackoverflow.com/users/2407363/kemin-zhou"}, "is_accepted": false, "score": 0, "last_activity_date": 1475710260, "creation_date": 1475710260, "answer_id": 39885245, "question_id": 39885099, "link": "https://stackoverflow.com/questions/39885099/initialize-a-linked-list-with-a-double-pointer-head-node-c/39885245#39885245", "title": "initialize a linked list with a double pointer head node c++", "body": "<p>Try this one, it should work. You still have to write code to de allocate memory.</p>\n\n<pre><code>struct node{\n   int val;\n   node * next;\n};\n\nint main(){\n   node * head = new node();\n   head-&gt;val = 999;\n   node *curr=head;\n\n   for(int i = 0; i &lt; 5; i++) {\n      node* temp = new node();\n      temp-&gt;val = i;\n      cout &lt;&lt; \"adding node \" &lt;&lt; i &lt;&lt; endl;\n      curr-&gt;next = temp; //segfault here\n      curr = curr-&gt;next;\n   }\n   return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 0, "creation_date": 1475710475, "post_id": 39885260, "comment_id": 67057207, "body": "Thanks for the reply wuoix, I need to use a double pointer for my implementation, any other ideas?"}, {"owner": {"reputation": 38, "user_id": 1524469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d93313211f84baea5a8b9ba9133093?s=128&d=identicon&r=PG", "display_name": "wuoix", "link": "https://stackoverflow.com/users/1524469/wuoix"}, "reply_to_user": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "edited": false, "score": 1, "creation_date": 1475710639, "post_id": 39885260, "comment_id": 67057258, "body": "One problem to think about is unless your <code>head</code> is not always pointing to the first element, you&#39;ll never be able to properly construct the next element without losing elements you have created in the past."}], "tags": [], "owner": {"reputation": 38, "user_id": 1524469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4d93313211f84baea5a8b9ba9133093?s=128&d=identicon&r=PG", "display_name": "wuoix", "link": "https://stackoverflow.com/users/1524469/wuoix"}, "is_accepted": false, "score": 1, "last_activity_date": 1475710539, "last_edit_date": 1475710539, "creation_date": 1475710355, "answer_id": 39885260, "question_id": 39885099, "link": "https://stackoverflow.com/questions/39885099/initialize-a-linked-list-with-a-double-pointer-head-node-c/39885260#39885260", "title": "initialize a linked list with a double pointer head node c++", "body": "<p>In your code, <code>head</code> is a double pointer. The pointer that <code>head</code> is pointing to does not have a constructed object and may be <code>null</code>, hence your segmentation fault.</p>\n\n<p>I would recommend you keep <code>head</code> a simple pointer instead of a double pointer as well, since that is unnecessary.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6772771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03a034d02b334ad7b2b0bd5644fbd8f8?s=128&d=identicon&r=PG&f=1", "display_name": "Saaur", "link": "https://stackoverflow.com/users/6772771/saaur"}, "is_accepted": false, "score": 0, "last_activity_date": 1475712026, "last_edit_date": 1475712026, "creation_date": 1475711553, "answer_id": 39885405, "question_id": 39885099, "link": "https://stackoverflow.com/questions/39885099/initialize-a-linked-list-with-a-double-pointer-head-node-c/39885405#39885405", "title": "initialize a linked list with a double pointer head node c++", "body": "<p>The first thing you try to do in your program using \"node **head\" is dereference it, which, given that head is a pointer of uninitialized value, will most likely crash your program if you try to touch any data at that location. The proper thing to do would be to set *head = temp before trying to go to next.</p>\n\n<p>Additionally, you do not need to initialize the list using a double pointer to take advantage of the double pointer insertion algorithm later. You can always say\nNode **head_pp = &amp;head and go from there.</p>\n\n<p>Right now, your code looks like this. </p>\n\n<p>Node **head \n(stores anything since uninitialized)</p>\n\n<p>*head<br>\n(uninitialized memory)</p>\n\n<p>(*head)->next\n(tries to touch uninitialized memory address, OS kills program)</p>\n\n<p>It should be noted that in most cases you will receive the segfault error, since most uninit memory holds 0's. Eventually you would see an access violation, though</p>\n"}], "owner": {"reputation": 26, "user_id": 4854732, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7461e3a3e7bd5a62fa00b96a178b1e?s=128&d=identicon&r=PG&f=1", "display_name": "Gonez", "link": "https://stackoverflow.com/users/4854732/gonez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1175, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1475712026, "creation_date": 1475709273, "question_id": 39885099, "link": "https://stackoverflow.com/questions/39885099/initialize-a-linked-list-with-a-double-pointer-head-node-c", "title": "initialize a linked list with a double pointer head node c++", "body": "<p>I am not too sure why this code does not create a linked list with 5 nodes that each hold an integer value. I am currently getting a segfault and I commented on the line where the error is occurring. Any help would be appreciated, thank you.   </p>\n\n<pre><code>struct node{\n    int val;\n    node * next;\n}\n\nint main(){\n    node ** head;\n\n    for(int i = 0; i &lt; 5; i++){\n        node * temp = new node;\n        temp-&gt;val = i;\n\n        (*head)-&gt;next = temp; //segfault here\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "ssl"], "answers": [{"tags": [], "owner": {"reputation": 14859, "user_id": 109919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a962134d39b25609dac6b12fc745b3da?s=128&d=identicon&r=PG", "display_name": "Sheng Jiang \u848b\u665f", "link": "https://stackoverflow.com/users/109919/sheng-jiang-%e8%92%8b%e6%99%9f"}, "is_accepted": true, "score": 5, "last_activity_date": 1475861208, "last_edit_date": 1475861208, "creation_date": 1475860662, "answer_id": 39922743, "question_id": 39885085, "link": "https://stackoverflow.com/questions/39885085/configure-microsoft-c-rest-sdk-to-use-tls-1-1-or-1-2/39922743#39922743", "title": "Configure Microsoft C++ Rest SDK to use TLS 1.1 or 1.2", "body": "<p>The SDK does not have a setting for TLS version. </p>\n\n<p>On Windows, the library is based on WinHttp. Thus the library uses WinHttp defaults, which varies between Windows versions. See <a href=\"https://support.microsoft.com/en-us/kb/3140245\" rel=\"nofollow\">Update to enable TLS 1.1 and TLS 1.2 as a default secure protocols in WinHTTP in Windows</a> for details. You can use WinHttpSetOption to change the WINHTTP_OPTION_SECURE_PROTOCOLS option yourself if the default is unacceptable.</p>\n\n<p>On Linux the SDK uses boost::asio::ssl::context::sslv23 which I think already supports TLS 1.1 and 1.2. For fine control you can call SSL_CTX_set_options. </p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 8335473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86005fd871fae755a3ba0e152b600076?s=128&d=identicon&r=PG&f=1", "display_name": "Tbone281", "link": "https://stackoverflow.com/users/8335473/tbone281"}, "is_accepted": false, "score": 1, "last_activity_date": 1562867659, "last_edit_date": 1562867659, "creation_date": 1562865036, "answer_id": 56994265, "question_id": 39885085, "link": "https://stackoverflow.com/questions/39885085/configure-microsoft-c-rest-sdk-to-use-tls-1-1-or-1-2/56994265#56994265", "title": "Configure Microsoft C++ Rest SDK to use TLS 1.1 or 1.2", "body": "<p>Microsoft C++ Rest supports TLS 1.1 and 1.2 in version 2.10 and higher.  Here is section of http_client_winhttp.cpp that does this:</p>\n\n<pre><code>            // Enable TLS 1.1 and 1.2\n#if !defined(CPPREST_TARGET_XP)\n        BOOL win32_result(FALSE);\n\n        DWORD secure_protocols(WINHTTP_FLAG_SECURE_PROTOCOL_SSL3 | WINHTTP_FLAG_SECURE_PROTOCOL_TLS1 |\n                               WINHTTP_FLAG_SECURE_PROTOCOL_TLS1_1 | WINHTTP_FLAG_SECURE_PROTOCOL_TLS1_2);\n        win32_result = ::WinHttpSetOption(\n            m_hSession, WINHTTP_OPTION_SECURE_PROTOCOLS, &amp;secure_protocols, sizeof(secure_protocols));\n        if (FALSE == win32_result)\n        {\n            return GetLastError();\n        }\n#endif\n</code></pre>\n"}], "owner": {"reputation": 7213, "user_id": 233596, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/7cba92ae4cd4794fd91d6e277ec859c6?s=128&d=identicon&r=PG", "display_name": "Jim Flood", "link": "https://stackoverflow.com/users/233596/jim-flood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2102, "favorite_count": 0, "accepted_answer_id": 39922743, "answer_count": 2, "score": 2, "last_activity_date": 1562867659, "creation_date": 1475709186, "question_id": 39885085, "link": "https://stackoverflow.com/questions/39885085/configure-microsoft-c-rest-sdk-to-use-tls-1-1-or-1-2", "title": "Configure Microsoft C++ Rest SDK to use TLS 1.1 or 1.2", "body": "<p>How is the Microsoft C++ Rest SDK for http_client configured to connect using TLS 1.1 or 1.2? It is failing to connect because it is using a lower level of TLS that the server does not accept. I don't see how to configure it to set the TLS level of the client.</p>\n"}, {"tags": ["c++", "macros"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 4, "creation_date": 1475708693, "post_id": 39884994, "comment_id": 67056785, "body": "<code>gcc -E</code> might help"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475708755, "post_id": 39884994, "comment_id": 67056804, "body": "Asking for such tool is explicitly <i>off-topic</i>!"}], "owner": {"reputation": 5460, "user_id": 826203, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1ae7b03db7483523fc909e19edbe5dec?s=128&d=identicon&r=PG", "display_name": "athos", "link": "https://stackoverflow.com/users/826203/athos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1475708751, "answer_count": 0, "score": 0, "last_activity_date": 1475708599, "creation_date": 1475708599, "question_id": 39884994, "link": "https://stackoverflow.com/questions/39884994/is-there-a-tool-to-generate-after-macro-code", "closed_reason": "Duplicate", "title": "Is there a tool to generate &quot;after macro&quot; code?", "body": "<p>Currently I'm looking at Boost, it's a good C++ library, however, using quite a lot macros such that sometimes it's unable to debug \"step into\" the C++ code.</p>\n\n<p>I understand some macros couldn't be replaced, such as</p>\n\n<pre><code>#    define BOOST_PP_CAT_I(a, b) BOOST_PP_CAT_II(~, a ## b)\n</code></pre>\n\n<p>, but most can be \"expanded\".</p>\n\n<p>Is there a way to generate C++ code \"after macros\"? </p>\n"}, {"tags": ["c++", "parameters", "stl", "set", "runtime"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475707731, "post_id": 39884827, "comment_id": 67056531, "body": "Why can&#39;t you? Btw, you&#39;re comparing integers when you have a container of <code>MyClass</code>. That&#39;s UB."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475707888, "post_id": 39884827, "comment_id": 67056564, "body": "@krzaq See first answer of <a href=\"http://stackoverflow.com/questions/7160901/why-is-c11s-pod-standard-layout-definition-the-way-it-is\" title=\"why is c11s pod standard layout definition the way it is\">stackoverflow.com/questions/7160901/&hellip;</a> - but yes, why can&#39;t you?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1475708415, "post_id": 39884827, "comment_id": 67056716, "body": "Maybe <a href=\"http://en.cppreference.com/w/cpp/container/set/set\" rel=\"nofollow noreferrer\">read some docs</a>."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475708503, "post_id": 39884827, "comment_id": 67056742, "body": "That answer is about casting pointer to T to a pointer to U and back to T. That&#39;s well-defined indeed. Dereferencing it <code>MyClass*</code> as <code>int*</code> is undefined as far as my understanding of [basic.lval]/10 from N4140 goes."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1475708509, "post_id": 39884827, "comment_id": 67056743, "body": "According to the manual you can pass the comparator to the <code>std::set</code> constructor: <a href=\"http://en.cppreference.com/w/cpp/container/set/set\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/set/set</a>"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475708815, "post_id": 39884827, "comment_id": 67056825, "body": "Why is everybody beating on this question so much? Ordinarily you don&#39;t have to pass anything to the constructor, so it&#39;s not intuitively obvious that that&#39;s the solution to the question. Just answer it instead of making snide remarks!"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "is_accepted": false, "score": 2, "last_activity_date": 1475708766, "creation_date": 1475708766, "answer_id": 39885016, "question_id": 39884827, "link": "https://stackoverflow.com/questions/39884827/custom-arguments-to-stdset-comparison-function/39885016#39885016", "title": "Custom arguments to std::set comparison function", "body": "<p>Your assertion that you can't pass a <code>MyComparison</code> instance to <code>std::set</code> for it to use it is wrong. There is a constructor for <code>std::set</code> expecting just that (in C++11):</p>\n\n<pre><code>explicit set( const Compare&amp; comp = Compare(),\n              const Allocator&amp; alloc = Allocator() );\n</code></pre>\n\n<p>So your <code>MyComparison</code> can be passed as first argument.</p>\n\n<pre><code>std::set&lt;MyClass, MyComparison&gt; m1(mycmp);\n</code></pre>\n\n<p>If you don't have C++11 or newer available, then this constructor overload is non-existing and you need to use another one:</p>\n\n<pre><code>template&lt; class InputIt &gt;\nset( InputIt first, InputIt last,\n     const Compare&amp; comp = Compare(),\n     const Allocator&amp; alloc = Allocator() );\n</code></pre>\n\n<p>This one however expects an interator range in the first two arguments. Since we don't actually want to construct from a range, they need to be dummies. You could do someting like:</p>\n\n<pre><code>std::vector&lt;int&gt; dummy;\nstd::set&lt;MyClass, MyComparison&gt; m1(dummy.begin(), dummy.end(), mycomp);\n</code></pre>\n\n<p><code>dummy</code> will not be used afterwards. I am not sure whether there is a nicer solution besides implementing a dummy iterator class.</p>\n\n<p>See <a href=\"http://en.cppreference.com/w/cpp/container/set/set\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/container/set/set</a> for full reference on constructors of <code>std::set</code>.</p>\n"}], "owner": {"reputation": 19, "user_id": 6872799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7202091900ffd8f8a13cbc9ff585b98a?s=128&d=identicon&r=PG&f=1", "display_name": "elias", "link": "https://stackoverflow.com/users/6872799/elias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1475719912, "creation_date": 1475707560, "last_edit_date": 1475719912, "question_id": 39884827, "link": "https://stackoverflow.com/questions/39884827/custom-arguments-to-stdset-comparison-function", "title": "Custom arguments to std::set comparison function", "body": "<p>I know how to pass a regular comparison class or function to set::set&lt;>.</p>\n\n<p>I am writing some test code and I want to emulate some C libraries using STL's std::set and I want to be able to pass a C callback to the comparison object so a different comparison takes place.</p>\n\n<p>I have the following theoretical code: </p>\n\n<pre><code>struct MyClass\n{\n    int a;\n};\n\ntypedef bool (*user_callback_t)(void *, void *);\nclass MyComparison\n{\nprivate:\n    user_callback_t cb = nullptr;\npublic:\n    MyComparison(user_callback_t cb): cb(cb) { }\n    MyComparison() {}\n    bool operator()(const MyClass &amp;a, const MyClass &amp;b) const\n    {\n        return cb((void *)&amp;a, (void *)&amp;b);\n    }\n};\n\nint f1()\n{\n    auto cmp = [](void *a, void *b) -&gt; bool\n    {\n        return *(int *)a &lt; *(int *)b;\n    };\n\n    MyComparison mycmp(cmp);\n\n    std::set&lt;MyClass, MyComparison&gt; m1;\n\n    m1.insert({ 1 });\n    m1.insert({ 2 });\n    m1.insert({ 3 });\n\n    return 0;\n};\n</code></pre>\n\n<p>Now notice how I can do:</p>\n\n<pre><code>   std::set&lt;MyClass, MyComparison&gt; m1;\n</code></pre>\n\n<p>But I cannot, somehow, instantiate a MyComparison object, pass it \"cmp\" and then use that initialize comparison object with that specific set.</p>\n\n<p>Is there a way to achieve that?</p>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 5486, "user_id": 4763963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9de2F.jpg?s=128&g=1", "display_name": "Mo Abdul-Hameed", "link": "https://stackoverflow.com/users/4763963/mo-abdul-hameed"}, "edited": false, "score": 1, "creation_date": 1475711887, "post_id": 39884663, "comment_id": 67057587, "body": "Check the accepted answer of the following question: <a href=\"http://stackoverflow.com/questions/2574115/how-to-make-a-column-in-qtablewidget-read-only\" title=\"how to make a column in qtablewidget read only\">stackoverflow.com/questions/2574115/&hellip;</a> I think it may help you"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1475716874, "post_id": 39884663, "comment_id": 67058650, "body": "If you think of using a <code>QLabel</code> in any of the views, you&#39;re doing it wrong. The view already supports displaying text and images just like <code>QLabel</code> does. Item attributes set the behavior of each data item."}], "answers": [{"comments": [{"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 1, "creation_date": 1475706905, "post_id": 39884688, "comment_id": 67056298, "body": "@flashburn there&#39;s also no need for a label because you can set the column to non editable with QFlags / use QTableWidgetItem"}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "edited": false, "score": 0, "creation_date": 1475707724, "post_id": 39884688, "comment_id": 67056528, "body": "@deW1 Can you expand on &quot;use QTableWidgetItem&quot;? What do you mean by it?"}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "edited": false, "score": 2, "creation_date": 1475708196, "post_id": 39884688, "comment_id": 67056648, "body": "@flashburn <a href=\"https://gist.github.com/deW1/2ebfadaefc7c5682b2896e6d8b540417\" rel=\"nofollow noreferrer\">gist.github.com/deW1/2ebfadaefc7c5682b2896e6d8b540417</a> for example"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475708253, "post_id": 39884688, "comment_id": 67056667, "body": "That&#39;s a nice use of xor"}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "edited": false, "score": 0, "creation_date": 1475708523, "post_id": 39884688, "comment_id": 67056748, "body": "yup and by wrapping an if around it you could set conditions for table fields that you want to keep editable by not changing the flags"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1475706539, "creation_date": 1475706539, "answer_id": 39884688, "question_id": 39884663, "link": "https://stackoverflow.com/questions/39884663/unable-to-set-text-in-qtablewidget-cells/39884688#39884688", "title": "unable to set text in qtablewidget cells", "body": "<p><code>ui-&gt;currentSetting1TableWidget-&gt;colorCount()</code> you have code-completion-assisted typo. You wanted <a href=\"https://doc-snapshots.qt.io/qt5-5.8/qtablewidget.html#columnCount-prop\" rel=\"nofollow\"><code>columnCount()</code></a>. Because you specify incorrect placement for additional (<code>colorCount()</code> must be higher than <code>columnCount()</code>) labels they're assigned to coordinates (0,0) or something very close.</p>\n\n<p>You're also iterating from <code>row = 1</code>, but rows are indexed from 0, that's why you don't have labels in the first row. It makes sense to skip first column and iterate them from <code>1</code>, because of the checkboxes.</p>\n"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "closed_date": 1475716787, "accepted_answer_id": 39884688, "answer_count": 1, "score": 0, "last_activity_date": 1475706539, "creation_date": 1475706389, "question_id": 39884663, "link": "https://stackoverflow.com/questions/39884663/unable-to-set-text-in-qtablewidget-cells", "closed_reason": "Duplicate", "title": "unable to set text in qtablewidget cells", "body": "<p>I want to have a read only text in <code>QTableWidget</code>, so I decided to insert a <code>QLabel</code> in each cell. Unfortunately I'm getting the following look:</p>\n\n<p><a href=\"https://i.stack.imgur.com/K23u4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K23u4.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the code that I use for this:</p>\n\n<pre><code>for (int row = 1; row &lt; ui-&gt;currentSetting1TableWidget-&gt;rowCount(); row++)\n    for (int col = 1; col &lt; ui-&gt;currentSetting1TableWidget-&gt;colorCount(); col++) {\n        QLabel *label = new QLabel(ui-&gt;currentSetting1TableWidget);\n        label-&gt;setText(\"mytext\");\n        ui-&gt;currentSetting1TableWidget-&gt;setCellWidget(row, col, label);\n    }\n</code></pre>\n\n<p>I see two issues:</p>\n\n<ol>\n<li><p>When I run the code I got a bunch of the following warnings:\nQPaintDevice::metrics: Device has no metric information</p></li>\n<li><p><strong><code>mytext</code></strong> is displayed in the corner header cell. Why is this happening? What am I doing wrong and how to fix this?</p></li>\n</ol>\n"}, {"tags": ["c++", "windows", "boost"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 3, "creation_date": 1475706340, "post_id": 39884646, "comment_id": 67056124, "body": "Hang on a sec... Are you still using Win98?  ---- Well, Off the top of my head. Nahhhh, Win98 isn&#39;t supported and shouldn&#39;t be....."}, {"owner": {"reputation": 875, "user_id": 805673, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b178fbd58e19ea54b1e72a18dc5df045?s=128&d=identicon&r=PG", "display_name": "Binabik", "link": "https://stackoverflow.com/users/805673/binabik"}, "reply_to_user": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 1, "creation_date": 1475706784, "post_id": 39884646, "comment_id": 67056261, "body": "It&#39;s not me using that operating system :)"}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1475706827, "post_id": 39884646, "comment_id": 67056272, "body": "Refuse and explain them why Win98 is a bad idea in 2016."}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 10, "creation_date": 1475706944, "post_id": 39884646, "comment_id": 67056311, "body": "This is an entirely reasonable question, that has a clear answer."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1475707218, "post_id": 39884646, "comment_id": 67056381, "body": "<a href=\"http://www.popularmechanics.com/technology/gadgets/a23139/commodore-64-repair-shop/\" rel=\"nofollow noreferrer\">It is amazing the old systems you can find lying around and still doing useful work.</a>"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1475736450, "post_id": 39884646, "comment_id": 67064647, "body": "Win&#39;98 doesn&#39;t support multi-core systems, which greatly diminishes the value of threads."}], "answers": [{"tags": [], "owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "is_accepted": true, "score": 7, "last_activity_date": 1475706396, "creation_date": 1475706396, "answer_id": 39884666, "question_id": 39884646, "link": "https://stackoverflow.com/questions/39884646/are-the-boost-c-libraries-compatible-with-win98/39884666#39884666", "title": "Are the boost-C++-libraries compatible with win98?", "body": "<p>See <a href=\"http://www.boost.org/doc/libs/1_55_0/libs/log/doc/html/log/installation.html\">http://www.boost.org/doc/libs/1_55_0/libs/log/doc/html/log/installation.html</a>  </p>\n\n<p>It requires XP or newer, and at least VC8.</p>\n"}, {"comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475710655, "post_id": 39885030, "comment_id": 67057264, "body": "It might be a good idea to dig through the release notes and issue tracker and see if you need to backport any essential fixes for the libraries you will use."}, {"owner": {"reputation": 875, "user_id": 805673, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b178fbd58e19ea54b1e72a18dc5df045?s=128&d=identicon&r=PG", "display_name": "Binabik", "link": "https://stackoverflow.com/users/805673/binabik"}, "edited": false, "score": 0, "creation_date": 1475765263, "post_id": 39885030, "comment_id": 67083780, "body": "Supporting MSVS 2005 equals to supporting Win98? I could also imagine that &quot;supporting MSVS 2005&quot; means &quot;supporting MSVS 2005 on WinXP&quot;. For sure, I will have a try and if necessary, go back to 1.25.0 ..."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "reply_to_user": {"reputation": 875, "user_id": 805673, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b178fbd58e19ea54b1e72a18dc5df045?s=128&d=identicon&r=PG", "display_name": "Binabik", "link": "https://stackoverflow.com/users/805673/binabik"}, "edited": false, "score": 1, "creation_date": 1475767740, "post_id": 39885030, "comment_id": 67085709, "body": "I can&#39;t find anything in the documentation mentioning that specifically. Considering that the <a href=\"https://github.com/boostorg/thread/blob/boost-1.52.0/src/win32/thread.cpp#L12\" rel=\"nofollow noreferrer\">code</a> seems to request even older version of the API (IIRC Win98 had <code>WINVER 0x500</code>), there&#39;s a decent chance. Unfortunately I don&#39;t have neither the compiler, nor the OS anywhere on hand to test this."}], "tags": [], "owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "is_accepted": false, "score": 8, "last_activity_date": 1475709158, "last_edit_date": 1495535549, "creation_date": 1475708839, "answer_id": 39885030, "question_id": 39884646, "link": "https://stackoverflow.com/questions/39884646/are-the-boost-c-libraries-compatible-with-win98/39885030#39885030", "title": "Are the boost-C++-libraries compatible with win98?", "body": "<p>It depends on which version of Boost you are interested in.</p>\n\n<p>You can go through the <a href=\"http://www.boost.org/users/history/\" rel=\"nofollow noreferrer\">Boost version history</a> and search the <em>Release Notes</em> for one that lists a compiler that supports Win98.</p>\n\n<p>A quick search <a href=\"https://en.wikipedia.org/wiki/Visual_C%2B%2B\" rel=\"nofollow noreferrer\">hints</a> that <a href=\"https://stackoverflow.com/questions/213711/does-visual-studio-2008-support-windows-98\">this is likely</a> to be MSVS 2005. This means Visual C++ 8.0.</p>\n\n<p>The latest version of boost that I've found to list this version of VC++ as a supported (and targetted) compiler is <a href=\"http://www.boost.org/users/history/version_1_52_0.html\" rel=\"nofollow noreferrer\">boost 1.52.0</a>.</p>\n\n<p>The Boost Thread library has been around since version 1.25.0, so this seems like an acceptable candidate.</p>\n\n<p>Conveniently, the link to <a href=\"https://sourceforge.net/projects/boost/files/boost/1.52.0/\" rel=\"nofollow noreferrer\">download the source code</a> (of any particular version) are also provided on the version history page.</p>\n"}], "owner": {"reputation": 875, "user_id": 805673, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b178fbd58e19ea54b1e72a18dc5df045?s=128&d=identicon&r=PG", "display_name": "Binabik", "link": "https://stackoverflow.com/users/805673/binabik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 1, "closed_date": 1475765236, "accepted_answer_id": 39884666, "answer_count": 2, "score": 6, "last_activity_date": 1475709158, "creation_date": 1475706277, "question_id": 39884646, "link": "https://stackoverflow.com/questions/39884646/are-the-boost-c-libraries-compatible-with-win98", "closed_reason": "Not suitable for this site", "title": "Are the boost-C++-libraries compatible with win98?", "body": "<p>I know, it sounds ridiculous but I was asked to make an application backwards-compatible with win98. Specifically, I am interested in the boost-thread library that I have used. So, where can I find information about which version of the boost libraries is compatible with which operating system?</p>\n"}, {"tags": ["c++", "stl", "simd", "avx", "avx2"], "answers": [{"tags": [], "owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "is_accepted": false, "score": 0, "last_activity_date": 1475706216, "creation_date": 1475706216, "answer_id": 39884632, "question_id": 39884600, "link": "https://stackoverflow.com/questions/39884600/does-the-bitwise-operation-etc-provided-as-operator-overloads-in-the-s/39884632#39884632", "title": "Does the bitwise operation (&amp;, ^. | etc) provided as operator overloads in the std::bitset use AVX or SSE4 instructions?", "body": "<blockquote>\n  <p>Since this is implementation dependent, is the only way to find that out is through the disassembly?</p>\n</blockquote>\n\n<p>Yes, there's no other way. Nor there are any guarantees what is actually used.</p>\n"}, {"comments": [{"owner": {"reputation": 221394, "user_id": 366904, "user_type": "moderator", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/3f8912af19fe86b7b34a0b011a962460?s=128&d=identicon&r=PG", "display_name": "Cody Gray", "link": "https://stackoverflow.com/users/366904/cody-gray"}, "edited": false, "score": 0, "creation_date": 1483717988, "post_id": 39900680, "comment_id": 70224318, "body": "The STL sources will <i>never</i> use SIMD instructions explicitly because the only way to do that would be via intrinsics, which necessarily make you highly architecture-dependent. That would defeat the purpose of a standard library that can be used anywhere. If your compiler doesn&#39;t apply the optimizations you&#39;re expecting, you can look into a library specifically written with intrinsics to force the use of SIMD instructions. You&#39;ll need one for each target processor."}], "tags": [], "owner": {"reputation": 5146, "user_id": 195447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996483d0dfbd79f30c9b99056f27553c?s=128&d=identicon&r=PG", "display_name": "Elalfer", "link": "https://stackoverflow.com/users/195447/elalfer"}, "is_accepted": true, "score": 2, "last_activity_date": 1475769614, "creation_date": 1475769614, "answer_id": 39900680, "question_id": 39884600, "link": "https://stackoverflow.com/questions/39884600/does-the-bitwise-operation-etc-provided-as-operator-overloads-in-the-s/39900680#39900680", "title": "Does the bitwise operation (&amp;, ^. | etc) provided as operator overloads in the std::bitset use AVX or SSE4 instructions?", "body": "<p>You can alway look at <code>STL</code> sources to see if it uses <code>SIMD</code>, but I believe it is compiler specific and <code>STL</code> library doesn't directly utilize <code>SIMD</code> &amp; <code>AVX</code> . It is up to the compiler to do vectorization if possible as a part of optimization.</p>\n\n<p>So I'd rather look at the optimization report for a specific loop to see if compiler was able to vectorize it, and the reason if not.</p>\n"}], "owner": {"reputation": 3, "user_id": 6616398, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-o1T8z7G832Y/AAAAAAAAAAI/AAAAAAAAAAA/ccp1WBMqeBM/photo.jpg?sz=128", "display_name": "VINAY PALAKKODE", "link": "https://stackoverflow.com/users/6616398/vinay-palakkode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 39900680, "answer_count": 2, "score": 0, "last_activity_date": 1475769614, "creation_date": 1475705998, "question_id": 39884600, "link": "https://stackoverflow.com/questions/39884600/does-the-bitwise-operation-etc-provided-as-operator-overloads-in-the-s", "title": "Does the bitwise operation (&amp;, ^. | etc) provided as operator overloads in the std::bitset use AVX or SSE4 instructions?", "body": "<p>Since this is implementation dependent, is the only way to find that out is through the disassembly?</p>\n"}, {"tags": ["c++", "wt"], "comments": [{"owner": {"reputation": 8275, "user_id": 1465625, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5294e4ecf2875e565ad0c6e2950e4042?s=128&d=identicon&r=PG", "display_name": "hank", "link": "https://stackoverflow.com/users/1465625/hank"}, "edited": false, "score": 2, "creation_date": 1477647422, "post_id": 39884583, "comment_id": 67861694, "body": "This seems to be a bug in Wt: <a href=\"http://redmine.emweb.be/issues/5339\" rel=\"nofollow noreferrer\">redmine.emweb.be/issues/5339</a>"}], "owner": {"reputation": 1104, "user_id": 1102960, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/a44383cde86b58b75f8f92d8dbdcb782?s=128&d=identicon&r=PG&f=1", "display_name": "mustafa.yavuz", "link": "https://stackoverflow.com/users/1102960/mustafa-yavuz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1475706724, "creation_date": 1475705911, "last_edit_date": 1475706724, "question_id": 39884583, "link": "https://stackoverflow.com/questions/39884583/wt-c-json-comparison-operator-does-not-work", "title": "Wt C++ Json comparison operator does not work", "body": "<p>The code below is written in C++ using WebTool kit for C++. In this <a href=\"https://www.webtoolkit.eu/wt/doc/reference/html/classWt_1_1Json_1_1Value.html#a741475c334e1093ae3c527755916f237\" rel=\"nofollow\">reference document</a> it is stated that operator== returns bool if the types and values are equal. But the code below always prints \"Equal\" . I tried with other types like bool but it always enters first block. Are there something wrong with overloaded comparison operator?</p>\n\n<pre><code>    #include &lt;Wt/Json/Object&gt;\n    #include &lt;Wt/Json/Parser&gt;\n    ...\n\n    Json::Object result;\n    Json::parse(\"{\\\"message\\\":\\\"Hello\\\"}\", result);\n\n\n    if (result.get(\"message\") == Wt::Json::Value(\"Not Hello\")) {\n      std::cout &lt;&lt; \"Equal\" &lt;&lt; std::endl;\n    } else {\n      std::cout &lt;&lt; \"Not Equal\" &lt;&lt; std::endl;\n    }\n</code></pre>\n"}, {"tags": ["c++", "ifstream", "seekg"], "comments": [{"owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 0, "creation_date": 1475707245, "post_id": 39884556, "comment_id": 67056389, "body": "I would think you would want to check the fail bit immediately after the call to seekg, not just after an intervening call to tellg."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1475718624, "post_id": 39884556, "comment_id": 67059081, "body": "Not the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line. Especially when you&#39;re writing to <code>std::cerr</code>, which is line-buffered, i.e., it flushes the stream after each line, so the flush that <code>std::endl</code> does is pointless."}, {"owner": {"reputation": 1, "user_id": 4071730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uTz735y_7Vo/AAAAAAAAAAI/AAAAAAAAB8o/AkbQwdqpXtQ/photo.jpg?sz=128", "display_name": "kent williams", "link": "https://stackoverflow.com/users/4071730/kent-williams"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1479422243, "post_id": 39884556, "comment_id": 68563834, "body": "@PeteBecker, I&#39;ve been using std::endl for over a decade, and if it does too much or does things that don&#39;t need doing, I&#39;ve never noticed.    I&#39;ve done extensive profiling for performance on CPU bound programs, and std::endl vs &#39;\\n&#39; has never been the problem."}, {"owner": {"reputation": 1, "user_id": 4071730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uTz735y_7Vo/AAAAAAAAAAI/AAAAAAAAB8o/AkbQwdqpXtQ/photo.jpg?sz=128", "display_name": "kent williams", "link": "https://stackoverflow.com/users/4071730/kent-williams"}, "reply_to_user": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 0, "creation_date": 1479422323, "post_id": 39884556, "comment_id": 68563873, "body": "@DanKorn: the seek always seems to succeed, which makes sense for files you want to write. It&#39;s conceivable to want to write at arbitrary locations in a file.  But when the file is opened for reading it doesn&#39;t make much sense to be able to seek past end of file. To me anyway."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1479422452, "post_id": 39884556, "comment_id": 68563919, "body": "@kentwilliams - it&#39;s not at all surprising that excessive (and usually redundant) output flushes don&#39;t affect performance of cpu-bound programs. Similarly, horribly inefficient algorithms won&#39;t affect the performance of I/O bound programs. That doesn&#39;t make them a good thing. Do you think beginners should taught to use <code>std::endl</code> rather than <code>&#39;\\n&#39;</code>? If so, why?"}], "owner": {"reputation": 1, "user_id": 4071730, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uTz735y_7Vo/AAAAAAAAAAI/AAAAAAAAB8o/AkbQwdqpXtQ/photo.jpg?sz=128", "display_name": "kent williams", "link": "https://stackoverflow.com/users/4071730/kent-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475705762, "creation_date": 1475705762, "question_id": 39884556, "link": "https://stackoverflow.com/questions/39884556/stdifstreamseekg-not-failing-with-absurd-offset", "title": "std::ifstream::seekg not failing with absurd offset", "body": "<p>Apparently, on Linux (Centos 7, g++ (GCC) 4.8.5 20150623 (Red Hat 4.8.5-4)) you can seek to absurd offsets in files opened for reading. I can get the file length and check the offset myself, but shouldn't the seekg fail?</p>\n\n<p>This program illustrates. No error conditions are detected, but the file is much less than 999999 bytes long.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n\nint main(int argc, char **argv) {\n\n    std::ifstream f(\"./tstseek.cpp\",std::ios::in);\n    if(!f.seekg(9999999)) {\n        std::cerr &lt;&lt; \"SEEK FAILED\" &lt;&lt; std::endl;\n    }\n    long int pos = f.tellg();\n    if(f.bad() || f.fail()) {\n        std::cerr &lt;&lt; \"SEEK FAILED\" &lt;&lt; std::endl;\n    }\n    if(f.eof()) {\n        std::cerr &lt;&lt; \"EOF AFTER SEEK\" &lt;&lt; std::endl;\n    }\n    std::string s;\n    std::getline(f,s);\n    if(f.bad() || f.fail()) {\n        std::cerr &lt;&lt; \"getline failed\" &lt;&lt; std::endl;\n    }\n    if(f.eof()) {\n        std::cerr &lt;&lt; \"EOF after getline\" &lt;&lt; std::endl;\n    }\n    std::streamsize bytesread = f.gcount();\n    std::cerr &lt;&lt; \"Position after seekg(9999999) = \" &lt;&lt; pos &lt;&lt; std::endl\n                 &lt;&lt; \"bytes read = \" &lt;&lt; bytesread &lt;&lt; std::endl\n                 &lt;&lt; \"string=[\" &lt;&lt; s &lt;&lt; \"]\" &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1475705330, "post_id": 39884442, "comment_id": 67055807, "body": "Add <code>else if (grade==&#39;Q&#39; || grade==&#39;q&#39;)         break;</code>"}, {"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 1, "creation_date": 1475705399, "post_id": 39884442, "comment_id": 67055822, "body": "In the first 3 lines of your code:... <code>while(grade!=&#39;Q&#39;&amp;&amp; grade!=&#39;q&#39;)</code> - Did you know that <code>grade</code> may be <code>q</code>?. Using uninitialized variable is Undefined behavior"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1475706108, "post_id": 39884442, "comment_id": 67056060, "body": "use <code>tolower()</code> so you don&#39;t have to check for both upper and lower case values."}, {"owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 1, "creation_date": 1475707387, "post_id": 39884442, "comment_id": 67056431, "body": "Yes, use tolower or toupper.  You could also use a switch statement to reduce all of those chained &quot;else if&quot; statements.  Also, you could test <code>strchr(&#39;ABCDFQ&#39;, toupper(grade))</code> to see if the input is valid."}], "answers": [{"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": false, "score": 1, "last_activity_date": 1475705439, "creation_date": 1475705439, "answer_id": 39884502, "question_id": 39884442, "link": "https://stackoverflow.com/questions/39884442/c-validate-input-does-not-work/39884502#39884502", "title": "c++ validate input does not work", "body": "<p>If you do not want to take into consideration only the first character that's entered, then don't read a single character and then base all the decisions on it. Use <code>std::getline()</code> to read an entire line into a <code>std::string</code>, and then check it for valid values.</p>\n\n<p>Additionally, your existing code has undefined behavior, because <code>grade</code> is uninitialized before its first use.</p>\n"}], "owner": {"reputation": 37, "user_id": 6928911, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154763460011844/picture?type=large", "display_name": "Ghayth Mahadin", "link": "https://stackoverflow.com/users/6928911/ghayth-mahadin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475705964, "creation_date": 1475705134, "last_edit_date": 1475705964, "question_id": 39884442, "link": "https://stackoverflow.com/questions/39884442/c-validate-input-does-not-work", "title": "c++ validate input does not work", "body": "<p>I am writing this code below and everything is working fine except when I type multiple characterS it suppose to give invalid input without exit the program but what is happen that  when I wrote multiple characters starting quite 'Q' or 'q' it is exit the program and I do not want that I only want to exit if I type 'q' or 'Q' </p>\n\n<pre><code>int main()\n{\n    char grade;\n\n    while(grade!='Q'&amp;&amp; grade!='q') {\n\n        cout&lt;&lt;\"\\nEnter one grade Letter from the following\"\n            &lt;&lt;\" (A ,B,C,D or F) or Please or 'q' to quite: \";\n\n        cin&gt;&gt;grade;\n        if (cin.get() != '\\n') // Look at the next character\n            {\n\n                cin.ignore(1000, '\\n'); // Clear the input stream\n\n                cout &lt;&lt; \"\\nInvalid input !\\n\";\n            }\n\n        else if (grade != 'A' &amp;&amp; grade != 'a'\n                 &amp;&amp;  grade != 'B' &amp;&amp; grade != 'b'\n                 &amp;&amp;  grade != 'C' &amp;&amp; grade != 'c'\n                 &amp;&amp;  grade != 'D' &amp;&amp; grade != 'd'\n                 &amp;&amp;  grade != 'F' &amp;&amp; grade != 'f'\n                 &amp;&amp;  grade != 'Q' &amp;&amp; grade != 'q'\n                 ) {\n\n            cout &lt;&lt; \"\\nInvalid input !\\n\";\n\n        }\n\n        else if(grade =='A'||grade=='a')\n            cout&lt;&lt;\"Excellent\"&lt;&lt;endl;\n        else if(grade=='B'|| grade=='b')\n            cout&lt;&lt;\"Good\"&lt;&lt;endl;\n        else if(grade=='C' || grade=='c')\n            cout&lt;&lt;\"Fair\"&lt;&lt;endl;\n        else if (grade=='D' || grade=='d')\n            cout&lt;&lt;\"Poor\"&lt;&lt;endl;\n        else if (grade=='F' || grade=='f')\n            cout&lt;&lt;\"Failure\"&lt;&lt;endl;\n        //else\n\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "c", "floating-point", "floating-point-comparison"], "comments": [{"owner": {"reputation": 8445, "user_id": 929459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e420841bacccb72fb934f80069c11d0b?s=128&d=identicon&r=PG", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/929459/dmitri"}, "edited": false, "score": 0, "creation_date": 1475705653, "post_id": 39884432, "comment_id": 67055914, "body": "How do you know whether the cached value is correct without doing the computation anyway to figure out what it <i>should</i> be?"}, {"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "reply_to_user": {"reputation": 8445, "user_id": 929459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e420841bacccb72fb934f80069c11d0b?s=128&d=identicon&r=PG", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/929459/dmitri"}, "edited": false, "score": 1, "creation_date": 1475705794, "post_id": 39884432, "comment_id": 67055961, "body": "Sorry, cached float should be called last float, edited to be more clear. We&#39;re seeing if the input is changing. We assume the same input produces the same output."}, {"owner": {"reputation": 8445, "user_id": 929459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e420841bacccb72fb934f80069c11d0b?s=128&d=identicon&r=PG", "display_name": "Dmitri", "link": "https://stackoverflow.com/users/929459/dmitri"}, "edited": false, "score": 0, "creation_date": 1475706132, "post_id": 39884432, "comment_id": 67056064, "body": "Okay... if you&#39;re saving an input/output pair, and using the saved output value when the new input matches the saved one, then it should be fine as long as only one output value is valid for a given input... that seems obvious, though, so I&#39;m surprised you&#39;d ask."}], "answers": [{"comments": [{"owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "edited": false, "score": 0, "creation_date": 1475706282, "post_id": 39884631, "comment_id": 67056104, "body": "Interesting, hadn&#39;t thought about small value optimization. In my application actually the cost seems to be in dispatching to memcmp. I&#39;ll have to compare the generated code for the reinterpret cast."}], "tags": [], "owner": {"reputation": 86, "user_id": 6923114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0b7dfa9680c420cf9dd7b2529357b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Azarchs", "link": "https://stackoverflow.com/users/6923114/adam-azarchs"}, "is_accepted": false, "score": 2, "last_activity_date": 1475706195, "creation_date": 1475706195, "answer_id": 39884631, "question_id": 39884432, "link": "https://stackoverflow.com/questions/39884432/floating-point-equality-for-caching-expensive-computations/39884631#39884631", "title": "Floating point equality for caching expensive computations", "body": "<p>Most <code>memcmp</code> implementations have small-value optimizations for registers, so it should be fine to use that.  However, if you don't want to rely on that you could also do something like <code>reinterpret_cast&lt;int&gt;()</code>.  Add a <code>compile_assert(sizeof(int) == sizeof(float))</code> if you want to be extra safe and are using a library set that includes such a command.</p>\n\n<p>Do watch out about NaN.  NaN is not equal to anything, even another NaN.  If you compare memory like this they will show up as equal, which is what it sounds like you want, however you may want to add additional code to make sure all NaNs are treated the same.</p>\n"}, {"tags": [], "owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1475721245, "creation_date": 1475721245, "answer_id": 39886606, "question_id": 39884432, "link": "https://stackoverflow.com/questions/39884432/floating-point-equality-for-caching-expensive-computations/39886606#39886606", "title": "Floating point equality for caching expensive computations", "body": "<p>(C99) To avoid some higher precision FP math from providing a not <em>exact</em> compare, use <code>volatile</code> to force the computation to use the most recent <strong>float</strong> values.</p>\n\n<pre><code>if ((volatile float) myfloat != (volatile float) _last_float) {\n  refresh_expensive_computation(myfloat);\n  _last_float = myfloat;\n}\n</code></pre>\n\n<p>Note: using<code>_</code> as a leading character and then a letter as a variable name is reserved.  Better to rename <code>_last_float</code>.</p>\n\n<p>Note: -0.0f equal +0.0f.  If these different <code>float</code>s that have the same value, are important, other code is needed than <code>!=</code>.</p>\n"}], "owner": {"reputation": 18645, "user_id": 50385, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2faf0c72f6a7f65431e7df489878be24?s=128&d=identicon&r=PG", "display_name": "Joseph Garvin", "link": "https://stackoverflow.com/users/50385/joseph-garvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1475721245, "creation_date": 1475705088, "last_edit_date": 1475705742, "question_id": 39884432, "link": "https://stackoverflow.com/questions/39884432/floating-point-equality-for-caching-expensive-computations", "title": "Floating point equality for caching expensive computations", "body": "<p>There are already a lot of questions and answers about the dangers of expecting two floats produced by separate computations to be exactly equal, because floating point numbers are not real numbers. This question is <strong>not</strong> about correctness contingent on equality checking, it's about caching based on it.</p>\n\n<p>Imagine you have this code:</p>\n\n<pre><code>if(myfloat != _last_float) {\n    refresh_expensive_computation(myfloat);\n    _last_float = myfloat;\n}\n</code></pre>\n\n<p>In this instance the equality comparison purely exists to prevent doing redundant work. We are avoiding doing the expensive computation again if its input is unchanged (we assume the expensive function is deterministic and no other inputs to it have changed).</p>\n\n<p>In the event the two are really equal (meaning they would be if we could compute with reals instead of floating point) but are mistakenly detected not to be, in the worst case we do the expensive computation redundantly but our program's answer is still correct. AFAIK they can only mistakenly compare equal if the computation was done in a register that is wider than the memory representation of float (e.g. on 32 bit x86 when the 80 bit fp registers are enabled), and after getting converted to the memory representation they happen to both be bitwise equal. In that case the difference must be beyond the memory representation's precision, which must be below the epsilon for comparisons that matter to me, because otherwise I'd be using a wider type like double.</p>\n\n<p>So I'm going to assert this use of floating point equality is safe. So the first question is, am I wrong?</p>\n\n<p>Secondly, if we assume it's safe, I'd like to avoid mistakenly returning true because it causes a costly computation. One way to avoid that on machines with wider registers than memory representations would be to use memcmp to force it to compare memory representations (the semantics won't be exactly the same for NaN, which will now compare true against the exactly identical bitwise instance of itself, but for caching that's an improvement, or for +0 and -0 but that could be special cased). However that memcmp will be slower than a floating point comparison in registers. Is there a way to detect when a platform has wider registers, so I can #ifdef or similar to get the optimized implementation on platforms where that is safe?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1475704793, "post_id": 39884354, "comment_id": 67055618, "body": "What do you expect <code>sum &#47; 12 = cost;</code> to do?  If you are trying to assign to <code>cost</code> why would you do it backwards of the two previous assignments?"}, {"owner": {"reputation": 11, "user_id": 4698314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2ef96e3d00a52c78e7a8e960f98046?s=128&d=identicon&r=PG&f=1", "display_name": "saviro", "link": "https://stackoverflow.com/users/4698314/saviro"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475704860, "post_id": 39884354, "comment_id": 67055639, "body": "I expect it to take the sum and divide it by 12 and then store that number in cost so that I can return it"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475704915, "post_id": 39884354, "comment_id": 67055657, "body": "remember assignment is always assign what is on the right hand side to the left hand side."}, {"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 1, "creation_date": 1475704916, "post_id": 39884354, "comment_id": 67055658, "body": "@saviro but why then isnt it <code>m[counting] += sum</code> but the other way around?"}, {"owner": {"reputation": 11, "user_id": 4698314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2ef96e3d00a52c78e7a8e960f98046?s=128&d=identicon&r=PG&f=1", "display_name": "saviro", "link": "https://stackoverflow.com/users/4698314/saviro"}, "edited": false, "score": 2, "creation_date": 1475704985, "post_id": 39884354, "comment_id": 67055688, "body": "OH I have it backwards, that makes a whole lot of sense now.. Thanks guys!"}, {"owner": {"reputation": 11, "user_id": 4698314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2ef96e3d00a52c78e7a8e960f98046?s=128&d=identicon&r=PG&f=1", "display_name": "saviro", "link": "https://stackoverflow.com/users/4698314/saviro"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475705256, "post_id": 39884354, "comment_id": 67055776, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Apologies for asking this question, I will not let it happen again. I shouldn&#39;t have made such a mistake in the first place and will not make this same mistake again."}], "answers": [{"comments": [{"owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "edited": false, "score": 2, "creation_date": 1475705702, "post_id": 39884524, "comment_id": 67055931, "body": "It&#39;s not a constant, but it&#39;s an expression that doesn&#39;t refer to a location, but rather performs a calculation."}, {"owner": {"reputation": 102569, "user_id": 400547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bece78258b3847bca4ab1ee92ad92b88?s=128&d=identicon&r=PG", "display_name": "Jon Hanna", "link": "https://stackoverflow.com/users/400547/jon-hanna"}, "edited": false, "score": 0, "creation_date": 1475721688, "post_id": 39884524, "comment_id": 67059788, "body": "Now you&#39;ve edited it to &quot;mustn&#39;t be modifiable&quot; when it&#39;s the opposite."}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": true, "score": -1, "last_activity_date": 1475753281, "last_edit_date": 1475753281, "creation_date": 1475705563, "answer_id": 39884524, "question_id": 39884354, "link": "https://stackoverflow.com/questions/39884354/c-expression-must-be-a-modifiable-lvalue-int-sum/39884524#39884524", "title": "c++ Expression must be a modifiable lvalue int sum", "body": "<p>simply LValue must be modifiable. you cannot assign a value to an expression:</p>\n\n<pre><code>sum / 12 = cost; // (sum / 12) is an expression.\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4698314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db2ef96e3d00a52c78e7a8e960f98046?s=128&d=identicon&r=PG&f=1", "display_name": "saviro", "link": "https://stackoverflow.com/users/4698314/saviro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 0, "accepted_answer_id": 39884524, "answer_count": 1, "score": 0, "last_activity_date": 1475753281, "creation_date": 1475704647, "question_id": 39884354, "link": "https://stackoverflow.com/questions/39884354/c-expression-must-be-a-modifiable-lvalue-int-sum", "title": "c++ Expression must be a modifiable lvalue int sum", "body": "<p>I am writing a function that has a for loop inside it which adds an array together and then outside of the for loop i want to take the sum of the array and divide it by 12 and place that number in a variable to return to my main cpp file.</p>\n\n<p>Here is my code</p>\n\n<pre><code>    int sum = 0;\nfor (int counting = 0; counting &lt; 15; counting++)\n{\n    sum += m[counting];\n\n}\n\nsum / 12 = cost;\n\n\n\nreturn cost;\n</code></pre>\n\n<p>The line i'm getting my error on is <code>sum / 12 = cost;</code>\nsum is highlighted red and says \"Expression must be a modifiable lvalue\" Now I did some searching(not a lot of time atm) on google and here on stackoverflow and cannot find a solution that is similar to mine so I can understand why its wrong and fix it.</p>\n\n<p>Would anyone be able to help me understand what is wrong here so I am able to fix it?</p>\n"}, {"tags": ["c++", "math"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1475704631, "post_id": 39884263, "comment_id": 67055571, "body": "A simple google search for <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">operator precedence</a> would have told you what you needed."}, {"owner": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1476114138, "post_id": 39884263, "comment_id": 67203697, "body": "If you&#39;re willing to field a question for further clarification:  do we [ever] take into account longer mathematical strings that might need parenthesis from order of operations?  Most of the links and sites found successively from them remove all parenthesis regardless.  For example: How would I use combined assignment operators to distinguish between x = 2*x + 4  and x = 2*(x+4)?   What about long successive chains?  y = 3 * y + (4 *c) / (a * 5)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "edited": false, "score": 0, "creation_date": 1475782335, "post_id": 39884345, "comment_id": 67093876, "body": "So if I&#39;m reading this correctly (and interpreting precedence) it usually only combines with the first set of operands and afterwards, normal parenthetical statements are required?  Such as: x = x + 2 * b - (4 / 9)    ==   x += 2 * b - (4/9)"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "edited": false, "score": 0, "creation_date": 1475789373, "post_id": 39884345, "comment_id": 67097313, "body": "@MissingMaths You don&#39;t need those parentheses too. You should really try to understand what operator precedence is and how it works."}, {"owner": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "edited": false, "score": 0, "creation_date": 1475851852, "post_id": 39884345, "comment_id": 67123860, "body": "Yeah, but I&#39;m fighting 30 years of mathematics&#39; order of operations.  I get the levels, I&#39;m just struggling with expanded expressions with multiple operators.  Thanks for the assist."}], "tags": [], "owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "is_accepted": false, "score": 3, "last_activity_date": 1475704592, "creation_date": 1475704592, "answer_id": 39884345, "question_id": 39884263, "link": "https://stackoverflow.com/questions/39884263/c-longer-strings-of-arithmetic-operators/39884345#39884345", "title": "(C++) Longer Strings of Arithmetic Operators", "body": "<p>Yes, you can remove all of those parentheses.</p>\n\n<p>See this: <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/operator_precedence</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "edited": false, "score": 0, "creation_date": 1475769424, "post_id": 39884347, "comment_id": 67086743, "body": "Ironically no I didn&#39;t run any code (*dolt).  It was a response to a quiz I gave and wasn&#39;t prepared.  First time computer teacher, long time math - ergo my knowledge of c++ order of operation (or precedence) needed a refresher.  Thank you."}], "tags": [], "owner": {"reputation": 1055, "user_id": 4099925, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/92d959bec692408e69fa9d3634424353?s=128&d=identicon&r=PG&f=1", "display_name": "Stereo", "link": "https://stackoverflow.com/users/4099925/stereo"}, "is_accepted": false, "score": 0, "last_activity_date": 1475704594, "creation_date": 1475704594, "answer_id": 39884347, "question_id": 39884263, "link": "https://stackoverflow.com/questions/39884263/c-longer-strings-of-arithmetic-operators/39884347#39884347", "title": "(C++) Longer Strings of Arithmetic Operators", "body": "<p>Did you try to run the code?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n  int x = 10;\n  int y = 2;\n  x += y * 2;\n  std::cout &lt;&lt; x &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>Clearly gives <code>14</code>, and </p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n  int x = 10;\n  int y = 2;\n  x += y * 2;\n  int x1 = 10;\n  x1 += (y * 2);\n  std::cout &lt;&lt; (x == x1) &lt;&lt; std::endl;\n\n  return 0;\n}\n</code></pre>\n\n<p>Yields <code>1</code>, so you can rewrite. I hope this helps.</p>\n"}], "owner": {"reputation": 1, "user_id": 6928821, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50a5f8040bdc365a2d55bf71d7e411f5?s=128&d=identicon&r=PG&f=1", "display_name": "Missing Maths", "link": "https://stackoverflow.com/users/6928821/missing-maths"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": -5, "last_activity_date": 1475706928, "creation_date": 1475704157, "last_edit_date": 1475706928, "question_id": 39884263, "link": "https://stackoverflow.com/questions/39884263/c-longer-strings-of-arithmetic-operators", "title": "(C++) Longer Strings of Arithmetic Operators", "body": "<p>So I'm well aware of simplification rules that abridge code for simplicity, space, etc.  But as those arithmetic operator strings increase, how do we implement combined assignment operators?</p>\n\n<p>Example:  Add <code>y*5</code> to <code>x</code>, store in <code>x</code></p>\n\n<p>Can be written as <code>x = x + (y*5)</code> and compressed into <code>x += (y*5)</code>.</p>\n\n<p>My question is can you go even further and rewrite it as <code>x += y*5</code> ?</p>\n\n<p>Or something akin to <code>a -= b + 2</code> being equivalent to <code>a -= (b+2)</code></p>\n\n<p>I'm planning a few left-field questions and wanted to confirm how order of operations was translated in more detail within C++ before I proceeded.  Thanks</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 1, "creation_date": 1475703963, "post_id": 39884202, "comment_id": 67055334, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/194465/how-to-parse-a-string-to-an-int-in-c\">How to parse a string to an int in C++?</a>"}, {"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 0, "creation_date": 1475704398, "post_id": 39884202, "comment_id": 67055502, "body": "I may have flagged the wrong dupe because of the misleading title (<code>int</code> -&gt; <code>int</code>s). Anyways, read the second answer linked. <b>Do</b> use <code>std::istringstream</code> for this. And dump that <code>char *</code>. Why is it not <code>std::string</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "edited": false, "score": 0, "creation_date": 1476548282, "post_id": 39884284, "comment_id": 67396630, "body": "Do I even need the if statment surely could just do"}, {"owner": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "edited": false, "score": 0, "creation_date": 1476548345, "post_id": 39884284, "comment_id": 67396651, "body": "the push back since will just contain the last number in the sequence."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "edited": false, "score": 0, "creation_date": 1476558757, "post_id": 39884284, "comment_id": 67400229, "body": "If the string ends with a space, you&#39;ll already have pushed the last number, and <code>s</code> will contain an empty string."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1475704281, "creation_date": 1475704281, "answer_id": 39884284, "question_id": 39884202, "link": "https://stackoverflow.com/questions/39884202/c-char-array-to-int/39884284#39884284", "title": "C++ char array to int", "body": "<p>Your code is pretty close. The problem is that you never push the last number in <code>char_cipher</code> onto <code>cipher_int</code>, because there's no space after it. You need to do an extra check after the loop is done.</p>\n\n<pre><code>for (int i = 0; i &lt;= length; i++) {\n    if (char_cipher[i] == ' ') {\n        //create num\n        cipher_int.push_back(stoi(s));\n        s = \"\"; //empty num\n    }\n    else {\n        //add to string\n        s += char_cipher[i];\n    }\n}\nif (s != \"\") {\n    cipher_int.push(back(stoi(s));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "edited": false, "score": 0, "creation_date": 1476548466, "post_id": 39884437, "comment_id": 67396688, "body": "So currently I am reading the file using the following method. <a href=\"http://www.cplusplus.com/reference/istream/istream/read/\" rel=\"nofollow noreferrer\">cplusplus.com/reference/istream/istream/read</a> is there a better way to read it in conjection with the method you mention? Thanks"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "edited": false, "score": 0, "creation_date": 1476557715, "post_id": 39884437, "comment_id": 67399833, "body": "@austinx43 if the file is being read using an <code>istream</code>, like <code>ifstream</code>, then you could simply use that <code>istream</code> as-is with <code>operator&gt;&gt;</code> or <code>istream_iterator</code> without using a separate <code>istringstream</code>. Hard to tell you what is best without seeing the rest of your code, or the actual file content."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1475705107, "creation_date": 1475705107, "answer_id": 39884437, "question_id": 39884202, "link": "https://stackoverflow.com/questions/39884202/c-char-array-to-int/39884437#39884437", "title": "C++ char array to int", "body": "<p>Let the STL do the parsing for you.  You can use a <code>std::istringstream</code> for that, eg:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n\nstd::string str_cipher; //\"11 2 123 44\"\nstd::vector&lt;int&gt; cipher_int;\n\nstd::istringstream iss(str_cipher);\nint num;\n\nwhile (iss &gt;&gt; num) {\n    cipher_int.push_back(num);\n}\n</code></pre>\n\n<p>Alternatively:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n#include &lt;iterator&gt;\n\nstd::string str_cipher; //\"11 2 123 44\"\nstd::vector&lt;int&gt; cipher_int;\n\nstd::istringstream iss(str_cipher);\n\nstd::copy(\n    std::istream_iterator&lt;int&gt;(iss),\n    std::istream_iterator&lt;int&gt;(),\n    std::back_inserter(cipher_int)\n);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 2373736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e9108437972f535798b820800c43de2?s=128&d=identicon&r=PG", "display_name": "austinx43", "link": "https://stackoverflow.com/users/2373736/austinx43"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "closed_date": 1476482495, "answer_count": 2, "score": -4, "last_activity_date": 1475705107, "creation_date": 1475703811, "last_edit_date": 1475704861, "question_id": 39884202, "link": "https://stackoverflow.com/questions/39884202/c-char-array-to-int", "closed_reason": "Needs details or clarity", "title": "C++ char array to int", "body": "<p>I am new to C++ and I am creating a small program. Part of it I have created a way of converting a char array to set of int's. But i was just wondering if there is a better way (more efficient and/or uses better C++ standards). Like for example using atoi on spliced part of the array for each number for etc.</p>\n\n<p>So I start of reading a set of numbers e.g. \"11 2 123 44\" from a file into a char * array and now want to convert them into there respective values currently doing it as follows:</p>\n\n<pre><code>    //char * char_cipher; //{'1', '1', ' ', '2',  ... , '4'}\n    //int length; //length of char_cipher\n    string s = \"\";\n    vector&lt;int&gt; cipher_int;\n\n    for (int i = 0; i &lt;= length; i++) {\n        if (char_cipher[i] == ' ') {\n            //create num\n            cipher_int.push_back(stoi(s));\n            s = \"\"; //empty num\n        }\n        else {\n            //add to string\n            s += char_cipher[i];\n        }\n    }\n</code></pre>\n\n<p>Any help would be much appreciated thanks :)</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "edited": false, "score": 0, "creation_date": 1475703982, "post_id": 39884146, "comment_id": 67055343, "body": "What&#39;s the difference?  One of the lines contains a C-style cast to <code>uint8_t</code> and the other does not.  What question are you really asking here?"}, {"owner": {"reputation": 66, "user_id": 6015808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c94a8429acb5d2c190b248e2a8f7e8?s=128&d=identicon&r=PG&f=1", "display_name": "orphen", "link": "https://stackoverflow.com/users/6015808/orphen"}, "edited": false, "score": 1, "creation_date": 1475705116, "post_id": 39884146, "comment_id": 67055733, "body": "Does this &quot;other end&quot; perhaps use a different endianness than the sender?"}, {"owner": {"reputation": 440, "user_id": 6826725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff980575aab3692bd4716434d44a030?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas W.", "link": "https://stackoverflow.com/users/6826725/thomas-w"}, "edited": false, "score": 0, "creation_date": 1475705612, "post_id": 39884146, "comment_id": 67055904, "body": "I&#39;m curious of why you&#39;re doing <code>var &amp; 0xff</code>. Won&#39;t the implicit/explicit cast already truncate the most significant bits ?"}, {"owner": {"reputation": 3, "user_id": 6928380, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ejp9ChyHqnA/AAAAAAAAAAI/AAAAAAAAAQ0/b8iZsd_zrq8/photo.jpg?sz=128", "display_name": "Evan Blackstone", "link": "https://stackoverflow.com/users/6928380/evan-blackstone"}, "edited": false, "score": 0, "creation_date": 1475708824, "post_id": 39884146, "comment_id": 67056829, "body": "Yeah, that&#39;s part of my question. I don&#39;t really understand the purpose if assigning to a char does the same thing."}, {"owner": {"reputation": 3, "user_id": 6928380, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ejp9ChyHqnA/AAAAAAAAAAI/AAAAAAAAAQ0/b8iZsd_zrq8/photo.jpg?sz=128", "display_name": "Evan Blackstone", "link": "https://stackoverflow.com/users/6928380/evan-blackstone"}, "edited": false, "score": 0, "creation_date": 1475708939, "post_id": 39884146, "comment_id": 67056856, "body": "I&#39;m using some sample fragments I&#39;ve collected from the MultiWii forums and GitHub. It&#39;s for a flight controller that has kind of so-so documentation on the serial protocol."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1475708970, "post_id": 39884146, "comment_id": 67056867, "body": "There&#39;s no difference between those two lines"}, {"owner": {"reputation": 3, "user_id": 6928380, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ejp9ChyHqnA/AAAAAAAAAAI/AAAAAAAAAQ0/b8iZsd_zrq8/photo.jpg?sz=128", "display_name": "Evan Blackstone", "link": "https://stackoverflow.com/users/6928380/evan-blackstone"}, "edited": false, "score": 0, "creation_date": 1475816707, "post_id": 39884146, "comment_id": 67104251, "body": "My problem actually was a serial problem. Finally got the settings right. Flight controller is powering motors like a champ now."}], "answers": [{"tags": [], "owner": {"reputation": 86, "user_id": 6923114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0b7dfa9680c420cf9dd7b2529357b3d?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Azarchs", "link": "https://stackoverflow.com/users/6923114/adam-azarchs"}, "is_accepted": false, "score": 1, "last_activity_date": 1476827955, "last_edit_date": 1476827955, "creation_date": 1475706859, "answer_id": 39884739, "question_id": 39884146, "link": "https://stackoverflow.com/questions/39884146/unsigned-int-conversion-c/39884739#39884739", "title": "Unsigned int conversion C++", "body": "<p>Most serial protocols want data in big-endian order.  In that case you should just do <code>*reinterpret_cast&lt;short*&gt;(buf) = htons(var)</code>.  If you really need little-endian, use <code>htole16</code>, defined in <code>string/endian.h</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 6928380, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ejp9ChyHqnA/AAAAAAAAAAI/AAAAAAAAAQ0/b8iZsd_zrq8/photo.jpg?sz=128", "display_name": "Evan Blackstone", "link": "https://stackoverflow.com/users/6928380/evan-blackstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1476827955, "creation_date": 1475703579, "last_edit_date": 1475703666, "question_id": 39884146, "link": "https://stackoverflow.com/questions/39884146/unsigned-int-conversion-c", "title": "Unsigned int conversion C++", "body": "<p>I'm trying to figure out a serial program with C++. I'm sending a char array that consists of several uint8_t and several uint16_t that I'm trying to split up and send.</p>\n\n<pre><code>char buf[3];\nuint16_t var=1500;\n</code></pre>\n\n<p>What's the difference (if any) between these:</p>\n\n<pre><code>buf[0]= var &amp; 0xFF; buf[1]= var &gt;&gt; 8;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>buf[0]= (uint8_t)(var &amp; 0xFF); buf[1]= var &gt;&gt; 8;\n</code></pre>\n\n<p>The other end is expecting 16bit integers with LSB first and for some reason I just don't think I'm getting the expected serial write. I know there are a multitude of reasons this could be happening, but I'm just trying to wrap my head around the concept here.</p>\n"}, {"tags": ["c++", "c"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1475703639, "post_id": 39884095, "comment_id": 67055185, "body": "It&#39;s asked and answered in the comments on <a href=\"http://stackoverflow.com/a/765780\">this answer</a>."}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 6, "creation_date": 1475703658, "post_id": 39884095, "comment_id": 67055196, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 Are you serious?"}, {"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 1, "creation_date": 1475703667, "post_id": 39884095, "comment_id": 67055205, "body": "<a href=\"http://en.cppreference.com/w/c/chrono/tm#cite_note-leapsecond-1\" rel=\"nofollow noreferrer\">en.cppreference.com/w/c/chrono/tm#cite_note-leapsecond-1</a> as possible explanation"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475703750, "post_id": 39884095, "comment_id": 67055246, "body": "@FrozenHeart Are you actually?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 0, "creation_date": 1475703832, "post_id": 39884095, "comment_id": 67055274, "body": "@Creris So it was a defect? Really?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475703858, "post_id": 39884095, "comment_id": 67055288, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 Did you even read the question?"}, {"owner": {"reputation": 1118, "user_id": 2450694, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a101093933ec102d4d27f5018774df48?s=128&d=identicon&r=PG&f=1", "display_name": "Creris", "link": "https://stackoverflow.com/users/2450694/creris"}, "edited": false, "score": 0, "creation_date": 1475703877, "post_id": 39884095, "comment_id": 67055295, "body": "I dont know, its just what I found on cppref, but it could very well be"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475703919, "post_id": 39884095, "comment_id": 67055312, "body": "@FrozenHeart Of course I did. Did you seriously research about the topic?"}, {"owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475704037, "post_id": 39884095, "comment_id": 67055368, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 Does it affect the answer somehow? It&#39;s for academic purposes only but does it matter?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475704065, "post_id": 39884095, "comment_id": 67055378, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 This question is so obviously not a duplicate of what you suggested that it&#39;s hard for me to believe that you read and understood the question. Giving you the benefit of the doubt: maybe you accidentally pasted the wrong link, and meant to suggest another dupe target? Can you check if you still stand by that comment?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475704250, "post_id": 39884095, "comment_id": 67055448, "body": "@hvd OK I posted that for exemplary low research about the topic. There never was a flag (or dupe hammer) with it."}, {"owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1475704404, "post_id": 39884095, "comment_id": 67055503, "body": "@RobertHarvey: what do you mean by one-based second count?"}, {"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "reply_to_user": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "edited": false, "score": 0, "creation_date": 1475704517, "post_id": 39884095, "comment_id": 67055531, "body": "@chqrlie: 1 thru 60 instead of 0 thru 59.  <a href=\"http://stackoverflow.com/questions/765778/why-does-tm-sec-range-from-0-60-instead-of-0-59-in-time-h/765780#comment3625260_765780\">This</a> is actually more plausible."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 2, "creation_date": 1475704998, "post_id": 39884095, "comment_id": 67055694, "body": "<a href=\"http://www.cplusplus.com/reference/ctime/tm/\" rel=\"nofollow noreferrer\">cplusplus.com</a> is wrong, or at least out of date. C90 incorrectly specified the range as [0, 61], because (IIRC) someone mistakenly thought it was possible to have two consecutive leap seconds. C99 corrected it to [0, 60]."}, {"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 1, "creation_date": 1475705501, "post_id": 39884095, "comment_id": 67055861, "body": "A correction to my previous comment: <a href=\"http://www.cplusplus.com/reference/ctime/tm/\" rel=\"nofollow noreferrer\">that web page</a> has separate tabs for C90 and C99. The C99 tab shows the correct range [0,60] (but without a comment to explain it). (The emphasis on on C++, but the C++ includes most of the C standard library by reference.)"}], "answers": [{"comments": [{"owner": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1475704592, "post_id": 39884327, "comment_id": 67055561, "body": "Which, y&#39;know, makes sense, since the formal definition of UTC does not permit double leap seconds.  See the comments <a href=\"http://stackoverflow.com/a/765780/102937\">here</a>."}, {"owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "reply_to_user": {"reputation": 168120, "user_id": 102937, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1233ec65168f4aae4d939ae8fe6cde1e?s=128&d=identicon&r=PG", "display_name": "Robert Harvey", "link": "https://stackoverflow.com/users/102937/robert-harvey"}, "edited": false, "score": 0, "creation_date": 1475705053, "post_id": 39884327, "comment_id": 67055715, "body": "@RobertHarvey: I agree, and the reference is quite pertinent, although it is not a duplicate."}], "tags": [], "owner": {"reputation": 97126, "user_id": 4593267, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/EEyLy.jpg?s=128&g=1", "display_name": "chqrlie", "link": "https://stackoverflow.com/users/4593267/chqrlie"}, "is_accepted": true, "score": 13, "last_activity_date": 1477556394, "last_edit_date": 1477556394, "creation_date": 1475704516, "answer_id": 39884327, "question_id": 39884095, "link": "https://stackoverflow.com/questions/39884095/what-is-the-purpose-of-61-in-tm-sec-field-from-the-tm-structure/39884327#39884327", "title": "What is the purpose of 61 in tm_sec field from the tm structure", "body": "<p>A range of <code>0</code> to <code>61</code> allows for up to 2 consecutive leap seconds on December 31st of a given year, probably mistakenly because in years that require 2 leap seconds, these are not added on the same day.</p>\n\n<p>Newer versions of the C Standard correctly assume that at most one leap second will be inserted at a time on any given day.</p>\n\n<p>As explained in detail in <a href=\"https://en.wikipedia.org/wiki/Leap_second\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Leap_second</a> leap seconds are inserted in December and/or June in order to avoid a drift longer than 0.9 second, hence the maximum value for <code>tm_sec</code> should be <code>60</code> instead of <code>61</code>.</p>\n"}], "owner": {"reputation": 17248, "user_id": 1608835, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/941587f86c2f65a08dec808da1e3c1ce?s=128&d=identicon&r=PG", "display_name": "FrozenHeart", "link": "https://stackoverflow.com/users/1608835/frozenheart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 1, "accepted_answer_id": 39884327, "answer_count": 1, "score": 10, "last_activity_date": 1477556394, "creation_date": 1475703312, "question_id": 39884095, "link": "https://stackoverflow.com/questions/39884095/what-is-the-purpose-of-61-in-tm-sec-field-from-the-tm-structure", "title": "What is the purpose of 61 in tm_sec field from the tm structure", "body": "<p>According to the <a href=\"http://www.cplusplus.com/reference/ctime/tm/\">cplusplus.com</a>, <code>tm_sec</code> field from the <code>tm</code> structure accept values from 0 to 61 in C90 and values from 0 to 60 in C99 and later.</p>\n\n<p>I know that 60 can be used to express leap second but what about the other one (I mean 61)? And why did they choose to remove it?</p>\n\n<p>Yeah, I tagged it both C and C++ because it is related to both languages in this case.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1475702882, "post_id": 39883915, "comment_id": 67054852, "body": "So... you want res to be 305089171 while being ONLY able to change the initial num value?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475702946, "post_id": 39883915, "comment_id": 67054889, "body": "You know what the desired output is. You know what the algorithm is. Run it backward."}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475702993, "post_id": 39883915, "comment_id": 67054911, "body": "It was a general &quot;programming logic question&quot;. Yes, I want the final output to be 305089171, only changing the num value.  I&#39;ve been trying for hours, but can&#39;t seem to find an answer"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475703008, "post_id": 39883915, "comment_id": 67054922, "body": "@RawN <code>#include &lt;cstdio&gt;</code> not compliant C."}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475703040, "post_id": 39883915, "comment_id": 67054936, "body": "How to run it backward? I cant figure it out"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 0, "creation_date": 1475703271, "post_id": 39883915, "comment_id": 67055031, "body": "In this case it is even sufficient to go through the algorithm forward with the example number and see what happens. Running backward: Suppose <code>res==305089171</code> at the end. What could <code>res+num</code> have been in the last loop iteration to get that? Then: What could <code>num</code> and <code>res</code> have been to get that and so on, until you see a pattern."}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475703318, "post_id": 39883915, "comment_id": 67055054, "body": "I meant the output is 06 305089171"}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475703353, "post_id": 39883915, "comment_id": 67055072, "body": "@Eichh&#246;rnchen I tried that, but no luck so far.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 0, "creation_date": 1475703438, "post_id": 39883915, "comment_id": 67055109, "body": "If you really tried it then you could explain your thoughts in the question and it might be received better. If you know what <code>%</code> does then the solution here should be pretty obvious."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475703491, "post_id": 39883915, "comment_id": 67055132, "body": "Good point @Eichh&#246;rnchen. IN this case I think we need to use some basic math. when you add the same number over and over again, you&#39;re multiplying. I can&#39;t remember the right word (commutative?) but A x B % C is going to be the same regardless of how you do it."}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475703521, "post_id": 39883915, "comment_id": 67055141, "body": "I&#39;m not really familiar with this, as far as I know,  %09d &quot;cuts&quot; the last 9 digits?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475703642, "post_id": 39883915, "comment_id": 67055188, "body": "No. It prints a minimum of 9 digits padding with 0s if less than 9. It does nothing to the number."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 1, "creation_date": 1475703819, "post_id": 39883915, "comment_id": 67055267, "body": "@&#193;d&#225;mT&#243;saki I was talking about the <code>%</code> in <code>res=(res+num)%1000000000;</code>. <code>%09d</code> really has no bearing on this question, but you should know what <code>%d</code> does if you are taking C/C++ interview questions."}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475704153, "post_id": 39883915, "comment_id": 67055406, "body": "@Eichh&#246;rnchen It&#39;s hard to explain, this was kind of a &quot;bonus question&quot; thing, im a c# developer intern, so this is not my table at all.  % gives u the residual, if I&#39;m not mistaken?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 0, "creation_date": 1475704459, "post_id": 39883915, "comment_id": 67055519, "body": "I am quite sure that the relevant code (the loop) looks pretty much the same in C#. The printf simply prints out the number with padding to the correct length and the correct prefix. The significant part of the question is only the loop and <code>%</code> is the modulo operator (integer divison remainder), the same as in C#."}], "answers": [{"comments": [{"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1475704381, "post_id": 39884280, "comment_id": 67055495, "body": "Feel free to complete it with a mathematical answer since i used the dirty way ;)"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 2, "creation_date": 1475704989, "post_id": 39884280, "comment_id": 67055689, "body": "IMHO if you don&#39;t explain in detail how (and why) to obtain the result, this answer is absolutely useless. Looking at this as an interviewer, the actual number is quite irrelevant compared to the reasoning and the algorithm to obtain it."}, {"owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "edited": false, "score": 0, "creation_date": 1475705345, "post_id": 39884280, "comment_id": 67055810, "body": "It seems to be something particular with numbers composed of only &#39;1&#39;"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1475705444, "post_id": 39884280, "comment_id": 67055844, "body": "254197461 x 111111111  = 28244162<b>305089171</b>. Get it?"}, {"owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475705878, "post_id": 39884280, "comment_id": 67055992, "body": "Wait how do you get a number which has the last 9 digist  305089171 and also can be /-ed by 111111111?..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475706207, "post_id": 39884280, "comment_id": 67056082, "body": "@&#193;d&#225;mT&#243;saki That I will admit I&#39;m not entirely sure of, but the solution set is fairly small. I&#39;d brute-force it or ask a mathematician if I needed a general solution. I&#39;m pretty sure there&#39;s some simple bit of math at play here that I don&#39;t know or don&#39;t know I know."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "edited": false, "score": 0, "creation_date": 1475706915, "post_id": 39884280, "comment_id": 67056301, "body": "@&#193;d&#225;mT&#243;saki  Cryptographers do math like this all the time. Odds are good that if you ask one they&#39;ll go, &quot;Oh! That old gag!&quot; and explain the trick or provide an efficient solution for cracking it."}], "tags": [], "owner": {"reputation": 6743, "user_id": 6919895, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-qqkN_JOgCvM/AAAAAAAAAAI/AAAAAAAAABE/m4r_i_2yiy8/photo.jpg?sz=128", "display_name": "Treycos", "link": "https://stackoverflow.com/users/6919895/treycos"}, "is_accepted": false, "score": -1, "last_activity_date": 1475705176, "last_edit_date": 1475705176, "creation_date": 1475704258, "answer_id": 39884280, "question_id": 39883915, "link": "https://stackoverflow.com/questions/39883915/how-to-start-on-this-c-interview-code-test/39884280#39884280", "title": "How to start on this C interview code test?", "body": "<p>Here is the value you need to put in num:</p>\n\n<pre><code>254197461\n</code></pre>\n\n<p>I got it by adding additional numbers one by one to num, i let you check what happens yourself. \nI have no mathemacital explaination to that, but try putting numbers one by one into num and you may understand:. \n1 / 61 / 461 / 7461...</p>\n"}, {"comments": [{"owner": {"reputation": 391, "user_id": 4781064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c5e533507126d217181862297ac590?s=128&d=identicon&r=PG&f=1", "display_name": "sushrut619", "link": "https://stackoverflow.com/users/4781064/sushrut619"}, "edited": false, "score": 0, "creation_date": 1475722037, "post_id": 39886641, "comment_id": 67059887, "body": "I think @Treycos was using a similar approach. I do not have enough reputation to comment so I posted a new answer. Hope the explanation makes it clear."}], "tags": [], "owner": {"reputation": 391, "user_id": 4781064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86c5e533507126d217181862297ac590?s=128&d=identicon&r=PG&f=1", "display_name": "sushrut619", "link": "https://stackoverflow.com/users/4781064/sushrut619"}, "is_accepted": false, "score": 0, "last_activity_date": 1475722421, "last_edit_date": 1475722421, "creation_date": 1475721537, "answer_id": 39886641, "question_id": 39883915, "link": "https://stackoverflow.com/questions/39883915/how-to-start-on-this-c-interview-code-test/39886641#39886641", "title": "How to start on this C interview code test?", "body": "<p>So to solve the problem we begin with units digit.</p>\n\n<ol>\n<li>We need 1 at units digit so make num  = 1.</li>\n<li>Now we have res as 111111111.</li>\n<li>Now we need 7 at tens digits. So we make num = (7 - 1(tens digit in step 2)) 1 = 61. (Also note that multiplying digit at tens place will only affect digts to left of it).</li>\n<li>Now we have res as 777777771.</li>\n<li>Now we need 1 at hundreds place. So if we make num = 461 (since 7+4 = 1)</li>\n<li>and so on.</li>\n</ol>\n\n<p>The mathematical reasoning I could think of is when you multiply a number by 111111111, digits at say tens place will only affect digits to left of it and not the digits to right of it.</p>\n"}], "owner": {"reputation": 1, "user_id": 6928787, "user_type": "registered", "profile_image": "https://graph.facebook.com/1535366476490109/picture?type=large", "display_name": "&#193;d&#225;m T&#243;saki", "link": "https://stackoverflow.com/users/6928787/%c3%81d%c3%a1m-t%c3%b3saki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 2, "score": -8, "last_activity_date": 1475751814, "creation_date": 1475702608, "last_edit_date": 1475751814, "question_id": 39883915, "link": "https://stackoverflow.com/questions/39883915/how-to-start-on-this-c-interview-code-test", "title": "How to start on this C interview code test?", "body": "<p>I got a really interesting question at a company, and I can't seem to find an answer at all.</p>\n\n<pre><code>#include &lt;cstdio&gt;\nint main()\n{\n    int num = 123456789;\n    int res = 0;\n    for (int i = 0; i&lt;111111111; i++)\n    {\n    res=(res+num)%1000000000;\n    }\n    printf(\"06 %09d\", res);\n    return 0;\n    }\n</code></pre>\n\n<p>I should declare num so the output is my mobile number, 305089171.\nAny idea how to do that?</p>\n"}, {"tags": ["c++", "c++98"], "comments": [{"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 2, "creation_date": 1475702268, "post_id": 39883808, "comment_id": 67054590, "body": "Because it&#39;s a temporary object."}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1475702460, "post_id": 39883808, "comment_id": 67054676, "body": "right ! but why this temporary object can&#39;t get passed to testfunc ? it&#39;s still has an address and it can be accessed ? right ? or do I miss something ?"}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1475702601, "post_id": 39883808, "comment_id": 67054735, "body": "@DavidSchwartz when this address get destroyed then ? I was assuming that at least the address is going to be passed to testfunc .. why not ?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1475702637, "post_id": 39883808, "comment_id": 67054754, "body": "@H.G Right, so what would happen to any changes <code>testfunc</code> made to it? Remember, <code>testfunc</code> takes a <i>non-const</i> reference. Fix <code>testfunc</code> to be const-correct."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1475703598, "post_id": 39883808, "comment_id": 67055163, "body": "In your second example you are accepting a const pointer not a const reference."}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "reply_to_user": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1475703750, "post_id": 39883808, "comment_id": 67055245, "body": "@Galik right I figured this out and it works now with testfunc(int * const &amp; i)"}], "answers": [{"comments": [{"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1475702665, "post_id": 39883888, "comment_id": 67054766, "body": "I can&#39;t control that .. testfunc is in a 3rd party lib"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 1, "creation_date": 1475702727, "post_id": 39883888, "comment_id": 67054795, "body": "@H.G Then you&#39;ll have to use some ugly hack with a copy of the temporary or a cast or something ugly like that. But understand that <code>testfunc</code> is broken."}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1475703461, "post_id": 39883888, "comment_id": 67055121, "body": "right ! ... testfunc(int * const &amp; i) worked fine .. unfortunate, I can&#39;t change this testfunc in my real code though .. but at least I see the problem now !"}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1475703647, "post_id": 39883888, "comment_id": 67055192, "body": "I tried it with my example and it runs fine ... do I expect random undefined behavior ?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 1, "creation_date": 1475703847, "post_id": 39883888, "comment_id": 67055282, "body": "@H.G In theory, yes. But in practice it will probably work just fine on every platform you&#39;re likely to encounter. You have a choice of horrible workarounds and, IMO, that&#39;s one of the most horrible ones."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "reply_to_user": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 0, "creation_date": 1475708679, "post_id": 39883888, "comment_id": 67056780, "body": "@H.G: C++ has overloading. Just write <code>void testfunc(int*&amp;&amp; x) {testfunc(x);}</code>"}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475710181, "post_id": 39883888, "comment_id": 67057142, "body": "@GManNickG works for c++11, but I&#39;m on c++98 ... any idea ?"}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "reply_to_user": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "edited": false, "score": 1, "creation_date": 1475710364, "post_id": 39883888, "comment_id": 67057174, "body": "@H.G: Update. :) But really, nope. Take the combination of the two and make it a new function: <code>void dothething() { int* x = getpointer(); testfunc(x); }</code>."}, {"owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475711039, "post_id": 39883888, "comment_id": 67057357, "body": "@GManNickG :) LOL that makes sense !"}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": true, "score": 5, "last_activity_date": 1475702480, "creation_date": 1475702480, "answer_id": 39883888, "question_id": 39883808, "link": "https://stackoverflow.com/questions/39883808/cant-pass-by-reference-a-pointer-returned-from-a-function/39883888#39883888", "title": "can&#39;t pass by reference a pointer returned from a function", "body": "<p>The C++ language prohibits binding a non-const reference to a temporary. In this case, the simple fix is to make <code>testfunc</code> take a const reference to an <code>int*</code>.</p>\n"}], "owner": {"reputation": 1438, "user_id": 3732337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5LzGs.jpg?s=128&g=1", "display_name": "HazemGomaa", "link": "https://stackoverflow.com/users/3732337/hazemgomaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 39883888, "answer_count": 1, "score": 1, "last_activity_date": 1477678944, "creation_date": 1475702198, "last_edit_date": 1477678944, "question_id": 39883808, "link": "https://stackoverflow.com/questions/39883808/cant-pass-by-reference-a-pointer-returned-from-a-function", "title": "can&#39;t pass by reference a pointer returned from a function", "body": "<p>why I need intermediate variable to pass my return pointer by reference instead of just using the function that returns that pointer ?</p>\n\n<p>This doesn't compile </p>\n\n<pre><code>int main ()\n{\n  testfunc(getpointer());\n  return 0;\n} \n</code></pre>\n\n<blockquote>\n  <p>error: C2664: 'void testfunc(int *&amp;)': cannot convert argument 1 from 'int *' to 'int *&amp;'</p>\n</blockquote>\n\n<p>and this compiles</p>\n\n<pre><code>int main ()\n{\n   int *i = getpointer();\n   testfunc(i);\n   return 0; \n} \n</code></pre>\n\n<p>my two functions</p>\n\n<pre><code>void testfunc(int *&amp; i) // I have to use this interface\n{\n  cout &lt;&lt; i[0] &lt;&lt;endl;\n}\n\nint* getpointer()\n{\n  int * arr1 = new int[1];\n  arr1[0]=10;\n  return arr1;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475701920, "post_id": 39883718, "comment_id": 67054452, "body": "What errors are you getting? What have you learned by running the code in a debugger?"}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 0, "creation_date": 1475701980, "post_id": 39883718, "comment_id": 67054483, "body": "&quot;all kinds of memory errors&quot; is too much generic. Specify it better"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475702014, "post_id": 39883718, "comment_id": 67054496, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475702462, "post_id": 39883831, "comment_id": 67054677, "body": "The constructor initializes <code>arr_len</code> to 1000."}, {"owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475702953, "post_id": 39883831, "comment_id": 67054894, "body": "Yes, in the <i>default</i> constructor, but not in the copy constructor. And it is ignored in <code>operator=</code>."}], "tags": [], "owner": {"reputation": 65820, "user_id": 1741542, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QdVqh.jpg?s=128&g=1", "display_name": "Olaf Dietsche", "link": "https://stackoverflow.com/users/1741542/olaf-dietsche"}, "is_accepted": false, "score": 0, "last_activity_date": 1475702261, "creation_date": 1475702261, "answer_id": 39883831, "question_id": 39883718, "link": "https://stackoverflow.com/questions/39883718/memory-allocation-errors-in-c-code/39883831#39883831", "title": "Memory allocation errors in C++ code", "body": "<p>You don't specify, what concrete errors you get. Although, most likely your problems come from ignoring the <code>arr_len</code> member. You copy <code>size_</code> and allocate memory properly, but you ignore <code>arr_len</code> when initializing or copying. This produces problems later on, when you access and compare the uninitialized <code>arr_len</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 6928730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c45128ae55c2ae4fa08965acd95d2e?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/6928730/j-doe"}, "edited": false, "score": 0, "creation_date": 1475722185, "post_id": 39883863, "comment_id": 67059929, "body": "Thank you, I will work on fixing those. However, could you also tell me what the specific error means? My compiler says the following: &quot;corrupted double- linked list: 0x0000....aba110&quot;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 6928730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c45128ae55c2ae4fa08965acd95d2e?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/6928730/j-doe"}, "edited": false, "score": 0, "creation_date": 1475769048, "post_id": 39883863, "comment_id": 67086512, "body": "Something in your program is causing undefined behavior and corrupting the heap memory. Maybe the problem OlafDietsche mentioned in his answer."}, {"owner": {"reputation": 17, "user_id": 6928730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c45128ae55c2ae4fa08965acd95d2e?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/6928730/j-doe"}, "edited": false, "score": 0, "creation_date": 1475770062, "post_id": 39883863, "comment_id": 67087123, "body": "Thank you SO much for your help. May I ask just one last question? What would be the most efficient way to implement the insert method in my program? Your suggestions have enabled my program to run successfully, however, I need to improve its efficiency. Thank you once again for the help!"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 17, "user_id": 6928730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c45128ae55c2ae4fa08965acd95d2e?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/6928730/j-doe"}, "edited": false, "score": 0, "creation_date": 1475770136, "post_id": 39883863, "comment_id": 67087182, "body": "Your <code>insert</code> method is reasonably efficient."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1475702386, "creation_date": 1475702386, "answer_id": 39883863, "question_id": 39883718, "link": "https://stackoverflow.com/questions/39883718/memory-allocation-errors-in-c-code/39883863#39883863", "title": "Memory allocation errors in C++ code", "body": "<p>The <code>insert()</code> function has a number of errors when it's growing the array.</p>\n\n<ol>\n<li>It doesn't update <code>arr_len</code> with the new length.</li>\n<li>It's reassigning <code>ptr_</code> with the new array before it has copied the values from the old array, and then it's copying the array to itself. You need to use a temporary variable for this.</li>\n<li>It never frees the old array.</li>\n</ol>\n\n<p>This fixes those problems:</p>\n\n<pre><code>void insert(signed char c) { \n    if (size_ &lt; arr_len) {\n        ptr_[size_++] = c;\n        std::sort(ptr_, ptr_ + size_);\n    }\n\n    else {\n        arr_len = arr_len*2;\n        signed char *ptr_new = new signed char[arr_len];\n        std::copy(ptr_, ptr_ + size_, ptr_new);\n        delete[] ptr_;\n        ptr_ = ptr_new;\n        ptr_[size_++] = c;\n        std::sort(ptr_, ptr_ + size_);\n    }\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 6928730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88c45128ae55c2ae4fa08965acd95d2e?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/6928730/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 39883863, "answer_count": 2, "score": 0, "last_activity_date": 1475702386, "creation_date": 1475701799, "last_edit_date": 1475701971, "question_id": 39883718, "link": "https://stackoverflow.com/questions/39883718/memory-allocation-errors-in-c-code", "title": "Memory allocation errors in C++ code", "body": "<p>I am getting all kinds of memory errors when testing the code in the header file. Please help me by letting me know what's wrong in the same. Thank you!</p>\n\n<p>The code in question is the one in the code block below. It has comments so its pretty self explanatory.</p>\n\n<p>Thank you very much for your help!!!</p>\n\n<pre><code>#include &lt;algorithm&gt;\n\nclass sorted_sc_array {\npublic:\n    sorted_sc_array() : size_(0), ptr_(nullptr), arr_len(1000) { \n        ptr_ = new signed char[arr_len];\n    }\n\n    ~sorted_sc_array() { delete[] ptr_; }\n\n    // IMPLEMENT ME (DONE!!!! SOME EDITS REQD)\n    sorted_sc_array(const sorted_sc_array&amp; A) {this-&gt;size_ = A.size_; this-&gt;ptr_ = A.ptr_; /* change this to match the definition of operator=() function */}\n\n    // IMPLEMENT  ME (DONE!!!!)\n    sorted_sc_array&amp; operator=(const sorted_sc_array&amp; A) {\n        if (this == &amp;A) return *this;\n        delete[] ptr_;\n        size_ = A.size_;\n        if (size_ == 0) ptr_ = nullptr;\n        else {\n            ptr_ = new signed char[size_];\n            std::copy(A.ptr_, A.ptr_ + size_, ptr_);\n        }\n        return *this;\n    }\n\n    // RETURNS SIZE OF THE ARRAY (i.e. HOW MANY ELEMENTS IT STORES)\n    int size() const { return size_; }\n\n    // RETURNS RAW POINTER TO THE ACTUAL DATA, CAN BE INVOKED AT ANY TIME\n    const signed char* data() const { return ptr_; }\n\n    // IMPLEMENT ME: AFTER INSERT COMPLETES THE ARRAY MUST BE IN ASCENDING ORDER (TBD!!!)\n    void insert(signed char c) { \n        if (size_ &lt; arr_len) {\n            ptr_[size_++] = c;\n            std::sort(ptr_, ptr_ + size_);\n        }\n\n        else {\n            int arr_len_new = arr_len*2;\n            ptr_ = new signed char[arr_len_new];\n            std::copy(ptr_, ptr_ + size_, ptr_);\n\n            ptr_[size_++] = c;\n            std::sort(ptr_, ptr_ + size_);\n        }\n\n        // maybe use std::sort (myvector.begin(), myvector.end());\n        // if inefficient, use binary insertion\n    }\n\nprivate:\n    int size_;         // size of the array\n    signed char* ptr_; // pointer to the array\n    unsigned int arr_len; // dynamic mem alloc for array    \n}; // class sorted_sc_array\n</code></pre>\n"}, {"tags": ["c++", "function", "struct", "parameters"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 3, "creation_date": 1475701307, "post_id": 39883561, "comment_id": 67054188, "body": "Passing <code>MonsterStats</code> once should be sufficient. I don&#39;t get your concerns? Its completely unclear what you&#39;re actually asking about."}, {"owner": {"reputation": 133, "user_id": 2475059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82381d25ed4f78e8b1493d3016e4397?s=128&d=identicon&r=PG", "display_name": "user2475059", "link": "https://stackoverflow.com/users/2475059/user2475059"}, "edited": false, "score": 0, "creation_date": 1475701615, "post_id": 39883561, "comment_id": 67054340, "body": "If I was doing this, I&#39;d probably pass an array of <code>MonsterStats</code>, sort the array by &quot;level&quot;, increment through the array until I hit a monster with a higher level than the PC, then use the previous monster to pull data / strings from. Or something like."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1475701695, "post_id": 39883561, "comment_id": 67054364, "body": "I think you&#39;re using the word &quot;members&quot; in a confusing way. In C/C++, members are the fields in a struct or class, such as <code>type</code>, <code>name</code>, <code>health</code>, and <code>level</code> in the <code>MonsterStats</code> struct."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 133, "user_id": 2475059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82381d25ed4f78e8b1493d3016e4397?s=128&d=identicon&r=PG", "display_name": "user2475059", "link": "https://stackoverflow.com/users/2475059/user2475059"}, "edited": false, "score": 0, "creation_date": 1475701733, "post_id": 39883561, "comment_id": 67054380, "body": "@user2475059 It&#39;s C++, so I&#39;d use a <code>std::vector&lt;MonsterStats&gt;</code>."}, {"owner": {"reputation": 133, "user_id": 2475059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82381d25ed4f78e8b1493d3016e4397?s=128&d=identicon&r=PG", "display_name": "user2475059", "link": "https://stackoverflow.com/users/2475059/user2475059"}, "edited": false, "score": 0, "creation_date": 1475701764, "post_id": 39883561, "comment_id": 67054386, "body": "Re-reading, I&#39;d probably not pass it as an array; instead I would basically do the array process as I said, then pass the single <code>MonsterStats</code> that I&#39;d selected for printing."}, {"owner": {"reputation": 133, "user_id": 2475059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82381d25ed4f78e8b1493d3016e4397?s=128&d=identicon&r=PG", "display_name": "user2475059", "link": "https://stackoverflow.com/users/2475059/user2475059"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475702123, "post_id": 39883561, "comment_id": 67054536, "body": "@Barmar same difference; it&#39;s not something that really needs to be focused on here, since it&#39;s clear they need to grasp passing / using / designing a program with containers first, before they get into the finer points of container selection."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6928654, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211004464693906/picture?type=large", "display_name": "ReznoV", "link": "https://stackoverflow.com/users/6928654/reznov"}, "edited": false, "score": 0, "creation_date": 1475751628, "post_id": 39884231, "comment_id": 67074083, "body": "Okay that seems clear! Thanks alot for the quick response, I will wait patiently for me to pass Ch5 to improve on my progam then. PS: does this thread mark as solved automaticly after x-amount of days? Or do I click something in here?"}], "tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": true, "score": 2, "last_activity_date": 1475703985, "creation_date": 1475703985, "answer_id": 39884231, "question_id": 39883561, "link": "https://stackoverflow.com/questions/39883561/passing-struct-to-function-without-typing-every-member-c-no-pointers/39884231#39884231", "title": "Passing struct to function without typing every member (C++ no pointers)", "body": "<p>What you tend to call \"members\" (e.g. <code>ogre</code>, <code>spider</code>, etc...)  are in fact instances of the <code>MonsterStats</code> structure.  So variables. </p>\n\n<p>In C++, the \"members\" are the variables or functions that are in the structure (e.g.<code>name</code>, <code>health</code>, <code>level</code>, etc...).  </p>\n\n<p>Of course, using many instances like in your snippet, and retype a lot of time the same things would be a nightmare. Fortunately, in chapter 5 you'll see the loops and in chapter 6 you'll learn about arrays and vectors to handle a bundle of instances.  </p>\n\n<p>This would look like:      </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct MonsterStats\n{\n   ...\n};\n...\nint main()\n{\n    using namespace std;\n\n    vector&lt;MonsterStats&gt; monsters { \n                            {\"Ogre\",\"Grumble\",345, 16}, \n                            {\"Dragon\",\"Spyro\", 890, 21}, \n                            {\"Orc\",\"Rakanishu\", 165, 11}, \n                            {\"Giant Spider\", \"Arachnid\", 80, 6}, \n                            {\"Slime\", \"Blurp\", 35, 1} }; \n\n    ... \n    printMonster(monsters, charlevel); \n    ...\n}\n</code></pre>\n\n<p>And you would then access to the <code>i</code>-th item with <code>monsters[i]</code>.  </p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 6928654, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211004464693906/picture?type=large", "display_name": "ReznoV", "link": "https://stackoverflow.com/users/6928654/reznov"}, "edited": false, "score": 0, "creation_date": 1475751950, "post_id": 39885002, "comment_id": 67074304, "body": "Thanks alot for the answer and I will definately look into it in the future! However, I do not quite understand what you did in void printMonster there yet for it is way out of scope of what I&#39;ve learnt so far. None the less thanks for the quick reply :)"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 37, "user_id": 6928654, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211004464693906/picture?type=large", "display_name": "ReznoV", "link": "https://stackoverflow.com/users/6928654/reznov"}, "edited": false, "score": 0, "creation_date": 1475760676, "post_id": 39885002, "comment_id": 67080395, "body": "My pleasure. I&#39;m also still learning and I was trying different ways to do the same thing and so I thought I would share anyway. :)"}], "tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1475708657, "creation_date": 1475708657, "answer_id": 39885002, "question_id": 39883561, "link": "https://stackoverflow.com/questions/39883561/passing-struct-to-function-without-typing-every-member-c-no-pointers/39885002#39885002", "title": "Passing struct to function without typing every member (C++ no pointers)", "body": "<p>Once you start using a standard library container you could make use of the standard library to sort and search:</p>\n\n<pre><code>void printMonster(std::vector&lt;MonsterStats&gt;&amp; monsters, int charLevel)\n{\n    MonsterStats mystats{\"\",\"\",0,charLevel};\n    auto comp = [](const auto&amp; i, const auto&amp; j) {return i.level &lt;= j.level; };\n    std::sort(monsters.begin(), monsters.end(), comp);\n    auto monster_iterator = std::lower_bound(monsters.begin(), monsters.end(), mystats, comp);\n    auto monster = *(monster_iterator - 1);\n    std::cout &lt;&lt; \"You have level \" &lt;&lt; charLevel &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"This \" &lt;&lt; monster.type &lt;&lt; \" is named \" &lt;&lt; monster.name &lt;&lt; \" and has \" &lt;&lt; monster.health &lt;&lt; \" health.\\n\";\n}\n</code></pre>\n\n<p>Here is the <a href=\"http://coliru.stacked-crooked.com/a/032505fee51e58f7\" rel=\"nofollow\">full program</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\nstruct MonsterStats\n{\n    std::string type;\n    std::string name;\n    int health;\n    int level;\n};\n\nvoid printMonster(std::vector&lt;MonsterStats&gt;&amp; monsters, int charLevel)\n{\n    MonsterStats mystats{\"\",\"\",0,charLevel};\n    auto comp = [](const auto&amp; i, const auto&amp; j) {return i.level &lt;= j.level; };\n    std::sort(monsters.begin(), monsters.end(), comp);\n    auto monster_iterator = std::lower_bound(monsters.begin(), monsters.end(), mystats, comp);\n    auto monster = *(monster_iterator - 1);\n    std::cout &lt;&lt; \"You have level \" &lt;&lt; charLevel &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"This \" &lt;&lt; monster.type &lt;&lt; \" is named \" &lt;&lt; monster.name &lt;&lt; \" and has \" &lt;&lt; monster.health &lt;&lt; \" health.\\n\";\n}\n\nint main()\n{\n    std::vector&lt;MonsterStats&gt; monsters{\n        {\"Ogre\",\"Grumble\",345, 16},            //Type, Name, Health, Level\n        {\"Dragon\",\"Spyro\", 890, 21},           //Type, Name, Health, Level\n        {\"Orc\",\"Rakanishu\", 165, 11},          //Type, Name, Health, Level\n        {\"Giant Spider\", \"Arachnid\", 80, 6},   //Type, Name, Health, Level\n        {\"Slime\", \"Blurp\", 35, 1}};            //Type, Name, Health, Level\n\n    std::string getChoice = \"y\";\n    int charLevel;\n    std::cout &lt;&lt; \"Please enter the level of your character to proceed to battle: \";\n    std::cin &gt;&gt; charLevel;\n    if(charLevel&gt;0)\n    {\n        while(getChoice == \"y\")\n        {\n            printMonster(monsters, charLevel);\n\n            std::cout &lt;&lt; \"Do you want to fight the monster? (y/n)\";\n            std::cin &gt;&gt; getChoice;\n            if(getChoice == \"y\")\n            {\n                std::cout &lt;&lt; \"You destroyed the monster and gained an experience level!\\n\\n\";\n                charLevel += 1;\n            }\n            else\n                std::cout &lt;&lt; \"You ran like Forest Gump and got out of the fight safely!\\n\\n\";\n        }\n    }\n    else\n        std::cout &lt;&lt; \"Please create a character in order to play the game.\";\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1475771219, "last_edit_date": 1475771219, "creation_date": 1475760419, "answer_id": 39897334, "question_id": 39883561, "link": "https://stackoverflow.com/questions/39883561/passing-struct-to-function-without-typing-every-member-c-no-pointers/39897334#39897334", "title": "Passing struct to function without typing every member (C++ no pointers)", "body": "<p>A cleaner program might be with a <a href=\"http://en.cppreference.com/w/cpp/container/multiset\" rel=\"nofollow\">multiset</a> (sorted container) using a custom comparator.</p>\n\n<p>The comparator could have this form:</p>\n\n<pre><code>struct myComp {\n    bool operator()(const MonsterStats&amp; i, const MonsterStats&amp; j) {\n        return i.level &lt; j.level;\n    }\n};\n</code></pre>\n\n<p>And the multiset could use it:</p>\n\n<pre><code>using myMultiset = std::multiset&lt;MonsterStats, myComp&gt;;\n</code></pre>\n\n<p>Then, searching can be simpler as the set is already sorted:</p>\n\n<pre><code>auto&amp; monster = *--monsters.upper_bound(mystats);\n</code></pre>\n\n<p>Printing could use the <code>&lt;&lt;</code> operator:</p>\n\n<pre><code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MonsterStats&amp; monster)\n{\n     std::cout \n         &lt;&lt; \"Monster has level: \" &lt;&lt; monster.level &lt;&lt; '\\n' \n         &lt;&lt; \"This \" &lt;&lt; monster.type &lt;&lt; \" is named \" &lt;&lt; monster.name &lt;&lt; \" and has \" &lt;&lt; monster.health &lt;&lt; \" health.\\n\";\n     return os;\n}\n</code></pre>\n\n<p>Full program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;set&gt;\n\nstruct MonsterStats\n{\n    std::string type;\n    std::string name;\n    int health;\n    int level;\n};\n\nstruct myComp {\n    bool operator()(const MonsterStats&amp; i, const MonsterStats&amp; j) {\n        return i.level &lt; j.level;\n    }\n};\n\nusing myMultiset = std::multiset&lt;MonsterStats, myComp&gt;;\n\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MonsterStats&amp; monster)\n{\n     std::cout \n         &lt;&lt; \"Monster has level: \" &lt;&lt; monster.level &lt;&lt; '\\n' \n         &lt;&lt; \"This \" &lt;&lt; monster.type &lt;&lt; \" is named \" &lt;&lt; monster.name &lt;&lt; \" and has \" &lt;&lt; monster.health &lt;&lt; \" health.\\n\";\n     return os;\n}\n\nint main()\n{\n    myMultiset monsters{\n        {{\"Ogre\",\"Grumble\",345, 16},            //Type, Name, Health, Level\n        {\"Dragon\",\"Spyro\", 890, 21},           //Type, Name, Health, Level\n        {\"Orc\",\"Rakanishu\", 165, 11},          //Type, Name, Health, Level\n        {\"Giant Spider\", \"Arachnid\", 80, 6},   //Type, Name, Health, Level\n        {\"Slime\", \"Blurp\", 35, 1}}};            //Type, Name, Health, Level\n\n    std::string getChoice = \"y\";\n    std::cout &lt;&lt; \"Please enter the level of your character to proceed to battle: \";\n    MonsterStats mystats{};\n    std::cin &gt;&gt; mystats.level;\n    if(mystats.level&gt;0)\n    {\n        while(getChoice == \"y\")\n        {\n            auto&amp; monster = *--monsters.upper_bound(mystats);\n            std::cout \n                &lt;&lt; \"You have level \" &lt;&lt; mystats.level &lt;&lt; '\\n' \n                &lt;&lt; monster\n                &lt;&lt; \"Do you want to fight the monster? (y/n)\";\n            std::cin &gt;&gt; getChoice;\n            if(getChoice == \"y\")\n            {\n                std::cout &lt;&lt; \"You destroyed the monster and gained an experience level!\\n\\n\";\n                ++mystats.level;\n            }\n            else\n                std::cout &lt;&lt; \"You ran like Forest Gump and got out of the fight safely!\\n\\n\";\n        }\n    }\n    else\n        std::cout &lt;&lt; \"Please create a character in order to play the game.\";\n    return 0;\n}\n</code></pre>\n\n<p>Or, if you include the <code>operator&lt;</code> in the struct then you can simplify even further:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;set&gt;\n\nstruct MonsterStats\n{\n    std::string type;\n    std::string name;\n    int health;\n    int level;\n\n    bool operator&lt;(const MonsterStats&amp; rhs) const {\n        return level &lt; rhs.level;\n    }\n};\n\nusing myMultiset = std::multiset&lt;MonsterStats&gt;;\n\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, const MonsterStats&amp; monster)\n{\n    std::cout\n        &lt;&lt; \"Monster has level: \" &lt;&lt; monster.level &lt;&lt; '\\n'\n        &lt;&lt; \"This \" &lt;&lt; monster.type &lt;&lt; \" is named \" &lt;&lt; monster.name &lt;&lt; \" and has \" &lt;&lt; monster.health &lt;&lt; \" health.\\n\";\n    return os;\n}\n\nint main()\n{\n    myMultiset monsters{\n        {{\"Ogre\",\"Grumble\",345, 16},            //Type, Name, Health, Level\n        {\"Dragon\",\"Spyro\", 890, 21},           //Type, Name, Health, Level\n        {\"Orc\",\"Rakanishu\", 165, 11},          //Type, Name, Health, Level\n        {\"Giant Spider\", \"Arachnid\", 80, 6},   //Type, Name, Health, Level\n        {\"Slime\", \"Blurp\", 35, 1}}};            //Type, Name, Health, Level\n\n    std::string getChoice = \"y\";\n    std::cout &lt;&lt; \"Please enter the level of your character to proceed to battle: \";\n    MonsterStats mystats{};\n    std::cin &gt;&gt; mystats.level;\n    if(mystats.level&gt;0)\n    {\n        while(getChoice == \"y\")\n        {\n            auto&amp; monster = *--monsters.upper_bound(mystats);\n            std::cout\n                &lt;&lt; \"You have level \" &lt;&lt; mystats.level &lt;&lt; '\\n'\n                &lt;&lt; monster\n                &lt;&lt; \"Do you want to fight the monster? (y/n)\";\n            std::cin &gt;&gt; getChoice;\n            if(getChoice == \"y\")\n            {\n                std::cout &lt;&lt; \"You destroyed the monster and gained an experience level!\\n\\n\";\n                ++mystats.level;\n            }\n            else\n                std::cout &lt;&lt; \"You ran like Forest Gump and got out of the fight safely!\\n\\n\";\n        }\n    }\n    else\n        std::cout &lt;&lt; \"Please create a character in order to play the game.\";\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6928654, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211004464693906/picture?type=large", "display_name": "ReznoV", "link": "https://stackoverflow.com/users/6928654/reznov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 39884231, "answer_count": 3, "score": 2, "last_activity_date": 1475771219, "creation_date": 1475701167, "last_edit_date": 1475726186, "question_id": 39883561, "link": "https://stackoverflow.com/questions/39883561/passing-struct-to-function-without-typing-every-member-c-no-pointers", "title": "Passing struct to function without typing every member (C++ no pointers)", "body": "<p>So I think more of the inexperienced programmers will be roaming around with this question. I can pass a struct to a function successfully like the snippet below:</p>\n\n<pre><code>void printMonster(MonsterStats slime, MonsterStats spider, MonsterStats orc, MonsterStats ogre, MonsterStats dragon, int charLevel)\n</code></pre>\n\n<p>However you could imagine if the struct MonsterStats had 120 members which all needed to be passed to printMonster my code will become absolute spaghetti!<br>\nSo the question is, how can I pass this struct into my function without typing every single member into the function parameter?</p>\n\n<p>For inquiries about how much I \"should\" know about c++ at this point, I have arrived at the <a href=\"http://www.learncpp.com/cpp-tutorial/4-x-chapter-4-comprehensive-quiz/\" rel=\"nofollow\">learncpp.com chapter 4 comprehensive quiz</a>. I went a little out of scope of the assignment but I've done nothing I shouldn't be able to do by now.</p>\n\n<p>full below (working but lengthy):</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n\nstruct MonsterStats\n{\n    std::string type;\n    std::string name;\n    int health;\n    int level;\n};\n\n\n\nvoid printMonster(MonsterStats slime, MonsterStats spider, MonsterStats orc, MonsterStats ogre, MonsterStats dragon, int charLevel)\n{\n\n    if(charLevel&gt;=slime.level&amp;&amp;charLevel&lt;spider.level)\n        std::cout &lt;&lt; \"This \" &lt;&lt; slime.type &lt;&lt; \" is named \" &lt;&lt; slime.name &lt;&lt; \" and has \" &lt;&lt; slime.health &lt;&lt; \" health.\\n\";\n    else if(charLevel&gt;=spider.level&amp;&amp;charLevel&lt;orc.level)\n        std::cout &lt;&lt; \"This \" &lt;&lt; spider.type &lt;&lt; \" is named \" &lt;&lt; spider.name &lt;&lt; \" and has \" &lt;&lt; spider.health &lt;&lt; \" health.\\n\";\n    else if(charLevel&gt;=orc.level&amp;&amp;charLevel&lt;ogre.level)\n        std::cout &lt;&lt; \"This \" &lt;&lt; orc.type &lt;&lt; \" is named \" &lt;&lt; orc.name &lt;&lt; \" and has \" &lt;&lt; orc.health &lt;&lt; \" health.\\n\";\n    else if(charLevel&gt;=ogre.level&amp;&amp;charLevel&lt;dragon.level)\n        std::cout &lt;&lt; \"This \" &lt;&lt; ogre.type &lt;&lt; \" is named \" &lt;&lt; ogre.name &lt;&lt; \" and has \" &lt;&lt; ogre.health &lt;&lt; \" health.\\n\";\n    else if(charLevel&gt;=dragon.level)\n        std::cout &lt;&lt; \"This \" &lt;&lt; dragon.type &lt;&lt; \" is named \" &lt;&lt; dragon.name &lt;&lt; \" and has \" &lt;&lt; dragon.health &lt;&lt; \" health.\\n\";\n}\n\nint main()\n{\n    using namespace std;\n\n    MonsterStats ogre{\"Ogre\",\"Grumble\",345, 16};            //Type, Name, Health, Level\n    MonsterStats dragon{\"Dragon\",\"Spyro\", 890, 21};         //Type, Name, Health, Level\n    MonsterStats orc{\"Orc\",\"Rakanishu\", 165, 11};           //Type, Name, Health, Level\n    MonsterStats spider{\"Giant Spider\", \"Arachnid\", 80, 6}; //Type, Name, Health, Level\n    MonsterStats slime{\"Slime\", \"Blurp\", 35, 1};            //Type, Name, Health, Level\n\n    std::string getChoice=\"y\";\n    int charLevel;\n    cout &lt;&lt; \"Please enter the level of your character to proceed to battle: \";\n    cin &gt;&gt; charLevel;\n    if(charLevel&gt;0)\n    {\n        while(getChoice==\"y\")\n        {\n            printMonster(slime, spider, orc, ogre, dragon, charLevel);\n\n            cout &lt;&lt; \"Do you want to fight the monster? (y/n)\";\n            cin &gt;&gt; getChoice;\n            if(getChoice==\"y\")\n            {\n                cout &lt;&lt; \"You destroyed the monster and gained an experience level!\\n\\n\";\n                charLevel+=1;\n            }\n            else\n                cout &lt;&lt; \"You ran like Forest Gump and got out of the fight safely!\\n\\n\";\n        }\n    }\n    else\n        cout &lt;&lt; \"Please create a character in order to play the game.\";\n    return 0;\n}\n</code></pre>\n\n<p>Thanks in advance for the answers :)</p>\n"}, {"tags": ["c++", "qt", "qpixmap", "qlabel"], "comments": [{"owner": {"reputation": 3705, "user_id": 2531178, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/93522fe839d5fa749adabca6086303b2?s=128&d=identicon&r=PG", "display_name": "Sebastian Lange", "link": "https://stackoverflow.com/users/2531178/sebastian-lange"}, "edited": false, "score": 0, "creation_date": 1475743746, "post_id": 39883445, "comment_id": 67068946, "body": "Omit <code>-name</code> and set .qrc to the end. <code>-name</code> does not name your input file but the name of the function to be generated. Otherwise just append a <code>.qrc</code> as input file."}], "answers": [{"tags": [], "owner": {"reputation": 5486, "user_id": 4763963, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9de2F.jpg?s=128&g=1", "display_name": "Mo Abdul-Hameed", "link": "https://stackoverflow.com/users/4763963/mo-abdul-hameed"}, "is_accepted": false, "score": 0, "last_activity_date": 1475703817, "creation_date": 1475703817, "answer_id": 39884206, "question_id": 39883445, "link": "https://stackoverflow.com/questions/39883445/qt-unable-to-detect-input-files-while-displaying-image-to-qlabel/39884206#39884206", "title": "QT unable to detect input files while displaying image to qLabel", "body": "<p>It may be because you are using <code>&lt;qresource prefix=\"/\"&gt;</code> so that you'll need to add an extra <code>/</code> to your resource path: <code>QPixmap(\"://back.png\");</code>  </p>\n\n<p>Note: You can make use of Qt Creator and go to your resources from the files hierarchy on the left and right-click on the resource you want then choose to copy resource path, which is a path you can use.</p>\n"}], "owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475703817, "creation_date": 1475700745, "question_id": 39883445, "link": "https://stackoverflow.com/questions/39883445/qt-unable-to-detect-input-files-while-displaying-image-to-qlabel", "title": "QT unable to detect input files while displaying image to qLabel", "body": "<p>While attempting to display an image resource from my <code>.qrc</code> file with usage \":/logo-here\", I keep getting an error saying </p>\n\n<pre><code>No input files specified.\n</code></pre>\n\n<p>Here is the compiler error segment</p>\n\n<pre><code>/opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc -name  ../VPN/.qrc -o qrc_.cpp\n/opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc: No input files specified.\nUsage: /opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc [options] inputs\n</code></pre>\n\n<p>My <code>.qrc</code> file</p>\n\n<pre><code>&lt;RCC&gt;\n    &lt;qresource prefix=\"/\"&gt;\n        &lt;file alias=\"logo\"&gt;back.png&lt;/file&gt;\n    &lt;/qresource&gt;\n&lt;/RCC&gt;\n</code></pre>\n\n<p>I am able to open the image from the qt resource manager, thus qt does have the correct path, but somehow I am missing something...</p>\n\n<p>Any advice?</p>\n\n<p><strong>Extra Info:</strong></p>\n\n<p><strong>mainwindow.h</strong></p>\n\n<pre><code>#ifndef MAINWINDOW_H\n#define MAINWINDOW_H\n\n#include &lt;QMainWindow&gt;\n#include &lt;QtCore&gt;\n#include &lt;QtGui&gt;\n#include &lt;QtWidgets&gt;\n\nnamespace Ui {\nclass MainWindow;\n}\n\nclass MainWindow : public QMainWindow\n{\n    Q_OBJECT\n\npublic:\n    explicit MainWindow(QWidget *parent = 0);\n    ~MainWindow();\n\nprivate:\n    Ui::MainWindow *ui;\n    //QGraphicsView *view;\n    //QGraphicsScene *scene;\n};\n\n#endif // MAINWINDOW_H\n</code></pre>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n    ui-&gt;setupUi(this);\n    QPixmap pixmapTarget = QPixmap(\":/back.png\");\n    //QPixmap pixmapTarget = QPixmap(\":/logo\");\n    ui-&gt;label-&gt;setPixmap(pixmapTarget );\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>Full compiler output</strong></p>\n\n<pre><code>22:42:44: Running steps for project VPN...\n22:42:44: Configuration unchanged, skipping qmake step.\n22:42:44: Starting: \"/usr/bin/make\" \ng++ -c -pipe -g -std=gnu++11 -Wall -W -D_REENTRANT -fPIC -DQT_QML_DEBUG -DQT_WIDGETS_LIB -DQT_GUI_LIB -DQT_CORE_LIB -I../VPN -I. -I/opt/qt/Qt5.7.0/5.7/gcc_64/include -I/opt/qt/Qt5.7.0/5.7/gcc_64/include/QtWidgets -I/opt/qt/Qt5.7.0/5.7/gcc_64/include/QtGui -I/opt/qt/Qt5.7.0/5.7/gcc_64/include/QtCore -I. -I. -I/opt/qt/Qt5.7.0/5.7/gcc_64/mkspecs/linux-g++ -o mainwindow.o ../VPN/mainwindow.cpp\n/opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc -name  ../VPN/.qrc -o qrc_.cpp\n/opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc: No input files specified.\nUsage: /opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc [options] inputs\nQt Resource Compiler version 5.7.0\n\nOptions:\n  -h, --help           Displays this help.\n  -v, --version        Displays version information.\n  -o, --output &lt;file&gt;  Write output to &lt;file&gt; rather than stdout.\n  -t, --temp &lt;file&gt;    Use temporary &lt;file&gt; for big resources.\n  --name &lt;name&gt;        Create an external initialization function with &lt;name&gt;.\n  --root &lt;path&gt;        Prefix resource access path with root path.\n  --compress &lt;level&gt;   Compress input files by &lt;level&gt;.\n  --no-compress        Disable all compression.\n  --threshold &lt;level&gt;  Threshold to consider compressing files.\n  --binary             Output a binary file for use as a dynamic resource.\n  --pass &lt;number&gt;      Pass number for big resources\n  --namespace          Turn off namespace macros.\n  --verbose            Enable verbose mode.\n  --list               Only list .qrc file entries, do not generate code.\n  --project            Output a resource file containing all files from the\n                       current directory.\n\nArguments:\n  inputs               Input files (*.qrc).\nMakefile:589: recipe for target 'qrc_.cpp' failed\nmake: *** [qrc_.cpp] Error 1\n22:42:48: The process \"/usr/bin/make\" exited with code 2.\nError while building/deploying project VPN (kit: Desktop Qt 5.7.0 GCC 64bit)\nWhen executing step \"Make\"\n22:42:48: Elapsed time: 00:03.\n</code></pre>\n"}, {"tags": ["c++", "argv", "argc"], "comments": [{"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1475700915, "post_id": 39883433, "comment_id": 67054029, "body": "you create?? no! you can pass arguments to your program through argv. argc is the number of parameters passed in. argv can hold anything values, paths..."}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "reply_to_user": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1475701361, "post_id": 39883433, "comment_id": 67054214, "body": "@Raindrop7, sometimes you have to create argc and argv inside of a programm. For example if you want to use boost unit test, you will eventually call main. And on android (if you want to run tests on device) you have to call it yourself and you have to form arguments for it."}], "answers": [{"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1475701018, "post_id": 39883482, "comment_id": 67054076, "body": "Conversion from <code>const char *</code> to <code>char *</code> is illegal in c++"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1475701090, "post_id": 39883482, "comment_id": 67054109, "body": "segfault! no allocation for argv"}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1475701323, "post_id": 39883482, "comment_id": 67054200, "body": "@Slava No, it&#39;s not. The conversion, if made explicit by a cast, is valid in all versions of C++. Until C++11, the conversion could also be performed implicitly, but only for string literals (which this answer has). Only attempts to modify the pointed-to string are invalid."}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "reply_to_user": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 1, "creation_date": 1475701462, "post_id": 39883482, "comment_id": 67054271, "body": "@Raindrop7 argv is an array of pointers. Array is on stack, no allocation needed. Pointers are pointers to constants located in data section. No allocation needed either."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "reply_to_user": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "edited": false, "score": 0, "creation_date": 1475702605, "post_id": 39883482, "comment_id": 67054740, "body": "@AlexeyGuseynov yes you can pass arguments to another functions even main for example in winmain returns a call to main passing to it argc and argv."}, {"owner": {"reputation": 843, "user_id": 952263, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b90cf9b86b0da4d4a13a7b2aeac56292?s=128&d=identicon&r=PG", "display_name": "etam1024", "link": "https://stackoverflow.com/users/952263/etam1024"}, "edited": false, "score": 0, "creation_date": 1575379659, "post_id": 39883482, "comment_id": 104540511, "body": "&quot;Attempting to modify a string literal results in undefined behavior: they may be stored in read-only storage (such as .rodata) or combined with other string literals&quot; <a href=\"https://en.cppreference.com/w/cpp/language/string_literal\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/string_literal</a>"}], "tags": [], "owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "is_accepted": false, "score": 3, "last_activity_date": 1475706849, "last_edit_date": 1475706849, "creation_date": 1475700888, "answer_id": 39883482, "question_id": 39883433, "link": "https://stackoverflow.com/questions/39883433/create-argc-argv-in-the-code/39883482#39883482", "title": "create argc argv in the code", "body": "<p>Assuming you want argc and argv in the same format that are passed to <code>main</code>, you can call it like this:</p>\n\n<pre><code>foo f;\nchar *args[] = {\n    (char*)\"--dir\",\n    (char*)\"/some_path/\",\n    NULL\n};\nf.bar(2, args);\n</code></pre>\n\n<p>(note: this assumes <code>bar</code> won't modify the argument strings - in which case you should change the argument type to <code>const char **</code> instead of <code>char **</code>)</p>\n"}, {"comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1475704950, "post_id": 39883532, "comment_id": 67055675, "body": "implicit conversion from <code>const char *</code> to <code>char *</code> again."}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "reply_to_user": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1475737675, "post_id": 39883532, "comment_id": 67065337, "body": "I&#39;ve made conversion explicit and added notice about UB."}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1475761194, "post_id": 39883532, "comment_id": 67080748, "body": "For c++11 you can use lvalue reference and <code>&amp;arg[0]</code> without any cast. Anyway I would prefer <code>const_cast&lt;&gt;</code> rather than C-style cast."}, {"owner": {"reputation": 2432, "user_id": 1433373, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c63d8742ad719cabbdf7bfa32be0bd17?s=128&d=identicon&r=PG", "display_name": "Ivan Kush", "link": "https://stackoverflow.com/users/1433373/ivan-kush"}, "edited": false, "score": 1, "creation_date": 1499180678, "post_id": 39883532, "comment_id": 76795035, "body": "you have a typo in <code>for (const auto&amp; arg : arguemnts)</code> should be <code>arguments</code>"}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "edited": false, "score": 0, "creation_date": 1499182327, "post_id": 39883532, "comment_id": 76796030, "body": "Thank you, Ivan. I&#39;ve fixed the typo."}, {"owner": {"reputation": 3908, "user_id": 1398841, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/s8gQQ.png?s=128&g=1", "display_name": "phoenix", "link": "https://stackoverflow.com/users/1398841/phoenix"}, "edited": false, "score": 0, "creation_date": 1501011284, "post_id": 39883532, "comment_id": 77586504, "body": "Ensure that <code>argv</code> doesn&#39;t outlive <code>arguments</code> or you will have a use-after-free bug."}, {"owner": {"reputation": 1086, "user_id": 279251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d63c5bfcbe2ee9d39290c1cf3470714?s=128&d=identicon&r=PG", "display_name": "klaus triendl", "link": "https://stackoverflow.com/users/279251/klaus-triendl"}, "edited": false, "score": 0, "creation_date": 1509463343, "post_id": 39883532, "comment_id": 81024332, "body": "Instead of const-casting you can simply use the non-const version of <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/data\" rel=\"nofollow noreferrer\"><code>std::string::data()</code></a> since C++17"}], "tags": [], "owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "is_accepted": true, "score": 16, "last_activity_date": 1499182284, "last_edit_date": 1499182284, "creation_date": 1475701068, "answer_id": 39883532, "question_id": 39883433, "link": "https://stackoverflow.com/questions/39883433/create-argc-argv-in-the-code/39883532#39883532", "title": "create argc argv in the code", "body": "<p>My favourite way is like this:</p>\n\n<pre><code>std::vector&lt;std::string&gt; arguments = {\"--dir\", \"/some_path\"};\n\nstd::vector&lt;char*&gt; argv;\nfor (const auto&amp; arg : arguments)\n    argv.push_back((char*)arg.data());\nargv.push_back(nullptr);\n\nf.bar(argv.size() - 1, argv.data());\n</code></pre>\n\n<p>Note, that if arguments are static and do not change, then this is a little bit overkill. But this approach has advantage of being RAII compliant. It manages memory for you and deletes objects at right moment. So if argument list is dynamic, then it is the cleanest way.</p>\n\n<p>Beside that, this code technically is UB if <code>f.bar</code> modifies data in argv array. Usually this is not the case.</p>\n"}, {"tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1475702266, "creation_date": 1475702266, "answer_id": 39883835, "question_id": 39883433, "link": "https://stackoverflow.com/questions/39883433/create-argc-argv-in-the-code/39883835#39883835", "title": "create argc argv in the code", "body": "<p>use class string is too much powerful:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass foo\n{\n    public:\n        void bar(int argc, std::string* argv);\n};\n\nvoid foo::bar(int argc, std::string* argv)\n{\n    //do somwthing\n    for(int i(0); i &lt; argc; i++)\n        std::cout &lt;&lt; \"argv[\" &lt;&lt; i &lt;&lt; \"]: \" &lt;&lt; argv[i] &lt;&lt; std::endl;\n}\n\n\nint main()\n{\n\n\n    int argc;\n    std::cout &lt;&lt; \"Enter number of parameters: \";\n    std::cin &gt;&gt; argc;\n    std::cout &lt;&lt; std::endl;\n    std::cin.ignore(1, '\\n');\n\n    std::string* sArgv = new std::string[argc];\n\n    for(int i(0); i &lt; argc; i++)\n    {\n        std::cout &lt;&lt; \"argv[\" &lt;&lt; i &lt;&lt; \"]: \";\n        std::getline(std::cin, sArgv[i]);\n        std::cout &lt;&lt; std::endl;\n        std::cin.ignore(1, '\\n');\n    }\n\n\n    foo theFoo;\n    theFoo.bar(argc, sArgv);\n\n    delete[] sArgv;\n    sArgv = NULL;\n\n    std::cout &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 6621840, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7b9rh.jpg?s=128&g=1", "display_name": "KKsan", "link": "https://stackoverflow.com/users/6621840/kksan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9294, "favorite_count": 2, "closed_date": 1475701645, "accepted_answer_id": 39883532, "answer_count": 3, "score": 6, "last_activity_date": 1499182284, "creation_date": 1475700707, "last_edit_date": 1475701109, "question_id": 39883433, "link": "https://stackoverflow.com/questions/39883433/create-argc-argv-in-the-code", "closed_reason": "Duplicate", "title": "create argc argv in the code", "body": "<p>Hi very newbie question but I just can't figure it out:</p>\n\n<p>I have a function named bar</p>\n\n<pre><code>class foo\n{\n    public:\n        bool bar(int argc, char** argv);\n}\n</code></pre>\n\n<p>argv is supposed to contain</p>\n\n<pre><code>\"--dir\" and \"/some_path/\"\n</code></pre>\n\n<p>How do I create argv and argc so that I can pass them into bar() ? I've tried many ways but I just can't get pointer and type conversion right.</p>\n\n<p>So instead of getting argv from command line, I want to create it in the code.</p>\n\n<p>Thank you for any input!</p>\n"}, {"tags": ["c++", "visual-studio", "makefile"], "comments": [{"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 2, "creation_date": 1475702749, "post_id": 39883413, "comment_id": 67054803, "body": "I recommend that you use qmake or cmake. I never have to worry about automation of my builds when I use qmake."}, {"owner": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "reply_to_user": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 0, "creation_date": 1475703426, "post_id": 39883413, "comment_id": 67055104, "body": "@TheQuantumPhysicist thank you for your recommendation but for me seems like cmake is really useful when you have a multi-platform project and mine only targets windows."}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 0, "creation_date": 1475703550, "post_id": 39883413, "comment_id": 67055149, "body": "True, but it also helps you get rid of the terribly horrible make process of Visual Studio. I never, ever, had to deal with that problem because of qmake and cmake."}, {"owner": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "reply_to_user": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 0, "creation_date": 1475703882, "post_id": 39883413, "comment_id": 67055298, "body": "I&#39;ve read something about cmake not being compatible with VS2015. But aside from that, do you also use cmake to build when you are in the IDE?"}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "edited": false, "score": 0, "creation_date": 1475703944, "post_id": 39883413, "comment_id": 67055324, "body": "I usually use qmake more than cmake. But, yes, I use both with Qt Creator."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475707729, "post_id": 39883413, "comment_id": 67056530, "body": "@karuzo &quot;cmake is really useful when you have a multi-platform project&quot; -- I beg to differ. Have few dozen windows only production apps, all using a common library of cmake scripts (adding support for code generation, and various other handy features, and keeping everything consistent). CI system for all as well. IMHO CMakeLists are much easier to deal with than clicking through all the dialogs (or editing the MSVS solution and project files), as well as much easier to version."}, {"owner": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475719205, "post_id": 39883413, "comment_id": 67059223, "body": "@DanMa\u0161ek I&#39;m wondering about the development flow if I decide to use CMake. I couldn&#39;t find much information about using it with Visual Studio IDE. Can I replace the default build system for CMake during development? If so, is there any disadvantage of doing so?"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475719794, "post_id": 39883413, "comment_id": 67059359, "body": "@karuzo What exactly do you consider a buildsystem in this case? Basically CMake is a solution generator. Working locally, I run cmake, and then open the generated solution. When I compile, the solution automatically runs CMake to apply any modifications and regen/reload the solution and projects. Automation similarly runs CMake to create solution, and then <code>devenv</code> just like you do to build it."}], "answers": [{"comments": [{"owner": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "edited": false, "score": 0, "creation_date": 1475702873, "post_id": 39883752, "comment_id": 67054847, "body": "I&#39;m thinking about using standalone build tools and MSBuiild in a separate build server. Can I use the same MSBuild config in the build server and inside the Visual Studio IDE in my development enviromnent?"}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "reply_to_user": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "edited": false, "score": 0, "creation_date": 1475703021, "post_id": 39883752, "comment_id": 67054929, "body": "Msbuild uses the same .sln&#39;s, which Visual Studio uses."}], "tags": [], "owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "is_accepted": true, "score": 1, "last_activity_date": 1475701961, "creation_date": 1475701961, "answer_id": 39883752, "question_id": 39883413, "link": "https://stackoverflow.com/questions/39883413/visual-studio-automated-build-makefile-vs-project-sln/39883752#39883752", "title": "Visual Studio automated build: Makefile vs Project.sln", "body": "<p>It is not easy to build windows application with Makefile. You have to do a lot of work which is already done in msbuild. And you gain problems with visual studio integration. So I will definitely for building application from solution with msbuild.</p>\n\n<p>Now for that additional tasks. Microsoft is not flexible in adding extra tasks. But if pre-build and post-build steps in a solution are sufficient for your needs, it is better to stick to one build system and use them. If you need something more powerful, it is worth using normal build system (makefiles are good and great, but now there are more easy to use alternatives, such as gradle, CMake and many more) and describe that extra steps in it, but still build application with msbuild.</p>\n"}], "owner": {"reputation": 3110, "user_id": 877542, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/T5IVp.jpg?s=128&g=1", "display_name": "karliwson", "link": "https://stackoverflow.com/users/877542/karliwson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 39883752, "answer_count": 1, "score": 0, "last_activity_date": 1475701961, "creation_date": 1475700626, "last_edit_date": 1592644375, "question_id": 39883413, "link": "https://stackoverflow.com/questions/39883413/visual-studio-automated-build-makefile-vs-project-sln", "title": "Visual Studio automated build: Makefile vs Project.sln", "body": "<p>I want to automate the build process of my C++ application outside the Visual Studio IDE, via commandline.</p>\n<p>Currently I use <code>devenv.com &lt;solution-name&gt;.sln /clean &quot;Release|Win32&quot; /project &lt;project-name&gt; /projectconfig &quot;Release|Win32&quot;</code> to build the solution.</p>\n<p>There are several pre-build and post-build tasks that I configure inside the solution in the project config.</p>\n<p>My question is: Is it recommended for an automated build process or I should use makefiles? If none of them, what approach should I use? (havind in mind that I need a reliable solution).</p>\n<p>Thanks.</p>\n"}, {"tags": ["c++", "data-structures", "trie"], "comments": [{"owner": {"reputation": 9020, "user_id": 485088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4c2e26c21ecd1e0565915687b8c092?s=128&d=identicon&r=PG", "display_name": "Tim \u010cas", "link": "https://stackoverflow.com/users/485088/tim-%c4%8cas"}, "edited": false, "score": 4, "creation_date": 1475700092, "post_id": 39883253, "comment_id": 67053637, "body": "Please don&#39;t use the <a href=\"https://stackoverflow.com/questions/tagged/c\">c</a> tag in a <a href=\"https://stackoverflow.com/questions/tagged/c%2b%2b\">c++</a> question. They&#39;re two different tags for a reason."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1475700193, "post_id": 39883253, "comment_id": 67053694, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1475700303, "post_id": 39883253, "comment_id": 67053747, "body": "Recommend against the 97. &#39;a&#39; is almost infinitely easier to interpret."}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "edited": false, "score": 0, "creation_date": 1475700338, "post_id": 39883253, "comment_id": 67053761, "body": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 is correct. An d i tried with clang,gcc,visual studio.... none of them are complaining"}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475700701, "post_id": 39883253, "comment_id": 67053931, "body": "A tip in the same vein as what has already been said: &quot;Debug statements&quot; are the last resort of someone without a better choice. I assure you, you have better choices."}], "answers": [{"tags": [], "owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "is_accepted": false, "score": 2, "last_activity_date": 1475700249, "creation_date": 1475700249, "answer_id": 39883315, "question_id": 39883253, "link": "https://stackoverflow.com/questions/39883253/trie-c-implementation-segmentation-fault/39883315#39883315", "title": "Trie c++ implementation segmentation fault", "body": "<p>You are using addresses of objects allocated on stack. <code>node m;</code> is on stack. It will be deleted as soon as you leave an <code>if</code> block in which it is declared. And you assign it's address to a node <code>n -&gt; link[(int)s[0] - 97] = &amp;m;</code> which lives longer than that.</p>\n"}, {"tags": [], "owner": {"reputation": 13260, "user_id": 6612932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Q3mwe.jpg?s=128&g=1", "display_name": "rgmt", "link": "https://stackoverflow.com/users/6612932/rgmt"}, "is_accepted": false, "score": 1, "last_activity_date": 1475700361, "creation_date": 1475700361, "answer_id": 39883343, "question_id": 39883253, "link": "https://stackoverflow.com/questions/39883253/trie-c-implementation-segmentation-fault/39883343#39883343", "title": "Trie c++ implementation segmentation fault", "body": "<pre><code>n -&gt; link[(int)s[0] - 97] = &amp;m;\n</code></pre>\n\n<p>You're storing the address of <code>m</code> while it is destroyed at the end of its scope.</p>\n\n<p>You should redesign your project with a proper memory management.</p>\n"}, {"tags": [], "owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "is_accepted": false, "score": 1, "last_activity_date": 1475702177, "last_edit_date": 1475702177, "creation_date": 1475700746, "answer_id": 39883446, "question_id": 39883253, "link": "https://stackoverflow.com/questions/39883253/trie-c-implementation-segmentation-fault/39883446#39883446", "title": "Trie c++ implementation segmentation fault", "body": "<p>There are two problems that could explain segmentation fault:  </p>\n\n<ul>\n<li><p>the first is that you add a pointer to a local object <code>m</code> into your array of links.  As soon as you return from the function the pointer will be dangling and you'll have UB. Allocate m properly:  <code>node *m = new node;</code>  Better: use <code>unique_ptr</code> instead of raw pointers.  </p></li>\n<li><p>you assume that the string contains only lower case letters between 'a' and 'z'.  If the string would contain anything else, you'll go out of bounds  and might cause memory corruption and UB. You should have at least an <code>assert()</code> </p></li>\n</ul>\n\n<p>Here a small fix to address both issues, based on your current structure and approach:  </p>\n\n<pre><code>struct node {\n    ...\n    node(char c=0) : link(), ch(c) {} \n    ~node() { for (int i=0;i&lt;26; i++) delete link[i]; }\n};\n...\nvoid addString(node *n, string s) {\n    if (!s.length()) return;\n    size_t c = tolower(s[0]); \n    if (c&lt;'a' || c&gt;'z') return;  // char not ok-&gt; do like end of string\n    if (!n -&gt; link[c-'a']) {\n        n -&gt; link[c-'a'] = new node(c); \n    }\n    addString(n -&gt; link[c-'a'], s.substr(1));\n}    \n</code></pre>\n\n<p>Note that when you use pointers in a struct, you have to be extra-careful about the <a href=\"https://en.wikipedia.org/wiki/Rule_of_three_(C%2B%2B_programming)\" rel=\"nofollow\">rule of 3</a>.  It will not hurt here, though, as you do'nt copy nodes yet. </p>\n\n<p><a href=\"http://ideone.com/UFTTgI\" rel=\"nofollow\">Online demo</a> </p>\n"}], "owner": {"reputation": 36, "user_id": 6396598, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aymLVeG7Uz4/AAAAAAAAAAI/AAAAAAAADC8/FzDD5Ky4h0M/photo.jpg?sz=128", "display_name": "Vikram S. Rathore", "link": "https://stackoverflow.com/users/6396598/vikram-s-rathore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1475702177, "creation_date": 1475699953, "last_edit_date": 1475700106, "question_id": 39883253, "link": "https://stackoverflow.com/questions/39883253/trie-c-implementation-segmentation-fault", "title": "Trie c++ implementation segmentation fault", "body": "<p>I'm implementing a simple trie data structure in c++ using struct and pointers. When I pass a string to add in trie, it gives segmentation fault in the addString() function. </p>\n\n<pre><code>struct node {\n    char ch;\n    node *link[26];\n\n    node() : link(){}\n};\n\nnode head;\n\n\nvoid addString(node *n, string s) {\n    if (!s.length()) return;\n\n    if (!n -&gt; link[(int)s[0] - 97]) {\n        node m;\n        m.ch = s[0];\n        n -&gt; link[(int)s[0] - 97] = &amp;m;\n    }\n    addString(n -&gt; link[(int)s[0] - 97], s.substr(1));\n}\n\nint main(){\n    addString(&amp;head, \"red\");\n    return 0;\n}\n</code></pre>\n\n<p>I tried debug statements and even printed and matched the address values of newly created node and the one passed recursively, they were same.</p>\n\n<p>PS I'm using head node as epsilon state.</p>\n"}, {"tags": ["c++", "std", "valarray"], "comments": [{"owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "edited": false, "score": 2, "creation_date": 1475699872, "post_id": 39883099, "comment_id": 67053539, "body": "&quot;Buy a new computer.&quot; -- Apple"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "edited": false, "score": 0, "creation_date": 1475699911, "post_id": 39883099, "comment_id": 67053561, "body": "@RyanBemrose I have one, but I need to compile with legacy support ;)"}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1475700429, "post_id": 39883099, "comment_id": 67053803, "body": "<code>v.begin()</code> and <code>v.end()</code> as described by an answer on your previous question"}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1475700492, "post_id": 39883099, "comment_id": 67053839, "body": "@Asu This doesn&#39;t seem to work for <code>valarray</code> : <code>v.begin() : No member named &#39;begin&#39; in &#39;std::valarray&lt;float&gt;&#39;</code>"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1475700864, "post_id": 39883099, "comment_id": 67053999, "body": "Ah yes, has a non-member <code>begin</code> (as of C++11), but not a member one. Makes sense. XD This class is incredibly broken, almost no one uses that for a reason."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1475701004, "post_id": 39883099, "comment_id": 67054070, "body": "Seems correct. Honestly, I&#39;ve never heard of valarray before this question. I wonder why C++11 introduced non-members <code>begin</code> and <code>end</code> without their member counterparts..."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "edited": false, "score": 0, "creation_date": 1475701425, "post_id": 39883099, "comment_id": 67054258, "body": "@TreeWithEyes Yes, I also heard about this :). Would you have a solution, without having to move from valarray to vector?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475704370, "post_id": 39883099, "comment_id": 67055488, "body": "I fail to see why <a href=\"http://stackoverflow.com/a/39875156/4342498\">this answer you already have</a> does not work for you."}, {"owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475705279, "post_id": 39883099, "comment_id": 67055788, "body": "@NathanOliver True. At the time of writing this question, I tried, it worked, but wasn&#39;t sure if it was the most natural way of doing it. Now, it works and I understand it better, so you&#39;re right : this gives the answer. I&#39;ll close this one myself."}], "owner": {"reputation": 28647, "user_id": 1422096, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/da3871bf5450fa726f20557fa3f18f51?s=128&d=identicon&r=PG", "display_name": "Basj", "link": "https://stackoverflow.com/users/1422096/basj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1475741108, "answer_count": 0, "score": 0, "last_activity_date": 1475699533, "creation_date": 1475699270, "last_edit_date": 1495541962, "question_id": 39883099, "link": "https://stackoverflow.com/questions/39883099/stdbegin-for-valarray-on-xcode-4-10-5-sdk", "closed_reason": "Duplicate", "title": "std::begin for valarray on XCode 4 + 10.5 SDK", "body": "<p>I have to build a soft with XCode 4 + Base SDK 10.5 for legacy support.</p>\n\n<p>It seems that I cannot <a href=\"https://stackoverflow.com/a/7791906/1422096\">turn on C++11 as detailed here</a> (i.e. by setting \"C++ Language Dialect\" to \"C++11\" and \"C++ Standard Library\" to \"libc++\"), because when I do it, I get</p>\n\n<blockquote>\n  <p>clang error invalid deployment target for stdlib libc++ (requires OS 10.7 or later)</p>\n</blockquote>\n\n<p>Then, as I can't load C++11 (thus, the answers of <a href=\"https://stackoverflow.com/questions/39874998/no-member-named-begin-in-namespace-std\">my previous question here</a> cannot be used), how should I modify:</p>\n\n<pre><code>std::valarray&lt;float&gt; v(32);\nstd::sort(begin(v), end(v));            # Use of undeclared identifier 'begin'\nstd::sort(std::begin(v), std::end(v));  # No member named 'begin' in namespace 'std'\n</code></pre>\n\n<p>to make it work ?</p>\n"}, {"tags": ["c++", "linker", "g++", "sdl-2", "undefined-reference"], "comments": [{"owner": {"reputation": 1209, "user_id": 4217072, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-d9p4Q8FtKsk/AAAAAAAAAAI/AAAAAAAAAC4/5Kn4PPeQKSI/photo.jpg?sz=128", "display_name": "LambdaBeta", "link": "https://stackoverflow.com/users/4217072/lambdabeta"}, "edited": false, "score": 0, "creation_date": 1475699251, "post_id": 39883044, "comment_id": 67053209, "body": "Try running <code>sdl2-config --cflags</code> and <code>sdl2-config --libs</code> to ensure that your flags and libs are accurate. Better yet, use them directly in the makefile: <code>LIBS = `sdl2-config --libs` FLAGS = `sdl2-config --cflags` $(CC) -o $(PROG) $(LIBS) $(FLAGS) ...</code>"}, {"owner": {"reputation": 45534, "user_id": 106104, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c88b9310b92a937108ec4336c2832f92?s=128&d=identicon&r=PG", "display_name": "user253751", "link": "https://stackoverflow.com/users/106104/user253751"}, "edited": false, "score": 3, "creation_date": 1475700620, "post_id": 39883044, "comment_id": 67053893, "body": "Try putting $(LIBS) <b>after</b> Z:/code/*.cpp"}, {"owner": {"reputation": 121, "user_id": 3834689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a826e3235b9460763f4e3d515fdedc1?s=128&d=identicon&r=PG&f=1", "display_name": "BossLetsPlays", "link": "https://stackoverflow.com/users/3834689/bossletsplays"}, "reply_to_user": {"reputation": 1209, "user_id": 4217072, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-d9p4Q8FtKsk/AAAAAAAAAAI/AAAAAAAAAC4/5Kn4PPeQKSI/photo.jpg?sz=128", "display_name": "LambdaBeta", "link": "https://stackoverflow.com/users/4217072/lambdabeta"}, "edited": false, "score": 0, "creation_date": 1475708641, "post_id": 39883044, "comment_id": 67056773, "body": "so I&#39;ve followed both of your suggestions @LambdaBeta and @immibis but I still get errors, it says <code>&#47;bin&#47;sh: sdl-config: command not found</code> twice and then it says the same undefined reference to the SDL_Init, and now also an undefined reference to WinMain"}, {"owner": {"reputation": 15473, "user_id": 744720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65030f1bd22dbb4d1e6976cfac08a1c5?s=128&d=identicon&r=PG", "display_name": "keltar", "link": "https://stackoverflow.com/users/744720/keltar"}, "edited": false, "score": 0, "creation_date": 1475727734, "post_id": 39883044, "comment_id": 67061369, "body": "@BossLetsPlays it says <code>sdl2-config</code>, but anyway it is unlikely to be present on windows machine. Just do what immibis said (and <i>only</i> that), libraries have to come after objects referencing them."}, {"owner": {"reputation": 121, "user_id": 3834689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a826e3235b9460763f4e3d515fdedc1?s=128&d=identicon&r=PG&f=1", "display_name": "BossLetsPlays", "link": "https://stackoverflow.com/users/3834689/bossletsplays"}, "reply_to_user": {"reputation": 15473, "user_id": 744720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65030f1bd22dbb4d1e6976cfac08a1c5?s=128&d=identicon&r=PG", "display_name": "keltar", "link": "https://stackoverflow.com/users/744720/keltar"}, "edited": false, "score": 0, "creation_date": 1475734341, "post_id": 39883044, "comment_id": 67063671, "body": "@keltar oh okay thanks a bunch, that fixed the issue :)"}], "owner": {"reputation": 121, "user_id": 3834689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5a826e3235b9460763f4e3d515fdedc1?s=128&d=identicon&r=PG&f=1", "display_name": "BossLetsPlays", "link": "https://stackoverflow.com/users/3834689/bossletsplays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475767674, "creation_date": 1475699044, "last_edit_date": 1475767674, "question_id": 39883044, "link": "https://stackoverflow.com/questions/39883044/sdl-init-undefined-despite-being-linked", "title": "SDL_Init undefined despite being linked", "body": "<p>I am trying to use SDL2 in my C++ program using g++ to compile at command line (well technically I'm using a make file, but I use g++) However, despite including the SDL header and linking the 32 bit mingw SDL libraries, I still get the following error:</p>\n\n<pre><code>C:\\Users\\BOSSLE~1\\AppData\\Local\\Temp\\ccXt5lsd.o:main.cpp:(.text+0x15): undefined\n reference to `SDL_Init'\ncollect2.exe: error: ld returned 1 exit status\nmake: *** [Z:\\build\\PotatoEngine.exe] Error 1\n</code></pre>\n\n<p>I cannot figure out why I am getting this error. Here is my test code file:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;SDL2/SDL.h&gt;\n\nint main(int argc, char** argv)\n{\n    SDL_Init(SDL_INIT_EVERYTHING);\n    std::cout &lt;&lt; \"Hello world! SDL Test\" &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>Here is my makefile where I compile the code.</p>\n\n<pre><code>PROG = Z:\\build\\PotatoEngine.exe\nCC = g++\nLIBDIR = \"Z:/libs\"\nINCLUDES = \"Z:/include\"\nLIBS = -lmingw32 -lSDL2main -lSDL2\n\n$(PROG) :\n    $(CC) -o $(PROG) -I$(INCLUDES) -L$(LIBDIR) $(LIBS) Z:/code/*.cpp\n</code></pre>\n\n<p>I've been working on this issue for a few days now and I cannot figure it out. Help would be greatly appreciated.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1475698738, "post_id": 39882955, "comment_id": 67052935, "body": "Why are you thinking C++ would handle this differently? If it&#39;s a C-style array, use C notation. You want a reference. You&#39;ve got a pointer. You&#39;re going to have to deal with pointers. You can <a href=\"http://stackoverflow.com/questions/10172735/how-to-cast-convert-pointer-to-reference-in-c\">de-reference if you want</a> but that could cause problems."}, {"owner": {"reputation": 13521, "user_id": 654953, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f6453f58b70e93dbfa8998b71a95bb09?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/654953/ryan"}, "edited": false, "score": 2, "creation_date": 1475698787, "post_id": 39882955, "comment_id": 67052960, "body": "Is this embedded? You probably get a segfault if not"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1475698869, "post_id": 39882955, "comment_id": 67052997, "body": "Just use the pointer, everyone knows how that works anyways. If you want that to look more C++, call the pointer an &quot;iterator&quot; and, if you feel like it, use another past-the-end pointer as an end iterator."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1475698941, "post_id": 39882955, "comment_id": 67053038, "body": "If you are bored enough, you can also implement some <code>array_view</code> class with a custom <code>operator[]</code> to wrap the original array in."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 0, "creation_date": 1475698998, "post_id": 39882955, "comment_id": 67053074, "body": "<code>reinterpret_cast</code> seems like the proper tool for the task. Considering what the question is, I assume this is ring-0 code or embedded."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 2, "creation_date": 1475699249, "post_id": 39882955, "comment_id": 67053207, "body": "@BaummitAugen, tell us how you <i>really</i> feel about C++ :)"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1475699812, "post_id": 39882955, "comment_id": 67053503, "body": "@StoryTeller Well, it&#39;s better than ANSI C. ;)"}, {"owner": {"reputation": 54044, "user_id": 3723423, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a2c916310a1261b53773de75fc83e5ad?s=128&d=identicon&r=PG&f=1", "display_name": "Christophe", "link": "https://stackoverflow.com/users/3723423/christophe"}, "edited": false, "score": 1, "creation_date": 1475700135, "post_id": 39882955, "comment_id": 67053656, "body": "Not sure that this question is really a duplicate of the other one:  this one is very specific about using a reference for an array at a specific physical location.  The other one is very general about legality of array reference casting, and someone looking for having an array at a fixed location might not recognize that it answers his question.  See <a href=\"http://blog.stackoverflow.com/2010/11/dr-strangedupe-or-how-i-learned-to-stop-worrying-and-love-duplication/\">blog.stackoverflow.com/2010/11/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 2, "last_activity_date": 1475699795, "last_edit_date": 1475699795, "creation_date": 1475698855, "answer_id": 39882996, "question_id": 39882955, "link": "https://stackoverflow.com/questions/39882955/reference-to-array-in-memory/39882996#39882996", "title": "Reference to array in memory", "body": "<p>I would go with C-style pointer. But if you really want <em>the C++ way</em> (it isn't, not any more than what you presented in the question):</p>\n\n<pre><code>template&lt;typename T, size_t S&gt;\nusing arr = T[S];\n\nauto&amp; my_arr = *reinterpret_cast&lt;arr&lt;int,2&gt;*&gt;(0x18FBDA);\n</code></pre>\n\n<p>which is just a clearer notation for</p>\n\n<pre><code>auto&amp; my_arr = *reinterpret_cast&lt;int(*)[2]&gt;(0x18FBDA);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475699547, "post_id": 39883011, "comment_id": 67053359, "body": "@krzaq, I find this more expressive. A <code>reinterpret_cast</code> in my code is a sign to myself I&#39;m doing something risky which should be treated with care."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1475699668, "post_id": 39883011, "comment_id": 67053420, "body": "@krzaq, of course it&#39;s also a shorter way to get around <a href=\"https://ideone.com/9hGcQ7\" rel=\"nofollow noreferrer\">this error</a>"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1475699744, "post_id": 39883011, "comment_id": 67053457, "body": "@krzaq, this entire post seems to me about shooting myself in the foot. Might as well do it with less keystrokes (a double <code>static_cast</code> is required, or at least a c-style cast to <code>void*</code> first) :)"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1475699875, "post_id": 39883011, "comment_id": 67053540, "body": "That&#39;s what I get for using literal 0 to check if <code>static_cast</code> would allow this :)"}, {"owner": {"reputation": 1065, "user_id": 6633178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfeddf122964632804c9b84ffe449ec?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6633178/martin"}, "edited": false, "score": 0, "creation_date": 1475700110, "post_id": 39883011, "comment_id": 67053648, "body": "This is exactly what I&#39;m looking for, but when compiling (VS2013) I get: <code>error C2101: &#39;&amp;&#39; on constant</code>. I&#39;m using your exact same code. Is this compiler-dependent? It seems to compile fine with GCC (ideone)"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 1065, "user_id": 6633178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfeddf122964632804c9b84ffe449ec?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6633178/martin"}, "edited": false, "score": 0, "creation_date": 1475700211, "post_id": 39883011, "comment_id": 67053704, "body": "@Martin I don&#39;t have VS to check, but it seems like a compiler bug."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 1065, "user_id": 6633178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfeddf122964632804c9b84ffe449ec?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6633178/martin"}, "edited": false, "score": 1, "creation_date": 1475700443, "post_id": 39883011, "comment_id": 67053812, "body": "@Martin It may be possible for you to get around the error with <code>typedef int arr_t[2]</code>"}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": true, "score": 7, "last_activity_date": 1475699287, "last_edit_date": 1475699287, "creation_date": 1475698921, "answer_id": 39883011, "question_id": 39882955, "link": "https://stackoverflow.com/questions/39882955/reference-to-array-in-memory/39883011#39883011", "title": "Reference to array in memory", "body": "<p>I find the notion of using an array reference a bit convoluted, like <strong>tadman</strong> mentioned. But you can do it as you'd do with any type, by dereferencing a pointer.</p>\n\n<pre><code>int (&amp;my_array)[2] = *reinterpret_cast&lt;int(*)[2]&gt;(0x18FBDA);\n</code></pre>\n\n<p>Also, if you are going to do such a cast, don't let it appear innocent by doing a c-style cast. Such a thing should stand out IMO.</p>\n"}], "owner": {"reputation": 1065, "user_id": 6633178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfeddf122964632804c9b84ffe449ec?s=128&d=identicon&r=PG&f=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/6633178/martin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "closed_date": 1475699167, "accepted_answer_id": 39883011, "answer_count": 2, "score": 4, "last_activity_date": 1475699795, "creation_date": 1475698645, "question_id": 39882955, "link": "https://stackoverflow.com/questions/39882955/reference-to-array-in-memory", "closed_reason": "Duplicate", "title": "Reference to array in memory", "body": "<p>I have this memory layout:</p>\n\n<pre><code>0018FBD2 ?? ?? ?? ??    ?? ?? ?? ??\n0018FBDA AA AA AA AA    BB BB BB BB  &lt;- stuff I'm interested in\n0018FBE2 ?? ?? ?? ??    ?? ?? ?? ??\n</code></pre>\n\n<p>In C, I would do:</p>\n\n<pre><code>int* my_array = (int*) 0x18FBDA;\nmy_array[0]; // access\n</code></pre>\n\n<p>However, I'm using C++, and I'd like to declare a reference:</p>\n\n<pre><code>int (&amp;my_array)[2] = (???) 0x18FBDA;\n</code></pre>\n\n<p>In order to use like this:</p>\n\n<pre><code>my_array[0]; // access\n</code></pre>\n\n<p>But as you can see, I don't know how to cast it:</p>\n\n<pre><code>int (&amp;my_array)[2] = (???) 0x18FBDA;\n</code></pre>\n\n<p>How should I do this? Is it even possible?</p>\n"}, {"tags": ["c++", "class", "pointers", "copy-constructor", "rule-of-three"], "comments": [{"owner": {"reputation": 1, "user_id": 4732236, "user_type": "registered", "profile_image": "https://graph.facebook.com/1591474537757855/picture?type=large", "display_name": "Xiao Cui", "link": "https://stackoverflow.com/users/4732236/xiao-cui"}, "edited": false, "score": 0, "creation_date": 1475781805, "post_id": 39882948, "comment_id": 67093599, "body": "I just read the the post What is The Rule of Three, but I&#39;m still confused. The example given in the post shows that when you have to manage resources in the constructor like const char*. However, I think in this CarRental class I don&#39;t need to do anything in the default constructor for it&#39;s an empty vector. And only when it&#39;s in copy constructor, I do the deep copy. I&#39;m still confused about it."}, {"owner": {"reputation": 249985, "user_id": 147192, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E78Vj.png?s=128&g=1", "display_name": "Matthieu M.", "link": "https://stackoverflow.com/users/147192/matthieu-m"}, "edited": false, "score": 0, "creation_date": 1476789607, "post_id": 39882948, "comment_id": 67484907, "body": "In your case, the <code>vector</code> is not the issue, but what is in the <code>vector</code> is a manually managed resource. If you have access to C++11, I advise you to use <code>std::unique_ptr</code> as in <code>std::vector&lt;std::unique_ptr&lt;Car&gt;&gt;</code> and then you will not need to write the Copy Constructor, Assignment Operator or Destructor (the first two will be deleted, the latter will automatically work). If you insist on manual memory management (no C++11 or learning exercise) or need a Copy Constructor then you do have to write all 3: it will necessitate the <code>Car</code> class to have a <code>Car* clone() const</code> virtual method."}, {"owner": {"reputation": 249985, "user_id": 147192, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E78Vj.png?s=128&g=1", "display_name": "Matthieu M.", "link": "https://stackoverflow.com/users/147192/matthieu-m"}, "edited": false, "score": 0, "creation_date": 1476789626, "post_id": 39882948, "comment_id": 67484918, "body": "Note: if you have access to Boost, consider <code>boost::ptr_vector&lt;Car&gt;</code>."}], "owner": {"reputation": 1, "user_id": 4732236, "user_type": "registered", "profile_image": "https://graph.facebook.com/1591474537757855/picture?type=large", "display_name": "Xiao Cui", "link": "https://stackoverflow.com/users/4732236/xiao-cui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1475698814, "answer_count": 0, "score": 0, "last_activity_date": 1475698621, "creation_date": 1475698621, "question_id": 39882948, "link": "https://stackoverflow.com/questions/39882948/how-to-write-a-class-with-its-member-is-a-vector-of-pointers-to-own-defined-clas", "closed_reason": "Duplicate", "title": "how to write a class with its member is a vector of pointers to own defined class", "body": "<p>I'm new to C++ and I'm trying to write a CarRental class which contains a vector of pointers to a base class Car. \nHere's the Car class.    </p>\n\n<pre><code>class Car{\npublic:\n    Car():mPlate(\"\"), mBrand(\"\"){}//constructor\n    Car(string p, string b): mPlate(p), mBrand(b){} //constructor\n    virtual ~Car(){}//destructor\n\n    const string plate() const;\n    const string brand() const;\n\n    virtual int numPassengers() = 0;\n\nprotected:\n    string mPlate;\n    string mBrand;\n};\n\nconst string Car::plate() const{\n    return mPlate;\n}\n\nconst string Car::brand() const{\n    return mBrand;\n};\n</code></pre>\n\n<p>And I need to write a class CarRental which contains the container to store the cars. For example,</p>\n\n<pre><code>class CarRental{\npublic:\n    CarRental(vector&lt;Car*&gt; cars){mCars = cars;};\n    const vector&lt;Car*&gt;&amp; getCars() const;\n    void addCar(Car*);\nprivate:\n    vector&lt;Car*&gt; mCars;\n};\n\nconst vector&lt;Car*&gt;&amp; CarRental::getCars() const{\n    return mCars;\n}\n\nvoid CarRental::addCar(Car* c){\n    mCars.push_back(c);\n}\n</code></pre>\n\n<p>I doubt whether the class of CarRental I wrote in the right way. I'm considering if I need to write my own copy constructor. And by THE BIG THREE, should I also need assignment operator and destructor? Would three be any memory leaks? How about exception safety?</p>\n"}, {"tags": ["c++", "qt", "subclass", "qlabel"], "comments": [{"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1475697837, "post_id": 39882668, "comment_id": 67052446, "body": "Sorry, what&#39;s exactly non working?"}, {"owner": {"reputation": 73, "user_id": 6703199, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cVlL5.jpg?s=128&g=1", "display_name": "abdallah allam", "link": "https://stackoverflow.com/users/6703199/abdallah-allam"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1475698284, "post_id": 39882668, "comment_id": 67052689, "body": "in widget.cpp when create instance of labelButton i made 3 labelButton, the first two only show label image with no hover or click(it should change the pixmap of the label when its hover or clicked) the last one work correctly"}, {"owner": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 2, "creation_date": 1475699112, "post_id": 39882668, "comment_id": 67053139, "body": "Please reduce the source code to a minial, complete, compilable example. You&#39;re not including the source for your labels."}, {"owner": {"reputation": 73, "user_id": 6703199, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cVlL5.jpg?s=128&g=1", "display_name": "abdallah allam", "link": "https://stackoverflow.com/users/6703199/abdallah-allam"}, "reply_to_user": {"reputation": 19628, "user_id": 1873944, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/MaDna.jpg?s=128&g=1", "display_name": "peppe", "link": "https://stackoverflow.com/users/1873944/peppe"}, "edited": false, "score": 0, "creation_date": 1475700284, "post_id": 39882668, "comment_id": 67053738, "body": "this gif show the problem <a href=\"https://media.giphy.com/media/3o7TKKmZSISGXN4Opq/giphy.gif\" rel=\"nofollow noreferrer\">media.giphy.com/media/3o7TKKmZSISGXN4Opq/giphy.gif</a>"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1475700742, "post_id": 39882668, "comment_id": 67053948, "body": "Error is probably in your actual code, ie. methods."}, {"owner": {"reputation": 73, "user_id": 6703199, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cVlL5.jpg?s=128&g=1", "display_name": "abdallah allam", "link": "https://stackoverflow.com/users/6703199/abdallah-allam"}, "edited": false, "score": 0, "creation_date": 1475701418, "post_id": 39882668, "comment_id": 67054249, "body": "i think the error in labelButton base class (QWidget) i tried change it with QLabel but its not shows the buttons, i think its related to parent."}], "answers": [{"comments": [{"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1475733527, "post_id": 39888277, "comment_id": 67063321, "body": "What&#39;s wrong with just doing this the usual way, by giving parent pointer to constructor?"}], "tags": [], "owner": {"reputation": 73, "user_id": 6703199, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cVlL5.jpg?s=128&g=1", "display_name": "abdallah allam", "link": "https://stackoverflow.com/users/6703199/abdallah-allam"}, "is_accepted": true, "score": 0, "last_activity_date": 1475786129, "last_edit_date": 1475786129, "creation_date": 1475732280, "answer_id": 39888277, "question_id": 39882668, "link": "https://stackoverflow.com/questions/39882668/subclassing-qlabel-and-use-it-in-qwidget-class/39888277#39888277", "title": "Subclassing QLabel and use it in QWidget class", "body": "<p>here its work, the problem was in passing the parent\ni made a function that take a widget and set buttons parent from the function value</p>\n\n<pre><code>b_1 = new labelButton;\n//b_1-&gt;setParent(this); \nb_1-&gt;setParentFunc(this);\nb_1-&gt;moveButton(70, 100);\n//some functions to initialize the labelButton\n// b_1-&gt;show();\n</code></pre>\n\n<p>in labelButton:</p>\n\n<pre><code>void labelButton::setParentFunc(QWidget *p)\n{\n    myParent = p;\n}\n\nmLabel_1-&gt;setParent(myParent); // myParent instead of this\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6703199, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/cVlL5.jpg?s=128&g=1", "display_name": "abdallah allam", "link": "https://stackoverflow.com/users/6703199/abdallah-allam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 39888277, "answer_count": 1, "score": -1, "last_activity_date": 1475786129, "creation_date": 1475697551, "last_edit_date": 1475717167, "question_id": 39882668, "link": "https://stackoverflow.com/questions/39882668/subclassing-qlabel-and-use-it-in-qwidget-class", "title": "Subclassing QLabel and use it in QWidget class", "body": "<p>When i try to put QLabel in QWidget class its not work properly (no hover event or click event only the label pixmap is show) only the last instance work properly, when not use set parent, it create in new window for each label but its work correctly</p>\n\n<p>this gif show the problem:</p>\n\n<p><a href=\"https://media.giphy.com/media/3o7TKKmZSISGXN4Opq/giphy.gif\" rel=\"nofollow\">https://media.giphy.com/media/3o7TKKmZSISGXN4Opq/giphy.gif</a></p>\n\n<p>this is QLabel subclass header:</p>\n\n<pre><code>#include &lt;QObject&gt;\n#include &lt;QLabel&gt;\nclass myLabel : public QLabel\n{\n    Q_OBJECT\npublic:\n    myLabel();\n\nprotected:\n    void mousePressEvent(QMouseEvent *);\n    void enterEvent(QEvent *);\n    void leaveEvent(QEvent *);\n\n\nsignals :\n    void labelClicked();\n    void enterSignal();\n    void leaveEventSignal();\n\nprivate:\n\n};\n</code></pre>\n\n<p>this class to make a labelButton:</p>\n\n<pre><code>#include &lt;QObject&gt;\n#include &lt;QWidget&gt; \n#include \"mylabel.h\"\nclass labelButton : public QWidget\n{\n    Q_OBJECT\npublic:\n    labelButton();\n\n    //some functions\n\nprivate slots:\n    //slots\n\nprivate:\n   //private member\n};\n</code></pre>\n\n<p>and this the class that i want to use the labelButtons in:</p>\n\n<pre><code>#include &lt;QWidget&gt; \n#include \"labelbutton.h\"\n\nnamespace Ui {\nclass Widget;\n}\n\nclass Widget : public QWidget\n{\n    Q_OBJECT\n\npublic:\n    explicit Widget(QWidget *parent = 0);\n    ~Widget();\n\nprivate:\n    Ui::Widget *ui;\n\n    labelButton *b_1, *b_2, *b_3;\n\n};\n</code></pre>\n\n<p>here is widget.cpp:</p>\n\n<pre><code>   Widget::Widget(QWidget *parent) :\n    QWidget(parent),\n    ui(new Ui::Widget)\n{\n    ui-&gt;setupUi(this);\n\n    b_1 = new labelButton;\n    b_1-&gt;setParent(this);\n    b_1-&gt;moveButton(70, 100);\n    //some functions to initialize the labelButton\n    b_1-&gt;show();\n\n    //-----------------------\n\n    b_2 = new labelButton;\n    b_2-&gt;setParent(this);\n    b_2-&gt;moveButton(70, 200);\n    //some functions to initialize the labelButton\n    b_2-&gt;show();\n\n    //-----------------------\n\n    b_3 = new labelButton;\n    b_3-&gt;setParent(this);\n    b_3-&gt;moveButton(70, 300);\n    //some functions to initialize the labelButton\n    b_3-&gt;show();\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "c++14", "type-erasure"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1475698443, "post_id": 39882459, "comment_id": 67052775, "body": "Can&#39;t <code>cast</code> be a functor and then call it <code>cast(tag&lt;U&gt;{}, cast(tag&lt;const T*&gt;{}, ptr ) )</code> ?"}, {"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1475698627, "post_id": 39882459, "comment_id": 67052871, "body": "@Jarod42 The problem is that <code>T</code> isn&#39;t known from within <code>convert</code>, so it&#39;s not as simple as creating a <code>tag&lt;const T*&gt;</code> at that point. The only function in the example that knows the type <code>T</code> is <code>build_vtable</code>"}, {"owner": {"reputation": 1197, "user_id": 311618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac1a9c4987ab62cfc5904c51fc335f27?s=128&d=identicon&r=PG", "display_name": "zahir", "link": "https://stackoverflow.com/users/311618/zahir"}, "edited": false, "score": 0, "creation_date": 1475700303, "post_id": 39882459, "comment_id": 67053749, "body": "First, it is not a <code>template</code> function; it is a function <code>template</code>. Wording is the important thing to understand here. So, it is not an actual function. The actual function is <code>convert&lt;U&gt;</code> as Yakk describes. Therefore you will need <code>convert_U_function_ptr</code> inside your <code>VTable</code> for each <code>U</code> type"}, {"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "reply_to_user": {"reputation": 1197, "user_id": 311618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ac1a9c4987ab62cfc5904c51fc335f27?s=128&d=identicon&r=PG", "display_name": "zahir", "link": "https://stackoverflow.com/users/311618/zahir"}, "edited": false, "score": 0, "creation_date": 1475700658, "post_id": 39882459, "comment_id": 67053913, "body": "@zahir Good point on the wording, I didn&#39;t actually think of that while typing this up. Thanks for the correction! And I&#39;m now convinced this is the approach I need, I&#39;m just trying to find out how to do this generically to support any type <code>U</code> rather than a fixed set of types."}], "answers": [{"comments": [{"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475698964, "post_id": 39882801, "comment_id": 67053054, "body": "Although this is a great suggestion, I&#39;m not sure if this would apply to the current issue. I&#39;ve made a small edit to emphasize the issue I&#39;ve run into; it&#39;s that the function <code>convert</code> doesn&#39;t have any knowledge of <code>T</code>. The only function in the above example that does is <code>build_vtable</code>, otherwise the type is simply <code>void*</code>."}, {"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475699158, "post_id": 39882801, "comment_id": 67053161, "body": "Although I feel this is less-likely, I was originally hoping to accomplish this without requiring any heap allocations (such as using a map). Although I suppose since this is static, it could be done with an intrusive list of (<code>std::type_index</code>,function ptr) pairs."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475699352, "post_id": 39882801, "comment_id": 67053256, "body": "@Bitwize Yes, <code>type_erased_convert</code> doesn&#39;t have knowledge of T in my above suggestion.  The type erased operation is <code>(void*)-&gt;</code>map from <code>typeindex</code> to <code>std::function&lt;void(U*)&gt;</code> The sparse map doesn&#39;t have to be heap allocated."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 1, "creation_date": 1475700101, "post_id": 39882801, "comment_id": 67053642, "body": "@Bitwize Dumped some code.  Not compiled.  You&#39;d type erase <code>get_ctor_map</code> using your mechanism, maybe optimized to return a <code>static</code> value or a reference to a <code>static</code> value.  You&#39;d pretty-wrap <code>type_erased_convert</code> to use <code>get_ctor_map</code> erased, look up its <code>U</code> in the map, if it is there invoke the function to get the return value.  If not there, it would <code>exit(-1)</code> or throw or something.  Or it would return an <code>optional&lt;U&gt;</code> and admit failure as a possibility."}, {"owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475700423, "post_id": 39882801, "comment_id": 67053800, "body": "Thank you for the example, that makes it a lot easier to understand! This is a brilliant approach, but I have one question with regard to it. Unless I&#39;m misreading it, this example appears to only work with a finite set of types -- when I&#39;m looking to support any arbitrary type <code>U</code>. Do you know of any way that this could be extended to support any arbitrary type such that it doesn&#39;t require a <code>target_types </code> list?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475711481, "post_id": 39882801, "comment_id": 67057465, "body": "@bitwize I covered that above.  Use or implement a different language or DSL, or have a graph of conversions and do a runtime walk.  Neither are arbitrary.  At the point of erasure, you need to implement the erased operation.  At the point of call, you need the erased type.  To write your code, you need both at <i>some</i> location.  Any spot nearly will do.  For example, if I had a finite bounded list of <code>T</code> I can do it, or a finite list of <code>U</code>, or some property I can type erase from any <code>T</code> that is sufficient to make any <code>U</code>, or a combination of same, or a bounded list of U for each T, or..."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "edited": false, "score": 0, "creation_date": 1475757755, "post_id": 39882801, "comment_id": 67078235, "body": "@Bitwize Oh yes, and you can do <i>both</i>.  Have a list of types <code>Us...</code> a <i>specific</i> <code>T</code> (and/or all <code>T</code>) knows how to convert-to (which is erased like the above).  Then, have a list of types <code>Ts...</code> that your <i>particular</i> <code>U</code> knows how to convert-from.  And have the boilerplate around your <code>convert this to a U</code> code check both maps."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 5, "last_activity_date": 1475765540, "last_edit_date": 1475765540, "creation_date": 1475698018, "answer_id": 39882801, "question_id": 39882459, "link": "https://stackoverflow.com/questions/39882459/c-type-erasure-of-a-function-template-using-lambdas/39882801#39882801", "title": "C++ Type-erasure of a function template using lambdas", "body": "<p>Each distinct <code>convert&lt;U&gt;</code> is a distinct type erasure.</p>\n\n<p>You can type erase a list of such functions, storing the method of doing it in each case.  So suppose you have <code>Us...</code>, type erase all of <code>convert&lt;Us&gt;...</code>.</p>\n\n<p>If <code>Us...</code> is short this is easy.</p>\n\n<p>If it is long, this is a pain.</p>\n\n<p>It is possible that the majority of these may be null (as in operation is illegal), so you can implement a sparse vtable that takes this into account, so your vtable isn't large and full of zeros.  This can be done by type erasing a function (using the standard vtable technique) that returns a reference (or a type-erased accessor) to said sparse vtable that maps from <code>std::typeindex</code> to U-placement-constructor converter (that writes to a <code>void*</code> in the signature).  You then run that function, extract the entry, create a buffer to store the U in, call the U-placement-constructor converter passing in that buffer.</p>\n\n<p>This all occurs in your <code>type_erased_convert&lt;U&gt;</code> function (which itself is not type-erased) so end users don't have to care about the internal details.</p>\n\n<p>You know, simple.</p>\n\n<p>The restriction is that the list of possible convert-to types <code>U</code> that are supported needs to be located prior to the location of type erasure.  Personally, I would restrict <code>type_erased_convert&lt;U&gt;</code> to only being called on the same list of types <code>U</code>, and accept that this list must be fundamentally short.</p>\n\n<hr>\n\n<p>Or you could create some other conversion graph that lets you plug a type into it and determine how to reach another type possibly through some common intermediary.</p>\n\n<p>Or you could use a scripting or bytecode language that includes a full compiler during the execution phase, permitting the type-erased method to be compiled against a new completely independant type when called.</p>\n\n<hr>\n\n<pre><code>std::function&lt; void(void const*, void*) &gt; constructor;\n\nstd::function&lt; constructor( std::typeindex ) &gt; ctor_map;\n\ntemplate&lt;class...Us&gt;\nstruct type_list {};\n\nusing target_types = type_list&lt;int, double, std::string&gt;;\n\ntemplate&lt;class T, class U&gt;\nconstructor do_convert( std::false_type ) { return {}; }\ntemplate&lt;class T, class U&gt;\nconstructor do_convert( std::true_type ) {\n  return []( void const* tin, void* uout ) {\n    new(uout) U(cast&lt;U&gt;( static_cast&lt;const T*&gt;( ptr ) ));\n  };\n}\n\ntemplate&lt;class T, class...Us&gt;\nctor_map get_ctor_map(std::type_list&lt;Us...&gt;) {\n  std::unordered_map&lt; std::typeindex, constructor &gt; retval;\n  using discard = int[];\n  (void)discard{0,(void(\n    can_convert&lt;U(T)&gt;{}?\n      (retval[typeid(U)] = do_convert&lt;T,U&gt;( can_convert&lt;U(T)&gt;{} )),0\n    : 0\n  ),0)...};\n  return [retval]( std::typeindex index ) {\n    auto it = retval.find(index);\n    if (it == retval.end()) return {};\n    return it-&gt;second;\n  };\n}\n\ntemplate&lt;class T&gt;\nctor_map get_ctor_map() {\n  return get_ctor_map&lt;T&gt;(target_types);\n}\n</code></pre>\n\n<p>You can replace the <code>unordered_map</code> with a compact stack-based one when it is small.  Note that <code>std::function</code> in MSVC is limited to about 64 bytes or so?</p>\n\n<hr>\n\n<p>If you don't want a fixed list of source/dest types, we can decouple this.</p>\n\n<ul>\n<li><p>Expose the <code>typeindex</code> of the type stored within the type erasure container, and the ability to get at the <code>void const*</code> that points at it.</p></li>\n<li><p>Create a type trait that maps a type <code>T</code> to the list of types <code>Us...</code> it supports conversion-to.  Use the above technique to store these conversion functions in a (global) map.  (Note that this map can be placed in static storage, as you can deduce the size of the buffer required etc.  But using an <code>static unordered_map</code> is easier).</p></li>\n<li><p>Create a second type trait that maps a type <code>U</code> to a list of types <code>Ts...</code> it supports conversion-from.</p></li>\n<li><p>In both cases, a function <code>convert_construct( T const* src, tag_t&lt;U&gt;, void* dest )</code> is called to do the actual conversion.</p></li>\n</ul>\n\n<p>You'd start with a set of universal targets <code>type_list&lt;int, std::string, whatever&gt;</code>.  A particular type would augment it by having a new list.</p>\n\n<p>For a type <code>T</code> building its sparse conversion table we would attempt each target type.  If an overload of <code>convert_construct</code> fails to be found, the map would not be populated for that case.  (Generating compile time errors for types added explicitly to work with <code>T</code> is an option).</p>\n\n<p>On the other end, when we call the <code>type_erased_convert_to&lt;U&gt;( from )</code>, we look for a <em>different</em> table that maps the type <code>U</code> cross <code>typeindex</code> to a <code>U(*)(void const* src)</code> converter.  Both the from-<code>T</code> map gotten from the type-erased <code>T</code> and the to-<code>U</code> gotten in the wrapping code are consulted to find a converter.</p>\n\n<p>Now, this doesn't permit certain kinds of conversion.  For example, a type <code>T</code> that converts-from anything with a <code>.data() -&gt; U*</code> and <code>.size() -&gt; size_t</code> method needs to explicitly list every type it converts-from.</p>\n\n<p>The next step would be to admit a multi-step conversion.  A multi-step conversion is where you teach your <code>T</code> to convert-to some (set of) famous types, and we teach <code>U</code> to convert-from a similar (set of) famous types.  (The fame of these types is optional, I'll admit; all you need to know is how to create and destroy them, what storage you need, and a way to match up the <code>T</code>-to and <code>U</code>-from options, to use them as an intermediary.)</p>\n\n<p>This may seem over engineered.  But the ability to convert-to <code>std::int64_t</code> and convert-from that to any signed integral type is an example of this (and similarly for <code>uint64_t</code> and unsigned).</p>\n\n<p>Or the ability to convert-to a dictionary of key-value pairs, and then examine this dictionary on the other side to determine if we can convert-from it.</p>\n\n<p>As you go down this path, you'll want to examine loose typing systems in various scripting and bytecode languages to pick up how they did it.</p>\n"}], "owner": {"reputation": 7363, "user_id": 1678770, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9afe9e6d4e0264da3d228c79162377f8?s=128&d=identicon&r=PG", "display_name": "Human-Compiler", "link": "https://stackoverflow.com/users/1678770/human-compiler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1317, "favorite_count": 3, "accepted_answer_id": 39882801, "answer_count": 1, "score": 8, "last_activity_date": 1475765540, "creation_date": 1475696848, "last_edit_date": 1475700582, "question_id": 39882459, "link": "https://stackoverflow.com/questions/39882459/c-type-erasure-of-a-function-template-using-lambdas", "title": "C++ Type-erasure of a function template using lambdas", "body": "<p>I'm trying to type erase an object and ran into a bit of an issue that I'm hoping someone here may be have expertise in.</p>\n\n<p>I haven't had a problem type-erasing arbitrary non-templated functions; so far what I have been doing is creating a custom <code>static</code> \n\"virtual table\"-esque collection of function pointers. This is all managed with non-capturing lambdas, since\nthey decay into free-function pointers:</p>\n\n<pre><code>template&lt;typename Value, typename Key&gt;\nclass VTable {\n    Value (*)(const void*, const Key&amp;) at_function_ptr = nullptr;\n    // ...\n\n    template&lt;typename T&gt;\n    static void build_vtable( VTable* table ) {\n        // normalizes function into a simple 'Value (*)(const void*, const Key&amp;)'' type\n        static const auto at_function = []( const void* p, const Key&amp; key ) {\n            return static_cast&lt;const T*&gt;(p)-&gt;at(key);\n        }\n        // ...\n        table-&gt;at_function_ptr = +at_function;\n    }\n    // ...\n}\n</code></pre>\n\n<p><em>(There are more helper functions/aliases that are omitted for brevity)</em></p>\n\n<p>Sadly this same approach does not work with a function <code>template</code>. </p>\n\n<p>My desire is for the type-erased class to have something akin to the following:</p>\n\n<pre><code>template&lt;typename U&gt;\nU convert( const void* ptr )\n{\n    return cast&lt;U&gt;( static_cast&lt;const T*&gt;( ptr ) );\n}\n</code></pre>\n\n<p>where:</p>\n\n<ul>\n<li><code>cast</code> is a free function, </li>\n<li><code>U</code> is the type being casted to,</li>\n<li><code>T</code> is the underlying type erased type being casted from, and</li>\n<li><code>ptr</code> is the type-erased pointer that follows the same idiom above for the type erasure. </li>\n</ul>\n\n<p><em>[Edit: The issue above is that <code>T</code> isn't known from the function <code>convert</code>; the only function that knows of <code>T</code>'s type in the example is <code>build_vtable</code>. This may just require a design change]</em></p>\n\n<p>The reason this has become challenging is that there does not appear to be any simple way to type erase both types\nindependently. The classical/idiomatic type-erasure technique of a base-class doesn't work here, since you can't have\na <code>virtual</code> <code>template</code> function. I have experimented with a visitor-like pattern with little success for similar\nreasons to the above. </p>\n\n<p>Does anyone with experience in type-erasure have any suggestions or techniques that can be used to achieve what \nI'm trying to do? Preferably in standards-conforming c++14 code. \nOr, perhaps is there design change that might facilitate the same concept desired here?</p>\n\n<p>I've been searching around for this answer for a little while now, and haven't had much luck. There are a few cases that are similar to what I'm trying to do, but often with enough differences that the solutions don't seem to apply to the same problem (Please let me know if I'm wrong!).</p>\n\n<p>It appears most readings/blogs on these topics tend to cover the basic type-erasure technique, but not what I'm looking for here!</p>\n\n<p>Thanks!</p>\n\n<p><em><strong>Note:</strong> please do not recommend Boost. I am in an environment where I am unable to use their libraries, and do not\nwish to introduce that dependency to the codebase.</em></p>\n"}, {"tags": ["c++", "teamcity"], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 1842299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/39b6a7df32378ac8ca7f1821d378bb0e?s=128&d=identicon&r=PG", "display_name": "boojum", "link": "https://stackoverflow.com/users/1842299/boojum"}, "edited": false, "score": 0, "creation_date": 1475700915, "post_id": 39883246, "comment_id": 67054028, "body": "Interesting suggestion but I don&#39;t think this is preferable because a) the &quot;proper folder&quot; has to be a subfolder of the project (otherwise it gets deleted) and b) the boost libraries are quite large. Copying them would add at least 5 minutes to the build."}, {"owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "reply_to_user": {"reputation": 182, "user_id": 1842299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/39b6a7df32378ac8ca7f1821d378bb0e?s=128&d=identicon&r=PG", "display_name": "boojum", "link": "https://stackoverflow.com/users/1842299/boojum"}, "edited": false, "score": 0, "creation_date": 1475701035, "post_id": 39883246, "comment_id": 67054085, "body": "@boojum Right. But you could create a <code>mklink</code> instead of complete boost copy."}, {"owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "reply_to_user": {"reputation": 182, "user_id": 1842299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/39b6a7df32378ac8ca7f1821d378bb0e?s=128&d=identicon&r=PG", "display_name": "boojum", "link": "https://stackoverflow.com/users/1842299/boojum"}, "edited": false, "score": 0, "creation_date": 1475701395, "post_id": 39883246, "comment_id": 67054237, "body": "@boojum I&#39;ve updated the answer. In your scripts you could use lots of internal TeamCity variables, so it&#39;s not a problem to configure the &quot;proper folder&quot;. As for myself, I always use <code>%system.teamcity.build.checkoutDir%</code> as a root folder for further file manipulation"}, {"owner": {"reputation": 182, "user_id": 1842299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/39b6a7df32378ac8ca7f1821d378bb0e?s=128&d=identicon&r=PG", "display_name": "boojum", "link": "https://stackoverflow.com/users/1842299/boojum"}, "edited": false, "score": 1, "creation_date": 1475704245, "post_id": 39883246, "comment_id": 67055446, "body": "Excellent the symbolic link works. Thanks for your help."}], "tags": [], "owner": {"reputation": 5956, "user_id": 1249472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e7d2ac9163237829d11cbf4ee7d563d?s=128&d=identicon&r=PG", "display_name": "Nikita", "link": "https://stackoverflow.com/users/1249472/nikita"}, "is_accepted": true, "score": 2, "last_activity_date": 1475701518, "last_edit_date": 1475701518, "creation_date": 1475699930, "answer_id": 39883246, "question_id": 39882430, "link": "https://stackoverflow.com/questions/39882430/how-to-configure-teamcity-build-agent-to-use-include-files-on-system/39883246#39883246", "title": "How to configure teamcity build agent to use include files on system?", "body": "<p>In your build configuration create a <strong>new build step</strong> before <code>sln</code> build which copies boost headers into proper folder. Use <a href=\"https://confluence.jetbrains.com/display/TCD10/Command+Line\" rel=\"nofollow\"><em>Command Line Runner</em></a> together with <code>xcopy</code> command to do this.</p>\n\n<p>Command line can use source checkout directory: </p>\n\n<pre><code>xcopy /Y /E \"E:\\local_boost_install_folder\" \"%system.teamcity.build.checkoutDir%\\src\\boost_1_59_0\"\n</code></pre>\n\n<p>One more approach is to set script Working Directory to <code>%system.teamcity.build.checkoutDir%\\src\\</code> and create directory link:</p>\n\n<pre><code>mklink /D boost_1_59_0 \"E:\\local_boost_install_folder\"\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 1842299, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/39b6a7df32378ac8ca7f1821d378bb0e?s=128&d=identicon&r=PG", "display_name": "boojum", "link": "https://stackoverflow.com/users/1842299/boojum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 717, "favorite_count": 1, "accepted_answer_id": 39883246, "answer_count": 1, "score": 2, "last_activity_date": 1475701518, "creation_date": 1475696757, "last_edit_date": 1475700477, "question_id": 39882430, "link": "https://stackoverflow.com/questions/39882430/how-to-configure-teamcity-build-agent-to-use-include-files-on-system", "title": "How to configure teamcity build agent to use include files on system?", "body": "<p>I've a project that uses boost headers/libraries for which I would like to create a build configuration for a team city build agent (TeamCity 10.0.2 / Windows 10 / Visual studio 2015). The boost headers/libraries are not part of the project (that is boost is not in git). Instead the boost headers/libraries on the development machines are located relative to the project files (for example $(SolutionDir)........\\boost_1_59_0).</p>\n\n<p>The build with the build agent fails because the boost header files can't be found. To resolve this I've tried to:</p>\n\n<ul>\n<li>use a fixed location (for example C:\\boost_1_59_0) and put boost on the same location on the machine where the build agent runs but that doesn't help.</li>\n<li>creating an environment variable INCLUDE and set it to to the location of boost. It shows up in the environment variables of the build agent in the team city web interface.</li>\n<li>copying boost to the build agents work directory doesn't work because the build agent removes the directory.</li>\n<li>setting the build agent/teamcity webserver to run as a non \"local system\" account.</li>\n</ul>\n\n<p>How can the build agent be configured so that it knows where to find the boost libraries?</p>\n"}, {"tags": ["c++", "matrix", "eigen"], "comments": [{"owner": {"reputation": 782, "user_id": 5145654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rRw4q.jpg?s=128&g=1", "display_name": "AaronI", "link": "https://stackoverflow.com/users/5145654/aaroni"}, "edited": false, "score": 0, "creation_date": 1475700720, "post_id": 39882405, "comment_id": 86998749, "body": "This is not a bug, you&#39;re using transpose wrong. See here: <a href=\"https://eigen.tuxfamily.org/dox/classEigen_1_1DenseBase.html#a3c187c30922fc5e42f208ae3eb0970ee\" rel=\"nofollow noreferrer\">eigen.tuxfamily.org/dox/&hellip;</a>"}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 1, "creation_date": 1475739550, "post_id": 39882405, "comment_id": 67066383, "body": "If you compiled without <code>-DNDEBUG</code> (or in so called debug mode) you should have got an assertion telling you the origin of the problem."}], "answers": [{"tags": [], "owner": {"reputation": 9447, "user_id": 2899559, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a7b94e56f041fd09320f9763d82861af?s=128&d=identicon&r=PG&f=1", "display_name": "Avi Ginsburg", "link": "https://stackoverflow.com/users/2899559/avi-ginsburg"}, "is_accepted": false, "score": 1, "last_activity_date": 1475723173, "creation_date": 1475723173, "answer_id": 39886883, "question_id": 39882405, "link": "https://stackoverflow.com/questions/39882405/why-eigen-version-3-2-5-cannot-get-correct-transposed-matrix/39886883#39886883", "title": "Why Eigen (version 3.2.5) cannot get correct transposed matrix", "body": "<p>That's caused by an aliasing effect, similar to what would happen if you did:</p>\n\n<pre><code>for(int i = 0; i &lt; a.size(); i++)\n    a[i] = a[a.size()-1-i];\n</code></pre>\n\n<p>You have several ways to circumvent this. The less preferable method would be to use a temporary:</p>\n\n<pre><code>m = m.transpose().eval();\n</code></pre>\n\n<p>or, better, to tell Eigen that it's the same matrix and use</p>\n\n<pre><code>m.transposeInPlace();\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 2475149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27395038f464a0a67833dfe484cb93f0?s=128&d=identicon&r=PG&f=1", "display_name": "Woolongtea", "link": "https://stackoverflow.com/users/2475149/woolongtea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1475723173, "creation_date": 1475696678, "question_id": 39882405, "link": "https://stackoverflow.com/questions/39882405/why-eigen-version-3-2-5-cannot-get-correct-transposed-matrix", "title": "Why Eigen (version 3.2.5) cannot get correct transposed matrix", "body": "<p>I am using Eigen library to do basic matrix manipulation. However, I could not even get a right transposed matrix from a 3*3 matrix. The following is a simple code sample:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;Eigen/Core&gt;\n#include &lt;Eigen/Dense&gt;\nusing namespace std;\nusing namespace Eigen;\n\nint main(int argc, char *argv[])\n{\n\nMatrix3d m;\n\nm &lt;&lt; 1, 2, 3, 4, 5, 6, 7, 8, 9;\ncout &lt;&lt; \"before transpose: \" &lt;&lt; endl;\ncout &lt;&lt; m;\ncout &lt;&lt; endl;\n\nm = m.transpose();\n\ncout &lt;&lt; \"after transpose: \" &lt;&lt; endl;\ncout &lt;&lt; m;\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>The print result is:</p>\n\n<pre><code>before transpose:\n1 2 3\n4 5 6\n7 8 9\nafter transpose:\n1 2 3\n2 5 6\n3 6 9\n</code></pre>\n\n<p>The result is pretty wierd. I was wondering what's wrong with my code? I think Eigen couldn't have had such a obvious bug.</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 4, "creation_date": 1475696587, "post_id": 39882321, "comment_id": 67051777, "body": "non-const lvalue refs don&#39;t bind to temporaries."}], "answers": [{"tags": [], "owner": {"reputation": 6770, "user_id": 3658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b40f4e2bead9eca6951da110a3c84e7?s=128&d=identicon&r=PG&f=1", "display_name": "hlscalon", "link": "https://stackoverflow.com/users/3658660/hlscalon"}, "is_accepted": true, "score": 1, "last_activity_date": 1475700412, "creation_date": 1475700412, "answer_id": 39883358, "question_id": 39882321, "link": "https://stackoverflow.com/questions/39882321/template-call-seem-to-be-unmatch/39883358#39883358", "title": "template call seem to be unmatch", "body": "<blockquote>\n  <p>it is creating a+b as const object ?</p>\n</blockquote>\n\n<p>No, it is creating a temporary. Temporaries are binded to rvalue references. You can verify that with a 'third' function (a universal reference, in this case)</p>\n\n<pre><code>template &lt;class T&gt; \nvoid assign(T&amp; t1, T&amp;&amp; t2) {\n    std::cout &lt;&lt; \"Third method\";\n    t1=t2;\n}\n</code></pre>\n\n<p>As you don't have one, the compiler will pick the const reference overload. Why ?</p>\n\n<p>Suppose you have</p>\n\n<pre><code>void add(int &amp; x)\n{\n    ++x;\n}\nunsigned y = 0;\nadd(y); // create a temporary to int\nstd::cout &lt;&lt; y &lt;&lt; \"\\n\"; // what's the value of y  ?\n</code></pre>\n"}], "owner": {"reputation": 639, "user_id": 5715485, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6cb679baae60c79d57ea33ee91424a96?s=128&d=identicon&r=PG&f=1", "display_name": "limitless", "link": "https://stackoverflow.com/users/5715485/limitless"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 39883358, "answer_count": 1, "score": 2, "last_activity_date": 1475700412, "creation_date": 1475696397, "question_id": 39882321, "link": "https://stackoverflow.com/questions/39882321/template-call-seem-to-be-unmatch", "title": "template call seem to be unmatch", "body": "<p>I have this program with 2 template functions : </p>\n\n<pre><code>#include &lt;iostream&gt;\ntemplate &lt;class T&gt; void assign(T&amp; t1,T&amp; t2){\n    std::cout &lt;&lt; \"First method\";\n    t1=t2;\n}\ntemplate &lt;class T&gt; void assign(T&amp; t1,const T&amp; t2) {\n    std::cout &lt;&lt; \"Second method\";\n    t1=t2;\n}\nclass A\n{\npublic:\n    A(int a):_a(a){};\nprivate:\n    int _a;\n    friend A operator+(const A&amp; l, const A&amp; r);\n};\nA operator+(const A&amp; l, const A&amp; r) {\n    return A(l._a+r._a);\n}\nint main ()\n{\n    A a=1;\n    const A b=2;\n    assign(a,a+b);\n}\n</code></pre>\n\n<p>i cant understand why does the <code>assign(a,a+b)</code> call the second template function \n, in the <code>operator+</code> we are createing a new <code>A</code> object and call the ctor with an int parameter.</p>\n\n<p>it is creating <code>a+b</code> as const object ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18687, "user_id": 3552770, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b0404d5b5bd565aa720c6b3d190716b3?s=128&d=identicon&r=PG", "display_name": "LogicStuff", "link": "https://stackoverflow.com/users/3552770/logicstuff"}, "edited": false, "score": 4, "creation_date": 1475696370, "post_id": 39882302, "comment_id": 67051647, "body": "Undefined behaviour is undefined."}, {"owner": {"reputation": 36141, "user_id": 4354477, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/SuxtS.gif?s=128&g=1", "display_name": "ForceBru", "link": "https://stackoverflow.com/users/4354477/forcebru"}, "edited": false, "score": 2, "creation_date": 1475696387, "post_id": 39882302, "comment_id": 67051656, "body": "I think you&#39;re getting a segmentation fault or another runtime error instead of the expected output"}, {"owner": {"reputation": 1098, "user_id": 6497438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d4986f27a3f0a255bf095e3b1fd3de?s=128&d=identicon&r=PG&f=1", "display_name": "evan", "link": "https://stackoverflow.com/users/6497438/evan"}, "edited": false, "score": 1, "creation_date": 1475696530, "post_id": 39882302, "comment_id": 67051744, "body": "deleting an object you didn&#39;t new into existence leads to undefined behavior."}, {"owner": {"reputation": 30596, "user_id": 134702, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7c1594304f3515b88e31bc8888f0f593?s=128&d=identicon&r=PG", "display_name": "Matt Hook", "link": "https://stackoverflow.com/users/134702/matt-hook"}, "edited": false, "score": 2, "creation_date": 1475697015, "post_id": 39882302, "comment_id": 67052044, "body": "Remove  lines <code>myClass *e = &amp;c;</code>  and  <code>delete e;</code> and the program will behave correctly.  c was allocated on the stack.  You can&#39;t delete from the stack!"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6928407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h-gz2iorLn0/AAAAAAAAAAI/AAAAAAAAABk/bcxfXpGsjFw/photo.jpg?sz=128", "display_name": "ReventonMC", "link": "https://stackoverflow.com/users/6928407/reventonmc"}, "edited": false, "score": 0, "creation_date": 1475696466, "post_id": 39882323, "comment_id": 67051698, "body": "So what I did is I deleted the reference of the class?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1475696498, "post_id": 39882323, "comment_id": 67051725, "body": "You <code>delete</code>d an instance that wasn&#39;t allocated with <code>new</code>. This is not permitted."}, {"owner": {"reputation": 15, "user_id": 6928407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h-gz2iorLn0/AAAAAAAAAAI/AAAAAAAAABk/bcxfXpGsjFw/photo.jpg?sz=128", "display_name": "ReventonMC", "link": "https://stackoverflow.com/users/6928407/reventonmc"}, "edited": false, "score": 0, "creation_date": 1475696562, "post_id": 39882323, "comment_id": 67051765, "body": "Oh, so this caused an error and just terminated my program. Thank you."}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 9, "last_activity_date": 1475697485, "last_edit_date": 1475697485, "creation_date": 1475696400, "answer_id": 39882323, "question_id": 39882302, "link": "https://stackoverflow.com/questions/39882302/c-after-delete/39882323#39882323", "title": "C++ after delete", "body": "<p>You can only <code>delete</code> objects that have been created with <code>new</code>.</p>\n\n<p>What you're doing is UB, by the means of double deletion.</p>\n\n<p>By the way, while in this case your program stopped execution right after the statement that had UB, it doesn't necessarily have to happen this way because</p>\n\n<blockquote>\n  <p>However, if any such execution contains an undefined operation, this\n  International Standard places no requirement on the implementation\n  executing that program with that input (not even with regard to\n  operations preceding the first undefined operation).</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 0, "last_activity_date": 1475696445, "creation_date": 1475696445, "answer_id": 39882336, "question_id": 39882302, "link": "https://stackoverflow.com/questions/39882302/c-after-delete/39882336#39882336", "title": "C++ after delete", "body": "<p>You caused undefined behavior by deleting something that was not newed.  You don't need to delete stuff that just points at some general location.  You only delete that which you created by calling <code>new</code> (not placement new!).</p>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 6928407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h-gz2iorLn0/AAAAAAAAAAI/AAAAAAAAABk/bcxfXpGsjFw/photo.jpg?sz=128", "display_name": "ReventonMC", "link": "https://stackoverflow.com/users/6928407/reventonmc"}, "edited": false, "score": 0, "creation_date": 1475696639, "post_id": 39882345, "comment_id": 67051812, "body": "I didn&#39;t got any error though. I used cpp.sh because I wasn&#39;t home XD"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 15, "user_id": 6928407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h-gz2iorLn0/AAAAAAAAAAI/AAAAAAAAABk/bcxfXpGsjFw/photo.jpg?sz=128", "display_name": "ReventonMC", "link": "https://stackoverflow.com/users/6928407/reventonmc"}, "edited": false, "score": 0, "creation_date": 1475696711, "post_id": 39882345, "comment_id": 67051862, "body": "Like I said you do not have to.  It is UB so nothing happening is perfectly valid."}, {"owner": {"reputation": 2361, "user_id": 5809597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43b1c037d08a423aeb6ee10fc922437?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Bellon", "link": "https://stackoverflow.com/users/5809597/jorge-bellon"}, "edited": false, "score": 0, "creation_date": 1475697549, "post_id": 39882345, "comment_id": 67052303, "body": "Strictly speaking, undefined behavior does not means the program is allowed to do what it wants. Instead, it means that what the program will do is not specified at all."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1475696977, "last_edit_date": 1475696977, "creation_date": 1475696476, "answer_id": 39882345, "question_id": 39882302, "link": "https://stackoverflow.com/questions/39882302/c-after-delete/39882345#39882345", "title": "C++ after delete", "body": "<p>You have undefined behavior.  You are not allowed to <code>delete</code> something that was not allocated with <code>new</code>.  In doing so you have undefined behavior and your program is allowed to do what it wants.</p>\n\n<p>Most likely you should have received some sort of hard fault that stopped the program from running.</p>\n"}, {"tags": [], "owner": {"reputation": 1131, "user_id": 3448634, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1b5b4e95d700f849977e3c3e99b4ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Makketronix", "link": "https://stackoverflow.com/users/3448634/makketronix"}, "is_accepted": false, "score": 0, "last_activity_date": 1475703149, "creation_date": 1475703149, "answer_id": 39884055, "question_id": 39882302, "link": "https://stackoverflow.com/questions/39882302/c-after-delete/39884055#39884055", "title": "C++ after delete", "body": "<p>Perhaps it is good idea for you to read about stack and heap memory.</p>\n\n<p>You must free only when you malloc (or other variations such as calloc).</p>\n\n<p>For example:</p>\n\n<pre><code>char *c = (char *)malloc(255);\n...\nfree(c)\n</code></pre>\n\n<p>You must delete only if you use new.</p>\n\n<pre><code>MyClass *e = new MyClass()\n... \ndelete e\n</code></pre>\n\n<p>You must delete[] only if you use new[]</p>\n\n<pre><code>char *data = new char[20]\n...\ndelete[] data\n</code></pre>\n\n<p>Now, if you do something like this:</p>\n\n<pre><code>...\n{\n  int x;\n  x = 3;\n}\n</code></pre>\n\n<p>x will be destroyed after the bracers because it is out of scope. This puts x on the stack. However, if you use malloc, new, or delete, the variable itself can be lost if you are not careful, but the memory is allocated. This is memory leak.</p>\n\n<p>What you have is even more dangerous. You are deleting something which was not allocated. The behavior is not defined. With time and patience, a skilled hacker can study the behavior and may be able to break into your system and acquire same privileges as your program.</p>\n"}], "owner": {"reputation": 15, "user_id": 6928407, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h-gz2iorLn0/AAAAAAAAAAI/AAAAAAAAABk/bcxfXpGsjFw/photo.jpg?sz=128", "display_name": "ReventonMC", "link": "https://stackoverflow.com/users/6928407/reventonmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1475703149, "creation_date": 1475696316, "question_id": 39882302, "link": "https://stackoverflow.com/questions/39882302/c-after-delete", "title": "C++ after delete", "body": "<p>I am new to C++ and I was wondering why...</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass myClass{\n    public:\n        void myMethod(){\n            cout &lt;&lt; \"It works!\" &lt;&lt; endl;\n        }\n        myClass(){\n            cout &lt;&lt; \"myClass is constructed!\" &lt;&lt; endl;\n        }\n        ~myClass(){\n            cout &lt;&lt; \"This class is destructed!\" &lt;&lt; endl;\n        }\n};\nint main()\n{\n    myClass c;\n    c.myMethod();\n    myClass *e = &amp;c;\n    delete e;\n    cout &lt;&lt; \"This is from main\" &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>So up there is the code. and the output is </p>\n\n<pre><code>myClass is constructed!\nIt works!\nThis class is destructed!\n</code></pre>\n\n<p>I am wondering where did the \"This is from main\" output go away.. does C++ doesn't execute codes after delete keyword?</p>\n"}, {"tags": ["c++", "multithreading", "boost", "queue", "message-queue"], "comments": [{"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475696204, "post_id": 39882243, "comment_id": 67051555, "body": "If only threads are sharing this queue, why use any interprocess stuff?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475696324, "post_id": 39882243, "comment_id": 67051610, "body": "Can&#39;t you just use a <a href=\"http://www.boost.org/doc/libs/1_59_0/doc/html/boost/lockfree/queue.html\" rel=\"nofollow noreferrer\"><code>boost::lockfree::queue</code></a>?"}, {"owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475696345, "post_id": 39882243, "comment_id": 67051622, "body": "@GManNickG At the other side there will be 1 thread (another process) reading what N threads had posted to the queue. I mean, it doesn&#39;t matter the order of messages through the queue, but N threads need to write through that queue. Is there another way to do that?"}, {"owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475696463, "post_id": 39882243, "comment_id": 67051697, "body": "@NathanOliver I don&#39;t really know how to use that lock : /."}, {"owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475696511, "post_id": 39882243, "comment_id": 67051729, "body": "@Pric: Please don&#39;t mix threads and process. Threads are contained within a process, but are not the same. It sounds like you have another process reading from this process&#39;s queue, and want a multiple-producer single-consumer queue that supports this. The fact that threads are involved within each of these processes would be relatively irrelevant. Is this a correct summary?"}, {"owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475696879, "post_id": 39882243, "comment_id": 67051968, "body": "@GManNickG Yes, that&#39;s exactly what I need. A multiple-producer single-consumer queue. N threads writing messages and just 1 thread reading from that queue (all threads are threads of the same process). It doesn&#39;t matter the order of the messages inside the queue."}, {"owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "reply_to_user": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "edited": false, "score": 0, "creation_date": 1475697714, "post_id": 39882243, "comment_id": 67052379, "body": "@GManNickG If there is a better way to do what I need when N threads and the thread that read are part of different processes, I could build that way too."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "edited": false, "score": 0, "creation_date": 1475762283, "post_id": 39884910, "comment_id": 67081556, "body": "It works like a charm :D. I had to modify some things because I couldn&#39;t make it to compile (i think this is due the compiler) but it is now working really fine. Thank you very much."}], "tags": [], "owner": {"reputation": 457352, "user_id": 87234, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FkjBe.png?s=128&g=1", "display_name": "GManNickG", "link": "https://stackoverflow.com/users/87234/gmannickg"}, "is_accepted": true, "score": 2, "last_activity_date": 1475708050, "creation_date": 1475708050, "answer_id": 39884910, "question_id": 39882243, "link": "https://stackoverflow.com/questions/39882243/is-it-possible-to-build-a-concurrent-interprocess-message-queue-using-boost/39884910#39884910", "title": "Is it possible to build a concurrent interprocess message queue using boost?", "body": "<p>The given examples for <code>boost::interprocess::message_queue</code> work for me. These classes are already thread-safe, so intra-process threads are not a problem.</p>\n\n<p>Here's a full example of a shared message queue. Let me know if you have trouble using it.</p>\n\n<p><code>shared_mq.hpp</code>:</p>\n\n<pre><code>#include &lt;boost/interprocess/ipc/message_queue.hpp&gt;\n\n// could easily be made a template; make sure T is a POD!\nclass shared_mq {\npublic:\n  shared_mq(const char* const name,\n            const unsigned max_queue_size) :\n    shared_mq{ name, max_queue_size, delete_queue(name) }\n  {}\n\n  shared_mq(const char* const name) :\n    mq_{ boost::interprocess::open_only, name }\n  {}\n\n  void send(int i) {\n    mq_.send(&amp;i, sizeof(i), 0 /* priority */);\n  }\n\n  int receive() {\n    int result;\n    boost::interprocess::message_queue::size_type recvsize;\n    unsigned recvpriority;\n    mq_.receive(&amp;result, sizeof(result), recvsize, recvpriority);\n    return result;\n  }\n\nprivate:\n  struct did_delete_t {};\n\n  did_delete_t delete_queue(const char* const name) {\n    boost::interprocess::message_queue::remove(name);\n    return did_delete_t{};\n  }\n\n  shared_mq(const char* const name,\n            const unsigned max_queue_size,\n            did_delete_t) :\n    mq_ { boost::interprocess::create_only, name, max_queue_size, sizeof(int) }\n  {}\n\n  boost::interprocess::message_queue mq_;\n};\n</code></pre>\n\n<p><code>client.cpp</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;thread&gt;\n\n#include \"shared_mq.hpp\"\n\nvoid send_ints(shared_mq&amp; mq, const unsigned count) {\n  std::random_device rd;\n  std::mt19937 mt{ rd() };\n  std::uniform_int_distribution&lt;int&gt; dist{0, 10000};\n  for (unsigned i = 0; i != count; ++i) {\n    mq.send(dist(mt));\n  }\n}\n\nint main ()\n{\n  std::cout &lt;&lt; \"Starting client.\" &lt;&lt; std::endl; \n  try {\n    std::cout &lt;&lt; \"Creating queue...\" &lt;&lt; std::endl;\n    constexpr unsigned kQueueSize = 100;\n    shared_mq mq{ \"my_queue\", kQueueSize };\n\n    std::cout &lt;&lt; \"Sending ints...\" &lt;&lt; std::endl;\n    std::thread t1{ send_ints, std::ref(mq), 25};\n    std::thread t2{ send_ints, std::ref(mq), 25};\n    t1.join();\n    t2.join();\n\n    mq.send(-1);  // magic sentinel value\n  }\n  catch (boost::interprocess::interprocess_exception&amp; ex) {\n    std::cerr &lt;&lt; ex.what() &lt;&lt; std::endl;\n    return 1;\n  }\n\n  std::cout &lt;&lt; \"Finished client.\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>\n\n<p><code>server.cpp</code>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include \"shared_mq.hpp\"\n\nint main ()\n{\n  std::cout &lt;&lt; \"Starting server.\" &lt;&lt; std::endl; \n  try {\n    std::cout &lt;&lt; \"Opening queue...\" &lt;&lt; std::endl;\n    shared_mq mq{ \"my_queue\" };\n\n    std::cout &lt;&lt; \"Receiving ints...\" &lt;&lt; std::endl;\n    for (;;) {\n      const int x = mq.receive();\n      if (x == -1) {\n        // magic sentinel value\n        break;\n      }\n      std::cout &lt;&lt; \"Received: \" &lt;&lt; x &lt;&lt; std::endl;\n    }\n  }\n  catch (boost::interprocess::interprocess_exception&amp; ex) {\n    std::cerr &lt;&lt; ex.what() &lt;&lt; std::endl;\n    return 1;\n  }\n\n  std::cout &lt;&lt; \"Finished server.\" &lt;&lt; std::endl;\n  return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 3168183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee1c573d0cec2cf4aed6aff2b62763b3?s=128&d=identicon&r=PG&f=1", "display_name": "Pric", "link": "https://stackoverflow.com/users/3168183/pric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1993, "favorite_count": 1, "accepted_answer_id": 39884910, "answer_count": 1, "score": 1, "last_activity_date": 1475708119, "creation_date": 1475696080, "last_edit_date": 1475708119, "question_id": 39882243, "link": "https://stackoverflow.com/questions/39882243/is-it-possible-to-build-a-concurrent-interprocess-message-queue-using-boost", "title": "Is it possible to build a concurrent interprocess message queue using boost?", "body": "<p>I am trying to build an application which have multiple processes. These processes need to write concurrently through the same message queue. At the other side, there will be just one process reading that queue.</p>\n\n<p>Is that possible using boost? Or do I have to implement that mutual exclusion?</p>\n\n<p>I took a look at the example source code but it is not working properly for my needs. I don't know if I'm missing something.</p>\n\n<p>This is the code on the client:</p>\n\n<pre><code>#include &lt;boost/interprocess/ipc/message_queue.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;unistd.h&gt;\n\nusing namespace boost::interprocess;\n\nint main ()\n{\n   try{\n      //Erase previous message queue\n      //message_queue::remove(\"message_queue\");\n\n      //Create a message_queue.\n      message_queue mq\n         (open_or_create               //only create\n         ,\"message_queue\"           //name\n         ,100                       //max message number\n         ,sizeof(int)               //max message size\n         );\n\n      //Send 100 numbers\n      for(int i = 0; i &lt; 100; ++i){\n         printf(\"Sending: %d\\n\", i);\n         usleep(1000000);\n         mq.send(&amp;i, sizeof(i), 0);\n      }\n   }\n   catch(interprocess_exception &amp;ex){\n      std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;\n      return 1;\n   }\n\n   return 0;\n}\n</code></pre>\n\n<p>And server code:</p>\n\n<pre><code>#include &lt;boost/interprocess/ipc/message_queue.hpp&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\nusing namespace boost::interprocess;\n\nint main ()\n{\n   try{\n      //message_queue::remove(\"message_queue\");\n\n      //Open a message queue.\n      message_queue mq\n         (open_only      //only create\n         ,\"message_queue\"  //name\n         );\n\n      unsigned int priority;\n      message_queue::size_type recvd_size;\n\n      //Receive 100 numbers\n      for(int i = 0; i &lt; 100; ++i){\n         int number;\n         mq.receive(&amp;number, sizeof(number), recvd_size, priority);\n         if(number != i || recvd_size != sizeof(number))\n            return 1;\n\n         cout &lt;&lt; number &lt;&lt; endl;\n      }\n   }\n   catch(interprocess_exception &amp;ex){\n      message_queue::remove(\"message_queue\");\n      std::cout &lt;&lt; ex.what() &lt;&lt; std::endl;\n      return 1;\n   }\n   //message_queue::remove(\"message_queue\");\n   return 0;\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["c++", "windows", "psapi"], "comments": [{"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1475696278, "post_id": 39882072, "comment_id": 67051586, "body": "Did you see the bit of the docs that says it&#39;s in different files, depending on OS version?"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 1, "creation_date": 1475705678, "post_id": 39882072, "comment_id": 67055919, "body": "@enhzflep: probably not relevant, because the OP is explicitly incorporating <code>psapi.lib</code> and <code>kernel32.lib</code> is always included.  The fact that the name has changed to <code>K32GetProcessMemoryInfo</code> (unless you explicitly define <code>PSAPI_VERSION</code> to 1) is probably more to the point."}, {"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "reply_to_user": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1475706337, "post_id": 39882072, "comment_id": 67056123, "body": "@HarryJohnston - Cheers, thanks for that. Interesting to hear that VS works like that. I only ever link kernel32 if I know I need something inside it (I only use VS for the <i>stellar</i> debugger)"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "reply_to_user": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 1, "creation_date": 1475706565, "post_id": 39882072, "comment_id": 67056190, "body": "@enhzflep: it&#39;s one of the handful of frequently-used libraries included in the default settings.  Including an unused library has no overhead (except at build time, and even that&#39;s negligible) so there&#39;s no particular reason to be choosy.  But you do have a point - the OP might not be using the default settings, in which case kernel32.lib might not be present."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 2, "creation_date": 1475755591, "post_id": 39882072, "comment_id": 67076629, "body": "The pragma is quite wrong, it is #pragma comment(lib, \u201cPsapi.lib\u201d).  The posted version produces lots of noise, both from the compiler because of the wrong double-quotes and from the linker because of the wrong directive.  Only way you can&#39;t hear that is if the pragma is bypassed completely by the pre-processor."}], "owner": {"reputation": 131, "user_id": 6669571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6352628743d353ce7c22577767d98c1?s=128&d=identicon&r=PG", "display_name": "Julio C&#225;ceres", "link": "https://stackoverflow.com/users/6669571/julio-c%c3%a1ceres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1817, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1510103312, "creation_date": 1475695327, "question_id": 39882072, "link": "https://stackoverflow.com/questions/39882072/unresolved-external-symbol-getprocessmemoryinfo", "title": "Unresolved external symbol GetProcessMemoryInfo", "body": "<p>I'm trying to compile an Apache HTTP server module. One of the steps involves compiling from source. The problem is that I'm getting</p>\n\n<pre><code>wsgi_memory.obj : error LNK2019: unresolved external symbol GetProcessMemoryInfo \nreferenced in function get PeakRSS\n</code></pre>\n\n<p>Then I checked the source for wsgi_memory to check if it was missing some libraries, it currently has the following</p>\n\n<pre><code>#include &lt;windows.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;Psapi.h&gt;\n#pragma comment(linker, \u201cPsapi.lib\u201d) \n</code></pre>\n\n<p>I currently have Windows SDK 7.1, should I update something?</p>\n"}, {"tags": ["c++", "g++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 1, "creation_date": 1475700999, "post_id": 39882045, "comment_id": 67054065, "body": "Good guy. Leading their own dupe finding."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1475701010, "post_id": 39882045, "comment_id": 67054073, "body": "You flagged your own question for closing? I don&#39;t think I&#39;ve ever seen that before."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475701057, "post_id": 39882045, "comment_id": 67054093, "body": "@MarkRansom I&#39;ve seen that a number of times before, and done myself."}], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1475700956, "answer_count": 0, "score": 2, "last_activity_date": 1475695201, "creation_date": 1475695201, "last_edit_date": 1495541211, "question_id": 39882045, "link": "https://stackoverflow.com/questions/39882045/how-can-i-safely-down-convert-an-integer-to-a-bitfield-in-the-context-of-bitwise", "closed_reason": "Duplicate", "title": "How can I safely down-convert an integer to a bitfield in the context of bitwise or?", "body": "<p>Earlier, I asked <a href=\"https://stackoverflow.com/q/39880892/391161\">this question</a> and received an answer that worked for the example I provided, but appears to not generalize to bitwise OR. Here is the example from that question, but with bitwise OR added.</p>\n\n<pre><code>#include &lt;stdint.h&gt;\n\nstruct MaskAndCount{\n    uint64_t occupied : 56;\n    uint8_t numOccupied : 8;\n};\n\nint main(){\n    int count = 7;\n    MaskAndCount foo;\n    foo.occupied &amp;= ~(1L &lt;&lt; count) &amp; 0x00FFFFFFFFFFFFFF;\n    foo.occupied |= (1L &lt;&lt; count) &amp; 0x00FFFFFFFFFFFFFF;\n}\n</code></pre>\n\n<p>Now, when we compile, we do not get the warning from the first line, but we do get a warning from the second line.</p>\n\n<pre><code>g++ -Wconversion Main.cc\nMain.cc: In function \u2018int main()\u2019:\nMain.cc:12:18: warning: conversion to \u2018long unsigned int:56\u2019 from \u2018long unsigned int\u2019 may alter its value [-Wconversion]\n     foo.occupied |= (1L &lt;&lt; count) &amp; 0x00FFFFFFFFFFFFFF;\n</code></pre>\n\n<p>Again, I will pose the same two questions.</p>\n\n<ol>\n<li>Will the conversion as written have the desired effect of truncating the higher bits of the value on the right?</li>\n<li>Is there is a way to either silence the warning locally or expressing the same behavior with a different syntax which does not trigger the warning?</li>\n</ol>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 13028, "user_id": 1401351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993d07ca1cd59dd11d96a896e7c804d0?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1401351/peter"}, "edited": false, "score": 1, "creation_date": 1475695686, "post_id": 39882037, "comment_id": 67051260, "body": "Passing an iterator is odd.  Just pass a const reference to the whole array."}, {"owner": {"reputation": 13028, "user_id": 1401351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993d07ca1cd59dd11d96a896e7c804d0?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1401351/peter"}, "edited": false, "score": 0, "creation_date": 1475697162, "post_id": 39882037, "comment_id": 67052136, "body": "Also don&#39;t use &quot;jagged arrays&quot; (vector &lt; vector &lt; T &gt; &gt;) for 2d matrix things.  Use an existing matrix library, or do your own indexing into a contiguous buffer."}], "answers": [{"tags": [], "owner": {"reputation": 3977, "user_id": 3286661, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2111859aa05157fab64e52e795cc1034?s=128&d=identicon&r=PG&f=1", "display_name": "nishantsingh", "link": "https://stackoverflow.com/users/3286661/nishantsingh"}, "is_accepted": true, "score": 0, "last_activity_date": 1475695385, "creation_date": 1475695385, "answer_id": 39882089, "question_id": 39882037, "link": "https://stackoverflow.com/questions/39882037/c-pass-two-dimentional-vector-to-function/39882089#39882089", "title": "c++ pass two dimentional vector to function", "body": "<p>Perhaps what you want is this:</p>\n\n<pre><code>for(i = 1; i &lt;= n; i++)\n{\n    for(j = 1; j &lt;= n; j++)\n    {\n        cout &lt;&lt; (*map_b)[j];\n    }\n    cout &lt;&lt; endl;\n    map_b++;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6742930, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/W6MeC.png?s=128&g=1", "display_name": "B.Pukhalskyi", "link": "https://stackoverflow.com/users/6742930/b-pukhalskyi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 39882089, "answer_count": 1, "score": -2, "last_activity_date": 1475695385, "creation_date": 1475695176, "question_id": 39882037, "link": "https://stackoverflow.com/questions/39882037/c-pass-two-dimentional-vector-to-function", "title": "c++ pass two dimentional vector to function", "body": "<p>I need to pass two dimentional vector to my function. I tried to do it by passing iterator to the begining of the array. But the error occured.</p>\n\n<pre><code>using namespace std;\n\ndisplayArrays(vector&lt; vector&lt; int &gt; &gt;::iterator map_b, vector&lt; int &gt;::iterator row_b, int n, int o){\n    int i, j;\n\n    for(i = 1; i &lt;= n; i++)\n    {\n        for(j = 1; j &lt;= n; j++)\n        {\n            cout &lt;&lt; *map_b + 1;//error is here\n        }\n        cout &lt;&lt; endl;\n    }\n\n    cout &lt;&lt; endl;\n    for(i = 1; i &lt; o; i++)\n    {\n        cout  &lt;&lt; *row_b++ &lt;&lt; ' ';\n    }\n}\n\nint main(){\n    int n, o;\n\n    cin &gt;&gt; n;\n\n    vector&lt; vector&lt; int &gt; &gt; map(n, vector&lt; int &gt;( n ));\n    //filling up array in loop\n\n    o = n * n;\n    vector&lt; int &gt; row(n*n);\n\n    vector&lt; vector&lt; int &gt; &gt;::iterator map_b = map.begin();\n    vector&lt; int &gt;::iterator row_b = row.begin();\n    displayArrays(map_b, row_b, n, o);\n}\n</code></pre>\n\n<p>[Error] no match for 'operator+' (operand types are 'std::vector' and 'int')</p>\n"}, {"tags": ["c++", "boolean"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 2, "creation_date": 1475695206, "post_id": 39882021, "comment_id": 67051006, "body": "Have a look at the <a href=\"http://en.cppreference.com/w/cpp/language/operator_precedence\" rel=\"nofollow noreferrer\">operator precedence</a> rules."}, {"owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "edited": false, "score": 1, "creation_date": 1475695519, "post_id": 39882021, "comment_id": 67051190, "body": "Operator precedence rules are not even useful in this case, because every expression is delimited by parenthesis."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "edited": false, "score": 1, "creation_date": 1475695555, "post_id": 39882021, "comment_id": 67051207, "body": "In this case there are clearly parantheses around the OR expression right? Is it not clear that this means it is evaluated first and the result evaluted with the operator outside the parantheses? I don&#39;t folow what your problem with this particular example is."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 1, "creation_date": 1475696093, "post_id": 39882021, "comment_id": 67051495, "body": "&quot;For example would it be the or statement AND the result of the two and statements?&quot; -- If you&#39;re asking whether <code>(a || b) &amp;&amp; c &amp;&amp; d</code> means <code>((a || b) &amp;&amp; c) &amp;&amp; d</code> or <code>(a || b) &amp;&amp; (c &amp;&amp; d)</code>: that doesn&#39;t make any difference whatsoever. If that&#39;s not what you&#39;re asking, please help us understand by explaining in a bit more detail which aspect is confusing you."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1475696271, "post_id": 39882021, "comment_id": 67051584, "body": "If you remove the superfluous parentheses you are left with: <code>(!(x &lt; z) || y &gt; z) &amp;&amp; z == 12 &amp;&amp; y == 10</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "is_accepted": false, "score": 0, "last_activity_date": 1475695712, "creation_date": 1475695712, "answer_id": 39882156, "question_id": 39882021, "link": "https://stackoverflow.com/questions/39882021/how-to-read-multiple-boolean-operators-at-once-in-c/39882156#39882156", "title": "How to read multiple Boolean operators at once in C++", "body": "<pre><code>((!(x &lt; z) || (y &gt; z)) &amp;&amp; (z==12) &amp;&amp; (y==10))\n((!(7 &lt; 12) || (10 &gt; 12)) &amp;&amp; (12==12) &amp;&amp; (10==10))\n((!(true) || false) &amp;&amp; true &amp;&amp; true)\n((false || false) &amp;&amp; true &amp;&amp; true)\n(false &amp;&amp; true &amp;&amp; true)\nfalse\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6928318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0553ef839724e4489df017fed098c1de?s=128&d=identicon&r=PG&f=1", "display_name": "biggem", "link": "https://stackoverflow.com/users/6928318/biggem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 833, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475695712, "creation_date": 1475695142, "last_edit_date": 1475695217, "question_id": 39882021, "link": "https://stackoverflow.com/questions/39882021/how-to-read-multiple-boolean-operators-at-once-in-c", "title": "How to read multiple Boolean operators at once in C++", "body": "<p>I'm trying to find the result (True or  False) of:</p>\n\n<pre><code>x = 7, y = 10, z = 12\n\n((!(x &lt; z) || (y &gt; z)) &amp;&amp; (z==12) &amp;&amp; (y==10))\n</code></pre>\n\n<p>but I'm having trouble reading it. For example would it be the or statement AND the result of the two and statements? </p>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 1382, "user_id": 4855159, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Qs0Mv.jpg?s=128&g=1", "display_name": "Mara Black", "link": "https://stackoverflow.com/users/4855159/mara-black"}, "edited": false, "score": 0, "creation_date": 1475701796, "post_id": 39881968, "comment_id": 67054405, "body": "Try <a href=\"http://doc.qt.io/qt-5/qtableview.html#setSpan\" rel=\"nofollow noreferrer\">QTableWidget::setSpan(int row, int column, int rowSpan, int columnSpan);</a> for merging. :-?"}], "answers": [{"tags": [], "owner": {"reputation": 3447, "user_id": 4297146, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Zl9y3.jpg?s=128&g=1", "display_name": "mohabouje", "link": "https://stackoverflow.com/users/4297146/mohabouje"}, "is_accepted": false, "score": 1, "last_activity_date": 1475734632, "creation_date": 1475734632, "answer_id": 39888805, "question_id": 39881968, "link": "https://stackoverflow.com/questions/39881968/how-to-create-a-qtablewidget-with-custom-header/39888805#39888805", "title": "how to create a qtablewidget with custom header", "body": "<p>You could customize every single header column by using <a href=\"http://doc.qt.io/qt-4.8/qtablewidget.html#setHorizontalHeaderItem\" rel=\"nofollow noreferrer\">setHorizontalHeaderItem</a> or just set the text in all column header by using <a href=\"http://doc.qt.io/qt-4.8/qtablewidget.html#setHorizontalHeaderLabels\" rel=\"nofollow noreferrer\">setHorizontalHeadersLabels</a>. </p>\n\n<p>An easy way to implement your attached image is by customizing your own QWidget. Use a vertical layour and consider your Icp (mA) header as a custom label with a center alignment. </p>\n\n<p>Then insert your QTableWidget and set the headers as (3kOmega, 5.1kOmega &amp; 11kOmega). Something like this:</p>\n\n<pre><code>QWidget* container = new QWidget(this);\nQVBoxLayout* layout = new QVBoxLayout(this);\n\n// Custom label\nQLabel* header = new QLabel(this);\nheader-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Fixed);\nheader-&gt;setAlignment(Qt::AlignHCenter);\nheader-&gt;setText(\"Icp (mA)\");\n\n// Custom QTableWidget\nQTableWidget* table = new QTableWidget(this);\ntable-&gt;setColumnCount(3);\nQStringList LIST;\nLIST &lt;&lt; \"3k\" &lt;&lt; \"11k\" &lt;&lt; \"15k\";\ntable-&gt;setHorizontalHeaderLabels(LIST);\ntable-&gt;setSizePolicy(QSizePolicy::Expanding, QSizePolicy::Expanding);\ntable-&gt;horizontalHeader()-&gt;setStretchLastSection(true);\n\nlayout-&gt;addWidget(header);\nlayout-&gt;addWidget(table);\ncontainer-&gt;setLayout(layout);\nsetCentralWidget(container);\n</code></pre>\n\n<p>Giving you something like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UU9gn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UU9gn.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1841, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475734632, "creation_date": 1475694953, "question_id": 39881968, "link": "https://stackoverflow.com/questions/39881968/how-to-create-a-qtablewidget-with-custom-header", "title": "how to create a qtablewidget with custom header", "body": "<p>I'm trying to create an exact copy of the following table in <code>Qt</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/F3END.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F3END.png\" alt=\"enter image description here\"></a></p>\n\n<p>How would I create a header like that? Is there a way to do it in <code>Qt</code>? </p>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "edited": false, "score": 1, "creation_date": 1475729517, "post_id": 39881852, "comment_id": 67061856, "body": "Would it be sufficient to renamed the column from &quot;Checked&quot; to &quot;&quot; ?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6928387, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf42c656e82e9ccc47b0c4766082bf27?s=128&d=identicon&r=PG&f=1", "display_name": "Baxulio", "link": "https://stackoverflow.com/users/6928387/baxulio"}, "is_accepted": false, "score": 0, "last_activity_date": 1475728767, "creation_date": 1475728767, "answer_id": 39887634, "question_id": 39881852, "link": "https://stackoverflow.com/questions/39881852/how-to-make-corner-header-cell-invisible-while-keeping-the-header-in-qt/39887634#39887634", "title": "How to make corner header cell invisible while keeping the header in Qt", "body": "<p>I'm not sure if there's a way to hide a table column's header but I can suggest you to play with roles. For example:</p>\n\n<pre><code>QVariant tableModel::headerData(int section, Qt::Orientation orientation, int role) const\n{\n    if(section == 0)\n       if(role==Qt::DisplayRole)\n           return QVariant();             //returns nothing\n       else if(role==Qt::BackgroundRole)\n           return QVariant();\n\n       //else if(role==Qt::BackgroundColorRole)   //here you can set your own color\n       //    return QColor(qRgb(220,220,220));\n\n    return QAbstractTableModel::headerData(section,orientation,role);\n}\n</code></pre>\n\n<p>Or also you can set your own color or gradient that matches your table's background</p>\n\n<ul>\n<li>If you haven't met MVC before (don't know where to put this code) just read this and everything will be clear : <a href=\"http://doc.qt.io/qt-4.8/modelview.html\" rel=\"nofollow\">Model/View Tutorial</a></li>\n</ul>\n"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475728767, "creation_date": 1475694458, "question_id": 39881852, "link": "https://stackoverflow.com/questions/39881852/how-to-make-corner-header-cell-invisible-while-keeping-the-header-in-qt", "title": "How to make corner header cell invisible while keeping the header in Qt", "body": "<p>I have created a following table in <code>Qt</code>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ycaK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ycaK1.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like to make the cell that says <code>Checked</code> invisible. It is possible in <code>Qt</code>. I looked online but wasn't able to find anything that would explain it. The explanations that I found only talk about how to make headers visible/invisible. </p>\n\n<p>Is it possible to make this cell invisible? If yes, then how would I do it? Any help is appreciated.</p>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 28830, "user_id": 634821, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6d6c32f9917c7209b1bd9dfe888c293?s=128&d=identicon&r=PG", "display_name": "Violet Giraffe", "link": "https://stackoverflow.com/users/634821/violet-giraffe"}, "edited": false, "score": 0, "creation_date": 1475694840, "post_id": 39881788, "comment_id": 67050778, "body": "Do you think it will look better? I think it&#39;s best with left alignment, just add some left margin/padding for clearance."}, {"owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "reply_to_user": {"reputation": 28830, "user_id": 634821, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6d6c32f9917c7209b1bd9dfe888c293?s=128&d=identicon&r=PG", "display_name": "Violet Giraffe", "link": "https://stackoverflow.com/users/634821/violet-giraffe"}, "edited": false, "score": 0, "creation_date": 1475695182, "post_id": 39881788, "comment_id": 67050989, "body": "It really is not me who want&#39;s it. It is my boss. Any way to do it without padding. The size of the cell will change and it would be nice if it could align itself automatically."}, {"owner": {"reputation": 28830, "user_id": 634821, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d6d6c32f9917c7209b1bd9dfe888c293?s=128&d=identicon&r=PG", "display_name": "Violet Giraffe", "link": "https://stackoverflow.com/users/634821/violet-giraffe"}, "edited": false, "score": 0, "creation_date": 1475696271, "post_id": 39881788, "comment_id": 67051583, "body": "Yeah, I understand, I wasn&#39;t suggesting padding as a way of centering the item."}, {"owner": {"reputation": 1382, "user_id": 4855159, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Qs0Mv.jpg?s=128&g=1", "display_name": "Mara Black", "link": "https://stackoverflow.com/users/4855159/mara-black"}, "edited": false, "score": 1, "creation_date": 1475700808, "post_id": 39881788, "comment_id": 67053977, "body": "Did you try to put the table into <code>QHBoxLayout</code> ? (according to this <a href=\"http://stackoverflow.com/questions/14847928/qt-centering-a-checkbox-in-a-qtable\">qt-centering-a-checkbox-in-a-qtable</a>  and this <a href=\"http://falsinsoft.blogspot.ro/2013/11/qtablewidget-center-checkbox-inside-cell.html\" rel=\"nofollow noreferrer\">qtablewidget-center-checkbox-inside-cell</a>)"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 388, "favorite_count": 0, "closed_date": 1475701847, "answer_count": 0, "score": 1, "last_activity_date": 1475694218, "creation_date": 1475694218, "question_id": 39881788, "link": "https://stackoverflow.com/questions/39881788/how-to-align-center-align-a-radio-button-inside-a-qtable-widget", "closed_reason": "Duplicate", "title": "how to align center align a radio button inside a qtable widget?", "body": "<p>I created a following table in <code>Qt</code>:\n<a href=\"https://i.stack.imgur.com/LRjGv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LRjGv.png\" alt=\"enter image description here\"></a></p>\n\n<p>The radio buttons in the first column are left aligned. I want them to be center aligned. I looked online but I wasn't able to find anything that would explain how to do it. Can someone help me out?</p>\n"}, {"tags": ["c++", "struct", "declaration"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 1, "creation_date": 1475693817, "post_id": 39881654, "comment_id": 67050214, "body": "<code>struct Name;</code> is a forward-declaration you&#39;re looking for."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1475693987, "post_id": 39881654, "comment_id": 67050323, "body": "you should post the exact error message along with the question"}, {"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 0, "creation_date": 1475694045, "post_id": 39881654, "comment_id": 67050365, "body": "How is this offtopic?"}, {"owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "edited": false, "score": 5, "creation_date": 1475694099, "post_id": 39881654, "comment_id": 67050386, "body": "A forward declaration won&#39;t work here, as main() uses members from the struct.  You have to define the struct before main.  If you dislike the aesthetics, put the struct in a header."}], "answers": [{"comments": [{"owner": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 1, "creation_date": 1475694389, "post_id": 39881723, "comment_id": 67050556, "body": "I didn&#39;t read very carefully to be honest, but I didn&#39;t downvote either. I would suggest to switch first and second part of an answer because first one is kind of irrelevant to the given question."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 56265, "user_id": 283676, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/82d3ad1de1b2b52e33ae85a9e396cdeb?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/283676/andrey"}, "edited": false, "score": 0, "creation_date": 1475694790, "post_id": 39881723, "comment_id": 67050751, "body": "@Andrey good point. actually I added the last sentence only later. As I understand the question it is about forward declaring a struct in general and OPs code just serves as an example"}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 1, "last_activity_date": 1475741813, "last_edit_date": 1475741813, "creation_date": 1475693953, "answer_id": 39881723, "question_id": 39881654, "link": "https://stackoverflow.com/questions/39881654/how-can-i-declare-a-struct/39881723#39881723", "title": "How can I declare a struct?", "body": "<p>In your particular case a forward declaration wont help, because a forward declaration only allows you to use pointers or references, as e.g. in</p>\n\n<pre><code>struct foo;\nfoo* bar(foo f*) { return f;}\nstruct foo { int x; }\n</code></pre>\n\n<p>However,</p>\n\n<pre><code>struct Products {std::string};\n</code></pre>\n\n<p>is not a declaration, but if you want an ill-formed declaration and definition.\nThe correct forward declaration would be:</p>\n\n<pre><code>struct Products;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475694545, "post_id": 39881774, "comment_id": 67050639, "body": "@AnT <i>&quot;you have to completely define&quot;</i> I think declaration is enough."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1475694648, "post_id": 39881774, "comment_id": 67050674, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 : I&#39;m not sure what you mean. The OP&#39;s usage requires class <i>definition</i> to be visible from <code>main</code> (i.e. a defining declaration is needed, as opposed to a non-defining one)."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475695229, "post_id": 39881774, "comment_id": 67051016, "body": "@AnT The ole confusion about <i>declaration</i> and <i>definition</i>. A forward declaration isn&#39;t a full class <i>declaration</i>."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475695843, "post_id": 39881774, "comment_id": 67051348, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 With all due respect, you seem to be the one who is confused about the accepted terminology."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475695909, "post_id": 39881774, "comment_id": 67051384, "body": "@TimSeguine Be assured I&#39;m not."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475696299, "post_id": 39881774, "comment_id": 67051593, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Then enlighten me as to what you think a &quot;full declaration&quot; is according to the standard. What would a &quot;full declaration&quot; look like syntactically, given that the standard defines no such nomenclature?"}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475696478, "post_id": 39881774, "comment_id": 67051707, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6: Well, to be precise, formal terminology does not include the concepts of &quot;forward declaration&quot; or &quot;full definition&quot;. In the formal terminology we have: 1) <i>class declarations</i> that also happen to be <i>class definitions</i> (or simply <i>class definitions</i>, or what I call &quot;defining declarations&quot;), 2) <i>class declarations</i> that do not define the class  (or what I call &quot;non-defining declarations&quot;). &quot;Forward declaration&quot; is an informal name for 2. &quot;Full declaration&quot; is a reference to 1, to which I added the word &quot;full&quot; (or &quot;complete&quot;) just to reinforce my point and reinforce the distinction."}, {"owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475696793, "post_id": 39881774, "comment_id": 67051910, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6: In C++ every definition is a declaration at the same time (with few non-germane caveats). Which is why <i>declaration</i> is a very vague and confusing term in a discussion about the matters of &quot;defintions vs. non-defintions&quot;."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475696953, "post_id": 39881774, "comment_id": 67052012, "body": "@AnT In that particular case, yes. Though the terminology is a bit of screwed up and misleading for the current example."}], "tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 11, "last_activity_date": 1475694830, "last_edit_date": 1475694830, "creation_date": 1475694175, "answer_id": 39881774, "question_id": 39881654, "link": "https://stackoverflow.com/questions/39881654/how-can-i-declare-a-struct/39881774#39881774", "title": "How can I declare a struct?", "body": "<p>You can pre-declare (forward-declare) a class type in C++. </p>\n\n<pre><code>struct Products;\n</code></pre>\n\n<p>However, a class type declared in this way is <em>incomplete</em>. Incomplete types can only be used in a number of very limited ways. You will be able to declare pointers or references to such type, you will be able to mention it in non-defining function declarations etc., but you will not be able to define objects of such incomplete type or access their members.</p>\n\n<p>If you want to define objects of class <code>Products</code> or access members of class <code>Products</code>, you have no other choice but to fully <em>define</em> the class before such use.</p>\n\n<p>In your case you are defining an object of type <code>Products</code> in <code>main</code> as well as accessing members of class <code>Products</code> there. This means that you have to completely define <code>Products</code> before <code>main</code>.</p>\n"}], "owner": {"reputation": 23, "user_id": 6928121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da3b2b66d6386520583f75488d77bded?s=128&d=identicon&r=PG&f=1", "display_name": "El3ctroGh0st", "link": "https://stackoverflow.com/users/6928121/el3ctrogh0st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 39881774, "answer_count": 2, "score": 0, "last_activity_date": 1475741813, "creation_date": 1475693703, "question_id": 39881654, "link": "https://stackoverflow.com/questions/39881654/how-can-i-declare-a-struct", "title": "How can I declare a struct?", "body": "<p>I am currently learning C++ and trying to understand the usage of structs.</p>\n\n<p>in C++. As far as I'm aware, if you want to define a function after the main() function, you have to <strong>declare</strong> it beforehand, like in this function (Please tell me if I'm wrong with it):</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nvoid printText(std::string); // &lt;-- DECLARATION\n\nint main()\n{\n    std::string text = \"This text gets printed.\";\n    printText(text);\n}\n\nvoid printText(std::string text)\n{\n    std::cout &lt;&lt; text &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>My question now is if there is a way to do the same with structs. I don't want having to always define a struct before the main() function, just because I prefer it like that. However, I get an error when I try doing it like that:</p>\n\n<pre><code>//THIS program DOESN'T work.    \n#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nstruct Products {std::string}; // &lt;-- MY declaration which DOESN'T work\n\nint main()\n{\n    Products products;\n    products.product = \"Apple\";\n    std::cout &lt;&lt; products.product &lt;&lt; std::endl;\n}\n\nstruct Products\n{\n    std::string product;\n};\n</code></pre>\n\n<p>When I delete the decleration and instead define the struct <strong>before</strong> the main function, the program works so I assume I'm somehow wrong with the decleration:</p>\n\n<pre><code>//THIS program DOES work\n#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nstruct Products\n{\n    std::string product;\n};\n\nint main()\n{\n    Products products;\n    products.product = \"Apple\";\n    std::cout &lt;&lt; products.product &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Could someone tell me if there is some way to declare a struct like that? Bear with me if I have any major mistake in the code, I'm just a beginner.\nThanks in advance!</p>\n"}, {"tags": ["c++", "xbox", "c++-amp", "xbox-one"], "comments": [{"owner": {"reputation": 12870, "user_id": 125523, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nD1t5.png?s=128&g=1", "display_name": "Ade Miller", "link": "https://stackoverflow.com/users/125523/ade-miller"}, "edited": false, "score": 0, "creation_date": 1478183149, "post_id": 39881647, "comment_id": 68058099, "body": "Does the XBox GPU support DX11/C++AMP? The drivers you list would be expected to be slow as they are emulators."}, {"owner": {"reputation": 2352, "user_id": 1590323, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/07c23c52578f0ad01e3882f95ec296c4?s=128&d=identicon&r=PG&f=1", "display_name": "stommestack", "link": "https://stackoverflow.com/users/1590323/stommestack"}, "edited": false, "score": 0, "creation_date": 1498056308, "post_id": 39881647, "comment_id": 76342844, "body": "I came here because I searched on Google whether the Xbox One supports this. Can I conclude &quot;no&quot;?"}, {"owner": {"reputation": 3163, "user_id": 328059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rhlkj.jpg?s=128&g=1", "display_name": "Nitay", "link": "https://stackoverflow.com/users/328059/nitay"}, "edited": false, "score": 0, "creation_date": 1498056390, "post_id": 39881647, "comment_id": 76342911, "body": "Probably, unless they added support in the last couple of months"}], "owner": {"reputation": 3163, "user_id": 328059, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/rhlkj.jpg?s=128&g=1", "display_name": "Nitay", "link": "https://stackoverflow.com/users/328059/nitay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475693691, "creation_date": 1475693691, "question_id": 39881647, "link": "https://stackoverflow.com/questions/39881647/xbox-gpu-does-not-appear-in-c-amp-accelerator-list", "title": "XBox GPU Does not appear in C++ AMP accelerator list", "body": "<p>I'm using C++ AMP on XBox, but when I try to select the GPU as the default accelerator, it does not come up in the list. This is the code I'm using for finding the available accelerators:</p>\n\n<pre><code>std::vector&lt;accelerator&gt; accs = accelerator::get_all();\n// Use all accelerators but the CPU\nfor (int i = 0; i &lt; accs.size(); i++)\n{\n    std::wcout &lt;&lt; \"Using accelerator \" &lt;&lt; i + 1 &lt;&lt; \" of \" &lt;&lt; accs.size() &lt;&lt; \" - \"\n        &lt;&lt; accs[i].description &lt;&lt; \" @ \" &lt;&lt; accs[i].device_path &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>I'm only getting <code>Microsoft Basic Render Driver</code> and <code>CPU Accelerator</code>. Both run my code ~5 times slower than what I get on the PC.</p>\n\n<p>Why doesn't the GPU appear in the accelerator list? Is it disabled somehow?</p>\n"}, {"tags": ["c++", "unicode"], "comments": [{"owner": {"reputation": 5754, "user_id": 2867061, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cd59dfa471d99e7c625b5dcb191ec8ae?s=128&d=identicon&r=PG&f=1", "display_name": "user31264", "link": "https://stackoverflow.com/users/2867061/user31264"}, "edited": false, "score": 0, "creation_date": 1475694321, "post_id": 39881624, "comment_id": 67050524, "body": "Are you sure you don&#39;t confuse Unicode-32 with UTF-8?"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 1, "creation_date": 1475695230, "post_id": 39881624, "comment_id": 67051017, "body": "I suggest you 1. narrow down your question to reading text file with given encoding (btw UTF8 would be much more conventional choice than UTF32, and better supported by editors etc, so overall easier). 2. Verify that input file really is the encoding you want (probably by looking at hex dump of the file). 3. Provide <a href=\"http://stackoverflow.com/help/mcve\">MVCE</a> trying to read the file."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 2, "creation_date": 1475695323, "post_id": 39881624, "comment_id": 67051076, "body": "Another thing, you should test that your terminal can show the chars you want. If it can&#39;t, you have to redirect output to file and inspect its hex dump, for example. Reasons for failing to show thise chars are at least, terminal uses encoding which doesn&#39;t even have those chars (so they get brutally replaced with question mark chars), or there&#39;s no font for those chars (so placeholder glyph is drawn instead)."}], "owner": {"reputation": 11, "user_id": 5751880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bd39c5356f2a009db2d14d87a345ca4?s=128&d=identicon&r=PG&f=1", "display_name": "tsioftas", "link": "https://stackoverflow.com/users/5751880/tsioftas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 763, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475721998, "creation_date": 1475693597, "last_edit_date": 1475694247, "question_id": 39881624, "link": "https://stackoverflow.com/questions/39881624/how-to-read-and-write-unicode-32-characters-using-files-and-standard-input-in-c", "title": "How to read and write Unicode-32 characters using files and standard input in C++?", "body": "<p>I want to create a program which is sort of a dictionary for greek words in C++ and I am using CodeBlocks. The problem is that I can't figure out how to read and write non ASCII characters to and from the console and files. I have tried various methods I found online, like using wchar_t, char32_t and more but none of them worked for me.</p>\n\n<pre><code>wchar_t c;\nwcin&gt;&gt;c;\nwcout&lt;&lt;c&lt;&lt;\"\\n\";\n</code></pre>\n\n<p>The above code worked for \"simple\" greek letters, '\u03b1' for example. It did not work with polytonic letters like '\u1fa7'. Specifically, polytonic greek letters appeared as question marks in the console whenever I typed them in.</p>\n\n<pre><code>wchar_t c;\nwifstream wfin(\"test_unicode.txt\");\nwfin&gt;&gt;c;\nwcout&lt;&lt;c&lt;&lt;\"\\n\";\n</code></pre>\n\n<p>The above code did not work for any input, even latin characters. The output was always blank.</p>\n\n<pre><code>wchar_t c = '\u03b1';\nwcout&lt;&lt;c&lt;&lt;\"\\n\";\n</code></pre>\n\n<p>Also I haven't been able to initialize wchar_t or wstring variables with greek letters within the program, the above code prints nothing on my screen.</p>\n\n<p>Please help!</p>\n"}, {"tags": ["c++", "input"], "comments": [{"owner": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475693728, "post_id": 39881604, "comment_id": 67050165, "body": "@TimSeguine why so offensive?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1475693779, "post_id": 39881604, "comment_id": 67050189, "body": "One question per question please.  Which input method do you actually need to read in?"}, {"owner": {"reputation": 900, "user_id": 2074379, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ZWMGe.jpg?s=128&g=1", "display_name": "The Apache", "link": "https://stackoverflow.com/users/2074379/the-apache"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 1, "creation_date": 1475693791, "post_id": 39881604, "comment_id": 67050199, "body": "@TimSeguine even if this is a homework, the user has tried something so no offense."}, {"owner": {"reputation": 376, "user_id": 4107516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590700e7fec0dfcce5b5b9542736dcad?s=128&d=identicon&r=PG&f=1", "display_name": "osuka_", "link": "https://stackoverflow.com/users/4107516/osuka"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475694819, "post_id": 39881604, "comment_id": 67050767, "body": "@TimSeguine It&#39;s not the act of asking a question that&#39;s offensive, it&#39;s how you put it that could make it sound like it is."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "reply_to_user": {"reputation": 376, "user_id": 4107516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590700e7fec0dfcce5b5b9542736dcad?s=128&d=identicon&r=PG&f=1", "display_name": "osuka_", "link": "https://stackoverflow.com/users/4107516/osuka"}, "edited": false, "score": 0, "creation_date": 1475695247, "post_id": 39881604, "comment_id": 67051029, "body": "@osuka_ How should I have asked it then in your opinion, given that I wanted to discover if the question was a homework problem? I can assure you that no offense was meant. Hell, I even upvoted this question. I know of no other way in the English language(despite being a native speaker) to discover if something is homework than to ask exactly the words &quot;Is this homework?&quot; And to be clear. What I wrote doesn&#39;t &quot;sound like&quot; anything. It is text. If it &quot;sounded&quot; like I intended it a certain way, that is your fault not mine."}, {"owner": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "edited": false, "score": 0, "creation_date": 1475695406, "post_id": 39881604, "comment_id": 67051126, "body": "I think I misunderstood it, since in some other forums posting a homework question is always being frown upon..."}, {"owner": {"reputation": 376, "user_id": 4107516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/590700e7fec0dfcce5b5b9542736dcad?s=128&d=identicon&r=PG&f=1", "display_name": "osuka_", "link": "https://stackoverflow.com/users/4107516/osuka"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475695442, "post_id": 39881604, "comment_id": 67051145, "body": "@TimSeguine Maybe spell out &quot;I mean no offense&quot; or something along those lines? I don&#39;t know, honestly - I didn&#39;t feel like you were harsh or anything, and just meant to present the other side of the argument. But let&#39;s go listen to some music :)"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 6921703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651dacec6175f5d03bbfb9abc7412002?s=128&d=identicon&r=PG&f=1", "display_name": "David Cimbalista", "link": "https://stackoverflow.com/users/6921703/david-cimbalista"}, "reply_to_user": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "edited": false, "score": 0, "creation_date": 1475694153, "post_id": 39881748, "comment_id": 67050421, "body": "What&#39;s wrong with it? The OP did not say that the file he&#39;s reading in from(or the console) would contain anything but names and ages."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475694224, "post_id": 39881748, "comment_id": 67050454, "body": "<code>std::getline(std::cin, firstname);</code> is going to read the entire line so it has the first and last name in it, then the next call reads the <code>int</code> and then the reading breaks there."}, {"owner": {"reputation": 15, "user_id": 6921703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651dacec6175f5d03bbfb9abc7412002?s=128&d=identicon&r=PG&f=1", "display_name": "David Cimbalista", "link": "https://stackoverflow.com/users/6921703/david-cimbalista"}, "edited": false, "score": 0, "creation_date": 1475694334, "post_id": 39881748, "comment_id": 67050536, "body": "Ok, edited. And yes, it will end when there is no more input"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1475694397, "post_id": 39881748, "comment_id": 67050561, "body": "No it will not.  <code>while(true)</code> will run forever."}, {"owner": {"reputation": 15, "user_id": 6921703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651dacec6175f5d03bbfb9abc7412002?s=128&d=identicon&r=PG&f=1", "display_name": "David Cimbalista", "link": "https://stackoverflow.com/users/6921703/david-cimbalista"}, "edited": false, "score": 0, "creation_date": 1475694674, "post_id": 39881748, "comment_id": 67050688, "body": "OP did not specify how many names to read in. How should I know when to stop the loop? Get serious"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475694901, "post_id": 39881748, "comment_id": 67050809, "body": "The problem is that he will never be able to stop inputting the data.  If you are going to give someone a solution, it should work.  This does not."}], "tags": [], "owner": {"reputation": 15, "user_id": 6921703, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/651dacec6175f5d03bbfb9abc7412002?s=128&d=identicon&r=PG&f=1", "display_name": "David Cimbalista", "link": "https://stackoverflow.com/users/6921703/david-cimbalista"}, "is_accepted": false, "score": -3, "last_activity_date": 1475694301, "last_edit_date": 1475694301, "creation_date": 1475694070, "answer_id": 39881748, "question_id": 39881604, "link": "https://stackoverflow.com/questions/39881604/how-to-read-names-with-space/39881748#39881748", "title": "How to read names with space?", "body": "<p>How about this?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n    int main()  {\n        std::string firstname;\n        std::string lastname;\n        int age;\n        while(true){\n          std::cin &gt;&gt; firstname;\n          std::cin &gt;&gt; lastname;\n          std::cin &gt;&gt; age);\n          std::cout &lt;&lt; firstname &lt;&lt; \" \" &lt;&lt; lastname &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n        }\n        return 0;\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "edited": false, "score": 0, "creation_date": 1475716192, "post_id": 39881829, "comment_id": 67058488, "body": "Your explanation is clear enough, but how about the third data case?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "edited": false, "score": 1, "creation_date": 1475717255, "post_id": 39881829, "comment_id": 67058751, "body": "@buzhidao That&#39;s always going to be more tricky. There is a bunch of ways to solve that. I would be tempted to read in the data one whole line at a time and then, for each line, use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/rfind\" rel=\"nofollow noreferrer\">std::string::rfind</a> to locate the space before the end number and divide the line there."}], "tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": false, "score": 3, "last_activity_date": 1475694373, "creation_date": 1475694373, "answer_id": 39881829, "question_id": 39881604, "link": "https://stackoverflow.com/questions/39881604/how-to-read-names-with-space/39881829#39881829", "title": "How to read names with space?", "body": "<p>Looking at the second example with this data:</p>\n\n<pre><code>Michael Corleone\n30\nTom Hagen\n35\n</code></pre>\n\n<p>The problem is that after reading the <code>age</code> with <code>std::cin &gt;&gt; age</code> the end-of-line character is still left in the stream so the following <code>std::getline</code> gets nothing because it thinks the line is empty (which it is).</p>\n\n<p>The trick is to skip whitespace before reading each new record:</p>\n\n<pre><code>std::string name;\nint age;\nwhile(std::cin &gt;&gt; std::ws &amp;&amp; std::getline(std::cin, name) &amp;&amp; std::cin &gt;&gt; age) {\n    std::cout &lt;&lt; name &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Or, more succinctly:</p>\n\n<pre><code>std::string name;\nint age;\nwhile(std::getline(std::cin &gt;&gt; std::ws, name) &gt;&gt; age) {\n    std::cout &lt;&lt; name &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 2734, "user_id": 2794152, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hxpEu.png?s=128&g=1", "display_name": "an offer can&#39;t refuse", "link": "https://stackoverflow.com/users/2794152/an-offer-cant-refuse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1475717148, "creation_date": 1475693483, "last_edit_date": 1475717148, "question_id": 39881604, "link": "https://stackoverflow.com/questions/39881604/how-to-read-names-with-space", "title": "How to read names with space?", "body": "<p>If I have the data look like this:</p>\n\n<pre><code>Michael 30\nTom 35\n</code></pre>\n\n<p>I can handle it by the following code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nint main()  {\n    std::string name;\n    int age;\n    while(std::cin &gt;&gt; name &gt;&gt; age)  {\n        std::cout &lt;&lt; name &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>However if my data looks like this:</p>\n\n<pre><code>Michael Corleone\n30\nTom Hagen\n35\n</code></pre>\n\n<p>I tried using this code, <strong>but it only read the first line</strong>, the logic seems that it should read all the lines, so I don't know why this attempt fails.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nint main()  {\n    std::string name;\n    int age;\n    while(std::getline(std::cin, name) &amp;&amp; std::cin &gt;&gt; age)  {\n        std::cout &lt;&lt; name &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p>Even worse, if my data look like this:</p>\n\n<pre><code>Michael Corleone 30\nTom Hagen 35\n</code></pre>\n\n<p>Follow the suggestion by one of the answers, I can have a workaround by splitting the name into <code>name1</code> and <code>name2</code>:</p>\n\n<pre><code>int main()  {\n    std::string name1, name2;\n    int age;\n    while(std::cin &gt;&gt; name1 &gt;&gt; name2 &gt;&gt; age)  {\n        std::cout &lt;&lt; name1 + ' ' + name2 \n            &lt;&lt; \" is \" &lt;&lt; age &lt;&lt; \" years old.\" &lt;&lt; std::endl;\n    }\n    return 0;\n}\n</code></pre>\n\n<p><strong>However, this is not nice, what if someone have a middle name for example?</strong></p>\n"}, {"tags": ["c++", "struct", "character-encoding", "ncurses"], "answers": [{"tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": true, "score": 1, "last_activity_date": 1475711516, "creation_date": 1475711516, "answer_id": 39885400, "question_id": 39881521, "link": "https://stackoverflow.com/questions/39881521/using-ncurses-extended-character-from-struct/39885400#39885400", "title": "Using ncurses extended character from struct", "body": "<p>The problem with your first example is that the symbol <code>ACS_VLINE</code> is an entry in an array which is not initialized statically (its actual contents depend upon <code>initscr</code>).  Oddly, g++ does not warn about that, but <code>gcc -Wall</code> does warn.</p>\n\n<p>That's defined something like this:</p>\n\n<pre><code>#define NCURSES_ACS(c)  (acs_map[NCURSES_CAST(unsigned char,c)])\n\n#define ACS_VLINE       NCURSES_ACS('x') /* vertical line */\n</code></pre>\n\n<p>The constant in the second case is different, amounting to <code>A_ALTCHARSET</code> combined with <code>x</code>:</p>\n\n<pre><code>#define NCURSES_ATTR_SHIFT       8\n#define NCURSES_BITS(mask,shift) ((mask) &lt;&lt; ((shift) + NCURSES_ATTR_SHIFT))\n\n#define A_ALTCHARSET    NCURSES_BITS(1UL,14)\n</code></pre>\n\n<p>That's been a distinction since the early 2000s, as hinted in the <a href=\"http://invisible-island.net/ncurses/NEWS.html#t20030419\" rel=\"nofollow\">changelog from 2003</a>.</p>\n"}], "owner": {"reputation": 23, "user_id": 3250047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753b969d064cc16db60b0af06698c0cc?s=128&d=identicon&r=PG&f=1", "display_name": "nateswitch", "link": "https://stackoverflow.com/users/3250047/nateswitch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 39885400, "answer_count": 1, "score": 1, "last_activity_date": 1475711516, "creation_date": 1475693126, "question_id": 39881521, "link": "https://stackoverflow.com/questions/39881521/using-ncurses-extended-character-from-struct", "title": "Using ncurses extended character from struct", "body": "<p>I'm trying to display ncurses extended characters that I'm pulling from a struct.</p>\n\n<p>When I try to use:</p>\n\n<pre><code>#include &lt;ncurses.h&gt;\nstruct TEST_STRUCT\n{\n    char    nCharacter;     // Where I want to store variable for printed character\n    short   nTestNumber;    // Other stuff in struct\n};\nTEST_STRUCT sTestData[] = {\n    { '.', 1 },         // Period\n    { ',', 2 },         // Comma\n    { ACS_VLINE, 1 }    // Vertical Line\n};\nint main(void)\n{\n    initscr();\n    clear();\n    for( int n = 0; n &lt; 3; n++)\n    {\n        addch(sTestData[n].nCharacter); // print the characters in the struct\n    }\n        refresh();\n    endwin();\n    return 0;\n}\n</code></pre>\n\n<p>the ACS_VLINE character isn't displayed properly, but after messing around a little, I found the following works:</p>\n\n<pre><code>#include &lt;ncurses.h&gt;\nstruct TEST_STRUCT\n{\n    int     nCharacter;         // Where I want to store variable for printed character\n    short   nTestNumber;    // Other stuff in struct\n};\nTEST_STRUCT sTestData[] = {\n    { '.', 1 },     // Period\n    { ',', 2 },     // Comma\n    { 4194424, 1 }  // Vertical Line\n};\nint main(void)\n{\n    initscr();\n    clear();\n    for( int n = 0; n &lt; 3; n++)\n    {\n        addch(sTestData[n].nCharacter);     // print the characters in the struct\n    }\n    endwin();\n    return 0;\n}\n</code></pre>\n\n<p>Storing a numerical value in an int seems wrong for this, but it works. How should I be doing this to be doing it \"correctly\".</p>\n"}, {"tags": ["c++", "qt", "qt5"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1475692960, "post_id": 39881429, "comment_id": 67049714, "body": "Have you tried debugging it to see if you get a more specific error? Also you should probably check if <code>b</code> points to a valid object before trying to call any function on it. (And I&#39;d recommend using C++ style casts over C style casts)"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 4, "creation_date": 1475692963, "post_id": 39881429, "comment_id": 67049716, "body": "<b><i>QRadioButton *b = (QRadioButton *)ui-&gt;currentSetting1TableWidget-&gt;cellWidget(index.row(), 1);</i></b> maybe the cell widget is not a radiobutton. I would use <code>QRadioButton *b =qobject_cast&lt;QRadioButton*&gt;(currentSetting1TableWidget-&gt;cel&zwnj;&#8203;lWidget(index.row(), 1))</code> and check the returned pointer for nullptr."}], "answers": [{"tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": true, "score": 2, "last_activity_date": 1475693232, "creation_date": 1475693232, "answer_id": 39881545, "question_id": 39881429, "link": "https://stackoverflow.com/questions/39881429/why-gui-is-crashing-when-setting-a-value-in-the-first-column-of-tablewidget/39881545#39881545", "title": "why gui is crashing when setting a value in the first column of tablewidget", "body": "<p>Use <a href=\"https://doc-snapshots.qt.io/qt5-5.8/qobject.html#qobject_cast\" rel=\"nofollow\"><code>qobject_cast</code></a>/<code>dynamic_cast</code> for casting types derived from <code>QObject</code> and check the returned value.</p>\n\n<p>You seem to be setting cell widget in column 0, but you're accessing it from column 1. It may very well return <code>nullptr</code> right away, from looking at your screenshot.</p>\n"}], "owner": {"reputation": 3198, "user_id": 1636521, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/2116626f42d8a2f87ee420ecefb1ec0c?s=128&d=identicon&r=PG", "display_name": "flashburn", "link": "https://stackoverflow.com/users/1636521/flashburn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 39881545, "answer_count": 1, "score": 0, "last_activity_date": 1475693232, "creation_date": 1475692743, "question_id": 39881429, "link": "https://stackoverflow.com/questions/39881429/why-gui-is-crashing-when-setting-a-value-in-the-first-column-of-tablewidget", "title": "why gui is crashing when setting a value in the first column of tablewidget", "body": "<p>I have <code>QTableWidget</code> in my UI. The first column is a set of <code>QRadioButton</code>s. Here is how it looks:\n<a href=\"https://i.stack.imgur.com/i3tmJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i3tmJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've added the following code to the <code>MainWindow</code> constructor:</p>\n\n<pre><code>for (char i = 0; i &lt; ui-&gt;currentSetting1TableWidget-&gt;rowCount(); i++)\n      ui-&gt;currentSetting1TableWidget-&gt;setCellWidget(i, 0, new QRadioButton(ui-&gt;currentSetting1TableWidget));\n</code></pre>\n\n<p>I've also added the following code:</p>\n\n<pre><code>void MainWindow::on_currentSetting1TableWidget_clicked(const QModelIndex &amp;index)\n{\n    QRadioButton *b = (QRadioButton *)ui-&gt;currentSetting1TableWidget-&gt;cellWidget(index.row(), 1);\n    b-&gt;setChecked(true);\n}\n</code></pre>\n\n<p>My code is crashing when it executes  <code>b-&gt;setChecked(true);</code>. I assume it has something to do with me not properly understanding what casting in <code>C++</code> and what exactly is returned by <code>cellWidget</code> in <code>Qt</code>. I tried to investigate it but I can't see what the problem is. I would really appreciate any help on this.</p>\n"}, {"tags": ["c++", "segmentation-fault", "segment-tree"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475692822, "post_id": 39881428, "comment_id": 67049618, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475692929, "post_id": 39881428, "comment_id": 67049687, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Notice that the OP notes that the segfault only occurs when he is <b>NOT</b> using a debugger."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475693062, "post_id": 39881428, "comment_id": 67049784, "body": "@TimSeguine Must be undefined behavior then."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475693168, "post_id": 39881428, "comment_id": 67049844, "body": "If you have the ability to compile this with AddressSanitizer turned on, it will probably be able to tell you the exact line where you are doing something wrong next time it segfaults."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1475693277, "post_id": 39881428, "comment_id": 67049910, "body": "Can&#39;t reproduce <a href=\"http://coliru.stacked-crooked.com/a/41484569e6b7f109\" rel=\"nofollow noreferrer\">here</a> which makes UB likely.  I would change all of your <code>vector_name[index]</code> calls to <code>vector_name.at(index)</code> and see if you get an exception thrown."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475693278, "post_id": 39881428, "comment_id": 67049912, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 pretty much by definition"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4407569"}, "is_accepted": false, "score": 1, "last_activity_date": 1475695110, "creation_date": 1475695110, "answer_id": 39882014, "question_id": 39881428, "link": "https://stackoverflow.com/questions/39881428/segmentation-fault-after-main-exit/39882014#39882014", "title": "Segmentation fault after main exit", "body": "<p>Consider <code>segmentTree::constructUtil</code> with <code>v.size() == 3</code>. Then in the inital call to <code>constructUtil</code> you have <code>start == 0</code> and <code>end == 2</code>.</p>\n\n<p>Thus we get <code>mid = 1</code>.</p>\n\n<p>In the second recursive call we are then passing <code>start = 1</code>, <code>end = 2</code> and <code>i = 2</code>. <code>start != end</code> and so the <code>else</code> is executed.</p>\n\n<p>However in the <code>else</code> block <code>a[(2*i)+2]</code> is accessed (by the way, no need for the parantheses there). This index will be <code>6</code>.</p>\n\n<p>But if you look at the size of <code>a</code>, it was given as <code>2*n-1</code>. <code>2*3-1 = 5</code>, so <code>6</code> is clearly out-of-bounds.</p>\n\n<p>I don't know what your intentions with the code are, but that there is undefined behavior. You can easily catch it by either using something like valgrind, by replacing <code>a[...]</code> with <code>a.at(...)</code> for debug purposes, by stepping through the code with gdb and actually following all the variables (there does not need to be a segmentation fault for your program to have undefined behavior) or by entering debug <code>std::cout</code> statements with the variable content everywhere that could cause the issue.</p>\n"}], "owner": {"reputation": 37, "user_id": 4409986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca17827e43a20bdc71ef4d1da589309c?s=128&d=identicon&r=PG&f=1", "display_name": "Bad Sector", "link": "https://stackoverflow.com/users/4409986/bad-sector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475695110, "creation_date": 1475692742, "question_id": 39881428, "link": "https://stackoverflow.com/questions/39881428/segmentation-fault-after-main-exit", "title": "Segmentation fault after main exit", "body": "<p>I Have tried executing the following code in gdb, but with gdb I don`t see any segmentation fault but without gdb If I run the following code in standalone mode segmentation fault occurs. The code is related to range sum query implemented using segment tree.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass segmentTree\n{\n    private:\n        vector&lt;int&gt; a;\n        void constructUtil(vector&lt;int&gt;&amp; , int , int , int );\n        int queryUtil(int , int , int , int , int );\n        void updateUtil(int , int , int , int , int );\n    public:\n        segmentTree(vector&lt;int&gt; );\n        int query(int , int );\n        void update(int , int );\n        ~segmentTree();\n};\n\nsegmentTree::segmentTree(vector&lt;int&gt; v)\n{\n    int n = v.size();\n    a.resize((2*n) - 1);\n    constructUtil(v, 0 , n - 1, 0);\n}\n\nsegmentTree::~segmentTree()\n{\n    a.clear();\n}\n\nvoid segmentTree::constructUtil(vector&lt;int&gt;&amp; v, int start, int end, int i)\n{\n    if(start == end)\n    {\n        a[i] = v[start];\n    }\n    else\n    {\n        int mid = start + ((end - start) &gt;&gt; 1);\n        constructUtil(v, start, mid, ((2*i) + 1));\n        constructUtil(v, mid + 1, end, ((2*i) + 2));\n        a[i] = a[(2*i) + 1] + a[(2*i) + 2];\n    }\n}\n\nint segmentTree::queryUtil(int ss, int se, int rs, int re, int i)\n{\n    if(se &lt; rs || re &lt; ss)\n    {\n        return 0;\n    }\n    else if(rs &lt;= ss &amp;&amp; se &lt;= re)\n    {\n        return  a[i];\n    }\n    else\n    {\n        int sm = ss + ((se - ss) &gt;&gt; 1);\n        return queryUtil(ss, sm, rs, re, 2*i + 1) + queryUtil(sm + 1, se, rs, re, 2*i + 2);\n    }\n}\n\nint segmentTree::query(int l, int r)\n{\n    int n = ((a.size() + 1) &gt;&gt; 1);\n    if(l &lt; 0 || r &gt; n-1)\n    {\n        return 0;\n    }\n    return queryUtil(0, n-1, l , r, 0);\n}\n\nvoid segmentTree::updateUtil(int ss, int se, int i, int si, int x)\n{\n    if(ss &gt; i || se &lt; i)\n    {\n        return ;\n    }\n    else if(ss == se)\n    {\n        a[si] = x;\n    }\n    else\n    {\n        int sm = ss + ((se - ss) &gt;&gt; 1);\n        updateUtil(ss, sm, i, (2*si) + 1, x);\n        updateUtil(sm + 1, se, i, (2*si) + 2, x);\n        a[si] = a[(2*si) + 1] + a[(2*si) + 2];\n    }\n}\n\nvoid segmentTree::update(int i, int x)\n{\n    int n = ((a.size() + 1) &gt;&gt; 1);\n    if(i &lt; 0 || i &gt; n-1)\n    {\n        return ;\n    }\n    else\n    {\n        updateUtil(0, n-1, i, 0, x);\n    }\n}\n\nint main()\n{\n    int arr[] = {1, 3, 5, 7, 9, 11};\n    int n = sizeof(arr)/sizeof(arr[0]);\n    vector&lt;int&gt; v(arr, arr + n);\n\n    segmentTree st(v);\n\n    // Print sum of values in array from index 1 to 3\n    cout &lt;&lt; \"Sum of values in given range = \" &lt;&lt; st.query(1, 3) &lt;&lt; endl;\n\n    // Update: set arr[1] = 10 and update corresponding \n    // segment tree nodes\n    st.update(1, 10);\n\n    // Find sum after the value is updated\n    cout &lt;&lt; \"Updated sum of values in given range = \" &lt;&lt; st.query(1, 3) &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1475692351, "post_id": 39881312, "comment_id": 67049359, "body": "compare <code>op[0]==p</code> you&#39;ll compare chars it will work."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 3, "creation_date": 1475692401, "post_id": 39881312, "comment_id": 67049392, "body": "as a beginner you should probably... 1) completely forget about <code>using namespace std;</code> 2) use <code>std::string</code> instead of <code>char[]</code> 3) read a book about some basics (see e.g. <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">here</a>)"}, {"owner": {"reputation": 11, "user_id": 6928070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf07b2d119bab7452245b4b5b2445f9c?s=128&d=identicon&r=PG&f=1", "display_name": "rahul gupta", "link": "https://stackoverflow.com/users/6928070/rahul-gupta"}, "edited": false, "score": 0, "creation_date": 1475692973, "post_id": 39881312, "comment_id": 67049722, "body": "thank you. but can you tell why do we use op[0]?"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 1, "creation_date": 1475693050, "post_id": 39881312, "comment_id": 67049775, "body": "strcmp takes two pointers to character string, it doesn&#39;t take a single char as a parameter. here it is not problem of const."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1475696896, "post_id": 39881312, "comment_id": 67051975, "body": "Read the error message more carefully. The issue isn&#39;t <code>char</code> vs. <code>const char</code>; it&#39;s <code>char</code> vs. <code>const char*</code> -- the <code>*</code> is important."}, {"owner": {"reputation": 985, "user_id": 811625, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/fa85cc81ffea4ab284441d44e4092609?s=128&d=identicon&r=PG&f=1", "display_name": "Sampath", "link": "https://stackoverflow.com/users/811625/sampath"}, "edited": false, "score": 0, "creation_date": 1576666368, "post_id": 39881312, "comment_id": 104970959, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/9834067/difference-between-char-and-const-char\">Difference between char* and const char*?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2405, "user_id": 2216129, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/U0xqx.jpg?s=128&g=1", "display_name": "Topological Sort", "link": "https://stackoverflow.com/users/2216129/topological-sort"}, "is_accepted": false, "score": 2, "last_activity_date": 1475693193, "creation_date": 1475693193, "answer_id": 39881534, "question_id": 39881312, "link": "https://stackoverflow.com/questions/39881312/difference-between-char-and-const-char/39881534#39881534", "title": "difference between char and const char", "body": "<p>This isn't about the difference between <code>char</code> and <code>const char</code>, but between <code>char []</code> and <code>char</code>.</p>\n\n<p><code>strcmp</code> expects two character arrays.</p>\n\n<p><code>op</code> is an array of (10) characters.  Good:  that's what <code>strcmp</code> expects.  </p>\n\n<p><code>p</code> is a single character.  Not good:  <code>strcmp</code> needs a char array, and <code>p</code> isn't any kind of array, but a single character.</p>\n\n<p>You can change <code>p</code> from a single char '+' to a char array \"+\", or compare only the 0th character of <code>op</code>, as suggested in a comment above.</p>\n"}, {"comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1475694750, "post_id": 39881725, "comment_id": 67050724, "body": "The <code>char*</code> to a string constant is a bit dangerous. See <a href=\"http://coliru.stacked-crooked.com/a/5fb7b70d30188233\" rel=\"nofollow noreferrer\">here</a>, and <a href=\"http://stackoverflow.com/q/20944784\">here</a>"}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1475696118, "post_id": 39881725, "comment_id": 67051508, "body": "@flatmouse I know it&#39;s so dangerous. my example&#39;s focus is only on strcmp. thanx"}, {"owner": {"reputation": 11, "user_id": 6928070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf07b2d119bab7452245b4b5b2445f9c?s=128&d=identicon&r=PG&f=1", "display_name": "rahul gupta", "link": "https://stackoverflow.com/users/6928070/rahul-gupta"}, "edited": false, "score": 0, "creation_date": 1475859687, "post_id": 39881725, "comment_id": 67128550, "body": "thanx guys. But what really is the difference between char, char*, const char, const char*"}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1475695969, "last_edit_date": 1475695969, "creation_date": 1475693964, "answer_id": 39881725, "question_id": 39881312, "link": "https://stackoverflow.com/questions/39881312/difference-between-char-and-const-char/39881725#39881725", "title": "difference between char and const char", "body": "<p>there is no version of strcmp that takes a single character as a parameter but instead it takes two string and compares them.</p>\n\n<p>if you  want to compare a single char variable with a string you can compare it with the first element of string or with any other element:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n\nint main()\n{\n\n    char op[10]  = \"Hi\";\n    const char p = '+';\n\n   // if( strcmp( op, p) ) // error cannot covert parameter 2 from char to const char*\n   //    cout &lt;&lt; \"op and p are identic\" &lt;&lt; std::endl;\n   // else\n   //    std::cout &lt;&lt; \"op and b are not identic\" &lt;&lt; std::endl;\n\n    if(op[0] == p)\n        std::cout &lt;&lt; \"op[0] and p are identic\" &lt;&lt; std::endl;\n    else\n        std::cout &lt;&lt; \"op[0] and p are not identic\" &lt;&lt; std::endl;\n\n    const char* const pStr  = \"Bye\"; //constant pointer to constant character string: pStr cannot change neither the address nor the value in address\n    const char* const pStr2 = \"bye\"; // the same as above\n\n    // pStr++; //error\n    // pStr[0]++; // error \n\n\n    if( !strcmp( pStr, pStr2) )\n        std::cout &lt;&lt; \"pStr and pStr2 are identic\" &lt;&lt; std::endl;\n    else\n        std::cout &lt;&lt; \"pStr and pStr2 are Not identic\" &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6928070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf07b2d119bab7452245b4b5b2445f9c?s=128&d=identicon&r=PG&f=1", "display_name": "rahul gupta", "link": "https://stackoverflow.com/users/6928070/rahul-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 759, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1475695969, "creation_date": 1475692277, "question_id": 39881312, "link": "https://stackoverflow.com/questions/39881312/difference-between-char-and-const-char", "title": "difference between char and const char", "body": "<pre><code> # include &lt;iostream&gt;\n# include &lt;string.h&gt;\nusing namespace std;\nint main()\n{\n    int a=10;\n    int b=20;\n    char op[10];\n    const char p='+';\n    cout&lt;&lt;\"enter the operation\"&lt;&lt;endl;\n    cin&gt;&gt;op;\n    if(!strcmp(op,p)==0)\n{\n        cout&lt;&lt;a+b;\n}\n    return 0;\n}\n</code></pre>\n\n<p>compilation result</p>\n\n<p>12  17  C:\\Users\\DELL\\Documents\\cac.cpp [Error] invalid conversion from 'char' to 'const char*' [-fpermissive]</p>\n\n<p>I am a beginner. Please tell me what mistake have I done.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 14, "creation_date": 1475692135, "post_id": 39881251, "comment_id": 67049227, "body": "try making the <i>1</i> 64 bits wide"}], "answers": [{"comments": [{"owner": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1475692308, "post_id": 39881298, "comment_id": 67049331, "body": "or <code>uint64_t k = 1ull &lt;&lt; 32;</code>"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "reply_to_user": {"reputation": 4212, "user_id": 4892076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/s6vwT.png?s=128&g=1", "display_name": "jaggedSpire", "link": "https://stackoverflow.com/users/4892076/jaggedspire"}, "edited": false, "score": 0, "creation_date": 1475692365, "post_id": 39881298, "comment_id": 67049370, "body": "Right, there are any number of ways you can do it."}], "tags": [], "owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "is_accepted": false, "score": 4, "last_activity_date": 1475692412, "last_edit_date": 1475692412, "creation_date": 1475692252, "answer_id": 39881298, "question_id": 39881251, "link": "https://stackoverflow.com/questions/39881251/uint64-t-is-only-32-bits-wide/39881298#39881298", "title": "uint64_t is only 32 bits wide?", "body": "<p>What you do with the result of an operation has no effect on how that operation is performed. The type rules in C++ are complicated enough already -- if you had to take into account what you did with the result to figure out how the operation would be performed, they would be much more complex.</p>\n\n<p>You did <code>1 &lt;&lt; 32</code>. Why would you expect that to produce a 64 bit result?</p>\n\n<p>Try</p>\n\n<pre><code>uint64_t k = 1;\nk &lt;&lt;= 32;\n</code></pre>\n"}], "owner": {"reputation": 2268, "user_id": 2981641, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/0295393dcc14030db54ba7c01cfe1ea3?s=128&d=identicon&r=PG&f=1", "display_name": "RomaValcer", "link": "https://stackoverflow.com/users/2981641/romavalcer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "closed_date": 1475692444, "answer_count": 1, "score": -1, "last_activity_date": 1475692521, "creation_date": 1475692078, "question_id": 39881251, "link": "https://stackoverflow.com/questions/39881251/uint64-t-is-only-32-bits-wide", "closed_reason": "Duplicate", "title": "uint64_t is only 32 bits wide?", "body": "<pre><code>int main() {\n    uint64_t k = 1 &lt;&lt; 32;\n    return 0;\n}\n</code></pre>\n\n<p>I try to do this operation (since I expect <code>k</code> to be 64 bit wide, yet I get a warning about exceeding the width. Am I wrong to thing <code>uint64_t</code> will always be 64 bit? </p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1475692109, "post_id": 39881206, "comment_id": 67049212, "body": "Its not really clear what is the question. You want to know how to print the vector entries?"}, {"owner": {"reputation": 687, "user_id": 6750410, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a0c103554600249d2addcc5dc62e1356?s=128&d=identicon&r=PG&f=1", "display_name": "Zhuoran He", "link": "https://stackoverflow.com/users/6750410/zhuoran-he"}, "edited": false, "score": 0, "creation_date": 1475692222, "post_id": 39881206, "comment_id": 67049274, "body": "If selling short is allowed, you can go beyond the constraint that the sell cannot be before the buy. That&#39;s what short-selling does."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1475692750, "post_id": 39881206, "comment_id": 67049587, "body": "Seems similar to <a href=\"http://stackoverflow.com/questions/39860880/how-to-get-the-highest-range-from-low-value-minus-high-value-within-an-array-of\">how-to-get-the-highest-range-from-low-value-minus-high-value&zwnj;&#8203;-within-an-array-of</a>."}], "answers": [{"comments": [{"owner": {"reputation": 687, "user_id": 6750410, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a0c103554600249d2addcc5dc62e1356?s=128&d=identicon&r=PG&f=1", "display_name": "Zhuoran He", "link": "https://stackoverflow.com/users/6750410/zhuoran-he"}, "edited": false, "score": 0, "creation_date": 1475694926, "post_id": 39881466, "comment_id": 67050822, "body": "There&#39;s a variation of this problem that is also practically interesting. Assuming all prices are positive, and that we have a fixed amount of money to invest, rather than a fixed amount of commodities to buy. Then we will be maximizing the return rate <code>r=max_price&#47;price[i]-1</code>, rather than the price difference <code>max_price-price[i]</code>. The same algorithm would still work after this minor change. For your example data, the best transaction is the same (buy at 8 and sell at 16) and the return rate is 100%."}, {"owner": {"reputation": 3, "user_id": 5525772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff1d4f1077c00be260aa4fad80d908a?s=128&d=identicon&r=PG&f=1", "display_name": "Bakslat", "link": "https://stackoverflow.com/users/5525772/bakslat"}, "edited": false, "score": 0, "creation_date": 1475697752, "post_id": 39881466, "comment_id": 67052401, "body": "Thank you for the fast reply really helpled"}], "tags": [], "owner": {"reputation": 687, "user_id": 6750410, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a0c103554600249d2addcc5dc62e1356?s=128&d=identicon&r=PG&f=1", "display_name": "Zhuoran He", "link": "https://stackoverflow.com/users/6750410/zhuoran-he"}, "is_accepted": true, "score": 0, "last_activity_date": 1475692932, "creation_date": 1475692932, "answer_id": 39881466, "question_id": 39881206, "link": "https://stackoverflow.com/questions/39881206/algorithm-to-find-the-best-profit-in-a-vector-in-c/39881466#39881466", "title": "Algorithm to find the best profit in a vector in c++", "body": "<p>Given a vector of prices, if the sell has to come after the buy (no short-selling is allowed), then there's an O(n) algorithm that goes like this:</p>\n\n<pre><code>  double Best_profit(const vector&lt;double&gt;&amp; price){\n    int n=price.size(),i; double max_price=-1e+308,profit,max_profit=0;\n    for(i=n-1;i&gt;=0;i--){\n      if(price[i]&gt;max_price) max_price=price[i];\n      profit=max_price-price[i];\n      if(profit&gt;max_profit) max_profit=profit;\n    }\n    return max_profit;\n  }\n</code></pre>\n\n<p>The variable <code>max_price</code> finds the highest price after the current day <code>i</code>. The variable <code>profit</code> calculates the profit one would get if a commodity is bought on the current day and sold at that <code>max_price</code> (which has to come after Day <code>i</code>), and finally the <code>max_profit</code> finds the best profit one can make. It is crucial to work backwards. This algorithm has to do with dynamic programming.</p>\n"}], "owner": {"reputation": 3, "user_id": 5525772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ff1d4f1077c00be260aa4fad80d908a?s=128&d=identicon&r=PG&f=1", "display_name": "Bakslat", "link": "https://stackoverflow.com/users/5525772/bakslat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 39881466, "answer_count": 1, "score": -1, "last_activity_date": 1475692932, "creation_date": 1475691923, "question_id": 39881206, "link": "https://stackoverflow.com/questions/39881206/algorithm-to-find-the-best-profit-in-a-vector-in-c", "title": "Algorithm to find the best profit in a vector in c++", "body": "<p>If i have a for an example vector: vector prices {18, 8, 10, 16, 14}; Which is in another class. I have the class Trade: </p>\n\n<pre><code>class Trade {\n\nprotected:\n    int buyTime;\n    int sellTime;\n\npublic:\n    Trade(const int buyTimeIn, const int sellTimeIn)\n        : buyTime(buyTimeIn), sellTime(sellTimeIn) {\n    }\n</code></pre>\n\n<p>What is the best way to make a function which get a random vector within the trade class and returns a Trade object. The function needs to find the best \"profit\" in the vector if you buy for an example at day 1 which is 8 and sell on day 3 which is 16. Also the sell cannot be before the buy. Each input in the vector represents the price in each day. </p>\n\n<pre><code>for (int s = 0; s &lt;= prices.size(); ++s) {\n        for (unsigned int i = 0; i &lt;= vectorTotal; ++i) {\n            allData.push_back(prices.at[s] - prices.at[vectorTotal - i]);\n        }\n    }\n\n    void printVector(const vector&lt;int&gt;&amp; allData){\n        cout &lt;&lt; \"Vector: \"; \n\n        for (unasigned int i = 0; i &lt; allData.size(); i++) {\n            cout &lt;&lt; allData[i] &lt;&lt; \" \";\n        }\n    }\n}\n</code></pre>\n\n<p>This is my try to check the every number with its next ones but I cannot seem to figure out how to print them or even if i am on the right track.</p>\n"}, {"tags": ["html", "c++", "arrays"], "comments": [{"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475691861, "post_id": 39881183, "comment_id": 67049077, "body": "Why don&#39;t you just use <code>%</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475692135, "post_id": 39881183, "comment_id": 67049228, "body": "<code>rb.quot</code> and <code>rb.rem</code> return the quotient and remainder parts of it."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 4129422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e567dcbc072aad6f967b4f4a05486f61?s=128&d=identicon&r=PG&f=1", "display_name": "NIcholas Tremblay", "link": "https://stackoverflow.com/users/4129422/nicholas-tremblay"}, "edited": false, "score": 0, "creation_date": 1475767891, "post_id": 39881917, "comment_id": 67085811, "body": "AH cool. this is what i was looking for. I need the quotient not the remainder. thanks!"}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 0, "last_activity_date": 1475694747, "creation_date": 1475694747, "answer_id": 39881917, "question_id": 39881183, "link": "https://stackoverflow.com/questions/39881183/how-to-make-a-div-t-operation-into-an-int-in-c/39881917#39881917", "title": "how to make a div_t operation into an int in c++", "body": "<p><code>div</code> will provide the remainder, but it also provides the quotient. Since there are two numbers, which would be reasonable to expect from <code>int rgtBbox = div(xx, 8)</code>?</p>\n\n<p><code>div_t</code> takes care of that by bundling both remainder and quotient into one returnable object. <a href=\"http://en.cppreference.com/w/cpp/numeric/math/div\" rel=\"nofollow\">According to reputable documentation</a>, <code>div_t</code> is defined as:</p>\n\n<pre><code>struct div_t \n{ \n    int quot; \n    int rem; \n};\n</code></pre>\n\n<p>So all that is needed is to access <code>rem</code> </p>\n\n<pre><code>int rgtBbox = rb.rem;\n</code></pre>\n\n<p>or alternately use the modulo operator:</p>\n\n<pre><code>int rgtBbox = xx % 8\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 4129422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e567dcbc072aad6f967b4f4a05486f61?s=128&d=identicon&r=PG&f=1", "display_name": "NIcholas Tremblay", "link": "https://stackoverflow.com/users/4129422/nicholas-tremblay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1475694747, "creation_date": 1475691808, "question_id": 39881183, "link": "https://stackoverflow.com/questions/39881183/how-to-make-a-div-t-operation-into-an-int-in-c", "title": "how to make a div_t operation into an int in c++", "body": "<p>Might be pretty simple but I am trying to get a remainder in c++. I am trying to use the div_t and perform that operation to get a remainder. Here is the code I am using.</p>\n\n<pre><code>div_t rb;\n    rb = div(xx, 8);\n\n    int rgtBbox = rb;\n</code></pre>\n\n<p>essentially I just need to know how to cast the rb into an int. the error I get back from visual studio is there is no conversion function from div_t to int.</p>\n\n<p>just for more information here is the entire function.</p>\n\n<pre><code>bool Game::grid_place_meeting(int x, int y)\n{\n\n    int xx = x;\n    int yy = y;\n\n    //The players 'map' position\n    div_t rb;\n    rb = div(xx, 8);\n\n    int rgtBbox = rb;\n\n    div_t leftBbox;\n    leftBbox = div(xx+8, 8);\n\n    div_t botBbox;\n    botBbox = div((yy), 8);\n\n    div_t topBbox;\n    topBbox = div((yy + 8), 8);\n\n\n    //check for x_Meeting\n    bool x_meeting = false;\n    bool y_meeting = false;\n\n    if( (map[rgtBbox][topBbox] != floor) || (map[leftBbox][topBbox]) != floor)\n    {\n        x_meeting = true;\n    }\n\n    if ((map[rgtBbox][botBbox] != floor) || (map[rgtBbox][botBbox]) != floor)\n    {\n        y_meeting = true;\n    }\n\n    return x_meeting || y_meeting;\n}\n</code></pre>\n"}, {"tags": ["c++", "audio", "openal"], "answers": [{"tags": [], "owner": {"reputation": 314, "user_id": 5228740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/nnUZy.png?s=128&g=1", "display_name": "Hannes Hauptmann", "link": "https://stackoverflow.com/users/5228740/hannes-hauptmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1475718372, "creation_date": 1475718372, "answer_id": 39886248, "question_id": 39881163, "link": "https://stackoverflow.com/questions/39881163/saving-recorded-audio-as-wav-via-openal/39886248#39886248", "title": "Saving recorded audio as .wav via openAL", "body": "<p>To save a *.wav file, you don't really need OpenAL. Look at the *.wav type-specifications, which are all over the web. You have just to create a header which describes your data and paste in your recorded data. </p>\n"}], "owner": {"reputation": 1, "user_id": 5521560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/514655dcaf6b76c291fca82cfbcd6d52?s=128&d=identicon&r=PG&f=1", "display_name": "Daniil D.", "link": "https://stackoverflow.com/users/5521560/daniil-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475718372, "creation_date": 1475691747, "question_id": 39881163, "link": "https://stackoverflow.com/questions/39881163/saving-recorded-audio-as-wav-via-openal", "title": "Saving recorded audio as .wav via openAL", "body": "<p>I am trying to record audio using C++ with openAL and save it as .wav file, so far i suceeded with first part, but can't find a way to save audio in a file. I read documentation and didn't find any way to do so. Am I missing something? </p>\n"}, {"tags": ["c++", "systemc"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475691107, "post_id": 39880894, "comment_id": 67048674, "body": "You have two scope blocks there.  Do you mean to have <code>{std::cout&lt;&lt;&quot;I am in clock &quot;&lt;&lt;std::endl;}</code> on the same line as the constructor?"}, {"owner": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475691405, "post_id": 39880894, "comment_id": 67048818, "body": "yes. the clock is member of ram and  I am trying to initialize the constructor, puting some codes int the clock block"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475691537, "post_id": 39880894, "comment_id": 67048886, "body": "You can&#39;t just add a block into another block.  Add the line of code you want to add into the already existing block."}, {"owner": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475691898, "post_id": 39880894, "comment_id": 67049097, "body": "what do you mean by adding block into another block? the clock block is closed before the constructor clock starts.. just like hier <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/initializer_list</a>"}, {"owner": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475692538, "post_id": 39880894, "comment_id": 67049469, "body": "@NathanOliver I just made an update. while typing the question I mistakenly put void before the constructor. that is what I just edited"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475693007, "post_id": 39880894, "comment_id": 67049747, "body": "I added an answer as I need to formatting to show what I was talking about.  Hopefully that help you."}], "answers": [{"comments": [{"owner": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "edited": false, "score": 0, "creation_date": 1475693562, "post_id": 39881328, "comment_id": 67050080, "body": "Thanks a lot.. this does compile without error. The idea was to do some implementation in the clock which will be taken into account when the constructor starts. what will be the best way to do that ? do I have to pass the clock to the module just like in normal OOP"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "edited": false, "score": 0, "creation_date": 1475693711, "post_id": 39881328, "comment_id": 67050153, "body": "@akaAlso Not sure.  I have never used systemc."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "edited": false, "score": 0, "creation_date": 1475693825, "post_id": 39881328, "comment_id": 67050218, "body": "@akaAlso No problem.  Glad to help."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 4, "last_activity_date": 1475712988, "last_edit_date": 1475712988, "creation_date": 1475692360, "answer_id": 39881328, "question_id": 39880894, "link": "https://stackoverflow.com/questions/39880894/systemc-constructor-initialization-is-failing/39881328#39881328", "title": "systemc constructor initialization is failing", "body": "<p>Fixing for indentation and new lines your code looks like</p>\n\n<pre><code>void ram::ram(sc_module_name name_): clock(\"clock\",1,SC_NS) \n{\n    std::cout&lt;&lt;\"I am in clock \"&lt;&lt;std::endl;\n} // &lt;- constructor ends here\n\n{ //the error is occurring hier\n    SC_THREAD(ram_proc);\n}\n</code></pre>\n\n<p>As you can see you have two blocks of code.  The first block is the constructor body.  The second block is not linked to anything.  If you want the block containing <code>SC_THREAD(ram_proc);</code> to be in the the constructor then you need</p>\n\n<pre><code>void ram::ram(sc_module_name name_): clock(\"clock\",1,SC_NS) \n{\n    std::cout&lt;&lt;\"I am in clock \"&lt;&lt;std::endl;\n    SC_THREAD(ram_proc);\n} \n</code></pre>\n"}], "owner": {"reputation": 132, "user_id": 4326134, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9113a261c134dd228e6cd7a4e016f9a1?s=128&d=identicon&r=PG&f=1", "display_name": "akaAlso", "link": "https://stackoverflow.com/users/4326134/akaalso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 39881328, "answer_count": 1, "score": 0, "last_activity_date": 1549622975, "creation_date": 1475690772, "last_edit_date": 1549622975, "question_id": 39880894, "link": "https://stackoverflow.com/questions/39880894/systemc-constructor-initialization-is-failing", "title": "systemc constructor initialization is failing", "body": "<pre><code>#ifndef RAM_H\n#define RAM_H\n#include &lt;systemc.h&gt;\n\n\nSC_MODULE(ram) {\n\n void ram_proc();\n\n SC_HAS_PROCESS(ram);\n\nprivate:\n  sc_clock clock;\n };\n\n #endif\n</code></pre>\n\n<p>then in the <em>ram.cpp</em> I have the following code</p>\n\n<pre><code> #include \"ram.h\"\n\n ram::ram(sc_module_name name_): clock(\"clock\",1,SC_NS) {std::cout&lt;&lt;\"I am in clock \"&lt;&lt;std::endl;}\n\n  { //the error is occurring hier\n\nSC_THREAD(ram_proc);\n\n}\n\nvoid  ram::ram_proc () {\n  std::cout&lt;&lt;\"I am in method ram_proc \"&lt;&lt;std::endl;\n}\n</code></pre>\n\n<p>The problem is that I am getting this error:</p>\n\n<blockquote>\n  <blockquote>\n    <p>expected unqualified-id before \u2018{\u2019 token\n     {</p>\n  </blockquote>\n</blockquote>\n"}, {"tags": ["c++", "g++"], "comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475691273, "post_id": 39880892, "comment_id": 67048749, "body": "Your only option may be to turn off that particular warning. If you want to know how you need to specify your compiler."}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475691523, "post_id": 39880892, "comment_id": 67048880, "body": "@MarkRansom, Unfortunately this statement appears in a templated function in a header file, and I am writing a library, so I&#39;d have to require every user of my library to also turn off the warning, which seems like it might reduce the set of applications that would be willing to try my library."}], "answers": [{"comments": [{"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475694398, "post_id": 39881424, "comment_id": 67050563, "body": "Don&#39;t you need an <code>L</code> on the end of that constant?"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1475695080, "post_id": 39881424, "comment_id": 67050919, "body": "@MarkRansom TBH I am not sure. The constant is too long not to be a <code>long</code> so I assumed the compiler would figure that out but I&#39;ll put it in because you are probably right."}, {"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1475695251, "post_id": 39881424, "comment_id": 67051035, "body": "Unfortunately this does not work in the case of using <code>|=</code> instead of <code>&amp;=</code> but I have asked a <a href=\"http://stackoverflow.com/q/39882045/391161\">new question</a> to avoid confusion."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "reply_to_user": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 0, "creation_date": 1475695783, "post_id": 39881424, "comment_id": 67051313, "body": "@merlin2011 I don&#39;t know why it works for one and not the other, I&#39;ll edit in a version that works for both."}], "tags": [], "owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "is_accepted": true, "score": 3, "last_activity_date": 1475695896, "last_edit_date": 1475695896, "creation_date": 1475692722, "answer_id": 39881424, "question_id": 39880892, "link": "https://stackoverflow.com/questions/39880892/how-can-i-safely-convert-a-wider-integer-type-to-a-bitfield/39881424#39881424", "title": "How can I safely convert a wider integer type to a bitfield?", "body": "<p>As is the top bits (if set) will get ignored.</p>\n\n<p>You can avoid the warning by removing the top bits yourself before the assignment:</p>\n\n<pre><code>int count = 7;\nMaskAndCount foo = {};\n                                // chop off the top 8 bits\nfoo.occupied &amp;= ~(1 &lt;&lt; count) &amp; 0x00FFFFFFFFFFFFFFUL;\n</code></pre>\n\n<p><strong>EDIT:</strong> Turns out this will not work for <code>|=</code> (not sure why). But that can be fixed by avoiding <code>|=</code> and using normal assignment:</p>\n\n<pre><code>foo.occupied = (foo.occupied &amp; ~(1UL &lt;&lt; count)) &amp; 0x00FFFFFFFFFFFFFFUL;\nfoo.occupied = (foo.occupied | ~(1UL &lt;&lt; count)) &amp; 0x00FFFFFFFFFFFFFFUL;\n</code></pre>\n"}], "owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 39881424, "answer_count": 1, "score": 4, "last_activity_date": 1475695896, "creation_date": 1475690762, "last_edit_date": 1475692887, "question_id": 39880892, "link": "https://stackoverflow.com/questions/39880892/how-can-i-safely-convert-a-wider-integer-type-to-a-bitfield", "title": "How can I safely convert a wider integer type to a bitfield?", "body": "<p>Consider the following code.</p>\n\n<pre><code>#include &lt;stdint.h&gt;\n\nstruct MaskAndCount{\n    uint64_t occupied : 56;\n    uint8_t numOccupied : 8;\n};\n\nint main(){\n    int count = 7;\n    MaskAndCount foo;\n    foo.occupied &amp;= ~(1L &lt;&lt; count);\n}\n</code></pre>\n\n<p>If I compile this code with <code>-Wconversion</code>, then I will get the following error.</p>\n\n<pre><code>g++ -Wconversion Main.cc \nMain.cc: In function \u2018int main()\u2019:\nMain.cc:11:18: warning: conversion to \u2018long unsigned int:56\u2019 from \u2018long unsigned int\u2019 may alter its value [-Wconversion]\n     foo.occupied &amp;= ~(1L &lt;&lt; count);\n</code></pre>\n\n<p>This seems to be a legitimate concern, but my desired behavior is precisely to truncate all the higher bits of the value on the right.</p>\n\n<p>My question is twofold.</p>\n\n<ol>\n<li>Will the conversion as written have the desired effect of truncating the higher bits of the value on the right?</li>\n<li>Is there is a way to either silence the warning locally or expressing the same behavior with a different syntax which does not trigger the warning?</li>\n</ol>\n\n<p>Note that I have tried the following static cast, which does not compile at all.</p>\n\n<pre><code>static_cast&lt;uint64_t:56&gt;(~(1L &lt;&lt; count))\n</code></pre>\n"}, {"tags": ["c++", "c++11", "move-semantics"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 3, "creation_date": 1475690605, "post_id": 39880810, "comment_id": 67048364, "body": "Yes of course. The whole point of move constructor/assignment is to steal contents from temporaries - it would be pretty useless if the object thus constructed could not be used after the temporary in question dies."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475690636, "post_id": 39880810, "comment_id": 67048382, "body": "If you move something then that means what you moved it to is now in control and the thing that had control no longer does."}, {"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1475690659, "post_id": 39880810, "comment_id": 67048399, "body": "Of course it is"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475690670, "post_id": 39880810, "comment_id": 67048409, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 Huh? The code looks pretty straightforward and non-controversial to me. Which rule, in your opinion, does it run afoul of?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1475690721, "post_id": 39880810, "comment_id": 67048442, "body": "@IgorTandetnik Sorry I misinterpreted for the vice versa action. There&#39;s a dupe for that one though."}, {"owner": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "edited": false, "score": 0, "creation_date": 1475691368, "post_id": 39880810, "comment_id": 67048796, "body": "It&#39;s perfectly legal to move a stack object into another object. However, the only thing that has to be guaranteed to work on the hollow husk of the moved object is its destructor, so you will usually want to stop using it once its guts have been transferred somewhere else."}, {"owner": {"reputation": 34388, "user_id": 2610810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8c6433073e71478e8da278a188e1d15?s=128&d=identicon&r=PG", "display_name": "Caleth", "link": "https://stackoverflow.com/users/2610810/caleth"}, "reply_to_user": {"reputation": 123967, "user_id": 251153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4b25144c09555e7d5b5e288469e011ef?s=128&d=identicon&r=PG", "display_name": "zneak", "link": "https://stackoverflow.com/users/251153/zneak"}, "edited": false, "score": 0, "creation_date": 1601550717, "post_id": 39880810, "comment_id": 113445849, "body": "@zneak you can do anything that has no preconditions, such as assigning a different value to it."}], "answers": [{"tags": [], "owner": {"reputation": 3184, "user_id": 447599, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/16869820699afa8b6b6d358e9234f1d7?s=128&d=identicon&r=PG", "display_name": "Jules G.M.", "link": "https://stackoverflow.com/users/447599/jules-g-m"}, "is_accepted": true, "score": 6, "last_activity_date": 1475690870, "creation_date": 1475690870, "answer_id": 39880923, "question_id": 39880810, "link": "https://stackoverflow.com/questions/39880810/stdmove-on-a-stack-object/39880923#39880923", "title": "std::move on a stack object", "body": "<p>Yes it's still valid, the innerscope object loses ownership of the content it previously had, and outerscope becomes the owner. std::move is like a vector swap. If you swap outer and inner, destroying inner won't affect the content now owned by outer.</p>\n"}], "owner": {"reputation": 4060, "user_id": 629530, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2e4763f0cc8124d677d249a99800950a?s=128&d=identicon&r=PG", "display_name": "firebush", "link": "https://stackoverflow.com/users/629530/firebush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2510, "favorite_count": 3, "accepted_answer_id": 39880923, "answer_count": 1, "score": 10, "last_activity_date": 1601549159, "creation_date": 1475690485, "question_id": 39880810, "link": "https://stackoverflow.com/questions/39880810/stdmove-on-a-stack-object", "title": "std::move on a stack object", "body": "<p>I know this is a very basic, probably even embarrassing, question, but I'm having trouble understanding this. If I std::move from something on the stack to another object, can the other object still be used when the original goes out of scope?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint\nmain(int argc, char* argv[])\n{\n    std::string outer_scope;\n\n    {\n        std::string inner_scope = \"candy\";\n        outer_scope = std::move(inner_scope);\n    }\n\n    std::cout &lt;&lt; outer_scope &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Is outer_scope still valid where I'm trying to print it?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 17408, "user_id": 2881849, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5a2fd0122f50f7582be15be3062c5b71?s=128&d=identicon&r=PG&f=1", "display_name": "MikeMB", "link": "https://stackoverflow.com/users/2881849/mikemb"}, "edited": false, "score": 0, "creation_date": 1475690884, "post_id": 39880720, "comment_id": 67048536, "body": "Yes, but I don&#39;t have a standard at hand to quote"}], "answers": [{"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 5, "last_activity_date": 1475691489, "last_edit_date": 1475691489, "creation_date": 1475690908, "answer_id": 39880933, "question_id": 39880720, "link": "https://stackoverflow.com/questions/39880720/am-i-guaranteed-a-single-pair-of-constructor-and-destructor-calls-when-returning/39880933#39880933", "title": "Am I guaranteed a single pair of constructor and destructor calls when returning an object initialized with braced init list?", "body": "<p>When you <code>return {a,b};</code> you directly construct the return value.</p>\n\n<p>No temporary, logical or otherwise, is created.  No elision occurs.</p>\n\n<p>This return value is available in the returned context in <code>main</code>.  You can call its <code>.ephemeral()</code> operation.  At the end of the full-expression, it goes out of scope, unless you \"store\" it in a <code>A const&amp;</code> (reference lifetime extension kicks in) or in a <code>A&amp;&amp;</code> (ditto) or in an <code>auto const&amp;</code> or <code>auto&amp;&amp;</code> variable like this:</p>\n\n<pre><code>auto&amp;&amp; a = make_A(1, 2);\na.ephemeral();\n</code></pre>\n\n<p>Still, in the above case, no copy occurs.</p>\n\n<p>None of these actions can cause a copy under the standard.</p>\n\n<p>You are correct in some cases copy construction can be elided out of existence.  Elision is when two objects have their identity and lifetimes merged.  So if <code>make_A</code> read:</p>\n\n<pre><code>A make_A(int a, int b){\n  A r{a,b};\n  return r;\n}\n</code></pre>\n\n<p><code>r</code> could be <em>elided</em> into the return value.  Here, however, the compiler would demand that <code>A(A const&amp;)</code> or <code>A(A&amp;&amp;)</code> be defined, so it would not compile with your <code>A</code>.  In practice, once it checked that they are defined, it wouldn't call them because the <code>r</code> within <code>make_A</code> would be elided to be the same object as the return value of <code>make_A</code>.</p>\n\n<p>Similarly,</p>\n\n<pre><code>A a = make_A(1,2);\n</code></pre>\n\n<p>the temporary returned by <code>make_A</code> is elided to be the same as the named variable <code>a</code>.  Elision is transient, so this could also elide together a variable <em>within</em> <code>make_A</code>.  In this case, you also need <code>A(A&amp;&amp;)</code> or <code>A(A const&amp;)</code> to exist.</p>\n\n<p>By deleting the move/copy ctors, they cannot be called, so the object cannot be copied.  Only one destructor can be called per constructor (barring manual construction or destruction).</p>\n\n<p>If the code tries to call them, it will generate an error at compile time.</p>\n\n<hr>\n\n<p>In C++17 you can even <code>return A(a,b);</code> and a similar guarantee occurs.</p>\n\n<p>You can also <code>A a = make_A(1,2);</code> and a similar guarantee occurs.</p>\n\n<p>This is described as \"guaranteed elision\", but rather it turns some operations into \"descriptions of how to construct something\".</p>\n\n<p>So there are cases where you'll be able to do things that required move or copy ctors in C++03 or C++11 or C++14 but in C++17 now do something similar to \"elision\" and no longer require the move or copy ctors.</p>\n"}], "owner": {"reputation": 153, "user_id": 6903734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ee2e07cf59fccd33dec840ac19bf2393?s=128&d=identicon&r=PG&f=1", "display_name": "authentec", "link": "https://stackoverflow.com/users/6903734/authentec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 39880933, "answer_count": 1, "score": 4, "last_activity_date": 1475691489, "creation_date": 1475690126, "last_edit_date": 1475690321, "question_id": 39880720, "link": "https://stackoverflow.com/questions/39880720/am-i-guaranteed-a-single-pair-of-constructor-and-destructor-calls-when-returning", "title": "Am I guaranteed a single pair of constructor and destructor calls when returning an object initialized with braced init list?", "body": "<p>Take the following class for example</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass A{\nprivate:\n    int a_;\n    int b_;\n\n    A(const A&amp;) = delete;\n    A&amp; operator=(const A&amp;) = delete;\n    A(A&amp;&amp;) = delete;\n    A&amp; operator=(A&amp;&amp;) = delete;\n\npublic:\n    A(int a, int b) : a_{a}, b_{b}{cout&lt;&lt;\"constructed\\n\";}\n\n    void ephemeral() const{cout&lt;&lt;\"operation\\n\";}\n\n    ~A(){cout&lt;&lt;\"destructed\\n\";}\n\n};\n\nA make_A(int a, int b){\n    return {a, b};\n}\n\nint main(){\n    make_A(1, 2).ephemeral();\n    return 0;\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/7231db713eb819f8\" rel=\"nofollow\">It gives the expected result</a>. </p>\n\n<p>The object is constructed, the operation is performed, then it is destructed. </p>\n\n<p>However, I'm concerned whether this is guaranteed. My main concern is whether I could be seeing any effects I'm unaware of due to freedom given to the compiler by the standard. </p>\n\n<p>I don't think copy-elision is a factor here because all move and copy constructors are declared deleted so how could they be called? </p>\n\n<p>The only constructor being called is the one that takes two integers. Can I be sure that this will behave consistently across compilers, platforms, and optimization levels? </p>\n\n<p>I suspect that the answer is 'yes' but there could be subtleties.</p>\n"}, {"tags": ["c++", "struct"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475690161, "post_id": 39880693, "comment_id": 67048124, "body": "Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as usual please. <code>distribution.get_sequence(S, k, uniform);</code> doesn&#39;t make sense. What is <code>S</code> or <code>k</code> actually?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1475690240, "post_id": 39880693, "comment_id": 67048166, "body": "Please post some kind of correlation between the error messages and the code you posted."}, {"owner": {"reputation": 189, "user_id": 5251565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41c4a94d9633b72440a02ea1fd57f8d?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/5251565/jack"}, "edited": false, "score": 0, "creation_date": 1475690324, "post_id": 39880693, "comment_id": 67048210, "body": "This code is minimal in that I need to show all parts of my problem in order for the question to make sense. It is complete and verifiable as this is the exact compilation problem I am getting."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475690877, "post_id": 39880693, "comment_id": 67048534, "body": "Your compiler told you which lines the error messages were referring to. You didn&#39;t relay that information to us. Not complete. The line number is the most useful piece of information for understanding a compiler error. Maybe we <i>can</i> figure it out without that, but why should we have to when you can just tell us?"}], "answers": [{"tags": [], "owner": {"reputation": 3977, "user_id": 3286661, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/2111859aa05157fab64e52e795cc1034?s=128&d=identicon&r=PG&f=1", "display_name": "nishantsingh", "link": "https://stackoverflow.com/users/3286661/nishantsingh"}, "is_accepted": true, "score": 2, "last_activity_date": 1475690260, "creation_date": 1475690260, "answer_id": 39880752, "question_id": 39880693, "link": "https://stackoverflow.com/questions/39880693/pass-a-vector-when-defined-in-a-struct-to-a-function/39880752#39880752", "title": "pass a vector (when defined in a struct) to a function", "body": "<p>I think you want this instead:</p>\n\n<pre><code>S[i] = get_uniform(args.args[0], args.args[1]);\n</code></pre>\n\n<p>Because <code>args</code> is of type <code>Args</code> and it has a member <code>args</code> which is a vector. I'd suggest you name your structs and variables appropriately to avoid confusion.</p>\n"}], "owner": {"reputation": 189, "user_id": 5251565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41c4a94d9633b72440a02ea1fd57f8d?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/5251565/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 39880752, "answer_count": 1, "score": 0, "last_activity_date": 1475690283, "creation_date": 1475690020, "last_edit_date": 1475690283, "question_id": 39880693, "link": "https://stackoverflow.com/questions/39880693/pass-a-vector-when-defined-in-a-struct-to-a-function", "title": "pass a vector (when defined in a struct) to a function", "body": "<p>When I try and run this, I get the errors:</p>\n\n<pre><code>error C2676: binary '[': 'const Args' does not define this operator or a conversion to a type acceptable to the predefined operator.\n\nerror C2088: '[': illegal for struct.\n\nerror C2660: 'Mergesort::get_uniform': function does not take 1 arguments.  \n</code></pre>\n\n<p>How would I access the vectors args in my function?  </p>\n\n<p>Am I passing it incorrectly?  </p>\n\n<p>Note that I need to leave the function header as is.  </p>\n\n<p>Also, is there a way that I can leave the vector args in Args as an undefined size and define its size when creating Uniform?  </p>\n\n<p>Thank you for any feedback.</p>\n\n<pre><code>int get_sequence(double S[], int k, const Args &amp;args); // function prototype\n\nstruct Args\n{\nstring name;\nvector&lt;double&gt; args;\nArgs() : args(2) {};\n};\n\nint main()\n{\n\nArgs uniform;\nuniform.name = dist_name;\nuniform.args[0] = min;\nuniform.args[1] = max;\n\ndistribution.get_sequence(S, k, uniform);\n\n} // end main\n\nint Mergesort::get_sequence(double S[], int k, const Args &amp;args)\n{\n\nfor (int i = 0; i &lt; k; i++)\n{\n    S[i] = get_uniform(args[0], args[1]);\n    cout &lt;&lt; S[i] &lt;&lt; \" \";\n}\n\nreturn k;\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "graphics"], "comments": [{"owner": {"reputation": 1131, "user_id": 3448634, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1b5b4e95d700f849977e3c3e99b4ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Makketronix", "link": "https://stackoverflow.com/users/3448634/makketronix"}, "edited": false, "score": 1, "creation_date": 1475689590, "post_id": 39880400, "comment_id": 67047828, "body": "Your linker or shader  must return an error code. What is that error code?"}, {"owner": {"reputation": 8580, "user_id": 2293156, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/800e791e8e13500e516c9ae77299160a?s=128&d=identicon&r=PG", "display_name": "Amadeus", "link": "https://stackoverflow.com/users/2293156/amadeus"}, "edited": false, "score": 0, "creation_date": 1475689746, "post_id": 39880400, "comment_id": 67047901, "body": "You must do <code>glBindAttribLocation</code> before <code>glLinkProgram</code>. I would recomend <a href=\"http://learnopengl.com/\" rel=\"nofollow noreferrer\">www.learnopengl.com</a>"}, {"owner": {"reputation": 53, "user_id": 5707512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5bd87a902e4563fba1b6588d3853c01?s=128&d=identicon&r=PG&f=1", "display_name": "EvenDance", "link": "https://stackoverflow.com/users/5707512/evendance"}, "edited": false, "score": 0, "creation_date": 1475689936, "post_id": 39880400, "comment_id": 67048019, "body": "Well, the error Code I get is just a default string that I wrote myself."}, {"owner": {"reputation": 53, "user_id": 5707512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5bd87a902e4563fba1b6588d3853c01?s=128&d=identicon&r=PG&f=1", "display_name": "EvenDance", "link": "https://stackoverflow.com/users/5707512/evendance"}, "edited": false, "score": 0, "creation_date": 1475690387, "post_id": 39880400, "comment_id": 67048250, "body": "Already tried to <code>glBindAttribLocation</code> before <code>glLinkProgram</code>, but it ddint work. thanks for your help though."}, {"owner": {"reputation": 7060, "user_id": 105466, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jMWs6.png?s=128&g=1", "display_name": "SurvivalMachine", "link": "https://stackoverflow.com/users/105466/survivalmachine"}, "edited": false, "score": 0, "creation_date": 1475691045, "post_id": 39880400, "comment_id": 67048636, "body": "&quot;glAttatchShader&quot; is not a GL function. Maybe you meant &quot;glAttachShader&quot;."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1475708520, "post_id": 39880400, "comment_id": 67056745, "body": "There&#39;s an entire (mostly) human-readable log generated by the compiler and linker. Query that (info log) instead of blindly guessing these things."}, {"owner": {"reputation": 39713, "user_id": 2423205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EX7y2.png?s=128&g=1", "display_name": "Andon M. Coleman", "link": "https://stackoverflow.com/users/2423205/andon-m-coleman"}, "edited": false, "score": 0, "creation_date": 1475708760, "post_id": 39880400, "comment_id": 67056806, "body": "Also, considering the API takes 4 parameters for <code>glShaderSource</code>, you&#39;ve still not pasted the correct code. It expects an array of zero-terminated strings (or barring that, an array of strings and an array of lengths)."}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 5347118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dd564f0aa0035bea7e124dbd692dcc0?s=128&d=identicon&r=PG&f=1", "display_name": "Murad", "link": "https://stackoverflow.com/users/5347118/murad"}, "is_accepted": true, "score": 0, "last_activity_date": 1475710311, "creation_date": 1475710311, "answer_id": 39885248, "question_id": 39880400, "link": "https://stackoverflow.com/questions/39880400/cannot-link-glsl-program/39885248#39885248", "title": "Cannot Link GLSL Program", "body": "<p>I think there are a few typos in your code. You write \"vertexShaderID = glCreateShader(GL_Vertex_SHADER)\", but macros are indicated in capital letters -> \"GL_VERTEX_SHADER\". Try glShaderSource(vertexShaderID, 1, vertexShaderCodeString, NULL), instead of passing 3 parametrs.</p>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 5707512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5bd87a902e4563fba1b6588d3853c01?s=128&d=identicon&r=PG&f=1", "display_name": "EvenDance", "link": "https://stackoverflow.com/users/5707512/evendance"}, "edited": false, "score": 0, "creation_date": 1475741682, "post_id": 39886392, "comment_id": 67067592, "body": "I checked the string, everything is okay with it....Well, I guess imma start the whole Project from scratch and download new graphics drivers..."}], "tags": [], "owner": {"reputation": 314, "user_id": 5228740, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/nnUZy.png?s=128&g=1", "display_name": "Hannes Hauptmann", "link": "https://stackoverflow.com/users/5228740/hannes-hauptmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1475719530, "creation_date": 1475719530, "answer_id": 39886392, "question_id": 39880400, "link": "https://stackoverflow.com/questions/39880400/cannot-link-glsl-program/39886392#39886392", "title": "Cannot Link GLSL Program", "body": "<p>How did you saved your sourcecode of the shaders ? Make shure to have <code>\\n</code>\nafter the version declaration, otherwise you will end up having the code in the same line as the #, which is bad.</p>\n"}], "owner": {"reputation": 53, "user_id": 5707512, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e5bd87a902e4563fba1b6588d3853c01?s=128&d=identicon&r=PG&f=1", "display_name": "EvenDance", "link": "https://stackoverflow.com/users/5707512/evendance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 39885248, "answer_count": 2, "score": -1, "last_activity_date": 1475719530, "creation_date": 1475688948, "last_edit_date": 1475697778, "question_id": 39880400, "link": "https://stackoverflow.com/questions/39880400/cannot-link-glsl-program", "title": "Cannot Link GLSL Program", "body": "<p>I can't get the following Code to work. I want to render the triangle I describe in <code>position[]</code>.</p>\n\n<p>The program gives me sometimes a shader compile error or a program linking error and sometimes even both without me changing the code in between.</p>\n\n<p>Program:</p>\n\n<pre><code>Window window(TITLE, WIDTH, HEIGHT) // Context and glew gets init here\n\nfloat position[] = {-0.5, -0.5, 0.0,\n                     0.5, -0.5, 0.0,\n                     0.0,  0.5, 0.0};\n\n// Shader program gets init\nsID = glCreateProgram();\nvertexShaderID = glCreateShader(GL_Vertex_SHADER);\nfragShaderID = glCreateShader(GL_FRAGMENT_SHADER);\nglShaderSource(vertexShaderID, 1, vertexShaderCodeString); // The Code strings are valid, I printed them out\nglShaderSource(fragmentShaderID, 1, fragShaderCodeString);\n\nglCompileShader(vertexShaderID);\nglCompileShader(fragShaderID);\nshaderDidCompileCheck(vertexShaderID); // A function I wrote that checks for errors\nshaderDidCompileCheck(fragShaderID);\n\nglAttachShader(sID, vertexShaderID);\nglAttachShader(sID, fragShaderID);\n\nglLinkProgram(sID);\nprogramDidLinkCheck(); // A function I wrote that checks for errors\nglValidateProgram(sID);\n\nglUseProgram(sID);\nglBindAttribLocation(sID, 0, \"position\");\nglUseProgram(0);\n\n// Defining VBOs and VAOs\nint bufferID;\nglGenBuffers(1, &amp;bufferID);\nglBindBuffer(GL_ARRAY_BUFFER, bufferID);\nglBufferData(GL_ARRAY_BUFFER, 3 * 3 * sizeof(float), mDataPtr, GL_STATIC_DRAW); // I have 3 vertices with 3 coordinates each\nglBindBuffer(GL_ARRAY_BUFFER, 0);\n\nint vaoID;\nglGenVertexArrays(1, &amp;vaoID);\nglBindVertexArray(vaoID);\nglBindBuffer(GL_ARRAY_BUFFER, bufferID);\nglVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, NULL); // I Want to load it to the index 0 of the VAO, the vertex size is 3, the data type is GL_FLOAT\nglBindBuffer(GL_ARRAY_BUFFER, 0);\nglBindVertexArray(0);\n\nglBindVertexArray(vaoID);\nglEnableVertexAttribArray(0);\nglBindVertexArray(0);\n\n// Main loop\nwhile(!window.close()) {\n    glClearColor(0.3, 0.8, 0.6, 1);\n    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n\n    glUseProgram(sID);\n    glBindVertexArray(vaoID);\n    glDrawArrays(GL_TRIANGLES, 0, 1);\n    glBindVertexArray(0);\n    glUseProgram(0);\n\n    glfwSwapBuffers(mWindow);\n    glfwPollEvents();\n}\n</code></pre>\n\n<p>Vertex Shader:</p>\n\n<pre><code>#version 410\nin vec3 position;\nout vec3 color;\n\nvoid main() {\n    gl_Position = vec4(position, 1.0);\n    color = vec3(position.x + 0.5, 0.5, position.y + 0.5);\n}\n</code></pre>\n\n<p>Fragment Shader:</p>\n\n<pre><code>#version 410\nin vec3 color;\nout vec4 outputColor;\n\nvoid main() {\n    outputColor = vec4(color, 1.0);\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 2, "creation_date": 1475688873, "post_id": 39880372, "comment_id": 67047436, "body": "The right tool to solve such problems is your debugger. You should step through your code line-by-line <i>before</i> asking on Stack Overflow. For more help, please read <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (by Eric Lippert)</a>. At a minimum, you should &#91;edit] your question to include a <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable</a> example that reproduces your problem, along with the observations you made in the debugger."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1475688990, "post_id": 39880372, "comment_id": 67047494, "body": "That code you show is nearly unreadable. Please apply indentation evenly throughout the code, don&#39;t just use it for certain pieces."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1475689083, "post_id": 39880372, "comment_id": 67047551, "body": "Also, you do know that array indexes are zero-based? Why are you starting your loops at index <code>1</code>? Doing that now just gives you a bad habit that might be hard to break later when it matters."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1475689154, "post_id": 39880372, "comment_id": 67047587, "body": "Lastly, and regarding your problem. You do know that your initialization of the matrix will run <code>n * n</code> times? You might want to reset <code>x</code> sometime and somewhere."}, {"owner": {"reputation": 13, "user_id": 6927823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0d186cf50aa1bac93e0ca9b4a9a452?s=128&d=identicon&r=PG&f=1", "display_name": "RaduQ99", "link": "https://stackoverflow.com/users/6927823/raduq99"}, "edited": false, "score": 0, "creation_date": 1475689266, "post_id": 39880372, "comment_id": 67047649, "body": "I don&#39;t know how to make the matrix to show values from 1 to 9. When i run the program and i enter 5 it show me a matrix with values from 1 to 25."}, {"owner": {"reputation": 1857, "user_id": 5679064, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l2ibgQ05wGY/AAAAAAAAAAI/AAAAAAAAAAA/IJpQJnP_zVo/photo.jpg?sz=128", "display_name": "Gasper", "link": "https://stackoverflow.com/users/5679064/gasper"}, "edited": false, "score": 0, "creation_date": 1475689430, "post_id": 39880372, "comment_id": 67047750, "body": "Program is just a way of explaining things to computer in a very detailed way. Try reading your program in some natural language you use, like English, and find the problem in that explanation. Hint: where did ypur program says that you can only use numbers from 1 to 9?"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6927823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0d186cf50aa1bac93e0ca9b4a9a452?s=128&d=identicon&r=PG&f=1", "display_name": "RaduQ99", "link": "https://stackoverflow.com/users/6927823/raduq99"}, "edited": false, "score": 0, "creation_date": 1475689464, "post_id": 39880456, "comment_id": 67047769, "body": "Almost perfect, but it show 0 when it arrive to values 10. But thank you for this answer is almost perfect."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 13, "user_id": 6927823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0d186cf50aa1bac93e0ca9b4a9a452?s=128&d=identicon&r=PG&f=1", "display_name": "RaduQ99", "link": "https://stackoverflow.com/users/6927823/raduq99"}, "edited": false, "score": 1, "creation_date": 1475690499, "post_id": 39880456, "comment_id": 67048314, "body": "@RaduQ99 then make it <code>((x+1)%9)+1</code>"}], "tags": [], "owner": {"reputation": 11, "user_id": 6926343, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/c9c9c02c05c8913372c1cddea9d09a55?s=128&d=identicon&r=PG", "display_name": "PMar", "link": "https://stackoverflow.com/users/6926343/pmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1475689174, "creation_date": 1475689174, "answer_id": 39880456, "question_id": 39880372, "link": "https://stackoverflow.com/questions/39880372/c-matrix-values-of/39880456#39880456", "title": "C++ Matrix values of", "body": "<p>You need to use the modulus operator (%).  If you want the values in the matrix to be as you have computed them, but only need to change the display, you would output the matrix values as follows:</p>\n\n<pre><code>cout &lt;&lt; (a[i][j] % 10) &lt;&lt; \" \";\n</code></pre>\n\n<p>If you want the one-digit values to be in the matrix itself, you would instead change the increment on 'x' to the following:</p>\n\n<pre><code>x = (x+1) % 10;}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1685, "user_id": 6261331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uNHq.png?s=128&g=1", "display_name": "Asu", "link": "https://stackoverflow.com/users/6261331/asu"}, "is_accepted": true, "score": 0, "last_activity_date": 1506707928, "last_edit_date": 1506707928, "creation_date": 1475691581, "answer_id": 39881121, "question_id": 39880372, "link": "https://stackoverflow.com/questions/39880372/c-matrix-values-of/39881121#39881121", "title": "C++ Matrix values of", "body": "<p>There are some issues in your code.</p>\n\n<p><strong>C arrays or STL containers?</strong></p>\n\n<p>First off, <code>a</code> your matrix may only hold matrices as big as 20x20. Your program will silently fail if you enter <code>n</code> bigger than 20, because you will access memory out of bounds; which causes an undefined behavior (see other common UB cases <a href=\"https://stackoverflow.com/questions/367633/what-are-all-the-common-undefined-behaviours-that-a-c-programmer-should-know-a\">here</a>).</p>\n\n<p>You may want to use a dynamic size array - A good way to achieve this is to use <code>std::vector</code>. Unfortunately, this isn't as comfortable to use as a C-style array with two dimensions - you can achieve the same access syntax using a <code>std::vector&lt;std::vector&lt;int&gt;&gt;</code>, but this is not very efficient (see <a href=\"https://scicomp.stackexchange.com/questions/3159/is-it-a-good-idea-to-use-vectorvectordouble-to-form-a-matrix-class-for-high\">this answer</a> if you are interested why) nor quite comfortable.</p>\n\n<p>The Boost C++ library provides <a href=\"http://www.boost.org/doc/libs/1_61_0/libs/multi_array/doc/user.html\" rel=\"nofollow noreferrer\">a multidimensional array library</a>. Once you get experienced enough, you may find an use in it.</p>\n\n<p><strong><code>&lt;=</code> or <code>&lt;</code>? <code>0</code>-index or <code>1</code>-indexed?</strong></p>\n\n<p>Many programming languages today uses <code>0</code>-indexing for arrays. This means the first element of the array is located at index <code>0</code>, not <code>1</code>. Some languages, such as Lua, doesn't do this.</p>\n\n<p>This means you should iterate <code>i</code> and <code>j</code> from <code>0</code> to <code>n</code>. This also means <code>n</code> is excluded, so you should use <code>&lt;</code>, not <code>&lt;=</code>.</p>\n\n<p><strong>Filling the matrix with numbers from 1 to 9</strong></p>\n\n<p>Your code doesn't do anything so you get numbers from 1 to 9 - it only fills the matrix with numbers from 1 to <code>n * n</code>. You could change this using an <code>if</code> clause to set <code>x</code> every time it goes above <code>9</code>:</p>\n\n<pre><code>if (x &gt; 9) { x = 0; } // x = 0 because it will be 1 on the next iteration\n</code></pre>\n\n<p>That being said, there is more convenient, as @PMar's answer says. The <a href=\"http://www.cprogramming.com/tutorial/modulus.html\" rel=\"nofollow noreferrer\">modulo operator <code>%</code></a> will do the task as well.</p>\n\n<pre><code>a[i][j] = (x % 9) + 1;\nx = (x % 9) + 1;\n</code></pre>\n\n<p>This way, you will get every number from <code>1</code> to <code>9</code>.</p>\n\n<p>Now, you can also do another cleanup: Why are you calculating <code>x</code>'s next value, and only then setting it? You could assign the new <code>x</code> value before the assignment to your matrix's cell. This allows having clearer code, with less copy pasting, which implies better maintainability.</p>\n\n<pre><code>x = (x % 9) + 1;\na[i][j] = x;\n</code></pre>\n\n<p><strong>Another code quality consideration</strong></p>\n\n<p>I cannot say if your original code source was indented like your question (before it was edited), but you should <em>really</em> indent your code, for the future you and other people that will have to read your code. It allows for much better readability.</p>\n\n<p>Same goes for different parts of your code : Add some space! It only can get more readable if you make a clear distinction between even just expressions.</p>\n"}, {"tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1475692244, "creation_date": 1475692244, "answer_id": 39881296, "question_id": 39880372, "link": "https://stackoverflow.com/questions/39880372/c-matrix-values-of/39881296#39881296", "title": "C++ Matrix values of", "body": "<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n\n    int a[5][5];\n    int x = 1;\n\n    for(int i = 0; i &lt; 5; i++)\n    {\n        for(int j = 0; j &lt; 5; j++)\n        {\n            if(x &gt; 9)\n                x = 1;\n            a[i][j] = x;\n            x++;\n        }\n    }\n\n    for(int i = 0; i &lt; 5; i++)\n    {\n        for(int j = 0; j &lt; 5; j++)\n        {\n            if(a[i][j] &lt; 10)\n                std::cout &lt;&lt; \" \";\n            std::cout &lt;&lt; a[i][j] &lt;&lt; \" \";\n        }\n\n        std::cout &lt;&lt; std::endl;\n    }\n\n    std::cout &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 6927823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c0d186cf50aa1bac93e0ca9b4a9a452?s=128&d=identicon&r=PG&f=1", "display_name": "RaduQ99", "link": "https://stackoverflow.com/users/6927823/raduq99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 39881121, "answer_count": 3, "score": -1, "last_activity_date": 1506707928, "creation_date": 1475688806, "last_edit_date": 1475689676, "question_id": 39880372, "link": "https://stackoverflow.com/questions/39880372/c-matrix-values-of", "title": "C++ Matrix values of", "body": "<p>I want to create a matrix of 5 lines and 5 columns which contains values from 1 to 9. The following programs displays numbers from 1 to 25 instead, when I input <code>5</code> to the program..</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint a[20][20], n, x = 0;\n\nint main()\n{\n    cout &lt;&lt; \"n=\";\n    cin &gt;&gt; n;\n\n    for(int i=1; i&lt;=n; i++)\n    for(int j=1; j&lt;=n; j++)\n    {\n        a[i][j] = x+1;\n        x = x+1;\n    }\n\n    for(int i=1; i&lt;=n; i++)\n    {\n        for(int j=1; j&lt;=n; j++)\n            cout &lt;&lt; a[i][j] &lt;&lt; \" \";\n\n        cout &lt;&lt; endl;\n    }\n}\n</code></pre>\n\n<p>I'm a c++ beginner, so maybe it's simple to do but i don't know how to make it show values from 1 to 9. This is the matrix I except:</p>\n\n<pre><code>1 2 3 4 5\n6 7 8 9 1\n2 3 4 5 6 \n7 8 9 1 2\n3 4 5 6 7 \n</code></pre>\n"}, {"tags": ["c++", "algorithm", "parallel-processing", "openmp", "eigen"], "comments": [{"owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475690719, "post_id": 39880346, "comment_id": 67048441, "body": "I didn&#39;t confirm and run this code... but I would guess your <code>ROTATE</code> function has contention between threads.  To prove it you can try putting a <code>#pragma omp critical { ... }</code>.  Additionally, unless you need to have C89 compliance (You&#39;re using C++, so..) ... I personally find it much easier to reduce the scope of parameters to the narrowest scope, it makes private/shared more semantically obvious."}, {"owner": {"reputation": 25314, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "edited": false, "score": 1, "creation_date": 1475739398, "post_id": 39880346, "comment_id": 67066297, "body": "Regarding your sidenote, it would nice to figure out why <code>SelfAdjointEigenSolver</code> is not giving you the expected accuracy. To this end, could you either post/send me a self-contained exemple or one of your problematic matrix so that we can investigate on our side? (you&#39;ll find my email in almost all Eigen&#39;s header files). Thanks."}, {"owner": {"reputation": 1807, "user_id": 1900441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa3540494c1cb556bf1f517992b172fe?s=128&d=identicon&r=PG", "display_name": "Jim Cownie", "link": "https://stackoverflow.com/users/1900441/jim-cownie"}, "edited": false, "score": 0, "creation_date": 1475746104, "post_id": 39880346, "comment_id": 67070602, "body": "Meta-question: Why write your own? Why not use one from an existing, optimised, math-library. Intel MKL is gratis <a href=\"https://software.intel.com/en-us/articles/free-mkl\" rel=\"nofollow noreferrer\">software.intel.com/en-us/articles/free-mkl</a> and contains Jacobi functions. <a href=\"https://software.intel.com/en-us/node/522101\" rel=\"nofollow noreferrer\">software.intel.com/en-us/node/522101</a> I don&#39;t know for sure that they&#39;re parallelized, but other parts of MKL certainly are. (&quot;The best code is the code I don&#39;t have to write&quot;). (FWIW I work for Intel, but not on MKL)."}, {"owner": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475768492, "post_id": 39880346, "comment_id": 67086170, "body": "Thanks for your suggestion, I will check them out. I want to obtain the eigenvalues and eigenvectors not solve a linear system but maybe there is also something that does this in the intel libraries."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475691821, "post_id": 39881048, "comment_id": 67049055, "body": "OpenMP and C++ Thread don&#39;t accomplish the same objectives.  Parallel extensions like OpenMP, Cilk++, OpenACC are designed to rewrite your C/C++ code targeted at a specific platform (co-processors, gpus, cpu/numa architectures).  <code>std::thread</code> is designed for general purpose threading but would require you to be aware of your specific target for real optimization."}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475692015, "post_id": 39881048, "comment_id": 67049161, "body": "@cjhanks That&#39;s up for debate. I disagree with you. What I said at the end is just my opinion."}, {"owner": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475692907, "post_id": 39881048, "comment_id": 67049679, "body": "Matrices can be 4096*4096 no bigger than that. I know spawning different threads can be inefficient but I planned on using timers to test the speed. As for your question, z is an array in Eigen, and what I am doing is accessing a coefficient."}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475743634, "post_id": 39881048, "comment_id": 67068863, "body": "@jcarvalho This size is on the verge of being big, but it&#39;s not really that huge. See the math: Every spawned thread takes in average about 1 MB of memory (learned that from the book I listed in my answer). That matrix will take 4096^2 doubles, which is about 120 MB of memory. So if you spawn 20 threads, your threads are about 17% as expensive as your data, hence, the cost of spawning threads is not negligible. So I suggest that you work your program in a way that avoids spawning threads multiple times."}, {"owner": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475768512, "post_id": 39881048, "comment_id": 67086186, "body": "Yeah you were right, I got the code work by both the z(ip)=z(ip)-h; and the ROTATE() part in a critical block but none of the parallelization increased the performances of the code and some even drastically reduced it. The proper way of doing this would be as you said reduce the number of times I spawn threads but in this case I don&#39;t think it is worth the work thanks anyway. I edited the question to add the solution that fixed the problem because for big enough system this may be helpful."}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475770921, "post_id": 39881048, "comment_id": 67087611, "body": "@jcarvalho When you make all your code critical then you&#39;re destroying any benefit of parallelization. You have to find the balance that will optimize your code. Parallelization is not something easy in general, and you have to do it very patiently, or you&#39;ll get wrong results. My recommendation for your case, is that you lean how to use std::thread, and spawn threads once, and use them repeatedly. Good luck!"}, {"owner": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "edited": false, "score": 0, "creation_date": 1475775462, "post_id": 39881048, "comment_id": 67090102, "body": "Yes I know but that part of the code was not working very well, I suppose it was because of thread contention like cjhanks said. Since the rest was parallelized I hoped I would get a decrease in computation time but as turns out I didn&#39;t."}, {"owner": {"reputation": 957, "user_id": 1393510, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d577ec4e03225c00a51523736dbe006a?s=128&d=identicon&r=PG&f=1", "display_name": "baptiste", "link": "https://stackoverflow.com/users/1393510/baptiste"}, "edited": false, "score": 0, "creation_date": 1475855107, "post_id": 39881048, "comment_id": 67125958, "body": "The death of OpenMP won&#39;t happen before some years. It supposes all embedded platforms, even the very very small ones (some MBits of memory), to allow C++11 code which is not yet the case. And that won&#39;t be soon in my opinion."}], "tags": [], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "is_accepted": true, "score": 0, "last_activity_date": 1475691733, "last_edit_date": 1495541960, "creation_date": 1475691273, "answer_id": 39881048, "question_id": 39880346, "link": "https://stackoverflow.com/questions/39880346/parallelization-of-jacobi-algorithm-using-eigen-c-using-openmp/39881048#39881048", "title": "Parallelization of Jacobi algorithm using eigen c++ using openmp", "body": "<p>I'll try to help, but I'm not sure this is the answer to your question.</p>\n\n<p>There are tons of problems with your code. My friendly advice for you is: Don't do parallel things if you don't understand the implications of what you're doing.</p>\n\n<p>For some reason, it looks like that you think putting everything in parallel <code>#pragma for</code> will make it faster. This is VERY wrong. Because spawning threads is an expensive thing to do and costs (relatively) lots of memory and time. So if you redo that <code>#pragma for</code> for every loop, you'll respawn threads for every loop, which will significantly reduce the speed of your program... UNLESS: Your matrices are REALLY huge and the computation time is >> than the cost of spawning them.</p>\n\n<p>I fell into a similar issue when I wanted to multiply huge matrices, element-wise (and then I needed the sum for some expectation value in quantum mechanics). To use OpenMP for that, I had to flatten the matrices to linear arrays, and then distribute the array chunks each to a thread, and then run a for loop, where every loop iteration uses elements that are independent of others for sure, and I made them all evolve independently. This was quite fast. Why? Because I never had to respawn threads twice.</p>\n\n<p>Why you're getting wrong results? I believe the reason is because you're not respecting shared memory rules. You have <em>some</em> variable(s) that is being modified by multiple threads simultaneously. It's hiding somewhere, and you have to find it! For example, what does the function <code>z</code> do? Does it take stuff by reference? What I see here:</p>\n\n<pre><code>z(ip)=z(ip)-h;\nz(iq)=z(iq)+h;\nd(ip)=d(ip)-h;\nd(iq)=d(iq)+h;\n</code></pre>\n\n<p>Looks VERY multi-threading not-safe, and I don't understand what you're doing. Are you returning a reference that you have to modify? This is a recipe for thread non-safety. Why don't you create clean arrays and deal with them instead of this?</p>\n\n<p><strong>How to debug</strong>: Start with a small example (2x2 matrix, maybe), and use only 2 threads, and try to understand what's going on. Use a debugger and define break points, and check what information is shared between threads.</p>\n\n<p>Also consider using a mutex to check what data gets ruined when it becomes shared. <a href=\"https://stackoverflow.com/questions/2396430/how-to-use-lock-in-openmp\">Here</a> is how to do it.</p>\n\n<p><strong>My recommendation</strong>: Don't use OpenMP unless you plan to spawn the threads ONLY ONCE. I actually believe that OpenMP is going to die very soon because of C++11. OpenMP was beautiful back then when C++ didn't have any native multi-threading implementation. So learn how to use <code>std::thread</code>, and use it, and if you need to run many things in threads, then learn how to create a Thread Pool with <code>std::thread</code>. <a href=\"https://rads.stackoverflow.com/amzn/click/com/1933988770\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">This</a> is a good book for learning multithreading.</p>\n"}], "owner": {"reputation": 105, "user_id": 6243043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2609a3e95775d9956b17bdce3dd50eaf?s=128&d=identicon&r=PG&f=1", "display_name": "jcarvalho", "link": "https://stackoverflow.com/users/6243043/jcarvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 0, "accepted_answer_id": 39881048, "answer_count": 1, "score": 1, "last_activity_date": 1475768317, "creation_date": 1475688705, "last_edit_date": 1475768317, "question_id": 39880346, "link": "https://stackoverflow.com/questions/39880346/parallelization-of-jacobi-algorithm-using-eigen-c-using-openmp", "title": "Parallelization of Jacobi algorithm using eigen c++ using openmp", "body": "<p>I have implemented the Jacobi algorithm based on the routine described in the book Numerical Recipes but since I plan to work with very large matrices I am trying to parallelize it using openmp.</p>\n\n<pre><code>void ROTATE(MatrixXd &amp;a, int i, int j, int k, int l, double s, double tau)\n{\ndouble g,h;\ng=a(i,j);\nh=a(k,l);\na(i,j)=g-s*(h+g*tau);\na(k,l)=h+s*(g-h*tau);\n\n}\n\nvoid jacobi(int n, MatrixXd &amp;a, MatrixXd &amp;v, VectorXd &amp;d )\n{\nint j,iq,ip,i;\ndouble tresh,theta,tau,t,sm,s,h,g,c;\n\nVectorXd b(n);\nVectorXd z(n);\n\nv.setIdentity();    \nz.setZero();\n\n#pragma omp parallel for \nfor (ip=0;ip&lt;n;ip++)\n{   \n    d(ip)=a(ip,ip);\n    b(ip)=d(ip);\n}\n\nfor (i=0;i&lt;50;i++) \n{\n    sm=0.0;\n    for (ip=0;ip&lt;n-1;ip++) \n    {\n        #pragma omp parallel for reduction (+:sm)\n        for (iq=ip+1;iq&lt;n;iq++)\n            sm += fabs(a(ip,iq));\n    }\n    if (sm == 0.0) {\n        break;\n    }\n\n    if (i &lt; 3)\n    tresh=0.2*sm/(n*n); \n    else\n    tresh=0.0;  \n\n    #pragma omp parallel for private (ip,g,h,t,theta,c,s,tau)\n    for (ip=0;ip&lt;n-1;ip++)\n    {\n    //#pragma omp parallel for private (g,h,t,theta,c,s,tau)\n        for (iq=ip+1;iq&lt;n;iq++)\n        {\n            g=100.0*fabs(a(ip,iq));\n            if (i &gt; 3 &amp;&amp; (fabs(d(ip))+g) == fabs(d[ip]) &amp;&amp; (fabs(d[iq])+g) == fabs(d[iq]))\n            a(ip,iq)=0.0;\n            else if (fabs(a(ip,iq)) &gt; tresh)\n            {\n                h=d(iq)-d(ip);\n                if ((fabs(h)+g) == fabs(h))\n                {\n                    t=(a(ip,iq))/h;\n                }   \n                else \n                {\n                    theta=0.5*h/(a(ip,iq));\n                    t=1.0/(fabs(theta)+sqrt(1.0+theta*theta));\n                    if (theta &lt; 0.0)\n                    {\n                        t = -t;\n                    }\n                    c=1.0/sqrt(1+t*t);\n                    s=t*c;\n                    tau=s/(1.0+c);\n                    h=t*a(ip,iq);\n\n                   #pragma omp critical\n                    {\n                    z(ip)=z(ip)-h;\n                    z(iq)=z(iq)+h;\n                    d(ip)=d(ip)-h;\n                    d(iq)=d(iq)+h;\n                    a(ip,iq)=0.0;\n\n\n                    for (j=0;j&lt;ip;j++)\n                        ROTATE(a,j,ip,j,iq,s,tau);\n                    for (j=ip+1;j&lt;iq;j++)\n                        ROTATE(a,ip,j,j,iq,s,tau);\n                    for (j=iq+1;j&lt;n;j++)\n                        ROTATE(a,ip,j,iq,j,s,tau);\n                    for (j=0;j&lt;n;j++)\n                        ROTATE(v,j,ip,j,iq,s,tau);\n                    }\n\n                }\n            } \n        }\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I wanted to parallelize the loop that does most of the calculations and both comments inserted in the code:</p>\n\n<pre><code> //#pragma omp parallel for private (ip,g,h,t,theta,c,s,tau)\n //#pragma omp parallel for private (g,h,t,theta,c,s,tau)\n</code></pre>\n\n<p>are my attempts at it. Unfortunately both of them end up producing incorrect results. I suspect the problem may be in this block:</p>\n\n<pre><code>z(ip)=z(ip)-h;\nz(iq)=z(iq)+h;\nd(ip)=d(ip)-h;\nd(iq)=d(iq)+h;\n</code></pre>\n\n<p>because usually this sort of accumulation would need a reduction, but since each thread accesses a different part of the array, I am not certain of this.</p>\n\n<p>I am not really sure if I am doing the parallelization in a correct manner because I have only recently started working with openmp, so any suggestion or recommendation would also be welcomed.</p>\n\n<p>Sidenote: I know there are faster algorithms for eigenvalue and eigenvector determination including the SelfAdjointEigenSolver in Eigen, but those are not giving me the precision I need in the eigenvectors and this algorithm is.</p>\n\n<p>My thanks in advance.</p>\n\n<p>Edit: I considered to correct answer to be the one provided by The Quantum Physicist because what I did does not reduce the computation time for system of size up to 4096x4096. In any case I corrected the code in order to make it work and maybe for big enough systems it could be of some use. I would advise the use of timers to test if the </p>\n\n<p>#pragma omp for</p>\n\n<p>actually decrease the computation time. </p>\n"}, {"tags": ["c++", "reference", "iterator"], "answers": [{"tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": true, "score": 1, "last_activity_date": 1475688694, "creation_date": 1475688694, "answer_id": 39880341, "question_id": 39880285, "link": "https://stackoverflow.com/questions/39880285/iterating-over-a-reference-to-map/39880341#39880341", "title": "Iterating over a reference to map", "body": "<p>The type you need is <code>const_iterator</code>, not <code>iterator</code>.  Even better, just use <code>auto</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 6927833, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c8ea9a67f2765cde93b9da3c54dc3f84?s=128&d=identicon&r=PG&f=1", "display_name": "Hybridslinky", "link": "https://stackoverflow.com/users/6927833/hybridslinky"}, "edited": false, "score": 0, "creation_date": 1475689980, "post_id": 39880535, "comment_id": 67048044, "body": "In the for loop is get_some_map() called at each iteration? In that case wouldn&#39;t it be better to use:     const std::map&lt;T1, T2&gt;&amp; some_map = get_some_map();     for(auto&amp;&amp; pair : some_map) {         /// use the values in pair.first, pai.second...      } ?"}, {"owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "reply_to_user": {"reputation": 131, "user_id": 6927833, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c8ea9a67f2765cde93b9da3c54dc3f84?s=128&d=identicon&r=PG&f=1", "display_name": "Hybridslinky", "link": "https://stackoverflow.com/users/6927833/hybridslinky"}, "edited": false, "score": 0, "creation_date": 1475696325, "post_id": 39880535, "comment_id": 67051611, "body": "@Hybridslinky - nope: <a href=\"http://en.cppreference.com/w/cpp/language/range-for\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/range-for</a>"}, {"owner": {"reputation": 80, "user_id": 245415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1bb3723c9baeeafcfc5033a806f905?s=128&d=identicon&r=PG", "display_name": "XKpe", "link": "https://stackoverflow.com/users/245415/xkpe"}, "reply_to_user": {"reputation": 131, "user_id": 6927833, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c8ea9a67f2765cde93b9da3c54dc3f84?s=128&d=identicon&r=PG&f=1", "display_name": "Hybridslinky", "link": "https://stackoverflow.com/users/6927833/hybridslinky"}, "edited": false, "score": 0, "creation_date": 1475744523, "post_id": 39880535, "comment_id": 67069517, "body": "@Hybridslinky as pointed out already it&#39;s only called once, another important reason is that it keeps the map reference in the scope it&#39;s used."}], "tags": [], "owner": {"reputation": 80, "user_id": 245415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1bb3723c9baeeafcfc5033a806f905?s=128&d=identicon&r=PG", "display_name": "XKpe", "link": "https://stackoverflow.com/users/245415/xkpe"}, "is_accepted": false, "score": 0, "last_activity_date": 1475689468, "creation_date": 1475689468, "answer_id": 39880535, "question_id": 39880285, "link": "https://stackoverflow.com/questions/39880285/iterating-over-a-reference-to-map/39880535#39880535", "title": "Iterating over a reference to map", "body": "<p>To iterate on the map you can do something like this:</p>\n\n<pre><code>for(auto&amp;&amp; pair : get_some_map()) {\n    /// use the values in pair.first, pai.second... \n}\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 6927833, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c8ea9a67f2765cde93b9da3c54dc3f84?s=128&d=identicon&r=PG&f=1", "display_name": "Hybridslinky", "link": "https://stackoverflow.com/users/6927833/hybridslinky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 412, "favorite_count": 0, "accepted_answer_id": 39880341, "answer_count": 2, "score": -2, "last_activity_date": 1475689468, "creation_date": 1475688490, "question_id": 39880285, "link": "https://stackoverflow.com/questions/39880285/iterating-over-a-reference-to-map", "title": "Iterating over a reference to map", "body": "<p>I have a function returning a reference to a map, something like this:</p>\n\n<pre><code>const std::map&lt;T1, T2&gt;&amp; get_some_map(void) const\n{\n  ...\n}\n\nvoid main(void)\n{\n  const std::map&lt;T1, T2&gt;&amp; some_map = get_some_map();\n}\n</code></pre>\n\n<p>Now I want to iterate over this map, so I declare</p>\n\n<pre><code>      std::map&lt;T1, T2&gt;::iterator it     = some_map.begin();\nconst std::map&lt;T1, T2&gt;::iterator it_end = some_map.end();\n</code></pre>\n\n<p>but I get an error at the last two lines when I compile. Where am I wrong? Thank you</p>\n"}, {"tags": ["python", "c++", "opencv", "hough-transform"], "comments": [{"owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475689997, "post_id": 39880276, "comment_id": 67048050, "body": "Is it possible that they are linking to different libraries compiled with different SIMD intrinsics?"}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475691622, "post_id": 39880276, "comment_id": 67048939, "body": "@cjhanks Well they are on different machines on two different platforms - the Python one is on Windows and C++ one is on OSX. But if that&#39;s the case isn&#39;t it a bit unlikely that the other circles are the same?"}, {"owner": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475692165, "post_id": 39880276, "comment_id": 67049244, "body": "Maybe.  My experience is different implementations of the same algorithm can introduce subtle differences in the solution, and different architectures can also give subtly different solutions.  Resulting from rounding logic or different order of computation... or even simple bugs."}, {"owner": {"reputation": 768, "user_id": 6654157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1333ba4134ba203d904153c079f6e45e?s=128&d=identicon&r=PG&f=1", "display_name": "O.O.", "link": "https://stackoverflow.com/users/6654157/o-o"}, "edited": false, "score": 1, "creation_date": 1475697426, "post_id": 39880276, "comment_id": 67052247, "body": "You call the one image &#39;img&#39; and the other &#39;BlurredImg&#39;, but I assume they are the same?"}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 768, "user_id": 6654157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1333ba4134ba203d904153c079f6e45e?s=128&d=identicon&r=PG&f=1", "display_name": "O.O.", "link": "https://stackoverflow.com/users/6654157/o-o"}, "edited": false, "score": 0, "creation_date": 1475711332, "post_id": 39880276, "comment_id": 67057432, "body": "@O.O. They are the same. I have added some more lines of code. The only difference I can see is that one of the C++ version passes the RGB image matrix into the function, whereas the Python version passes the filename into the function and re-reads the image as a grayscale."}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 466, "user_id": 3109945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ff5d40765a272fb243075eb8a233c0?s=128&d=identicon&r=PG&f=1", "display_name": "cjhanks", "link": "https://stackoverflow.com/users/3109945/cjhanks"}, "edited": false, "score": 0, "creation_date": 1475711606, "post_id": 39880276, "comment_id": 67057509, "body": "@cjhanks Yeah. But why would 2 circles stay exactly the same but one change so much? Literally makes no sense."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 1, "creation_date": 1475712442, "post_id": 39880276, "comment_id": 67057699, "body": "@Roy2511 Can you please complete the C++ example (the reading part is missing) so that others can compile it and  try reproduce your issue? Same with Python imports missing. The code should run without modifications. Attach your test image. Finally, specify the versions of opencv libraries you&#39;re using (both the Python and C++ variants)."}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475712604, "post_id": 39880276, "comment_id": 67057738, "body": "@DanMa\u0161ek revising the question and uploading the photo in about two to three hours. Hope you guys stick around. :)"}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475720033, "post_id": 39880276, "comment_id": 67059408, "body": "@DanMa\u0161ek updated questions with suggested revisions"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475720388, "post_id": 39880276, "comment_id": 67059493, "body": "@Roy2511 The version discrepancy looks suspicious. I&#39;d try upgrading the Python library to 2.4.13. You should be able to fetch it from the OpenCV site."}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475720709, "post_id": 39880276, "comment_id": 67059556, "body": "@DanMa\u0161ek A version discrepancy would hurt just one circle out of three?"}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475721120, "post_id": 39880276, "comment_id": 67059652, "body": "@Roy2511 Downloading a (self-extracting) archive and extracting a single file from it seems like the simplest way to eliminate that possibility."}, {"owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "reply_to_user": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475721422, "post_id": 39880276, "comment_id": 67059723, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/125046/discussion-between-roy2511-and-dan-masek\">continue this discussion in chat</a>."}], "owner": {"reputation": 684, "user_id": 3089908, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/38aa15c5195dc2554686659a5adcb8c8?s=128&d=identicon&r=PG&f=1", "display_name": "Roy2511", "link": "https://stackoverflow.com/users/3089908/roy2511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 639, "favorite_count": 3, "answer_count": 0, "score": 2, "last_activity_date": 1475719979, "creation_date": 1475688452, "last_edit_date": 1475719979, "question_id": 39880276, "link": "https://stackoverflow.com/questions/39880276/the-output-from-my-c-opencv-hough-circle-detection-and-from-my-python-opencv-h", "title": "The output from my C++ OpenCV Hough Circle Detection and from my Python OpenCV Hough Circle Detection is different", "body": "<p>So I have copied the same folder into two different machines, one where I run OpenCV on Python and my machine, where I run OpenCV on C++. I am actually converting the Python code to C++ and I have run into this singular problem where the output from the Hough Circle detector is not the same.</p>\n\n<p>Output from C++ :</p>\n\n<pre><code>Radius min = 752\nRadius max = 846\nTotal number of circles detected = 3\nCircle - x: 1325.5  y: 1094.5 Radius: 759.537\nCircle - x: 877.5  y: 1077.5 Radius: 790.734\nCircle - x: 896.5  y: 512.5 Radius: 806.832\n</code></pre>\n\n<p>Output from Python:</p>\n\n<pre><code>Rmin = 752\nRmax = 846\n[[[1326.5        1075.5           752.5333...]\n  [896.5          512.5           806.8323...]\n  [877.5         1077.5           790.7341...]]]\n</code></pre>\n\n<p>C++ Source:</p>\n\n<pre><code>#include \"opencv2/imgproc/imgproc.hpp\"\n#include \"opencv2/highgui/highgui.hpp\"\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n#include &lt;math.h&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\n\n#define IMAGE_ROW 1882\nstruct O_HC{\n    //return types known\n    int circle[3];\n    int circlesExist;\n}outHC;\nint main(string FILENAME)\n{\n\n    //something \n    Mat RGBimg = imread(FILENAME, CV_LOAD_IMAGE_COLOR);\n    //something something\n    if(! RGBimg.data)\n    {\n        std::cout &lt;&lt; \"Could not load image\" &lt;&lt; std::endl; \n    }\n    else\n    {\n        /*\n        //THIS PIECE OF CODE SHOWS THE IMAGE IN A WINDOW\n        namedWindow(\"DisplayWindow\", WINDOW_AUTOSIZE);\n        imshow(\"DisplayWindow\", RGBimg);\n        waitKey(0);\n        */\n\n        //Code not involving RGBimg \n        outHC = houghcircles(RGBimg); \n\n    }\n    return 0;\n\n}\n\nO_HC houghcircles(Mat RGBimg)\n{\n    vector&lt;Vec3f&gt; circles;\n\n    cvtColor(RGBimg, GrayImg, CV_BGR2GRAY);\n    Size size(t_cols * IMAGE_ROW / t_rows, IMAGE_ROW);\n    resize(GrayImg, ResizedImg, size);\n\n    std::cout &lt;&lt; \"t_cols : \" &lt;&lt; ResizedImg.cols &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"t_rows : \" &lt;&lt; ResizedImg.rows &lt;&lt; std::endl;\n    t_rows = ResizedImg.rows;\n    t_cols = ResizedImg.cols;\n\n    medianBlur(ResizedImg, BlurredImg, 5);\n    black_circle_radius_low = (int) (0.4 * std::min(t_rows,t_cols));\n    black_circle_radius_upper = (int) (0.45 * std::min(t_rows,t_cols));\n\n    std::cout &lt;&lt; \"Radius min = \" &lt;&lt; black_circle_radius_low &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"Radius max = \" &lt;&lt; black_circle_radius_upper &lt;&lt; '\\n';\n\n    HoughCircles(BlurredImg, circles, CV_HOUGH_GRADIENT, 1, 300, 30, 30, black_circle_radius_low, black_circle_radius_upper);\n\n    std::cout &lt;&lt; \"Total number of circles detected = \" &lt;&lt; circles.size() &lt;&lt; std::endl;\n\n    if(circles.size() == 0)\n    {\n         outHC.circlesExist = 0;\n         outHC.circle[0] = 0;\n         outHC.circle[1] = 0;\n         outHC.circle[2] = 0;\n    }\n    else\n    {\n         outHC.circlesExist = 1;\n         for( size_t i = 0; i &lt; circles.size(); i++ )\n         {\n            std::cout &lt;&lt; \"Circle - x: \" &lt;&lt; circles[i][0] &lt;&lt; \"  y: \" &lt;&lt; circles[i][1] &lt;&lt; \" Radius: \" &lt;&lt; circles[i][2] &lt;&lt; '\\n';\n              //Something else\n         }\n         outHC.circle[0] = (int)circles[0][0];\n         outHC.circle[1] = (int)circles[0][1];\n         outHC.circle[2] = (int)circles[0][2];\n   }\n   return outHC; \n}\n</code></pre>\n\n<p>Code for Python :</p>\n\n<pre><code>    import cv2\n    import cv2.cv as cv\n    IMAGE_ROW = 1882\n    img = cv2.imread(filename, 0)    \n    [t_rows,t_cols]= img.shape\n    img = cv2.resize(img, (t_cols*IMAGE_ROW/t_rows,IMAGE_ROW))\n    img = cv2.medianBlur(img, 5)\n\n    [t_rows,t_cols]=img.shape        \n    limit=min(t_rows,t_cols)\n    black_circle_radius_low=int(0.4*limit)\n    black_circle_radius_upper=int(0.45*limit)\n    circles = cv2.HoughCircles(img,cv.CV_HOUGH_GRADIENT,1,300,param1=30,param2=30,minRadius=black_circle_radius_low,maxRadius=black_circle_radius_upper)\n    print circles\n</code></pre>\n\n<p>As we can see, the first circle is different for the different languages. Does anyone here know why this is happening?</p>\n\n<p>Cheers.</p>\n\n<p>PS: <strong>OpenCV 2.4.11</strong> is installed with Python and <strong>OpenCV 2.4.13</strong> is installed with C++. If it matters, the Python version is running on an Win7 machine and the C++ version is on OS X Yosemite. I am not that well versed in Python, so there may be some syntactical mistakes here and there.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0y8HA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0y8HA.jpg\" alt=\"Picture Used - May have been compressed during upload to imgur\"></a></p>\n\n<p>edits:</p>\n\n<p>Added some more code to show image reads.</p>\n"}, {"tags": ["c++", "qt", "qt-creator"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 0, "creation_date": 1475688475, "post_id": 39880221, "comment_id": 67047200, "body": "So what you&#39;re asking is how to deploy applications? Did <a href=\"http://doc.qt.io/qt-5/deployment.html\" rel=\"nofollow noreferrer\">Qt&#39;s documentation</a> on the subject not provide any help? If you used it and got stuck, you should be asking about the specific problem you encountered when trying to follow those steps, instead of a general, generic question, which is off-topic for this site. if you didn&#39;t read the documentation, read it, and then ask here if you have any problems."}, {"owner": {"reputation": 1131, "user_id": 3448634, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1b5b4e95d700f849977e3c3e99b4ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Makketronix", "link": "https://stackoverflow.com/users/3448634/makketronix"}, "edited": false, "score": 0, "creation_date": 1475688478, "post_id": 39880221, "comment_id": 67047201, "body": "Did you build your program for &quot;release&quot;, or just &quot;debug&quot;?"}, {"owner": {"reputation": 1857, "user_id": 5679064, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-l2ibgQ05wGY/AAAAAAAAAAI/AAAAAAAAAAA/IJpQJnP_zVo/photo.jpg?sz=128", "display_name": "Gasper", "link": "https://stackoverflow.com/users/5679064/gasper"}, "edited": false, "score": 0, "creation_date": 1475688640, "post_id": 39880221, "comment_id": 67047297, "body": "<i>How can I do that?</i> By running the executable file. If you want a more helpful answer provide some clarifications on what exactly you want to know."}, {"owner": {"reputation": 121, "user_id": 5507861, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1b130c97600a59a4da067bb612b0d589?s=128&d=identicon&r=PG&f=1", "display_name": "abhay gurrala", "link": "https://stackoverflow.com/users/5507861/abhay-gurrala"}, "reply_to_user": {"reputation": 1131, "user_id": 3448634, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1b5b4e95d700f849977e3c3e99b4ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Makketronix", "link": "https://stackoverflow.com/users/3448634/makketronix"}, "edited": false, "score": 0, "creation_date": 1475688649, "post_id": 39880221, "comment_id": 67047304, "body": "I am sorry.I am new to Qt.I just ran it on my PC to make sure it worked on my PC.I just debug I think @Makketronix"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 1581487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de150011c0b0eb1047c64e0387a252b9?s=128&d=identicon&r=PG", "display_name": "Patrizio Bekerle", "link": "https://stackoverflow.com/users/1581487/patrizio-bekerle"}, "is_accepted": false, "score": 0, "last_activity_date": 1475690287, "creation_date": 1475690287, "answer_id": 39880765, "question_id": 39880221, "link": "https://stackoverflow.com/questions/39880221/how-can-install-and-run-a-qt-program-without-qt-creator/39880765#39880765", "title": "How can install and run a Qt program without Qt creator?", "body": "<p>You could use Travis CI to build it for Linux and OS X.<br>\nHere is an example configuration: <a href=\"https://github.com/pbek/QOwnNotes/blob/develop/.travis.yml\" rel=\"nofollow\">https://github.com/pbek/QOwnNotes/blob/develop/.travis.yml</a><br>\nHere is the building done: <a href=\"https://travis-ci.org/pbek/QOwnNotes/builds\" rel=\"nofollow\">https://travis-ci.org/pbek/QOwnNotes/builds</a></p>\n\n<p>And you can use Appveyor to build it for Windows.<br>\nAgain an example configuration:\n<a href=\"https://github.com/pbek/QOwnNotes/blob/develop/appveyor.yml\" rel=\"nofollow\">https://github.com/pbek/QOwnNotes/blob/develop/appveyor.yml</a><br>\nHere is the building done: <a href=\"https://ci.appveyor.com/project/pbek/qownnotes/history\" rel=\"nofollow\">https://ci.appveyor.com/project/pbek/qownnotes/history</a></p>\n\n<p>By using these two services you can create builds every time you commit/push to your git repository. I automatically create releases every time I push to the master branch.</p>\n\n<p>I hope this helps.</p>\n"}], "owner": {"reputation": 121, "user_id": 5507861, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1b130c97600a59a4da067bb612b0d589?s=128&d=identicon&r=PG&f=1", "display_name": "abhay gurrala", "link": "https://stackoverflow.com/users/5507861/abhay-gurrala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 345, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1475690287, "creation_date": 1475688275, "question_id": 39880221, "link": "https://stackoverflow.com/questions/39880221/how-can-install-and-run-a-qt-program-without-qt-creator", "title": "How can install and run a Qt program without Qt creator?", "body": "<p>I made a media player using Qt creator.Now,I want to use it without Qt creator i.e., I want the users to use it without the help of Qt creator.How can I do that?</p>\n"}, {"tags": ["c++", "templates"], "answers": [{"comments": [{"owner": {"reputation": 8646, "user_id": 6242376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/582463495261362/picture?type=large", "display_name": "Matt Corby", "link": "https://stackoverflow.com/users/6242376/matt-corby"}, "edited": false, "score": 0, "creation_date": 1475688686, "post_id": 39880118, "comment_id": 67047325, "body": "Oh okay, so I can&#39;t put template class function implementations in a separate file unless I specify what data type the function takes. Is that right?"}, {"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1475689059, "post_id": 39880118, "comment_id": 67047536, "body": "You implement templates class in a cpp file if you instantiate the class for every type you&#39;ll use. Same for functions."}, {"owner": {"reputation": 8646, "user_id": 6242376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/582463495261362/picture?type=large", "display_name": "Matt Corby", "link": "https://stackoverflow.com/users/6242376/matt-corby"}, "edited": false, "score": 0, "creation_date": 1475689519, "post_id": 39880118, "comment_id": 67047792, "body": "Oh so should I not use .h files for templated classes?"}, {"owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "reply_to_user": {"reputation": 8646, "user_id": 6242376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/582463495261362/picture?type=large", "display_name": "Matt Corby", "link": "https://stackoverflow.com/users/6242376/matt-corby"}, "edited": false, "score": 1, "creation_date": 1475689769, "post_id": 39880118, "comment_id": 67047917, "body": "@MattCorby You should ONLY use <code>.h</code> files for anything that is template. For both classes or global functions. Specializations (specific types instantiations) go to cpp files."}], "tags": [], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "is_accepted": true, "score": 5, "last_activity_date": 1475687831, "creation_date": 1475687831, "answer_id": 39880118, "question_id": 39880099, "link": "https://stackoverflow.com/questions/39880099/c-template-errors/39880118#39880118", "title": "C++ Template errors?", "body": "<p>You're not supposed to put template implementations in a cpp/c file. Move them all to your <code>.h</code> file.</p>\n\n<p>This is because cpp files are supposed to take functions that compile into implementation libraries (like dll files or compiled objects), while template functions have undefined types (yet), whose types get defined at compile time.</p>\n\n<p>You can, however, put specializations of your template functions in the cpp file, where you specify what types you want to include in your compiled objects.</p>\n"}], "owner": {"reputation": 8646, "user_id": 6242376, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/582463495261362/picture?type=large", "display_name": "Matt Corby", "link": "https://stackoverflow.com/users/6242376/matt-corby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 852, "favorite_count": 0, "closed_date": 1475687843, "accepted_answer_id": 39880118, "answer_count": 1, "score": 0, "last_activity_date": 1475687831, "creation_date": 1475687762, "question_id": 39880099, "link": "https://stackoverflow.com/questions/39880099/c-template-errors", "closed_reason": "Duplicate", "title": "C++ Template errors?", "body": "<p>I'm trying to learn how to use templated classes. I've created a simple templated class <code>numbers</code> that holds 2 numbers that can be any data type. Then I made a method that returns the bigger number of the two in the object. For some reason I keep getting linker errors though... Here's the errors and code. Not sure what's wrong, Visual Studio didn't underline anything in my code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/VuJ0v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VuJ0v.png\" alt=\"unresolved external symbol\"></a></p>\n\n<p>They say \"unresolved external symbol\" if it's too small to read.</p>\n\n<p>templated.h</p>\n\n<pre><code>template &lt;class T&gt;\nclass numbers {\npublic:\n  numbers(T x, T y);\n  T bigger();\nprivate:\n  T a, b;\n};\n</code></pre>\n\n<p>templated.cpp</p>\n\n<pre><code>#include \"templated.h\"\n#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;class T&gt;\nnumbers&lt;T&gt;::numbers(T x, T y) {\n    a = x;\n    b = y;\n}\n\ntemplate &lt;class T&gt;\nT numbers&lt;T&gt;::bigger() {\n    return a &gt; b ? a : b;\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"templated.h\"\nusing namespace std;\n\nint main() {\n\n    numbers &lt;int&gt;pair(1, 2);\n    cout &lt;&lt; pair.bigger() &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Thanks for reading!</p>\n"}, {"tags": ["c++", "enums"], "answers": [{"comments": [{"owner": {"reputation": 6654, "user_id": 1455028, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0R9ZC.png?s=128&g=1", "display_name": "Dayan", "link": "https://stackoverflow.com/users/1455028/dayan"}, "edited": false, "score": 0, "creation_date": 1475688606, "post_id": 39880161, "comment_id": 67047280, "body": "Thank you, You broke it down nicely. I guess I had a hard time finding out information on this since i wasn&#39;t sure what it was called, Works fine in Java!"}], "tags": [], "owner": {"reputation": 7510, "user_id": 1132334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8o6Nl.png?s=128&g=1", "display_name": "Cee McSharpface", "link": "https://stackoverflow.com/users/1132334/cee-mcsharpface"}, "is_accepted": true, "score": 2, "last_activity_date": 1475688039, "last_edit_date": 1495535648, "creation_date": 1475688039, "answer_id": 39880161, "question_id": 39880057, "link": "https://stackoverflow.com/questions/39880057/c-multiple-enum-elements-being-passed-as-parameter/39880161#39880161", "title": "C++ Multiple enum elements being passed as parameter?", "body": "<p>That is just a bitwise <code>OR</code>, which allows to combine more than one enum value into the integer which is is, internally (so still just one argument in the function call). Such enums are also called a flagset. They are usually characterized by members that have values which represent just one bit: a = 1, b = 2, c = 4, d = 8, e = 16, ... so they can be combined; <code>a | b</code> is 3 when casted to int.\nInside the function body, individual flags are then queried separately using the bitwise <code>&amp;</code> operator.</p>\n\n<p>additional reference: <a href=\"https://stackoverflow.com/questions/1448396/how-to-use-enums-as-flags-in-c\">How to use enums as flags in C++?</a></p>\n\n<p>btw. this concept seems to be quite similar in Java: <a href=\"https://stackoverflow.com/questions/5346477/implementing-a-bitfield-using-java-enums\">Implementing a bitfield using java enums</a></p>\n"}], "owner": {"reputation": 6654, "user_id": 1455028, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/0R9ZC.png?s=128&g=1", "display_name": "Dayan", "link": "https://stackoverflow.com/users/1455028/dayan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "closed_date": 1475688209, "accepted_answer_id": 39880161, "answer_count": 1, "score": 0, "last_activity_date": 1475688039, "creation_date": 1475687637, "last_edit_date": 1495541911, "question_id": 39880057, "link": "https://stackoverflow.com/questions/39880057/c-multiple-enum-elements-being-passed-as-parameter", "closed_reason": "Duplicate", "title": "C++ Multiple enum elements being passed as parameter?", "body": "<p>I've been trying to figure this portion of C++ code I'm converting over to JAVA. The method call <code>PrintItem()</code> takes in <code>DWORD</code> as a second parameter, but in this particular example it allows two elements from the <code>enum</code> at once?</p>\n\n<p>I was refering to the <a href=\"https://stackoverflow.com/questions/1874051/c-multiple-enums-in-one-function-argument-using-bitwise-or\">following answer</a> by <a href=\"https://stackoverflow.com/users/303986/ashish\">Ashish</a> to try and get some clarification but it didn't help much.</p>\n\n<pre><code>enum\n    {\n        PRINT_ENTRY         = 0x0001,\n        PRINT_PREPEND       = 0x0002,\n        PRINT_APPEND        = 0x0004,\n        PRINT_PRECOMMENTS   = 0x0008,\n        PRINT_POSTCOMMENTS  = 0x0010,\n        PRINT_SPECIAL       = 0x0010,\n        PRINT_DEFAULT       = PRINT_ENTRY | PRINT_PREPEND | PRINT_APPEND | PRINT_PRECOMMENTS | PRINT_POSTCOMMENTS | PRINT_SPECIAL\n    };\n</code></pre>\n\n<p>The method call with two enum elements being passed in? This is what I don't understand.</p>\n\n<p><code>bResult = PrintItem( pMergeItem, PRINT_PREPEND | PRINT_ENTRY );</code></p>\n\n<p>Method declaration</p>\n\n<p><code>bool PrintItem( CItem* pItem, DWORD options = PRINT_DEFAULT );</code></p>\n\n<p>And the Definition, trimmed down a bit:</p>\n\n<pre><code>// Prints an individual item to the invoice (based on appropriate template settings)\nbool CPrintRptInvoice::PrintItem( CItem* pItem, DWORD options )\n{\n    bool bResult = true;\n    CString strKey = GetItemKey( pItem );\n\n    DWORD getOpts = CPrintTemplate::GE_NONE;\n    if ( options &amp; PRINT_ENTRY )\n        getOpts |= CPrintTemplate::GE_ENTRY;\n    if ( options &amp; PRINT_PREPEND )\n        getOpts |= CPrintTemplate::GE_PREPEND;\n    if ( options &amp; PRINT_APPEND )\n        getOpts |= CPrintTemplate::GE_APPEND;\n\n    CString strEntry = m_pTemplate-&gt;GetEntry( strKey, getOpts );\n\n    // print any prefix first\n    if ( options &amp; PRINT_PRECOMMENTS ) \n        PrintComment( pItem-&gt;GetInvoicePrefix() );\n\n    // print main entry\n    if ( strEntry.IsEmpty() )\n    {\n        if ( ( options &amp; PRINT_ENTRY ) &amp;&amp; !m_pTemplate-&gt;EntryExists( strKey ) )\n        {\n            //Code to print Entries, not touching options anymore.\n        }\n    }\n\n    // print any special cases\n    if ( bResult &amp;&amp; ( options &amp; PRINT_SPECIAL ) )\n    {\n        //Code to print special cases, not touching options anymore...\n    }\n\n    // print any suffix last\n    if ( options &amp; PRINT_POSTCOMMENTS ) \n        PrintComment( pItem-&gt;GetInvoiceSuffix() );\n\n    return bResult;\n}\n</code></pre>\n\n<p>My question is - How is it dealing with multiple parameters of enum? I don't see it handling any of that in that method definition! What i trimmed out doesn't touch <code>options</code> at all.</p>\n\n<p>I guess I'm confused because I see <code>options</code> as a collection of some sort, no? So, how is it that you can do this and just get the right element: <code>if ( options &amp; PRINT_PRECOMMENTS )</code>.. </p>\n"}, {"tags": ["c++", "vector", "simgrid"], "answers": [{"tags": [], "owner": {"reputation": 1296, "user_id": 1756334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c825332eff76785b2c93b2629762c470?s=128&d=identicon&r=PG", "display_name": "Martin Quinson", "link": "https://stackoverflow.com/users/1756334/martin-quinson"}, "is_accepted": true, "score": 1, "last_activity_date": 1475699105, "last_edit_date": 1475699105, "creation_date": 1475690049, "answer_id": 39880701, "question_id": 39880055, "link": "https://stackoverflow.com/questions/39880055/how-to-create-a-process-with-vector-in-simgrid/39880701#39880701", "title": "How to create a process with vector in SimGrid?", "body": "<p>I think you just want to use a pointer here :)</p>\n\n<pre><code>int worker(int argc, char *argv[])\n{\n    vector&lt;string&gt;* vector1 = new vector&lt;string&gt;();\n    vector1-&gt;push_back(\"word\");\n    MSG_process_create(\"x\", executor, vector1, MSG_host_self());\n    return 0;\n}\n\nint executor(int argc, char* argv[]){\n    MSG_process_sleep(10);\n    vector&lt;string&gt; *data = (vector&lt;string&gt;*) MSG_process_get_data(MSG_process_self());\n    XBT_INFO(\"%s\", data-&gt;front().c_str());\n    delete data;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 5971, "user_id": 5537840, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/aKRoy.jpg?s=128&g=1", "display_name": "Kenenbek Arzymatov", "link": "https://stackoverflow.com/users/5537840/kenenbek-arzymatov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 39880701, "answer_count": 1, "score": 0, "last_activity_date": 1475699105, "creation_date": 1475687633, "last_edit_date": 1475690134, "question_id": 39880055, "link": "https://stackoverflow.com/questions/39880055/how-to-create-a-process-with-vector-in-simgrid", "title": "How to create a process with vector in SimGrid?", "body": "<p>I want to create a process with data in SimGrid, so I do this:</p>\n\n<pre><code>int worker(int argc, char *argv[])\n{\n    vector&lt;string&gt; vector1;\n    vector1.push_back(\"word\");\n    MSG_process_create(\"x\", executor, &amp;vector1, MSG_host_self());\n    return 0;\n}\n</code></pre>\n\n<p>But in <code>executor</code> I have a segmentation error:</p>\n\n<pre><code>int executor(int argc, char* argv[]){\n    MSG_process_sleep(10);\n    vector&lt;string&gt; *data = (vector&lt;string&gt;*) MSG_process_get_data(MSG_process_self());\n    XBT_INFO(\"%s\", data-&gt;front().c_str());\n    return 0;\n}\n</code></pre>\n\n<p>I know that it happened because <code>vector1</code> goes out of scope when <code>worker</code> function ends and <code>vector1</code> dissappered, so \"there is no vector1 data\" in executor. </p>\n\n<p>How to do it properly?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 3, "creation_date": 1475687202, "post_id": 39879915, "comment_id": 67046502, "body": "Please sort out the indentation"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 5, "creation_date": 1475687313, "post_id": 39879915, "comment_id": 67046562, "body": "Use a debugger and step through the code line by line and the problem should become very obvious."}, {"owner": {"reputation": 2476, "user_id": 677202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5544d46b2d8a81515a4704b3e2048e38?s=128&d=identicon&r=PG", "display_name": "nosbor", "link": "https://stackoverflow.com/users/677202/nosbor"}, "edited": false, "score": 0, "creation_date": 1475687344, "post_id": 39879915, "comment_id": 67046580, "body": "what a mess...."}, {"owner": {"reputation": 1244, "user_id": 2112844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820855bb47d0a8aee98960df94e96172?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/2112844/nik"}, "edited": false, "score": 1, "creation_date": 1475687471, "post_id": 39879915, "comment_id": 67046657, "body": "Problem is obvious, as suggested use a debugger and step through the program to debug."}, {"owner": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 0, "creation_date": 1475688046, "post_id": 39879915, "comment_id": 67046950, "body": "The decision whether or not the number has only odd digits should be made <b>OUTSIDE</b> the loop. Fix your algorithm accordingly."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 0, "last_activity_date": 1475687662, "creation_date": 1475687662, "answer_id": 39880063, "question_id": 39879915, "link": "https://stackoverflow.com/questions/39879915/checking-for-odd-digits-in-a-number/39880063#39880063", "title": "Checking for odd digits in a number", "body": "<p>I recommend keeping the number as a string, then searching the string for odd digits:  </p>\n\n<pre><code>static const char odd_digits[] = \"13579\";\nstd::string number_as_text;\nstd::cin &gt;&gt; number_as_text;\nstd::string::size_type  position;\nposition = number_as_text.find_first_of(odd_digits);\nif (position != std::string::npos)\n{\n  std::cout &lt;&lt; \"Number has at least one odd digit.\\n\";\n}\n</code></pre>\n\n<p>The number, as a string, is searched for any character from a list of odd digits.</p>\n"}, {"tags": [], "owner": {"reputation": 2119, "user_id": 3196458, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005547696898/picture?type=large", "display_name": "blackpen", "link": "https://stackoverflow.com/users/3196458/blackpen"}, "is_accepted": false, "score": 0, "last_activity_date": 1475691418, "creation_date": 1475691418, "answer_id": 39881082, "question_id": 39879915, "link": "https://stackoverflow.com/questions/39879915/checking-for-odd-digits-in-a-number/39881082#39881082", "title": "Checking for odd digits in a number", "body": "<p>I made minimal changes so as to preserve your original flow of thought. The <code>n=n/10</code> need to be executed in <code>else</code> cases. Added handling of the case of <code>input as 0</code>. Added a <code>return(0)</code> statement when you detect a even digit (there is no point in continuing, so returned from there).</p>\n\n<pre><code>int main() {    \n    int n, c;\n    cin &gt;&gt; n;\n\n    if (n==0) {\n        cout &lt;&lt; \"Number is zero. So it doesn't have only odd digits\" &lt;&lt; endl;\n        return(0);\n    }\n\n    while (n != 0) {\n        c = n % 10; n = n / 10;    \n        cout &lt;&lt; \"n=\" &lt;&lt; n &lt;&lt; \" c=\" &lt;&lt; c &lt;&lt; endl;\n\n        if (c % 2 == 1) {\n            if (n == 0) {\n                cout &lt;&lt; \"Number has only odd digits\" &lt;&lt; endl;\n            }\n        }\n        else {\n            cout &lt;&lt; \"Number doesn't have only odd digits\" &lt;&lt; endl;\n            return(0);\n        }\n    }\n    return(0);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "edited": false, "score": 0, "creation_date": 1475692750, "post_id": 39881345, "comment_id": 67049586, "body": "Also knows as a <a href=\"https://nakedsecurity.sophos.com/2014/02/24/anatomy-of-a-goto-fail-apples-ssl-bug-explained-plus-an-unofficial-patch/\" rel=\"nofollow noreferrer\"><code>goto fail;</code></a> bug."}], "tags": [], "owner": {"reputation": 8138, "user_id": 821878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2vRIG.gif?s=128&g=1", "display_name": "Ryan Bemrose", "link": "https://stackoverflow.com/users/821878/ryan-bemrose"}, "is_accepted": false, "score": 0, "last_activity_date": 1475692433, "creation_date": 1475692433, "answer_id": 39881345, "question_id": 39879915, "link": "https://stackoverflow.com/questions/39879915/checking-for-odd-digits-in-a-number/39881345#39881345", "title": "Checking for odd digits in a number", "body": "<p>Your problem is these lines:</p>\n\n<pre><code>else\n    cout &lt;&lt; \" Number doesn't have only odd digits\";\n    return 0;\n</code></pre>\n\n<p>The compiler is interpreting this as:</p>\n\n<pre><code>else {\n    cout &lt;&lt; \" Number doesn't have only odd digits\";\n}\nreturn 0;\n</code></pre>\n\n<p>Which means it is always executing the <code>return</code> regardless of whether <code>c</code> is odd or even.  To fix this, add explicit braces to your else clause:</p>\n\n<pre><code>else {\n    cout &lt;&lt; \" Number doesn't have only odd digits\";\n    return 0;\n}\n</code></pre>\n\n<p>This kind of error is why most style guides require you to always use braces after <code>if</code> and <code>else</code>, even if there is only one line.</p>\n"}], "owner": {"reputation": 21, "user_id": 6927737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dd7d8a47940282f1e319241bb4dc69b?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Gockesch", "link": "https://stackoverflow.com/users/6927737/christian-gockesch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2212, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1475694484, "creation_date": 1475687115, "last_edit_date": 1475694484, "question_id": 39879915, "link": "https://stackoverflow.com/questions/39879915/checking-for-odd-digits-in-a-number", "title": "Checking for odd digits in a number", "body": "<p>I am trying to make a program that checks if all digits in a number are odd, but the cout which says that the number is made only out of odd digits shows only if the inputed number is 1 digit long.\nHere is the code:</p>\n\n<pre><code>int main()\n{\n    int n, c;\n    cin &gt;&gt; n;\n    while (n != 0) {\n        c = n % 10;\n        if (c % 2 == 1) {\n            n = n / 10;\n            if (n == 0) {\n                cout &lt;&lt; \" Number has only odd digits\";\n            }\n        }\n        else\n            cout &lt;&lt; \" Number doesn't have only odd digits\";\n        return 0;\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "opengl", "buffer", "vbo", "wavefront"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 1, "creation_date": 1475698002, "post_id": 39879861, "comment_id": 67052531, "body": "Edit in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  For all we know <code>cube.obj</code> could be fubar or a geometry shader could be fuzting with things."}, {"owner": {"reputation": 29, "user_id": 6927450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a45d119be1663652271ef2f58963c7?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/6927450/william"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1475699819, "post_id": 39879861, "comment_id": 67053507, "body": "cube.obj is a file - .obj is the Wavefront format that contains vertex data for generating 3D models. What more information shall I add?"}, {"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1475700952, "post_id": 39879861, "comment_id": 67054047, "body": "Edit in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Single file, self-contained, using common, <a href=\"http://freeglut.sourceforge.net/\" rel=\"nofollow noreferrer\">widely-available</a> and/or <a href=\"http://glm.g-truc.net/\" rel=\"nofollow noreferrer\">easily-used</a> libraries.  Feel free to use something like <a href=\"http://stackoverflow.com/a/14887071/44729\">this</a> to build off of."}, {"owner": {"reputation": 29, "user_id": 6927450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a45d119be1663652271ef2f58963c7?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/6927450/william"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1475706694, "post_id": 39879861, "comment_id": 67056231, "body": "Thank you - I found your links quite helpful although I was hoping to avoid using glDrawArrays due to the inefficiency for multiple material construction."}], "owner": {"reputation": 29, "user_id": 6927450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06a45d119be1663652271ef2f58963c7?s=128&d=identicon&r=PG&f=1", "display_name": "William", "link": "https://stackoverflow.com/users/6927450/william"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "closed_date": 1475705569, "answer_count": 0, "score": 0, "last_activity_date": 1475697843, "creation_date": 1475686931, "last_edit_date": 1475697843, "question_id": 39879861, "link": "https://stackoverflow.com/questions/39879861/why-is-my-cube-obj-not-rendering-correctly-in-opengl", "closed_reason": "Duplicate", "title": "Why is my cube.obj not rendering correctly in OpenGL?", "body": "<p>This is what my cube looks like at the moment:</p>\n\n<p>Fill mode:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mGVfU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mGVfU.jpg\" alt=\"fill mode\"></a>\n<br></p>\n\n<p>Line mode:</p>\n\n<p><a href=\"https://i.stack.imgur.com/IhBpQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhBpQ.jpg\" alt=\"line mode\"></a>\n<br></p>\n\n<p>As you can see the vertex positions in relation to the indices are almost scattered. What could I possibly be doing wrong?</p>\n\n<p>I use these this code for setting up the buffers:</p>\n\n<pre><code>struct  Mesh\n    {\n        CBuint v_vbo, vn_vbo, vt_vbo;\n        CBuint ebo;\n\n        Mesh() {}\n        Mesh(std::vector &lt;CBuint&gt;&amp; i, std::vector &lt;vec3&gt;&amp; positions, std::vector &lt;vec3&gt;&amp; normals, std::vector &lt;vec2&gt;&amp; tex_coords)\n        {\n            // Generate\n            glGenBuffers(1, &amp;v_vbo);\n            glGenBuffers(1, &amp;vn_vbo);\n            glGenBuffers(1, &amp;vt_vbo);\n            glGenBuffers(1, &amp;ebo);\n\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, ebo);\n\n            glEnableVertexAttribArray(0);\n            glBindBuffer(GL_ARRAY_BUFFER, v_vbo);\n            glBufferData(GL_ARRAY_BUFFER, positions.size() * sizeof(vec3), &amp;positions[0], GL_STATIC_DRAW);\n            glVertexAttribPointer(0, 3, GL_FLOAT, GL_FALSE, 0, 0);\n\n            glEnableVertexAttribArray(1);\n            glBindBuffer(GL_ARRAY_BUFFER, vn_vbo);\n            glBufferData(GL_ARRAY_BUFFER, normals.size() * sizeof(vec3), &amp;normals[0], GL_STATIC_DRAW);\n            glVertexAttribPointer(1, 3, GL_FLOAT, GL_FALSE, 0, 0);\n\n            glEnableVertexAttribArray(2);\n            glBindBuffer(GL_ARRAY_BUFFER, vt_vbo);\n            glBufferData(GL_ARRAY_BUFFER, tex_coords.size() * sizeof(vec2), &amp;tex_coords[0], GL_STATIC_DRAW);\n            glVertexAttribPointer(2, 2, GL_FLOAT, GL_FALSE, 0, 0);\n\n            glBufferData(GL_ELEMENT_ARRAY_BUFFER, i.size() * sizeof(CBuint), &amp;i[0], GL_STATIC_DRAW);    \n        }\n\n        ~Mesh()\n        {\n            glDeleteBuffers(1, &amp;v_vbo);\n            glDeleteBuffers(1, &amp;vn_vbo);\n            glDeleteBuffers(1, &amp;vt_vbo);\n            glDeleteBuffers(1, &amp;ebo);\n        }\n    };\n</code></pre>\n\n<p>Before-hand, I store the vertex and index data by iterating through each key character in the .obj file like so:</p>\n\n<pre><code>case 'f':\n                CBuint v_i[3];\n                CBuint vn_i[3];\n                CBuint vt_i[3];\n\n                sscanf_s((&amp;line[i])[0].c_str(), \"f %d/%d/%d %d/%d/%d %d/%d/%d\", &amp;v_i[0], &amp;vt_i[0], &amp;vn_i[0], &amp;v_i[1], &amp;vt_i[1], &amp;vn_i[1], &amp;v_i[2], &amp;vt_i[2], &amp;vn_i[2]);\n\n                // Faces\n                _f.push_back(Face(v_i[0], vt_i[0], vn_i[0], v_i[1], vt_i[1], vn_i[1], v_i[2], vt_i[2], vn_i[2]));\n\n                // Indices\n                _indices.push_back(v_i[0] - 1);\n                _indices.push_back(vt_i[0] - 1);\n                _indices.push_back(vn_i[0] - 1);\n\n                _indices.push_back(v_i[1] - 1);\n                _indices.push_back(vt_i[1] - 1);\n                _indices.push_back(vn_i[1] - 1);\n\n                _indices.push_back(v_i[2] - 1);\n                _indices.push_back(vt_i[2] - 1);\n                _indices.push_back(vn_i[2] - 1);\n                break;\n            }\n</code></pre>\n\n<p>Then finally, I render the cube by calling:</p>\n\n<pre><code>        glBindVertexArray(_vao);\n        glDrawElements(GL_TRIANGLES, _indices.size(), GL_UNSIGNED_INT, 0);\n        glBindVertexArray(0);\n</code></pre>\n\n<p>I don't understand what I'm doing wrong here. Can anyone see an error? </p>\n\n<p><strong>P.S:</strong> I'm avoiding <strong>glDrawArrays</strong> for efficiency purposes.</p>\n"}, {"tags": ["c++", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 1131, "user_id": 3448634, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1b5b4e95d700f849977e3c3e99b4ff7?s=128&d=identicon&r=PG&f=1", "display_name": "Makketronix", "link": "https://stackoverflow.com/users/3448634/makketronix"}, "is_accepted": false, "score": 0, "last_activity_date": 1475688140, "last_edit_date": 1475688140, "creation_date": 1475687424, "answer_id": 39879998, "question_id": 39879830, "link": "https://stackoverflow.com/questions/39879830/filling-an-arraymn-with-sum-of-elements-at-m-n/39879998#39879998", "title": "Filling an array[m][n] with sum of elements at m==n", "body": "<p>You only need to solve half  of it and put same number in the mirror image by changing the indices.</p>\n\n<p>You can do this:</p>\n\n<ul>\n<li>fill the diagonal</li>\n<li>Loop through rows: r = 1 -> colmax -1 //square matrix!\n\n<ul>\n<li>Loop c = r -> colmax-1 times again</li>\n<li>set value at [c][c+1] = [c][c-1] + [c][c+1]</li>\n</ul></li>\n</ul>\n\n<p>The index at [c][c+1] runs parallel to the diagonal with offset r.</p>\n\n<p>The index at [c][c-1] is is the previous value in the row</p>\n\n<p>The index at [c+1][c+1] is the next value in the column</p>\n\n<p>After you are done, fill the other half by copying what you calculated.</p>\n\n<p>Something like that.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5326826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8mDh.jpg?s=128&g=1", "display_name": "dato000", "link": "https://stackoverflow.com/users/5326826/dato000"}, "edited": false, "score": 1, "creation_date": 1475693695, "post_id": 39880492, "comment_id": 67050144, "body": "Thanks for the help, work like a charm, never thought about column taking the value of row, but now watching the code working, it does make sense, cool, thanks for all guys!"}], "tags": [], "owner": {"reputation": 1260, "user_id": 3893901, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1936c40432997826b9c180e11d010106?s=128&d=identicon&r=PG&f=1", "display_name": "jonathanGB", "link": "https://stackoverflow.com/users/3893901/jonathangb"}, "is_accepted": true, "score": 0, "last_activity_date": 1475689331, "creation_date": 1475689331, "answer_id": 39880492, "question_id": 39879830, "link": "https://stackoverflow.com/questions/39879830/filling-an-arraymn-with-sum-of-elements-at-m-n/39880492#39880492", "title": "Filling an array[m][n] with sum of elements at m==n", "body": "<p>As @Makketronix mentioned, you can use the fact that your two triangular matrices are symmetrical.    </p>\n\n<pre><code>for(int row=0; row &lt; maxNumber; row++){\n  for(int column=row; column &lt; maxNumber; column++)\n  {\n    if(row == column)\n    {\n        matAuto[row][column] = elements[row];\n    }\n    else\n    {\n      int newSum = matAuto[row][column-1] + elements[column];\n\n      // assign with mirror\n      matAuto[row][column] = newSum;\n      matAuto[column][row] = newSum;\n    }\n  }\n}\n</code></pre>\n\n<p>Here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/l0zLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l0zLk.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 5326826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n8mDh.jpg?s=128&g=1", "display_name": "dato000", "link": "https://stackoverflow.com/users/5326826/dato000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 39880492, "answer_count": 2, "score": 0, "last_activity_date": 1475689331, "creation_date": 1475686841, "question_id": 39879830, "link": "https://stackoverflow.com/questions/39879830/filling-an-arraymn-with-sum-of-elements-at-m-n", "title": "Filling an array[m][n] with sum of elements at m==n", "body": "<p>I need your help.</p>\n\n<p>I got this interesting problem, looks more like homework, but it is really complicated.</p>\n\n<p>I need to fill the elements in this array of numbers where, given certain list of numbers, I need to put them in the diagonals of the array, and then, fill the rest of positions with the sumatory of the initial numbers, I think I could explain way better if I give an example:</p>\n\n<p>Numbers of the array: 7 6 5 4 3 2 1 -1</p>\n\n<p>The Array is fill with these numbers: 7 6 5 4 3 2 1</p>\n\n<p>La array[n][m] is:</p>\n\n<p><p> <strong>7</strong>   13 18   22   25   27   28 </p>\n   <p> 13    <strong>6</strong>   11   15   18   20   21 </p>\n   <p> 18   11    <strong>5</strong>    9   12   14   15 </p>\n   <p> 22   15    9    <strong>4</strong>    7    9   10 </p>\n   <p> 25   18   12    7    <strong>3</strong>    5    6 </p>\n   <p> 27   20   14    9    5    <strong>2</strong>    3 </p>\n   <p> 28   21   15   10    6    3    <strong>1</strong> </p></p>\n\n<p>I tried a long of ways to do it, in c++:</p>\n\n<pre><code>//Here is the simple thing, setting the diagonals of the array[m][n]\nfor(int row=0; row &lt; maxNumber; fila++){\n    for(int column=0; column &lt; maxNumber; column++)\n    {\n        if(row == column)\n        {\n            matAuto[row][column] = elements[row];\n        }\n    }\n }\n</code></pre>\n\n<p>I was trying to make a temporary array with the elements of the array, and in the loop, sum the numbers according with their positions, you know like bubble sort (array[m][n] = listNum[n] + listNum[n+1]</p>\n\n<pre><code>  if(row &lt; column)\n  { \n     matAuto[row][column] = elements[row] + elements[row+1];\n  }\n\n  if(row &lt; column)\n  { \n     matAuto[row][column] = elements[column] + elements[column+1];\n  }\n\n  if(row &lt; column)\n  { \n     matAuto[row][column] = elements[column] + elements[row+1];\n  }\n\n  if(row &lt; column)\n  { \n     matAuto[row][column] = matAuto[row][column] + matAuto[row+1][column+1];\n  }\n</code></pre>\n\n<p>And so...nothing worth it.</p>\n\n<p>I don't know if is right to add the complete code, is not long, but well, Is just the common C++ stuff, but I got it in spanish, hope it doesn't botter you guys. </p>\n"}, {"tags": ["c++", "qt", "qpixmap", "qlabel"], "answers": [{"tags": [], "owner": {"reputation": 20880, "user_id": 1317944, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OcBMY.png?s=128&g=1", "display_name": "The Quantum Physicist", "link": "https://stackoverflow.com/users/1317944/the-quantum-physicist"}, "is_accepted": false, "score": 0, "last_activity_date": 1475687231, "creation_date": 1475687231, "answer_id": 39879945, "question_id": 39879735, "link": "https://stackoverflow.com/questions/39879735/qt-load-image-from-resource-no-input-files-specified-error/39879945#39879945", "title": "qt load image from resource: No input files specified error", "body": "<p>Try changing your qrc file to:</p>\n\n<pre><code>&lt;!DOCTYPE RCC&gt;\n&lt;RCC version=\"1.0\"&gt;\n&lt;qresource&gt;\n&lt;file&gt;back.png&lt;/file&gt;\n&lt;/qresource&gt;\n&lt;/RCC&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2861, "user_id": 1008115, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Nmtel.jpg?s=128&g=1", "display_name": "PnotNP", "link": "https://stackoverflow.com/users/1008115/pnotnp"}, "is_accepted": false, "score": 0, "last_activity_date": 1475689018, "creation_date": 1475689018, "answer_id": 39880412, "question_id": 39879735, "link": "https://stackoverflow.com/questions/39879735/qt-load-image-from-resource-no-input-files-specified-error/39880412#39880412", "title": "qt load image from resource: No input files specified error", "body": "<p>Your file path in <code>.qrc</code> file must be locatable on the filesystem by RCC compiler. E.g. for example if your file exists one directory up then you could just do following</p>\n\n<pre><code>&lt;RCC&gt;\n    &lt;qresource&gt;\n        &lt;file&gt;../back.png&lt;/file&gt;\n    &lt;/qresource&gt;\n&lt;/RCC&gt;\n</code></pre>\n\n<p>In your example RCC compiler is looking for file in <code>/back.png</code> path and probably it doesn't exist there</p>\n"}], "owner": {"reputation": 1623, "user_id": 4628115, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b3a6c65cdd121a35b1dcf348c6b0c9b6?s=128&d=identicon&r=PG", "display_name": "CybeX", "link": "https://stackoverflow.com/users/4628115/cybex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 876, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1475689018, "creation_date": 1475686473, "last_edit_date": 1495535265, "question_id": 39879735, "link": "https://stackoverflow.com/questions/39879735/qt-load-image-from-resource-no-input-files-specified-error", "title": "qt load image from resource: No input files specified error", "body": "<p>please note: QT newbie</p>\n\n<p>I am attempting to display a PNG on a qLabel using the setPixmap function.</p>\n\n<p><em>note: PNG dimensions &lt; Label dimensions</em></p>\n\n<p>Following this <a href=\"https://stackoverflow.com/questions/6913575/programatically-setting-the-pixmap-of-a-qlabel-in-qt\">example</a>, it is supposed to display the image, but I have no luck.</p>\n\n<p>I have attempted many examples, from using QImage to using GraphicsViews,etc. </p>\n\n<p>I have gotten this image to show by specifying the full path in the <code>QPixmap pixmap(\"full_path_here\")</code>, thus wanting to get rid of the full path, attempted adding this image to a resource fill, aka <code>.qrc</code> but the error below persists, I have no idea why.</p>\n\n<p><strong>ERROR</strong>: <code>/opt/qt/Qt5.7.0/5.7/gcc_64/bin/rcc:-1: error: No input files specified.</code></p>\n\n<p><strong>mainwindow.cpp</strong></p>\n\n<pre><code>#include \"mainwindow.h\"\n#include \"ui_mainwindow.h\"\n\nMainWindow::MainWindow(QWidget *parent) :\n    QMainWindow(parent),\n    ui(new Ui::MainWindow)\n{\n\n\n    ui-&gt;setupUi(this);\n    QPixmap mypix (\":/back.png\");\n    ui-&gt;label-&gt;setPixmap(mypix);\n\n}\n\nMainWindow::~MainWindow()\n{\n    delete ui;\n}\n</code></pre>\n\n<p><strong>.qrc resource file</strong></p>\n\n<pre><code>&lt;RCC&gt;\n    &lt;qresource prefix=\"/\"&gt;\n        &lt;file&gt;back.png&lt;/file&gt;\n    &lt;/qresource&gt;\n&lt;/RCC&gt;\n</code></pre>\n\n<p><strong>mainwindow.ui</strong></p>\n\n<pre><code>&lt;widget class=\"QLabel\" name=\"label\"&gt;\n    &lt;property name=\"geometry\"&gt;\n     &lt;rect&gt;\n      &lt;x&gt;90&lt;/x&gt;\n      &lt;y&gt;20&lt;/y&gt;\n      &lt;width&gt;131&lt;/width&gt;\n      &lt;height&gt;121&lt;/height&gt;\n     &lt;/rect&gt;\n    &lt;/property&gt;\n    &lt;property name=\"text\"&gt;\n     &lt;string/&gt;\n    &lt;/property&gt;\n   &lt;/widget&gt;\n</code></pre>\n\n<p><strong>Project Location:</strong></p>\n\n<pre><code>ll /home/cx/qt-projects/VPN/\n\ntotal 48\ndrwxrwxr-x 1 cx cx   162 Oct  5 15:53 ./\ndrwxr-xr-x 1 cx cx    90 Oct  5 12:21 ../\n-rw-rw-r-- 1 cx cx  1514 Oct  5 15:33 back.png\ndrwxrwxr-x 1 cx cx   108 Oct  5 12:12 .git/\n-rw-rw-r-- 1 cx cx   172 Oct  5 10:41 main.cpp\n-rw-rw-r-- 1 cx cx   393 Oct  5 15:53 mainwindow.cpp\n-rw-rw-r-- 1 cx cx   399 Oct  5 15:25 mainwindow.h\n-rw-rw-r-- 1 cx cx  3134 Oct  5 12:21 mainwindow.ui\ndrwxrwxr-x 1 cx cx     8 Oct  5 12:11 res/\n-rw-rw-r-- 1 cx cx   400 Oct  5 12:12 VPN.pro\n-rw-rw-r-- 1 cx cx 24064 Oct  5 12:35 VPN.pro.user\n</code></pre>\n"}, {"tags": ["c++", "templates", "template-specialization"], "answers": [{"comments": [{"owner": {"reputation": 240, "user_id": 819640, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7006a5c90bd9a25841cbbe23bee9cc23?s=128&d=identicon&r=PG", "display_name": "user819640", "link": "https://stackoverflow.com/users/819640/user819640"}, "edited": false, "score": 0, "creation_date": 1475686140, "post_id": 39879556, "comment_id": 67045927, "body": "Thanks for the reply. I had a feeling after all the googling I would have to use tag dispatch... I&#39;ll see if anyone has any other ideas before marking this as correct."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1475685841, "creation_date": 1475685841, "answer_id": 39879556, "question_id": 39879440, "link": "https://stackoverflow.com/questions/39879440/template-specialization-of-class-method-function-template-already-defined/39879556#39879556", "title": "Template Specialization of class method. &quot;Function template already defined&quot;", "body": "<p>The default here:</p>\n\n<pre><code>template&lt;typename T = XXX&gt;\ninline Vector3&lt;T&gt;::operator std::string() const { ... }\n</code></pre>\n\n<p>doesn't matter at all, there's no deduction going on at this point, and <code>T</code> is already defined. It's legal, but it's just noise. </p>\n\n<p>Now, you can't partially specialize a member function in a class template either, but we can dispatch on traits:</p>\n\n<pre><code>template &lt;class T&gt;\nclass Vector3 {\npublic:\n    // ...\n    operator std::string() const {\n        return as_string(std::is_arithmetic&lt;T&gt;{});\n    }\n\nprivate:\n    std::string as_string(std::true_type ) {\n        // implementation for arithmetic types\n    }\n\n    std::string as_string(std::false_type ) {\n        // implementation for non-arithmetic types\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1475686908, "creation_date": 1475686908, "answer_id": 39879852, "question_id": 39879440, "link": "https://stackoverflow.com/questions/39879440/template-specialization-of-class-method-function-template-already-defined/39879852#39879852", "title": "Template Specialization of class method. &quot;Function template already defined&quot;", "body": "<p>Barry's answer is perfect.</p>\n\n<p>Here is some explanation and suggestions:</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/types/enable_if\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/types/enable_if</a></p>\n\n<p>\"A common mistake is to declare two function templates that differ only in their default template arguments. This is illegal because default template arguments are not part of function template's signature, and declaring two different function templates with the same signature is illegal.\"</p>\n"}], "owner": {"reputation": 240, "user_id": 819640, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7006a5c90bd9a25841cbbe23bee9cc23?s=128&d=identicon&r=PG", "display_name": "user819640", "link": "https://stackoverflow.com/users/819640/user819640"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 246, "favorite_count": 0, "accepted_answer_id": 39879556, "answer_count": 2, "score": 0, "last_activity_date": 1475686908, "creation_date": 1475685391, "question_id": 39879440, "link": "https://stackoverflow.com/questions/39879440/template-specialization-of-class-method-function-template-already-defined", "title": "Template Specialization of class method. &quot;Function template already defined&quot;", "body": "<p>I've seen lots of SO questions about specialization in the context of methods, but not functions belonging to classes. I'm having a hard time translating the knowledge passed on from those questions to my problem here.</p>\n\n<p>I'm mucking around with a class I created in the past to learn and I would like to have a specialization for arithmetic types.</p>\n\n<pre><code>template &lt;typename T&gt;\nclass Vector3\n{\npublic:\n    T x;\n    T y;\n    T z;\n\npublic:\n    operator std::string() const;\n}\n</code></pre>\n\n<p>This is the specialization I am trying to do:</p>\n\n<pre><code>template&lt;typename T = std::enable_if&lt;std::is_arithmetic&lt;T&gt;::value, T&gt;::type&gt;\ninline Vector3&lt;T&gt;::operator std::string() const {\n\n    std::stringstream ss;\n    ss &lt;&lt; \"NOT NUMBER {\" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \", \" &lt;&lt; z &lt;&lt; \"}\";\n\n    return ss.str();\n}\n\ntemplate&lt;typename T = std::enable_if&lt;!std::is_arithmetic&lt;T&gt;::value, T&gt;::type&gt;\ninline Vector3&lt;T&gt;::operator std::string() const {\n\n    std::stringstream ss;\n    ss &lt;&lt; \"NUMBER {\" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \", \" &lt;&lt; z &lt;&lt; \"}\";\n\n    return ss.str();\n}\n</code></pre>\n\n<p>However when I try to compile, I get </p>\n\n<blockquote>\n  <p>error C2995: 'Vector3::operator std::string(void) const': function\n  template has already been defined</p>\n</blockquote>\n\n<p>When I google this, it is usually cases where people have defined their class/method in the CPP file as well as the header file. As I only do this in the header file, I can only assume the enable_if is not correct. When I look at other examples, they just do specialization on , ,  but I'd like to use the is_arithmitic way.</p>\n\n<p>What am I doing wrong? Thanks in advance</p>\n"}, {"tags": ["c++", "debugging", "arduino-uno", "atmega"], "answers": [{"comments": [{"owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "edited": false, "score": 0, "creation_date": 1475685578, "post_id": 39879417, "comment_id": 67045613, "body": "Yeah.. I had to read it a bit more carefully thanks anyway :)"}], "tags": [], "owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "is_accepted": false, "score": 2, "last_activity_date": 1475685295, "creation_date": 1475685295, "answer_id": 39879417, "question_id": 39879324, "link": "https://stackoverflow.com/questions/39879324/how-does-this-isr-routine-work/39879417#39879417", "title": "How does this ISR routine work?", "body": "<p>You need to understand how <code>static</code> works when it is applied to a function local variable.</p>\n\n<p>That <code>static unsigned int step_count = 0;</code> means that the first time into the function <code>step_count</code> is set to 0. It does not get set every time into the function.</p>\n\n<p>The <code>static</code> means it isn't a stack variable, it is in the same memory space as a global variable, except that it can only be accessed inside the function that declares it.</p>\n"}, {"tags": [], "owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1475689475, "last_edit_date": 1475689475, "creation_date": 1475685309, "answer_id": 39879422, "question_id": 39879324, "link": "https://stackoverflow.com/questions/39879324/how-does-this-isr-routine-work/39879422#39879422", "title": "How does this ISR routine work?", "body": "<p>These three variables are static.  That means they will only be initialized once:</p>\n\n<pre><code>// Remember the last step delay used when accelrating.\nstatic int last_accel_delay;\n// Counting steps when moving.\nstatic unsigned int step_count = 0;\n// Keep track of remainder from new_step-delay calculation to incrase accurancy\nstatic unsigned int rest = 0;\n</code></pre>\n\n<p>If you follow the code you'll find that they are used to keep state from one interrupt to the next.</p>\n"}], "owner": {"reputation": 682, "user_id": 5585502, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/cb140b447b19caac8f9228911a618288?s=128&d=identicon&r=PG&f=1", "display_name": "Lamda", "link": "https://stackoverflow.com/users/5585502/lamda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 39879422, "answer_count": 2, "score": 1, "last_activity_date": 1475689475, "creation_date": 1475684999, "question_id": 39879324, "link": "https://stackoverflow.com/questions/39879324/how-does-this-isr-routine-work", "title": "How does this ISR routine work?", "body": "<p>I at the moment trying to write an the step signal for an stepper motor, and recently found out that atmel had written this <a href=\"http://www.atmel.com/images/doc8017.pdf\" rel=\"nofollow\">application note</a>, \nand provided some code that purpose. The signal i have to provide my motor, is a pulse modulated signal, where the frequency of the signal determines, the speed, rather than the 4 pin signal which they provide. The code is available on <a href=\"https://github.com/plastiv/stepper-motor-controller/blob/master/%20stepper-motor-controller%20--username%20plastiv%40gmail.com/code/speed_cntr.c\" rel=\"nofollow\">github</a> (link). </p>\n\n<p>But i am currently questioning ISR routine which controls all the stages of the motor (Stop, acceleration, run ,deceleration). \nMore specifically how it keeps track of the step_count which is in charge of changing the state. </p>\n\n<pre><code>#pragma vector=TIMER1_COMPA_vect\n__interrupt void speed_cntr_TIMER1_COMPA_interrupt( void )\n{\n  // Holds next delay period.\n  unsigned int new_step_delay;\n  // Remember the last step delay used when accelrating.\n  static int last_accel_delay;\n  // Counting steps when moving.\n  static unsigned int step_count = 0;\n  // Keep track of remainder from new_step-delay calculation to incrase accurancy\n  static unsigned int rest = 0;\n\n  OCR1A = srd.step_delay;\n\n  switch(srd.run_state) {\n    case STOP:\n      step_count = 0;\n      rest = 0;\n      // Stop Timer/Counter 1.\n      TCCR1B &amp;= ~((1&lt;&lt;CS12)|(1&lt;&lt;CS11)|(1&lt;&lt;CS10));\n      status.running = FALSE;\n      break;\n\n    case ACCEL:\n      sm_driver_StepCounter(srd.dir);\n      step_count++;\n      srd.accel_count++;\n      new_step_delay = srd.step_delay - (((2 * (long)srd.step_delay) + rest)/(4 * srd.accel_count + 1));\n      rest = ((2 * (long)srd.step_delay)+rest)%(4 * srd.accel_count + 1);\n      // Chech if we should start decelration.\n      if(step_count &gt;= srd.decel_start) {\n        srd.accel_count = srd.decel_val;\n        srd.run_state = DECEL;\n      }\n      // Chech if we hitted max speed.\n      else if(new_step_delay &lt;= srd.min_delay) {\n        last_accel_delay = new_step_delay;\n        new_step_delay = srd.min_delay;\n        rest = 0;\n        srd.run_state = RUN;\n      }\n      break;\n\n    case RUN:\n      sm_driver_StepCounter(srd.dir);\n      step_count++;\n      new_step_delay = srd.min_delay;\n      // Chech if we should start decelration.\n      if(step_count &gt;= srd.decel_start) {\n        srd.accel_count = srd.decel_val;\n        // Start decelration with same delay as accel ended with.\n        new_step_delay = last_accel_delay;\n        srd.run_state = DECEL;\n      }\n      break;\n\n    case DECEL:\n      sm_driver_StepCounter(srd.dir);\n      step_count++;\n      srd.accel_count++;\n      new_step_delay = srd.step_delay - (((2 * (long)srd.step_delay) + rest)/(4 * srd.accel_count + 1));\n      rest = ((2 * (long)srd.step_delay)+rest)%(4 * srd.accel_count + 1);\n      // Check if we at last step\n      if(srd.accel_count &gt;= 0){\n        srd.run_state = STOP;\n      }\n      break;\n  }\n  srd.step_delay = new_step_delay;\n}\n</code></pre>\n\n<p>As it looks to me, is the step_count being set to zero at the begining of the ISR and the incremented in either state ACCEL,RUN or DECEL. </p>\n\n<p>A quick debug does show that the variable increment to the value i desire it to be, but I really cannot figure out how. </p>\n\n<p>I know missing something very simple. </p>\n"}, {"tags": ["c++", "typedef", "overloading"], "comments": [{"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 3, "creation_date": 1475684891, "post_id": 39879269, "comment_id": 67045164, "body": "please always post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 1, "creation_date": 1475684966, "post_id": 39879269, "comment_id": 67045210, "body": "Not an answer, so I&#39;m posting as a comment: you may not want to use function pointers in C++. Though they&#39;re still useful in specific circumstances, I think templates/functors and <code>std::function</code> between them cover the majority of use cases better."}, {"owner": {"reputation": 2476, "user_id": 677202, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5544d46b2d8a81515a4704b3e2048e38?s=128&d=identicon&r=PG", "display_name": "nosbor", "link": "https://stackoverflow.com/users/677202/nosbor"}, "edited": false, "score": 0, "creation_date": 1475685136, "post_id": 39879269, "comment_id": 67045327, "body": "I don&#39;t know the C+++ language (as specified in title), probably next generation of C++? :)"}], "answers": [{"comments": [{"owner": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 0, "creation_date": 1475685095, "post_id": 39879319, "comment_id": 67045294, "body": "If the function is templated and accepts any functor, there&#39;s no reason to construct an <code>std::function</code>, you would just pass the lambda directly. More common is the opposite, for the function to accept an <code>std::function</code>, and to pass a lambda or a function into it; typically you do this when you want to avoid templating and/or need type erasure."}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "reply_to_user": {"reputation": 15544, "user_id": 1908347, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e1305fee562b70958e65b557ce049e31?s=128&d=identicon&r=PG", "display_name": "Nir Friedman", "link": "https://stackoverflow.com/users/1908347/nir-friedman"}, "edited": false, "score": 2, "creation_date": 1475685139, "post_id": 39879319, "comment_id": 67045329, "body": "I wanted to say that those are two popular alternatives for the interface. I&#39;ll clarify."}, {"owner": {"reputation": 4713, "user_id": 6799654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbfa65b345b86c22a77eb3f457c99f35?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Guseynov", "link": "https://stackoverflow.com/users/6799654/alexey-guseynov"}, "edited": false, "score": 0, "creation_date": 1475685195, "post_id": 39879319, "comment_id": 67045364, "body": "Technically speaking, this must be a free function. Static methods are allowed to have different call convention. So this is UB. But I know no platform where calling conventions will be different and static function is better for code readability."}, {"owner": {"reputation": 303, "user_id": 1867459, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6c7baf3bea6b75a4d73b7da29ed8799?s=128&d=identicon&r=PG", "display_name": "user1867459", "link": "https://stackoverflow.com/users/1867459/user1867459"}, "edited": false, "score": 0, "creation_date": 1475694701, "post_id": 39879319, "comment_id": 67050706, "body": "@krzaq. Thanks for chiming in. I tried the first solution by using the same syntax as you suggested. It would still throw erros"}, {"owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "edited": false, "score": 0, "creation_date": 1475695277, "post_id": 39879319, "comment_id": 67051047, "body": "Well, I cleared the example up. If you can avoid using class instance variables it&#39;ll work for you. otherwise it will not."}, {"owner": {"reputation": 303, "user_id": 1867459, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6c7baf3bea6b75a4d73b7da29ed8799?s=128&d=identicon&r=PG", "display_name": "user1867459", "link": "https://stackoverflow.com/users/1867459/user1867459"}, "edited": false, "score": 0, "creation_date": 1475696363, "post_id": 39879319, "comment_id": 67051639, "body": "I am using class variables inside the call back function hence the solution with static keyword won&#39;t work. I attempted the solution with lambda but don&#39;t know if I am putting the correct syntax. It gives the following errors if I use the way you have typed in."}, {"owner": {"reputation": 303, "user_id": 1867459, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6c7baf3bea6b75a4d73b7da29ed8799?s=128&d=identicon&r=PG", "display_name": "user1867459", "link": "https://stackoverflow.com/users/1867459/user1867459"}, "edited": false, "score": 0, "creation_date": 1475696369, "post_id": 39879319, "comment_id": 67051646, "body": "timer.cpp                                                                                template &lt;typename T&gt; unsigned int TimClass:: timer_start(unsigned int interval, T&amp;&amp; cb)   ../dpl.cpp:210:93: error: no matching function for call to \u2018TimClass:timer_start(int, &lt;unresolved overloaded function type&gt;)\u2019 ../dpl.cc:210:93: note: candidate is: ../timer.h:258:16: note: unsigned int TimClass::timer_start(unsigned int, T&amp;&amp;) [with T = void (Dpl::*)()] ../timer.h258:16: note:   no known conversion for argument 2 from \u2018&lt;unresolved overloaded function type&gt;\u2019 to \u2018void (Dpl::*&amp;&amp;)()"}], "tags": [], "owner": {"reputation": 15610, "user_id": 2456565, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xa8D9.png?s=128&g=1", "display_name": "krzaq", "link": "https://stackoverflow.com/users/2456565/krzaq"}, "is_accepted": false, "score": 3, "last_activity_date": 1475695656, "last_edit_date": 1475695656, "creation_date": 1475684993, "answer_id": 39879319, "question_id": 39879269, "link": "https://stackoverflow.com/questions/39879269/c-unresolved-overloaded-function-type/39879319#39879319", "title": "C++ Unresolved overloaded function type", "body": "<p>The type of <code>Dpl::receive_timeout</code> is <code>void (Dpl::*)(void)</code> and it takes an implicit <code>this</code> parameter. Make your function static (I don't think you can do this since you seem to be using non-static class members) or change your timer definition to accept any functor and pass a lambda/<code>std::function&lt;void(void)&gt;</code>.</p>\n\n<p>static callback:</p>\n\n<pre><code>// function declaration\nclass Dpl{\n    // ...\n    static receive_timeout(void);\n    // ...\n};\n\n// function definition\nvoid Dpl::receive_timeout(void)\n{\n    receive_state = STATE_IDLE;\n}\n</code></pre>\n\n<p>lambda:</p>\n\n<pre><code>template&lt;typename T&gt;\nunsigned int TimClass:: timer_start(unsigned int interval, T&amp;&amp; callback)\n{\n//do stuff \n}\n</code></pre>\n\n<p><code>std::function</code>: (note: uses type erasure, which is more costly at the runtime)</p>\n\n<pre><code>unsigned int TimClass:: timer_start(unsigned int interval, std::function&lt;void(void)&gt; const&amp; callback)\n{\n//do stuff \n}\n</code></pre>\n\n<p>By the way, if you want to take address of a member function, you need to use the qualified name and <code>operator&amp;</code>:</p>\n\n<pre><code>&amp;Dpl::receive_timeout\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 1867459, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/e6c7baf3bea6b75a4d73b7da29ed8799?s=128&d=identicon&r=PG", "display_name": "user1867459", "link": "https://stackoverflow.com/users/1867459/user1867459"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1885, "favorite_count": 0, "closed_date": 1475692209, "answer_count": 1, "score": 0, "last_activity_date": 1475695656, "creation_date": 1475684811, "last_edit_date": 1475685435, "question_id": 39879269, "link": "https://stackoverflow.com/questions/39879269/c-unresolved-overloaded-function-type", "closed_reason": "Not suitable for this site", "title": "C++ Unresolved overloaded function type", "body": "<p>I am running into issue with the typedef/call back function.</p>\n\n<pre><code>typedef void (*timer_cb_fn_t)(void); //defined in timer.h\n</code></pre>\n\n<p>Here is the definition of timer_start function defined in timer.cpp</p>\n\n<pre><code>unsigned int TimClass:: timer_start(unsigned int interval, timer_cb_fn_t cb)\n{\n //do stuff \n}\n</code></pre>\n\n<p>dpl.h includes timer.h</p>\n\n<p>I am trying to invoke the timer function from dpl.cpp file\nwhere call back function is defined as </p>\n\n<pre><code> void Dpl::receive_timeout(void)\n    {\n        receive_state = STATE_IDLE;\n    }\n</code></pre>\n\n<p>I am invoking the function timer start with the following call. </p>\n\n<pre><code>unsigned int receive_timer = timer_start(TIMER_FRAME_TIME_MS, receive_timeout);\n</code></pre>\n\n<p>The g++ compiler throws the following errors. </p>\n\n<pre><code>./src/dpl/dpl.cc:138:107: error: no matching function for call to \u2018TimClass::timer_start(unsigned int, &lt;unresolved overloaded function type&gt;)\u2019\n../dpl.cc:138:107: note: candidate is:\n../timer.h:256:16: note: unsigned int TimClass::timer_start(unsigned int, timer_cb_fn_t)\n../timer.h:256:16: note:   no known conversion for argument 2 from \u2018&lt;unresolved overloaded function type&gt;\u2019 to \u2018timer_cb_fn_t {aka void (*)()}\u2019\nmake: *** [build/dpl.o] Error 1\n</code></pre>\n\n<p>Could you please explain how to address this? </p>\n"}, {"tags": ["python", "c++", "pandas", "numpy", "anaconda"], "comments": [{"owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 2, "creation_date": 1475687246, "post_id": 39879047, "comment_id": 67046525, "body": "try <code>.astype(&#39;int64&#39;)</code> - on Windows an <code>int</code> is always 32 bits."}, {"owner": {"reputation": 12853, "user_id": 1673784, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d23ac5da61f02361e1363390231cd248?s=128&d=identicon&r=PG", "display_name": "scottlittle", "link": "https://stackoverflow.com/users/1673784/scottlittle"}, "reply_to_user": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "edited": false, "score": 0, "creation_date": 1475695352, "post_id": 39879047, "comment_id": 67051091, "body": "That worked.  Make this an answer and I will accept it."}], "answers": [{"tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 3, "last_activity_date": 1475708929, "creation_date": 1475708929, "answer_id": 39885044, "question_id": 39879047, "link": "https://stackoverflow.com/questions/39879047/how-do-i-get-conversion-with-overflowerror-python-int-too-large-to-convert-to/39885044#39885044", "title": "How do I get conversion with &quot;OverflowError: Python int too large to convert to C long&quot; error working on Windows Server 2012?", "body": "<p><code>int</code> is interpreted by numpy by as the <code>np.int_</code> dtype, which corresponds to a C integer.  On Windows, even on a 64 bit system, this is a 32 bit integer. </p>\n\n<p>So if you need to cast larger values, specify a 64 bit integer using</p>\n\n<pre><code>.astype('int64')\n</code></pre>\n"}], "owner": {"reputation": 12853, "user_id": 1673784, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d23ac5da61f02361e1363390231cd248?s=128&d=identicon&r=PG", "display_name": "scottlittle", "link": "https://stackoverflow.com/users/1673784/scottlittle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1144, "favorite_count": 0, "accepted_answer_id": 39885044, "answer_count": 1, "score": 3, "last_activity_date": 1475708929, "creation_date": 1475684052, "last_edit_date": 1475686510, "question_id": 39879047, "link": "https://stackoverflow.com/questions/39879047/how-do-i-get-conversion-with-overflowerror-python-int-too-large-to-convert-to", "title": "How do I get conversion with &quot;OverflowError: Python int too large to convert to C long&quot; error working on Windows Server 2012?", "body": "<p>When running this on Anaconda Python 2.7.12, Pandas 18.1, Windows Server 2012:</p>\n\n<pre><code>df['z'] = df['y'].str.replace(' ', '').astype(int)\n</code></pre>\n\n<p>I get this error:</p>\n\n<pre><code>OverflowError: Python int too large to convert to C long\n</code></pre>\n\n<p>I do not get this error on MacOS 10.11 or Ubuntu 14.04.  I read from somewhere else that the Windows C++ compiler has a different definition of long than a Unix-like OS.  If so, how do I make this work on Windows?</p>\n\n<p>Additionally, data.txt is only 172 KB in size.  If it helps, data.txt takes this form:</p>\n\n<pre><code>x|y\n99999917|099999927 9991\n99999911|999999979 9994\n99999912|999999902 9992\n</code></pre>\n"}, {"tags": ["c++", "while-loop", "syntax"], "comments": [{"owner": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 0, "creation_date": 1475684142, "post_id": 39879045, "comment_id": 67044653, "body": "This:  while(condition); gets interpreted as an empty block after the condition, so you end up with a loop doing nothing."}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 1, "creation_date": 1475684520, "post_id": 39879045, "comment_id": 67044899, "body": "Reminds me of my naughty friend who put O in place of 0 to confuse my computer teacher for hours end"}, {"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 0, "creation_date": 1475684803, "post_id": 39879045, "comment_id": 67045108, "body": "<code>while (condition);</code> can also be written <code>while (condition) { }</code>, which I find more obvious.  You have <code>while (condition) { &#47;* infinite loop *&#47; } { ... &#47;* unreachable code *&#47;}</code>."}], "answers": [{"comments": [{"owner": {"reputation": 56, "user_id": 6927485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282b7669cf2c99fead44c28bb18e534f?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha Gunaratne", "link": "https://stackoverflow.com/users/6927485/sacha-gunaratne"}, "edited": false, "score": 0, "creation_date": 1475775033, "post_id": 39879069, "comment_id": 67089849, "body": "AH. I missed checking on the whether the condition was true or not. Of course it was true which is why we were in an infinite loop. This makes perfect sense. Thanks!"}], "tags": [], "owner": {"reputation": 37828, "user_id": 1629821, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/861cfc0de6bf99a544b500eac16229eb?s=128&d=identicon&r=PG", "display_name": "Mr.C64", "link": "https://stackoverflow.com/users/1629821/mr-c64"}, "is_accepted": true, "score": 6, "last_activity_date": 1475684148, "creation_date": 1475684148, "answer_id": 39879069, "question_id": 39879045, "link": "https://stackoverflow.com/questions/39879045/semi-colon-placed-before-opening-bracket-in-a-while-loop/39879069#39879069", "title": "Semi-Colon placed before opening bracket in a while loop", "body": "<p>You can rewrite your code using a better formatting, which probably would make the problem clearer to you:</p>\n\n<pre><code>while(condition)\n  ;\n\n{ \n    statement;\n}\n</code></pre>\n\n<p>If <code>condition</code> is true (i.e. non-0), you iterate an infinite loop.</p>\n\n<p>If <code>condition</code> is false (i.e. 0), execution moves forward to the following statement.</p>\n"}, {"comments": [{"owner": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 1, "creation_date": 1475684448, "post_id": 39879085, "comment_id": 67044842, "body": "This also answers &quot;why does it compile when the semi-colon is placed in between?&quot;"}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 4, "last_activity_date": 1475684518, "last_edit_date": 1475684518, "creation_date": 1475684204, "answer_id": 39879085, "question_id": 39879045, "link": "https://stackoverflow.com/questions/39879045/semi-colon-placed-before-opening-bracket-in-a-while-loop/39879085#39879085", "title": "Semi-Colon placed before opening bracket in a while loop", "body": "<p>The definition of a while loop is</p>\n\n<pre><code>while(condition) statement;\n</code></pre>\n\n<p>So when you use a while loop it will only execute <code>statement</code>.  Since you statement is empty (<code>while(condition);</code>), nothing is executed and the loop, loops again.  This will go on forever.</p>\n\n<p>When you write something like</p>\n\n<pre><code>while (something)\n{\n    //more stuff\n    //even more stuff\n    //and something else\n}\n</code></pre>\n\n<p>The whole <code>{}</code> block is treated as the single statement.</p>\n"}, {"tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": false, "score": 1, "last_activity_date": 1475687006, "last_edit_date": 1475687006, "creation_date": 1475685205, "answer_id": 39879391, "question_id": 39879045, "link": "https://stackoverflow.com/questions/39879045/semi-colon-placed-before-opening-bracket-in-a-while-loop/39879391#39879391", "title": "Semi-Colon placed before opening bracket in a while loop", "body": "<blockquote>\n  <p>As far as I'm aware the semi colon is a terminating punctuator that lets the compiler know that it has come to the end of the statement.</p>\n</blockquote>\n\n<p>The role of <code>;</code> in C++ grammar is not that simplistic and straightforward. Actually, many (if not most) statements in C++ do not have <code>;</code> at the end. It is simply not necessary for the compiler to detect the end of the statement.</p>\n\n<p>Among iteration statements, only <code>do</code>  statement ends with a <code>;</code>. Other iteration statements do not end with a <code>;</code>. This means that whatever <code>;</code> you see in <code>for</code> or <code>while</code> iteration statements actually belong to \"nested\" statements in the body of the loop.</p>\n\n<p>In your case</p>\n\n<pre><code>while (condition);\n</code></pre>\n\n<p>is just a <code>while</code> loop, whose body consists of a mere <code>;</code>. This lone <code>;</code> does not directly belong to the <code>while</code> statement. This lone <code>;</code> actually belongs to an empty statement, which constitutes the body of your loop. In other words your cycle is interpreted as</p>\n\n<pre><code>while (condition) \n  /* Empty statement */;\n</code></pre>\n\n<p>So, in your case the loop just keeps executing that empty statement indefinitely.</p>\n\n<p>The opening bracket and the rest of your code is seen as an independent compound statement, which has nothing to do with your loop.</p>\n"}], "owner": {"reputation": 56, "user_id": 6927485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/282b7669cf2c99fead44c28bb18e534f?s=128&d=identicon&r=PG&f=1", "display_name": "Sacha Gunaratne", "link": "https://stackoverflow.com/users/6927485/sacha-gunaratne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 39879069, "answer_count": 3, "score": -2, "last_activity_date": 1553690629, "creation_date": 1475684049, "last_edit_date": 1553690629, "question_id": 39879045, "link": "https://stackoverflow.com/questions/39879045/semi-colon-placed-before-opening-bracket-in-a-while-loop", "title": "Semi-Colon placed before opening bracket in a while loop", "body": "<pre><code>while(condition);{ \n    statement;\n}\n</code></pre>\n\n<p>The semi-colon before the opening bracket of the while loop shouldn't be there. The question I'm having is why the program gets stuck at the while loop during run time. As far as I'm aware the semi-colon is a terminating punctuator that lets the compiler know that it has come to the end of the statement. Since it doesn't read the opening bracket of the while loop shouldn't it then move on to the next line and perform the action? If you run the debugger and move step by step, it stops moving at the while statement and will not go further. I'm just looking for some insight as to why this is the case. If it is the case that the while has to be followed by a condition and then the opening bracket why does it compile when the semi-colon is placed in between? Shouldn't some sort of error be thrown?</p>\n\n<p>The IDE being used is Dev c++. I'm not sure if this is a IDE specific issue as I've not tested this in other IDEs.</p>\n"}, {"tags": ["c++", "c", "windows", "multithreading", "winapi"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683890, "post_id": 39878970, "comment_id": 67044498, "body": "What happens if you only use a number of threads equal to the number of cores or the number of cores minus 1?"}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683985, "post_id": 39878970, "comment_id": 67044553, "body": "I have 2 physical and 4 logical processors - I get the same results with 2, 3, and 4 threads."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1475684185, "post_id": 39878970, "comment_id": 67044679, "body": "Somewhat related, there are <i>much</i> faster ways of computing a sequential sum. Think about this: 1-through-10. That would be the same as (1+10) + (9+2) + (8+3) + (7+4) + (6+5). In other words, it is 11 * 5 = 55. One multiplication rather than 9 additions, and most importantly, <i>no loop</i>. Consider how you would apply that to your overall task."}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "edited": false, "score": 1, "creation_date": 1475684244, "post_id": 39878970, "comment_id": 67044713, "body": "Yes, as I said, I&#39;m familiar with the formula, but I&#39;m doing this as an exercise."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1475684280, "post_id": 39878970, "comment_id": 67044736, "body": "Ah ok. So long as this isn&#39;t for something critical. gotcha."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1475684474, "post_id": 39878970, "comment_id": 67044866, "body": "Is the sum-result correct regardless of the number of thread?"}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "edited": false, "score": 0, "creation_date": 1475684504, "post_id": 39878970, "comment_id": 67044891, "body": "Yes, both methods arrive at the same result, regardless of the number of threads."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1475684719, "post_id": 39878970, "comment_id": 67045038, "body": "&quot;When I multiply UPPER by 10 and ...  doesn&#39;t even stop&quot;  How did you multiply by 10? <code>1000000000*10</code> or append a zero?  The first overflows."}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "edited": false, "score": 0, "creation_date": 1475684741, "post_id": 39878970, "comment_id": 67045055, "body": "Appended a zero. At any rate, issues like that would be caught fairly quickly, because I run the serial version before I run the multithreaded version."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475684787, "post_id": 39878970, "comment_id": 67045092, "body": "<code>1000000000</code> needs to be <code>1000000000LL</code> then"}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475684884, "post_id": 39878970, "comment_id": 67045159, "body": "@NathanOliver I changed it but I&#39;m getting the same results (both in terms of the calculation itself and the elapsed time)."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475685041, "post_id": 39878970, "comment_id": 67045259, "body": "How much time does this take anyways in the serial version?  Spinning up threads takes times.  I would not suspect it to be to much time but if the serial version is really fast it might matter."}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1475685091, "post_id": 39878970, "comment_id": 67045293, "body": "@4386427 - It turns out that the sum is incorrect when the thread count is 3, but not by much. It&#39;s probably an error with the way I calculate the sum, I don&#39;t think it&#39;s related to the core issue of speed."}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475685113, "post_id": 39878970, "comment_id": 67045309, "body": "@NathanOliver Approximately 3 seconds serial version, 6 seconds multithreaded."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1475685612, "post_id": 39878970, "comment_id": 67045640, "body": "@Daniel yeah, your loop doesn&#39;t account for the remainder of an uneven division, but the overall the time crunch shouldn&#39;t matter. A ported version of your code for C++11 <a href=\"http://coliru.stacked-crooked.com/a/947e626954c4adee\" rel=\"nofollow noreferrer\">can be found here</a>. Coliru has a limit on hardware concurrency of 2, so test it on your box. Interesting question; have an uptick."}, {"owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1475685941, "post_id": 39878970, "comment_id": 67045818, "body": "@WhozCraig When I run the code you linked I get a speed of 350ms for 1 thread and 196ms for 8 threads."}, {"owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "edited": false, "score": 0, "creation_date": 1475696952, "post_id": 39878970, "comment_id": 67052011, "body": "Maybe the loop in the worker threads could be optimized (the calculation <code>i &lt;= x + UPPER &#47; NUM</code> in each step compares to the summing calculation itself). So, the first and last value could be calculated before the loop, and the condition in the for loop would then only be check against the last value, ie avoid the addition (and the division?). And as a sidenote, it would be best that the splitting of the workload be done by the main thread, just for the case that UPPER isn&#39;t exactly divisible by NUM (the worker threads should then take a from-to range as a parameter, not the thread ordinal)."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1475696984, "post_id": 39878970, "comment_id": 67052028, "body": "Of topic: I&#39;m not a windows guy so this might be all wrong. I just want to ask: Is CriticalSection really the way to do this on windows? From embedded systems I know that CriticalSection means more or less a complete stop of everything else. Don&#39;t windows have simple mutexes?"}, {"owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "reply_to_user": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1475697161, "post_id": 39878970, "comment_id": 67052135, "body": "@4386427, yes, a critical section is essentially a &quot;mutex&quot;, but its a lot faster than a WinAPI mutex object, and only works for threads of the same process. There are other ways to do this, eg the std::mutex."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1475706225, "post_id": 39878970, "comment_id": 67056091, "body": "In this case, what you&#39;re doing inside the critical section is so simple that it can be done without one: see the InterlockedAdd function.  It might be worth making that change just to see how it affects the timing."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1475733832, "post_id": 39878970, "comment_id": 67063461, "body": "Exactly. Full on lock is way over the top. Atomic arithmetic is the way."}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1475685352, "post_id": 39879374, "comment_id": 67045469, "body": "I had the same thought and asked the OP how much time it actually took.  He states the serial version takes 3 seconds and the parallel takes 6.  I&#39;m doubtful it takes 3 seconds to spin up 10 threads."}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1475691846, "post_id": 39879374, "comment_id": 67049068, "body": "Branch prediction will be almost identical in either version. You will have <i>&lt;number of threads&gt;</i> branch misses. Compare that to the number of iterations, and you&#39;ll see, that this is hardly even measurable."}, {"owner": {"reputation": 327, "user_id": 2153848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e1819a51339a47b0a4f84c295895840?s=128&d=identicon&r=PG", "display_name": "jhbh", "link": "https://stackoverflow.com/users/2153848/jhbh"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475695840, "post_id": 39879374, "comment_id": 67051346, "body": "@NathanOliver certainly, the initial spin up wont take that long, but for a trivial task such as this, it is still worth considering the overhead of a threaded approach."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1475697215, "post_id": 39879374, "comment_id": 67052156, "body": "@jhbh - If total time is 3 sec for the serial, a threaded solution should perform better."}], "tags": [], "owner": {"reputation": 327, "user_id": 2153848, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4e1819a51339a47b0a4f84c295895840?s=128&d=identicon&r=PG", "display_name": "jhbh", "link": "https://stackoverflow.com/users/2153848/jhbh"}, "is_accepted": false, "score": 0, "last_activity_date": 1475685151, "creation_date": 1475685151, "answer_id": 39879374, "question_id": 39878970, "link": "https://stackoverflow.com/questions/39878970/summing-numbers-in-parallel-takes-twice-as-long-as-the-serial-version/39879374#39879374", "title": "Summing numbers in parallel takes twice as long as the serial version", "body": "<p>Spooling up threads is costly.</p>\n\n<p>I would wager though that the biggest influence on run time in this case is compiler optimization and branch prediction. both of which will be significantly better in the serial version in this use case.</p>\n"}, {"tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": false, "score": 2, "last_activity_date": 1475685172, "creation_date": 1475685172, "answer_id": 39879381, "question_id": 39878970, "link": "https://stackoverflow.com/questions/39878970/summing-numbers-in-parallel-takes-twice-as-long-as-the-serial-version/39879381#39879381", "title": "Summing numbers in parallel takes twice as long as the serial version", "body": "<p>There are a few things that represent potential culprits. </p>\n\n<p>First of all (and this is usually the big one), check which Compiler Optimizations you have enabled. Two things are often extremely true when it comes to Compiler Optimizations:</p>\n\n<ul>\n<li>They are very good at optimizing \"Accumulation loops\", which is what you're doing in this code. In fact, depending on the compiler, they may unroll the loop, or use SIMD operations to speed the whole thing up.</li>\n<li>They are not [as-] good at optimizing any kind of multithreaded code, regardless of how simple the code is.</li>\n</ul>\n\n<p>I've found similar results when dealing with single vs multithreaded accumulators, and the results usually reverse (to the multithreaded code becoming faster) when the optimizations are turned off.</p>\n\n<p>As a case study, consider writing code that's slightly less trivial than \"add all numbers together between <code>x</code> and <code>y</code>\" and see if the multithreaded code suddenly becomes more efficient. My prediction is that it will, because the compiler will lose ways to optimize the Serial code.</p>\n\n<p>Secondly, while this usually doesn't represent a huge problem for most use-cases (probably not yours), it's worth noting that starting up new threads usually involves a certain amount of overhead. That's worth bearing in mind.</p>\n\n<p>The last suggestion is to evaluate exactly <em>how</em> you're performing the calculations. If you had written code like this:</p>\n\n<pre><code>size_t sum = 0;\nstd::mutex mutex;\nstd::thread t1([&amp;]{for(size_t i = 0; i &lt; 1'000'000; i++) {mutex.lock(); sum+=i; mutex.unlock();}});\nstd::thread t2([&amp;]{for(size_t i = 1'000'000; i &lt; 2'000'000; i++) {mutex.lock(); sum+=i; mutex.unlock();}});\nt1.join();\nt2.join();\nstd::cout &lt;&lt; \"Sum of integers between 0 and 1999999: \" &lt;&lt; sum &lt;&lt; std::endl;\n</code></pre>\n\n<p>It would almost certainly be slower than the code you <em>did</em> write, which is functionally identical to:</p>\n\n<pre><code>size_t sum = 0;\nsize_t s1 = 0, s2 = 0;\nstd::mutex mutex;\nstd::thread t1([&amp;]{for(size_t i = 0; i &lt; 1'000'000; i++) {s1 += i;} mutex.lock(); sum += s1; mutex.unlock();});\nstd::thread t2([&amp;]{for(size_t i = 1'000'000; i &lt; 2'000'000; i++) {s2 += i;}mutex.lock(); sum += s2; mutex.unlock();});\nt1.join();\nt2.join();\nstd::cout &lt;&lt; \"Sum of integers between 0 and 1999999: \" &lt;&lt; sum &lt;&lt; std::endl;\n</code></pre>\n\n<p>You <em>might</em> (emphasis on the word \"might\") be able to get a minor speed up if you write it like this instead (since Mutexes/Critical Sections are usually major performance bottlenecks):</p>\n\n<pre><code>size_t sum = 0;\nsize_t s1 = 0, s2 = 0;\nstd::thread t1([&amp;]{for(size_t i = 0; i &lt; 1'000'000; i++) {s1 += i;}});\nstd::thread t2([&amp;]{for(size_t i = 1'000'000; i &lt; 2'000'000; i++) {s2 += i;}});\nt1.join();\nt2.join();\nsum = s1 + s2;\nstd::cout &lt;&lt; \"Sum of integers between 0 and 1999999: \" &lt;&lt; sum &lt;&lt; std::endl;\n</code></pre>\n\n<p>Of course, that's not a huge problem in this situation, but it's always worth considering and bearing in mind.</p>\n"}, {"comments": [{"owner": {"reputation": 1499, "user_id": 1372577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4819b4e5fd753e26319b41b632182e0?s=128&d=identicon&r=PG", "display_name": "Constantine Georgiou", "link": "https://stackoverflow.com/users/1372577/constantine-georgiou"}, "edited": false, "score": 1, "creation_date": 1475744536, "post_id": 39887663, "comment_id": 67069527, "body": "So your suggestion is just eliminate the Critical Section locking? Don&#39;t think this will do anything, as entering the critical section only 10 times plus one (yes, even that <code>g_sum = 0;</code> command the OP put in his main thread should have been put in a critical section as well) isn&#39;t really a big overhead, it&#39;s not even measurable actually."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1475728911, "creation_date": 1475728911, "answer_id": 39887663, "question_id": 39878970, "link": "https://stackoverflow.com/questions/39878970/summing-numbers-in-parallel-takes-twice-as-long-as-the-serial-version/39887663#39887663", "title": "Summing numbers in parallel takes twice as long as the serial version", "body": "<p>You have multiple threads accessing a single shared piece of memory with a lock around it.  All that locking, unlocking, context switching, cache hitting, etc adds up in time.  A serial loop in a single thread doesn't have to worry about that.</p>\n\n<p>I just recently watched a video (I'll try to find it and post it here) that explains a similar setup to yours and shows how giving each thread its own dedicated memory to operate on, and then accumulating the calculated values after the threads have finished running, can offer some significant improvements in performance.</p>\n\n<p>Try something more like this:</p>\n\n<pre><code>const LONGLONG UPPER = 1000000000;\nconst int NUM = 10; // number of threads\n\nstruct threadInfo\n{\n    LONGLONG start;\n    LONGLONG sum;\n};\n\nDWORD WINAPI SumThread(PVOID pvParam) {\n    struct threadInfo* pInfo = (struct threadInfo*) pvParam;\n    LONGLONG i, sum = 0, x = pInfo-&gt;start;\n\n    x *= (UPPER / NUM);\n\n    for (i = x + 1; i &lt;= x + UPPER / NUM; ++i) {\n        sum += i;\n    }\n\n    pInfo-&gt;sum = sum;\n    return 0;\n}\n\nstruct threadInfo* pInfo = (struct threadInfo*) malloc (sizeof(struct threadInfo) * NUM);\n\nHANDLE* hThreads = (HANDLE*) malloc(sizeof(HANDLE) * NUM);\n\nfor (int i = 0; i &lt; NUM; ++i) {\n    pInfo[i].start = i;\n    hThreads[i] = CreateThread(NULL, 0, SumThread, &amp;pInfo[i], 0, NULL);\n}\n\nWaitForMultipleObjects(NUM, hThreads, TRUE, INFINITE);\n\nLONGLONG sum = 0;\nfor (int i = 0; i &lt; NUM; ++i) {\n    sum += pInfo[i].sum;\n    CloseHandle(hThreads[i]);\n}\n\nfree(pInfo);\nfree(hThreads);\n</code></pre>\n"}], "owner": {"reputation": 2725, "user_id": 1317981, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f1a8c0089b6bad61301334936fdc62b2?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/1317981/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1475728911, "creation_date": 1475683791, "question_id": 39878970, "link": "https://stackoverflow.com/questions/39878970/summing-numbers-in-parallel-takes-twice-as-long-as-the-serial-version", "title": "Summing numbers in parallel takes twice as long as the serial version", "body": "<p>I have a <code>const LONGLONG UPPER = 1000000000;</code> in my code, and I'm trying to calculate the sum of all the numbers from 1 to <code>UPPER</code> (yes, I know there's a formula for this).</p>\n\n<p>These are my globals:</p>\n\n<pre><code>const LONGLONG UPPER = 1000000000;\nconst int NUM = 10; // number of threads\nLONGLONG g_sum;\nCRITICAL_SECTION cs_sum;\n</code></pre>\n\n<p>This is my thread function:</p>\n\n<pre><code>DWORD WINAPI SumThread(PVOID pvParam) {\n    LONGLONG i;\n    LONGLONG sum = 0;\n    LONGLONG x = (LONGLONG)pvParam;\n\n    x = x * (UPPER / NUM);\n\n    for (i = x + 1; i &lt;= x + UPPER / NUM; i++) {\n        sum += i;\n    }\n\n    EnterCriticalSection(&amp;cs_sum);\n    g_sum += sum;\n    LeaveCriticalSection(&amp;cs_sum);\n\n    return 0;\n}\n</code></pre>\n\n<p>And this is the code I use to do the calculations:</p>\n\n<pre><code>HANDLE* hThreads = (HANDLE*)(malloc(sizeof(HANDLE) * NUM));\ng_sum = 0;\n\nInitializeCriticalSection(&amp;cs_sum);\nfor (i = 0; i &lt; NUM; i++) {\n    hThreads[i] = CreateThread(NULL, 0, SumThread, (PVOID)i, 0, NULL);\n}\n\nWaitForMultipleObjects(NUM, hThreads, TRUE, INFINITE);\nDeleteCriticalSection(&amp;cs_sum);\n</code></pre>\n\n<p>But I'm getting weird results: when I sum the numbers in a simple (serial) <code>for</code> loop, it's twice as fast as the multithreaded version. When I multiply <code>UPPER</code> by 10 and increase the number of threads to 40, the multithreaded version doesn't even stop (after 20 or so minutes). What's the reason for this?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1475683401, "post_id": 39878819, "comment_id": 67044176, "body": "Whats is a complete square number?  Some example output and input will help."}, {"owner": {"reputation": 1, "user_id": 5459196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e811669ca4bbb28d5fedca9bc49d3df2?s=128&d=identicon&r=PG&f=1", "display_name": "jhjh", "link": "https://stackoverflow.com/users/5459196/jhjh"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683518, "post_id": 39878819, "comment_id": 67044253, "body": "@NathanOliver complete square numbers (e.g. 4, 9, 16, 25 etc.)"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1475683622, "post_id": 39878819, "comment_id": 67044322, "body": "You don&#39;t need an array for this problem, so removing that, it appears your issue is not writing the code to determine whether <i>a</i> number is square or not. If you think we&#39;re writing that for you, think again."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1475683624, "post_id": 39878819, "comment_id": 67044323, "body": "Multiply each number in the array by itself and you&#39;ll get a square."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683633, "post_id": 39878819, "comment_id": 67044331, "body": "So a number that has a integer square root.  So what part of finding this do you not know how to solve?  Think about how would you do it on pencil and paper and try and translate that into code."}, {"owner": {"reputation": 103, "user_id": 1812685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70583e1866f3bb868721a952253f1f29?s=128&d=identicon&r=PG", "display_name": "codingTornado", "link": "https://stackoverflow.com/users/1812685/codingtornado"}, "edited": false, "score": 0, "creation_date": 1475684032, "post_id": 39878819, "comment_id": 67044576, "body": "Maybe you should reformat the question. It&#39;s not clear whether you need to find the squares <b>in</b> the provided numbers or find the squares <b>for</b> the provided numbers."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 1, "last_activity_date": 1475683693, "creation_date": 1475683693, "answer_id": 39878938, "question_id": 39878819, "link": "https://stackoverflow.com/questions/39878819/c-printing-the-complete-square-numbers-in-an-array/39878938#39878938", "title": "c++ printing the complete square numbers in an array", "body": "<p>Here's the algorithm:  </p>\n\n<pre><code>For each slot in the array do:\n  if value in the slot is complete square number, print it.\n</code></pre>\n\n<p>The difficult part is determining a perfect square.<br>\nHint:  use <code>sqrt</code> (square root) function.  </p>\n"}], "owner": {"reputation": 1, "user_id": 5459196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e811669ca4bbb28d5fedca9bc49d3df2?s=128&d=identicon&r=PG&f=1", "display_name": "jhjh", "link": "https://stackoverflow.com/users/5459196/jhjh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1020, "favorite_count": 0, "closed_date": 1475684238, "answer_count": 1, "score": -4, "last_activity_date": 1475683693, "creation_date": 1475683338, "question_id": 39878819, "link": "https://stackoverflow.com/questions/39878819/c-printing-the-complete-square-numbers-in-an-array", "closed_reason": "Needs details or clarity", "title": "c++ printing the complete square numbers in an array", "body": "<p>How can i print all complete square numbers available in the array</p>\n\n<p>this is my array:</p>\n\n<pre><code>int main()\n{\n\nint array[6];\n\ncout&lt;&lt;\"Enter 6 #'s: \"&lt;&lt;endl;\nfor(int i=0; i&lt;6; i++) {\n    cin&gt;&gt;array[i];\n}\n</code></pre>\n"}, {"tags": ["c++", "eclipse", "eclipse-cdt"], "answers": [{"tags": [], "owner": {"reputation": 44207, "user_id": 141719, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5026f7977fda423dc990cc74b2ad4c9d?s=128&d=identicon&r=PG&f=1", "display_name": "HighCommander4", "link": "https://stackoverflow.com/users/141719/highcommander4"}, "is_accepted": true, "score": 1, "last_activity_date": 1481780621, "creation_date": 1481780621, "answer_id": 41157201, "question_id": 39878709, "link": "https://stackoverflow.com/questions/39878709/eclipse-c-how-to-go-to-definition-of-type-of-highlighted-variable-directly/41157201#41157201", "title": "Eclipse C++ - how to go to definition OF TYPE of highlighted variable DIRECTLY", "body": "<p>No, there is not.</p>\n\n<p>Consider <a href=\"https://bugs.eclipse.org/bugs/enter_bug.cgi?product=CDT\" rel=\"nofollow noreferrer\">filing an issue</a> to have one added.</p>\n"}], "owner": {"reputation": 4060, "user_id": 4784683, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/baa572872b7ec1fc6c1a52d1230c4872?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4784683/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 41157201, "answer_count": 1, "score": 0, "last_activity_date": 1481780621, "creation_date": 1475683058, "question_id": 39878709, "link": "https://stackoverflow.com/questions/39878709/eclipse-c-how-to-go-to-definition-of-type-of-highlighted-variable-directly", "title": "Eclipse C++ - how to go to definition OF TYPE of highlighted variable DIRECTLY", "body": "<p>When you highlight a variable and press <code>F3 (Go To Declaration)</code>, it takes you to the declaration of the variable . . . and then you can highlight the type and press <code>F3 (Go To Declaration)</code> again to see the type definition.</p>\n\n<p>I want to be able to highlight a variable and go directly to its <strong>type</strong> definition.</p>\n\n<p>Is there a shortcut like that?</p>\n"}, {"tags": ["c++", "pointers", "casting", "polymorphism"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1475683292, "post_id": 39878655, "comment_id": 67044111, "body": "<code>Vero vero; platform = &amp;vero;</code> The pointer is dangling as soon the <code>if()</code> block is left."}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475683304, "post_id": 39878655, "comment_id": 67044118, "body": "In class Vero  and class Pionner define  setmsg() as virtual also,so that abstract member function setmsg()  is overided"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475684112, "post_id": 39878655, "comment_id": 67044630, "body": "Factory method is another way to solve the type issue by registering the inherited objects and preassigning the corresponding member functions"}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 5174940, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dc0287827ff9faa585f593b46fa541cd?s=128&d=identicon&r=PG&f=1", "display_name": "Randerson", "link": "https://stackoverflow.com/users/5174940/randerson"}, "edited": false, "score": 0, "creation_date": 1475683801, "post_id": 39878733, "comment_id": 67044434, "body": "The original code is a little bit different, in fact the platform variables is member variable of other class. Anyways, do you have any suggestion on how can I solve this problem?"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 673, "user_id": 5174940, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dc0287827ff9faa585f593b46fa541cd?s=128&d=identicon&r=PG&f=1", "display_name": "Randerson", "link": "https://stackoverflow.com/users/5174940/randerson"}, "edited": false, "score": 0, "creation_date": 1475684087, "post_id": 39878733, "comment_id": 67044614, "body": "@Randerson templated <code>setmsg</code> in the base class, common base class or interface for your message types."}], "tags": [], "owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "is_accepted": false, "score": 1, "last_activity_date": 1475851645, "last_edit_date": 1475851645, "creation_date": 1475683112, "answer_id": 39878733, "question_id": 39878655, "link": "https://stackoverflow.com/questions/39878655/get-access-from-base-class-pointer-to-two-derived-member-variables-that-has-diff/39878733#39878733", "title": "Get access from base class pointer to two derived member variables that has different types.", "body": "<p>If <code>m_msg</code> can be of different types in derived classes, it cannot exist in the base class. (Or rather, it would be hidden by the <code>m_msg</code> declared in the derived classes.)</p>\n\n<p>Even if it did, the compiler wouldn't be able to determine its type at compile time, so it would have no idea what to do with the statement</p>\n\n<pre><code>platform-&gt;m_msg; //DOES NOT WOTK\n</code></pre>\n\n<p>Templates can be used to address this, as you said. <code>void</code> pointers also work but, given their lack of type safety, I can't recommend them unless an alternate approach will not work.</p>\n\n<p>Also, <code>m_</code> is used to indicate member variables that are typically private, so you shouldn't really be using it in this manner, anyway.</p>\n\n<p>Also, this block:</p>\n\n<pre><code>Platform* platform;\nif(which_car.compare(\"vero\")==0){\n    Vero vero; platform = &amp;vero;\n    platform = static_cast&lt;Vero*&gt;(platform);\n}\nelse{\n    Pionner pionner; platform = &amp;pionner;\n    platform = static_cast&lt;Pionner*&gt;(platform);   \n}\n</code></pre>\n\n<p>Is a problem and should be raising some warnings. Specifically, in a block like this:</p>\n\n<pre><code>{\n    Vero vero; platform = &amp;vero;\n    platform = static_cast&lt;Vero*&gt;(platform);\n}\n</code></pre>\n\n<p><code>{...}</code> define a local scope.</p>\n\n<p>You're creating a new <code>Vero</code>, assigning the address of it to <code>platform</code>, then <code>vero</code> is freed at the end of the block leaving <code>platform</code> as a dangling pointer. (See the <a href=\"https://en.wikipedia.org/wiki/Dangling_pointer#Cause_of_dangling_pointers\" rel=\"nofollow\">Wiki article on dangling pointers</a> for more information.)</p>\n\n<p>Also, the statement</p>\n\n<pre><code>platform = static_cast&lt;Vero*&gt;(platform);\n</code></pre>\n\n<p>Why are you assigning platform to itself? This is useless.</p>\n"}], "owner": {"reputation": 673, "user_id": 5174940, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/dc0287827ff9faa585f593b46fa541cd?s=128&d=identicon&r=PG&f=1", "display_name": "Randerson", "link": "https://stackoverflow.com/users/5174940/randerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1475851645, "creation_date": 1475682892, "question_id": 39878655, "link": "https://stackoverflow.com/questions/39878655/get-access-from-base-class-pointer-to-two-derived-member-variables-that-has-diff", "title": "Get access from base class pointer to two derived member variables that has different types.", "body": "<p>Here is the problem: I Have a source code that if filled by if/else statements that aims to execute the same instructions but in data with different type. I do not like this, and I would like to create an abstraction for this different data type in which manner that I can set, before, the correctly data type, and then execute the same instructions. The idea is to remove the whole if/else statements that are polluting the code. Well, I did a lot a search and what seems to be the solution of my problem was to work with polymorphism. So, here we are. Above there is the header of the classes that I created to do the polymorphism. The this one, <strong>Platform</strong> is base class and the other two, <strong>Vero</strong> and <strong>Pionner</strong> are the derived ones. </p>\n\n<pre><code>#ifndef VEHICLE_H\n#define VEHICLE_H\n\n#include &lt;ros/ros.h&gt;\n#include &lt;geometry_msgs/Twist.h&gt;\n#include &lt;ransac_project/CarCommand.h&gt;\n\nclass Platform{\npublic:\n    virtual void setmsg(const double &amp;, const double &amp;) = 0;\n    //X m_msg; //Some king of genetic type\n};\n\nclass Vero: public Platform{\npublic:\n    ransac_project::CarCommand m_msg;\n\n    Vero();\n    void setmsg(const double &amp;velocity, const double &amp;steering);\n};\n\nclass Pionner: public Platform{\npublic:\n    geometry_msgs::Twist m_msg;\n\n    Pionner();\n    void setmsg(const double &amp;linear_vel, const double &amp;angular_vel);\n};\n#endif /* VEHICLE_H */\n</code></pre>\n\n<p>In the main, I have something like this:</p>\n\n<pre><code>Platform* platform;\nif(which_car.compare(\"vero\")==0){\n    Vero vero; platform = &amp;vero;\n    platform = static_cast&lt;Vero*&gt;(platform);\n}\nelse{\n    Pionner pionner; platform = &amp;pionner;\n    platform = static_cast&lt;Pionner*&gt;(platform);   \n}\n</code></pre>\n\n<p>So far, so good. But, after, in somewhere else there is:</p>\n\n<pre><code>int a=0;\nint b=0;\nplatform-&gt;setmsg(a,b); //WORKS\nplatform-&gt;m_msg; //DOES NOT WOTK\n</code></pre>\n\n<p>Well, the last statement does not work beacuse the base class does not have the member variable m_msg, and I can not create it, because its type varies in the derived classes. I read also about template and void pointer but I could not come with a solution. In fact with void pointer I could do something like this:</p>\n\n<pre><code>void* platform;\nif(which_car.compare(\"vero\")==0){\n    Vero vero; platform = &amp;vero;\n}\nelse{\n    Pionner pionner; platform = &amp;pionner;\n}\nstatic_cast&lt;Vero*&gt;(platform)-&gt;m_msg;\n</code></pre>\n\n<p>But this, in fact, would not solve my problem since I explicitly pointing out the type in the cast process. </p>\n\n<p>Any easy solution for this problem? Any other approach for this problem is welcome.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "datetime", "boost", "timezone"], "comments": [{"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 1, "creation_date": 1475685227, "post_id": 39878547, "comment_id": 67045387, "body": "Boost stinks at this.  Have you considered <a href=\"https://github.com/HowardHinnant/date\" rel=\"nofollow noreferrer\">github.com/HowardHinnant/date</a>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "edited": false, "score": 1, "creation_date": 1475751722, "post_id": 39880717, "comment_id": 67074158, "body": "Thank you. That is exactly what I was looking for. But why do I have to download the database? Shouldn&#39;t that be the task of the operating system? I really need an offline solution."}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "edited": false, "score": 0, "creation_date": 1475767499, "post_id": 39880717, "comment_id": 67085532, "body": "Once the database is downloaded, the library will work offline.  However the database will become out-of-date within a couple of months (that&#39;s how often the database is updated).  You can choose to keep it up to date or not."}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 3, "last_activity_date": 1475690113, "creation_date": 1475690113, "answer_id": 39880717, "question_id": 39878547, "link": "https://stackoverflow.com/questions/39878547/convert-boost-ptime-from-local-time-to-utc/39880717#39880717", "title": "Convert boost ptime from local time to UTC", "body": "<p>Fwiw, from this <a href=\"https://howardhinnant.github.io/date/tz.html\" rel=\"nofollow\">free, open source library</a>:</p>\n\n<pre><code>#include \"chrono_io.h\"\n#include \"tz.h\"\n#include &lt;iostream&gt;\n\nint\nmain()\n{\n    using namespace date;\n    using namespace std::chrono;\n    auto az = make_zoned(\"Europe/Madrid\",\n                         local_days{2016_y/oct/5} + 17h + 36min + 27s + 701162us);\n    std::cout &lt;&lt; \"Zone \" &lt;&lt; az.get_time_zone()-&gt;name() &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"local_date_time: \" &lt;&lt; az &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"local_time:      \" &lt;&lt; az.get_local_time() &lt;&lt; '\\n';\n    std::cout &lt;&lt; \"utc_time:        \" &lt;&lt; az.get_sys_time() &lt;&lt; '\\n';\n    std::cout &lt;&lt; floor&lt;seconds&gt;(az.get_sys_time()).time_since_epoch() &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>And the output is:</p>\n\n<pre><code>Zone Europe/Madrid\nlocal_date_time: 2016-10-05 17:36:27.701162 CEST\nlocal_time:      2016-10-05 17:36:27.701162\nutc_time:        2016-10-05 15:36:27.701162\n1475681787s\n</code></pre>\n\n<p>One could also construct the <code>zoned_time</code> using <code>current_zone()</code> like this:</p>\n\n<pre><code>    auto az = make_zoned(current_zone(),\n                         local_days{2016_y/oct/5} + 17h + 36min + 27s + 701162us);\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>    auto az = make_zoned(current_zone(), system_clock::now());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "is_accepted": false, "score": 0, "last_activity_date": 1475752308, "creation_date": 1475752308, "answer_id": 39894442, "question_id": 39878547, "link": "https://stackoverflow.com/questions/39878547/convert-boost-ptime-from-local-time-to-utc/39894442#39894442", "title": "Convert boost ptime from local time to UTC", "body": "<p>Meanwhile, I have found a simple way to detect the UTC Offset in Linux. It seems like <code>localtime</code> expects a not null timestamp to calculate the current timezone and offset. This way it works:</p>\n\n<pre><code>time_t convertLocalPtimeToTimestamp(const boost::posix_time::ptime&amp; pt)\n{\n        time_t tt = to_time_t(pt);\n        struct tm* local = localtime(&amp;tt);\n        LOG(debug) &lt;&lt; \"Timezone: \" &lt;&lt; local-&gt;tm_zone &lt;&lt; \" Offset: \" &lt;&lt; local-&gt;tm_gmtoff;\n        return (tt - local-&gt;tm_gmtoff);\n}\n</code></pre>\n\n<p>I know, there is a flaw, because I get the current timezone from the local time, so there will be an offset within the hour around the daylight saving time change. But for my purpose, that's not an issue.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "edited": false, "score": 0, "creation_date": 1490090563, "post_id": 42869307, "comment_id": 72945015, "body": "Interesting approach @Zo_. Although I think you can remove the part where you create a new <code>time_zone_ptr</code>. I believe it is the same to <code>return to_time_t(pt - (lp_time - p_time));</code>."}, {"owner": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "edited": false, "score": 0, "creation_date": 1490091692, "post_id": 42869307, "comment_id": 72945915, "body": "The big diffenrence to my function is, that it takes the current timezone (and daylight saving status) from when you run the function. While my function gets the timezone from the <code>ptime</code> of the function&#39;s argument."}], "tags": [], "owner": {"reputation": 51, "user_id": 4500408, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-huFVnQIDSOg/AAAAAAAAAAI/AAAAAAAAAGI/oybNtAFjgFc/photo.jpg?sz=128", "display_name": "Zo_", "link": "https://stackoverflow.com/users/4500408/zo"}, "is_accepted": false, "score": 4, "last_activity_date": 1489799113, "creation_date": 1489799113, "answer_id": 42869307, "question_id": 39878547, "link": "https://stackoverflow.com/questions/39878547/convert-boost-ptime-from-local-time-to-utc/42869307#42869307", "title": "Convert boost ptime from local time to UTC", "body": "<p>Here's my Boost implementation of the problem to solve.</p>\n\n<p>I did not want to use another third party library, and I had problems in Windows with jgaida's answer (tm_zone and tm_gmtoff are not members of tm).</p>\n\n<p>I tested this code by changing the time zone in my Windows 10 PC several times. </p>\n\n<p>The edge cases \"(UTC-12:00) International Date Line West\" and \"(UTC+14:00) Kiritimati Island)\" were also tested and the results were successful.</p>\n\n<pre><code>time_t convertLocalPtimeToTimestamp (const boost::posix_time::ptime&amp; pt)\n{\n   using namespace boost::posix_time;\n   using namespace boost::local_time;\n\n   _tzset (); // This is needed if the time zone changes after the program starts.\n\n   // Grab copies of the current time in local and UTC form.\n   auto p_time = microsec_clock::universal_time (); // UTC.\n   auto lp_time = boost::date_time::c_local_adjustor&lt;ptime&gt;::utc_to_local (p_time);\n\n   // Calculate the difference between the UTC and local time and put it in a string.\n   // This will yield \"-07:00:00\" for PST and \"-08:00:00\" for PDT.\n   auto time_diff = to_simple_string (lp_time - p_time);\n\n   // Convert the ptime to a local_date_time object using the local time zone.\n   // We will create the time zone with the time difference string generated above.\n   local_date_time local_time (p_time, time_zone_ptr (new posix_time_zone (time_diff)));\n\n   // Calculate the difference in milliseconds between the UTC and local time.\n   auto time_t_diff = to_time_t (p_time) - to_time_t (local_time.local_time ());\n\n   // Return the given time in ms plus the time_t difference (to get the UTC ms).\n   return to_time_t (pt) + time_t_diff;\n}\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 3280300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IeoNp2v2_9g/AAAAAAAAAAI/AAAAAAAAAAc/b0TrNPvwiYo/photo.jpg?sz=128", "display_name": "jgaida", "link": "https://stackoverflow.com/users/3280300/jgaida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5618, "favorite_count": 2, "accepted_answer_id": 39880717, "answer_count": 3, "score": 4, "last_activity_date": 1489799113, "creation_date": 1475682577, "question_id": 39878547, "link": "https://stackoverflow.com/questions/39878547/convert-boost-ptime-from-local-time-to-utc", "title": "Convert boost ptime from local time to UTC", "body": "<p>I have a <code>boost::posix_time::ptime</code> object (Boost v1.60) that has date and time information in the system's timezone. I need to convert this to a unix timestamp in UTC.</p>\n\n<pre><code>time_t convertLocalPtimeToTimestamp(const boost::posix_time::ptime&amp; pt)\n{\n        using namespace boost::local_time;\n        static const time_t t_null = 0;\n        static struct tm* tm_local = localtime(&amp;t_null);\n        static time_zone_ptr zone(new posix_time_zone(tm_local-&gt;tm_zone));\n        LOG(debug) &lt;&lt; \"Zone \" &lt;&lt; zone-&gt;to_posix_string();\n\n        local_date_time az(pt.date(), pt.time_of_day(), zone, local_date_time::EXCEPTION_ON_ERROR);\n        LOG(debug) &lt;&lt; \"local_date_time: \" &lt;&lt; az;\n        LOG(debug) &lt;&lt; \"local_time: \" &lt;&lt; az.local_time();\n        LOG(debug) &lt;&lt; \"utc_time: \" &lt;&lt; az.utc_time();\n        struct tm t = to_tm(az);\n        time_t ts = mktime(&amp;t);\n\n        return ts;\n}\n</code></pre>\n\n<p>The result in my case (Europe/Madrid) is:</p>\n\n<pre><code>Zone CET+00\nlocal_date_time: 2016-Oct-05 17:36:27.701162 CET\nlocal_time: 2016-Oct-05 17:36:27.701162\nutc_time: 2016-Oct-05 17:36:27.701162\n1475685387\n</code></pre>\n\n<p>There are various errors in this result:</p>\n\n<ul>\n<li>Timezone should be detected as daylight saving: CEST (+0200) not CET (+0100)</li>\n<li>Even without DST detection, utc_time should be different from local_time.</li>\n<li>Finally the timestamp should represent UTC time, not local time.</li>\n</ul>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 2, "creation_date": 1475682240, "post_id": 39878369, "comment_id": 67043421, "body": "Hmm, prints 78.13 with visual studio, but prints 78.12 <a href=\"http://coliru.stacked-crooked.com/a/2e9ab9c875d15655\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1475682262, "post_id": 39878369, "comment_id": 67043437, "body": "AFAIK the round up/down behavior is implementation defined.  If that is the case you will have to manually round it yourself like they do <a href=\"http://stackoverflow.com/questions/1343890/rounding-number-to-2-decimal-places-in-c\">here</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user820304"}, "edited": false, "score": 1, "creation_date": 1475682268, "post_id": 39878369, "comment_id": 67043441, "body": "I would imagine <a href=\"http://stackoverflow.com/questions/11208971/round-a-float-to-a-given-precision\">this question</a> to be a better duplicate..."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1475682428, "post_id": 39878369, "comment_id": 67043562, "body": "Note that 78.125 can be represented <i>exactly</i> in IEEE754 floating point."}, {"owner": {"reputation": 687, "user_id": 6750410, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a0c103554600249d2addcc5dc62e1356?s=128&d=identicon&r=PG&f=1", "display_name": "Zhuoran He", "link": "https://stackoverflow.com/users/6750410/zhuoran-he"}, "edited": false, "score": 0, "creation_date": 1475682550, "post_id": 39878369, "comment_id": 67043640, "body": "Yes, it can be represented exactly. But if the compiler uses a general algorithm to do the conversion, it may use the imprecise binary forms of 0.1, 0.01 and 0.001 to multiply 1, 2 and 5 and add things up to get some error. Is that possible?"}, {"owner": {"reputation": 1243, "user_id": 1129815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lROzF.jpg?s=128&g=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/1129815/steeve"}, "edited": false, "score": 2, "creation_date": 1475682736, "post_id": 39878369, "comment_id": 67043769, "body": "You could also do out = round(x * 100) / 100; before outputting the number."}], "answers": [{"comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1475683402, "post_id": 39878561, "comment_id": 67044178, "body": "Example, please? I can&#39;t get this to work <a href=\"http://coliru.stacked-crooked.com/a/1384edecedc21010\" rel=\"nofollow noreferrer\">here</a>."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 3, "last_activity_date": 1475682607, "creation_date": 1475682607, "answer_id": 39878561, "question_id": 39878369, "link": "https://stackoverflow.com/questions/39878369/how-to-print-out-the-number-78-125-with-two-digits-after-the-decimal-point-as-78/39878561#39878561", "title": "How to print out the number 78.125 with two digits after the decimal point as 78.13 in C++", "body": "<p>The rounding behaviour of <code>std::cout</code> and <code>std::setprecision</code> is <em>implementation defined</em>.</p>\n\n<p>C++11 clears up this mess by supplying a function called <code>std::fesetround</code> which you can call using</p>\n\n<p><code>std::fesetround(FE_TONEAREST);</code></p>\n\n<p>before your <code>std::cout</code> statement. See <a href=\"http://en.cppreference.com/w/cpp/numeric/fenv/feround\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/numeric/fenv/feround</a> for more details.</p>\n"}], "owner": {"reputation": 95, "user_id": 6558575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-hrcZyocPgkg/AAAAAAAAAAI/AAAAAAAAABg/xOBBF1Evd50/photo.jpg?sz=128", "display_name": "Cong Tran An", "link": "https://stackoverflow.com/users/6558575/cong-tran-an"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 1, "accepted_answer_id": 39878561, "answer_count": 1, "score": 2, "last_activity_date": 1475682607, "creation_date": 1475682052, "question_id": 39878369, "link": "https://stackoverflow.com/questions/39878369/how-to-print-out-the-number-78-125-with-two-digits-after-the-decimal-point-as-78", "title": "How to print out the number 78.125 with two digits after the decimal point as 78.13 in C++", "body": "<p>My assignment involve printing out double numbers with 2 digits after the decimal point. In one of the example tests, I got the output is 78.125. My teacher taught me to use the setprecision function to print out the number</p>\n\n<pre><code>#include &lt;iomanip&gt; \n...some code\ncout &lt;&lt; fixed &lt;&lt; setprecision(2);\ncout &lt;&lt; x /*the number*/\n</code></pre>\n\n<p>Normally this would do just fine. However the example output is 78.13 while the output of my code is 78.12. I can't figure out anyway to do this.</p>\n"}, {"tags": ["c++", "qt", "keypress", "qwidget", "qkeyevent"], "answers": [{"comments": [{"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1475687146, "post_id": 39878557, "comment_id": 67046465, "body": "I&#39;d suggest <code>override</code> rather than <code>Q_DECL_OVERRIDE</code>, Qt 5.7 doesn&#39;t build on compilers that don&#39;t support that keyword. I used to suggest <code>Q_DECL_OVERRIDE</code> prior to Qt 5.7, of course, but now it&#39;s unnecessary."}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1475701397, "post_id": 39878557, "comment_id": 67054238, "body": "@KubaOber good point. In general <code>Q_DECL_OVERRIDE</code> is the safe bet for older versions too :) since he didn&#39;t specify the version of Qt I went with the safe bet but adjusted it to mention both ways now."}, {"owner": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "edited": false, "score": 0, "creation_date": 1475760640, "post_id": 39878557, "comment_id": 67080368, "body": "Oh...what if I can&#39;t include this library because apparently it doesn&#39;t exist?"}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "edited": false, "score": 0, "creation_date": 1475761081, "post_id": 39878557, "comment_id": 67080664, "body": "@Ana are you using QtCreator or Visual Studio plugin / and which version if you&#39;re using QtCreator?"}, {"owner": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "edited": false, "score": 0, "creation_date": 1475772882, "post_id": 39878557, "comment_id": 67088723, "body": "@deW1 I am using Visual Studio plugin, and I have the Qt 5.6 version"}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "edited": false, "score": 0, "creation_date": 1475774619, "post_id": 39878557, "comment_id": 67089642, "body": "@Ana if you write the include as I did and run it, does the error stay?"}, {"owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "reply_to_user": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "edited": false, "score": 0, "creation_date": 1475850491, "post_id": 39878557, "comment_id": 67122986, "body": "@Ana for completion reasons consider accepting an answer if you feel like it solved your issue in a to you understandable matter. ( you do that by ticking the arrow on the left side of an answer )"}], "tags": [], "owner": {"reputation": 5161, "user_id": 3065406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a6697e5c2ff5cfdf8f196fe42a309598?s=128&d=identicon&r=PG", "display_name": "deW1", "link": "https://stackoverflow.com/users/3065406/dew1"}, "is_accepted": true, "score": 1, "last_activity_date": 1475701221, "last_edit_date": 1475701221, "creation_date": 1475682598, "answer_id": 39878557, "question_id": 39878321, "link": "https://stackoverflow.com/questions/39878321/qt-keypressevent-error/39878557#39878557", "title": "Qt keyPressEvent Error", "body": "<p>You have to include</p>\n\n<p><code>#include &lt;QKeyEvent&gt;</code></p>\n\n<p>then it should work as intended.</p>\n\n<hr>\n\n<p>Apart from that you should use the <code>Q_DECL_OVERRIDE</code> macro like:</p>\n\n<pre><code>protected:    \n    virtual void keyPressEvent(QKeyEvent *event) Q_DECL_OVERRIDE;\n</code></pre>\n\n<hr>\n\n<p>As @KubaOber mentioned, if you use a C++ Compiler supporting >=C++11 either by default or by you activating it with <code>CONFIG += c++11</code> then you can use the <code>override</code> keyword instead.</p>\n"}], "owner": {"reputation": 3, "user_id": 4783990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/614586982eddfa2d33f50a4aca9c4993?s=128&d=identicon&r=PG&f=1", "display_name": "Ana", "link": "https://stackoverflow.com/users/4783990/ana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 39878557, "answer_count": 1, "score": 0, "last_activity_date": 1475701221, "creation_date": 1475681909, "last_edit_date": 1475682347, "question_id": 39878321, "link": "https://stackoverflow.com/questions/39878321/qt-keypressevent-error", "title": "Qt keyPressEvent Error", "body": "<p>I wrote this piece of code, but I get this error:</p>\n\n<blockquote>\n  <p>\"left of '->key' must point to class/struct/union/generic type\". </p>\n</blockquote>\n\n<p>Considering that GUI is a class derived from the <code>QWidget</code> class, how can I properly catch the pressing of a key?</p>\n\n<pre><code>void GUI::keyPressEvent(QKeyEvent *event)\n{\n    if (event-&gt;key()==Qt::Key_Up) {\n        //do something\n    }\n}\n</code></pre>\n\n<p>The <code>keyPressEvent</code> is declared like this:</p>\n\n<pre><code>protected:    \n    virtual void keyPressEvent(QKeyEvent *event);\n</code></pre>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 4, "creation_date": 1475682315, "post_id": 39878294, "comment_id": 67043476, "body": "And you don&#39;t have any assignment to <code>isDenied</code> anywhere? What about variables surrounding <code>isDenied</code>? Are there arrays? Do you maybe write out of bounds of some array? Use a pointer that isn&#39;t properly initialized?"}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1475682418, "post_id": 39878294, "comment_id": 67043550, "body": "Negative.  What you&#39;re looking at is what you see.  I mean there is much more code, but i&#39;ve searched many times through all classes and <code>isDenied</code> is not assigned anywhere else during that function.  And besides that, when i set it to true, the value is <code>1</code> anyway, not 54..."}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1475682438, "post_id": 39878294, "comment_id": 67043571, "body": "Two possible reasons: 1) One of the functions that gets called changes isDenied. I mean, if it never gets changed anywhere ever, then why have it in the first place? 2) As Joachim says, improperly initialized array/pointer, possibly from the reading function..."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475682511, "post_id": 39878294, "comment_id": 67043621, "body": "What do you mean by improperly initialized pointer?  Could you elaborate where you are going with that"}, {"owner": {"reputation": 4375, "user_id": 381179, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/ebb3d1f5ca7ad690f67bd5e7d2f7fd77?s=128&d=identicon&r=PG", "display_name": "Lagerbaer", "link": "https://stackoverflow.com/users/381179/lagerbaer"}, "edited": false, "score": 0, "creation_date": 1475682587, "post_id": 39878294, "comment_id": 67043663, "body": "A pointer is a variable whose content is an address in memory, they pop up a lot when you work with hardware. The problem is that if you don&#39;t use them correctly, you can easily mess up with other memory parts of your  program and, e.g., overwrite variables you had declared elsewhere."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 1, "creation_date": 1475682634, "post_id": 39878294, "comment_id": 67043698, "body": "Do you have any pointers? Where do you make them point? How do you initialize them? You don&#39;t use the pointers before they are initialized? Do you use any array-indexing, with arrays or with pointers? Do you possibly go out of bounds there?"}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475682698, "post_id": 39878294, "comment_id": 67043737, "body": "I added to the questions showing the declarations surrounding <code>isDenied</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1475682924, "post_id": 39878294, "comment_id": 67043871, "body": "Check your code an see if there is anywhere you could access <code>inputCard[-1]</code>.  Also if you are always getting 54 then try and see if there is an assignment to 54 somewhere."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1475683006, "post_id": 39878294, "comment_id": 67043927, "body": "@TheValyreanGroup <i>As you can see i am not changing the value of this boolean ANYWHERE</i> -- Two words -- <b>buffer overrun</b>.  When you see variables change mysteriously, this is an indication that you are stomping on those variables due to overrunning an array&#39;s boundaries or similar issue."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475683122, "post_id": 39878294, "comment_id": 67044001, "body": "To clarify, i DO change the value, but no where in the snippets i provided. And somewhere in this is where the problem has to lie if you look at the serial output.  The only function called at the time that bool changes values, is <code>getCardId()</code>, and that is one line of code that does not contain <code>isDenied</code>."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683166, "post_id": 39878294, "comment_id": 67044025, "body": "@NathanOliver No, there is no assignment to 54 nor is there reference to <code>inputCard[-1]</code>"}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475683318, "post_id": 39878294, "comment_id": 67044133, "body": "@PaulMcKenzie What is the best way to debug that and trace down where the problem may lie?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683324, "post_id": 39878294, "comment_id": 67044134, "body": "@TheValyreanGroup If you have UB in your code it does not matter.  You need to make sure there is no UB,  Better yet make a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and see if you can replicate the behavior.  If you cannot then you know the problem is elsewhere.  You may want to see: <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">ericlippert.com/2014/03/05/how-to-debug-small-programs</a>"}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683392, "post_id": 39878294, "comment_id": 67044171, "body": "@NathanOliver See the addition i just made to the end of this question.  How is any of that possible?  And what is UB?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1475683420, "post_id": 39878294, "comment_id": 67044186, "body": "@TheValyreanGroup -- The best way to debug it is to set a watch point that halts your program when that variable changes.  Any good debugger has such facilities."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1475683442, "post_id": 39878294, "comment_id": 67044198, "body": "@TheValyreanGroup UB == Undefined behavior.  Once you code undefined behavior all bets are off on what the program will do."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 1, "creation_date": 1475683532, "post_id": 39878294, "comment_id": 67044259, "body": "I haven&#39;t done a lot of work with arduinos, but debuggers often have the ability to set breakpoints on a change of data at an address. If were to set a breakpoint on the variable that is mysteriously changing, you would be able to find the location"}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475683629, "post_id": 39878294, "comment_id": 67044328, "body": "Yes, i&#39;m familiar with breakpoints and debugging in Visual Studio and Xcode, however, the Arduino IDE does not have any debugging tools like that.  It compiles and uploads this code to the Arduino and it&#39;s gone, the only thing attached to it is the serial monitor."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475683703, "post_id": 39878294, "comment_id": 67044373, "body": "Writing independently testable code has many virtues. This is one of them..."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475683747, "post_id": 39878294, "comment_id": 67044405, "body": "@TheValyreanGroup - You can debug remotely in Visual Studio (code on remote machine, debug on develepment machine).  Second, if you are familiar with debugging, the watchpoint is the way to solve your issue.  So this really boils down to getting the Visual Studio debugging set up for your environment."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475683862, "post_id": 39878294, "comment_id": 67044473, "body": "Adding this to the beginning of the <code>loop</code> function solves the issue, and makes zero sense to me... i&#39;m literally not doing anything except for referencing the variable. <code>if (isDenied == 54){ Serial.println(&quot;IT&#39;S 54.  BREAK CODE&quot;); delay(10000000);}</code>  And by &quot;solves&quot; i mean it does not change the value unexpectedly anymore, it stays at 0."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475683975, "post_id": 39878294, "comment_id": 67044550, "body": "@TheValyreanGroup --Nooooo.  Don&#39;t change the code!  You are just moving the bug to another part of the code.  Leave the code alone and actually fix the issue."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475684041, "post_id": 39878294, "comment_id": 67044581, "body": "@PaulMcKenzie What do you mean?"}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475684042, "post_id": 39878294, "comment_id": 67044585, "body": "@TheValyreanGroup That doesn&#39;t really surprise me. A program with undefined behavior often behaves (strangely enough) in undefined ways."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1475684201, "post_id": 39878294, "comment_id": 67044690, "body": "@TheValyreanGroup -- You are adding code that does basically nothing, and then things magically &quot;work&quot;.  This is an indication that your code is the realm of undefined behavior.  Remove the code you just wrote, bring back the error, and actually fix the problem by identifying <i>why</i> the issue occurs.  Otherwise you will be running a program that has a hidden bug that could arise at any time, either when the program runs, or when you add or remove code and rebuild your application."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475684269, "post_id": 39878294, "comment_id": 67044729, "body": "@PaulMcKenzie Yes i agree, i am just trying different things to diagnose the issue and hopefully pinpoint the issue.  I will just try and get this attached to a debugger and go from there.  Thanks for the help guys."}, {"owner": {"reputation": 2721, "user_id": 880984, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/65f4fa9056d1884b419463410e92c5be?s=128&d=identicon&r=PG", "display_name": "Tim Seguine", "link": "https://stackoverflow.com/users/880984/tim-seguine"}, "edited": false, "score": 0, "creation_date": 1475684452, "post_id": 39878294, "comment_id": 67044847, "body": "If you can&#39;t get it to run in a debugger, your only real option is to comb the code looking for &quot;bad stuff&quot;, so I hope you can get remote debugging working."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475687998, "post_id": 39878294, "comment_id": 67046917, "body": "I found the issue.  Can anyone answer these questions so i might learn something from this? 1) Can anyone explain why the value i was seeing in the boolean was 54?    2) Why is that the <code>isDenied</code> variable was being changed instead of another one?  3) Why did declaring <code>char cardID[] = &quot;&quot;;</code>&quot; not work the same as statically setting the buffer?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user820304"}, "edited": false, "score": 0, "creation_date": 1475687818, "post_id": 39880038, "comment_id": 67046842, "body": "Answers are not an appropriate place to ask further questions. Consider appending these additional questions to your existing question, or opening up more questions when appropriate."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1475699614, "post_id": 39880038, "comment_id": 67053392, "body": "@TheValyreanGroup -- If you&#39;re going to use char arrays to be used as buffers for <code>sprintf</code>, the last thing you want to do is try and compute, down to the last byte, how big to make the array.  That method is doomed for failure at some point.  Make the array bigger than what you would have expected (and even that isn&#39;t a great solution).  The best solution would be to use <code>std::ostringstream</code>."}, {"owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "edited": false, "score": 0, "creation_date": 1475699959, "post_id": 39880038, "comment_id": 67053578, "body": "This is Arduino, not complete C++ so I don&#39;t have access to all the standard C operators."}], "tags": [], "owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "is_accepted": false, "score": 0, "last_activity_date": 1475687969, "last_edit_date": 1475687969, "creation_date": 1475687580, "answer_id": 39880038, "question_id": 39878294, "link": "https://stackoverflow.com/questions/39878294/why-is-this-bool-changing/39880038#39880038", "title": "Why is this bool changing?", "body": "<p>Alright, you guys were correct. It was a buffer overrun issue pertaining to the <code>cardID[]</code> variable.  Originally it was initialized as <code>cardID[4] = \"\";</code>  After narrowing it down to confirming that is the issue, i tried <code>cardID[] = \"\";</code> which did resolve the issue, however the <code>isDenied</code> bool was still being changed momentarily, although it reverted back correctly.  The final correct declaration was <code>char cardID[8] = \"\";</code>  </p>\n\n<p>I'm still wrapping my head around the char array variables and how they should be declared/initialized.  </p>\n\n<p>My guess is i was trying to assign \"f539a76b\" to a (4) character char array with the line...</p>\n\n<pre><code>sprintf(cardID, \"%02x%02x%02x%02x\", inputCard[0], inputCard[1], inputCard[2], inputCard[3]);\n</code></pre>\n\n<p>When in fact i needed a (8) character array.</p>\n"}], "owner": {"reputation": 3397, "user_id": 6287472, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/1603791b923ed47df3dd541b35d73742?s=128&d=identicon&r=PG&f=1", "display_name": "TheValyreanGroup", "link": "https://stackoverflow.com/users/6287472/thevalyreangroup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475687969, "creation_date": 1475681827, "last_edit_date": 1475683275, "question_id": 39878294, "link": "https://stackoverflow.com/questions/39878294/why-is-this-bool-changing", "title": "Why is this bool changing?", "body": "<p>Without posting the entire source code for this, can anyone see why this <code>bool</code> is changing values?</p>\n\n<pre><code>const int redLed = 31;\nconst int greenLed =  33;\nconst int blueLed = 35;\nconst int irSensor = 2;\nconst int doorRelayPin = 14;\nbool isDenied = false;\nbyte inputCard[4];\nchar cardID[4];\nchar passCode[10];\nint passCount = 0;\nchar masterCode[10] = \"1\";\n\nvoid loop(){\n    if(isPanic){\n      panicCounter++;\n      int interval = panicCounter % 2000;\n      Serial.println(interval);\n      if (interval == 0){\n        tryPost();\n      }\n   }else{\n      if (!digitalRead(doorRelayPin) &amp;&amp; !isDenied){\n        greenSolid();\n      }else if(digitalRead(doorRelayPin) &amp;&amp; !isDenied){\n        blueSolid();\n        t.stop(unlock);\n      }\n   }\n   Serial.print(\"isDenied bool: \");\n   Serial.println(isDenied);\n}\n</code></pre>\n\n<p>And the next bit of relevant code to help you understand the output...</p>\n\n<pre><code>Serial.println(F(\"Scanned PICC's UID on reader 1:\"));\nfor (int i = 0; i &lt; 4; i++) {  //\n  inputCard[i] = idReader.uid.uidByte[i];\n  Serial.print(inputCard[i], HEX);\n}\nSerial.println(\"\");\nidReader.PICC_HaltA(); // Stop reading\ngetCardID();    // Get data ready\nreturn 1;  \n</code></pre>\n\n<p>As you can see i am not changing the value of this boolean ANYWHERE, but the serial output and my <code>if statement</code> in the loop function is saying the value has changed.  It seems to be happening during the PICC function while reading and RFID card.  Please advise, thanks!  </p>\n\n<p>Serial output below.</p>\n\n<pre><code>isDenied bool: 0\nisDenied bool: 0\nisDenied bool: 0\nisDenied bool: 0\nisDenied bool: 0\nisDenied bool: 0\nScanned PICC's UID on reader 1:\nF539A76B\nisDenied bool: 54\nip=10.10.1.50&amp;passcode=&amp;rfid=f539a76b\nconnecting...Connected\ndisconnecting.\ngrant 10.10.1.50\nAccess Granted.\nisDenied bool: 54\nisDenied bool: 54\nisDenied bool: 54\nisDenied bool: 54\nisDenied bool: 54\nisDenied bool: 54\n</code></pre>\n\n<p>To make it even more odd, if i try to \"hack\" this problem by doing this in the loop function right above the <code>if(isPanic)</code> statement, the bool never changes.  BUT these new if statements are never satisfied either, the output log does not show either of those two test <code>Serial.println</code>'s</p>\n\n<pre><code>if (isDenied == 54){\n  isDeniedBoolRecoverCounter++;\n  Serial.println(\"In this\");\n}\nif (isDeniedBoolRecoverCounter &gt; 10){\n   Serial.println(\"In the other one\");\n   isDenied = false;\n   isDeniedBoolRecoverCounter = 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "pointers", "c++14", "language-lawyer"], "comments": [{"owner": {"reputation": 15165, "user_id": 1116364, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b67dfca0caba03083330d39a304b1766?s=128&d=identicon&r=PG", "display_name": "Daniel Jour", "link": "https://stackoverflow.com/users/1116364/daniel-jour"}, "edited": false, "score": 3, "creation_date": 1475682374, "post_id": 39878237, "comment_id": 67043513, "body": "Shouldn&#39;t this be always true?"}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 1, "creation_date": 1475688470, "post_id": 39878237, "comment_id": 67047195, "body": "I&#39;m not even convinced that that pointer arithmetic has formally defined behavior."}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 1, "creation_date": 1476362810, "post_id": 39878237, "comment_id": 67319506, "body": "Note that pointer arithmetic is valid in the range <code>0&lt;=n&lt;=N</code>, and that also applies to scalars."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1476368316, "post_id": 39878237, "comment_id": 67324141, "body": "In the published C++14 standard, doesn&#39;t [expr.add]/7 answer your question? The answer being, as far as I can tell, <i>under no conditions</i>, sadly. In the current draft, that&#39;s <a href=\"http://eel.is/c++draft/expr.add#6\" rel=\"nofollow noreferrer\">paragraph 6</a> (slightly relaxed, but it still doesn&#39;t allow that subtraction)."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 1, "creation_date": 1476435437, "post_id": 39878237, "comment_id": 67353941, "body": "If the paragraph quoted above applies to subtraction, it applies to addition just as well. <code>p + 1</code> is defined, but that doesn&#39;t mean <code>p + anything</code> is also defined. The published C++14 standard text is recognized to have some defects in this area. Some have been fixed (see <a href=\"http://wg21.link/p0137\" rel=\"nofollow noreferrer\">P0137</a>), some still need work (for example, <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/cwg_active.html#1701\" rel=\"nofollow noreferrer\">CWG1701</a>). Keep in mind that P0137 clarified that <code>a</code> and <code>a[0]</code> are not pointer-interconvertible. It&#39;s not just about layout, it&#39;s also about restrictions imposed to allow optimizations."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1476439621, "post_id": 39878237, "comment_id": 67356658, "body": "@bogdan &#39;... a pointer to a to a nonarray object behaves the same as a pointer to the first element of an array of length one...&#39; I thought of this as a free pass to iterate the p-&gt;p+1 mapping for char pointers, unless end of memory is reached. If that&#39;s false, then the problem is more severe than I thought. You really think that the proposition is not even guaranteed for T==char?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1476441946, "post_id": 39878237, "comment_id": 67358125, "body": "@HeikoBloch Iterate through <code>char*</code> <i>to the end of memory</i>? No, that will never be allowed by the standard. That would mean that if you had a function taking a <code>char*</code>, you could legally access the value of any object in the program through that pointer, making the aliasing rules (for example) irrelevant."}, {"owner": {"reputation": 33597, "user_id": 2445184, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/0b51ece74c2314ba345a862c4b00d804?s=128&d=identicon&r=PG", "display_name": "cmaster - reinstate monica", "link": "https://stackoverflow.com/users/2445184/cmaster-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1476456494, "post_id": 39878237, "comment_id": 67367970, "body": "Remember that the array subscript operator is defined in terms of pointer arithmetic in C: <code>a[b]</code> is equivalent to <code>*(a+b)</code>, which is also the reason why it is also equivalent to <code>b[a]</code>. With C++ operator overloading, this principle has deteriorated somewhat, nevetheless it places a very firm restriction on the layout of any C-style array. And that restriction guarantees that your equivalence must be true."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1476603904, "post_id": 39878237, "comment_id": 67409567, "body": "@bogdan I think if you add 1 at a time and <code>launder</code> it after each addition, it should work...?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476640324, "post_id": 39878237, "comment_id": 67420182, "body": "@T.C. Do you mean within the array in the question, or are you referring to the &quot;iterate to the end of memory&quot; in the comments? The way I understand it, I don&#39;t think you can <code>launder</code> a <i>pointer past the end of</i> an object, because the reachability requirement in <a href=\"http://eel.is/c++draft/ptr.launder\" rel=\"nofollow noreferrer\">&#91;ptr.launder&#93;</a> can&#39;t be satisfied. The pointer doesn&#39;t <i>point to</i> an actual object, so there&#39;s no associated storage, so no bytes can be reachable from that pointer. Besides, the notion of <i>reachable</i> seems to be defined only if we start from a pointer value that <i>points to</i> an object."}, {"owner": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1476642082, "post_id": 39878237, "comment_id": 67420853, "body": "@bogdan Not to the end of memory, of course. That&#39;s as undefined as always. I think you are right that the reachability clause prevents laundering past-the-end pointers."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 122530, "user_id": 2756719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b06a9c91425630fdb69e861abe483d7e?s=128&d=identicon&r=PG&f=1", "display_name": "T.C.", "link": "https://stackoverflow.com/users/2756719/t-c"}, "edited": false, "score": 0, "creation_date": 1476714934, "post_id": 39878237, "comment_id": 67450840, "body": "@T.C. Phew... I was wondering whether I had missed something. So, I guess this leaves us with the fact that we currently can&#39;t legally <code>memcpy</code> a whole <code>int[7]</code> using an <code>int*</code> to its first member (in a way, similarly to how we can&#39;t flatten an <code>int[3][7]</code> to an <code>int[21]</code>); we have to either use a pointer to the array itself, or <code>reinterpret_cast</code> the <code>int*</code> to <code>int (*)[7]</code> and <code>launder</code> it. And if the &quot;array&quot; was created by <code>new int[nonconstant]</code>... we can&#39;t <code>memcpy</code> that at all. Hmmm... It would be nice if CWG1701 and <a href=\"http://wg21.link/cwg2182\" rel=\"nofollow noreferrer\">2182</a> could be resolved in time for C++17."}, {"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477592126, "post_id": 39878237, "comment_id": 67841438, "body": "@bogdan: The Standard would allow an implementation to behave as though every separate allocation is its own memory space, and attempts to index a pointer outside its memory space would yield UB, but if a 32-byte PODS <code>s</code> contains <code>unsigned char foo[16];</code> as its first member, laundering that pointer should give an <code>unsigned char*</code> that can access the whole struct."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1477598409, "post_id": 39878237, "comment_id": 67844826, "body": "@supercat Yes, that is pretty much what I&#39;ve said above. Going from an <code>unsigned char (*)[16]</code> pointing to that array to a <code>PODS*</code> wouldn&#39;t even need a <code>launder</code>, as the two objects are pointer-interconvertible; a <code>reinterpret_cast</code> is enough. Going from an <code>unsigned char*</code> pointing to the first element of the array member to a pointer to the array, however, requires a <code>launder</code>. The array element and the array itself are not pointer-interconvertible, so the array element and the containing PODS aren&#39;t either. The subsequent <code>unsigned char*</code> thing requires a suitable resolution of CWG1701."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1477599834, "post_id": 39878237, "comment_id": 67845570, "body": "@supercat But if you meant that <code>unsigned char* p = std::launder(foo);</code> will give you a <code>p</code> that allows you to access the whole <code>PODS</code> object, I don&#39;t think that&#39;s how it works. I think what&#39;s needed is <code>unsigned char* p = reinterpret_cast&lt;unsigned char*&gt;(std::launder(reinterpret_cast&lt;PODS*&gt;(foo)));</code>. The inner cast gives a pointer that, although of type <code>PODS*</code>, still <i>points to</i> the first <code>unsigned char</code> element of <code>foo</code>. The <code>launder</code> gives a pointer that <i>points to</i> the whole struct, and the outer cast yields a pointer that still <i>points to</i> the struct, and so can access the whole object."}, {"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477600760, "post_id": 39878237, "comment_id": 67846073, "body": "@bogdan: That makes sense, though I&#39;m curious what the expected migration path would be for code that was written for earlier standards which didn&#39;t distinguish between a <code>char*</code> that can only access an inner object versus one that can access an outer object, and where code might receive a pointer and a size, and need to be able to use <code>memcpy</code> to copy the indicated number of bytes without necessarily knowing the enclosing type."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1477607977, "post_id": 39878237, "comment_id": 67848990, "body": "@supercat That&#39;s a good point. As far as I understand, the new wording formalizes things that optimizing compilers were already doing, so it&#39;s unlikely that code that worked before will start acting up now. And it&#39;s not finished; some things are still not covered."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1477608395, "post_id": 39878237, "comment_id": 67849149, "body": "@supercat That being said, I just realized that my code above is wrong, because not all bytes of the <code>PODS</code> object are <i>reachable through</i> a pointer to the first array element, so we can&#39;t <code>launder</code> directly. If <code>p_elem</code> points to the first array element, then we need this: <code>unsigned char* p = reinterpret_cast&lt;unsigned char*&gt;(reinterpret_cast&lt;PODS*&gt;(std::launder(reinterpret_cast&zwnj;&#8203;&lt;unsigned char (*)[16]&gt;(p_elem))));</code>."}, {"owner": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1477608611, "post_id": 39878237, "comment_id": 67849221, "body": "@bogdan: Yikes.  It would seem there oughta be some way of saying &quot;don&#39;t assume you know anything about that pointer&quot;.  Doing that within a loop would often be bad for performance, but being able to do it before a loop may ease aliasing issues within the loop."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 69012, "user_id": 363751, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/135a97c4150691234931a93f3a27a52f?s=128&d=identicon&r=PG", "display_name": "supercat", "link": "https://stackoverflow.com/users/363751/supercat"}, "edited": false, "score": 0, "creation_date": 1477616530, "post_id": 39878237, "comment_id": 67851168, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/126875/discussion-between-bogdan-and-supercat\">continue this discussion in chat</a>."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1479824041, "post_id": 39878237, "comment_id": 68713797, "body": "Does it really matter that much?The standard codifies existing practice. That&#39;s its purpose in life. If it fails to do so in a clear unambiguous manner, it needs to be fixed. If you need to jump through hoops in order to either prove or disprove your assumption, this is a defect in the standard, not a logic puzzle waiting to be solved."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480662656, "post_id": 39878237, "comment_id": 69064673, "body": "@n.m. It&#39;s a question about who is to be held liable in case of error: the one who wrote the sourcecode or the compiler vendor. If someone is liable for software defects at all, the standard may be used as legal document that determines who. This may be important to insurance companies."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1480672577, "post_id": 39878237, "comment_id": 69069573, "body": "Yeah, more lawyers telling us how to program, that&#39;s what we need. Is this code UB? Call Steve from legal!"}], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475683701, "post_id": 39878591, "comment_id": 67044368, "body": "See the definition of contiguously in (&#167;23.3.2.1), which says that &#39;contiguously&#39; only means &#39;array arithmetic is compatible with pointer arithmetic&#39;. Compare <a href=\"http://stackoverflow.com/questions/39791806/array-of-non-contiguous-objects/39866710#39866710\" title=\"array of non contiguous objects\">stackoverflow.com/questions/39791806/&hellip;</a>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475683918, "post_id": 39878591, "comment_id": 67044515, "body": "@HeikoBloch There is no such definition in the latest working draft."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475684242, "post_id": 39878591, "comment_id": 67044711, "body": "I refer to the sentence: &#39;The elements of an array are stored contiguously, meaning that, ...&#39;. While it is no formal definition, it is the sentence that comes closest."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475684625, "post_id": 39878591, "comment_id": 67044965, "body": "@HeikoBloch <code>std::array</code> is not an array."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475685084, "post_id": 39878591, "comment_id": 67045289, "body": "But the sentence suggests that the words contiguously (in allocated or stored contiguously) and contiguous (in sequence of contiguous bytes) are used with slightly different meanings, and that would help resolve other apparent contradictions."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475685332, "post_id": 39878591, "comment_id": 67045452, "body": "@HeikoBloch The library section does not define terms for the language section. The two are distinct."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1475686477, "post_id": 39878591, "comment_id": 67046129, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/125017/discussion-between-heiko-bloch-and-barry\">continue this discussion in chat</a>."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1475692185, "post_id": 39878591, "comment_id": 67049252, "body": "I consider &#39;Contiguous implies that the offset ... is sizeof(T)&#39; obvious only in case objects of type T are bound to be contiguous in the first place. And if the authors had meant such a simple formula, why haven&#39;t they written it down?"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "reply_to_user": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 1, "creation_date": 1476336774, "post_id": 39878591, "comment_id": 67303567, "body": "@HeikoBloch &quot;contiguously... and contiguous... are used with slightly different meanings&quot; this could be only viewed as a defect in the standard."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1476470010, "post_id": 39878591, "comment_id": 67375747, "body": "@Barry: <i>&quot;the latest working draft&quot;</i> and C++14 are not the same thing. I believe we&#39;ve had this discussion before..."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1476472142, "post_id": 39878591, "comment_id": 67376875, "body": "@LightnessRacesinOrbit I&#39;m not sure there is one document that is exactly C++14. There&#39;s the draft that&#39;s closest to when C++14 was finalized, but then that wouldn&#39;t include any of the defect reports since then, so that&#39;s not really C++14 either. Regardless, in a draft that has that section (e.g. N3242), that section refers to <code>std::array</code>, not arrays."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1476472568, "post_id": 39878591, "comment_id": 67377099, "body": "@Barry: I think it&#39;s fairly clear that the current (14th October 2016) working draft is a lot closer to C++17 than it is to whatever you end up calling C++14 (which I consider to be FDIS + new cover page, though I accept that some subsequent DRs sort of count too)."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1476709202, "post_id": 39878591, "comment_id": 67446488, "body": "@Barry Please add an answer to the question to your post and explain your notion of contiguity. Especially, how can contiguity requirements impose  a particular order on the subobjects? (If that&#39;s what you intended)"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 7, "last_activity_date": 1475683049, "last_edit_date": 1475683049, "creation_date": 1475682685, "answer_id": 39878591, "question_id": 39878237, "link": "https://stackoverflow.com/questions/39878237/t-versus-char-pointer-arithmetic/39878591#39878591", "title": "T* versus char* pointer arithmetic", "body": "<p>In [dcl.array]:</p>\n\n<blockquote>\n  <p>An object of array type contains a contiguously allocated non-empty\n  set of <code>N</code> subobjects of type <code>T</code>.</p>\n</blockquote>\n\n<p>Contiguous implies that the offset between any consecutive subobjects of type <code>T</code> is <code>sizeof(T)</code>, which implies that the offset of the <code>n</code>th subobject is <code>n*sizeof(T)</code>.</p>\n\n<p>The upper bound of <code>n &lt; N</code> comes from [expr.add]:</p>\n\n<blockquote>\n  <p>When an expression that has integral type is added to or subtracted from a pointer, the result has the type of the pointer operand. If the expression <code>P</code> points to element <code>x[i]</code> of an array object <code>x</code> with <code>n</code> elements,\n  the expressions <code>P + J</code> and <code>J + P</code> (where <code>J</code> has the value <code>j</code>) point to the (possibly-hypothetical) element <code>x[i + j]</code> if <code>0 &lt;= i + j &lt; n</code>; <strong>otherwise, the behavior is undefined.</strong></p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1476361664, "post_id": 40018150, "comment_id": 67318610, "body": "Uh, indexing into an array is defined as addition. How do you figure you&#39;re allowed to go backwards?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1476458711, "post_id": 40018150, "comment_id": 67369445, "body": "&quot;They described the allocation as contiguous, but they do not say that a[j] and a[j+1] are contiguous in memory.&quot; What do you think contiguous means in that context? Your interpretation is apparently that it&#39;s purely decorative."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1476601845, "post_id": 40018150, "comment_id": 67409171, "body": "@Barry Answered your question. It&#39;s your turn."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476724828, "post_id": 40018150, "comment_id": 67457015, "body": "&quot;they chose not to say anything about the order of subobjects in memory&quot; and &quot;There is nothing in the standard that prevents the implementation from allocating arrays of ints in reversed memory order&quot; is totally false, section 5.9 most certainly requires elements to be placed in ascending order."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476726977, "post_id": 40018150, "comment_id": 67458222, "body": "@BenVoigt ascending order with respect to which pointer type? In my example, array elements are placed in ascending order with respect to int* pointers, but in descending order with respect to char* pointers. No one said pointer casts must be monotonically increasing. In the example, the  (char*) cast is a decreasing function with respect to the respective ordering relations. If you find that this is not allowed -- tell me where."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476729352, "post_id": 40018150, "comment_id": 67459469, "body": "@Heiko: I did.  The rule applies just as well considering <code>char*</code> pointing into your array as <code>int*</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476729460, "post_id": 40018150, "comment_id": 67459520, "body": "And then there&#39;s also the whole fact that <code>+0</code> has to be a no-op."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476729639, "post_id": 40018150, "comment_id": 67459612, "body": "section 4.2 says &quot;An lvalue or rvalue of type &#39;array of N <code>T</code>&#39; or &#39;array of unknown bound of <code>T</code>&#39; can be converted to a prvalue of type &#39;pointer to <code>T</code>&#39;. The result is a pointer to the \ufb01rst element of the array.&quot;  Please explain how your descending-order system makes this work for arrays of unknown bound.  Don&#39;t forget that <i>all</i> arrays with the same element type have to use the same ordering scheme, the same scheme used by <code>int*</code>."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476729757, "post_id": 40018150, "comment_id": 67459671, "body": "Please also explain how placement new works on arrays in your descending-order scheme, given that: (1) it must return a pointer to the initial element -- see 5.3.4 and (2) it must return the same pointer passed in -- see 18.6.2.3"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476729829, "post_id": 40018150, "comment_id": 67459706, "body": "In summary, when the actual requirements of the Standard are considered, your analysis has more holes in it than a block of swiss cheese."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476776688, "post_id": 40018150, "comment_id": 67476584, "body": "@BenVoigt 18.6.2.3 is type new_handler, you mean 18.6.1.3 (5)??  The array new expression needs not return the same address as the allocation function anyway, 5.3.4 (14). +0 applied to what? If you mean a+0, a standard conversion kicks in, so the +0 is non-op, but the standard conversion not. Arrays with unknown bound have incomplete type, so there will be no objects of that type. The &#39;and subobjects thereof&#39; part in the definition of the ordering relation was the thing I was missing."}, {"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1476789019, "post_id": 40018150, "comment_id": 67484545, "body": "@BenVoigt &#39;I did. The rule applies just as well...&#39; this depends on whether the char lvalues that alias the array count as subobjects. This may be the case, but it is not obvious to me."}], "tags": [], "owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "is_accepted": false, "score": -3, "last_activity_date": 1476806828, "last_edit_date": 1495535446, "creation_date": 1476353536, "answer_id": 40018150, "question_id": 39878237, "link": "https://stackoverflow.com/questions/39878237/t-versus-char-pointer-arithmetic/40018150#40018150", "title": "T* versus char* pointer arithmetic", "body": "<p>The declaration in the first line is also a definition. (\u00a73.1(2))\nIt creates the array object. (\u00a71.8(1))</p>\n\n<p>An object can be accessed via multiple lvalues \ndue to the aliasing rules. (\u00a73.10(10)) In particular, the objects on the \nright hand side  may be legally accessed (aliased) through char pointers.  </p>\n\n<p>Lets look at a sentence in the array definition and then disambiguate 'contiguous'.</p>\n\n<blockquote>\n  <p>\"An object of array type contains a contiguously allocated non-empty set \n  of N subobjects of type T.\" [dcl.array] \u00a78.3.4.</p>\n</blockquote>\n\n<hr>\n\n<h2>Disambiguation</h2>\n\n<p>We start from the binary symmetric relation 'contiguous' for char objects, which should be obvious. ('iff' is short for 'if and only if', sets and sequences are mathematical ones, not C++ containers) If you can\nlink to a better or more acknowledged definition, comment.</p>\n\n<p>A sequence x_1 ... x_N of char objects is contiguous iff\nx_i and x_{i+1} are contiguous in memory for all i=1...N-1.</p>\n\n<p>A set M of char objects is contiguous iff the objects in \nM can be numbered, x_1 ...x_N, say, such that the sequence (x_i)_i is contiguous.\nThat is, iff M is the image of a contiguous, injective sequence.</p>\n\n<p>Two sets M_1, M_2 of char objects are contiguous iff there\nexist x_1 in M_1 and x_2 in M_2 such that x_1 and x_2 are contiguous.</p>\n\n<p>A sequence M_1 ... M_N of sets of char objects is contiguous iff\nM_i and M_{i+1} are contiguous for all i=1...N-1.</p>\n\n<p>A set of sets of char objects is contiguous iff it is the image of\na contiguous, injective sequence of sets of char objects.</p>\n\n<p>Now which version of 'contiguous' to apply? Linguistic overload resolution:</p>\n\n<p>1) 'contiguous' may refer to 'allocation'. As an allocation function call provides a\nsubset of the available char objects, this would invoke the set-of-chars variant. That is,\nthe set of all char objects that occur in any of the N subobjects would be  meant to be contiguous. </p>\n\n<p>2) 'contiguous' may refer to 'set'. This would invoke the set-of-sets-of-chars variant with every subobject considered as a set of char objects.</p>\n\n<hr>\n\n<p>What does this mean? First, while the authors numbered the array subobjects a[0] ... a[N-1], they chose not to say anything about the\norder of subobjects in memory: they used 'set' instead of 'sequence'.\nThey described the allocation as contiguous, but they do not say that \na[j] and a[j+1] are contiguous in memory. Also, they chose not to write down the \nstraightforward formula involving (char*) pointers and sizeof(). While it looks like they \ndeliberately separated contiguity from ordering concerns, \n\u00a75.9 (3) requires one and the same ordering for array subobjects of all types. </p>\n\n<blockquote>\n  <p>If pointers point to two different elements of the same array, <em>or a subobject thereof</em>, the pointer \n  to the element with the higher subscript compares greater.</p>\n</blockquote>\n\n<p>Now do the bytes that make up the array subobjects qualify as\nsubobjects in the sense of the above quote? Reading \u00a71.8(2) and <a href=\"https://stackoverflow.com/questions/40108184/complete-object-or-subobject\">Complete object or subobject?</a>\nthe answer is: No, at least not for arrays whose elements don't contain subobjects and are no arrays of chars, e.g. arrays of ints. So we may find examples where no particular ordering is imposed on the array elements.</p>\n\n<p>But for the moment let's assume that our array subobjects are populated with chars only. \nWhat does this mean considering the two possible interpretations of 'contiguous'?</p>\n\n<p>1) We have a contiguous set of bytes that coincides with an ordered set of subobjects.\nThen the claim in the OP is unconditionally true.</p>\n\n<p>2) We have a contiguous sequence of subobjects, each of which may be non-contiguous individually.\nThis may happen in two ways: either the subobjects may have gaps, that is, they \ncontain two char objects at distance greater than sizeof(subobject)-1. Or the\nsubobjects may be distributed among different sequences of contiguous bytes.</p>\n\n<p>In case 2) there is no guarantee that that the claim in the OP is true.</p>\n\n<p>Therefore, it is important to be clear about what 'contiguous' means.</p>\n\n<hr>\n\n<p>Finally, here's an example of an implementation where no obvious ordering is imposed on the array subobjects by \u00a75.9 because the array subobjects don't have subobjects themselves. Readers raised concerns that this would contradict the standard in other places, but no definite contradiction has been demonstrated yet.</p>\n\n<p>Assume T is int, and we have one particular conforming implementation that behaves as expected naively with one exception:</p>\n\n<p>It allocates arrays of ints in reversed memory order,\nputting the array's first element at the high-memory-address end of the object:</p>\n\n<pre><code>a[N-1], a[N-2], ... a[0]  \n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>a[0], a[1],   ... a[N-1]  \n</code></pre>\n\n<p>This implementation satisfies any reasonable contiguity\nrequirement, so we don't have to agree on a single interpretation of \n'contiguous' to proceed with the argument.</p>\n\n<p>Then if p points to a, mapping p to &amp;a[0] (invoking [conv.array]) would make the pointer jump near the high memory end of a.\nAs array arithmetic has to be compatible with pointer arithmetic, we'd also have</p>\n\n<pre><code>int * p= &amp;intVariable;\n(char*)(p+1) + sizeof(int) == (char*)p\n</code></pre>\n\n<p>and </p>\n\n<pre><code>int a[N];\n\n(char*)(void*)&amp;a[n] + n*sizeof(int)==(char*)(void*)&amp;a[0],  (0&lt;=n&lt;N)\n</code></pre>\n\n<p>Then, for T=int, there is no guarantee that the claim in the original post is true.</p>\n\n<hr>\n\n<p>edit history: removed and reintroduced in modified form a possibly erroneous shortcut that was due to not applying a relevant part of the  pointer &lt; relation specification. It has not been determined yet whether this was justified or not, but the main argument about contiguity comes through anyway. </p>\n"}, {"comments": [{"owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "edited": false, "score": 0, "creation_date": 1476785224, "post_id": 40092051, "comment_id": 67482180, "body": "Do you mean there is no need for the contiguity requirement in [dcl.array] at all?"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 1, "last_activity_date": 1476724580, "last_edit_date": 1476724580, "creation_date": 1476724243, "answer_id": 40092051, "question_id": 39878237, "link": "https://stackoverflow.com/questions/39878237/t-versus-char-pointer-arithmetic/40092051#40092051", "title": "T* versus char* pointer arithmetic", "body": "<p>It's always true, but instead of looking at the rules for pointer arithmetic you must rely on the semantics given for the <code>sizeof</code> operator (5.3.3 <code>[expr.sizeof]</code>):</p>\n\n<blockquote>\n  <p>When applied to a reference or a reference type, the result is the size of the referenced type. <strong>When applied to a class, the result is the number of bytes in an object of that class including any padding required for placing objects of that type in an array.</strong> The size of a most derived class shall be greater than zero.\n  The result of applying sizeof to a base class subobject is the size of the base class type. <strong>When applied to an array, the result is the total number of bytes in the array. This implies that the size of an array of <em>n</em> elements is <em>n</em> times the size of an element.</strong></p>\n</blockquote>\n\n<p>It should be clear that there's only one packing that puts <em>n</em> non-overlapping elements in space of <code>n * sizeof(element)</code>, namely that they are regularly spaced <code>sizeof (element)</code> bytes apart.  And only one ordering is allowed by the pointer comparison rules found under the relational operator section (5.9 <code>[expr.rel]</code>):</p>\n\n<blockquote>\n  <p>Comparing pointers to objects is defined as follows:</p>\n  \n  <ul>\n  <li>If two pointers point to different elements of the same array, or to subobjects thereof, the pointer to the element with the higher subscript compares greater.</li>\n  </ul>\n</blockquote>\n"}], "owner": {"reputation": 378, "user_id": 6724807, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16f0dd741b6726aff0b3e55667ca4026?s=128&d=identicon&r=PG&f=1", "display_name": "Heiko Bloch", "link": "https://stackoverflow.com/users/6724807/heiko-bloch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 1, "answer_count": 3, "score": 11, "last_activity_date": 1479821447, "creation_date": 1475681687, "last_edit_date": 1479821447, "question_id": 39878237, "link": "https://stackoverflow.com/questions/39878237/t-versus-char-pointer-arithmetic", "title": "T* versus char* pointer arithmetic", "body": "<p>Assume we have an array that contains N elements of type T.</p>\n\n<pre><code>T a[N];\n</code></pre>\n\n<p><em>According to the C++14 Standard</em>, under which conditions do we have a guarantee that</p>\n\n<pre><code> (char*)(void*)&amp;a[0] + n*sizeof(T) == (char*)(void*)&amp;a[n],  (0&lt;=n&lt;N) ?\n</code></pre>\n\n<p>While this is true for many types and implementations, the standard mentions it in a footnote, and in an ambiguous way:</p>\n\n<blockquote>\n  <p>\u00a75.7.6, footnote 85) Another way to approach pointer arithmetic ...</p>\n</blockquote>\n\n<p>There is little indication that this other way was thought of being equivalent to the standard's way. It might rather be a hint for implementers that suggests one of many conforming implementations.</p>\n\n<hr>\n\n<p>Edits:</p>\n\n<p>People have underestimated the difficulty of this question.</p>\n\n<p>This question is not about what you can read in textbooks, it is about what what you can deduce from the C++14 Standard through the use of logic and reason.</p>\n\n<p>If you use 'contiguous' or 'contiguously', please also say what is being contiguous.</p>\n\n<p>While T[] and T* are closely related, they are abstractions, and the addition on T* x N may be defined by the implementation in any consistent way.</p>\n\n<p>The equation was rearranged using pointer addition. If p points to a char, p+1 is always defined using (\u00a75.7 (4)) or unary addition, so we don't run into UB. The original included a pointer subtraction, which might have caused UB early on. (The char pointers are only compared, not dereferenced).</p>\n"}, {"tags": ["c++", "cuda", "thrust"], "comments": [{"owner": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 2, "creation_date": 1475683174, "post_id": 39878207, "comment_id": 67044031, "body": "which platform are you on? linux? windows? mac? which CUDA version? which thrust version? which compiler? please always post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1475696950, "post_id": 39878207, "comment_id": 67052010, "body": "<a href=\"http://pastebin.com/ebvNdf4v\" rel=\"nofollow noreferrer\">here</a> is a worked (linux non-matlab) example based on what you have shown.  It seems to work correctly for me.   Getting stuff to print from matlab mex may be tricky."}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "reply_to_user": {"reputation": 14958, "user_id": 678093, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/667853b27b3d9f422d6d13924ee4994a?s=128&d=identicon&r=PG", "display_name": "m.s.", "link": "https://stackoverflow.com/users/678093/m-s"}, "edited": false, "score": 0, "creation_date": 1475746103, "post_id": 39878207, "comment_id": 67070601, "body": "@m.s - I&#39;m on Windows 7 Professional 64 bit, using the CUDA 7.5 toolkit.  Not sure how to get the thrust version? As supplied with CUDA 7.5."}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "reply_to_user": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1475746203, "post_id": 39878207, "comment_id": 67070676, "body": "@RobertCrovella - thanks for the worked example.  This works correctly when compiled under DOS, but does not under Matlab.  What I get is the first time there is no output at all, and the second time I get full error message:  Unexpected Standard exception from MEX file. What() is:function_attributes(): after cudaFuncGetAttributes: unspecified launch failure .."}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475747619, "post_id": 39878207, "comment_id": 67071582, "body": "The thrust version given in thrust/version.h indicates I am running 1.8.2"}, {"owner": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "edited": false, "score": 0, "creation_date": 1475755570, "post_id": 39878207, "comment_id": 67076619, "body": "unspecified launch failure means you made an memory access out of allocated device space. Have you allocated your memory and copied your data using cudaMalloc / CudaMemCpy ?"}, {"owner": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "edited": false, "score": 0, "creation_date": 1475755608, "post_id": 39878207, "comment_id": 67076642, "body": "as far i know, Matlab stores data in row major, is your kernel expecting column major data?"}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "reply_to_user": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "edited": false, "score": 0, "creation_date": 1475757054, "post_id": 39878207, "comment_id": 67077664, "body": "@X3liF Matlab is column major, but in this trivial example I don&#39;t have any arrays - just scalar (would be 2-d arrays in the final application).   Also - not sure if I&#39;m right here, but this example is executed entirely host-side so should not require cudaMalloc/cudaMemCpy?"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475764303, "post_id": 39897463, "comment_id": 67083042, "body": "Thanks! Yes that does now give the correct output when you add the thrust::host argument.  Of course in reality I want the code to run on the device, but had simplified it to illustrate the problem!  Looks like I went too far in the simplification.  Will now try it by allocating device memory."}, {"owner": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "reply_to_user": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475767085, "post_id": 39897463, "comment_id": 67085211, "body": "i&#39;ve updated your code, i don&#39;t like so much a malloc for one int, but the most important, you forgot the AtomicOperation for your int."}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475827097, "post_id": 39897463, "comment_id": 67108867, "body": "Hi, thanks for the update @X3liF - AtomicOperations are something new I have learnt from the exchange - as a newcomer to CUDA there are still areas I need to know about.  Thanks for all the help."}, {"owner": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "reply_to_user": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475827347, "post_id": 39897463, "comment_id": 67109001, "body": "your welcome, don&#39;t forget to accept the answer, so the other people will see the solution for your problem."}, {"owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "edited": false, "score": 0, "creation_date": 1475844624, "post_id": 39897463, "comment_id": 67119321, "body": "not sure what I have to do to &quot;accept&quot; the answer.  I pressed on the &quot;upvote&quot; arrow next to the answer (&quot;The answer is useful&quot;) but it said I didn&#39;t have enough experience points for the vote to be registered."}, {"owner": {"reputation": 119299, "user_id": 1695960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9f557c03db19232aa410540af2f966?s=128&d=identicon&r=PG", "display_name": "Robert Crovella", "link": "https://stackoverflow.com/users/1695960/robert-crovella"}, "edited": false, "score": 0, "creation_date": 1477187040, "post_id": 39897463, "comment_id": 67663262, "body": "You should see the outline of a check-mark next to this answer.  If you click on that outline to fill it in green, that is how you accept an answer.  You can discover this by looking at the &quot;help&quot; link at the bottom of this page."}], "tags": [], "owner": {"reputation": 904, "user_id": 4866974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75559971f1a888045ff79ec443e92e47?s=128&d=identicon&r=PG", "display_name": "X3liF", "link": "https://stackoverflow.com/users/4866974/x3lif"}, "is_accepted": true, "score": 1, "last_activity_date": 1475767482, "last_edit_date": 1475767482, "creation_date": 1475760753, "answer_id": 39897463, "question_id": 39878207, "link": "https://stackoverflow.com/questions/39878207/cuda-thrustfor-each-with-thrustcounting-iterator/39897463#39897463", "title": "cuda thrust::for_each with thrust::counting_iterator", "body": "<p>On your comments you say that you want your code to be executed on host side.</p>\n\n<p>The error code \"unspecified launch failure\", and the fact your functor is defined as <strong>host</strong> <strong>device</strong> make me think thrust wants to execute on your device.</p>\n\n<p>Can you add an execution policy to be sure where your code is executed ?</p>\n\n<p>replace :</p>\n\n<pre><code>thrust::for_each(first,last,sf);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>thrust::for_each(thrust::host, first,last,sf);\n</code></pre>\n\n<p>To be able to run on the GPU, your result must be allocated on device memory (through cudaMalloc) then copied back to host.</p>\n\n<hr>\n\n<pre><code>#include &lt;thrust/host_vector.h&gt;\n#include &lt;thrust/sequence.h&gt;\n#include &lt;thrust/for_each.h&gt;\n#include &lt;thrust/iterator/counting_iterator.h&gt;\n#include &lt;thrust/execution_policy.h&gt;\n\nstruct sum_Functor {\n    int *sum;\n    sum_Functor(int *s){sum=s;}\n    __host__ __device__\n    void operator()(int i)\n    {\n        atomicAdd(sum, 1);\n    }\n};\n\nint main(int argc, char**argv){\n\n\n    thrust::counting_iterator&lt;int&gt; first(0);\n    thrust::counting_iterator&lt;int&gt; last = first+atoi(argv[1]);\n    int *d_sum;\n    int h_sum = 0;\n\n    cudaMalloc(&amp;d_sum,sizeof(int));\n    cudaMemcpy(d_sum,&amp;h_sum,sizeof(int),cudaMemcpyHostToDevice);\n\n    thrust::for_each(thrust::device,first,last,sum_Functor(d_sum));\n\n    cudaDeviceSynchronize();\n    cudaMemcpy(&amp;h_sum,d_sum,sizeof(int),cudaMemcpyDeviceToHost);\n    printf(\"sum = %d\\n\", *h_sum);\n    cudaFree(d_sum);\n\n}\n</code></pre>\n\n<p>Code Update : To have the correct result on your device you must use an atomic operation.</p>\n"}], "owner": {"reputation": 5, "user_id": 6927259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69c3c0bc4185364f186f311f5daf7510?s=128&d=identicon&r=PG&f=1", "display_name": "Iain.G.D. Strachan", "link": "https://stackoverflow.com/users/6927259/iain-g-d-strachan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1698, "favorite_count": 0, "accepted_answer_id": 39897463, "answer_count": 1, "score": 0, "last_activity_date": 1475767482, "creation_date": 1475681598, "last_edit_date": 1475747030, "question_id": 39878207, "link": "https://stackoverflow.com/questions/39878207/cuda-thrustfor-each-with-thrustcounting-iterator", "title": "cuda thrust::for_each with thrust::counting_iterator", "body": "<p>I'm a bit of a newcomer to CUDA and thrust.  I seem to be unable to get the thrust::for_each algorithm to work when supplied with a counting_iterator.\nHere is my simple functor:</p>\n\n<pre><code>struct print_Functor {\n    print_Functor(){}\n    __host__ __device__\n    void operator()(int i)\n    {\n        printf(\"index %d\\n\", i);\n    }\n}; \n</code></pre>\n\n<p>Now if I call this with a host-vector prefilled with a sequence, it works fine:</p>\n\n<pre><code>    thrust::host_vector&lt;int&gt; h_vec(10);\n    thrust::sequence(h_vec.begin(),h_vec.end());\n    thrust::for_each(h_vec.begin(),h_vec.end(), print_Functor());\n</code></pre>\n\n<p>However, if I try to do this with thrust::counting_iterator it fails:</p>\n\n<pre><code>    thrust::counting_iterator&lt;int&gt; first(0);\n    thrust::counting_iterator&lt;int&gt; last = first+10;\n    for(thrust::counting_iterator&lt;int&gt; it=first;it!=last;it++)\n        printf(\"Value %d\\n\", *it);\n    printf(\"Launching for_each\\n\");\n    thrust::for_each(first,last,print_Functor());\n</code></pre>\n\n<p>What I get is that the for loop executes correctly, but the for_each fails with the error message:</p>\n\n<pre><code>   after cudaFuncGetAttributes: unspecified launch failure\n</code></pre>\n\n<p>I tried to do this by making the iterator type a template argument:</p>\n\n<pre><code>thrust::for_each&lt;thrust::counting_iterator&lt;int&gt;&gt;(first,last, print_Functor());\n</code></pre>\n\n<p>but the same error results.</p>\n\n<p>For completeness, I'm calling this from a MATLAB mex file (64 bit).</p>\n\n<p>I've been able to get other thrust algorithms to work with the counting iterator (e.g. thrust::reduce gives the right result).</p>\n\n<p>As a newcomer I'm probably doing something really stupid and missing something obvious - can anyone help?</p>\n\n<p>Thanks for the comments so far.  I have taken on board the comments so far.  The worked example (outside Matlab) worked correctly and produced output, but if this was made into a mex file it still did not work - the first time producing no output at all and the second time just producing the same error message as before (only fixed by a recompile, when it goes back to no output).</p>\n\n<p>However there is a similar problem with it not executing the functor from thrust::for_each even under DOS.  Here is a complete example:</p>\n\n<pre><code>#include &lt;thrust/for_each.h&gt;\n#include &lt;thrust/iterator/counting_iterator.h&gt;\n\nstruct sum_Functor {\n    int *sum;\n    sum_Functor(int *s){sum = s;}\n    __host__ __device__\n    void operator()(int i)\n    {\n        *sum+=i;\n        printf(\"In functor: i %d sum %d\\n\",i,*sum);\n    }\n\n};\n\nint main(){\n\n    thrust::counting_iterator&lt;int&gt; first(0);\n    thrust::counting_iterator&lt;int&gt; last = first+10;\n    int sum = 0;\n    sum_Functor sf(&amp;sum);\n    printf(\"After constructor: value is %d\\n\", *(sf.sum));\n    for(int i=0;i&lt;5;i++){\n        sf(i);\n    }\n\n    printf(\"Initiating for_each call - current value %d\\n\", (*(sf.sum)));\n    thrust::for_each(first,last,sf);\n\n    cudaDeviceSynchronize();\n    printf(\"After for_each: value is %d\\n\",*(sf.sum));\n}\n</code></pre>\n\n<p>This is compiled under a DOS prompt with:</p>\n\n<pre><code>nvcc -o pf pf.cu\n</code></pre>\n\n<p>The output produced is:</p>\n\n<pre><code>After constructor: value is 0\nIn functor: i 0 sum 0\nIn functor: i 1 sum 1\nIn functor: i 2 sum 3\nIn functor: i 3 sum 6\nIn functor: i 4 sum 10\nInitiating for_each call - current value 10\nAfter for_each: value is 10\n</code></pre>\n\n<p>In other words the functor's overloaded operator() is called correctly from the for loop but is never called by the thrust::for_each algorithm.  The only way to get the for_each to execute the functor when using the counting iterator is to omit the member variable.</p>\n\n<p>( I should add that after years of using pure Matlab, my C++ is very rusty, so I could be missing something obvious ...)</p>\n"}, {"tags": ["c++", "opengl", "textures"], "comments": [{"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1475686180, "post_id": 39878134, "comment_id": 67045950, "body": "From what you have shown, I do not see anything that stands out as being incorrect. This might help you since you mentioned doing Bloom effect with a deferred shader; however this tutorial page website I&#39;m about to show you has a full 3D scene rendered with lighting and normal as well as using multiple shader programs. It should serve as an excellent guide as into how the Bloom Effect can be achieved along with some variants of it.  <a href=\"http://learnopengl.com/#!Advanced-Lighting/Bloom\" rel=\"nofollow noreferrer\">learnopengl.com/#!Advanced-Lighting/Bloom</a>"}, {"owner": {"reputation": 11, "user_id": 6927117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895e435f34a0eede8d05c681bd864d84?s=128&d=identicon&r=PG&f=1", "display_name": "jocll", "link": "https://stackoverflow.com/users/6927117/jocll"}, "reply_to_user": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 1, "creation_date": 1475689967, "post_id": 39878134, "comment_id": 67048037, "body": "thanks for the link! I got the solution to my problem meanwhile, it was just a typo.. I clamped to GL_TEXTURE_2D_ARRAY instead of GL_TEXTURE_2D"}, {"owner": {"reputation": 7407, "user_id": 1757805, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/AMueI.jpg?s=128&g=1", "display_name": "Francis Cugler", "link": "https://stackoverflow.com/users/1757805/francis-cugler"}, "edited": false, "score": 0, "creation_date": 1475754994, "post_id": 39878134, "comment_id": 67076265, "body": "That is good that you found the mistake. I&#39;m surprised I didn&#39;t notice that myself."}], "owner": {"reputation": 11, "user_id": 6927117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/895e435f34a0eede8d05c681bd864d84?s=128&d=identicon&r=PG&f=1", "display_name": "jocll", "link": "https://stackoverflow.com/users/6927117/jocll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1475698091, "creation_date": 1475681410, "last_edit_date": 1475698091, "question_id": 39878134, "link": "https://stackoverflow.com/questions/39878134/opengl-texture-clamping-not-working-in-post-processing", "title": "opengl - texture clamping not working in post processing", "body": "<p>I'm having a problem with post processing in my deferred renderer.\nWhen I'm applying an effect like bloom on top of my scene, the bottom of the bloom effect texture leaks into the top of my screen, the top of the texture leaks into the bottom of the screen, the left into the right of the screen and so on.\nLooks like the uv coords don't get clamped correctly, although I thought I'd have set that all correctly.</p>\n\n<p>The bloom effect in this case is created in a lower resolution and the gets upsampled using linear filtering.</p>\n\n<p>This image that shows the problem:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Txeo0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Txeo0.jpg\" alt=\"image\"></a>\n<br></p>\n\n<p>I render the postprocessing effects using a simple quad:</p>\n\n<pre><code>glm::vec3(-1.f, -1.f, 0.f),\nglm::vec3(1.f, -1.f, 0.f),\nglm::vec3(1.f, 1.f, 0.f),\nglm::vec3(-1.f, 1.f, 0.f)\n</code></pre>\n\n<p>This is the vertex shader I use to render the quad:</p>\n\n<pre><code>#version 430 core\n\nlayout(location = 0) in vec3 POSITION;\n\nnoperspective out vec2 tex_coord;\n\nvoid main(void)\n{\n    tex_coord = POSITION.xy * 0.5 + 0.5;\n\n    gl_Position = vec4(POSITION.xy, 0.0, 1.0);\n}\n</code></pre>\n\n<p>And if course in the fragment shader I'm doing something like this:</p>\n\n<pre><code>#version 430 core\n\nuniform sampler2D uTexture;\n\nnoperspective in vec2 tex_coord;\n\nout vec4 frag_color;\n\nvoid main(void)\n{\n    frag_color = texture(uTexture, tex_coord);\n}\n</code></pre>\n\n<p>The effect got rendered into a frame buffer object which got set up like this:</p>\n\n<pre><code>glGenFramebuffers(1, &amp;_filterFbo);\nglBindFramebuffer(GL_FRAMEBUFFER, _filterFbo);\n\n// filter texture\nglGenTextures(1, &amp;_filterTexture);\nglBindTexture(GL_TEXTURE_2D, _filterTexture);\nglTexImage2D(GL_TEXTURE_2D, 0, GL_RGB16F, _effectWidth, _effectHeight, 0, GL_RGB, GL_FLOAT, NULL);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_LINEAR);\nglTexParameteri(GL_TEXTURE_2D_ARRAY, GL_TEXTURE_WRAP_S, GL_CLAMP_TO_EDGE);\nglTexParameteri(GL_TEXTURE_2D_ARRAY, GL_TEXTURE_WRAP_T, GL_CLAMP_TO_EDGE);\nglFramebufferTexture2D(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_TEXTURE_2D, _filterTexture, 0);\n</code></pre>\n\n<p>I really don't know what's the problem here, I hope anyone got an idea.</p>\n"}, {"tags": ["python", "c++", "boost", "ipython", "python-import"], "comments": [{"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "edited": false, "score": 0, "creation_date": 1475711845, "post_id": 39878103, "comment_id": 67057569, "body": "According to <a href=\"http://stackoverflow.com/a/487718/3962537\">this answer</a> it&#39;s at the least tricky to reload modules implemented as extension. You might have to restart the interpreter to see any changes."}, {"owner": {"reputation": 35559, "user_id": 434217, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7f1ae3f14fd5b87c2c3f7b36014e185c?s=128&d=identicon&r=PG", "display_name": "Thomas K", "link": "https://stackoverflow.com/users/434217/thomas-k"}, "edited": false, "score": 0, "creation_date": 1475772755, "post_id": 39878103, "comment_id": 67088651, "body": "Autoreload will not try to reload extension modules, as far as I know. I consider reloading an option only for pure Python modules."}], "owner": {"reputation": 744, "user_id": 1789758, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/65b356a75186f20847ade7ccc418ba61?s=128&d=identicon&r=PG", "display_name": "Xiangyu", "link": "https://stackoverflow.com/users/1789758/xiangyu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1475772770, "creation_date": 1475681306, "last_edit_date": 1475772770, "question_id": 39878103, "link": "https://stackoverflow.com/questions/39878103/jupyter-notebook-does-not-reload-boost-python-module", "title": "Jupyter notebook does not reload boost python module", "body": "<p>I have a boost python module foo.so that calls c++ functions underneath. The foo.so and foo.ipynb are in the same location and </p>\n\n<pre><code>import foo\nfoo.Hello()\n</code></pre>\n\n<p>works just fine. However, if I make some changes in the c++ code and then do</p>\n\n<pre><code>reload(foo)\nfoo.Hello()\n</code></pre>\n\n<p>It is still using the old code. However, it works if I put everything in a .py file.</p>\n\n<p>I have also tried</p>\n\n<pre><code>%load_ext autoreload\n%autoreload 2\n</code></pre>\n\n<p>and the issue remains.</p>\n"}, {"tags": ["c++", "locking"], "comments": [{"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 1, "creation_date": 1475681447, "post_id": 39878090, "comment_id": 67042909, "body": "Conditional variable should work perfectly in your case"}, {"owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "edited": false, "score": 0, "creation_date": 1475681471, "post_id": 39878090, "comment_id": 67042924, "body": "Are you using std::mutex and std::lock_guard? std::condition_variable? It would be nice to see some code."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1475681569, "post_id": 39878090, "comment_id": 67042992, "body": "I&#39;m using std::mutex and std::lock_guard."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475682708, "post_id": 39878090, "comment_id": 67043752, "body": "@seccpur How would condition_variable scale with three threads? Could it be that two threads together starve out a third thread?"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475682938, "post_id": 39878090, "comment_id": 67043882, "body": "@AartStuurman: Use notify_all to broadcast to multiple threads"}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475684282, "post_id": 39878090, "comment_id": 67044740, "body": "@seccpur notify_all confuses me. notify_one allows one thread to continue, giving it lock ownership. What happens then with notify_all? As far as I understand only one unique_lock can be locked at the same time?"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475684425, "post_id": 39878090, "comment_id": 67044828, "body": "@AartStuurman: conditional varaible combine with or without std::atomic&lt;bool&gt; can filter a particular thread out of the three waiting threads."}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1475684557, "post_id": 39878090, "comment_id": 67044925, "body": "That is what I thought of. But would that have the same result as just calling notify_one?"}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1475686806, "post_id": 39878090, "comment_id": 67046292, "body": "@AartStuurman Say three threads are all waiting for a particular computational result to be available. Once the result is available, all three threads need to stop waiting for it to be available, right?"}, {"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1475737167, "post_id": 39878090, "comment_id": 67065033, "body": "@David Schwartz In general that is what I would expect of notify_all, yes. But as I understand, the provided unique_lock is locked after passing through the conditional wait. Which of the threads is responsible for unlocking? That is what confuses me."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1475737226, "post_id": 39878090, "comment_id": 67065081, "body": "@AartStuurman The thread that holds the mutex is responsible for unlocking it."}], "answers": [{"tags": [], "owner": {"reputation": 2200, "user_id": 1519323, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zUWVH.png?s=128&g=1", "display_name": "davepmiller", "link": "https://stackoverflow.com/users/1519323/davepmiller"}, "is_accepted": false, "score": 0, "last_activity_date": 1475682511, "last_edit_date": 1475682511, "creation_date": 1475682146, "answer_id": 39878407, "question_id": 39878090, "link": "https://stackoverflow.com/questions/39878090/many-locks-on-same-mutex-one-locks-forever/39878407#39878407", "title": "many locks on same mutex, one locks forever", "body": "<p>An example using <code>std::mutex</code>, <code>std::lock_guard</code>, <code>std::unique_lock</code>(reader) and <code>std::condition_variable</code>. \n_mutexLockCondition, _mutexObject, and _dataContainer are shared between ReaderClass and WriterClass.</p>\n\n<p>Tried to be a bit vague on the actual data container, so <code>getDataContainer()</code> and <code>addDataToContainer()</code> are up to you.</p>\n\n<pre><code>std::shared_ptr&lt; Data &gt; ReaderClass::read()\n{\n    std::unique_lock&lt; std::mutex &gt; lock( _mutexObject );\n\n    // handle spurious wakeup from waitForMessageNotification\n    while( _dataContainer.empty() )\n    {\n        if( waitForMessageNotification( lock ) )\n        {\n            // timeout occurred, return nullptr to prevent blocking\n            return nullptr;\n        }\n    }\n\n    return getDataFromContainer();\n}\n\nbool ReaderClass::waitForNotification( unique_lock&lt; mutex &gt; &amp; lock )\n{\n    //_mutexLockCondition is a std::condition_variable\n    return _mutexLockCondition.wait_for( lock, std::chrono::milliseconds( 100 ) )\n                                            == std::cv_status::timeout;\n}\n\n\nvoid WriterClass::write( std::shared_ptr&lt; Data &gt; dataPtr )\n{\n    std::lock_guard&lt; mutex &gt; lock( _mutexObject );\n\n    addDataToContainer( dataPtr );\n\n    _mutexLockCondition.notify_one();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "edited": false, "score": 0, "creation_date": 1475682401, "post_id": 39878433, "comment_id": 67043536, "body": "Thank you for the suggestion. Yielding indeed fixes the problem, which is why I thought one thread starving the other had to be the problem."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1475686869, "post_id": 39878433, "comment_id": 67046322, "body": "What platform is this?"}], "tags": [], "owner": {"reputation": 1083, "user_id": 6826608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f02198302f3fb7b19ad09d9a9713a4e0?s=128&d=identicon&r=PG&f=1", "display_name": "Donghui Zhang", "link": "https://stackoverflow.com/users/6826608/donghui-zhang"}, "is_accepted": true, "score": 3, "last_activity_date": 1475682232, "creation_date": 1475682232, "answer_id": 39878433, "question_id": 39878090, "link": "https://stackoverflow.com/questions/39878090/many-locks-on-same-mutex-one-locks-forever/39878433#39878433", "title": "many locks on same mutex, one locks forever", "body": "<p>An std::mutex does not guarantee giving everyone an equal chance. So it is possible that one thread starves another. The first thing you can try is to insert <a href=\"http://en.cppreference.com/w/cpp/thread/yield\" rel=\"nofollow\">std::this_thread::yield()</a> and see if it helps. If this does not help, then your code must have logic errors. Post some portion of the code and we can help you diagnose further.</p>\n"}, {"comments": [{"owner": {"reputation": 78, "user_id": 4834897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WXb7I.jpg?s=128&g=1", "display_name": "Or Hirshfeld", "link": "https://stackoverflow.com/users/4834897/or-hirshfeld"}, "edited": false, "score": 0, "creation_date": 1588836741, "post_id": 39879731, "comment_id": 109054256, "body": "nice solution, but it seems it can have some scalability issues because if few threads are releasing from wait on the same time you don&#39;t have guaranteed which one would set the flag first and a thread can be staved by other threads I recommended you to take a look at the solution offered in this answer (fix Olaf&#39;s suggestion) <a href=\"https://stackoverflow.com/a/14792685/4834897\">stackoverflow.com/a/14792685/4834897</a>"}], "tags": [], "owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "is_accepted": false, "score": 2, "last_activity_date": 1475686467, "creation_date": 1475686467, "answer_id": 39879731, "question_id": 39878090, "link": "https://stackoverflow.com/questions/39878090/many-locks-on-same-mutex-one-locks-forever/39879731#39879731", "title": "many locks on same mutex, one locks forever", "body": "<p>Using seccpur's hints I came up with the following solution to prevent starving out a single thread.</p>\n\n<pre><code>#include &lt;condition_variable&gt;\n#include &lt;mutex&gt;\n#include &lt;atomic&gt;\n\nclass NoStarveLock\n{\n    std::condition_variable condition;\n    std::atomic_flag flag = ATOMIC_FLAG_INIT;\n    std::mutex conditionLock;\npublic:\n    void lock()\n    {\n        std::unique_lock&lt;std::mutex&gt; lck(conditionLock);\n        while (flag.test_and_set()) // multiple threads can wake up at the same time, so use a set+test\n        {\n            condition.wait(lck); // wait for a wakeup\n        }\n    }\n\n    void unlock()\n    {\n        std::unique_lock&lt;std::mutex&gt; lck(conditionLock);\n        flag.clear();\n        condition.notify_all();\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 2198, "user_id": 2476219, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/89yiG.jpg?s=128&g=1", "display_name": "Aart Stuurman", "link": "https://stackoverflow.com/users/2476219/aart-stuurman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 484, "favorite_count": 0, "accepted_answer_id": 39878433, "answer_count": 3, "score": 2, "last_activity_date": 1475686467, "creation_date": 1475681261, "last_edit_date": 1475682471, "question_id": 39878090, "link": "https://stackoverflow.com/questions/39878090/many-locks-on-same-mutex-one-locks-forever", "title": "many locks on same mutex, one locks forever", "body": "<p>In my program I have a single mutex and two threads. One of these threads acquires the lock very often. The other thread tries to acquire but has to wait forever.</p>\n\n<p>Could it be that the lock is acquired so quick after releasing it that the other thread does not get a chance? Does a mutex always give everyone a chance? If not, what would be a good solution?(some kind of FIFO lock?)</p>\n\n<p>I am using std::mutex and std::lock_guard</p>\n\n<p><strong>Question expansion</strong>\nseccpur pointed out that an std::condition_variable would be a solution to this problem. How does this scale with three threads? Does std::condition_variable assure every thread gets a turn? Assuming you use notify_one().</p>\n"}, {"tags": ["c++", "input", "output", "error-checking"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 4, "creation_date": 1475681274, "post_id": 39878056, "comment_id": 67042798, "body": "Depends on which method is used to read the inputs."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1475681299, "post_id": 39878056, "comment_id": 67042812, "body": "And on what inputs you mean."}, {"owner": {"reputation": 1, "user_id": 6927277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a47d80b9c2d28f3ef5375498d5a8374?s=128&d=identicon&r=PG&f=1", "display_name": "GoodJuan", "link": "https://stackoverflow.com/users/6927277/goodjuan"}, "edited": false, "score": 0, "creation_date": 1475681490, "post_id": 39878056, "comment_id": 67042935, "body": "For example, I want one word (a string) as an input. However, the user might just enter a word, use space, then enter another word (two inputs). How do I detect the second word? I only declared one string for the first word, it doesn&#39;t store the second word."}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475681532, "post_id": 39878056, "comment_id": 67042967, "body": "How big is your one?"}, {"owner": {"reputation": 1, "user_id": 6927277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a47d80b9c2d28f3ef5375498d5a8374?s=128&d=identicon&r=PG&f=1", "display_name": "GoodJuan", "link": "https://stackoverflow.com/users/6927277/goodjuan"}, "edited": false, "score": 0, "creation_date": 1475681695, "post_id": 39878056, "comment_id": 67043073, "body": "Doesn&#39;t matter, I just want to output an error message when the user enters more then one input."}], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 6015808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c94a8429acb5d2c190b248e2a8f7e8?s=128&d=identicon&r=PG&f=1", "display_name": "orphen", "link": "https://stackoverflow.com/users/6015808/orphen"}, "is_accepted": false, "score": 2, "last_activity_date": 1475682731, "last_edit_date": 1495535265, "creation_date": 1475682731, "answer_id": 39878602, "question_id": 39878056, "link": "https://stackoverflow.com/questions/39878056/in-c-how-do-i-check-if-there-was-more-than-one-inputs/39878602#39878602", "title": "In c++, how do I check if there was more than one inputs?", "body": "<p>A user enters two inputs where?</p>\n\n<p>On the command line?\nCheck <code>argc</code>, which is the count of arguments passed to the application upon invocation.</p>\n\n<pre><code>int main(int argc, char** argv) {\n  // argc will always at least be 1,\n  // since the program name is always passed\n  if (argc &gt; 3)\n  ...\n}\n</code></pre>\n\n<p>If you're talking about checking input elsewhere during runtime, it, as the other comments say, depends on which method you're using to read the inputs. It's hard to suggest an approach if we don't know this.</p>\n\n<p>Here's an idea, based on your example you gave in your comment:</p>\n\n<pre><code>std::string str;\n// take everything from stdin up to the next newline\nstd::getline(std::cin, str);\n</code></pre>\n\n<p>Now you've got the entire input string. You can split the string by spaces (many examples of that <a href=\"https://stackoverflow.com/questions/236129/split-a-string-in-c\">here on StackOverflow</a>) and check that you only parsed one word. This is just an example and is not necessarily optimal, but it should point you in the right direction.</p>\n\n<p>You can also use an <code>istringstream</code> and just parse out the first word and discard the rest, a modification made on <a href=\"https://stackoverflow.com/questions/18318980/taking-input-of-a-string-word-by-word\">this StackOverflow example</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 6927277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a47d80b9c2d28f3ef5375498d5a8374?s=128&d=identicon&r=PG&f=1", "display_name": "GoodJuan", "link": "https://stackoverflow.com/users/6927277/goodjuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "closed_date": 1475689977, "answer_count": 1, "score": -1, "last_activity_date": 1475682731, "creation_date": 1475681140, "question_id": 39878056, "link": "https://stackoverflow.com/questions/39878056/in-c-how-do-i-check-if-there-was-more-than-one-inputs", "closed_reason": "Needs details or clarity", "title": "In c++, how do I check if there was more than one inputs?", "body": "<p>For example, a user enters two inputs instead of one, how do I detect that and output an error message?</p>\n"}, {"tags": ["c++", "opencv", "deep-learning", "dlib"], "answers": [{"comments": [{"owner": {"reputation": 1160, "user_id": 2424669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6efb7994edec524a9149639f01a5b6?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2424669/daniel"}, "edited": false, "score": 0, "creation_date": 1475755985, "post_id": 39885510, "comment_id": 67076894, "body": "Thanks, I wrongly assumed everything based on generic_image would magically work with the input layer. Will use matrix for now. Another question (but don&#39;t want to pollute SO with too many detail questions): I&#39;m trying to verify training results I obtained using caffe with dlib. I managed to get the network to start training, but fail to get comparable results. Trying to recreate my training regime as faithfully as possible, but can&#39;t find a mention of how to set weight decay and momentum in dlib. Is this currently possible, or are they auto-set?"}, {"owner": {"reputation": 4528, "user_id": 310086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71a8c95cf10d5a07bdc7c4d51828c16?s=128&d=identicon&r=PG", "display_name": "Davis King", "link": "https://stackoverflow.com/users/310086/davis-king"}, "reply_to_user": {"reputation": 1160, "user_id": 2424669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6efb7994edec524a9149639f01a5b6?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2424669/daniel"}, "edited": false, "score": 0, "creation_date": 1475757879, "post_id": 39885510, "comment_id": 67078325, "body": "You can set those values to whatever you want.  All these things are discussed in the two introduction example programs.  Beyond that, the entire API is documented. On this page is a deep learning section with links to everything: <a href=\"http://dlib.net/ml.html\" rel=\"nofollow noreferrer\">dlib.net/ml.html</a>.  Also, <a href=\"http://dlib.net/faq.html#Whereisthedocumentationforobjectfunction\" rel=\"nofollow noreferrer\">dlib.net/faq.html#Whereisthedocumentationforobjectfunction</a>"}, {"owner": {"reputation": 1160, "user_id": 2424669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6efb7994edec524a9149639f01a5b6?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2424669/daniel"}, "edited": false, "score": 0, "creation_date": 1475758206, "post_id": 39885510, "comment_id": 67078565, "body": "Found it: it is a property of the trainer that can explicitly be set on construction: dlib::dnn_trainer&lt;net_type&gt; trainer(net, dlib::sgd(float weight_decay, float momentum));"}], "tags": [], "owner": {"reputation": 4528, "user_id": 310086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e71a8c95cf10d5a07bdc7c4d51828c16?s=128&d=identicon&r=PG", "display_name": "Davis King", "link": "https://stackoverflow.com/users/310086/davis-king"}, "is_accepted": true, "score": 2, "last_activity_date": 1475712346, "creation_date": 1475712346, "answer_id": 39885510, "question_id": 39877949, "link": "https://stackoverflow.com/questions/39877949/dlib-19-1-initialize-dlibmatrix-from-image-e-g-dlibcv-image-for-dnn-trai/39885510#39885510", "title": "dlib-19.1: Initialize dlib::matrix from image (e.g. dlib::cv_image) for DNN training", "body": "<p>You don't have to fix the size of dlib::matrix at compile time.  Just call set_size() on it.  See also <a href=\"http://dlib.net/faq.html#HowdoIsetthesizeofamatrixatruntime\" rel=\"nofollow\">http://dlib.net/faq.html#HowdoIsetthesizeofamatrixatruntime</a>.</p>\n\n<p>Also, if you want to use something other than a dlib::matrix as input you can do that.  You just have to define your own input layer.  The interface you must implement is fully documented here: <a href=\"http://dlib.net/dlib/dnn/input_abstract.h.html#EXAMPLE_INPUT_LAYER\" rel=\"nofollow\">http://dlib.net/dlib/dnn/input_abstract.h.html#EXAMPLE_INPUT_LAYER</a>.  You could also look at the existing input layers for examples.  But be sure to read the documentation as it will answer questions you are likely to have.</p>\n"}, {"tags": [], "owner": {"reputation": 2178, "user_id": 3209505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89cdc5a35bbffb1f0dbc1a1026642d2c?s=128&d=identicon&r=PG&f=1", "display_name": "Evgeniy", "link": "https://stackoverflow.com/users/3209505/evgeniy"}, "is_accepted": false, "score": 1, "last_activity_date": 1475752835, "creation_date": 1475752835, "answer_id": 39894631, "question_id": 39877949, "link": "https://stackoverflow.com/questions/39877949/dlib-19-1-initialize-dlibmatrix-from-image-e-g-dlibcv-image-for-dnn-trai/39894631#39894631", "title": "dlib-19.1: Initialize dlib::matrix from image (e.g. dlib::cv_image) for DNN training", "body": "<p>Dlib has an amazing function for this task: <a href=\"http://dlib.net/imaging.html#assign_image\" rel=\"nofollow\">http://dlib.net/imaging.html#assign_image</a>, but it makes copying of each element</p>\n\n<p>here is sample code on how it can be used:</p>\n\n<pre><code>// mat should be greyscale image (8UC1)\nvoid cv_to_dlib_float_matrix(const cv::Mat&amp; mat, dlib::matrix&lt;float&gt;&amp; res)\n{\n    cv::Mat tmp(mat.cols, mat.rows, CV_32FC1); \n    cv::normalize(mat, tmp, 0.0, 1.0, cv::NORM_MINMAX, CV_32FC1);\n    dlib::assign_image(res, dlib::cv_image&lt;float&gt;(tmp));\n}\n</code></pre>\n"}], "owner": {"reputation": 1160, "user_id": 2424669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d6efb7994edec524a9149639f01a5b6?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2424669/daniel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1266, "favorite_count": 0, "accepted_answer_id": 39885510, "answer_count": 2, "score": 1, "last_activity_date": 1475752835, "creation_date": 1475680852, "last_edit_date": 1475681154, "question_id": 39877949, "link": "https://stackoverflow.com/questions/39877949/dlib-19-1-initialize-dlibmatrix-from-image-e-g-dlibcv-image-for-dnn-trai", "title": "dlib-19.1: Initialize dlib::matrix from image (e.g. dlib::cv_image) for DNN training", "body": "<p>I am currently trying to train a DNN with images I have on file (OCR context... input images per class are aggregate images of several thousand fixed size tiny images).</p>\n\n<p>I have some code to open and properly segment the aggregate images into small OpenCV cv::Mat's. My problem is, there does not seem to be a way to </p>\n\n<ul>\n<li>train the DNN on dlib::cv_image directly (which can be wrapped around cv::Mat; I'm getting 500+ lines of compiler errors) or</li>\n<li>easily convert/wrap cv::Mat to dlib::matrix without copying every element</li>\n</ul>\n\n<p>I'm pretty sure I'm missing something here, any pointers would be greatly appreciated.</p>\n\n<p>Note: The only variant I got to compile was calling dlib::dnn_trainer::train() with a vector of dlib::matrix (size fixed at compile time) and a vector with unsigned long labels (unsigned labels did not compile), although train() is templated on both types. Any pointers?</p>\n"}, {"tags": ["c++", "gtk", "gtkmm"], "answers": [{"tags": [], "owner": {"reputation": 10424, "user_id": 3408572, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/0f3a08b145553b98749d3d0572d01265?s=128&d=identicon&r=PG&f=1", "display_name": "andlabs", "link": "https://stackoverflow.com/users/3408572/andlabs"}, "is_accepted": true, "score": 2, "last_activity_date": 1475689878, "creation_date": 1475689878, "answer_id": 39880652, "question_id": 39877942, "link": "https://stackoverflow.com/questions/39877942/how-to-collapse-gtkmm-notebook-tabs/39880652#39880652", "title": "How to collapse Gtkmm notebook tabs?", "body": "<p><a href=\"https://developer.gnome.org/gtk3/unstable/GtkNotebook.html#gtk-notebook-set-scrollable\" rel=\"nofollow\"><code>set_scrollable()</code> is your best bet.</a> It will add scrolling arrows on the sides of the tab labels at the top when there isn't enough room to show them all.</p>\n\n<p>Note that GtkNotebook will always ask for enough space to show the contents of all tabs, not just the one that's currently visible. If one of your tab pages is really big (say, contains a 10x10 grid of 100x100 buttons), you won't be able to resize the GtkNotebook smaller than that tab page (in that case, 1000x1000 + the height of the label area), even if the current tab page is just an empty container. All <code>set_scrollable()</code> will do is let you resize smaller than the width needed to show all tab labels at the top.</p>\n"}], "owner": {"reputation": 482, "user_id": 6792825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b035dd4b03b8fdcd5d1baac18f8035c6?s=128&d=identicon&r=PG&f=1", "display_name": "Lasse Jacobs", "link": "https://stackoverflow.com/users/6792825/lasse-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 39880652, "answer_count": 1, "score": 0, "last_activity_date": 1475689878, "creation_date": 1475680829, "question_id": 39877942, "link": "https://stackoverflow.com/questions/39877942/how-to-collapse-gtkmm-notebook-tabs", "title": "How to collapse Gtkmm notebook tabs?", "body": "<p>So I am making a Gtkmm application using a Gtk::notebook and during run-time I'm adding new tabs to the notebook. But when I add more tabs than there is space on my screen it just keeps going moving out of the screen.</p>\n\n<p>Now I know most Gtk widgets have a lot of properties that can be configured, so I'am wondering is there such a property for notebook that automatically collapses tabs or scales them in some way to make it fit inside the widget/screen.</p>\n\n<p>If not it would be great if you could give me some pointers to how to implement this functionality myself.  </p>\n"}, {"tags": ["c++", "constants"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1475680454, "post_id": 39877774, "comment_id": 67042275, "body": "/OT: Tip: <code>std::function</code> is very performance heavy (in both compilation and runtime). It shouldn&#39;t be used unless absolutely needed (you don&#39;t)."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1475680689, "post_id": 39877774, "comment_id": 67042419, "body": "Please provide exact line which makes compiler unhappy and full compiler message. Your code snippet doesn&#39;t seem to show it."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1475680761, "post_id": 39877774, "comment_id": 67042469, "body": "@Rakete1111, no worse than virtual functions all over this code (same level). OP doesn&#39;t seem to care about performance at all."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1475680920, "post_id": 39877774, "comment_id": 67042570, "body": "@SergeyA Didn&#39;t know that virtual functions were <i>that</i> bad :) Yeah, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> would be nice, <a href=\"https://ideone.com/KZArfm\" rel=\"nofollow noreferrer\">it compiles fine here</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1475681142, "post_id": 39877774, "comment_id": 67042717, "body": "Refrain from prefixing identifiers with underscores.  This style is reserved for compilers and there is a possibility that your symbols may conflict."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1475681281, "post_id": 39877774, "comment_id": 67042802, "body": "FYI, all classes that inherit from <code>iContainer</code> will be affected by your suggested change.  Do you really want to do that?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1475681373, "post_id": 39877774, "comment_id": 67042849, "body": "In C++, you don&#39;t need to use <code>this-&gt;</code> to call class methods.  It wastes development time and may introduce typos."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1475681502, "post_id": 39877774, "comment_id": 67042947, "body": "The assignment operator should return a reference to the modified instance to allow for chaining, such as <code>x = y = z;</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1475681575, "post_id": 39877774, "comment_id": 67042998, "body": "Nested structures or classes introduce complexity into your system.  Is there a need for the private structure in the <code>Timer</code> class?"}, {"owner": {"reputation": 749, "user_id": 1496472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9294bb7b1bec89e3a5cf32b0f0b7876d?s=128&d=identicon&r=PG", "display_name": "Greycon", "link": "https://stackoverflow.com/users/1496472/greycon"}, "reply_to_user": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1475682364, "post_id": 39877774, "comment_id": 67043508, "body": "Thank you all for your very instructive comments. As you can clearly see c++ is not my forte. But I really would like to know how to solve this. The example now shown is the code that fails to compile. @George, I&#39;m sorry for upsetting your sensibilities."}], "answers": [{"comments": [{"owner": {"reputation": 749, "user_id": 1496472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9294bb7b1bec89e3a5cf32b0f0b7876d?s=128&d=identicon&r=PG", "display_name": "Greycon", "link": "https://stackoverflow.com/users/1496472/greycon"}, "edited": false, "score": 0, "creation_date": 1475682612, "post_id": 39878492, "comment_id": 67043681, "body": "Hi Thomas, thank you for taking the time to write me a clear answer. I appreciate your points. In my defence, the idea is that the assignment operator would simply query the subclass for a pointer to it&#39;s data, and a size; then write these data, byte by byte to an EEPROM. Does that make sense?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "reply_to_user": {"reputation": 749, "user_id": 1496472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9294bb7b1bec89e3a5cf32b0f0b7876d?s=128&d=identicon&r=PG", "display_name": "Greycon", "link": "https://stackoverflow.com/users/1496472/greycon"}, "edited": false, "score": 0, "creation_date": 1475683383, "post_id": 39878492, "comment_id": 67044164, "body": "I work on embedded systems and I don&#39;t see any connection between the Timer and the EEPROM.  If you want to use a class to model an EEPROM, treat it as an array of <code>uint8_t</code> or <code>uint16_t</code>.  The issue is that many different types of data can be stored in EEPROM and making it a container means that you have to deal with multiple data types, which is a pain in C++."}], "tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 2, "last_activity_date": 1475682385, "creation_date": 1475682385, "answer_id": 39878492, "question_id": 39877774, "link": "https://stackoverflow.com/questions/39877774/how-do-i-use-a-const-method-in-a-superclass/39878492#39878492", "title": "How do i use a const method in a superclass", "body": "<p>I highly recommend refraining from placing assignment operators in superclasses (or parent classes).  </p>\n\n<p>There are 2 main issues here: 1) Slicing and 2) Polymorphism.  </p>\n\n<p><strong>Polymorphism</strong><br>\nPlacing an assignment operator in a super class allows for:  </p>\n\n<pre><code>class Fruit;\nclass Apple : public Fruit;\nclass Orange : public Fruit;\nvoid Blender(Fruit * p_fruit)\n(\n  Apple a;\n  Orange o;\n  Fruit * ptr_o = &amp;o;\n  Fruit * ptr_a = &amp;a;\n  // This is syntactically allowed, but may not make sense.\n  *p_fruit = *ptr_o;\n  *p_fruit = *ptr_a;\n  // This is also allowed:\n  *ptr_o = *ptr_a;  // Assigning apples to oranges\n}\n</code></pre>\n\n<p>The superclass cannot make any guarantees (contract) about the child classes.  </p>\n\n<p><strong>Slicing (, form of)</strong><br>\nThe only guarantee when assigning members are the members in the superclass.  This is a form of slicing; only the superclass members are copied (assigned).  </p>\n\n<p>One could create a virtual assignment method, but again, the child has no idea if the parameter is to a cousin or a sibling (see Polymorphism above).  </p>\n\n<p><strong>Summary</strong>\nDon't place assignment operators in superclasses or parent classes.  If your superclass has data members, create a <em>protected</em> method that assigns the members of the superclass.  Don't infer anything about the child classes.  </p>\n"}, {"tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1475683080, "creation_date": 1475683080, "answer_id": 39878717, "question_id": 39877774, "link": "https://stackoverflow.com/questions/39877774/how-do-i-use-a-const-method-in-a-superclass/39878717#39878717", "title": "How do i use a const method in a superclass", "body": "<p>The error message is very clear.</p>\n\n<pre><code> prog.cpp:24:74: error: passing 'const iContainer' as 'this' argument discards qualifiers [-fpermissive]\n     void operator= (const iContainer &amp;T) {   this-&gt;deSerialize(T.getData()); };\n</code></pre>\n\n<p><code>getData</code> is a non-const function, you are not allowed to call it for T which is a const   reference. This has nothing to do with assignment.</p>\n\n<p>There are many ways to make this work:</p>\n\n<ul>\n<li>don't call the useless <code>getData()</code> on a const reference</li>\n<li>provide a const overload for <code>getData()</code></li>\n<li>provide a dedicated const notification callback</li>\n<li>ditch assignment altogether (it's a really bad idea in a polymorphic class hierarchy anyway)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 749, "user_id": 1496472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9294bb7b1bec89e3a5cf32b0f0b7876d?s=128&d=identicon&r=PG", "display_name": "Greycon", "link": "https://stackoverflow.com/users/1496472/greycon"}, "is_accepted": false, "score": 0, "last_activity_date": 1475685699, "creation_date": 1475685699, "answer_id": 39879528, "question_id": 39877774, "link": "https://stackoverflow.com/questions/39877774/how-do-i-use-a-const-method-in-a-superclass/39879528#39879528", "title": "How do i use a const method in a superclass", "body": "<p>OK, I got it to compile - I need to learn more about the semantics of \"const\". I understand this is a contrived example. </p>\n\n<p>#include \n    #include </p>\n\n<pre><code>class   iContainer  {\npublic:\n    virtual         const int       size() const = 0;\n    virtual         const uint8_t * getData() const  = 0;\n    void    operator=(const iContainer &amp;iC) { saveToEEPROM(iC.getData(), iC.size()); }\n\nprivate:\n    void    saveToEEPROM(const uint8_t *pData, int size) {\n        // Save the data to EEPROM. \n    }\n};\n\n\nclass Timer : public iContainer {\npublic:\n    Timer()  {\n        pData.myData = 0;\n    };\n    Timer(uint8_t startHour) {\n        pData.myData = startHour;\n    }\n    virtual const int size()  { return sizeof(pData); }\n    virtual const uint8_t *getData()  { return (const uint8_t *)&amp;pData; };\nprivate:\n    struct {\n        uint8_t myData;\n    }   pData;\n};\n</code></pre>\n"}], "owner": {"reputation": 749, "user_id": 1496472, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9294bb7b1bec89e3a5cf32b0f0b7876d?s=128&d=identicon&r=PG", "display_name": "Greycon", "link": "https://stackoverflow.com/users/1496472/greycon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1475685699, "creation_date": 1475680343, "last_edit_date": 1475685147, "question_id": 39877774, "link": "https://stackoverflow.com/questions/39877774/how-do-i-use-a-const-method-in-a-superclass", "title": "How do i use a const method in a superclass", "body": "<p>OK, I'm going to try this one more time. I am not an experienced C++ programmer, so I just need a little help with something. Here is some very simple code, which won't compile. What I want to know is, is it possible to define the getData() and size() methods, such that the code will compile? The error i get is:</p>\n\n<p>error C2662: 'iContainer::getData' : cannot convert 'this' pointer from 'const iContainer' to 'iContainer &amp;'</p>\n\n<pre><code>#include &lt;functional&gt;\n#include &lt;stdint.h&gt;\n\nclass   iContainer  {\npublic:\n    virtual         const int       size()  = 0;\n    virtual         const uint8_t * getData()   = 0;\n    void    operator=(const iContainer &amp;iC) { saveToEEPROM(iC.getData(), iC.size()); }\n\nprivate:\n    void    saveToEEPROM(uint8_t *pData, int size) {\n        // Save the data to EEPROM. \n    }\n};\n\n\nclass Timer : public iContainer {\npublic:\n    Timer()  {\n        pData.myData = 0;\n    };\n    Timer(uint8_t startHour) {\n        pData.myData = startHour;\n    }\n    virtual const int size()  { return sizeof(pData); }\n    virtual const uint8_t *getData()  { return (const uint8_t *)&amp;pData; };\nprivate:\n    struct {\n        uint8_t myData;\n    }   pData;\n\n}\n</code></pre>\n"}, {"tags": ["c++", "linux", "windows", "gnu-make", "mingw-w64"], "comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1475714965, "post_id": 39877286, "comment_id": 67058264, "body": "Are you trying to link to a library that was compiled with Visual Studio, perhaps?  I know <code>__imp_</code> is used by MSVS to indicate that a function is <code>DLLImport</code> (it encodes the <code>__declspec(dllimport)</code> in the declaration), so it could be related to that."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1475715102, "post_id": 39877286, "comment_id": 67058290, "body": "You might find a possible fix <a href=\"https://sourceforge.net/p/mingw-w64/discussion/723797/thread/c0c90b27/\" rel=\"nofollow noreferrer\">here</a>, it appears to be a similar situation.  Not sure if it&#39;s outright identical, but it might help."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6929216, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gw0bqcRaMiY/AAAAAAAAAAI/AAAAAAAAAMQ/tAQjDngNnf0/photo.jpg?sz=128", "display_name": "Kelly Price", "link": "https://stackoverflow.com/users/6929216/kelly-price"}, "is_accepted": false, "score": 0, "last_activity_date": 1475713781, "creation_date": 1475713781, "answer_id": 39885698, "question_id": 39877286, "link": "https://stackoverflow.com/questions/39877286/undefined-reference-to-imp-when-using-mingw-on-linux/39885698#39885698", "title": "undefined reference to `__imp_*` when using mingw on linux", "body": "<p>This tells me you're missing some sort of standard library, but I don't know which.  Given this is MinGW, I think you need to check the info on ./configure --help first.  </p>\n"}], "owner": {"reputation": 1, "user_id": 6927048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bee5ce855d0a6ae2ff818ce63ed9aa54?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Mcslay", "link": "https://stackoverflow.com/users/6927048/jack-mcslay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1641, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1475713781, "creation_date": 1475679079, "question_id": 39877286, "link": "https://stackoverflow.com/questions/39877286/undefined-reference-to-imp-when-using-mingw-on-linux", "title": "undefined reference to `__imp_*` when using mingw on linux", "body": "<p>I'm trying to build libsigc++ 2.9.3 to use it to compile other software for windows using mingw on ubuntu and I'm getting a linker error when I try to make it:</p>\n\n<pre><code>libtool: link: /usr/bin/x86_64-w64-mingw32-g++  -shared -nostdlib /usr/lib/gcc/x86_64-w64-mingw32/4.9-win32/../../../../x86_64-w64-mingw32/lib/dllcrt2.o /usr/lib/gcc/x86_64-w64-mingw32/4.9-win32/../../../../x86_64-w64-mingw32/lib/crtbegin.o  .libs/signal_base.o .libs/trackable.o .libs/connection.o functors/.libs/slot_base.o adaptors/lambda/.libs/lambda.o    -L/usr/lib/gcc/x86_64-w64-mingw32/4.9-win32 -L/usr/lib/gcc/x86_64-w64-mingw32/4.9-win32/../../../../x86_64-w64-mingw32/lib -lstdc++ -ladvapi32 -lshell32 -luser32 -lkernel32 -lmingw32 -lgcc_s -lgcc -lmoldname -lmingwex -lmsvcrt /usr/lib/gcc/x86_64-w64-mingw32/4.9-win32/../../../../x86_64-w64-mingw32/lib/crtend.o  -g3 -gdwarf-2   -Wl,-soname -Wl,libsigc-2.0.so.0 -o .libs/libsigc-2.0.so.0.0.0\n/usr/lib/gcc/x86_64-w64-mingw32/4.9-win32/../../../../x86_64-w64-mingw32/lib/libmingw32.a(lib64_libmingw32_a-gs_support.o): In function `__security_init_cookie': /build/buildd/mingw-w64-4.0.2/build/x86_64-w64-mingw32-x86_64-w64-mingw32-crt/../../mingw-w64-crt/crt/gs_support.c:62: undefined reference to `__imp_GetSystemTimeAsFileTime'\n/build/buildd/mingw-w64-4.0.2/build/x86_64-w64-mingw32-x86_64-w64-mingw32-crt/../../mingw-w64-crt/crt/gs_support.c:70: undefined reference to `__imp_GetCurrentProcessId'\n(...)\n</code></pre>\n\n<p>how do I fix this linker error, preferably without the need to fix the source code or makefiles?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1475679112, "post_id": 39877256, "comment_id": 67041228, "body": "What did you expect with <code>protected</code> inheritance?"}, {"owner": {"reputation": 586, "user_id": 6159217, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cf02c33ce95856d3094552a5ce7f7fba?s=128&d=identicon&r=PG&f=1", "display_name": "IntegrateThis", "link": "https://stackoverflow.com/users/6159217/integratethis"}, "reply_to_user": {"reputation": 59234, "user_id": 496161, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c425873f547d93f4079ca252b42a886d?s=128&d=identicon&r=PG", "display_name": "TartanLlama", "link": "https://stackoverflow.com/users/496161/tartanllama"}, "edited": false, "score": 0, "creation_date": 1475679174, "post_id": 39877256, "comment_id": 67041278, "body": "@TartanLlama edited to explain my confusion."}, {"owner": {"reputation": 1469, "user_id": 3751615, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/F7Hw5.jpg?s=128&g=1", "display_name": "PRP", "link": "https://stackoverflow.com/users/3751615/prp"}, "edited": false, "score": 1, "creation_date": 1475679388, "post_id": 39877256, "comment_id": 67041477, "body": "<a href=\"http://stackoverflow.com/a/1372858/3751615\">stackoverflow.com/a/1372858/3751615</a> best explanation i have found for this concept"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1475679415, "post_id": 39877256, "comment_id": 67041504, "body": "<code>B</code> will inherit all of <code>A</code>&#39;s members (data or functions) regardless of the type of inheritance. What changes is the <i>access</i> to the inherited members."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 2, "creation_date": 1475679501, "post_id": 39877256, "comment_id": 67041561, "body": "These duplicates answer the visibility for data members but not why a <code>B</code> can&#39;t be passed to a function that wants an <code>A</code> when <code>B</code> inherits from <code>A</code> through <code>protected</code>. Voting to reopen."}, {"owner": {"reputation": 586, "user_id": 6159217, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cf02c33ce95856d3094552a5ce7f7fba?s=128&d=identicon&r=PG&f=1", "display_name": "IntegrateThis", "link": "https://stackoverflow.com/users/6159217/integratethis"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1475679633, "post_id": 39877256, "comment_id": 67041660, "body": "@GillBates can you elaborate why this is true."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 2, "creation_date": 1475679666, "post_id": 39877256, "comment_id": 67041695, "body": "Basically because <code>foo</code> doesn&#39;t have access to <code>A</code> through a <code>B</code>."}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 1, "creation_date": 1475679972, "post_id": 39877256, "comment_id": 67041923, "body": "I agree with GillBates, some answers in the duplicate target skim over the reason why this happens, but it isn&#39;t a duplicate."}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1475680247, "post_id": 39877256, "comment_id": 67042144, "body": "@Barry It would be nice to have your input on this since you single-handedly closed the question."}, {"owner": {"reputation": 29011, "user_id": 442284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5c1e7936dd4e0e08a75b7b16aebb6f1?s=128&d=identicon&r=PG", "display_name": "CashCow", "link": "https://stackoverflow.com/users/442284/cashcow"}, "edited": false, "score": 1, "creation_date": 1475680249, "post_id": 39877256, "comment_id": 67042146, "body": "I have actually used protected inheritance in production code. Quite rare but it solved the particular problem very well."}, {"owner": {"reputation": 29011, "user_id": 442284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5c1e7936dd4e0e08a75b7b16aebb6f1?s=128&d=identicon&r=PG", "display_name": "CashCow", "link": "https://stackoverflow.com/users/442284/cashcow"}, "edited": false, "score": 0, "creation_date": 1475680489, "post_id": 39877256, "comment_id": 67042297, "body": "I have one of those gold C++ badges too but I agree that this is well-enough answered in the linked question."}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "reply_to_user": {"reputation": 29011, "user_id": 442284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5c1e7936dd4e0e08a75b7b16aebb6f1?s=128&d=identicon&r=PG", "display_name": "CashCow", "link": "https://stackoverflow.com/users/442284/cashcow"}, "edited": false, "score": 1, "creation_date": 1475680616, "post_id": 39877256, "comment_id": 67042379, "body": "@CashCow I think we disagree on what a duplicate target should be. Just because the answers of one question happen to answer another question does not make both of them a duplicate. The duplicate target answers the different between the three different inheritances while the current question is basically &quot;When using protected inheritance, why can&#39;t we substitute a variable of the parent class with the child class?&quot;."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 0, "creation_date": 1475680620, "post_id": 39877256, "comment_id": 67042382, "body": "@VincentSavard <a href=\"http://stackoverflow.com/a/1374362/2069064\">This answer</a>."}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1475680659, "post_id": 39877256, "comment_id": 67042406, "body": "@Barry I posted a comment at the same time as yours which explains why I disagree that they&#39;re duplicate."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 0, "creation_date": 1475680821, "post_id": 39877256, "comment_id": 67042502, "body": "@VincentSavard Yeah, and a consequence of the difference between the three different inheritances is WHY OP&#39;s code fails. That&#39;s the underlying answer. If you feel the answers to THAT question are insufficient, feel free to add your own. This question is just a minor subset of that one."}, {"owner": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "reply_to_user": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 1, "creation_date": 1475680916, "post_id": 39877256, "comment_id": 67042566, "body": "@Barry &quot;This question is just a minor subset of that one.&quot;, which is exactly why they&#39;re not duplicates. I&#39;m not going to argue more about this, but I find it sad to see so many questions being closed as duplicate targets when it&#39;s arguable that they are not, especially when it&#39;s closed with the dupe-hammer and the community doesn&#39;t have the time to actually vote on this."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 30577, "user_id": 476496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85197b0087c5bee323d2690c977878f8?s=128&d=identicon&r=PG", "display_name": "Vincent Savard", "link": "https://stackoverflow.com/users/476496/vincent-savard"}, "edited": false, "score": 1, "creation_date": 1475681677, "post_id": 39877256, "comment_id": 67043055, "body": "@VincentSavard Feel free to post on meta if you feel strongly about it. A dupe doesn&#39;t mean literally the exact same question. That&#39;s far too narrow. It means that the information presented in the old question answers the new question."}], "answers": [{"comments": [{"owner": {"reputation": 29011, "user_id": 442284, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/b5c1e7936dd4e0e08a75b7b16aebb6f1?s=128&d=identicon&r=PG", "display_name": "CashCow", "link": "https://stackoverflow.com/users/442284/cashcow"}, "edited": false, "score": 0, "creation_date": 1475680122, "post_id": 39877561, "comment_id": 67042056, "body": "It works as an example although C::foo is unrelated to free-function foo, albeit it shows the cast from C to A even though it slices in so-doing."}], "tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": true, "score": 2, "last_activity_date": 1475679763, "creation_date": 1475679763, "answer_id": 39877561, "question_id": 39877256, "link": "https://stackoverflow.com/questions/39877256/protected-class-inheritance-in-c/39877561#39877561", "title": "Protected class inheritance in C++", "body": "<p>A class that inherits the protected parent class can get to it, otherwise it is considered private:</p>\n\n<pre><code>class A {};\nclass B : protected A {};\nA foo(A a) { return a; };\nclass C : public B {\npublic:\n    A foo(C c) { return c; };\n\n};\n\nint main() {\n    B b;\n    //foo(b); // Can't implicitly convert, A is protected (might as well be private from this line's perspective)\n    C c;\n    A a = c.foo(c); // class C can get A\n}\n</code></pre>\n"}], "owner": {"reputation": 586, "user_id": 6159217, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/cf02c33ce95856d3094552a5ce7f7fba?s=128&d=identicon&r=PG&f=1", "display_name": "IntegrateThis", "link": "https://stackoverflow.com/users/6159217/integratethis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 39877561, "answer_count": 1, "score": 1, "last_activity_date": 1475692580, "creation_date": 1475679026, "last_edit_date": 1475679160, "question_id": 39877256, "link": "https://stackoverflow.com/questions/39877256/protected-class-inheritance-in-c", "title": "Protected class inheritance in C++", "body": "<p>The following code is giving me the error that 'A' is an inaccessible base of 'B' and I am not sure why:</p>\n\n<pre><code>class A {};\nclass B : protected A {};\nA foo( A a ); \n///\nB b; \nfoo(b);\n</code></pre>\n\n<p>Any explanation for this much appreciated.</p>\n\n<p>Edit: I suppose I am just confused about the nature of protected inheritance. I thought it meant that any derived class (in this case of A) could inherit its variables and its functions.</p>\n"}, {"tags": ["c++", "random"], "comments": [{"owner": {"reputation": 1283, "user_id": 3897333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51d784367ca82572dea0a2c43217770b?s=128&d=identicon&r=PG", "display_name": "Paul Stelian", "link": "https://stackoverflow.com/users/3897333/paul-stelian"}, "edited": false, "score": 1, "creation_date": 1475678952, "post_id": 39877158, "comment_id": 67041085, "body": "The built-in &quot;rand&quot; library is not designed for security."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 6, "creation_date": 1475678999, "post_id": 39877158, "comment_id": 67041121, "body": "Move <code>srand</code> out of the loop. You should normally only call it once."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1475679059, "post_id": 39877158, "comment_id": 67041176, "body": "What is wrong with the results you are getting?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 4, "creation_date": 1475679066, "post_id": 39877158, "comment_id": 67041180, "body": "How many times do you plan to run this little program? There are only 27 distinct outputs it can possibly produce."}, {"owner": {"reputation": 2933, "user_id": 6350858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfeae5d1ddef3ed5e81e88bdd30063f?s=128&d=identicon&r=PG&f=1", "display_name": "Ap31", "link": "https://stackoverflow.com/users/6350858/ap31"}, "edited": false, "score": 0, "creation_date": 1475679072, "post_id": 39877158, "comment_id": 67041190, "body": "what exactly do you want to achieve here? 102 seems random enough to me"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475679143, "post_id": 39877158, "comment_id": 67041248, "body": "For randomness GUID is the ultimate, other rand generator all depends on some random seeds and they are not &#39;truely&#39;  random"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475679237, "post_id": 39877158, "comment_id": 67041337, "body": "@seccpur - unless you&#39;ve a dedicated piece of hardware in your machine, GUID isn&#39;t &#39;truely&#39; random either.  Have a read of <a href=\"https://www.random.org/\" rel=\"nofollow noreferrer\">random.org</a>"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1475679427, "post_id": 39877158, "comment_id": 67041514, "body": "@UKMonkey: explain &quot;dedicated piece of hardware&quot; ? GUID use time, date and processor ID/mac ID , which every computer has, to generate GUID. A computer without processor  or timer is unthinkable"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1475679501, "post_id": 39877158, "comment_id": 67041564, "body": "<i>&quot;If I see 102 at some point in its operation, I&#39;d want it so that I never see 102 again&quot;</i> But why? When you throw a dice, and it comes up 6, do you expect it to never come up 6 again? That would suggest very strongly that the dice is loaded. It is perfectly normal and expected for a uniformly distributed random sequence to contain repeated subsequences - in fact, the probability of this happening tends to 1 as the length of the sequence increases. There are only so many distinct three-digit combinations, it&#39;s physically impossible to never repeat one."}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475679751, "post_id": 39877158, "comment_id": 67041754, "body": "@seccpur - it&#39;s off topic, but none of those you&#39;ve listed are random; there&#39;s no way you&#39;ve read and digested the link in 4 minutes, so I&#39;ll leave you to take a look."}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1475679824, "post_id": 39877158, "comment_id": 67041809, "body": "@UKMonkey:Anyway thanks for the discussion was interesting tho"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475679930, "post_id": 39877158, "comment_id": 67041884, "body": "@seccpur quick example of dedicated hardware:  detect RF noise in atmosphere; detection of decay of radioactive particles"}, {"owner": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "reply_to_user": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 0, "creation_date": 1475680558, "post_id": 39877158, "comment_id": 67042340, "body": "@UKMonkey: that probability would be too slimmed to be considered?"}, {"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "reply_to_user": {"reputation": 4650, "user_id": 6755083, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/CVobU.png?s=128&g=1", "display_name": "seccpur", "link": "https://stackoverflow.com/users/6755083/seccpur"}, "edited": false, "score": 0, "creation_date": 1475680755, "post_id": 39877158, "comment_id": 67042466, "body": "@seccpur Hence why I was correcting you for wanting something &#39;truely&#39; random.  The GUID as you say is based upon a number of other seeds; which random generators can have access to anyway, and I suspect they (or a subset) are used by &lt;random&gt; anyway."}], "answers": [{"comments": [{"owner": {"reputation": 355, "user_id": 3960991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1641737821/picture?type=large", "display_name": "Andr&#233; Foote", "link": "https://stackoverflow.com/users/3960991/andr%c3%a9-foote"}, "edited": false, "score": 0, "creation_date": 1475688373, "post_id": 39877322, "comment_id": 67047135, "body": "Hey Jerry, thanks a lot for taking the time to answer, especially with that third edit. I&#39;d gotten stuck for a while but I&#39;m pursuing the container approach you suggested, and having fun with it!"}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": true, "score": 5, "last_activity_date": 1475682652, "last_edit_date": 1475682652, "creation_date": 1475679153, "answer_id": 39877322, "question_id": 39877158, "link": "https://stackoverflow.com/questions/39877158/trying-to-produce-a-unique-sequence-of-random-numbers-per-iteration/39877322#39877322", "title": "Trying to produce a unique sequence of random numbers per iteration", "body": "<p>First of all, if you were going to use <code>srand</code>/<code>rand</code>, you'd want to seed it once (and only once) at the beginning of each execution of the program:</p>\n\n<pre><code>int main() {\n    srand(time(NULL));\n    for (int i = 0; i &lt; 3; i++) {\n    cout &lt;&lt; rand() % 3;\n    cout &lt;&lt; rand() % 3;\n    cout &lt;&lt; rand() % 3 &lt;&lt; '\\n' &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Second, <code>time</code> typically only produces a result with a resolution of one second, so even with this correction, if you run the program twice in the same second, you can expect it to produce identical results in the two runs.</p>\n\n<p>Third, you don't really want to use <code>srand</code>/<code>rand</code> anyway. The random number generator in <code>&lt;random&gt;</code> are generally considerably better (and, perhaps more importantly, are enough better defined that they represent a much better-known quantity).</p>\n\n<pre><code>#include &lt;random&gt;\n#include &lt;iostream&gt;\n\nint main() { \n    std::mt19937_64 gen { std::random_device()() };\n    std::uniform_int_distribution&lt;int&gt; d(0, 2);\n\n    for (int i = 0; i &lt; 3; i++) {\n        for (int j=0; j&lt;3; j++)\n            std::cout &lt;&lt; d(gen);\n        std::cout &lt;&lt; \"\\n\";\n    }\n}\n</code></pre>\n\n<p>Based on the edit, however, this still isn't adequate. What you really want is a random sample without duplication. To get that, you need to do more than just generate numbers. Randomly generated numbers not only can repeat, but inevitably <em>will</em> repeat if you generate enough of them (but the likelihood of repetition becomes quite high even when it's not yet inevitable).</p>\n\n<p>As long as the number of results you're producing is small compared to the number of possible results, you can pretty easily just store results in a set as you produce them, and only treat a result as actual output if it wasn't previously present in the set:</p>\n\n<pre><code>#include &lt;random&gt;\n#include &lt;iostream&gt;\n#include &lt;set&gt;\n#include &lt;iomanip&gt;\n\nint main() {\n    std::mt19937_64 gen { std::random_device()() };\n    std::uniform_int_distribution&lt;int&gt; d(0, 999);\n    std::set&lt;int&gt; results;\n\n    for (int i = 0; i &lt; 50;) {\n        int result = d(gen);\n        if (results.insert(result).second) {\n            std::cout &lt;&lt; std::setw(5) &lt;&lt; result;\n            ++i;\n            if (i % 10 == 0)\n                std::cout &lt;&lt; \"\\n\";\n        }\n    }\n}\n</code></pre>\n\n<p>This becomes quite inefficient if the number of results approaches the number of possible results. For example, let's assume your producing numbers from 1 to 1000 (so 1000 possible results). Consider what happens if you decide to produce 1000 results (i.e., all possible results). In this case, when you're producing the last result, there's really only one possibility left--but rather than just producing that one possibility, you produce one random number after another after another, until you stumble across the one possibility that remains.</p>\n\n<p>For such a case, there are better ways to do the job. For example, you can start with a container holding all the possible numbers. To generate an output, you generate a random index into that container. You output that number, and remove that number from the container, then repeat (but this time, the container is one smaller, so you reduce the range of your random index by one). This way, each random number you produce gives one output.</p>\n\n<p>It <em>is</em> possible to do the same by just shuffling an array of numbers. This has two shortcomings though. First, you need to shuffle them correctly--a Fischer-Yates shuffle works nicely, but otherwise it's easy to produce bias. Second, unless you actually do use all (or <em>very</em> close to all) the numbers in the array, this is inefficient. </p>\n\n<p>For an extreme case, consider wanting a few (10, for example) 64-bit numbers. In this, you start by filling an array with numbers from 2<sup>64</sup>-1. You then do 2<sup>64</sup>-2 swaps. So, you're doing roughly 2<sup>65</sup> operations just to produce 10 numbers. In this extreme of a case, the problem should be quite obvious. Although it's less obvious if you produce (say) 1000 numbers of 32 bits apiece, you still have the same basic problem, just to a somewhat lesser degree. So, while this is a valid way to do things for a few specific cases, its applicability is fairly narrow.</p>\n"}, {"tags": [], "owner": {"reputation": 16237, "user_id": 2166798, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/417356917295f5176d2a3e7c21d8f9e8?s=128&d=identicon&r=PG", "display_name": "pjs", "link": "https://stackoverflow.com/users/2166798/pjs"}, "is_accepted": false, "score": 0, "last_activity_date": 1475686648, "last_edit_date": 1475686648, "creation_date": 1475679922, "answer_id": 39877624, "question_id": 39877158, "link": "https://stackoverflow.com/questions/39877158/trying-to-produce-a-unique-sequence-of-random-numbers-per-iteration/39877624#39877624", "title": "Trying to produce a unique sequence of random numbers per iteration", "body": "<p>Generate an array containing the 27 three digit numbers whose digits are less than 3.  <a href=\"https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\" rel=\"nofollow\">Shuffle</a> it.  Iterate through the shuffled array as needed, values will be unique until you've exhausted them all.</p>\n\n<p>As other people have pointed out, don't keep reseeding your random number generator.  Also, <code>rand</code> is a terrible generator, you should use one of the better choices available in C++'s standard libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 14257, "user_id": 820127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f8fffeec4f2ba3e75aebe941e4e5dd?s=128&d=identicon&r=PG", "display_name": "rossum", "link": "https://stackoverflow.com/users/820127/rossum"}, "is_accepted": false, "score": 0, "last_activity_date": 1475761519, "creation_date": 1475761519, "answer_id": 39897723, "question_id": 39877158, "link": "https://stackoverflow.com/questions/39877158/trying-to-produce-a-unique-sequence-of-random-numbers-per-iteration/39897723#39897723", "title": "Trying to produce a unique sequence of random numbers per iteration", "body": "<p>You are effectively generating a three digit base 3 number.  Use your RNG of choice to generate a base 10 number in the range 0 .. 26 and convert it to base 3.  That gives 000 .. 222.</p>\n\n<p>If you absolutely must avoid repeats, then shuffle an array as pjs suggests.  That will result in later numbers being 'less random' than the earlier numbers because they are taken from a smaller pool.</p>\n"}], "owner": {"reputation": 355, "user_id": 3960991, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1641737821/picture?type=large", "display_name": "Andr&#233; Foote", "link": "https://stackoverflow.com/users/3960991/andr%c3%a9-foote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 39877322, "answer_count": 3, "score": -1, "last_activity_date": 1475761519, "creation_date": 1475678776, "last_edit_date": 1475679859, "question_id": 39877158, "link": "https://stackoverflow.com/questions/39877158/trying-to-produce-a-unique-sequence-of-random-numbers-per-iteration", "title": "Trying to produce a unique sequence of random numbers per iteration", "body": "<p>As the title states, I'm trying to create a unique sequence of random numbers every time I run this little program.</p>\n\n<p>However, sometimes I get results like:</p>\n\n<pre><code>102\n201\n102\n</code></pre>\n\n<p>The code</p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main() {\n        for (int i = 0; i &lt; 3; i++) {\n                srand (time(NULL)+i);\n                cout &lt;&lt; rand() % 3;\n                cout &lt;&lt; rand() % 3;\n                cout &lt;&lt; rand() % 3 &lt;&lt; '\\n' &lt;&lt; endl;\n        }\n}\n</code></pre>\n\n<p>Clearly srand doesn't have quite the magical functionality I wanted it to. I'm hoping that there's a logical hack around this though?</p>\n\n<p>Edit1: To clarify, this is just a simple test program for what will be implemented on a larger scale. So instead of 3 iterations of rand%3, I might run 1000, or more of rand%50.\nIf I see 102 at some point in its operation, I'd want it so that I never see 102 again.</p>\n"}]