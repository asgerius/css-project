[{"tags": ["c++", "qt", "sockets", "tcp", "qurl"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8906061, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KRv-bkszdh8/AAAAAAAAAAI/AAAAAAAAABg/w4P45LPyRbw/photo.jpg?sz=128", "display_name": "Alexander Gin", "link": "https://stackoverflow.com/users/8906061/alexander-gin"}, "is_accepted": false, "score": 2, "last_activity_date": 1510137638, "creation_date": 1510137638, "answer_id": 47177514, "question_id": 46699233, "link": "https://stackoverflow.com/questions/46699233/qtro-class-qremoteobjects-how-can-connect-2-and-more-remote-peers-beetwen-tc/47177514#47177514", "title": "QtRO - class qremoteobjects - how can connect 2 and more remote peers beetwen TCP", "body": "<p>The valid value, use instead of <code>QUrl(\"local.registry\")</code>: </p>\n\n<pre><code>QUrl(\"tcp://192.168.0.3:-1\");\n</code></pre>\n\n<p>The valid value, use instead of <code>QUrl(\"local.replica\")</code>:</p>\n\n<pre><code>QUrl(\"tcp://192.168.0.3:9999\");\n</code></pre>\n\n<p>The IP address <em>192.168.0.3</em> - used for example (it value valid for my workstation in our office network) in your case IP address can contain other digits. </p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 1344041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ba81b3a8be5b80292027cb11ce70abf?s=128&d=identicon&r=PG", "display_name": "jomamaxx", "link": "https://stackoverflow.com/users/1344041/jomamaxx"}, "is_accepted": false, "score": 0, "last_activity_date": 1544484692, "creation_date": 1544484692, "answer_id": 53715263, "question_id": 46699233, "link": "https://stackoverflow.com/questions/46699233/qtro-class-qremoteobjects-how-can-connect-2-and-more-remote-peers-beetwen-tc/53715263#53715263", "title": "QtRO - class qremoteobjects - how can connect 2 and more remote peers beetwen TCP", "body": "<p>If Qt is indicating that 'the address is in use' then that is likely the source of the problem, literally the socket at IP:PORT is being used. You may check your development environment to see if you have multiple processes running of the same app - this is often the case and it leads to a collision of address spaces. We see this error in our environment consistently, and the root cause is simply as stated: 'the address is in use'.</p>\n"}], "owner": {"reputation": 11, "user_id": 8761789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb87a453c1f16721ef3d61773e1871e3?s=128&d=identicon&r=PG&f=1", "display_name": "An21", "link": "https://stackoverflow.com/users/8761789/an21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1544484692, "creation_date": 1507765802, "last_edit_date": 1592644375, "question_id": 46699233, "link": "https://stackoverflow.com/questions/46699233/qtro-class-qremoteobjects-how-can-connect-2-and-more-remote-peers-beetwen-tc", "title": "QtRO - class qremoteobjects - how can connect 2 and more remote peers beetwen TCP", "body": "<p>I was build example simpleswitch with registry node in Qt5.9. It's work fine, but when i replace <em>QUrl(&quot;local.registry&quot;)</em> and <em>QUrl(&quot;local.replica&quot;)</em> in definition <strong>QRemoteObjectRegistryHost</strong> and <strong>QRemoteObjectHost</strong> to <em>QUrl(&quot;tcp://localhost:9999&quot;)</em> or <em>&quot;tcp://127.0.0.1:9999&quot;</em>, or paste current host address to defniton... i have error after run app...</p>\n<blockquote>\n<p>qt.remoteobjects:  Listen failed for URL: QUrl(&quot;tcp://127.0.0.1:9999&quot;)</p>\n<p>qt.remoteobjects:  QAbstractSocket::AddressInUseError</p>\n<p>qt.remoteobjects:  Could not create ClientIoDevice for client. Invalid url/scheme provided? QUrl(&quot;&quot;)</p>\n</blockquote>\n"}, {"tags": ["c++", "recursion", "anchor"], "comments": [{"owner": {"reputation": 381813, "user_id": 1863229, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4sh1l.png?s=128&g=1", "display_name": "Tim Biegeleisen", "link": "https://stackoverflow.com/users/1863229/tim-biegeleisen"}, "edited": false, "score": 0, "creation_date": 1507765835, "post_id": 46699224, "comment_id": 80345904, "body": "Thia definition looks wrong to me, and I think the base case should be returning 1, otherwise every input will return zero."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5871594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322f4004b5990421e2759ba2415a4344?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Bit", "link": "https://stackoverflow.com/users/5871594/kim-bit"}, "edited": false, "score": 0, "creation_date": 1507766641, "post_id": 46699272, "comment_id": 80346092, "body": "I get that. What I really don&#39;t understand is.. if, say, fib(n-1) in inductive case gets replaced by 1 after anchor case is reached and becomes &quot;return 1 + fib(n-2)&quot;, can we say that the function value was specified for the parameter value? In other words, does &quot;fib(n-1) + fib(n-2)&quot; in inductive case considered to be parameters in this case?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 13, "user_id": 5871594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322f4004b5990421e2759ba2415a4344?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Bit", "link": "https://stackoverflow.com/users/5871594/kim-bit"}, "edited": false, "score": 0, "creation_date": 1507767116, "post_id": 46699272, "comment_id": 80346181, "body": "I&#39;m not sure what you&#39;re asking. The only parameter is <code>n</code>. In the inductive case, you call the function again with different parameters, <code>n-1</code> and <code>n-2</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 13, "user_id": 5871594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322f4004b5990421e2759ba2415a4344?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Bit", "link": "https://stackoverflow.com/users/5871594/kim-bit"}, "edited": false, "score": 0, "creation_date": 1507767170, "post_id": 46699272, "comment_id": 80346193, "body": "When the textbook says &quot;specified&quot;, it means that there&#39;s a predefined result for that input, rather than having to compute it using induction."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507766032, "creation_date": 1507766032, "answer_id": 46699272, "question_id": 46699224, "link": "https://stackoverflow.com/questions/46699224/anchor-case-definition-in-recursion/46699272#46699272", "title": "Anchor case definition in recursion", "body": "<p>Some recursive functions have more than one base case. For instance, The Fibonacci sequence has specified values for inputs <code>0</code> and <code>1</code>, and recurses for higher values.</p>\n\n<pre><code>unsigned int fib(unsigned n) {\n    if (n == 0 || n == 1) {\n        return 1;\n    } else {\n        return fib(n-1) + fib(n-2);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1507768525, "creation_date": 1507768525, "answer_id": 46699599, "question_id": 46699224, "link": "https://stackoverflow.com/questions/46699224/anchor-case-definition-in-recursion/46699599#46699599", "title": "Anchor case definition in recursion", "body": "<p>This refers to functional parameters.  This is a static property of the function; it has nothing to do with transient status at run-time.  \"when the run-time stack gets popped\" is not an issue.</p>\n\n<p>The concept is that every recursion must move us closer to an answer.  That means that there must be an absolute (not recursive) value at the bottom of the call tree.  That answer is the anchor case.</p>\n\n<p>Some processes will have only one anchor.  Fibonacci has two.  Some have more, depending on where the \"bottom\" is for that particular process.</p>\n"}], "owner": {"reputation": 13, "user_id": 5871594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322f4004b5990421e2759ba2415a4344?s=128&d=identicon&r=PG&f=1", "display_name": "Kim Bit", "link": "https://stackoverflow.com/users/5871594/kim-bit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 788, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1507768525, "creation_date": 1507765702, "last_edit_date": 1507765866, "question_id": 46699224, "link": "https://stackoverflow.com/questions/46699224/anchor-case-definition-in-recursion", "title": "Anchor case definition in recursion", "body": "<p>Anchor case definition is as follows:</p>\n\n<blockquote>\n  <p>The value of the function is specified for one or more values of the parameter.</p>\n</blockquote>\n\n<p>Now let's take a look at the recursive factorial function:</p>\n\n<pre><code>int fact(int n)\n{\n   if (n == 0)\n      return 1;\n   else\n      return n * fact(n - 1);\n}\n</code></pre>\n\n<p>I understand this bit: \"the value of the function is specified...\"\nI get that; when the function reaches anchor case, it simply returns 1. </p>\n\n<p>What I don't understand is that how the value of the function is \"specified for one or more values of the parameter\"?</p>\n\n<p>Is the definition talking about the function parameter or the mathematical terms of parameter? I just don't see the value of the function is specified for one or more values of the [function] parameters when the run-time stack gets popped.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 5, "creation_date": 1507765425, "post_id": 46699180, "comment_id": 80345793, "body": "It means the programmer is a novice and should be taught never EVER to do that."}, {"owner": {"reputation": 49, "user_id": 5545305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9b628da7d67e48f4900009ed07d049?s=128&d=identicon&r=PG&f=1", "display_name": "Guldu Kumar", "link": "https://stackoverflow.com/users/5545305/guldu-kumar"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507765538, "post_id": 46699180, "comment_id": 80345822, "body": "But what exactly does it mean?"}, {"owner": {"reputation": 17343, "user_id": 445976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82b2b9bdcf1baaf4677238d59cf745f?s=128&d=identicon&r=PG", "display_name": "Blastfurnace", "link": "https://stackoverflow.com/users/445976/blastfurnace"}, "edited": false, "score": 2, "creation_date": 1507766538, "post_id": 46699180, "comment_id": 80346069, "body": "It&#39;s the memory leak operator."}, {"owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "edited": false, "score": 0, "creation_date": 1533539214, "post_id": 46699180, "comment_id": 90365435, "body": "I really don&#39;t understand the down-voters... This is a legitimate question.. I need to read and understand code, and the code use that <b>*new</b> thing, So I can&#39;t ask?!?! Thanks @TejaReddy for your question"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5545305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9b628da7d67e48f4900009ed07d049?s=128&d=identicon&r=PG&f=1", "display_name": "Guldu Kumar", "link": "https://stackoverflow.com/users/5545305/guldu-kumar"}, "edited": false, "score": 0, "creation_date": 1507765689, "post_id": 46699207, "comment_id": 80345861, "body": "It is in fact not my code. I&#39;m doing a vulnerability analysis on someone else&#39;s code."}, {"owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "reply_to_user": {"reputation": 49, "user_id": 5545305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9b628da7d67e48f4900009ed07d049?s=128&d=identicon&r=PG&f=1", "display_name": "Guldu Kumar", "link": "https://stackoverflow.com/users/5545305/guldu-kumar"}, "edited": false, "score": 7, "creation_date": 1507765759, "post_id": 46699207, "comment_id": 80345886, "body": "If you actually do not understand what the above does I don&#39;t know why you would do a vulnerability analysis on someones code. Generally thats a lot of work and a lot of advanced knowledge to pick out code vulnerabilities."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 49, "user_id": 5545305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9b628da7d67e48f4900009ed07d049?s=128&d=identicon&r=PG&f=1", "display_name": "Guldu Kumar", "link": "https://stackoverflow.com/users/5545305/guldu-kumar"}, "edited": false, "score": 3, "creation_date": 1507765761, "post_id": 46699207, "comment_id": 80345887, "body": "@TejaReddy: it&#39;s a memory leak. If the attacker can cause that to trigger often, he can run the process or machine out of memory causing it to crash."}, {"owner": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 1, "creation_date": 1507765792, "post_id": 46699207, "comment_id": 80345894, "body": "Actually, between <code>make_unique</code>, <code>make_shared</code>, and a handful of more obscure things, you shouldn&#39;t ever use <code>new</code> at all even as an <i>experienced</i> programmer."}, {"owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "reply_to_user": {"reputation": 13419, "user_id": 1405588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/01a91a47db3526000ffa9247f95fff62?s=128&d=identicon&r=PG", "display_name": "o11c", "link": "https://stackoverflow.com/users/1405588/o11c"}, "edited": false, "score": 0, "creation_date": 1507765881, "post_id": 46699207, "comment_id": 80345917, "body": "@o11c very true but I didn&#39;t think OP was at the experience level that differentiating that far would make a difference."}], "tags": [], "owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "is_accepted": false, "score": 3, "last_activity_date": 1507765708, "last_edit_date": 1507765708, "creation_date": 1507765537, "answer_id": 46699207, "question_id": 46699180, "link": "https://stackoverflow.com/questions/46699180/usage-of-asterisk-before-newdynamic-allocation-in-c/46699207#46699207", "title": "Usage of asterisk(*) before new(dynamic allocation) in c++", "body": "<p>In both statements the \"new\" keyword returns a pointer to the object you are allocating. The reason the second statement works is because if you put a * before a pointer you dereference that pointer which, in simple terms, gives you the object the pointer is pointing to. But as Mooing Duck said if you don't understand this you should avoid the new keyword all together.</p>\n\n<p>Edit: to answer what it means? it means you allocate a board object then dereference it and save a new copy in your variable gameBoard. Essentially giving you two copies of the Board object.</p>\n"}, {"tags": [], "owner": {"reputation": 15726, "user_id": 99635, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/DRGuG.jpg?s=128&g=1", "display_name": "Anzurio", "link": "https://stackoverflow.com/users/99635/anzurio"}, "is_accepted": false, "score": 2, "last_activity_date": 1507771518, "last_edit_date": 1507771518, "creation_date": 1507766015, "answer_id": 46699270, "question_id": 46699180, "link": "https://stackoverflow.com/questions/46699180/usage-of-asterisk-before-newdynamic-allocation-in-c/46699270#46699270", "title": "Usage of asterisk(*) before new(dynamic allocation) in c++", "body": "<p><code>new board(givenX,givenY,givenMineCount);</code> in a nutshell, performs two things: creates a <code>board</code> object in memory and returns the address where it was created.</p>\n\n<p>In your second statement, <code>gameBoard</code> is a stack variable that holds a <code>board</code> object. As I mentioned before, the <code>new</code> returns an address and by using the <code>*</code> operator, you're basically \"interpreting\" (the actual technical term is dereferencing) the address as a board. That said, doing this seems to be making a copy and assigning it to <code>boardGame</code> and leave lingering in memory what was created with <code>new</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2319, "user_id": 2830676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dcfiZ.jpg?s=128&g=1", "display_name": "Yitzchak", "link": "https://stackoverflow.com/users/2830676/yitzchak"}, "is_accepted": true, "score": 1, "last_activity_date": 1533549018, "creation_date": 1533549018, "answer_id": 51704853, "question_id": 46699180, "link": "https://stackoverflow.com/questions/46699180/usage-of-asterisk-before-newdynamic-allocation-in-c/51704853#51704853", "title": "Usage of asterisk(*) before new(dynamic allocation) in c++", "body": "<p>I'm new to c++, but I think extra details are missing here for beginners like me and like <strong>the asker</strong>.</p>\n\n<p><strong><em>Note: This answer contains details for newbies like me.. advanced c++ developers may find this post somewhat confusing!</em></strong></p>\n\n<p><strong><em>Lazy?</strong> tl;dr at the end</em></p>\n\n<p>Does always creating and object with <code>*new</code> creates two copies of objects? (one will never ever be deleted)</p>\n\n<p>Lets check this out:</p>\n\n<p>As explained by others, the <code>*new</code> is just a shortcut to new in one statement and then dereference it with the asterisk operator (*)</p>\n\n<p>Consider the following struct that holds a single number:</p>\n\n<pre><code>struct myStruct\n{\npublic:\n    myStruct() { innerNumber = 0; }\n    myStruct(uint16_t num) {\n        innerNumber = num;\n    }\n\n    uint16_t innerNumber;\n};\n</code></pre>\n\n<p>Lets create a SINGLE object, and dereference it MULTIPLE times:</p>\n\n<pre><code>myStruct* obj = new myStruct();\n\nmyStruct obj1 = *obj;\nmyStruct obj2 = *obj;\nmyStruct obj3 = *obj;\n\nobj1.innerNumber = 1;\nobj2.innerNumber = 2;\nobj3.innerNumber = 3;\n\nprintf(\"%d-%d-%d\\n\", obj1.innerNumber, obj2.innerNumber, obj3.innerNumber);\n</code></pre>\n\n<blockquote>\n  <p>prints: <strong>1-2-3</strong></p>\n  \n  <p>Pretty cool =] (and dangerous)</p>\n</blockquote>\n\n<hr>\n\n<p>So, if we get it correctly, it is ALWAYS a bad idea to use <code>*new</code> as already mentioned here, it will always cause a memory leak!!</p>\n\n<p>lets see it in action:</p>\n\n<pre><code>while (true) {\n    myStruct&amp; inner = *new myStruct();\n    delete &amp;inner;\n}\n</code></pre>\n\n<p>That code should:</p>\n\n<ol>\n<li>enter an infinite while loop</li>\n<li>allocate a new myStruct object</li>\n<li>dereference it (<strong>causing it to be copied!</strong>)</li>\n<li>delete <strong>the copy</strong> only</li>\n</ol>\n\n<p>Or in shortly: <strong>A MEMORY LEAK</strong></p>\n\n<p>Well, I'm running this, and the memory isn't increasing!</p>\n\n<blockquote>\n  <p><code>*new</code> is <strong>GOOD</strong> when creating a reference. You can see that I defined\n  a ref type by the &amp; operator (<code>myStruct&amp; inner</code>)</p>\n</blockquote>\n\n<hr>\n\n<p>Another problem that may arise (and is general for references) is that:</p>\n\n<pre><code>// Create a reference\nmyStruct&amp; inner = *new myStruct();\ninner.innerNumber = 0;\n\n// WHAT WILL HAPPEN HERE?\nmyStruct whatAmI1 = inner;\nmyStruct whatAmI2 = inner;\n\nwhatAmI1.innerNumber = 1;\nwhatAmI2.innerNumber = 2;\n\nprintf(\"Original: %d   Copies: %d-%d\\n\", inner.innerNumber, whatAmI1.innerNumber, whatAmI2.innerNumber);\n</code></pre>\n\n<blockquote>\n  <p>prints: <strong>Original: 0   Copies: 1-2</strong></p>\n  \n  <p>dangerous!</p>\n</blockquote>\n\n<hr>\n\n<h2>TL;DR</h2>\n\n<ul>\n<li><code>*new</code> is <strong>bad</strong> for creating value types</li>\n<li><code>*new</code> is <strong>good</strong> for creating reference type</li>\n<li><strong>Be careful</strong> when assigning a reference type to a value variable, it\nmakes a copy</li>\n</ul>\n"}], "owner": {"reputation": 49, "user_id": 5545305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d9b628da7d67e48f4900009ed07d049?s=128&d=identicon&r=PG&f=1", "display_name": "Guldu Kumar", "link": "https://stackoverflow.com/users/5545305/guldu-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 374, "favorite_count": 0, "accepted_answer_id": 51704853, "answer_count": 3, "score": 0, "last_activity_date": 1533549018, "creation_date": 1507765358, "last_edit_date": 1507765449, "question_id": 46699180, "link": "https://stackoverflow.com/questions/46699180/usage-of-asterisk-before-newdynamic-allocation-in-c", "title": "Usage of asterisk(*) before new(dynamic allocation) in c++", "body": "<pre><code> board *gameBoard = new board(givenX,givenY,givenMineCount);\n</code></pre>\n\n<p>I know that the above statement declares an object pointer that points to board.</p>\n\n<p>But I'm wondering what the statement below means.</p>\n\n<pre><code> board gameBoard = *new board(givenX,givenY,givenMineCount);\n</code></pre>\n"}, {"tags": ["c++", "letters"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8762073, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209412708707079/picture?type=large", "display_name": "Walton Charles", "link": "https://stackoverflow.com/users/8762073/walton-charles"}, "edited": false, "score": 0, "creation_date": 1507769270, "post_id": 46699178, "comment_id": 80346722, "body": "I&#39;m not asking for you guys to solve it, just for some guidance. That second paragraph really helped me. Appreciate you a ton."}, {"owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "reply_to_user": {"reputation": 1, "user_id": 8762073, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209412708707079/picture?type=large", "display_name": "Walton Charles", "link": "https://stackoverflow.com/users/8762073/walton-charles"}, "edited": false, "score": 0, "creation_date": 1507769456, "post_id": 46699178, "comment_id": 80346763, "body": "The L is similiarlly easy, one asterick with x amount of whitespace followed by a line of asterisks at the bottom. The O is on you"}, {"owner": {"reputation": 1, "user_id": 8762073, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209412708707079/picture?type=large", "display_name": "Walton Charles", "link": "https://stackoverflow.com/users/8762073/walton-charles"}, "edited": false, "score": 0, "creation_date": 1507769481, "post_id": 46699178, "comment_id": 80346768, "body": "If you could write a code example that would be great as well. Id greatly appreciate it."}], "tags": [], "owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "is_accepted": false, "score": 3, "last_activity_date": 1507765346, "creation_date": 1507765346, "answer_id": 46699178, "question_id": 46699098, "link": "https://stackoverflow.com/questions/46699098/need-help-making-letters-with-asterisks/46699178#46699178", "title": "Need help making letters with asterisks", "body": "<p>We're not here to solve your homework for you. Your question way too open ended with no actual issue other then \"idk how to do this please do it for me\". If I had to recommend some steps i'd say draw out each letter in a txt file using asterisks. Then figure out which parts you're going to have to loop for and which parts your going to have to just print out.</p>\n\n<p>For example the T.\nI would solve it by first printing a line of asterisks for the top of the T. Then make a loop that prints out a single asterick with white space on each side for as many times as you feel you should to make the base of the T.</p>\n"}], "owner": {"reputation": 1, "user_id": 8762073, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209412708707079/picture?type=large", "display_name": "Walton Charles", "link": "https://stackoverflow.com/users/8762073/walton-charles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1467, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1507765346, "creation_date": 1507764803, "question_id": 46699098, "link": "https://stackoverflow.com/questions/46699098/need-help-making-letters-with-asterisks", "title": "Need help making letters with asterisks", "body": "<p>I have to make the letters \"T\" \"O\" and \"L\" using asterisk in c++. The code asks for a size and the letter. This is what I have so far. Honestly I a not great with loops at all, how do i make the loops? some step by step explanation would be appreciated as well. Thanks a ton. Here is my code.</p>\n\n<pre><code>    #include&lt;iostream&gt;\n    using namespace std;\nint main()\n{\n    char T, O, L;\n    char letter;\n    int number, size;\n    size = number % 2;\n\n    cout &lt;&lt; \"Welcome to the letter printer.\" &lt;&lt; endl;\n    cout &lt;&lt; \"Enter the size : \" &lt;&lt; endl;\n    cin &gt;&gt; size;\n\n    while (size &lt;= 5 || size == 0)\n    {\n\n        cout &lt;&lt; \"Invalid size. Enter the size again: \";\n        cin &gt;&gt; size;\n    }\n\n    cout &lt;&lt; \"Enter the letter: \" &lt;&lt; endl;\n    cin &gt;&gt; letter;\n\n    while (letter != 'T' &amp;&amp; letter != 'O' &amp;&amp; letter != 'L')\n    {\n        cout &lt;&lt; \"Invalid Letter. Enter the letter again:\";\n        cin &gt;&gt; letter;\n        {\n\n\n            while (letter == 'T')\n            {\n                for (int i = 0; i &lt; size; i++)\n                {\n                    for (int j = 0; j &lt; size; j++)\n                    {\n                        cout &lt;&lt; \"*\";\n                    }\n                    cout &lt;&lt; endl;\n                }\n            }\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["c++", "c++11", "identifier", "typeinfo"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1507763440, "post_id": 46698862, "comment_id": 80345351, "body": "Fortunately, modern C++ makes it quite easy to lose bad programming habits, like &quot;generic parameters&quot;, and replace them with type-safe, compiler-optimized templates. Maybe you&#39;ve heard of them?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 0, "creation_date": 1507763564, "post_id": 46698862, "comment_id": 80345382, "body": "That&#39;s not what is commonly known as type deduction."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507763628, "post_id": 46698862, "comment_id": 80345394, "body": "Say you do determine you have a <code>const char*</code>. How do you determine the length of what it points at in order to create another?"}, {"owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "edited": false, "score": 0, "creation_date": 1507763671, "post_id": 46698862, "comment_id": 80345407, "body": "Yes I am implementing a template function that receives an object that is itself, based on another template function. The functions are separate and I am trying to accomplish this task in the second template function. Normally, I would make them helper functions and not worry about it but I can&#39;t in this case."}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1507763747, "post_id": 46698862, "comment_id": 80345426, "body": "If this is a template function, and a template parameter, and this is what you&#39;re trying to do, you&#39;re doing it wrong. There&#39;s no reason to go through acrobatics to make a copy of the object. Just copy it, and let the template code do its work."}, {"owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "edited": false, "score": 0, "creation_date": 1507763804, "post_id": 46698862, "comment_id": 80345442, "body": "It isn&#39;t my choice to do it this way, I am just asking if it can be done. I will clarify the original post shortly."}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1507764685, "post_id": 46698862, "comment_id": 80345624, "body": "Note that when you say &quot;isn&#39;t possible for objects&quot; that already covers builtin types.  C++ primitive types are not &quot;classes&quot;, but instances of them do fall under &quot;objects&quot;"}, {"owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "edited": false, "score": 0, "creation_date": 1507764850, "post_id": 46698862, "comment_id": 80345660, "body": "fair enough Ben, I was afraid this might be the case, but didn&#39;t know enough about that level of implementation to be sure."}], "answers": [{"comments": [{"owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "edited": false, "score": 0, "creation_date": 1507765275, "post_id": 46698918, "comment_id": 80345745, "body": "Good try, but this doesn&#39;t scale, and the whole point of using template functions is for them to scale to different types. If I had any clue what the input would be I would try this. Thanks for the attempt."}], "tags": [], "owner": {"reputation": 1029, "user_id": 7878485, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15dabd902549f21699b86daa04ecaeed?s=128&d=identicon&r=PG&f=1", "display_name": "nitronoid", "link": "https://stackoverflow.com/users/7878485/nitronoid"}, "is_accepted": true, "score": 0, "last_activity_date": 1507765169, "last_edit_date": 1507765169, "creation_date": 1507763562, "answer_id": 46698918, "question_id": 46698862, "link": "https://stackoverflow.com/questions/46698862/instantiating-identifier-with-dynamic-type-info-on-standard-types/46698918#46698918", "title": "Instantiating identifier with dynamic type info on standard types", "body": "<p>Use templates for this?</p>\n\n<pre><code>template &lt;typename T&gt; \nvoid foo(T yourParam)\n{\n    T newVar;  //Use of the deduced type to declare new variable\n}\n</code></pre>\n\n<p>You can also use <code>decltype</code>:</p>\n\n<pre><code>decltype(parameter) newVar;\n</code></pre>\n\n<p>As you seem insistent on using the <code>const char *</code>, and you're asking about builtin types, why not use a <code>switch</code> statement?</p>\n\n<pre><code>switch(x)\n{\n    case 'm' : {\n        unsigned long foo;\n        //functionality\n        break;\n    }\n    //other cases\n    default : break;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1507764727, "post_id": 46699050, "comment_id": 80345633, "body": "You could also write a virtual <code>clone</code> method in the base type, and have override it in each derived type."}, {"owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "edited": false, "score": 0, "creation_date": 1507765150, "post_id": 46699050, "comment_id": 80345722, "body": "Thanks Ben, even though I had already seen decltype, I guess this cannot be done. But your answer got me closest. Is it protocol to accept the answer or leave the question opened, or should someone post an answer saying this can&#39;t be done? Thanks again!"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 0, "last_activity_date": 1507764549, "creation_date": 1507764549, "answer_id": 46699050, "question_id": 46698862, "link": "https://stackoverflow.com/questions/46698862/instantiating-identifier-with-dynamic-type-info-on-standard-types/46699050#46699050", "title": "Instantiating identifier with dynamic type info on standard types", "body": "<p>You can extract the type from any expression using decltype, for example using that to declare another variable:</p>\n\n<pre><code>decltype(1 + 3.14159) e;\ne = 2.7182818;\n</code></pre>\n\n<p>But this works on compile-time type information (\"static\" typing).  There's no way to do it based on dynamic type, nor to use runtime type data (<code>typeinfo</code> that <code>typeid</code> returns, or any other object you can capture at runtime).  At best you could grab the type name, write out a C++ source file, and invoke the C++ compiler on it.</p>\n"}], "owner": {"reputation": 1296, "user_id": 5031496, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IqU0t.jpg?s=128&g=1", "display_name": "Free Url", "link": "https://stackoverflow.com/users/5031496/free-url"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 46698918, "answer_count": 2, "score": 0, "last_activity_date": 1507765169, "creation_date": 1507763197, "last_edit_date": 1507764738, "question_id": 46698862, "link": "https://stackoverflow.com/questions/46698862/instantiating-identifier-with-dynamic-type-info-on-standard-types", "title": "Instantiating identifier with dynamic type info on standard types", "body": "<p>I know there are easier ways to do this, but this is what I am asking.</p>\n\n<p>Suppose you have one template function, function1, and another template function, function2.</p>\n\n<p>The function definitions are as follows:</p>\n\n<pre><code>template &lt;typename A&gt;\nvoid function1(A x) // typename A is part of a class-template function\n                    // the typename is declared in the class instantiation\n                    // and passed to function2\n\ntemplate &lt;typename B&gt;\nvoid function2(B y) // I know I can use typeinfo(y).name to get name\n                    // this returns a const char* 'm' \n                    // 'm' stands for unsigned long on my sytem\n</code></pre>\n\n<p>The reference for the 'm' assertion is here: <a href=\"https://stackoverflow.com/questions/16396304/strange-output-of-stdtypeidname\">Strange output of std::typeid::name()</a></p>\n\n<p>As I said, I know it is possible to figure out (deduce) the parameter a function receives with </p>\n\n<pre><code>const char* x = typeinfo(parameter).name;\n// returns const char* 'm' on my machine\n</code></pre>\n\n<p>Is it possible, if a function receives a generic parameter, to also instantiate a new object of the same type. Something like:</p>\n\n<pre><code>&lt;x&gt; foo;\n// where x represents the const char* = 'm'\n// which in turn is represented by unsigned long on my system\n// so foo would be an uninstantiated unsigned long identifier\n</code></pre>\n\n<p>I see here:\n<a href=\"https://stackoverflow.com/questions/2032881/creating-a-new-object-from-dynamic-type-info\">Creating a new object from dynamic type info</a> that it isn't possible for objects, but I am wondering if it is possible for internal types like int.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507762689, "post_id": 46698778, "comment_id": 80345148, "body": "Use: <code>std::string</code>, <code>std::string::find()</code> and <code>std::string::substr</code>.  I also recommend <code>std::istringstream</code> for converting text number to internal representation."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507762808, "post_id": 46698778, "comment_id": 80345184, "body": "You could use <code>std::getline(data_file, text_string, &#39;,&#39;)</code> to read all the text up to a comma into a <code>text_string</code> std::string variable."}, {"owner": {"reputation": 1754, "user_id": 6087092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jjhgT.jpg?s=128&g=1", "display_name": "Isac", "link": "https://stackoverflow.com/users/6087092/isac"}, "edited": false, "score": 0, "creation_date": 1507763138, "post_id": 46698778, "comment_id": 80345265, "body": "&quot;int literal = 1; [after removing the 5 and converting to int]&quot; Seems a bit odd that you are discarding the last <code>5</code>. Isn&#39;t this a split by <code>,</code> ?"}, {"owner": {"reputation": 1136, "user_id": 3826556, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06756f01e7ed7d3a33545a34794c40f5?s=128&d=identicon&r=PG&f=1", "display_name": "ihmpall", "link": "https://stackoverflow.com/users/3826556/ihmpall"}, "reply_to_user": {"reputation": 1754, "user_id": 6087092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jjhgT.jpg?s=128&g=1", "display_name": "Isac", "link": "https://stackoverflow.com/users/6087092/isac"}, "edited": false, "score": 0, "creation_date": 1507766897, "post_id": 46698778, "comment_id": 80346148, "body": "Sorry about that @Isac I fixed it"}], "answers": [{"tags": [], "owner": {"reputation": 478, "user_id": 5810912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/il66y.jpg?s=128&g=1", "display_name": "imerso", "link": "https://stackoverflow.com/users/5810912/imerso"}, "is_accepted": false, "score": 0, "last_activity_date": 1507765386, "creation_date": 1507765386, "answer_id": 46699182, "question_id": 46698778, "link": "https://stackoverflow.com/questions/46698778/tokenize-a-string-to-separate-values-in-c/46699182#46699182", "title": "Tokenize a string to separate values in C++", "body": "<p>You want to write a parser. To keep my answer really simple and short, I wrote a very very simple parser for you. Here is it:</p>\n\n<pre><code>// Written by 'imerso' for a StackOverflow answer\n\n#include &lt;string.h&gt;\n#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n\n\n// Extract next substring from current pointer\n// to next separator or end of string\nchar* NextToken(char** cmd, const char* sep)\n{\n    char* pStart = *cmd;\n    char* pPos = strstr(*cmd, sep);\n\n    if (!pPos)\n    {\n        // no more separators, return the entire string\n        return *cmd;\n    }\n\n    // return from the start of the string up to the separator\n    *pPos = 0;\n    *cmd = pPos+1;\n    return pStart;\n}\n\n\n// Warning: this is a very simple and minimal parser, meant only as an example,\n// so be careful. It only parses the simple commands without any spaces etc.\n// I suggest you to try with ADD,R1,#5 similar commands only.\n// A full parser *can* be created from here, but I wanted to keep it really simple\n// for the answer to be short.\nint main(int argc, char* argv[])\n{\n    // requires the command as a parameter\n    if (argc != 2)\n    {\n        printf(\"Syntax: %s ADD,R1,#5\\n\", argv[0]);\n        return -1;\n    }\n\n    // the command will be split into these\n    char token[32];\n    int reg = 0;\n    int lit = 0;\n\n    // create a modificable copy of the command-line\n    char cmd[64];\n    strncpy(cmd, argv[1], 64);\n    printf(\"Command-Line: %s\\n\", cmd);\n\n    // scan the three command-parameters\n    char* pPos = cmd;\n    strncpy(token, NextToken(&amp;pPos, \",\"), 32);\n    reg = atoi(NextToken(&amp;pPos, \",\")+1);\n    lit = atoi(NextToken(&amp;pPos, \",\")+1);\n\n    // show\n    printf(\"Command: %s, register: %u, literal: %u\\n\", token, reg, lit);\n\n    // done.\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 1136, "user_id": 3826556, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06756f01e7ed7d3a33545a34794c40f5?s=128&d=identicon&r=PG&f=1", "display_name": "ihmpall", "link": "https://stackoverflow.com/users/3826556/ihmpall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1508282716, "answer_count": 1, "score": -3, "last_activity_date": 1507766874, "creation_date": 1507762616, "last_edit_date": 1507766874, "question_id": 46698778, "link": "https://stackoverflow.com/questions/46698778/tokenize-a-string-to-separate-values-in-c", "closed_reason": "Duplicate", "title": "Tokenize a string to separate values in C++", "body": "<p>I have a string of the form </p>\n\n<blockquote>\n  <p>ADD,R1,#5</p>\n</blockquote>\n\n<p>I want to convert it to three separate variables</p>\n\n<blockquote>\n  <p>string s1 = \"ADD\";</p>\n  \n  <p>int register = 1;  [after removing the 'R' and converting to int]</p>\n  \n  <p>int literal = 5; [after removing the # and converting to int]</p>\n</blockquote>\n\n<p>I tried using strok() function by converting it into char* but the output doesn't seem tight</p>\n"}, {"tags": ["c++", "openmpi"], "answers": [{"tags": [], "owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "is_accepted": true, "score": 2, "last_activity_date": 1507762294, "last_edit_date": 1592644375, "creation_date": 1507762294, "answer_id": 46698736, "question_id": 46698735, "link": "https://stackoverflow.com/questions/46698735/mpi-dims-create-throws-error-on-remote-machine/46698736#46698736", "title": "MPI_Dims_create throws error on remote machine", "body": "<h1>TLDR</h1>\n<p>I declared but did not initialize the dim array. On my local machine, I just got a clean chunk of memory coincidentally.</p>\n<h1>Why is this important?</h1>\n<p>I missed that this was important in part because I missed that dims was both an input and an output parameter. I assumed that as an output parameter, any values in dims would be overwritten by the MPI routine.</p>\n<p>The original documentation that I consulted (<a href=\"https://www.mpich.org/static/docs/latest/www3/MPI_Dims_create.html\" rel=\"nofollow noreferrer\">from MPICH</a>) was very brief.</p>\n<blockquote>\n<h1>MPI_Dims_create</h1>\n<h2>Input/Output Parameters</h2>\n<p>dims</p>\n<p>integer array of size ndims specifying the number of nodes in\neach dimension. <strong>A value of 0 indicates that MPI_Dims_create should\nfill in a suitable value.</strong> (emphasis mine)</p>\n</blockquote>\n<p>i.e. Non-zero values will not be overwritten by the routine.</p>\n<p>More information is available on <a href=\"http://mpi-forum.org/docs/mpi-1.1/mpi-11-html/node134.html\" rel=\"nofollow noreferrer\">MPI Forum MPI Documentation</a>:</p>\n<blockquote>\n<h1>6.5.2. Cartesian Convenience Function: MPI_DIMS_CREATE</h1>\n<p>(...)\nThe caller may further constrain the operation of this routine by\nspecifying elements of array dims. If dims[i] is set to a positive\nnumber, the routine will not modify the number of nodes in dimension\ni; only those entries where dims[i] = 0 are modified by the call.</p>\n<p>Negative input values of dims[i] are erroneous. (...)</p>\n</blockquote>\n<p>In short, on the research cluster, the values in the uninitialized dims array were either negative or larger than the number of nodes I was trying to assign.</p>\n"}], "owner": {"reputation": 4083, "user_id": 3303546, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1Xh6f.jpg?s=128&g=1", "display_name": "Cecilia", "link": "https://stackoverflow.com/users/3303546/cecilia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 46698736, "answer_count": 1, "score": 3, "last_activity_date": 1507762680, "creation_date": 1507762294, "last_edit_date": 1507762680, "question_id": 46698735, "link": "https://stackoverflow.com/questions/46698735/mpi-dims-create-throws-error-on-remote-machine", "title": "MPI_Dims_create throws error on remote machine", "body": "<p>I'm trying to set up a cartesian grid as a first step in my algorithm. On my local machine (OS X with clang), my code runs. On the research cluster (Linux with GNU), I get the following error.</p>\n\n<pre><code>$mpirun -n 4 ./test.exe\n[shas0137:67495] *** An error occurred in MPI_Dims_create\n[shas0137:67495] *** reported by process [3694788609,1]\n[shas0137:67495] *** on communicator MPI_COMM_WORLD\n[shas0137:67495] *** MPI_ERR_DIMS: invalid topology dimension\n[shas0137:67495] *** MPI_ERRORS_ARE_FATAL (processes in this communicator will now abort,\n[shas0137:67495] ***    and potentially your MPI job)\n[shas0137:67491] 3 more processes have sent help message help-mpi-errors.txt / mpi_errors_are_fatal\n[shas0137:67491] Set MCA parameter \"orte_base_help_aggregate\" to 0 to see all help / error messages\n</code></pre>\n\n<p>Setting the \"orte_base_help_aggregate\" parameter just repeats the error message 4 times (once for each process)</p>\n\n<p>Most MPI routines have a list of error codes in the documentation, but MPI_ERR_DIMS isn't listed for <a href=\"https://www.mpich.org/static/docs/latest/www3/MPI_Dims_create.html\" rel=\"nofollow noreferrer\">MPI_Dims_create</a></p>\n\n<p>Version Details: Local</p>\n\n<pre><code>$ mpic++ -v\nApple LLVM version 9.0.0 (clang-900.0.37)\nTarget: x86_64-apple-darwin16.7.0\nThread model: posix\nInstalledDir: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin \n</code></pre>\n\n<p>Version Details: Research Cluster</p>\n\n<pre><code>$ mpic++ -v\nUsing built-in specs.\nCOLLECT_GCC=/curc/sw/gcc/6.1.0/bin/g++\nCOLLECT_LTO_WRAPPER=/curc/sw/gcc/6.1.0/libexec/gcc/x86_64-pc-linux-gnu/6.1.0/lto-wrapper\nTarget: x86_64-pc-linux-gnu\nConfigured with: ../gcc-6.1.0/configure --prefix=/curc/sw/gcc/6.1.0 --enable-languages=c,c++,fortran,go --disable-multilib --with-tune=intel\nThread model: posix\ngcc version 6.1.0 (GCC) \n</code></pre>\n\n<h2>MCVE</h2>\n\n<p>(or as close as I could get to verifiable given that this only happens on some configurations)</p>\n\n<pre><code>#include &lt;mpi.h&gt;\n\nint main(int argc, char* argv[]) {\n\n    MPI_Init(&amp;argc, &amp;argv);\n    MPI_Status st;\n    MPI_Comm comm = MPI_COMM_WORLD;\n\n    MPI_Comm grid_comm;\n\n    int size;\n    int err = MPI_Comm_size(comm, &amp;size);\n\n    //Error handling\n    if (err != MPI_SUCCESS) {\n        return 1;\n    }\n\n    std::cout &lt;&lt; size &lt;&lt; std::endl;\n\n    //This call throws the error\n    int dims[3];\n    err = MPI_Dims_create(size, 3, dims);\n\n    //Error handling\n    if (err != MPI_SUCCESS) {\n        return 2;\n    }\n\n    MPI_Finalize();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "nvcc", "google-benchmark"], "comments": [{"owner": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1507763992, "post_id": 46698673, "comment_id": 80345478, "body": "If you compile the code directly with g++ rather than nvcc, does the core dump occur?"}, {"owner": {"reputation": 3792, "user_id": 904050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7e5ae1599008ffc96ccd44ad601a43dc?s=128&d=identicon&r=PG", "display_name": "user14717", "link": "https://stackoverflow.com/users/904050/user14717"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1507764168, "post_id": 46698673, "comment_id": 80345520, "body": "No, it does not. I am going to close since it doesn&#39;t core dump using g++-5."}, {"owner": {"reputation": 3792, "user_id": 904050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7e5ae1599008ffc96ccd44ad601a43dc?s=128&d=identicon&r=PG", "display_name": "user14717", "link": "https://stackoverflow.com/users/904050/user14717"}, "reply_to_user": {"reputation": 66945, "user_id": 681865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77320b8ddf13954ffb22aa22965d465e?s=128&d=identicon&r=PG&f=1", "display_name": "talonmies", "link": "https://stackoverflow.com/users/681865/talonmies"}, "edited": false, "score": 0, "creation_date": 1507764717, "post_id": 46698673, "comment_id": 80345632, "body": "I&#39;m willing to close this question, but it&#39;s not totally useless for people to know that nvcc+gcc-4 segfaults on Ubuntu 17. . . lemme know your opinion."}], "answers": [{"tags": [], "owner": {"reputation": 886, "user_id": 5477126, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6VrvP.jpg?s=128&g=1", "display_name": "rak007", "link": "https://stackoverflow.com/users/5477126/rak007"}, "is_accepted": false, "score": -2, "last_activity_date": 1507762264, "creation_date": 1507762264, "answer_id": 46698728, "question_id": 46698673, "link": "https://stackoverflow.com/questions/46698673/benchmarking-cuda-with-googlebenchmark-core-dumps/46698728#46698728", "title": "Benchmarking CUDA with googlebenchmark core dumps", "body": "<p>Almost 99% of the time, this error means that you broke something or you are accessing corrupted memory zones (or even too many recursion with went over the stack limit).</p>\n\n<p>Use free tools like <a href=\"http://valgrind.org/\" rel=\"nofollow noreferrer\">Valgrind</a> or your favorite IDE debugger to get a hint on where this is happenning and why.</p>\n"}], "owner": {"reputation": 3792, "user_id": 904050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7e5ae1599008ffc96ccd44ad601a43dc?s=128&d=identicon&r=PG", "display_name": "user14717", "link": "https://stackoverflow.com/users/904050/user14717"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1581148250, "creation_date": 1507761895, "last_edit_date": 1581148250, "question_id": 46698673, "link": "https://stackoverflow.com/questions/46698673/benchmarking-cuda-with-googlebenchmark-core-dumps", "title": "Benchmarking CUDA with googlebenchmark core dumps", "body": "<p>I'm attempting to benchmark some CUDA code using <a href=\"https://github.com/google/benchmark/\" rel=\"nofollow noreferrer\">google benchmark</a>. To start, I haven't written any CUDA code, and just want to make sure I can benchmark a host function compiled with <code>nvcc</code>. In <code>main.cu</code> I have</p>\n\n<pre><code>#include &lt;benchmark/benchmark.h&gt;\n\nsize_t fibr(size_t n)\n{\n  if (n == 0)\n    return 0;\n\n  if (n == 1)\n    return 1;\n\n  return fibr(n-1)+fibr(n-2);\n}\n\nstatic void BM_FibRecursive(benchmark::State&amp; state)\n{\n    size_t y;\n    while (state.KeepRunning())\n    {\n      benchmark::DoNotOptimize(y = fibr(state.range(0)));\n    }\n}\n\nBENCHMARK(BM_FibRecursive)-&gt;RangeMultiplier(2)-&gt;Range(1, 1&lt;&lt;5);\n\nBENCHMARK_MAIN();\n</code></pre>\n\n<p>I compile with:</p>\n\n<pre><code>nvcc -g -G -Xcompiler -Wall -Wno-deprecated-gpu-targets --std=c++11 main.cu -o main.x -lbenchmark\n</code></pre>\n\n<p>When I run the program, I get the following error:</p>\n\n<pre><code>./main.x \nmain.x: malloc.c:2405: sysmalloc: Assertion `(old_top == initial_top (av) &amp;&amp; old_size == 0) || ((unsigned long) (old_size) &gt;= MINSIZE &amp;&amp; prev_inuse (old_top) &amp;&amp; ((unsigned long) old_end &amp; (pagesize - 1)) == 0)' failed.\n[1]    11358 abort (core dumped)  ./main.x\n</code></pre>\n\n<p>I have explicitly pointed <code>nvcc</code> to <code>g++-4.9</code> and <code>g++-4.8</code> using <code>-ccbin g++-4.x</code> and have reproduced the problem with both versions of <code>g++</code>.</p>\n\n<p>Is there anything obviously wrong here? How can the problem be fixed?</p>\n\n<p>I'm on Ubuntu 17.04 and NVIDIA driver version 375.82, if it matters.</p>\n\n<p><em>Update</em>: I installed <code>g++-5</code>, and the core dump went away.</p>\n"}, {"tags": ["c++", "macos", "makefile", "installation"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507761870, "post_id": 46698629, "comment_id": 80344914, "body": "Homebrew often leverages these <code>Makefile</code> installers anyway, so depending on Homebrew alone is a bad plan. Have a look at a Homebrew package that has a Makefile and see how it&#39;s done."}, {"owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507762281, "post_id": 46698629, "comment_id": 80345027, "body": "I tried but it&#39;s quite complex because Homebrew does a lot of other stuff. I thought someone here could guide me how to do it or point me to an article or something describing it (I googled it but couldn&#39;t find such article)"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507763587, "post_id": 46698629, "comment_id": 80345388, "body": "I don&#39;t know that there&#39;s a standard here. There&#39;s many, many Makefile recipies for installers. Most use some kind of <code>configure</code> script to self-generate."}, {"owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507765033, "post_id": 46698629, "comment_id": 80345694, "body": "There must be a standard in MacOS to where native (c/c++) libraries and header files should reside after they&#39;re installed. I&#39;m trying to understand what is this standard. If you could point me to an installation script or a recipe where this is explained it&#39;d be great"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507772384, "post_id": 46698629, "comment_id": 80347428, "body": "That&#39;s what <code>configure</code> does: It determines what compiler environment it needs to set up, where to link things, and ultimately, what <code>make install</code> should do."}, {"owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507792497, "post_id": 46698629, "comment_id": 80354003, "body": "So what does &#39;make install&#39; do in MacOS? To which folders are binaries and header files copied to?"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507829587, "post_id": 46698629, "comment_id": 80377562, "body": "You&#39;ll have to examine a bunch of existing packages to see how they do it. There&#39;s so many examples it&#39;s perhaps overwhelming, but pick one at random and have a look."}, {"owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507832792, "post_id": 46698629, "comment_id": 80379296, "body": "Ok thanks for your help. If you have recommendations on a specific package I should look into (which code is easy to follow) I&#39;d really appreciate that"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507833241, "post_id": 46698629, "comment_id": 80379531, "body": "I don&#39;t know what &quot;easy to follow&quot; means for you, so pick one at random."}, {"owner": {"reputation": 5523, "user_id": 2594812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc8f4767c6d139bb824167fa04b992e0?s=128&d=identicon&r=PG", "display_name": "Sam Hartman", "link": "https://stackoverflow.com/users/2594812/sam-hartman"}, "edited": false, "score": 0, "creation_date": 1507857922, "post_id": 46698629, "comment_id": 80388976, "body": "I think you want to look at Darwin/BSD standards for this not for OS X.  the OSX standards are going to be for shared library bundles in /Applications that can be run from the finders.  But the BSD community definitely does have standards for most of what you&#39;re asking about."}, {"owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "edited": false, "score": 0, "creation_date": 1507871198, "post_id": 46698629, "comment_id": 80391952, "body": "Thanks for the tip! Do you know where I can find these standards?"}], "owner": {"reputation": 552, "user_id": 5007125, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/QbIq9.jpg?s=128&g=1", "display_name": "seladb", "link": "https://stackoverflow.com/users/5007125/seladb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1507857777, "creation_date": 1507761622, "last_edit_date": 1507798849, "question_id": 46698629, "link": "https://stackoverflow.com/questions/46698629/create-custom-library-install-script-in-macos", "title": "Create custom library install script in MacOS", "body": "<p>I'm developing a native C++ multi-platform library that runs (among other platforms) on MacOS.</p>\n\n<p>I've already written a Makefile that builds the library and now I'd like to write a <code>make install</code> that will copy the binaries and header files to the \"standard\" locations where all other libraries reside (something similar to <code>/usr/local/bin</code> and <code>/usr/local/lib</code> in Linux).</p>\n\n<p>Few important points:</p>\n\n<ul>\n<li>I'm not using (and don't want to start using) frameworks like CMake or Homebrew, I'd like to write the installation script myself inside my Makefile</li>\n<li>My library compiles as static library (.a) and not dynamic library (.so). Don't know if it matters...</li>\n<li>I also have a basic Makefile containing external includes people should include in their Makefiles when writing application on top of my library. Is there any standard place to copy this Makefile to?</li>\n</ul>\n\n<p>What I'm actually asking is what are the standard folders in MacOS to contain:</p>\n\n<ul>\n<li>Static linked precompiled binaries (.a files)</li>\n<li>Header files (.h files)</li>\n</ul>\n\n<p>In Linux, for example, the standard folder is <code>/usr/local</code>. What is the equivalent folder(s) in MacOS?</p>\n"}, {"tags": ["c++", "boost", "boost-geometry"], "comments": [{"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1507791627, "post_id": 46698563, "comment_id": 80353542, "body": "Can you make a much simple example with exact expected outputs? I don&#39;t understand the pictures at all."}, {"owner": {"reputation": 61, "user_id": 8396325, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979f94619c5a0555565663485ae473cc?s=128&d=identicon&r=PG", "display_name": "Nikola", "link": "https://stackoverflow.com/users/8396325/nikola"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 1, "creation_date": 1507821465, "post_id": 46698563, "comment_id": 80372885, "body": "Hello! Thank for you reply! I want to calculate distance between two points inside Polygon <i>relative</i> with polygon area, i  added new pictures in question."}], "owner": {"reputation": 61, "user_id": 8396325, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/979f94619c5a0555565663485ae473cc?s=128&d=identicon&r=PG", "display_name": "Nikola", "link": "https://stackoverflow.com/users/8396325/nikola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1507821423, "creation_date": 1507761180, "last_edit_date": 1507821423, "question_id": 46698563, "link": "https://stackoverflow.com/questions/46698563/split-polygon-lines-or-remove-neighboring-line-calculate-distance-between-two-p", "title": "split polygon lines or remove neighboring line (calculate distance between two points in polygon)", "body": "<p>Please sorry me for lot of questions!\nBut..my head explodes</p>\n\n<p>I have polygon: \n<a href=\"https://i.stack.imgur.com/fo81r.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fo81r.jpg\" alt=\"I have polygon like this\"></a></p>\n\n<p>I want to \"split\" him outer points  to left and right parts (or full remove one part)\nLike that:\n<a href=\"https://i.stack.imgur.com/WHavC.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WHavC.jpg\" alt=\"Like this\"></a></p>\n\n<p>This is necessary me to control current GPS device position on the waypoint and detect direction of movement (run to end, run to begin or out from route)</p>\n\n<p>Of course to detect direction i can find nearest point in route and detect position..but not always GPS position have high accuracy, point from GPS can jumping like that:\n<a href=\"https://i.stack.imgur.com/4y6Xz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4y6Xz.jpg\" alt=\"Jumping\"></a>\n And i am unable detect direction on movement based on point enumeration because neighbour edge giving error when GPS point jumping.</p>\n\n<pre><code>   p0-p1-p2-p3-p4-p5-p6 \n  (  [begin &lt;- -&gt; end ]   )\n    p12 p11 p10 p9 p8 p7 \n</code></pre>\n\n<p>May someone know the algorithm to split Polygon in two parts </p>\n\n<p>or Algorithm for converting polygon into one linear line without neighbouring line\n(Roughly speaking the boost::geometry::buffer working to backward)</p>\n\n<p><strong>Simply put: I want to calculate distance between two points inside Polygon relative with polygon area</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/Z1MBh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1MBh.png\" alt=\"One case\"></a></p>\n\n<p>and</p>\n\n<p><a href=\"https://i.stack.imgur.com/57mAa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57mAa.png\" alt=\"two case\"></a></p>\n\n<p>Please sorry for my bad english</p>\n"}, {"tags": ["c++", "arrays", "linker"], "comments": [{"owner": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 2, "creation_date": 1507761013, "post_id": 46698521, "comment_id": 80344670, "body": "You didn&#39;t even read the code one before posting? What type does <code>Suma()</code> take? What types are you passing? What types did you say it took?"}, {"owner": {"reputation": 21, "user_id": 6032198, "user_type": "registered", "profile_image": "https://graph.facebook.com/1037203019704285/picture?type=large", "display_name": "H&#233;ctor Alonso", "link": "https://stackoverflow.com/users/6032198/h%c3%a9ctor-alonso"}, "reply_to_user": {"reputation": 27279, "user_id": 857132, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4fd51ed5980999c7c6ce3729d6cb2184?s=128&d=identicon&r=PG", "display_name": "John3136", "link": "https://stackoverflow.com/users/857132/john3136"}, "edited": false, "score": 0, "creation_date": 1507761992, "post_id": 46698521, "comment_id": 80344948, "body": "the code as well as the error is linker error and I don&#39;t know why but y think the problem is in &quot;cout&lt;&lt;&quot;La suma de los elementos es:  &quot;&lt;&lt;Suma(n,x[1])&lt;&lt;endl;&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6032198, "user_type": "registered", "profile_image": "https://graph.facebook.com/1037203019704285/picture?type=large", "display_name": "H&#233;ctor Alonso", "link": "https://stackoverflow.com/users/6032198/h%c3%a9ctor-alonso"}, "edited": false, "score": 0, "creation_date": 1507761558, "post_id": 46698552, "comment_id": 80344825, "body": "how? I don&#39;t understand how, I&#39;m new"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 21, "user_id": 6032198, "user_type": "registered", "profile_image": "https://graph.facebook.com/1037203019704285/picture?type=large", "display_name": "H&#233;ctor Alonso", "link": "https://stackoverflow.com/users/6032198/h%c3%a9ctor-alonso"}, "edited": false, "score": 0, "creation_date": 1507763027, "post_id": 46698552, "comment_id": 80345242, "body": "@H&#233;ctorAlonso this should well covered by whatever text you are learning from. If you have no text or the text does not cover this material, here is a list of texts that is generally agreed-upon as good: <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\" title=\"the definitive c book guide and list\">stackoverflow.com/questions/388242/&hellip;</a> .Trying to learn any language without a good reference is a great way to waste your time."}], "tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": false, "score": 0, "last_activity_date": 1507761128, "creation_date": 1507761128, "answer_id": 46698552, "question_id": 46698521, "link": "https://stackoverflow.com/questions/46698521/c-linker-error-undefined-reference-to-sumaint-int-ld-returned-1-exit-stat/46698552#46698552", "title": "C++ Linker error undefined reference to `Suma(int, int)&#39; ld returned 1 exit status", "body": "<p>You prototype your function like this:</p>\n\n<pre><code>int Suma(int,int);\n</code></pre>\n\n<p>but implement it like this:</p>\n\n<pre><code>int Suma(int n, int x[])\n</code></pre>\n\n<p><code>int</code> and <code>int[]</code> are not the same. Then in the code you do this:</p>\n\n<pre><code>Suma(n,x[1])\n</code></pre>\n\n<p>which matches the first declaration. Choose a prototype then implement it.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 7497575, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/00667d110a4e61b5745bc025216f4dd3?s=128&d=identicon&r=PG&f=1", "display_name": "Seshadri VS", "link": "https://stackoverflow.com/users/7497575/seshadri-vs"}, "is_accepted": true, "score": 1, "last_activity_date": 1507762179, "creation_date": 1507762179, "answer_id": 46698716, "question_id": 46698521, "link": "https://stackoverflow.com/questions/46698521/c-linker-error-undefined-reference-to-sumaint-int-ld-returned-1-exit-stat/46698716#46698716", "title": "C++ Linker error undefined reference to `Suma(int, int)&#39; ld returned 1 exit status", "body": "<p><strong>Brief description of errors:-</strong></p>\n\n<ul>\n<li>Linker error is thrown because the declared function is not found in the body to link. Linker here is trying to link the declartion to the address of the function and fails as its not found. </li>\n<li>By changing the function declaration you have a new error\nbecause type conversion from int to array inside <code>Suma()</code> is failing. Either you accept int x and try to index x which is incorrect. </li>\n</ul>\n\n<p><strong>Detail -</strong>  </p>\n\n<p>Above code has following errors,</p>\n\n<p>Declaration = <code>int Suma(int, int)</code> .</p>\n\n<p>Defination = <code>int Suma(int n, int x[])</code>.</p>\n\n<p>Code in Suma function => <code>if(n==1) return x[1]; return x[n-1]+Suma(n-1,x);</code></p>\n\n<p>Caller at main() => <code>cout&lt;&lt;\"La suma de los elementos es:  \"&lt;&lt;Suma(n,x[1])&lt;&lt;endl;</code></p>\n\n<p>Look at the above lines. Suma function is declared as it accepts two integers. However at defination it accepting an array. Call to Suma function is before the function defination. So now its upto compiler to throw an error. Some might complain that there is a mismatch in declaration , and some might throw an error stating function not declared/ found. </p>\n\n<p>Another issue the caller, Caller is passing x[1] either you are passing an integer not an array .</p>\n\n<p>From all of the above it looks like you want to pass an Array - So the </p>\n\n<ul>\n<li>Declaration should change to Array <code>int Suma(int n, int x[])</code>. So now compiler would match and hence linker should also find the function body for the declaration and hence no error. </li>\n<li>Change main code just to call <code>Suma(n, x)</code> . Either <code>cout&lt;&lt;\"La suma de los elementos es:  \"&lt;&lt;Suma(n,x)&lt;&lt;endl;</code></li>\n</ul>\n\n<p>This should work.</p>\n"}], "owner": {"reputation": 21, "user_id": 6032198, "user_type": "registered", "profile_image": "https://graph.facebook.com/1037203019704285/picture?type=large", "display_name": "H&#233;ctor Alonso", "link": "https://stackoverflow.com/users/6032198/h%c3%a9ctor-alonso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 327, "favorite_count": 0, "closed_date": 1507774827, "accepted_answer_id": 46698716, "answer_count": 2, "score": 0, "last_activity_date": 1507762179, "creation_date": 1507760857, "question_id": 46698521, "link": "https://stackoverflow.com/questions/46698521/c-linker-error-undefined-reference-to-sumaint-int-ld-returned-1-exit-stat", "closed_reason": "Not suitable for this site", "title": "C++ Linker error undefined reference to `Suma(int, int)&#39; ld returned 1 exit status", "body": "<p>This is my code and I have the problem [Linker error] undefined reference to `Suma(int, int)'</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;conio.h&gt;\nusing namespace std;\nint Suma(int,int);\nint main()\n{\n    int n,x[1],i;\n    cout&lt;&lt;\"Numero de elementos del arreglo?:  \";\n    cin&gt;&gt;n;\n    for(i==0;i&lt;n;i++)\n    {\n         cout&lt;&lt;\"elemento \"&lt;&lt;i+1&lt;&lt;\":  \";\n         cin&gt;&gt;x[i];\n    }\n    cout&lt;&lt;\"La suma de los elementos es:  \"&lt;&lt;Suma(n,x[1])&lt;&lt;endl;\n    cout&lt;&lt;\"&lt;&lt;El programa ah finalizado: codigo de salida: 0&gt;&gt;\\n\"; \n    cout&lt;&lt;\"&lt;&lt;Presione enter para cerrar la ventana...&gt;&gt;\";\n    getch();\n}\nint Suma(int n, int x[])\n{\n     if(n==1) return x[1];\n     return x[n-1]+Suma(n-1,x);\n}\n</code></pre>\n\n<p>if I change this part <code>Suma(n,x[1])</code> for <code>Suma(n,x)</code> the new error is \"invalid conversion from int*' to int' \" I don't know what's the problem and the result should be:\n<a href=\"https://i.stack.imgur.com/qpNN3.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}, {"tags": ["c++", "list", "c++11", "iterator", "segmentation-fault"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 2, "creation_date": 1507760047, "post_id": 46698354, "comment_id": 80344376, "body": "You have a list of <code>Dragon*</code>s, then create an iterator to the beginning of it, then drop the list and let it be destroyed. Then you proceed to compare it to an iterator to a similar destroyed list. At any rate, use a range-based for loop (foreach loop: <code>for (auto* dragon : cave.getDragons())</code>)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1507760108, "post_id": 46698354, "comment_id": 80344391, "body": "<code>getDragons()</code> returns a copy. Maybe you want a reference?"}, {"owner": {"reputation": 1, "user_id": 8761847, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212641494386074/picture?type=large", "display_name": "Jorge Bodega Fernanz", "link": "https://stackoverflow.com/users/8761847/jorge-bodega-fernanz"}, "edited": false, "score": 0, "creation_date": 1507760342, "post_id": 46698354, "comment_id": 80344465, "body": "There&#39;s a tester, and it has to work with this code:  <code>auto it = cave-&gt;getDragons().begin();</code>  It works with the first solution for me, but not for the tester"}, {"owner": {"reputation": 1, "user_id": 8761847, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212641494386074/picture?type=large", "display_name": "Jorge Bodega Fernanz", "link": "https://stackoverflow.com/users/8761847/jorge-bodega-fernanz"}, "edited": false, "score": 0, "creation_date": 1507761365, "post_id": 46698354, "comment_id": 80344771, "body": "Well, maybe I have to say that it works once, and only once. I can read the first element in the list, but not the second one."}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1507763022, "creation_date": 1507763022, "answer_id": 46698834, "question_id": 46698354, "link": "https://stackoverflow.com/questions/46698354/segmentation-fault-in-listobject-iterator/46698834#46698834", "title": "Segmentation fault in list&lt;Object*&gt; iterator", "body": "<p><code>getDragons()</code> returns a <code>std::list</code> by value, so every time you call <code>getDragons()</code>, you get a <em>copy</em> of the <code>dragons</code> list.  Your <code>for</code> loop is thus comparing iterators from different temporary <code>std::list</code> objects, and will be trying to dereference invalid iterators.</p>\n\n<p>You need to do something more like this instead:</p>\n\n<pre><code>std::list&lt;Dragon*&gt; dragons = cave.getDragons();\nfor (std::list&lt;Dragon*&gt;::iterator it = dragons.begin(); it != dragons.end(); it++){\n    os &lt;&lt; std::endl &lt;&lt; (*it)-&gt;getName();\n}\n</code></pre>\n\n<p>Or, if you are using C++11 or later, use a <code>for-range</code> loop instead:</p>\n\n<pre><code>for (Dragon *dragon : cave.getDragons()) {\n    os &lt;&lt; std::endl &lt;&lt; dragon-&gt;getName();\n}\n</code></pre>\n\n<p>Otherwise, you need to change <code>getDragons()</code> to return the <code>std::list</code> by reference instead:</p>\n\n<pre><code>const std::list&lt;Dragon*&gt;&amp; getDragons() const {return dragons;}\n</code></pre>\n\n<p>Then your original <code>for</code> code would work, though it would still be calling <code>getDragons()</code> on every loop iteration.  It is best to cache the result of a single call to a local variable:</p>\n\n<pre><code>const std::list&lt;Dragon*&gt; &amp;dragons = cave.getDragons();\nfor (std::list&lt;Dragon*&gt;::const_iterator it = dragons.begin(); it != dragons.end(); it++){\n    os &lt;&lt; std::endl &lt;&lt; (*it)-&gt;getName();\n}\n</code></pre>\n\n<p>Or, use the same C++11 <code>for-range</code> loop shown above.</p>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 0, "last_activity_date": 1507764349, "creation_date": 1507764349, "answer_id": 46699027, "question_id": 46698354, "link": "https://stackoverflow.com/questions/46698354/segmentation-fault-in-listobject-iterator/46699027#46699027", "title": "Segmentation fault in list&lt;Object*&gt; iterator", "body": "<p>Your underlying error is, as Remy explained, the usage of copies of lists (which not only is error prone but also inefficient). Thus, the correct cure is to <strong>never</strong> create such copies (Remy's answer still proposes to do so). To this end, your <code>getDragons()</code> method should return a reference.</p>\n\n<pre><code>struct Cave\n{\n  /* ... */\n  std::list&lt;const Dragon*&gt; const&amp;getDragons() const;\n};\n</code></pre>\n\n<p>Also, you should use the <code>auto</code> keyword whenever possible (and of course use at least the 2011 standard).</p>\n\n<pre><code>for(auto const&amp;dragon : cave.getDragons())\n  os &lt;&lt; std::endl &lt;&lt; dragon.getName();\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8761847, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212641494386074/picture?type=large", "display_name": "Jorge Bodega Fernanz", "link": "https://stackoverflow.com/users/8761847/jorge-bodega-fernanz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "closed_date": 1507777292, "answer_count": 2, "score": -3, "last_activity_date": 1507764349, "creation_date": 1507759918, "question_id": 46698354, "link": "https://stackoverflow.com/questions/46698354/segmentation-fault-in-listobject-iterator", "closed_reason": "Not suitable for this site", "title": "Segmentation fault in list&lt;Object*&gt; iterator", "body": "<p>I'm learning C++, and now I have problems with iterators. This is my case: I have this code here.</p>\n\n<pre><code>// std::list&lt;Dragon*&gt; dragons = cave.getDragons();\nfor (std::list&lt;Dragon*&gt;::iterator it = cave.getDragons().begin(); it != cave.getDragons().end(); it++){\n        os &lt;&lt; std::endl &lt;&lt; (*it)-&gt;getName();\n}\n</code></pre>\n\n<p>It returns a Segmentation fault. This is my list and my getDragons() method:</p>\n\n<pre><code>std::list&lt;Dragon*&gt; dragons;\nstd::list&lt;Dragon*&gt; getDragons() const {return dragons;}\n</code></pre>\n\n<p>And my question is... Why do I have a Segmentation fault doing that like this, but if I use dragons variable, which is commented, don't? Thanks! </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1507759899, "post_id": 46698302, "comment_id": 80344334, "body": "<code>int contact[10];</code> if you want 10 integers you need to read them one by one. There is no operator&gt;&gt; for an array."}, {"owner": {"reputation": 121, "user_id": 7710058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee894ee947c9684aa68a37073fe4432?s=128&d=identicon&r=PG&f=1", "display_name": "shaistha", "link": "https://stackoverflow.com/users/7710058/shaistha"}, "edited": false, "score": 0, "creation_date": 1507760189, "post_id": 46698302, "comment_id": 80344412, "body": "oh!!! yes it seems to work perfectly now.. but i want int type for my contact ...how may i do that??"}, {"owner": {"reputation": 121, "user_id": 7710058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee894ee947c9684aa68a37073fe4432?s=128&d=identicon&r=PG&f=1", "display_name": "shaistha", "link": "https://stackoverflow.com/users/7710058/shaistha"}, "edited": false, "score": 0, "creation_date": 1507760547, "post_id": 46698302, "comment_id": 80344529, "body": "sorryjust int type is fine...how can i be this stupid!!!"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1507761582, "post_id": 46698464, "comment_id": 80344830, "body": "<code>contact[0] &lt;&lt; contact[1] &lt;&lt;</code> you meant <code>&gt;&gt;</code>"}], "tags": [], "owner": {"reputation": 6050, "user_id": 1030410, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e13caf6116a45714153bd145754fd292?s=128&d=identicon&r=PG", "display_name": "Daniel Trugman", "link": "https://stackoverflow.com/users/1030410/daniel-trugman"}, "is_accepted": true, "score": 1, "last_activity_date": 1507761795, "last_edit_date": 1507761795, "creation_date": 1507760532, "answer_id": 46698464, "question_id": 46698302, "link": "https://stackoverflow.com/questions/46698302/file-handling-the-error-no-match-for-operator-in-while-loop-ccodeblo/46698464#46698464", "title": "file handling-the error: no match for &#39;operator&gt;&gt;&#39; in while loop (c++)(code::block)", "body": "<p>Your code is almost alright. This would have been ok:</p>\n\n<pre><code>while(cin &gt;&gt; name &gt;&gt; address) {\n    ..\n}\n</code></pre>\n\n<p>But, the <code>operator &gt;&gt;</code> cannot handle an array of ints (<code>int contact[10]</code>)! So you have to read it int by int, for example:</p>\n\n<pre><code>while(cin &gt;&gt; name &gt;&gt; address &gt;&gt; contact[0] &gt;&gt; contact[1] &gt;&gt; ...) {\n    ..\n}\n</code></pre>\n\n<p>or replace this with:</p>\n\n<pre><code>while(true) {\n    cin &gt;&gt; name;\n    if (!isValidName(name))\n        return; // or handle otherwise\n\n    cin &gt;&gt; address;\n    if (!isValidAddress(address))\n        return; // or handle otherwise\n\n    for (int i = 0; i &lt; sizeof(contact)/sizeof(contact[0]); i++) {\n        cin &gt;&gt; contact[i];\n        if (!isValidContact(contact[i])\n            return; // or handle otherwise\n    }     \n}\n</code></pre>\n\n<p>Notice that I added input validation. Always validate user input!</p>\n"}], "owner": {"reputation": 121, "user_id": 7710058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee894ee947c9684aa68a37073fe4432?s=128&d=identicon&r=PG&f=1", "display_name": "shaistha", "link": "https://stackoverflow.com/users/7710058/shaistha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46698464, "answer_count": 1, "score": -1, "last_activity_date": 1507761795, "creation_date": 1507759681, "last_edit_date": 1507760989, "question_id": 46698302, "link": "https://stackoverflow.com/questions/46698302/file-handling-the-error-no-match-for-operator-in-while-loop-ccodeblo", "title": "file handling-the error: no match for &#39;operator&gt;&gt;&#39; in while loop (c++)(code::block)", "body": "<p>I wrote the following program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;fstream&gt;\nusing namespace std;\n\nint main()\n{\n  ofstream theFile(\"students_info.txt\");\n  cout&lt;&lt;\"Enter the data as requested\"&lt;&lt;endl;\n  cout&lt;&lt;\"Press ctrl+z to exit\"&lt;&lt;endl;\n\n  string name, address;\n  int contact[10];\n\n  while(cin &gt;&gt; name &gt;&gt; address &gt;&gt; contact) {\n    theFile &lt;&lt; \"\\nName: \"     &lt;&lt; name\n            &lt;&lt; \"\\n Address: \" &lt;&lt; address\n            &lt;&lt; \"\\nContact: \"  &lt;&lt; contact[10] &lt;&lt; endl;\n  }\n\n  theFile.close();\n  return 0;\n}\n</code></pre>\n\n<p>I get the following compile error from my while loop condition:</p>\n\n<blockquote>\n  <p>no match for 'operator>>'</p>\n</blockquote>\n\n<p>From what i understood, my condition means if not in this order of entry of cin, leave the loop!!</p>\n\n<p>edited:solved my problem\n1:There is no operator>> for an array.\n2:could simply use int type\n3:if had to use array ..need to put it one by one..</p>\n\n<p>thank you for helping me</p>\n"}, {"tags": ["c++", "floating-point", "double", "equality"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 5, "creation_date": 1507757917, "post_id": 46697947, "comment_id": 80343649, "body": "<i>&quot;Will 0.0==foo() always be true if it returns 0.0?&quot;</i> Yes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 2, "creation_date": 1507758215, "post_id": 46697947, "comment_id": 80343764, "body": "But of course you have to be sure that it returns 0.0 unambiguously, and the only really reliable  way to have it do that is to return the 0.0 literal, not the result of a calculation."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 2, "creation_date": 1507758289, "post_id": 46697947, "comment_id": 80343798, "body": "Mandatory reading: <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1507758409, "post_id": 46697947, "comment_id": 80343847, "body": "Watch out for <code>-0.0</code> and other wild beasts."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507758444, "post_id": 46697947, "comment_id": 80343855, "body": "@Neil: float(2) / float(2) - 1.0f will work perfectly (where 2 is an integral type)"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1507758525, "post_id": 46697947, "comment_id": 80343881, "body": "I would use <code>std::optional</code> or <code>boost::optional</code>. It would make intention clear and remove doubts."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507758561, "post_id": 46697947, "comment_id": 80343898, "body": "@lorro It seems unlikely he wants to perform that specific calculation. If he did, he could simply use 0.0. My comment was about real-world calculations in general, though perhaps I didn&#39;t make that obvious."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507758604, "post_id": 46697947, "comment_id": 80343911, "body": "Also - some consider this an anti-pattern - you might always have a single global const floatZero = 0.0; . This has the advantage that it can be returned by const ref in lookups and when done so, address can also be compared. So you know e.g. if the element was in your map, while you still have an acceptable default behavior."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507758837, "post_id": 46697947, "comment_id": 80344005, "body": "@NeilButterworth what I meant, for sensible-sized int i and j, if you know that i%j == 0 and you receive these converted to float, it&#39;s safe to do i/j (and a bunch of other stuff, like *). Basically you can use float as a specific-sized signed int, with the exception that / is ok only as above and % is N/A. Granted, float(i) * float(j) would&#39;ve been a better example."}], "answers": [{"tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 1, "last_activity_date": 1507758338, "creation_date": 1507758338, "answer_id": 46698046, "question_id": 46697947, "link": "https://stackoverflow.com/questions/46697947/comparison-to-0-0-with-floating-point-values/46698046#46698046", "title": "Comparison to 0.0 with floating point values", "body": "<p>Up to <code>std::numeric_limits::digits&lt;float&gt;</code> you're safe. This is because the mantissa is integral type (usually platform-specific uint; which is then extended to a float by sign bit and exponent).</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/types/numeric_limits/digits\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/types/numeric_limits/digits</a></p>\n"}, {"comments": [{"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507759377, "post_id": 46698235, "comment_id": 80344170, "body": "Note that OP wrote exactly the same (i.e., wanted to avoid the second)."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507759901, "post_id": 46698235, "comment_id": 80344335, "body": "@lorro : I am not sure he wanted to avoid it; he&#39;s just asking whether his alternative is <i>appropriate</i>.  My point is that comparing literal 0.0 works in a limited set of circumstances that may not hold over time (code changes and is reused, or colleagues copy your code in circumstances where it is unsafe), so it is best to avoid."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507760093, "post_id": 46698235, "comment_id": 80344386, "body": "Apart from -0.0, % and /, it works basically as am int with a given mantissa, so it&#39;s safe and valid in some cases. Actually, some mainframes use float as the underlying type of int with exponent of 1 if I remember correctly."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507760256, "post_id": 46698235, "comment_id": 80344437, "body": "first paragraph, last sentence &amp; next one makes me think so. (&amp; yes, technically the answer is correct - I&#39;m just saying that in the OP&#39;s use case - and generalized one - it&#39;s safe)."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507760648, "post_id": 46698235, "comment_id": 80344556, "body": "I am not arguing that it is not safe in the example given.  If <code>foo()</code> is later modified you have to remember that you made such assumptions and maintain them or break the code.  A calculated value may have precision errors that make it near but not precisely zero."}, {"owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507760821, "post_id": 46698235, "comment_id": 80344606, "body": "I beg to differ; you say he wants to avoid it, I am reading it as asking whether it is appropriate to avoid it.  Subtle difference."}], "tags": [], "owner": {"reputation": 76010, "user_id": 168986, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/MqorX.jpg?s=128&g=1", "display_name": "Clifford", "link": "https://stackoverflow.com/users/168986/clifford"}, "is_accepted": false, "score": 0, "last_activity_date": 1507760182, "last_edit_date": 1507760182, "creation_date": 1507759313, "answer_id": 46698235, "question_id": 46697947, "link": "https://stackoverflow.com/questions/46697947/comparison-to-0-0-with-floating-point-values/46698235#46698235", "title": "Comparison to 0.0 with floating point values", "body": "<p>If you return a literal <code>0.0</code> then yes, but it is generally not a good idea, because while that is true today, can you be sure that under maintenance or code reuse it will remain true.  Better to code something that will work in a wider set of circumstances.  In this case:</p>\n\n<pre><code>foo() &lt; 0.1\n</code></pre>\n\n<p>will return false for all values you have specified.  A more general solution is to test for sufficient proximity to zero:</p>\n\n<pre><code>static const EPSILON = 0.00001 ;\nstd::fabs( foo() - 0.0 ) &lt; EPSILON ; \n</code></pre>\n\n<p>It is better to use one of the above patterns, because it does not require <code>foo()</code> to make any guarantees about the precision of \"zero\".</p>\n"}, {"tags": [], "owner": {"reputation": 8425, "user_id": 1396822, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f2e818842b0436e98b279af7f69997cb?s=128&d=identicon&r=PG", "display_name": "aka.nice", "link": "https://stackoverflow.com/users/1396822/aka-nice"}, "is_accepted": true, "score": 1, "last_activity_date": 1507793207, "creation_date": 1507793207, "answer_id": 46703819, "question_id": 46697947, "link": "https://stackoverflow.com/questions/46697947/comparison-to-0-0-with-floating-point-values/46703819#46703819", "title": "Comparison to 0.0 with floating point values", "body": "<p>It's perfectly correct in your case to use floating point equality <code>== 0.0</code>.</p>\n\n<p>It perfectly fits the intention of the function (return some value or 0.0 if it fails). Using any other epsilon is somehow arbitrary and require the knowledge of the range of correct values. If ever something went to change that could well be the range of values rather than 0, so testing <code>== 0.0</code> is not less future proof than other solutions IMO.</p>\n\n<p>The only problem I see is that some compilers will warn about suspiscious usage of equality (-Wfloat-equal)... That's as usefull as warning about <code>int a,b,c; ...; c=a+b;</code> because such instruction might possibly lead to problem (integer overflow and undefined behaviour). Curiously, I never saw the second warning.</p>\n\n<p>So if you want to make usage of -Wall -Werror compiler options future proof, you might encode failure differently (with a negative value for example) and test for foo &lt; 0.0 - until someone discover that floating point inequality might require a tolerance too and declare the construct as suspiscious.</p>\n"}], "owner": {"reputation": 676, "user_id": 8340131, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213822252052614/picture?type=large", "display_name": "Johnathan Gross", "link": "https://stackoverflow.com/users/8340131/johnathan-gross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1750, "favorite_count": 0, "accepted_answer_id": 46703819, "answer_count": 3, "score": 1, "last_activity_date": 1507793207, "creation_date": 1507757806, "last_edit_date": 1507764085, "question_id": 46697947, "link": "https://stackoverflow.com/questions/46697947/comparison-to-0-0-with-floating-point-values", "title": "Comparison to 0.0 with floating point values", "body": "<p>When using floating point numbers, there can sometimes be rounding issues. Because of this, it is usually not recommended to compare the result of calculations with == or != and instead to use an appropriate bound like <code>abs(a-b)&lt;1.0e-10</code>.</p>\n\n<p>But would it be appropriate to use it to compare to <code>0.0</code>?</p>\n\n<p>Here is what I am talking about:</p>\n\n<pre><code>double foo(){\n    //code which can return values that aren't 0.0\n    //all returns are either literals or global variables defined with literals\n    return 0.0;\n}\n</code></pre>\n\n<p>Here <code>f</code> will always return either exactly <code>0.0</code> or a number that is unambiguously not <code>0.0</code>. Specifically, the numbers will all have magnitudes greater than <code>0.1</code> but less than <code>2.0</code>.</p>\n\n<p>Will <code>0.0==foo()</code> always be <code>true</code> if it returns <code>0.0</code>? Is it possible for <code>0.0==foo()</code> to be <code>true</code> if <code>foo</code> returns a value other than <code>0.0</code>?</p>\n"}, {"tags": ["c++", "c++11", "exception", "std", "clang-tidy"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user2100815"}, "edited": false, "score": 2, "creation_date": 1507757503, "post_id": 46697861, "comment_id": 80343464, "body": "Why are you using throw specifications? They have been deprecated. <a href=\"https://stackoverflow.com/questions/13841559/deprecated-throw-list-in-c11\" title=\"deprecated throw list in c11\">stackoverflow.com/questions/13841559/&hellip;</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1507759444, "post_id": 46697861, "comment_id": 80344198, "body": "Pain <code>throw</code> specifiers bring. Much pain. Better off without, you are."}], "answers": [{"tags": [], "owner": {"reputation": 477, "user_id": 1038128, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/a77392ff44a1f398824e3bb18b6f33cc?s=128&d=identicon&r=PG", "display_name": "Guillaume Lavoie", "link": "https://stackoverflow.com/users/1038128/guillaume-lavoie"}, "is_accepted": false, "score": 6, "last_activity_date": 1524649242, "last_edit_date": 1524649242, "creation_date": 1509055919, "answer_id": 46964629, "question_id": 46697861, "link": "https://stackoverflow.com/questions/46697861/handling-thrown-exception-type-is-not-nothrow-copy-constructible-warning/46964629#46964629", "title": "Handling &quot;Thrown exception type is not nothrow copy constructible&quot; Warning", "body": "<p>The comment provided by Neil is valid. In C++ 11, using <code>throw</code> in a function signature has been deprecated in favor of <code>noexcept</code>. In this case, my constructor's signature should have been: </p>\n\n<pre><code>explicit MyClass(string value) noexcept(false);\n</code></pre>\n\n<p>But, since <code>noexcept(false)</code> is applied by default to all functions, unless <code>noexcept</code> or <code>noexcept(true)</code> is specified, I can simply use:</p>\n\n<pre><code>explicit MyClass(string value);\n</code></pre>\n\n<p>Going back to how to fix the \"Thrown exception type is not nothrow copy constructible\u201d warning, I found <a href=\"https://web.archive.org/web/20160730024945/https://www.securecoding.cert.org/confluence/display/cplusplus/ERR60-CPP.+Exception+objects+must+be+nothrow+copy+constructible\" rel=\"nofollow noreferrer\">this post</a> that explains very well what the issue is and how to fix it.</p>\n"}], "owner": {"reputation": 477, "user_id": 1038128, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/a77392ff44a1f398824e3bb18b6f33cc?s=128&d=identicon&r=PG", "display_name": "Guillaume Lavoie", "link": "https://stackoverflow.com/users/1038128/guillaume-lavoie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5356, "favorite_count": 1, "answer_count": 1, "score": 14, "last_activity_date": 1596467648, "creation_date": 1507757362, "last_edit_date": 1596467648, "question_id": 46697861, "link": "https://stackoverflow.com/questions/46697861/handling-thrown-exception-type-is-not-nothrow-copy-constructible-warning", "title": "Handling &quot;Thrown exception type is not nothrow copy constructible&quot; Warning", "body": "<p>Going back to C++ development after a 12 years hiatus. I'm using JetBrains's CLion software which is great since it provides a lot of input on possible issues on my class design. One of the warning I get in my class' constructor throw statement is: <code>Thrown exception type is not nothrow copy constructible</code>. Here is a code sample that generates this warning:</p>\n<pre><code>#include &lt;exception&gt;\n#include &lt;iostream&gt;\n\nusing std::invalid_argument;\nusing std::string;\n\nclass MyClass {\n    public:\n        explicit MyClass(string value) throw (invalid_argument);\n    private:\n        string value;\n};\n\nMyClass::MyClass(string value) throw (invalid_argument) {\n    if (value.length() == 0) {\n        throw invalid_argument(&quot;YOLO!&quot;); // Warning is here.\n    }\n\n    this-&gt;value = value;\n} \n</code></pre>\n<p>This piece of code compiles and I am able to unit test it. But I would like very much to get rid of this warning (in order to understand what I am doing wrong, even though it compiles).</p>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1507757089, "post_id": 46697773, "comment_id": 80343269, "body": "It&#39;s currently unclear what conversions you want to be available. Are you saying that you want <code>SoundRecording&lt;T&gt;</code> to be convertible to <code>SoundRecording&lt;U&gt;</code> if <code>T</code> is convertible to <code>U</code>? And do you want explicit or implicit conversions, and should it only work if <code>T</code> is implicitly convertible to <code>U</code>?"}, {"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 1, "creation_date": 1507757244, "post_id": 46697773, "comment_id": 80343341, "body": "Depends on what you call &quot;elegant&quot;. The way you described works; what exactly are you trying to improve?"}, {"owner": {"reputation": 12122, "user_id": 824903, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0903f3a872eef8fded8e48257fde823?s=128&d=identicon&r=PG", "display_name": "donturner", "link": "https://stackoverflow.com/users/824903/donturner"}, "edited": false, "score": 0, "creation_date": 1507758673, "post_id": 46697773, "comment_id": 80343943, "body": "To me the conversion seems like it should be the responsibility of the <code>SoundRecording</code> object, rather than a separate static method. Not really a fan of &quot;utility&quot; methods if I can avoid them."}], "answers": [{"comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 1, "creation_date": 1507757306, "post_id": 46697831, "comment_id": 80343379, "body": "prefer <code>explicit operator S...()</code>"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1507757364, "post_id": 46697831, "comment_id": 80343406, "body": "Why not do the conversion as a constructor instead of a conversion operator?"}, {"owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1507757466, "post_id": 46697831, "comment_id": 80343448, "body": "@Justin You can also do that, but this allows conversion <i>after</i> construction if one desires."}], "tags": [], "owner": {"reputation": 52050, "user_id": 3093378, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d8214cf99b0fa33b4f7d571801914b53?s=128&d=identicon&r=PG", "display_name": "vsoftco", "link": "https://stackoverflow.com/users/3093378/vsoftco"}, "is_accepted": true, "score": 4, "last_activity_date": 1507766467, "last_edit_date": 1507766467, "creation_date": 1507757194, "answer_id": 46697831, "question_id": 46697773, "link": "https://stackoverflow.com/questions/46697773/how-should-i-convert-between-classes-created-using-c-templates/46697831#46697831", "title": "How should I convert between classes created using C++ templates?", "body": "<p>You can have a templated conversion operator like</p>\n\n<pre><code>template&lt;class U&gt;\nexplicit operator SoundRecording&lt;U&gt;() { /*do the conversion here*/ }\n</code></pre>\n\n<p>Minimal code snippet that exemplifies the technique:</p>\n\n<pre><code>template&lt;class T&gt;\nstruct X\n{\n    template&lt;class U&gt;\n    explicit operator X&lt;U&gt;() {return {};}\n};\n\nint main()\n{\n    X&lt;int&gt; x;\n    auto y = static_cast&lt;X&lt;float&gt;&gt;(x); // conversion\n}\n</code></pre>\n\n<p><a href=\"http://coliru.stacked-crooked.com/a/7e4162ff061f8816\" rel=\"nofollow noreferrer\"><kbd>Live on Coliru</kbd></a></p>\n\n<p>As @Mooing Duck remarked in the comment, try to mark your conversion operators as <code>explicit</code> to avoid nasty un-wanted compiler-triggerd conversions.</p>\n\n<p>You can go a bit further and enable your conversion only when <code>T</code> is convertible to <code>U</code> or vice-versa, via a combination of  <a href=\"http://en.cppreference.com/w/cpp/types/enable_if\" rel=\"nofollow noreferrer\"><code>std::enable_if</code></a> and <a href=\"http://en.cppreference.com/w/cpp/types/is_convertible\" rel=\"nofollow noreferrer\"><code>std::is_convertible</code></a>, like so:</p>\n\n<pre><code>template&lt;class U, \n         typename std::enable_if&lt;std::is_convertible&lt;T, U&gt;::value&gt;::type* = nullptr&gt;\nexplicit operator X&lt;U&gt;() {return {};}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "is_accepted": false, "score": 2, "last_activity_date": 1507757557, "creation_date": 1507757557, "answer_id": 46697895, "question_id": 46697773, "link": "https://stackoverflow.com/questions/46697773/how-should-i-convert-between-classes-created-using-c-templates/46697895#46697895", "title": "How should I convert between classes created using C++ templates?", "body": "<p>For an example of allowing this with a copy constructor instead of a casting operator:</p>\n\n<pre><code>#include &lt;cstdint&gt;\n\ntemplate &lt;typename T&gt;\nclass SoundRecording {\npublic:\n    SoundRecording();\n\n    template &lt;typename U&gt;\n    SoundRecording(const SoundRecording&lt;U&gt;&amp; other);\n\nprivate:\n    T *data;\n\n    template &lt;typename U&gt;\n    friend class SoundRecording;\n};\n\ntemplate &lt;typename T&gt;\nSoundRecording&lt;T&gt;::SoundRecording(){\n    data = new T[10];\n}\n\ntemplate &lt;typename T&gt;\ntemplate &lt;typename U&gt;\nSoundRecording&lt;T&gt;::SoundRecording(const SoundRecording&lt;U&gt;&amp; other){\n    data = new T[10];\n    for (int i = 0; i &lt; 10; ++i) {\n        data[i] = static_cast&lt;T&gt;(other.data[i]);\n    }\n}\n\nint main(){\n    SoundRecording&lt;int16_t&gt; recording16;\n    SoundRecording&lt;float&gt; recordingFloat(recording16);\n}\n</code></pre>\n"}], "owner": {"reputation": 12122, "user_id": 824903, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0903f3a872eef8fded8e48257fde823?s=128&d=identicon&r=PG", "display_name": "donturner", "link": "https://stackoverflow.com/users/824903/donturner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 46697831, "answer_count": 2, "score": 1, "last_activity_date": 1507766467, "creation_date": 1507756951, "last_edit_date": 1507758560, "question_id": 46697773, "link": "https://stackoverflow.com/questions/46697773/how-should-i-convert-between-classes-created-using-c-templates", "title": "How should I convert between classes created using C++ templates?", "body": "<p>I have a template <code>SoundRecording.h</code>: </p>\n\n<pre><code>template &lt;typename T&gt;\nclass SoundRecording {\npublic:\n    explicit SoundRecording(T init);\nprivate:\n    T data;\n};\n\ntemplate &lt;typename T&gt;\nSoundRecording&lt;T&gt;::SoundRecording(T init){\n    data = init;\n}\n</code></pre>\n\n<p>And I can create instances of this template class like this: </p>\n\n<pre><code>SoundRecording&lt;int16_t&gt; recording(INT16_MAX);\n</code></pre>\n\n<p>What is the best way to convert <code>recording</code> to a <code>SoundRecording&lt;float&gt;</code>?</p>\n\n<p>I know I could use a simple method, for example I could declare:</p>\n\n<pre><code>SoundRecording&lt;float&gt; convertInt16ToFloat(SoundRecording&lt;int16_t&gt; input)\n</code></pre>\n\n<p>But I was wondering whether there was a more elegant way to achieve this using assignment or constructor operators. </p>\n\n<p><em>Updated following comments:</em> I am looking to define an explicit conversion. In the above example <code>recording.data</code> is equal to <code>INT16_MAX</code> after construction. After being converted to a <code>float</code> it should equal <code>1.0F</code>.</p>\n"}, {"tags": ["c++", "linux", "getch"], "comments": [{"owner": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "edited": false, "score": 0, "creation_date": 1507757130, "post_id": 46697763, "comment_id": 80343294, "body": "What &quot;didn&#39;t work&quot; ?"}, {"owner": {"reputation": 41, "user_id": 8623633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b99456a321ba906b6231a8a4386e8f2?s=128&d=identicon&r=PG&f=1", "display_name": "KonoDDa", "link": "https://stackoverflow.com/users/8623633/konodda"}, "reply_to_user": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "edited": false, "score": 0, "creation_date": 1507757308, "post_id": 46697763, "comment_id": 80343381, "body": "@BradS. My input method, the way the tutorial had it set up was using kbhit(), and that is for windows only. However I want to find a way do to do it in linux."}, {"owner": {"reputation": 327, "user_id": 3439241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379db3ae2e8602becbff5d33238391ec?s=128&d=identicon&r=PG&f=1", "display_name": "Brad S.", "link": "https://stackoverflow.com/users/3439241/brad-s"}, "edited": false, "score": 0, "creation_date": 1507757384, "post_id": 46697763, "comment_id": 80343419, "body": "so, your problem is that you have to hit return?"}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1507757747, "post_id": 46697763, "comment_id": 80343577, "body": "What <i>does</i> happen when you run this code? My guess is that the game freezes, not accepting input or advancing the snake or anything, and that this stays the case after you hit enter. If that\u2019s the case, then I\u2019d recommend looking into how to use ncurses to set raw instead of cooked input."}, {"owner": {"reputation": 41, "user_id": 8623633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b99456a321ba906b6231a8a4386e8f2?s=128&d=identicon&r=PG&f=1", "display_name": "KonoDDa", "link": "https://stackoverflow.com/users/8623633/konodda"}, "reply_to_user": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "edited": false, "score": 0, "creation_date": 1507757757, "post_id": 46697763, "comment_id": 80343579, "body": "@nos I cut the code, and also added more detail on my problem."}, {"owner": {"reputation": 41, "user_id": 8623633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b99456a321ba906b6231a8a4386e8f2?s=128&d=identicon&r=PG&f=1", "display_name": "KonoDDa", "link": "https://stackoverflow.com/users/8623633/konodda"}, "reply_to_user": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1507757851, "post_id": 46697763, "comment_id": 80343621, "body": "@DanielH Yes that what happens. I&#39;ll look into it. Thanks"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1507758178, "post_id": 46697763, "comment_id": 80343743, "body": "Helpful reading: <a href=\"https://stackoverflow.com/questions/29335758/using-kbhit-and-getch-on-linux\">Using kbhit() and getch() on Linux</a>"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1507760037, "post_id": 46697763, "comment_id": 80344372, "body": "Since you are using C++, shouldn&#39;t you use <a href=\"http://www.cplusplus.com/reference/istream/istream/peek/\" rel=\"nofollow noreferrer\"><code>std::istream::peek</code></a> or <a href=\"http://www.cplusplus.com/reference/istream/istream/get/\" rel=\"nofollow noreferrer\"><code>std::istream::get</code></a> on <code>std::cin</code> (or whatever your input stream is)?"}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507757339, "post_id": 46697839, "comment_id": 80343392, "body": "One could use <code>toupper()</code> or <code>tolower()</code> before the switch:  <code>switch (toupper(getch()))</code>"}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 1, "creation_date": 1507757643, "post_id": 46697839, "comment_id": 80343529, "body": "This isn\u2019t the problem; arrow keys do send escape followed by a capital (on most terminals)."}], "tags": [], "owner": {"reputation": 24428, "user_id": 421163, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/l4J7H.jpg?s=128&g=1", "display_name": "c-smile", "link": "https://stackoverflow.com/users/421163/c-smile"}, "is_accepted": false, "score": -2, "last_activity_date": 1507757246, "creation_date": 1507757246, "answer_id": 46697839, "question_id": 46697763, "link": "https://stackoverflow.com/questions/46697763/the-input-keys-for-linux-arent-manageable-how-can-i-go-around-it-in-c/46697839#46697839", "title": "The input keys for Linux aren&#39;t manageable, how can I go around it in C++?", "body": "<p>This <code>case 'A':</code> expects capital letter to be typed. Which is not the case :) normally. So:</p>\n\n<pre><code>switch(getch()) { // the real value\n            case 'A': // either capital\n            case 'a': //  or low case \n                // code for arrow up\n                direction = UP;\n                break;\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8623633, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9b99456a321ba906b6231a8a4386e8f2?s=128&d=identicon&r=PG&f=1", "display_name": "KonoDDa", "link": "https://stackoverflow.com/users/8623633/konodda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507757734, "creation_date": 1507756878, "last_edit_date": 1507757734, "question_id": 46697763, "link": "https://stackoverflow.com/questions/46697763/the-input-keys-for-linux-arent-manageable-how-can-i-go-around-it-in-c", "title": "The input keys for Linux aren&#39;t manageable, how can I go around it in C++?", "body": "<p>I am trying to follow a snake tutorial game using C++. However, it seems they were using some windows libraries and in my case I am compiling it on Linux. The problem is in my <strong>Input() method</strong>, I tried changing it with a recommended code I found on here, but that did not quite worked for me. Is there a way to go around this or any recommendation? Thanks.</p>\n\n<pre><code>    #include &lt;iostream&gt;\n    #include &lt;stdio.h&gt;\n    #include &lt;ncurses.h&gt;\n    #include &lt;unistd.h&gt;\n    .....\n    //Get the key input inorder to move the snake around\n    void Input() {\n        //Tried this from the stackoverlow recommendations, did not work for my situation\n        if (getch() == '\\033') { \n        getch(); \n        switch(getch()) { // the real value\n            case 'A':\n                // code for arrow up\n                direction = UP;\n                break;\n            case 'B':\n                // code for arrow down\n                direction = DOWN;\n                break;\n            case 'C':\n                // code for arrow right\n                direction = RIGHT;\n                break;\n            case 'D':\n                // code for arrow left\n                direction = LEFT;\n                break;\n             case 'Q':\n                gameOver = true;\n                break; \n            default:\n                break;\n        }\n    }\n\n    }\n    .....\n</code></pre>\n\n<p>The issue I am having with is that linux does not accept the kbhit() which what the snake game tutorial was using, so I tried to modify it with what I have above, however it does not move the snake.</p>\n"}, {"tags": ["c++", "cin"], "answers": [{"tags": [], "owner": {"reputation": 15204, "user_id": 453271, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/G7rcK.png?s=128&g=1", "display_name": "Andriy Tylychko", "link": "https://stackoverflow.com/users/453271/andriy-tylychko"}, "is_accepted": true, "score": 1, "last_activity_date": 1507757843, "creation_date": 1507757843, "answer_id": 46697960, "question_id": 46697751, "link": "https://stackoverflow.com/questions/46697751/reading-different-types-of-input-from-cin/46697960#46697960", "title": "reading different types of input from cin", "body": "<p>Read always a string and then try to convert. \"+/-\" are consumed while you try to read a number, as they can be part of string representation of a number</p>\n"}], "owner": {"reputation": 13, "user_id": 8521306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca94964609790710b6c97217bc03c55e?s=128&d=identicon&r=PG&f=1", "display_name": "Y.Yang", "link": "https://stackoverflow.com/users/8521306/y-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "accepted_answer_id": 46697960, "answer_count": 1, "score": 1, "last_activity_date": 1507757843, "creation_date": 1507756841, "last_edit_date": 1507757553, "question_id": 46697751, "link": "https://stackoverflow.com/questions/46697751/reading-different-types-of-input-from-cin", "title": "reading different types of input from cin", "body": "<p>When dealing with reading different types of input from cin, I've originally thought to start to read as if the input is an integer. If that fails, read it as a string.</p>\n\n<p>It works fine until I tried to read operators such as \"+\", \"-\". After entering into the if (!fail), it asks for another input as if the input (operators such as \"+\", \"-\") is gone. While, the input should not even been read in. </p>\n\n<p>Here is the code:</p>\n\n<pre><code> void RPNCalc::run()\n {\n    int numInput; bool boolInput = false; string stringInput; char charInput;\n    while (stringInput != \"quit\")\n    { \n        cin &gt;&gt; numInput;\n        if (!cin)\n        {\n            cout &lt;&lt; \"not an int\" &lt;&lt; endl;\n            cin.clear();\n            cin &gt;&gt; stringInput;\n            cout &lt;&lt; stringInput &lt;&lt; endl;\n            readNonNumInput(stringInput, boolInput);\n        } \n        else\n        {\n            Datum temp = Datum(numInput);\n            calculator.push(temp);\n        } \n    }\n }\n</code></pre>\n\n<p>When reading operators into cin, after it fails to read it as an integer, it somehow loses the operators in the buffer. For example, if I enter a \"+\", it fails to be read as an integer, so it will print the statement \"not an int\". However, since the \"+\" is somehow lost in the buffer, there is nothing to be read into the stringInput. Whereas for other string inputs, it fails to be read as integers and that string still exists in the buffer, which can later be read into the stringInput.</p>\n\n<p>That is my understanding of what is going on here. But I could be wrong.</p>\n"}, {"tags": ["c++", "singleton", "global"], "comments": [{"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507757477, "post_id": 46697717, "comment_id": 80343454, "body": "I don&#39;t really get what the problem with forward declaring X is, can you clarifiy?"}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "reply_to_user": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507757537, "post_id": 46697717, "comment_id": 80343479, "body": "@Knoep I thought about that, but then all instances of <code>Y</code> would contain the same pointer to <code>X</code>. So as I see it, the same information would be stored a considerable number of times (or would the compiler be smart here somehow)?"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507757760, "post_id": 46697717, "comment_id": 80343583, "body": "Pointers are very small, you should worry about that. Also, you NEED this information in every single instance of Y."}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "reply_to_user": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507757784, "post_id": 46697717, "comment_id": 80343592, "body": "@Knoep My previous comment is a reaction to your first comment that now disappeared. There is no problem with forward declaring <code>X</code>, but in that case, <code>Y</code> is only aware of the class <code>X</code>, but does not know anything about the methods/variables/... of <code>X</code>, right? That <i>is</i> an issue."}], "answers": [{"comments": [{"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507759055, "post_id": 46698091, "comment_id": 80344077, "body": "Ok, added a forward declaration to <code>X</code> as well as a pointer to <code>X</code>, say <code>X *pX</code>. Now, using e.g. <code>pX-&gt;myObjectsY.size()</code> in <code>Y</code> results in an error that, in the example setting, would be <code>invalid use of incomplete type &#39;class X&#39;</code>. What am I missing?"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507759343, "post_id": 46698091, "comment_id": 80344160, "body": "Try putting the defintion of the function that accesses X in the cpp file. And give me a minute to figure out why this could matter..."}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507759684, "post_id": 46698091, "comment_id": 80344274, "body": "... and include x.h in that cpp file."}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507759771, "post_id": 46698091, "comment_id": 80344294, "body": "But including <code>x.h</code> also results in the inclusion of <code>y.h</code>, right?"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 1, "creation_date": 1507759944, "post_id": 46698091, "comment_id": 80344350, "body": "Yeah, but that should be included in y.cpp anyway. Sorry for the confusion, took me a bit to sort out my knowledge of forward declaration. I&#39;ll set the answer strait."}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507760514, "post_id": 46698091, "comment_id": 80344517, "body": "And for the record: You were totally right that you cannot access members of forward declared classes. This just doesn&#39;t usually matter, because if you use this setup (which is quite typical) they are no longer just forward declared by the point you try to access the members (in the .cpp file)."}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507760710, "post_id": 46698091, "comment_id": 80344575, "body": "Ok, I see how this works. Thanks. However, in the actual problem, the equivalent of <code>x.h</code> is a header with quite a lot of other <code>#include</code> statements, methods and variables. In addition, it will not only be included in the equivalent of <code>y.cpp</code>, but also in four other classes with similar characteristics as <code>Y</code> (but not enough to create a template for them). Would a global pointer not be a better approach in that case?"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507760875, "post_id": 46698091, "comment_id": 80344626, "body": "It will not be included in y.h, only in y.cpp. I don&#39;t see why this would be a problem? If you don&#39;t use all those definitions and declarations in y.cpp, the compile won&#39;t include them in the bytecode for the compilation unit."}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507761043, "post_id": 46698091, "comment_id": 80344687, "body": "Sorry, meant to say <code>y.cpp</code> instead of <code>y.h</code>, fixed. Well, the approach should still work, but including <code>x.h</code> now also includes a lot of other stuff, and again that does not seem completely efficient. Maybe the compiler will be smart, I don&#39;t know. Just wondering if there is a more elegant solution :)."}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507761119, "post_id": 46698091, "comment_id": 80344702, "body": "See the edit of my last comment. In C++ you don&#39;t pay for what you don&#39;t use :) And this approach is really quite typical, I doubt there is a better solution."}, {"owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507761344, "post_id": 46698091, "comment_id": 80344765, "body": "The only alternatives I can think of are a global construction using <code>extern</code>, or something involving a singleton. I&#39;m not saying those would be more elegant though. I&#39;ll mark your answer as the accepted one if no others are provided on short term. Cheers!"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "edited": false, "score": 0, "creation_date": 1507761443, "post_id": 46698091, "comment_id": 80344793, "body": "Fine, I can wait :)"}], "tags": [], "owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "is_accepted": true, "score": 1, "last_activity_date": 1507760019, "last_edit_date": 1507760019, "creation_date": 1507758559, "answer_id": 46698091, "question_id": 46697717, "link": "https://stackoverflow.com/questions/46697717/class-x-with-object-of-class-y-access-public-variables-of-x-from-within-y/46698091#46698091", "title": "Class X with object of class Y, access public variables of X from within Y", "body": "<p>Simply forward declare X in Y.h and give Y a pointer to X. If you include X.h in Y.cpp you can than access members of X in functions that are defined in Y.cpp (as the definition of X is known at that point).</p>\n"}], "owner": {"reputation": 643, "user_id": 1069658, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b125b97e05762a29040bfc420c2990ea?s=128&d=identicon&r=PG", "display_name": "Ailurus", "link": "https://stackoverflow.com/users/1069658/ailurus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 46698091, "answer_count": 1, "score": 0, "last_activity_date": 1507760127, "creation_date": 1507756675, "last_edit_date": 1507760127, "question_id": 46697717, "link": "https://stackoverflow.com/questions/46697717/class-x-with-object-of-class-y-access-public-variables-of-x-from-within-y", "title": "Class X with object of class Y, access public variables of X from within Y", "body": "<p>Given a custom class <code>X</code> with a vector of instances of another custom class <code>Y</code>, <strong>I would like to access the public variables of class <code>X</code> from within an instance of <code>Y</code></strong> using e.g. a global reference or pointer to the instance of <code>X</code>. Ultimately, class <code>Z</code> contains the instance of class <code>X</code> (right now, there can only be one instance of <code>X</code> at a time, which hints at the use of a singleton).</p>\n\n<p>Naturally, this is a simplified (and somewhat abstract) version of the actual problem, which contains more classes with certain dependencies (including circular ones). Now, before someone starts with \"... don't use global variables or pointers, don't use circular dependencies, ...\" \u2014 I know, please just assume I have a good reason for using them in this case. In general I too like to avoid them. </p>\n\n<p>The initial idea was to make <code>myX</code> (defined in class <code>Z</code>) globally available, but I'm not exactly sure how to do this properly. If I were to use <code>myX</code> from within <code>Y</code> (e.g. using <code>extern</code>), <code>Y</code> would have to know about class <code>X</code>. But I can't include the header of <code>X</code> here. I could use a forward declaration of <code>X</code>, but then <code>Y</code> still wouldn't know about <code>myObjectsY</code>. Clearly, this doesn't work.</p>\n\n<hr>\n\n<p>Class X</p>\n\n<pre><code>#include 'Y.h'    \n\nclass X {\n  public:      \n  vector&lt;Y&gt; myObjectsY;\n};\n</code></pre>\n\n<p>Class Y</p>\n\n<pre><code>class Y {\n  // How to obtain e.g. the number of objects Y in the myObjectsY vector\n};\n</code></pre>\n\n<p>Class Z</p>\n\n<pre><code>#include 'X.h'\n\nclass Z {\n  X *myX = new X();\n};\n</code></pre>\n"}, {"tags": ["c++", "class", "math", "operator-overloading"], "comments": [{"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507755942, "post_id": 46697525, "comment_id": 80342813, "body": "A template maybe?"}, {"owner": {"reputation": 41680, "user_id": 37843, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1eae44bed3fd091a94a20782cc235434?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/37843/alan"}, "edited": false, "score": 0, "creation_date": 1507757259, "post_id": 46697525, "comment_id": 80343352, "body": "As an aside:  Point(double x_in, double y_in){             setX(x_in);             setY(y_in);         }    &#39; is superfluous. You can set x and y directly inside the constructor."}], "answers": [{"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507756600, "post_id": 46697589, "comment_id": 80343078, "body": "Caveat: if <code>T</code> is a reference this will not work as expected."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507756653, "post_id": 46697589, "comment_id": 80343097, "body": "@user4581301 I don&#39;t expect <code>T</code> to ever be a reference in calling this function, as I take <code>val</code> by value."}, {"owner": {"reputation": 41680, "user_id": 37843, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1eae44bed3fd091a94a20782cc235434?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/37843/alan"}, "edited": false, "score": 1, "creation_date": 1507756682, "post_id": 46697589, "comment_id": 80343107, "body": "Why this approach, rather than define constructors that take int, float, and double, and then just have a single friend function that takes two points? Then the compiler will choose the appropriate conversion constructor."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 41680, "user_id": 37843, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1eae44bed3fd091a94a20782cc235434?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/37843/alan"}, "edited": false, "score": 1, "creation_date": 1507756792, "post_id": 46697589, "comment_id": 80343151, "body": "@Alan That&#39;s a pretty good idea. Sometimes, you have some design requirement that prevents you from doing so, but that&#39;s definitely a good solution to the problem. You could post that as a separate answer"}], "tags": [], "owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "is_accepted": false, "score": 2, "last_activity_date": 1507756157, "creation_date": 1507756157, "answer_id": 46697589, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou/46697589#46697589", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>You can absolutely do this using templates:</p>\n\n<pre><code>// inside the class\ntemplate &lt;typename T, std::enable_if_t&lt;std::is_arithmetic_v&lt;T&gt;, int&gt; = 0&gt;\nfriend Point operator+(const Point &amp;p1, T val) {\n    // function definition\n}\n\n// Don't forget to define the function for T on the left hand side\n</code></pre>\n\n<p>This uses <a href=\"http://en.cppreference.com/w/cpp/types/enable_if\" rel=\"nofollow noreferrer\"><code>std::enable_if</code></a> and <a href=\"http://en.cppreference.com/w/cpp/types/is_arithmetic\" rel=\"nofollow noreferrer\"><code>std::is_arithmetic</code></a>, to make this function only accept types that are \"arithmetic types\", basically integers and floats.</p>\n"}, {"tags": [], "owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "is_accepted": false, "score": 5, "last_activity_date": 1507756692, "creation_date": 1507756692, "answer_id": 46697721, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou/46697721#46697721", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>Such can be more generalized by using templates and specializing the exceptional case, instead of providing an overloaded version for each and every matching type:</p>\n\n<pre><code>class Point\n{\n    public:\n        // ...        \n        template&lt;typename T&gt;\n        friend Point operator+(const Point &amp;p1, T p2);             \n};\n</code></pre>\n\n<hr>\n\n<pre><code>template&lt;typename T&gt;\nPoint operator+(const Point &amp;p1, T val){\n    static_assert(std::is_artithmetic&lt;T&gt;::value,\"An arithmetic type is required\");\n    return Point(p1.x + val, p1.y + val);\n}\n\n// Specialization for Point\ntemplate&lt;&gt; \nPoint operator+(const Point &amp;p1, const Point&amp; val){\n    return Point(p1.x + val, p1.y + val);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 5, "last_activity_date": 1507756866, "creation_date": 1507756866, "answer_id": 46697758, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou/46697758#46697758", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>Other answers mention templates but in actual fact, all numeric types will automatically be promoted to doubles.</p>\n\n<p>Therefore, you only need to provide operators in terms of <code>Point</code> and <code>double</code>.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Point\n{\n    private:\n        double x, y;\n\n    public:\n        Point(double x_in, double y_in){\n            setX(x_in);\n            setY(y_in);\n        }    \n        // Getters and Setters omitted for brevity\n\n        double getX() const { return x; }\n        double getY() const { return y; }\n\n        void setX(double v) { x = v; }\n        void setY(double v) { y = v; }\n\n        // unary ops\n        Point&amp; operator+=(Point const&amp; other)\n        {\n            x += other.x;\n            y += other.y;\n            return *this;\n        }\n\n        Point&amp; operator+=(double v)\n        {\n            x += v;\n            y += v;\n            return *this;\n        }\n\n        // --- Start of Addition Operator Overloads --- (Code Block A)\n\n        friend Point operator+(Point p1, const Point &amp;p2)\n        {\n            p1 += p2;\n            return p1;\n        }\n\n        friend Point operator+(Point p1, double val)\n        {\n            p1 += val;\n            return p1;\n        }\n\n        friend Point operator+(double val, Point p1)\n        {\n            p1 += val;\n            return p1;\n        }\n        // --- End of Addition Operator Overloads --- (Code Block A)\n};\n\n\n    // --- End of Addition Operator Overload Functions --- (Code Block B)\nint main()\n{\n    Point point_a( 2.00, 20.00);\n    Point point_b( 0.50,  5.00);\n    Point point_c = point_a + point_b;\n    point_c += 10;\n    Point point_d = point_c + 10;\n    Point point_e = point_d + 10.1;\n    cout &lt;&lt; \"X = \" &lt;&lt; point_c.getX() &lt;&lt; \" and Y = \" &lt;&lt; point_c.getY() &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 2, "last_activity_date": 1507756942, "creation_date": 1507756942, "answer_id": 46697770, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou/46697770#46697770", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>Point's <code>operator+</code> implementations all converts its non-Point arguments to doubles before doing a <code>+</code> on elements.</p>\n\n<p>The <code>float</code> and <code>int</code> overloads are nearly pointless.  Just write the two <code>double</code> overloads.</p>\n\n<p>Built-in conversion from <code>int</code> and <code>float</code> will then occur in the <code>operator+</code> call.</p>\n\n<hr>\n\n<p>If you really need int/float overloads and you know why and have tested that the double overload doesn't work, consider fixing the broken template conversion operator which is about the only way I can see this bbeing the case.</p>\n\n<p>Failing that, cast to double explicitly.</p>\n\n<p><strong>Failing that</strong>, maybe write a template <code>+</code> that takes any <code>T</code> convertible to <code>double</code>, then converts and calls the above <code>+</code> for <code>double</code>.  Then add a paragraph of documentation why you had to do something this stupid and complex instead of just overloading <code>+</code> with <code>double</code>.  Then read that paragraph and change your mind and stick with <code>+</code> overloaded with <code>double</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 41680, "user_id": 37843, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/1eae44bed3fd091a94a20782cc235434?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/37843/alan"}, "is_accepted": true, "score": 3, "last_activity_date": 1513090534, "last_edit_date": 1513090534, "creation_date": 1507757157, "answer_id": 46697817, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou/46697817#46697817", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>Separate solution than the template solution is to define constructors for the types you want to support, and have a single operator+ that works on Point types.</p>\n\n<p>The compiler will implicitly call the proper constructor to convert the built-in type, before invoking operator+.</p>\n\n<p>This simplifies the implementation, at the expense of wasted temp objects. </p>\n\n<pre><code>// Example program\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nclass Point {\n  private:\n    double x, y;\n  public:\n    Point(int val) {\n        this-&gt;x = val;\n        this-&gt;y = val;\n    }\n\n    Point(double x, double y) {\n        this-&gt;x = x;\n        this-&gt;y = y;\n    }\n\n    friend Point operator+(const Point &amp;p1, const Point &amp;p2) {\n        return Point(p1.x + p2.x, p1.y + p2.y);   \n    }\n};\n\nint main()\n{\n  Point p(1,2);\n  Point q = p + 10;\n  Point v = 10 + p;\n}\n</code></pre>\n\n<p>There is a stylistic argument about explicitly white-listing supported types via the constructors, and blacklisting via static_asserts.</p>\n"}], "owner": {"reputation": 85, "user_id": 4983410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f70387f4d5c2325c2852ad1099779390?s=128&d=identicon&r=PG&f=1", "display_name": "Adam NA", "link": "https://stackoverflow.com/users/4983410/adam-na"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6365, "favorite_count": 1, "accepted_answer_id": 46697817, "answer_count": 5, "score": 5, "last_activity_date": 1513090534, "creation_date": 1507755803, "question_id": 46697525, "link": "https://stackoverflow.com/questions/46697525/how-to-overload-an-operator-for-integer-float-and-double-data-types-simultaneou", "title": "How to overload an operator for integer, float and double data types simultaneously in C++", "body": "<p>I'm creating a 2D coordinate class (named \u201cPoint\u201d) to help me learn C++. I want to be able to perform basic arithmetic operations (+, -, *, / ...) on Point class objects (e.g. Point_a + Point_b). However, I also want to be able to perform such operations between Points and other variable types (int/float/double).</p>\n\n<p>This can be done using operator/function overloading. It can be seen from my code below (addition only) that I must, as far as I am aware, include two additional functions for each additional variable type, one for the \u201cPoint + int/float/double\u201d form and one for the \u201cint/float/double + Point\u201d form.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nclass Point\n{\n    private:\n        double x, y;\n\n    public:\n        Point(double x_in, double y_in){\n            setX(x_in);\n            setY(y_in);\n        }    \n        // Getters and Setters omitted for brevity\n\n        // --- Start of Addition Operator Overloads --- (Code Block A)\n\n        friend Point operator+(const Point &amp;p1, const Point &amp;p2);   //Point + Point\n        friend Point operator+(const Point &amp;p1, int val);           //Point + Int\n        friend Point operator+(int val, const Point &amp;p1);           //Int + Point\n        friend Point operator+(const Point &amp;p1, float val);         //Point + Float\n        friend Point operator+(float val, const Point &amp;p1);         //Float + Point     \n        friend Point operator+(const Point &amp;p1, double val);        //Point + Double\n        friend Point operator+(double val, const Point &amp;p1);        //Double + Point\n\n        // --- End of Addition Operator Overloads --- (Code Block A)\n};\n\n// --- Start of Addition Operator Overload Functions --- (Code Block B)\n\nPoint operator+(const Point &amp;p1, const Point &amp;p2){\n    return Point(p1.x + p2.x, p1.y + p2.y);\n}\n\nPoint operator+(const Point &amp;p1, int val){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(int val, const Point &amp;p1){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(const Point &amp;p1, float val){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(float val, const Point &amp;p1){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(const Point &amp;p1, double val){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(double val, const Point &amp;p1){\n    return Point(p1.x + val, p1.y + val);\n}\n\n    // --- End of Addition Operator Overload Functions --- (Code Block B)\nint main()\n{\n    Point point_a( 2.00, 20.00);\n    Point point_b( 0.50,  5.00);\n    Point point_c = point_a + point_b;\n    cout &lt;&lt; \"X = \" &lt;&lt; point_c.getX() &lt;&lt; \" and Y = \" &lt;&lt; point_c.getY() &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n\n<p>There seems to be a lot of repetition, particular between \u201cPoint + int/float/double\u201d type functions. I was wondering if there is a way that this could be shorted a little. Say, rather than having individual versions for integer, float and double I could have one version which would handle all three. For example converting code blocks \"A\" and \"B\" into something like:</p>\n\n<pre><code>    ...\n\n    // --- Start of Addition Operator Overloads --- (Code Block A)\n\n    friend Point operator+(const Point &amp;p1, const Point &amp;p2);           //Point + Point\n    friend Point operator+(const Point &amp;p1, int||float||double val);    //Point + Int/Float/Double\n    friend Point operator+(int||float||double val, const Point &amp;p1);    //Int/Float/Double + Point\n\n    // --- End of Addition Operator Overloads --- (Code Block A)\n\n    ...\n\n...\n\n// --- Start of Addition Operator Overload Functions --- (Code Block B)\n\nPoint operator+(const Point &amp;p1, const Point &amp;p2){\n    return Point(p1.x + p2.x, p1.y + p2.y);\n}\n\nPoint operator+(const Point &amp;p1, int||float||double val){\n    return Point(p1.x + val, p1.y + val);\n}\n\nPoint operator+(int||float||double val, const Point &amp;p1){\n    return Point(p1.x + val, p1.y + val);\n}\n\n// --- End of Addition Operator Overload Functions --- (Code Block B)\n\n...\n</code></pre>\n\n<p>The above code section is intended to be representational of the desired result rather than actually functional (e.g. int OR float OR double).</p>\n\n<p>In short, is there any way that I can make \"<code>friend Point operator+(const Point &amp;p1, int val);</code>\" and its corresponding function (in code block B) accept integer, float and double values, or do I need to have an individual one for each variable type?</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["c++", "visual-studio", "opengl", "cmake"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 4, "creation_date": 1507754786, "post_id": 46697213, "comment_id": 80342255, "body": "CMake-generated solutions aren&#39;t portable, commit the <code>CMakeLists.txt</code> file and generate solutions as-needed on other machines."}, {"owner": {"reputation": 16953, "user_id": 2799037, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/2uPVa.png?s=128&g=1", "display_name": "usr1234567", "link": "https://stackoverflow.com/users/2799037/usr1234567"}, "edited": false, "score": 0, "creation_date": 1507756013, "post_id": 46697213, "comment_id": 80342840, "body": "Yes, you have to rebuild it on every computer."}, {"owner": {"reputation": 87, "user_id": 5496085, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e9a38f95daa2359809e0eeb588471db4?s=128&d=identicon&r=PG&f=1", "display_name": "greyer", "link": "https://stackoverflow.com/users/5496085/greyer"}, "edited": false, "score": 0, "creation_date": 1507756088, "post_id": 46697213, "comment_id": 80342874, "body": "Thanks. I did not realize that I had to rebuild it for every computer. Now that I know that I can actually get my work done instead of trying to solve a problem that can&#39;t be solved."}, {"owner": {"reputation": 31426, "user_id": 4763489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89773f016f1f4cc2c4e790a6c3f7b004?s=128&d=identicon&r=PG&f=1", "display_name": "Florian", "link": "https://stackoverflow.com/users/4763489/florian"}, "edited": false, "score": 0, "creation_date": 1507877971, "post_id": 46697213, "comment_id": 80394573, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45856955/how-to-tell-cmake-to-use-relative-paths\">How to tell CMake to use relative paths</a>. And please consider that VS2017 now has the &quot;Open Folder&quot; feature. So no need anymore for <code>.sln</code>/<code>.vcxproj</code> files handling when using CMake enabled projects."}], "answers": [{"tags": [], "owner": {"reputation": 87, "user_id": 5496085, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e9a38f95daa2359809e0eeb588471db4?s=128&d=identicon&r=PG&f=1", "display_name": "greyer", "link": "https://stackoverflow.com/users/5496085/greyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1507756284, "creation_date": 1507756284, "answer_id": 46697625, "question_id": 46697213, "link": "https://stackoverflow.com/questions/46697213/how-do-i-alter-the-full-path-of-visual-studio-project-so-i-can-use-it-on-multipl/46697625#46697625", "title": "How do I alter the full path of visual studio project so I can use it on multiple computers?", "body": "<p>Turns out I have to rebuild on every computer. Thanks to those who left comments.</p>\n"}], "owner": {"reputation": 87, "user_id": 5496085, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e9a38f95daa2359809e0eeb588471db4?s=128&d=identicon&r=PG&f=1", "display_name": "greyer", "link": "https://stackoverflow.com/users/5496085/greyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507756284, "creation_date": 1507754597, "last_edit_date": 1507754812, "question_id": 46697213, "link": "https://stackoverflow.com/questions/46697213/how-do-i-alter-the-full-path-of-visual-studio-project-so-i-can-use-it-on-multipl", "title": "How do I alter the full path of visual studio project so I can use it on multiple computers?", "body": "<p>So for a class we have a couple of programs where we are using opengl. To make setup easier we started by cloning glitter <a href=\"https://github.com/Polytonic/Glitter\" rel=\"nofollow noreferrer\">https://github.com/Polytonic/Glitter</a>. I then compliled it according to the instructions for visual studio 2017 and added my code to the project I am working on. I did this on my desktop computer but saved the files in onedrive. When I open the same project on my laptop and try to build the project I get the error \"the source directory D:/OneDrive/fall_2017/Glitter does not appear to contain CMakeLists.txt\" and several other similar errors. On my laptop the directory to the files is C:/Users/Me/OneDrive/fall_2017/Glitter. The visual studio program lists the full path as D:/OneDrive/fall_2017/Glitter which is the path of the folder on my desktop. </p>\n\n<p>Is there a way for me to change the filepath or is the issue with my cmake file? Do I have to rebuild it for every computer I use it on? I don't know a whole lot about visual studio so I don't know what I need to change to get this to work.</p>\n"}, {"tags": ["c++", "tabs", "mfc"], "answers": [{"tags": [], "owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "is_accepted": true, "score": 2, "last_activity_date": 1507764385, "last_edit_date": 1507764385, "creation_date": 1507758504, "answer_id": 46698078, "question_id": 46697157, "link": "https://stackoverflow.com/questions/46697157/how-to-get-the-current-tab-item-name-from-ctabctrl-in-mfc/46698078#46698078", "title": "How to get the current Tab Item name from CTabCtrl in MFC?", "body": "<p><code>tcItem.pszText</code> is pointing to <code>0</code>. To fill it with text, it has to point to a buffer before a call is made to <code>GetItem</code>:</p>\n\n<p>Documentation for: <a href=\"https://msdn.microsoft.com/library/42e4aff6-46ae-4b2c-beaa-d1dce8d82138.aspx#ctabctrl__getitem\" rel=\"nofollow noreferrer\">CTabCtrl::GetItem</a></p>\n\n<blockquote>\n  <p><strong>pszText</strong><br></p>\n  \n  <p>Pointer to a null-terminated string containing the tab text if the\n  structure contains information about a tab. If the structure is\n  receiving information, this member specifies the address of the buffer\n  that receives the tab text.</p>\n</blockquote>\n\n<p>Example:</p>\n\n<pre><code>TCITEM tcItem { 0 };\ntcItem.mask = TCIF_TEXT;\nconst int len = 256;\ntcItem.cchTextMax = len; \nTCHAR buf[len] = { 0 };\ntcItem.pszText = buf;\ncurrentTabCtrl-&gt;GetItem(tabCurSel, &amp;tcItem);\n</code></pre>\n\n<p>Both <code>tcItem.pszText</code> and <code>buf</code> will point to the same text. Or use <code>CString</code> with <code>CString::GetBuffer()</code>/<code>CString::ReleaseBuffer()</code></p>\n\n<pre><code>CString tabCurrentCString;\nTCITEM tcItem;\ntcItem.mask = TCIF_TEXT;\ntcItem.cchTextMax = 256; \ntcItem.pszText = tabCurrentCString.GetBuffer(tcItem.cchTextMax);\nBOOL result = currentTabCtrl-&gt;GetItem(tabCurSel, &amp;tcItem);\ntabCurrentCString.ReleaseBuffer();\n\nif (result)\n    MessageBox(tabCurrentCString); //success\n</code></pre>\n\n<p>It looks like you are using the recommended Unicode settings. Avoid converting UNICODE to ANSI (<code>std::string</code>). This conversion will work for Latin languages, most of the time, but it's not needed. You can use <code>std::wstring</code> if you need to use that in STL, or convert to UTF-8 if you want to send data to internet etc.</p>\n\n<pre><code>std::string str = CW2A(tabCurrentCString, CP_UTF8);\n</code></pre>\n"}], "owner": {"reputation": 2931, "user_id": 3971172, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7SZUT.jpg?s=128&g=1", "display_name": "Kemal Tezer Dilsiz", "link": "https://stackoverflow.com/users/3971172/kemal-tezer-dilsiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1088, "favorite_count": 0, "accepted_answer_id": 46698078, "answer_count": 1, "score": 1, "last_activity_date": 1507764385, "creation_date": 1507754422, "question_id": 46697157, "link": "https://stackoverflow.com/questions/46697157/how-to-get-the-current-tab-item-name-from-ctabctrl-in-mfc", "title": "How to get the current Tab Item name from CTabCtrl in MFC?", "body": "<p>I am trying to get the text of the currently chosen tab in CTabCtrl. </p>\n\n<pre><code>    int tabCurSel = currentTabCtrl-&gt;GetCurSel();\n\n    TCITEM tcItem;\n    tcItem.mask = TCIF_TEXT;\n    tcItem.cchTextMax = 256; //Do I need this?\n\n    CString tabCurrentCString;\n    currentTabCtrl-&gt;GetItem(tabCurSel, &amp;tcItem);\n\n    tabCurrentCString = tcItem.pszText;\n    CT2A tabCurrentChar(tabCurrentCString);\n    std::string tabCurrentStr(tabCurrentChar);\n    return tabCurrentStr;\n</code></pre>\n\n<p>I clearly have some unnecessary string conversions and currently this returns a \"Error reading characters of the string\" in </p>\n\n<pre><code>    tcItem.pszText;\n</code></pre>\n\n<p>How can I get the string from the CTabCtrl? I ultimately am trying to get an std::string but the main question is how to get the text from the tab.</p>\n"}, {"tags": ["c++", "multithreading", "performance", "stdthread", "stdmutex"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507754611, "post_id": 46697048, "comment_id": 80342177, "body": "Recommend adding in the type of build. Timing debug builds can be wonky."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 0, "creation_date": 1507754614, "post_id": 46697048, "comment_id": 80342179, "body": "Maybe the OS threads are reused, so the costs of starting the threads are lower."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 3, "creation_date": 1507754889, "post_id": 46697048, "comment_id": 80342314, "body": "<i>I decided to check if threads are really so dangerous without mutexes (Well I believe books but prefer to see it with my own eyes)</i> there is no guarantee that you will see an error."}, {"owner": {"reputation": 13, "user_id": 8761303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0731dff91e35d3870b147d40733bedb4?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8761303/sergey"}, "edited": false, "score": 0, "creation_date": 1507813589, "post_id": 46697048, "comment_id": 80367242, "body": "@manni66 Yes, it was that! Indeed, if I change place of &quot;safe&quot; and &quot;unsafe&quot; calculations, or just add 2 treads creation before my target threads, I can see the difference. So the first initialization of threads costs significantly more time, then all the others."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8761303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0731dff91e35d3870b147d40733bedb4?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8761303/sergey"}, "edited": false, "score": 0, "creation_date": 1507813709, "post_id": 46697358, "comment_id": 80367330, "body": "Thanks, indeed with small NUMBER_OF_ITERATIONS the construction of threads was the main time consumer; the first construction takes more time, than the later ones. So now I finally see what&#39;s happening."}], "tags": [], "owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "is_accepted": true, "score": 0, "last_activity_date": 1507755166, "creation_date": 1507755166, "answer_id": 46697358, "question_id": 46697048, "link": "https://stackoverflow.com/questions/46697048/c-threads-safety-and-time-efficiency-why-does-thread-with-mutex-check-sometim/46697358#46697358", "title": "c++ threads safety and time efficiency: why does thread with mutex check sometimes works faster than without it?", "body": "<p>You should not draw conclusions about the speed of any given algorithm if the input size is very small. What defines \"very small\" can be kind of arbitrary, but on modern hardware, under usual conditions, \"small\" can refer to any collection size less than a few hundred thousand objects, and \"large\" can refer to any collection larger than that.</p>\n\n<p>Obviously, Your Milage May Vary.</p>\n\n<p>In this case, the overhead of constructing threads, which, while usually slow, can also be rather inconsistent and could be a larger factor in the speed of your code than what the actual algorithm is doing. It's possible that the compiler has some kind of powerful optimizations it can do on smaller input sizes (which it can definitely know about due to the input size being hard-coded into the code itself) that it cannot then perform on larger inputs. </p>\n\n<p>The broader point being that you should always prefer larger inputs when testing algorithm speed, and to also have the same program repeat its tests (preferably in random order!) to try to \"smooth out\" irregularities in the timings.</p>\n"}], "owner": {"reputation": 13, "user_id": 8761303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0731dff91e35d3870b147d40733bedb4?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/8761303/sergey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 46697358, "answer_count": 1, "score": 1, "last_activity_date": 1507755166, "creation_date": 1507753973, "question_id": 46697048, "link": "https://stackoverflow.com/questions/46697048/c-threads-safety-and-time-efficiency-why-does-thread-with-mutex-check-sometim", "title": "c++ threads safety and time efficiency: why does thread with mutex check sometimes works faster than without it?", "body": "<p>I'm beginner in threads usage in c++. I've read basics about std::thread and mutex, and it seems I understand the purpose of using mutexes.</p>\n\n<p>I decided to check if threads are really so dangerous without mutexes (Well I believe books but prefer to see it with my own eyes). As a testcase of \"what I shouldn't do in future\" I created 2 versions of the same concept: there are 2 threads, one of them increments a number several times (NUMBER_OF_ITERATIONS), another one decrements the same number the same number of times, so we expect to see the same number after the code is executed as before it. The code is attached.</p>\n\n<p>At first I run 2 threads which do it in unsafe manner - without any mutexes, just to see what can happen. And after this part is finished I run 2 threads which do the same thing but in safe manner (with mutexes). </p>\n\n<p>Expected results: without mutexes a result can differ from initial value, because data could be corrupted if two threads works with it simultaneously. Especially it's usual for huge  NUMBER_OF_ITERATIONS - because the probability to corrupt data is higher. So this result I can understand.</p>\n\n<p>Also I measured time spent by both \"safe\" and \"unsafe\" parts. For huge number of iterations the safe part spends much more time, than unsafe one, as I expected: there is some time spent for mutex check. But for small numbers of iterations (400, 4000) the safe part execution time is less than unsafe time. Why is that possible? Is it something which operating system does? Or is there some optimization by compiler which I'm not aware of? I spent some time thinking about it and decided to ask here.</p>\n\n<p>I use windows and MSVS12 compiler.</p>\n\n<p><strong>Thus the question is: why the safe part execution could be faster than unsafe part one</strong> (for small NUMBER_OF_ITERATIONS &lt; 1000*n)?\n<strong>Another one: why is it related to NUMBER_OF_ITERATIONS: for smaller ones (4000) \"safe\" part with mutexes is faster, but for huge ones (400000) the \"safe\" part is slower?</strong></p>\n\n<p>main.cpp</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;thread&gt;\n#include &lt;mutex&gt;\n#include &lt;windows.h&gt;\n//\n///change number of iterations for different results\nconst long long NUMBER_OF_ITERATIONS = 400;\n//\n/// time check counter\nclass Counter{\n    double PCFreq_ = 0.0;\n    __int64 CounterStart_ = 0;\npublic:\n    Counter(){\n        LARGE_INTEGER li;\n        if(!QueryPerformanceFrequency(&amp;li))\n            std::cerr &lt;&lt; \"QueryPerformanceFrequency failed!\\n\";\n\n        PCFreq_ = double(li.QuadPart)/1000.0;\n\n        QueryPerformanceCounter(&amp;li);\n        CounterStart_ = li.QuadPart;\n    }\n    double GetCounter(){\n        LARGE_INTEGER li;\n        QueryPerformanceCounter(&amp;li);\n        return double(li.QuadPart-CounterStart_)/PCFreq_;\n    }\n};\n\n/// \"dangerous\" functions for unsafe threads: increment and decrement number\nvoid incr(long long* j){\n    for (long long i = 0; i &lt; NUMBER_OF_ITERATIONS; i++) (*j)++;\n    std::cout &lt;&lt; \"incr finished\" &lt;&lt; std::endl;\n}\nvoid decr(long long* j){\n    for (long long i = 0; i &lt; NUMBER_OF_ITERATIONS; i++) (*j)--;\n    std::cout &lt;&lt; \"decr finished\" &lt;&lt; std::endl;\n}\n\n///class for safe thread operations with incrment and decrement\ntemplate&lt;typename T&gt;\nclass Safe_number {\npublic:\n    Safe_number(int i){number_ = T(i);}\n    Safe_number(long long i){number_ = T(i);}\n    bool inc(){\n        if(m_.try_lock()){\n            number_++;\n            m_.unlock();\n            return true;\n        }\n        else\n            return false;\n    }\n    bool dec(){\n        if(m_.try_lock()){\n            number_--;\n            m_.unlock();\n            return true;\n        }\n        else\n            return false;\n    }\n    T val(){return number_;}\nprivate:\n    T number_;\n    std::mutex m_;\n};\n\n///\ntemplate&lt;typename T&gt;\nvoid incr(Safe_number&lt;T&gt;* n){\n    long long i = 0;\n    while(i &lt; NUMBER_OF_ITERATIONS){\n        if (n-&gt;inc()) i++;\n    }\n    std::cout &lt;&lt; \"incr &lt;T&gt; finished\" &lt;&lt; std::endl;\n}\n///\ntemplate&lt;typename T&gt;\nvoid decr(Safe_number&lt;T&gt;* n){\n    long long i = 0;\n    while(i &lt; NUMBER_OF_ITERATIONS){\n        if (n-&gt;dec()) i++;\n    }\n    std::cout &lt;&lt; \"decr &lt;T&gt; finished\" &lt;&lt; std::endl;\n}\n\nusing namespace std;\n\n// run increments and decrements of the same number\n// in threads in \"safe\" and \"unsafe\" way\nint main()\n{\n    //init numbers to 0\n    long long number = 0;\n    Safe_number&lt;long long&gt; sNum(number);\n\n    Counter cnt;//init time counter\n    //\n    //run 2 unsafe threads for ++ and --\n    std::thread t1(incr, &amp;number);\n    std::thread t2(decr, &amp;number);\n    t1.join();\n    t2.join();\n    //check time of execution of unsafe part\n    double time1 = cnt.GetCounter();\n    cout &lt;&lt;\"finished first thr\"  &lt;&lt; endl;\n    //\n    // run 2 safe threads for ++ and --, now we expect final value 0\n    std::thread t3(incr&lt;long long&gt;, &amp;sNum);\n    std::thread t4(decr&lt;long long&gt;, &amp;sNum);\n    t3.join();\n    t4.join();\n    //check time of execution of safe part\n    double time2 = cnt.GetCounter() - time1;\n    cout &lt;&lt; \"unsafe part, number = \" &lt;&lt; number &lt;&lt; \"  time1 = \" &lt;&lt; time1 &lt;&lt; endl;\n    cout &lt;&lt; \"safe part, Safe number = \" &lt;&lt; sNum.val() &lt;&lt; \"  time2 = \" &lt;&lt; time2 &lt;&lt; endl &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "qml"], "comments": [{"owner": {"reputation": 2393, "user_id": 5414907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5ecb558f7d1b64dae9bb2feae8e6dc?s=128&d=identicon&r=PG", "display_name": "Mark Ch", "link": "https://stackoverflow.com/users/5414907/mark-ch"}, "edited": false, "score": 0, "creation_date": 1507832211, "post_id": 46697020, "comment_id": 80378955, "body": "I would like to politely encourage the downvoter to give a comment to help the author understand the reason and provide guidance for the future, especially since the author appears to be relatively new here"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "edited": false, "score": 0, "creation_date": 1507759651, "post_id": 46697119, "comment_id": 80344259, "body": "Your second approach is what I meant. However, now I get this issue when trying invoke function from Network.cpp:  qrc:/MainForm.qml:107 ((null)): qrc:/MainForm.qml:107: TypeError: Property &#39;findNewDevice&#39; of object [object Object] is not a function"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "reply_to_user": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "edited": false, "score": 0, "creation_date": 1507760545, "post_id": 46697119, "comment_id": 80344528, "body": "If you want to call functions from QML, make them <code>public slots:</code>"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "reply_to_user": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "edited": false, "score": 0, "creation_date": 1507761920, "post_id": 46697119, "comment_id": 80344927, "body": "Well, it should work. Did you register it properly? <code>someFooReturningValidNetworkPtr</code> has to be the name of a function that returns a valid pointer to a <code>Network</code> object instance. <code>Network * foo() {...}</code>"}, {"owner": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "edited": false, "score": 0, "creation_date": 1507763796, "post_id": 46697119, "comment_id": 80345437, "body": "I did not get error about NULL in this part of the code. Look:  [code] static QObject <i>manager_provider(QQmlEngine *engine, QJSEngine *scriptEngine) {     Q_UNUSED(engine)     Q_UNUSED(scriptEngine)  Network</i> instance = Network::getInstance();    return instance ; }[code]  I think the problem is here: Q_PROPERTY(int number  WRITE findNewDevice READ getDetectedDeviceCount)"}], "tags": [], "owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "is_accepted": false, "score": 1, "last_activity_date": 1507754881, "last_edit_date": 1507754881, "creation_date": 1507754270, "answer_id": 46697119, "question_id": 46697020, "link": "https://stackoverflow.com/questions/46697020/qml-global-access-to-c-class/46697119#46697119", "title": "QML global access to C++ class", "body": "<p>You should use a singleton for that, it exists for that exact purpose:</p>\n\n<pre><code>// in main.cpp\nqmlRegisterSingletonType(QUrl(QStringLiteral(\"qrc:/touch/content/SettingsMain.qml\")), \"Core\", 1, 0, \"Settings\");\n</code></pre>\n\n<p>Then you can access that from every QML file by importing:</p>\n\n<pre><code>import Core 1.0\n//.. and use it\nSettings.someProperty\nSettings.someFoo()\n</code></pre>\n\n<p>You would also have to add a <code>pragma Singleton</code> line in the beginning of <code>SettingsMain</code>.</p>\n\n<p>You can also skip registering the singleton from C++ if you implement a <code>qmldir</code> file, but IMO registering in C++ is better when the singleton is an integral part of the application. </p>\n\n<p>When using qml singletons, you don't need to create the instance yourself, it will be automatically created.</p>\n\n<p>Your question is ambigious as to what you actually want to be \"global\", I assume settings is one thing you would like to be global. </p>\n\n<p>You can also register C++ objects as singletons in QML, for example:</p>\n\n<pre><code>qmlRegisterSingletonType&lt;Network&gt;(\"Core\", 1, 0, \"Network\", someFooReturningValidNetworkPtr);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "edited": false, "score": 0, "creation_date": 1507795890, "post_id": 46702136, "comment_id": 80355907, "body": "Perfect :) Works well. Thanks"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1507990171, "post_id": 46702136, "comment_id": 80436882, "body": "&quot;Singleton is not the only way&quot; - it is the only way for &quot;global access&quot; as the question is titled. Evidently, the OP doesn&#39;t actually need &quot;global access&quot;. This approach is doable for simple scenarios, but it has disadvantages - it will be slow and inefficient for deep object trees, and the identifier can be shadowed at any level of the tree, thus cutting access. A singleton is not only the only way to get global access, it is also the most efficient and safest way to get access to exactly the object you want to."}, {"owner": {"reputation": 2393, "user_id": 5414907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5ecb558f7d1b64dae9bb2feae8e6dc?s=128&d=identicon&r=PG", "display_name": "Mark Ch", "link": "https://stackoverflow.com/users/5414907/mark-ch"}, "edited": false, "score": 0, "creation_date": 1507992060, "post_id": 46702136, "comment_id": 80437487, "body": "To be fair, the singleton is cool. I didn&#39;t know it was possible to do for a QML component, and I agree the question has the wrong title"}], "tags": [], "owner": {"reputation": 2393, "user_id": 5414907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a5ecb558f7d1b64dae9bb2feae8e6dc?s=128&d=identicon&r=PG", "display_name": "Mark Ch", "link": "https://stackoverflow.com/users/5414907/mark-ch"}, "is_accepted": false, "score": 1, "last_activity_date": 1507786499, "creation_date": 1507786499, "answer_id": 46702136, "question_id": 46697020, "link": "https://stackoverflow.com/questions/46697020/qml-global-access-to-c-class/46702136#46702136", "title": "QML global access to C++ class", "body": "<p>Singleton is not the only way. QML provides lots of ways to get same results.</p>\n\n<p>Another way is to pass the <code>net1</code> id in as a property when calling <code>Qt.createObject()</code>. Example below:</p>\n\n<h2>main.qml</h2>\n\n<pre><code>import QtQuick 2.7\nimport QtQuick.Controls 2.0\n\nApplicationWindow {\n    visible: true\n    width: 640\n    height: 480\n\n    Item {\n        id: rootWindow2\n\n        property Item settingsMain\n\n        Network{\n            id: net1\n        }\n\n        Component.onCompleted: {\n            var component = Qt.createComponent(\"qrc:/touch/content/SettingsMain.qml\");\n            settingsMain = component.createObject(rootWindow2, {\"net1\": net1});\n        }\n    }\n}\n</code></pre>\n\n<h2>SettingsMain.qml</h2>\n\n<pre><code>import QtQuick 2.0\n\nItem {\n\n    property Item net1\n\n    Component.onCompleted: {\n        console.log(\"SettingsMain.qml: can I see net1? %1\".arg(net1 ? \"yes\" : \"no\"))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8625793, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1890898184260215/picture?type=large", "display_name": "RobertLT", "link": "https://stackoverflow.com/users/8625793/robertlt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1507786499, "creation_date": 1507753844, "question_id": 46697020, "link": "https://stackoverflow.com/questions/46697020/qml-global-access-to-c-class", "title": "QML global access to C++ class", "body": "<p>My app has 3 level: \n - Main Form\n - Settings\n - Device searching</p>\n\n<p>From the main form I open others using:</p>\n\n<pre><code>var component = Qt.createComponent(\"qrc:/touch/content/SettingsMain.qml\");\nwin = component.createObject(rootWindow2);\n</code></pre>\n\n<p>In main form I created object Network (it is C++ class)</p>\n\n<pre><code>Network{\n        id: net1\n}\n</code></pre>\n\n<p>Object \"net1\" is accesible by other QML objects which were not invoked by above code creating component. Unfortunately, all QML objects created by using the code above do not see \"net1\".I need something like global object for all QML files. Any ideas?</p>\n"}, {"tags": ["c++", "gcc", "cmake", "cmake-gui"], "comments": [{"owner": {"reputation": 9565, "user_id": 2873507, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/j8VHj.jpg?s=128&g=1", "display_name": "Vic Seedoubleyew", "link": "https://stackoverflow.com/users/2873507/vic-seedoubleyew"}, "edited": false, "score": 0, "creation_date": 1597840079, "post_id": 46696903, "comment_id": 112263723, "body": "Maybe relevant: <a href=\"https://stackoverflow.com/questions/6141608/cmake-make-program-not-found\" title=\"cmake make program not found\">stackoverflow.com/questions/6141608/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "edited": false, "score": 0, "creation_date": 1507828703, "post_id": 46697073, "comment_id": 80377046, "body": "Another alternative is just to use Windows oriented tools on Windows.  By that I mean use Visual Studio Community Edition and just tell CMake to build projects for VS 2017.  Use Linux like Linux and use Windows like Windows.  It really does make so many things easier."}, {"owner": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "reply_to_user": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "edited": false, "score": 0, "creation_date": 1507885191, "post_id": 46697073, "comment_id": 80398388, "body": "@legalize : I will give it a try, MinGW actually crashed after 48%. I&#39;m not familiar with c++ compilation so I do not know what using windows like windows is."}, {"owner": {"reputation": 1884, "user_id": 2747962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbKoL.jpg?s=128&g=1", "display_name": "Darklighter", "link": "https://stackoverflow.com/users/2747962/darklighter"}, "reply_to_user": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "edited": false, "score": 0, "creation_date": 1507900704, "post_id": 46697073, "comment_id": 80407800, "body": "@legalize Although I agree that VS is another option (i added it to the answer), I don\u2019t know of anything what it would make easier."}, {"owner": {"reputation": 1884, "user_id": 2747962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbKoL.jpg?s=128&g=1", "display_name": "Darklighter", "link": "https://stackoverflow.com/users/2747962/darklighter"}, "reply_to_user": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1507900772, "post_id": 46697073, "comment_id": 80407846, "body": "@sliders_alpha Why do you want to build opencv manually in the first place? And in what way did it crash?"}, {"owner": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "edited": false, "score": 0, "creation_date": 1507912388, "post_id": 46697073, "comment_id": 80415196, "body": "@Darklighter The poster&#39;s problem is not finding mingw make in the path.  If you use the VS generator, make isn&#39;t in the picture and you don&#39;t have to fight trying to use a unix oriented tool chain on Windows."}, {"owner": {"reputation": 2022, "user_id": 139855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968e038475ef2b82c4e86022d208edd1?s=128&d=identicon&r=PG", "display_name": "legalize", "link": "https://stackoverflow.com/users/139855/legalize"}, "reply_to_user": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1507912490, "post_id": 46697073, "comment_id": 80415238, "body": "@sliders_alpha The &#39;native&#39; toolchain for building on Windows is Visual Studio (Community Edition is free and fully capable of everything you need to do with C++).  The &#39;native&#39; toolchain for building on unix is cc/make."}, {"owner": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1507996783, "post_id": 46697073, "comment_id": 80439058, "body": "@Darklighter, at first it crashed because I had to diseable ENABLE_PRECOMPILED_HEADER. now it&#39;s crashing for something else. I&#39;m giving up, I didn&#39;t knew that MinGW was not supported anymore and that you were suposed to build it with visual studio, I will build it with visual studio.  I have to compile it to include some stuff that ins&#39;t in the pre-built version, like GIGE camera suport."}, {"owner": {"reputation": 1884, "user_id": 2747962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbKoL.jpg?s=128&g=1", "display_name": "Darklighter", "link": "https://stackoverflow.com/users/2747962/darklighter"}, "reply_to_user": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1508014481, "post_id": 46697073, "comment_id": 80444534, "body": "@sliders_alpha msys2 also has an opencv package where you could add your the options to the <a href=\"https://github.com/Alexpux/MINGW-packages/blob/master/mingw-w64-opencv/PKGBUILD\" rel=\"nofollow noreferrer\">PKGBUILD</a>, but maybe they are  what causes the compilation to crash\u2026 It\u2019s sad to hear that it doesn\u2019t work as fluently as it should."}, {"owner": {"reputation": 1884, "user_id": 2747962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbKoL.jpg?s=128&g=1", "display_name": "Darklighter", "link": "https://stackoverflow.com/users/2747962/darklighter"}, "edited": false, "score": 0, "creation_date": 1508014529, "post_id": 46697073, "comment_id": 80444539, "body": "Where did you get that from, that MinGW isn\u2019t supported?"}, {"owner": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "edited": false, "score": 0, "creation_date": 1508148289, "post_id": 46697073, "comment_id": 80480590, "body": "@Darklighter <a href=\"http://answers.opencv.org/question/176164/error-during-opencv-330-source-compilation/\" rel=\"nofollow noreferrer\">answers.opencv.org/question/176164/&hellip;</a> first comment on OP question."}], "tags": [], "owner": {"reputation": 1884, "user_id": 2747962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JbKoL.jpg?s=128&g=1", "display_name": "Darklighter", "link": "https://stackoverflow.com/users/2747962/darklighter"}, "is_accepted": true, "score": 2, "last_activity_date": 1507900335, "last_edit_date": 1507900335, "creation_date": 1507754084, "answer_id": 46697073, "question_id": 46696903, "link": "https://stackoverflow.com/questions/46696903/cmake-cmake-make-program-is-not-set/46697073#46697073", "title": "Cmake : CMAKE_MAKE_PROGRAM is not set", "body": "<p>A make tool \u2013 like mingw32-make \u2013 is an extra program which is not part of the compiler but is sometimes bundled together with it. In your case it isn\u2019t and you have to get it explicitly. </p>\n\n<p>I\u2019d suggest using the <a href=\"https://sourceforge.net/projects/msys2/\" rel=\"nofollow noreferrer\">msys2</a> environment because it allows easy access to everything you need (including the Ninja build system \u2013 a make replacement). </p>\n\n<p>From the MINGW64 Shell install via e.g. <code>pacman -S mingw-w64-x86_64-{toolchain,cmake,ninja}</code>. </p>\n\n<p>Then use <code>cmake -G Ninja \u2026</code>. </p>\n\n<p>You will also have <code>mingw32-make.exe</code>, but there is no good reason not to use Ninja with CMake when it\u2019s available. </p>\n\n<hr>\n\n<p>Alternatively you can obtain a copy of Visual Studio and use the <code>NMake Makefiles\u2026</code> or <code>Visual Studio\u2026</code> generators. </p>\n"}], "owner": {"reputation": 1800, "user_id": 2105339, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/82187386ca4f2616d0770cbc9e2ab3f1?s=128&d=identicon&r=PG", "display_name": "sliders_alpha", "link": "https://stackoverflow.com/users/2105339/sliders-alpha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8522, "favorite_count": 0, "accepted_answer_id": 46697073, "answer_count": 1, "score": 0, "last_activity_date": 1507900335, "creation_date": 1507753341, "last_edit_date": 1507754521, "question_id": 46696903, "link": "https://stackoverflow.com/questions/46696903/cmake-cmake-make-program-is-not-set", "title": "Cmake : CMAKE_MAKE_PROGRAM is not set", "body": "<p>I'm trying to build openCv, I never builded anything before.</p>\n\n<p>I installed gcc in C:\\MinGW with <a href=\"ftp://ftp.equation.com/gcc/gcc-7.1.0-64.exe\" rel=\"nofollow noreferrer\">ftp://ftp.equation.com/gcc/gcc-7.1.0-64.exe</a>\nnow when I type 'gcc --version' in the command line, I get an awnser.</p>\n\n<p>I then installed CMAKE from <a href=\"https://cmake.org/\" rel=\"nofollow noreferrer\">https://cmake.org/</a></p>\n\n<p>I run the GUI and selected my source folder then hit 'configure' that when the error happens.</p>\n\n<p>From my research I should have 'mingw64-make' in my path, it is not because when typing it in the command line produce \"not recognized\"</p>\n\n<p>I search my drives with UltraSearch and it just returned this :</p>\n\n<pre><code>\ufeffName   Path    Size    Last Change File Type\nx86_64-w64-mingw32-c++.exe  C:\\MinGW\\bin\\   1,10 MB 11/10/2017  .exe (Application)\nx86_64-w64-mingw32-g++.exe  C:\\MinGW\\bin\\   1,10 MB 11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gcc-7.1.0.exe    C:\\MinGW\\bin\\   1,10 MB 11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gcc-ar.exe   C:\\MinGW\\bin\\   75,00 KB    11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gcc-nm.exe   C:\\MinGW\\bin\\   74,50 KB    11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gcc-ranlib.exe   C:\\MinGW\\bin\\   74,50 KB    11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gcc.exe  C:\\MinGW\\bin\\   1,10 MB 11/10/2017  .exe (Application)\nx86_64-w64-mingw32-gfortran.exe C:\\MinGW\\bin\\   1,10 MB 11/10/2017  .exe (Application)\n</code></pre>\n\n<p>So it look like this mingw64-make is not present in the latest gcc release, what should I do?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c++", "c++11", "lambda", "functor"], "comments": [{"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "edited": false, "score": 9, "creation_date": 1507753425, "post_id": 46696880, "comment_id": 80341558, "body": "It sounds like a typo. <code>poo(1)</code> -&gt; <code>Foo(1)</code>."}, {"owner": {"reputation": 30138, "user_id": 71141, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/e1f5d1bd28627ad2f5a9b47ef63a2dc8?s=128&d=identicon&r=PG", "display_name": "Etienne de Martel", "link": "https://stackoverflow.com/users/71141/etienne-de-martel"}, "edited": false, "score": 0, "creation_date": 1507754368, "post_id": 46696880, "comment_id": 80342058, "body": "I think it&#39;s more of a case of the somewhat misleading error message making you miss the fact that you&#39;re referencing something that doesn&#39;t exist: <code>poo</code>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1507755654, "post_id": 46696880, "comment_id": 80342673, "body": "<code>poo(1)</code> is an <code>int</code>; as the error message says, it it not a function taking 1 argument. <code>Foo(1)</code> is a function object with an <code>operator()</code> that takes a single argument of type <code>int</code>."}, {"owner": {"reputation": 2195, "user_id": 2172135, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/094914952de12b60f1e712f55befcc2c?s=128&d=identicon&r=PG", "display_name": "Mushy", "link": "https://stackoverflow.com/users/2172135/mushy"}, "edited": false, "score": 0, "creation_date": 1507758208, "post_id": 46696880, "comment_id": 80343762, "body": "I misunderstood the results from the question.  I thought I could pass the function object into the transform rather than the class object."}, {"owner": {"reputation": 12315, "user_id": 658031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/711e76c263d03660772b5a5198d33671?s=128&d=identicon&r=PG", "display_name": "Saeid Yazdani", "link": "https://stackoverflow.com/users/658031/saeid-yazdani"}, "edited": false, "score": 0, "creation_date": 1507761983, "post_id": 46696880, "comment_id": 80344945, "body": "What is the reason for  overloading () anyway?"}, {"owner": {"reputation": 2195, "user_id": 2172135, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/094914952de12b60f1e712f55befcc2c?s=128&d=identicon&r=PG", "display_name": "Mushy", "link": "https://stackoverflow.com/users/2172135/mushy"}, "reply_to_user": {"reputation": 12315, "user_id": 658031, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/711e76c263d03660772b5a5198d33671?s=128&d=identicon&r=PG", "display_name": "Saeid Yazdani", "link": "https://stackoverflow.com/users/658031/saeid-yazdani"}, "edited": false, "score": 0, "creation_date": 1507763093, "post_id": 46696880, "comment_id": 80345259, "body": "@SaeidYazdani I&#39;m practicing function objects in c++11 and may be doing something I don&#39;t need to because I&#39;m a noob trying to learn this complex language but I have good references to learn from."}], "answers": [{"tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": false, "score": 3, "last_activity_date": 1507753813, "creation_date": 1507753813, "answer_id": 46697009, "question_id": 46696880, "link": "https://stackoverflow.com/questions/46696880/why-does-using-a-function-object-argument-in-stdtransform-fail-and-require-a-l/46697009#46697009", "title": "Why does using a function object argument in std::transform fail and require a lambda expression instead", "body": "<p>This code works just fine.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;array&gt;\n\nclass add_x\n{\nprivate:\n   int x;\n\npublic:\n   add_x(int x) : x(x) {}\n\n   int operator()(int y) /* consider adding const here */\n   { return x + y; }\n};\n\n\nint main()\n{\n    std::array&lt;int, 5&gt; input { 1, 4, 9, 16, 25 };\n    std::array&lt;int, 5&gt; output;\n    std::transform(begin(input), end(input), begin(output), add_x(1));\n    for ( auto&amp; val : output ) std::cout &lt;&lt; val &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>However, it's probably a good idea to make the invocation a <code>const</code> member function since it doesn't mutate the functor.  That may also make it work with more versions of the Standard library.</p>\n\n<p>The difference between this and your lambda version is that here, the constant <code>1</code> is passed to the constructor to create one functor object, and the data are passed sequentially to the operator of that single functor instance.  In your lambda, a new object is created from each datum by calling the conversion constructor, and then the constant is passed to the operator.  That is, <code>x</code> and <code>y</code> are swapped by your workaround, and also the number of instances changed.</p>\n"}, {"comments": [{"owner": {"reputation": 2195, "user_id": 2172135, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/094914952de12b60f1e712f55befcc2c?s=128&d=identicon&r=PG", "display_name": "Mushy", "link": "https://stackoverflow.com/users/2172135/mushy"}, "edited": false, "score": 0, "creation_date": 1507758377, "post_id": 46697584, "comment_id": 80343836, "body": "yeah define <code>Foo poo(1)</code> and then pass into the transformer <code>poo</code>.  Good idea."}], "tags": [], "owner": {"reputation": 159, "user_id": 248855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7f1ca46a9ce5516123d9ced4abc41bb?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/248855/steve"}, "is_accepted": false, "score": 1, "last_activity_date": 1507756121, "creation_date": 1507756121, "answer_id": 46697584, "question_id": 46696880, "link": "https://stackoverflow.com/questions/46696880/why-does-using-a-function-object-argument-in-stdtransform-fail-and-require-a-l/46697584#46697584", "title": "Why does using a function object argument in std::transform fail and require a lambda expression instead", "body": "<p>It also works if you add a definition:</p>\n\n<pre><code>Foo poo(1);\n</code></pre>\n\n<p>and just send poo into transform, without the (1) invocation. Transform requires an object with a () operator to call, and declaring it separately makes it a little more clear what its scope is.</p>\n"}], "owner": {"reputation": 2195, "user_id": 2172135, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/094914952de12b60f1e712f55befcc2c?s=128&d=identicon&r=PG", "display_name": "Mushy", "link": "https://stackoverflow.com/users/2172135/mushy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "closed_date": 1507783628, "answer_count": 2, "score": 0, "last_activity_date": 1507756121, "creation_date": 1507753226, "last_edit_date": 1507755275, "question_id": 46696880, "link": "https://stackoverflow.com/questions/46696880/why-does-using-a-function-object-argument-in-stdtransform-fail-and-require-a-l", "closed_reason": "Not suitable for this site", "title": "Why does using a function object argument in std::transform fail and require a lambda expression instead", "body": "<p>From <a href=\"https://stackoverflow.com/questions/356950/c-functors-and-their-uses\">this</a> question I got a good understanding of functors (function objects); how to initialize and call them. I wrote some code to play around with this for my own understanding </p>\n\n<pre><code>class Foo\n{\nprivate:\n   int x;\npublic:\n   Foo(int x) : x(x) {}\n   int operator()(int y) { return x + y; }\n};\n\nFoo poo(50);\n\nint a = poo(50);\n\nstd::cout &lt;&lt; a;\n\nstd::vector&lt;int&gt; vec(10);\nstd::vector&lt;int&gt; pec(10);\n\nstd::transform(vec.begin(), vec.end(), vec.begin(), poo(1));\n</code></pre>\n\n<p>and receive the following compilation error</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError   C2064   term does not evaluate to a function taking 1 arguments \n</code></pre>\n\n<p>I looked within the above question at some of the comments and tried a lambda  expression instead</p>\n\n<p><code>std::transform(vec.begin(), vec.end(), vec.begin(), [](Foo poo) {return poo(1); });</code></p>\n\n<p>which works but I don't understand why the accepted answer using <code>std::transform(in.begin(), in.end(), out.begin(), add_x(1));</code> fails.  Why do I have to use a lambda expression?  Another answer is doing the same thing but it still will result in a compilation error.  Why is that?</p>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 6, "creation_date": 1507753502, "post_id": 46696845, "comment_id": 80341593, "body": "The <code>Object obj;</code> is local to <code>Initialize</code>. Even if it registers itself in the pointer array, it still goes out of scope at the end of the function."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1507753566, "post_id": 46696845, "comment_id": 80341626, "body": "It would be worth adding a destructor to <code>Object</code> to remove <code>this</code> from the array"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1507753944, "post_id": 46696845, "comment_id": 80341819, "body": "The standard advice for C++ is to use a <code>std::vector</code> instead of an array. Then you can just <code>push_back</code> new items without having to set a max size or scan for free slots."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4428063"}, "edited": false, "score": 0, "creation_date": 1507754986, "post_id": 46696845, "comment_id": 80342357, "body": "These are very good points, I&#39;ll keep that in mind once I get it working."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4428063"}, "edited": false, "score": 0, "creation_date": 1507754969, "post_id": 46696963, "comment_id": 80342353, "body": "This seems like the answer I was looking for. Does &#39;new&#39; keyword prevent destructor from running itself? I assume it&#39;s due to garbage collection?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4428063"}, "edited": false, "score": 0, "creation_date": 1507755474, "post_id": 46696963, "comment_id": 80342581, "body": "Replacing the way I was creating elements with: ```\t\tTile* tile1 = new Tile(); \t\t\tObject* obj1 = new Object();``` Worked!"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1507760694, "post_id": 46696963, "comment_id": 80344568, "body": "@Netheous Yes. If you create an object with <code>new</code> you have to delete it manually using <code>delete</code>. Typically people use <code>std::unique_ptr</code> which deletes it automatically."}, {"owner": {"reputation": 848, "user_id": 5941564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1916422a9c9c1aef25c1c3e886725781?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle A", "link": "https://stackoverflow.com/users/5941564/kyle-a"}, "edited": false, "score": 0, "creation_date": 1507823849, "post_id": 46696963, "comment_id": 80374390, "body": "@Netheous: In C++ you don&#39;t have automatic garbage collection (I&#39;m not counting <code>std::shared_ptr</code> or <code>std::unique_ptr</code> as &quot;automatic&quot;). If you create a local variable, it will be created on the stack and will be destroyed as soon as it goes out of scope. If you use <code>new</code>, then it will be created in the heap and you will need to make sure you call <code>delete</code> later to free that memory back up. If you want garbage collection, you need to use something like <code>std::shared_ptr</code> or <code>std::unique_ptr</code> which explicitly handle garbage collection."}], "tags": [], "owner": {"reputation": 848, "user_id": 5941564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1916422a9c9c1aef25c1c3e886725781?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle A", "link": "https://stackoverflow.com/users/5941564/kyle-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1507753608, "creation_date": 1507753608, "answer_id": 46696963, "question_id": 46696845, "link": "https://stackoverflow.com/questions/46696845/array-of-pointers-to-objects-returns-jibberish/46696963#46696963", "title": "Array of pointers to objects returns jibberish", "body": "<p>It looks like you're creating objects in <code>Initialize()</code> that then go out of scope. In C++, you have to manage your own memory (when using pointers). Storing a pointer to an object does not prevent it from being destroyed.</p>\n\n<p>You will need to either store a copy of the objects or explicitly create the objects with <code>new</code> and then manage the pointers (or use C++ smart pointers to help you manage them).</p>\n"}, {"tags": [], "owner": {"reputation": 40655, "user_id": 1023390, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2g9CZ.jpg?s=128&g=1", "display_name": "Walter", "link": "https://stackoverflow.com/users/1023390/walter"}, "is_accepted": false, "score": 0, "last_activity_date": 1507763496, "last_edit_date": 1507763496, "creation_date": 1507762371, "answer_id": 46698748, "question_id": 46696845, "link": "https://stackoverflow.com/questions/46696845/array-of-pointers-to-objects-returns-jibberish/46698748#46698748", "title": "Array of pointers to objects returns jibberish", "body": "<p>You should keep pointers to the objects in such way that they are automatically added upon construction and removed upon destruction. One way to do so is to have a <code>set</code> of observing pointers:</p>\n\n<pre><code>// file object.h\nnamespace game {\n  struct object  // all game objects are derived from this\n  {\n    static set&lt;const object*&gt; const&amp;list();  // return list of all objects\n    virtual draw() const;                    // example of virtual function\n    object();                                // only ctor: add this to list\n    object(object const&amp;) = delete;          // disable copy ctor of base\n    virtual ~object();                       // dtor: remove this from list\n  };\n}\n\n// file object.cc\n#include \"object.h\"\n#include &lt;set&gt;\n#include &lt;mutex&gt;\nnamespace {\n  std::mutex protect_object_list;\n  std::set&lt;const object*&gt; object_list;\n}\n\nstd::set&lt;const object*&gt; const&amp; object::list()\n{\n  return object_list;\n}\n\nobject::object()\n{\n  std::lock_guard&lt;std::mutex&gt; lock(protect_object_list);\n  object_list.insert(this);\n}\n\nobject::~object()\n{\n  std::lock_guard&lt;std::mutex&gt; lock(protect_object_list);\n  object_list.erase(this);\n}\n</code></pre>\n\n<p>Usage might look like</p>\n\n<pre><code>#include \"object.h\"\nnamespace game {\n  struct tile : object\n  {\n    void draw() const override;\n    tile(position const&amp;pos) : object() { /* ... */ }\n    tile(tile const&amp;t) : object() { /* ... */ }\n  };\n\n  void draw_objects()\n  {\n    for(auto const&amp;obj:object::list())\n      obj.draw();\n  }\n}\n</code></pre>\n\n<p>In this way, the objects in <code>object::list</code> are ordered by the pointer comparison. If you want another ordering, you may want to use <code>std::map&lt;size_t,const object*&gt;</code> and use as key a static counter incremented at construction of an object.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4428063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 46696963, "answer_count": 2, "score": 1, "last_activity_date": 1507763496, "creation_date": 1507753106, "question_id": 46696845, "link": "https://stackoverflow.com/questions/46696845/array-of-pointers-to-objects-returns-jibberish", "title": "Array of pointers to objects returns jibberish", "body": "<p>Good evening,</p>\n\n<p>I've been tasked with a mission to create an array that'll hold all objects in game.\nSadly, all of these objects are created in different places - putting them into an array manually would be tedious - in fact, I would feel better if they were physically in the place where they were created, but with a reference to them stored in an array.. a reference in form of a pointer.</p>\n\n<p>So, this is what I figured out so far, I've done so pointer to every instance of the object is added to the array in constructor as seen below:</p>\n\n<pre><code>const int GAME_MAX_ENTS = 65536;\nclass Object\n{\n    public:\n        static Object* list[GAME_MAX_ENTS];\n        char type[64] = \"ENT_OBJECT\";\n        Object();\n        ~Object();\n};\n\nObject::Object()\n{\n    for (int i = 0; i &lt; GAME_MAX_ENTS; i++)\n    {\n        if (!list[i])\n        {\n            list[i] = this;\n            break;\n        }\n    }\n}\n\nObject* Object::list[GAME_MAX_ENTS];\n</code></pre>\n\n<p>Now, my issue is - when I'm trying to look through that list and display value of 'type' in a different scope than the one in which object was created, it pops nonsense - I'm assuming it's random memory output.</p>\n\n<p>Here's the portion of me trying to pop proper info:</p>\n\n<pre><code>static void OnRender()\n{\n    //Grid\n    SDL_RenderClear(renderer);\n\n    //Draw objects\n    for (int i = 0; i &lt; GAME_MAX_ENTS; i++)\n    {\n        if (Object::list[i])\n        {\n            Object* obj = Object::list[i];\n            printf(\"%s\\n\", obj-&gt;type);\n        }\n    }\n\n    [...]\n</code></pre>\n\n<p>.. and to make everything as clear as possible, here's the portion where I created objects - mind you, Tile is just a class inheriting from Object:</p>\n\n<pre><code>    static void Initialize()\n    {\n        [...]\n\n        Tile tile;\n        Object obj;\n    }\n</code></pre>\n\n<p>I'm fairly certain it's all due to my lack of experience with C++, I'm just a web dev/C# scrub - don't go hard on me ^^</p>\n"}, {"tags": ["c++", "nested-loops"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 3, "creation_date": 1507752695, "post_id": 46696718, "comment_id": 80341247, "body": "If your code works correctly, and you want only to improve it, consider asking on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."}, {"owner": {"reputation": 2240, "user_id": 6306281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/2CBul.jpg?s=128&g=1", "display_name": "Michael Hancock", "link": "https://stackoverflow.com/users/6306281/michael-hancock"}, "edited": false, "score": 3, "creation_date": 1507752848, "post_id": 46696718, "comment_id": 80341318, "body": "Side note. If you optimise your code you are probably improving \u2018execution time\u2019. Compiling time isn\u2019t normally an factor as this only has to happen once when you build the program :)"}, {"owner": {"reputation": 672, "user_id": 7868736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba3186dc762c3fc009d2d025a1d1643?s=128&d=identicon&r=PG&f=1", "display_name": "Tyger", "link": "https://stackoverflow.com/users/7868736/tyger"}, "edited": false, "score": 0, "creation_date": 1507753080, "post_id": 46696718, "comment_id": 80341413, "body": "<a href=\"https://stackoverflow.com/questions/1887097/why-arent-variable-length-arrays-part-of-the-c-standard\" title=\"why arent variable length arrays part of the c standard\">stackoverflow.com/questions/1887097/&hellip;</a>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507753226, "post_id": 46696718, "comment_id": 80341475, "body": "Consider using <a href=\"https://godbolt.org/\" rel=\"nofollow noreferrer\">godbolt.org</a> to see how different compilers and different flags will optimize your code."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 538, "user_id": 6174062, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9j9NN.jpg?s=128&g=1", "display_name": "Renato", "link": "https://stackoverflow.com/users/6174062/renato"}, "edited": false, "score": 0, "creation_date": 1507754164, "post_id": 46696718, "comment_id": 80341934, "body": "@Renato: Don&#39;t add <code>goto</code> in code."}, {"owner": {"reputation": 26704, "user_id": 1202830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd22084046f375b15ff56ffae8237b0?s=128&d=identicon&r=PG", "display_name": "Michael Geary", "link": "https://stackoverflow.com/users/1202830/michael-geary"}, "reply_to_user": {"reputation": 538, "user_id": 6174062, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9j9NN.jpg?s=128&g=1", "display_name": "Renato", "link": "https://stackoverflow.com/users/6174062/renato"}, "edited": false, "score": 0, "creation_date": 1507785919, "post_id": 46696718, "comment_id": 80351030, "body": "@Renato And putting it more generally, never change the code in a question. The only change anyone should ever make to the code in a question is to clean up the formatting, and even then only if the original formatting is unreadable. Don&#39;t even clean up the formatting if it is just a cosmetic judgment call. If you have improvements to make to the code in a question, put them in an answer."}, {"owner": {"reputation": 538, "user_id": 6174062, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/9j9NN.jpg?s=128&g=1", "display_name": "Renato", "link": "https://stackoverflow.com/users/6174062/renato"}, "reply_to_user": {"reputation": 26704, "user_id": 1202830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bd22084046f375b15ff56ffae8237b0?s=128&d=identicon&r=PG", "display_name": "Michael Geary", "link": "https://stackoverflow.com/users/1202830/michael-geary"}, "edited": false, "score": 0, "creation_date": 1508178171, "post_id": 46696718, "comment_id": 80499005, "body": "@Michael Geary The change was unintended. The code should not have been modified. I <i>know</i> what shouldn&#39;t be done, but was corrected before I realized the mess I had posted."}], "answers": [{"tags": [], "owner": {"reputation": 8279, "user_id": 4759200, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XqFYM.jpg?s=128&g=1", "display_name": "DAle", "link": "https://stackoverflow.com/users/4759200/dale"}, "is_accepted": true, "score": 8, "last_activity_date": 1507787973, "last_edit_date": 1507787973, "creation_date": 1507753000, "answer_id": 46696816, "question_id": 46696718, "link": "https://stackoverflow.com/questions/46696718/improving-optimization-of-nested-loop/46696816#46696816", "title": "Improving optimization of nested loop", "body": "<p>Your algorithm has <code>O(N^2)</code> complexity. There is a faster way. </p>\n\n<pre><code>(a[i] + a[j]) % 3 == ((a[i] % 3) + (a[j] % 3)) % 3\n</code></pre>\n\n<p>Thus, you need not know the exact numbers, you need to know their remainders of division by three only. Zero remainder of the sum can be received with two numbers with zero remainders <code>(0 + 0)</code> and with two numbers with remainders <code>1</code> and <code>2</code> <code>(1 + 2)</code>.</p>\n\n<p>The result will be equal to <code>r[1]*r[2] + r[0]*(r[0]-1)/2</code> where <code>r[i]</code> is the quantity of numbers with remainder equal to <code>i</code>. </p>\n\n<pre><code>int r[3] = {};\nfor (int i : a) {\n    r[i % 3]++; \n}\nstd::cout &lt;&lt; r[1]*r[2] + (r[0]*(r[0]-1)) / 2;\n</code></pre>\n\n<p>The complexity of this algorithm is <code>O(N)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 519, "user_id": 3411080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kPS7j.jpg?s=128&g=1", "display_name": "bpinaya", "link": "https://stackoverflow.com/users/3411080/bpinaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1507753599, "creation_date": 1507753599, "answer_id": 46696960, "question_id": 46696718, "link": "https://stackoverflow.com/questions/46696718/improving-optimization-of-nested-loop/46696960#46696960", "title": "Improving optimization of nested loop", "body": "<p>I've encountered this problem before, and while I don't find my particular solution, you could improve running times by hashing.</p>\n\n<p>The code would look something like this:\n</p>\n\n<pre><code>// A C++ program to check if arr[0..n-1] can be divided\n// in pairs such that every pair is divisible by k.\n#include &lt;bits/stdc++.h&gt;\nusing namespace std;\n\n// Returns true if arr[0..n-1] can be divided into pairs\n// with sum divisible by k.\nbool canPairs(int arr[], int n, int k)\n{\n    // An odd length array cannot be divided into pairs\n    if (n &amp; 1)\n         return false;\n\n    // Create a frequency array to count occurrences\n    // of all remainders when divided by k.\n    map&lt;int, int&gt; freq;\n\n    // Count occurrences of all remainders\n    for (int i = 0; i &lt; n; i++)\n        freq[arr[i] % k]++;\n\n    // Traverse input array and use freq[] to decide\n    // if given array can be divided in pairs\n    for (int i = 0; i &lt; n; i++)\n    {\n        // Remainder of current element\n        int rem = arr[i] % k;\n\n        // If remainder with current element divides\n        // k into two halves.\n        if  (2*rem == k)\n        {\n            // Then there must be even occurrences of\n            // such remainder\n            if (freq[rem] % 2 != 0)\n                return false;\n        }\n\n        // If remainder is 0, then there must be two \n        // elements with 0 remainder\n        else if (rem == 0)\n        {\n           if (freq[rem] &amp; 1)           \n               return false;\n        }        \n\n        // Else number of occurrences of remainder\n        // must be equal to number of occurrences of\n        // k - remainder\n        else if (freq[rem] != freq[k - rem])\n            return false;\n    }\n    return true;\n}\n\n/* Driver program to test above function */\nint main()\n{\n    int arr[] =  {92, 75, 65, 48, 45, 35};\n    int k = 10;\n    int n = sizeof(arr)/sizeof(arr[0]);\n    canPairs(arr, n, k)? cout &lt;&lt; \"True\": cout &lt;&lt; \"False\";\n    return 0;\n}\n</code></pre>\n\n<p>That works for a k (in your case 3)\nBut then again, this is not my code, but the code you can find in the <a href=\"http://www.geeksforgeeks.org/check-if-an-array-can-be-divided-into-pairs-whose-sum-is-divisible-by-k/\" rel=\"nofollow noreferrer\">following link.</a> with a proper explanation. I didn't just paste the link since it's bad practice I think.</p>\n"}], "owner": {"reputation": 25, "user_id": 6621879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10cf4953ea7bc5958ce84e67c0beaf61?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Albakri", "link": "https://stackoverflow.com/users/6621879/anas-albakri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 1, "accepted_answer_id": 46696816, "answer_count": 2, "score": 2, "last_activity_date": 1507787973, "creation_date": 1507752598, "last_edit_date": 1507754208, "question_id": 46696718, "link": "https://stackoverflow.com/questions/46696718/improving-optimization-of-nested-loop", "title": "Improving optimization of nested loop", "body": "<p>I'm making a simple program to calculate the number of pairs in an array that are divisible by 3 array length and values are user determined.</p>\n\n<p>Now my code is perfectly fine. However, I just want to check if there is a faster way to calculate it which results in less compiling time?   </p>\n\n<p>As the length of the array is 10^4 or less compiler takes less than 100ms. However, as it gets more to 10^5 it spikes up to 1000ms so why is this? and how to improve speed?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nint main()\n{\n    int N, i, b;\n    b = 0;\n    cin &gt;&gt; N;\n\n    unsigned int j = 0;\n    std::vector&lt;unsigned int&gt; a(N);\n    for (j = 0; j &lt; N; j++) {\n        cin &gt;&gt; a[j];\n        if (j == 0) {\n        }\n\n        else {\n            for (i = j - 1; i &gt;= 0; i = i - 1) {\n                if ((a[j] + a[i]) % 3 == 0) {\n                    b++;\n                }\n            }\n        }\n    }\n\n    cout &lt;&lt; b;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 6, "creation_date": 1507752546, "post_id": 46696675, "comment_id": 80341184, "body": "You can&#39;t placement new over an existing object without first calling it&#39;s destructor. You will want to read on <a href=\"http://en.cppreference.com/w/cpp/types/aligned_storage\" rel=\"nofollow noreferrer\">std::aligned_storage</a>."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1507753570, "post_id": 46696675, "comment_id": 80341632, "body": "which compiler? I cannot reproduce the warning on gcc, clang and MSVC."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1507753685, "post_id": 46696675, "comment_id": 80341683, "body": "@bolov Using: Microsoft Visual Studio Community 2017 Preview (2)"}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507753857, "post_id": 46696675, "comment_id": 80341775, "body": "One possible observed result of UB (see Francois on dtor). @Fran&#231;oisAndrieux: make that an answer."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1507754045, "post_id": 46696675, "comment_id": 80341873, "body": "@rex remove the ctor and dtor from the struct. That will make the struct a POD and remove the UB. See if the warning and behaviors is still the same."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1507754324, "post_id": 46696675, "comment_id": 80342027, "body": "@bolov Removing the constructor and destructor does remove the warning. But now it doesn&#39;t write the new data to memory. Strange. I&#39;m testing further."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507754743, "post_id": 46696675, "comment_id": 80342239, "body": "It works fine for me if I try with an array of <code>char</code> or <code>int</code> rather than <code>MyChar</code> or if I preform a placement <code>new</code> one element at a time."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1507755356, "post_id": 46696675, "comment_id": 80342522, "body": "Maybe the problem has something to do with placement new only being defined for <a href=\"https://stackoverflow.com/a/35395517/1460794\">dynamic storage duration</a>?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507755553, "post_id": 46696675, "comment_id": 80342627, "body": "@Fran&#231;oisAndrieux Weirdly enough, overwriting objects seems to be well-defined: [basic.life] 4 <i>&quot;... For an object of a class type with a non-trivial destructor, the program is not required to call the destructor explicitly before the storage which the object occupies is reused or released; however, if there is no explicit call to the destructor or if a delete-expression (5.3.5) is not used to release the storage, the destructor shall not be implicitly called and any program that depends on the side effects produced by the destructor has undefined behavior.&quot;</i>"}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1507754483, "post_id": 46697160, "comment_id": 80342110, "body": "I&#39;m not sure this applies to placement new. No memory is allocated."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1507754788, "post_id": 46697160, "comment_id": 80342256, "body": "Then the solution is to call placement new for each element in a loop, right?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507754910, "post_id": 46697160, "comment_id": 80342321, "body": "@Fran&#231;oisAndrieux I believe [expr.new] permits that indirectly: <i>&quot;If the entity is a non-array object, the new-expression returns a pointer to the object created. If it is an array, the new-expression returns a pointer to the initial element of the array.&quot;</i>"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1507754965, "post_id": 46697160, "comment_id": 80342352, "body": "@HolyBlackCat I don&#39;t see how the quote applies. Could you please elaborate?"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507755018, "post_id": 46697160, "comment_id": 80342381, "body": "@fran&#231;ois: Whether or not memory is allocated, every element of the array needs to be destructed (since the type has a non-trivial destructor) and that requires that the number of elements be recorded."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507755079, "post_id": 46697160, "comment_id": 80342407, "body": "@rici That&#39;s a good point. I&#39;ll leave my original comment up so that others can have the full context. Does that imply that all arrays have non-trivial destructors? The problem persists even if <code>MyChar</code> is modified to be POD."}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507755360, "post_id": 46697160, "comment_id": 80342526, "body": "@Fran&#231;oisAndrieux And the quote permits that number to be stored at the beginning of the passed memory block, thus offsetting the array."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1507755569, "post_id": 46697160, "comment_id": 80342636, "body": "@HolyBlackCat shouldn&#39;t that be very easy to detect? <code>assert(p == new (p) T[10])</code>...?"}, {"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "reply_to_user": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1507755641, "post_id": 46697160, "comment_id": 80342668, "body": "@sehe It&#39;s indeed easy to detect, but I&#39;m not sure if it&#39;s helpful. It seems easier to just avoid the placement new with arrays."}, {"owner": {"reputation": 326119, "user_id": 85371, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/6d52c235ec6dd15f30bab444103e7af2?s=128&d=identicon&r=PG", "display_name": "sehe", "link": "https://stackoverflow.com/users/85371/sehe"}, "edited": false, "score": 0, "creation_date": 1507755693, "post_id": 46697160, "comment_id": 80342695, "body": "It&#39;s helpful to move the answer from &quot;constructive conjecturing&quot; to &quot;convincing explanation&quot;. I <a href=\"https://stackoverflow.com/questions/46682089/alocating-space-in-ram-then-creating-and-destroying-different-data-structures-h/46682335?noredirect=1#comment80331814_46682335\">completely agree</a> otherwise :)"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 1, "creation_date": 1507756149, "post_id": 46697160, "comment_id": 80342902, "body": "I had no idea there was <a href=\"https://stackoverflow.com/a/8721932/1460794\">a cookie involved</a>."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507756730, "post_id": 46697160, "comment_id": 80343127, "body": "@Fran&#231;oisAndrieux: It&#39;s compiler-dependent, I believe."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 4, "last_activity_date": 1507755536, "last_edit_date": 1592644375, "creation_date": 1507754429, "answer_id": 46697160, "question_id": 46696675, "link": "https://stackoverflow.com/questions/46696675/placement-new-is-writing-more-bytes-than-array-size/46697160#46697160", "title": "Placement new is writing more bytes than array size", "body": "<p>placement new of array may require more place than <code>N * sizeof(Object)</code></p>\n<p>(??? as compiler has to be able to call correctly the destructor with <code>delete[]</code> ???).</p>\n<blockquote>\n<p>5.3.4 [expr.new]:</p>\n<p><code>new(2,f) T[5]</code> results in a call of <code>operator new[](sizeof(T)*5+y,2,f)</code>.</p>\n<p>Here, <code>x</code> and <code>y</code> are non-negative unspecified values representing array allocation overhead; the result of the new-expression will be offset by this amount from the value returned by <code>operator new[]</code>. This overhead may be applied in all array new-expressions, including those referencing the library function <code>operator new[](std::size_t, void*)</code> and other placement allocation functions. The amount of overhead may vary from one invocation of new to another. \u2014end example ]</p>\n</blockquote>\n"}], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 1, "accepted_answer_id": 46697160, "answer_count": 1, "score": 3, "last_activity_date": 1507755536, "creation_date": 1507752430, "last_edit_date": 1507753887, "question_id": 46696675, "link": "https://stackoverflow.com/questions/46696675/placement-new-is-writing-more-bytes-than-array-size", "title": "Placement new is writing more bytes than array size", "body": "<p>In the following program I expected 10 bytes to be overwritten with placement new and then for the destructor to be called for each byte:</p>\n\n<pre><code>#include &lt;memory&gt;\n\nstruct MyChar {\n    MyChar(char c = 'n') :c{c}{}\n    ~MyChar(){ c = 'd'; }\n    char c;\n};\n\nint main()\n{\n    {\n        MyChar first[10]{0,1,2,3,4,5,6,7,8,9};\n        new (first)MyChar[10]{10,11,12,13,14,15,16,17,18,19};\n    }\n    return 0;\n}\n</code></pre>\n\n<p>But the compiler (*) warns that 18 will be written:</p>\n\n<blockquote>\n  <p>warning C6386: Buffer overrun while writing to 'first':  the writable\n  size is '10' bytes, but '18' bytes might be written.</p>\n</blockquote>\n\n<p>At first the bytes are written as expected:\n<a href=\"https://i.stack.imgur.com/TSR09.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TSR09.png\" alt=\"enter image description here\"></a></p>\n\n<p>But the compiler wasn't bluffing. At the placement new statement it does write 18 bytes:\n<a href=\"https://i.stack.imgur.com/iSy9Y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSy9Y.png\" alt=\"enter image description here\"></a></p>\n\n<p>Which results in an error:</p>\n\n<blockquote>\n  <p>Run-Time Check Failure #2 - Stack around the variable 'first' was\n  corrupted.</p>\n</blockquote>\n\n<p>Why doesn't it stick to 10 bytes? <code>sizeof(MyChar)==1</code> and <code>alignof(MyChar)==1</code>.</p>\n\n<hr>\n\n<p>(*) Microsoft Visual Studio Community 2017 Preview (2). Also (but without warning during compilation) I get the same memory overwritten and runtime error on Microsoft Visual Studio Community 2017 (Version 15.2 (26430.15) Release).</p>\n"}, {"tags": ["c++", "arrays", "c++98"], "comments": [{"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507752414, "post_id": 46696559, "comment_id": 80341106, "body": "Does the order of the triplets matter? (i.e. would somthing like 132acbACB be an acceptable output?)"}], "answers": [{"tags": [], "owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "is_accepted": true, "score": 3, "last_activity_date": 1507757087, "last_edit_date": 1507757087, "creation_date": 1507755273, "answer_id": 46697387, "question_id": 46696559, "link": "https://stackoverflow.com/questions/46696559/how-can-i-concatenate-arrays-of-2d-data/46697387#46697387", "title": "How can I concatenate arrays of 2D data", "body": "<p>A sequence of inserts can do the job. The code can be extracted into a function that takes a number of chunks and chunk size as parameters.</p>\n\n<pre><code>std::vector&lt;unsigned char&gt; my_merge(\n    const std::vector&lt;unsigned char&gt;&amp; part1,\n    const std::vector&lt;unsigned char&gt;&amp; part2,\n    const unsigned int chunk_count, \n    const unsigned int chunk_size)\n{\n    std::vector&lt;unsigned char&gt; merged;\n    merged.reserve(part1.size() + part2.size());\n    for(unsigned int i = 0; i &lt; chunk_count; ++i)\n    {\n        merged.insert(\n            merged.end(), \n            part1.begin() + i * chunk_size, \n            part1.begin() + (i + 1) * chunk_size);\n        merged.insert(\n            merged.end(), \n            part2.begin() + i * chunk_size, \n            part2.begin() + (i + 1) * chunk_size);\n    }\n    return merged;\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>std::vector&lt;unsigned char&gt; merged = my_merge(part1, part2, 3, 4);\n</code></pre>\n\n<p><kbd><a href=\"https://wandbox.org/permlink/KNQCnzNaZ9HVTKvp\" rel=\"nofollow noreferrer\"><strong>Demo</strong></a> </kbd></p>\n"}, {"tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": false, "score": 1, "last_activity_date": 1507756002, "creation_date": 1507756002, "answer_id": 46697570, "question_id": 46696559, "link": "https://stackoverflow.com/questions/46696559/how-can-i-concatenate-arrays-of-2d-data/46697570#46697570", "title": "How can I concatenate arrays of 2D data", "body": "<p>Try <code>std::copy</code>.</p>\n\n<p>example below (may be you can rewrite below code by looping logically).</p>\n\n<pre><code>int a[12] = {1,2,3,4,'a','b','c','d','A','B','C','D'};\nint b[12] = {5,6,7,8,'e','f','g','h','E','F','G','H'};\n\nint c[3][8];\n\n//First Row\nstd::copy(a, a+4, c[0]);\nstd::copy(b, b+4, c[0]+4);\n\n//Second Row\nstd::copy(a+4, a+8, c[1]);\nstd::copy(b+4, b+8, c[1]+4);\n\n//Third Row\nstd::copy(a+8, a+12, c[2]);\nstd::copy(b+8, b+12, c[2]+4);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 1, "accepted_answer_id": 46697387, "answer_count": 2, "score": 1, "last_activity_date": 1507757087, "creation_date": 1507752043, "question_id": 46696559, "link": "https://stackoverflow.com/questions/46696559/how-can-i-concatenate-arrays-of-2d-data", "title": "How can I concatenate arrays of 2D data", "body": "<p>I am attempting to read 2D data like the following:</p>\n\n<pre><code>12345678\nabcdefgh\nABCDEFGH\n</code></pre>\n\n<p>With the API available to me, I can read it into a 1D array in two parts, split down the middle:</p>\n\n<p>First array: <code>1234abcdABCD</code></p>\n\n<p>Second array: <code>5678efghEFGH</code></p>\n\n<p>Now I need to merge these to get <code>12345678abcdefghABCDEFGH</code>.</p>\n\n<p>Is there a more sophisticated/stable way of doing this than <code>memcpy</code> and careful counting?</p>\n"}, {"tags": ["c++", "c", "linux", "system-calls"], "comments": [{"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1507753876, "post_id": 46696534, "comment_id": 80341782, "body": "How is <code>readbuffer</code> defined?"}, {"owner": {"reputation": 13, "user_id": 8749785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxX2W.jpg?s=128&g=1", "display_name": "Aaron Barnett", "link": "https://stackoverflow.com/users/8749785/aaron-barnett"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1507754256, "post_id": 46696534, "comment_id": 80341987, "body": "it is a char array."}], "answers": [{"tags": [], "owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "is_accepted": true, "score": 0, "last_activity_date": 1507754373, "creation_date": 1507754373, "answer_id": 46697144, "question_id": 46696534, "link": "https://stackoverflow.com/questions/46696534/using-pipe-and-fork-to-read-from-a-file-and-output-to-the-console-new-file/46697144#46697144", "title": "Using pipe() and fork() to read from a file and output to the console/new file", "body": "<p>It looks as though you're trying to read all the data from the pipe with one call to <code>read(2)</code>. But, as with any I/O operation, this may always return fewer bytes than you requested. You should <em>always</em> check the return value of <code>read(2)</code> and <code>write(2)</code> system calls (and others), to make sure that they acted as expected.</p>\n\n<p>In this case, you should loop until you get some independent notification from the child process that they're done sending data. This can be signaled in this case by <code>read(2)</code> returning <code>0</code>, meaning that the child closed their end of the pipe. </p>\n"}, {"comments": [{"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 1, "creation_date": 1507754832, "post_id": 46697163, "comment_id": 80342287, "body": "I don&#39;t think it&#39;s <i>ever</i> a &quot;safe assumption&quot; that a <code>read(2)</code> call will return all requested data, no matter the number of <code>write</code> calls the child makes."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1507755410, "post_id": 46697163, "comment_id": 80342544, "body": "@bnaecker, POSIX certainly makes no such guarantees, but if you&#39;re willing to rely on the known characteristics of specific implementations -- i.e. Linux in this case -- then for those implementations, the assumption can indeed be safe.  This should not be taken as an endorsement of such practices, however.  Relying on implementation details is a good way to set a nasty trap for future you."}, {"owner": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1507756055, "post_id": 46697163, "comment_id": 80342862, "body": "Interesting, I didn&#39;t know that was a guarantee on Linux. How do you know that?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 5074, "user_id": 1354854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013458c49caa535da7af54d010a8a0b3?s=128&d=identicon&r=PG", "display_name": "bnaecker", "link": "https://stackoverflow.com/users/1354854/bnaecker"}, "edited": false, "score": 0, "creation_date": 1507757592, "post_id": 46697163, "comment_id": 80343507, "body": "@bnaecker, I wouldn&#39;t say that &quot;known characteristics&quot; rises quite to the level of &quot;guarantee&quot;, but I know it partly from being on the other side of our present conversation.  The Linux kernel source is of course open for examination to confirm or refute the proposition."}, {"owner": {"reputation": 100407, "user_id": 16406, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/fadf252892475e9b177d5cd5e8b24145?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Dodd", "link": "https://stackoverflow.com/users/16406/chris-dodd"}, "edited": false, "score": 0, "creation_date": 1507774313, "post_id": 46697163, "comment_id": 80347873, "body": "@JohnBollinger: POSIX <i>does</i> make guarentees for the behavior of writes that are <code>PIPE_BUF</code> bytes or less -- such writes are &quot;atomic&quot; and will never be interleaved with writes from other sources.  In addition, a read will never return less data than requested if there is data available in the pipe, so if you are writing and reading fixed size records and that size is &lt;= <code>PIPE_BUF</code> you&#39;ll never get short reads either."}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1507754432, "creation_date": 1507754432, "answer_id": 46697163, "question_id": 46696534, "link": "https://stackoverflow.com/questions/46696534/using-pipe-and-fork-to-read-from-a-file-and-output-to-the-console-new-file/46697163#46697163", "title": "Using pipe() and fork() to read from a file and output to the console/new file", "body": "<p>You are assuming that the parent can read everything written to the pipe by the child via one <code>read()</code> call.  That might be a safe assumption for a pipe if the child were writing everything via a single <code>write()</code> call, as long as the overall data size did not exceed the size of the pipe's internal buffer. It is not at all safe when, as in this case, the child is sending data via many little writes.</p>\n\n<p>How much data the parent actually gets will depend in part on how its one <code>read()</code> call is ordered relative to the child's writes.  Inasmuch as the two are separate processes and you're employing no IPC other than the pipe itself, it's basically unpredictable how much data the parent will successfully read.</p>\n\n<p>In the general case, one must assume that the reader will need to perform multiple <code>read()</code> calls to read all data that are sent.  It must keep calling <code>read()</code> and processing the resulting data appropriately until <code>read</code>'s return value indicates that an I/O error has occurred or that the end of the file has been reached.  Note well that end of file does not mean just that no more bytes are available <em>now</em>, but that no more bytes will <em>ever</em> be available.  That happens after all processes have closed all copies of the write end of the pipe.</p>\n"}], "owner": {"reputation": 13, "user_id": 8749785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wxX2W.jpg?s=128&g=1", "display_name": "Aaron Barnett", "link": "https://stackoverflow.com/users/8749785/aaron-barnett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1234, "favorite_count": 0, "accepted_answer_id": 46697144, "answer_count": 2, "score": 1, "last_activity_date": 1507754432, "creation_date": 1507751960, "last_edit_date": 1507752406, "question_id": 46696534, "link": "https://stackoverflow.com/questions/46696534/using-pipe-and-fork-to-read-from-a-file-and-output-to-the-console-new-file", "title": "Using pipe() and fork() to read from a file and output to the console/new file", "body": "<p>I'm trying to learn how to use the pipe() and fork() system calls. I'm using pipe and fork to create parent and child processes where the child will read a character from the text file, and then send it through the pipe to the parent that will then output the character to the console, with the desired result that it will print out the entire text to the console. Later I'm going to be doing some text processing on the file with the child process reading and processing then sending the updated text to the parent but for now I just want to make sure I'm getting the basics of pipe() correct.</p>\n\n<p>example file:</p>\n\n<pre><code>This is a test file; it is 1 of many.\nOthers will follow. \n</code></pre>\n\n<p>Relevant code:</p>\n\n<pre><code>  pid = fork();\n\n  ifstream fin;\n  fin.open(inputFilename);\n  fin.get(inputChar);\n\n  if (pid == -1)\n  {\n    perror(\"Trouble\");\n    exit(2);\n  }\n  else if (pid == 0) //child process that reads text file and writes to parent\n  {\n    close(pipefds[0]);\n    while(!fin.eof())\n    {\n      write(pipefds[1], &amp;inputChar, sizeof(inputChar));\n      fin.get(inputChar);\n    }\n\n    close(pipefds[1]);\n\n    exit(0);\n  }\n  else\n  {\n    close(pipefds[1]);\n    read(pipefds[0], readbuffer, sizeof(readbuffer));\n    cout &lt;&lt; readbuffer &lt;&lt; endl;\n    close(pipefds[0]);\n    exit(0);\n\n  }\n      fin.close();\n</code></pre>\n\n<p>However, when I compile and run, the output is always of a varying length. Sometimes it will print the whole file, others it will just print out a few letters, or half of a line. Such as.</p>\n\n<pre><code>This i\n</code></pre>\n\n<p>I've tried going through the man pages and researching more but I haven't been able to find any answers. What exactly is going on with my program that it will sometimes read everything from the file but other times won't. Any help is greatly appreciated!</p>\n"}, {"tags": ["c++", "smart-pointers"], "comments": [{"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 3, "creation_date": 1507751261, "post_id": 46696260, "comment_id": 80340465, "body": "A global smart pointer will release the memory at the end of the program. Very much like a non-smart, non-pointer global variable."}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 0, "creation_date": 1507751267, "post_id": 46696260, "comment_id": 80340468, "body": "It will be destructed when the application exits - see <a href=\"https://stackoverflow.com/questions/246564/what-is-the-lifetime-of-a-static-variable-in-a-c-function\">this question</a> for more details"}, {"owner": {"reputation": 31465, "user_id": 128384, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/cf6f92bfb2a16c0e2c6ca7aef4440862?s=128&d=identicon&r=PG", "display_name": "stijn", "link": "https://stackoverflow.com/users/128384/stijn"}, "edited": false, "score": 0, "creation_date": 1507751296, "post_id": 46696260, "comment_id": 80340483, "body": "It&#39;s destructor gets called after main() returns"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5091057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/577e09b55957bb88246b27745e282cf1?s=128&d=identicon&r=PG&f=1", "display_name": "MJ_Wesson", "link": "https://stackoverflow.com/users/5091057/mj-wesson"}, "is_accepted": false, "score": 0, "last_activity_date": 1507751537, "creation_date": 1507751537, "answer_id": 46696419, "question_id": 46696260, "link": "https://stackoverflow.com/questions/46696260/smart-pointer-in-global-scope/46696419#46696419", "title": "Smart pointer in global scope", "body": "<p>The memory will remain allocated throughout the life of the program, unless specific action is taken to free the memory. Essentially it will be just as if the scope for the smart pointer is the scope of the function 'main()'. Here is from <a href=\"http://www.cplusplus.com/reference/memory/unique_ptr/\" rel=\"nofollow noreferrer\">cplusplus.com</a> </p>\n\n<blockquote>\n  <p>unique_ptr objects automatically delete the object they manage (using a deleter) as soon as they themselves are destroyed, or as soon as their value changes either by an assignment operation or by an explicit call to unique_ptr::reset.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 2192, "user_id": 3817790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uosws.jpg?s=128&g=1", "display_name": "Naseef Chowdhury", "link": "https://stackoverflow.com/users/3817790/naseef-chowdhury"}, "is_accepted": false, "score": 2, "last_activity_date": 1507751663, "creation_date": 1507751663, "answer_id": 46696457, "question_id": 46696260, "link": "https://stackoverflow.com/questions/46696260/smart-pointer-in-global-scope/46696457#46696457", "title": "Smart pointer in global scope", "body": "<p>It will release the allocated memory during the termination of the program. However, it is not a good idea to have smart pointer as global variable.</p>\n"}, {"comments": [{"owner": {"reputation": 2192, "user_id": 3817790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uosws.jpg?s=128&g=1", "display_name": "Naseef Chowdhury", "link": "https://stackoverflow.com/users/3817790/naseef-chowdhury"}, "edited": false, "score": 1, "creation_date": 1507752310, "post_id": 46696521, "comment_id": 80341057, "body": "where it has been told that it is a static variable?"}, {"owner": {"reputation": 1, "user_id": 8761307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0eda2a751895c2337e523c3e74c125?s=128&d=identicon&r=PG&f=1", "display_name": "MarxNotDead", "link": "https://stackoverflow.com/users/8761307/marxnotdead"}, "reply_to_user": {"reputation": 2192, "user_id": 3817790, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uosws.jpg?s=128&g=1", "display_name": "Naseef Chowdhury", "link": "https://stackoverflow.com/users/3817790/naseef-chowdhury"}, "edited": false, "score": 0, "creation_date": 1507842364, "post_id": 46696521, "comment_id": 80384217, "body": "I&#39;m sorry, you are correct, my answer was Not precise. The variable is not static, but it does have static duration."}], "tags": [], "owner": {"reputation": 1, "user_id": 8761307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e0eda2a751895c2337e523c3e74c125?s=128&d=identicon&r=PG&f=1", "display_name": "MarxNotDead", "link": "https://stackoverflow.com/users/8761307/marxnotdead"}, "is_accepted": false, "score": 0, "last_activity_date": 1507842464, "last_edit_date": 1507842464, "creation_date": 1507751901, "answer_id": 46696521, "question_id": 46696260, "link": "https://stackoverflow.com/questions/46696260/smart-pointer-in-global-scope/46696521#46696521", "title": "Smart pointer in global scope", "body": "<p>Since this is a variable with static duration, the memory will be allocated when this code is loaded, usually that will be on start of your application and freed, when the application finishes.\nIf you use it in functions it should generally be allocated, unless it has been reset in another function.</p>\n\n<p>Obviously there are some ramifications considering dynamically loaded libraries.</p>\n"}, {"tags": [], "owner": {"reputation": 1975, "user_id": 6070341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YHHZU.png?s=128&g=1", "display_name": "Costantino Grana", "link": "https://stackoverflow.com/users/6070341/costantino-grana"}, "is_accepted": false, "score": 0, "last_activity_date": 1507752072, "creation_date": 1507752072, "answer_id": 46696569, "question_id": 46696260, "link": "https://stackoverflow.com/questions/46696260/smart-pointer-in-global-scope/46696569#46696569", "title": "Smart pointer in global scope", "body": "<p>The smart pointer will be destroyed at the end of the program as all other objects. So when the destructor is called the pointer will be deleted. Her you get an example which is <em>not even close</em> to a real smart pointer, but it gives the idea:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\ntemplate &lt;typename T&gt;\nstruct example {\n    T* p_;\n    example(T* p): p_{p} {\n        cout &lt;&lt; \"example(T* p)\\n\";\n    }\n    ~example() {\n        cout &lt;&lt; \"~example()\\n\";\n        delete p_;\n    }\n};\n\nint main() {\n    cout &lt;&lt; \"start main\\n\";\n    example&lt;int&gt; p{new int};\n    cout &lt;&lt; \"end main\\n\";\n    return 0;\n}\n</code></pre>\n\n<p>Try it out here: <a href=\"https://ideone.com/rOtQY9\" rel=\"nofollow noreferrer\">https://ideone.com/rOtQY9</a></p>\n\n<p>Anyway, the use of a global smart pointer eludes me. The program is finished so the memory would have been released to the OS anyway.</p>\n"}], "owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1647, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1507842464, "creation_date": 1507750849, "question_id": 46696260, "link": "https://stackoverflow.com/questions/46696260/smart-pointer-in-global-scope", "title": "Smart pointer in global scope", "body": "<p>I have this smart pointer in top of my cpp file (Global variable):</p>\n\n<pre><code>std::unique_ptr&lt;DATA_READ&gt; smartPT(new DATA_READ);\n</code></pre>\n\n<p>What happens if smart pointer declares in global scope? I know smart pointer in a function automatically deletes and release memory after the function ends but How about Global Scope Smart Pointer which used in multiple functions?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 3, "creation_date": 1507751177, "post_id": 46696247, "comment_id": 80340422, "body": "<a href=\"http://coliru.stacked-crooked.com/a/a3d1b1ef2348d2c2\" rel=\"nofollow noreferrer\">This version of clang seems to complain</a>"}, {"owner": {"reputation": 15204, "user_id": 453271, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/G7rcK.png?s=128&g=1", "display_name": "Andriy Tylychko", "link": "https://stackoverflow.com/users/453271/andriy-tylychko"}, "edited": false, "score": 0, "creation_date": 1507751713, "post_id": 46696247, "comment_id": 80340724, "body": "please double check clang"}, {"owner": {"reputation": 530, "user_id": 5699458, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/04d938f23072c876f965ade691631184?s=128&d=identicon&r=PG&f=1", "display_name": "MaxV37", "link": "https://stackoverflow.com/users/5699458/maxv37"}, "edited": false, "score": 0, "creation_date": 1507751798, "post_id": 46696247, "comment_id": 80340780, "body": "That is right, I was wrong about clang"}, {"owner": {"reputation": 15204, "user_id": 453271, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/G7rcK.png?s=128&g=1", "display_name": "Andriy Tylychko", "link": "https://stackoverflow.com/users/453271/andriy-tylychko"}, "edited": false, "score": 1, "creation_date": 1507751842, "post_id": 46696247, "comment_id": 80340808, "body": "and for GCC, even HEAD 8.0.0  doesn&#39;t compain"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1507751919, "post_id": 46696247, "comment_id": 80340849, "body": "ideone seems to exhibit the problem (<a href=\"https://ideone.com/u3C5yz\" rel=\"nofollow noreferrer\">ideone.com/u3C5yz</a>) unless you select the clang compiler (<a href=\"https://ideone.com/J2E2b2\" rel=\"nofollow noreferrer\">ideone.com/J2E2b2</a>)."}], "answers": [{"tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": true, "score": 8, "last_activity_date": 1507751717, "last_edit_date": 1592644375, "creation_date": 1507751151, "answer_id": 46696335, "question_id": 46696247, "link": "https://stackoverflow.com/questions/46696247/implicitly-virtual-constexpr-function/46696335#46696335", "title": "Implicitly virtual constexpr function", "body": "<p>The compilers have a bug. Note that this has been fixed in clang 3.5 already, not sure why you don't get an error, because I do.</p>\n<p>The standard is pretty explicit about this in <a href=\"http://eel.is/c++draft/dcl.constexpr#3.1\" rel=\"noreferrer\">[dcl.constexpr]p3</a>:</p>\n<blockquote>\n<p>The definition of a constexpr function shall satisfy the following requirements:</p>\n<ul>\n<li>it shall not be virtual;</li>\n<li>[...]</li>\n</ul>\n</blockquote>\n<p>It does't matter whether <code>doSomething</code> is implicitly <code>virtual</code> or not. In both cases, it is considered to be <code>virtual</code>, and so it violates the point above.</p>\n"}], "owner": {"reputation": 530, "user_id": 5699458, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/04d938f23072c876f965ade691631184?s=128&d=identicon&r=PG&f=1", "display_name": "MaxV37", "link": "https://stackoverflow.com/users/5699458/maxv37"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 46696335, "answer_count": 1, "score": 10, "last_activity_date": 1507752176, "creation_date": 1507750830, "last_edit_date": 1507752176, "question_id": 46696247, "link": "https://stackoverflow.com/questions/46696247/implicitly-virtual-constexpr-function", "title": "Implicitly virtual constexpr function", "body": "<p>Virtual functions cannot be <code>constexpr</code> however, when a function is implicitly virtual through inheritance, the compilers I have tried don't complain about it.</p>\n\n<p>Here is a sample code:</p>\n\n<pre><code>class A\n{\n    virtual void doSomething() {}\n};\n\nclass B : public A\n{\n    constexpr void doSomething() override {} // implicitly virtual constexpr\n                                             // but no compilation error\n};\n\nclass C : public A\n{\n    virtual constexpr void doSomething() override {} // explicitly virtual constexpr\n                                                     // compilation error\n};\n</code></pre>\n\n<p>I tried it with <code>gcc 7.2.0</code> and <s><code>clang 5.0.0</code></s>.</p>\n\n<p>Are those compilers not compliant to the standard in this regard, or are implicitly virtual <code>constexpr</code> functions allowed ?</p>\n"}, {"tags": ["c++", "windows", "user-interface", "windows-console"], "comments": [{"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1507750949, "post_id": 46696233, "comment_id": 80340310, "body": "You can make your GUI program to use CONSOLE subsystem (for debugging) so standard streams will be attached to existing console output."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 2, "creation_date": 1507751506, "post_id": 46696233, "comment_id": 80340613, "body": "For a non-CONSOLE app, try using <code>AttachConsole()</code>, <code>GetStdHandle()</code>, and <code>WriteConsole()</code> to write to the console that spawned the app"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507754659, "post_id": 46696233, "comment_id": 80342198, "body": "Either make sure to first reset the standard handle(s) that you need to <code>NULL</code> before calling <code>AllocConsole</code> or <code>AttachConsole</code>, or explicitly open &quot;CONIN$&quot; or &quot;CONOUT$&quot;. The latter requires generic read-write access, else some console APIs will fail such as <code>GetConsoleMode</code>, which is critical since the CRT and other libraries typically use <code>GetConsoleMode</code> to check for a console handle, naively assuming it will only fail for a non-console file."}, {"owner": {"reputation": 26606, "user_id": 4603670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7eabc1427aa3c8185153cc81978289a?s=128&d=identicon&r=PG&f=1", "display_name": "Barmak Shemirani", "link": "https://stackoverflow.com/users/4603670/barmak-shemirani"}, "edited": false, "score": 0, "creation_date": 1507768226, "post_id": 46696233, "comment_id": 80346458, "body": "You can also use <code>OutputDebugString</code> to print messages to IDE&#39;s output window, while in debug mode."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1507773319, "post_id": 46696233, "comment_id": 80347647, "body": "Setting <code>ERRORLEVEL</code> requires forcing CMD to wait for the GUI process to exit via <code>start &quot;&quot; &#47;wait GUIprog.exe ...</code>. Normally CMD doesn&#39;t wait for GUI applications run from the interactive command prompt. It determines whether a child is a GUI process by getting the address of the PEB in the child&#39;s address space via <code>NtQueryInformationProcess</code> and calling <code>ReadProcessMemory</code> to read the PEB and check whether its <code>ImageSubsystem</code> is <code>IMAGE_SUBSYSTEM_WINDOWS_GUI</code> (2)."}], "owner": {"reputation": 1, "user_id": 8761255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d773ac8c47a29f4ab4725b5b809dfde?s=128&d=identicon&r=PG&f=1", "display_name": "brengera", "link": "https://stackoverflow.com/users/8761255/brengera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507750776, "creation_date": 1507750776, "question_id": 46696233, "link": "https://stackoverflow.com/questions/46696233/is-it-possible-to-print-errors-to-windows-console-while-running-a-c-gui", "title": "Is it possible to print errors to Windows console while running a c++ GUI?", "body": "<p>I'm trying to figure out if it is possible (or plausible) to output specifically error codes to the windows cmd window while executing a gui called from that window. I have a GUI I'm calling from cmd line e.g. <i> start GUIprog.exe \"arg1\"\n \"arg2\"...</i> and while that is running, I want to print any errors directly to the cmd window and raise ERRORLEVEL.</p>\n\n<p>Is this possible?</p>\n"}, {"tags": ["c++", "c++11", "standards"], "comments": [{"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 1, "creation_date": 1507749687, "post_id": 46695971, "comment_id": 80339686, "body": "Didn&#39;t you just answer your question?"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1507749818, "post_id": 46695971, "comment_id": 80339746, "body": "See <a href=\"http://en.cppreference.com/w/cpp/language/implicit_conversion\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/implicit_conversion</a>"}, {"owner": {"reputation": 3723, "user_id": 1169091, "user_type": "registered", "accept_rate": 9, "profile_image": "https://i.stack.imgur.com/5vE4L.jpg?s=128&g=1", "display_name": "nicomp", "link": "https://stackoverflow.com/users/1169091/nicomp"}, "edited": false, "score": 0, "creation_date": 1507749927, "post_id": 46695971, "comment_id": 80339798, "body": "I think your question is &quot;how do I determine the type of an integer literal in a particular compiler implementation?&quot; right?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1507750400, "post_id": 46695971, "comment_id": 80340008, "body": "In the section you refer to is says <i>&quot;The type of an integer literal is the first of the corresponding list in Table 7 in which its value can be represented.&quot;</i>. So 123456 is an int if it fits, otherwise it is long or long long."}], "answers": [{"tags": [], "owner": {"reputation": 95188, "user_id": 440119, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5ec9ca2a92a94a5470396073129d79e7?s=128&d=identicon&r=PG", "display_name": "Benjamin Lindley", "link": "https://stackoverflow.com/users/440119/benjamin-lindley"}, "is_accepted": true, "score": 3, "last_activity_date": 1507750816, "last_edit_date": 1507750816, "creation_date": 1507750506, "answer_id": 46696178, "question_id": 46695971, "link": "https://stackoverflow.com/questions/46695971/where-in-the-c-standard-can-i-read-what-type-an-integer-literal-is/46696178#46696178", "title": "Where in the C++ standard can I read what type an integer literal is?", "body": "<p>In <code>lex.icon</code>, the second paragraph, there is a table. Before the table it says</p>\n\n<blockquote>\n  <p>The type of an integer literal is the first of the corresponding list in Table 6 in which its value can be represented.</p>\n</blockquote>\n\n<p>And then in the table, under decimal constants, it lists, in order, <code>int</code>, <code>long int</code>, <code>long long int</code>. So according to the above statement, if it can be represented by an <code>int</code>, then it's an <code>int</code>. If it can't be represented by an <code>int</code>, but it can be represented by a <code>long int</code>, then it's a <code>long int</code>. And if it can't be represented by a <code>long int</code> but it can be represented by a <code>long long int</code>, then it's a <code>long long int</code>.</p>\n\n<p>There are different rules for octal and hexadecimal constants, which allow them to be unsigned types, ordered for priority as <code>int</code>, <code>unsigned int</code>, <code>long int</code>, <code>unsigned long int</code>, <code>long long int</code>, <code>unsigned long long int</code>.</p>\n"}], "owner": {"reputation": 380, "user_id": 3547831, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a984198428889261548892c7d20b6b4c?s=128&d=identicon&r=PG", "display_name": "Starhowl", "link": "https://stackoverflow.com/users/3547831/starhowl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 46696178, "answer_count": 1, "score": 1, "last_activity_date": 1507750816, "creation_date": 1507749652, "question_id": 46695971, "link": "https://stackoverflow.com/questions/46695971/where-in-the-c-standard-can-i-read-what-type-an-integer-literal-is", "title": "Where in the C++ standard can I read what type an integer literal is?", "body": "<p>In chapter \"lexical conventions/Literals\" it simply mentions that without suffix, it could be any of int, long int or long long int. Where does it explicitly state it being implementation defined or - if not - what type it is?</p>\n"}, {"tags": ["c++", "algorithm", "sorting", "mergesort"], "comments": [{"owner": {"reputation": 1544, "user_id": 6741053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93f7dd3c958082017a3c47299aaeea0?s=128&d=identicon&r=PG", "display_name": "\u0e23\u0e22\u05e7\u0e04\u0433\u0e23\u0452\u05e9\u0e04", "link": "https://stackoverflow.com/users/6741053/%e0%b8%a3%e0%b8%a2%d7%a7%e0%b8%84%d0%b3%e0%b8%a3%d1%92%d7%a9%e0%b8%84"}, "edited": false, "score": 2, "creation_date": 1507749598, "post_id": 46695942, "comment_id": 80339645, "body": "Can you implement and understand recursive version of merge sort ?"}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1507750209, "post_id": 46695942, "comment_id": 80339925, "body": "(When you edit your post for whatever reason: the title&#39;s first word doesn&#39;t look reasonable.)"}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 1, "creation_date": 1507750482, "post_id": 46695942, "comment_id": 80340048, "body": "In-place is <i>tough</i> (does it need to be <i>stable</i>, too?) - what level <code>algorithms class</code> is this? What is the typical amount of time required to do an assignment justice?"}, {"owner": {"reputation": 36328, "user_id": 5483526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec50563f80bacd2a7fed69bd31d0c810?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Timmermans", "link": "https://stackoverflow.com/users/5483526/matt-timmermans"}, "reply_to_user": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1507753564, "post_id": 46695942, "comment_id": 80341625, "body": "@greybeard Simple in-place merge swaps the appropriate number of elements in the middle of the array (ACBD -&gt; ABCD)  and then recurses on the front and back halves.  The resulting sort is O(N log^2 N), though."}, {"owner": {"reputation": 23, "user_id": 6283417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091179354261307/picture?type=large", "display_name": "Brandon Myers", "link": "https://stackoverflow.com/users/6283417/brandon-myers"}, "reply_to_user": {"reputation": 1544, "user_id": 6741053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b93f7dd3c958082017a3c47299aaeea0?s=128&d=identicon&r=PG", "display_name": "\u0e23\u0e22\u05e7\u0e04\u0433\u0e23\u0452\u05e9\u0e04", "link": "https://stackoverflow.com/users/6741053/%e0%b8%a3%e0%b8%a2%d7%a7%e0%b8%84%d0%b3%e0%b8%a3%d1%92%d7%a9%e0%b8%84"}, "edited": false, "score": 0, "creation_date": 1507760931, "post_id": 46695942, "comment_id": 80344641, "body": "@Suparshva, I understand fairly well the normal version of merge sort."}, {"owner": {"reputation": 23, "user_id": 6283417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091179354261307/picture?type=large", "display_name": "Brandon Myers", "link": "https://stackoverflow.com/users/6283417/brandon-myers"}, "reply_to_user": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1507761042, "post_id": 46695942, "comment_id": 80344685, "body": "@greybeard, I am in a junior level data structures and algorithms class, 3020 at my university."}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 2, "last_activity_date": 1507820985, "last_edit_date": 1507820985, "creation_date": 1507758668, "answer_id": 46698113, "question_id": 46695942, "link": "https://stackoverflow.com/questions/46695942/iterative-in-place-mergesort/46698113#46698113", "title": "iterative, In-place MergeSort", "body": "<p>An iterative algorithm that uses a \"kind of\" merge sort to sort an array <em>in-place</em> could look like below.</p>\n\n<p>Let's take this unsorted array as example:</p>\n\n<pre><code>4, 3, 8, 5, 9, 2, 5, 1, 7, 10, 8, 0, 3\n</code></pre>\n\n<p>The algorithm will have an outer loop on the size of the merged arrays. So at the start this size is 1 (nothing has been merged yet). Then in each iteration this size is doubled, which effectively takes two already sorted, consecutive segments together in a merge.</p>\n\n<p>The actual merge will use two indexes in the to-be-merged segment: one at the start of each of the two segments that are to be merged.</p>\n\n<p>As long as the value at the left index is less or equal to the other value, the left index is incremented (moves to the right). In the other case the most complex operation in this algorithm is executed:</p>\n\n<p>The values between the two indexes are shifted to the right and the rightmost of those (the value at the second index) is moved to the first index. So the values cycle around one position. After this cycle, <em>both</em> indexes are incremented.</p>\n\n<p>This process is repeated until either the left index reaches the right index, or the right index reaches the end of the second segment (which can be the end of the array). When this happens the merge is complete, and the two segments will be considered as one in the next iteration of the outer loop.</p>\n\n<p>Here are some images illustrating these steps as they would be performed on the example data:</p>\n\n<p><a href=\"https://i.stack.imgur.com/H9EYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9EYw.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here the merge is performed to make segments of size two. Sometimes the last segment will not have a full size, but that is not a problem. For each of the colored segments, the two indexes are placed, one pointing at the first of the two values, and the other to the second value. Where the first value is greater than the second, they are swapped. In case of a swap both indexes are incremented and the second index reaches the end of the second segment (which was only 1 value wide), and so the merge ends. In case no swap happens, only the first index increments, but reaches the second one, so then also the merge ends (without having made changes).</p>\n\n<p>It becomes more interesting in the second iteration of the outer loop:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eQ19c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQ19c.png\" alt=\"enter image description here\"></a></p>\n\n<p>The first segments to be joined are [3 4] and [5 8]. The two indexes point to 3 and 5 respectively (underlined in blue). The left index is incremented as long as the corresponding value is not greater than the value at the second index. In this case that means the first index reaches the second without any changes. For the second pair of segments, there is more work to do:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7TsPi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TsPi.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now [2 9] and [1 5] need to be merged. As 2 is greater than 1 the cycling operation kicks in: 1 has to be shifted in, pushing the 2 and 9 one position to the right. Both indexes are incremented. Now 2 is not greater than the other value (5), so only the first index is incremented. Finally, 9 is greater than 5, so they need to be swapped, and then the merge is complete for these segments.</p>\n\n<p>A similar sequence of operations is executed for the next pair of segments:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vethc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vethc.png\" alt=\"enter image description here\"></a></p>\n\n<p>The last \"pair\" of segments, really does not have a second segment: the second index points beyond the array end, so there the merge stops immediately.</p>\n\n<p>Again the outer loop iterates, doubling the segment size. Now the following has to be merged:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rq3JB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rq3JB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note how the 1 (at the second index) is shifted in before [3 4 5 8], which all move one position to the right to make room for it.\nThe same happens with the 2: it is shifted in before the same 4 values again.\nBut then we find that 3 is not greater than five, and the first index increments until it points to the 8. There the 5 is injected before the 8.\nFinally, 8 is not greater than 9 so the second index reaches the end point.</p>\n\n<p>I will not present the same for the other segment, and the final iteration of the outer loop, which will do one more merge.</p>\n\n<p>As you requested, I provide no code ;-)</p>\n\n<h3>Some considerations</h3>\n\n<p>Although this could be named a merge sort, the cycling of values really defeats the efficiency of the original algorithm in the worst case scenarios. True, the number of comparisons is still the same, but the number of moves can be more. Take for instance the values [3 4 5 8]  which are moved twice to make room for a moving 1 and moving 2. This already totals to 10 moves (and the merge in that step is not yet complete), while the original merge sort will always make the same number of moves as there are values in the segments that are being merged. In the better cases, this algorithm needs no movements at all, or fewer than the original algorithm.</p>\n\n<p>This method guarantees a <em>stable</em> sort.</p>\n"}, {"tags": [], "owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "is_accepted": false, "score": 0, "last_activity_date": 1507763695, "last_edit_date": 1507763695, "creation_date": 1507763245, "answer_id": 46698870, "question_id": 46695942, "link": "https://stackoverflow.com/questions/46695942/iterative-in-place-mergesort/46698870#46698870", "title": "iterative, In-place MergeSort", "body": "<p>You mention constant space and in place. </p>\n\n<p>If the in place merge sort doesn't have to be stable, you can swap elements instead of moving them between arrays. Do a merge sort on the left half of the array into the right half of the array, swapping the merged output with the right half of the array, so that the merged output ends up in the right half of the array, and what was in the right half of the array ends up swapped to the left half of the array, reordered (this is the unstable part) but unsorted.</p>\n\n<p>Merge sort the 2nd quarter into the 1st quarter of the array, so that the 1st quarter ends up with sorted data, the 2nd quarter ends up with reordered but unsorted data. Then merge the 1st quarter with the 2nd half of the array into the array starting at the beginning of the 2nd quarter again swapping during the merge operation. The last 3/4s of the array ends up sorted, and the first 1/4 array is reordered and unsorted.</p>\n\n<p>Merge sort 2nd eighth into 1st eighth, then merge sort 1st eighth with last 3/4 of the array, ending up with last 7/8 sorted and first 1/8 reordered but unsorted.</p>\n\n<p>Continue this until there is only one or two unsorted elements on the left. These can be put in place doing a partial insertion sort for the one or two elements.</p>\n\n<hr>\n\n<p>If using constant space and the merge sort needs to be stable, you can use bottom up merge sort, moving part of the array into the constant space, merge into the now freed space in the array, then repack the array to fill in the one or two gaps left behind by the merge process, and repeat until you reach the last remaining freed part of the array, at which point you can do a normal merge sort using the constant space and the freed part of the array. This completes one pass of the merge sort. </p>\n"}], "owner": {"reputation": 23, "user_id": 6283417, "user_type": "registered", "profile_image": "https://graph.facebook.com/1091179354261307/picture?type=large", "display_name": "Brandon Myers", "link": "https://stackoverflow.com/users/6283417/brandon-myers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1507820985, "creation_date": 1507749516, "last_edit_date": 1507760422, "question_id": 46695942, "link": "https://stackoverflow.com/questions/46695942/iterative-in-place-mergesort", "title": "iterative, In-place MergeSort", "body": "<p>For my algorithms class, we were tasked with writing a implementation of merge sort that is iterative instead of recursive, and in-place instead of requiring another array. Since this for a class, I don't want any code given to me, but I cannot figure out the basic algorithm of what to do. A google search doesn't give anything besides code, or explanations that I don't understand, so that isn't a help. </p>\n\n<p>What I currently understand to do is sort all the sub-arrays of size 1 (which is of course trivial), then merge those of size 2, size 4, and so on, but this seems much closer to insertion sort, and then there is the issue of how to use a constant amount of extra space.</p>\n\n<p>As a final note, I am not allowed to use any C++ standard library functions or classes, such as vectors, stacks, any of the sorts, etc.</p>\n"}, {"tags": ["c++", "preprocessor"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 5, "creation_date": 1507749216, "post_id": 46695855, "comment_id": 80339469, "body": "Simple solution - do not use preprocessor"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 1, "creation_date": 1507749279, "post_id": 46695855, "comment_id": 80339499, "body": "May I ask why you want to do this?"}, {"owner": {"reputation": 7273, "user_id": 2193968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1beed39f2b04409ff584a0af1d59325c?s=128&d=identicon&r=PG", "display_name": "Jerry Jeremiah", "link": "https://stackoverflow.com/users/2193968/jerry-jeremiah"}, "edited": false, "score": 0, "creation_date": 1507749372, "post_id": 46695855, "comment_id": 80339535, "body": "Pass I into a() as well?"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507749372, "post_id": 46695855, "comment_id": 80339536, "body": "No, there isn&#39;t. Why can&#39;t you define a with an argument?"}, {"owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "edited": false, "score": 0, "creation_date": 1507749392, "post_id": 46695855, "comment_id": 80339552, "body": "The <code>b</code> macro doesn&#39;t use its argument <code>i</code> at all. The <code>i+1</code> isn&#39;t being passed to the <code>a</code> macro, so it&#39;s not going to show up in the preprocessed code."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1507749395, "post_id": 46695855, "comment_id": 80339554, "body": "I don&#39;t see why this is downvoted. The question is well formulated, providing everything it needs. Not liking the question&#39;s subject matter is not a good reason for downvoting."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507749569, "post_id": 46695855, "comment_id": 80339633, "body": "@Fran&#231;oisAndrieux It&#39;s at least unclear, what the OP expects? The preprocessor just works as expected, there&#39;s nothing <i>&quot;strange&quot;</i> or weird in this case. That&#39;s why I down and close voted."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507754389, "post_id": 46695855, "comment_id": 80342063, "body": "What OP is going to use it for is unclear (and may be a bad idea). The question itself is in the upper percentile of question quality."}], "answers": [{"tags": [], "owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "is_accepted": true, "score": 4, "last_activity_date": 1507749545, "creation_date": 1507749545, "answer_id": 46695948, "question_id": 46695855, "link": "https://stackoverflow.com/questions/46695855/strange-behavior-of-a-macro-that-uses-another-macro/46695948#46695948", "title": "Strange behavior of a macro that uses another macro", "body": "<p>This set of macros produces the desired result.</p>\n\n<pre><code>#define a(i) [i]\n#define b(i) t a(i)\n</code></pre>\n\n<p>Example test.cpp</p>\n\n<pre><code>#define a(i) [i]\n#define b(i) t a(i)\n\nint main(){\n int t[10];\n int i=0;\n b(i+1)=1;\n}\n</code></pre>\n\n<p>Then using <code>g++ -E test.cpp</code> the output is:</p>\n\n<pre><code># 1 \"test.cpp\"\n# 1 \"&lt;built-in&gt;\"\n# 1 \"&lt;command-line&gt;\"\n# 1 \"/usr/include/stdc-predef.h\" 1 3 4\n# 1 \"&lt;command-line&gt;\" 2\n# 1 \"test.cpp\"\n\n\n\nint main(){\n int t[10];\n int i=0;\n t [i+1]=1;\n}\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 6401179, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/830fbde9f235db6d33ad04aadf4f2973?s=128&d=identicon&r=PG&f=1", "display_name": "Kaznov", "link": "https://stackoverflow.com/users/6401179/kaznov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 46695948, "answer_count": 1, "score": 3, "last_activity_date": 1507789128, "creation_date": 1507749165, "last_edit_date": 1507789128, "question_id": 46695855, "link": "https://stackoverflow.com/questions/46695855/strange-behavior-of-a-macro-that-uses-another-macro", "title": "Strange behavior of a macro that uses another macro", "body": "<p>I've got a question about macros in C++;</p>\n\n<p>My code:</p>\n\n<pre><code>#define a [i]\n#define b(i) t a\n\nint main(){\n int t[10];\n int i=0;\n b(i+1)=1;\n}\n</code></pre>\n\n<p>Wanted result after preprocessor does its job:</p>\n\n<pre><code>int main(){\n int t[10];\n int i=0;\n t[i+1]=1;\n}\n</code></pre>\n\n<p>Actual result:</p>\n\n<pre><code>int main(){\n int t[10];\n int i=0;\n t[i]=1;\n}\n</code></pre>\n\n<p>I understand what is happening, but is there any way I can force preprocessor to do what i want? (so first replace code in macro b, than interpret this code as part of macro?)</p>\n"}, {"tags": ["c++", "algorithm"], "comments": [{"owner": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507749864, "post_id": 46695818, "comment_id": 80339767, "body": "How is that A={1, 0, 1, 1} becomes 11 but B={0, 1} becomes 2?"}, {"owner": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "reply_to_user": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507749947, "post_id": 46695818, "comment_id": 80339807, "body": "They are in binary."}, {"owner": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507749990, "post_id": 46695818, "comment_id": 80339830, "body": "I know but shouldn&#39;t A be 13?"}, {"owner": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "reply_to_user": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507749994, "post_id": 46695818, "comment_id": 80339833, "body": "im just saying the remainder should be 1. And the quotient should be 6"}, {"owner": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "reply_to_user": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507750099, "post_id": 46695818, "comment_id": 80339879, "body": "yes that was a typo"}, {"owner": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "edited": false, "score": 0, "creation_date": 1507750247, "post_id": 46695818, "comment_id": 80339939, "body": "Can you please post the code for addBinary, pop_front and Subtract? I know perhaps they are trivial but it is safer to check them as well."}, {"owner": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "reply_to_user": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "edited": false, "score": 0, "creation_date": 1507750446, "post_id": 46695818, "comment_id": 80340032, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156496/discussion-between-a-mashreghi-and-riemann-bitcoin\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1465, "user_id": 1513773, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/gtUGB.jpg?s=128&g=1", "display_name": "A. Mashreghi", "link": "https://stackoverflow.com/users/1513773/a-mashreghi"}, "is_accepted": true, "score": 1, "last_activity_date": 1507754229, "creation_date": 1507754229, "answer_id": 46697106, "question_id": 46695818, "link": "https://stackoverflow.com/questions/46695818/binary-addition-algorithm/46697106#46697106", "title": "Binary addition algorithm", "body": "<p>When you divide BinaryA by 2, and try to call Division again, you have to return BinaryA to its original state so that you can verify if it was odd or not. \nSo, in these two cases:</p>\n\n<pre><code>else if(BinaryA==one){\nBinaryA[0]=0;\n}\nelse if(BinaryA.size()&gt;1)\npop_front(BinaryA);'\n</code></pre>\n\n<p>you have to keep the bit that is lost and restore it after the recursive Division has returned.</p>\n"}], "owner": {"reputation": 61, "user_id": 7537272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sTNBD.gif?s=128&g=1", "display_name": "Riemann-bitcoin.", "link": "https://stackoverflow.com/users/7537272/riemann-bitcoin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 46697106, "answer_count": 1, "score": -1, "last_activity_date": 1507754229, "creation_date": 1507748998, "last_edit_date": 1507750553, "question_id": 46695818, "link": "https://stackoverflow.com/questions/46695818/binary-addition-algorithm", "title": "Binary addition algorithm", "body": "<p>I am trying to implement a code from a standard quotient and remainder algorithm namely:</p>\n\n<pre><code>function divide(x,y)\n   if x=0: return (q,r)=(0,0)\n   (q,r)=divide(floor(x/2),y)\n   q=2*q, r=2*r\n   if x is odd: r=r+1\n   if r&gt;=y: r=r-y, q=q+1\n   return (q,r)\n</code></pre>\n\n<p>with a c++ code here is the relavent part of my function</p>\n\n<pre><code>bool compareVector(const vector&lt;int&gt; &amp;A, const vector&lt;int&gt; &amp;B){\n   if(A.size()&lt;B.size())\n      return(1==0);\n   if(A.size()&gt;B.size())\n      return(1==1);\n   for(int i=A.size()-1;i&gt;=0;i--){\n      if (A[i]&gt;B[i])\n         return(1==1);\n      if(A[i]&lt;B[i])\n         return(1==0);\n      }\n   return(1==1);\n}\n\nstruct QandR{\nvector&lt;int&gt; r;\nvector&lt;int&gt; q;\n};\n\n\nQandR Division(vector&lt;int&gt; BinaryA, const vector&lt;int&gt; &amp; BinaryB, QandR &amp;x){\n   vector&lt;int&gt; one, zero;\n   one.clear();\n   one.push_back(1);\n   zero.clear();\n   zero.push_back(0);\n\n   if(BinaryA==zero){\n     return x;\n   }\n   else if(BinaryA==one){\n      BinaryA[0]=0;\n   }\n   else if(BinaryA.size()&gt;1)\n      pop_front(BinaryA);\n   x=Division(BinaryA,BinaryB,x);\n   x.q=addBinary(x.q,x.q);\n   x.r=addBinary(x.r,x.r);\n   if(BinaryA[0]==1)\n      x.r=addBinary(x.r,one);\n   if(compareVector(x.r,BinaryB))\n   {\n      x.r=Subtract(x.r,BinaryB);\n      x.q=addBinary(x.q,one);\n   }\n      return x;\n}\n</code></pre>\n\n<p>However this simply does not work for example with BinaryA={1,0,1,1} and BinaryB={0,1}.  This is 13/2 so q should be {0,1,1}, and r should be {1}.  But my code out puts r={1} and q={0,1}.  I don't understand what is going on.  All functions that are used above that are not defined work.  Also,  is there a easier way to return two values in c++ if there is I would be grateful to know. Thank you.</p>\n\n<p>Add is the whole code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt; //this is only used for the user to insert a number\n#include &lt;stdlib.h&gt; //this is used to convert the user iputed string to a vector\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nvoid CleanArray(vector&lt;int&gt; &amp; Array){           //CleanArray() is mainly for the Multiply function where we need to keep removing the enteries \n   for(int i=0;i&lt;Array.size();i++){ \n      Array[i]=0;         //of a vector&lt;int&gt; Array. And then I clean some of the other struct vector&lt;int&gt;'s for saft\n}\n\n}\n\n\n\n\n\n\n    vector&lt;int&gt; addBinary(vector&lt;int&gt; A,vector&lt;int&gt; B){             //addBinary() adds two struct vector&lt;int&gt;'s and returns a new struct vector&lt;int&gt;\n        vector&lt;int&gt; C;      // C is our carry array but we take advantage of the fact that after we carry to a new column we nolonger need the old one so we \n            // can also use C to store our answere.\n\n        C.assign(A.size()+1,0);\n        CleanArray(C);\n        for(int i=0; i&lt;B.size();i++){       //Case 1 we are adding the first part where we are adding columns and we still have vector&lt;int&gt; A and vector&lt;int&gt; B\n            if(C[i]+B[i]+A[i]==3){  \n                C[i]=1;\n                C[i+1]=1;\n            }\n            else if(B[i]+A[i]+C[i]==2){ \n              C[i]=0;   \n             C[i+1]=1;\n            }\n            else if(B[i]+ A[i]+C[i] ==1){\n                C[i]=1; \n                 }\n\n\n        }\n\n        for(int i=B.size();i&lt;A.size();i++){ //Case 2 we adding where vector&lt;int&gt; B has been exasted and we only have vector&lt;int&gt; A and vector&lt;int&gt; C.\n            if(C[i]+A[i]==2){\n             C[i]=0;\n                C[i+1]=1;\n            }\n            else if(A[i]==1){\n                C[i]=1;\n            }\n       } //                    this is fine but not necessary. \n\n    if(C[C.size()-1]==0)    // We want to change C's member length_a if the aswere is one bigger then the size of A.size().  \n       C.pop_back();\n        return C;\n    }\n\n    vector&lt;int&gt; Subtract(vector&lt;int&gt; A, vector&lt;int&gt; B){             // this function is almost exactly the same as Multiply() using a vector&lt;int&gt; C to hold the value of A-B\n        vector&lt;int&gt; C;\n        C.assign(A.size(),0);\n        CleanArray(C);\n    //   reverse(B.begin(), B.end());\n       for(int i=A.size()-B.size();i&gt;0;i--)\n          B.push_back(0);\n    // reverse(B.begin(), B.end());\n        for(int i=A.size()-1;i&gt;=0;i--){\n            if((A[i]+B[i])==2)\n                C[i]=0;\n            else if(A[i]==1 &amp;&amp; B[i]==0)\n                C[i]=1;\n            else if(B[i]==1 &amp;&amp; A[i]==0){\n                C[i]=1;\n                int j=0;\n                int k=i+1;\n                while(j==0){            //we need this while loop bc when we have 0-1 this changes all values of \n                    if(C[k]==1){        //C[i+1] to the next C[]==1, changing all of those to 1 so ex 1000-1=0111\n                        C[k]=0;\n                        j++;\n                    }\n                    else if(C[k]==0){\n                        C[k]=1;\n                        k++;\n                    }   \n    //              if(i==C.size()-1 &amp;&amp; C.size()&gt;1) // this removes the zero's in front of the numberso the answer is not like 001 but 1. \n      //             C.pop_back();  \n                }\n            }\n        //  else           this was the problem with subtraciton \n        //      C[i]=0;   \"\"   \"    \"     \"     \"         \"\n        }  \n       int i=C.size()-1;\n       while(C[i]==0 &amp;&amp; i!=0){\n          C.pop_back();\n          i--;\n       }\n\n        return C;\n    }\n\n\n\n\n    vector&lt;int&gt; Multiply(const vector&lt;int&gt; &amp; A, const vector&lt;int&gt; &amp;B){ // This also uses the concept of having a vector&lt;int&gt; C to store the values of the succesive additions of the rows\n        vector&lt;int&gt; C;\n        C.assign(A.size(),0);\n        for(int j=0;j&lt;B.size();j++){\n          vector&lt;int&gt; D;\n          D.assign(A.size(),0);\n            for(int i=0;i&lt;A.size();i++){\n             if(B[j]==1)                    \n                    D[i]=A[i];\n               // this makes a new row if B[j]==1 so if 1110101*1=1110101(0...0) there are j zero's in\n          }\n          D.insert(D.begin(),j,0); \n            C=addBinary(D,C);           //this adds the pervious value of C with the next row.\n       }      \n         return C;\n\n    }\n\n\n    void pop_front(vector&lt;int&gt; &amp; A){\n\n       reverse(A.begin(),A.end());\n       A.pop_back();\n       reverse(A.begin(),A.end());\n\n    }\n\n    bool compareVector(const vector&lt;int&gt; &amp;A, const vector&lt;int&gt; &amp;B){\n       if(A.size()&lt;B.size())\n          return(1==0);\n       if(A.size()&gt;B.size())\n          return(1==1);\n       for(int i=A.size()-1;i&gt;=0;i--){\n          if (A[i]&gt;B[i])\n             return(1==1);\n          if(A[i]&lt;B[i])\n             return(1==0);\n          }\n       return(1==1);\n    }\n\n    struct QandR{\n    vector&lt;int&gt; r;\n    vector&lt;int&gt; q;\n    };\n\n\n    QandR Division(vector&lt;int&gt; BinaryA, const vector&lt;int&gt; &amp; BinaryB, QandR &amp;x){\n       vector&lt;int&gt; one, zero;\n       one.clear();\n       one.push_back(1);\n       zero.clear();\n       zero.push_back(0);\n\n       if(BinaryA==zero){\n         return x;\n       }\n       else if(BinaryA==one){\n          BinaryA[0]=0;\n       }\n       else if(BinaryA.size()&gt;1)\n          pop_front(BinaryA);\n       x=Division(BinaryA,BinaryB,x);\n       x.q=addBinary(x.q,x.q);\n       x.r=addBinary(x.r,x.r);\n       if(BinaryA[0]==1)\n          x.r=addBinary(x.r,one);\n       if(compareVector(x.r,BinaryB))\n       {\n          x.r=Subtract(x.r,BinaryB);\n          x.q=addBinary(x.q,one);\n       }\n          return x;\n    }\n\n\n    /*\n    vector&lt;int&gt; modexp(vector&lt;int&gt; x,vector&lt;int&gt; y, vector&lt;int&gt; N){\n       vector&lt;int&gt; one;\n       vector&lt;int&gt; r;\n       vector&lt;int&gt; q;\n       one.push_back(0);\n       if(y.size()==1 &amp;&amp; y[1]==0)\n          return one;\n       y.pop_back();\n       vector&lt;int&gt; z=modexp(x,y,N);\n       if(y[0]==1){\n          vector&lt;int&gt; D=Multiply(z,z);\n          Division(D,N,q,r);\n          z=q;\n          return z;\n       }\n       else{\n          vector&lt;int&gt; C =Multiply(Multiply(z,z),x);\n          Division(C,N,q,r);\n          z=q;\n          return z;\n       }\n\n    }\n    */\n    int main(){\n\n       int arraya[4]={1,1,0,1};\n       int arrayb[2]={1,1};\n       vector&lt;int&gt; a(arraya,arraya+4);\n       vector&lt;int&gt; b(arrayb,arrayb+2);\n       for(int i=0;i&lt;a.size();i++){\n          cout&lt;&lt;a[i]&lt;&lt;\" \";\n       }\n       cout&lt;&lt;endl;\n       pop_front(a);\n       for(int i=0;i&lt;a.size();i++)\n          cout&lt;&lt;a[i]&lt;&lt;\" \";\n       cout&lt;&lt;endl;\n       QandR x;\n       x.r.clear();\n       x.q.clear();\n       x.r.push_back(0);\n       x.q.push_back(0);\n       x=Division(a,b,x); \n       for(int i=0;i&lt;x.r.size();i++){\n          cout&lt;&lt;x.r[i]&lt;&lt;\" \";\n       }\n       cout&lt;&lt;endl;\n       for(int i=0;i&lt;x.q.size();i++)\n          cout&lt;&lt;x.q[i]&lt;&lt;\" \";\n       cout&lt;&lt;endl;\n       return 0;\n    }\n</code></pre>\n"}, {"tags": ["c++", "arrays"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507749265, "creation_date": 1507749265, "answer_id": 46695874, "question_id": 46695812, "link": "https://stackoverflow.com/questions/46695812/summing-2d-array-columns-in-c/46695874#46695874", "title": "Summing 2D array columns in c++", "body": "<p>You're not declaring your array size properly. When you create the array n and m aren't set yet. You need to determine their size first. And even then you have to pass in constants to an array because arrays in C++ cannot be dynamically sized. If you want the user to determine container size like this then use a vector of vectors. Arrays are to be used when you know the size from the beginning of the program.</p>\n"}, {"tags": [], "owner": {"reputation": 2221, "user_id": 7359810, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-8MngnLBsx3E/AAAAAAAAAAI/AAAAAAAAetc/OsGMMV3Set4/photo.jpg?sz=128", "display_name": "Neha", "link": "https://stackoverflow.com/users/7359810/neha"}, "is_accepted": false, "score": 0, "last_activity_date": 1507749293, "creation_date": 1507749293, "answer_id": 46695884, "question_id": 46695812, "link": "https://stackoverflow.com/questions/46695812/summing-2d-array-columns-in-c/46695884#46695884", "title": "Summing 2D array columns in c++", "body": "<p>According to the code shown above:\nYou are mistaking while taking the iputs. Try this:</p>\n\n<pre><code>for(i=0; i&lt;n; i++)\n{\n    for(ii=0; ii&lt;n; ii++)\n    {\n        cout&lt;&lt;\"row \"&lt;&lt;i+1&lt;&lt;\" column \"&lt;&lt;ii+1&lt;&lt;endl;\n        cin&gt;&gt;array[i][ii];\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507750092, "post_id": 46695989, "comment_id": 80339874, "body": "<code>int array[n][m];</code> depends strongly on the compiler supporting a Variable Length Array extension. The input <code>cin &gt;&gt; n;</code> allows the user to input nonsense like &quot;flooblatu&quot; for fun with undefined behaviour."}, {"owner": {"reputation": 478, "user_id": 5810912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/il66y.jpg?s=128&g=1", "display_name": "imerso", "link": "https://stackoverflow.com/users/5810912/imerso"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507750230, "post_id": 46695989, "comment_id": 80339932, "body": "I tried to keep his own weird structure, as I see that he is just beginning and has no idea what he is doing."}, {"owner": {"reputation": 11, "user_id": 8761009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158c16c121f51b7b8492095fe1969d34?s=128&d=identicon&r=PG&f=1", "display_name": "Mati", "link": "https://stackoverflow.com/users/8761009/mati"}, "edited": false, "score": 0, "creation_date": 1507751927, "post_id": 46695989, "comment_id": 80340855, "body": "Thanks,  it seems to be working now. I just wanted it to run on dev 4.9.9.2."}], "tags": [], "owner": {"reputation": 478, "user_id": 5810912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/il66y.jpg?s=128&g=1", "display_name": "imerso", "link": "https://stackoverflow.com/users/5810912/imerso"}, "is_accepted": true, "score": 0, "last_activity_date": 1507750175, "last_edit_date": 1507750175, "creation_date": 1507749731, "answer_id": 46695989, "question_id": 46695812, "link": "https://stackoverflow.com/questions/46695812/summing-2d-array-columns-in-c/46695989#46695989", "title": "Summing 2D array columns in c++", "body": "<p>There are quite a few errors on your code, and it has quite a weird structure, but trying not to change it too much (so it's still easy for you to follow the fixes), let's see it fixed then I'll explain it (please note that this version will compile and run in practice):</p>\n\n<pre><code> #include &lt;iostream&gt;\n using namespace std;\n\n int main()\n {\n     int i, ii, n, m, sum;\n\n     cout &lt;&lt; \"no. of rows\" &lt;&lt; endl;\n     cin &gt;&gt; n;\n     cout &lt;&lt; \"no. of columns\" &lt;&lt; endl;\n     cin &gt;&gt; m;\n\n     int array[n][m];\n\n     for (i=0; i&lt;n; i++)\n     {\n         for (ii=0; ii&lt;m; ii++)\n         {\n             cout &lt;&lt; \"row \" &lt;&lt; i+1 &lt;&lt; \" column \" &lt;&lt; ii+1 &lt;&lt; endl;\n             cin &gt;&gt; array[i][ii];\n         }\n     }\n\n     sum=0;\n\n     for (i=0; i&lt;n; i++)\n     {\n         for (ii=0; ii&lt;m; ii++)\n         {\n             sum += array[i][ii];\n         }\n     }\n\n     cout &lt;&lt; \"Sum: \" &lt;&lt; sum &lt;&lt; endl;\n }\n</code></pre>\n\n<p>Ok, so, first, you should only declare the array <em>after</em> you know what \"n\" and \"m\" variables are. Edit: also, not all compilers will accept declaring the dynamic array that way, but again, I tried to keep your original structure as much as possible.</p>\n\n<p>Second, in your input loop, you should index the array by \"i\" and \"ii\", but you were always indexing by \"n\" and \"m\", that is, only writing to the latest index, which would even cause an exception.</p>\n\n<p>Last, while summing, again you should use \"i\" and \"ii\" as array indices, so you correctly scan the array.</p>\n\n<p>And that is it.</p>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 7310722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/81SrE.jpg?s=128&g=1", "display_name": "Edgar", "link": "https://stackoverflow.com/users/7310722/edgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507750223, "last_edit_date": 1507750223, "creation_date": 1507749905, "answer_id": 46696019, "question_id": 46695812, "link": "https://stackoverflow.com/questions/46695812/summing-2d-array-columns-in-c/46696019#46696019", "title": "Summing 2D array columns in c++", "body": "<p>You are initializing the 2D array in a wrong way, you need to define the size first, m and n are not initalized when declaring the array. </p>\n\n<p>On C++ using containers like vector is better. </p>\n\n<p>You also had a error in the input code (2 n instead of n and m in the for loop).</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nint main()\n{\n    int rows, cols, sum = 0;\n\n    std::vector&lt;std::vector&lt;int&gt;&gt; array;\n\n    cout &lt;&lt; \"No. of rows: \";\n    cin &gt;&gt; rows;\n    cout &lt;&lt; \"No. of columns: \";\n    cin &gt;&gt; cols;\n\n    for(int i = 0; i&lt; rows; i++)\n    {\n        std::vector&lt;int&gt; v;\n        for(int j = 0; j &lt; cols; j++)\n        {\n            cout &lt;&lt; \"Value for row \" &lt;&lt; i + 1 &lt;&lt; \" and column \"&lt;&lt; j + 1 &lt;&lt; \": \";\n            int val;\n            cin &gt;&gt; val;\n            v.push_back(val);\n        }\n        array.push_back(v);\n    }\n\n\n    for (auto i: array)\n    {\n        for(auto j: i)\n        {\n            sum += j;\n        }\n    }\n\n    cout &lt;&lt; \"The sum is: \" &lt;&lt; sum &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8761009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158c16c121f51b7b8492095fe1969d34?s=128&d=identicon&r=PG&f=1", "display_name": "Mati", "link": "https://stackoverflow.com/users/8761009/mati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3105, "favorite_count": 0, "closed_date": 1507775545, "accepted_answer_id": 46695989, "answer_count": 4, "score": -3, "last_activity_date": 1507750223, "creation_date": 1507748951, "question_id": 46695812, "link": "https://stackoverflow.com/questions/46695812/summing-2d-array-columns-in-c", "closed_reason": "Needs details or clarity", "title": "Summing 2D array columns in c++", "body": "<p>I want to sum up columns of a predefined 2 D array, but my code seems not to work. E. g. for a 2D array with rows 2 3 and 4 5\nI am getting following column sums:\n-117393687 and -113194156</p>\n\n<p>Here is the part of my code where I sum up the columns:</p>\n\n<pre><code>//sum columns\nfor(i=0; i&lt;m; i++)\n{\n    for(ii=0; ii&lt;m; ii++)\n    {\n    sum += myarray[i][ii];\n    }\ncout &lt;&lt;\"column sum:  \"&lt;&lt;sum&lt;&lt;endl;\n{\n</code></pre>\n\n<p>Rest of my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main()\n{\n    int i, ii, n, m, sum;\n    int array[n][m];\n\n    sum=0;\n\n    cout &lt;\"no. of rows\"&lt;&lt;endl;\n    cin&gt;&gt;n;\n    cout &lt;\"no. of columns\"&lt;&lt;endl;\n    cin&gt;&gt;m;\n\n    for(i=0; i&lt;n; i++)\n    {\n        for(ii=0; ii&lt;n; ii++)\n        {\n            cout&lt;&lt;\"row \"&lt;&lt;i+1&lt;&lt;\" column \"&lt;&lt;ii+1&lt;&lt;endl;\n            cin&gt;&gt;array[n][m];\n        }\n    }\n}\n\n//sum columns\nfor(i=0; i&lt;m; i++)\n{\n    for(ii=0; ii&lt;m; ii++)\n    {\n    sum += myarray[i][ii];\n    }\ncout &lt;&lt;\"column sum:  \"&lt;&lt;sum&lt;&lt;endl;\n{\n</code></pre>\n"}, {"tags": ["c++", "performance", "profiling", "allocation"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1507749055, "post_id": 46695795, "comment_id": 80339402, "body": "<i>I tested that both compiling with Visual Studio 2015 under Windows 10 64bits and also compiling with G++ under Unix.</i>  -- You didn&#39;t post the optimization settings you used when you compiled the code.  If you&#39;re timing unoptimized (i.e. debug mode) code, your results are meaningless.  This is especially the case for the Visual Studio version, where iterator checks are done in debug mode."}, {"owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1507749623, "post_id": 46695795, "comment_id": 80339655, "body": "@PaulMcKenzie Thanks for your comment. No, I am not compiling in Debug mode. I am compiling in Release 64bits mode. In Unix, I simply compiled with <code>g++ -o test test.cpp</code>. I edited the question to add these info."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1507749710, "post_id": 46695795, "comment_id": 80339698, "body": "You need to specify one of the optimization flags, i.e. <code>-O2</code> or <code>-O3</code>."}, {"owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1507750245, "post_id": 46695795, "comment_id": 80339938, "body": "@PaulMcKenzie Yeap, it does work as expected if I do <code>g++ -o test test.cpp -O2</code> or the same with <code>-O3</code>. Could you give me any insights on why is that needed in this particular case? I mean, why is it that avoiding memory allocation/deallocation is not cheaper from the get go, without the <b>need</b> for compiler optimization? More than to solve the situation, I actually am looking for understanding it. Thanks!"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 2, "creation_date": 1507751000, "post_id": 46695795, "comment_id": 80340338, "body": "@user - Without optimizations you tell the compiler &quot;Please don&#39;t make this run fast&quot;. Then it is pretty uninteresting just <i>how</i> un-fast it is running. It&#39;s like having Usain Bolt walk slowly 100m."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 1, "creation_date": 1507751803, "post_id": 46695795, "comment_id": 80340784, "body": "@user2019840: In addition to what I said in my answer, your recursion is exponential; with <code>sz</code> as 10 million, it recurses a couple of dozen times. Since the cost of memory allocation is not related to the size of the allocation (unless the allocated memory is being cleared, which in this case it is not), 24 allocations will almost always have trivial impact relative to the ten-million iteration loop."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4842163"}, "edited": false, "score": 0, "creation_date": 1515065467, "post_id": 46695795, "comment_id": 83163093, "body": "@user2019840 Without the optimization <code>vector</code> would often significantly be slower than a plain old array just to do things like use <code>operator[]</code> since it might not be inlined, e.g. If it&#39;s a debug build then it can be considerably slower since it can do things like bounds checking in those functions for safety. Also on top of what <code>rici</code> pointed out with heap allocation being relatively a negligible overhead in this case, you&#39;re using a size of <code>sz = 100000</code>...."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4842163"}, "edited": false, "score": 0, "creation_date": 1515065504, "post_id": 46695795, "comment_id": 83163116, "body": "Where you generally get the biggest bang using the stack or memory already allocated in advance is when you&#39;re doing very light work in each function call on very teeny arrays, like say, 64 elements or less. A heap allocation is going to be relatively trivial in most cases where your input sizes are in the range of 100k. Heap allocations become expensive if you are allocating, say, teeny dynamic arrays containing 4-10 elements each a billion times over while doing very light processing."}], "answers": [{"comments": [{"owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "edited": false, "score": 0, "creation_date": 1507752382, "post_id": 46696037, "comment_id": 80341089, "body": "Many thanks. Rather then trying to do any premature optimization, I am actually trying to understand how these things work. Your answer was quite insightful. So, about your postscript, I then tried to run the code without optimizations, but making the <code>buffer</code> be a dynamic array instead of a vector. The same thing happens: both functions then run in roughly the same time, sometimes the one with the buffer even is slower. So I guess the origin of the need for optimizations in this particular case might be somewhere else - for instance in what you&#39;d suggested in the comments to my question"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "edited": false, "score": 0, "creation_date": 1507752933, "post_id": 46696037, "comment_id": 80341350, "body": "@user2019840: really, the only way to get a good handle on the differences is to examine the code produced by the compiler(s). And even then, you might not see anything obvious, because tiny differences in code generation can affect loop timings. (Even the cache-line alignment of the loop code itself.) The suggestion about <code>std::vector</code> is based on what I&#39;ve seen in certain compilers (the access is compiled to a function call rather than being inlined unless optimization is enabled) but it is hardly universal. (Probably nothing is :) )"}], "tags": [], "owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "is_accepted": true, "score": 3, "last_activity_date": 1507750482, "last_edit_date": 1507750482, "creation_date": 1507749951, "answer_id": 46696037, "question_id": 46695795, "link": "https://stackoverflow.com/questions/46695795/why-avoiding-memory-allocation-deallocation-in-a-recursive-code-like-this-is-not/46696037#46696037", "title": "Why avoiding memory allocation/deallocation in a recursive code like this is not saving run time?", "body": "<p>You are assuming that dynamic allocation <em>must be expensive</em>. You need to re-examine that prejudgement.</p>\n\n<p>Microbenchmarks like this won't reveal the cost of memory allocation because the use case is pretty well optimal. You are always allocating a single buffer of the same size and immediately freeing it before another allocation request is made. Any decent memory allocation library will just give you the same memory every time, taking it from the cache of recently released allocations of the desired size. The code path is very short.</p>\n\n<p>But even in realistic benchmarks, you will discover the result of generations of very talented programmers having worked very hard to optimise memory allocation for your benefit, so that you can use dynamic allocation without having to waste your time with premature optimisations.</p>\n\n<hr>\n\n<p>As a small postscript, microbenchmarking without enabling optimization can produce other incongruities. For example, unoptimized element access in a <code>std::vector&lt;int&gt;</code> might turn out to be significantly slower than element access in a simple array of <code>int</code>s. This difference might be sufficient to completely overshadow the slight cost of a few dynamic allocations.</p>\n"}, {"comments": [{"owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "edited": false, "score": 0, "creation_date": 1507774702, "post_id": 46699446, "comment_id": 80347961, "body": "Pretty odd line of reasoning. 1) if you mean that because I don&#39;t know the reason for the time difference then I made a guess, it makes no sense: of course I don&#39;t know what accounts or the time, that is what I asked  - I made no guesses about that. 2) if you are saying that I measured time wrongly, it is different from saying I guessed - it just means I did it wrong. In any case, I really appreciate you pointing to that post where you explain sampling profiling. I have read that before and even applied it in the past. Thanks for reminding me of it, even if it doesn&#39;t answer my question per se"}, {"owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "reply_to_user": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "edited": false, "score": 0, "creation_date": 1507835601, "post_id": 46699446, "comment_id": 80380759, "body": "@user2019840: The guess is that memory allocation is the problem."}, {"owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "edited": false, "score": 0, "creation_date": 1507861242, "post_id": 46699446, "comment_id": 80389723, "body": "But you see,  I wasn&#39;t blaming memory allocations for a code being slow; I was actually trying to understand why their absence didn&#39;t make things faster. These are not necessarily the same questions. Anyhow, assuming that memory allocations/deallocations, by definition, are <i>ceteris paribus</i> more expensive than not doing memory allocations/deallocations, is not a guess, it is a trivial matter of fact. The issue, as others have pointed, might be that optimizations done by the compiler can easily compensate for that and make the implementation with mem allocations/deallocations still faster"}], "tags": [], "owner": {"reputation": 38606, "user_id": 23771, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/NeuGc.jpg?s=128&g=1", "display_name": "Mike Dunlavey", "link": "https://stackoverflow.com/users/23771/mike-dunlavey"}, "is_accepted": false, "score": 0, "last_activity_date": 1507767319, "creation_date": 1507767319, "answer_id": 46699446, "question_id": 46695795, "link": "https://stackoverflow.com/questions/46695795/why-avoiding-memory-allocation-deallocation-in-a-recursive-code-like-this-is-not/46699446#46699446", "title": "Why avoiding memory allocation/deallocation in a recursive code like this is not saving run time?", "body": "<p>You're saying \"I tried this and I got a confusing time result\".</p>\n\n<p>That means you don't actually know what accounts for the time.\nIf you don't know what accounts for the time, what you did is guess.\n<em>Even a good guess is still a guess, and guesses, by their nature, can deceive.</em></p>\n\n<p><a href=\"https://stackoverflow.com/a/378024/23771\"><em>This technique</em></a> costs nothing, is super easy, and tells you exactly what takes time. No guesswork.</p>\n"}], "owner": {"reputation": 367, "user_id": 2019840, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1e9d91a2be13694b8a4c53dace014114?s=128&d=identicon&r=PG", "display_name": "RAs", "link": "https://stackoverflow.com/users/2019840/ras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 46696037, "answer_count": 2, "score": 0, "last_activity_date": 1507767319, "creation_date": 1507748897, "last_edit_date": 1507749763, "question_id": 46695795, "link": "https://stackoverflow.com/questions/46695795/why-avoiding-memory-allocation-deallocation-in-a-recursive-code-like-this-is-not", "title": "Why avoiding memory allocation/deallocation in a recursive code like this is not saving run time?", "body": "<p>Suppose that one has a function <code>foo_with_mem_allocs</code> that operates by recursion over a vector of ints, such that it needs to allocate/delete a buffer array in at every recursion step (similar to what a merge_sort algorithm would do):</p>\n\n<pre><code>void foo_with_mem_allocs(vector&lt;int&gt;&amp; v, int c)\n{\n    if (c &gt; 1)\n    {\n        c /= 2;\n        foo_with_mem_allocs(v, c);\n\n        int *buffer = new int[v.size()];\n        for (int i = 0; i &lt; v.size(); i++)\n        {\n            buffer[i] = v[i];\n        }\n\n        for (int j = 0; j &lt; c; j++)\n            v[j] = buffer[j] * c;\n\n        delete[] buffer;\n    }\n}\n</code></pre>\n\n<p>Now suppose that one wants to avoid the cost of allocating/deleting the array buffer by passing the buffer to the function. My immediate idea was to implement a copy of that same function above, with a minor modification:</p>\n\n<pre><code>void foo_with_buffer(vector&lt;int&gt;&amp; v, int c, vector&lt;int&gt;&amp; buffer)\n{\n\n    if (c &gt; 1)\n    {\n        c /= 2;\n        foo_with_buffer(v, c, buffer);\n\n        for (int i = 0; i &lt; v.size(); i++)\n        {\n            buffer[i] = v[i];\n        }\n\n        for (int j = 0; j &lt; c; j++)\n            v[j] = buffer[j] * c;\n    }\n}\n</code></pre>\n\n<p>I would expect <code>foo_with_buffer</code> to be significantly faster than <code>foo_with_mem_allocs</code>. However, when I run test cases and profile them, what I get is actually that they both take roughly the same amount of time to run for any given size of <code>v</code> and any given value of <code>c</code>. Quite often, the version with the buffer even runs slower:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8ce49.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8ce49.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would really love to understand why the version without many memory allocations and deallocations is not going faster as I think it should. IF it helps, I tested that both compiling with Visual Studio 2015 (in Release mode, 64bits) under Windows 10 64bits and also compiling with G++ under Unix with <code>g++ -o test test.cpp</code> (where test.cpp is obviously the name of the file I put the whole code in). The picture above with an example of results is from a run under Unix.</p>\n\n<p>Below you can find the entire code, including the profiling test, in a directly reproducible format:</p>\n\n<pre><code>//////////////////////////////////////////////////////////////////////////////\n\n#include &lt;iostream&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt;\n#include &lt;vector&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\n\nvoid foo_with_mem_allocs(vector&lt;int&gt;&amp; v, int c) {\n\n    if (c &gt; 1)\n    {\n        c /= 2;\n        foo_with_mem_allocs(v, c);\n\n        int *buffer = new int[v.size()];\n        for (int i = 0; i &lt; v.size(); i++)\n        {\n            buffer[i] = v[i];\n        }\n\n        for (int j = 0; j &lt; c; j++)\n            v[j] = buffer[j] * c;\n\n        delete[] buffer;\n    }\n}\nvoid foo_with_buffer(vector&lt;int&gt;&amp; v, int c, vector&lt;int&gt;&amp; buffer) {\n\n    if (c &gt; 1)\n    {\n        c /= 2;\n        foo_with_buffer(v, c, buffer);\n\n        for (int i = 0; i &lt; v.size(); i++)\n        {\n            buffer[i] = v[i];\n        }\n\n        for (int j = 0; j &lt; c; j++)\n            v[j] = buffer[j] * c;\n    }\n}\n\nint main(int argc, char** argv) {\n\n    // setting a random seed using clock\n    srand(time(NULL));\n    // print out header of output information\n    cout &lt;&lt; \"Size\\tMethod\\t\\t\\tTicks\\tSecs\" &lt;&lt; endl;\n    // iterate over possible input data sizes specified in the arguments.\n    int sz = 100000;\n    vector&lt;int&gt; v(sz);\n    vector&lt;int&gt; v1(sz);\n    vector&lt;int&gt; v2(sz);\n    vector&lt;int&gt; buffer(sz);\n\n    for (int i = 0; i &lt; sz; ++i)\n        v[i] = v1[i] = v2[i] = rand();\n\n    // timing foo that does a bunch of memory allocations/deallocations\n    clock_t t = clock();\n    foo_with_mem_allocs(v1, sz);\n    t = clock() - t;\n    cout &lt;&lt; sz &lt;&lt; \"\\tWith mem alloc\\t\\t\" &lt;&lt; t &lt;&lt; \"\\t\"\n        &lt;&lt; (double)t / CLOCKS_PER_SEC &lt;&lt; endl;\n    // timing foo that uses buffers to avoid memory allocations/deallocations\n    t = clock();\n    foo_with_buffer(v2, sz, buffer);\n    t = clock() - t;\n    cout &lt;&lt; sz &lt;&lt; \"\\tWith buffer\\t\\t\" &lt;&lt; t &lt;&lt;\n        \"\\t\" &lt;&lt; (double)t / CLOCKS_PER_SEC &lt;&lt; endl;\n\n    bool changed = false;\n    for (int i = 0; i &lt; v1.size(); i++)\n        if (v1[i] != v2[i])\n            changed = true;\n    if (changed)\n        std::cout &lt;&lt; \"Note: results from the two functions were different.\\n\" &lt;&lt; std::endl;\n    else\n        std::cout &lt;&lt; \"Note: results from the two functions were identical.\\n\" &lt;&lt; std::endl;\n    return 0;\n}\n///////////////////////////////////////////////////////////////////////////////\n</code></pre>\n"}, {"tags": ["c++", "arrays", "recursion"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1507749539, "post_id": 46695719, "comment_id": 80339618, "body": "Odd. I get nothing. Linker&#39;s whining about an undefined reference to main."}], "answers": [{"tags": [], "owner": {"reputation": 344, "user_id": 687898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d555c5e1a264b24289d73045ada58f2?s=128&d=identicon&r=PG", "display_name": "Chintan", "link": "https://stackoverflow.com/users/687898/chintan"}, "is_accepted": false, "score": 1, "last_activity_date": 1507755235, "creation_date": 1507755235, "answer_id": 46697375, "question_id": 46695719, "link": "https://stackoverflow.com/questions/46695719/return-subsets-of-an-array-using-recursion-c/46697375#46697375", "title": "return subsets of an array using recursion c++", "body": "<p>Your base case is incorret. It has to represent an empty array. Not sure if you can do this using native array data structure.</p>\n\n<p>In general, there are multiple ways to solve the \"all subsets\" (or \"all combinations\" problem). Google for \"all combinations of a set\" (and the related \"all permutations of a list\") for other ways.</p>\n\n<p>These types of problems have exponential complexity (for permutations it is factorial complexity), so be careful with your input size of N.</p>\n\n<p>You have the correct idea, but are missing stuff since you are using native arrays. Since you've tagged C++, it will make life much easier if you use STL.</p>\n\n<p>Here is one way to do it recursively:</p>\n\n<pre><code>vector&lt;vector&lt;int&gt; &gt; AllCombinations(vector&lt;int&gt; input) {\n  //base case\n  if(0 == input.size()) {\n    //1 element of empty/null set\n    return vector&lt;vector&lt;int&gt; &gt;(1, vector&lt;int&gt;());\n  }\n  //recursion case\n  const int last = input.back();\n  input.pop_back();\n  vector&lt;vector&lt;int&gt; &gt; result = AllCombinations(input);\n  result.reserve(result.size() * 2);\n  //add last element to previous result\n  const size_t resultSize = result.size();\n  for(size_t i = 0; i &lt; resultSize; ++i) {\n    vector&lt;int&gt; tmp = result[i];\n    tmp.push_back(last);\n    result.push_back(tmp);\n  }\n  return result;\n}\n</code></pre>\n\n<p>Complexity: <strong>O(2^N)</strong></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8294431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UKm-VLyPzCs/AAAAAAAAAAI/AAAAAAAAAcs/kDMKUR87ECA/photo.jpg?sz=128", "display_name": "shivam sharma", "link": "https://stackoverflow.com/users/8294431/shivam-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1555775538, "last_edit_date": 1555775538, "creation_date": 1552681433, "answer_id": 55190166, "question_id": 46695719, "link": "https://stackoverflow.com/questions/46695719/return-subsets-of-an-array-using-recursion-c/55190166#55190166", "title": "return subsets of an array using recursion c++", "body": "<p>There is no need to use Si variable. Given below is the correct code. I'm assuming null value as 0 and storing the size of each row (i.e subset) at column 0, so the result starts from column 1 for every row.</p>\n\n<pre><code>int subset(int input[], int n, int output[][20]) {\n    // Write your code here\n if(n&lt;=0) {\n      output[0][0]=0;\n      return 1;\n  }\n\n  int smallOutput = subset(input+1,n-1,output);\n  for(int i=0;i&lt;smallOutput;i++) {\n      int col = output[i][0] +1;\n     output[i+smallOutput][0] = col;\n       output[i+smallOutput][1] = input[0];\n      for(int j=2; j&lt;col+1;j++) {\n        output[i+smallOutput][j] = output[i][j-1];\n      }\n\n  }\n\n  return 2*smallOutput;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1036, "user_id": 10095817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd397fc62377f0e1f1e53c5b22f9b72a?s=128&d=identicon&r=PG&f=1", "display_name": "RalfFriedl", "link": "https://stackoverflow.com/users/10095817/ralffriedl"}, "edited": false, "score": 1, "creation_date": 1571492358, "post_id": 58464074, "comment_id": 103263726, "body": "What is different from this answer <a href=\"https://stackoverflow.com/a/55190166/10095817\">stackoverflow.com/a/55190166/10095817</a>"}, {"owner": {"reputation": 1, "user_id": 11717109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8NsvpCcOH9w/AAAAAAAAAAI/AAAAAAAAEfg/n8i7e2oYk-4/photo.jpg?sz=128", "display_name": "Priyanshu Khullar", "link": "https://stackoverflow.com/users/11717109/priyanshu-khullar"}, "reply_to_user": {"reputation": 1036, "user_id": 10095817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd397fc62377f0e1f1e53c5b22f9b72a?s=128&d=identicon&r=PG&f=1", "display_name": "RalfFriedl", "link": "https://stackoverflow.com/users/10095817/ralffriedl"}, "edited": false, "score": 0, "creation_date": 1571495804, "post_id": 58464074, "comment_id": 103264539, "body": "just generalising the code without using any new variable like col variable used above."}], "tags": [], "owner": {"reputation": 1, "user_id": 11717109, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8NsvpCcOH9w/AAAAAAAAAAI/AAAAAAAAEfg/n8i7e2oYk-4/photo.jpg?sz=128", "display_name": "Priyanshu Khullar", "link": "https://stackoverflow.com/users/11717109/priyanshu-khullar"}, "is_accepted": false, "score": 0, "last_activity_date": 1571490916, "creation_date": 1571490916, "answer_id": 58464074, "question_id": 46695719, "link": "https://stackoverflow.com/questions/46695719/return-subsets-of-an-array-using-recursion-c/58464074#58464074", "title": "return subsets of an array using recursion c++", "body": "<pre><code>int subset(int input[], int n, int output[][20]) {\nif (n==0)\n{\n    output[0][0]=0;\n    return 1;\n}\n\n\nint count=subset(input+1,n-1,output);\nint i,j;\nfor(i=0;i&lt;count;i++){\n    output[count+i][0]=output[i][0]+1;\n    output[count+i][1]=input[0];\n}\n\nfor(i=0;i&lt;count;i++){\n    for(j=1;j&lt;output[count+i][0];j++){\noutput[count+i][j+1]=output[i][j];\n        }\n}\nreturn 2*count;\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14103166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9885b774dc7552637f6312fa00b35165?s=128&d=identicon&r=PG", "display_name": "Mayukh Maji", "link": "https://stackoverflow.com/users/14103166/mayukh-maji"}, "is_accepted": false, "score": 0, "last_activity_date": 1602419774, "creation_date": 1602419774, "answer_id": 64304076, "question_id": 46695719, "link": "https://stackoverflow.com/questions/46695719/return-subsets-of-an-array-using-recursion-c/64304076#64304076", "title": "return subsets of an array using recursion c++", "body": "<p>This is my approach:-</p>\n<pre><code>int subset(int input[], int n, int output[][20]) {\n    if(n&lt;=0){\n      output[0][0]=0;\n      return 1;\n    }\n    int smallOutputSize = subset(input+1, n-1, output);\n    for(int i=0; i&lt;smallOutputSize; i++){\n        output[i+smallOutputSize][0]=output[i][0]+1;\n        for(int j=(output[i][0]+1); j&gt;1;j--){\n            output[i+smallOutputSize][j]=output[i][j-1];\n        }\n        output[i+smallOutputSize][1]=input[0];\n    }\n    return 2*smallOutputSize;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5864075, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RV_6NTb0o38/AAAAAAAAAAI/AAAAAAAACpE/1RwIkUMSt4o/photo.jpg?sz=128", "display_name": "Abhinav Singh", "link": "https://stackoverflow.com/users/5864075/abhinav-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5005, "favorite_count": 1, "answer_count": 4, "score": 1, "last_activity_date": 1602419774, "creation_date": 1507748562, "last_edit_date": 1507751894, "question_id": 46695719, "link": "https://stackoverflow.com/questions/46695719/return-subsets-of-an-array-using-recursion-c", "title": "return subsets of an array using recursion c++", "body": "<p>Hi Guys I been stuck on a problem for quite a while now -\nHere it is - </p>\n\n<blockquote>\n  <p>question --- given an array of size n ,find and return all subsets of this \n               array .... do this recursively</p>\n</blockquote>\n\n<p><strong>My approach</strong> - consider an array of size 3 - {10,11,12}. Consider 1st element - I have 2 options to either take it not. So I do work for 1st element and let recusion do the rest. </p>\n\n<pre><code>int helper(int in[],int si,int n,int output[][20]){\n                       //si - starting index , n  - size\n  if(si == n){\n    output[0][0] = 0;        //using 0 for null\n    return 1;               //helper returns the number of subsets of array \n  }\n\n  int smallSize = helper(in,si+1,n,output);\n  for(int i =0;i&lt;smallSize;i++){\n    output[i+smallSize][0] = in[si];        \n    for(int k = 0;k&lt;4;k++){\n      output[i+smallSize][k+1] = output[i][k];\n    }\n  }\n  return smallSize*2;\n}\n\nint subset(int input[], int n, int output[][20]) {\n  return helper(input,0,n,output);\n}\n</code></pre>\n\n<p>I want to store all the subsets in 2-d array output and return the number of subsets.</p>\n\n<p>I seem to get zeros?</p>\n"}, {"tags": ["c++", "arrays", "pointers"], "comments": [{"owner": {"reputation": 3693, "user_id": 5494721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHK5j.png?s=128&g=1", "display_name": "OznOg", "link": "https://stackoverflow.com/users/5494721/oznog"}, "edited": false, "score": 0, "creation_date": 1507748313, "post_id": 46695598, "comment_id": 80339050, "body": "you are requesting a placement new; the call is understood as a pointer passed to new; see <a href=\"https://stackoverflow.com/questions/222557/what-uses-are-there-for-placement-new\" title=\"what uses are there for placement new\">stackoverflow.com/questions/222557/&hellip;</a>"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 0, "creation_date": 1507748447, "post_id": 46695598, "comment_id": 80339115, "body": "<a href=\"http://en.cppreference.com/w/cpp/language/new\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/new</a>"}, {"owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "reply_to_user": {"reputation": 3693, "user_id": 5494721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHK5j.png?s=128&g=1", "display_name": "OznOg", "link": "https://stackoverflow.com/users/5494721/oznog"}, "edited": false, "score": 1, "creation_date": 1507748452, "post_id": 46695598, "comment_id": 80339119, "body": "@OznOg, you should expand the comment to a full fledged answer."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507748815, "post_id": 46695598, "comment_id": 80339280, "body": "Don&#39;t forget to use Standard Library containers like <code>std::vector</code> whenever possible and avoid manually allocating with <code>new</code>."}], "answers": [{"comments": [{"owner": {"reputation": 26077, "user_id": 8157187, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9dbf5a2e56640eeb14bbe0c32fb3679b?s=128&d=identicon&r=PG&f=1", "display_name": "geza", "link": "https://stackoverflow.com/users/8157187/geza"}, "edited": false, "score": 5, "creation_date": 1507748747, "post_id": 46695752, "comment_id": 80339248, "body": "your answer contains a stack overflow"}], "tags": [], "owner": {"reputation": 3693, "user_id": 5494721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WHK5j.png?s=128&g=1", "display_name": "OznOg", "link": "https://stackoverflow.com/users/5494721/oznog"}, "is_accepted": false, "score": 6, "last_activity_date": 1507748678, "creation_date": 1507748678, "answer_id": 46695752, "question_id": 46695598, "link": "https://stackoverflow.com/questions/46695598/difference-between-new-float-and-new-float/46695752#46695752", "title": "Difference between new (float*)[] and new float*[]", "body": "<pre><code>float* pB1 = new float[3];\n</code></pre>\n\n<p>is allocating an array of float</p>\n\n<pre><code>float* pB2 = new (float)[3]\n</code></pre>\n\n<p>is asking to allocate an array of ?? in 'float' location (which is meaningless), that's the error you get.\nThis is the placement new syntax, see more info here <a href=\"https://stackoverflow.com/questions/46695598/c-difference-between-new-float-and-new-float#46695598\">Difference between new (float*)[] and new float*[]</a> or <a href=\"http://en.cppreference.com/w/cpp/language/new\" rel=\"noreferrer\">http://en.cppreference.com/w/cpp/language/new</a> as pointed in comments</p>\n"}], "owner": {"reputation": 31, "user_id": 8760922, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jV_zgwT7h1Y/AAAAAAAAAAI/AAAAAAAAJao/k9KSDbpUY04/photo.jpg?sz=128", "display_name": "Nibedita Banerjee", "link": "https://stackoverflow.com/users/8760922/nibedita-banerjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5548, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1507748678, "creation_date": 1507748099, "last_edit_date": 1507748546, "question_id": 46695598, "link": "https://stackoverflow.com/questions/46695598/difference-between-new-float-and-new-float", "title": "Difference between new (float*)[] and new float*[]", "body": "<p>What is the difference between: <code>new int*[]</code> and <code>new (int*)[]</code>:</p>\n\n<pre><code>int** pA = new int*[2] // returns a pointer to an array of pointers to int.\n\nnew (int*)[2] // what should this return ? Shouldn't it be same as the above. \n</code></pre>\n\n<p>Likewise,</p>\n\n<pre><code>float* pB1 = new float[3]; // compiles successfully.\n\nfloat* pB2 = new (float)[3] //Gives an error. Shouln't it return an array of floats ?\n</code></pre>\n\n<p>But, the compiler says:</p>\n\n<blockquote>\n<pre><code>A value of type 'float' cannot be used to initialize a value of type float* .\n</code></pre>\n</blockquote>\n\n<p>What am I missing here? I'm using VS2015 Community IDE.</p>\n"}, {"tags": ["c++", "time-complexity"], "answers": [{"comments": [{"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "reply_to_user": {"reputation": 8279, "user_id": 4759200, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XqFYM.jpg?s=128&g=1", "display_name": "DAle", "link": "https://stackoverflow.com/users/4759200/dale"}, "edited": false, "score": 0, "creation_date": 1507752910, "post_id": 46695761, "comment_id": 80341344, "body": "@DAle: you are right; this changes the result significantly."}], "tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 3, "last_activity_date": 1507752883, "last_edit_date": 1507752883, "creation_date": 1507748734, "answer_id": 46695761, "question_id": 46695478, "link": "https://stackoverflow.com/questions/46695478/calculating-the-time-complexity-of-nested-loop-with-logarithmic-increase/46695761#46695761", "title": "Calculating the Time Complexity of nested loop with logarithmic increase", "body": "<p>The outer loop will enter it's body <code>log2(n)</code> times, because <code>i</code> is increasing exponentially and thereby reaches the end <code>n</code> faster and faster. For example, if <code>n</code> were <code>1024</code>, it would need only 10 iterations, with <code>n=65536</code>, it were 16 iterations. The accurate count is <code>log2(n)</code>, but in terms of runtime complexity the logarithmic behaviour is enough. So here the complexity is <code>O(log(n))</code>.</p>\n\n<p>The inner loop <code>for(int j=1; j&lt;=i; j++)</code>, each time when evaluated, will run to the corresponding <code>i</code>. It can be shown that the average run width is about <code>n / log2(n)</code>, since <code>i</code> is <code>1</code>, <code>2</code>, <code>4</code>, ... <code>n</code> with <code>log2(n)</code> steps. For example, if <code>n</code> is <code>31</code>, <code>i</code> is <code>1</code>, <code>2</code>, <code>4</code>, <code>8</code>, <code>16</code>, the sum is <code>31</code> with <code>5</code> steps. So it is permissible to take complexity <code>O(n/log(n))</code> here.</p>\n\n<p>The overal complexity is then <code>O(log(n)*n/log(n))</code>, which is <code>O(n)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 8279, "user_id": 4759200, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XqFYM.jpg?s=128&g=1", "display_name": "DAle", "link": "https://stackoverflow.com/users/4759200/dale"}, "is_accepted": false, "score": 0, "last_activity_date": 1507751691, "last_edit_date": 1507751691, "creation_date": 1507748937, "answer_id": 46695805, "question_id": 46695478, "link": "https://stackoverflow.com/questions/46695478/calculating-the-time-complexity-of-nested-loop-with-logarithmic-increase/46695805#46695805", "title": "Calculating the Time Complexity of nested loop with logarithmic increase", "body": "<p>We can assume without loss of generality that <code>N</code> is equal to <code>2^k + 1</code>. We need to find the number of iterations of the inner loop. There will be <code>k</code> iterations of outer loop with <code>2^0, 2^1, ..., 2^k</code> iterations of the inner loop. Let's sum up this values.\n<a href=\"https://i.stack.imgur.com/nY2Jh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nY2Jh.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 5548, "user_id": 5068056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m53CE.jpg?s=128&g=1", "display_name": "Farhad", "link": "https://stackoverflow.com/users/5068056/farhad"}, "is_accepted": false, "score": 0, "last_activity_date": 1507751164, "last_edit_date": 1507751164, "creation_date": 1507749075, "answer_id": 46695836, "question_id": 46695478, "link": "https://stackoverflow.com/questions/46695478/calculating-the-time-complexity-of-nested-loop-with-logarithmic-increase/46695836#46695836", "title": "Calculating the Time Complexity of nested loop with logarithmic increase", "body": "<p>It's <code>n</code>.</p>\n\n<p>if <code>n=2^k</code> then while complexity is k,</p>\n\n<p>second loop : <code>2^1 + 2^2 + ... 2^k = 2^(k+1)-1 ~= 2^(k+1)</code></p>\n\n<p><code>2^(k+1) = 2*n</code> </p>\n"}], "owner": {"reputation": 267, "user_id": 5446068, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/6jjgs.png?s=128&g=1", "display_name": "SarpSTA", "link": "https://stackoverflow.com/users/5446068/sarpsta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1507752883, "creation_date": 1507747610, "last_edit_date": 1507747740, "question_id": 46695478, "link": "https://stackoverflow.com/questions/46695478/calculating-the-time-complexity-of-nested-loop-with-logarithmic-increase", "title": "Calculating the Time Complexity of nested loop with logarithmic increase", "body": "<p>I am learning at my own pace online. I was solving some examples but I can't wrap my mind around this one:</p>\n\n<pre><code>while(i&lt;n)\n{\n     for(int j=1; j&lt;=i; j++)\n         sum = sum + 1;\n     i *=2;\n}\n</code></pre>\n\n<p>I think the answer should be 2^n but my friend says nlog(n)</p>\n\n<p>Can someone find the big-O for this loop and explain to me how to do so?</p>\n"}, {"tags": ["c++", "windows", "eclipse", "gcc", "hdf5"], "answers": [{"tags": [], "owner": {"reputation": 4106, "user_id": 3161, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/48b293567484edc02cd70efa8bf3f9cc?s=128&d=identicon&r=PG", "display_name": "Dana Robinson", "link": "https://stackoverflow.com/users/3161/dana-robinson"}, "is_accepted": false, "score": 0, "last_activity_date": 1507851311, "creation_date": 1507851311, "answer_id": 46720415, "question_id": 46695466, "link": "https://stackoverflow.com/questions/46695466/hdf5-eclipse-cdt-errors/46720415#46720415", "title": "HDF5 + Eclipse CDT errors", "body": "<p>In general, C++ libraries have to be explicitly build for a specific target compiler due to name-mangling issues, differing binary specifications for exceptions, etc. Your best bet is probably going to be to build the HDF5 library from source using MinGW and use that.</p>\n\n<p>See also <a href=\"http://www.mingw.org/wiki/Interoperability_of_Libraries_Created_by_Different_Compiler_Brands\" rel=\"nofollow noreferrer\">here</a> (MinGW docs).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8760975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ff6f13ad51a53be3d247d5477033c9?s=128&d=identicon&r=PG&f=1", "display_name": "jkater1", "link": "https://stackoverflow.com/users/8760975/jkater1"}, "is_accepted": false, "score": 0, "last_activity_date": 1509129665, "creation_date": 1509129665, "answer_id": 46981521, "question_id": 46695466, "link": "https://stackoverflow.com/questions/46695466/hdf5-eclipse-cdt-errors/46981521#46981521", "title": "HDF5 + Eclipse CDT errors", "body": "<p>I'm going to answer this question myself, because there simply isn't any resource on the web that really talks about using HDF5 + Windows + MinGW GCC + Eclipse.</p>\n\n<p>Instructions for installing HDF5 for use with the following:\n    -Eclipse CDT Neon\n    -Windows 7 Enterprise\n    -C++ Programming\n    -MinGW GCC Compiler</p>\n\n<p>1)  Make certain you're logged in with admin privelages. MinGW and MSYS, as well as HDF5, may not install correctly without admin rights.   </p>\n\n<p>2)  Obtain HDF5 version 1.8.2. This is available via the following URL: <a href=\"https://support.hdfgroup.org/ftp/HDF5/prev-releases/hdf5-1.8/hdf5-1.8.2/src/\" rel=\"nofollow noreferrer\">https://support.hdfgroup.org/ftp/HDF5/prev-releases/hdf5-1.8/hdf5-1.8.2/src/</a>\n    Make sure to get the .tar version. This folder contains the source code only, which will still need to be edited in the future.</p>\n\n<p>Unpack the tarball and move it to a directory where you can easily find it. Mine is labelled \"MyHDFstuff\", and is in the \"Documents\" folder.\n    Once the tarball is unpacked, find all files named H5pubconf.h and append the following lines to the end of the program:\n    There should be two H5pubconf.h files, one in the /src/ folder and one in the /windows/src/ folder.</p>\n\n<pre><code>    /* ~~~~ User Added Code ~~~~ */\n    #ifndef H5_HAVE_WIN32_API\n    #ifdef WIN32 /* defined for all windows systems */\n    #define H5_HAVE_WIN32_API 1\n    #endif\n    #endif\n\n    #ifndef H5_HAVE_MINGW\n    #ifdef __MINGW32__ /*defined for all MinGW compilers */\n    #define H5_HAVE_MINGW 1\n    #endif\n    #endif\n\n    //fixes second problem\n    #define H5_BUILT_AS_DYNAMIC_LIB 1\n</code></pre>\n\n<p>3)  Obtain MSYS linux command-line emulator for windows. This is a tool designed to interface with MinGW and provide Lunix-like utilities.\n    The ones of particular intrest to us are the \"./configure\", \"make\", and \"make install\" commands. It can be obtained here: <a href=\"http://www.mingw.org/wiki/MSYS\" rel=\"nofollow noreferrer\">http://www.mingw.org/wiki/MSYS</a></p>\n\n<p>4)  Launch MSYS. Navigate to the \"MyHDFstuff\" folder within MSYS using the \"cd\" command. Run the following commands from the MSYS prompt:</p>\n\n<pre><code>    $ ./configure --host=x86_64-w64-mingw32 --build=x86_64-w64-mingw32 --disable-hl --prefix=$HOME  \n    $ make\n    $ make check\n    $ make install\n</code></pre>\n\n<p>This will build the HDF5 libraries for the MinGW compiler. You should get an error -- ignore it, it's not going to stop your code from compiling and running.</p>\n\n<p>5)  In your eclipse project settings, make the following changes:\n        -add \"hdf5-1.8.2\\c++\\src\" to your include paths. this is most of the c++ utilities\n        -add \"hdf5-1.8.2\\src\" to your include paths. This is most of the HDF5 C root utilities\n        -add \"hdf5-1.8.2\\src.libs\" to your library folder search paths (-L)\n        -add \"hdf5\" to your libraries (-l)      </p>\n\n<p>** Note, this will not get you all the way to using the C++ API interface, but you will be able to program using the C commands (<a href=\"https://support.hdfgroup.org/HDF5/doc1.8/\" rel=\"nofollow noreferrer\">https://support.hdfgroup.org/HDF5/doc1.8/</a>).\n    If these steps are not followed, then you will be able to use several of the C-interface commands, including file creation, but your executable will fail because it will be\n    unable to find the datatypes interface.</p>\n\n<p>*** I will attach an example C++ program and output file in the future for reference</p>\n\n<p>Happy coding!       </p>\n"}], "owner": {"reputation": 1, "user_id": 8760975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7ff6f13ad51a53be3d247d5477033c9?s=128&d=identicon&r=PG&f=1", "display_name": "jkater1", "link": "https://stackoverflow.com/users/8760975/jkater1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509129665, "creation_date": 1507747557, "question_id": 46695466, "link": "https://stackoverflow.com/questions/46695466/hdf5-eclipse-cdt-errors", "title": "HDF5 + Eclipse CDT errors", "body": "<p>I'm attempting to edit a big 'ol wind tunnel simulation to spit output files in the .hdf5 format rather than the current format, .CSV.</p>\n\n<p>The entire simulation currently runs on Eclipse CDT, and is compiled &amp; linked using MinGW g++ on a mix of Windows and Linux platforms; I am using a Windows 7 Enterprise device. My job is to edit a few lines of the simulation's source code to output files in the HDF5 format.</p>\n\n<p>The problem is -- I can't get anything to link without a hodge-podge of \"undefined reference\" errors. I started out by using the HDF5 1.8.19 distributions for windows, but the included .lib + .dll files are specifically designed for the MSVS2013 compiler. I have since switched to using the Linux line endings due to g++ compatibility, but I still get a multitude of \"undefined reference\" errors.</p>\n\n<p>I'm linking the libraries and include files, and I'm also linking their search paths. The issue seems to be that for some reason the MinGW linker can't read the symbol names in the libhdf5_cpp.a files.</p>\n\n<p>Any thoughts? Does anyone have experience trying to interface eclipse with HDF5?</p>\n\n<p>I'm just trying to run <a href=\"http://beige.ucs.indiana.edu/I590/node122.html\" rel=\"nofollow noreferrer\">this</a> example code.</p>\n\n<p>My output errors are as follows:</p>\n\n<pre><code>    g++ \"-LC:\\\\Users\\\\jk5759\\\\workspace\\\\HDF5_Test\" -o HDF5_Test.exe main.o -lhdf5_cpp -static \nmain.o: In function `main':\nC:\\Users\\jk5759\\workspace\\HDF5_Test\\Debug/../main.cpp:14: undefined reference to `H5check_version'\nC:\\Users\\jk5759\\workspace\\HDF5_Test\\Debug/../main.cpp:14: undefined reference to `H5Fcreate'\nC:\\Users\\jk5759\\workspace\\HDF5_Test\\Debug/../main.cpp:17: undefined reference to `H5Fclose'\ncollect2: ld returned 1 exit status\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "boost"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507747623, "post_id": 46695464, "comment_id": 80338698, "body": "Is <code>addKeyFrame</code> a class member function?"}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507747699, "post_id": 46695464, "comment_id": 80338738, "body": "Thanks for your reply. Both <code>addkeyframe</code> and the function containing the thread constructor are in the same class /namespace."}, {"owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1507748010, "post_id": 46695464, "comment_id": 80338882, "body": "As in the duplicate: `\tworkerThread = new boost::thread(&amp;PointCloudOdometry::addKeyFrame, this, msg_base);` works here. Thank you"}], "owner": {"reputation": 2515, "user_id": 4402282, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/da4a7e4605c83a82650272b0ea4d3401?s=128&d=identicon&r=PG&f=1", "display_name": "anti", "link": "https://stackoverflow.com/users/4402282/anti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1507747767, "answer_count": 0, "score": 0, "last_activity_date": 1507747758, "creation_date": 1507747547, "last_edit_date": 1507747758, "question_id": 46695464, "link": "https://stackoverflow.com/questions/46695464/passing-an-argument-to-a-boostthread-constructer", "closed_reason": "Duplicate", "title": "passing an argument to a boost::thread constructer", "body": "<p>I have a function that takes a PCL point cloud as an argument.</p>\n\n<pre><code>void PointCloudOdometry::addKeyFrame(PointCloud::Ptr map_base)\n{\n\n...\n</code></pre>\n\n<p>I am trying to start a boost::thread that runs this function.</p>\n\n<p><code>PointCloud::Ptr msg_base(new PointCloud);</code></p>\n\n<p><code>boost::thread workerThread(&amp;addKeyFrame, msg_base);</code></p>\n\n<p>According to this:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5730747/how-to-pass-an-argument-to-boostthread\">How to pass an argument to boost::thread?</a></p>\n\n<p>this should work. But I am getting:</p>\n\n<pre><code>Severity    Code    Description Project File    Line    Suppression State\nError   C2276   '&amp;': illegal operation on bound member function expression  \n</code></pre>\n\n<p>What am i missing?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "iterator", "difference"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1507747358, "post_id": 46695349, "comment_id": 80338559, "body": "Just pick a big enough signed type (<code>std::ptrdiff_t</code> works).  Just because you can&#39;t subtract iterators doesn&#39;t mean you can&#39;t define a type for it.  See this example: <a href=\"http://en.cppreference.com/w/cpp/iterator/iterator\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/iterator/iterator</a>"}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 2, "creation_date": 1507747366, "post_id": 46695349, "comment_id": 80338563, "body": "Do you need to provide it? <code>std::iterator_traits</code> offers a default if you don&#39;t provide one"}, {"owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "edited": false, "score": 2, "creation_date": 1507747473, "post_id": 46695349, "comment_id": 80338618, "body": "I think you can use void as the type. Any functions trying to calculate iterator distance will fail to compile."}, {"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1507747564, "post_id": 46695349, "comment_id": 80338670, "body": "@KABoissonneault According to en.cppreference &quot;<a href=\"http://en.cppreference.com/w/cpp/iterator/iterator_traits#Member_types\" rel=\"nofollow noreferrer\">If Iterator does not have the five member types difference_type, value_type, pointer, reference, and iterator_category, then this template has no members by any of those names (std::iterator_traits is SFINAE-friendly)</a>&quot;, which sounds like not providing a <code>differece_type</code> will prevent all the other definitions from being available through <code>std::iterator_traits</code>."}, {"owner": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 1, "creation_date": 1507747597, "post_id": 46695349, "comment_id": 80338689, "body": "You&#39;re right. I was mistaken"}, {"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "reply_to_user": {"reputation": 2289, "user_id": 2356414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dff4a2241e2dcfc50615e4b7c709bd17?s=128&d=identicon&r=PG", "display_name": "KABoissonneault", "link": "https://stackoverflow.com/users/2356414/kaboissonneault"}, "edited": false, "score": 0, "creation_date": 1507747719, "post_id": 46695349, "comment_id": 80338751, "body": "@KABoissonneault If it weren&#39;t for that little caveat then this wouldn&#39;t be as much of an issue. I&#39;m hoping they&#39;ll reverse that decision in C++20."}], "answers": [{"comments": [{"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "edited": false, "score": 0, "creation_date": 1507748299, "post_id": 46695460, "comment_id": 80339040, "body": "Indeed I have defined <code>iterator_category</code> as <code>std::input_iterator_tag</code>. I think it&#39;s possible that the data stream could produce more elements than can be counted as it&#39;s pulling them from non-volatile memory (i.e. flash memory), but it&#39;s highly unlikely so this might be a reasonable compromise."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507748739, "post_id": 46695460, "comment_id": 80339245, "body": "This sounds to me more like an unordered associative container (eg. a hash table), whose iterator is a forward iterator. (That means that iteration order is unspecified but consistent while the container is not modified.) The standard library provides <code>std::distance</code> which computes the distance by counting steps and returns a <code>distance_type</code>, so that type must be meaningful and is arguably useful (or at least has a defined use.). Having said all that, I agree that <code>ptrdiff_t</code> is appropriate."}, {"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507748940, "post_id": 46695460, "comment_id": 80339343, "body": "@rici It&#39;s not a hash table, but most of the implications (i.e. consistent but unspecified iteration order whilst unmodified) are the same."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "edited": false, "score": 0, "creation_date": 1507749119, "post_id": 46695460, "comment_id": 80339427, "body": "@pharap: that is what i meant by &quot;more like&quot;. That is, it has more in common with a hash table iterator than with an input tokeniser (for example) and thus should be a forward iterator, not an input iterator."}, {"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507756279, "post_id": 46695460, "comment_id": 80342955, "body": "@rici Not quite. The problem with that is that a forward iterator has a &#39;multipass guarantee&#39; and both the way I&#39;m implementing the iterator and the underlying API break that guarantee so it can&#39;t be a forward iterator."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "edited": false, "score": 0, "creation_date": 1507756639, "post_id": 46695460, "comment_id": 80343095, "body": "@Pharap: OK, in that case it doesn&#39;t have consistent but unspecified iteration order and a forward iterator is not appropriate. (But I&#39;ve got to say that containers without a consistent iteration order strike me as unusual.)"}, {"owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1507757153, "post_id": 46695460, "comment_id": 80343307, "body": "@rici It&#39;s because the underlying API is passing the data out through an out param (i.e. a pointer to a struct) and that data is stored in the iterator, hence the multipass guarantee clause that: &quot;If a and b compare equal (a == b is contextually convertible to true) then either they are both non-dereferenceable or *a and *b are references bound to the same object &quot; would be violated, because <code>*a</code> and <code>*b</code> would be references to different objects with the same value instead of being references to the same object."}], "tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": true, "score": 9, "last_activity_date": 1507747543, "creation_date": 1507747543, "answer_id": 46695460, "question_id": 46695349, "link": "https://stackoverflow.com/questions/46695349/how-to-handle-iteratordifference-type-when-you-have-no-way-of-measuring-the-di/46695460#46695460", "title": "How to handle iterator::difference_type when you have no way of measuring the difference?", "body": "<p>All iterators in C++ need to provide some sort of <code>difference_type</code>. Whether or not that type is <em>meaningful</em> or <em>useful</em> is a completely separate issue.</p>\n\n<p>From what you're describing, it seems like you're working with an <em>input iterator</em>, which gives you the ability to make a single pass over a stream of data but not to back up or save positions in the stream. For input iterators, there's still a requirement to have a <code>difference_type</code> defined, but there's no meaningful way to take the difference of two iterators. The only way to measure distance is to manually count up how many elements you've seen as you go.</p>\n\n<p>Using the default of <code>std::ptrdiff_t</code> is probably very reasonable here unless you have a data stream that can produce so many elements that you can't fit the number of them into a <code>std::ptrdiff_t</code>. Clients can then use this to count up how many things they've seen, even though your iterator doesn't actually let people compute distances between entries.</p>\n"}], "owner": {"reputation": 3152, "user_id": 1377706, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bhJMC.png?s=128&g=1", "display_name": "Pharap", "link": "https://stackoverflow.com/users/1377706/pharap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3447, "favorite_count": 0, "accepted_answer_id": 46695460, "answer_count": 1, "score": 9, "last_activity_date": 1507747543, "creation_date": 1507747140, "question_id": 46695349, "link": "https://stackoverflow.com/questions/46695349/how-to-handle-iteratordifference-type-when-you-have-no-way-of-measuring-the-di", "title": "How to handle iterator::difference_type when you have no way of measuring the difference?", "body": "<p>I'm writing a C++ wrapper for a 3rd C party library.</p>\n\n<p>The library provides some functions for iterating through a series of objects.</p>\n\n<p>I want to write an iterator to wrap this behaviour so iteration is easier, but I cannot think how I will be able to provide the mandatory 'difference' type since the iterated objects don't have a meaningful relative order and the API I am working with does not provide a means of finding the number of objects available in advance.</p>\n\n<p>I can't count the objects as they're iterated because although that would solve individual iterators it would render the difference between the <code>end()</code> iterator and other iterators undefined.</p>\n"}, {"tags": ["c++", "oop", "inheritance"], "comments": [{"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 2, "creation_date": 1507747150, "post_id": 46695336, "comment_id": 80338439, "body": "declare now, define later."}, {"owner": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "reply_to_user": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "edited": false, "score": 0, "creation_date": 1507747293, "post_id": 46695336, "comment_id": 80338519, "body": "Yes but even if I declare one class first, I still need to declare the method along with it..."}, {"owner": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "edited": false, "score": 0, "creation_date": 1507747581, "post_id": 46695336, "comment_id": 80338678, "body": "@DreamsOfElectricSheep what would that imply in practice?"}], "answers": [{"comments": [{"owner": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "edited": false, "score": 0, "creation_date": 1507747895, "post_id": 46695472, "comment_id": 80338831, "body": "Thank you very much for the lightning-fast response! I didn&#39;t know you could declare a class without also declaring all of its attributes."}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "edited": false, "score": 1, "creation_date": 1507748033, "post_id": 46695472, "comment_id": 80338893, "body": "<i>&quot;declaring all of its attributes&quot;</i> is the <b>definition</b> of the class."}, {"owner": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "edited": false, "score": 0, "creation_date": 1507748110, "post_id": 46695472, "comment_id": 80338936, "body": "Even if they are declared but not yet defined? Okay, thanks! I clearly had a little bit of a grey area there."}, {"owner": {"reputation": 56117, "user_id": 845092, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/50ccdbac5f0f9ff683e4b30a248189bf?s=128&d=identicon&r=PG", "display_name": "Mooing Duck", "link": "https://stackoverflow.com/users/845092/mooing-duck"}, "reply_to_user": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "edited": false, "score": 2, "creation_date": 1507748253, "post_id": 46695472, "comment_id": 80339017, "body": "@Sean: yes. <code>class MatrixCRS;</code> is class <i>declaration</i>. <code>class MatrixCOO { void toCRS();</code> is class <i>definition</i> and method <i>declaration</i> both, then <code>MatrixCOO::toCRS(){}</code> is method <i>definition</i>."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1507747588, "creation_date": 1507747588, "answer_id": 46695472, "question_id": 46695336, "link": "https://stackoverflow.com/questions/46695336/two-classes-with-conversion-methods/46695472#46695472", "title": "Two classes with conversion methods", "body": "<p>Forward declare one, declare both, define function requiring both class definitions:</p>\n\n<pre><code>class MatrixType { /*...*/ };\n\ntemplate&lt;typename Scalar&gt; class MatrixCRS; // Forward declaration\n\ntemplate&lt;typename Scalar&gt;\nclass MatrixCOO {\n    // Private stuff...\npublic:\n    // Public stuff...\n    void toCRS(MatrixCRS&lt;Scalar&gt;&amp; target); // Just declare the method\n};\n\ntemplate&lt;typename Scalar&gt;\nclass MatrixCRS {\n    // Private stuff...\npublic:\n    // Public stuff...\n    void toCOO(MatrixCOO&lt;Scalar&gt;&amp; target) {\n        // ...\n    }\n};\n\n// Implementation, we have both class definitions\ntemplate&lt;typename Scalar&gt;\nvoid MatrixCOO&lt;Scalar&gt;::toCRS(MatrixCRS&lt;Scalar&gt; &amp; target)\n{\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 2739, "user_id": 817296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02f2ef385624097d0fa61b64be24b17f?s=128&d=identicon&r=PG", "display_name": "Sean Bone", "link": "https://stackoverflow.com/users/817296/sean-bone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 46695472, "answer_count": 1, "score": 0, "last_activity_date": 1507747588, "creation_date": 1507747094, "last_edit_date": 1507747500, "question_id": 46695336, "link": "https://stackoverflow.com/questions/46695336/two-classes-with-conversion-methods", "title": "Two classes with conversion methods", "body": "<p>I have two matrix classes in C++ which inherit from the same base class <code>MatrixType</code>. They use different methods for storing sparse matrices, and are class templates because their entries may be of different types.</p>\n\n<p>Each matrix type should have a method to allow to convert to the other type. The issue is that if I declare <code>toCRS</code> in the <code>MatrixCOO</code> class, the <code>MatricCRS</code> type for the argument is still undefined. How can I solve this problem?</p>\n\n<pre><code>class MatrixType { /*...*/ };\n\ntemplate&lt;typename Scalar&gt;\nclass MatrixCOO {\n    // Private stuff...\npublic:\n    // Public stuff...\n    void toCRS(MatrixCRS &amp; target) { // Issue is here: MatrixCRS is undefined\n        // Fill target with elements from *this\n    }\n}\n\n\ntemplate&lt;typename Scalar&gt;\nclass MatrixCRS {\n    // Private stuff...\npublic:\n    // Public stuff...\n    void toCOO(MatrixCOO &amp; target) {\n        // Fill target with elements from *this\n    }\n}\n</code></pre>\n\n<p>PS: in my understanding, even if I were to declare the class <code>MatrixCRS</code> before <code>MatrixCOO</code>, I would still be faced with the same problem in declaring <code>MatrixCRS::toCOO (MatrixCOO &amp;)</code>.</p>\n"}, {"tags": ["c#", "c++", "com", "marshalling", "idl"], "comments": [{"owner": {"reputation": 430, "user_id": 8260167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c96d4326074daace4cf1303c49e121?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron. S", "link": "https://stackoverflow.com/users/8260167/aaron-s"}, "edited": false, "score": 0, "creation_date": 1507748337, "post_id": 46695313, "comment_id": 80339059, "body": "have you looked at <a href=\"http://www.pinvoke.net/\" rel=\"nofollow noreferrer\">pinvoke.net</a> for examples?"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1507756118, "post_id": 46695313, "comment_id": 80342890, "body": "Have you tried <code>SetProperties(int cProperties, string[] Properties, object[] Values)</code>  (unsafe is not necessary) ? PS: BSTR, VARIANT and SAFEARRAY were born the same day (or so)."}, {"owner": {"reputation": 109, "user_id": 2367030, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d7f0257ea3cb69bfcd77e29e91bfc2c?s=128&d=identicon&r=PG", "display_name": "jsparkes", "link": "https://stackoverflow.com/users/2367030/jsparkes"}, "edited": false, "score": 0, "creation_date": 1507808727, "post_id": 46695313, "comment_id": 80363822, "body": "When I use string[], I get an error that SetProperties is not implemented for the interface.    Looking a pinvoke,net doesn&#39;t help because I can declare the function however I need; in this case <b>tlbimp</b> is providing the external function definition."}, {"owner": {"reputation": 109, "user_id": 2367030, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d7f0257ea3cb69bfcd77e29e91bfc2c?s=128&d=identicon&r=PG", "display_name": "jsparkes", "link": "https://stackoverflow.com/users/2367030/jsparkes"}, "edited": false, "score": 0, "creation_date": 1507811327, "post_id": 46695313, "comment_id": 80365636, "body": "I guess the original developers made an explicit decision not to use SAFEARRAY.  I can&#39;t ask them why because they are no longer around."}], "owner": {"reputation": 109, "user_id": 2367030, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7d7f0257ea3cb69bfcd77e29e91bfc2c?s=128&d=identicon&r=PG", "display_name": "jsparkes", "link": "https://stackoverflow.com/users/2367030/jsparkes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1552480283, "creation_date": 1507747013, "last_edit_date": 1552480283, "question_id": 46695313, "link": "https://stackoverflow.com/questions/46695313/accessing-c-arrays-passed-via-com-in-c", "title": "Accessing C++ arrays passed via COM in C#", "body": "<p>I have a legacy COM class that passes C++ array pointers without using SAFEARRAY.  (It was probably implemented before that existed.)   I'd like to implement an interface in C# without change the COM interface.  In the IDL, the function is defined as:</p>\n\n<pre><code>    HRESULT SetProperties([in] int cProperties,\n                  [in, size_is(cProperties)] BSTR Properties[],\n                  [in, size_is(cProperties)] VARIANT Values[]);\n</code></pre>\n\n<p>When I reference the DLL in a C# project and select implement interface, it turns into the following:</p>\n\n<pre><code>   unsafe public void SetProperties(int cProperties, ref string Properties, ref object Values)\n    {\n        throw new NotImplementedException();\n    }\n</code></pre>\n\n<p>Is there some way to access the Properties and Values as arrays in C#?</p>\n\n<p>I have taken this issue up again.  It appears that the partial answer is in Marshalling.   I can redo the C# function as the following:</p>\n\n<pre><code>public void SetProperties(int cProperties,\n         [MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.BStr, SizeParamIndex=0)] ref string[] Properties,\n         [MarshalAs(UnmanagedType.LPArray, ArraySubType = UnmanagedType.Struct, SizeParamIndex=0)] ref object[] Values)\n    {\n        throw new NotImplementedException();\n    }\n</code></pre>\n\n<p>Now the C# compiler says that the COM interface function SetProperties() has not been implemented.   It's still looking for a function with first type signature, according to the Visual Studio object browser.</p>\n\n<p>Is there any way to implement the interface using Marshalled arguments?</p>\n"}, {"tags": ["c++", "visual-studio", "c++11", "visual-c++", "visual-studio-2013"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 4, "creation_date": 1507746998, "post_id": 46695250, "comment_id": 80338356, "body": "Either <code>map&lt;int, std::string&gt; mymap;</code> or <code>map&lt;int, std::wstring&gt; mymap;</code>  depending on whether UNICODE is defined."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507747104, "post_id": 46695250, "comment_id": 80338418, "body": "<code>LPTSTR</code> is a pointer. It points to the beginning of <code>buffer</code>. Since you keep reusing the same buffer for future insertions, you simply insert the same pointer over and over again which points to a buffer containing the last value placed in it."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 2, "creation_date": 1507747109, "post_id": 46695250, "comment_id": 80338421, "body": "Given that you&#39;re passing wide strings to <code>MessageBox</code>, get rid of <code>TCHAR</code> and use wide strings. <code>TCHAR</code>&#39;s compatibility hasn&#39;t really been useful for new code for a number of years, and you evidently don&#39;t need it if your code compiles with the wide strings in it. All of the <code>TCHAR</code> stuff in the code is only serving to obfuscate it, and for no benefit because undefining <code>UNICODE</code> will cause compilation errors."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 2, "creation_date": 1507749578, "post_id": 46695250, "comment_id": 80339636, "body": "@RichardCritten: If the rest of the code is <code>TCHAR</code> based (which this example is), you can use <code>std::basic_string&lt;TCHAR&gt;</code> to match, instead of using <code>std::string</code> or <code>std::wstring</code> directly"}], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 1, "last_activity_date": 1507750557, "creation_date": 1507750557, "answer_id": 46696184, "question_id": 46695250, "link": "https://stackoverflow.com/questions/46695250/how-to-correct-store-lptstr-in-map/46696184#46696184", "title": "How to correct store LPTSTR in map", "body": "<p>The problem is that you have a single buffer that you are reusing during enumeration, and you are storing just a pointer to that buffer into your <code>map</code>.  So every entry will be pointing at the same physical memory, which contains the last piece of data written to it.</p>\n\n<p>You need to store <em>copies</em> of the enumerated string data into your <code>map</code>.  Use <code>std::string</code>/<code>std::wstring</code> for that, eg:</p>\n\n<pre><code>using tstring = basic_string&lt;TCHAR&gt;;\n\nmap&lt;int, tstring&gt; mymap;\n\nfor (i = 0, retCode = ERROR_SUCCESS; i &lt; cValues; i++)\n{\n    cchValue = MAX_VALUE_NAME;\n\n    retCode = RegEnumValue(hKey, i,\n        achValue,\n        &amp;cchValue,\n        NULL,\n        NULL,\n        NULL,\n        NULL);\n\n    if (retCode == ERROR_SUCCESS)\n    {\n        DWORD dwData = cbMaxValueData;\n        DWORD dwType = 0;\n\n        LONG dwRes = RegQueryValueEx(hKey, achValue, 0, &amp;dwType, buffer, &amp;dwData);\n        if (dwRes == ERROR_SUCCESS)\n        {\n            switch (dwType)\n            {\n                case REG_SZ:\n                case REG_MULTI_SZ:\n                case REG_EXPAND_SZ:\n                {\n                    tstring val((LPTSTR)buffer, dwData / sizeof(TCHAR));\n                    //MessageBox(NULL, val.c_str(), TEXT(\"VALUE\"), MB_OK);\n                    mymap.insert(make_pair(i, val));\n                    break;\n                }\n            }\n        }\n    }\n}\n\nfor (auto &amp;value: mymap)\n{\n    TCHAR szMessage2[1300];\n    if (SUCCEEDED(StringCchPrintf(szMessage2, ARRAYSIZE(szMessage2), TEXT(\"+ %d : %s\\n\"), value.first, value.second.c_str())))\n    {\n        MessageBox(NULL, szMessage2, TEXT(\"MAP\"), MB_OK);\n    }\n}\n</code></pre>\n\n<p>However, since you are clearly compiling with <code>UNICODE</code> enabled, you shouldn't be using <code>TCHAR</code> at all:</p>\n\n<pre><code>map&lt;int, wstring&gt; mymap;\n\nfor (i = 0, retCode = ERROR_SUCCESS; i &lt; cValues; i++)\n{\n    cchValue = MAX_VALUE_NAME;\n\n    retCode = RegEnumValueW(hKey, i,\n        achValue,\n        &amp;cchValue,\n        NULL,\n        NULL,\n        NULL,\n        NULL);\n\n    if (retCode == ERROR_SUCCESS)\n    {\n        DWORD dwData = cbMaxValueData;\n        DWORD dwType = 0;\n\n        LONG dwRes = RegQueryValueExW(hKey, achValue, 0, &amp;dwType, buffer, &amp;dwData);\n        if (dwRes == ERROR_SUCCESS)\n        {\n            switch (dwType)\n            {\n                case REG_SZ:\n                case REG_MULTI_SZ:\n                case REG_EXPAND_SZ:\n                {\n                    wstring val((LPWSTR)buffer, dwData / sizeof(WCHAR));\n                    //MessageBoxW(NULL, val.c_str(), L\"VALUE\", MB_OK);\n                    mymap.insert(make_pair(i, val));\n                    break;\n                }\n            }\n        }\n    }\n}\n\nfor (auto &amp;value: mymap)\n{\n    WCHAR szMessage2[1300];\n    if (SUCCEEDED(StringCchPrintfW(szMessage2, ARRAYSIZE(szMessage2), L\"+ %d : %s\\n\", value.first, value.second.c_str())))\n    {\n        MessageBoxW(NULL, szMessage2, L\"MAP\", MB_OK);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8760872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e79a7db29b585cf524d120c92de3ad2a?s=128&d=identicon&r=PG&f=1", "display_name": "Pahan", "link": "https://stackoverflow.com/users/8760872/pahan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 135, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507814950, "creation_date": 1507746765, "question_id": 46695250, "link": "https://stackoverflow.com/questions/46695250/how-to-correct-store-lptstr-in-map", "title": "How to correct store LPTSTR in map", "body": "<p>I need to store values from registry in map. I have such code:</p>\n\n<pre><code>    map&lt;int, LPTSTR&gt; mymap;\n\n    for (i = 0, retCode = ERROR_SUCCESS; i&lt;cValues; i++)\n    {\n        cchValue = MAX_VALUE_NAME;\n        achValue[0] = '\\0';\n        retCode = RegEnumValue(hKey, i,\n            achValue,\n            &amp;cchValue,\n            NULL,\n            NULL,\n            NULL,\n            NULL);\n\n        if (retCode == ERROR_SUCCESS)\n        {\n            DWORD lpData = cbMaxValueData;\n            buffer[0] = '\\0';\n            LONG dwRes = RegQueryValueEx(hKey, achValue, 0, NULL, buffer, &amp;lpData);\n\n            LPTSTR val = (TCHAR*)buffer;\n            MessageBox(NULL, val, L\"VALUE\", MB_OK);\n\n            auto r = mymap.insert(pair&lt;int, LPTSTR&gt;(i, val));\n\n            for (map&lt;int, LPTSTR&gt;::const_iterator it = mymap.begin(); it != mymap.end(); it++)\n            {\n                wchar_t szMessage2[1300];\n                if (SUCCEEDED(StringCchPrintf(szMessage2, ARRAYSIZE(szMessage2), L\"+ %d : %s\\n\", it-&gt;first, it-&gt;second)))\n                {\n                    MessageBox(NULL, szMessage2, L\"MAP\", MB_OK);\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>How to correct save val to map? Right now all keys have the same value (latest).</p>\n"}, {"tags": ["c++", "linux", "visual-studio", "visual-studio-2015", "shared-project"], "comments": [{"owner": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "edited": false, "score": 0, "creation_date": 1507934596, "post_id": 46695230, "comment_id": 80424809, "body": "I think it follows whatever you&#39;ve set as the start-up project (right-click on project in solution explorer for menu)."}, {"owner": {"reputation": 170, "user_id": 2017263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7777f58c83b9930bf45c7e2c83c45c67?s=128&d=identicon&r=PG", "display_name": "theNotSoPro", "link": "https://stackoverflow.com/users/2017263/thenotsopro"}, "reply_to_user": {"reputation": 1031, "user_id": 6763393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c44926355c84effac26e3a3f1582405a?s=128&d=identicon&r=PG&f=1", "display_name": "stanthomas", "link": "https://stackoverflow.com/users/6763393/stanthomas"}, "edited": false, "score": 0, "creation_date": 1508520166, "post_id": 46695230, "comment_id": 80655849, "body": "@stanthomas Thanks. That made the default &quot;Build and Run&quot; button in the toolbar default to the the compiler of the start-up project. But Ctrl-F7 still defaults to using the remote compiler."}], "owner": {"reputation": 170, "user_id": 2017263, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7777f58c83b9930bf45c7e2c83c45c67?s=128&d=identicon&r=PG", "display_name": "theNotSoPro", "link": "https://stackoverflow.com/users/2017263/thenotsopro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1602072614, "creation_date": 1507746679, "last_edit_date": 1602072614, "question_id": 46695230, "link": "https://stackoverflow.com/questions/46695230/choose-which-compiler-to-use-when-compiling-individual-files-in-the-shared-proje", "title": "Choose which compiler to use when compiling individual files in the Shared Project?", "body": "<p>I have one Windows project, a Linux project and a Shared Project referenced by both the first two projects.</p>\n\n<p>I've set up everything necessary to build the Linux project with a Remote Debugger. Now when I try to compile a file individually in the Shared Project (Ctrl+F7), it defaults to trying to compile it with the remote compiler. Is there any way to choose which compiler to use when compiling individual files in the Shared Project?</p>\n"}, {"tags": ["c++", "string", "esp8266", "arduino-esp8266"], "comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507761398, "post_id": 46695060, "comment_id": 80344786, "body": "Not SO, that would make the program crash.  But sure, running out of storage is never handled smoothly in these micro-machines.  <a href=\"https://stackoverflow.com/a/30958251/17034\">stackoverflow.com/a/30958251/17034</a>"}], "answers": [{"tags": [], "owner": {"reputation": 37741, "user_id": 3425536, "user_type": "registered", "accept_rate": 72, "profile_image": "https://graph.facebook.com/1484495923/picture?type=large", "display_name": "emlai", "link": "https://stackoverflow.com/users/3425536/emlai"}, "is_accepted": true, "score": 5, "last_activity_date": 1507761829, "creation_date": 1507761829, "answer_id": 46698660, "question_id": 46695060, "link": "https://stackoverflow.com/questions/46695060/string-gets-corrupted-stack-overflow/46698660#46698660", "title": "String gets corrupted - stack overflow?", "body": "<p>In <code>str2char</code> you're returning a pointer to a local array, but like every local variable, it doesn't exist anymore after the function has returned. So reading from the returned pointer causes undefined behavior.</p>\n\n<p>Compiling with warnings enabled (which is highly recommended) should output something like:</p>\n\n<blockquote>\n  <p>warning: address of local variable 'as_char' returned</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 7467472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1316751078383568/picture?type=large", "display_name": "Sim Son", "link": "https://stackoverflow.com/users/7467472/sim-son"}, "is_accepted": false, "score": 0, "last_activity_date": 1507827293, "last_edit_date": 1507827293, "creation_date": 1507766183, "answer_id": 46699284, "question_id": 46695060, "link": "https://stackoverflow.com/questions/46695060/string-gets-corrupted-stack-overflow/46699284#46699284", "title": "String gets corrupted - stack overflow?", "body": "<p>(one) correct code would be</p>\n\n<pre><code>#include &lt;WiFiClient.h&gt;\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;Wire.h&gt;\n#include &lt;string.h&gt;\n\n#define TCP_RESPONSE_L 1024\n\nstruct parsed_query{\n  String command;\n  String arguments;\n};\n\nstruct parsed_query parser(void){\n  // this function receives and parses a query\n  struct parsed_query result;\n  result.command=\"entered command\";\n  result.arguments=\"entered arguments\"\n  return result\n}\n\nint str2char(char *as_char, String as_string, int max_length){\n  int i_0=0;\n  while(as_string[i_0]!='\\0'){\n    if(i_0&gt;=max_length){as_string=\"error: caught an overflow! increase TCP_BUFFER_L\";break;}\n    i_0++;\n  }\n  as_char[i_0]='\\0';\n  for(int i=0;i&lt;i_0;i++){\n    as_char[i]=as_string[i];\n  }\n  return 1;\n}\n\nString executor(String command,String arguments){\n  String response;\n  if(command==\"dim\"){\n    response=\"dimming\";\n  }\n  else if(command==\"on\"){\n    response=\"switching ON\";\n  }\n  else{\n    response=\"error: unknown command\";\n  }\n  return response;\n}\n\nvoid setup(){\n// initialize serial interface, wifi &amp; tcp-server\n  Serial.begin(115200);\n  WiFi.begin(\"&lt;SSID&gt;\",\"&lt;PASSWORD&gt;\");\n  while (WiFi.status() != WL_CONNECTED){delay(500);}\n  TCPserver.begin();\n  }\n\nvoid loop() {\n  if(!client.connected()){\n    client=TCPserver.available();\n  }else{\n    struct parsed_query query=parser();\n    char response[TCP_RESPONSE_L];\n\n    str2char(response,executor(query.command,query.arguments),TCP_RESPONSE_L);\n\n    //prints fine\n    Serial.println(str2char(executor(query.command,query.arguments)));\n\n    //correctly sending to client\n    client.write(str2char(executor(query.command,query.arguments))));\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 256, "user_id": 7467472, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1316751078383568/picture?type=large", "display_name": "Sim Son", "link": "https://stackoverflow.com/users/7467472/sim-son"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 46698660, "answer_count": 2, "score": 2, "last_activity_date": 1507827293, "creation_date": 1507746086, "last_edit_date": 1507760799, "question_id": 46695060, "link": "https://stackoverflow.com/questions/46695060/string-gets-corrupted-stack-overflow", "title": "String gets corrupted - stack overflow?", "body": "<p>I'm despairing! I want to have my ESP8266 receive a string from a TCP client, execute the corresponding function and give a TCP response. But unfortunately the response string gets corrupted in some strange way:\nAssuming that I enter an 'unknown command', the first 11 bytes are printed correctly via the serial interface (the rest is dump) and the first 11 bytes received by the client are dump, but the rest is correct (see comments in script below). But when I enter the 'dim' command the result is correct (but the return string is also shorter than \"error: unknown command\").\nFor the moment I have absolutely no idea how to fix this, even though I've tried a lot.</p>\n\n<pre><code>#include &lt;WiFiClient.h&gt;\n#include &lt;ESP8266WiFi.h&gt;\n#include &lt;Wire.h&gt;\n#include &lt;string.h&gt;\n\nstruct parsed_query{\n  String command;\n  String arguments;\n};\n\nstruct parsed_query parser(void){\n  // this function receives and parses a query\n  struct parsed_query result;\n  result.command=\"entered command\";\n  result.arguments=\"entered arguments\"\n  return result\n}\n\nchar* str2char(String as_string){\n  int i_0=0;\n  while(as_string[i_0]!='\\0'){i_0++;}\n  char as_char[i_0+1];\n  as_char[i_0]='\\0';\n  for(int i=0;i&lt;i_0;i++){\n    as_char[i]=as_string[i];\n  }\n  return as_char;\n}\n\nString executor(String command,String arguments){\n  String response;\n  if(command==\"dim\"){\n    response=\"dimming\";\n  }\n  else if(command==\"on\"){\n    response=\"switching ON\";\n  }\n  else{\n    response=\"error: unknown command\";\n  }\n  return response;\n}\n\nvoid setup(){\n// initialize serial interface, wifi &amp; tcp-server\n  Serial.begin(115200);\n  WiFi.begin(\"&lt;SSID&gt;\",\"&lt;PASSWORD&gt;\");\n  while (WiFi.status() != WL_CONNECTED){delay(500);}\n  TCPserver.begin();\n  }\n\nvoid loop() {\n  if(!client.connected()){\n    client=TCPserver.available();\n  }else{\n    struct parsed_query query=parser();\n\n// This prints \"error: unkno??*/???*??\"\n    Serial.println(str2char(executor(query.command,query.arguments)));\n\n// here, the client receives \"????**?*??*?wn command\"\n  client.write(str2char(executor(query.command,query.arguments))));\n  }\n}\n</code></pre>\n\n<p>I have two ideas what could be causing this result (even though I don't know where to fix it in my code):</p>\n\n<p>Case 1:\nMaybe, I meshed up call-by-reference and call-by-value at some point (if yes, where??)</p>\n\n<p>Case 2:\nMy programm is causing a stack overflow (if yes, where??)</p>\n\n<p>Any help highly appreciated as I don't want to spend one more night.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 14, "creation_date": 1507745768, "post_id": 46694977, "comment_id": 80337689, "body": "Why would you need to do that? Your base class already has its <code>this</code>"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1507745856, "post_id": 46694977, "comment_id": 80337731, "body": "It is valid syntax but does not make sense, why would you copy construct from uninitialized?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1507746136, "post_id": 46694977, "comment_id": 80337872, "body": "Beware that <code>*this</code> will not have been initialized yet. It&#39;s hard to imagine a situation where this would be useful or do what you wanted."}, {"owner": {"user_type": "does_not_exist", "display_name": "user743382"}, "edited": false, "score": 7, "creation_date": 1507746169, "post_id": 46694977, "comment_id": 80337884, "body": "This is a horrible question. Sure, technically, yes, passing <code>*this</code> to a base class constructor is okay, but that doesn&#39;t even remotely make your example okay, and posting &quot;yes&quot; as an actual answer would be so misleading to be actively harmful. This is like asking &quot;is it okay to add two unsigned integers&quot; with an example of <code>unsigned f() { unsigned u1, u2; return u1 + u2; }</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1507748701, "post_id": 46694977, "comment_id": 80339223, "body": "There is the potential for a good question in here, but your example is flawed. What are you really trying to do?"}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507751782, "post_id": 46694977, "comment_id": 80340771, "body": "This makes perfect sense and I used to use this (before CRTP was something that passed code reviews without much pressure)."}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1507752147, "post_id": 46694977, "comment_id": 80340982, "body": "I don\u2019t think the constructors are specified for lambda types, so even though you can inherit from lambdas (and this is useful), I don\u2019t think you can legally pass <code>*this</code> to the lambda\u2019s constructor."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 1, "creation_date": 1566582511, "post_id": 46694977, "comment_id": 101715565, "body": "I recently did something similar: <a href=\"https://stackoverflow.com/q/57007728/1896169\">stackoverflow.com/q/57007728/1896169</a>"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1566598525, "post_id": 46694977, "comment_id": 101720309, "body": "Assuming the accepted answer in the linked question is correct, this is valid. This is effectively the same thing, just with a derived class thrown into the mix. You probably also need <code>std::is_trivially_copyable_v&lt;T&gt;</code>, otherwise the copy constructor could do unexpected things."}], "answers": [{"comments": [{"owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1507751084, "post_id": 46696275, "comment_id": 80340380, "body": "I&#39;d say however that his example invoke undefined behavior, especially if the lambda has a state."}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "reply_to_user": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "edited": false, "score": 0, "creation_date": 1507751854, "post_id": 46696275, "comment_id": 80340816, "body": "Can you please elaborate why? In Desc, I assume myType and arity to be static constexpr const if that&#39;s misleading..."}, {"owner": {"reputation": 463, "user_id": 2657179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516fe6fe86e7f822cbcd6f670a6b06da?s=128&d=identicon&r=PG", "display_name": "Kilian", "link": "https://stackoverflow.com/users/2657179/kilian"}, "edited": false, "score": 0, "creation_date": 1507814258, "post_id": 46696275, "comment_id": 80367678, "body": "@lorro : Many thanks for your anser! Do you have a quote from the Standard to verify that it is valid?"}, {"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "reply_to_user": {"reputation": 463, "user_id": 2657179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516fe6fe86e7f822cbcd6f670a6b06da?s=128&d=identicon&r=PG", "display_name": "Kilian", "link": "https://stackoverflow.com/users/2657179/kilian"}, "edited": false, "score": 0, "creation_date": 1507836788, "post_id": 46696275, "comment_id": 80381331, "body": "@Kilian : I don&#39;t expect you&#39;ll find any specific part of the standard explicitly saying this. It&#39;s just that a template class can use pointers of type that&#39;s the template parameter anywhere - Lambda is defined at this point."}], "tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 2, "last_activity_date": 1507751908, "last_edit_date": 1507751908, "creation_date": 1507750926, "answer_id": 46696275, "question_id": 46694977, "link": "https://stackoverflow.com/questions/46694977/c-pass-this-to-base-constructor/46696275#46696275", "title": "C++ pass *this to base constructor", "body": "<p>This is valid AND is perfectly useful: your base class might have a template ctor which will then know the descendant's type.</p>\n\n<pre><code>struct Lambda {\n    template&lt;typename Desc&gt;\n    Lambda(const Desc&amp;)\n        : myType(Desc::myType)  // static in Desc\n        , arity(Desc::arity) {} // static in Desc\n    Type myType;\n    const size_t arity;\n};\n</code></pre>\n\n<p>At this point, we have runtime type enum w/o virtual table, we can extract arbitrary number of type-dependant params to members and you don't need to change all ctor calls in all descendants if you add one more (which is especially painful for virtual base classes otherwise), or worse yet, have virtual fns cor these. You just pass <code>this</code> everywhere - it's even macro-friendly :).</p>\n\n<p>Yes, you can circumvent it by passing something else than this. No, it's not a safety function - it's a convenience function. This is very similar to CRTP, but the base is not a template as it doesn't need compile-time descendant type in the entire class, only inside the (template) ctor.</p>\n"}], "owner": {"reputation": 463, "user_id": 2657179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/516fe6fe86e7f822cbcd6f670a6b06da?s=128&d=identicon&r=PG", "display_name": "Kilian", "link": "https://stackoverflow.com/users/2657179/kilian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1507814050, "creation_date": 1507745711, "last_edit_date": 1507814050, "question_id": 46694977, "link": "https://stackoverflow.com/questions/46694977/c-pass-this-to-base-constructor", "title": "C++ pass *this to base constructor", "body": "<p>Is it valid, to pass *this to a base class constructor?</p>\n\n<pre><code>template&lt;class Lambda&gt;\nstruct EmptyL : Lambda\n{\n    EmptyL() : Lambda(*this) //&lt;- is this valid c++?\n    { }\n};\n\nint main () {    \nauto l = []() { return 34; };\nauto a = EmptyL&lt;decltype(l)&gt;();\nreturn a();\n}\n</code></pre>\n\n<p><strong>EDIT1:</strong></p>\n\n<ul>\n<li>Why do I do this? Because the <a href=\"http://en.cppreference.com/w/cpp/language/lambda\" rel=\"nofollow noreferrer\" title=\"ClosureType\">ClosureType</a> generated by a lambda expression is not default constructible. And by this \"Trick\" I am able to default construct such a ClosureType.</li>\n<li>Additionaly the requirements for the template parameter <code>Lambda</code> are, that it has to be empty => <code>static_assert(std::is_empty_v&lt;Lambda&gt;)</code></li>\n</ul>\n"}, {"tags": ["c++", "class", "friend"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1507745279, "post_id": 46694848, "comment_id": 80337453, "body": "Why are you trying to make a <code>char*</code> a friend?"}, {"owner": {"reputation": 9215, "user_id": 5212827, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7e9f9b0d7e2d571c9f8886dd54bd50f9?s=128&d=identicon&r=PG&f=1", "display_name": "DeiDei", "link": "https://stackoverflow.com/users/5212827/deidei"}, "edited": false, "score": 0, "creation_date": 1507745301, "post_id": 46694848, "comment_id": 80337466, "body": "What&#39;s the use of friend variables?"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 8, "creation_date": 1507745308, "post_id": 46694848, "comment_id": 80337471, "body": "Please post text rather than pictures when possible. Apart from that, you get the message because there&#39;s no such thing as a friend variable."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 2, "creation_date": 1507745316, "post_id": 46694848, "comment_id": 80337477, "body": "I can&#39;t even see the message. Please don&#39;t use screen shots."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1507745359, "post_id": 46694848, "comment_id": 80337496, "body": "What is <code>friend char* NameVar;</code> supposed to do?"}, {"owner": {"reputation": 413, "user_id": 8103305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/19b662fc11a78f6f8e74f7005c973664?s=128&d=identicon&r=PG&f=1", "display_name": "Jan021981", "link": "https://stackoverflow.com/users/8103305/jan021981"}, "edited": false, "score": 0, "creation_date": 1507745748, "post_id": 46694848, "comment_id": 80337677, "body": "I want to make my private variables be accessable in classes, where I write <code>friend class CMesh</code>"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507745797, "post_id": 46694848, "comment_id": 80337702, "body": "@Jan021981, <code>friend class CMesh;</code> means <code>CMesh</code> can access that class&#39;s private stuff, not the other way around."}, {"owner": {"reputation": 413, "user_id": 8103305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/19b662fc11a78f6f8e74f7005c973664?s=128&d=identicon&r=PG&f=1", "display_name": "Jan021981", "link": "https://stackoverflow.com/users/8103305/jan021981"}, "edited": false, "score": 0, "creation_date": 1507745869, "post_id": 46694848, "comment_id": 80337742, "body": "No, it&#39;s ok - I thought, I can also use that for variables, not only for functions...."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507746544, "post_id": 46694848, "comment_id": 80338105, "body": "@Jan021981 How would a variable access something from another class?? That makes absolutely no sense."}], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 8103305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/19b662fc11a78f6f8e74f7005c973664?s=128&d=identicon&r=PG&f=1", "display_name": "Jan021981", "link": "https://stackoverflow.com/users/8103305/jan021981"}, "edited": false, "score": 0, "creation_date": 1507745439, "post_id": 46694879, "comment_id": 80337524, "body": "Ok, looking at that <a href=\"http://en.cppreference.com/w/cpp/language/friend\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/friend</a> I thought it&#39;s possible, to make only a part of the private class members accessable."}, {"owner": {"reputation": 413, "user_id": 8103305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/19b662fc11a78f6f8e74f7005c973664?s=128&d=identicon&r=PG&f=1", "display_name": "Jan021981", "link": "https://stackoverflow.com/users/8103305/jan021981"}, "edited": false, "score": 0, "creation_date": 1507745527, "post_id": 46694879, "comment_id": 80337568, "body": "It&#39;s an older class I&#39;m using, and I just make the private parts visible, when initializing it. Else if, I have to write functions that will only be used once at initialization...."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507745924, "post_id": 46694879, "comment_id": 80337775, "body": "If you want to make a private part externally visible, why make it private in the first place?"}, {"owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507746435, "post_id": 46694879, "comment_id": 80338039, "body": "@Fran&#231;oisAndrieux look at the example, you may want certain classes to be able to see private parts that others don&#39;t. In the example they use it&#39;s helpful to let a linked list class look at nodes but you don&#39;t want any other class to be able to edit those nodes."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507746655, "post_id": 46694879, "comment_id": 80338168, "body": "@Kilbo I understand the benefits of <code>friend</code> but Jan021981 seems to be trying to make members just <code>friend</code> <i>in general</i>. I wants to &quot;make private parts visible&quot; without specifying any constraints. It&#39;s the intention that confuses me."}, {"owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507746903, "post_id": 46694879, "comment_id": 80338301, "body": "@Fran&#231;oisAndrieux My bad, I thought you were just asking in general what the point of a friend class is. I see his comments now."}], "tags": [], "owner": {"reputation": 73, "user_id": 6480751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04437060a8ab3add37d488aa5c9f9f89?s=128&d=identicon&r=PG&f=1", "display_name": "Kilbo", "link": "https://stackoverflow.com/users/6480751/kilbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507745329, "creation_date": 1507745329, "answer_id": 46694879, "question_id": 46694848, "link": "https://stackoverflow.com/questions/46694848/simple-friend-declaration-c/46694879#46694879", "title": "Simple - friend declaration c++", "body": "<p>You make classes friends of each other. You cannot make a char pointer a friend. Read up on this <a href=\"http://www.geeksforgeeks.org/friend-class-function-cpp/\" rel=\"nofollow noreferrer\">http://www.geeksforgeeks.org/friend-class-function-cpp/</a></p>\n"}, {"tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 2, "last_activity_date": 1507745753, "last_edit_date": 1507745753, "creation_date": 1507745410, "answer_id": 46694894, "question_id": 46694848, "link": "https://stackoverflow.com/questions/46694848/simple-friend-declaration-c/46694894#46694894", "title": "Simple - friend declaration c++", "body": "<p>A class can declare another class or a function as its friend. A variable cannot be made a friend of a class. If you think about it a bit more, it would make sense. A variable has a value. It does not need access to another class for it to be useful. A function or class, on other hand, may require access to the private and protected sections of other classes for its implementation.</p>\n\n<p>More on the topic can be seen at <a href=\"https://timsong-cpp.github.io/cppwp/n3337/class.friend\" rel=\"nofollow noreferrer\">https://timsong-cpp.github.io/cppwp/n3337/class.friend</a>.</p>\n\n<p>A snippet from that page:</p>\n\n<blockquote>\n  <p>A friend of a class is a function or class that is given permission to use the private and protected member names from the class. A class specifies its friends, if any, by way of friend declarations.</p>\n</blockquote>\n"}], "owner": {"reputation": 413, "user_id": 8103305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/19b662fc11a78f6f8e74f7005c973664?s=128&d=identicon&r=PG&f=1", "display_name": "Jan021981", "link": "https://stackoverflow.com/users/8103305/jan021981"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1507746398, "answer_count": 2, "score": -3, "last_activity_date": 1508882349, "creation_date": 1507745229, "last_edit_date": 1508882349, "question_id": 46694848, "link": "https://stackoverflow.com/questions/46694848/simple-friend-declaration-c", "closed_reason": "Not suitable for this site", "title": "Simple - friend declaration c++", "body": "<p>short question - why do I get this message?</p>\n\n<p><a href=\"https://i.stack.imgur.com/ooMWK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ooMWK.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "security", "floating-point", "numerical-methods", "sgx"], "comments": [{"owner": {"reputation": 671, "user_id": 8022336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VsZUw.png?s=128&g=1", "display_name": "pointerless", "link": "https://stackoverflow.com/users/8022336/pointerless"}, "edited": false, "score": 1, "creation_date": 1507746694, "post_id": 46694824, "comment_id": 80338178, "body": "How precise does it need to be? Are the values going to be similar/repeated?"}, {"owner": {"reputation": 575, "user_id": 5116581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/68e6f94f4333705a5f74190057d92c91?s=128&d=identicon&r=PG&f=1", "display_name": "Arya Pourtabatabaie", "link": "https://stackoverflow.com/users/5116581/arya-pourtabatabaie"}, "reply_to_user": {"reputation": 671, "user_id": 8022336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VsZUw.png?s=128&g=1", "display_name": "pointerless", "link": "https://stackoverflow.com/users/8022336/pointerless"}, "edited": false, "score": 0, "creation_date": 1507750453, "post_id": 46694824, "comment_id": 80340038, "body": "@riscnotcisc Ideally, I want to be able to control my worst-case accuracy by determining the running time."}, {"owner": {"reputation": 19034, "user_id": 780717, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eead3a6ab011b880ca6ec354ca00f0b3?s=128&d=identicon&r=PG", "display_name": "njuffa", "link": "https://stackoverflow.com/users/780717/njuffa"}, "edited": false, "score": 1, "creation_date": 1507752684, "post_id": 46694824, "comment_id": 80341244, "body": "I think the question is on-topic here. OP is looking for an implementation of, say, <code>logf()</code> that is invariant in run time and memory access pattern regardless of argument. This does not seem all that difficult to construct, but requires that the hardware architecture provides for either predicated execution or select-type instructions (at minimum: conditional move), so as  to eliminate all branching from the machine code. @AryaPourtabatabaie Does your hardware platform fulfill those requirements?"}, {"owner": {"reputation": 575, "user_id": 5116581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/68e6f94f4333705a5f74190057d92c91?s=128&d=identicon&r=PG&f=1", "display_name": "Arya Pourtabatabaie", "link": "https://stackoverflow.com/users/5116581/arya-pourtabatabaie"}, "edited": false, "score": 0, "creation_date": 1508934822, "post_id": 46694824, "comment_id": 80811959, "body": "Modern &quot;x86_64 Intel CPUs&quot; (as indicated in your own answer) are targeted."}], "answers": [{"comments": [{"owner": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 2, "creation_date": 1507756878, "post_id": 46697649, "comment_id": 80343188, "body": "Being branchless is not enough for constant-time operations on floating point values. You also must ensure that all operations run in constant time individually. At least some x86 microarchitectures have severe penalties for floating point operations on normalized floating point values that produce denormalized results."}, {"owner": {"reputation": 19034, "user_id": 780717, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eead3a6ab011b880ca6ec354ca00f0b3?s=128&d=identicon&r=PG", "display_name": "njuffa", "link": "https://stackoverflow.com/users/780717/njuffa"}, "reply_to_user": {"reputation": 5821, "user_id": 3185968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc0f4eda45ce3e2ff4249afbfdac43e?s=128&d=identicon&r=PG&f=1", "display_name": "EOF", "link": "https://stackoverflow.com/users/3185968/eof"}, "edited": false, "score": 1, "creation_date": 1507759635, "post_id": 46697649, "comment_id": 80344254, "body": "@EOF That&#39;s a good point that I forgot to mention, I will update the answer. While denormal outputs are usually the more severe problem, denormal inputs can also lengthen execution times. This is a problem often encountered on x86 processors, shouldn&#39;t be a problem with NVIDIA GPUs (which handle denormals at full speed) which comprise my day-to-day programming platform. My code should minimize the impact but likely does not eliminate it entirely."}], "tags": [], "owner": {"reputation": 19034, "user_id": 780717, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/eead3a6ab011b880ca6ec354ca00f0b3?s=128&d=identicon&r=PG", "display_name": "njuffa", "link": "https://stackoverflow.com/users/780717/njuffa"}, "is_accepted": true, "score": 5, "last_activity_date": 1507777012, "last_edit_date": 1507777012, "creation_date": 1507756390, "answer_id": 46697649, "question_id": 46694824, "link": "https://stackoverflow.com/questions/46694824/side-channel-resistant-math-functions-for-c/46697649#46697649", "title": "Side-Channel-Resistant Math Functions for C++", "body": "<p>The tag <a href=\"/questions/tagged/sgx\" class=\"post-tag\" title=\"show questions tagged &#39;sgx&#39;\" rel=\"tag\">sgx</a> suggests that your hardware platform is a very recent x86_64 Intel CPU that also has support for AVX2 and the FMA operation. The key to an implementation that is invariant in run time and memory access pattern is the avoidance of branches. If the compiler cooperates and converts simple conditional assignments into appropriate conditional move or blend instructions, the implementation of <code>logf()</code> below should work fine. However, relying on compiler code generation is brittle, and out of the various compilers offered by the Compiler Explorer, I could only get clang to deliver something <a href=\"https://godbolt.org/g/uAwFxD\" rel=\"noreferrer\">close to the desired result</a>, with all branches converted except one (the conditional assignment of <code>a = t</code> in the handling of denormal inputs).</p>\n\n<p>So you will likely have to do manual work to enforce result selection through appropriate instructions instead of branch-y code, for example by the use of intrinsics.</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/3185968/eof\">EOF</a> pointed out in comments, eliminating branches is a necessary but not sufficient condition, as individual floating-point operations can also have variable runtime, even if they are just adds, multiplies, and FMAs. This is not a problem on architectures that handle special operands such as subnormals (often called denormals) at speed, e.g. GPUs. However, this is an issue on x86 processors I worked with and worked on. Usually, the most severe variability occurs due to denormal results, with a much smaller impact from denormal source operands. </p>\n\n<p>Code shown below contains multiple operations using the original argument <code>a</code> as a source operand which exposes it to the risk of runtime variation due to denormal inputs. Whether potential variations in run-time rise above noise level (for example due to variablity in pipeline state at the point the function is called) should be carefully tested for the specific platform(s) where one intends to deploy the code.</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>#include &lt;cstdint&gt;\n#include &lt;cstring&gt;\n#include &lt;cmath&gt;\n\nint __float_as_int (float a)\n{\n    int r;\n    memcpy (&amp;r, &amp;a, sizeof(r));\n    return r;\n}\n\nfloat __int_as_float (int a)\n{\n    float r;\n    memcpy (&amp;r, &amp;a, sizeof(r));\n    return r;\n}\n\n/* maximum error 0.85417 ulp */\nfloat my_logf (float a)\n{\n    float m, r, s, t, i, f, u;\n    int32_t e;\n\n    /* result for exceptional cases */\n    u = a + a;  // silence NaNs if necessary\n    if (a  &lt; 0.0f) u =  0.0f / 0.0f; //  NaN\n    if (a == 0.0f) u = -1.0f / 0.0f; // -Inf\n\n    /* result for non-exceptional cases */\n    i = 0.0f;\n\n    /* fix up denormal input if needed */\n    t = a * 8388608.0f;\n    if (a &lt; 1.17549435e-38f) {\n        a = t;\n        i = -23.0f;\n    }\n\n    /* split argument into exponent and mantissa parts */\n    e = (__float_as_int (a) - 0x3f2aaaab) &amp; 0xff800000;\n    m = __int_as_float (__float_as_int (a) - e);\n    i = fmaf ((float)e, 1.19209290e-7f, i);\n\n    /* m in [2/3, 4/3] */\n    f = m - 1.0f;\n    s = f * f;\n    /* Compute log1p(f) for f in [-1/3, 1/3] */\n    r =             -0.130310059f; \n    t =              0.140869141f; \n    r = fmaf (r, s, -0.121489234f);\n    t = fmaf (t, s,  0.139809728f);\n    r = fmaf (r, s, -0.166844666f);\n    t = fmaf (t, s,  0.200121239f);\n    r = fmaf (r, s, -0.249996305f);\n    r = fmaf (t, f, r);\n    r = fmaf (r, f,  0.333331943f);\n    r = fmaf (r, f, -0.500000000f);\n    r = fmaf (r, s, f);\n    r = fmaf (i, 0.693147182f, r); // log(2) \n\n    /* late selection between exceptional and non-exceptional result */\n    if (!((a &gt; 0.0f) &amp;&amp; (a &lt;= 3.40282347e+38f))) r = u;\n\n    return r;\n}\n</code></pre>\n\n<p>The potential issues identified above can be addressed by performing both special case handling in the logarithm computation and result selection by portable integer-based code. The obvious trade-off is a loss of performance. Handling of denormal arguments requires normalization based on a count of leading zeros (CLZ). While x86 processor have instructions for this, they might not be accessible in portable fashion from C++. But a portable implementation with invariant runtime can be constructed in a straightforward way. This leads to a branchless implementation that I would expect to work well with most compilers, but double checking the generated machine code will be essential. I used to Compiler Explorer to verify that it compiles as desired with <a href=\"https://godbolt.org/g/yxZNbu\" rel=\"noreferrer\">gcc</a></p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>#include &lt;cstdint&gt;\n#include &lt;cstring&gt;\n#include &lt;cmath&gt;\n\nint __float_as_int (float a)\n{\n    int r;\n    memcpy (&amp;r, &amp;a, sizeof(r));\n    return r;\n}\n\nfloat __int_as_float (int a)\n{\n    float r;\n    memcpy (&amp;r, &amp;a, sizeof(r));\n    return r;\n}\n\n/* branch free implementation of ((cond) ? a : b). cond must be in {0,1} */\nint32_t mux (int cond, int32_t a, int32_t b)\n{\n    int32_t mask = cond * 0xffffffff;\n    return (mask &amp; a) | (~mask &amp; b);\n}\n\n/* portable implementation of leading zero count with invariant runtime */\nint clz (uint32_t x)\n{\n    int n = 32;\n    uint32_t y;\n\n    y = x &gt;&gt; 16; n = mux (!!y, n - 16, n); x = mux (!!y, y, x);\n    y = x &gt;&gt;  8; n = mux (!!y, n -  8, n); x = mux (!!y, y, x);\n    y = x &gt;&gt;  4; n = mux (!!y, n -  4, n); x = mux (!!y, y, x);\n    y = x &gt;&gt;  2; n = mux (!!y, n -  2, n); x = mux (!!y, y, x);\n    y = x &gt;&gt;  1; n = mux (!!y, n -  2, n - x);\n    return n;\n}\n\n/* maximum error 0.85417 ulp */\nfloat my_logf (float a)\n{\n    float m, r, s, t, i, f;\n    int32_t e, ia, ii, ir, it, iu, shift;\n    const int32_t abs_mask = 0x7fffffff;\n    const int32_t qnan_bit = 0x00400000;\n    const int32_t pos_inf = 0x7f800000;\n    const int32_t neg_inf = 0xff800000;\n    const int32_t indefinite = 0xffc00000;\n    const int32_t tiny_float = 0x00800000; // 1.17549435e-38f\n    const int32_t huge_float = 0x7f7fffff; // 3.40282347e+38f \n\n    ia = __float_as_int (a);\n\n    /* result for exceptional cases */\n    iu = mux (ia &lt; 0, indefinite, ia); // return QNaN INDEFINITE\n    iu = mux ((ia &amp; abs_mask) == 0, neg_inf, iu); // return -Inf\n    iu = mux ((ia &amp; abs_mask) &gt; pos_inf, ia | qnan_bit, iu); // convert to QNaN\n\n    /* result for non-exceptional cases */\n    shift = clz (ia) - 8;\n    it = (ia &lt;&lt; shift) + ((23 - shift) &lt;&lt; 23);\n    ii = mux (ia &lt; tiny_float, -23, 0);\n    it = mux (ia &lt; tiny_float, it, ia);\n\n    /* split argument into exponent and mantissa parts */\n    e = (it - 0x3f2aaaab) &amp; 0xff800000;\n    m = __int_as_float (it - e);\n    i = fmaf ((float)e, 1.19209290e-7f, (float)ii);\n\n    /* m in [2/3, 4/3] */\n    f = m - 1.0f;\n    s = f * f;\n    /* Compute log1p(f) for f in [-1/3, 1/3] */\n    r =             -0.130310059f; \n    t =              0.140869141f; \n    r = fmaf (r, s, -0.121489234f);\n    t = fmaf (t, s,  0.139809728f);\n    r = fmaf (r, s, -0.166844666f);\n    t = fmaf (t, s,  0.200121239f);\n    r = fmaf (r, s, -0.249996305f);\n    r = fmaf (t, f, r);\n    r = fmaf (r, f,  0.333331943f);\n    r = fmaf (r, f, -0.500000000f);\n    r = fmaf (r, s, f);\n    r = fmaf (i, 0.693147182f, r); // log(2) \n\n    /* late selection between exceptional and non-exceptional result */\n    ir = __float_as_int (r);\n    ir = mux ((ia &gt; 0) &amp;&amp; (ia &lt;= huge_float), ir, iu);\n    r = __int_as_float (ir);\n\n    return r;\n}\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 5116581, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/68e6f94f4333705a5f74190057d92c91?s=128&d=identicon&r=PG&f=1", "display_name": "Arya Pourtabatabaie", "link": "https://stackoverflow.com/users/5116581/arya-pourtabatabaie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 1, "accepted_answer_id": 46697649, "answer_count": 1, "score": 4, "last_activity_date": 1507777012, "creation_date": 1507745141, "question_id": 46694824, "link": "https://stackoverflow.com/questions/46694824/side-channel-resistant-math-functions-for-c", "title": "Side-Channel-Resistant Math Functions for C++", "body": "<p>I'm working on an SGX project processing secret data, and at some point, I need to evaluate the natural logarithm of a floating point number. The evaluation process should be side-channel-resistant, meaning its running time and memory access patterns are to be independent of its input and output.</p>\n\n<p>Is there such an implementation out there in the wild? Has the problem been addressed in literature?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507745209, "post_id": 46694823, "comment_id": 80337407, "body": "Well then time to find out what compiler you are using (name, version number, etc.)?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1507745236, "post_id": 46694823, "comment_id": 80337424, "body": "How is <code>LUID</code> defined?  Do you have C++11 or higher turned on?"}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507747526, "post_id": 46694823, "comment_id": 80338658, "body": "@UnholySheep The only common C++ compiler that outputs errors in that format is MS VC++."}], "answers": [{"comments": [{"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1507747632, "post_id": 46694931, "comment_id": 80338705, "body": "That doesn\u2019t explain why it was giving a <i>syntax</i> error. It\u2019s valid syntax even if it isn\u2019t valid to do it for the <code>LUID</code> class."}], "tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 3, "last_activity_date": 1507746499, "last_edit_date": 1507746499, "creation_date": 1507745516, "answer_id": 46694931, "question_id": 46694823, "link": "https://stackoverflow.com/questions/46694823/c-member-variable-aggregate-initialization/46694931#46694931", "title": "C++ - member variable aggregate initialization", "body": "<p>Statement <code>LUID test = {0, 0}</code> is an <em>initialization</em> of a local variable using an initialization list; this is valid, as it is used in the course of a variable definition. <code>test = {0, 0}</code>, in contrast, is an <em>assignment</em>, as <code>test</code> is defined elsewhere. Assigning initializer lists is supported only in particular cases (e.g. when assigning to a scalar or to a particular sort of class type (cf., for example, <a href=\"http://eel.is/c++draft/expr.ass#9\" rel=\"nofollow noreferrer\">braced-init-list assignment</a>). </p>\n\n<p>Other cases, like, for example, arrays, cannot be assigned but just initialized:</p>\n\n<pre><code>typedef int LUID[2];\n\nint main(){\n\n    LUID t = { 10, 20 }; // compiles\n    // t = { 10, 20};     // does not compile, since an array is not assignable\n\n     return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8760794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de3c77010321fabd2d5d24d4310d5d36?s=128&d=identicon&r=PG&f=1", "display_name": "user8760794", "link": "https://stackoverflow.com/users/8760794/user8760794"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507746499, "creation_date": 1507745131, "question_id": 46694823, "link": "https://stackoverflow.com/questions/46694823/c-member-variable-aggregate-initialization", "title": "C++ - member variable aggregate initialization", "body": "<p>In the following code:</p>\n\n<pre><code>class Class\n{\nprivate:\nLUID luid;\n\npublic:\nClass()\n{\nluid = { 0, 0}; // A. Does not compile\nLUID test = {0, 0}; // B. Compiles\ntest = {1,1}; // C. Does not compile\n}\n</code></pre>\n\n<p>Why are A and C not right, but B is fine?</p>\n\n<p>The error I get for A and C is:</p>\n\n<p>error C2059: syntax error :\n '{'</p>\n\n<p>error C2143: syntax error :\n missing ';' before '{'</p>\n\n<p>error C2143: syntax error :\n missing ';' before '}'</p>\n\n<p>I think it has to do with the C++ version, although I am not sure which version this is using besides it not being very new.</p>\n"}, {"tags": ["c++", "c++11", "c++14"], "answers": [{"tags": [], "owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "is_accepted": false, "score": 2, "last_activity_date": 1507745046, "creation_date": 1507745046, "answer_id": 46694793, "question_id": 46694735, "link": "https://stackoverflow.com/questions/46694735/forward-reference-confusion/46694793#46694793", "title": "Forward reference confusion", "body": "<p>The move constructor is called because you are using <code>std::forward</code> without a forwarding reference (don't do that please). Basically, this line is the culprit:</p>\n\n<pre><code>my_obj temp = forward&lt;T&gt;(a);\n</code></pre>\n\n<p>Here, <code>T</code> is a <code>my_obj</code>. Remember that <code>std::forward</code> is just a glorified cast. In your case, it is equivalent to:</p>\n\n<pre><code>my_obj temp = static_cast&lt;my_obj&amp;&amp;&gt;(a);\n</code></pre>\n\n<p>So you are casting <code>a</code> to a rvalue reference, and an rvalue has move semantics, so you see the move constructor being called. You are basically getting the behavior of <code>std::move</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "edited": false, "score": 4, "creation_date": 1507745338, "post_id": 46694818, "comment_id": 80337482, "body": "@pyjg No reason to feel stupid. Everybody had to learn this at some point."}, {"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1507745348, "post_id": 46694818, "comment_id": 80337490, "body": "so the right fix would be <code>my_obj temp = a;</code> in that function?"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 3, "creation_date": 1507745554, "post_id": 46694818, "comment_id": 80337582, "body": "@pyjg Yep. The point of forwarding is to preserve the value category, but here we know we have an lvalue. Typically, you only want to <code>forward</code> forwarding references - and you don&#39;t have one, so don&#39;t <code>forward</code>. (The &quot;correct&quot; forwarding would be <code>forward&lt;T&amp;&gt;(a)</code> but please don&#39;t actually write that)."}, {"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1507745759, "post_id": 46694818, "comment_id": 80337683, "body": "got it, thank you for the explanation it makes a lot of sense now :)"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": true, "score": 4, "last_activity_date": 1507745128, "creation_date": 1507745128, "answer_id": 46694818, "question_id": 46694735, "link": "https://stackoverflow.com/questions/46694735/forward-reference-confusion/46694818#46694818", "title": "Forward reference confusion", "body": "<p>In here:</p>\n\n<pre><code>template&lt;typename T&gt;\nvoid print(T&amp; a)\n{\n    cout &lt;&lt; \"val\\n\";\n    my_obj temp = forward&lt;T&gt;(a);\n}\n</code></pre>\n\n<p><code>a</code> isn't a forwarding reference, it's an lvalue reference. The type <code>T</code> isn't a reference type. So <code>forward&lt;T&gt;(a)</code> behaves the same as <code>move(a)</code>. The special case for forwarding references is that the template parameter deduces to a reference type, and forwarding with a reference type yields an lvalue.</p>\n\n<p>You just want <code>my_obj temp = a;</code></p>\n"}], "owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 1, "accepted_answer_id": 46694818, "answer_count": 2, "score": 0, "last_activity_date": 1507745257, "creation_date": 1507744801, "last_edit_date": 1507745257, "question_id": 46694735, "link": "https://stackoverflow.com/questions/46694735/forward-reference-confusion", "title": "Forward reference confusion", "body": "<p>With reference to the following code, I do not understand why the <code>move constructor</code> is called both with an <code>lvalue</code> and <code>rvalue</code>. I would expect <code>copy ctor</code> to be printed when i pass an <code>lvalue</code> to the <code>push</code> method.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\nusing namespace std;\n\nclass my_obj\n{\npublic:\n    my_obj()\n    {\n        cout &lt;&lt; \"default ctor\\n\";\n    }\n\n    my_obj(const my_obj&amp; other)\n    {\n        cout &lt;&lt; \"copy ctor\\n\";\n    }\n\n    my_obj(my_obj&amp;&amp;  other)\n    {\n        cout &lt;&lt; \"move ctor\\n\";\n    }      \n};\n\nclass test\n{\npublic:\n    template&lt;typename T&gt;\n    void push(T&amp;&amp; object)\n    {\n         print(forward&lt;T&gt;(object));\n    }\n\n    template&lt;typename T&gt;\n    void print(T&amp;&amp; a)\n    {\n        cout &lt;&lt; \"move\\n\";\n        my_obj temp = forward&lt;T&gt;(a);\n    }\n\n    template&lt;typename T&gt;\n    void print(T&amp; a)\n    {\n        cout &lt;&lt; \"val\\n\";\n        my_obj temp = forward&lt;T&gt;(a);\n    }\n};\n\n\nint main()\n{\n    my_obj obj;\n    test f;\n\n    f.push(obj); // why is move ctor called here? shouldnt it be copy ctor since not rvalue\n    cout &lt;&lt; \"\\nPUSHING TEMP\\n\\n\";\n    f.push(my_obj {});\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>default ctor\nval\nmove ctor\n\nPUSHING TEMP\n\ndefault ctor\nmove\nmove ctor\n</code></pre>\n"}, {"tags": ["c++", "string", "stl"], "comments": [{"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 1, "creation_date": 1507744893, "post_id": 46694691, "comment_id": 80337248, "body": "You erase characters from the string. What do you mean with &quot; // The range to be searched has been specified&quot;?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user7761139"}, "edited": false, "score": 0, "creation_date": 1507801030, "post_id": 46694776, "comment_id": 80359057, "body": "The code works charmingly, but i would like to know if there is a better code (or STL) to do this."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507801113, "post_id": 46694776, "comment_id": 80359103, "body": "@AdithyaDsilva Not that I&#39;m aware of. What in particular you would like to improve?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7761139"}, "edited": false, "score": 0, "creation_date": 1507808274, "post_id": 46694776, "comment_id": 80363554, "body": "I would like to know if there is some code like str.find(5, 9) where the value of the index is given i.e. start searching at index 5 and end searching at index 9"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507811115, "post_id": 46694776, "comment_id": 80365490, "body": "@AdithyaDsilva No, there is no such function available with <code>std::string</code>. Should be fairly easy to write an inline function that looks like <code>bool find_range(const std::string&amp;, size_t start, size_t end,char)</code> though, to wrap what I&#39;ve been putting in the <code>if()</code> statement."}], "tags": [], "owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "is_accepted": false, "score": 5, "last_activity_date": 1507745987, "last_edit_date": 1507745987, "creation_date": 1507745000, "answer_id": 46694776, "question_id": 46694691, "link": "https://stackoverflow.com/questions/46694691/how-to-search-in-a-string-within-a-given-range/46694776#46694776", "title": "How to search in a string within a given range?", "body": "<blockquote>\n  <p>... but I would love to know if there is a standard library function that would do this work.(Probably in one line)</p>\n</blockquote>\n\n<p>You can use <a href=\"http://en.cppreference.com/w/cpp/algorithm/find\" rel=\"nofollow noreferrer\"><code>std::find()</code></a> to do this without changing the original string variable:</p>\n\n<pre><code>if(std::find(std::begin(str) + 5, std::end(str) - 9,'a') != std::end(str) - 9){\n   cout &lt;&lt; \"YES, it exists\" &lt;&lt; endl;\n}else{\n   cout &lt;&lt; \"No, it doesnt\" &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7761139"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 597, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507811138, "creation_date": 1507744624, "last_edit_date": 1507811138, "question_id": 46694691, "link": "https://stackoverflow.com/questions/46694691/how-to-search-in-a-string-within-a-given-range", "title": "How to search in a string within a given range?", "body": "<p>I have to search a String for a specific character, within a specified range. The code I made is as follows:</p>\n\n<pre><code>str.erase(str.begin(), str.begin()+5);\nstr.erase(str.begin() + 9, str.end()); // The range to be searched has been specified ie 5th index to 9th index\n if(  str.find('a') != string::npos){\n       cout &lt;&lt; \"YES, it exists\" &lt;&lt; endl;\n   }else{\n       cout &lt;&lt; \"No, it doesnt\" &lt;&lt; endl;\n   }\n</code></pre>\n\n<p>The above code works as expected, but I would love to know if there is a standard library function that would do this work.(Probably in one line)</p>\n"}, {"tags": ["c++", "centos"], "answers": [{"comments": [{"owner": {"reputation": 913, "user_id": 3126835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b6f8002fb7acec22884935c6688fba8b?s=128&d=identicon&r=PG&f=1", "display_name": "kks21199", "link": "https://stackoverflow.com/users/3126835/kks21199"}, "edited": false, "score": 0, "creation_date": 1507751032, "post_id": 46695067, "comment_id": 80340357, "body": "well if this could execute the application as root, then I will just make a whitelist of commands within the application (specific commands) so only they can run. I don&#39;t have much knowledge with linux, so I will try this method and let you know."}, {"owner": {"reputation": 913, "user_id": 3126835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b6f8002fb7acec22884935c6688fba8b?s=128&d=identicon&r=PG&f=1", "display_name": "kks21199", "link": "https://stackoverflow.com/users/3126835/kks21199"}, "edited": false, "score": 0, "creation_date": 1508087323, "post_id": 46695067, "comment_id": 80460633, "body": "This method works. Optionally you can also set <code>setuid(0)</code> within the main function in c++. Though it works without that in my case.  I have coded my c++ app with hardcoded commands that can be accessed via arguments.. this way the apps wont be able to do much damage. Only disadvantage is that the app will require updating when a new function is needed."}], "tags": [], "owner": {"reputation": 11532, "user_id": 5129715, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/320498457784a3110f3e256745a9a927?s=128&d=identicon&r=PG&f=1", "display_name": "mksteve", "link": "https://stackoverflow.com/users/5129715/mksteve"}, "is_accepted": true, "score": 1, "last_activity_date": 1507746107, "creation_date": 1507746107, "answer_id": 46695067, "question_id": 46694674, "link": "https://stackoverflow.com/questions/46694674/creating-a-cli-application-with-root-access/46695067#46695067", "title": "Creating a CLI application with root access", "body": "<p>Could the application be a setuid root application?  Please test it for security before doing so</p>\n\n<pre><code>chown root /path/to/binary\nchmod u+s /path/to/binary\n</code></pre>\n"}], "owner": {"reputation": 913, "user_id": 3126835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b6f8002fb7acec22884935c6688fba8b?s=128&d=identicon&r=PG&f=1", "display_name": "kks21199", "link": "https://stackoverflow.com/users/3126835/kks21199"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 46695067, "answer_count": 1, "score": 0, "last_activity_date": 1507746107, "creation_date": 1507744569, "question_id": 46694674, "link": "https://stackoverflow.com/questions/46694674/creating-a-cli-application-with-root-access", "title": "Creating a CLI application with root access", "body": "<p>I am developing a php application which serves as a GUI for a seever side application. Because of the nature of the application, it needs to run exec commands which require  root privileges. (things like restarting a service). I was able to get around it by giving nginx sudo access to specific commands. But it still requires a few functions which will be easy to make with a CLI. </p>\n\n<p>Now the problem I am facing is starting this application from php with arguments as root. This is how I launch my app, </p>\n\n<p><code>path/application - e \"command I want\"</code></p>\n\n<p>The web app will be only one installed on the server (kind of like a control panel). Should I focus on making a service instead of an application? If I do make an service how would I let php contact it? I have developed windows applications in the past using .NET and c++. </p>\n\n<p>I did look at dotnet core to make a Linux service, but I don't think it'll be what I need. Can I have any suggestions? All I need the app to have is root access, possibly without sudo. </p>\n"}, {"tags": ["c++", "opengl", "wavefront"], "comments": [{"owner": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 1, "creation_date": 1507744902, "post_id": 46694577, "comment_id": 80337251, "body": "Edit in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Feel free to use <a href=\"https://stackoverflow.com/a/14887071/44729\">this</a> as a base."}, {"owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1507745645, "post_id": 46694577, "comment_id": 80337626, "body": "@Rabbid76 the context is the first thing that&#39;s set (using SDL). Otherwise I wouldn&#39;t be able to use draw arrays."}, {"owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "reply_to_user": {"reputation": 47449, "user_id": 44729, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/tyWaU.png?s=128&g=1", "display_name": "genpfault", "link": "https://stackoverflow.com/users/44729/genpfault"}, "edited": false, "score": 0, "creation_date": 1507745848, "post_id": 46694577, "comment_id": 80337727, "body": "@genpfault I&#39;m trying to avoid glVertexPointer calls since it&#39;s less efficient. Would you like me to separate the vertex, indices loading to another function?"}, {"owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "reply_to_user": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "edited": false, "score": 0, "creation_date": 1507746547, "post_id": 46694577, "comment_id": 80338109, "body": "@Rabbid76 I&#39;m off to class now but I&#39;ll edit the code so that&#39;s self contained. Here&#39;s the source for now, if you have time to read it: <a href=\"https://drive.google.com/open?id=0BxpdwU_OmJtnYlRHS3l5aVZpTUE\" rel=\"nofollow noreferrer\">drive.google.com/open?id=0BxpdwU_OmJtnYlRHS3l5aVZpTUE</a>"}, {"owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "edited": false, "score": 0, "creation_date": 1507746898, "post_id": 46694577, "comment_id": 80338298, "body": "Well, stackoverflow won&#39;t let me edit the comment. Here&#39;s the source for now, if you have time to read it: <a href=\"https://drive.google.com/open?id=0BxpdwU_OmJtnYlRHS3l5aVZpTUE\" rel=\"nofollow noreferrer\">drive.google.com/open?id=0BxpdwU_OmJtnYlRHS3l5aVZpTUE</a> It&#39;s just a camera class, a world class that wraps every vbo in the scene, a mesh class and a material class that&#39;s not used right now. EXPERIMENTAL_MESH is the code for the VBO. I&#39;ll fix the post when I&#39;m back though!"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "edited": false, "score": 0, "creation_date": 1507761640, "post_id": 46696449, "comment_id": 80344843, "body": "I knew my Heap-fobia would screw me some day. You&#39;ve saved me countless ours. Thank you a lot, it&#39;s running fine now."}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 3, "last_activity_date": 1507751626, "creation_date": 1507751626, "answer_id": 46696449, "question_id": 46694577, "link": "https://stackoverflow.com/questions/46694577/drawing-vbos-in-opengl-not-working/46696449#46696449", "title": "Drawing VBOs in OpenGL not working", "body": "<p>It the constructor of the calss <code>Mesh</code> the file is read and the object buffers are generated (<code>glGenBuffers</code>). In the destructor <code>Mesh::~Mesh</code> the object buffers are destroyed (<code>glDeleteBuffers</code>).<br/></p>\n\n<p>But you <code>push_back</code> the <code>Mesh</code> to a <code>std::vector</code>. This means that a temporary <code>Mesh</code> object is generated, which reads the file and generate the object buffer in its constructor. At this point all the data are valid and the object buffers are generated (GPU). When calling <code>std::vector::push_back</code>, then a new <code>Mesh</code> objectis is generated, in the <code>std::vector</code>. The object is constructed by the default copy constructor and gets a copy of all the members of the first <code>Mesh</code> object. Immediately after this is done, the temporary <code>Mesh</code> object gets destroyed and the object buffers get deleted (<code>glDeleteBuffers</code>) by the destructor <code>Mesh::~Mesh</code> of the temporary object. At this point all the data are gone.</p>\n\n<p>See <a href=\"http://www.cplusplus.com/reference/vector/vector/push_back/\" rel=\"nofollow noreferrer\"><strong><code>std::vector::push_back</code></strong></a>. Put a breakpoint in the destrutor <code>Mesh::~Mesh</code>, then you can simply track the expiration.</p>\n\n<p>You should not do the generation and the deletion of GPU objects in the constructor and destructor of a class except you make the class <strong>not</strong> copyable and <strong>not</strong> copy constructable:</p>\n\n<pre><code>class Mesh\n{\n    Mesh(const Mesh &amp;) = delete;\n    Mesh &amp; operator = (const Mesh &amp;) = delete;\n\n    ....\n};\n</code></pre>\n\n<p>You can quickly fix this behavior for debug reasons, by replacing </p>\n\n<pre><code>test.meshes.push_back(Mesh(\"tri\"));\n</code></pre>\n\n<p>by </p>\n\n<pre><code>test.meshes.emplace_back(\"tri\");\n</code></pre>\n\n<p>(see <a href=\"http://www.cplusplus.com/reference/vector/vector/emplace_back/\" rel=\"nofollow noreferrer\"><code>std::vector::emplace_back</code></a>) </p>\n\n<p><br/>\nBut at the end you should do something like:</p>\n\n<pre><code>vector&lt;std::unique_ptr&lt;Mesh&gt;&gt; meshes;\n\nmeshes.emplace_back(new Mesh(\"tri\")); \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 6951552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/726faee31cb028fee4d83e4a4e37a796?s=128&d=identicon&r=PG&f=1", "display_name": "BrunoSG", "link": "https://stackoverflow.com/users/6951552/brunosg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 46696449, "answer_count": 1, "score": 0, "last_activity_date": 1507751626, "creation_date": 1507744206, "last_edit_date": 1507745279, "question_id": 46694577, "link": "https://stackoverflow.com/questions/46694577/drawing-vbos-in-opengl-not-working", "title": "Drawing VBOs in OpenGL not working", "body": "<p>I'm writing a simple class that parses an OBJ and renders the obj after that. I've already written a method for drawing vertex arrays from RAM and I wanted to optimize it a bit (I read that using VBOs gets you x4 times the framerate!).</p>\n\n<p>Sadly I'm failing spectacularly, I've followed a bunch of tutorials to no avail. \nHere's the parser and the calls to store the vertices and indices buffers on GPU, I've througly debugged the parser itself and it's ok. Both vertexBuffer and vertexIndices are loaded up fine (I've printed them and manually checked them against the obj file).</p>\n\n<pre><code>Mesh::Mesh(string path) {\nfloat* normals;\nfloat* faces;\nfloat* textures;\nstring fullpath = path + \".obj\";\nthis-&gt;mats = loadMtl(path); //Loads a Material list, not used now drawing white\nstring line;\nifstream objFile(fullpath.c_str());\nif (objFile.is_open()) {\n    objFile.seekg(0, ios::end);\n    long fileSize = long(objFile.tellg());\n    objFile.seekg(0, ios::beg);\n\n    // Init buffers and indices\n    unsigned int inserted = 0;\n\n    string currentMtl = \"\";\n\n    float* vertexBuffer = new float[fileSize];\n    float* textureBuffer = new float[fileSize];\n    float* normalBuffer = new float[fileSize];\n\n    unsigned int* vertexIndices = new unsigned int[fileSize];\n    unsigned int* normalIndices = new unsigned int[fileSize];\n    unsigned int* textureIndices = new unsigned int[fileSize];\n\n    int connectedVert = 0;\n    int textureCoords = 0;\n    int normalsCount = 0;\n\n    int vertexIndex = 0;\n\n    string prefix = \"usemtl\";\n\n    while (!objFile.eof()) {\n        getline(objFile, line);\n        if (line.c_str()[0] == 'v' &amp;&amp; line.c_str()[1] == ' ') {\n            line[0] = ' ';\n            sscanf_s(line.c_str(), \"%f %f %f \",\n                &amp;vertexBuffer[connectedVert],\n                &amp;vertexBuffer[connectedVert + 1],\n                &amp;vertexBuffer[connectedVert + 2]);\n            connectedVert += 3;\n        }\n        else if (line.c_str()[0] == 'v' &amp;&amp; line.c_str()[1] == 't') {\n            line[0] = ' ';\n            line[1] = ' ';\n            sscanf_s(line.c_str(), \"%f %f \",\n                &amp;textureBuffer[textureCoords],\n                &amp;textureBuffer[textureCoords + 1]);\n            textureCoords += 2;\n        }\n        else if (line.c_str()[0] == 'v' &amp;&amp; line.c_str()[1] == 'n') {\n            line[0] = ' ';\n            line[1] = ' ';\n            sscanf_s(line.c_str(), \"%f %f %f \",\n                &amp;normalBuffer[normalsCount],\n                &amp;normalBuffer[normalsCount + 1],\n                &amp;normalBuffer[normalsCount + 2]);\n            normalsCount += 3;\n        }\n        else if (line.c_str()[0] == 'f') {\n            line[0] = ' ';\n\n            if (textureCoords &gt; 0) {\n                sscanf_s(line.c_str(), \"%i/%i/%i %i/%i/%i %i/%i/%i\",\n                    &amp;vertexIndices[vertexIndex], &amp;textureIndices[vertexIndex], &amp;normalIndices[vertexIndex],\n                    &amp;vertexIndices[vertexIndex + 1], &amp;textureIndices[vertexIndex +1], &amp;normalIndices[vertexIndex +1],\n                    &amp;vertexIndices[vertexIndex + 2], &amp;textureIndices[vertexIndex +2], &amp;normalIndices[vertexIndex +2]);\n            }\n            else {\n                sscanf_s(line.c_str(), \"%i//%i %i//%i %i//%i\",\n                    &amp;vertexIndices[vertexIndex], &amp;normalIndices[vertexIndex],\n                    &amp;vertexIndices[vertexIndex+1], &amp;normalIndices[vertexIndex +1],\n                    &amp;vertexIndices[vertexIndex+2], &amp;normalIndices[vertexIndex +2]);\n            }\n\n            for (int j = 0; j &lt; 3; j++) {\n                vertexIndices[vertexIndex+j] -= 1;\n                normalIndices[vertexIndex +j] -= 1;\n                textureIndices[vertexIndex +j] -= 1;\n            }\n            vertexIndex += 3;\n        }\n        else if (!strncmp(line.c_str(), prefix.c_str(), strlen(prefix.c_str()))) {\n            inserted++;\n            // No more vertices, normals or texture coords to load, gen arrays on GPU\n            if (currentMtl == \"\") {\n                //Copy vertices to GPU\n                glGenBuffers(1, &amp;this-&gt;verticesID);\n                glBindBuffer(GL_ARRAY_BUFFER, this-&gt;verticesID);\n                glBufferData(GL_ARRAY_BUFFER, sizeof(float) * connectedVert, vertexBuffer, GL_STATIC_DRAW);\n                /*\n                //Won't be bothered with normals or textures right now...\n                //Copy normals to GPU\n                glGenBuffers(1, &amp;this-&gt;normalsID);\n                glBindBuffer(GL_ARRAY_BUFFER, this-&gt;normalsID);\n                glBufferData(GL_ARRAY_BUFFER, sizeof(float) * normalsCount, &amp;normalBuffer[0], GL_STATIC_DRAW);\n\n                //Copy UV to GPU\n                if (textureCoords &gt; 0) {\n                    glGenBuffers(1, &amp;this-&gt;textID);\n                    glBindBuffer(GL_ARRAY_BUFFER, this-&gt;textID);\n                    glBufferData(GL_ARRAY_BUFFER, sizeof(float) * textureCoords, &amp;textureBuffer[0], GL_STATIC_DRAW);\n                }*/\n            }\n            else {\n                // Filled up an index array, copy it.\n                this-&gt;indices.push_back(0);\n                this-&gt;faces.push_back(vertexIndex);\n                glGenBuffers(1, &amp;this-&gt;indices[this-&gt;indices.size() - 1]);\n                glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, this-&gt;indices[this-&gt;indices.size() - 1]);\n                glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(unsigned int) * vertexIndex, vertexIndices, GL_STATIC_DRAW);\n            }\n            currentMtl = line.substr(7, line.length());\n            vertexIndex = 0;\n        }\n    }\n    // Copy the last indices buffer.\n    if (currentMtl != \"\" &amp;&amp; indices.size() &lt; inserted) {\n        this-&gt;indices.push_back(0);\n        this-&gt;faces.push_back(vertexIndex);\n        glGenBuffers(1, &amp;this-&gt;indices[this-&gt;indices.size() - 1]);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, this-&gt;indices[this-&gt;indices.size() - 1]);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(unsigned int) * vertexIndex, vertexIndices, GL_STATIC_DRAW);\n    }\n\n    objFile.close();\n    delete[] vertexBuffer;\n    delete[] textureBuffer;\n    delete[] normalBuffer;\n\n    delete[] vertexIndices;\n    delete[] normalIndices;\n    delete[] textureIndices;\n}\nelse {\n    throw runtime_error(\"Unable to load obj file: \" + path + \".obj\");\n}\n}\n</code></pre>\n\n<p>Finally, here's the draw call. I'm guessing the problem is here but I can't quite put my finger on the issue. I've used glIntercept to see if there's something messed up but I got no errors there.</p>\n\n<pre><code>void Mesh::draw() {\n    //Binding Vertex array\n    glBindBuffer(GL_ARRAY_BUFFER, this-&gt;verticesID);\n    glEnableClientState(GL_VERTEX_ARRAY);\n    glVertexPointer(3, GL_FLOAT, 0, (void*)0);\n    for (unsigned int i = 0; i &lt; this-&gt;indices.size(); i++) {\n        glColor3f(1.0f, 1.0f, 1.0f); // Draw it in plain ol' white\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, this-&gt;indices[i]);\n        glDrawElements(GL_TRIANGLES,this-&gt;faces[i], GL_UNSIGNED_INT,(void*)0);\n    }\n    glDisableClientState(GL_VERTEX_ARRAY);\n}\n</code></pre>\n\n<p>In case it's needed, here's the Mesh class declaration: </p>\n\n<pre><code>class Mesh {\n    public:\n        GLuint verticesID, textID, normalsID;\n        vector&lt;GLuint&gt; indices;\n        vector&lt;GLuint&gt; faces;\n        vector&lt;Material&gt; mats;\n    public:\n       Mesh(string path);\n       void draw();\n        ~Mesh();\n};\n</code></pre>\n\n<p>Setting up OpenGL major version as 2, and minor as 1. As I'm mentioned before, I think OpenGL is set up correctly because I'm able to draw triangles in both direct mode and using vertex pointers from RAM. Any help welcomed :)</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 104340, "user_id": 23649, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e9f543f0ffdb7c9a899e628fe76e7f3?s=128&d=identicon&r=PG", "display_name": "jtbandes", "link": "https://stackoverflow.com/users/23649/jtbandes"}, "edited": false, "score": 3, "creation_date": 1507743029, "post_id": 46694253, "comment_id": 80336231, "body": "<code>if constexpr</code> ?"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "reply_to_user": {"reputation": 104340, "user_id": 23649, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7e9f543f0ffdb7c9a899e628fe76e7f3?s=128&d=identicon&r=PG", "display_name": "jtbandes", "link": "https://stackoverflow.com/users/23649/jtbandes"}, "edited": false, "score": 2, "creation_date": 1507743300, "post_id": 46694253, "comment_id": 80336366, "body": "<a href=\"http://coliru.stacked-crooked.com/a/4786a2a2270c1376\" rel=\"nofollow noreferrer\">live demo of @jtbandes suggestion</a>"}, {"owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "reply_to_user": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1507743409, "post_id": 46694253, "comment_id": 80336416, "body": "@Borgleader Thanks for the solution any small explanation will be helpful ..how did it avoid"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507743757, "post_id": 46694253, "comment_id": 80336588, "body": "It&#39;s not really a workaround to add an end case for recursion. It&#39;s how template based recursion is done pre C++17."}], "answers": [{"tags": [], "owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "is_accepted": true, "score": 4, "last_activity_date": 1507743635, "creation_date": 1507743635, "answer_id": 46694422, "question_id": 46694253, "link": "https://stackoverflow.com/questions/46694253/use-of-sizeof-operator-in-variadic-template-to-skip-the-function-for-the-end-of/46694422#46694422", "title": "Use of sizeof operator in Variadic Template to skip the function for the end of recursion", "body": "<p>You can\u2019t do this without some workaround, pre-C++17, unless you rewrite the function to not be recursive. The reason is that the entire function body is substituted, including branches of <code>if</code> statements that can never happen. That means that the compiler sees the call to <code>Display()</code> with no arguments, even though it would never have happened at runtime.</p>\n\n<p>Since C++17, the solution to this is to use <a href=\"http://en.cppreference.com/w/cpp/language/if#Constexpr_If\" rel=\"nofollow noreferrer\"><code>if constexpr</code></a> instead of just <code>if</code>. That tells the compiler to evaluate the condition at compile time, and not try to compile the branch which doesn\u2019t execute.</p>\n\n<p>Note that \u201cnot try to compile\u201d above is a simplification; the link has more details about what exactly is and isn\u2019t done.</p>\n"}], "owner": {"reputation": 3080, "user_id": 7590993, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/10154373026397157/picture?type=large", "display_name": "Hariom Singh", "link": "https://stackoverflow.com/users/7590993/hariom-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 46694422, "answer_count": 1, "score": 1, "last_activity_date": 1507744041, "creation_date": 1507742921, "question_id": 46694253, "link": "https://stackoverflow.com/questions/46694253/use-of-sizeof-operator-in-variadic-template-to-skip-the-function-for-the-end-of", "title": "Use of sizeof operator in Variadic Template to skip the function for the end of recursion", "body": "<p>I am trying to use operator <code>sizeof...</code> to skip the function for the end of recursion by not calling it if there are no argument </p>\n\n<pre><code>#include&lt;iostream&gt;\n\ntemplate&lt;typename T, typename ...Types&gt;\nvoid Display(T firstArg, Types...Args)\n{  \n    std::cout &lt;&lt; firstArg &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; sizeof...(Types) &lt;&lt; \"\\n\";\n    std::cout &lt;&lt; sizeof...(Args) &lt;&lt; \"\\n\";\n    if (sizeof...(Args) &gt; 0)\n    Display(Args...);\n}\n\nint main()\n{\n    Display(1, 2, 3,\"hello\");\n    return 0;\n}\n</code></pre>\n\n<p>But I am getting following error for <code>Display(Args...);</code></p>\n\n<blockquote>\n  <p>error C2780: 'void Display(T,Types...)': expects 2 arguments - 0\n  provided</p>\n</blockquote>\n\n<p>Workaround is to add  function for the end of recursion (which I want to avoid) </p>\n\n<pre><code>void Display()\n{\n\n}\n</code></pre>\n\n<p>Question is how to avoid end of recursion function </p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "edited": false, "score": 1, "creation_date": 1507743083, "post_id": 46694221, "comment_id": 80336263, "body": "You probably need to <code>#include</code> the header file containing the declaration of <code>QSMatrix</code>. None of the headers you&#39;re currently including would contain such a type."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1507743084, "post_id": 46694221, "comment_id": 80336265, "body": "Is <code>QSMatrix</code> declared at the point of <code>QSMatrix&lt;double&gt; Laguerre(int, std::vector&lt;double&gt;);</code> in the header file? From what can I see - it is not. So move <code>QSMatrix</code> before the definition of <code>LSM</code>, so it would be declared."}, {"owner": {"reputation": 2432, "user_id": 793716, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06452b91c9651f991d26d28ba873e760?s=128&d=identicon&r=PG", "display_name": "Rob", "link": "https://stackoverflow.com/users/793716/rob"}, "edited": false, "score": 0, "creation_date": 1507743104, "post_id": 46694221, "comment_id": 80336271, "body": "Did you include your my.h file where your class is defined in the associated.cpp file? I do not see it included in your example."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "edited": false, "score": 0, "creation_date": 1507743116, "post_id": 46694221, "comment_id": 80336278, "body": "@Jonesinator His header, <b>does</b> contain the definition of <code>QSMatrix</code>."}, {"owner": {"reputation": 4073, "user_id": 152, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oXFHS.jpg?s=128&g=1", "display_name": "Jonesinator", "link": "https://stackoverflow.com/users/152/jonesinator"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507743169, "post_id": 46694221, "comment_id": 80336301, "body": "Oops, yeah. See @AlgirdasPreid\u017eius comment."}, {"owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507743740, "post_id": 46694221, "comment_id": 80336575, "body": "@AlgirdasPreid\u017eius I do that in the header file?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1507744019, "post_id": 46694221, "comment_id": 80336735, "body": "@Wolfy Yes. It is one of the ways you can solve this issue with."}], "answers": [{"tags": [], "owner": {"reputation": 943, "user_id": 653772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e168ce684c21aa22fa4b72f04c5a3b?s=128&d=identicon&r=PG", "display_name": "Mikhail Semenov", "link": "https://stackoverflow.com/users/653772/mikhail-semenov"}, "is_accepted": true, "score": 1, "last_activity_date": 1508017072, "creation_date": 1508017072, "answer_id": 46749593, "question_id": 46694221, "link": "https://stackoverflow.com/questions/46694221/error-in-my-header-file-error-qsmatrix-does-not-name-a-type-how-do-i-fix-t/46749593#46749593", "title": "Error in my header file - error: &#39;QSMatrix&#39; does not name a type, how do I fix this issue?", "body": "<p>As \u00a0Algirdas Preid\u017eius mentioned: when you define templates, you write all the definitions in the header file.</p>\n"}], "owner": {"reputation": 393, "user_id": 7700802, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ade1368521f15e2a728422f50ac96b88?s=128&d=identicon&r=PG&f=1", "display_name": "Wolfy", "link": "https://stackoverflow.com/users/7700802/wolfy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 46749593, "answer_count": 1, "score": -1, "last_activity_date": 1508017072, "creation_date": 1507742806, "question_id": 46694221, "link": "https://stackoverflow.com/questions/46694221/error-in-my-header-file-error-qsmatrix-does-not-name-a-type-how-do-i-fix-t", "title": "Error in my header file - error: &#39;QSMatrix&#39; does not name a type, how do I fix this issue?", "body": "<p>I have two classes one of which is declared as a friend class. I am trying to write a function in my first class that uses my second class but I get this error:</p>\n\n<pre><code>error: 'QSMatrix' does not name a type\n</code></pre>\n\n<p>Here is my .h file:</p>\n\n<pre><code>#include &lt;vector&gt;\n\n\n\n\n\n#ifndef LSM_H\n#define LSM_H\n\nclass LSM {\npublic:\n    // Overload Constructor\n    LSM(const double, const double, const double, const int, const int, const double, const double, const int, const int);\n\n    // Destructor\n    ~LSM();\n\n    // Print contents of vector\n    void print(std::vector&lt;double&gt;);\n\n    // Generate the Laguerre Polynomials\n    QSMatrix&lt;double&gt; Laguerre(int, std::vector&lt;double&gt;);\n\n\n    // Generate M paths of stock prices (Geometric Brownian Motion)\n    std::vector&lt;double&gt; GBM(const int, const int, const double, const double, const double, const double, const double);\n\n    // Payoff of call option\n    std::vector&lt;double&gt; callPayoff(std::vector&lt;double&gt;, const double);\n\n\n\nprivate:\n    // Member variables\n    double new_r;\n    double new_q;\n    double new_sigma;\n    int new_T;\n    int new_N;\n    double new_K;\n    double new_S0;\n    int new_M;\n    int new_R;\n\n};\n\n\n//////////////////////////////// Used Matrix Class From Quant Start /////////////////////////////////////////////////////////////////////////////\n\ntemplate &lt;typename T&gt; class QSMatrix {\n    friend class LSM;\n private:\n  std::vector&lt;std::vector&lt;T&gt; &gt; mat;\n  unsigned rows;\n  unsigned cols;\n\n public:\n  QSMatrix(unsigned _rows, unsigned _cols, const T&amp; _initial);\n  QSMatrix(const QSMatrix&lt;T&gt;&amp; rhs);\n  virtual ~QSMatrix();\n\n  // Operator overloading, for \"standard\" mathematical matrix operations\n  QSMatrix&lt;T&gt;&amp; operator=(const QSMatrix&lt;T&gt;&amp; rhs);\n\n  // Matrix mathematical operations\n  QSMatrix&lt;T&gt; operator+(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt;&amp; operator+=(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt; operator-(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt;&amp; operator-=(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt; operator*(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt;&amp; operator*=(const QSMatrix&lt;T&gt;&amp; rhs);\n  QSMatrix&lt;T&gt; transpose();\n\n  // Matrix/scalar operations\n  QSMatrix&lt;T&gt; operator+(const T&amp; rhs);\n  QSMatrix&lt;T&gt; operator-(const T&amp; rhs);\n  QSMatrix&lt;T&gt; operator*(const T&amp; rhs);\n  QSMatrix&lt;T&gt; operator/(const T&amp; rhs);\n\n  // Matrix/vector operations\n  std::vector&lt;T&gt; operator*(const std::vector&lt;T&gt;&amp; rhs);\n  std::vector&lt;T&gt; diag_vec();\n\n  // Access the individual elements\n  T&amp; operator()(const unsigned&amp; row, const unsigned&amp; col);\n  const T&amp; operator()(const unsigned&amp; row, const unsigned&amp; col) const;\n\n  // Access the row and column sizes\n  unsigned get_rows() const;\n  unsigned get_cols() const;\n\n  // Print the matrix\n  void print() const;\n\n};\n\n\n\n\n#endif\n</code></pre>\n\n<p>Here is the associate .cpp file:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;random&gt;\n#include &lt;time.h&gt;\n#include &lt;math.h&gt;\n#include \"LSM.h\"\n\n\nLSM::LSM( const double r, const double q, const double sigma, const int T, const int N, const double K, const double S0, const int M, const int R){\n    new_r = r;\n    new_q = q;\n    new_sigma = sigma;\n    new_T = T;\n    new_N = N;\n    new_K = K;\n    new_S0 = S0;\n    new_M = M;\n    new_R = R;\n\n/*\n    std::vector&lt;double&gt; v;\n    v = GBM(new_M, new_N, new_T, new_r, new_q, new_sigma, new_S0);\n\n    QSMatrix&lt;double&gt; A(2,2,0);\n    for (int i = 0; i &lt; 2; i++){\n        for(int j = 0; j &lt; 2; j++){\n            A(i,j) = 1;\n        }\n    }\n    A.print();\n*/\n\n    std::vector&lt;double&gt; V;\n    for(int i = 0; i &lt; 4; i++){\n        V.push_back(rand());\n        std::cout &lt;&lt; V[i] &lt;&lt; std::endl;\n    }\n\n\n\n}\n\nLSM::~LSM(){\n\n}\n\nvoid LSM::print(std::vector&lt;double&gt; vector){\n    for (unsigned int i = 0; i &lt; vector.size(); i++){\n        std::cout &lt;&lt; vector[i] &lt;&lt; std::endl;\n    }\n}\n\nstd::vector&lt;double&gt; LSM::callPayoff(std::vector&lt;double&gt; S, const double K){\n    std::vector&lt;double&gt; V;\n    for(unsigned int i = 0; i &lt; S.size(); i++){\n        if(S[i] - K &gt; 0){\n            V.push_back(S[i] - K);\n        } else {\n            V.push_back(0.0);\n        }\n    }\n    return V;\n}\n\nstd::vector&lt;double&gt; LSM::GBM(const int M, const int N, const double T, const double r, const double q, const double sigma, const double S0){\n    double dt =  T/N;\n    std::vector&lt;double&gt; Z;\n    std::vector&lt;double&gt; S;\n    S.push_back(S0);\n    std::mt19937 e2(time(0));\n    std::normal_distribution&lt;double&gt; dist(0.0, 1.0);\n    for(int i = 0; i &lt; M; i++){\n        Z.push_back(dist(e2));\n    }\n    double drift  = exp(dt*(r-0.5*sigma*sigma));\n    double vol = sqrt(sigma*sigma*dt);\n    for(int i = 1; i &lt; M; i++){\n        S.push_back(S[i-1] * drift * exp(vol*Z[i]));\n    }\n    return S;\n}\n\n\n\nQSMatrix&lt;double&gt; LSM::Laguerre(const int R, std::vector&lt;double&gt; X){\n    int n = X.size();\n    int m = R + 1;\n    QSMatrix&lt;double&gt; poly(n,m,0);\n    for (int i = 0; i &lt; n; i++){\n        for(int j = 0; j &lt; m; j++){\n            if (R == 1){\n                poly(i,0) = 1.0;\n                poly(i,1) = -X[i] + 1.0;\n            }\n            else if (R == 2){\n                poly(i,0) = 1.0;\n                poly(i,1) = -X[i] + 1;\n                poly(i,2) = 0.5 * (2.0 - 4.0*X[i] + X[i]*X[i]);\n            }\n            else if (R == 3){\n                poly(i,0) = 1.0;\n                poly(i,1) = -X[i] + 1;\n                poly(i,2) = 0.5 * (2.0 - 4.0*X[i] + X[i]*X[i]);\n                poly(i,3) = 1.0/6.0 * (6.0 - 18.0*X[i] + 9.0*X[i]*X[i] - X[i]*X[i]*X[i]);\n            }\n        }\n    }\n    return poly;\n}\n\n//////////////////////////////// Used Matrix Class From Quant Start /////////////////////////////////////////////////////////////////////////////\n\n// Parameter Constructor\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;::QSMatrix(unsigned _rows, unsigned _cols, const T&amp; _initial) {\n  mat.resize(_rows);\n  for (unsigned i=0; i&lt;mat.size(); i++) {\n    mat[i].resize(_cols, _initial);\n  }\n  rows = _rows;\n  cols = _cols;\n}\n\n// Copy Constructor\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;::QSMatrix(const QSMatrix&lt;T&gt;&amp; rhs) {\n  mat = rhs.mat;\n  rows = rhs.get_rows();\n  cols = rhs.get_cols();\n}\n\n// (Virtual) Destructor\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;::~QSMatrix() {}\n\n// Assignment Operator\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;&amp; QSMatrix&lt;T&gt;::operator=(const QSMatrix&lt;T&gt;&amp; rhs) {\n  if (&amp;rhs == this)\n    return *this;\n\n  unsigned new_rows = rhs.get_rows();\n  unsigned new_cols = rhs.get_cols();\n\n  mat.resize(new_rows);\n  for (unsigned i=0; i&lt;mat.size(); i++) {\n    mat[i].resize(new_cols);\n  }\n\n  for (unsigned i=0; i&lt;new_rows; i++) {\n    for (unsigned j=0; j&lt;new_cols; j++) {\n      mat[i][j] = rhs(i, j);\n    }\n  }\n  rows = new_rows;\n  cols = new_cols;\n\n  return *this;\n}\n\n// Addition of two matrices\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator+(const QSMatrix&lt;T&gt;&amp; rhs) {\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] + rhs(i,j);\n    }\n  }\n\n  return result;\n}\n\n// Cumulative addition of this matrix and another\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;&amp; QSMatrix&lt;T&gt;::operator+=(const QSMatrix&lt;T&gt;&amp; rhs) {\n  unsigned rows = rhs.get_rows();\n  unsigned cols = rhs.get_cols();\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      this-&gt;mat[i][j] += rhs(i,j);\n    }\n  }\n\n  return *this;\n}\n\n// Subtraction of this matrix and another\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator-(const QSMatrix&lt;T&gt;&amp; rhs) {\n  unsigned rows = rhs.get_rows();\n  unsigned cols = rhs.get_cols();\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] - rhs(i,j);\n    }\n  }\n\n  return result;\n}\n\n// Cumulative subtraction of this matrix and another\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;&amp; QSMatrix&lt;T&gt;::operator-=(const QSMatrix&lt;T&gt;&amp; rhs) {\n  unsigned rows = rhs.get_rows();\n  unsigned cols = rhs.get_cols();\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      this-&gt;mat[i][j] -= rhs(i,j);\n    }\n  }\n\n  return *this;\n}\n\n// Left multiplication of this matrix and another\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator*(const QSMatrix&lt;T&gt;&amp; rhs) {\n\n  QSMatrix result(rows, rhs.get_cols(), 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;rhs.get_cols(); j++) {\n      for (unsigned k=0; k&lt;cols; k++) {\n        result(i,j) += this-&gt;mat[i][k] * rhs(k,j);\n      }\n    }\n  }\n\n  return result;\n}\n\n// Cumulative left multiplication of this matrix and another\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt;&amp; QSMatrix&lt;T&gt;::operator*=(const QSMatrix&lt;T&gt;&amp; rhs) {\n  QSMatrix result = (*this) * rhs;\n  (*this) = result;\n  return *this;\n}\n\n// Calculate a transpose of this matrix\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::transpose() {\n  QSMatrix result(cols, rows, 0.0);\n\n  for (unsigned i=0; i&lt;cols; i++) {\n    for (unsigned j=0; j&lt;rows; j++) {\n      result(i,j) = this-&gt;mat[j][i];\n    }\n  }\n\n  return result;\n}\n\n// Matrix/scalar addition\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator+(const T&amp; rhs) {\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] + rhs;\n    }\n  }\n\n  return result;\n}\n\n// Matrix/scalar subtraction\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator-(const T&amp; rhs) {\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] - rhs;\n    }\n  }\n\n  return result;\n}\n\n// Matrix/scalar multiplication\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator*(const T&amp; rhs) {\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] * rhs;\n    }\n  }\n\n  return result;\n}\n\n// Matrix/scalar division\ntemplate&lt;typename T&gt;\nQSMatrix&lt;T&gt; QSMatrix&lt;T&gt;::operator/(const T&amp; rhs) {\n  QSMatrix result(rows, cols, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result(i,j) = this-&gt;mat[i][j] / rhs;\n    }\n  }\n\n  return result;\n}\n\n// Multiply a matrix with a vector\ntemplate&lt;typename T&gt;\nstd::vector&lt;T&gt; QSMatrix&lt;T&gt;::operator*(const std::vector&lt;T&gt;&amp; rhs) {\n  std::vector&lt;T&gt; result(rhs.size(), 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    for (unsigned j=0; j&lt;cols; j++) {\n      result[i] = this-&gt;mat[i][j] * rhs[j];\n    }\n  }\n\n  return result;\n}\n\n// Obtain a vector of the diagonal elements\ntemplate&lt;typename T&gt;\nstd::vector&lt;T&gt; QSMatrix&lt;T&gt;::diag_vec() {\n  std::vector&lt;T&gt; result(rows, 0.0);\n\n  for (unsigned i=0; i&lt;rows; i++) {\n    result[i] = this-&gt;mat[i][i];\n  }\n\n  return result;\n}\n\n// Access the individual elements\ntemplate&lt;typename T&gt;\nT&amp; QSMatrix&lt;T&gt;::operator()(const unsigned&amp; row, const unsigned&amp; col) {\n  return this-&gt;mat[row][col];\n}\n\n// Access the individual elements (const)\ntemplate&lt;typename T&gt;\nconst T&amp; QSMatrix&lt;T&gt;::operator()(const unsigned&amp; row, const unsigned&amp; col) const {\n  return this-&gt;mat[row][col];\n}\n\n// Get the number of rows of the matrix\ntemplate&lt;typename T&gt;\nunsigned QSMatrix&lt;T&gt;::get_rows() const {\n  return this-&gt;rows;\n}\n\n// Get the number of columns of the matrix\ntemplate&lt;typename T&gt;\nunsigned QSMatrix&lt;T&gt;::get_cols() const {\n  return this-&gt;cols;\n}\n\n// Print the content of the matrix\ntemplate&lt;typename T&gt;\nvoid QSMatrix&lt;T&gt;::print() const {\n    for (int i = 0; i &lt; rows; i++) {\n        for (int j = 0; j &lt; cols; j++) {\n            std::cout &lt;&lt; this-&gt;mat[i][j] &lt;&lt; \"  \";\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>I am still a novice at C++ so I am not sure what I am doing is correct or the best way to do it. Thanks in advanced for tolerating my question.</p>\n"}, {"tags": ["c++", "debugging", "visual-studio-2015", "windows-10", "assertion"], "comments": [{"owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "edited": false, "score": 0, "creation_date": 1508114011, "post_id": 46694053, "comment_id": 80468144, "body": "Do you resolve this issue? how about the result if you add &quot;&amp;&quot; before &quot;searchKey&quot; in your code line?"}], "answers": [{"tags": [], "owner": {"reputation": 5606, "user_id": 6601554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9d8e70907365c8fce9135ffe1e5868f?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Zhai-MSFT", "link": "https://stackoverflow.com/users/6601554/jack-zhai-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1507795872, "creation_date": 1507795872, "answer_id": 46704593, "question_id": 46694053, "link": "https://stackoverflow.com/questions/46694053/debug-assertion-failed-expressionresult-pointer-nullptr/46704593#46704593", "title": "Debug Assertion Failed! Expression:result_pointer!=nullptr", "body": "<p>Each argument must be a pointer to a variable of a type that corresponds to a type specifier in format. </p>\n\n<p>Just change code \"scanf_s(\"%d\", searchKey)\" to:</p>\n\n<pre><code>scanf_s(\"%d\", &amp;searchKey);\n</code></pre>\n\n<p>It would work well.</p>\n"}], "owner": {"reputation": 101, "user_id": 4629940, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/yY6Hn.jpg?s=128&g=1", "display_name": "Edward Sun", "link": "https://stackoverflow.com/users/4629940/edward-sun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 4628, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540112830, "creation_date": 1507742116, "last_edit_date": 1540112830, "question_id": 46694053, "link": "https://stackoverflow.com/questions/46694053/debug-assertion-failed-expressionresult-pointer-nullptr", "title": "Debug Assertion Failed! Expression:result_pointer!=nullptr", "body": "<p>I am writing a C++ program to search for a given integer in array, however, when I try to debug the program, visual studio ( I am using vs 2015 pro version) complains about a debug assertion failure:\n<a href=\"https://i.stack.imgur.com/BTl4E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Here is my code, its pretty straightforward:</p>\n\n<pre><code>int main() {\nint searchArray[10] = { 324,4567,6789,5421345,7,65,8965,12,342,485 };\n//use searchKey for the number to be found\n//use location for the array index of the found value\nint searchKey, location;\n\n//write code to determine if integers entered by \n//the user are in searchArray\n//initiate searchKey and location\nsearchKey = 0;\nlocation = 0;\nint n = sizeof(searchArray) / sizeof(searchArray[0]);\n//let user define the search key, give -1 to quit\nwhile (true)\n{\n    std::cout &lt;&lt; \"Enter an integer ('-1') to quit: \";\n    scanf_s(\"%d\", searchKey);\n    std::cout &lt;&lt; searchKey &lt;&lt; \"\\n\";\n    if (searchKey == -1)\n    {\n        break;\n    }\n    for (location; location &lt; n; location++)\n    {\n        if (searchArray[location] == searchKey)\n        {\n            break;\n        }\n        location = -1;\n    }\n    if (location != -1)\n    {\n        std::cout &lt;&lt; searchKey &lt;&lt; \" is at location \" &lt;&lt; location &lt;&lt; \" in the array.\\n\";\n    }\n    else\n    {\n        std::cout &lt;&lt; searchKey &lt;&lt; \" is not in the array.\\n\";\n    }\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "windows", "gcc", "gnu", "flush"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 4, "creation_date": 1507742249, "post_id": 46693987, "comment_id": 80335797, "body": "The standard doesn&#39;t actually require the output to be buffered until <code>std::flush</code> (or equivalent) is passed, only that those objects will cause it to flush when passed to the stream. The implementation can flush whenever is pleases."}, {"owner": {"reputation": 205, "user_id": 4215155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9e4d6579c0ec73a8e02dcca1d34e2d?s=128&d=identicon&r=PG&f=1", "display_name": "SuperGoA", "link": "https://stackoverflow.com/users/4215155/supergoa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507742324, "post_id": 46693987, "comment_id": 80335846, "body": "@Fran&#231;ois Andrieux but if I&#39;m using the SAME compiler, shouldn&#39;t I expect the same results, regardless of operating system?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507742385, "post_id": 46693987, "comment_id": 80335880, "body": "@SuperGoA Likely either the implementation of the standard library is different or it relies on an underlying OS dependent mechanisms."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507742675, "post_id": 46693987, "comment_id": 80336033, "body": "@SuperGoA The question says that <i>&quot;line 1 is ALWAYS delayed&quot;</i>. Did you mean always displayed?"}, {"owner": {"reputation": 205, "user_id": 4215155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9e4d6579c0ec73a8e02dcca1d34e2d?s=128&d=identicon&r=PG&f=1", "display_name": "SuperGoA", "link": "https://stackoverflow.com/users/4215155/supergoa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507742713, "post_id": 46693987, "comment_id": 80336054, "body": "@Fran&#231;ois Andrieux yes, thanks!"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507742733, "post_id": 46693987, "comment_id": 80336065, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/17977657/make-the-compiler-not-to-automatically-flush-the-buffer\" title=\"make the compiler not to automatically flush the buffer\">stackoverflow.com/questions/17977657/&hellip;</a>"}, {"owner": {"reputation": 205, "user_id": 4215155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9e4d6579c0ec73a8e02dcca1d34e2d?s=128&d=identicon&r=PG&f=1", "display_name": "SuperGoA", "link": "https://stackoverflow.com/users/4215155/supergoa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507743697, "post_id": 46693987, "comment_id": 80336550, "body": "@Fran&#231;ois Andrieux How could it be a duplicate of  <a href=\"http://stackoverflow.com/questions/17977657/\">this</a> if I&#39;m compiling the code using the same compiler (therefore, the same implementation)?"}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "edited": false, "score": 2, "creation_date": 1507743955, "post_id": 46693987, "comment_id": 80336694, "body": "@SuperGoA it&#39;s obviously a different back-end implementation as it interfaces to the Windows API instead of Linux."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1507743966, "post_id": 46693987, "comment_id": 80336699, "body": "@SuperGoA The behavior of <code>cout</code> regarding flushing is implementation defined. Check with both tool chains you are comparing and see if they both make the same guarantees. If they do, then one of them has a bug and you should file a bug report with the defective one. If not (including if one of them makes no guarantee), then the reason the behavior is different is that the implementations have different behavior. The linked question is in regard to why the behavior may vary. If the comparison between two seemingly identical implementations is what is bothering you, I will remove that comment."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1507744206, "post_id": 46693987, "comment_id": 80336861, "body": "@SuperGoA Keep in mind that standard library implementation can be a distinct concept from the compiler implementation. Some compilers allow you to provide your own library implementation, or to select from multiple versions. And a given library implementation can vary from platform to platform in order to accommodate the platform&#39;s unique requirements. See the implementation&#39;s documentation (if there is any) to see what portability guarantees it makes regarding implementation defined behavior. In general, it&#39;s best to not rely on implementation defined behavior."}, {"owner": {"reputation": 205, "user_id": 4215155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9e4d6579c0ec73a8e02dcca1d34e2d?s=128&d=identicon&r=PG&f=1", "display_name": "SuperGoA", "link": "https://stackoverflow.com/users/4215155/supergoa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507744322, "post_id": 46693987, "comment_id": 80336938, "body": "@Fran&#231;ois Andrieux This was the root cause of my confusion. I did not realize that implementation relied on more than just the compiler level."}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 1, "creation_date": 1507770615, "post_id": 46693987, "comment_id": 80347022, "body": "Specifically, GCC on Windows uses the internal Windows C runtime, which never uses line buffering.  Console output is unbuffered; non-console output is fully buffered.  I believe Linux runtimes typically use line buffering for console output, and that&#39;s why the <code>\\n</code> and/or <code>endl</code> make a difference."}], "owner": {"reputation": 205, "user_id": 4215155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a9e4d6579c0ec73a8e02dcca1d34e2d?s=128&d=identicon&r=PG&f=1", "display_name": "SuperGoA", "link": "https://stackoverflow.com/users/4215155/supergoa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507742749, "creation_date": 1507741866, "last_edit_date": 1507742749, "question_id": 46693987, "link": "https://stackoverflow.com/questions/46693987/why-is-cout-flushing-early", "title": "Why is cout flushing early?", "body": "<p>I've been learning how flushing works with cout, so I decided to perform this quick test.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;unistd.h&gt;\n\nusing namespace std;\n\nint main()\n{\n    cout &lt;&lt; \"Line 1...\"; // OR cout &lt;&lt; \"Line 1...\" &lt;&lt; flush;\n\n    usleep(500000);\n\n    cout &lt;&lt; \"\\nLine 2\" &lt;&lt; endl;\n\n    cout &lt;&lt; \"Line 3\" &lt;&lt; endl ;\n\n    return 0;\n}\n</code></pre>\n\n<p>In the case that is presented above, the expected output is for:<br>\nLine 1...<br>\nLine 2<br>\nLine 3<br>\nto print out altogether after some delay. However, in the scenario in which \n<code>\"&lt;&lt; flush;\"</code> is included, the expected result is for Line 1 to print immediately, then after some delay, Line 2 and Line 3 print.</p>\n\n<p>These expected outputs ONLY occur when I compile my program on a Linux machine using the command:</p>\n\n<pre><code>g++ -o myFile.out myFile.cpp -Wall\n</code></pre>\n\n<p>Then run it using:  </p>\n\n<pre><code>./myFile.out\n</code></pre>\n\n<p>When I run these same code pieces on my windows machine, line 1 is ALWAYS displayed immediately, regardless of the insertion of <code>\"&lt;&lt; flush;\"</code>. Why does this happen?  </p>\n\n<p>It should be noted that on my windows machine, I am compiling and running my code through codeblocks x64. According to Codeblocks Settings > Compiler > Toolchain Executables, my C++ compiler is \"mingw32-g++.exe\". Isn't this the same compiler as running <code>g++</code> on Linux as I did earlier? Thanks!</p>\n"}, {"tags": ["c++", "string", "stl"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1507740880, "post_id": 46693707, "comment_id": 80335095, "body": "You really have to work on making your indentation line up. Keeping your code clean and organized is extremely important, <i>especially</i> when asking for help."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 3, "creation_date": 1507740952, "post_id": 46693707, "comment_id": 80335142, "body": "This would be a good time to use a debugger to step through your code and discover which part is behaving unexpectedly."}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507740963, "post_id": 46693707, "comment_id": 80335149, "body": "What did you observe when stepping through your code line by line with the debugger?"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 4, "creation_date": 1507741237, "post_id": 46693707, "comment_id": 80335282, "body": "Perhaps the <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/substr\" rel=\"nofollow noreferrer\">documentation on substr</a> will help"}, {"owner": {"reputation": 421, "user_id": 7530306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b20f6a2dbb1858071e0473c6bebee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sf8193", "link": "https://stackoverflow.com/users/7530306/sf8193"}, "reply_to_user": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507741265, "post_id": 46693707, "comment_id": 80335300, "body": "@tadman I updated the code, my mistake."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1507741279, "post_id": 46693707, "comment_id": 80335311, "body": "Looking good now."}, {"owner": {"reputation": 421, "user_id": 7530306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b20f6a2dbb1858071e0473c6bebee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sf8193", "link": "https://stackoverflow.com/users/7530306/sf8193"}, "reply_to_user": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 2, "creation_date": 1507741366, "post_id": 46693707, "comment_id": 80335360, "body": "@Kevin that did help, I misread it originally. Thanks! For those wondering the issue was not with isspace() or my if but I was cutting the substring in the wrong spot."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 2, "creation_date": 1507741377, "post_id": 46693707, "comment_id": 80335366, "body": "Hint: Read up on <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/substr\" rel=\"nofollow noreferrer\"><code>substr</code></a> more carefully, pay attention to what the second argument should be."}, {"owner": {"reputation": 672, "user_id": 7868736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba3186dc762c3fc009d2d025a1d1643?s=128&d=identicon&r=PG&f=1", "display_name": "Tyger", "link": "https://stackoverflow.com/users/7868736/tyger"}, "edited": false, "score": 0, "creation_date": 1507743065, "post_id": 46693707, "comment_id": 80336252, "body": "@sf8193 Did you figure it out?"}, {"owner": {"reputation": 421, "user_id": 7530306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b20f6a2dbb1858071e0473c6bebee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sf8193", "link": "https://stackoverflow.com/users/7530306/sf8193"}, "reply_to_user": {"reputation": 672, "user_id": 7868736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ba3186dc762c3fc009d2d025a1d1643?s=128&d=identicon&r=PG&f=1", "display_name": "Tyger", "link": "https://stackoverflow.com/users/7868736/tyger"}, "edited": false, "score": 0, "creation_date": 1507808069, "post_id": 46693707, "comment_id": 80363438, "body": "@Tyger yes I did."}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 2033946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da22a5b86fee22b9c619ac7df221addd?s=128&d=identicon&r=PG", "display_name": "Seeker", "link": "https://stackoverflow.com/users/2033946/seeker"}, "is_accepted": true, "score": 1, "last_activity_date": 1507743857, "creation_date": 1507743857, "answer_id": 46694485, "question_id": 46693707, "link": "https://stackoverflow.com/questions/46693707/checking-for-spaces-with-c/46694485#46694485", "title": "checking for spaces with c++", "body": "<p>Take a look at the reference of <a href=\"http://www.cplusplus.com/reference/string/string/substr/\" rel=\"nofollow noreferrer\">string::substr</a>. It clearly states that <code>len</code> takes the <strong>number of characters</strong> to include in the substring. In your code you are passing the index of <code>' '</code> which is simply wrong because it does not correspond to <code>len</code>. Instead of using <code>s.substr(start,i)</code>, simply use <code>s.substr(start,i - start + 1)</code>. That should fix the problem.</p>\n"}], "owner": {"reputation": 421, "user_id": 7530306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b20f6a2dbb1858071e0473c6bebee5d?s=128&d=identicon&r=PG&f=1", "display_name": "sf8193", "link": "https://stackoverflow.com/users/7530306/sf8193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 538, "favorite_count": 0, "accepted_answer_id": 46694485, "answer_count": 1, "score": 0, "last_activity_date": 1507743857, "creation_date": 1507740801, "last_edit_date": 1507741146, "question_id": 46693707, "link": "https://stackoverflow.com/questions/46693707/checking-for-spaces-with-c", "title": "checking for spaces with c++", "body": "<p>So I've looked around the site for someone having a similar issue but nothing has come up and it's really been perplexing me.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\n\nstring reverse(string s)\n{\n    int start = 0;\n    for(int i = 0; i &lt; s.length(); i++)\n    {\n        if(s[i]==' '){\n            string new_word = s.substr(start,i);\n            cout &lt;&lt; new_word &lt;&lt; endl;\n            start = i+1;\n         }   \n    }\n    return \"hi\";\n}\n\n\n\nint main(){\n    cout &lt;&lt; reverse(\"Hey there my name is am\");\n    return 0;\n}\n</code></pre>\n\n<p>When I run the tidbit of code above this is what I get as an output.</p>\n\n<pre><code>Hey\nthere my \nmy name is\nname is am\nis am\nhi\n</code></pre>\n\n<p>as you can see the if condition doesn't seem to break on every space. I have also tried isspace(s[i]) and that produced the same result as above. I cannot for the life of me figure out why the if condition is getting skipped on certain white spaces and not others. Has anyone run into a similar issue? </p>\n"}, {"tags": ["c++", "qt", "qimage"], "comments": [{"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1507740127, "post_id": 46693501, "comment_id": 80334642, "body": "You can&#39;t do that with qt."}, {"owner": {"reputation": 162, "user_id": 2061905, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d91ae6dd89e9bbb22c5c2492dc9fd098?s=128&d=identicon&r=PG", "display_name": "Alaa Agwa", "link": "https://stackoverflow.com/users/2061905/alaa-agwa"}, "reply_to_user": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 0, "creation_date": 1507740232, "post_id": 46693501, "comment_id": 80334708, "body": "@dtech then how to do it?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1507742149, "post_id": 46693501, "comment_id": 80335741, "body": "Why do not you want to use openCV?"}, {"owner": {"reputation": 44162, "user_id": 991484, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/fc34739487a5e7e115acdbadf95c8fb3?s=128&d=identicon&r=PG", "display_name": "dtech", "link": "https://stackoverflow.com/users/991484/dtech"}, "edited": false, "score": 1, "creation_date": 1507742820, "post_id": 46693501, "comment_id": 80336113, "body": "You will have to use a 3rd party library, ffmpeg, libav, libvnc, gstreamer... either will do."}, {"owner": {"reputation": 162, "user_id": 2061905, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d91ae6dd89e9bbb22c5c2492dc9fd098?s=128&d=identicon&r=PG", "display_name": "Alaa Agwa", "link": "https://stackoverflow.com/users/2061905/alaa-agwa"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1508059845, "post_id": 46693501, "comment_id": 80452847, "body": "@eyllanesc should I need to compile openCV source code or just use the dll files ?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1508081075, "post_id": 46693501, "comment_id": 80458583, "body": "To use a C ++ library for compilation time only compiled libraries (.dlls in windows) and headers (.h) are required, and for use only compiled libraries (.dlls in windows)"}, {"owner": {"reputation": 162, "user_id": 2061905, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d91ae6dd89e9bbb22c5c2492dc9fd098?s=128&d=identicon&r=PG", "display_name": "Alaa Agwa", "link": "https://stackoverflow.com/users/2061905/alaa-agwa"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1508081700, "post_id": 46693501, "comment_id": 80458788, "body": "@eyllanesc so where to get the dll files of openCV?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1508082169, "post_id": 46693501, "comment_id": 80458914, "body": "When compiling opencv, it generates the .dlls"}], "owner": {"reputation": 162, "user_id": 2061905, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d91ae6dd89e9bbb22c5c2492dc9fd098?s=128&d=identicon&r=PG", "display_name": "Alaa Agwa", "link": "https://stackoverflow.com/users/2061905/alaa-agwa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 206, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507882336, "creation_date": 1507740080, "last_edit_date": 1507882336, "question_id": 46693501, "link": "https://stackoverflow.com/questions/46693501/how-to-convert-list-of-qimage-elements-into-video-file", "title": "How to convert list of QImage elements into video file?", "body": "<p>I need to know how to convert list of <code>QImage</code> into video file - to be specific an <code>avi</code> file - without using OpenCV ?</p>\n"}, {"tags": ["python", "c++", "macos", "matplotlib"], "comments": [{"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507739931, "post_id": 46693415, "comment_id": 80334530, "body": "Show how you compile"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507740118, "post_id": 46693415, "comment_id": 80334634, "body": "No prob. I have updated the question."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507741302, "post_id": 46693415, "comment_id": 80335327, "body": "You need a -I flag with the folder containing the numpy headers"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507745073, "post_id": 46693415, "comment_id": 80337336, "body": "It compiles now. Thanks!"}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507745534, "post_id": 46693415, "comment_id": 80337573, "body": "would you like me to add an answer to upvote and select or would you prefer to just delete the question ?"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507745793, "post_id": 46693415, "comment_id": 80337699, "body": "The former. It could help someone else."}, {"owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507746052, "post_id": 46693415, "comment_id": 80337833, "body": "Just for reference, where did you find the numpy folder?"}, {"owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "reply_to_user": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "edited": false, "score": 0, "creation_date": 1507746456, "post_id": 46693415, "comment_id": 80338051, "body": "&#39;/System/Library/Frameworks/Python.framework/Versions/2.7/Ex&zwnj;&#8203;tras/lib/python/nump&zwnj;&#8203;y/core/include&#39; -- a different location to what i found on the internet. Is this ok?"}], "answers": [{"tags": [], "owner": {"reputation": 74843, "user_id": 2988730, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/ZOX7t.jpg?s=128&g=1", "display_name": "Mad Physicist", "link": "https://stackoverflow.com/users/2988730/mad-physicist"}, "is_accepted": true, "score": 1, "last_activity_date": 1507754589, "creation_date": 1507754589, "answer_id": 46697208, "question_id": 46693415, "link": "https://stackoverflow.com/questions/46693415/matplotlib-cannot-find-numpy-header-files/46697208#46697208", "title": "Matplotlib - cannot find Numpy header files", "body": "<p>That error indicates that the numpy headers were not found in one of the default locations like <code>/usr/include</code>.</p>\n\n<p>The solution is to find the include folder of your numpy installation and point the compiler to it with a <code>-I</code> flag.</p>\n\n<p>Your command line should look something like</p>\n\n<pre>\ng++ main.cpp -std=c++11 -I/usr/include/python2.7 <b>-I/System/Library/Frameworks/Python.framework/Versions/2.7/Ex\u200c\u200btras/lib/python/nump\u200c\u200by/core/include</b> -lpython2.7\n</pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 5301523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mUtQAQ5PKHk/AAAAAAAAAAI/AAAAAAAACdw/C1QrfcKdxj8/photo.jpg?sz=128", "display_name": "Inderjeet Sharma", "link": "https://stackoverflow.com/users/5301523/inderjeet-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1517820590, "creation_date": 1517820590, "answer_id": 48618691, "question_id": 46693415, "link": "https://stackoverflow.com/questions/46693415/matplotlib-cannot-find-numpy-header-files/48618691#48618691", "title": "Matplotlib - cannot find Numpy header files", "body": "<p>I resolved it by adding \"#define WITHOUT_NUMPY\" flag at top of mapplotlibcpp.h</p>\n"}], "owner": {"reputation": 1068, "user_id": 7395923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GHbEY.jpg?s=128&g=1", "display_name": "aneurinc", "link": "https://stackoverflow.com/users/7395923/aneurinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1188, "favorite_count": 0, "accepted_answer_id": 46697208, "answer_count": 2, "score": 0, "last_activity_date": 1517820590, "creation_date": 1507739764, "last_edit_date": 1507740093, "question_id": 46693415, "link": "https://stackoverflow.com/questions/46693415/matplotlib-cannot-find-numpy-header-files", "title": "Matplotlib - cannot find Numpy header files", "body": "<p>I am trying to plot a graph using matplotlib:</p>\n\n<pre><code>#include \"matplotlibcpp.h\"\nnamespace plt = matplotlibcpp;\n\nint main() {\n    plt::plot({1,2,3,4});\n    plt::show();\n}\n</code></pre>\n\n<p>However, when I hit compile I get the following error:</p>\n\n<pre><code>/usr/local/include/matplotlibcpp.h:19:12: \nfatal error: 'numpy/arrayobject.h' file not found\n</code></pre>\n\n<p>This is how I compile:</p>\n\n<pre><code>g++ main.cpp -std=c++11 -I/usr/include/python2.7 -lpython2.7\n</code></pre>\n\n<p>Please can someone explain what the problem is and how I can solve it. Thanks in advance.</p>\n"}, {"tags": ["c++", "geometry", "operator-overloading", "point", "cgal"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507739938, "post_id": 46693301, "comment_id": 80334537, "body": "You need to put your <code>std::cout</code>statements inside a function. maybe <code>int main()</code>?"}, {"owner": {"reputation": 5172, "user_id": 863521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gGh24.jpg?s=128&g=1", "display_name": "sloriot", "link": "https://stackoverflow.com/users/863521/sloriot"}, "edited": false, "score": 1, "creation_date": 1507740344, "post_id": 46693301, "comment_id": 80334771, "body": "It is not mathematically correct. With <code>Vector_2</code> is it valid."}, {"owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1507740821, "post_id": 46693301, "comment_id": 80335051, "body": "Maybe I\u2019m missing it, but where in the documentation does it say that you can add two points? Mathematically, this shouldn\u2019t be allowed."}], "answers": [{"tags": [], "owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "is_accepted": true, "score": 1, "last_activity_date": 1507747123, "creation_date": 1507747123, "answer_id": 46695344, "question_id": 46693301, "link": "https://stackoverflow.com/questions/46693301/why-can-i-not-add-points-in-cgal/46695344#46695344", "title": "Why can I not add points in CGAL", "body": "<p>I was misreading the documentation. You can only add vectors to points. (Which makes totally sense, of course)</p>\n\n<p>From the documentation :</p>\n\n<blockquote>\n  <p>Point_2&lt;\u00a0Kernel\u00a0>\u00a0operator+\u00a0(const\u00a0Point_2&lt;\u00a0Kernel\u00a0> &amp;p, const\u00a0Vector_2&lt;\u00a0Kernel\u00a0> &amp;v)\u00a0returns the point obtained by translating\u00a0p\u00a0by the vector\u00a0v</p>\n</blockquote>\n"}], "owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 46695344, "answer_count": 1, "score": 0, "last_activity_date": 1507747123, "creation_date": 1507739415, "question_id": 46693301, "link": "https://stackoverflow.com/questions/46693301/why-can-i-not-add-points-in-cgal", "title": "Why can I not add points in CGAL", "body": "<p>I am trying to add two points in CGAL using the <code>+</code> operator.</p>\n\n<pre><code>#include &lt;CGAL/Simple_cartesian.h&gt;\n#include &lt;CGAL/Point_2.h&gt;\n\ntypedef CGAL::Simple_cartesian&lt;double&gt; Kernel;\ntypedef Kernel::Point_2 Point;\n\nusing namespace std;\n\ncout &lt;&lt; Point(8.9, 9) + Point(1,1) &lt;&lt; endl;\ncout &lt;&lt; Point(8.9, 9) + Point(2,2) * .5 &lt;&lt; endl;\n</code></pre>\n\n<p>Which I assume to be possible considering the <a href=\"https://doc.cgal.org/latest/Kernel_23/classCGAL_1_1Point__2.html#ga7be1ffd6b3e12cbe03575d932420c672\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n\n<p>But I get the following error:</p>\n\n<pre><code>/path_to_file/main.cpp:25: error: no match for \u2018operator+\u2019 (operand types are \u2018Point {aka CGAL::Point_2&lt;CGAL::Simple_cartesian&lt;double&gt; &gt;}\u2019 and \u2018Point {aka CGAL::Point_2&lt;CGAL::Simple_cartesian&lt;double&gt; &gt;}\u2019)\n cout &lt;&lt; Point(8.9, 9) + Point(1,1) &lt;&lt; endl;\n         ~~~~~~~~~~~~~~^~~~~~~~~~~~\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1333, "user_id": 408642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYwoc.png?s=128&g=1", "display_name": "Benp44", "link": "https://stackoverflow.com/users/408642/benp44"}, "edited": false, "score": 0, "creation_date": 1507738874, "post_id": 46693038, "comment_id": 80333921, "body": "What&#39;s the question, or what do you perceive as wrong with your code?"}, {"owner": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "reply_to_user": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "edited": false, "score": 1, "creation_date": 1507739076, "post_id": 46693038, "comment_id": 80334036, "body": "@SteveLorimer That won&#39;t work as intended. OP should use <code>std::getline()</code> instead."}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 7681, "user_id": 8242698, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/BjJXu.jpg?s=128&g=1", "display_name": "user0042", "link": "https://stackoverflow.com/users/8242698/user0042"}, "edited": false, "score": 0, "creation_date": 1507739309, "post_id": 46693038, "comment_id": 80334172, "body": "@user0042 my bad, you are correct - you need to use a combination of <code>std::getline</code> and <code>std::cin</code> - answer updated"}], "answers": [{"comments": [{"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 13, "user_id": 7231387, "user_type": "registered", "profile_image": "https://graph.facebook.com/1359151257428612/picture?type=large", "display_name": "Moshiur Rahman", "link": "https://stackoverflow.com/users/7231387/moshiur-rahman"}, "edited": false, "score": 0, "creation_date": 1507752020, "post_id": 46693182, "comment_id": 80340911, "body": "@MoshiurRahman if this answer helped you, please take a moment to accept it (click on the tick to the left of the question)"}], "tags": [], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "is_accepted": true, "score": 1, "last_activity_date": 1507739337, "last_edit_date": 1507739337, "creation_date": 1507739025, "answer_id": 46693182, "question_id": 46693038, "link": "https://stackoverflow.com/questions/46693038/how-do-i-take-input-string-from-user-instead-of-the-example-and-then-count-space/46693182#46693182", "title": "How do I take Input string from user instead of the example and then Count spaces, punctuation, digits, and letters. C++", "body": "<p>You want to use <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/getline\" rel=\"nofollow noreferrer\"><code>std::getline</code></a> in conjunction with <a href=\"http://en.cppreference.com/w/cpp/io/cin\" rel=\"nofollow noreferrer\"><code>std::cin</code></a> which reads from the standard C input stream <a href=\"http://en.cppreference.com/w/cpp/io/c\" rel=\"nofollow noreferrer\">stdin</a></p>\n\n<ul>\n<li><code>std::getline</code> reads characters from an input stream and places them into a string</li>\n<li><code>std::cin</code> is the input stream associated with <code>stdin</code></li>\n</ul>\n\n<p>Typically you want to output a prompt to the user:</p>\n\n<pre><code>std::cout &lt;&lt; \"Please enter your test input:\\n\";\n</code></pre>\n\n<p>Then you want to create a <code>std::string</code>, and use <code>std::getline</code> with <code>std::cin</code> to store the user's input into that string:</p>\n\n<pre><code>std::string input;\nstd::getline(std::cin, input);\n</code></pre>\n\n<p>At this point your program will block until the user types in their input, and presses enter. </p>\n\n<p>Once the user presses enter, <code>std::getline</code> will return, and you can do whatever you want with the contents of the string</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cctype&gt;\n\nusing namespace std;\n\nint main()\n{\n    std::cout &lt;&lt; \"Enter the test input:\\n\";\n    std::string input;\n    std::getline(std::cin, input);\n\n    const char *str = input.c_str();\n    int letters = 0, spaces = 0, punct = 0, digits = 0;\n\n    cout &lt;&lt; str &lt;&lt; endl;\n    while(*str) {\n        if(isalpha(*str))\n            ++letters;\n        else if(isspace(*str))\n            ++spaces;\n        else if(ispunct(*str))\n            ++punct;\n        else if(isdigit(*str))\n            ++digits;\n        ++str;\n    }\n    cout &lt;&lt; \"Letters: \" &lt;&lt; letters &lt;&lt; endl;\n    cout &lt;&lt; \"Digits: \" &lt;&lt; digits &lt;&lt; endl;\n    cout &lt;&lt; \"Spaces: \" &lt;&lt; spaces &lt;&lt; endl;\n    cout &lt;&lt; \"Punctuation: \" &lt;&lt; punct &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>$ ./a.out \nEnter the test input:\nThis is a test 1 2 3 4\nThis is a test 1 2 3 4\nLetters: 11\nDigits: 4\nSpaces: 7\nPunctuation: 0\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7231387, "user_type": "registered", "profile_image": "https://graph.facebook.com/1359151257428612/picture?type=large", "display_name": "Moshiur Rahman", "link": "https://stackoverflow.com/users/7231387/moshiur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 1, "accepted_answer_id": 46693182, "answer_count": 1, "score": 0, "last_activity_date": 1507739337, "creation_date": 1507738525, "question_id": 46693038, "link": "https://stackoverflow.com/questions/46693038/how-do-i-take-input-string-from-user-instead-of-the-example-and-then-count-space", "title": "How do I take Input string from user instead of the example and then Count spaces, punctuation, digits, and letters. C++", "body": "<p>This is my code.\nUser will give an input(any string) instead of the \"This is a test. 1 2 3 4 5\".</p>\n\n<p>Then it will show number of spaces, punctuation, digits, and letters as output string.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cctype&gt;\n\nusing namespace std;\n\nint main() {\n\nconst char *str = \"This is a test. 1 2 3 4 5\";\nint letters = 0, spaces = 0, punct = 0, digits = 0;\n\ncout &lt;&lt; str &lt;&lt; endl;\nwhile(*str) {\nif(isalpha(*str)) \n   ++letters;\nelse if(isspace(*str)) \n   ++spaces;\nelse if(ispunct(*str)) \n   ++punct;\nelse if(isdigit(*str)) \n   ++digits;\n++str;\n}\ncout &lt;&lt; \"Letters: \" &lt;&lt; letters &lt;&lt; endl;\ncout &lt;&lt; \"Digits: \" &lt;&lt; digits &lt;&lt; endl;\ncout &lt;&lt; \"Spaces: \" &lt;&lt; spaces &lt;&lt; endl;\ncout &lt;&lt; \"Punctuation: \" &lt;&lt; punct &lt;&lt; endl;\n\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "templates", "visual-c++", "dll", "dynamic-linking"], "comments": [{"owner": {"reputation": 648, "user_id": 1981061, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/bf8c5be4f273295132879954ce1e7b11?s=128&d=identicon&r=PG", "display_name": "Griffin", "link": "https://stackoverflow.com/users/1981061/griffin"}, "edited": false, "score": 0, "creation_date": 1507741046, "post_id": 46693016, "comment_id": 80335186, "body": "Have you tried debugging it? How many times does the line <code>Instance = new MyClass();</code> gets executed?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507743999, "post_id": 46693016, "comment_id": 80336719, "body": "You cannot export a template from a DLL - there&#39;s simply nothing to export, a template is simply a bunch of C++ code up until the moment it&#39;s actually used and template parameters become known. Think about it - at the time Master.dll is compiled and linked, neither compiler nor linker can possibly know that another binary would, at some later time, want to instantiate <code>MyClass&lt;1, int, float&gt;</code> specifically. Exporting a variable of this specific type would require clairvoyance."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507744221, "post_id": 46693016, "comment_id": 80336875, "body": "You should, however, be able to export individual specializations of a template - like this: <code>template class EXPORT MyClass&lt;1, int, float&gt;;</code> Though this kinda defeats the point of making <code>MyClass</code> a template in the first place."}, {"owner": {"reputation": 15, "user_id": 4856724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c7c7155a6ef82df01af00a0cfff408?s=128&d=identicon&r=PG&f=1", "display_name": "gcnew", "link": "https://stackoverflow.com/users/4856724/gcnew"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507744557, "post_id": 46693016, "comment_id": 80337080, "body": "@Igor Tandetnik So I would have to export these specializations in the Master.dll hpp file? Or in the Slave.dll .cpp file? Or in both?"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507745087, "post_id": 46693016, "comment_id": 80337340, "body": "You decide which DLL you want to export from, and which DLL you want to consume. Then use the standard macro trick to have those specializations marked <code>__declspec(dllexport)</code> in the former, and <code>__declspec(dllimport)</code> in the latter."}, {"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1508487946, "post_id": 46693016, "comment_id": 80637701, "body": "@IgorTandetnik This works fine on Linux though (provided that I instantiate <code>MyClass&lt;1, int, float&gt;::Instance</code> in every shlib)."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1508503311, "post_id": 46693016, "comment_id": 80645895, "body": "@yugr Shared objects on Linux work differently than DLLs on Windows. I don&#39;t know the details (I&#39;m a Windows guy myself), just the fact that the model is fundamentally different. Something about doing a full linker pass at load time. In any case, &quot;but it works on Linux&quot; is not a useful argument when you are trying to solve a problem on Windows."}, {"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1508510395, "post_id": 46693016, "comment_id": 80650428, "body": "@IgorTandetnik &quot;&quot;but it works on Linux&quot; is not a useful argument&quot; - well, your arguments weren&#39;t Windows-specific so I decided to point this out (and &quot;exporting a variable of this specific type would require clairvoyance&quot; is not a useful argument either)."}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "reply_to_user": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1508510692, "post_id": 46693016, "comment_id": 80650620, "body": "@yugr That comment was about exporting a template as a whole, which makes no sense. You state that it works on Linux provided you explicitly instantiate all the template specializations you need to use; by doing this, you supply the missing information, making clairvoyance unnecessary. Explicit instantiations can be made to work on Windows, too."}], "owner": {"reputation": 15, "user_id": 4856724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c7c7155a6ef82df01af00a0cfff408?s=128&d=identicon&r=PG&f=1", "display_name": "gcnew", "link": "https://stackoverflow.com/users/4856724/gcnew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507738480, "creation_date": 1507738480, "question_id": 46693016, "link": "https://stackoverflow.com/questions/46693016/implementing-static-members-of-template-classes-over-multiple-dlls", "title": "Implementing static members of template classes over multiple DLLs", "body": "<p>I have two DLLs - Master.dll and Slave.dll.\nIn Master.dll, I define a template class:</p>\n\n<pre><code>// MyClass.hpp\n\n#include &lt;vector&gt;\n\n#define EXPORT __declspec( dllexport )\n\ntemplate&lt; int num, typename ... args &gt;\nclass EXPORT MyClass {\nprivate:\n    static MyClass* Instance;\n\npublic:\n    std::vector&lt; void* &gt; Callbacks;\n    static MyClass* GetInstance() { \n        if ( Instance == nullptr ) {\n            Instance = new MyClass();\n        }\n        return Instance;\n    }\n};\n\n// Initialize the static member\ntemplate&lt; int num, typename ... args &gt;\nMyClass&lt; num, args &gt;* MyClass&lt; num, args &gt;::Instance;\n</code></pre>\n\n<p>In Slave.dll, I use the template class like so:</p>\n\n<pre><code>// SlaveImpl.cpp\n\n#include \"MyClass.hpp\"\n#define EXPORT __declspec( dllimport )\n\nvoid SomeFunction() {\n    auto inst = MyClass&lt;1, int, float&gt;::GetInstance();\n    inst-&gt;Callbacks.push_back( (void*)0 );\n\n    std::cout &lt;&lt; inst &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>I then try to access it again in Master.dll:</p>\n\n<pre><code>// SomeMasterFile.cpp\n\nvoid SomeMasterFunction {\n    auto inst = MyClass&lt;1, int, float&gt;::GetInstance();\n    std::cout &lt;&lt; inst &lt;&lt; \" - \" &lt;&lt; inst-&gt;Callbacks.size() &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Then I compare the two console results, the addresses are different, and the size of the <code>Callbacks</code> vector is 0:</p>\n\n<pre><code>4E142056\n4F5262A1 - 0\n</code></pre>\n\n<p>How can I make both of the DLLs use the same pointer, so that my Master.dll can access the same <code>Callbacks</code> vector as Slave.dll?</p>\n"}, {"tags": ["c++", "grid", "geometry", "computational-geometry", "cgal"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1507750570, "post_id": 46692994, "comment_id": 80340093, "body": "<a href=\"https://en.wikipedia.org/wiki/Line_drawing_algorithm\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Line_drawing_algorithm</a> ?"}, {"owner": {"reputation": 13642, "user_id": 4013258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d423395e1033fa23d80a5561ab170fa?s=128&d=identicon&r=PG&f=1", "display_name": "Surt", "link": "https://stackoverflow.com/users/4013258/surt"}, "edited": false, "score": 0, "creation_date": 1507753469, "post_id": 46692994, "comment_id": 80341579, "body": "There are formula&#39;s for detecting 2 lines (vectors) crossing, In your case the implied line and the grid lines, is it that thing you are asking about?"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1507779707, "post_id": 46692994, "comment_id": 80349182, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24679963/precise-subpixel-line-drawing-algorithm-rasterization-algorithm\">Precise subpixel line drawing algorithm (rasterization algorithm)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "edited": false, "score": 0, "creation_date": 1508314502, "post_id": 46700069, "comment_id": 80558179, "body": "Thanks for that but especially the cells displayed in blue i need to be included as well. And my start and end points need to be float precision."}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "edited": false, "score": 0, "creation_date": 1508316927, "post_id": 46700069, "comment_id": 80559549, "body": "Start and end points coordinates are floats. Blue cells are registered by algorithm, of course. I just gave them another color (some applications should ignore such points)"}, {"owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "edited": false, "score": 0, "creation_date": 1508317052, "post_id": 46700069, "comment_id": 80559628, "body": "Okay, thanks for pointing out. I am going to look into it again."}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1507772372, "creation_date": 1507772372, "answer_id": 46700069, "question_id": 46692994, "link": "https://stackoverflow.com/questions/46692994/how-to-discretize-a-line-segment/46700069#46700069", "title": "How to discretize a line segment", "body": "<p>The first image shows line rasterizing algorithm like Bresenham or DDA one.</p>\n\n<p>The second image shows voxelization  - get all the grid cells touched by line. Consider algorithm of <a href=\"http://www.cse.yorku.ca/~amana/research/grid.pdf\" rel=\"nofollow noreferrer\">Amanatides and Woo</a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/BFYPN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BFYPN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "is_accepted": true, "score": 0, "last_activity_date": 1508314234, "creation_date": 1508314234, "answer_id": 46805515, "question_id": 46692994, "link": "https://stackoverflow.com/questions/46692994/how-to-discretize-a-line-segment/46805515#46805515", "title": "How to discretize a line segment", "body": "<p>I ended up implementing the algorithm myself. Basically because none of the computer graphics algorithms meet my requirement of actually including all grid cells, the line touches.</p>\n\n<p>Note that I am using CGAL and two different kernel to represent floating-prcision Points as <code>Point</code> and discrete grid cells as <code>Pixel</code>:</p>\n\n<pre><code>#include &lt;CGAL/Simple_cartesian.h&gt;\n#include &lt;CGAL/Point_2.h&gt;\n\ntypedef CGAL::Simple_cartesian&lt;double&gt; KernelDouble;\ntypedef KernelDouble::Point_2 Point;\ntypedef KernelDouble::Segment_2 Segment;\n\ntypedef CGAL::Simple_cartesian&lt;uint16_t&gt; KernelInt;\ntypedef KernelInt::Point_2 Pixel;\n</code></pre>\n\n<p>This is the function:</p>\n\n<pre><code>void get_pixels_for_segment(std::list&lt;Pixel&gt;* res, Segment seg) {\n    assert(res-&gt;size() == 0);\n    Point start = seg.source();\n    Point goal = seg.target();\n    uint8_t swapped = 0;\n    if(start.x() &gt; goal.x()) {  // swap\n        start = seg.target();\n        goal = seg.source();\n        swapped = 1;\n    }\n    Pixel startp, goalp;\n    startp = point_to_pixel(&amp;start);\n    goalp = point_to_pixel(&amp;goal);\n    int8_t sx = sgn&lt;int&gt;(goalp.x() - startp.x());\n    assert(sx &gt;= 0);\n    int8_t sy = sgn&lt;int&gt;(goalp.y() - startp.y());\n    if(startp == goalp) {\n        res-&gt;push_back(startp);\n        return;\n    }\n    double d = (goal.y() - start.y()) / (goal.x() - start.x());\n    double ysec = start.y() - d * start.x();\n    std::list&lt;int&gt; xs;\n    range(&amp;xs, startp.x(), goalp.x());\n    std::list&lt;int&gt;::iterator xsit = xs.begin();\n    for(; xsit != xs.end(); ++xsit) {\n        int xl = *xsit;\n        int xr = *xsit + 1;\n        double yl = d * xl + ysec;\n        double yr = d * xr + ysec;\n        if(startp.y() == goalp.y()) {\n            yl = startp.y();\n            yr = goalp.y();\n        }\n        if(\n            ((startp.y() - floor(yl)) * sy) &gt; 0\n        ) yl = (double) startp.y();\n        if(\n            ((goalp.y() - floor(yr)) * sy) &lt; 0\n        ) yr = (double) goalp.y();\n        std::list&lt;int&gt; ys;\n        range(&amp;ys, floor(yl), floor(yr));\n        std::list&lt;int&gt;::iterator ysit = ys.begin();\n        for(; ysit != ys.end(); ++ysit) {\n            assert(*xsit &gt;= 0);\n            assert(*ysit &gt;= 0);\n            res-&gt;push_back(Pixel(*xsit, *ysit));\n        }\n    }\n    if(swapped) res-&gt;reverse();\n    return;\n}\n</code></pre>\n"}], "owner": {"reputation": 1019, "user_id": 1493204, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/5d473278c7bacf9ed0ae88bb920b78af?s=128&d=identicon&r=PG", "display_name": "Christian", "link": "https://stackoverflow.com/users/1493204/christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 724, "favorite_count": 0, "accepted_answer_id": 46805515, "answer_count": 2, "score": 0, "last_activity_date": 1508314234, "creation_date": 1507738405, "question_id": 46692994, "link": "https://stackoverflow.com/questions/46692994/how-to-discretize-a-line-segment", "title": "How to discretize a line segment", "body": "<p>How can I find out which grid cells one line segment travels through? For example, the line segment may be given as <code>(8.3555 9.1654) -&gt; (1.4123 5.6312)</code> (with arbitrary precision).</p>\n\n<p>I want to transform this into a grid-based representation like seen in the second image on the top:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wzAkf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wzAkf.png\" alt=\"example\"></a></p>\n\n<p>I am currently looking into CGAL. It has the package <a href=\"https://doc.cgal.org/latest/Manual/packages.html#PkgSnapRounding2Summary\" rel=\"nofollow noreferrer\">Snap Rounding</a> which kind of does what I am looking for but only for the start and end points of the segments.</p>\n"}, {"tags": ["c++", "file", "loops", "vector", "stream"], "comments": [{"owner": {"reputation": 682, "user_id": 7253878, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/52963dc20521e67ea382effca33592b6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/7253878/matthew"}, "edited": false, "score": 0, "creation_date": 1507738710, "post_id": 46692973, "comment_id": 80333828, "body": "have you heard of a nested for-loop? that is going to help significantly..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1507748442, "post_id": 46692973, "comment_id": 80339113, "body": "Regarding the file-reading loop. Option 2 from this answer should help you out: <a href=\"https://stackoverflow.com/a/7868998/4581301\">stackoverflow.com/a/7868998/4581301</a>"}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 7313246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oleS.png?s=128&g=1", "display_name": "Kajienk", "link": "https://stackoverflow.com/users/7313246/kajienk"}, "is_accepted": false, "score": 0, "last_activity_date": 1507752197, "creation_date": 1507752197, "answer_id": 46696605, "question_id": 46692973, "link": "https://stackoverflow.com/questions/46692973/c-file-stream-and-vectors/46696605#46696605", "title": "C++ file stream and vectors", "body": "<p>Tried locally with file like this:</p>\n\n<pre><code>12 34 42 53\n32 45 46 47\n31 32 33 34\n</code></pre>\n\n<p>and the reading has to be changed (you don't have any parsing of line in your code). Working example follows:</p>\n\n<pre><code>//copy specified data into vector\nstring line;\nint i, j, offset, int_val;\nsize_t tmp;\ni = 0;\nwhile( file.good() &amp;&amp; (i&lt;row) ){\n  getline( file, line );\n  //create one line in data\n  data.push_back( vector&lt;int&gt;(0) );\n  offset = 0;\n  j = 0;\n  //parse one line\n  while( 1 ){\n    try{\n      int_val = stoi( line.substr(offset), &amp;tmp );\n    }catch( const exception&amp; e){\n      //ending loop when no more numbers available\n      ++i;\n      break;\n    }\n    //exiting loop when reqiuered limit reached\n    if( j &gt;= col ){\n      ++i;\n      break;\n    }\n    //save to vector\n    data[i].push_back( int_val );\n    offset += tmp;\n    ++j;\n  }\n}\nfile.close();     //don't forget to close the file\n</code></pre>\n\n<p>printing output seems to be OK</p>\n"}], "owner": {"reputation": 155, "user_id": 8652116, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6e465884959e54a3d6b86d9870fdc11d?s=128&d=identicon&r=PG&f=1", "display_name": "rrc", "link": "https://stackoverflow.com/users/8652116/rrc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507752197, "creation_date": 1507738328, "last_edit_date": 1507744560, "question_id": 46692973, "link": "https://stackoverflow.com/questions/46692973/c-file-stream-and-vectors", "title": "C++ file stream and vectors", "body": "<p>I have a .dat file containing full of integers 100 by 100, and I am trying to transfer x rows and x columns into a new vector, I've managed to ge the first row with the desired columns but stuck in trying to get to the next line and until to the x rows, please give help.\nalso some help on the display part, I'm not sure how to display a vector with more than one rows and columns. Tried <code>data.at(i).at(j)</code> double for loop but unsuccessful</p>\n\n<pre><code>//variable\nint row, col;\nstring fname;\nifstream file;\nvector&lt;vector&lt;int&gt;&gt; data;\n\n//input\ncout &lt;&lt; \"Enter the number of rows in the map: \";    cin &gt;&gt; row;\ncout &lt;&lt; \"Enter the number of columns in the map: \"; cin &gt;&gt; col;\ncout &lt;&lt; \"Enter the file name to write: \";           cin &gt;&gt; fname;\n\n//open file\nfile.open(fname, ios::in);  //  map-input-100-100.dat map-input-480-480.dat\n\n//copy specified data into vector\nint count = 0, temp = 0;\nstring line;\nwhile (count &lt; row)\n{\n    for (int i = 0; i &lt; col; ++i)\n    {\n        file &gt;&gt; temp;\n        data[count].push_back(temp);\n    }\n    ++count;\n    getline(file, line);\n    stringstream ss(line);\n\n}\n\n//output\nfor (int i = 0; i &lt; data.size(); i++)\n{\n    for (int j = 0; j &lt; data[i].size(); j++)    cout &lt;&lt; data[i][j] &lt;&lt; ' ';\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This is my code so far</p>\n"}, {"tags": ["c++", "function", "c++11", "bind"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 1, "creation_date": 1507738486, "post_id": 46692946, "comment_id": 80333704, "body": "Function pointers don&#39;t have state. You&#39;re going to have to make use of the <code>void*</code> parameter. On the plus side, the parameter exists, unlike some other specific C APIs I&#39;ve come across."}, {"owner": {"reputation": 6050, "user_id": 1030410, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e13caf6116a45714153bd145754fd292?s=128&d=identicon&r=PG", "display_name": "Daniel Trugman", "link": "https://stackoverflow.com/users/1030410/daniel-trugman"}, "edited": false, "score": 1, "creation_date": 1507759878, "post_id": 46692946, "comment_id": 80344328, "body": "Are you sure that the <code>listener</code> method accepts only <code>pfnc</code>? Usually such methods accept a user specified <code>void *</code> parameter that is passed during the callback to the handler method..."}, {"owner": {"reputation": 1719, "user_id": 2590568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uRtGx.jpg?s=128&g=1", "display_name": "Colin Pitrat", "link": "https://stackoverflow.com/users/2590568/colin-pitrat"}, "edited": false, "score": 0, "creation_date": 1507791141, "post_id": 46692946, "comment_id": 80353296, "body": "I usually use a lambda that captures this to call the method."}, {"owner": {"reputation": 9495, "user_id": 1395740, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/793c4377313587d742fad6f069d92d89?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1395740/nick"}, "reply_to_user": {"reputation": 6050, "user_id": 1030410, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e13caf6116a45714153bd145754fd292?s=128&d=identicon&r=PG", "display_name": "Daniel Trugman", "link": "https://stackoverflow.com/users/1030410/daniel-trugman"}, "edited": false, "score": 0, "creation_date": 1507882745, "post_id": 46692946, "comment_id": 80397094, "body": "@DanielTrugman you are right, going to update the function."}], "answers": [{"tags": [], "owner": {"reputation": 64049, "user_id": 2015579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/28571d6df35321850e78b1ebfd48e5b4?s=128&d=identicon&r=PG", "display_name": "Richard Hodges", "link": "https://stackoverflow.com/users/2015579/richard-hodges"}, "is_accepted": false, "score": 1, "last_activity_date": 1507740071, "creation_date": 1507740071, "answer_id": 46693499, "question_id": 46692946, "link": "https://stackoverflow.com/questions/46692946/bind-class-method-and-pass-it-as-function-pointer/46693499#46693499", "title": "Bind class method and pass it as function pointer", "body": "<p>From the look of the callback signal, the listener API takes a pointer to void as 'user defined data'. You can pass <code>this</code> as the data and a small stateless proxy function to route to the handler on <code>Foo</code>:</p>\n\n<pre><code>typedef void(*pfnc) (void*);\n\nstruct Foo\n{\n    static void static_foo(void*)\n    {\n    }\n\n    void foo()\n    {\n    }\n\n    void listner(pfnc f, void* user_data)\n    {\n\n        // eventually calls\n        f(user_data);\n    }\n\n    void test()\n    {\n        listner(static_foo, nullptr); // works with static method\n\n        auto f = [](void*) {\n        };\n        listner(f, nullptr); // works with lambda\n\n        listner([](void* pv)\n        {\n            reinterpret_cast&lt;Foo*&gt;(pv)-&gt;foo();\n        }, this);\n    }\n\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1507741606, "creation_date": 1507741606, "answer_id": 46693914, "question_id": 46692946, "link": "https://stackoverflow.com/questions/46692946/bind-class-method-and-pass-it-as-function-pointer/46693914#46693914", "title": "Bind class method and pass it as function pointer", "body": "<p>For the example in the question it would be possible to pass the member function pointer. But of course the instance on which that member is to be called must be known. If the calling function is also a member function then we can use <code>this</code> to call the member function passed via the pointer.</p>\n\n<pre><code>struct Foo\n{\n    static void static_foo(void*)\n    {\n    }\n\n    void foo(void*)\n    {\n    }\n\n    void listner(pfnc f)\n    {\n    }\n\n    void listner(void(Foo::*f)(void*))\n    {\n        (this-&gt;*f)(nullptr); // call member function pointer for this\n    }\n\n    void test()\n    {\n        listner(static_foo); // works with static method\n\n        auto f = [](void*) {};\n        listner(f); // works with lambda\n\n        listner(&amp;Foo::foo); // pass pointer to member function\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 2576799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d394f904798f77a59ea72142277cf45?s=128&d=identicon&r=PG", "display_name": "David Parsons", "link": "https://stackoverflow.com/users/2576799/david-parsons"}, "is_accepted": false, "score": 0, "last_activity_date": 1507790802, "creation_date": 1507790802, "answer_id": 46703099, "question_id": 46692946, "link": "https://stackoverflow.com/questions/46692946/bind-class-method-and-pass-it-as-function-pointer/46703099#46703099", "title": "Bind class method and pass it as function pointer", "body": "<p>Your example 'works' with a static member function because these are almost equivalent to plain old functions</p>\n\n<p>It also 'works' with the lambda you provide because it is a <strong>capture-less</strong> lambda which can be converted to a function pointer (cf <a href=\"https://stackoverflow.com/questions/28746744/passing-lambda-as-function-pointer\">Passing lambda as function pointer</a>)\nIt will not work with a lambda with a capture however, because, as <a href=\"https://stackoverflow.com/users/962089/chris\">chris</a> said, function pointers don't have state, i.e. there is no place to store what would be captured.</p>\n\n<p>The same goes for the bind. You can store it in a std::function because such an object has a state, but you cannot store it in a plain (stateless) function pointer.</p>\n\n<p>If you're not convinced, have a look at what <code>stdf.target_type()</code> tells you and compare it with <code>typeid(static_foo).name()</code>\nYou can also have a look at the return type of std::bind</p>\n\n<p>In the end, as others have said, you will have to embark your object in the user data, that is, in the void*.\nIt could be worth investigating whether you can wrap that in a helper function taking an std::function as a parameter...</p>\n"}], "owner": {"reputation": 9495, "user_id": 1395740, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/793c4377313587d742fad6f069d92d89?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/1395740/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1745, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1507882804, "creation_date": 1507738242, "last_edit_date": 1507882804, "question_id": 46692946, "link": "https://stackoverflow.com/questions/46692946/bind-class-method-and-pass-it-as-function-pointer", "title": "Bind class method and pass it as function pointer", "body": "<p>I would like to pass my class method as an argument to a (third-party) function \n (<strong>listner</strong> - that cannot be changed) that accepts a function pointer and a <code>void*</code>. Following is an example:</p>\n\n<pre><code>#include &lt;functional&gt;\n\ntypedef void(*pfnc) (void*);\n\nstruct Foo\n{\n    static void static_foo(void*)\n    {\n    }\n\n    void foo(void*)\n    {\n    }\n\n    void listner(pfnc f, void* p)\n    {\n       f(p);\n    }\n\n    void test()\n    {\n        listner(static_foo); // works with static method\n\n        auto f = [](void*) {};\n        listner(f); // works with lambda\n\n        std::function&lt;void(void*)&gt; stdf = std::bind(&amp;Foo::foo, this, std::placeholders::_1);\n        listner(stdf);  // does not compile with not static method\n    }\n};\n</code></pre>\n\n<p>Unfortunately my solution does not compile. What do I have to change?</p>\n"}, {"tags": ["c++", "delay"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 3, "creation_date": 1507738306, "post_id": 46692941, "comment_id": 80333607, "body": "<code>a--</code> already decrements <code>a</code>. Assigning the result to <code>a</code> on top of that changes it from working to not working."}, {"owner": {"reputation": 3, "user_id": 8741036, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c7_VA9u71Zc/AAAAAAAAAAI/AAAAAAAAARA/kwx9kngDs34/photo.jpg?sz=128", "display_name": "TheZedYasuo", "link": "https://stackoverflow.com/users/8741036/thezedyasuo"}, "edited": false, "score": 0, "creation_date": 1507738785, "post_id": 46692941, "comment_id": 80333872, "body": "So, i found out that i should be using <code>&lt;windows.h&gt;</code> and not <code>&lt;dos.h&gt;</code>. Thank you anyways"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1507739259, "post_id": 46692941, "comment_id": 80334149, "body": "You probably should not even be using that. Nothing in your code example needs <code>windows.h</code> <code>system</code> needs <code>#include &lt;process.h&gt;</code>"}, {"owner": {"reputation": 20235, "user_id": 1462718, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7d451483b64aa999fecf316e7132afc6?s=128&d=identicon&r=PG", "display_name": "Brandon", "link": "https://stackoverflow.com/users/1462718/brandon"}, "edited": false, "score": 2, "creation_date": 1507739715, "post_id": 46692941, "comment_id": 80334413, "body": "<code>#include &lt;thread&gt;</code> then.. <code>std::this_thread::sleep_for(std::chrono:: milliseconds(75));</code> assuming C++11."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1507740254, "post_id": 46692941, "comment_id": 80334721, "body": "on the dupe please pay attention to the answer giving a  C++11 solution. It is the preferred way."}], "owner": {"reputation": 3, "user_id": 8741036, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-c7_VA9u71Zc/AAAAAAAAAAI/AAAAAAAAARA/kwx9kngDs34/photo.jpg?sz=128", "display_name": "TheZedYasuo", "link": "https://stackoverflow.com/users/8741036/thezedyasuo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "closed_date": 1507740178, "answer_count": 0, "score": 0, "last_activity_date": 1507738226, "creation_date": 1507738226, "question_id": 46692941, "link": "https://stackoverflow.com/questions/46692941/i-want-to-add-delay-to-my-countdown-c-code", "closed_reason": "Duplicate", "title": "I want to add delay to my countdown C++ code", "body": "<p>i want help to get delay between the numbers in the countdown for like 0.75 seconds for each line, i tried adding Sleep function and it says it cannot define identifier</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;dos.h&gt;\nusing namespace std;\nint main()\n\n{\n\nfloat a;\ncout &lt;&lt; \"Lets do a countdown, write a number:\" &lt;&lt; endl;\ncin &gt;&gt; (a);\nwhile (a &gt; 0) {\n\n    cout &lt;&lt; a &lt;&lt; endl;\n    a = a--;\n}\ncout &lt;&lt; \"Countdown Aborted\" &lt;&lt; endl;\nsystem(\"pause\");\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 18522, "user_id": 5241642, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/TadbK.png?s=128&g=1", "display_name": "Xirema", "link": "https://stackoverflow.com/users/5241642/xirema"}, "edited": false, "score": 2, "creation_date": 1507737035, "post_id": 46692565, "comment_id": 80332833, "body": "What are you expecting the result of a <code>string</code> divided by a <code>string</code> to be??"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507737047, "post_id": 46692565, "comment_id": 80332845, "body": "what are the errors?"}, {"owner": {"reputation": 841, "user_id": 275780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9fda69904fe03f3c3937634042e4ef6?s=128&d=identicon&r=PG", "display_name": "xyious", "link": "https://stackoverflow.com/users/275780/xyious"}, "edited": false, "score": 0, "creation_date": 1507737075, "post_id": 46692565, "comment_id": 80332863, "body": "according to your code there is no reason for the numbers to be strings, why are they ?   since they are strings you need to cast them to numbers if you want to calculate with them."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507737091, "post_id": 46692565, "comment_id": 80332872, "body": "why do you use <code>string</code>s when you want <code>double</code>s ?"}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1507737124, "post_id": 46692565, "comment_id": 80332894, "body": "You have to first <a href=\"https://stackoverflow.com/questions/5290089/how-to-convert-a-number-to-string-and-vice-versa-in-c\">convert the string to a numeric type</a> and then do the calculations on that value."}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1507738249, "post_id": 46692565, "comment_id": 80333573, "body": "Could be an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. What are you <i>actually</i> trying to do?"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 841, "user_id": 275780, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e9fda69904fe03f3c3937634042e4ef6?s=128&d=identicon&r=PG", "display_name": "xyious", "link": "https://stackoverflow.com/users/275780/xyious"}, "edited": false, "score": 1, "creation_date": 1507738256, "post_id": 46692565, "comment_id": 80333576, "body": "@xyious -- you can&#39;t <b>cast</b> a string to a number; you can <b>convert</b> it. A cast is something you write in your source code to tell the compiler to do a conversion."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1507743733, "post_id": 46692565, "comment_id": 80336569, "body": "Welcome to Stack Overflow! To help people answer your question, you&#39;ll need to be more specific about the error.  Please <a href=\"https://stackoverflow.com/posts/46692565/edit\">edit</a> your post to incorporate the exact errors you get from your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (preferably using copy+paste to avoid transcription errors)."}, {"owner": {"reputation": 21162, "user_id": 7733418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b08876b87c096cd006f66820ffc67f27?s=128&d=identicon&r=PG", "display_name": "Yunnosch", "link": "https://stackoverflow.com/users/7733418/yunnosch"}, "edited": false, "score": 0, "creation_date": 1507752816, "post_id": 46692565, "comment_id": 80341299, "body": "This question is unclear because, among other things, you do not provide an explanation for your choice to read in strings instead of some kind of data type which can actually be used for calculation/arithmetic."}, {"owner": {"reputation": 11, "user_id": 8760059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c237524c3858ead15e91ddfa887496f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sumair", "link": "https://stackoverflow.com/users/8760059/sumair"}, "edited": false, "score": 0, "creation_date": 1507806290, "post_id": 46692565, "comment_id": 80362359, "body": "I am creating a program that reads a string containing two numbers and a operator and print out the results"}], "answers": [{"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507737497, "post_id": 46692623, "comment_id": 80333130, "body": "yeah I am always 1 second late, but eventually I gave up to update my comments ;)"}, {"owner": {"reputation": 11, "user_id": 8760059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c237524c3858ead15e91ddfa887496f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sumair", "link": "https://stackoverflow.com/users/8760059/sumair"}, "edited": false, "score": 0, "creation_date": 1507805228, "post_id": 46692623, "comment_id": 80361706, "body": "I can do it by changing string into double data type. But this is an assignment question that taking two operand and one operator via string and perform basic calculating operation."}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "reply_to_user": {"reputation": 11, "user_id": 8760059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c237524c3858ead15e91ddfa887496f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sumair", "link": "https://stackoverflow.com/users/8760059/sumair"}, "edited": false, "score": 0, "creation_date": 1507807187, "post_id": 46692623, "comment_id": 80362902, "body": "@Sumair Then take a look at <a href=\"https://stackoverflow.com/questions/4754011/c-string-to-double-conversion\">this</a>, to do the conversion."}], "tags": [], "owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "is_accepted": false, "score": 5, "last_activity_date": 1507737545, "last_edit_date": 1507737545, "creation_date": 1507737091, "answer_id": 46692623, "question_id": 46692565, "link": "https://stackoverflow.com/questions/46692565/how-to-apply-arithmetic-operation-on-strings-in-c/46692623#46692623", "title": "How to apply arithmetic operation on strings in C++?", "body": "<p>You need to change the input types to numeric types, so you read actual numbers, not their string representations. As you can see <a href=\"http://www.cplusplus.com/reference/string/string/\" rel=\"nofollow noreferrer\">here</a>, the only one of those operators that <code>string</code> overloads is <code>+</code> - and that's for concatenation of strings.</p>\n\n<p>Changing...</p>\n\n<pre><code>string number1;\nstring number2;\nstring answer;\n</code></pre>\n\n<p>...to...</p>\n\n<pre><code>double number1;\ndouble number2;\ndouble answer;\n</code></pre>\n\n<p>...should fix your issue.</p>\n\n<p>Alternatively you can read strings as you do now then convert them to numbers (see <a href=\"https://stackoverflow.com/questions/194465/how-to-parse-a-string-to-an-int-in-c\">here</a>), but that's just adding more work when you don't need it. <strong>Unless</strong> you want to detect invalid numeric values (like <code>1234abc8</code>), in which case reading a string then parsing and checking for invalid input is a good idea.</p>\n"}, {"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507737554, "post_id": 46692685, "comment_id": 80333165, "body": "<code>int</code>s will probably not produce the results that OP wants for division"}, {"owner": {"reputation": 11, "user_id": 8760059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c237524c3858ead15e91ddfa887496f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sumair", "link": "https://stackoverflow.com/users/8760059/sumair"}, "edited": false, "score": 0, "creation_date": 1507805503, "post_id": 46692685, "comment_id": 80361874, "body": "basically this is my assignment question in which I am facing difficulty. The question is.  create a program that reads a string containing two numbers and a operator and print out the results. The string are to be interpreted by your programme."}, {"owner": {"reputation": 103, "user_id": 7489346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59961acb777a05ccb91a71a718add607?s=128&d=identicon&r=PG&f=1", "display_name": "Folling", "link": "https://stackoverflow.com/users/7489346/folling"}, "edited": false, "score": 0, "creation_date": 1507835491, "post_id": 46692685, "comment_id": 80380706, "body": "In that case, you will need to use stringstreams."}], "tags": [], "owner": {"reputation": 103, "user_id": 7489346, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/59961acb777a05ccb91a71a718add607?s=128&d=identicon&r=PG&f=1", "display_name": "Folling", "link": "https://stackoverflow.com/users/7489346/folling"}, "is_accepted": false, "score": 0, "last_activity_date": 1507738131, "last_edit_date": 1507738131, "creation_date": 1507737301, "answer_id": 46692685, "question_id": 46692565, "link": "https://stackoverflow.com/questions/46692565/how-to-apply-arithmetic-operation-on-strings-in-c/46692685#46692685", "title": "How to apply arithmetic operation on strings in C++?", "body": "<p>Both <code>number1</code> and <code>number2</code> in your example are strings, which do not support adding values together. You could simply switch the types of <code>number1</code> and <code>number2</code> as well as <code>answer</code> to ints:</p>\n\n<pre><code>int main()\n{\n    float number1;\n    float number2;\n    string operation; // could switch this to char too\n    float answer;\n    // ...\n</code></pre>\n\n<p>If you really want to use strings you could use stringstreams contained in <code>&lt;sstream&gt;</code> :\n<a href=\"http://www.cplusplus.com/reference/sstream/stringstream/stringstream/\" rel=\"nofollow noreferrer\">http://www.cplusplus.com/reference/sstream/stringstream/stringstream/</a></p>\n\n<p>Edit1: <code>float</code> might be the better type if you care about post floating point values.</p>\n"}], "owner": {"reputation": 11, "user_id": 8760059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c237524c3858ead15e91ddfa887496f4?s=128&d=identicon&r=PG&f=1", "display_name": "Sumair", "link": "https://stackoverflow.com/users/8760059/sumair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "closed_date": 1507755684, "answer_count": 2, "score": 0, "last_activity_date": 1507747037, "creation_date": 1507736929, "last_edit_date": 1507747037, "question_id": 46692565, "link": "https://stackoverflow.com/questions/46692565/how-to-apply-arithmetic-operation-on-strings-in-c", "closed_reason": "Not suitable for this site", "title": "How to apply arithmetic operation on strings in C++?", "body": "<p>I want to create a program that reads a string containing two numbers and a operator and prints out the results. It is continuously showing error on arithmetic operators. For instance, how would I add two strings together?</p>\n\n<pre><code>int main()\n{\n    string number1;\n    string number2;\n    string operation;\n    string answer;\n\n    cout &lt;&lt; \"Enter numbers with respective operations\";\n    cout &lt;&lt; \"number 1\";\n    cin &gt;&gt; number1; \n    cout &lt;&lt; \"number2\";\n    cin &gt;&gt; number2;\n    cout &lt;&lt; \"operation\";\n    cin &gt;&gt; operation;\n    if (operation == \"+\")\n    {\n        answer = number1 + number2;\n        cout &lt;&lt; \"the sum is   \" &lt;&lt; answer &lt;&lt; endl;\n    }\n    else if (operation == \"-\")\n    {\n        answer = number1 - number2;\n        cout &lt;&lt; \"the difference is   \" &lt;&lt; answer &lt;&lt; endl;\n    }\n    else if (operation == \"*\")\n    {\n        answer = number1 * number2;\n        cout &lt;&lt; \"the product is   \" &lt;&lt; answer &lt;&lt; endl;\n    }\n    else if (operation == \"/\")\n    {\n        answer = number1 / number2;\n        cout &lt;&lt; \"the answer is   \" &lt;&lt; answer &lt;&lt; endl;\n    }\n    else\n    {\n        cout &lt;&lt; \"invalid input\" &lt;&lt; endl;\n    }\n    getchar();\n    return 0;\n} \n</code></pre>\n"}, {"tags": ["c++", "mfc", "gdi+"], "answers": [{"tags": [], "owner": {"reputation": 5397, "user_id": 1482455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dZ1fN.jpg?s=128&g=1", "display_name": "YePhIcK", "link": "https://stackoverflow.com/users/1482455/yephick"}, "is_accepted": true, "score": 0, "last_activity_date": 1507738326, "last_edit_date": 1507738326, "creation_date": 1507737556, "answer_id": 46692758, "question_id": 46692416, "link": "https://stackoverflow.com/questions/46692416/gdipluspathgradientbrush-in-an-mfc-application-doesnt-draw/46692758#46692758", "title": "Gdiplus::PathGradientBrush in an MFC application doesn&#39;t draw", "body": "<p>According to <a href=\"https://msdn.microsoft.com/query/dev15.query?appId=Dev15IDEF1&amp;l=EN-US&amp;k=k(GDIPLUSENUMS%2FWrapModeClamp);k(WrapModeClamp);k(DevLang-C%2B%2B);k(TargetOS-Windows)&amp;rd=true\" rel=\"nofollow noreferrer\">MSDN documentation</a> on the <code>WrapMode</code> enumeration, that is used as a third, default parameter to the brush's constructor, the default value <code>WrapModeClamp</code> means:</p>\n\n<blockquote>\n  <p><strong>WrapModeClamp</strong><br>\n  Specifies that no tiling takes place.</p>\n</blockquote>\n\n<p>Once I added that third parameter to the constructor and specified the <code>WrapModeTile</code> value the painting started to occur.</p>\n\n<pre><code>Gdiplus::PathGradientBrush brush(pts, 4, WrapModeTile);\n</code></pre>\n\n<p><strong>OR</strong> use the brush's <code>TranslateTransform</code> to properly offset it so it paints the expected pattern! In which case there's no need to specify the tiling as it becomes unnecessary.</p>\n"}], "owner": {"reputation": 5397, "user_id": 1482455, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dZ1fN.jpg?s=128&g=1", "display_name": "YePhIcK", "link": "https://stackoverflow.com/users/1482455/yephick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 46692758, "answer_count": 1, "score": 0, "last_activity_date": 1507738326, "creation_date": 1507736423, "question_id": 46692416, "link": "https://stackoverflow.com/questions/46692416/gdipluspathgradientbrush-in-an-mfc-application-doesnt-draw", "title": "Gdiplus::PathGradientBrush in an MFC application doesn&#39;t draw", "body": "<p>A \"simple\" straight-forward code that is mostly a copy-paste from an <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms534483(v=vs.85).aspx\" rel=\"nofollow noreferrer\">article in MSDN</a> doesn't produce any output. I have added a few more lines (drawing with plain GDI) to make sure the coordinates are correct - those lines work just fine.</p>\n\n<p>The code is changing the background of a <code>STATIC</code> control and the drawing is performed in the <code>OnPaint</code> handler. The <code>OnCtlColor</code> is augmented to return a <code>NULL_BRUSH</code> for this <code>STATIC</code> control so there's no painting-over done by the framework.</p>\n\n<p>Checking the status of the GDI+ objects and methods (in a debugger and via logging) shows that everything is OK. I'm at a loss, please help solve this puzzle.</p>\n\n<p>Here's the relevant code (removed error handling and <code>static_cast</code>'s I have for \\W4):</p>\n\n<pre><code>CPaintDC dc(this);\nGraphics graphics(dc);\nCRect rc;\nGetDlgItem(IDC_STATIC_GS_COLOR)->GetWindowRect(&rc); // the STATIC to paint\nScreenToClient(&rc);\n\n// GDI+ uses real numbers, not integers\nconst Rect gdirc = Rect(rc.left, rc.top, rc.Width(), rc.Height());\n\n// next 2 lines work just fine - painting a RED background\nconst SolidBrush solidBrush((ARGB)Color::Red);\ngraphics.FillRectangle(&solidBrush, gdirc);\n\nconst PointF sz(rc.Width() - 1, rc.Height() - 1);\nPointF pts[] = {PointF(0, 0), PointF(sz.X, 0), PointF(sz.X, sz.Y), PointF(0, sz.Y)};\nPathGradientBrush brush(pts, 4);\n\nColor colors[] = {Color(0, 0, 0), Color(255, 0, 0), Color(0, 255, 0), Color(0, 0, 255)};\nint count = 4;\nbrush.SetSurroundColors(colors, &count);\nbrush.SetCenterColor(Color(128, 128, 128));\n\n// !!!!! this doesn't fail, returns a status OK, and has NO EFFECT on the image :(\nconst auto status = graphics.FillRectangle(&brush, gdirc);\n\n// this draws a smaller inner GREEN rectangle, works as expected\nrc.DeflateRect(20, 20);\ndc.FillSolidRect(&rc, m_rgb);\n</code></pre>\n"}, {"tags": ["c++", "clang"], "comments": [{"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507743161, "post_id": 46692246, "comment_id": 80336296, "body": "Final binary of what?  Clang?  The program being modified?  Why is this an issue?"}, {"owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "reply_to_user": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507750558, "post_id": 46692246, "comment_id": 80340084, "body": "I edit the question. I hope now you understand what I need."}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507752009, "post_id": 46692246, "comment_id": 80340903, "body": "I see.  You want a runtime plugin to Clang to implement source-to-source transformations as  you compile.   OK, I get it.    I&#39;d expect this to be very hard to do, since the Clang transformation machinery is largely calls on compiled methods in Clang classes, and surely &quot;you&quot; will want to write some kind of source code to realize the transformations which is interpreted at runtime.  Who will intermediate between the source text you write, and the compiled Clang code?  The &quot;mandatory during compilation&quot; seems like an XY problem... why do you insist on that?"}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507752067, "post_id": 46692246, "comment_id": 80340935, "body": ".... FWIW,  DMS&#39;s rewrite rules <i>are</i> interpreted as they are read, so you could invent new ones on the spot."}, {"owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "reply_to_user": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507753404, "post_id": 46692246, "comment_id": 80341550, "body": "I need something completely open source, well known by the community. DMS doesn&#39;t look like. Or am I wrong?"}, {"owner": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507754695, "post_id": 46692246, "comment_id": 80342212, "body": "DMS isn&#39;t open source although I think what you mean is &quot;free&quot;.   I get the impression the community sort of knows about it, but it is a dark horse.   The community often prefers &quot;free&quot; which I get until they run into limitations."}, {"owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "reply_to_user": {"reputation": 88411, "user_id": 120163, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/OPDmg.jpg?s=128&g=1", "display_name": "Ira Baxter", "link": "https://stackoverflow.com/users/120163/ira-baxter"}, "edited": false, "score": 0, "creation_date": 1507814832, "post_id": 46692246, "comment_id": 80368049, "body": "In my case I refer as open source (libre). Thanks anyway."}], "answers": [{"comments": [{"owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "edited": false, "score": 0, "creation_date": 1507871599, "post_id": 46721155, "comment_id": 80392061, "body": "Ok, can you show me an example (repo, code) that does this? When I use Rewriter I am modifying the source code in memory, but the Clang AST is not modified.   Can you elaborate with a &quot;real example&quot;, can be as basic as you want, but it has to be a plugin and do it in one step (when the user compiles its source)."}, {"owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "edited": false, "score": 1, "creation_date": 1507873725, "post_id": 46721155, "comment_id": 80392745, "body": "Also, you can guide me how to &quot;trigger&quot; reparsing again after my plugin has finished. @random"}, {"owner": {"reputation": 1557, "user_id": 1156377, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0tsJk.jpg?s=128&g=1", "display_name": "Mark K Cowan", "link": "https://stackoverflow.com/users/1156377/mark-k-cowan"}, "reply_to_user": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "edited": false, "score": 0, "creation_date": 1540368146, "post_id": 46721155, "comment_id": 92834288, "body": "@user3819881 : Did you ever figure out how to trigger the re-parsing?"}], "tags": [], "owner": {"reputation": 3122, "user_id": 1503413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/JVUOu.jpg?s=128&g=1", "display_name": "random", "link": "https://stackoverflow.com/users/1503413/random"}, "is_accepted": false, "score": 1, "last_activity_date": 1507929467, "last_edit_date": 1507929467, "creation_date": 1507857916, "answer_id": 46721155, "question_id": 46692246, "link": "https://stackoverflow.com/questions/46692246/source-to-source-transformation-with-clang-state-of-the-art/46721155#46721155", "title": "Source-to-Source transformation with clang (state of the art)", "body": "<blockquote>\n  <p>the CodeGen is the main activity, and it is compiled regardless of what I have modified in my plugin</p>\n</blockquote>\n\n<p>Yes, this is because Clang AST is designed to be immutable. You can't change it after parsing.</p>\n\n<p>So state of the art s2s transformation in Clang looks like that:</p>\n\n<ul>\n<li>Parse C++ source code to AST</li>\n<li>Apply text replacements to original source code, generate new source code</li>\n<li>Parse new source code to create new AST</li>\n</ul>\n\n<p>You can do all steps \"in memory\", so end user won't notice.</p>\n\n<p><strong>Update:</strong>\nI have never written clang plugins myself. But here is what I've noticed:\nIf you run Clang fronted to actually generate object code:</p>\n\n<pre><code>  clang -cc1 -emit-obj main.c\n</code></pre>\n\n<p>It will run EmitObjAction. EmitObjAction is a FrontEnd Action, so it will parse input source and run codegen. So if you run other FrontEnd actions in parallel, they will have no effect on EmitObjAction. Because each FrontEnd action parses original input source code.</p>\n\n<p>What you can do, is to replace EmitObjAction with your own fork that will do as much of re-parsing as you want.</p>\n\n<p>If you set PluginASTAction::ActionType to ReplaceAction, it should replace built-in Codegen action by your own supplied from plugin.</p>\n"}], "owner": {"reputation": 347, "user_id": 3819881, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4017d4919a45fe1bf02eb791921428a7?s=128&d=identicon&r=PG&f=1", "display_name": "user3819881", "link": "https://stackoverflow.com/users/3819881/user3819881"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1593, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507929467, "creation_date": 1507735909, "last_edit_date": 1507750539, "question_id": 46692246, "link": "https://stackoverflow.com/questions/46692246/source-to-source-transformation-with-clang-state-of-the-art", "title": "Source-to-Source transformation with clang (state of the art)", "body": "<p>How is the state of the art in source-to-source transformation with clang?</p>\n\n<p>I followed almost every resource on the Web and I can achieve to do source rewrites (<code>Rewriter</code>) via a clang plugin, but the final binary is not updated (the CodeGen is the main activity, and it is compiled regardless of what I have modified in my plugin, even using <code>AddBeforeMainAction</code> in the <code>getActionType</code>).</p>\n\n<p>I have seen some documents regarding libTooling and how to create an independent program that uses clang as library, but my purpose it is to create a plugin (<code>FrontendPluginRegistry::Add&lt;&gt;</code>, something \"easy\" to plug to a non-custom clang binary) and achieve source-to-source modifications (transparently to the users, avoiding overwriting their source files).</p>\n\n<p><strong>Edit</strong>: In case it is not clear:\nI need something like a \"plugin\" to extend clang in an easy way. I need something that is \"integrated\" in the compiling process. Why? because I need to modify the source code during the compilation phase, inject new code, modify the source code from the user in one step (I don't want to create a tool to parse the user source code and then compile the output files). Also, I would like to distribute my code (plugin) to allow users to use it by themselves.</p>\n\n<p>It is mandatory that it is during the compilation phase of clang (<code>clang $FLAGS $PLUGIN $ETC -o program source_files...</code>).</p>\n"}, {"tags": ["c++", "qt", "templates"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 0, "creation_date": 1507736145, "post_id": 46692227, "comment_id": 80332217, "body": "You may find this helpfull <a href=\"http://www.holoborodko.com/pavel/2011/02/01/how-to-compile-qt-4-7-with-visual-studio-2010/\" rel=\"nofollow noreferrer\">holoborodko.com/pavel/2011/02/01/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1507759829, "post_id": 46698263, "comment_id": 80344312, "body": "Well I&#39;ve been struggling with this all day, thanks for your answer. I need to have version 4.8 to compile source code I have. Do you know if version 5 is backward compatible?"}, {"owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "reply_to_user": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "edited": false, "score": 0, "creation_date": 1507760049, "post_id": 46698263, "comment_id": 80344377, "body": "Between 4.8 and 5, the backward compatibility, mostly should be okay."}], "tags": [], "owner": {"reputation": 8788, "user_id": 6866309, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/CFXxE.jpg?s=128&g=1", "display_name": "Pavan Chandaka", "link": "https://stackoverflow.com/users/6866309/pavan-chandaka"}, "is_accepted": true, "score": 1, "last_activity_date": 1507759496, "creation_date": 1507759496, "answer_id": 46698263, "question_id": 46692227, "link": "https://stackoverflow.com/questions/46692227/qt-nmake-error-c3203-map-unspecialized-class-template-cant-be-used-as-a-te/46698263#46698263", "title": "Qt nmake: error C3203: &#39;map&#39;: unspecialized class template can&#39;t be used as a template argument for template parameter &#39;base&#39;, expected a real type", "body": "<p>This is a bug in QT before version 5.5 when compiling with visual studio 14.0. </p>\n\n<p>I guess you are trying to compile version 4.8.</p>\n\n<p>Look into below link.... You can see your error.</p>\n\n<p><a href=\"https://bugreports.qt.io/browse/QTBUG-45961\" rel=\"nofollow noreferrer\">https://bugreports.qt.io/browse/QTBUG-45961</a></p>\n\n<p>You may need to download version Qt5.5 or above to compile with visual studio 14.0.</p>\n"}], "owner": {"reputation": 990, "user_id": 7307172, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/QSzl1.png?s=128&g=1", "display_name": "GreenSaber", "link": "https://stackoverflow.com/users/7307172/greensaber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 390, "favorite_count": 0, "accepted_answer_id": 46698263, "answer_count": 1, "score": 0, "last_activity_date": 1507759496, "creation_date": 1507735838, "question_id": 46692227, "link": "https://stackoverflow.com/questions/46692227/qt-nmake-error-c3203-map-unspecialized-class-template-cant-be-used-as-a-te", "title": "Qt nmake: error C3203: &#39;map&#39;: unspecialized class template can&#39;t be used as a template argument for template parameter &#39;base&#39;, expected a real type", "body": "<p>I am getting this problem when I issue the <code>nmake</code> command in the <code>VS2015 x86 Native Tools Command Prompt</code> when trying to compile Qt:</p>\n\n<pre><code>C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\\hash_map(17): error C2338: &lt;hash_map&gt; is deprecated and will be REMOVED. Please use &lt;unordered_map&gt;. You can define _SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS to acknowledge that you have received this warning.\nC:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\INCLUDE\\hash_set(17): error C2338: &lt;hash_set&gt; is deprecated and will be REMOVED. Please use &lt;unordered_set&gt;. You can define _SILENCE_STDEXT_HASH_DEPRECATION_WARNINGS to acknowledge that you have received this warning.\nc:\\Qt-2015\\4.8.6\\msvc2015\\src\\3rdparty\\clucene\\src\\CLucene/util/VoidMap.h(228): error C2923: 'std::map': 'std::_Tree&lt;std::_Tmap_traits&lt;_Kty,_Ty,_Pr,_Alloc,false&gt;&gt;::_Compare' is not a valid template type argument for parameter '_Pr'\n        with\n        [\n            _Kty=lucene::index::IndexReader::CloseCallback,\n            _Ty=void *,\n            _Pr=lucene::index::IndexReader::CloseCallbackCompare,\n            _Alloc=std::allocator&lt;std::pair&lt;const lucene::index::IndexReader::CloseCallback ,void *&gt;&gt;\n        ]\nc:\\Qt-2015\\4.8.6\\msvc2015\\src\\3rdparty\\clucene\\src\\CLucene/index/IndexReader.h(96): note: see reference to class template instantiation 'lucene::util::CLSet&lt;lucene::index::IndexReader::CloseCallback,void *,lucene::index::IndexReader::CloseCallbackCompare,lucene::index::IndexReader::CloseCallbackCompare,lucene::util::Deletor::Dummy&gt;' being compiled\nc:\\Qt-2015\\4.8.6\\msvc2015\\src\\3rdparty\\clucene\\src\\CLucene/util/VoidMap.h(229): error C2923: 'std::map': 'std::_Tree&lt;std::_Tmap_traits&lt;_Kty,_Ty,_Pr,_Alloc,false&gt;&gt;::_Compare' is not a valid template type argument for parameter '_Pr'\n        with\n        [\n            _Kty=lucene::index::IndexReader::CloseCallback,\n            _Ty=void *,\n            _Pr=lucene::index::IndexReader::CloseCallbackCompare,\n            _Alloc=std::allocator&lt;std::pair&lt;const lucene::index::IndexReader::CloseCallback ,void *&gt;&gt;\n        ]\nc:\\Qt-2015\\4.8.6\\msvc2015\\src\\3rdparty\\clucene\\src\\CLucene/util/VoidMap.h(230): error C3203: 'map': unspecialized class template can't be used as a template argument for template parameter 'base', expected a real type\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\cl.EXE\"' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: '\"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\nmake.exe\"' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: 'cd' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: 'cd' : return code '0x2'\nStop.\nNMAKE : fatal error U1077: 'cd' : return code '0x2'\nStop.\n</code></pre>\n\n<p>I have followed <a href=\"https://stackoverflow.com/questions/32848962/how-to-build-qt-4-8-6-with-visual-studio-2015-without-official-support\">these</a> steps to set up Qt and I'm running into the error at step 6.</p>\n\n<p>Any thoughts? I appreciate it.</p>\n"}, {"tags": ["python", "c++", "numpy", "eigen", "python-c-api"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1507736920, "post_id": 46692086, "comment_id": 80332757, "body": "Have you tried creating the NumPy array directly using <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.ndarray.html\" rel=\"nofollow noreferrer\"><code>np.ndarray</code></a>? Per the docs, it has a <code>buffer</code> parameter."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1507739905, "post_id": 46692086, "comment_id": 80334511, "body": "In <code>numpy</code> data is stored in one flat buffer.  So a buffer (a contiguous set of bytes) contains 4000 bytes, and we specify dtype <code>int32</code>, <code>frombuffer</code> should give a (1000,) shape array.  A subsequent <code>reshape</code> can make it 2d.  In numpy multidimensionality is produced by the shape and strides attributes, not the data."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1507751229, "post_id": 46692086, "comment_id": 80340451, "body": "Explain how <code>Eigen</code> stores its data.  Is it a simple 1d buffer?  Or more like the <code>C</code> pointers to pointers?"}, {"owner": {"reputation": 25324, "user_id": 1641621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h50hY.png?s=128&g=1", "display_name": "ggael", "link": "https://stackoverflow.com/users/1641621/ggael"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1507759485, "post_id": 46692086, "comment_id": 80344212, "body": "@hpaulj, entries in a Eigen::Matrix are sequentially stored in a single buffer."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1507820410, "post_id": 46692086, "comment_id": 80372115, "body": "Then how is the buffer multidimensional?"}, {"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1507841322, "post_id": 46692086, "comment_id": 80383655, "body": "@unutbu: Yes, I tried. Using the initializer with the <code>buffer</code> parameter, or the <code>np.frombuffer</code> function gives identical results. In facts I think one calls internally the other."}, {"owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1507841374, "post_id": 46692086, "comment_id": 80383691, "body": "@hpaulj: please see the new part of the question, where I explain the structure of the buffer in Eigen. As you see, Eigen and numpy have very similar ways to store data. I just want numpy to replicate the structure Eigen defines, and <b>I know it can</b>, because this is how numpy works as well."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507841561, "post_id": 46692086, "comment_id": 80383804, "body": "Sounds like you want <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.array.html#c.PyArray_NewFromDescr\" rel=\"nofollow noreferrer\"><code>PyArray_NewFromDescr</code></a> or one of the closely related functions, like <code>PyArray_New</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507842382, "post_id": 46692086, "comment_id": 80384233, "body": "Looks like <code>numpy.array</code> with <code>copy=False</code> understands multidimensional memoryviews, actually, so <code>numpy.array(your_memoryview, copy=False)</code> should do the job once you have an appropriate multidimensional memoryview. (I&#39;m not sure what the C API for that would be.)"}], "answers": [{"comments": [{"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "edited": false, "score": 0, "creation_date": 1507968520, "post_id": 46722960, "comment_id": 80430845, "body": "I think <code>np.asarray</code> can accept any buffer type without having to go through a memoryview first"}], "tags": [], "owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "is_accepted": true, "score": 1, "last_activity_date": 1507873415, "last_edit_date": 1507873415, "creation_date": 1507871776, "answer_id": 46722960, "question_id": 46692086, "link": "https://stackoverflow.com/questions/46692086/how-can-i-initialize-a-numpy-array-from-a-multidimensional-buffer/46722960#46722960", "title": "How can I initialize a NumPy array from a multidimensional buffer?", "body": "<p>I'm answering my own question here. Thanks to @user2357112 for pointing in the right direction: what I need is <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.array.html#c.PyArray_NewFromDescr\" rel=\"nofollow noreferrer\"><code>PyArray_NewFromDescr</code></a>.</p>\n\n<p>The following Python object is a wrapper around an Eigen matrix:</p>\n\n<pre><code>struct PyEigenMatrix {\n    PyObject_HEAD\n    Eigen::Matrix&lt;RealT, Eigen::Dynamic, Eigen::Dynamic&gt; matrix;\n};\n</code></pre>\n\n<p><code>RealT</code> is the floating-point type I'm using (<code>float</code> in my case).</p>\n\n<p>In order to return an <code>np.ndarray</code> object, I add a member function to the class:</p>\n\n<pre><code>static PyObject*\nPyEigenMatrix_as_ndarray(PyEigenMatrix* self, PyObject* args, PyObject* kwds)\n{\n    // Extract number of rows and columns from Eigen matrix\n    npy_intp dims[] = { self-&gt;matrix.rows(), self-&gt;matrix.cols() };\n\n    // Extract strides from Eigen Matrix (multiply by type size to get bytes)\n    npy_intp strides[] = {\n        self-&gt;matrix.rowStride() * (npy_intp)sizeof(RealT),\n        self-&gt;matrix.colStride() * (npy_intp)sizeof(RealT)\n    };\n\n    // Create and return the ndarray\n    return PyArray_NewFromDescr(\n            &amp;PyArray_Type,                  // Standard type\n            PyArray_DescrFromType(typenum), // Numpy type id\n            2,                              // Number of dimensions\n            dims,                           // Dimension array\n            strides,                        // Strides array\n            self-&gt;matrix.data(),            // Pointer to data\n            NPY_ARRAY_WRITEABLE,            // Flags\n            (PyObject*)self                 // obj (?)\n        );\n}\n</code></pre>\n\n<p><code>typenum</code> is the <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.dtype.html#enumerated-types\" rel=\"nofollow noreferrer\">numpy type id number</a>.</p>\n\n<p>This call creates a new numpy array, gives it a buffer (through the <code>data</code> parameters), describes the buffer using the <code>dims</code> and <code>strides</code> parameters (the former also sets the shape of the returned array), describes the data dype, sets the matrix as read-write (through the <code>flags</code> parameter.</p>\n\n<p>I'm not sure what the last parameter <code>obj</code> means though. The documentation mentions it only for cases where the type is different from <code>PyArray_Type</code>.</p>\n\n<hr>\n\n<p>In order to illustrate how this works in practice, let me show some python code.</p>\n\n<pre><code>In [3]: m = Matrix(7, 3)\n\nIn [4]: m\nOut[4]: \n  0.680375  -0.211234   0.566198\n   0.59688   0.823295  -0.604897\n -0.329554   0.536459  -0.444451\n   0.10794 -0.0452059   0.257742\n -0.270431  0.0268018   0.904459\n   0.83239   0.271423   0.434594\n -0.716795   0.213938  -0.967399\n\nIn [5]: a = m.as_ndarray()\n\nIn [6]: a\nOut[6]: \narray([[ 0.68 , -0.211,  0.566],\n       [ 0.597,  0.823, -0.605],\n       [-0.33 ,  0.536, -0.444],\n       [ 0.108, -0.045,  0.258],\n       [-0.27 ,  0.027,  0.904],\n       [ 0.832,  0.271,  0.435],\n       [-0.717,  0.214, -0.967]], dtype=float32)\n\nIn [7]: a[2, 1] += 4\n\nIn [8]: a\nOut[8]: \narray([[ 0.68 , -0.211,  0.566],\n       [ 0.597,  0.823, -0.605],\n       [-0.33 ,  4.536, -0.444],\n       [ 0.108, -0.045,  0.258],\n       [-0.27 ,  0.027,  0.904],\n       [ 0.832,  0.271,  0.435],\n       [-0.717,  0.214, -0.967]], dtype=float32)\n\nIn [9]: m\nOut[9]: \n  0.680375  -0.211234   0.566198\n   0.59688   0.823295  -0.604897\n -0.329554    4.53646  -0.444451\n   0.10794 -0.0452059   0.257742\n -0.270431  0.0268018   0.904459\n   0.83239   0.271423   0.434594\n -0.716795   0.213938  -0.967399\n</code></pre>\n\n<p><code>Matrix</code> is my <code>PyEigenMatrix</code> type. I added a <code>__repr__</code> function which prints the matrix using Eigen's stream operators. I can had an <code>ndarray</code> <code>a</code> which corresponds exactly to the Eigen matrix. When I modify <code>a</code> (<code>In[7]</code>), not only does the numpy array get modified (<code>Out[8]</code>), but also the underlying Eigen array (<code>Out[9]</code>), showing that the two object share the same memory.</p>\n\n<hr>\n\n<p><strong>EDIT</strong> @user2357112 was right twice. The second method he proposes in the comments works as well. If the type <code>PyEigenMatrix</code> exports the buffer interface (which my type does), then the solution is as easy as creating a <code>memoryview</code> object, either <a href=\"https://docs.python.org/3/library/stdtypes.html#memoryview\" rel=\"nofollow noreferrer\">in Python</a> or using the <a href=\"https://docs.python.org/3/c-api/memoryview.html\" rel=\"nofollow noreferrer\">C-API</a>, and pass this object to the <code>np.array</code> function, also specifying <code>copy=False</code>.</p>\n\n<p>Here is how it works:</p>\n\n<pre><code>In [2]: m = Matrix(7, 3)\n\nIn [3]: mv = memoryview(m)    \n\nIn [4]: a = np.array(mv, copy=False)\n\nIn [5]: m\nOut[5]: \n  0.680375   0.536459   0.904459\n -0.211234  -0.444451    0.83239\n  0.566198    0.10794   0.271423\n   0.59688 -0.0452059   0.434594\n  0.823295   0.257742  -0.716795\n -0.604897  -0.270431   0.213938\n -0.329554  0.0268018  -0.967399\n\nIn [6]: a\nOut[6]: \narray([[ 0.68 ,  0.536,  0.904],\n       [-0.211, -0.444,  0.832],\n       [ 0.566,  0.108,  0.271],\n       [ 0.597, -0.045,  0.435],\n       [ 0.823,  0.258, -0.717],\n       [-0.605, -0.27 ,  0.214],\n       [-0.33 ,  0.027, -0.967]], dtype=float32)\n\nIn [7]: a [3, 1] += 2\n\nIn [8]: a\nOut[8]: \narray([[ 0.68 ,  0.536,  0.904],\n       [-0.211, -0.444,  0.832],\n       [ 0.566,  0.108,  0.271],\n       [ 0.597,  1.955,  0.435],\n       [ 0.823,  0.258, -0.717],\n       [-0.605, -0.27 ,  0.214],\n       [-0.33 ,  0.027, -0.967]], dtype=float32)\n\nIn [9]: m\nOut[9]: \n 0.680375  0.536459  0.904459\n-0.211234 -0.444451   0.83239\n 0.566198   0.10794  0.271423\n  0.59688   1.95479  0.434594\n 0.823295  0.257742 -0.716795\n-0.604897 -0.270431  0.213938\n-0.329554 0.0268018 -0.967399\n</code></pre>\n\n<p>This method has the advantage that it does not require the numpy C-API. The matrix type just has to support the buffer protocol, which is more general than a method directly relying on numpy.</p>\n"}], "owner": {"reputation": 1833, "user_id": 1900563, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2094e3540201216badc3c0e707183d7a?s=128&d=identicon&r=PG", "display_name": "Spiros", "link": "https://stackoverflow.com/users/1900563/spiros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1330, "favorite_count": 1, "accepted_answer_id": 46722960, "answer_count": 1, "score": 1, "last_activity_date": 1507873415, "creation_date": 1507735454, "last_edit_date": 1507841264, "question_id": 46692086, "link": "https://stackoverflow.com/questions/46692086/how-can-i-initialize-a-numpy-array-from-a-multidimensional-buffer", "title": "How can I initialize a NumPy array from a multidimensional buffer?", "body": "<p>The documentation for the <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.frombuffer.html\" rel=\"nofollow noreferrer\"><code>numpy.frombuffer</code></a> function specifically says that the generated array will be one dimensional:</p>\n\n<blockquote>\n  <p>Interpret a buffer as a 1-dimensional array.</p>\n</blockquote>\n\n<p>I'm not sure about the consequences of this quote. The documentation just tells me that the generated array will be one dimensional, but never says that the input buffer has to describe a one-dimensional object.</p>\n\n<p>I have a (2D) <a href=\"http://eigen.tuxfamily.org/\" rel=\"nofollow noreferrer\">Eigen matrix</a> in C++. I would like to create a <a href=\"https://docs.python.org/3/c-api/buffer.html\" rel=\"nofollow noreferrer\">Python buffer</a> which describes the content of the matrix. Then, I would like to use this buffer to somehow initialize my NumPy array and make it available to my python scripts. The goal is both to pass information to Python without copying data and to allow python modify the matrix (e.g. to initialize the matrix).</p>\n\n<p>The C-API equivalent of <code>numpy.frombuffer</code> is <a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/c-api.array.html#c.PyArray_FromBuffer\" rel=\"nofollow noreferrer\"><code>PyArray_FromBuffer</code></a>, and it also shares the single-dimension phrase, but it has more documentation (emphasis mine):</p>\n\n<blockquote>\n  <p><code>PyObject* PyArray_FromBuffer(PyObject* buf, PyArray_Descr* dtype, npy_intp count, npy_intp offset)</code></p>\n  \n  <p>Construct a one-dimensional ndarray of a single type from an object, buf, that exports the (<strong>single-segment</strong>) buffer protocol (or has an attribute __buffer__ that returns an object that exports the buffer protocol). A writeable buffer will be tried first followed by a read- only buffer. The NPY_ARRAY_WRITEABLE flag of the returned array will reflect which one was successful. The data is assumed to start at offset bytes from the start of the memory location for the object. The type of the data in the buffer will be interpreted depending on the data- type descriptor, dtype. If count is negative then it will be determined from the size of the buffer and the requested itemsize, otherwise, count represents how many elements should be converted from the buffer.</p>\n</blockquote>\n\n<p>Does \"single-segment\" mean that it cannot contain padding used, e.g., to align the rows of the matrix? In that case I'm screwed, because my matrix could very well use an alignment strategy that requires padding.</p>\n\n<p>Back to the original question:</p>\n\n<p><strong>Is there a way for me to create a NumPy array which shares the memory with an pre-existing buffer?</strong></p>\n\n<hr>\n\n<p>Remark: there is a project on github called <a href=\"https://github.com/jrl-umi3218/Eigen3ToPython\" rel=\"nofollow noreferrer\">Eigen3ToPython</a>, which aims at connecting eigen with python, but it does not allow for memory sharing (emphasis mine):</p>\n\n<blockquote>\n  <p>This library allows to: [...] Convert to/from Numpy arrays (<code>np.array</code>) in a transparent manner (however, <strong>memory is not shared between both representations</strong>)</p>\n</blockquote>\n\n<hr>\n\n<p><strong>EDIT</strong>\nSomebody might point out the similarly-titled question <a href=\"https://stackoverflow.com/q/39092664/1900563\">Numpy 2D- Array from Buffer?</a>. Unfortunately, the solution given there does not seem to be a valid one for my case, because the generated 2D array does not share the memory with the original buffer.</p>\n\n<hr>\n\n<p><strong>EDIT: how is data organized in Eigen</strong></p>\n\n<p>Eigen maps 2D matrices in a 1D memory buffer by using strided access. A double precision 3x2 matrix, for instance, needs 6 double, i.e., 48 bytes. A 48-bytes buffer is allocated. The first element in this buffer represents the <code>[0, 0]</code> entry in the matrix.</p>\n\n<p>In order to access the element <code>[i, j]</code>, the following formula is used:</p>\n\n<pre><code>double* v = matrix.data() + i*matrix.rowStride() + j*matrix.colStride()\n</code></pre>\n\n<p>, where <code>matrix</code> is the matrix object and its member functions <code>data()</code>, <code>rowStride()</code> and <code>colStride()</code> return, respectively, the start address of the buffer, the distance between two consecutive rows and the distance between two consecutive columns (in multiples of the floating point format size).</p>\n\n<p>By default Eigen uses a column-major format, thus <code>rowStride() == 1</code>, but it can also be configured to use a row-major format, with <code>colStride() == 1</code>.</p>\n\n<p>Another important configuration option is the alignment. The data buffer could very well include some unneeded values (i.e., values which are not part of the matrix) so to make the columns or rows start at aligned addresses. This makes the operations on the matrix vectorizable. In the example above, assuming column-major format and 16-byte alignment, the following matrix</p>\n\n<pre><code>3   7\n1  -2\n4   5\n</code></pre>\n\n<p>could be stored win the following buffer:</p>\n\n<pre><code>0  0  3  1  4  0  7 -2  5  0\n</code></pre>\n\n<p>The 0 values are called padding. The two 0's at the beginning could be necessary to ensure that the start of the actual data is aligned to the same boundary. (Notice that the <code>data()</code> member function will return the address of the 3.) In this case the strides for rows and columns are</p>\n\n<pre><code>rowStride: 1\ncolStride: 4\n</code></pre>\n\n<p>(while in the unaligned case they would be 1 and 3 respectively.)</p>\n\n<p>Numpy expects a C-contiguous buffer, i.e., a row-major structure with no padding. If no padding is inserted by Eigen, then the problem of the row-major requirement can be worked around for a column-major Eigen matrix pretty easily: one passes the buffer to a numpy array, and the resulting <code>ndarray</code> is reshaped and transposed. I managed to make this work perfectly.</p>\n\n<p>But in case Eigen does insert padding, the problem can not be solved using this technique because the <code>ndarray</code> will still see the zeroes in the data and think they are part of the matrix, at the same time discarding some values at the end of the array. And <strong>this</strong> is the problem I'm asking a solution for.</p>\n\n<p>Now, as a side remark, since we have the luck of having @ggael in the loop, who can probably shed some light, I have to admit that I never had Eigen inserting any padding in my matrices. And I don't seem to find any mention of padding in the Eigen documentation. However, I would expect the alignment strategy to align every column (or row), and not just the first one. Am I wrong with my expectations? If I am, then the whole problem does not apply to Eigen. But it would apply to other libraries I'm using which apply the alignment strategy I described above, so please don't consider this last paragraph when answering the question.</p>\n"}, {"tags": ["c++", "arrays", "c++11", "random", "logic"], "comments": [{"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1507734916, "post_id": 46691823, "comment_id": 80331369, "body": "Use <code>std::set</code> if you need to store unique values."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507734924, "post_id": 46691823, "comment_id": 80331372, "body": "Besides the condition being incorrectly written, you have undefined behavior. You may not inspect the value of an element before it&#39;s assigned. For example, in the first iteration, only <code>operator_index[0]</code> is assigned a value, but you then check elements at index 1 and 2. You should rethink your approach to only verify previously defined elements. Additionally, you can be certain that if you assign element 0 a value, than that element&#39;s value will be equal to the value you just assigned to it."}, {"owner": {"reputation": 42370, "user_id": 3980929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xyKrD.png?s=128&g=1", "display_name": "Rakete1111", "link": "https://stackoverflow.com/users/3980929/rakete1111"}, "edited": false, "score": 0, "creation_date": 1507735036, "post_id": 46691823, "comment_id": 80331448, "body": "That first if condition doesn&#39;t do what you think it does"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 2, "creation_date": 1507735100, "post_id": 46691823, "comment_id": 80331487, "body": "Fill your array with unique values (not random, 1,2,3 ... is obvious) and then use <code>std::random_shuffle</code> to make them random."}, {"owner": {"reputation": 2602, "user_id": 4341534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/001c92ef74cb305ff8318eebeaa04ab3?s=128&d=identicon&r=PG&f=1", "display_name": "patatahooligan", "link": "https://stackoverflow.com/users/4341534/patatahooligan"}, "edited": false, "score": 0, "creation_date": 1507735150, "post_id": 46691823, "comment_id": 80331520, "body": "You need to read a good C++ tutorial. There&#39;s so many mistakes in the logic that it&#39;s not easily fixable in the Q&amp;A format of this site."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507735250, "post_id": 46691823, "comment_id": 80331584, "body": "if you need unique random numbers you should not keep rolling numbers until they are unique, as this is rather inefficient and for some edge cases even super inefficient. Construct them such that there cannot be duplicates from the start"}, {"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1507735270, "post_id": 46691823, "comment_id": 80331596, "body": "Btw simple way to check if array values are unique: <code>array_size == std::set( array_begin, array_end ).size()</code>"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1507735820, "post_id": 46691823, "comment_id": 80332012, "body": "There are multiple bugs, both logical and language bugs in the shown code. &quot;<code>if (random_value = operator_index[0] || operator_index[1] || operator_index[2])</code>&quot; -- this is utterly wrong in many fundamental ways. You really need to read a good C++ book. C++ simply doesn&#39;t work this way. &quot;<code>(operator_selection - 1);</code>&quot; -- this does absolutely nothing, whatsoever. Really: go and read a good C++ book. This code is not salvageable, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 1, "creation_date": 1507736024, "post_id": 46692041, "comment_id": 80332137, "body": "This may produce the correct results, but does nothing to address the multiple, fundamental problems with the original code, and as such does not really answer the question of what was wrong with the original code, in every way. Which is, of course, is a big task, since pretty much everything was wrong with it. The correct answer here is, really, &quot;read a C++ book&quot;."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507736071, "post_id": 46692041, "comment_id": 80332172, "body": "i removed my downvote, but agree with Sam, now the answer doesnt really answer the question anymore"}, {"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "reply_to_user": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1507736444, "post_id": 46692041, "comment_id": 80332416, "body": "@SamVarshavchik yes, I agree. Anyway, I will leave it hanging just in case."}], "tags": [], "owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "is_accepted": false, "score": 1, "last_activity_date": 1507736233, "last_edit_date": 1507736233, "creation_date": 1507735304, "answer_id": 46692041, "question_id": 46691823, "link": "https://stackoverflow.com/questions/46691823/how-do-check-an-array-for-repeat-numbers-in-c/46692041#46692041", "title": "How do check an array for repeat numbers in c++?", "body": "<p>Here is a version using <a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\"><code>std::array</code></a> and <a href=\"http://en.cppreference.com/w/cpp/algorithm/random_shuffle\" rel=\"nofollow noreferrer\"><code>std::random_shuffle</code></a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;array&gt;\n#include &lt;algorithm&gt;\n#include &lt;random&gt;\n\nint main()\n{ \n    std::array&lt;int, 4&gt; a = {1, 2, 3, 4};\n    std::random_device rd;\n    std::mt19937 g(rd());\n    std::shuffle(a.begin(), a.end(), g);\n    for(auto&amp; i : a)\n        std::cout &lt;&lt; i &lt;&lt; \" \";\n}\n</code></pre>\n\n<p><kbd><strong><a href=\"https://wandbox.org/permlink/ocHmDjNvTxBzwcPJ\" rel=\"nofollow noreferrer\">Live Demo</a></strong></kbd></p>\n\n<p>This version is more readable and more efficient. </p>\n\n<p><strong>Update:</strong> this does not answer the question as it is and does not fit if it's a home-work. But I would leave it here just in the case OP is interested in a better alternative.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8759679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4d38fd8ed52f3f503fd50d2bb8c6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Instream", "link": "https://stackoverflow.com/users/8759679/instream"}, "edited": false, "score": 0, "creation_date": 1507737445, "post_id": 46692280, "comment_id": 80333098, "body": "Thanks for the helps, works exactly how I intended it to now, and thank you for the explanation of the errors. I know it&#39;s clunky but Im intending to build off os this."}], "tags": [], "owner": {"reputation": 196207, "user_id": 434551, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/8Wzl8.png?s=128&g=1", "display_name": "R Sahu", "link": "https://stackoverflow.com/users/434551/r-sahu"}, "is_accepted": false, "score": 3, "last_activity_date": 1507737606, "last_edit_date": 1507737606, "creation_date": 1507736045, "answer_id": 46692280, "question_id": 46691823, "link": "https://stackoverflow.com/questions/46691823/how-do-check-an-array-for-repeat-numbers-in-c/46692280#46692280", "title": "How do check an array for repeat numbers in c++?", "body": "<p>I see several problems in your posted code.</p>\n\n<p><strong>Problem 1</strong></p>\n\n<p>The line</p>\n\n<pre><code>if (random_value = operator_index[0] || operator_index[1] || operator_index[2])\n</code></pre>\n\n<p>does not do what you are hoping to do. You need to use:</p>\n\n<pre><code>if ( (random_value == operator_index[0]) || \n     (random_value == operator_index[1]) ||\n     (random_value == operator_index[2]) )\n</code></pre>\n\n<p><strong>Problem 2</strong></p>\n\n<p>Comparing <code>random_value</code> against <code>operator_index[0]</code> and <code>operator_index[1]</code> and <code>operator_index[2]</code> is incorrect. You only need to compare up to <code>operator_index[operator_selection-1]</code>.</p>\n\n<p><strong>Problem 3</strong></p>\n\n<p>The line</p>\n\n<pre><code>(operator_selection - 1);\n</code></pre>\n\n<p>does not change the value of <code>operator_selection</code>. It just evaluates the expression and discards the value.</p>\n\n<p>What you need is a statement that decrements the value of <code>operator_selection</code>. E.g.</p>\n\n<pre><code>--operator_selection;\n</code></pre>\n\n<p><strong>Problem 4</strong></p>\n\n<p>You need to continue to the next iteration of the loop when you find an existing value.</p>\n\n<hr>\n\n<p>Here's an updated version of the loop:</p>\n\n<pre><code>for (operator_selection = 0; operator_selection &lt; 4; operator_selection++)\n{\n   random_value = rand() %4 + 1;\n\n   bool matchFound = false;\n   for ( int i = 0; i &lt; operator_selection-1; ++i )\n   {\n      if ( random_value == operator_index[i] )\n      {\n         matchFound = true;\n         break;\n      }\n   }\n\n   if ( matchFound )\n   {    \n      --operator_selection;\n      continue;\n   }\n\n   operator_index[operator_selection] = random_value;\n   cout&lt;&lt;operator_index[operator_selection]&lt;&lt;\" \";\n}\n\n// Move this out of the loop.\ncout&lt;&lt;endl;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7786, "user_id": 999884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yuL5q.jpg?s=128&g=1", "display_name": "Software_Designer", "link": "https://stackoverflow.com/users/999884/software-designer"}, "is_accepted": false, "score": 0, "last_activity_date": 1507808622, "last_edit_date": 1507808622, "creation_date": 1507736830, "answer_id": 46692536, "question_id": 46691823, "link": "https://stackoverflow.com/questions/46691823/how-do-check-an-array-for-repeat-numbers-in-c/46692536#46692536", "title": "How do check an array for repeat numbers in c++?", "body": "<p>Another trick to is to reverse the lopp one step back  if the conditions are not met.  </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;ctime&gt;\nusing namespace std;\n\n\n\nint main(void)\n{\n      const int size=100 ;\n      int  arr[100] ;\n      int i=0;\n\n      srand(time(0));\n\n      for ( i=0;i&lt;size;i++)   {\n          arr[i]=rand() % size;\n          for(int j=0; j &lt; i ; j++)  if (arr[j] == arr[i]) i--; \n      }\n       cout&lt;&lt;\"   \\n\\n\\n \";\n\n\n      // Loop to display the array arr[ ]\n      for (  i=0;i&lt;size;i++) cout&lt;&lt;\"\"&lt;&lt;arr[i]&lt;&lt;\"\\t\";\n\n      cout&lt;&lt;\" \\nPress any key to continue\\n\";\n      cin.ignore();\n      cin.get();\n\n  return 0;\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code> 91     71      14      65      12      25      64      98      83      28\n99      9       5       0       89      36      95      55      73      90\n78      2       52      70      39      63      17      50      7       58\n34      84      40      51      20      31      38      32      35      49\n61      66      72      92      6       59      41      13      22      23\n81      56      1       16      21      62      57      10      11      54\n77      86      76      93      4       96      8       33      94      67\n29      48      15      82      97      37      26      46      43      80\n68      85      60      30      42      53      18      69      45      88\n47      79      75      44      24      27      74      3       19      87\n\nPress any key to continue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3760, "user_id": 6594576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/448660dad9fcb2bf8b5f7a3ab8813037?s=128&d=identicon&r=PG", "display_name": "Paul Floyd", "link": "https://stackoverflow.com/users/6594576/paul-floyd"}, "is_accepted": false, "score": 0, "last_activity_date": 1507738377, "creation_date": 1507738377, "answer_id": 46692987, "question_id": 46691823, "link": "https://stackoverflow.com/questions/46691823/how-do-check-an-array-for-repeat-numbers-in-c/46692987#46692987", "title": "How do check an array for repeat numbers in c++?", "body": "<p>First, you need to make your array bigger. As already mentioned, it would be nicer to use a std::array, but I'll stick with the old style one. You define <code>operator_index</code> with a dimension of 3 which only allows for 3 elements (with offsets from 0 to 2). So this needs a dimension of 4.</p>\n\n<p>You should also initialize the contents of the array (or ensure that you never read from uninitialized elements).</p>\n\n<p>Next, for the first random number there is no possibility of a collision. So you can put it directly into the array.</p>\n\n<pre><code>operator_index[0] = rand() %4 + 1;\n</code></pre>\n\n<p>You can then loop from 1 to 3 for the remaining 3 entries.</p>\n\n<p>You can even go a little further than this. When you have filled the first 3 entries you can directly calculate the last, </p>\n\n<pre><code>operator_index[3] = 10 - operator_index[2] - operator_index[1] - operator_index[0];\n</code></pre>\n\n<p>(the sum from 1 to 4 is 10, so the last element is <em>10 - the sum of the first three</em>)</p>\n\n<p>The main problem with your code is this</p>\n\n<pre><code>if (random_value = operator_index[0] || operator_index[1] || operator_index[2])\n{\n    (operator_selection - 1);\n}\n</code></pre>\n\n<p>This does an assignment, not an equality check. It is assigned the logical OR of the first 3 elements. Since you do not initialize the array you will be reading garbage, and the result is probably going to be that <code>random_value</code> will be set to one and the condition will evaluate to true.</p>\n\n<p><code>(operator_selection - 1)</code> is an operator without side effects. It does not modify <code>operator_selection</code>. Also once you have found a duplicate, you want to start your loop again.</p>\n\n<p>Here's a version that minimizes the looping.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\n#include &lt;ctime&gt;\n\nint main()\n{\n    int operator_selection;\n    int operator_index[4] = {0};\n    int random_value;\n    srand(time(0));\n    operator_index[0] = rand() %4 + 1;\n    for (operator_selection = 1; operator_selection &lt; 3; operator_selection++)\n    {\n        random_value = rand() %4 + 1;\n\n        if (operator_index[0] == random_value || operator_index[1] == random_value)\n        {\n            --operator_selection;\n            continue;\n        }\n        operator_index[operator_selection] = random_value;\n    }\n    operator_index[3] = 10 - operator_index[2] - operator_index[1] - operator_index[0];\n\n    for(auto&amp; elem : operator_index)\n        std::cout &lt;&lt; elem &lt;&lt; \" \";\n    std::cout &lt;&lt; \"\\n\";\n}\n</code></pre>\n\n<p>All that said, I still prefer the std::random_shuffle approach, which I would also suggest.</p>\n"}], "owner": {"reputation": 1, "user_id": 8759679, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac4d38fd8ed52f3f503fd50d2bb8c6a6?s=128&d=identicon&r=PG&f=1", "display_name": "Instream", "link": "https://stackoverflow.com/users/8759679/instream"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 1, "closed_date": 1507783770, "answer_count": 4, "score": -5, "last_activity_date": 1507808622, "creation_date": 1507734660, "last_edit_date": 1507753940, "question_id": 46691823, "link": "https://stackoverflow.com/questions/46691823/how-do-check-an-array-for-repeat-numbers-in-c", "closed_reason": "Not suitable for this site", "title": "How do check an array for repeat numbers in c++?", "body": "<p>I'm trying to produce an array with 4 random generated [srand seeded rand()] without any repeats. I'm using a for loop to:</p>\n\n<p>Select a position in the array, \nGenerate a number, \nAssign the number to the currently highlighted position\nCheck that the assigned number is not equal to a previous entry, as per the following pseudocode.</p>\n\n<pre><code>if no - \n    Then select the next position in the array and generate a new number\nif yes -\n    Do not move to the next array position and generate a new number again.\n\nrepeat until array position 3\n</code></pre>\n\n<p>This was my attempt:</p>\n\n<pre><code>int operator_selection;\nint operator_index[3];\nint random_value;\nfor (operator_selection = 0; operator_selection &lt; 4; operator_selection++)\n{\n    random_value = rand() %4 + 1;\n\n    if (random_value = operator_index[0] || operator_index[1] || operator_index[2])\n    {\n        (operator_selection - 1);\n    }\n    operator_index[operator_selection] = random_value;\n    cout&lt;&lt;operator_index[operator_selection]&lt;&lt;\" \";\n\n    if (operator_selection == 3)\n    {\n        cout&lt;&lt;endl;\n    }\n}\n</code></pre>\n\n<p>However when I run the executable I always end up with repeats, so I'm pretty sure the logic behind my first 'if statement' is flawed.</p>\n\n<p>I'm a c++ beginner and this is my 3rd attempt at writing a source file from scratch, so apologies if I've made a silly mistake.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 326, "user_id": 5586958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfb8771459ceed79fa8502fbf9ce02c?s=128&d=identicon&r=PG&f=1", "display_name": "Lexi", "link": "https://stackoverflow.com/users/5586958/lexi"}, "edited": false, "score": 2, "creation_date": 1507734092, "post_id": 46691581, "comment_id": 80330798, "body": "Please be more specific about you what mean by &quot;it&#39;s not running correctly.&quot;  Also take a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. you have the code, you just need to be more detailed about the specific issue you are facing."}, {"owner": {"reputation": 4567, "user_id": 1320751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee0011ba2ca995b31e464fc2e2ad885?s=128&d=identicon&r=PG", "display_name": "Anon Mail", "link": "https://stackoverflow.com/users/1320751/anon-mail"}, "edited": false, "score": 1, "creation_date": 1507734093, "post_id": 46691581, "comment_id": 80330802, "body": "Post real code and the specific errors you are getting."}, {"owner": {"reputation": 17209, "user_id": 1055118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/44Trt.jpg?s=128&g=1", "display_name": "doctorlove", "link": "https://stackoverflow.com/users/1055118/doctorlove"}, "edited": false, "score": 4, "creation_date": 1507734128, "post_id": 46691581, "comment_id": 80330824, "body": "What is <code>if (quantity &lt;= 19, discount1)</code> for?"}, {"owner": {"reputation": 326, "user_id": 5586958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bfb8771459ceed79fa8502fbf9ce02c?s=128&d=identicon&r=PG&f=1", "display_name": "Lexi", "link": "https://stackoverflow.com/users/5586958/lexi"}, "edited": false, "score": 2, "creation_date": 1507734166, "post_id": 46691581, "comment_id": 80330851, "body": "quantity is 0 when you do your discount calculations. You need to probably take in the quantity before doing the discount equations."}, {"owner": {"reputation": 9, "user_id": 8759776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210798842590712/picture?type=large", "display_name": "TheIII", "link": "https://stackoverflow.com/users/8759776/theiii"}, "edited": false, "score": 0, "creation_date": 1507734210, "post_id": 46691581, "comment_id": 80330877, "body": "If the amount of items is less than or equal to 19 items then the discount applied is 20%"}, {"owner": {"reputation": 9, "user_id": 8759776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210798842590712/picture?type=large", "display_name": "TheIII", "link": "https://stackoverflow.com/users/8759776/theiii"}, "edited": false, "score": 0, "creation_date": 1507734380, "post_id": 46691581, "comment_id": 80330977, "body": "Sorry this is my first time posting in here when the program is being run it is not calculating the final price it is just giving me the amount of items and the cout response related to the quantity. It not applying the discount and displaying the final price."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2672107"}, "edited": false, "score": 1, "creation_date": 1507734431, "post_id": 46691581, "comment_id": 80331024, "body": "<code>discount1 = (quantity * Retail) * .20;</code>is evaluated immediately,  You have to read the quantity first."}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1507734583, "post_id": 46691749, "comment_id": 80331125, "body": "<code>if(quantity &lt;= 19, discount1)</code> is almost certainly another problem."}, {"owner": {"reputation": 1318, "user_id": 42552, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/d3d8778bfd7699f34e9346683b4458db?s=128&d=identicon&r=PG", "display_name": "JosephDoggie", "link": "https://stackoverflow.com/users/42552/josephdoggie"}, "edited": false, "score": 1, "creation_date": 1507737531, "post_id": 46691749, "comment_id": 80333150, "body": "I suggested an edit of this to remove the , discount1."}, {"owner": {"reputation": 532, "user_id": 747797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ddc9a0e3e8d380cf3b78b1ad5ec37c53?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/747797/joshua"}, "edited": false, "score": 1, "creation_date": 1507743062, "post_id": 46691749, "comment_id": 80336247, "body": "Done. Honestly c++ isn&#39;t my strongest skill. Made me read up on my c++ comma operator in an if statement."}], "tags": [], "owner": {"reputation": 532, "user_id": 747797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ddc9a0e3e8d380cf3b78b1ad5ec37c53?s=128&d=identicon&r=PG", "display_name": "Joshua", "link": "https://stackoverflow.com/users/747797/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1507742885, "last_edit_date": 1507742885, "creation_date": 1507734487, "answer_id": 46691749, "question_id": 46691581, "link": "https://stackoverflow.com/questions/46691581/discount-code-where-did-i-go-wrong/46691749#46691749", "title": "Discount code.. Where did I go wrong?", "body": "<p>Is it just that you're quantity isn't defined as being anything except 0 before your calculate the discounts?  I moved the read of your purchase before the calculations and got better results (using online compiler).</p>\n\n<pre><code>double Retail, quantity, discount1, discount2, discount3, discount4, TotalCost1, TotalCost2, TotalCost3, TotalCost4;\nRetail = 99;\nquantity = 0;\n\n//Equations\ncout &lt;&lt; \"Please enter the quantity of items you would like to purchase: \" &lt;&lt; endl;\ncin &gt;&gt; quantity;\ncout &lt;&lt; \"The number of items being purchased is: \" &lt;&lt; quantity &lt;&lt; endl;\n\ndiscount1 = (quantity * Retail) * .20;\ndiscount2 = (quantity * Retail) * .30;\ndiscount3 = (quantity * Retail) * .40;\ndiscount4 = (quantity * Retail) * .50;\nTotalCost1 = quantity - discount1;\nTotalCost2 = quantity - discount2;\nTotalCost3 = quantity - discount3;\nTotalCost4 = quantity - discount4;\n\n\nif (quantity &lt;= 19) {\n    cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount1 &lt;&lt; endl;\n}\nif (quantity &gt;= 20) {\n    cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount2 &lt;&lt; endl;\n}\nif (quantity &gt;= 50) {\n    cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount3 &lt;&lt; endl;\n}\nif (quantity &gt;= 100) {\n    cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount4 &lt;&lt; endl;\n}\n\n\nPlease enter the quantity of items you would like to purchase: \nThe number of items being purchased is: 19\nYour final price is: 376.2\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8759776, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210798842590712/picture?type=large", "display_name": "TheIII", "link": "https://stackoverflow.com/users/8759776/theiii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1507744823, "creation_date": 1507734011, "last_edit_date": 1507744823, "question_id": 46691581, "link": "https://stackoverflow.com/questions/46691581/discount-code-where-did-i-go-wrong", "title": "Discount code.. Where did I go wrong?", "body": "<p>This code is designed to give the final price of an item based off of the customers quantity. I have already added in the equations but when it is ran it the discount and the final price are not evaluating correctly. If someone knows where I went wrong in the pseudocode, it would be very helpful.</p>\n\n<pre><code>using namespace std;\nint main() {\n\n    // Variables\n    double Retail, quantity, discount1, discount2, discount3, discount4, TotalCost1, TotalCost2, TotalCost3, TotalCost4;\n    Retail = 99;\n    quantity = 0;\n    discount1 = (quantity * Retail) * .20;\n    discount2 = (quantity * Retail) * .30;\n    discount3 = (quantity * Retail) * .40;\n    discount4 = (quantity * Retail) * .50;\n    TotalCost1 = quantity - discount1;\n    TotalCost2 = quantity - discount2;\n    TotalCost3 = quantity - discount3;\n    TotalCost4 = quantity - discount4;\n\n    //Equations\n    cout &lt;&lt; \"Please enter the quantity of items you would like to purchase: \" &lt;&lt; endl;\n    cin &gt;&gt; quantity;\n    cout &lt;&lt; \"The number of items being purchased is: \" &lt;&lt; quantity &lt;&lt; endl;\n\n    if (quantity &lt;= 19) {\n        cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount1 &lt;&lt; endl;\n    }\n    if (quantity &gt;= 20) {\n        cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount2 &lt;&lt; endl;\n    }\n    if (quantity &gt;= 50) {\n        cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount3 &lt;&lt; endl;\n    }\n    if (quantity &gt;= 100) {\n        cout &lt;&lt; \"Your final price is: \" &lt;&lt; discount4 &lt;&lt; endl;\n    }\n\n\n\n\n        system(\"pause\");\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1507738096, "post_id": 46691526, "comment_id": 80333492, "body": "Yes - just assign the invalid QVariant to them all."}], "answers": [{"comments": [{"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1507734763, "post_id": 46691729, "comment_id": 80331238, "body": "That&#39;s what I&#39;m doing now, but it&#39;s annoying to have a huge list of empty/invalid properties."}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "reply_to_user": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1507734895, "post_id": 46691729, "comment_id": 80331352, "body": "than it is a bug, since documentation says you can remove dynamic property and there is no API accept <code>setProperty</code> to remove it."}, {"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1507735123, "post_id": 46691729, "comment_id": 80331504, "body": "dope, I hadn&#39;t actually read that part of the documentation. I was just assuming they didn&#39;t go away."}], "tags": [], "owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "is_accepted": true, "score": 4, "last_activity_date": 1507736423, "last_edit_date": 1507736423, "creation_date": 1507734400, "answer_id": 46691729, "question_id": 46691526, "link": "https://stackoverflow.com/questions/46691526/remove-dynamic-properties-from-qobject/46691729#46691729", "title": "Remove dynamic properties from QObject", "body": "<p>Try this:</p>\n\n<pre><code>for (auto const &amp;name : object-&gt;dynamicPropertyNames())\n{\n    object-&gt;setProperty(name.constData(), {});\n}\nQ_ASSERT(object-&gt;dynamicPropertyNames().empty());\n</code></pre>\n\n<p>This iterates over all dynamic properties and sets empty <code>QVariant</code> value.\nIf assertion fails than this is a Qt bug since documetation says:</p>\n\n<p><a href=\"http://doc.qt.io/qt-5/qobject.html#dynamic-properties\" rel=\"nofollow noreferrer\">http://doc.qt.io/qt-5/qobject.html#dynamic-properties</a></p>\n\n<blockquote>\n  <p>From Qt 4.2, dynamic properties can be added to and removed from QObject instances at run-time. </p>\n</blockquote>\n\n<p>and</p>\n\n<blockquote>\n  <p>Dynamic properties ... can be removed by setting the property value to an invalid <code>QVariant</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 885, "favorite_count": 1, "accepted_answer_id": 46691729, "answer_count": 1, "score": 3, "last_activity_date": 1507738367, "creation_date": 1507733889, "question_id": 46691526, "link": "https://stackoverflow.com/questions/46691526/remove-dynamic-properties-from-qobject", "title": "Remove dynamic properties from QObject", "body": "<p>Is there a way to remove all the dynamic properties assigned to a <code>QObject</code>?</p>\n"}, {"tags": ["c++", "accumulate"], "comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507734109, "post_id": 46691506, "comment_id": 80330812, "body": "@tobi303 : That sounds like an answer.  (In fact, it <i>is</i> the answer.  The OP has instantiated <code>std::accumulate&lt;std::vector&lt;long long int&gt;::iterator, int&gt;</code>)"}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507734215, "post_id": 46691506, "comment_id": 80330879, "body": "<code>std::accumulate</code> has a separate template parameter for the initial value. No restriction that it has to be the same type as the elements. The only possibly likely problem with using <code>int</code> there is overflow, really."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1507735935, "post_id": 46691506, "comment_id": 80332086, "body": "@chris: Well yes.  But if you have a vector of long long int, it is highly likely that values &gt;2G are at least possible - and hence that overflow <i>will</i> be the problem."}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 2, "creation_date": 1507734464, "post_id": 46691683, "comment_id": 80331049, "body": "@Ron: or even <code>0LL</code>."}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 3, "creation_date": 1507734468, "post_id": 46691683, "comment_id": 80331052, "body": "If only they had made <code>T</code> the first template argument, so that it could be specified explicitly instead."}, {"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1507734527, "post_id": 46691683, "comment_id": 80331092, "body": "@Jarod42 Agree."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1507736058, "post_id": 46691683, "comment_id": 80332164, "body": "This can be useful if accumulating a vector of long - you may want the accumulator to be of type long long in order to guard against overflow."}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": false, "score": 23, "last_activity_date": 1598427717, "last_edit_date": 1598427717, "creation_date": 1507734283, "answer_id": 46691683, "question_id": 46691506, "link": "https://stackoverflow.com/questions/46691506/summation-of-vector-containing-long-long-int-using-accumulation/46691683#46691683", "title": "summation of vector containing long long int using accumulation", "body": "<p><code>std::accumulate</code> has a small pitfall that is the initial value that you pass. One can easily overlook that this value is used to deduce the parameter <code>T</code> that is also the return type (and the return type is <strong>not</strong> necesarily the <code>value_type</code> of the container). Fix it by passing a <code>long long</code> as initial value:</p>\n<pre><code>    sum = accumulate(v.begin(),v.end(),0LL);\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 7634897, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Y2jfOCSmWA0/AAAAAAAAAAI/AAAAAAAACaQ/eIPMxe0uxlU/photo.jpg?sz=128", "display_name": "Rakshit Verma", "link": "https://stackoverflow.com/users/7634897/rakshit-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2973, "favorite_count": 1, "answer_count": 1, "score": 8, "last_activity_date": 1598427717, "creation_date": 1507733848, "last_edit_date": 1507734673, "question_id": 46691506, "link": "https://stackoverflow.com/questions/46691506/summation-of-vector-containing-long-long-int-using-accumulation", "title": "summation of vector containing long long int using accumulation", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;numeric&gt;\n#include &lt;iterator&gt;\n\nusing namespace std;\n\nint main()\n{\n    int N;\n    cin&gt;&gt;N;\n    long long int x,sum=0;\n    std::vector&lt;long long int&gt; v;\n    for(int i=0;i&lt;N;i++)\n    {\n        cin&gt;&gt;x;\n        v.push_back(x);\n    }\n    /*vector&lt;long long int&gt;::iterator itr;\n    itr = v.begin();\n    for(itr=v.begin();itr&lt;v.end();itr++)\n        sum += *itr;*/\n    sum = accumulate(v.begin(),v.end(),0);\n    cout&lt;&lt;sum;\n    return 0;\n}\n</code></pre>\n\n<p>My program is returning abstract value using accumulate, but if I use the for loop, the answer is coming.</p>\n"}, {"tags": ["c++", "qt5", "qmetatype"], "comments": [{"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 0, "creation_date": 1507733967, "post_id": 46691227, "comment_id": 80330710, "body": "<a href=\"https://woboq.com/blog/q_enum.html\" rel=\"nofollow noreferrer\">related</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2712, "user_id": 1070480, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c5c61cd66cede1455405ebc8e89d502?s=128&d=identicon&r=PG", "display_name": "HelloGoodbye", "link": "https://stackoverflow.com/users/1070480/hellogoodbye"}, "edited": false, "score": 0, "creation_date": 1511802018, "post_id": 46691538, "comment_id": 81988156, "body": "Is the example supposed to illustrate a difference between <code>Q_ENUM</code> and <code>Q_ENUMS</code> or simply how <code>Q_ENUM</code> can be used?"}, {"owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "reply_to_user": {"reputation": 2712, "user_id": 1070480, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6c5c61cd66cede1455405ebc8e89d502?s=128&d=identicon&r=PG", "display_name": "HelloGoodbye", "link": "https://stackoverflow.com/users/1070480/hellogoodbye"}, "edited": false, "score": 0, "creation_date": 1511802082, "post_id": 46691538, "comment_id": 81988192, "body": "@HelloGoodbye The example illustrates how to use <code>Q_ENUM</code>. <code>Q_ENUMS</code> has been deprecated, and should no longer be used."}], "tags": [], "owner": {"reputation": 22670, "user_id": 955273, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/79903a88026b021e89735578bb71fd22?s=128&d=identicon&r=PG", "display_name": "Steve Lorimer", "link": "https://stackoverflow.com/users/955273/steve-lorimer"}, "is_accepted": false, "score": 9, "last_activity_date": 1507733924, "creation_date": 1507733924, "answer_id": 46691538, "question_id": 46691227, "link": "https://stackoverflow.com/questions/46691227/what-is-the-difference-between-q-enum-and-q-enums/46691538#46691538", "title": "What is the difference between Q_ENUM and Q_ENUMS", "body": "<p>Since Qt 5.5 <code>Q_ENUMS</code> is deprecated, replaced with the better <code>Q_ENUM</code>.</p>\n\n<p>There is an example showing its use in the <a href=\"http://doc.qt.io/qt-5/properties.html#a-simple-example\" rel=\"noreferrer\">Qt documentation</a>:</p>\n\n<pre><code>class MyClass : public QObject\n{\n    Q_OBJECT\n    Q_PROPERTY(Priority priority READ priority WRITE setPriority NOTIFY priorityChanged)\n\npublic:\n    MyClass(QObject *parent = 0);\n    ~MyClass();\n\n    enum Priority { High, Low, VeryHigh, VeryLow };\n    Q_ENUM(Priority)\n\n    void setPriority(Priority priority)\n    {\n        m_priority = priority;\n        emit priorityChanged(priority);\n    }\n\n    Priority priority() const\n    { \n        return m_priority; \n    }\n\nsignals:\n    void priorityChanged(Priority);\n\nprivate:\n    Priority m_priority;\n};\n</code></pre>\n\n<p>For further details on the reasons behind the move from <code>Q_ENUMS</code> to <code>Q_ENUM</code>, read <a href=\"https://woboq.com/blog/q_enum.html\" rel=\"noreferrer\">this blog entry</a></p>\n"}, {"tags": [], "owner": {"reputation": 1638, "user_id": 1037293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ycPs2.jpg?s=128&g=1", "display_name": "Andrii", "link": "https://stackoverflow.com/users/1037293/andrii"}, "is_accepted": true, "score": 15, "last_activity_date": 1507734492, "creation_date": 1507734492, "answer_id": 46691754, "question_id": 46691227, "link": "https://stackoverflow.com/questions/46691227/what-is-the-difference-between-q-enum-and-q-enums/46691754#46691754", "title": "What is the difference between Q_ENUM and Q_ENUMS", "body": "<p>The <a href=\"https://doc.qt.io/qt-5/whatsnew55.html\" rel=\"noreferrer\">What's New in Qt 5.5</a> says:</p>\n\n<blockquote>\n  <p>Added Q_ENUM to replace Q_ENUMS, which allows to get a QMetaEnum at compile time using QMetaEnum::fromType. Such enums are now automatically registered as metatypes, and can be converted to strings within QVariant, or printed as string by qDebug().</p>\n</blockquote>\n"}], "owner": {"reputation": 3190, "user_id": 1798015, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/52308759088ab744fdca3fe619dde41d?s=128&d=identicon&r=PG", "display_name": "feedc0de", "link": "https://stackoverflow.com/users/1798015/feedc0de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12925, "favorite_count": 1, "accepted_answer_id": 46691754, "answer_count": 2, "score": 16, "last_activity_date": 1507734492, "creation_date": 1507733114, "question_id": 46691227, "link": "https://stackoverflow.com/questions/46691227/what-is-the-difference-between-q-enum-and-q-enums", "title": "What is the difference between Q_ENUM and Q_ENUMS", "body": "<p>I just found multiple examples showing the usage of <code>Q_ENUM</code> and <code>Q_ENUMS</code> and looking into the definition of <code>Q_ENUM</code> showed me that it includes <code>Q_ENUMS</code> and other definitions.</p>\n\n<p>I am not sure which one to write when using the enum in <code>Q_PROPERTY</code>, Qml/QtQuick, in signals/slots, QVariants and <code>qDebug()</code> output.</p>\n\n<p>It seems like the <code>Q_ENUM</code> is the better one as it is defined using <code>Q_ENUMS</code>, but I'm just guessing here.</p>\n\n<p>What exactly are the differences, why are there two at all and which one should be prefered?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "edited": false, "score": 1, "creation_date": 1507733418, "post_id": 46691174, "comment_id": 80330315, "body": "It is modern alternative to <code>typedef</code>"}, {"owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "edited": false, "score": 1, "creation_date": 1507733567, "post_id": 46691174, "comment_id": 80330418, "body": "<code>Signature</code> is a <a href=\"http://en.cppreference.com/w/cpp/language/type_alias\" rel=\"nofollow noreferrer\">type alias</a> of a function that takes <code>std::stringstream&amp;&amp;</code> as parameter and returns <code>void</code>."}, {"owner": {"reputation": 31, "user_id": 5929936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b072ed618f3273b05f5ec8df52530da5?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Liedtke", "link": "https://stackoverflow.com/users/5929936/patrick-liedtke"}, "edited": false, "score": 0, "creation_date": 1507734493, "post_id": 46691174, "comment_id": 80331067, "body": "Thanks a lot, I really did not see this..."}], "owner": {"reputation": 31, "user_id": 5929936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b072ed618f3273b05f5ec8df52530da5?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Liedtke", "link": "https://stackoverflow.com/users/5929936/patrick-liedtke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "closed_date": 1507733353, "answer_count": 0, "score": 1, "last_activity_date": 1507733115, "creation_date": 1507732951, "question_id": 46691174, "link": "https://stackoverflow.com/questions/46691174/c-using-signature-in-class", "closed_reason": "Duplicate", "title": "C++ &quot;using Signature&quot; in class", "body": "<p>In c++, what does the using Signature line do? I really dont get it, what is Signature?</p>\n\n<pre><code>class XX { \npublic:\n    using Signature = void(std::stringstream&amp;&amp;);    \n}\n</code></pre>\n\n<p>Signature is further used once like this:</p>\n\n<pre><code>using Function = std::function&lt;Signature&gt;;\n</code></pre>\n"}, {"tags": ["c++", "stream"], "comments": [{"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 1, "creation_date": 1507732943, "post_id": 46691126, "comment_id": 80329985, "body": "This should be of some help: <a href=\"http://en.cppreference.com/w/cpp/io/cout\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/cout</a>"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507732953, "post_id": 46691126, "comment_id": 80329997, "body": "<a href=\"http://en.cppreference.com/w/cpp/io/cin\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/cin</a> &quot;These objects are guaranteed to be initialized during or before the...&quot;"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 0, "creation_date": 1507733046, "post_id": 46691126, "comment_id": 80330073, "body": "Also this: <a href=\"http://en.cppreference.com/w/cpp/io/ios_base/Init\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/io/ios_base/Init</a>"}], "answers": [{"tags": [], "owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "is_accepted": true, "score": 7, "last_activity_date": 1507733091, "creation_date": 1507733091, "answer_id": 46691217, "question_id": 46691126, "link": "https://stackoverflow.com/questions/46691126/what-is-the-lifecycle-of-cin-and-cout-objects-c/46691217#46691217", "title": "What is the lifecycle of cin and cout objects? C++", "body": "<blockquote>\n  <p><strong>[iostream.objects.overview]/2</strong> The objects are constructed and the associations are established at some time prior to or during the first time an object of class <code>ios_base::Init</code> is constructed, and in any case before the body of main begins execution.<sup>294</sup> The objects are not destroyed during program execution.<sup>295</sup> The results of including <code>&lt;iostream&gt;</code> in a translation unit shall be as if <code>&lt;iostream&gt;</code> defined an instance of <code>ios_base::Init</code> with static storage duration. Similarly, the entire program shall behave as if there were at least one instance of <code>ios_base::Init</code> with static storage duration.</p>\n  \n  <p><sup>294</sup> If it is possible for them to do so, implementations are encouraged to initialize the objects earlier than required.</p>\n  \n  <p><sup>295</sup> Constructors and destructors for static objects can access these objects to read input from <code>stdin</code> or write output to <code>stdout</code> or <code>stderr</code>.</p>\n</blockquote>\n\n<p>See also: <a href=\"https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Nifty_Counter\" rel=\"noreferrer\">Nifty counter</a></p>\n"}], "owner": {"reputation": 1029, "user_id": 5394999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/feb6c518628c4d2b0efd4eb11455e83a?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Nicky", "link": "https://stackoverflow.com/users/5394999/mr-nicky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 46691217, "answer_count": 1, "score": 2, "last_activity_date": 1507733091, "creation_date": 1507732835, "last_edit_date": 1507732962, "question_id": 46691126, "link": "https://stackoverflow.com/questions/46691126/what-is-the-lifecycle-of-cin-and-cout-objects-c", "title": "What is the lifecycle of cin and cout objects? C++", "body": "<p>In C++ <code>cin</code> and <code>cout</code> are often used to read/write something to the standard I/O. They are both used as operands to the operators <code>&lt;&lt;</code> and <code>&gt;&gt;</code>. In other words they are <strong>objects</strong> that we use whenever we want said functionality. </p>\n\n<p>Since <code>cin</code> and <code>cout</code> are <strong>objects</strong>, when during the lifecycle of a program are they created/initialized, so that we can use them wherever the <code>&lt;iostream&gt;</code> library is imported?</p>\n"}, {"tags": ["c++", "file", "winapi", "readfile"], "comments": [{"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 2, "creation_date": 1507732858, "post_id": 46691102, "comment_id": 80329918, "body": "How do you print <code>ReadBuffer</code>? As a NUL-terminated string, I suspect. Which of course it is not."}, {"owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507733055, "post_id": 46691102, "comment_id": 80330083, "body": "@IgorTandetnik I put the value of <code>ReadBuffer</code> to String and print string using <code>std::cout</code>"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 3, "creation_date": 1507733333, "post_id": 46691102, "comment_id": 80330254, "body": "Precisely. You print it as if it were text data, but it&#39;s binary data. It probably has a zero byte right after <code>MZ</code>, and the printing stops there."}, {"owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507733747, "post_id": 46691102, "comment_id": 80330534, "body": "@IgorTandetnik I think so because when I open EXE file with notepad it&#39;s <code>NULL</code> after MZ. How can I ignore <code>NULL</code> characters ? or remove it?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 2, "creation_date": 1507733856, "post_id": 46691102, "comment_id": 80330620, "body": "rather than <code>std::string val{buffer};</code> use <code>std::string val{buffer, buffer+dwBytesRead};</code>"}, {"owner": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507740129, "post_id": 46691102, "comment_id": 80334643, "body": "Why do you want to print binary data in the first place? What was the original point of the exercise - why did you decide to read an EXE file? What goal do you pursue? Do you have a problem achieving that goal?"}, {"owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "reply_to_user": {"reputation": 45460, "user_id": 1670129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32370783314a7efabe09b6cfadb11b12?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Tandetnik", "link": "https://stackoverflow.com/users/1670129/igor-tandetnik"}, "edited": false, "score": 0, "creation_date": 1507740346, "post_id": 46691102, "comment_id": 80334773, "body": "@IgorTandetnik My goal is to find a Data in any file or folder. So I should able to open executable files too."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "edited": false, "score": 0, "creation_date": 1507753947, "post_id": 46691102, "comment_id": 80341820, "body": "Please note that looking for data in binary files  is tricky if the data is a string. The text in a binary file may be in arbitrary encoding: utf-8, utf-16, Windows-specific."}, {"owner": {"reputation": 570607, "user_id": 505088, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3c0aac2191718ef0309dbc034d9b9961?s=128&d=identicon&r=PG", "display_name": "David Heffernan", "link": "https://stackoverflow.com/users/505088/david-heffernan"}, "edited": false, "score": 0, "creation_date": 1507754105, "post_id": 46691102, "comment_id": 80341902, "body": "You know it&#39;s a binary file. Which means it is not text. In fact that&#39;s precisely what a binary file is. So don&#39;t treat it as text."}], "answers": [{"tags": [], "owner": {"reputation": 1964, "user_id": 8666197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67e412c92534ae5c8ae3b0e9cb7b7360?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel S\u0119k", "link": "https://stackoverflow.com/users/8666197/daniel-s%c4%99k"}, "is_accepted": false, "score": 0, "last_activity_date": 1507749953, "last_edit_date": 1507749953, "creation_date": 1507748102, "answer_id": 46695601, "question_id": 46691102, "link": "https://stackoverflow.com/questions/46691102/read-binary-files-with-readfile-winapi/46695601#46695601", "title": "Read &#39;Binary&#39; files with ReadFile WinAPI", "body": "<blockquote>\n  <p>How Can I Read Binary files With ReadFile?</p>\n</blockquote>\n\n<p><code>ReadFile</code> (and <code>ReadFileEx</code> ) works 'in binary mode'. You get exact file contents byte by byte without any translation.</p>\n\n<p>You have problem with writing/printing. This mostly depends where you want to write, but for outputing (binary) data potentially containing nulls in C++ choose <code>write</code> method</p>\n\n<pre><code>some_output_stream.write( buffer_ptr, num_bytes_in_buffer );\n</code></pre>\n\n<p><code>some_output_stream</code> should be set to binary mode (std::ios::binary). Without this flag all bytes with value 10 could be translated to pairs 13,10.</p>\n\n<p>If C FILE functions are used</p>\n\n<pre><code>fwrite( buffer_ptr, 1, num_bytes_in_buffer, some_output_file );\n</code></pre>\n\n<p>Again <code>some_output_file</code> has to be in binary mode.</p>\n\n<p>In some scenarios <code>WriteFile</code> can be used complementary to your usage of <code>ReadFile</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "edited": false, "score": 0, "creation_date": 1507753061, "post_id": 46695918, "comment_id": 80341402, "body": "Something like String(or <code>ReadBuffer</code>) to hex converter?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "reply_to_user": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "edited": false, "score": 0, "creation_date": 1507753767, "post_id": 46695918, "comment_id": 80341723, "body": "<code>ReadBuffer</code>, definitely <code>ReadBuffer</code>. <code>void *buffer, int readSize</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "reply_to_user": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "edited": false, "score": 0, "creation_date": 1507753829, "post_id": 46695918, "comment_id": 80341763, "body": "std::string(const char*, size_t) will also serve to pass binary data around."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3458"}, "is_accepted": true, "score": 2, "last_activity_date": 1507749421, "creation_date": 1507749421, "answer_id": 46695918, "question_id": 46691102, "link": "https://stackoverflow.com/questions/46691102/read-binary-files-with-readfile-winapi/46695918#46695918", "title": "Read &#39;Binary&#39; files with ReadFile WinAPI", "body": "<p>The problem is not with reading, the problem is with printing.</p>\n\n<p>You're not showing your code, but you're likely trying to print with <code>printf</code> or something similar. IOW, you're printing it as C string.</p>\n\n<p>Well, binary data includes 0s, and in this case the first 3 bytes are 'M', 'Z', '\\0' - and that prints as a null-terminated string \"MZ\".</p>\n\n<p>You'd have to write a converter to per-byte hex numbers if you want to see meaningful printing of binary data: <code>4D 5A 00</code> and so on</p>\n"}], "owner": {"reputation": 462, "user_id": 8547128, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh5.googleusercontent.com/-VdtX8-xzgi4/AAAAAAAAAAI/AAAAAAAAADY/Qpj1DlW3s4M/photo.jpg?sz=128", "display_name": "Ali Sepehri-Amin", "link": "https://stackoverflow.com/users/8547128/ali-sepehri-amin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 0, "accepted_answer_id": 46695918, "answer_count": 2, "score": 2, "last_activity_date": 1507749953, "creation_date": 1507732766, "last_edit_date": 1507739446, "question_id": 46691102, "link": "https://stackoverflow.com/questions/46691102/read-binary-files-with-readfile-winapi", "title": "Read &#39;Binary&#39; files with ReadFile WinAPI", "body": "<p>When I try to open '.exe' files with <code>ReadFile()</code> Windows API, It's just return the 2 first character of file like : <code>MZ</code></p>\n\n<p>Here is my Code:</p>\n\n<pre><code>#define BUFFERSIZE 5000\n\nVOID CALLBACK FileIOCompletionRoutine(\n__in  DWORD dwErrorCode,\n__in  DWORD dwNumberOfBytesTransfered,\n__in  LPOVERLAPPED lpOverlapped\n);\n\nVOID CALLBACK FileIOCompletionRoutine(\n__in  DWORD dwErrorCode,\n__in  DWORD dwNumberOfBytesTransfered,\n__in  LPOVERLAPPED lpOverlapped)\n{\n   _tprintf(TEXT(\"Error code:\\t%x\\n\"), dwErrorCode);\n   _tprintf(TEXT(\"Number of bytes:\\t%x\\n\"), dwNumberOfBytesTransfered);\n   g_BytesTransferred = dwNumberOfBytesTransfered;\n}\n\nHANDLE hFile;\nDWORD  dwBytesRead = 0;\nchar   ReadBuffer[BUFFERSIZE] = { 0 };\nOVERLAPPED ol = { 0 };\nhFile = CreateFile(fullFilePath.c_str(),               // file to open\n    GENERIC_READ,          // open for reading\n    FILE_SHARE_READ,       // share for reading\n    NULL,                  // default security\n    OPEN_EXISTING,         // existing file only\n    FILE_ATTRIBUTE_NORMAL | FILE_FLAG_OVERLAPPED, // normal file\n    NULL);                 // no attr. template\n\nReadFileEx(hFile, ReadBuffer, BUFFERSIZE - 1, &amp;ol, FileIOCompletionRoutine);\n</code></pre>\n\n<p>When I print <code>ReadBuffer</code> It's just <code>MZ</code>(exe file).</p>\n\n<p>But Using:</p>\n\n<pre><code>std::ifstream file(argv[1], std::ios::in | std::ios::binary);\n</code></pre>\n\n<p>It's work perfectly.\nHow Can I Read Binary files With ReadFile?</p>\n"}, {"tags": ["c++", "vector", "iterator", "integer"], "comments": [{"owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 2, "creation_date": 1507732560, "post_id": 46690971, "comment_id": 80329731, "body": "My goodness, not #include&lt;buffer&gt;, #include &lt;vector&gt;"}, {"owner": {"reputation": 42006, "user_id": 3807729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UEUbF.jpg?s=128&g=1", "display_name": "Galik", "link": "https://stackoverflow.com/users/3807729/galik"}, "edited": false, "score": 3, "creation_date": 1507732740, "post_id": 46690971, "comment_id": 80329843, "body": "Do you mean <code>frag.back()</code>?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507732765, "post_id": 46690971, "comment_id": 80329854, "body": "what is &quot;some codes&quot; ? please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. in particular, what is <code>frag</code>?"}, {"owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 0, "creation_date": 1507732817, "post_id": 46690971, "comment_id": 80329888, "body": "vector&lt;int&gt; frag; frag is just a vector"}, {"owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "edited": false, "score": 0, "creation_date": 1507733307, "post_id": 46690971, "comment_id": 80330237, "body": "Have a look a the following posts: <a href=\"https://stackoverflow.com/questions/903221/press-enter-to-continue\">Press Enter to Contine</a> and <a href=\"https://stackoverflow.com/questions/26325932/detect-hitting-enter-key-in-c\">Detect hitting Enter Key in C++</a>."}, {"owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 0, "creation_date": 1507733539, "post_id": 46690971, "comment_id": 80330403, "body": "I did, but it didn&#39;t solve my problem. I need to compare integer versus enter."}, {"owner": {"reputation": 18268, "user_id": 5218354, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh4.googleusercontent.com/-NEO9rZKeffY/AAAAAAAAAAI/AAAAAAAAAKc/9IttO1jUOr4/photo.jpg=k-s128", "display_name": "norok2", "link": "https://stackoverflow.com/users/5218354/norok2"}, "edited": false, "score": 0, "creation_date": 1507733849, "post_id": 46690971, "comment_id": 80330615, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26325932/detect-hitting-enter-key-in-c\">Detect hitting Enter Key in C++</a>"}, {"owner": {"reputation": 1028, "user_id": 1718685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa8a4284849bb128c2c1cfdf0a5bf762?s=128&d=identicon&r=PG", "display_name": "Stephen", "link": "https://stackoverflow.com/users/1718685/stephen"}, "edited": false, "score": 0, "creation_date": 1507737729, "post_id": 46690971, "comment_id": 80333279, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/903221/press-enter-to-continue\">Press Enter to Continue</a>"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 0, "creation_date": 1507733754, "post_id": 46691295, "comment_id": 80330542, "body": "Thanks, but I need integer type, not char for a vector"}, {"owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 0, "creation_date": 1507744908, "post_id": 46691295, "comment_id": 80337253, "body": "it only take one input. I need multiple input until two enters."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "reply_to_user": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "edited": false, "score": 0, "creation_date": 1507749247, "post_id": 46691295, "comment_id": 80339490, "body": "<code>I need multiple input until two enters</code> You mean with &quot;two&quot; &quot;double press&quot; enter to stop reading or you mean until character <code>2</code> enters?"}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1507749137, "last_edit_date": 1507749137, "creation_date": 1507733272, "answer_id": 46691295, "question_id": 46690971, "link": "https://stackoverflow.com/questions/46690971/how-to-detect-enter-key-in-c/46691295#46691295", "title": "how to detect &#39;Enter Key&#39; in c++?", "body": "<p>You can compare <code>std::cin.get</code> against <code>\\n</code>:</p>\n\n<pre><code>std::vector&lt;int&gt; vecInt;\nchar c;\n\nwhile(std::cin.peek() != '\\n'){\n    std::cin.get(c);\n\n    if(isdigit(c))\n        vecInt.push_back(c - '0');\n}\n\nfor (int i(0); i &lt; vecInt.size(); i++)\n    std::cout &lt;&lt; vecInt[i] &lt;&lt; \", \";\n\nThe input : 25uA1 45p\nThe output: 2, 5, 1, 4, 5,\n</code></pre>\n\n<ul>\n<li><p>If you want to read in two integer values so after hitting Enter key for the second time it will stop reading:</p>\n\n<pre><code>std::vector&lt;int&gt; vecInt;\nint iVal, nEnterPress = 0;\n\n\nwhile(nEnterPress != 2){\n\n    if(std::cin.peek() == '\\n'){\n        nEnterPress++;\n        std::cin.ignore(1, '\\n');\n    }\n    else{\n        std::cin &gt;&gt; iVal;\n        vecInt.push_back(iVal);\n    }\n}\n\nfor (int i(0); i &lt; vecInt.size(); i++)\n    std::cout &lt;&lt; vecInt[i] &lt;&lt; \", \";\n\nInput:  435  (+ Press enter )\n        3976 (+ Press enter)\n\nOutput: 435, 3976,\n</code></pre></li>\n</ul>\n"}], "owner": {"reputation": 19, "user_id": 8542761, "user_type": "registered", "profile_image": "https://graph.facebook.com/1652324731508802/picture?type=large", "display_name": "Yohan Kim", "link": "https://stackoverflow.com/users/8542761/yohan-kim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507749137, "creation_date": 1507732391, "last_edit_date": 1507732904, "question_id": 46690971, "link": "https://stackoverflow.com/questions/46690971/how-to-detect-enter-key-in-c", "title": "how to detect &#39;Enter Key&#39; in c++?", "body": "<p>I want to detect enter pressed to break loop.\nIf user press 2 enters in a row, loop breaks.\nI'm using vector to store user input.\nAll variable's type is integer.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main()\n{   int buffer;\n    vector&lt;int&gt; frag;\n    do\n    {\n        cin &gt;&gt;buffer;\n        frag.push_back(buffer);\n    }while(frag.end()!='\\n');\n\n\n}\n</code></pre>\n\n<p>How can I escape from error message \n\"no match for 'operator!=' (operand types are 'std::vector::iterator.....\"?</p>\n"}, {"tags": ["c++", "asynchronous", "capnproto"], "answers": [{"comments": [{"owner": {"reputation": 1505, "user_id": 2641513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bGWLp.jpg?s=128&g=1", "display_name": "zoska", "link": "https://stackoverflow.com/users/2641513/zoska"}, "edited": false, "score": 0, "creation_date": 1509378650, "post_id": 46748289, "comment_id": 80985285, "body": "Thank you. I really appreciate code author, who is active on Stack Overflow :)"}, {"owner": {"reputation": 2153, "user_id": 1193549, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7b811c496d6a82fb2e716e885d268e96?s=128&d=identicon&r=PG", "display_name": "hunyadym", "link": "https://stackoverflow.com/users/1193549/hunyadym"}, "edited": false, "score": 0, "creation_date": 1511389343, "post_id": 46748289, "comment_id": 81844809, "body": "Is expectedSizeInWordsFromPrefix working for packed messages too? I always get huge numbers..."}, {"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "reply_to_user": {"reputation": 2153, "user_id": 1193549, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7b811c496d6a82fb2e716e885d268e96?s=128&d=identicon&r=PG", "display_name": "hunyadym", "link": "https://stackoverflow.com/users/1193549/hunyadym"}, "edited": false, "score": 0, "creation_date": 1511394667, "post_id": 46748289, "comment_id": 81846470, "body": "@hunyadym No, it doesn&#39;t work for packed messages. Implementing something like this for packed messages will actually be rather difficult. You might be better off writing a length prefix explicitly. :/ I&#39;ve filed an issue for this: <a href=\"https://github.com/capnproto/capnproto/issues/590\" rel=\"nofollow noreferrer\">github.com/capnproto/capnproto/issues/590</a>"}, {"owner": {"reputation": 1505, "user_id": 2641513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bGWLp.jpg?s=128&g=1", "display_name": "zoska", "link": "https://stackoverflow.com/users/2641513/zoska"}, "edited": false, "score": 0, "creation_date": 1512736934, "post_id": 46748289, "comment_id": 82389177, "body": "Is there a way of knowing, what type of message is sent through the socket? Or could you suggest best practice for sending operation type first?"}, {"owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "reply_to_user": {"reputation": 1505, "user_id": 2641513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bGWLp.jpg?s=128&g=1", "display_name": "zoska", "link": "https://stackoverflow.com/users/2641513/zoska"}, "edited": false, "score": 0, "creation_date": 1513100485, "post_id": 46748289, "comment_id": 82518122, "body": "@zoska I recommend creating one master message which contains a <code>union</code> of all message types you want to support. Then, always send and receive instances of the master message."}], "tags": [], "owner": {"reputation": 30998, "user_id": 2686899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/StqEe.jpg?s=128&g=1", "display_name": "Kenton Varda", "link": "https://stackoverflow.com/users/2686899/kenton-varda"}, "is_accepted": true, "score": 1, "last_activity_date": 1508007832, "creation_date": 1508007832, "answer_id": 46748289, "question_id": 46690956, "link": "https://stackoverflow.com/questions/46690956/reading-writing-cap-n-proto-messages-partially/46748289#46748289", "title": "Reading/writing Cap\u2019n Proto messages partially", "body": "<p>There are two ways you can solve this:</p>\n\n<ul>\n<li><strong>Hard way:</strong> You can attempt to integrate with the KJ async I/O framework (used by Cap'n Proto). The KJ event loop can actually integrate with other event loops and run on top of them -- but it's tricky. For example, node-capnp includes code to integrate the KJ event loop with libuv, as seen in the first part of <a href=\"https://github.com/capnproto/node-capnp/blob/node4/src/node-capnp/capnp.cc\" rel=\"nofollow noreferrer\">this source file</a>. Once you have the necessary glue, you can write KJ-style async code that uses the interfaces in <code>capnp/serialize-async.h</code>.</li>\n<li><strong>Easy way:</strong> Instead of trying to integrate KJ, you can write simple code using your event infrastructure which reads data from the file descriptor directly and then uses <code>capnp::expectedSizeInWordsFromPrefix()</code> (from <code>capnp/serialize.h</code>) to figure out if it has received the whole message yet. If that function returns a number greater than what you already have, then you don't have the full message and have to keep waiting. Once you have the full message, you can then use <code>capnp::FlatArrayMessageReader</code> to parse it.</li>\n</ul>\n"}], "owner": {"reputation": 1505, "user_id": 2641513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bGWLp.jpg?s=128&g=1", "display_name": "zoska", "link": "https://stackoverflow.com/users/2641513/zoska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 46748289, "answer_count": 1, "score": 0, "last_activity_date": 1508007832, "creation_date": 1507732350, "question_id": 46690956, "link": "https://stackoverflow.com/questions/46690956/reading-writing-cap-n-proto-messages-partially", "title": "Reading/writing Cap\u2019n Proto messages partially", "body": "<p>I'm trying to use Cap\u2019n Proto in existing project consisting of client and server communicating over UDS. I don't have the resources (and I doubt it would be accepted) to redo all client-server RPC, but I wanted to benefit from Cap\u2019n Proto serialization mechanisms. Unfortunately, it seems to me it's impossible.</p>\n\n<p>The biggest problem is server side, which is single threaded (and it will remain so, if there aren't any serious arguments for multithreading) and uses it's own poll based loop. All events are read partially, server can't block waiting for any event to be fully read - and this is where I am stuck. We have our own protocol and classes which wrap the message, which can consume bytes from file descriptor and notify, when the event is fully read, so the server can process it. I think I've analysed most of Cap\u2019n Proto interfaces (serialization, async serialization) and it seems, that it can't be used the same way without any modifications.</p>\n\n<p>I really hope that I've missed something. Did I?</p>\n"}, {"tags": ["c++", "qt", "makefile"], "comments": [{"owner": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 0, "creation_date": 1507732454, "post_id": 46690784, "comment_id": 80329669, "body": "There is a typo in that version. <code>Qt::Key_BackSpace</code> should be <code>Qt::Key_Backspace</code>."}, {"owner": {"reputation": 221, "user_id": 1753476, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/75903a32eebd43bf720f8ba5f93955c3?s=128&d=identicon&r=PG", "display_name": "Xabi E", "link": "https://stackoverflow.com/users/1753476/xabi-e"}, "reply_to_user": {"reputation": 11885, "user_id": 2257050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VknAq.png?s=128&g=1", "display_name": "thuga", "link": "https://stackoverflow.com/users/2257050/thuga"}, "edited": false, "score": 0, "creation_date": 1507733359, "post_id": 46690784, "comment_id": 80330273, "body": "I have tried to replacing Qt::Key_BackSpace to Qt::Key_Backspace and it seems to work. but now a new error is shown: <b>codemodel.h:99:13: error: \u2018insert\u2019 was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]</b>"}, {"owner": {"reputation": 1719, "user_id": 2619479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/127aeef4e048febca4fd6560b465359d?s=128&d=identicon&r=PG", "display_name": "Marco", "link": "https://stackoverflow.com/users/2619479/marco"}, "edited": false, "score": 0, "creation_date": 1507734851, "post_id": 46690784, "comment_id": 80331315, "body": "<a href=\"https://stackoverflow.com/questions/18258879/qt4-build-fails-with-message-error\" title=\"qt4 build fails with message error\">stackoverflow.com/questions/18258879/&hellip;</a>"}, {"owner": {"reputation": 221, "user_id": 1753476, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/75903a32eebd43bf720f8ba5f93955c3?s=128&d=identicon&r=PG", "display_name": "Xabi E", "link": "https://stackoverflow.com/users/1753476/xabi-e"}, "edited": false, "score": 0, "creation_date": 1507735683, "post_id": 46690784, "comment_id": 80331897, "body": "Thanks man. It seems to work!!"}], "owner": {"reputation": 221, "user_id": 1753476, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/75903a32eebd43bf720f8ba5f93955c3?s=128&d=identicon&r=PG", "display_name": "Xabi E", "link": "https://stackoverflow.com/users/1753476/xabi-e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 984, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507731918, "creation_date": 1507731918, "question_id": 46690784, "link": "https://stackoverflow.com/questions/46690784/compile-old-qt-version", "title": "compile old qt version", "body": "<p>I'm working on a project with Qt. I have download and compile my Qt 4.8.7 version without problems on Ubuntu 14.04 and Ubuntu 16.04.</p>\n\n<p>I have followed the next steps:</p>\n\n<h3>Install cross compilation tools and package dependencies</h3>\n\n<pre><code>sudo dpkg --add-architecture i386\nsudo apt-get update\nsudo apt-get install g++-multilib\nsudo apt-get build-dep qt4-x11\n</code></pre>\n\n<h3>Download Qt</h3>\n\n<pre><code>mkdir -p ~/dmi/dep/qt &amp;&amp; cd ~/dmi/dep/qt\nwget http://download.qt.io/official_releases/qt/4.8/4.8.7/qt-everywhere-opensource-src-4.8.7.tar.gz\ntar xvzf qt-everywhere-opensource-src-4.8.7.tar.gz\ncd qt-everywhere-opensource-src-4.8.7\n</code></pre>\n\n<h3>Configure, compile and install Qt for the host system</h3>\n\n<pre><code>./configure -prefix $HOME/dmi/dep/install/amd64 -embedded -static  \\\n    -nomake docs -nomake examples -nomake demos -no-openssl        \\\n    -no-qt3support -no-phonon -no-phonon-backend -no-webkit        \\\n    -no-javascript-jit -no-script -no-scripttools -no-cups -qvfb   \\\n    -qt-gfx-linuxfb -qt-gfx-qvfb -opensource -confirm-license\n\nmake -j 5\nmake install\n</code></pre>\n\n<p>As I said... This is working perfectly with qt 4.8.7. Now I'm trying to the the same with an old Qt version 4.6.4. But It doesn't work. This is the ./configure output:</p>\n\n<pre><code>Build ............... libs tools translations\nConfiguration .......  release static embedded largefile precompile_header mmx 3dnow sse sse2 exceptions_off  minimal-config small-config medium-config large-config full-config accessibility embedded reduce_exports ipv6 clock-gettime clock-monotonic mremap getaddrinfo ipv6ifname getifaddrs inotify system-jpeg jpeg mng system-png png gif system-tiff tiff system-freetype system-zlib nis glib dbus multimedia audio-backend svg release\nDebug ............... no\nQt 3 compatibility .. no\nQtDBus module ....... yes (run-time)\nQtConcurrent code.... yes\nQtScript module ..... no\nQtScriptTools module  no\nQtXmlPatterns module  no\nPhonon module ....... no\nMultimedia module ... yes\nSVG module .......... yes\nWebKit module ....... no\nDeclarative module .. no\nSTL support ......... no\nPCH support ......... yes\nMMX/3DNOW/SSE/SSE2..  yes/yes/yes/yes\nIPv6 support ........ yes\nIPv6 ifname support . yes\ngetaddrinfo support . yes\ngetifaddrs support .. yes\nAccessibility ....... yes\nNIS support ......... yes\nCUPS support ........ no\nIconv support ....... no\nGlib support ........ yes\nGStreamer support ... auto\nLarge File support .. yes\nGIF support ......... yes\nTIFF support ........ yes (system)\nJPEG support ........ yes (system)\nPNG support ......... yes (system)\nMNG support ......... yes (qt)\nzlib support ........ system\nSession management .. no\nEmbedded support .... x86_64\nFreetype2 support ... auto (system)\nGraphics (qt) ....... linuxfb multiscreen qvfb linuxfb qvfb\nGraphics (plugin) ... \nDecorations (qt) .... styled windows default\nDecorations (plugin)  \nKeyboard driver (qt). tty qvfb\nKeyboard driver (plugin) \nMouse driver (qt) ... pc linuxtp qvfb\nMouse driver (plugin) \nOpenGL support ...... no\nOpenVG support ...... no\nMySQL support ....... plugin\nPostgreSQL support .. plugin\nODBC support ........ plugin\nTDS support ......... plugin\nSQLite support ...... plugin (qt)\nOpenSSL support ..... no \nAlsa support ........ no\n\n\nWARNING: Using static linking will disable the use of dynamically\nloaded plugins. Make sure to import all needed static plugins,\nor compile needed modules into the library.\n\nFinding project files. Please wait...\nReading /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/tools/bootstrap/bootstrap.pro\n...\nReading /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/translations/translations.pro\n  790 projects found.\n\nCreating makefiles. Please wait...\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/tools/qtestlib/wince/remotelib/remotelib.pro\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/tools/designer/src/components/lib/lib.pro\npotential duplicate alias detected: 'widget.png'\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/tools/assistant/lib/lib.pro\n ...\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/plugins/phonon/gstreamer/gstreamer.pro\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/plugins/phonon/mmf/mmf.pro\nError: Symbian SDK registry key not found\nError: failed to find epoc root\nEither\n    1. Set EPOCROOT environment variable to a valid value\n or 2. Ensure that the HKEY_LOCAL_MACHINE\\Software\\Symbian\\EPOC SDKs\\CommonPath registry key is set, and then\n       a. Set EPOCDEVICE environment variable to a valid device\n    or b. Specify a default device in the devices.xml file.\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/plugins/phonon/waveout/waveout.pro\n  ...\n  for /home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/3rdparty/webkit/WebKit/qt/tests/qwebframe/qwebframe.pro\n\nQt is now configured for building. Just run 'make'.\nOnce everything is built, you must run 'make install'.\nQt will be installed into /home/xabi/dmi/dep/install/amd64\n\nTo reconfigure, run 'make confclean' and 'configure'.\n</code></pre>\n\n<p>And the make fails:</p>\n\n<pre><code>64_SOURCE -D_LARGEFILE_SOURCE -I../../mkspecs/qws/linux-x86_64-g++ -I. -I../../include/QtCore -I../../include/QtNetwork -I../../include -I../../include/QtGui -I.rcc/release-static-emb-x86_64 -I/usr/include/freetype2 -I../3rdparty/harfbuzz/src -Idialogs -I.moc/release-static-emb-x86_64 -I.uic/release-static-emb-x86_64 -o .obj/release-static-emb-x86_64/qheaderview.o itemviews/qheaderview.cpp\nitemviews/qabstractitemview.cpp: In member function \u2018virtual void QAbstractItemView::keyPressEvent(QKeyEvent*)\u2019:\nitemviews/qabstractitemview.cpp:2311:10: error: \u2018Key_BackSpace\u2019 is not a member of \u2018Qt\u2019\n     case Qt::Key_BackSpace:\n          ^\ng++ -c -include .pch/release-static-emb-x86_64/QtGui -pipe -m64 -fno-exceptions -pthread -I/usr/include/glib-2.0 -I/usr/lib/x86_64-linux-gnu/glib-2.0/include -O2 -fvisibility=hidden -fvisibility-inlines-hidden -Wall -W -D_REENTRANT -fPIC -DQT_BUILD_GUI_LIB -DQT_NO_USING_NAMESPACE -DQT_NO_CAST_TO_ASCII -DQT_ASCII_CAST_WARNINGS -DQT_MOC_COMPAT -DQT_HAVE_MMX -DQT_HAVE_3DNOW -DQT_HAVE_SSE -DQT_HAVE_MMXEXT -DQT_HAVE_SSE2 -DQT_NO_FONTCONFIG -DQT_NO_OPENTYPE -DQT_NO_STYLE_MAC -DQT_NO_STYLE_WINDOWSVISTA -DQT_NO_STYLE_WINDOWSXP -DQT_NO_STYLE_GTK -DQT_NO_STYLE_WINDOWSCE -DQT_NO_STYLE_WINDOWSMOBILE -DQT_NO_STYLE_S60 -DQ_INTERNAL_QAPP_SRC -DQT_NO_DEBUG -DQT_NETWORK_LIB -DQT_CORE_LIB -D_LARGEFILE64_SOURCE -D_LARGEFILE_SOURCE -I../../mkspecs/qws/linux-x86_64-g++ -I. -I../../include/QtCore -I../../include/QtNetwork -I../../include -I../../include/QtGui -I.rcc/release-static-emb-x86_64 -I/usr/include/freetype2 -I../3rdparty/harfbuzz/src -Idialogs -I.moc/release-static-emb-x86_64 -I.uic/release-static-emb-x86_64 -o .obj/release-static-emb-x86_64/qlistview.o itemviews/qlistview.cpp\nMakefile:126493: recipe for target '.obj/release-static-emb-x86_64/qabstractitemview.o' failed\nmake[1]: *** [.obj/release-static-emb-x86_64/qabstractitemview.o] Error 1\nmake[1]: *** Waiting for unfinished jobs....\nmake[1]: Leaving directory '/home/xabi/dmi/dep/qt/qt-everywhere-opensource-src-4.6.4/src/gui'\nMakefile:306: recipe for target 'sub-gui-make_default-ordered' failed\nmake: *** [sub-gui-make_default-ordered] Error 2\n</code></pre>\n\n<p>What's the problem? Any idea?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732040, "post_id": 46690717, "comment_id": 80329359, "body": "Also describe <i>&quot;is not working&quot;</i> with as much detail as you can (error messages, expected/received output/ ...). That phrase on its own doesn&#39;t mean anything useful"}, {"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1507732096, "post_id": 46690717, "comment_id": 80329402, "body": "@Fran&#231;oisAndrieux I edited it. Please let me know if anything else is needed. Thanks"}, {"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732201, "post_id": 46690717, "comment_id": 80329490, "body": "@UnholySheep The thing is that it doesn&#39;t compile."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732242, "post_id": 46690717, "comment_id": 80329517, "body": "Compiler errors are usually <i>very</i> descriptive, telling you what is wrong (and I don&#39;t know why you didn&#39;t include the error in your question)"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732371, "post_id": 46690717, "comment_id": 80329613, "body": "What is <code>pep::vector</code> and where does it come from?"}, {"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732438, "post_id": 46690717, "comment_id": 80329662, "body": "@UnholySheep I added the errors. Thanks"}, {"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "reply_to_user": {"reputation": 1755, "user_id": 5986881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7a607dd49a0116e3ba869a66d6fd1ba0?s=128&d=identicon&r=PG", "display_name": "Samer Tufail", "link": "https://stackoverflow.com/users/5986881/samer-tufail"}, "edited": false, "score": 0, "creation_date": 1507732505, "post_id": 46690717, "comment_id": 80329690, "body": "@SamerTufail no, it is not a duplicate. I want to do it outside the main method which I tried to do it in the same way that is indicated in the answers of that question but it didn&#39;t work."}, {"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "reply_to_user": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1507732595, "post_id": 46690717, "comment_id": 80329760, "body": "@UnholySheep I replaced it with &#39;std::vector&#39; and it is still not compiling ( getting the same errors. )"}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 1, "creation_date": 1507732678, "post_id": 46690717, "comment_id": 80329805, "body": "<code>istringstream f(str);</code> -&gt; <code>std::istringstream f(str);</code> (or put a <code>using std::istringstream</code> at the top like you did for the others) and <code>out</code> -&gt; <code>cout</code>. Basically exactly what the errors are telling you"}], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "edited": false, "score": 0, "creation_date": 1507732725, "post_id": 46690963, "comment_id": 80329834, "body": "Worked. Thanks for the answer"}], "tags": [], "owner": {"reputation": 161, "user_id": 8725098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0c43a9232bbf368598d575f712eb784?s=128&d=identicon&r=PG&f=1", "display_name": "Rostin", "link": "https://stackoverflow.com/users/8725098/rostin"}, "is_accepted": true, "score": 0, "last_activity_date": 1507732373, "creation_date": 1507732373, "answer_id": 46690963, "question_id": 46690717, "link": "https://stackoverflow.com/questions/46690717/how-to-split-string-into-tokens-outside-main-method/46690963#46690963", "title": "how to split string into tokens outside main method", "body": "<p>You have many misspells in the code you provided. Please next time make sure your code is spellchecked before posted here.</p>\n\n<p>Try changing the following lines to</p>\n\n<pre><code>using pep::vector; to  using std::vector;\nistringstream f(str); to std::istringstream f(str);\nout&lt;&lt;s&lt;&lt;endl; to  cout &lt;&lt; s &lt;&lt; endl;\n</code></pre>\n\n<p>changing that worked for me.</p>\n\n<p>The first example u provided, you have</p>\n\n<pre><code>using namespace std;\n</code></pre>\n\n<p>so <code>istringstream f(str);</code> works without the scope operator. </p>\n"}], "owner": {"reputation": 139, "user_id": 8202693, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/8bde8fe575d2b5905bec3267fd0a1c69?s=128&d=identicon&r=PG&f=1", "display_name": "user8202693", "link": "https://stackoverflow.com/users/8202693/user8202693"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 46690963, "answer_count": 1, "score": 1, "last_activity_date": 1507732762, "creation_date": 1507731710, "last_edit_date": 1507732762, "question_id": 46690717, "link": "https://stackoverflow.com/questions/46690717/how-to-split-string-into-tokens-outside-main-method", "title": "how to split string into tokens outside main method", "body": "<p>I have seen this code on stack overflow, </p>\n\n<pre><code>#include &lt;sstream&gt;\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\nusing namespace std;\n\nint main() {\n    vector&lt;string&gt; strings;\n    istringstream f(\"denmark sweden india us\");\n    string s;    \n    while (getline(f, s, ' ')) {\n        cout &lt;&lt; s &lt;&lt; endl;\n        strings.push_back(s);\n    }\n}\n</code></pre>\n\n<p>but I can't seem to understand why it is not working outside the main method. I have two files one has the main method and the other one I want to implement this code in it.</p>\n\n<p>This is what I have tried </p>\n\n<p>File1.h</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt; \n#include &lt;string&gt;\n\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n#include &lt;iterator&gt;\n\nusing pep::vector;\nusing std::cout;\nusing std::endl;\nusing std::string;\ndouble evaluate(string str)\n{\n\n    vector&lt;string&gt; strings;\n    istringstream f(str);\n    string s;    \n    while (getline(f, s, ' ')) \n{\n    out &lt;&lt; s &lt;&lt; endl;\n    strings.push_back(s);\n}\n\n    return 0;\n}\n</code></pre>\n\n<p>File2.cpp</p>\n\n<pre><code>#include \"file1.h\"\nint main() \n{\ndouble answer = evaluate(\"3.0 4.0 +\");\n}\n</code></pre>\n\n<p>I got these errors:</p>\n\n<pre><code>file1.h: In function \u2018double evaluate(std::__cxx11::string)\u2019:\nfile1.h:89:5: error: \u2018istringstream\u2019 was not declared in this scope\n     istringstream f(str);\n     ^~~~~~~~~~~~~\nfile1.h:89:5: note: suggested alternative:\nIn file included from /usr/include/c++/6/ios:38:0,\n                 from /usr/include/c++/6/ostream:38,\n                 from /usr/include/c++/6/iostream:39,\n                 from Stack.h:5:\n/usr/include/c++/6/iosfwd:150:38: note:   \u2018std::istringstream\u2019\n   typedef basic_istringstream&lt;char&gt;  istringstream;\n                                      ^~~~~~~~~~~~~\nfile1.h:91:20: error: \u2018f\u2019 was not declared in this scope\n     while (getline(f, s, ' '))\n                    ^\nfile1.h:93:5: error: \u2018out\u2019 was not declared in this scope\n     out &lt;&lt; s &lt;&lt; endl;\n</code></pre>\n\n<p>Any help will be appreciated</p>\n"}, {"tags": ["c++", "char"], "comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507731551, "post_id": 46690574, "comment_id": 80328980, "body": "what is the value of <code>m</code> and <code>l</code> before you start incrementing them?"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 2, "creation_date": 1507731687, "post_id": 46690574, "comment_id": 80329083, "body": "please read about <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. A mcve could be for example this: <code>int main() { int m; m = m + 1; std::cout &lt;&lt; m; }</code> much more you really dont need to understand what is wrong here"}, {"owner": {"reputation": 801, "user_id": 74739, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gBpz9.jpg?s=128&g=1", "display_name": "zenzelezz", "link": "https://stackoverflow.com/users/74739/zenzelezz"}, "edited": false, "score": 1, "creation_date": 1507731761, "post_id": 46690574, "comment_id": 80329150, "body": "Also, don&#39;t be afraid to use some whitespace."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1507731810, "post_id": 46690574, "comment_id": 80329185, "body": "Welcome to Stack Overflow! Please <a href=\"https://stackoverflow.com/posts/46690574/edit\">edit</a> your code to reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of your problem.  Your current code includes much that is peripheral to your problem - a minimal sample normally looks similar to a good unit test: only performing one task, with input values specified for reproducibility."}, {"owner": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "edited": false, "score": 0, "creation_date": 1507731888, "post_id": 46690574, "comment_id": 80329246, "body": "Hey, in the code i posted above i didn&#39;t give them value prior to that, and l has the value of 36 if there are no &#39;l&#39;s inputted and 0(and so on so this one is solved) if i add l=0; before i start incrementing them. But the m variable seems to give random huge numbers with or without the m=0;"}, {"owner": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "edited": false, "score": 0, "creation_date": 1507732364, "post_id": 46690574, "comment_id": 80329608, "body": "My bad, i have edited the comment to reproduce the same problem with only the necessary parts."}, {"owner": {"reputation": 55516, "user_id": 892256, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/15FJW.png?s=128&g=1", "display_name": "Ed Heal", "link": "https://stackoverflow.com/users/892256/ed-heal"}, "edited": false, "score": 1, "creation_date": 1507733852, "post_id": 46690574, "comment_id": 80330618, "body": "Some people are neither male nor are they female"}, {"owner": {"reputation": 682, "user_id": 7253878, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/52963dc20521e67ea382effca33592b6?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/7253878/matthew"}, "edited": false, "score": 0, "creation_date": 1507739599, "post_id": 46690574, "comment_id": 80334353, "body": "why are you checking &#39;p&#39; when it is suppose to be &#39;m&#39;? could be another source of problems"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "edited": false, "score": 0, "creation_date": 1507734201, "post_id": 46691447, "comment_id": 80330870, "body": "The program worked after i changed the m,l=0; line, can&#39;t believe i spent hours on that basic mistake. I will heed your advices, thank you very much :)"}, {"owner": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "edited": false, "score": 0, "creation_date": 1507734412, "post_id": 46691447, "comment_id": 80331006, "body": "About the array size, i changed it to      cin&gt;&gt;jlh;     char gender[jlh];  Does this work too?"}, {"owner": {"reputation": 5397, "user_id": 2193020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/aa10d01a3d48851073bd61877a56b5a7?s=128&d=identicon&r=PG", "display_name": "hnefatl", "link": "https://stackoverflow.com/users/2193020/hnefatl"}, "reply_to_user": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "edited": false, "score": 0, "creation_date": 1507738138, "post_id": 46691447, "comment_id": 80333508, "body": "@Aldo You should probably read <a href=\"https://stackoverflow.com/questions/15013077/arrayn-vs-array10-initializing-array-with-variable-vs-real-number\">this post</a> - defining an array with variable length is a g++ extension. If you want something equivalent to variable-length arrays, you should definitely look at <a href=\"http://www.cplusplus.com/reference/vector/vector/\" rel=\"nofollow noreferrer\">std::vector</a> (although Karsten suggested a perfect alternative in the answer). Also, note that it&#39;s considered polite to mark an answer as accepted if it solved your problem."}], "tags": [], "owner": {"reputation": 2375, "user_id": 3985859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34af6d164c53c629e625c11a3d11bbcc?s=128&d=identicon&r=PG&f=1", "display_name": "Karsten Koop", "link": "https://stackoverflow.com/users/3985859/karsten-koop"}, "is_accepted": false, "score": 2, "last_activity_date": 1507733702, "creation_date": 1507733702, "answer_id": 46691447, "question_id": 46690574, "link": "https://stackoverflow.com/questions/46690574/c-char-checking-gives-outrageous-value/46691447#46691447", "title": "C++ Char checking gives outrageous value", "body": "<p>The line</p>\n\n<pre><code>m,l=0;\n</code></pre>\n\n<p>does not work as you expect. Look up the <a href=\"https://en.wikipedia.org/wiki/Comma_operator\" rel=\"nofollow noreferrer\">comma operator</a>, it evaluates the first operand (just <code>m</code> in this case), discards the result, and evaluates and returns the second operand. So only <code>l</code> is set to zero. I would recommend moving the declaration to this line and initializing the variables in one go, like so</p>\n\n<pre><code>int m=0, l=0;\nfor (int i=0; i&lt;jlh; i++) \n  ...\n</code></pre>\n\n<p>I would also move the declaration of variables like <code>i</code> to where they are needed, as shown above; there is no need to put all declaration at the beginning of the function.</p>\n\n<p>Then the output </p>\n\n<pre><code>cout&lt;&lt;endl&lt;&lt;l&lt;&lt;endl;\ncout&lt;&lt;m;\n</code></pre>\n\n<p>places the <code>endl</code> before and after the first variable, but not after the second. You should have an <code>endl</code> after the last line of your output, otherwise  your console prompt is right after your value. It would improve readability to have something like this:</p>\n\n<pre><code>std::cout &lt;&lt; \"Number of females: \" &lt;&lt; m &lt;&lt; std::endl; \nstd::cout &lt;&lt; \"Number of males:   \" &lt;&lt; l &lt;&lt; std::endl;\n</code></pre>\n\n<p>You should also make sure that not more than 20 values are entered, as your array has this size. But there is not even a need for this (maybe there is in your real code, but not in the MCVE): You can just increment the variables when reading the input, no need to store it in the array. This gets rid off this arbitrary limit. If you really need the values, you should use a <code>std::vector</code> instead of a fixed size array.</p>\n"}], "owner": {"reputation": 1, "user_id": 8759549, "user_type": "registered", "profile_image": "https://graph.facebook.com/1608215075883757/picture?type=large", "display_name": "Aldo", "link": "https://stackoverflow.com/users/8759549/aldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507733702, "creation_date": 1507731397, "last_edit_date": 1507732280, "question_id": 46690574, "link": "https://stackoverflow.com/questions/46690574/c-char-checking-gives-outrageous-value", "title": "C++ Char checking gives outrageous value", "body": "<p>i am trying to make a program to check and list the genders of a number of student, m being fem and l being male. \nI'm not sure what's wrong with my code but when i print out the m and l variable they have either really huge.\nHave been trying to solve this for hours, your help is greatly appreciated, cheers.</p>\n\n<p>P.S sorry for my bad english.</p>\n\n<pre><code> #include&lt;iostream&gt;\n#include&lt;string&gt;\nusing namespace std;\nmain()\n{\nchar gender[20];\nint jlh,i,j,m,l;\n\ncin&gt;&gt;jlh;\nsystem(\"cls\");\nfor(i=0;i&lt;jlh;i++)\n{   cout&lt;&lt;\"Data \"&lt;&lt;i+1&lt;&lt;endl;\n    cout&lt;&lt;\"Enter your gender - \"&lt;&lt;endl;\n    cin&gt;&gt;gender[i];\n}\n\nm,l=0;\nfor(i=0;i&lt;jlh;i++){\n    if(gender[i]=='p'){\n        m=m+1;\n    }\n    else if(gender[i]=='l'){\n        l=l+1;\n    }\n    }\n    cout&lt;&lt;endl&lt;&lt;l&lt;&lt;endl;\n    cout&lt;&lt;m;\n }\n</code></pre>\n"}, {"tags": ["c++", "ubuntu", "llvm"], "comments": [{"owner": {"reputation": 2500, "user_id": 452266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ee44db2603eda7d1f62f0317d6b9f8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/452266/brian"}, "edited": false, "score": 0, "creation_date": 1507744613, "post_id": 46690534, "comment_id": 80337105, "body": "How did you build LLVMHello?"}, {"owner": {"reputation": 21, "user_id": 7373047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Rv1jnQdkx8U/AAAAAAAAAAI/AAAAAAAAABQ/4r6R1O5x-Ko/photo.jpg?sz=128", "display_name": "Stuartly", "link": "https://stackoverflow.com/users/7373047/stuartly"}, "reply_to_user": {"reputation": 2500, "user_id": 452266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ee44db2603eda7d1f62f0317d6b9f8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/452266/brian"}, "edited": false, "score": 0, "creation_date": 1507810540, "post_id": 46690534, "comment_id": 80365050, "body": "@Brian, the LLVMHello.so is build as default when building LLVM."}, {"owner": {"reputation": 2500, "user_id": 452266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ee44db2603eda7d1f62f0317d6b9f8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/452266/brian"}, "edited": false, "score": 0, "creation_date": 1507821368, "post_id": 46690534, "comment_id": 80372816, "body": "Ok.  Are you using the same opt that you built from source? Your issue looks very similar to <a href=\"https://stackoverflow.com/questions/37366291/undefined-symbol-for-self-built-llvm-opt\" title=\"undefined symbol for self built llvm opt\">stackoverflow.com/questions/37366291/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 7373047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Rv1jnQdkx8U/AAAAAAAAAAI/AAAAAAAAABQ/4r6R1O5x-Ko/photo.jpg?sz=128", "display_name": "Stuartly", "link": "https://stackoverflow.com/users/7373047/stuartly"}, "reply_to_user": {"reputation": 2500, "user_id": 452266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ee44db2603eda7d1f62f0317d6b9f8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/452266/brian"}, "edited": false, "score": 0, "creation_date": 1507830069, "post_id": 46690534, "comment_id": 80377822, "body": "@Brian, Yes, I try to rebuild the llvm, and the problem is gone. Thanks"}, {"owner": {"reputation": 343, "user_id": 12197961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f67e2bce2a8f6895c8d63d8a3edc8837?s=128&d=identicon&r=PG&f=1", "display_name": "CV_Ruddha", "link": "https://stackoverflow.com/users/12197961/cv-ruddha"}, "edited": false, "score": 0, "creation_date": 1578569683, "post_id": 46690534, "comment_id": 105485241, "body": "@Stuartly How did you rebuild your llvm? I have the same problem and I am not able to figure out the solution."}], "owner": {"reputation": 21, "user_id": 7373047, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Rv1jnQdkx8U/AAAAAAAAAAI/AAAAAAAAABQ/4r6R1O5x-Ko/photo.jpg?sz=128", "display_name": "Stuartly", "link": "https://stackoverflow.com/users/7373047/stuartly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 802, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507735652, "creation_date": 1507731272, "last_edit_date": 1507735652, "question_id": 46690534, "link": "https://stackoverflow.com/questions/46690534/failed-to-test-llvm-llvmhello-pass-lib-llvmhello-so-undefined-symbol", "title": "Failed to test llvm LLVMHello pass, lib/LLVMHello.so: undefined symbol:", "body": "<p>I want to write a llvm pass,  and test the example as <a href=\"http://llvm.org/docs/WritingAnLLVMPass.html\" rel=\"nofollow noreferrer\">http://llvm.org/docs/WritingAnLLVMPass.html</a>. But it failed to run the pass, and the result is as follow:</p>\n\n<pre><code>ubuntu@ubuntu:~/Documents$ opt -load llvm-5.0.0.src/build/lib/LLVMHello.so -hello &lt; Test/hello.bc &gt; /dev/null\nError opening 'llvm-5.0.0.src/build/lib/LLVMHello.so': llvm-5.0.0.src/build/lib/LLVMHello.so: undefined symbol: _ZNK4llvm12FunctionPass17createPrinterPassERNS_11raw_ostreamERKNSt7__cxx1112basic_stringIcSt11char_traitsIcESaIcEEE\n  -load request ignored.\nopt: Unknown command line argument '-hello'.  Try: 'opt -help'\nopt: Did you mean '-help'?\n</code></pre>\n\n<hr>\n\n<pre><code>ubuntu@ubuntu:~/Documents$ opt -version\nLLVM (http://llvm.org/):\n  LLVM version 5.0.0\n  DEBUG build with assertions.\n  Default target: x86_64-unknown-linux-gnu\n  Host CPU: broadwell\n</code></pre>\n"}, {"tags": ["c++", "c++11", "templates", "overloading", "template-instantiation"], "answers": [{"comments": [{"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1507732156, "post_id": 46690791, "comment_id": 80329450, "body": "&quot;<i>the error will occur during instantiation</i>&quot; as opposed to when? Is substitution its own step?"}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 1, "creation_date": 1507732840, "post_id": 46690791, "comment_id": 80329905, "body": "@RyanHaining: during the substitution step, the <code>decltype(...)</code> trailing return type instantiates the lambda&#39;s body... which causes an error."}, {"owner": {"reputation": 19270, "user_id": 5501675, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9ea71bcc6b5c512a7d15da82db05f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/5501675/curious"}, "edited": false, "score": 0, "creation_date": 1507733680, "post_id": 46690791, "comment_id": 80330488, "body": "What is the suggested way to avoid this problem here?  Just switch to <code>decltype(auto)</code>?  I would like the <code>foo</code> function to be SFINAE friendly with the return type and also have user code work"}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 19270, "user_id": 5501675, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9ea71bcc6b5c512a7d15da82db05f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/5501675/curious"}, "edited": false, "score": 1, "creation_date": 1507733767, "post_id": 46690791, "comment_id": 80330549, "body": "@Curious: if you want <code>foo</code> to be SFINAE-friendly, then you need the trailing <code>decltype(...)</code>. It&#39;s the lambda that needs to be constrained, unfortunately... I&#39;ve encountered the same issue in the past - the provider of the lambda needs to properly constrain it."}, {"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "edited": false, "score": 0, "creation_date": 1507734315, "post_id": 46690791, "comment_id": 80330944, "body": "I think this answer is not correct, because it does not address the crux of the problem, that is if the lambda instantiation is in the immediate context of the substitution or not ..."}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "reply_to_user": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "edited": false, "score": 0, "creation_date": 1507734735, "post_id": 46690791, "comment_id": 80331216, "body": "@MassimilianoJanes: I improved the answer. Do you still think that it is &quot;incorrect&quot;? I would agree with you if you think it&#39;s not detailed/precise, but I still think that the explanation is correct."}, {"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "edited": false, "score": 0, "creation_date": 1507737238, "post_id": 46690791, "comment_id": 80332968, "body": "ok :) but I still believe that it&#39;s worth mentioning precisely when an error occurring during substitution is not just a &#39;deduction failure&#39; ..."}], "tags": [], "owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "is_accepted": true, "score": 4, "last_activity_date": 1507734590, "last_edit_date": 1507734590, "creation_date": 1507731926, "answer_id": 46690791, "question_id": 46690320, "link": "https://stackoverflow.com/questions/46690320/error-in-template-instantiation-before-overloading/46690791#46690791", "title": "Error in template instantiation before overloading", "body": "<p><em>(Apologies for the lack of correct Standard terminology, working on it...)</em></p>\n\n<p>When <code>something.foo</code> is being invoked, all possible overloads have to be taken into consideration:</p>\n\n<pre><code>template &lt;typename F&gt;\nauto foo(F&amp;&amp;)\n    -&gt; decltype(std::declval&lt;F&gt;()(std::declval&lt;T&amp;&gt;())) {}\n\ntemplate &lt;typename F&gt;\nauto foo(F&amp;&amp;) const\n    -&gt; decltype(std::declval&lt;F&gt;()(std::declval&lt;const T&amp;&gt;())) {}\n</code></pre>\n\n<p>In order to check whether an overload is viable, the trailing <code>decltype(...)</code> needs to be evaluated by the compiler. The first <code>decltype</code> will be evaluated without errors and it will evaluate to <code>void</code>.</p>\n\n<p>The second one will cause an error, because you're attempting to invoke the lambda with a <code>const T&amp;</code>.</p>\n\n<p>Since the lambda is unconstrained, the error will occur during instantiation of the lambda's body. This happens because (by default) lambdas use <em>automatic return type deduction</em>, which requires instantiation of the lambda's body.</p>\n\n<p>Therefore, the non-viable overload will therefore cause a compilation error instead of getting SFINAEd out. If you constrain the lambda as follows...</p>\n\n<pre><code>something.foo([](auto&amp; val) -&gt; decltype(++val, void()) {\n    ++val;\n});\n</code></pre>\n\n<p>...no error will occur, as the overload will be deemed non-viable through SFINAE. Additionally, you will be able to detect if the lambda invocation is valid for a particular type <em>(i.e. does <code>T</code> support <code>operator++()</code>?)</em> from <code>Something::foo</code>.</p>\n\n<hr>\n\n<p>When you change your return type to <code>decltype(auto)</code>, the return type is deduced from the body of the function.</p>\n\n<pre><code>template &lt;typename F&gt;\ndecltype(auto) foo(F&amp;&amp; f) {\n    auto t = T{};\n    f(t);\n}\n\ntemplate &lt;typename F&gt;\ndecltype(auto) foo(F&amp;&amp; f) const {\n    const auto t = T{};\n    f(t);\n}\n</code></pre>\n\n<p>As your <code>something</code> instance is non-<code>const</code>, the non-<code>const</code> qualified overload will be taken here. If your <code>main</code> was defined as follows:</p>\n\n<pre><code>int main() {\n    const auto something = Something&lt;int&gt;{};\n    something.foo([](auto&amp; val) {\n        ++val;\n    });\n}\n</code></pre>\n\n<p>You would get the same error, even with <code>decltype(auto)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1507734510, "post_id": 46691607, "comment_id": 80331077, "body": "This makes sense, but please note that the lambda is not &quot;SFINAE-friendly&quot; anymore. You might want to check if <code>++val</code> is actually a valid operation for <code>val</code> from <code>Something::foo</code>. If you just say <code>-&gt; void</code>, it might look like a valid operation even if it isn&#39;t, producing an hard error like in the OP&#39;s example."}, {"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "reply_to_user": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1507734764, "post_id": 46691607, "comment_id": 80331239, "body": "@VittorioRomeo ... uhm, but it doesn&#39;t give an hard error with the OP code, that&#39;s the point ..."}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1507735000, "post_id": 46691607, "comment_id": 80331415, "body": "this is what I find problematic: <a href=\"https://wandbox.org/permlink/g7fNJgknnVXj7vrt\" rel=\"nofollow noreferrer\">wandbox.org/permlink/g7fNJgknnVXj7vrt</a> - I would want <code>&#47;* fallback *&#47;</code> to be chosen there, but <code>-&gt; void</code> chooses another overload and <b>causes an hard error</b>. Properly constraining the lambda would choose the fallback."}, {"owner": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1507735069, "post_id": 46691607, "comment_id": 80331466, "body": "In the above link, changing <code>-&gt; void</code> with <code>-&gt; decltype(++val, void())</code> prevents the &quot;hard error&quot; and invokes the <code>&#47;* fallback *&#47;</code> overload of <code>Something::foo</code>."}, {"owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "reply_to_user": {"reputation": 82712, "user_id": 598696, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k1Yif.png?s=128&g=1", "display_name": "Vittorio Romeo", "link": "https://stackoverflow.com/users/598696/vittorio-romeo"}, "edited": false, "score": 0, "creation_date": 1507735107, "post_id": 46691607, "comment_id": 80331493, "body": "@VittorioRomeo, ok got it now ( but that&#39;s not the OP code ... )"}], "tags": [], "owner": {"reputation": 5334, "user_id": 8631381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JMqAd.png?s=128&g=1", "display_name": "Massimiliano Janes", "link": "https://stackoverflow.com/users/8631381/massimiliano-janes"}, "is_accepted": false, "score": 1, "last_activity_date": 1507735984, "last_edit_date": 1507735984, "creation_date": 1507734086, "answer_id": 46691607, "question_id": 46690320, "link": "https://stackoverflow.com/questions/46690320/error-in-template-instantiation-before-overloading/46691607#46691607", "title": "Error in template instantiation before overloading", "body": "<p>actually, I think the gist of the problem is that</p>\n\n<blockquote>\n  <p>Only invalid types and expressions in the <strong>immediate context</strong> of the function type and its template parameter types can result in a deduction failure. [ Note: The substitution into types and expressions can result in effects such as the instantiation of class template specializations and/or function template specializations, the generation of implicitly-defined functions, etc. Such effects are not in the\n  \u201cimmediate context\u201d and <strong>can result in the program being ill-formed</strong>. \u2014 end note ]</p>\n</blockquote>\n\n<p>so, the question is, should the instantiation of a lambda triggered  during deduction of its return type considered in its immediate context ?</p>\n\n<p>for example, if the lambda return type is made explicit:</p>\n\n<pre><code>something.foo([](auto&amp; val) -&gt; void {\n    ++val;\n});\n</code></pre>\n\n<p>the code compiles ( no sfinae, it's just that the non const is a best match ).</p>\n\n<p>but, the OP's lambda has automatic return type deduction hence the lambda is instantiated and the aforementioned rule applies.</p>\n"}], "owner": {"reputation": 19270, "user_id": 5501675, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9ea71bcc6b5c512a7d15da82db05f2ab?s=128&d=identicon&r=PG&f=1", "display_name": "Curious", "link": "https://stackoverflow.com/users/5501675/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 1, "accepted_answer_id": 46690791, "answer_count": 2, "score": 3, "last_activity_date": 1516109783, "creation_date": 1507730748, "last_edit_date": 1516109783, "question_id": 46690320, "link": "https://stackoverflow.com/questions/46690320/error-in-template-instantiation-before-overloading", "title": "Error in template instantiation before overloading", "body": "<p>Given the following code </p>\n\n<pre><code>#include &lt;type_traits&gt;\n#include &lt;utility&gt;\n\ntemplate &lt;typename T&gt;\nclass Something {\npublic:\n    template &lt;typename F&gt;\n    auto foo(F&amp;&amp;)\n        -&gt; decltype(std::declval&lt;F&gt;()(std::declval&lt;T&amp;&gt;())) {}\n    template &lt;typename F&gt;\n    auto foo(F&amp;&amp;) const\n        -&gt; decltype(std::declval&lt;F&gt;()(std::declval&lt;const T&amp;&gt;())) {}\n};\n\nint main() {\n    auto something = Something&lt;int&gt;{};\n    something.foo([](auto&amp; val) {\n        ++val;\n    });\n}\n</code></pre>\n\n<p><a href=\"https://wandbox.org/permlink/j24Pe9qOXV0oHcA8\" rel=\"nofollow noreferrer\">https://wandbox.org/permlink/j24Pe9qOXV0oHcA8</a></p>\n\n<p>When I try to compile this I get the error saying that I am not allowed to modify a const value in the lambda in main. This means that somehow the templates are both being instantiated in the class and this is causing a hard error since the error is in the body of the lambda.  </p>\n\n<p>What are the rules regarding this? Why does overload resolution try to instantiate a template that will never be called? The const one should never be called here so why does it try to fully instantiate it?</p>\n\n<p>However strange thing here is that when I change the definitions to return by <code>decltype(auto)</code> and add the code to do the same thing as the trailing return types suggest, I don't see an error.  Indicating that the templates are not fully being instantiated?</p>\n\n<pre><code>template &lt;typename F&gt;\ndecltype(auto) foo(F&amp;&amp; f) {\n    auto t = T{};\n    f(t);\n}\ntemplate &lt;typename F&gt;\ndecltype(auto) foo(F&amp;&amp; f) const {\n    const auto t = T{};\n    f(t);\n}\n</code></pre>\n\n<p>I guess the compiler doesn't know which function to call before instantiating at least the signature with the passed function. But that doesn't explain why the decltype(auto) version works...</p>\n"}, {"tags": ["c++", "fstream", "iostream", "ofstream", "ostream"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 4, "creation_date": 1507730670, "post_id": 46690255, "comment_id": 80328338, "body": "Perhaps <a href=\"http://en.cppreference.com/w/cpp/io\" rel=\"nofollow noreferrer\">this C++ I/O reference</a> and its inheritance hierarchy diagram can help?"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "edited": false, "score": 0, "creation_date": 1507730831, "post_id": 46690255, "comment_id": 80328455, "body": "Related: <a href=\"https://stackoverflow.com/questions/9285627/is-it-possible-to-pass-derived-classes-by-reference-to-a-function-taking-base-cl\">Is it possible to pass derived classes by reference to a function taking base class as a parameter</a>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507730947, "post_id": 46690255, "comment_id": 80328546, "body": "I would choose <code>D</code> because a file stream can be input and output.  Answer <code>C</code> is output only."}, {"owner": {"reputation": 34083, "user_id": 1287251, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/IQkBy.png?s=128&g=1", "display_name": "Cornstalks", "link": "https://stackoverflow.com/users/1287251/cornstalks"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1507730996, "post_id": 46690255, "comment_id": 80328576, "body": "@ThomasMatthews: <code>D</code> doesn&#39;t work because you can&#39;t pass <code>std::cout</code> to it; it&#39;s not an <code>std::istream</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507731133, "post_id": 46690255, "comment_id": 80328675, "body": "If I have an <code>ifstream</code> for reading, which is a file stream, I can&#39;t use <code>C</code>.  The question should be reworded. :-)"}, {"owner": {"reputation": 15289, "user_id": 583833, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/791a00235c66b6c32effd4291101087f?s=128&d=identicon&r=PG", "display_name": "Borgleader", "link": "https://stackoverflow.com/users/583833/borgleader"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507731258, "post_id": 46690255, "comment_id": 80328753, "body": "@ThomasMatthews The function is called <i>output</i>. How confusing would that be if it read from a file?"}], "answers": [{"tags": [], "owner": {"reputation": 269, "user_id": 1223242, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/031e1195f8661e47c1ca59cbac2da94c?s=128&d=identicon&r=PG", "display_name": "MichaelE1000", "link": "https://stackoverflow.com/users/1223242/michaele1000"}, "is_accepted": true, "score": 4, "last_activity_date": 1507732023, "last_edit_date": 1507732023, "creation_date": 1507730943, "answer_id": 46690396, "question_id": 46690255, "link": "https://stackoverflow.com/questions/46690255/difference-between-fstream-ofstream-ostream-iostream/46690396#46690396", "title": "Difference between fstream, ofstream, ostream, iostream", "body": "<p>The answer is C. The question is about the inheritance hierarchy. <code>std::cout</code> is an instance of <code>std::ostream</code>. All other functions accept subclasses of std::ostream and can therefore not handle <code>std::cout</code>. <code>std::fstream</code> could be passed to all of them but the question was about both.</p>\n"}], "owner": {"reputation": 87, "user_id": 8201601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/52162c72c873440d0da393f229d84277?s=128&d=identicon&r=PG&f=1", "display_name": "Humanid 1652487954543", "link": "https://stackoverflow.com/users/8201601/humanid-1652487954543"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4161, "favorite_count": 2, "accepted_answer_id": 46690396, "answer_count": 1, "score": 4, "last_activity_date": 1507732023, "creation_date": 1507730582, "last_edit_date": 1507730864, "question_id": 46690255, "link": "https://stackoverflow.com/questions/46690255/difference-between-fstream-ofstream-ostream-iostream", "title": "Difference between fstream, ofstream, ostream, iostream", "body": "<p>I'm taking a quiz on an intro level class in C++ and I'm trying to understand a question.  After searching the internet and not getting an answer, so here I am.</p>\n\n<pre><code>Which of the following function declarations will accept either cout or a file stream \nobject as its argument?\n\nA. void output( fstream &amp;outFile);  \nB. void output( ofstream &amp;outFile); \nC. void output( ostream &amp;outFile);  \nD. void output( iostream &amp;outFile);\n</code></pre>\n\n<p>The answer is C.  </p>\n\n<p>I know the difference between: fstream, ofstream, ostream, iostream.  </p>\n\n<p>What I don't understand is why none of the other options are able to accept the cout or file stream object as an argument.  </p>\n\n<p>Is the answer as simple as ostream objects contain data (char,etc) that are able to be passed as arguments?</p>\n\n<p>Any information would be greatly appreciated.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 6463, "user_id": 6387170, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d425edf9cc20e61c8cc3be162915f06?s=128&d=identicon&r=PG&f=1", "display_name": "UKMonkey", "link": "https://stackoverflow.com/users/6387170/ukmonkey"}, "edited": false, "score": 2, "creation_date": 1507730103, "post_id": 46690046, "comment_id": 80327890, "body": "did you mean std::reverse?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 5, "creation_date": 1507730174, "post_id": 46690046, "comment_id": 80327959, "body": "You should consult the <a href=\"http://en.cppreference.com/w/cpp/algorithm/reverse\" rel=\"nofollow noreferrer\">reference</a> when you use something new and it doesn&#39;t work to make sure you are using it correctly."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507730183, "post_id": 46690046, "comment_id": 80327966, "body": "yes, <code>string</code> is a container, but no <code>string</code> has no <code>reverse</code> you probably meant <code>std::reverse(str.begin(),str.end())</code>. And your mixing of reverese and forward iterators is weird. I avoid reverse iterators whenever I can, because I always get it wrong, but this looks wrong too"}, {"owner": {"reputation": 607, "user_id": 6784509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjPEk.jpg?s=128&g=1", "display_name": "HatsuPointerKun", "link": "https://stackoverflow.com/users/6784509/hatsupointerkun"}, "edited": false, "score": 0, "creation_date": 1507730242, "post_id": 46690046, "comment_id": 80328017, "body": "I think you want to use <code>std::reverse</code>, the <a href=\"http://en.cppreference.com/w/cpp/algorithm/reverse\" rel=\"nofollow noreferrer\">STD function</a> in the <code>algorithm</code> header"}, {"owner": {"reputation": 1820, "user_id": 3849158, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/q1Gcg.png?s=128&g=1", "display_name": "izlin", "link": "https://stackoverflow.com/users/3849158/izlin"}, "edited": false, "score": 1, "creation_date": 1507730449, "post_id": 46690046, "comment_id": 80328165, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/198199/how-do-you-reverse-a-string-in-place-in-c-or-c\">How do you reverse a string in place in C or C++?</a>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 2, "creation_date": 1507730491, "post_id": 46690046, "comment_id": 80328193, "body": "Your error demonstrates why algorithms exist.  Note that <code>std::reverse</code> works with any sequence container.  That&#39;s why there is no <code>std::string::reverse</code>, <code>std::array::reverse</code>, <code>std::vector::reverse</code>, etc.  The same <code>std::reverse</code> works for all of them."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1507731229, "post_id": 46690046, "comment_id": 80328726, "body": "You\u2019re right that <code>std::string</code> does not have a member function named <code>reverse</code>. No containers do. RTFM."}], "answers": [{"tags": [], "owner": {"reputation": 34185, "user_id": 5470596, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BITFt.jpg?s=128&g=1", "display_name": "YSC", "link": "https://stackoverflow.com/users/5470596/ysc"}, "is_accepted": false, "score": 0, "last_activity_date": 1507730224, "creation_date": 1507730224, "answer_id": 46690111, "question_id": 46690046, "link": "https://stackoverflow.com/questions/46690046/string-has-no-member-named-reverse/46690111#46690111", "title": "string has no member named &#39;reverse&#39;", "body": "<p><code>std::string</code> has no method <code>reverse</code>. But <a href=\"http://en.cppreference.com/w/cpp/algorithm/reverse\" rel=\"nofollow noreferrer\"><code>std::reverse</code></a> exists:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n\nint main()\n{\n    std::string str = \"hello\";\n    std::reverse(str.begin(), str.end());\n    std::cout &lt;&lt; str &lt;&lt; \"\\n\"; // prints \"olleh\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13016, "user_id": 8751754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7k6Li.png?s=128&g=1", "display_name": "Ron", "link": "https://stackoverflow.com/users/8751754/ron"}, "is_accepted": true, "score": 2, "last_activity_date": 1507730595, "last_edit_date": 1507730595, "creation_date": 1507730278, "answer_id": 46690125, "question_id": 46690046, "link": "https://stackoverflow.com/questions/46690046/string-has-no-member-named-reverse/46690125#46690125", "title": "string has no member named &#39;reverse&#39;", "body": "<p>The <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\">std::string</a> class template does not have a member function called <code>reverse</code>. There is a <a href=\"http://en.cppreference.com/w/cpp/algorithm/reverse\" rel=\"nofollow noreferrer\">std::reverse</a> function located in the <code>&lt;algorithm&gt;</code> header. You probably want to use it in a following manner:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;algorithm&gt; \nint main() {\n    std::string str = \"hello\";\n    std::reverse(str.begin(), str.end());\n}\n</code></pre>\n\n<p>Note the use of <code>str.end()</code> in place of your <code>str.rbegin()</code>. You can also define a new string and use the string constructor overload that accepts reverse iterators:</p>\n\n<pre><code>#include &lt;string&gt;\nint main() {\n    std::string str = \"hello\";\n    std::string reversestr(str.rbegin(), str.rend());\n}\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 7449638, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c9a765971a8fb15188f388ad772d9bad?s=128&d=identicon&r=PG&f=1", "display_name": "Hana", "link": "https://stackoverflow.com/users/7449638/hana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1548, "favorite_count": 0, "accepted_answer_id": 46690125, "answer_count": 2, "score": -4, "last_activity_date": 1507730595, "creation_date": 1507730038, "question_id": 46690046, "link": "https://stackoverflow.com/questions/46690046/string-has-no-member-named-reverse", "title": "string has no member named &#39;reverse&#39;", "body": "<p>I am trying to reverse a string (c++, compiling with g++).\nIsn't string considered a container for the algorithm functions?</p>\n\n<p>This is the code:</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;algorithm&gt; \n\n\nusing namespace std;\n\n\nint main()\n{\n    string str = \"hello\";\n    str.reverse(str.begin(), str.rbegin());\n\n    return 0;\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "string", "file", "vector", "stl"], "comments": [{"owner": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 4, "creation_date": 1507729828, "post_id": 46689912, "comment_id": 80327674, "body": "Welcome to Stack Overflow. Please include the data examples in the question; not links, not screenshots."}, {"owner": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 4, "creation_date": 1507730078, "post_id": 46689912, "comment_id": 80327878, "body": "Consider keeping your 3 values together in a struct. As you read each value add the 3rd column to a set or an unordered_set if it isn&#39;t already there, and if it is toss that data."}, {"owner": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "reply_to_user": {"reputation": 86085, "user_id": 128940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d35101b4060dc3af0d5c1b7c42c4935?s=128&d=identicon&r=PG&f=1", "display_name": "Beta", "link": "https://stackoverflow.com/users/128940/beta"}, "edited": false, "score": 0, "creation_date": 1507730525, "post_id": 46689912, "comment_id": 80328228, "body": "@Beta thank your for your comment"}, {"owner": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "reply_to_user": {"reputation": 4328, "user_id": 920069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd39f0db1f22e1314746491df063602a?s=128&d=identicon&r=PG", "display_name": "Retired Ninja", "link": "https://stackoverflow.com/users/920069/retired-ninja"}, "edited": false, "score": 0, "creation_date": 1507737964, "post_id": 46689912, "comment_id": 80333407, "body": "@RetiredNinja thanks a lot for help, I will try to do it tomorrow :)"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "edited": false, "score": 0, "creation_date": 1507789947, "post_id": 46696769, "comment_id": 80352726, "body": "thank you for help, will understand your code to reach new knowledge"}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": false, "score": 0, "last_activity_date": 1507753210, "last_edit_date": 1507753210, "creation_date": 1507752820, "answer_id": 46696769, "question_id": 46689912, "link": "https://stackoverflow.com/questions/46689912/how-can-i-delete-repetitive-values-in-vector-with-order/46696769#46696769", "title": "How can I delete repetitive values in vector with order?", "body": "<p>It seems that your insert order correspond to date/time order. if that is the case, you may do something like:</p>\n\n<pre><code>struct Record\n{\n    std::chrono::system_clock::time_point time_point;\n    double pressure;\n};\n\nstd::vector&lt;Record&gt; records = /**/;\n\nconst auto lessPressure = [](const auto&amp; lhs, const auto&amp; lhs){\n    return lhs.pressure &lt; rhs.pressure;\n};\nstd::stable_sort(records.begin(), records.end(), lessPressure);\nconst auto equalPressure = [](const auto&amp; lhs, const auto&amp; lhs){\n    return lhs.pressure == rhs.pressure;\n};\nrecords.erase(std::unique(records.begin(), records.end(), equalPressure), records.end());\nconst auto lessTimePoint = [](const auto&amp; lhs, const auto&amp; lhs){\n    return lhs.time_point&lt; rhs.time_point;\n};\nstd::sort(records.begin(), records.end(), lessTimePoint );\n</code></pre>\n\n<p>Else, from your code, you have to report changes done to <code>pressure</code> vector to other data:</p>\n\n<p>so change:</p>\n\n<pre><code>for (k = j; k &lt; (len - 1); k++)\n    pressure[k] = pressure[k + 1];\n</code></pre>\n\n<p>to</p>\n\n<pre><code>for (k = j; k &lt; (len - 1); k++) {\n    pressure[k] = pressure[k + 1];\n    data[k] = data[k + 1];\n    time[k] = time[k + 1];\n}\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>pressure.erase(pressure.begin() + j);\ndata.erase(data.begin() + j);\ntime.erase(time.begin() + j);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "edited": false, "score": 0, "creation_date": 1507790003, "post_id": 46698759, "comment_id": 80352752, "body": "thank your, this is really beautiful. am I right that auto&amp; works only in C++14 standart?"}, {"owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "reply_to_user": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "edited": false, "score": 0, "creation_date": 1507806781, "post_id": 46698759, "comment_id": 80362665, "body": "That&#39;s correct.  For C++11 you&#39;ll need to sub in <code>record</code> for <code>auto</code> in the lambda parameters."}], "tags": [], "owner": {"reputation": 177852, "user_id": 576911, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2a2941970f141aad669d13375dc57c4f?s=128&d=identicon&r=PG", "display_name": "Howard Hinnant", "link": "https://stackoverflow.com/users/576911/howard-hinnant"}, "is_accepted": true, "score": 1, "last_activity_date": 1507763127, "last_edit_date": 1507763127, "creation_date": 1507762446, "answer_id": 46698759, "question_id": 46689912, "link": "https://stackoverflow.com/questions/46689912/how-can-i-delete-repetitive-values-in-vector-with-order/46698759#46698759", "title": "How can I delete repetitive values in vector with order?", "body": "<p>I think you would do better to think of this as a table with two columns:</p>\n\n<pre><code>Timestamp Pressure\n</code></pre>\n\n<p>And work with that instead.  And to work with a time stamp it helps to use a <a href=\"https://howardhinnant.github.io/date/date.html\" rel=\"nofollow noreferrer\">date/time library which can parse, format and order time stamps</a>.</p>\n\n<p>Here is what it could look like.  Details explanation below the code:</p>\n\n<pre><code>#include \"date/date.h\"\n#include &lt;algorithm&gt;\n#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;utility&gt;\n#include &lt;vector&gt;\n\nstd::istringstream file\n{\n    \"26.07.2017  15:47:38    82.431\\n\"\n    \"26.07.2017  16:47:46    83.431\\n\"\n    \"26.07.2017  17:47:54    85.431\\n\"\n    \"26.07.2017  18:48:02    84.431\\n\"\n    \"26.07.2017  19:48:09    83.431\\n\"\n    \"26.07.2017  20:48:17    83.431\\n\"\n    \"26.07.2017  21:48:24    84.431\\n\"\n    \"26.07.2017  22:48:32    83.431\\n\"\n    \"26.07.2017  23:48:40    83.431\\n\"\n    \"27.07.2017  00:48:48    84.431\\n\"\n    \"27.07.2017  01:48:55    84.431\\n\"\n    \"27.07.2017  02:49:03    84.431\\n\"\n    \"27.07.2017  03:49:10    84.431\\n\"\n    \"27.07.2017  04:49:19    84.431\\n\"\n    \"27.07.2017  05:49:27    86.431\\n\"\n};\n\nint\nmain()\n{\n    using record = std::pair&lt;date::sys_seconds, double&gt;;\n    std::vector&lt;record&gt; records;\n    while (file)\n    {\n        record r;\n        file &gt;&gt; date::parse(\" %d.%m.%Y %T\", r.first) &gt;&gt; r.second;\n        if (file.fail())\n            break;\n        records.push_back(std::move(r));\n    }\n    std::sort(records.begin(), records.end(), [](const auto&amp; x, const auto&amp; y)\n                                                  {return x.first &lt; y.first;});\n    std::stable_sort(records.begin(), records.end(),\n                     [](const auto&amp; x, const auto&amp; y)\n                         {return x.second &lt; y.second;});\n    records.erase(std::unique(records.begin(), records.end(),\n                              [](const auto&amp; x, const auto&amp; y)\n                                  {return x.second == y.second;}),\n                  records.end());\n    std::sort(records.begin(), records.end(), [](const auto&amp; x, const auto&amp; y)\n                                                    {return x.first &lt; y.first;});\n    for (const auto&amp; r : records)\n        std::cout &lt;&lt; date::format(\"%d.%m.%Y %T \", r.first) &lt;&lt; r.second &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>For ease of presentation I've placed your <code>data.tx</code> into a <code>istringstream</code>.  Don't let that detail trip you up.  <code>main</code> will work equally fine with a <code>istringstream</code> or a <code>ifstream</code>.</p>\n\n<p>I'm reusing <code>std::pair</code> as my <code>record</code>, but you could write your own <code>record</code> struct if you prefer.  In any event, you want to collect a <code>vector&lt;record&gt;</code> from your database.  This is what the <code>while</code> loop does.  This loop uses <a href=\"https://howardhinnant.github.io/date/date.html\" rel=\"nofollow noreferrer\">Howard Hinnant's free, open-source date/time library</a> to parse the timestamp, but there are several other solutions you could use as well.</p>\n\n<p>Once you have <code>records</code> filled from your database, there are three <code>std::algorithms</code> that will do this job for you (in 4 steps):</p>\n\n<ol>\n<li><p>sort <code>records</code> by timestamp.</p></li>\n<li><p>stable sort <code>records</code> by pressure.  For equal pressures this preserves the sorted order of the timestamps.</p></li>\n<li><p>unique the list for equal pressures.  This algorithm moves duplicate pressures to the back of the list and returns an iterator to the \"new end\" of the list.  You then need to erase everything from <code>[new_end, old_end)</code>.</p></li>\n<li><p>sort by timestamp one last time if you wish to view the list in chronological order.</p></li>\n</ol>\n\n<p>And you're done!  Just print it out.  This will output:</p>\n\n<pre><code>26.07.2017 15:47:38 82.431\n26.07.2017 16:47:46 83.431\n26.07.2017 17:47:54 85.431\n26.07.2017 18:48:02 84.431\n27.07.2017 05:49:27 86.431\n</code></pre>\n\n<p>which matches the prefix of your desired output.</p>\n"}], "owner": {"reputation": 57, "user_id": 8758316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f62037004ef2f09a2d4db995b927681a?s=128&d=identicon&r=PG&f=1", "display_name": "dfdd", "link": "https://stackoverflow.com/users/8758316/dfdd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 46698759, "answer_count": 2, "score": 2, "last_activity_date": 1507763127, "creation_date": 1507729646, "last_edit_date": 1507753426, "question_id": 46689912, "link": "https://stackoverflow.com/questions/46689912/how-can-i-delete-repetitive-values-in-vector-with-order", "title": "How can I delete repetitive values in vector with order?", "body": "<p>I have a txt file with 3 columns: <code>\"dd/mm/yyyy HH:MM:SS number(000.000)\"</code>. There are about 368 entries.</p>\n\n<p>I want to choose <code>strings</code>, where the value form the 3rd column is unique (meets for the first time). Order is important.</p>\n\n<p>In my code I read file in <code>vector</code> (<code>dtp</code>) and then fill each <code>column</code> in <code>vector</code> (<code>data</code>, <code>time</code>, <code>pressure</code>). Then I delete values from 3rd column and get <a href=\"https://i.stack.imgur.com/YZ6w6.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>My question is how can I add the 1st and the 2nd columns with the right indices and get <a href=\"https://i.stack.imgur.com/oiy6P.png\" rel=\"nofollow noreferrer\">this</a>?</p>\n\n<p>Data examples (firs 15 values):</p>\n\n<pre><code>26.07.2017  15:47:38    82.431 \n26.07.2017  16:47:46    83.431\n26.07.2017  17:47:54    85.431\n26.07.2017  18:48:02    84.431\n26.07.2017  19:48:09    83.431\n26.07.2017  20:48:17    83.431\n26.07.2017  21:48:24    84.431\n26.07.2017  22:48:32    83.431\n26.07.2017  23:48:40    83.431\n27.07.2017  00:48:48    84.431\n27.07.2017  01:48:55    84.431\n27.07.2017  02:49:03    84.431\n27.07.2017  03:49:10    84.431\n27.07.2017  04:49:19    84.431\n27.07.2017  05:49:27    86.431\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>include &lt;iostream&gt; \ninclude &lt;fstream&gt; \ninclude &lt;string&gt; \ninclude &lt;algorithm&gt; \ninclude &lt;iterator&gt; \ninclude &lt;sstream&gt; \ninclude &lt;vector&gt; \ninclude &lt;cstring&gt; \ninclude &lt;ctime&gt;\n\nusing namespace std;\n\nint main()\n{\n    const clock_t start = clock(); \n    system(\"mode con cols=50 lines=1000\"); \n    setlocale(LC_ALL, \"Russian\"); \n\n    vector&lt;string&gt; dtp; \n    vector&lt;string&gt; data;\n    vector&lt;string&gt; time;\n    vector&lt;double&gt; pressure;\n    double num(0.0); \n    string line, tmp1, tmp2; \n    int len = 368;\n    int f, i, j, k;\n\n    ifstream file(\"data.txt\"); \n\n    while (!getline(file, line).eof()) \n        dtp.push_back(line); \n\n    for (string &amp;it : dtp) \n    { \n        {\n            istringstream isstr(it);\n            isstr &gt;&gt; tmp1;\n            data.push_back(tmp1);\n        }\n\n        {\n            istringstream isstr(it);\n            isstr &gt;&gt; tmp1 &gt;&gt; tmp2;\n            time.push_back(tmp2);\n        }\n\n        {\n            istringstream isstr(it);\n            isstr &gt;&gt; tmp1 &gt;&gt; tmp2 &gt;&gt; num;\n            pressure.push_back(num);\n        }\n\n    }\n\n    f = 0;\n    for (i = 0; i &lt; len; i++) \n    {\n        for (j = i + 1; j &lt; len; j++) \n        {\n            if (pressure[i] == pressure[j]) \n            {\n                for (k = j; k &lt; (len - 1); k++)\n                    pressure[k] = pressure[k + 1];\n\n                len--;\n                j--;\n                f = 1;\n            }\n        }\n    }\n\n    if (f == 1)\n    {\n        for (i = 0; i &lt; len; i++)\n            cout &lt;&lt; pressure[i] &lt;&lt; endl;\n    }\n\n    const double vremya = static_cast&lt;double&gt;(clock() - start) / CLOCKS_PER_SEC; \n    cout &lt;&lt; \"Time is: \" &lt;&lt; vremya &lt;&lt; \" seconds\" &lt;&lt; endl; \n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "mysql", "qt"], "comments": [{"owner": {"reputation": 112091, "user_id": 2231815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1597c347e309f696ff1738128444702b?s=128&d=identicon&r=PG", "display_name": "rakib_", "link": "https://stackoverflow.com/users/2231815/rakib"}, "edited": false, "score": 0, "creation_date": 1507732298, "post_id": 46689703, "comment_id": 80329553, "body": "Maybe the most likely solution if all the scenario you have mentioned is to build Qt with you toolchain and produce <code>libmysql.dll</code> and trying using that one. Actually I faced this problem on GNU/Linux and rebuilding Qt solved my case."}], "answers": [{"comments": [{"owner": {"reputation": 2123, "user_id": 2135363, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PXld6.jpg?s=128&g=1", "display_name": "McLan", "link": "https://stackoverflow.com/users/2135363/mclan"}, "edited": false, "score": 1, "creation_date": 1507806471, "post_id": 46703069, "comment_id": 80362468, "body": "Thanks, it works now. it doesn&#39;t work though with 64-bit. Many thanks again"}], "tags": [], "owner": {"reputation": 3876, "user_id": 7478455, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VP5WO.jpg?s=128&g=1", "display_name": "Mohammad Kanan", "link": "https://stackoverflow.com/users/7478455/mohammad-kanan"}, "is_accepted": true, "score": 1, "last_activity_date": 1507791028, "last_edit_date": 1507791028, "creation_date": 1507790671, "answer_id": 46703069, "question_id": 46689703, "link": "https://stackoverflow.com/questions/46689703/qt-windows-10-qmysql-driver-not-loaded/46703069#46703069", "title": "Qt: Windows 10: QMYSQL driver not loaded", "body": "<p>Download the 32-bit version of libmysql.dll; check here for details: <a href=\"https://stackoverflow.com/questions/42683438/qt-5-8-sql-connection-errorqmysql-driver-not-loaded-on-windows-10/45394110#45394110\">qt 5.8 sql connection error:QMYSQL driver not loaded on windows 10</a></p>\n"}, {"comments": [{"owner": {"reputation": 204, "user_id": 8398327, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/874175a7aad0c879ef11a95d127f160f?s=128&d=identicon&r=PG&f=1", "display_name": "Don Joe", "link": "https://stackoverflow.com/users/8398327/don-joe"}, "edited": false, "score": 0, "creation_date": 1576670895, "post_id": 52214560, "comment_id": 104973175, "body": "Thank you so much! I&#39;ve been looking for a solution for two days, and now it finally works."}, {"owner": {"reputation": 103, "user_id": 2561947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37736ba9be468f708bb056478f7967e8?s=128&d=identicon&r=PG", "display_name": "Jeruntu", "link": "https://stackoverflow.com/users/2561947/jeruntu"}, "edited": false, "score": 0, "creation_date": 1605282933, "post_id": 52214560, "comment_id": 114611415, "body": "This also worked for me! libmysql.dll has to go to the bin folder of qt installation."}], "tags": [], "owner": {"reputation": 41, "user_id": 9467549, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "mymym", "link": "https://stackoverflow.com/users/9467549/mymym"}, "is_accepted": false, "score": 4, "last_activity_date": 1536292118, "last_edit_date": 1536292118, "creation_date": 1536288172, "answer_id": 52214560, "question_id": 46689703, "link": "https://stackoverflow.com/questions/46689703/qt-windows-10-qmysql-driver-not-loaded/52214560#52214560", "title": "Qt: Windows 10: QMYSQL driver not loaded", "body": "<p>My version is QT 5.11.1.  I met same problem.\nI copied <code>libmysql.dll</code> </p>\n\n<p>from </p>\n\n<blockquote>\n  <p>C:\\Program Files\\MySQL\\MySQL Server 5.7\\lib </p>\n</blockquote>\n\n<p>to </p>\n\n<blockquote>\n  <p>C:\\Qt\\Qt5.11.1\\5.11.1\\mingw53_32\\bin.</p>\n</blockquote>\n\n<p>Finally,I succeeded.</p>\n"}], "owner": {"reputation": 2123, "user_id": 2135363, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/PXld6.jpg?s=128&g=1", "display_name": "McLan", "link": "https://stackoverflow.com/users/2135363/mclan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7754, "favorite_count": 0, "accepted_answer_id": 46703069, "answer_count": 2, "score": 2, "last_activity_date": 1536292118, "creation_date": 1507729122, "last_edit_date": 1592644375, "question_id": 46689703, "link": "https://stackoverflow.com/questions/46689703/qt-windows-10-qmysql-driver-not-loaded", "title": "Qt: Windows 10: QMYSQL driver not loaded", "body": "<p><strong>In Short:</strong> I am trying to link my Qt5.5 to MySQL but it is not working.</p>\n<p><strong>The long story</strong> begins when I tried to use <code>MySQL</code> as in:</p>\n<pre><code>QSqlDatabase theDatabase = QSqlDatabase::addDatabase(&quot;QMYSQL&quot;);\n</code></pre>\n<p>But when I run my application, I get the following messages:</p>\n<blockquote>\n<p>QSqlDatabase: QMYSQL driver not loaded</p>\n<p>QSqlDatabase: available drivers: QSQLITE QMYSQL QMYSQL3 QODBC QODBC3 QPSQL QPSQL7</p>\n</blockquote>\n<p>At this point, I looked online to see how to fix this.</p>\n<p>Then I found on <a href=\"http://doc.qt.io/qt-5/sql-driver.html#qmysql\" rel=\"nofollow noreferrer\">Qt Documentation</a> that I need to build the MySQL plugin. So, I followed the guidance:</p>\n<ol>\n<li>I donwloaded <code>mysql-installer-community-5.7.19.0</code></li>\n<li>I tried to instal MySQL. However, during the installation, there was no <code>Libs &amp; Include Files</code> Module to install !!</li>\n<li>But I continued the installation and run MySQL57 succesfully as a service locally.</li>\n<li>I could not of course build the plugin because there is not <code>sqldrivers</code> folder in my installed files.</li>\n</ol>\n<p>I started looking all over the internet for solution. Then:</p>\n<ol start=\"5\">\n<li>According to this <a href=\"https://www.youtube.com/watch?v=0quVy31AOw4\" rel=\"nofollow noreferrer\">youtube answer</a>, I needed to copy <code>libmysql.dll</code> from <code>C:\\Program Files\\MySQL\\MySQL Server 5.7\\bin</code> to <code>C:\\Qt\\Qt5.5.1\\5.5\\mingw492_32\\bin</code></li>\n</ol>\n<p>I run my application, but again I have the same error !! So:</p>\n<ol start=\"4\">\n<li>I copied the file <code>libmysql.dll</code> from <code>C:\\Program Files\\MySQL\\MySQL Connector.C 6.1\\lib</code> to the same location <code>C:\\Qt\\Qt5.5.1\\5.5\\mingw492_32\\bin</code>,</li>\n</ol>\n<p>However, again I have the same error.</p>\n<p>I am now stuck, don't know what to do.</p>\n<p>P.S.: I have sql in my .pro file in Qt-application</p>\n"}, {"tags": ["c++", "c", "xcode", "parsing"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1507728611, "post_id": 46689501, "comment_id": 80326723, "body": "Welcome to Stack Overflow! Please <b><a href=\"https://stackoverflow.com/posts/46689501/edit\">edit</a></b> your question with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 4, "creation_date": 1507728626, "post_id": 46689501, "comment_id": 80326738, "body": "I can&#39;t parse it too. Seriously, your comment have leaked to the next line"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1507728686, "post_id": 46689501, "comment_id": 80326792, "body": "Is the newline in the comment there in the real code too? How about the space in <code>totalCost t</code>? Is the code you show a copy-paste of the <i>actual</i> code you have?"}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1507728842, "post_id": 46689501, "comment_id": 80326908, "body": "I am pretty sure XCode has a nice syntax highlighting making these errors obvious to spot.."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 2, "creation_date": 1507728915, "post_id": 46689501, "comment_id": 80326953, "body": "<code>totalCost t+=50;</code> I don&#39;t use xcode, but that looks wrong."}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507729153, "post_id": 46689501, "comment_id": 80327131, "body": "My apologies, I copy/pasted my code into my comment on this forum and the formatting is wrong. (The comment isn&#39;t actually included in the code, as it appears in my question) Excluding the comment all together, any suggestions as to why the &#39;if expression&#39; would send a parse error?."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1507729218, "post_id": 46689501, "comment_id": 80327196, "body": "Without the actual code we can&#39;t answer the question. You are using xcode - then copy it right from there."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1507729386, "post_id": 46689501, "comment_id": 80327322, "body": "Then <i>edit your question</i> to include the actual copy-pasted code."}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507729519, "post_id": 46689501, "comment_id": 80327416, "body": "I just modified the code in my question to alleviate the comment confusion/interference."}, {"owner": {"reputation": 16233, "user_id": 4253229, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-e2FAQvlj5CQ/AAAAAAAAAAI/AAAAAAAAAqM/TlSnekirgNE/photo.jpg?sz=128", "display_name": "Eugene Sh.", "link": "https://stackoverflow.com/users/4253229/eugene-sh"}, "edited": false, "score": 0, "creation_date": 1507729563, "post_id": 46689501, "comment_id": 80327445, "body": "Have you read the comments at all?"}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507729983, "post_id": 46689501, "comment_id": 80327802, "body": "I removed the &quot;+&quot; in the totalCost line and also removed the comments line (Please see new code in my original inquiry). I am still getting the error. The highlighting for the syntax is helpful and that is how I know where my error is, but it does not suggest a &quot;fix&quot; for the error. I know it&#39;s a simple mistake, as this is my first programming course and I definitely inexperienced at programming."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1507730459, "post_id": 46689501, "comment_id": 80328172, "body": "you need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What is <code>totalCost</code> if it is not a type then please <a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list\">read a book</a>, if it is it also cannot hurt"}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507731185, "post_id": 46689501, "comment_id": 80328705, "body": "Okay, my question is strictly focused on the line: if (surfaceArea &gt; 750) This line all by itself, without anything else added sends the error mentioned in my inquiry. I have &quot;read a book&quot; and it says to input the if expression just as I have it. I am simply inquiring if Xcode needs something more or different to process an if expression."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1507731381, "post_id": 46689501, "comment_id": 80328852, "body": "FYI, you are declaring a variable in the statement block.  The variable will disappear when execution leaves the statement block."}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507731744, "post_id": 46689501, "comment_id": 80329136, "body": "Thank you, Thomas"}, {"owner": {"reputation": 2445, "user_id": 3476780, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/abf771bddcd864626a0e1499ccfc699b?s=128&d=identicon&r=PG&f=1", "display_name": "yano", "link": "https://stackoverflow.com/users/3476780/yano"}, "edited": false, "score": 0, "creation_date": 1507732287, "post_id": 46689501, "comment_id": 80329542, "body": "There&#39;s nothing wrong with <code>if (surfaceArea &gt; 750)</code> as long as <code>surfaceArea</code> is defined somewhere. Compilers&#39; error reporting isn&#39;t 100% perfect, if it&#39;s complaining about that line, there could be a problem with some lines above or below it. For example, <code>totalCost t=50;</code> looks wrong. Unless you have <code>typedef</code>ed or <code>#define</code>d <code>totalCost</code> to be something else, that doesn&#39;t make sense. If <code>totalCost</code> is a variable that you&#39;re tying to assign to, you need to do <code>totalCost=50;</code> or <code>totalCost+=50;</code>. You haven&#39;t provided an MCVE so it&#39;s tough to tell exactly what the problem is."}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507733486, "post_id": 46689501, "comment_id": 80330359, "body": "Thank you, that is very helpful"}, {"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507735892, "post_id": 46689501, "comment_id": 80332060, "body": "Thank you everyone, my issue has been resolved. I had an unneeded additional brace above my code that was blocking the variable &quot;surfaceArea&quot; and the compiler was not recognizing the variable."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507730548, "post_id": 46689538, "comment_id": 80328251, "body": "Hey, Anton. My apologies for the confusion in regards to my comment lines. I have removed the comment lines to alleviate any confusion this may have caused. With the code as it is now (see original inquiry), any suggestions? I know this has to be an elementary mistake. I am taking my first programming course and am very inexperienced."}, {"owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "reply_to_user": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507730711, "post_id": 46689538, "comment_id": 80328370, "body": "As stated in comments <code>totalCost t+=50;</code> seems to be suspicious as well. What <code>totalCost t</code> should be? If it&#39;s declaration it probably should be made outside the loop, then just <code>t+=50;</code> inside."}], "tags": [], "owner": {"reputation": 7970, "user_id": 4117097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lrdeC.jpg?s=128&g=1", "display_name": "Anton Malyshev", "link": "https://stackoverflow.com/users/4117097/anton-malyshev"}, "is_accepted": false, "score": 1, "last_activity_date": 1507728673, "creation_date": 1507728673, "answer_id": 46689538, "question_id": 46689501, "link": "https://stackoverflow.com/questions/46689501/c-if-statement-xcode/46689538#46689538", "title": "C++ if statement/xcode", "body": "<p>Just remove <code>over 750 sq. inches</code> from your code. And use <code>/* */</code> for multiline comments.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "edited": false, "score": 0, "creation_date": 1507730405, "post_id": 46689732, "comment_id": 80328135, "body": "I do understand and have removed the comment to alleviate the confusion of that. It was a formatting mistake when I copy/pasted the code. I posted too quickly. This is my first post on here. My apologies, but I have edited my original post to reflect my actual code."}], "tags": [], "owner": {"reputation": 586, "user_id": 8418021, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9f2ja.jpg?s=128&g=1", "display_name": "SaravananKS", "link": "https://stackoverflow.com/users/8418021/saravananks"}, "is_accepted": false, "score": 5, "last_activity_date": 1507729202, "creation_date": 1507729202, "answer_id": 46689732, "question_id": 46689501, "link": "https://stackoverflow.com/questions/46689501/c-if-statement-xcode/46689732#46689732", "title": "C++ if statement/xcode", "body": "<pre><code>if (surfaceArea &gt; 750)       //adding 50 dollars to cost if product is \n//over 750 sq. inches\n\n{\n totalCost t+=50;\n}\n</code></pre>\n\n<p>make a comment line // .\nHope you understood.</p>\n\n<p>To write a multi line comment use /* .... */</p>\n"}], "owner": {"reputation": 1, "user_id": 8759244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e290778c817f295e515608da4dcf37f?s=128&d=identicon&r=PG&f=1", "display_name": "Issy", "link": "https://stackoverflow.com/users/8759244/issy"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "closed_date": 1507729257, "answer_count": 2, "score": -6, "last_activity_date": 1507729420, "creation_date": 1507728576, "last_edit_date": 1507729420, "question_id": 46689501, "link": "https://stackoverflow.com/questions/46689501/c-if-statement-xcode", "closed_reason": "Not suitable for this site", "title": "C++ if statement/xcode", "body": "<p>For some reason, my \"if\" expression will not work in Xcode. It gives a \"parse issue\" with the if expression. Any suggestions? The error code is: \"Expected unqualified-id\". I am working with xcode. Please see below:</p>\n\n<pre><code>if (surfaceArea &gt; 750)       \n\n{\ntotalCost t=50;\n}\n</code></pre>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["c++", "com", "abstraction"], "comments": [{"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 3, "creation_date": 1507729100, "post_id": 46689491, "comment_id": 80327096, "body": "CoInitialize(Ex) must be called by the guy who created the thread (that will use COM someday, later on)."}, {"owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "reply_to_user": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1507729182, "post_id": 46689491, "comment_id": 80327153, "body": "That sounds like it eliminates Option A, leaving options B or C."}, {"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 1, "creation_date": 1507729237, "post_id": 46689491, "comment_id": 80327211, "body": "<i>It also requires the consumers of the class to actually read the documentation, which seems dangerous.</i> If they don&#39;t any interface call is going to return <code>CO_E_NOTINITIALIZED</code> and will fail gracefully, leading to them reading the documentation (or, more likely, submitting a bug)"}, {"owner": {"reputation": 116623, "user_id": 403671, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/454HU.jpg?s=128&g=1", "display_name": "Simon Mourier", "link": "https://stackoverflow.com/users/403671/simon-mourier"}, "edited": false, "score": 0, "creation_date": 1507729345, "post_id": 46689491, "comment_id": 80327290, "body": "B is probably going to fail. It means you&#39;ll create a thread from a component (when are you going to exit it? who is going to do that job? don&#39;t think about DllMain)"}, {"owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "edited": false, "score": 0, "creation_date": 1507729624, "post_id": 46689491, "comment_id": 80327503, "body": "The helper class would be a normal C++ class from an outside perspective.  It would use COM pointers in its implementation to access WMI.    Option B would require the helper class spawn a new thread in its constructor (and join the thread in its destructor).  The background thread would initialize COM, and wait for requests from the helper class&#39;s public APIs.  It&#39;s not the prettiest.    Talking through that, and considering that Option C provides a graceful error/exception if the user forgets to initialize COM, makes me think option C is the right answer."}, {"owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "edited": false, "score": 0, "creation_date": 1507730158, "post_id": 46689491, "comment_id": 80327942, "body": "Do you actually care if COM is running in a STA or MTA?"}, {"owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "edited": false, "score": 0, "creation_date": 1507730236, "post_id": 46689491, "comment_id": 80328010, "body": "As far as I know, no.  I believe WMI queries are apartment agnostic.  I only care that COM is initialized."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 3, "creation_date": 1507731309, "post_id": 46689491, "comment_id": 80328791, "body": "The argument passed to CoInitializeEx makes a <i>promise</i>.  You can specify apartment-threaded when the thread will pump a message loop and never will block.  Thus promising that the program is friendly to code that is not thread-safe.  There is only one programmer that knows what the correct promise looks like, the one that wrote the message loop.  Or, perhaps, the one that called that programmer on the telephone to ask why he didn&#39;t call CoInitialzeEx()."}], "answers": [{"tags": [], "owner": {"reputation": 4007, "user_id": 1020484, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/94c933a9303bcc5b6445fc9e310bcf57?s=128&d=identicon&r=PG", "display_name": "lcs", "link": "https://stackoverflow.com/users/1020484/lcs"}, "is_accepted": false, "score": 2, "last_activity_date": 1507730249, "creation_date": 1507730249, "answer_id": 46690117, "question_id": 46689491, "link": "https://stackoverflow.com/questions/46689491/helper-class-has-hidden-com-dependencies-who-calls-coinitialize/46690117#46690117", "title": "Helper class has hidden COM dependencies; who calls CoInitialize?", "body": "<p>Option A with some smarts seems like a good choice. This assumes you don't care what threading model is being used. If you do, you need to explicitly state that the client of the helper shouldn't initialize COM so it can specify the threading model.</p>\n\n<pre><code>class HelperThatRequiresCOM\n{\npublic:\n   HelperThatRequiresCOM() : m_CoUninit(false)\n   {\n      // Attempt to init COM as a STA\n      HRESULT ciResult = CoInitializeEx(nullptr, COINIT_APARTMENTTHREADED);\n      if(ciResult == S_OK || ciResult == S_FALSE)\n        m_CoUninit = true; // COM initialized or already initialized.\n      else if(ciResult == RPC_E_CHANGED_MODE)\n        m_CoUninit = false; // COM initialized as MTA\n   }\n\n   ~HelperThatRequiredCOM()\n    {\n        if(m_CoUninit == true)\n           CoUninitialize();\n    }\n\nprivate:\nbool m_CoUninit;\n\n};\n</code></pre>\n\n<p>This will attempt to initialize COM. If it is already initialized as a <code>STA</code>, or freshly initialized as an <code>STA</code> it will remember that information so that it can call <code>CoUninitalize</code> later. </p>\n\n<p>If COM was already initialized as a <code>MTA</code> it will remember that and NOT <code>CoUninitialize</code> later.</p>\n\n<p>This allows for the calling thread to be free to initialize COM on their own, and if it isn't, you can initialize it yourself.</p>\n"}, {"comments": [{"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 1, "creation_date": 1507733996, "post_id": 46691140, "comment_id": 80330731, "body": "Hmm, RAII is not as nice as it might seem.  RAII isn&#39;t smart enough to know that your code no longer needs to make COM calls.  It will work when the class is created in main(), but you in turn have no guarantee that he did.  Disaster strikes when it is done in an initialize() function.  Reference counting would be the correct approach."}, {"owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1507813999, "post_id": 46691140, "comment_id": 80367507, "body": "Perhaps passing the ApartmentContext by value could be an option, where each &#39;copy&#39; of the context bumps the number of calls to CoInitialize, using the same threading model as the source copy."}], "tags": [], "owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "is_accepted": true, "score": 0, "last_activity_date": 1507735026, "last_edit_date": 1507735026, "creation_date": 1507732873, "answer_id": 46691140, "question_id": 46689491, "link": "https://stackoverflow.com/questions/46689491/helper-class-has-hidden-com-dependencies-who-calls-coinitialize/46691140#46691140", "title": "Helper class has hidden COM dependencies; who calls CoInitialize?", "body": "<p>After some excellent points in the comments section, and after further thinking, I've opted for a new <strong>Option D</strong>:</p>\n\n<ul>\n<li>Create a RAII helper class for initializing COM: <code>class ApartmentContext</code></li>\n<li>Require the <code>ApartmentContext</code> as a constructor argument in the helper class.  This forces the user to make a promise that COM has been initialized, by the very existence of an <code>ApartmentContext</code> instance.</li>\n</ul>\n\n<p>This has a number of benefits:</p>\n\n<ul>\n<li>It gives the consumer the flexibility to specify their own threading model.</li>\n<li>It provides an API which clearly communicates the dependency on COM, and forces the user to provide proof of the apartment.</li>\n<li><strong>Bonus</strong>: the apartment is now RAII-friendly.</li>\n</ul>\n\n<p>Here is the listing for my ApartmentContext class:</p>\n\n<pre><code>// Specifies a single-threaded or multi-threaded COM apartment.\nenum class Apartment\n{\n    MultiThreaded = 0,\n    SingleThreaded = 2\n};\n\n// A helper class used for initializing and uninitializing a COM Apartment.\n// The constructor of the ApartmentContext will initialize COM, using the \n// specified apartment model: single-threaded or multi-threaded.\n// The destructor will automatically uninitialize COM.\nclass ApartmentContext final\n{\npublic:\n    // Initialize COM using the specified apartment mode.\n    ApartmentContext(Apartment mode);\n\n    // Uninitialize COM\n    ~ApartmentContext();\n\n    // Get the current apartment type.\n    Apartment Current() const;\n\nprivate:\n    ApartmentContext&amp; operator=(const ApartmentContext&amp;) = delete;\n    ApartmentContext(const ApartmentContext&amp;) = delete;\n\n    Apartment current_; // Store the current apartment type\n};\n</code></pre>\n\n<p>Users will be forced to create one of these, prior to instantiating the helper class:</p>\n\n<pre><code>// Somewhere in main...\n// Initialize COM:\nApartmentContext context(Apartment::SingleThreaded);\n</code></pre>\n\n<p>The helper class will require the user to provide a context in its constructor:</p>\n\n<pre><code>public class MyHelperClass\n{\npublic:\n    // The apartment context isn't actually used; it is required by the \n    // constructor merely as a way to ensure that COM is initialized \n    // beforehand.\n    // If the class requires a certain apartment mode,\n    // it could also check the mode using the \"Current\" API, \n    // and throw on mismatch\n    MyHelperClass(const ApartmentContext&amp;);\n};\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>// Create the helper class, providing the context as a constructor argument\nMyHelperClass helper(context);\n</code></pre>\n"}], "owner": {"reputation": 7339, "user_id": 741988, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/8724aa47446c1ed0516acd4c1f642bd5?s=128&d=identicon&r=PG", "display_name": "BTownTKD", "link": "https://stackoverflow.com/users/741988/btowntkd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 46691140, "answer_count": 2, "score": 0, "last_activity_date": 1507735026, "creation_date": 1507728541, "last_edit_date": 1507728882, "question_id": 46689491, "link": "https://stackoverflow.com/questions/46689491/helper-class-has-hidden-com-dependencies-who-calls-coinitialize", "title": "Helper class has hidden COM dependencies; who calls CoInitialize?", "body": "<p>I have a helper class which provides some diagnostic APIs to a host application.  The hidden implementation relies on WMI, which is accessed via Windows COM interfaces.</p>\n\n<p>Implementing a class which is \"COM aware\" requires some overhead, in the form of calling <code>CoInitialize/Ex</code>, using an appropriate Apartment model (single-threaded/multi-threaded).  I'm not sure <em>who</em> is responsible for setting that up - my helper class, or the consumer.</p>\n\n<p>So, my question: who is responsible for calling <code>CoInitialize</code> and <code>CoUninitialize</code>: my helper class, or the host application?  Aside from the helper class, there could be zero additional dependencies on COM in the host application.</p>\n\n<p><strong>Option A: the helper class calls <code>CoInitialize</code> and <code>CoUninitialize</code> in the constructor and destructor</strong></p>\n\n<p>This option is convenient, and effectively 'hides' the COM dependency.  However, the parent application might or might not have already initialized COM, and it might or might not match the helper class's assumed apartment model.  If the models do not line up, the helper class will receive an error from <code>CoInitialize</code>.</p>\n\n<p><strong>Option B: the helper class spawns a separate thread, and calls <code>CoInitialize</code> with a single-threaded apartment on the background thread.  All interface calls are dispatched to the background thread and back.</strong></p>\n\n<p>This could help ensure the helper class has a 'clean slate' to work with, and avoid duplicate COM initializations on any single thread.  It also increases the complexity of my helper class implementation, and adds overhead in the form of thread-switching and hand-shaking.</p>\n\n<p><strong>Option C: Make a note in the documentation, and require the host application to handle all calls to <code>CoInitialize</code> and <code>CoUninitialize</code>, before using the helper class</strong></p>\n\n<p>This one makes the class slightly less 'convenient' to use, because users have additional initialization steps before they can consume the class. It also requires the consumers of the class to <em>actually read</em> the documentation, which seems dangerous.</p>\n"}, {"tags": ["c++", "c++11", "templates"], "comments": [{"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507729704, "post_id": 46689489, "comment_id": 80327570, "body": "Not sure I get it, but can&#39;t you pass a class in which you have a template&lt;...&gt; using type = ...; instead of passing a template?"}, {"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "reply_to_user": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1507730658, "post_id": 46689489, "comment_id": 80328326, "body": "@lorro I think I see what you&#39;re getting at, I have to think that through... (BTW What&#39;s unclear about the question? Maybe I can rephrase it.) EDIT: Yeah, I think that should work! Make it a proper answer and I&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507734163, "post_id": 46690979, "comment_id": 80330848, "body": "Can you be more specific how forward declaring BarFooT helps? (Or am I missing something here?)"}], "tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 0, "last_activity_date": 1507732424, "creation_date": 1507732424, "answer_id": 46690979, "question_id": 46689489, "link": "https://stackoverflow.com/questions/46689489/passing-alias-template-to-base-class-of-a-template-it-depends-on/46690979#46690979", "title": "Passing alias template to base class of a template it depends on", "body": "<p>Instead of:</p>\n\n<pre><code>template&lt;template&lt;class T&gt; class SomeFoo&gt;\nclass Base {};\n</code></pre>\n\n<p>You might want:</p>\n\n<pre><code>template&lt;class SomeFooT&gt;\nclass Base {};\n</code></pre>\n\n<p>And use <code>SomeFooT::type&lt;T&gt;</code> as a template:</p>\n\n<pre><code>struct BarFooT {\n    template&lt;typename T&gt;\n    using type = ...;\n};\n</code></pre>\n\n<p>Then you can predeclare <code>struct BarFooT;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "edited": false, "score": 0, "creation_date": 1507749558, "post_id": 46692081, "comment_id": 80339628, "body": "This solves it very nicely! It&#39;s even cleaner than passing the template template parameter inside helper class as it doesn&#39;t pollute the base class. You could make it even shorter by having the UsingHelper take Bar directly as a template paramter and thus get rid of the forward declaration."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 2, "last_activity_date": 1507735439, "creation_date": 1507735439, "answer_id": 46692081, "question_id": 46689489, "link": "https://stackoverflow.com/questions/46689489/passing-alias-template-to-base-class-of-a-template-it-depends-on/46692081#46692081", "title": "Passing alias template to base class of a template it depends on", "body": "<p>If I understand correctly what you want, you need an helper, and using a not obvious syntax:</p>\n\n<pre><code>template&lt;template&lt;class&gt; class&gt;\nclass Base {};\n\ntemplate&lt;class, class&gt;\nclass Foo {};\n\ntemplate &lt;typename&gt; class Bar;\n\ntemplate &lt;typename S&gt; struct UsingHelper {\n    template &lt;typename T&gt;\n    using BarFoo = Foo&lt;T, Bar&lt;S&gt;&gt;;\n};\n\ntemplate &lt;typename S&gt;\nclass Bar : public Base&lt;UsingHelper&lt;S&gt;::template BarFoo&gt; {};\n</code></pre>\n\n<p><code>template</code> is needed in <code>UsingHelper&lt;S&gt;::template BarFoo</code> as it is a dependent context, and it would be \"interpreted\" as value instead without. (it is similar to <code>typename my_class&lt;T&gt;::type</code>, but <code>BarFoo</code> is a template, not a type.)</p>\n"}], "owner": {"reputation": 818, "user_id": 8736713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886e531b2c204538cc46e6d32e37a211?s=128&d=identicon&r=PG&f=1", "display_name": "Knoep", "link": "https://stackoverflow.com/users/8736713/knoep"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 46692081, "answer_count": 2, "score": 2, "last_activity_date": 1507735439, "creation_date": 1507728538, "question_id": 46689489, "link": "https://stackoverflow.com/questions/46689489/passing-alias-template-to-base-class-of-a-template-it-depends-on", "title": "Passing alias template to base class of a template it depends on", "body": "<p>Consider the following code, that defines an alias template to be passed as an template template parameter:</p>\n\n<pre><code>template&lt;template&lt;class T&gt; class SomeFoo&gt;\nclass Base {};\n\ntemplate&lt;class T, class Bar&gt;\nclass Foo {};\n\nclass Bar;\n\ntemplate&lt;class T&gt;\nusing BarFoo = Foo&lt;T, Bar&gt;;\n\nclass Bar : public Base&lt;BarFoo&gt; {};\n</code></pre>\n\n<p>This works as expected. However, if <code>Bar</code> itself is a template, this solution is not possible, as the alias template depends on the concrete instantiation of <code>Bar</code>. Defining the alias template inside of <code>Bar</code> doesn't help either, as it is not yet available when the base class is given. As it seems not to be possible to define the alias template \"on the fly\" in the parameter list, the only work around I could come up with is to pass <code>Bar</code> to <code>Base</code> and define the alias template there:</p>\n\n<pre><code>template&lt;template&lt;class T, class Derived&gt; class SomeFooTL, class Derived&gt;\nclass Base\n{\n    template&lt;class T&gt;\n    using SomeFoo = SomeFooTL&lt;T, Derived&gt;;\n};\n\ntemplate&lt;class T, class Bar&gt;\nclass Foo {};\n\ntemplate&lt;class S&gt;\nclass Bar : public Base&lt;Foo, Bar&lt;S&gt;&gt; {};\n</code></pre>\n\n<p>This is, however, very unsatisfying, as there could be (and are) other <code>Foo</code>'s that do not depend on anything but <code>T</code> and now are forced to take an unnecessary second template parameter.</p>\n\n<p>Does anyone know a better way to achieve this?</p>\n"}]