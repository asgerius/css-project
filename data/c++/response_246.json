[{"tags": ["c++"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1569455746, "post_id": 58107856, "comment_id": 102606128, "body": "None whatsoever"}, {"owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "edited": false, "score": 0, "creation_date": 1569455940, "post_id": 58107856, "comment_id": 102606165, "body": "How would you use them anyway? (Note that generally speaking it&#39;s bad practice to repurpose parameters anyway)."}, {"owner": {"reputation": 14821, "user_id": 5743288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea16526477fd6f1d4cc57f976af38d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sanders", "link": "https://stackoverflow.com/users/5743288/paul-sanders"}, "edited": false, "score": 0, "creation_date": 1569457264, "post_id": 58107856, "comment_id": 102606406, "body": "Depending on the compiler and compilation flags, you will get a warning if you declare them but don&#39;t use them.  That&#39;s the only difference."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 0, "creation_date": 1569459760, "post_id": 58107856, "comment_id": 102606830, "body": "See also: <a href=\"http://stackoverflow.com/questions/204476/\">What should main() return in C and C++?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 5915412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/igBDw.jpg?s=128&g=1", "display_name": "Mori Bellamy", "link": "https://stackoverflow.com/users/5915412/mori-bellamy"}, "is_accepted": true, "score": 2, "last_activity_date": 1569459003, "last_edit_date": 1569459003, "creation_date": 1569456080, "answer_id": 58107914, "question_id": 58107856, "link": "https://stackoverflow.com/questions/58107856/should-argc-and-argv-be-used-if-no-arguments-are-needed/58107914#58107914", "title": "Should argc and argv be used if no arguments are needed?", "body": "<p>The standard (at least for c++17) appears to be neutral on this topic: <a href=\"http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4713.pdf\" rel=\"nofollow noreferrer\">http://www.open-std.org/jtc1/sc22/wg21/docs/papers/2017/n4713.pdf</a>. It just says C++ compilers \"shall allow both\" <code>int main()</code> and <code>int main(int, char**)</code></p>\n\n<p>So any answer you get will be an opinion :).</p>\n\n<p>For my money, I would leave them out until you need them. Another author glancing at your method signature will know immediately that the method takes no parameters.</p>\n\n<p>EDIT: To your performance question: a compiler is free to implement the specification in any way. I can't imagine a compiler having a performance penalty for the usage you specify (unused params). To be certain, you can disassemble the output of the compiler you are using. Or you could even compare them with diff, they might be identical byte-for-byte. </p>\n"}], "owner": {"reputation": 49, "user_id": 10603881, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aoZ7aIbj2zs/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDzad8AjVrJqsEEVnc0AjrTc2gDmw/mo/photo.jpg?sz=128", "display_name": "Luke Harvey", "link": "https://stackoverflow.com/users/10603881/luke-harvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 58107914, "answer_count": 1, "score": 1, "last_activity_date": 1569459003, "creation_date": 1569455367, "question_id": 58107856, "link": "https://stackoverflow.com/questions/58107856/should-argc-and-argv-be-used-if-no-arguments-are-needed", "title": "Should argc and argv be used if no arguments are needed?", "body": "<p>Is there any disadvantage to using argc and argv when no arguments are needed for a program? Would the program have worse performance than without these being defined, or are argc and argv already <em>implicitly defined</em>? Essentially, I understand these don't have to be included in a main function if arguments aren't necessary, but is there any disadvantage to including them and not using them?</p>\n"}, {"tags": ["c++", "cmake", "clion"], "comments": [{"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1569455750, "post_id": 58107854, "comment_id": 102606129, "body": "Do the files its asking for exist on your system?"}, {"owner": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1569455836, "post_id": 58107854, "comment_id": 102606141, "body": "<b><i>I&#39;m sure I&#39;m just linking incorrectly</i></b> No that part is correct. find_package is what is failing."}, {"owner": {"reputation": 47, "user_id": 11564416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f01d96ef30b21cc1f65b5a7fb0cda80?s=128&d=identicon&r=PG&f=1", "display_name": "pattmax", "link": "https://stackoverflow.com/users/11564416/pattmax"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1569455929, "post_id": 58107854, "comment_id": 102606162, "body": "I installed SDL2_ttf with: sudo apt-get install libsdl2-ttf-dev"}, {"owner": {"reputation": 47, "user_id": 11564416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f01d96ef30b21cc1f65b5a7fb0cda80?s=128&d=identicon&r=PG&f=1", "display_name": "pattmax", "link": "https://stackoverflow.com/users/11564416/pattmax"}, "reply_to_user": {"reputation": 8811, "user_id": 487892, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Leb5B.jpg?s=128&g=1", "display_name": "drescherjm", "link": "https://stackoverflow.com/users/487892/drescherjm"}, "edited": false, "score": 0, "creation_date": 1569456053, "post_id": 58107854, "comment_id": 102606189, "body": "It stops throwing the error if I drop the 2 from SDL2_ttf. But then none of the TTF functions work."}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 2, "creation_date": 1569456712, "post_id": 58107854, "comment_id": 102606317, "body": "<code>find_package(XXX)</code> works only if one have <code>FindXXX.cmake</code> script or <code>XXXConfig.cmake</code> (<code>xxx-config.cmake</code>) one. There is <code>&#47;usr&#47;lib&#47;x86_64-linux-gnu&#47;cmake&#47;SDL2&#47;sdl2-config.cmake</code> script, so <code>find_package(SDL2)</code> works. But for <code>SDL2_ttf</code> there is no such script, so you cannot use <code>find_package()</code> to find it. Instead, it has <code>&#47;usr&#47;lib&#47;x86_64-linux-gnu&#47;pkgconfig&#47;SDL2_ttf.pc</code> script, so it is possible to find it with <code>pkg-config</code>. See <a href=\"https://stackoverflow.com/questions/29191855/what-is-the-proper-way-to-use-pkg-config-from-cmake\">that question</a> about using it in CMake."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 12584660, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAbjcDk2qpSKjgxZVR8pCXXX9ppTCbM9MTrJHwp=k-s128", "display_name": "Fabiano Traple", "link": "https://stackoverflow.com/users/12584660/fabiano-traple"}, "is_accepted": false, "score": 2, "last_activity_date": 1591880890, "last_edit_date": 1591880890, "creation_date": 1590883273, "answer_id": 62110067, "question_id": 58107854, "link": "https://stackoverflow.com/questions/58107854/cmake-is-unable-to-find-sdl2-ttf-im-trying-to-link-it-the-same-way-i-would-wit/62110067#62110067", "title": "CMake is unable to find SDL2_ttf, I&#39;m trying to link it the same way I would with SDL2 and both are properly installed on Ubuntu 18.04", "body": "<p>This works pretty well for me, Ubuntu 18.04.</p>\n\n<pre><code>INCLUDE(FindPkgConfig)\nPKG_SEARCH_MODULE(SDL2 REQUIRED sdl2)\nPKG_SEARCH_MODULE(SDL2IMAGE REQUIRED SDL2_image&gt;=2.0.0)\nPKG_SEARCH_MODULE(SDL2TTF REQUIRED SDL2_ttf&gt;=2.0.0)\n\nset(CMAKE_CXX_STANDARD 17)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\n\nset(SOURCE_FILES main.cpp)\n\nadd_executable(${PROJECT_NAME} ${SOURCE_FILES})\n\ntarget_include_directories(${PROJECT_NAME} PRIVATE\n    include ${SDL2_INCLUDE_DIRS} ${SDL2IMAGE_INCLUDE_DIRS} ${SDL2TTF_INCLUDE_DIRS})\n\ntarget_link_libraries(${PROJECT_NAME} PRIVATE\n    ${SDL2_LIBRARIES} ${SDL2IMAGE_LIBRARIES} ${SDL2TTF_LIBRARIES})\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11564416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f01d96ef30b21cc1f65b5a7fb0cda80?s=128&d=identicon&r=PG&f=1", "display_name": "pattmax", "link": "https://stackoverflow.com/users/11564416/pattmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1591880890, "creation_date": 1569455362, "question_id": 58107854, "link": "https://stackoverflow.com/questions/58107854/cmake-is-unable-to-find-sdl2-ttf-im-trying-to-link-it-the-same-way-i-would-wit", "title": "CMake is unable to find SDL2_ttf, I&#39;m trying to link it the same way I would with SDL2 and both are properly installed on Ubuntu 18.04", "body": "<p>I get the error:</p>\n\n<pre><code>CMake Error at CMakeLists.txt:11 (find_package):\n  By not providing \"FindSDL2_ttf.cmake\" in CMAKE_MODULE_PATH this project has\n  asked CMake to find a package configuration file provided by \"SDL2_ttf\",\n  but CMake did not find one.\n\n  Could not find a package configuration file provided by \"SDL2_ttf\" with any\n  of the following names:\n\n    SDL2_ttfConfig.cmake\n    sdl2_ttf-config.cmake\n\n  Add the installation prefix of \"SDL2_ttf\" to CMAKE_PREFIX_PATH or set\n  \"SDL2_ttf_DIR\" to a directory containing one of the above files.  If\n  \"SDL2_ttf\" provides a separate development package or SDK, be sure it has\n  been installed.\n</code></pre>\n\n<hr>\n\n<h2>Here is what my cmake file looks like:</h2>\n\n<pre><code>cmake_minimum_required(VERSION 3.14)\nproject(Smithereens)\n\nset(CMAKE_CXX_STANDARD 17)\n\nadd_executable(Smithereens main.cpp)\n\nfind_package(SDL2 REQUIRED)\ninclude_directories(${SDL2_INCLUDE_DIRS})\n\nfind_package(SDL2_ttf REQUIRED)\ninclude_directories(${SDL2_ttf_INCLUDE_DIRS})\n\ntarget_link_libraries(Smithereens ${SDL2_LIBRARIES} ${SDL2_ttf_LIBRARIES})\n</code></pre>\n\n<p>Both SDL2 and SDL2_ttf are installed on my machine, I'm sure I'm just linking incorrectly, learning CMake has been a huge headache for me.</p>\n"}, {"tags": ["c++", "inheritance", "initializer-list"], "answers": [{"tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 2, "last_activity_date": 1569455433, "creation_date": 1569455433, "answer_id": 58107858, "question_id": 58107787, "link": "https://stackoverflow.com/questions/58107787/cannot-combine-initializer-list-with-inheritance/58107858#58107858", "title": "Cannot combine initializer list with inheritance", "body": "<p>You are not using the constructor's initializer list in <code>setIdentity()</code>, that is why your code is failing.</p>\n\n<p><code>Vec4f</code> does not implement an <code>operator()</code> (the <a href=\"https://en.cppreference.com/w/cpp/language/operator_other#Built-in_function_call_operator\" rel=\"nofollow noreferrer\">function call operator</a>), so statements like</p>\n\n<p><code>row1 (1.0f,0.0f,0.0f,0.0f);</code></p>\n\n<p>inside of <code>setIdentity()</code> don't work, and besides they don't do what you think they do anyway.</p>\n\n<p>You likely meant to construct new <code>Vec4f</code> instances and assign them to the existing variables, eg:</p>\n\n<pre><code>void Matrix4x4::setIdentity () {\n  row1 = Vec4f(1.0f,0.0f,0.0f,0.0f);\n  row2 = Vec4f(0.0f,1.0f,0.0f,0.0f);\n  row3 = Vec4f(0.0f,0.0f,1.0f,0.0f);\n  row4 = Vec4f(0.0f,0.0f,0.0f,1.0f);\n}\n</code></pre>\n"}], "owner": {"reputation": 310, "user_id": 2752471, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/db0f898d45f128b4f8f755eeb6494bae?s=128&d=identicon&r=PG&f=1", "display_name": "user2752471", "link": "https://stackoverflow.com/users/2752471/user2752471"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569455433, "creation_date": 1569454647, "question_id": 58107787, "link": "https://stackoverflow.com/questions/58107787/cannot-combine-initializer-list-with-inheritance", "title": "Cannot combine initializer list with inheritance", "body": "<p>I have some code where I would like a class instance to be able to initialize a variable in its initializer while also calling in its initializer list the parent class constructor. This parent class constructor would initialize three extra variables in its own constructor's initializer list.</p>\n\n<p>Here some code that uses these constructor on a different class:</p>\n\n<pre><code>class Vec3f {\npublic:\n  inline Vec3f () : x (0), y (0), z (0) {}\n  inline Vec3f (float xx, float yy, float zz) : x (xx), y (yy), z (zz)  { }\nprivate:\n  float x,y,z;\n};\n\nclass Vec4f : Vec3f {\n   public:\n      inline Vec4f (): Vec3f(), w(0) {}\n      inline Vec4f (float a,float b,float c,float d): Vec3f (a,b,c), w(d) {}\nprivate:\n    float w;\n};\n\nclass Matrix4x4 {\n   public:\n      void setIdentity ();\n    private:\n      Vec4f row1, row2, row3, row4;\n};\n\nvoid Matrix4x4::setIdentity () {\n  row1 (1.0f,0.0f,0.0f,0.0f);\n  row2 (0.0f,1.0f,0.0f,0.0f);\n  row3 (0.0f,0.0f,1.0f,0.0f);\n  row4 (0.0f,0.0f,0.0f,1.0f);\n}\n\n\nmain () {\n   Matrix4x4 a;\n   a.setIdentity ();\n}\n</code></pre>\n\n<p>When I run the above code, I receive:</p>\n\n<pre><code>test.cpp: In member function \u2018void    Matrix4x4::setIdentity()\u2019:\ntest.cpp:26: error: no match for call to \u2018(Vec4f) (float, float, float, float)\u2019\ntest.cpp:27: error: no match for call to \u2018(Vec4f) (float, float, float, float)\u2019\ntest.cpp:28: error: no match for call to \u2018(Vec4f) (float, float, float, float)\u2019\ntest.cpp:29: error: no match for call to \u2018(Vec4f) (float, float, float, float)\u2019\n</code></pre>\n\n<p>In another message board someone suggested this:</p>\n\n<pre><code>class Vec3f {\npublic:\n  inline Vec3f () : x (0), y (0), z (0) {}\n  inline Vec3f (float xx, float yy, float zz) : x (xx), y (yy), z (zz)  { }\n  inline void Set3f (float xx, float yy, float zz) {\n    x = (xx);\n    y = (yy);\n    z = (zz);\n  }\nprivate:\n  float x,y,z;\n};\n\nclass Vec4f : Vec3f\n{\n   public:\n     inline Vec4f (): Vec3f(), w(0) {}\n     inline Vec4f (float a,float b,float c,float d): Vec3f (a,b,c), w(d) {}\n     inline void Set4f (float a,float b,float c,float d) {\n     Set3f(a,b,c);\n     w = d;\n     }\n   private:\n     float w;\n};\n\nclass Matrix4x4 {\n  public:\n    void setIdentity ();\n    Matrix4x4() :\n      row1 (1.0f,0.0f,0.0f,0.0f),\n      row2 (0.0f,1.0f,0.0f,0.0f),\n      row3 (0.0f,0.0f,1.0f,0.0f),\n      row4 (0.0f,0.0f,0.0f,1.0f)\n   {}\n  private:\n     Vec4f row1, row2, row3, row4;\n};\n\nvoid Matrix4x4::setIdentity () {\n  row1.Set4f(1.0f,0.0f,0.0f,0.0f);\n  row2.Set4f(0.0f,1.0f,0.0f,0.0f);\n  row3.Set4f(0.0f,0.0f,1.0f,0.0f);\n  row4.Set4f(0.0f,0.0f,0.0f,1.0f);\n}\n\n\nint main () {\n  Matrix4x4 a;\n  a.setIdentity ();\n}\n</code></pre>\n\n<p>However, this seems a hack for me. Don't want to call two setter method. Better to just do what I need in a normal constructor, less code. So I ask: Why c++ does not allow the constructor initializer list to work the way I want?</p>\n"}, {"tags": ["c++", "linked-list", "doubly-linked-list", "xor-linkedlist"], "comments": [{"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569455195, "post_id": 58107720, "comment_id": 102606043, "body": "Have you tried walking through your code? ChecK that the values you store in <code>ptr</code> are the values you think go there? This seems like something that should be easier to debug on your own than to take the time to write a question about."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569455809, "post_id": 58107720, "comment_id": 102606138, "body": "You&#39;ve tried to keep it a bit too simple, I&#39;m afraid, and pay for it at <code>ptr = zor(ptr, ptr-&gt;npx);</code> Remember the head node&#39;s link was set with <code>NULL, a</code>, not <code>head, a</code>. <a href=\"https://stackoverflow.com/a/51601301/4581301\">Here&#39;s how I explained one of these antique brain-twisters last time.</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8616801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72a811ada5b6604093589bc3d35d295f?s=128&d=identicon&r=PG&f=1", "display_name": "19point9", "link": "https://stackoverflow.com/users/8616801/19point9"}, "edited": false, "score": 0, "creation_date": 1569506582, "post_id": 58107969, "comment_id": 102626011, "body": "I see now why the error came in the first place. Thank you!"}], "tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 0, "last_activity_date": 1569456670, "last_edit_date": 1592644375, "creation_date": 1569456670, "answer_id": 58107969, "question_id": 58107720, "link": "https://stackoverflow.com/questions/58107720/segmentation-fault-on-xor-linked-lists-implementation/58107969#58107969", "title": "Segmentation fault on XOR linked lists implementation", "body": "<h1>What went wrong</h1>\n<p>The links were built correctly combining the previous pointer with the next pointer.</p>\n<pre><code>link = previous ^ next\n</code></pre>\n<p>Unfortunately when the next pointer is recovered later</p>\n<pre><code>ptr = zor(ptr, ptr-&gt;npx);\n</code></pre>\n<p>tries to reconstruct next with</p>\n<pre><code>next = current ^ link\n</code></pre>\n<p>instead of</p>\n<pre><code>next = previous ^ link\n</code></pre>\n<p>resulting in a corrupted next. This means you need a bit more book keeping to keep track of that previous node.</p>\n<h1>Possible solution</h1>\n<pre><code>n* current = head; // changed name to make code match description\nn* previous = NULL; // no previous at the head\nwhile (current != NULL) {\n    cout &lt;&lt; current-&gt;data;\n    n* next = zor(previous, current-&gt;npx); // need a temp so we can update previous\n    previous = current; // current becomes the next's previous\n    current = next; // advance current to next\n}\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8616801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72a811ada5b6604093589bc3d35d295f?s=128&d=identicon&r=PG&f=1", "display_name": "19point9", "link": "https://stackoverflow.com/users/8616801/19point9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58107969, "answer_count": 1, "score": 0, "last_activity_date": 1569456670, "creation_date": 1569453874, "question_id": 58107720, "link": "https://stackoverflow.com/questions/58107720/segmentation-fault-on-xor-linked-lists-implementation", "title": "Segmentation fault on XOR linked lists implementation", "body": "<p>The code's pretty simple and maybe I'm missing something obvious that's causing the segmentation fault. At a glance, the doubly XOR linked lists implementation code (intends to) create three nodes, and traverse them in a left to right fashion.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\ntypedef struct node { int data = 0; struct node* npx = NULL; }n;\n\nn *zor(n *a, n *b) {\n    return (n*)((uintptr_t) a ^ (uintptr_t) b);\n}\n\nint main() {\n\n    n *head, *a, *b;\n\n    head = new n;\n    a = new n;\n    b = new n;\n\n    head-&gt;npx = zor(NULL, a);\n    a-&gt;npx = zor(head, b);\n    b-&gt;npx = zor(a, NULL);\n\n    n* ptr = head;\n    while (ptr != NULL) {\n        cout &lt;&lt; ptr-&gt;data;\n        ptr = zor(ptr, ptr-&gt;npx);\n    }\n}\n</code></pre>\n\n<p>I expect the output to be \"000\" after traversing all the nodes in the list.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1569454322, "post_id": 58107682, "comment_id": 102605910, "body": "<code>pow(2, pow2);</code> -- <a href=\"https://stackoverflow.com/questions/25678481/why-does-pown-2-return-24-when-n-5-with-my-compiler-and-os/25678721#25678721\">Do not use <code>pow</code> for integer powers</a>"}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569454908, "post_id": 58107682, "comment_id": 102606003, "body": "What makes you think your idea might be way off? <i>(Hint: you should include your actual and expected results so that people know what they are looking for.)</i> <i>(Hint2: Being able to explain what your code does is a good first step towards <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debugging it</a>. Go ahead and try writing it out, maybe narrow down where your problem lies.)</i>"}], "answers": [{"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": true, "score": 1, "last_activity_date": 1569454294, "creation_date": 1569454294, "answer_id": 58107761, "question_id": 58107682, "link": "https://stackoverflow.com/questions/58107682/how-to-convert-binary-to-decimal-in-a-very-simple-way/58107761#58107761", "title": "How to convert binary to decimal? (In a very simple way)", "body": "<p>Your computer is a logical beast. Your computer executes your program, one line at a time. From start to finish. So, let's take a trip, together, with your computer, and see what it ends up doing, starting at the very beginning of your <code>main</code>:</p>\n\n<pre><code>string binary;\n</code></pre>\n\n<p>Your computer begins by creating a new <code>std::string</code> object. Which is, of course, empty. There's nothing in it.</p>\n\n<pre><code>int pow2 = binary.length() - 1;\n</code></pre>\n\n<p>This is the very second thing that your computer does.</p>\n\n<p>And because we've just discovered that <code>binary</code> is empty, <code>binary.length()</code> is obviously 0, so this sets <code>pow2</code> to -1. When you take 0, and subtract 1 from it, that's what you get.</p>\n\n<pre><code>int length = binary.length();\n</code></pre>\n\n<p>Since <code>binary</code> is still empty, its length() is still 0, and this simply creates a new variable called <code>length</code>, whose value is 0.</p>\n\n<pre><code>int index = 0;\nint decimal = 0;\n</code></pre>\n\n<p>This creates a bunch more variables, and sets them to 0. That's the next thing your computer does.</p>\n\n<pre><code>cout &lt;&lt; \"Enter a binary number \";\ncin &gt;&gt; binary; cout &lt;&lt; endl;\n</code></pre>\n\n<p>Here you print some stuff, and read some stuff.</p>\n\n<pre><code>while(index &lt; length)\n</code></pre>\n\n<p>Now, we get into the thick of things. So, let's see what your computer did, before you got to this point. It set <code>index</code> to 0, and <code>length</code> to 0 also. So, both of these variables are 0, and, therefore, this condition is false, 0 is not less than 0. So nothing inside the <code>while</code> loop ever executes. We can skip to the end of your program, after the <code>while</code> loop.</p>\n\n<pre><code>cout &lt;&lt; binary &lt;&lt; \" converted to decimal is \" &lt;&lt; decimal;\n</code></pre>\n\n<p>And that's how you your computer always gives you the wrong result. Your actual question was:</p>\n\n<blockquote>\n  <p>sure if my idea was way off or if I'm just missing something. </p>\n</blockquote>\n\n<p>Well, there also other problems with your idea, too. It was slightly off. For starters, nothing here really requires the use of the <code>pow</code> function. Using <code>pow</code> is like try to kill a fly with a hammer. What <code>pow</code> does is: it converts integer values to floating point, computes the natural logarithm of the first number, multiplies it by the second number, and then raises <em>e</em> to this power, and then your code (which never runs) finally converts the result from floating point to integer, rounding things off. <strong>Nothing</strong> of this sort is ever needed in order to simply convert binary to decimal. This never requires employing the services of natural logarithms. This is not what <code>pow</code> is for.</p>\n\n<p>This task can be easily accomplished with just multiplication and addition. For example, if you already have the number 3, and your next digit is 7, you end up with 37 by multiplying 3 by 10 and then adding 7. You do the same exact thing with binary, base 2, with the only difference being that you multiply your number by 2, instead of 10.</p>\n\n<p>But what you're really missing the most, is the <strong>Golden Rule Of Computer Programming</strong>:</p>\n\n<p><em>A computer always does exactly what you tell it to do, instead of what you want it to do.</em></p>\n\n<p>You need to tell your computer exactly what your computer needs to do. One step at a time. And in the right order. Telling your computer to compute the length of the string before it's even read from <code>std::cin</code> does not accomplish anything useful. It does not automatically recompute its length, after it's actually read. Therefore, if you need to compute the length of an entered string, you computer it <strong><em>after</em></strong> it's been read in, not before. And so on.</p>\n"}], "owner": {"reputation": 1, "user_id": 12121955, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4251459181bb681144f807d8d02831?s=128&d=identicon&r=PG&f=1", "display_name": "madi", "link": "https://stackoverflow.com/users/12121955/madi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 58107761, "answer_count": 1, "score": 0, "last_activity_date": 1569457873, "creation_date": 1569453410, "last_edit_date": 1569457873, "question_id": 58107682, "link": "https://stackoverflow.com/questions/58107682/how-to-convert-binary-to-decimal-in-a-very-simple-way", "title": "How to convert binary to decimal? (In a very simple way)", "body": "<p>I need to write a program that converts binary numbers to decimal.</p>\n\n<p>I'm very new to C++ so I've tried looking at other people's examples but they are way too advanced for me.. I thought I had a clever idea on how to do it but I'm not sure if my idea was way off or if I'm just missing something.</p>\n\n<pre><code>int main(void)\n{\n    //variables\n    string binary;\n    int pow2 = binary.length() - 1;\n    int length = binary.length();\n    int index = 0;\n    int decimal = 0;\n\n    cout &lt;&lt; \"Enter a binary number \";\n    cin &gt;&gt; binary; cout &lt;&lt; endl;\n\n    while(index &lt; length)\n    {\n      if (binary.substr(index, 1) == \"1\")\n      {\n        decimal = decimal + pow(2, pow2);\n      }\n\n      index++;\n      pow2--;\n    }\n\n    cout &lt;&lt; binary &lt;&lt; \" converted to decimal is \" &lt;&lt; decimal;\n}\n</code></pre>\n"}, {"tags": ["c++", "cplex", "gurobi"], "comments": [{"owner": {"reputation": 4187, "user_id": 1718477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iisrz.jpg?s=128&g=1", "display_name": "rkersh", "link": "https://stackoverflow.com/users/1718477/rkersh"}, "edited": false, "score": 0, "creation_date": 1569511324, "post_id": 58107655, "comment_id": 102628866, "body": "Please show us what you&#39;ve tried so far and where you&#39;re having trouble. It seems a bit unreasonable to expect someone to implement the whole thing for you. If you really haven&#39;t done anything yet, then take a look at all of the CPLEX examples (<code>ilomipex1.cpp</code>, <code>ilodiet.cpp</code>, etc.), the <a href=\"https://www.ibm.com/support/knowledgecenter/SSSA5P_12.9.0/ilog.odms.cplex.help/refcppcplex/html/classes/IloCplex.html\" rel=\"nofollow noreferrer\">reference manual</a>, and the <a href=\"https://www.ibm.com/support/knowledgecenter/SSSA5P_12.9.0/ilog.odms.cplex.help/CPLEX/UsrMan/topics/APIs/Cpp/cpp_synopsis.html\" rel=\"nofollow noreferrer\">user&#39;s manual</a>."}, {"owner": {"reputation": 429, "user_id": 7618425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4f0778a64ec6b2010d417f79ae0ed1?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/7618425/connor"}, "reply_to_user": {"reputation": 4187, "user_id": 1718477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iisrz.jpg?s=128&g=1", "display_name": "rkersh", "link": "https://stackoverflow.com/users/1718477/rkersh"}, "edited": false, "score": 0, "creation_date": 1569516728, "post_id": 58107655, "comment_id": 102631469, "body": "I&#39;ve updated my code to explain the parts where I am having difficulty. I couldn&#39;t find what I was looking for in the examples provided. Any help you can provide would be great!"}], "answers": [{"tags": [], "owner": {"reputation": 4187, "user_id": 1718477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iisrz.jpg?s=128&g=1", "display_name": "rkersh", "link": "https://stackoverflow.com/users/1718477/rkersh"}, "is_accepted": true, "score": 3, "last_activity_date": 1569534806, "last_edit_date": 1569534806, "creation_date": 1569530817, "answer_id": 58124553, "question_id": 58107655, "link": "https://stackoverflow.com/questions/58107655/specify-the-sense-of-a-constraint-in-cplex/58124553#58124553", "title": "Specify the sense of a constraint in CPLEX", "body": "<p>For your <code>addConstr</code> method you will have to use a switch statement (unfortunately, as you were hoping to avoid). With the CPLEX C++ API, constraints are built using the overloaded <code>&lt;=</code>, <code>==</code>, and <code>&gt;=</code> operators or with one of the <a href=\"https://www.ibm.com/support/knowledgecenter/SSSA5P_12.9.0/ilog.odms.cplex.help/refcppcplex/html/classes/IloRange.html\" rel=\"nofollow noreferrer\">IloRange</a> constructors. For example:</p>\n\n<pre><code>   IloRange constraint;\n   switch (sense) {\n   case 'L':\n      constraint = (expr &lt;= rhs);\n      // Equivalent to:\n      // constraint = IloRange(env, 0.0, expr, rhs);\n      break;\n   case 'G':\n      constraint = (expr &gt;= rhs);\n      // Equivalent to:\n      // constraint = IloRange(env, rhs, expr, IloInfinity);\n      break;\n   case 'E':\n      constraint = (expr == rhs);\n      // Equivalent to:\n      // constraint = IloRange(env, rhs, expr, rhs);\n      break;\n   default:\n      // This should not happen.\n      abort();\n   }\n   _cplex_model.add(constraint);\n</code></pre>\n\n<p>I'm not very familiar with the Gurobi API, but for your <code>addVar</code> method it looks like you will want to refactor it to call <code>GRBModel::setObjective()</code> separately (after having created the variables). With the CPLEX C++ API you create the objective separately in a similar way. For example, using <a href=\"https://www.ibm.com/support/knowledgecenter/SSSA5P_12.9.0/ilog.odms.cplex.help/refcppcplex/html/functions/IloMinimize.html\" rel=\"nofollow noreferrer\">IloMinimize</a>, like so:</p>\n\n<pre><code>model.add(IloMinimize(env, objexpr));\n</code></pre>\n\n<p><strong>NOTE</strong>: The CPLEX C API (aka Callable Library) is perhaps more in spirit with your original code. That is, you can set the sense of a constraint with a <code>char</code> argument and you can set the objective value of a variable when creating it. It may be more work that you want to take on, but you could consider creating a custom lightweight object-oriented wrapper around the CPLEX C API to suit your needs.</p>\n"}], "owner": {"reputation": 429, "user_id": 7618425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be4f0778a64ec6b2010d417f79ae0ed1?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/7618425/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "accepted_answer_id": 58124553, "answer_count": 1, "score": 4, "last_activity_date": 1569534806, "creation_date": 1569453211, "last_edit_date": 1569516541, "question_id": 58107655, "link": "https://stackoverflow.com/questions/58107655/specify-the-sense-of-a-constraint-in-cplex", "title": "Specify the sense of a constraint in CPLEX", "body": "<p>I am writing a small wrapper around Gurobi and Cplex so that the models I write are solver independent. I'm very familiar with Gurobi but I'm very new to Cplex and I'm having trouble replicating certain api calls that I use very frequently.</p>\n\n<p>Specifically I'm having trouble figuring out how to pass the sense to the Cplex API:</p>\n\n<pre><code>std::shared_ptr&lt;Constraint&gt; Model::addConstr(const std::vector&lt;std::shared_ptr&lt;Variable&gt;&gt;&amp; vars,\n      const std::vector&lt;double&gt;&amp; coeffs, char sense,\n      double rhs, const std::string&amp; name) \n#ifdef GUROBI   \n    GRBLinExpr expr;\n    std::vector&lt;GRBVar&gt; grb_vars;\n    for(auto var : vars) {\n      grb_vars.push_back(*(var-&gt;getGRBVar()));\n    }\n    expr.addTerms(&amp;coeffs[0], &amp;grb_vars[0], (int) vars.size());\n    GRBConstr constraint = _grb_model-&gt;addConstr(expr, sense, rhs, name);\n    std::shared_ptr&lt;GRBConstr&gt; grb_constr_shared = std::make_shared&lt;GRBConstr&gt;(constraint);\n    return std::make_shared&lt;Constraint&gt;(grb_constr_shared);\n#elif defined CPLEX\n  // do exactly the same process for cplex\n  IloExpr expr(_cplex_env);\n  for(int i = 0; i &lt; vars.size(); ++i) {\n    expr += coeffs[i] * vars[i];  \n  }\n  // this line below doesn't work -- I don't know how to pass the sense of\n  // the constraint. I'd like to avoid using a switch statement if possible..\n  IloConstraint constraint = _cplex_model.add(expr, sense, rhs);\n#endif\n}\n</code></pre>\n\n<p>And I'm having trouble figuring out how to pass the coefficient for a variable in the objective. I'd like to be able to do this on creation of the variable (or at least immediately after creating the variable) so that I can have similar functionality to gurobi.</p>\n\n<pre><code>std::shared_ptr&lt;Variable&gt; Model::addVar(double lb, double ub, double obj,\n      char var_type, std::string name) {\n#ifdef GUROBI\n    GRBVar grb_var = _grb_model-&gt;addVar(lb, ub, obj, var_type, std::move(name));\n    std::shared_ptr&lt;GRBVar&gt; grb_var_shared = std::make_shared&lt;GRBVar&gt;(grb_var);\n    return std::make_shared&lt;Variable&gt;(grb_var_shared);\n#elif defined CPLEX\n  // do the same process for CPLEX and return std::make_shared&lt;Variable&gt;(cplex_var_shared);\n    // this line defines the variable but doesn't set its coeff in the\n    // objective function -- how do I set the variable's objective coefficient?\n    IloNumVar var(*_cplex_env, lb, ub, IloNumVar::Int, name.c_str());\n\n#endif\n  }\n</code></pre>\n"}, {"tags": ["c++", "algorithm", "opencv", "image-processing"], "answers": [{"comments": [{"owner": {"reputation": 144839, "user_id": 2836621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/suHg4.jpg?s=128&g=1", "display_name": "Mark Setchell", "link": "https://stackoverflow.com/users/2836621/mark-setchell"}, "edited": false, "score": 2, "creation_date": 1569480506, "post_id": 58108035, "comment_id": 102611946, "body": "Good solution but only in Python, not C++ as OP tagged."}], "tags": [], "owner": {"reputation": 25800, "user_id": 11162165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t5kgh.png?s=128&g=1", "display_name": "nathancy", "link": "https://stackoverflow.com/users/11162165/nathancy"}, "is_accepted": false, "score": 5, "last_activity_date": 1569527650, "last_edit_date": 1569527650, "creation_date": 1569457331, "answer_id": 58108035, "question_id": 58107625, "link": "https://stackoverflow.com/questions/58107625/opencv-translate-image-wrap-pixels-around-edges-c/58108035#58108035", "title": "OpenCv: Translate Image, Wrap Pixels Around Edges (C++)", "body": "<p>You can use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.roll.html\" rel=\"nofollow noreferrer\"><code>np.roll()</code></a></p>\n\n<p><img src=\"https://i.stack.imgur.com/Lslez.jpg\" width=\"250\"></p>\n\n<p>Here's a visualization</p>\n\n<p><img src=\"https://i.stack.imgur.com/yebnL.gif\" width=\"250\"></p>\n\n<p>I implemented it in Python but you can apply a similar rolling technique in C++</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimage = cv2.imread('1.jpg')\n\nshift_x = 800\nshift_y = 650\n\n# Shift by x-axis\nfor i in range(image.shape[1] -1, shift_x, -1):\n    image = np.roll(image, -1, axis=1)\n    image[:, -1] = image[:, 0]\n    cv2.imshow('image', image)\n    cv2.waitKey(1)\n\n# Shift by y-axis\nfor i in range(image.shape[1] -1, shift_y, -1):\n    image = np.roll(image, -1, axis=0)\n    image[:, -1] = image[:, 0]\n    cv2.imshow('image', image)\n    cv2.waitKey(1)\n\ncv2.imshow('image', image)\ncv2.waitKey()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12540, "user_id": 11089932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N9t0d.jpg?s=128&g=1", "display_name": "HansHirse", "link": "https://stackoverflow.com/users/11089932/hanshirse"}, "is_accepted": true, "score": 3, "last_activity_date": 1569476990, "creation_date": 1569476990, "answer_id": 58110328, "question_id": 58107625, "link": "https://stackoverflow.com/questions/58107625/opencv-translate-image-wrap-pixels-around-edges-c/58110328#58110328", "title": "OpenCv: Translate Image, Wrap Pixels Around Edges (C++)", "body": "<p>From my point of view, the most \"efficient\" way would be to set up the four corresponding ROIs by using <a href=\"https://docs.opencv.org/4.1.1/d2/d44/classcv_1_1Rect__.html\" rel=\"nofollow noreferrer\"><code>cv::Rect</code></a>, and manually copying the contents using <a href=\"https://docs.opencv.org/4.1.1/d3/d63/classcv_1_1Mat.html#a33fd5d125b4c302b0c9aa86980791a77\" rel=\"nofollow noreferrer\"><code>cv::copyTo</code></a>. Maybe, there's also a possibility without copying the actual content, just pointing to the data in the input <code>cv::Mat</code> - but unfortunately, at least I couldn't found one.</p>\n\n<p>Nevertheless, here's my code:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// Shift input image by sx pixels to the left, and sy pixels to the top.\ncv::Mat transWrap(cv::Mat&amp; input, const int sx, const int sy)\n{\n    // Get image dimensions.\n    const int w = input.size().width;\n    const int h = input.size().height;\n\n    // Initialize output with same dimensions and type.\n    cv::Mat output = cv::Mat(h, w, input.type());\n\n    // Copy proper contents manually.\n    input(cv::Rect(sx, sy, w - sx, h - sy)).copyTo(output(cv::Rect(0, 0, w - sx, h - sy)));\n    input(cv::Rect(0, sy, sx, h - sy)).copyTo(output(cv::Rect(w - sx, 0, sx, h - sy)));\n    input(cv::Rect(sx, 0, w - sx, sy)).copyTo(output(cv::Rect(0, h - sy, w - sx, sy)));\n    input(cv::Rect(0, 0, sx, sy)).copyTo(output(cv::Rect(w - sx, h - sy, sx, sy)));\n\n    return output;\n}\n\nint main()\n{\n    cv::Mat input = cv::imread(\"images/tcLUa.jpg\", cv::IMREAD_COLOR);\n    cv::resize(input, input, cv::Size(), 0.25, 0.25);\n    cv::Mat output = transWrap(input, 300, 150);\n\n    return 0;\n}\n</code></pre>\n\n<p>Of course, the code seems repetitive, but wrapped into an own function, it won't bother you in your main code. ;-)</p>\n\n<p>The output should be, what you want to achieve:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MXLmd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MXLmd.png\" alt=\"Output\"></a></p>\n\n<p>Hope that helps!</p>\n"}], "owner": {"reputation": 187, "user_id": 7644020, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/92c10cbb8baf1eb57cd6ccb52c89c678?s=128&d=identicon&r=PG&f=1", "display_name": "poppy", "link": "https://stackoverflow.com/users/7644020/poppy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 979, "favorite_count": 0, "accepted_answer_id": 58110328, "answer_count": 2, "score": 4, "last_activity_date": 1569527650, "creation_date": 1569452872, "last_edit_date": 1569461293, "question_id": 58107625, "link": "https://stackoverflow.com/questions/58107625/opencv-translate-image-wrap-pixels-around-edges-c", "title": "OpenCv: Translate Image, Wrap Pixels Around Edges (C++)", "body": "<p>I am trying to translate an image horizontally by x pixels and vertically by y pixels, so . However, I want the pixels to wrap around the edges. Basically...</p>\n\n<p>we start with image one...\n<a href=\"https://i.stack.imgur.com/tcLUa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tcLUa.jpg\" alt=\"\"></a></p>\n\n<p>shift by x pixels...\n<a href=\"https://i.stack.imgur.com/3dEvI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3dEvI.jpg\" alt=\"\"></a></p>\n\n<p>and shift by y pixels...\n<a href=\"https://i.stack.imgur.com/lYpzb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lYpzb.jpg\" alt=\"\"></a></p>\n\n<p>As far as I know, OpenCv's warpAffine() is not capable of doing this. Normally, I would just loop through the image and shift the pixels a certain amount, but in doing this I can only shift them horizontally. What is the most efficient way to go about this?</p>\n"}, {"tags": ["c++", "c++11", "c++14"], "comments": [{"owner": {"reputation": 1327, "user_id": 2990896, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/hSkaq.jpg?s=128&g=1", "display_name": "cplusplusrat", "link": "https://stackoverflow.com/users/2990896/cplusplusrat"}, "edited": false, "score": 0, "creation_date": 1569453118, "post_id": 58107604, "comment_id": 102605682, "body": "Why cast the container instead of the elements? I am not sure you can use <code>reinterpret_cast</code> the way you are in this example."}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 4, "creation_date": 1569453139, "post_id": 58107604, "comment_id": 102605685, "body": "If <code>reinterpret_cast</code> works, it&#39;s only because you are getting lucky.  Cast when accessing individual indexes.  Or make a copy of the vector and copy over each element and cast one at a time."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 4, "creation_date": 1569453229, "post_id": 58107604, "comment_id": 102605699, "body": "There is an algorithm function designed for this called <code>std::transform</code>."}, {"owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "edited": false, "score": 0, "creation_date": 1569453331, "post_id": 58107604, "comment_id": 102605717, "body": "Thanks, good to know!"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569453915, "post_id": 58107604, "comment_id": 102605824, "body": "<code>std::vector&lt;Foo&gt; fv; std::transform(v.begin(), v.end(), std::back_inserter(fv), [&amp;](int n) { return n_converted_to_a_Foo;});</code> -- That in a nutshell is what you probably wanted.  It would create a new Foo vector based on the <code>v</code> vector&#39;s contents.  If this is acceptable, I could post this as an answer."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569454834, "post_id": 58107604, "comment_id": 102605984, "body": "@PaulMcKenzie that is the <i>only</i> acceptable approach in this case. Can&#39;t use the original vector as-is, a copy must be made, otherwise the code has undefined behavior."}], "answers": [{"tags": [], "owner": {"reputation": 12296, "user_id": 461597, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7fa573d21875f5b980a2d81c695c71f3?s=128&d=identicon&r=PG", "display_name": "Unapiedra", "link": "https://stackoverflow.com/users/461597/unapiedra"}, "is_accepted": true, "score": 7, "last_activity_date": 1569460672, "creation_date": 1569460672, "answer_id": 58108329, "question_id": 58107604, "link": "https://stackoverflow.com/questions/58107604/stdvectorint-to-stdvectorenum/58108329#58108329", "title": "std::vector&lt;int&gt; to std::vector&lt;enum&gt;", "body": "<p><a href=\"https://godbolt.org/z/M6ofkF\" rel=\"noreferrer\">https://godbolt.org/z/M6ofkF</a></p>\n\n<p>Combine a <code>static_cast</code> with <code>std::transform</code>. </p>\n\n<pre><code>#include &lt;algorithm&gt;\n#include &lt;vector&gt;\n#include &lt;cassert&gt;\n\nenum class Foo : int {\n   A = 0,\n   B = 1,\n   C = 2,\n   D = 3,\n   E = 4,\n   F = 5\n};\n\nstd::vector&lt;Foo&gt; convert(std::vector&lt;int&gt; const &amp;in) {\n  std::vector&lt;Foo&gt; out;\n  out.reserve(in.size());\n\n  std::transform(in.begin(), in.end(), std::back_inserter(out),\n                 [](int n) { return static_cast&lt;Foo&gt;(n); });\n  return out;\n}\n\nint main() {\n  std::vector&lt;int&gt; vec{1, 2, 3, 4, 5};\n  std::vector&lt;Foo&gt; c = convert(vec);\n\n  assert(c[3] == Foo::E);\n\n  return 0;\n}\n\n</code></pre>\n\n<p>Reference: <a href=\"https://stackoverflow.com/questions/11452920/how-to-cast-int-to-enum-in-c\">How to cast int to enum in C++?</a></p>\n"}], "owner": {"reputation": 446, "user_id": 10050942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896d0e87b08f04037bec7a1b3818b932?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel Stephens", "link": "https://stackoverflow.com/users/10050942/daniel-stephens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 58108329, "answer_count": 1, "score": 1, "last_activity_date": 1569460672, "creation_date": 1569452688, "question_id": 58107604, "link": "https://stackoverflow.com/questions/58107604/stdvectorint-to-stdvectorenum", "title": "std::vector&lt;int&gt; to std::vector&lt;enum&gt;", "body": "<p>I have an array <code>std::vector&lt;int&gt;</code> and an <code>enum class Foo : int</code>. Is there a better way to cast or convert than a <code>reinterpret_cast</code>?</p>\n\n<pre><code>std::vector&lt;int&gt; v;\nauto&amp; c = *reinterpret_cast&lt;std::vector&lt;Foo&gt;*&gt;(&amp;v);\n</code></pre>\n"}, {"tags": ["c++", "linked-list", "stack", "doubly-linked-list"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 2, "creation_date": 1569452037, "post_id": 58107471, "comment_id": 102605488, "body": "Incomplete question. Please manufacture a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also make sure you&#39;ve implemented  an overload for operator <code>&lt;&lt;</code> that will accept a <code>List::ListNode</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1569452411, "post_id": 58107471, "comment_id": 102605548, "body": "Side note: <code>return l;</code> seems odd. It&#39;s <code>const</code>, so reversing it isn&#39;t allowed. returning <code>lthe3</code> makes more sense if you store the reversed <code>l</code> in it. Currently it&#39;s not doing much and probably being removed by the compiler."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569452521, "post_id": 58107471, "comment_id": 102605569, "body": "Simpler approach: iterate through <code>l</code> and insert a copy of each node at the head of <code>lthe3</code>."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1569455072, "post_id": 58107471, "comment_id": 102606027, "body": "What is <code>List::ListNode</code> declared as exactly?  Did you implement an overloaded <code>operator&lt;&lt;(std::ostream&amp;, const List::ListNode&amp;)</code> for it? Sounds like you did not. BTW, your 2nd loop is not popping items from the stack at all, so it tries to <code>cout</code> the same element over and over. You need to add a call to <code>first.pop()</code> on each iteration."}, {"owner": {"reputation": 135, "user_id": 10285887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h-XNXmPvMhY/AAAAAAAAAAI/AAAAAAAACUE/wqOLMgxQC8s/photo.jpg?sz=128", "display_name": "John Harrison", "link": "https://stackoverflow.com/users/10285887/john-harrison"}, "edited": false, "score": 0, "creation_date": 1569456564, "post_id": 58107471, "comment_id": 102606292, "body": "I went ahead and added my full code. Let me know!"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569459518, "post_id": 58107471, "comment_id": 102606793, "body": "Thank you. This confirms the need for <code>std::ostream&amp; operator&lt;&lt;(std::ostream&amp;, const List::ListNode&amp;)</code>. C++ cannot know how to format a data type unless you provide instructions. Many of the Standard data types, <code>int</code> and  <code>std::string</code> for example, have such a rule, but if you create a brand new class, you&#39;re on the hook. See <a href=\"https://stackoverflow.com/questions/4421706/what-are-the-basic-rules-and-idioms-for-operator-overloading\">What are the basic rules and idioms for operator overloading?</a> for help on how to do this."}, {"owner": {"reputation": 135, "user_id": 10285887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h-XNXmPvMhY/AAAAAAAAAAI/AAAAAAAACUE/wqOLMgxQC8s/photo.jpg?sz=128", "display_name": "John Harrison", "link": "https://stackoverflow.com/users/10285887/john-harrison"}, "edited": false, "score": 0, "creation_date": 1569464807, "post_id": 58107471, "comment_id": 102607700, "body": "If you dont mind helping me out again, where would I go about putting that in my code? I have no clue what that even means lol."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569466765, "post_id": 58107471, "comment_id": 102608065, "body": "What you really want is <code>std::cout &lt;&lt; x.item;</code>, but this assumes <code>Item</code> is printable. And since it&#39;s a <code>string</code>, it is!  This will get you going again. The fix may not be as Quick and Dirty  next time, so here&#39;s a documentation page from Microsoft on <a href=\"https://docs.microsoft.com/en-us/cpp/standard-library/overloading-the-output-operator-for-your-own-classes?view=vs-2019\" rel=\"nofollow noreferrer\">how to make a simple insertion operator overload.</a>. Sooner or later you&#39;ll need to know how to write these. Too useful to live without."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569467445, "post_id": 58107471, "comment_id": 102608188, "body": "Sometimes creating a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (didn&#39;t someone mention that?) helps you better locate the problem. Find the line that causes the error and strip out as much other code as you can. In this case, you could discover that the linked list is a red herring: <code>#include &lt;string&gt;  using Item = std::string;  class ListNode {   public:     Item item;     ListNode * next;     ListNode(Item i, ListNode *n=nullptr) {       item = i;       next = n;     }   };  int main() {   ListNode ln(&quot;one&quot;);   std::cout &lt;&lt; ln; }</code>"}], "owner": {"reputation": 135, "user_id": 10285887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-h-XNXmPvMhY/AAAAAAAAAAI/AAAAAAAACUE/wqOLMgxQC8s/photo.jpg?sz=128", "display_name": "John Harrison", "link": "https://stackoverflow.com/users/10285887/john-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569456264, "creation_date": 1569451691, "last_edit_date": 1569456264, "question_id": 58107471, "link": "https://stackoverflow.com/questions/58107471/how-to-fix-a-type-error-when-working-with-stack-top-in-the-stack-library-in", "title": "How to fix a type error when working with stack.top() in the &lt;stack&gt; library in c++", "body": "<p>I'm trying to implement a function in my linked list that pushes the values of one list into a stack, and then pops off those values into another list.</p>\n\n<p>The problem is, when I try to <code>std::cout &lt;&lt; x</code>, the <code>first</code> stack's topmost element, I get this error:</p>\n\n<blockquote>\n  <p>c:\\mingw\\lib\\gcc\\mingw32\\8.2.0\\include\\c++\\ostream:682:5: error: no type named 'type' in 'struct std::enable_if&lt;false, std::basic_ostream&lt;char>&amp;>'</p>\n</blockquote>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;cstddef&gt;\n#include &lt;string&gt;\n#include &lt;stack&gt;\n#include &lt;vector&gt;\n\nusing Item = std::string;\n\nclass List {\n\n\npublic:\n\n  class ListNode { //Changed this to public so I could access it. If this was in private how would I accomplish this?\n  public:\n    Item item;\n    ListNode * next;\n    ListNode(Item i, ListNode *n=nullptr) {\n      item = i;\n      next = n;\n    }\n  };\n\n  ListNode * head;\n  ListNode * tail; //Also in private, changed to public, so I could access it. This is the bottom boundry.\n\n  class iterator {\n    ListNode *node;\n  public:\n    iterator(ListNode *n = nullptr) {\n      node = n;\n    }\n    Item&amp; getItem() { return node-&gt;item; }\n    void next() { node = node-&gt;next; }\n    bool end() { return node==nullptr; }\n\n    friend class List;\n  };\n\npublic:\n  List() {\n    // list is empty\n    head = nullptr;\n    tail = nullptr;\n  }\n\n  List(const List &amp;other)\n  {\n    iterator o = other.begin();\n    while(!o.end())\n      {\n         append(o.getItem());   \n         o.next();\n      }\n  }\n\n  bool empty() {\n    return head==nullptr;\n  }\n\n  // Only declared, here, implemented\n  // in List.cpp\n  void append(Item a);\n  bool remove (Item &amp;copy);\n\n  void insertAfter(iterator, Item);\n  void removeAfter(iterator, Item&amp;);\n\n  iterator begin() const {\n    return iterator(head);\n  }\n};\n\n\nvoid List::append(Item a) {\n  ListNode *node = new ListNode(a);\n  if ( head == nullptr ) {\n    // empty list\n    head = node;\n    tail = node;\n  } else {\n    tail-&gt;next = node;\n    tail = node;\n  }\n}\n\nbool List::remove(Item &amp;copy)\n{\n  if (!empty()) {\n    copy = head-&gt;item;\n    ListNode *tmp = head-&gt;next;\n    delete head;\n    head = tmp;\n    if (head==nullptr)\n      tail = nullptr;\n    return true;\n  }\n  return false;\n}\n\nvoid List::insertAfter(iterator it, Item item)\n{\n  if (it.node == nullptr)\n    {\n      // insert at head\n      ListNode *tmp = new ListNode(item,head);\n      // if list is empty, set tail to new node\n      if (tail==nullptr) {\n    tail = tmp;\n      }\n      // set head to new node\n      head = tmp;\n    }\n  else\n    {\n      ListNode *tmp = new ListNode(item,it.node-&gt;next); \n      it.node-&gt;next = tmp;\n      // could be a new tail, if so update tail\n      if (tail==it.node) {\n    tail = tmp;\n      }     \n    }\n}\n\nvoid List::removeAfter(iterator it, Item&amp; item)\n{\n  // emtpy list or at tail, just return\n  if (it.node == tail) return;\n\n  if (it.node == nullptr)\n    {\n      ListNode * tmp = head;\n      head = head-&gt;next;\n      delete tmp;\n      if (head==nullptr)\n    tail = nullptr;\n    }\n  else\n    {\n      ListNode *tmp = it.node-&gt;next;\n      it.node-&gt;next = tmp-&gt;next;\n      delete tmp;\n      // could be that it.node is the new nullptr\n      if (it.node-&gt;next == nullptr)\n    tail = it.node;\n    }\n}\n\nList reverse(const List &amp;l)\n{\n    List::iterator iter1 = l.begin();\n    std::stack&lt;List::ListNode&gt; first; \n\n    while(!(iter1.end())) {\n        first.push(iter1.getItem());\n        iter1.next();\n    }\n\n    List lthe3;\n    int z = first.size();\n\n    for (int i=0; i &lt; z; ++i) {\n        List::ListNode x = first.top();\n        std::cout &lt;&lt; x;\n    }\n\n  return l;\n}\n\nvoid printList(List &amp;l) {\n  List::iterator i = l.begin();\n  while(!i.end()) {\n    std::cout &lt;&lt; i.getItem() &lt;&lt; \", \";    \n    i.next();\n  }\n  std::cout &lt;&lt; std::endl;\n}\n\nint main()\n{\n  List l;\n  l.append(\"one\");\n  l.append(\"two\");\n  l.append(\"three\");\n  l.append(\"four\");\n\n  std::cout &lt;&lt; \"List in order: \";\n  printList(l);\n\n  List l2 = reverse(l);\n  std::cout &lt;&lt; \"List in reverse order: \";\n  printList(l2);\n\n\n  return 0;\n}\n\n</code></pre>\n\n<p>I have no clue what I'm doing wrong, but I'm really close to finishing this function.</p>\n\n<p>Is there any way I could get some feedback?</p>\n"}, {"tags": ["c++", "qt", "c++11", "inheritance"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569452879, "post_id": 58107424, "comment_id": 102605639, "body": "<i>does C++ have a mechanism to let the Parent know which instance of a Child class calls a Parent method</i> -- That mechanism is called &quot;good design&quot;.  You need to clarify or explain in more detail what this means -- <i>But the parent method requires the information from the Child class instance to work properly</i>."}, {"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569453335, "post_id": 58107424, "comment_id": 102605720, "body": "@PaulMcKenzie Please check the edit."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569453788, "post_id": 58107424, "comment_id": 102605801, "body": "Weren&#39;t there prior functions called to &quot;set up the Parent&quot; with information?  That would be the obvious reason why the parent &quot;knows the child&quot;.  The child object prior to <code>exec()</code> primed the parent object with information."}, {"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569454042, "post_id": 58107424, "comment_id": 102605849, "body": "@PaulMcKenzie There appears to be not. The only prior declaration is <code>DeviceDialog::DeviceDialog(QWidget *parent) :     QDialog(parent),     ui(new Ui::DeviceDialog)</code> in the <code>devicedialog.cpp</code>. But there the parent is nullptr or MainWindow (depends on choice), and the <code>Ui</code> call only affects the child."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569454145, "post_id": 58107424, "comment_id": 102605870, "body": "There is no C++ syntax that &quot;knows the parent&quot;.  This is all part of the internal design of whatever you&#39;re using, and you just need to go over it more carefully as to why it works the way it works.  There is no magic going on -- you&#39;re just not seeing it.  Your prior attempt of coming up with this syntax indicates this is solely a design thing, and not a syntax thing."}, {"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569454598, "post_id": 58107424, "comment_id": 102605953, "body": "@PaulMcKenzie Thank you. I was just curious why it was working. In programming I tend to dwell on <i>&quot;why it is working&quot;</i> as much as <i>&quot;why it is not working&quot;</i>. Just a habit."}], "answers": [{"tags": [], "owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "is_accepted": false, "score": 2, "last_activity_date": 1569454427, "last_edit_date": 1569454427, "creation_date": 1569453389, "answer_id": 58107678, "question_id": 58107424, "link": "https://stackoverflow.com/questions/58107424/how-does-c-knows-child-class-calls-a-parent-method/58107678#58107678", "title": "How does C++ knows child class calls a parent method?", "body": "<p>This is nothing special to member functions of a parent class. Calling a function of the child class via explicitly naming the type:</p>\n\n<pre><code>Child::method();\n</code></pre>\n\n<p>works in exactly the same way in this regard. Used outside of a member functions definition it causes the same error.</p>\n\n<p>The relevant paragraph of the standard is \u00a79.3.1:</p>\n\n<blockquote>\n  <p>When an id-expression that is not part of a class member access syntax\n  and not used to form a pointer to member is used in a member of class\n  X in a context where this can be used, if name lookup resolves the\n  name in the id-expression to a non-static non-type member of some\n  class C, and if either the id-expression is potentially evaluated or C\n  is X or a base class of X, the id-expression is transformed into a\n  class member access expression using (*this) as the postfix-expression\n  to the left of the . operator.</p>\n</blockquote>\n\n<p>So, in other words, the call</p>\n\n<pre><code>Parent::method();\n</code></pre>\n\n<p>inside a member function is transformed into something akin to</p>\n\n<pre><code>(*this).Parent::method();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569454528, "post_id": 58107769, "comment_id": 102605941, "body": "I was actually asking this. The parent call seemed ambiguous to me because the Parent has a declaration of its own."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "reply_to_user": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569454819, "post_id": 58107769, "comment_id": 102605981, "body": "What is the ambiguity? Is there more than one function to which <code>Parent::method()</code> could refer?"}, {"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569454891, "post_id": 58107769, "comment_id": 102606001, "body": "Not the method. But the Parent name imported by parent.h confused me. Seemed like the child calling the global name rather than this-&gt;Parent."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "reply_to_user": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569455332, "post_id": 58107769, "comment_id": 102606061, "body": "Sorry, I don&#39;t understand what you mean by <i>&quot;Parent name imported by parent.h&quot;</i> and <i>&quot;global name&quot;</i>."}, {"owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569456318, "post_id": 58107769, "comment_id": 102606245, "body": "Given that the <b>Parent</b> class is declared in <b>parent.h</b>, when #include&#39;d, the global class name <b>Parent</b> is imported to the current script. I thought when calling it from the child class, they would conflict, or did not think of the local scope of the parent name."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "reply_to_user": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "edited": false, "score": 0, "creation_date": 1569460662, "post_id": 58107769, "comment_id": 102606963, "body": "@MaxPaython Some of those words are off, but, yes, the class name &quot;Parent&quot; is known (not &quot;imported&quot;) in the current source file (not &quot;script&quot;). Yes, there is a name conflict when using the unqualified name &quot;method&quot; in the child class. (That is why the qualified name &quot;Parent::method&quot; is required to specify the function that is part of <code>Parent</code>.) No, there is no &quot;local scope&quot; of the parent name; that seems to be a concept you invented."}], "tags": [], "owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "is_accepted": true, "score": 2, "last_activity_date": 1569454381, "creation_date": 1569454381, "answer_id": 58107769, "question_id": 58107424, "link": "https://stackoverflow.com/questions/58107424/how-does-c-knows-child-class-calls-a-parent-method/58107769#58107769", "title": "How does C++ knows child class calls a parent method?", "body": "<p>I think you are just being confused by the language's attempt to make things easier on you. Your example function is equivalent to</p>\n\n<pre><code>void Child::method(){\n    //stuff\n    this-&gt;Parent::method();\n}\n</code></pre>\n\n<p>Just as you cannot call a (non-static) method in the child class without an object, you cannot call the parent's method without an object. However, the context is the body of such a method. Within the body, the context is assumed to be <code>*this</code>. Just as you can refer to data members without explicitly prefixing \"<code>this-&gt;</code>\", you can call methods without the prefix.</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 12076815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5lPJ.jpg?s=128&g=1", "display_name": "Mason", "link": "https://stackoverflow.com/users/12076815/mason"}, "edited": false, "score": 0, "creation_date": 1569455766, "post_id": 58107867, "comment_id": 102606135, "body": "I guess others answered it while I was typing it up while playing a game."}], "tags": [], "owner": {"reputation": 51, "user_id": 12076815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U5lPJ.jpg?s=128&g=1", "display_name": "Mason", "link": "https://stackoverflow.com/users/12076815/mason"}, "is_accepted": false, "score": 1, "last_activity_date": 1569455547, "creation_date": 1569455547, "answer_id": 58107867, "question_id": 58107424, "link": "https://stackoverflow.com/questions/58107424/how-does-c-knows-child-class-calls-a-parent-method/58107867#58107867", "title": "How does C++ knows child class calls a parent method?", "body": "<p>This is still a c++ specific question. Qt just utilizes it. You need to study objects, inheritance, and virtual methods.</p>\n\n<pre><code>void Child::method() {\n  Parent::method();\n  // this-&gt;Parent::method();\n}\n</code></pre>\n\n<p>The above works because the child has access to the parents methods (that are not private). Because the method is an override of the parents virtual method, the only way for the compiler to know you want to call the parents method is to call it with scope resolution '::' in the child.</p>\n\n<pre><code>int main() {\n  SomeParentClass::someMethod();\n}\n</code></pre>\n\n<p>The above does not work because there is no instantiated object. When you call a method, you call it on the object (unless it is a static method). So instead you would do something like:</p>\n\n<pre><code>int main() {\n  SomeParentClass parent;\n  parent.someMethod();\n\n  ChildClass child;\n  child.someMethod(); // accesses the childs overridden method and not the parents.\n}\n</code></pre>\n"}], "owner": {"reputation": 1471, "user_id": 6218471, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/3f00ee8a3891494a2b1eef90d5348764?s=128&d=identicon&r=PG&f=1", "display_name": "Max Paython", "link": "https://stackoverflow.com/users/6218471/max-paython"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 629, "favorite_count": 0, "accepted_answer_id": 58107769, "answer_count": 3, "score": 0, "last_activity_date": 1569455547, "creation_date": 1569451307, "last_edit_date": 1569453322, "question_id": 58107424, "link": "https://stackoverflow.com/questions/58107424/how-does-c-knows-child-class-calls-a-parent-method", "title": "How does C++ knows child class calls a parent method?", "body": "<p>I don't know how to summarize my question so couldn't find an answer on Google.</p>\n\n<p>When overriding a parent method,</p>\n\n<pre><code>void Child::method(){\n    //stuff\n    Parent::method();\n}\n</code></pre>\n\n<p>Works perfectly. But the parent method requires the information from the Child class instance to work properly, which is not given as arguments. So my question is, does C++ have a mechanism to let the Parent know which instance of a Child class calls a Parent method, like <strong>without</strong> doing <code>Parent::method(this)</code> ?</p>\n\n<p>The thing that makes me think this is, if you do something like this,</p>\n\n<pre><code>int main(){\n    SomeParentClass::someMethod();\n}\n</code></pre>\n\n<p>It gives: <strong>error: call to non-static member function without an object argument.</strong> So the compiler needs to know the instance, which was not also given in the child class. But did not raise an error so it must have known the instance.</p>\n\n<p><strong>Edit:</strong> I added the Qt tag because I am experimenting on a Qt class. So that I can give an example if needed.</p>\n\n<p><strong>Edit2:</strong></p>\n\n<p>devicedialog.h</p>\n\n<pre><code>class DeviceDialog : public QDialog\n{\n    Q_OBJECT\n\npublic:\n    explicit DeviceDialog(QWidget *parent = nullptr);\n    int exec() override;\n    ~DeviceDialog() override;\n}\n</code></pre>\n\n<p>devicedialog.cpp</p>\n\n<pre><code>int DeviceDialog::exec(){\n    // My code.\n    return QDialog::exec();\n}\n</code></pre>\n\n<p><code>exec()</code> function activates and shows a QDialog on the screen. However, that way it is called, it seems like the parent method has no way of knowing which dialog to show (no parameters passed). The only knowledge could be the identity of the instance calling it. I am just asking if this knowledge transferred to the method in the background.</p>\n"}, {"tags": ["c++", "gdb"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569452442, "post_id": 58107407, "comment_id": 102605553, "body": "Most IDE&#39;s have a &quot;Find All References&quot; or similar functionality."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1569452500, "post_id": 58107407, "comment_id": 102605561, "body": "Doxygen can make a callee and caller graph."}, {"owner": {"reputation": 35, "user_id": 3059890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28dde8237e2a99afc341209bace3c0?s=128&d=identicon&r=PG&f=1", "display_name": "goodfellas95", "link": "https://stackoverflow.com/users/3059890/goodfellas95"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569453481, "post_id": 58107407, "comment_id": 102605741, "body": "@PaulMcKenzie I would prefer an automated solution at runtime."}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1569475251, "post_id": 58107407, "comment_id": 102609930, "body": "The compiler is free to rearrange your code such that there is no longer any relationship between line numbers and function calls. It looks like an XY problem anyway, why do you need this?"}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 3059890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28dde8237e2a99afc341209bace3c0?s=128&d=identicon&r=PG&f=1", "display_name": "goodfellas95", "link": "https://stackoverflow.com/users/3059890/goodfellas95"}, "edited": false, "score": 0, "creation_date": 1569971344, "post_id": 58109729, "comment_id": 102765846, "body": "Just a follow up question, why is -fno-pie -no-pie required here."}, {"owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "reply_to_user": {"reputation": 35, "user_id": 3059890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28dde8237e2a99afc341209bace3c0?s=128&d=identicon&r=PG&f=1", "display_name": "goodfellas95", "link": "https://stackoverflow.com/users/3059890/goodfellas95"}, "edited": false, "score": 0, "creation_date": 1569973106, "post_id": 58109729, "comment_id": 102766176, "body": "@goodfellas95 The <code>-fno-pie</code> is not required, but makes understanding the example easier (my GCC defaults to producing PIE binaries)."}], "tags": [], "owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "is_accepted": true, "score": 1, "last_activity_date": 1569473351, "creation_date": 1569473351, "answer_id": 58109729, "question_id": 58107407, "link": "https://stackoverflow.com/questions/58107407/get-all-the-line-numbers-in-a-c-program-where-function-calls-are-invoked/58109729#58109729", "title": "Get all the line numbers in a C++ program where function calls are invoked", "body": "<blockquote>\n  <p>I would line numbers where vector v is constructed and when size() function of vector is invoked.</p>\n</blockquote>\n\n<p>There is no easy way to do so in GDB, but you could use <code>objdump -d</code> to get the addresses of <code>CALL</code> instructions. Example: using your program, adding missing <code>#include &lt;assert.h&gt;</code> and building it with:</p>\n\n<pre><code>$ gcc -g t.cc -fno-pie -no-pie\n\n$ objdump -dC a.out | grep 'call.*&gt;::vector'\n  4011da:   e8 f9 00 00 00          callq  4012d8 &lt;std::vector&lt;unsigned long, std::allocator&lt;unsigned long&gt; &gt;::vector(unsigned long, unsigned long const&amp;, std::allocator&lt;unsigned long&gt; const&amp;)&gt;\n\n$ objdump -dC a.out | grep 'call.*&gt;::size'\n  4011f2:   e8 8f 01 00 00          callq  401386 &lt;std::vector&lt;unsigned long, std::allocator&lt;unsigned long&gt; &gt;::size() const&gt;\n</code></pre>\n\n<p>Now that you know the addresses of <code>CALL</code> instructions, you can translate them into function/file/line using <code>addr2line</code>:</p>\n\n<pre><code>$ addr2line -fe a.out 4011da 4011f2\nmain\n/tmp/t.cc:9\nmain\n/tmp/t.cc:10 (discriminator 1)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 3059890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c28dde8237e2a99afc341209bace3c0?s=128&d=identicon&r=PG&f=1", "display_name": "goodfellas95", "link": "https://stackoverflow.com/users/3059890/goodfellas95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58109729, "answer_count": 1, "score": 0, "last_activity_date": 1569473351, "creation_date": 1569451203, "question_id": 58107407, "link": "https://stackoverflow.com/questions/58107407/get-all-the-line-numbers-in-a-c-program-where-function-calls-are-invoked", "title": "Get all the line numbers in a C++ program where function calls are invoked", "body": "<p>For example, I have a C++ program:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;vector&gt;\n\nint main() {\n\n    int a =0;\n    //A vector of size 10 with all values as 1\n    std::vector&lt;std::size_t&gt; v(10, 1);\n    assert(v.size() == 10);\n    return 0;\n}\n</code></pre>\n\n<p>Is there a way to find the line number where a function call is invoked:</p>\n\n<p>So, I would line numbers where vector v is constructed and when size() function of vector is invoked.</p>\n\n<p>Utility in any programming language is accepted, but preference would be given to a gdb solution to look for function invocations. </p>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 856, "user_id": 4250150, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-KLzePzmbqTs/AAAAAAAAAAI/AAAAAAAAAD8/henWhVuLqE4/photo.jpg?sz=128", "display_name": "sudo rm -rf slash", "link": "https://stackoverflow.com/users/4250150/sudo-rm-rf-slash"}, "edited": false, "score": 0, "creation_date": 1569451191, "post_id": 58107191, "comment_id": 102605328, "body": "It&#39;s so annoying that these two standard containers can&#39;t work together out of the box."}, {"owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "reply_to_user": {"reputation": 856, "user_id": 4250150, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh5.googleusercontent.com/-KLzePzmbqTs/AAAAAAAAAAI/AAAAAAAAAD8/henWhVuLqE4/photo.jpg?sz=128", "display_name": "sudo rm -rf slash", "link": "https://stackoverflow.com/users/4250150/sudo-rm-rf-slash"}, "edited": false, "score": 0, "creation_date": 1570045038, "post_id": 58107191, "comment_id": 102794428, "body": "Yeah. The issue comes from the difference between std::map and std::unordered_map. std::map uses operator&lt; for sorting, which is well defined for std::pair depending on the types inside of it. However, std::unordered_map doesn&#39;t use operator&lt; since it is unordered, so it has to rely on the hash of std::pair, which is not well defined."}], "tags": [], "owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "is_accepted": true, "score": 4, "last_activity_date": 1569449497, "creation_date": 1569449497, "answer_id": 58107191, "question_id": 58107114, "link": "https://stackoverflow.com/questions/58107114/c-unordered-map-no-viable-overloaded-operator/58107191#58107191", "title": "C++ unordered map - no viable overloaded operator[]", "body": "<p>You are trying to use <code>std::pair</code> as the key for an unordered_map, which is undefined by default since the hash of a std::pair is not well defined. You need to define a hash value for your <code>std::pair</code> key.</p>\n\n<p><a href=\"https://www.techiedelight.com/use-std-pair-key-std-unordered_map-cpp/\" rel=\"nofollow noreferrer\">https://www.techiedelight.com/use-std-pair-key-std-unordered_map-cpp/</a></p>\n\n<p>Example from link:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;unordered_map&gt;\n#include &lt;utility&gt;\n\ntypedef std::pair&lt;std::string,std::string&gt; pair;\n\nstruct pair_hash\n{\n    template &lt;class T1, class T2&gt;\n    std::size_t operator() (const std::pair&lt;T1, T2&gt; &amp;pair) const\n    {\n        return std::hash&lt;T1&gt;()(pair.first) ^ std::hash&lt;T2&gt;()(pair.second);\n    }\n};\n\nint main()\n{\n    std::unordered_map&lt;pair,int,pair_hash&gt; unordered_map =\n    {\n        {{\"C++\", \"C++11\"}, 2011},\n        {{\"C++\", \"C++14\"}, 2014},\n        {{\"C++\", \"C++17\"}, 2017},\n        {{\"Java\", \"Java 7\"}, 2011},\n        {{\"Java\", \"Java 8\"}, 2014},\n        {{\"Java\", \"Java 9\"}, 2017}\n    };\n\n    for (auto const &amp;entry: unordered_map)\n    {\n        auto key_pair = entry.first;\n        std::cout &lt;&lt; \"{\" &lt;&lt; key_pair.first &lt;&lt; \",\" &lt;&lt; key_pair.second &lt;&lt; \"}, \"\n                  &lt;&lt; entry.second &lt;&lt; '\\n';\n    }\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11123978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86eb7d8b04977530a300d2b321664c37?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaiz", "link": "https://stackoverflow.com/users/11123978/arnaiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 0, "accepted_answer_id": 58107191, "answer_count": 1, "score": 1, "last_activity_date": 1569449568, "creation_date": 1569448929, "last_edit_date": 1569449568, "question_id": 58107114, "link": "https://stackoverflow.com/questions/58107114/c-unordered-map-no-viable-overloaded-operator", "title": "C++ unordered map - no viable overloaded operator[]", "body": "<p>I'm trying to build a memo of values that links a pair of ints to an int using an unordered_map.</p>\n\n<pre><code>int memo(pair&lt;int, int&gt; &amp;p, unordered_map&lt;pair&lt;int, int&gt;, int&gt; &amp;memo) {\n    if (memo[p] != -1) {\n    }\n}\n</code></pre>\n\n<p>I thought I would be to access the values in the unordered_map with pair but I'm getting an error:</p>\n\n<blockquote>\n  <p>no match for 'operator[]' (operand types are 'std::unordered_map&lt;std::pair&lt;int, int&gt;, int&gt;' and 'std::pair&lt;int, int&gt;')</p>\n</blockquote>\n"}, {"tags": ["c++", "pointers", "subclass", "c++-standard-library"], "comments": [{"owner": {"reputation": 6559, "user_id": 4143855, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Gh4vC.jpg?s=128&g=1", "display_name": "Tas", "link": "https://stackoverflow.com/users/4143855/tas"}, "edited": false, "score": 2, "creation_date": 1569448349, "post_id": 58106964, "comment_id": 102604623, "body": "You probably would want to wrap those in separate classes, where you could call <code>open</code> and <code>close</code>, and the class without the <code>ifstream</code> would just do nothing, and the other class would actually open and close the <code>ifstream</code>. You have the right idea with <code>dynamic_cast</code> though, but you should <i>get</i> the return like <code>if (ifstream* filestream = dynamic_cast...) { filestream-&gt;close()</code>"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569448676, "post_id": 58106964, "comment_id": 102604703, "body": "I started writing the answer, but then I realized, that those lines, that are causing your issues: are not necessary. If you pass value to the constructor of <code>std::ifstream</code> - it will call <code>open</code> on its own. And call to <code>close</code> is unnecessary, because the destructor, of <code>std::ifstream</code>, will call it. That leaves with the one, true, problem: <code>delete currentStream;</code> is undefined behavior, when <code>argc != 3</code>, due to it trying to <code>delete &amp;cin</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569448781, "post_id": 58107065, "comment_id": 102604734, "body": "1) But, one doesn&#39;t need to even call <code>close</code>, if one is <code>delete</code>ing the allocated stream - destructor of <code>std::ifstream</code> will call it. 2) Technically, the asker asked about <code>currentStream-&gt;open(argv[2]);</code> line as well (which is unaddressed with this answer), but it, too, is superfluous, because the constructor is used. 3) This answer doesn&#39;t mention the possible UB of <code>delete currentStream;</code>."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569453600, "post_id": 58107065, "comment_id": 102605765, "body": "I think you meant &quot;stream&quot; instead of &quot;ifstream&quot; in your <code>if</code> condition and in the line that calls <code>close</code>?"}], "tags": [], "owner": {"reputation": 1494, "user_id": 888386, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62688936da7702a6c964afc82c3f7d2d?s=128&d=identicon&r=PG", "display_name": "jaypb", "link": "https://stackoverflow.com/users/888386/jaypb"}, "is_accepted": false, "score": 0, "last_activity_date": 1569546386, "last_edit_date": 1569546386, "creation_date": 1569448672, "answer_id": 58107065, "question_id": 58106964, "link": "https://stackoverflow.com/questions/58106964/how-do-i-access-a-pointers-subclasss-methods-if-those-methods-are-unique-to-th/58107065#58107065", "title": "How do I access a pointer&#39;s subclass&#39;s methods if those methods are unique to the subclass?", "body": "<p>Tas has the right approach in the comments. You can't call the method directly on currentStream, you have to call it on the cast interface.</p>\n\n<pre><code>ifstream* stream = dynamic_cast&lt;ifstream*&gt;(currentStream);\nif (stream) {\n     stream-&gt;close();\n}\n</code></pre>\n\n<p>I also think you should probably change your code to not rely on dynamic cast, either a new interface or separate method.</p>\n"}, {"tags": [], "owner": {"reputation": 86516, "user_id": 701092, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/xYrM0.jpg?s=128&g=1", "display_name": "0x499602D2", "link": "https://stackoverflow.com/users/701092/0x499602d2"}, "is_accepted": true, "score": 3, "last_activity_date": 1569448874, "creation_date": 1569448874, "answer_id": 58107100, "question_id": 58106964, "link": "https://stackoverflow.com/questions/58106964/how-do-i-access-a-pointers-subclasss-methods-if-those-methods-are-unique-to-th/58107100#58107100", "title": "How do I access a pointer&#39;s subclass&#39;s methods if those methods are unique to the subclass?", "body": "\n\n<p>Dynamically-allocate a \"copy\" of <code>std::cin</code> by grabbing its buffer. Storing the memory in a <code>std::unique_ptr</code> would also be ideal as you wouldn't have to worry about manually deleting the pointer.</p>\n\n<pre class=\"lang-c++ prettyprint-override\"><code>#include &lt;memory&gt;\n\nint main(int argc, char* argv[]) {\n  std::unique_ptr&lt;std::istream&gt; currentStream( argc == 3\n    ? std::make_unique&lt;std::ifstream&gt;(argv[2])\n    : std::make_unique&lt;std::istream&gt;(std::cin.rdbuf())\n  );\n\n  // will only fail when the file cannot open\n  if (!currentStream) {\n    std::cerr &lt;&lt; \"FILE COULD NOT BE OPENED\\n\";\n    return 1;\n  }\n\n  std::string myLine;\n  // go line by line and translate it\n  while (std::getline(*currentStream, myLine)) {\n    std::cout &lt;&lt; rot13(myLine) &lt;&lt; std::endl;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "is_accepted": false, "score": 1, "last_activity_date": 1569453408, "creation_date": 1569453408, "answer_id": 58107680, "question_id": 58106964, "link": "https://stackoverflow.com/questions/58106964/how-do-i-access-a-pointers-subclasss-methods-if-those-methods-are-unique-to-th/58107680#58107680", "title": "How do I access a pointer&#39;s subclass&#39;s methods if those methods are unique to the subclass?", "body": "<p>There are several places where your code could be improved. I think the most prominent place for improvement is that you are trying to do too much in one function. Your goal of not duplicating code is good, but modularize your approach. Move the shared code to its own function, as in:</p>\n\n<pre><code>void do_stuff(std::istream &amp; currentStream)\n{\n    std::string myLine;\n    // go line by line and translate it\n    while (getline(currentStream, myLine)) {\n        if (currentStream.eof()) {\n            break;\n        }\n        std::cout &lt;&lt; rot13(myLine) &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>This function should contain everything that is shared between the two code paths. (I changed the pointer to a reference so that callers immediately know that a null pointer is not acceptable.) When you change your main function so that it calls this one, you should notice that a few things become easier. In particular, there is no need for dynamic allocation (which leads to no attempt to <code>delete &amp;cin</code> &ndash; that looked bad). You can readily use a local variable for your file stream.</p>\n\n<pre><code>int main(int argc, const char ** argv)\n{\n    if (argc == 3) {\n        // Handle optional file input\n        std::ifstream fileStream(argv[2]);\n        fileStream.open(argv[2]);\n        if (fileStream.fail()) {\n            std::cerr &lt;&lt; \"FILE COULD NOT BE OPENED\\n\";\n            return 1;\n        }\n        do_stuff(fileStream);\n        fileStream.close();\n    } else {\n        do_stuff(std::cin);\n    }\n    return 0;\n}\n</code></pre>\n\n<p>By moving the common code to a separate function, you get to stay in your <code>if</code> clause. There is no need to deduce whether or not <code>*currentStream</code> needs closing, since you never left the code branch that created the file.</p>\n\n<hr>\n\n<p>There is another place where you could simplify things. Don't call <code>open</code> and <code>close</code>. You are using the <code>ifstream</code> constructor that takes a file name, so the constructor already calls <code>open</code> for you. (When you explicitly call <code>open</code>, you are telling the computer to close the file and <strong>re</strong>-open it.) Similarly, the destructor will call <code>close</code> for you; that is a key point of <a href=\"https://stackoverflow.com/questions/2321511/what-is-meant-by-resource-acquisition-is-initialization-raii\">RAII</a>.</p>\n\n<p>Getting rid of the unneeded calls leaves:</p>\n\n<pre><code>int main(int argc, const char ** argv)\n{\n    if (argc == 3) {\n        // Handle optional file input\n        std::ifstream fileStream(argv[2]);\n        if (fileStream.fail()) {\n            std::cerr &lt;&lt; \"FILE COULD NOT BE OPENED\\n\";\n            return 1;\n        }\n        do_stuff(fileStream);\n        // Keep in mind that, even though there is no C++ code here, there is something\n        // important being done after the call to do_stuff. Specifically, the destructor\n        // for fileStream is called, which closes the file for you.\n    } else {\n        do_stuff(std::cin);\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41558, "user_id": 3204551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91bb06155f79d40ffecdf124deecb001?s=128&d=identicon&r=PG&f=1", "display_name": "Deduplicator", "link": "https://stackoverflow.com/users/3204551/deduplicator"}, "is_accepted": false, "score": 0, "last_activity_date": 1569453838, "creation_date": 1569453838, "answer_id": 58107719, "question_id": 58106964, "link": "https://stackoverflow.com/questions/58106964/how-do-i-access-a-pointers-subclasss-methods-if-those-methods-are-unique-to-th/58107719#58107719", "title": "How do I access a pointer&#39;s subclass&#39;s methods if those methods are unique to the subclass?", "body": "<p>Simply extract a method:</p>\n\n<pre><code>void process(std::istream is) {\n    string myLine;\n    // go line by line and translate it\n    while (getline(is, myLine))\n        cout &lt;&lt; rot13(myLine) &lt;&lt; endl;\n}\n\nint main(int argc, char** argv) {\n    if (argc == 3) {\n        ifstream ifs(argv[2]);\n        if (!ifs) {\n            cerr &lt;&lt; \"FILE COULD NOT BE OPENED\\n\";\n            return 1;\n        }\n        process(ifs);\n    } else {\n        process(cin);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 10475839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93dbce7d07f6dea45e979a5393e6df0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Doe", "link": "https://stackoverflow.com/users/10475839/jon-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 58107100, "answer_count": 4, "score": 1, "last_activity_date": 1569546386, "creation_date": 1569448061, "question_id": 58106964, "link": "https://stackoverflow.com/questions/58106964/how-do-i-access-a-pointers-subclasss-methods-if-those-methods-are-unique-to-th", "title": "How do I access a pointer&#39;s subclass&#39;s methods if those methods are unique to the subclass?", "body": "<p>A part of my program has two possible cases: (1) if the user only gives 2 command line arguments, take input from standard input (cin) (2) if the user gives 3 command line arguments (the last one being a file name), take input from the file. In order to not be reusing the same code for for both options, I tried to use a pointer to a superclass of both cin and ifstream, istream for both means of input. </p>\n\n<p>My issue is that on lines 5 and 22 of the code below, I'm trying to reference methods only available to the subclass ifstream (open and close). Based on my logic, if those methods are called the pointer has to be pointing to a type ifstream, but the program fails to compile because those methods aren't defined in the istream class.</p>\n\n<p>Is there any way to get around this?</p>\n\n<pre><code>istream *currentStream;\n    if (argc == 3) {\n        // Handle optional file input\n        currentStream = new ifstream(argv[2]);\n        currentStream-&gt;open(argv[2]);\n        if (currentStream-&gt;fail()) {\n            cerr &lt;&lt; \"FILE COULD NOT BE OPENED\\n\";\n            return 1;\n        }\n    } else {\n        currentStream = &amp;cin;\n    }\n    string myLine;\n    // go line by line and translate it\n    while (getline(*currentStream, myLine)) {\n        if (currentStream-&gt;eof()) {\n            break;\n        }\n        cout &lt;&lt; rot13(myLine) &lt;&lt; endl;\n    }\n    if (dynamic_cast&lt;ifstream*&gt;(currentStream)) {\n        currentStream-&gt;close();\n    }\n    // handle pointer\n    delete currentStream;\n    currentStream = NULL;\n    return 0;\n</code></pre>\n"}, {"tags": ["c++", "visual-c++"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 0, "creation_date": 1569447213, "post_id": 58106741, "comment_id": 102604289, "body": "Your use of <code>counted</code> makes no sense, and is very likely to go out of bounds. Also, to avoid storing duplicates, you should consider using a <code>set&lt;string&gt;</code> instead of a <code>vector&lt;string&gt;</code> for <code>cities</code>."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10569004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebda637448541cdf3e33b1d233f922?s=128&d=identicon&r=PG&f=1", "display_name": "Revellion", "link": "https://stackoverflow.com/users/10569004/revellion"}, "edited": false, "score": 0, "creation_date": 1569447681, "post_id": 58106778, "comment_id": 102604432, "body": "While this works in terms of syntax, the counted.at(tempind) = count(city.begin(), city.end(), temp); gives me an error of out of range. Is that due to my program itself?"}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "reply_to_user": {"reputation": 21, "user_id": 10569004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebda637448541cdf3e33b1d233f922?s=128&d=identicon&r=PG&f=1", "display_name": "Revellion", "link": "https://stackoverflow.com/users/10569004/revellion"}, "edited": false, "score": 0, "creation_date": 1569447850, "post_id": 58106778, "comment_id": 102604479, "body": "You get the error because you really are going out of bounds. You have 4 elements in both <code>cities</code> and <code>counted</code> initially (why?). As soon as <code>cities</code> has 4+ elements in it, <code>tempind</code> goes out of bounds of <code>counted</code>.  That is why I commented that your use of <code>counted</code> makes no sense at all. What is it trying to accomplish exactly? If you want to count how many times a given city appears in the <code>city</code> vector, a <code>map&lt;string, int&gt;</code> makes more sense than a <code>vector&lt;int&gt;</code>."}, {"owner": {"reputation": 21, "user_id": 10569004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebda637448541cdf3e33b1d233f922?s=128&d=identicon&r=PG&f=1", "display_name": "Revellion", "link": "https://stackoverflow.com/users/10569004/revellion"}, "edited": false, "score": 0, "creation_date": 1569447893, "post_id": 58106778, "comment_id": 102604499, "body": "Thanks a ton, I figured it out just as I saw the comment. You&#39;re a lifesaver, and I appreciate the help."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": true, "score": 2, "last_activity_date": 1569447321, "last_edit_date": 1569447321, "creation_date": 1569447015, "answer_id": 58106778, "question_id": 58106741, "link": "https://stackoverflow.com/questions/58106741/find-is-not-returning-an-int-value-that-can-be-used-and-is-giving-an-error-bef/58106778#58106778", "title": "find() is not returning an int value that can be used and is giving an error before compiling", "body": "<p><code>std::find()</code> returns an iterator, not an index.  If you need an index, you can pass the iterator to <code>std::distance()</code>:</p>\n\n<pre><code>auto found = find(cities.begin(), cities.end(), temp);\ntempind = distance(cities.begin(), found);\n</code></pre>\n\n<p>But in this case, you don't really need to <code>find()</code> the index at all. Since <code>push_back()</code> inserts at the end of the vector, the index you want is the size of the vector before you <code>push_back()</code> into it:</p>\n\n<pre><code>for (int i = 0; i &lt; city.size(); i++) {\n    temp = city[i];\n    if (find(cities.begin(), cities.end(), temp) != cities.end()) {\n        continue;\n    }\n\n    tempind = cities.size();\n    cities.push_back(temp);\n\n    counted.at(tempind) = count(city.begin(), city.end(), temp);\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10569004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ebda637448541cdf3e33b1d233f922?s=128&d=identicon&r=PG&f=1", "display_name": "Revellion", "link": "https://stackoverflow.com/users/10569004/revellion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 58106778, "answer_count": 1, "score": 2, "last_activity_date": 1569447321, "creation_date": 1569446802, "question_id": 58106741, "link": "https://stackoverflow.com/questions/58106741/find-is-not-returning-an-int-value-that-can-be-used-and-is-giving-an-error-bef", "title": "find() is not returning an int value that can be used and is giving an error before compiling", "body": "<p>I'm attempting to get the index value of a new vector created, but the find() function won't let me assign a variable with the returned value of said find()</p>\n\n<p>I have tried to assign the value in other places, fiddle with the beginning and end points, but the program simply won't assign tempind with the value of find().</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>void count_city(vector&lt;string&gt; city, vector&lt;string&gt; state) {\n    vector&lt;string&gt; cities(4);\n    vector&lt;int&gt; counted(4);\n    string temp = \" \";\n    int tempind = 0;\n\n    for (int i = 0; i &lt; city.size(); i++) {\n        temp = city.at(i);\n        if (find(cities.begin(), cities.end(), temp) != cities.end()) {\n            continue;\n        }\n\n        else {\n            cities.push_back(temp);\n        }\n\n        tempind = (find(cities.begin(), cities.end(), temp));\n        counted.at(tempind) = count(city.begin(), city.end(), temp);\n    }\n}\n</code></pre>\n\n<p>I simply want tempind to be the index of the city in the vector cities, however it won't let me compile and gives me an error stating that my type is not the same.</p>\n"}, {"tags": ["c++", "recursion", "copy-constructor", "assignment-operator"], "comments": [{"owner": {"reputation": 3812, "user_id": 7697209, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0zmCe.png?s=128&g=1", "display_name": "Kostas", "link": "https://stackoverflow.com/users/7697209/kostas"}, "edited": false, "score": 0, "creation_date": 1569446568, "post_id": 58106629, "comment_id": 102604083, "body": "How can you run <code>LList newlist;</code> when <code>LList::LList()</code> is implicitly deleted?"}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 1, "creation_date": 1569446606, "post_id": 58106629, "comment_id": 102604095, "body": "&quot;<i>I am suppose to implement them recursively</i>&quot; - That&#39;s ... odd. What if your list contains thousands of entries? Not many stacks would survive that."}, {"owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "edited": false, "score": 0, "creation_date": 1569446900, "post_id": 58106629, "comment_id": 102604182, "body": "yea, its a homework on recursion"}, {"owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "edited": false, "score": 0, "creation_date": 1569447112, "post_id": 58106629, "comment_id": 102604253, "body": "It should be fine if the function uses tail recursion, since it will usually get optimized out and replace the current operation on the stack instead of pushing a new one."}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "reply_to_user": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "edited": false, "score": 1, "creation_date": 1569447305, "post_id": 58106629, "comment_id": 102604316, "body": "@ThomasB&#233;cavin That&#39;s a big <i>if</i> though. If compiled for size rather than speed it will probably get ugly. I.m.o., recursion should not be near this."}, {"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1569447425, "post_id": 58106629, "comment_id": 102604353, "body": "Agreed.  Recursion and linked lists are a bad mix.  The copy constructor and copy assignment operator are best served using iteration not recursion.  Since this is recursion homework, using a linked list was a bad example for it."}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 0, "creation_date": 1569447438, "post_id": 58106629, "comment_id": 102604358, "body": "@KericMa What is it that makes you say &quot;<i>it does not feel right</i>&quot;? Does it produce the wrong result somehow?"}, {"owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "edited": false, "score": 0, "creation_date": 1569447707, "post_id": 58106629, "comment_id": 102604441, "body": "its giving me a warning saying variable &#39;LList::head&#39; is uninitialized"}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 0, "creation_date": 1569447799, "post_id": 58106629, "comment_id": 102604470, "body": "On which line it the code? Btw, your <code>append(int x, Node* head)</code> method looks broken. Shouldn&#39;t it be <code>... else if(head-&gt;next == nullptr){...} else append(x, head-&gt;next);</code> ?"}, {"owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "edited": false, "score": 0, "creation_date": 1569447925, "post_id": 58106629, "comment_id": 102604507, "body": "on this line <code>LList::LList(const LList&amp; a) {</code> under LList::LList"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569448245, "post_id": 58106629, "comment_id": 102604593, "body": "Translating: <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">Your Rubber duck</a> wants to know what happens in <code>copylist</code>, if there is no <code>head2</code> when the code tries to <code>head2-&gt;item = head1-&gt;item;</code>"}], "owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569450815, "creation_date": 1569446188, "last_edit_date": 1569450815, "question_id": 58106629, "link": "https://stackoverflow.com/questions/58106629/the-big-three-implementation-in-linked-list-using-recursion", "title": "The Big Three implementation in linked list using recursion", "body": "<p>I am having a lot of trouble trying to get my copy constructor and assignment operator working for a homework problem. I am suppose to implement them recursively. </p>\n\n<p>I am getting a warning saying</p>\n\n<pre><code>variable 'LList::head' is uninitialized on `LList::LList(const LList&amp; a)`\n</code></pre>\n\n<p>Can someone help me with this?\nHere is my code </p>\n\n<pre><code>class  LList {\n   public:\n      LList();\n      void cons(int x);\n      void append(int x);\n      LList(const LList&amp;);\n      LList&amp; operator = (const LList&amp;);\n      ~LList();\n   private:\n      struct Node {\n         int item;\n         Node* next;\n      };\n      Node* head;\n}\n\nLList::LList() {\n   this-&gt;head = nullptr;  \n}\n\nvoid LList::cons(int x){\n   Node* temp = new Node;\n   temp-&gt;item = x;\n   temp-&gt;next = head;\n   head = temp;\n}\n\nvoid LList::append(int x, Node* head){\n    if(isEmpty()) return cons(x);\n    if(head-&gt;next == nullptr){\n        Node* temp = new Node;\n        temp-&gt;item = x;\n        temp-&gt;next = nullptr;\n        head-&gt;next = temp;\n    }\n    append(x, head-&gt;next);\n}\nvoid LList::append(int x) {\n    append(x, head);\n}\n\nLList::~LList(){\n   Node* curr;\n   while (head != nullptr){\n      curr = head-&gt;next;\n      delete head;\n      head = curr;\n   }\n}\n</code></pre>\n\n<p>And here is what i have tried for the copy constructor and copy assignment.</p>\n\n<pre><code>void LList::copylist(Node* head1, Node* head2) {\n    if (head1 == nullptr) {\n        return;\n    }\n    head2-&gt;item = head1-&gt;item;\n    copylist(head1-&gt;next, head2-&gt;next);\n}\nLList::LList(const LList&amp; a) {\n    LList newlist;\n    copylist(a.head, newlist.head);\n}\n\nLList&amp; LList::operator = (const LList&amp; a) {\n    LList newlist;\n    copylist(a.head, newlist.head);\n    return *this;\n}\n</code></pre>\n"}, {"tags": ["c++", "halide"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 5696989, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e48181ed7ee7521d8f2e22e83f7e37e5?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Woodworth", "link": "https://stackoverflow.com/users/5696989/mike-woodworth"}, "is_accepted": false, "score": 2, "last_activity_date": 1569512671, "creation_date": 1569512671, "answer_id": 58120427, "question_id": 58106594, "link": "https://stackoverflow.com/questions/58106594/is-there-a-way-to-stack-two-input-images-into-a-single-4-dimensional-buffer-in-a/58120427#58120427", "title": "Is there a way to stack two input images into a single 4 dimensional buffer in a Halide Generator?", "body": "<p>Instead of doing it as a multistage func, try using select to populate the different channels in a single stage. </p>\n\n<p>batch(x, y, c, n) = select(n==0, image_1_resized(x, y, c), image_2_resized(x, y, c));</p>\n\n<p>then you can schedule it by bounding and unrolling n, and halide will remove the branching:</p>\n\n<p>batch.bound(n, 0, 2).unroll(n);</p>\n"}], "owner": {"reputation": 1, "user_id": 12121538, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EWSqVZN8uU4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJJEXFbWMvOwgTipo3pRmJi1nhuw/photo.jpg?sz=128", "display_name": "Oscar Argueta", "link": "https://stackoverflow.com/users/12121538/oscar-argueta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569512671, "creation_date": 1569445944, "last_edit_date": 1569447082, "question_id": 58106594, "link": "https://stackoverflow.com/questions/58106594/is-there-a-way-to-stack-two-input-images-into-a-single-4-dimensional-buffer-in-a", "title": "Is there a way to stack two input images into a single 4 dimensional buffer in a Halide Generator?", "body": "<p>I have two input images(rgb) in my generator pipeline. Each go through a custom crop and get resized to an NxNx3 image. The output of the generator <code>Output&lt;Buffer&lt;float&gt;&gt; {\"batch\", 4}; // (N, N, 3 ,2)</code> and I set</p>\n\n<pre><code>batch(x, y, c, batch_size) = cast&lt;float&gt;(0); \nbatch(x, y, c, 0) = image_1_resized(x, y, c);\nbatch(x, y, c, 1) = image_2_resized(x, y, c);\n</code></pre>\n\n<p>but when I go to compile this it segfaults (I'm unable to retrieve useful debug info). If I try this:</p>\n\n<pre><code>clamped_image_1 = BoundaryConditions(image_1_resized, 0 ,{{0, N}, {0, N});\n\nbatch(x, y, c, batch_size) = cast&lt;float&gt;(0); \nbatch(x, y, c, 0) = image_1_resized(x, y, c);\nbatch(x, y, c, 1) = clamped_image_1(x + 10, y, c);\n</code></pre>\n\n<p>It compiles and works great. I'm curious to know, if what I'm trying to accomplish is possible with Halide?</p>\n"}, {"tags": ["c++", "qt", "qt5", "c++14"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 4, "creation_date": 1569445587, "post_id": 58106482, "comment_id": 102603791, "body": "try with: <code>connect(&amp;dialog, &amp;Dialog::drawObjects, this, &amp;Other_Class::spawnObjects);</code> and provide a MRE"}, {"owner": {"reputation": 69264, "user_id": 256138, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ed9e8c0ff767e38f8fade11f5af00a45?s=128&d=identicon&r=PG", "display_name": "rubenvb", "link": "https://stackoverflow.com/users/256138/rubenvb"}, "edited": false, "score": 0, "creation_date": 1569490130, "post_id": 58106482, "comment_id": 102616906, "body": "It is a good idea to give signals passive names describing what they are signalling. Slots (and any non-signal function really) are then in active voice describing that they do. Makes <code>connect</code>s a whole lot more readable."}], "answers": [{"tags": [], "owner": {"reputation": 1155, "user_id": 6449910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OvekE.jpg?s=128&g=1", "display_name": "SeSodesa", "link": "https://stackoverflow.com/users/6449910/sesodesa"}, "is_accepted": false, "score": 0, "last_activity_date": 1569487297, "creation_date": 1569487297, "answer_id": 58112835, "question_id": 58106482, "link": "https://stackoverflow.com/questions/58106482/connecting-a-dialog-button-to-a-mainwindow-slot/58112835#58112835", "title": "Connecting a dialog button to a MainWindow slot", "body": "<p>Alright, so the problem was with me connecting the <code>Dialog::drawObjects</code> signal to the slot in the <code>MainWindow</code> <em>after</em> the dialog was displayed with <code>dialog.exec();</code>. This should have been obvious, but of course the dialog window can't be aware of any connections made after it is already started inside its own event loop.</p>\n"}], "owner": {"reputation": 1155, "user_id": 6449910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OvekE.jpg?s=128&g=1", "display_name": "SeSodesa", "link": "https://stackoverflow.com/users/6449910/sesodesa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569489974, "creation_date": 1569445284, "last_edit_date": 1569489974, "question_id": 58106482, "link": "https://stackoverflow.com/questions/58106482/connecting-a-dialog-button-to-a-mainwindow-slot", "title": "Connecting a dialog button to a MainWindow slot", "body": "<p>I have a <code>Dialog</code> window that is supposed to be able to pass an <code>int</code> from a <code>QSpinBox</code> and an <code>ObjectType</code> from an enumerated list <code>enum ObjectType {FASTBALL, ODDBALL, END}</code> to a <code>MainWindow</code> slot. I've created and opened the dialog window in the cosntructor of the <code>MainWindow</code> with</p>\n\n<pre><code>MainWindow::MainWindow(ObjectController* controller, QWidget *parent)\n: QMainWindow(parent), ui(new Ui::MainWindow), engine_(controller)\n{\n\nui-&gt;setupUi(this);\nDialog dialog(this);\ndialog.exec();\n\nQGraphicsScene* scene = new QGraphicsScene;\nview_ = new QGraphicsView(this);\nview_-&gt;setScene(scene);\nui-&gt;gridLayout-&gt;addWidget(view_);\nscene-&gt;setSceneRect(0, 0, VIEW_WIDTH, VIEW_HEIGHT);\nconnect(ui-&gt;startButton, &amp;QPushButton::clicked,\n        this, &amp;MainWindow::startOrStop);\nconnect(ui-&gt;exitButton, &amp;QPushButton::clicked,\n        this, &amp;MainWindow::close);\nconnect(&amp;dialog, &amp;Dialog::drawObjects,this,&amp;MainWindow::spawnObjects);\n\n\n// Set timer\ntimer_ = new QTimer(this);\nconnect(timer_, &amp;QTimer::timeout,\n        this, &amp;MainWindow::moveObjects);\n\ntimer_-&gt;setInterval(CLOCK_MS);\n</code></pre>\n\n<p>}</p>\n\n<p>On the <code>Dialog : public Qdialog</code> side I have a <code>QPushButton acceptButton_;</code> connected to an <code>accept</code> slot defined in the same class. The dialog also has private fields</p>\n\n<pre><code>int nOfObjectsToBeDisplayed_;\nObjectType objectType_;\n</code></pre>\n\n<p>and a <code>void drawObjects(int amount, ObjectType type);</code> signal.\nThe <code>accept</code> slot from <code>QDialog</code> is redefined as follows:</p>\n\n<pre><code>void Dialog::accept()\n{    \n  emit drawObjects(nOfObjectsToBeDisplayed_, objectType_);\n}\n</code></pre>\n\n<p>Now comes the annoying part. On the <code>MainWindow</code> side, I'm trying to pass the current state of the <code>Dialog</code> to a slot <code>void spawnObjects(int count, ObjectType type);</code> with</p>\n\n<pre><code>connect(&amp;dialog, SIGNAL(drawObjects(int, ObjectType)),this,SLOT(spawnObjects(int, ObjectType)));\n</code></pre>\n\n<p>This has no effect, however. The slot is not called, which I know since in its definition there is a <code>qDebug() &lt;&lt; \"Count: \" &lt;&lt; count &lt;&lt; \"  Type: \"  &lt;&lt; type;</code> line, that should print the passed object amount and the object type to the console.</p>\n\n<p>Why is the slot in the <code>MainWindow</code> not being called in this case, even though it seems to be connected to it?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "edited": false, "score": 0, "creation_date": 1569445331, "post_id": 58106447, "comment_id": 102603705, "body": "Why don&#39;t you just use <code>std::string</code>? You won&#39;t have any trailing zeros to worry about."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1569445332, "post_id": 58106447, "comment_id": 102603708, "body": "<code>sName != &#39;\\0&#39;</code> you&#39;re comparing a c-string to a character? Did you mean <code>sName[0] != &#39;0&#39;</code>? Why not use <code>std::string</code> and save some headache?"}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569445415, "post_id": 58106447, "comment_id": 102603735, "body": "Because then it would be easier, and my professor would not approve."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569445439, "post_id": 58106447, "comment_id": 102603739, "body": "I don&#39;t really understand the problem. Why can&#39;t you check if the current character is <code>0</code>, and if it is, break out the loop?"}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569445494, "post_id": 58106447, "comment_id": 102603757, "body": "actually i just realized even with sName[0] != \\0 its not actually terminating"}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569445532, "post_id": 58106447, "comment_id": 102603770, "body": "isnt backlash 0 not the same as just plain 0?"}, {"owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "edited": false, "score": 0, "creation_date": 1569445761, "post_id": 58106447, "comment_id": 102603838, "body": "You cannot enter escape sequences as input (at least not without parsing it manually). If you type <code>\\0</code> at the prompt, your program will receive two characters - <code>\\ </code> (ASCII 92) and <code>0</code> (ASCII 48) (and a line ending, but <code>getline</code> takes care of it). I&#39;m not aware of a way to input NUL character (ASCII 0) into a program."}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569445858, "post_id": 58106447, "comment_id": 102603869, "body": "IF that&#39;s the case, what should I be putting into the while loop to make it even do anything? I just don&#39;t see the point of a while loop in this scenario, but it&#39;s what I gotta do."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1569446045, "post_id": 58106447, "comment_id": 102603926, "body": "@telusive &quot;<i>I just don&#39;t see the point of a while loop in this scenario, but it&#39;s what I gotta do.</i>&quot; From the looks of it: you just don&#39;t understand requirements, and instead of asking for clarification, or help, from your lecturer, you are just trying to cobble something up without understanding how it works, and why. Yes, the <code>while</code>, <b>as currently written</b> - serves a purpose of being an infinite loop, since it is, essentially, <code>while (sName != nullptr)</code>, and <code>sName</code>, will never be <code>nullptr</code>."}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569446221, "post_id": 58106447, "comment_id": 102603986, "body": "Professor is unavailable for help at any times. I have already tried to email her 3 days ago."}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569446419, "post_id": 58106447, "comment_id": 102604041, "body": "No, no pointers or functions are allowed."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569446834, "post_id": 58106447, "comment_id": 102604163, "body": "You have to explain things to rubber ducks and computers very carefully. If you can explain something to the rubber duck, you can explain it to a computer. So With me as the rubber duck, explain what <code>while (sName != &#39;\\0&#39;)</code> does."}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "edited": false, "score": 1, "creation_date": 1569447610, "post_id": 58106447, "comment_id": 102604408, "body": "You cannot enter a <i>nul-character</i> from the command line. Change your prompt to simply <code>&quot;Please enter your name: &quot;</code>. When you press <code>[Enter]</code> input ends and <code>getline</code> automatically <i>nul-terminates</i> the string."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 2212476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7ac7b7d7e359782f1244641dcaad52?s=128&d=identicon&r=PG", "display_name": "Boki", "link": "https://stackoverflow.com/users/2212476/boki"}, "is_accepted": false, "score": 1, "last_activity_date": 1569448034, "last_edit_date": 1569448034, "creation_date": 1569446834, "answer_id": 58106748, "question_id": 58106447, "link": "https://stackoverflow.com/questions/58106447/getting-this-program-to-not-print-the-trailing-0s/58106748#58106748", "title": "Getting this program to not print the trailing 0s", "body": "<p>If I understood well, you've probably wanted something like code below.\nistream getline will append terminating char anyway, so your message to user could be changed. Also, you can use pointer to char to loop over char array. </p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include&lt;iomanip&gt;\nusing namespace std;\n\nint main()\n{   \n    char sName[30] = \"your name\";\n\n    cout &lt;&lt; \"\\nPlease enter your name or\" &lt;&lt;  \" press enter to quit \\n\";\n    cin.getline(sName, 30);\n    char* ptr = &amp;sName[0];\n    while (*ptr != '\\0') {\n        cout &lt;&lt; *ptr &lt;&lt; \"\\t\\t\";\n        cout &lt;&lt; static_cast&lt;int&gt;(*ptr) &lt;&lt; endl;\n        ++ptr;\n    }\n}\n</code></pre>\n\n<p>Or, without using pointer to char, just indexing an array</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint main()\n{   \n    char sName[30] =  \"your name\" ;\n    cout &lt;&lt; \"\\nPlease enter your name or press enter to quit \\n\";\n    cin.getline(sName, 30);\n    int cnt(0);\n    while (sName[cnt] != '\\0') {\n        cout &lt;&lt; sName[cnt] &lt;&lt; \"\\t\\t\";\n        cout &lt;&lt; static_cast&lt;int&gt;(sName[cnt]) &lt;&lt; \"\\n\";\n        cnt++;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449173, "post_id": 58106937, "comment_id": 102604854, "body": "it has to be a while loop though, a for loop would make this much easier I agree.I&#39;m also not allowed to declare any other variables to store that 30 in. Also much easier."}], "tags": [], "owner": {"reputation": 3198, "user_id": 6119582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/274d37ce6d78ed9281f47a2712aaed48?s=128&d=identicon&r=PG&f=1", "display_name": "sweenish", "link": "https://stackoverflow.com/users/6119582/sweenish"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449367, "last_edit_date": 1569449367, "creation_date": 1569447887, "answer_id": 58106937, "question_id": 58106447, "link": "https://stackoverflow.com/questions/58106447/getting-this-program-to-not-print-the-trailing-0s/58106937#58106937", "title": "Getting this program to not print the trailing 0s", "body": "<p>Your program, as-is, does not even compile on my system (macOS Mojave) with this error: \n<code>comparison between pointer and integer ('char *' and 'char')</code> on your while loop comparison.</p>\n\n<p>As the error indicates, you are actually comparing the memory address of the array to a single character value. It will likely always be false.</p>\n\n<p>sName is a C-string, meaning it is an array of characters that [should be] null-character terminated. This also means that your check <code>sName != '\\0'</code> is bad.</p>\n\n<p>Without doing your homework for you, here are some pointers.</p>\n\n<ul>\n<li>You cannot type '\\0', <code>cin.getline()</code> is reading that as two characters '\\' and '0'. If you are supposed to check whether the first character is a null character, then the user only needs to press enter (the '\\0' will automatically be the first character in sName)</li>\n<li>You don't need nested loops. Inside your single loop, you can just check if you have a null character, it will catch it if it's the first character, and also catch it when you've reached the proper end of the entered name</li>\n<li>Do not include <code>&lt;string&gt;</code> if you are not allowed to use <code>std::string</code></li>\n<li><code>&lt;iomanip&gt;</code> is not needed, either</li>\n<li>You really don't have to do any special C-string stuff at all. You never included <code>&lt;cstring&gt;</code>, and you don't have to</li>\n<li>Future better practice tip: Try to avoid magic numbers; the 30 in your case. Declare a constant with the value you need; <code>const int MAX_NAME_SIZE = 30;</code> and use it instead. You will also only need to use it once when declaring the array. `sizeof(sName) is safer, although you could use the constant here again. The benefit is two-fold. Your code is easier to read, and if you change how big that array can be, you now only have to change it in one location. This may not be allowed given your current requirements, but you also don't need any other variables except sName to do this task.</li>\n</ul>\n\n<p>Just so I provide a solution, I've purposely used <code>std::string</code> (can think of it as an automatically managed C-String) and some modern C++. It will, with just a little research, be easy enough to switch things around to meet your requirements. No one should be spoon-feeding specific homework solutions, it defeats the purpose.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main() {\n  std::string sName = \"Johnathan Fitzgerald Kennedy\";\n\n  std::cout &lt;&lt; \"Please type your name: \";\n  std::getline(std::cin, sName);\n\n  int cnt1 = 0;\n  while (sName[cnt1] != '\\0' &amp;&amp; cnt1 &lt; sName.size()) {\n    std::cout &lt;&lt; static_cast&lt;int&gt;(sName[cnt1]) &lt;&lt; '\\n';\n    ++cnt1;\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449067, "post_id": 58107033, "comment_id": 102604816, "body": "im not allowed to create any other variables, so, while I understand it&#39;s a better practice, creating the variable to store 30 would make this points off. and it specifically HAS to be a while loop. Or else yes, this would be much easier :("}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449157, "post_id": 58107033, "comment_id": 102604847, "body": "Technically <code>MAXC</code> isn&#39;t a variable, it is a defined constant. (meaning you cannot change it to be anything else -- it is set at compile-time, not runtime <code>:)</code> If you are concerned about the addition, just stick <code>30</code> back in where <code>MAXC</code> is now."}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449237, "post_id": 58107033, "comment_id": 102604864, "body": "but it also has to be a while loop, a for loop is much simpler, but it has to be a while :("}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449266, "post_id": 58107033, "comment_id": 102604870, "body": "A <code>while</code> is simple too, I&#39;ll add one."}, {"owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449328, "post_id": 58107033, "comment_id": 102604888, "body": "I feel like I&#39;m learning bad practices in this class, but she always makes her programs have like 3 named things, and that&#39;s all I&#39;m allowed to use"}, {"owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "reply_to_user": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "edited": false, "score": 0, "creation_date": 1569449614, "post_id": 58107033, "comment_id": 102604956, "body": "Unfortunately, that is more common than not. Many teachers &quot;teaching&quot; C++ have never worked as a programmer in real life... That is why &quot;peer-reviewed&quot; sites like StackOverflow are a valuable tool for anyone learning to program..."}], "tags": [], "owner": {"reputation": 68403, "user_id": 3422102, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tg0Gt.png?s=128&g=1", "display_name": "David C. Rankin", "link": "https://stackoverflow.com/users/3422102/david-c-rankin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569449468, "last_edit_date": 1569449468, "creation_date": 1569448440, "answer_id": 58107033, "question_id": 58106447, "link": "https://stackoverflow.com/questions/58106447/getting-this-program-to-not-print-the-trailing-0s/58107033#58107033", "title": "Getting this program to not print the trailing 0s", "body": "<p>You cannot enter a <em>nul-character</em> from the command line. When the user presses <kbd>Enter</kbd> after entering input a <code>'\\n'</code> is generated and <code>getline</code> terminates the input, extracting the <code>'\\n'</code> from the input stream but not including the <code>'\\n'</code> in the buffer filled. <code>getline</code> automatically <em>nul-terminates</em> the string.</p>\n\n<p>Further, your outer <code>while</code> loop is superfluous. All that is needed is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#define MAXC 30\n\nint main (void)\n{   \n    char sName[MAXC] = { \"your name\" };\n\n    std::cout &lt;&lt; \"Please enter your name: \";\n    std::cin.getline(sName, MAXC);\n\n    for (size_t cnt1 = 0; sName[cnt1]; cnt1++)\n        std:: cout &lt;&lt; sName[cnt1] &lt;&lt; \"\\t\\t\"\n                    &lt;&lt; static_cast&lt;int&gt;(sName[cnt1]) &lt;&lt; '\\n';\n}\n</code></pre>\n\n<p>(<strong>note:</strong> avoid using <em>magic-numbers</em> in your code (e.g. <code>30</code>). If you need a constant, either <code>#define</code> one, declare a global <code>enum</code> or declare a <code>const int</code> value)</p>\n\n<p><strong>Example Use/Output</strong></p>\n\n<pre><code>$ ./bin/char_getline\nPlease enter your name: John Q Public\nJ               74\no               111\nh               104\nn               110\n                32\nQ               81\n                32\nP               80\nu               117\nb               98\nl               108\ni               105\nc               99\n</code></pre>\n\n<p><strong>Using a <code>while</code> Loop</strong></p>\n\n<p>Using a <code>while</code> loop is just as easy. Using your <code>cnt1</code> variable, just increment until you reach the <em>nul-terminating</em> character, e.g.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main (void)\n{   \n    char sName[30] = { \"your name\" };\n    size_t cnt1 = 0;\n\n    std::cout &lt;&lt; \"Please enter your name: \";\n    std::cin.getline(sName, 30);\n\n    while (sName[cnt1]) {\n            std::cout &lt;&lt; sName[cnt1] &lt;&lt; \"\\t\\t\";\n            std::cout &lt;&lt; static_cast&lt;int&gt;(sName[cnt1++]) &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>(<strong>note:</strong> I have removed the defined constant per your comment, output is the same)</p>\n\n<p>Look things over an let me know if you have further questions.</p>\n"}], "owner": {"reputation": 1, "user_id": 12121574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859a271bc616a9c6c246e9da9492e1b9?s=128&d=identicon&r=PG&f=1", "display_name": "telusive", "link": "https://stackoverflow.com/users/12121574/telusive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1569449468, "creation_date": 1569445116, "last_edit_date": 1569445979, "question_id": 58106447, "link": "https://stackoverflow.com/questions/58106447/getting-this-program-to-not-print-the-trailing-0s", "title": "Getting this program to not print the trailing 0s", "body": "<p>I'm suppose to Use cin.getline( ...... ) to type another name into the variable sName.\nPrint the ascii value of each character in the char array, 1 per line. Use a while loop and look for the '\\0' as a signal to end.</p>\n\n<p>I can only use 3 variables, cnt1,cnt2 and sName which has to hold 30 elements and be set to my name. Then I have to overwrite it with getline.</p>\n\n<p>Right now if I enter Jon Doe, it gives me 0s for the other remaining values (bc they're 0 to be fair) how can I make it so that this does not show in my output?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include&lt;iomanip&gt;\nusing namespace std;\n\nint main()\n{   \nchar sName[30] = { \"your name\" };\n\ncout &lt;&lt; \"Please enter your name or\" &lt;&lt;  \" \\\\0 to quit \\n\";\ncin.getline(sName, 30);\nwhile (sName != '\\0')\n{\n    for (int cnt1 = 0; cnt1 &lt; 30; cnt1++)\n    {\nif (sName[cnt1] == 0)\n            break;\n        else {\n        cout &lt;&lt; sName[cnt1] &lt;&lt; \"\\t\\t\";\n        cout &lt;&lt; static_cast&lt;int&gt;(sName[cnt1]) &lt;&lt; endl;}\n\n    }\nbreak;\n}\n</code></pre>\n\n<p>I get correct ascii values, but it's not properly exiting if the \\0 is entered. and I don't know what else to make the while loop do to start off the program besides check for that....</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1569445030, "post_id": 58106360, "comment_id": 102603614, "body": "Just fyi, a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of this could be done in as few as 11 lines like this: <a href=\"https://ideone.com/e3Xgr7\" rel=\"nofollow noreferrer\">ideone.com/e3Xgr7</a>"}, {"owner": {"reputation": 35, "user_id": 10128710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b08a3437bd67d2338be918f40b412fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ervin Enriquez", "link": "https://stackoverflow.com/users/10128710/ervin-enriquez"}, "reply_to_user": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1569445366, "post_id": 58106360, "comment_id": 102603723, "body": "@scohe001 I apologize. I just did not want to leave out anything that could possibly be conflicting but now that you raise that point up, there are things I could have cut out like you mentioned."}, {"owner": {"reputation": 13849, "user_id": 2602718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CQ4Gj.jpg?s=128&g=1", "display_name": "scohe001", "link": "https://stackoverflow.com/users/2602718/scohe001"}, "edited": false, "score": 0, "creation_date": 1569445515, "post_id": 58106360, "comment_id": 102603763, "body": "No worries :) just remember for next time. Usually when I&#39;m preparing to ask a question, I strip down the code piece by piece to see how small I can get it while still getting the error. Oftentimes that alone shows me what the error is. MCVE&#39;s are helpful for everybody."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569450172, "post_id": 58106360, "comment_id": 102605082, "body": "Be aware that you never actually asked a question. It would be much better to start with the question (with a description of the situation), before going into how you searched but didn&#39;t find an answer. See also <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> (in particular: &quot;Introduce the problem before you post any code&quot;)."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10128710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b08a3437bd67d2338be918f40b412fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ervin Enriquez", "link": "https://stackoverflow.com/users/10128710/ervin-enriquez"}, "edited": false, "score": 0, "creation_date": 1569445405, "post_id": 58106434, "comment_id": 102603734, "body": "Thank you! This was the solution. Will mark as answered as soon as &#39;answer timer&#39; ends. Thank you for the swift answer once again."}], "tags": [], "owner": {"reputation": 527, "user_id": 2212476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df7ac7b7d7e359782f1244641dcaad52?s=128&d=identicon&r=PG", "display_name": "Boki", "link": "https://stackoverflow.com/users/2212476/boki"}, "is_accepted": true, "score": 2, "last_activity_date": 1569445078, "creation_date": 1569445078, "answer_id": 58106434, "question_id": 58106360, "link": "https://stackoverflow.com/questions/58106360/use-of-enum-without-previous-declaration-enum-does-not-name-a-type/58106434#58106434", "title": "Use of enum without previous declaration &amp; &#39;___&#39; (enum) does not name a type", "body": "<p>In short, your compiler explained everything to you, we just need to properly decode, compiler messages.\nYou are using only declared Comparison where it needs to be defined. So, quick solution would be to define Comparison in header file, before you use it.</p>\n\n<pre><code>#ifndef ITEMTYPE_H\n#define ITEMTYPE_H\n\n#include &lt;iostream&gt;\n\nclass ItemType {\n\n    private:\n        int value;\n\n    public:\n        enum Comparison{GREATER, LESS, EQUAL};// you dont need this in source file\n        Comparison compareTo(ItemType item);// etc....\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 10128710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b08a3437bd67d2338be918f40b412fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ervin Enriquez", "link": "https://stackoverflow.com/users/10128710/ervin-enriquez"}, "edited": false, "score": 0, "creation_date": 1569445520, "post_id": 58106495, "comment_id": 102603765, "body": "This was the solution. Thank you for also giving me that information."}], "tags": [], "owner": {"reputation": 305, "user_id": 7642367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGRHn.jpg?s=128&g=1", "display_name": "Kyy13", "link": "https://stackoverflow.com/users/7642367/kyy13"}, "is_accepted": false, "score": 1, "last_activity_date": 1569445339, "creation_date": 1569445339, "answer_id": 58106495, "question_id": 58106360, "link": "https://stackoverflow.com/questions/58106360/use-of-enum-without-previous-declaration-enum-does-not-name-a-type/58106495#58106495", "title": "Use of enum without previous declaration &amp; &#39;___&#39; (enum) does not name a type", "body": "<p>The type of enum depends on the number (and values) of the enumerations you assign to it, so fully declare it in the header as</p>\n\n<pre><code>enum Comparison{GREATER, LESS, EQUAL};\n</code></pre>\n\n<p>It also defeats the purpose of enum to have the enumerations only visible to the class implementation when a member functions returns that enumeration.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 10128710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b08a3437bd67d2338be918f40b412fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ervin Enriquez", "link": "https://stackoverflow.com/users/10128710/ervin-enriquez"}, "edited": false, "score": 0, "creation_date": 1569445701, "post_id": 58106530, "comment_id": 102603826, "body": "Thank you for your answer! It is much appreciated."}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 0, "creation_date": 1569446239, "post_id": 58106530, "comment_id": 102603990, "body": "&quot;<i>You declared the enum without any value, which is not valid C++</i>&quot; - isn&#39;t really correct though. Check out &quot;Opaque enum declaration&quot;."}, {"owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "reply_to_user": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 1, "creation_date": 1569446621, "post_id": 58106530, "comment_id": 102604101, "body": "@TedLyngmo I actually used opaque enum declaration in my answer, but you&#39;re right, my first sentence is a bit misleading. I&#39;ve fixed it."}], "tags": [], "owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "is_accepted": false, "score": 1, "last_activity_date": 1569446707, "last_edit_date": 1569446707, "creation_date": 1569445563, "answer_id": 58106530, "question_id": 58106360, "link": "https://stackoverflow.com/questions/58106360/use-of-enum-without-previous-declaration-enum-does-not-name-a-type/58106530#58106530", "title": "Use of enum without previous declaration &amp; &#39;___&#39; (enum) does not name a type", "body": "<p>You declared the enum without any value (nor underlying type, see second solution), which is not valid C++; and in your cpp file, you declared a new enum with the same name since you forgot the enum's scope.</p>\n\n<p>The easiest way to correct your problem is to fully declare the enumeration in the class :</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// in ItemType.h\nclass ItemType {\n\nprivate:\n        int value;\n\npublic:\n        enum Comparison { GREATER, LESS, EQUAL };\n        ItemType(); //Default Constructor\n        Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n        int getValue() const; //Return the value instance variable\n        void initialize(int num); //Initializes the data member by variable num\n};\n</code></pre>\n\n<p>If you need to forward declare it, you will have to specify an underlying type so the compiler knows the size of the enum (and don't forget the scope) :</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// in ItemType.h\nclass ItemType {\n\nprivate:\n        int value;\n\npublic:\n        enum Comparison : int;\n        ItemType(); //Default Constructor\n        Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n        int getValue() const; //Return the value instance variable\n        void initialize(int num); //Initializes the data member by variable num\n};\n\n// in ItemType.cpp\n\n//Enumeration\nenum ItemType::Comparison : int { GREATER, LESS, EQUAL };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "is_accepted": false, "score": 2, "last_activity_date": 1569445667, "creation_date": 1569445667, "answer_id": 58106552, "question_id": 58106360, "link": "https://stackoverflow.com/questions/58106360/use-of-enum-without-previous-declaration-enum-does-not-name-a-type/58106552#58106552", "title": "Use of enum without previous declaration &amp; &#39;___&#39; (enum) does not name a type", "body": "<p>If you for some reason would not like to share the possible values your <code>enum</code>s may take, just share the underlying type the <code>enum</code> uses so that the compiler knows how to do its job. Otherwise it doesn't know the size of the <code>enum</code>:</p>\n\n<p>hpp:</p>\n\n<pre><code>class ItemType {\n    ...\n    enum Comparison : int;\n</code></pre>\n\n<p>cpp:</p>\n\n<pre><code>enum ItemType::Comparison : int {GREATER, LESS, EQUAL};\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10128710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b08a3437bd67d2338be918f40b412fb?s=128&d=identicon&r=PG&f=1", "display_name": "Ervin Enriquez", "link": "https://stackoverflow.com/users/10128710/ervin-enriquez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2226, "favorite_count": 0, "accepted_answer_id": 58106434, "answer_count": 4, "score": 0, "last_activity_date": 1569446707, "creation_date": 1569444637, "question_id": 58106360, "link": "https://stackoverflow.com/questions/58106360/use-of-enum-without-previous-declaration-enum-does-not-name-a-type", "title": "Use of enum without previous declaration &amp; &#39;___&#39; (enum) does not name a type", "body": "<p>I've tried looking for other posts with the same issue as mine but could not find any. </p>\n\n<p>The others have the same issue but the solutions they have I already went through and made sure I did that as well and I'm still having the issue.</p>\n\n<p>There are three files in question here:</p>\n\n<ol>\n<li>ItemType.h which includes:</li>\n</ol>\n\n<pre><code>#ifndef ITEMTYPE_H\n#define ITEMTYPE_H\n\n#include &lt;iostream&gt;\n\nclass ItemType {\n\nprivate:\n        int value;\n\npublic:\n        enum Comparison;\n        ItemType(); //Default Constructor\n        Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n        int getValue() const; //Return the value instance variable\n        void initialize(int num); //Initializes the data member by variable num\n};\n#endif\n</code></pre>\n\n<ol start=\"2\">\n<li>ItemType.cpp which includes:</li>\n</ol>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"ItemType.h\"\n\n//Enumeration\nenum Comparison{GREATER, LESS, EQUAL};\n\n//Methods\nItemType::ItemType() {\n        value = 0;\n}\nItemType::Comparison ItemType::compareTo(ItemType itemIn) {\n        if (this-&gt;value &lt; itemIn.getValue()) {\n                return LESS;\n        } else if (this-&gt;value &gt; itemIn.getValue()) {\n                return GREATER;\n        } else {\n                return EQUAL;\n        }\n\n}\nint ItemType::getValue() const {\n        return value;\n}\nvoid ItemType::initialize(int num) {\n        ItemType a;\n        a.value = num;\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>SortedLinkedList.cpp which is where i'm trying to utilize the enumeration. (There are other methods not shown that utilize ItemType.h &amp; ListNode.h that is why they are included).</li>\n</ol>\n\n<pre><code>#include &lt;iostream&gt;\n#include \"SortedLinkedList.h\"\n#include \"ItemType.h\"\n#include \"ListNode.h\"\n\n//Methods\nint SortedLinkedList::searchItem(ItemType &amp;itemIn) {\n        int count = 0;\n        ListNode *node = head;\n        while (node != NULL) {\n                count++;\n                if(node-&gt;item.compareTo(itemIn.getValue() == 3)) {\n                        return count;\n                        break;\n                } else {\n                        node = node-&gt;next;\n                }\n\n        }\n        return -1; //Could not find.\n}\n</code></pre>\n\n<ol start=\"4\">\n<li>Here is the makefile just incase:</li>\n</ol>\n\n<pre><code>main: main.cpp SortedLinkedList.cpp ItemType.cpp ItemType.h SortedLinkedList.h ListNode.h\n        g++ -o main main.cpp ItemType.cpp SortedLinkedList.cpp -I.\n</code></pre>\n\n<p>The compilation errors I'm receiving include:</p>\n\n<pre><code>g++ -o main main.cpp ItemType.cpp SortedLinkedList.cpp -I.\nIn file included from main.cpp:4:0:\nItemType.h:12:7: error: use of enum \u2018Comparison\u2019 without previous declaration\n  enum Comparison;\n       ^~~~~~~~~~\nItemType.h:14:2: error: \u2018Comparison\u2019 does not name a type\n  Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n  ^~~~~~~~~~\nIn file included from ItemType.cpp:2:0:\nItemType.h:12:7: error: use of enum \u2018Comparison\u2019 without previous declaration\n  enum Comparison;\n       ^~~~~~~~~~\nItemType.h:14:2: error: \u2018Comparison\u2019 does not name a type\n  Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n  ^~~~~~~~~~\nItemType.cpp:5:6: error: \u2018Comparison\u2019 does not name an enumeration in \u2018ItemType\u2019\n enum ItemType::Comparison{GREATER, LESS, EQUAL};\n      ^~~~~~~~\nItemType.cpp:11:11: error: \u2018Comparison\u2019 in \u2018class ItemType\u2019 does not name a type\n ItemType::Comparison ItemType::compareTo(ItemType itemIn) {\n           ^~~~~~~~~~\nIn file included from SortedLinkedList.h:4:0,\n                 from SortedLinkedList.cpp:2:\nItemType.h:12:7: error: use of enum \u2018Comparison\u2019 without previous declaration\n  enum Comparison;\n       ^~~~~~~~~~\nItemType.h:14:2: error: \u2018Comparison\u2019 does not name a type\n  Comparison compareTo(ItemType item); //Compare the value of item with the current object's value and return GREATER, LESS OR EQUAL.\n  ^~~~~~~~~~\nSortedLinkedList.cpp: In member function \u2018int SortedLinkedList::searchItem(ItemType&amp;)\u2019:\nSortedLinkedList.cpp:27:17: error: \u2018class ItemType\u2019 has no member named \u2018compareTo\u2019\n   if(node-&gt;item.compareTo(itemIn.getValue() == 3)) {\n                 ^~~~~~~~~\nmake: *** [main] Error 1\n</code></pre>\n"}, {"tags": ["c++", "cmake"], "comments": [{"owner": {"reputation": 11727, "user_id": 3987854, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OV64v.jpg?s=128&g=1", "display_name": "squareskittles", "link": "https://stackoverflow.com/users/3987854/squareskittles"}, "edited": false, "score": 0, "creation_date": 1569443689, "post_id": 58105979, "comment_id": 102603148, "body": "Calls to <code>add_library(appcore STATIC ...)</code> like this should be provided source(s), not the actual pre-built libraries. If the library locations are known, you can provide the full path directly in your call to <code>target_link_libraries()</code>, or use <code>find_library()</code> as it is used in <a href=\"https://stackoverflow.com/a/2603449/3987854\">this</a> answer."}, {"owner": {"reputation": 66, "user_id": 12121347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1d0ab58a3c293db3f42a9a7fb75137?s=128&d=identicon&r=PG", "display_name": "Call_in", "link": "https://stackoverflow.com/users/12121347/call-in"}, "reply_to_user": {"reputation": 11727, "user_id": 3987854, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/OV64v.jpg?s=128&g=1", "display_name": "squareskittles", "link": "https://stackoverflow.com/users/3987854/squareskittles"}, "edited": false, "score": 0, "creation_date": 1569450706, "post_id": 58105979, "comment_id": 102605217, "body": "Thanks @squareskittles for the clarification, I&#39;ve tried that and it works"}], "owner": {"reputation": 66, "user_id": 12121347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc1d0ab58a3c293db3f42a9a7fb75137?s=128&d=identicon&r=PG", "display_name": "Call_in", "link": "https://stackoverflow.com/users/12121347/call-in"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "closed_date": 1569448725, "answer_count": 0, "score": 1, "last_activity_date": 1569442642, "creation_date": 1569442642, "question_id": 58105979, "link": "https://stackoverflow.com/questions/58105979/error-lnk1104-cannot-open-file-debug-ultralight-lib", "closed_reason": "Duplicate", "title": "Error LNK1104 : Cannot open file debug/ultralight.lib", "body": "<p>I have been trying to use CMake, I've successed to add GLEW but keep fighting against it when I'm trying to add <a href=\"https://github.com/ultralight-ux/ultralight\" rel=\"nofollow noreferrer\">Ultralight</a>.</p>\n\n<p>Ultralight SDK contains 4 .lib and 4 .dll files (I'm trying to use the .lib ones): <a href=\"https://i.imgur.com/NOx5GqZ.png\" rel=\"nofollow noreferrer\">ultralight Lib folder</a></p>\n\n<p>Also the header files are in the include folder like this : <a href=\"https://i.imgur.com/QyCSwCL.png\" rel=\"nofollow noreferrer\">ultralight include folder</a></p>\n\n<p>So I've tried this CMakelist.txt :</p>\n\n<pre><code>cmake_minimum_required (VERSION 3.8)\nset(CMAKE_CXX_STANDARD_REQUIRED ON)\nset(CMAKE_WINDOWS_EXPORT_ALL_SYMBOLS ON)\n\nPROJECT(HumbugEngine)\n\ninclude(ExternalProject)\nfind_package(OpenGL REQUIRED)\n\nset(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/bin)\n\n#\n# Dependencies\n#\n\n#\n# ULTRALIGHT\n#\nset(ULTRALIGHTS_DIR_SDK \"deps/ultralight\")\nset(ULTRALIGHT_INCLUDE_DIR \"${ULTRALIGHTS_DIR_SDK}/include\")\nset(ULTRALIGHT_LIBRARY_DIR \"${ULTRALIGHTS_DIR_SDK}/lib\")\n\nadd_library(ultralight STATIC \"${ULTRALIGHT_LIBRARY_DIR}/Ultralight.lib\")\nadd_library(ultralightCore STATIC \"${ULTRALIGHT_LIBRARY_DIR}/UltralightCore.lib\")\nadd_library(webcore STATIC \"${ULTRALIGHT_LIBRARY_DIR}/WebCore.lib\")\nadd_library(appcore STATIC \"${ULTRALIGHT_LIBRARY_DIR}/AppCore.lib\")\n\nset_target_properties(ultralight PROPERTIES LINKER_LANGUAGE CXX)\nset_target_properties(ultralightCore PROPERTIES LINKER_LANGUAGE CXX)\nset_target_properties(webcore PROPERTIES LINKER_LANGUAGE CXX)\nset_target_properties(appcore PROPERTIES LINKER_LANGUAGE CXX)\n\n#\n# GLEW\n#\nadd_definitions(-DGLEW_STATIC)\nadd_subdirectory(deps/glew EXCLUDE_FROM_ALL)\n\n#\n# Headers\n#\ninclude_directories(\n    ${PROJECT_SOURCE_DIR}/include\n    ${ULTRALIGHT_INCLUDE_DIR}\n)\n\n#\n# Sources\n#\nfile(GLOB PROJECT_SOURCES \"src/*.cpp\")\n\nadd_executable(${PROJECT_NAME} ${PROJECT_SOURCES})\n\ntarget_link_libraries(\n    ${PROJECT_NAME}\n    ${OPENGL_LIBRARIES}\n    libglew_static\n    ultralight ultralightCore webcore appcore\n)\n</code></pre>\n\n<p>My build folder looks like this : <a href=\"https://i.imgur.com/3H8dFNd.png\" rel=\"nofollow noreferrer\">build image</a></p>\n\n<p>The build is a success, I don't have any errors but in visual I keep getting</p>\n\n<pre><code>LINK : fatal error LNK1104: cannot open file 'Debug\\ultralight.lib'\n</code></pre>\n\n<p>Thanks for the help, can't find a hint about what I'm doing wrong, I'm a CMake total beginner.</p>\n\n<p>PS: I can't post images because I just created this account :(</p>\n"}, {"tags": ["c++", "division"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569442716, "post_id": 58105956, "comment_id": 102602791, "body": "Assignments are <code>variable_to_assing_to = expression_to_get_the_value</code>. The order of the left- and right-hand sides are fixed."}, {"owner": {"reputation": 9551, "user_id": 9837301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9414V.png?s=128&g=1", "display_name": "JaMiT", "link": "https://stackoverflow.com/users/9837301/jamit"}, "edited": false, "score": 0, "creation_date": 1569449937, "post_id": 58105956, "comment_id": 102605029, "body": "The error message should have told you which line has the error. With that information, you could have come up with a much shorter <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> -- remove everything in the <code>main</code> function except the line with the error and the declaration of <code>paintneeded</code> (since that variable is used in the line with the error)."}], "answers": [{"comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1569442730, "post_id": 58105995, "comment_id": 102602800, "body": "This won&#39;t work because the <code>area</code> needs to be involved."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1569443213, "post_id": 58105995, "comment_id": 102602975, "body": "@ThomasMatthews It solves the error the OP is asking about. It won&#39;t lead to the expected result being printed, but that&#39;s another issue."}], "tags": [], "owner": {"reputation": 3047, "user_id": 1982677, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4747c1108b8ae3ee8ac15502e0c3b046?s=128&d=identicon&r=PG", "display_name": "kvivek", "link": "https://stackoverflow.com/users/1982677/kvivek"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443330, "last_edit_date": 1569443330, "creation_date": 1569442702, "answer_id": 58105995, "question_id": 58105956, "link": "https://stackoverflow.com/questions/58105956/when-i-attempt-to-build-this-program-i-get-this-error-lvalue-required-as-left-o/58105995#58105995", "title": "When I attempt to build this program I get this error: lvalue required as left operand of assignment", "body": "<p>For this error change this line</p>\n\n<p><code>1000 / 500  = paintneeded;</code></p>\n\n<p>to </p>\n\n<p><code>paintneeded = 1000 / 500;</code></p>\n\n<p>Since your program doesn't have complete logic. You need to write logic like:\nPaint per square area unit 'X' (some value).</p>\n\n<p>For example: define a constant as shown below </p>\n\n<p><code>PAINT_PER_AREA  =  2;</code> </p>\n\n<p>And then, \n<code>paintneeded = PAINT_PER_AREA * area;</code></p>\n"}, {"comments": [{"owner": {"reputation": 1347, "user_id": 877610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec1dfc28e713560dae7bfad166d5e994?s=128&d=identicon&r=PG", "display_name": "AaronHolland", "link": "https://stackoverflow.com/users/877610/aaronholland"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569454238, "post_id": 58105999, "comment_id": 102605898, "body": "@Someprogrammerdude Yes, you are right.  paintneeded is an lvalue, and 1000 / 500 is an rvalue.  Was not quite with it yesterday :)"}], "tags": [], "owner": {"reputation": 1347, "user_id": 877610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec1dfc28e713560dae7bfad166d5e994?s=128&d=identicon&r=PG", "display_name": "AaronHolland", "link": "https://stackoverflow.com/users/877610/aaronholland"}, "is_accepted": true, "score": 0, "last_activity_date": 1569454266, "last_edit_date": 1569454266, "creation_date": 1569442739, "answer_id": 58105999, "question_id": 58105956, "link": "https://stackoverflow.com/questions/58105956/when-i-attempt-to-build-this-program-i-get-this-error-lvalue-required-as-left-o/58105999#58105999", "title": "When I attempt to build this program I get this error: lvalue required as left operand of assignment", "body": "<p>1000 / 500 is an rvalue.  </p>\n\n<p>Simply put, an rvalue is a temporary value that doesn't have a name that you can refer to later.\npaintneeded is an lvalue, and this is what you should be assigning to:</p>\n\n<pre><code>paintneeded = 1000 / 500;\n</code></pre>\n\n<p>Although I suspect it would involve the area in the formula too :)</p>\n"}], "owner": {"reputation": 65, "user_id": 5480556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c108517ea821809561f85205de484ed4?s=128&d=identicon&r=PG&f=1", "display_name": "Kingsod", "link": "https://stackoverflow.com/users/5480556/kingsod"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "closed_date": 1569449981, "accepted_answer_id": 58105999, "answer_count": 2, "score": -5, "last_activity_date": 1571586139, "creation_date": 1569442466, "last_edit_date": 1571586139, "question_id": 58105956, "link": "https://stackoverflow.com/questions/58105956/when-i-attempt-to-build-this-program-i-get-this-error-lvalue-required-as-left-o", "closed_reason": "Not suitable for this site", "title": "When I attempt to build this program I get this error: lvalue required as left operand of assignment", "body": "<p>I'm working on a homework problem for C++ and when I attempt to set this variable equal to the result of dividing these 2 numbers,and build the program I get the lvalue required as left operand of assignment error. How can I fix this?</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\n\nint main() {\n    double width = 0.0;\n    double height = 0.0;\n    double area = 0.0;\n    double paintneeded = 0;\n\n    cout &lt;&lt; \"Enter the width of the wall in feet: \";\n    cin &gt;&gt; width;\n\n    cout &lt;&lt; \"Enter the height of the wall in feet: \";\n    cin &gt;&gt; height;\n\n    area = height * width;\n    cout &lt;&lt; \"Total area to paint in square feet: \" &lt;&lt; area &lt;&lt; endl;\n\n    1000 / 500  = paintneeded;\n\n    cout &lt;&lt; \"The amount of paint needed is :\" &lt;&lt; paintneeded &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "string", "vector", "split", "push-back"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1569441125, "post_id": 58105648, "comment_id": 102602124, "body": "See <a href=\"https://stackoverflow.com/questions/236129/how-do-i-iterate-over-the-words-of-a-string\">this</a> for how to split a string by spaces"}, {"owner": {"reputation": 21, "user_id": 11524868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Glxwt.png?s=128&g=1", "display_name": "Demonic-Coder", "link": "https://stackoverflow.com/users/11524868/demonic-coder"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569441396, "post_id": 58105648, "comment_id": 102602244, "body": "Thank you that helps, but I still would like my code to work."}, {"owner": {"reputation": 3213, "user_id": 6084430, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/B0TaE.jpg?s=128&g=1", "display_name": "DimChtz", "link": "https://stackoverflow.com/users/6084430/dimchtz"}, "edited": false, "score": 0, "creation_date": 1569441546, "post_id": 58105648, "comment_id": 102602303, "body": "The second parameter on <code>std::string::substr</code> is for length. That means you need to change <code>v.push_back(temp.substr(begin, i));</code> to <code>v.push_back(temp.substr(begin, i - begin));</code> and then of course you need to take care of the last word."}, {"owner": {"reputation": 21, "user_id": 11524868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Glxwt.png?s=128&g=1", "display_name": "Demonic-Coder", "link": "https://stackoverflow.com/users/11524868/demonic-coder"}, "edited": false, "score": 0, "creation_date": 1569441633, "post_id": 58105648, "comment_id": 102602337, "body": "I got that completely wrong, thanks a lot!"}, {"owner": {"reputation": 405, "user_id": 7080683, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vHnjck4jA_4/AAAAAAAAAAI/AAAAAAAAACE/wU6N3qQY4hM/photo.jpg?sz=128", "display_name": "Arne J", "link": "https://stackoverflow.com/users/7080683/arne-j"}, "edited": false, "score": 0, "creation_date": 1569441730, "post_id": 58105648, "comment_id": 102602386, "body": "I see 2 problems right away : your code will push empty strings to the vector in case there are adjacent spaces + the last word is never added to the vector"}, {"owner": {"reputation": 3213, "user_id": 6084430, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/B0TaE.jpg?s=128&g=1", "display_name": "DimChtz", "link": "https://stackoverflow.com/users/6084430/dimchtz"}, "edited": false, "score": 0, "creation_date": 1569441752, "post_id": 58105648, "comment_id": 102602398, "body": "Why <code>i &lt; temp.length() - 1;</code>? and not <code>i &lt; temp.length() ;</code>? or at least <code>i &lt;= temp.length() - 1;</code>"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569442586, "post_id": 58105648, "comment_id": 102602732, "body": "@Demonic <i>but I still would like my code to work.</i> -- What if there are two or more adjacent spaces?  What is the output supposed to look like?"}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 0, "creation_date": 1569515316, "post_id": 58105648, "comment_id": 102630800, "body": "@Demonic If any of the answers helped you to solve the problem, please accept it so this question is removed from the list of unanswered questions."}], "answers": [{"comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569442276, "post_id": 58105829, "comment_id": 102602596, "body": "This won&#39;t give the desired results if there are two or more adjacent spaces."}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569442629, "post_id": 58105829, "comment_id": 102602755, "body": "I asked the OP in the original comment section what they want to show as output if two or more spaces are encountered."}, {"owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569443175, "post_id": 58105829, "comment_id": 102602962, "body": "@PaulMcKenzie thanks for the comment, implemented the change that you suggested"}], "tags": [], "owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443133, "last_edit_date": 1569443133, "creation_date": 1569441786, "answer_id": 58105829, "question_id": 58105648, "link": "https://stackoverflow.com/questions/58105648/im-having-difficulties-splitting-a-string-into-a-vector/58105829#58105829", "title": "I&#39;m having difficulties splitting a string into a vector", "body": "<p>The second argument to substr is number of characters you want to pick from original string and if that is not passed it will take all characters till end of string. Here is your code with those corrections :</p>\n\n<pre><code>  std::vector&lt;std::string&gt; splitStr(std::string s, char cut = 32) {\n    std::string temp = s;\n    int begin = 0;\n    // Remove multiple spaces based on logic described here : https://stackoverflow.com/questions/8362094/replace-multiple-spaces-with-one-space-in-a-string\n    std::string::iterator new_end = std::unique(temp.begin(), temp.end(), [](char one,char two) { return (one == two) &amp;&amp; (one == ' '); } );\n    temp.erase(new_end, temp.end());\n    std::vector&lt;std::string&gt; v;\n    for (int i = 0; i &lt; temp.length() - 1; ++i) {\n        if ((int) cut == (int) temp[i]) {\n            v.push_back(temp.substr(begin, i-begin));\n            begin = i + 1;\n        }\n    }\n    v.push_back(temp.substr(begin));\n    return v;\n}\n    using namespace std;\n\n\n    int main() {\n\n        for (string e : splitStr(\"Hello this is a test!\", ' ')) {\n            cout &lt;&lt; e &lt;&lt; endl;\n        }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443161, "creation_date": 1569443161, "answer_id": 58106089, "question_id": 58105648, "link": "https://stackoverflow.com/questions/58105648/im-having-difficulties-splitting-a-string-into-a-vector/58106089#58106089", "title": "I&#39;m having difficulties splitting a string into a vector", "body": "<p>For starters do not use magic numbers like 32.</p>\n\n<p>Secondly the tab character also can be considered as a blank separator. The first parameter should be a const reference to a string.</p>\n\n<p>There is no need to create a copy of the parameter within the function.</p>\n\n<p>This loop</p>\n\n<pre><code>for (int i = 0; i &lt; temp.length() - 1; ++i) {\n    if ((int) cut == (int) temp[i]) {\n        v.push_back(temp.substr(begin, i));\n        begin = i + 1;\n    }\n}\n</code></pre>\n\n<p>does not make sense. For example a string can contain two consecutive blanks. Secondly the second argument of the call of substr <code>temp.substr(begin, i)</code> is invalid. It shall specify the length of the substring,</p>\n\n<p>Instead of the loop use standard searching member functions of the class <code>std::string</code>.</p>\n\n<p>Here is a demonstrative program that shows how the function can be implemented.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstd::vector&lt;std::string&gt; splitStr( const std::string &amp;s, \n                                   const std::string &amp;delim = \" \\t\" )\n{\n    std::vector&lt;std::string&gt; v;\n\n    for ( std::string::size_type pos = 0, n = 0;\n          ( pos = s.find_first_not_of( delim, pos ) ) != std::string::npos; \n          pos += n )\n    {\n        n = s.find_first_of( delim, pos );\n\n        n = ( n == std::string::npos ? s.size() : n ) - pos;\n\n        v.push_back( s.substr( pos, n ) );\n    }\n\n    return v;\n}\n\nint main() \n{\n    for ( const auto &amp;s : splitStr( \"Hello this is a test!\" ) )\n    {\n        std::cout &lt;&lt; s &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Its output is</p>\n\n<pre><code>Hello\nthis\nis\na\ntest!\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 11524868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Glxwt.png?s=128&g=1", "display_name": "Demonic-Coder", "link": "https://stackoverflow.com/users/11524868/demonic-coder"}, "edited": false, "score": 1, "creation_date": 1569444123, "post_id": 58106105, "comment_id": 102603305, "body": "This is making me a better programmer, thanks for the effort I appreciate it."}], "tags": [], "owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443266, "creation_date": 1569443266, "answer_id": 58106105, "question_id": 58105648, "link": "https://stackoverflow.com/questions/58105648/im-having-difficulties-splitting-a-string-into-a-vector/58106105#58106105", "title": "I&#39;m having difficulties splitting a string into a vector", "body": "<blockquote>\n  <p>splitting it at every space character</p>\n</blockquote>\n\n<p>This will split it at <em>every</em> space character. I've commented on the changes in code.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\n// don't use magic numbers like 32 for space. Use a literal space: ' '\n\n// Instead of copying the string (potentially twice), use a reference to\n// your input parameter and make it const if you are not going to change it.\n\nstd::vector&lt;std::string&gt; splitStr(const std::string&amp; temp, char cut = ' ') {\n    // Use types designed for the task to avoid casting, like\n    // size_t for most indexing tasks.\n    size_t begin = 0;\n    std::vector&lt;std::string&gt; v;\n\n    // with temp.length()-1 you won't capture a space at the very end\n    for(size_t i = 0; i &lt; temp.length(); ++i) {\n        if(cut == temp[i]) {\n            // the second argument to substr is the length of the sub string\n            v.push_back(temp.substr(begin, i - begin));\n            begin = i + 1;\n        }\n    }\n    // add the remaining part of the string\n    v.push_back(temp.substr(begin));\n    return v;\n}\n\n// using namespace std; // don't do this globally\n\nint main() {\n    // added double spaces between words and one at the end for effect\n    for(const std::string&amp; e : splitStr(\"Hello  this  is  a  test! \", ' ')) {\n        // added &gt; and &lt; around the words to see what you captured\n        std::cout &lt;&lt; '&gt;' &lt;&lt; e &lt;&lt; '&lt;' &lt;&lt; std::endl;\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&gt;Hello&lt;\n&gt;&lt;\n&gt;this&lt;\n&gt;&lt;\n&gt;is&lt;\n&gt;&lt;\n&gt;a&lt;\n&gt;&lt;\n&gt;test!&lt;\n&gt;&lt;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11524868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Glxwt.png?s=128&g=1", "display_name": "Demonic-Coder", "link": "https://stackoverflow.com/users/11524868/demonic-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569443266, "creation_date": 1569441049, "question_id": 58105648, "link": "https://stackoverflow.com/questions/58105648/im-having-difficulties-splitting-a-string-into-a-vector", "title": "I&#39;m having difficulties splitting a string into a vector", "body": "<p>I'm trying to write code that initializes a string into a vector by splitting it at every space character. Somehow the temporary vector won't take the positions and it doesn't split the string right.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstd::vector&lt;std::string&gt; splitStr(std::string s, char cut = 32) {\n    std::string temp = s;\n    int begin = 0;\n    std::vector&lt;std::string&gt; v;\n    for (int i = 0; i &lt; temp.length() - 1; ++i) {\n        if ((int) cut == (int) temp[i]) {\n            v.push_back(temp.substr(begin, i));\n            begin = i + 1;\n        }\n    }\n    return v;\n}\n\n\nusing namespace std;\n\n\nint main() {\n\n    for (string e : splitStr(\"Hello this is a test!\", ' ')) {\n        cout &lt;&lt; e &lt;&lt; endl;\n    }\n\n}\n</code></pre>\n\n<p>I think it goes wrong while appending to the vector, but I don't get why that is.\nCan any of you guys tell me what I'm doing wrong?</p>\n"}, {"tags": ["c++", "boost", "cmake", "clion", "mingw-w64"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1569440616, "post_id": 58105485, "comment_id": 102601843, "body": "<code>system</code> and <code>filesystem</code> require boost to be compiled, unless you downloaded pre-compiled version."}, {"owner": {"reputation": 23, "user_id": 6233630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5nKhs.jpg?s=128&g=1", "display_name": "Kimerafusion", "link": "https://stackoverflow.com/users/6233630/kimerafusion"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1569440933, "post_id": 58105485, "comment_id": 102602021, "body": "Ok, but I also tried with a pre-compiled version from sourceforge but i get the exact same error using that version"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1569449319, "post_id": 58105485, "comment_id": 102604883, "body": "You need precompiled Boost, which has built with the same compiler as one you use. If you use g++ under MinGW, then Boost should be build with MinGW too. As you make CMake to find Boost at least partially, you may run <code>cmake</code> with additional <code>-DBoost_DEBUG=ON</code> option, and find out which <b>exact</b> files are tested when it searches for <code>system</code> component. Compare these searched files with the ones you actually have in your Boost installation."}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 6233630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5nKhs.jpg?s=128&g=1", "display_name": "Kimerafusion", "link": "https://stackoverflow.com/users/6233630/kimerafusion"}, "is_accepted": true, "score": 0, "last_activity_date": 1569461279, "last_edit_date": 1569461279, "creation_date": 1569460265, "answer_id": 58108293, "question_id": 58105485, "link": "https://stackoverflow.com/questions/58105485/linking-boost-in-clion-project/58108293#58108293", "title": "Linking boost in CLion project", "body": "<p>I found the whole story, and I'm writing down the solution in case someone a little lost like me needs it.</p>\n\n<p>So if you want to link boost to a project on windows using cmake with mingw as compiler, first you need to download and install mingw, with <strong>posix</strong> threads, and of cours x86_64 architecture. Then you download the boost sources and you can follow <a href=\"https://gist.github.com/sim642/29caef3cc8afaa273ce6\" rel=\"nofollow noreferrer\">this tutorial</a> in order to build Boost. Building Boost is <strong>mandatory</strong> for most of the boost libraries. By the way, to add things to windows PATH you need to go to Control Panel > System and Security > System > Advanced parameters > Environment variables and there you edit the PATH variable (you might want to add the mingw/bin folder to PATH). The last step will take a somewhat long time.</p>\n\n<p>Once you have build your libraries, what you want to do is to link them on your CMakeLists.txt file. This is the code you want to add to the file :</p>\n\n<pre><code>set(Boost_ARCHITECTURE -x64)\nset(BOOST_ROOT &lt;path/to/boost&gt;)\nset(BOOST_INCLUDEDIR &lt;path/to/boost/includes&gt;)\nset(BOOST_LIBRARYDIR &lt;path/to/boost/lib&gt;)\nset(BOOST_NO_SYSTEM_PATHS ON)\nfind_package(Boost COMPONENTS  &lt;the components you want to load&gt;)\ninclude_directories(${Boost_INCLUDE_DIRS})\n\nadd_executable(your_project main.cpp)\n\ntarget_link_libraries(untitled ${Boost_LIBRARIES})\n</code></pre>\n\n<p>So there is something up there that you won't find on FindBoost doc which is the Boost_ARCHITECTURE variable, which for some reason is not specified. The thing is that the lib files produced by the boost build will be named like this :\n<code>libboost_atomic-mgw81-mt-x64-1_71.a</code>, but by default FindBoost will look for names such as <code>boost_atomic-mgw81-mt-1_71</code>, which it will never find since all the names have the architecture in it. So to enable FindBoost to search for .a files with -x64 (or -x32) in their name you need to add the <code>set(Boost_ARCHITECTURE -x64)</code> line, otherwise cmake will tell you that it did not find Boost. </p>\n"}], "owner": {"reputation": 23, "user_id": 6233630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5nKhs.jpg?s=128&g=1", "display_name": "Kimerafusion", "link": "https://stackoverflow.com/users/6233630/kimerafusion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1048, "favorite_count": 0, "accepted_answer_id": 58108293, "answer_count": 1, "score": 1, "last_activity_date": 1569461279, "creation_date": 1569440397, "last_edit_date": 1569457579, "question_id": 58105485, "link": "https://stackoverflow.com/questions/58105485/linking-boost-in-clion-project", "title": "Linking boost in CLion project", "body": "<p>I want to link my c++ project on CLion with Boost. In order to make everything way easier to port I'd prefer having all the libraries directly in the project files so I put the boost folder directly in my project files and then proceeded to edit the CMakeList.txt to link the library.\nI want to link my c++ project on CLion with Boost. In order to make everything way easier to port I'd prefer having all the libraries directly in the project files so I put the boost folder directly in my project files and then proceeded to edit the CMakeList.txt to link the library.</p>\n\n<pre><code>set(BOOST_NO_SYSTEM_PATHS ON)\nset(BOOST_ROOT ${PROJECT_SOURCE_DIR}/boost_1_71_0/)\nset(BOOST_INCLUDEDIR ${PROJECT_SOURCE_DIR}/boost_1_71_0/boost)\nfind_package(Boost COMPONENTS system filesystem)\n/.../\ntarget_link_libraries(untitled ${Boost_LIBRARIES})\n</code></pre>\n\n<p>But CMake keeps tellming me that it \"-- Could NOT find Boost (missing: system filesystem) (found version \"1.71.0\")\". I tried to add 1.71.0 to the find_package but it won't change the fact that CMake tells me that it can't find Boost. The thing is that if my find_package line becomes this :</p>\n\n<pre><code>find_package(Boost COMPONENTS)\n</code></pre>\n\n<p>CMake says \"Found Boost: C:/Users/kimer/CLionProjects/untitled/boost_1_71_0 (found suitable version \"1.71.0\", minimum required is \"1.71.0\")\".\nI'm not sure what to think about this.</p>\n\n<p>I don't necessarily want to compile the library since most of the components are header only and don't require to be compiled. Furthermore I tried to compile Boost but it requires msvc, but the compiler i'm using is mingw w64 g++ and have not found any solutions about that either (I tried running the boost.build bootstrap.bat with the mingw parameter but it returns a cpp error and won't compile).</p>\n\n<p>What am I doing wrong to link the library?</p>\n\n<p>Edit : I have the exact same problem with header only libs such as chrono</p>\n\n<p>Edit 2 : Alright it seems that I have to compile Boost with my compiler which is Mingw x86_64-win32, but whenever i try to compile it I get this error :</p>\n\n<pre><code>.\\bootstrap.bat gcc\nBootstrapping the build engine\nsysinfo.cpp: In function 'unsigned int {anonymous}::std_thread_hardware_concurrency()':\nsysinfo.cpp:93:21: error: 'std::thread' has not been declared\n         return std::thread::hardware_concurrency();\n                     ^~~~~~\nFichier introuvable\n\nFailed to bootstrap the build engine\nPlease consult bootstrap.log for further diagnostics.\n</code></pre>\n\n<p>Edit 3 : I found out why it did not compile : I was using the w32 version of Mingw and not the POSIX one. The whole thing compiled fine with the POSIX version ; I now have the compiled boost library in a \"boost\" folder. I changed my CMakeLists.txt file :</p>\n\n<pre><code>set(Boost_DEBUG ON)\nset(BOOST_INCLUDEDIR ${PROJECT_SOURCE_DIR}/boost/include/boost-1_71/)\nset(BOOST_LIBRARYDIR ${PROJECT_SOURCE_DIR}/boost/lib)\nset(BOOST_NO_SYSTEM_PATHS ON)\nfind_package(Boost COMPONENTS system)\n</code></pre>\n\n<p>The boost library searches in the right directories as the debug tells me. It is also searching for files with names like these :</p>\n\n<pre><code>-- [ D:/Dev/CMake/share/cmake-3.15/Modules/FindBoost.cmake:2040 ] Searching for SYSTEM_LIBRARY_RELEASE: boost_system-mgw81-mt-1_71;boost_system-mgw81-mt;boost_system-mgw81-mt;boost_system-mt-1_71;boost_system-mt;boost_system-mt;boost_system-mt;boost_system\n-- [ D:/Dev/CMake/share/cmake-3.15/Modules/FindBoost.cmake:2095 ] Searching for SYSTEM_LIBRARY_DEBUG: boost_system-mgw81-mt-d-1_71;boost_system-mgw81-mt-d;boost_system-mgw81-mt-d;boost_system-mt-d-1_71;boost_system-mt-d;boost_system-mt-d;boost_system-mt;boost_system\n</code></pre>\n\n<p>while my compiled boost library produced these A files :</p>\n\n<pre><code>libboost_system-mgw81-mt-d-x64-1_71.a\nlibboost_system-mgw81-mt-x64-1_71.a\n</code></pre>\n\n<p>That might be the issue but how can i solve it ?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "edited": false, "score": 1, "creation_date": 1569438900, "post_id": 58105143, "comment_id": 102601228, "body": "Show the output you got.:)"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1569440724, "post_id": 58105143, "comment_id": 102601898, "body": "You may want to add a space or newline between your <code>cout</code> lines."}], "answers": [{"comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 2, "creation_date": 1569439337, "post_id": 58105171, "comment_id": 102601415, "body": "You forgot to mention another possible reason for the difference in output - matrix malfunction."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1569439702, "post_id": 58105171, "comment_id": 102601552, "body": "@SergeyA *Glitch in the matrix"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569440091, "post_id": 58105171, "comment_id": 102601680, "body": "@AlgirdasPreid\u017eius that&#39;s what you get when you attempt to translate back to original :D Thanks."}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 1, "creation_date": 1569445008, "post_id": 58105171, "comment_id": 102603607, "body": "... or the prompt of the shell overwrites some or all of what the program wrote."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 5, "last_activity_date": 1569438951, "creation_date": 1569438951, "answer_id": 58105171, "question_id": 58105143, "link": "https://stackoverflow.com/questions/58105143/why-cout-is-giving-different-values/58105171#58105171", "title": "why cout is giving different values", "body": "<blockquote>\n  <p>Why cout is not executing twice?</p>\n</blockquote>\n\n<p>It is executing twice.</p>\n\n<blockquote>\n  <p>why 2nd cout is giving different value?</p>\n</blockquote>\n\n<p>Both outputs are 8.</p>\n\n<p>If that's not the case for you, then there may be something wrong with your compiler, your computer, the operating system, or maybe you are running a different program.</p>\n"}], "owner": {"reputation": 27, "user_id": 10358465, "user_type": "registered", "profile_image": "https://graph.facebook.com/1818261098269643/picture?type=large", "display_name": "Kamran Shehzad", "link": "https://stackoverflow.com/users/10358465/kamran-shehzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -5, "last_activity_date": 1569444725, "creation_date": 1569438794, "last_edit_date": 1569444725, "question_id": 58105143, "link": "https://stackoverflow.com/questions/58105143/why-cout-is-giving-different-values", "title": "why cout is giving different values", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n    int sum,a,b;\n    a=4;\n    b=4;\n    sum=a+b;\n    cout&lt;&lt;sum;\n    cout&lt;&lt;sum;\n\n}\n</code></pre>\n\n<p>Q1 Why cout is not executing twice?<br>\nQ2 why 2nd cout is giving different value?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1569438590, "post_id": 58105092, "comment_id": 102601108, "body": "Why don&#39;t you think it is printing properly?"}, {"owner": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569438883, "post_id": 58105092, "comment_id": 102601222, "body": "It doesn&#39;t appear to be the first row when I looked over the data, <a href=\"https://imgur.com/a/YjVeBXU\" rel=\"nofollow noreferrer\">imgur.com/a/YjVeBXU</a> is the output, sorry for the other stuff. Above the line is ALL the data, below is what printed. I guess maybe I&#39;m just dumb and this was the valid data...wow if so."}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 2, "creation_date": 1569439028, "post_id": 58105092, "comment_id": 102601283, "body": "Basis of any test: never use random input. Use predicted input to compate output with known sample. Try, dunno, <code>iArr[cnt1][cnt2] = cnt1*10 + cnt2</code> and see qhat is goong on"}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1569439032, "post_id": 58105092, "comment_id": 102601288, "body": "dont use random numbers for testing and debugging, or at least use a seed that lets you reproduce results. Bugs that appear on a random basis are nasty, and by using random numbers all your bugs/problems will appear randomly"}, {"owner": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "edited": false, "score": 0, "creation_date": 1569439086, "post_id": 58105092, "comment_id": 102601310, "body": "Agreed, but the assignment required random input, so I guess I could make it not random to test? But that&#39;s why random input."}, {"owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "edited": false, "score": 0, "creation_date": 1569439102, "post_id": 58105092, "comment_id": 102601314, "body": "Your output is as expected - you are skipping first <code>n</code> elements of each row, where <code>n</code> is the the index of row (a.k.a. <code>cnt1</code>)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569439150, "post_id": 58105092, "comment_id": 102601333, "body": "Voting to close as a typo.  <code>for (cnt2 = cnt1; cnt2 &lt; 5; cnt2++)</code> should be <code>for (cnt2 = 0; cnt2 &lt; 5; cnt2++)</code>.  <a href=\"http://coliru.stacked-crooked.com/a/badcf0d842e221d2\" rel=\"nofollow noreferrer\">Then it prints just fine</a>"}, {"owner": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "edited": false, "score": 0, "creation_date": 1569439407, "post_id": 58105092, "comment_id": 102601438, "body": "If I change it to cnt2 = 0, it does not print columns, it prints all the data by row though?"}, {"owner": {"reputation": 8430, "user_id": 2742717, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d1dec1aa6accf3589489ebd42634f7a0?s=128&d=identicon&r=PG", "display_name": "Swift - Friday Pie", "link": "https://stackoverflow.com/users/2742717/swift-friday-pie"}, "edited": false, "score": 0, "creation_date": 1569439464, "post_id": 58105092, "comment_id": 102601459, "body": "do you mean to print it transposed?"}, {"owner": {"reputation": 1617, "user_id": 6864265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01bd0f9716eca1ad35cf30c47ae8f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Itachi Uchiwa", "link": "https://stackoverflow.com/users/6864265/itachi-uchiwa"}, "edited": false, "score": 0, "creation_date": 1569440995, "post_id": 58105092, "comment_id": 102602064, "body": "<code>for (cnt2 = cnt1; cnt2 &lt; 5; cnt2++)</code> I think is incorrect; You may wanted <code>cnt2 = 0</code>."}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 0, "creation_date": 1569441183, "post_id": 58105092, "comment_id": 102602145, "body": "&quot;<i>If I change it to cnt2 = 0, it does not print columns, it prints all the data by row though?</i>&quot; - I&#39;m not sure I understand your question. Why do you think the bottom two loops should be different from the top two?"}, {"owner": {"reputation": 15431, "user_id": 3992939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/JNHZt.jpg?s=128&g=1", "display_name": "c0der", "link": "https://stackoverflow.com/users/3992939/c0der"}, "edited": false, "score": 0, "creation_date": 1586249509, "post_id": 58105092, "comment_id": 108052184, "body": "Please see <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "edited": false, "score": 0, "creation_date": 1569439594, "post_id": 58105287, "comment_id": 102601515, "body": "I&#39;m confused, 3 numbers in column 0 are printed and then on the next line all 3 numbers in column 1, etc. thru column 4. Print column by column. And neither output from cnt2 = 0 or what I had attains that?"}, {"owner": {"reputation": 109, "user_id": 7486436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUL8.jpg?s=128&g=1", "display_name": "Hansraj Das", "link": "https://stackoverflow.com/users/7486436/hansraj-das"}, "reply_to_user": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "edited": false, "score": 0, "creation_date": 1569439982, "post_id": 58105287, "comment_id": 102601645, "body": "Not sure, If i exactly followed you. Inner loop(for row, 0 to 2) executes for for each column(0 to 4) and hence prints all elements columnwise. iArr[0 to 2][0] then iArr[0 to 2][1] and so on..."}], "tags": [], "owner": {"reputation": 109, "user_id": 7486436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bIUL8.jpg?s=128&g=1", "display_name": "Hansraj Das", "link": "https://stackoverflow.com/users/7486436/hansraj-das"}, "is_accepted": false, "score": 1, "last_activity_date": 1569439456, "creation_date": 1569439456, "answer_id": 58105287, "question_id": 58105092, "link": "https://stackoverflow.com/questions/58105092/having-issues-printing-2-dimensional-array-by-column/58105287#58105287", "title": "Having issues printing 2 dimensional array by column", "body": "<p>I think there is some typo, you need to update the counters in second nested loop(while printing)</p>\n\n<pre><code>for (cnt1 = 0; cnt1 &lt; 5; cnt1++)\n{\n    for (cnt2 = 0; cnt2 &lt; 3; cnt2++)\n    {\n        cout &lt;&lt; setw(5) &lt;&lt; iArr[cnt2][cnt1] &lt;&lt; ' ';\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n\n<p>This will print values colummwise. First 3 values of first column, next line then next 3 values in second column and so on...</p>\n"}, {"tags": [], "owner": {"reputation": 1617, "user_id": 6864265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f01bd0f9716eca1ad35cf30c47ae8f6f?s=128&d=identicon&r=PG&f=1", "display_name": "Itachi Uchiwa", "link": "https://stackoverflow.com/users/6864265/itachi-uchiwa"}, "is_accepted": false, "score": 1, "last_activity_date": 1569441386, "creation_date": 1569441386, "answer_id": 58105732, "question_id": 58105092, "link": "https://stackoverflow.com/questions/58105092/having-issues-printing-2-dimensional-array-by-column/58105732#58105732", "title": "Having issues printing 2 dimensional array by column", "body": "<p>Apparently there's a typo in the loops that print:</p>\n\n<pre><code>for (cnt2 = cnt1; cnt2 &lt; 5; cnt2++)\n</code></pre>\n\n<p>So I think you meant:</p>\n\n<pre><code>for (cnt2 = 0; cnt2 &lt; 5; cnt2++)\n</code></pre>\n\n<ul>\n<li><p>If you are allowed and using newer version of C++ then why you've not declared the loop variables inside the loops instead?</p></li>\n<li><p>Because it is safer and less error-prone and those variable are re-usable and easy to track and check. Also they are not depending on each other:</p>\n\n<pre><code>for (int cnt1 = 0; cnt1 != 3; cnt1++){\n    for (int cnt2 = 0; cnt2 != 5; cnt2++){\n        //...\n    }\n}\n\nfor (int cnt1 = 0; cnt1 != 3; cnt1++){\n    for (int cnt2 = 0; cnt2 != 5; cnt2++){\n        //...\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre></li>\n</ul>\n\n<p>So here we've limited as much as possible the scope of these variables to  be more safer.</p>\n"}], "owner": {"reputation": 11, "user_id": 11048585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd4c51655ece1a7f810a204b71f1ccb5?s=128&d=identicon&r=PG&f=1", "display_name": "Jenna M", "link": "https://stackoverflow.com/users/11048585/jenna-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1569441386, "creation_date": 1569438511, "question_id": 58105092, "link": "https://stackoverflow.com/questions/58105092/having-issues-printing-2-dimensional-array-by-column", "title": "Having issues printing 2 dimensional array by column", "body": "<p>The parameters of the question are a loop to print the 2 dimensional array, iArr, so that all 3 numbers in column 0 are printed and then on the next line all 3 numbers in column 1, etc. thru column 4. Print column by column. I also can only use cnt1, cnt2, and the array I listed, no other functions or variables (hence reusing cnt1) and I had to earlier make the Arr elements random numbers between 1 and 53.</p>\n\n<p>I have some loops, but I don't think they're properly printing the rows.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include&lt;iomanip&gt;\nusing namespace std;\nint iArr[3][5];\n\nfor (cnt1 = 0; cnt1 &lt; 3; cnt1++)\n{\n    for (cnt2 = 0; cnt2 &lt; 5; cnt2++)\n    {\n        iArr[cnt1][cnt2] = rand() % 53 + 1; \n    }\n}\n\n\n\nfor (cnt1 = 0; cnt1 &lt; 3; cnt1++)\n{\n    for (cnt2 = cnt1; cnt2 &lt; 5; cnt2++)\n    {\n        cout &lt;&lt; setw(5) &lt;&lt; iArr[cnt1][cnt2] &lt;&lt; ' ';\n    }\n    cout &lt;&lt; endl;\n}\n</code></pre>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "reply_to_user": {"reputation": 1, "user_id": 12120143, "user_type": "registered", "profile_image": "https://graph.facebook.com/2399714930083486/picture?type=large", "display_name": "xBlu3", "link": "https://stackoverflow.com/users/12120143/xblu3"}, "edited": false, "score": 0, "creation_date": 1569441941, "post_id": 58105141, "comment_id": 102602471, "body": "@xBlu3 consider to accept the answer if it answered your question"}], "tags": [], "owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "is_accepted": true, "score": 0, "last_activity_date": 1569439101, "last_edit_date": 1569439101, "creation_date": 1569438789, "answer_id": 58105141, "question_id": 58105080, "link": "https://stackoverflow.com/questions/58105080/how-to-make-restart-this-loop-when-user-enters-1-and-stop-when-0/58105141#58105141", "title": "How to make restart this loop , when user enters 1, and stop when 0", "body": "<p>Here:</p>\n\n<pre><code>while (roll != 6)\n</code></pre>\n\n<p>you check the condition before you roll the number. Once you rolled a 6, the condition will never be <code>false</code>.</p>\n\n<p>In general it is good practice to declare variables only when you need them, and this would have avoided the bug in your code (also <code>counter</code> is not properly reset in your code):</p>\n\n<pre><code>int roll = 0;\nint counter = 0;\nwhile (roll != 6)\n{\n     roll = rand() % 6 + 1; // generate a random number  \n     counter++;\n}\n</code></pre>\n\n<p>Also note that for anything beyond simple toy randomness <code>rand</code> should be avoided. Use the facilities provided in <code>&lt;random&gt;</code> instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 12120143, "user_type": "registered", "profile_image": "https://graph.facebook.com/2399714930083486/picture?type=large", "display_name": "xBlu3", "link": "https://stackoverflow.com/users/12120143/xblu3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58105141, "answer_count": 1, "score": -2, "last_activity_date": 1569439101, "creation_date": 1569438448, "question_id": 58105080, "link": "https://stackoverflow.com/questions/58105080/how-to-make-restart-this-loop-when-user-enters-1-and-stop-when-0", "title": "How to make restart this loop , when user enters 1, and stop when 0", "body": "<p>I've  tried to get a number '6' generated inside a while loop, then count how many times this loop had to run before getting number 6, then if user inputs 1 this loop will run again, generate number 6 again and count how many tries, but the problem I'am facing is that when I enter 1 I'm getting same results as in previous loop.</p>\n\n<pre><code>#include &lt;iostream&gt;\n\n#include &lt;cstdlib&gt;    // random numbers header file//\n#include &lt;ctime&gt;    // used to get date and time information\nusing namespace std;\nint main()\n{\n\n\nint counter = 0;\nint roll = 0;\nint userChoice =1;\nint total = 0;\nfloat average = 0;\nint programCounter = 0;\nsrand(time(0));\n\nwhile (userChoice &gt; 0)\n{\n\n    while (roll != 6)\n    {\n\n        roll = rand() % 6 + 1; // generate a random number  \n        counter++;\n\n    }\n    total = total + counter;\n\n\n\n    cout &lt;&lt; \"Do you want to continue?\" &lt;&lt; endl;\n    cout &lt;&lt; \"Enter positive number to continue\" &lt;&lt; endl;\n    cout &lt;&lt; \"To terminate enter 0\" &lt;&lt; endl;\n\n    cin &gt;&gt; userChoice;\n\n\n    programCounter++;\n\n}\n\naverage = total / programCounter;\ncout &lt;&lt; \"Avarage number of rolls before getting 6 is \" &lt;&lt;  average;\n</code></pre>\n\n<p>}</p>\n\n<p>my expected result is to get random number generator working again inside while loop and  to generate number 6 again, so later I can use number of rolls to count the average number of rolls before 6 was rolled.</p>\n"}, {"tags": ["c++", "alglib"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 14012870, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/9a0e501b26f915c21e1939e334987eb4?s=128&d=identicon&r=PG", "display_name": "NOUR", "link": "https://stackoverflow.com/users/14012870/nour"}, "is_accepted": false, "score": -1, "last_activity_date": 1595984607, "creation_date": 1595984607, "answer_id": 63144854, "question_id": 58104980, "link": "https://stackoverflow.com/questions/58104980/how-do-i-configure-alglib-for-vs2017/63144854#63144854", "title": "How do I configure AlgLib for VS2017?", "body": "<p>I had a similar (not exact) problem and it went away just by adding the compiled the cpp files to my project and set &quot;included in the project&quot; to true.</p>\n"}], "owner": {"reputation": 249, "user_id": 2254983, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AKCTF.jpg?s=128&g=1", "display_name": "RegressForward", "link": "https://stackoverflow.com/users/2254983/regressforward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1595984607, "creation_date": 1569438064, "question_id": 58104980, "link": "https://stackoverflow.com/questions/58104980/how-do-i-configure-alglib-for-vs2017", "title": "How do I configure AlgLib for VS2017?", "body": "<p>I am compiling a alglib sample program (with a few changes):</p>\n\n<pre><code>#pragma once\n\n\n# include \"Source\\RFLearn.h\" \\\\appropriate header for this simple .cpp program.\n# include &lt;LinAlg.h&gt;\n# include &lt;stdint.h&gt;\n# include &lt;chrono&gt; // for in-game frame clock.\n\n\nint RFLearn::test_function()\n{\n    alglib::real_2d_array a, b, c;\n    int n = 2000;\n    int i, j;\n    double timeneeded, flops;\n\n    // Initialize arrays\n    a.setlength(n, n);\n    b.setlength(n, n);\n    c.setlength(n, n);\n    for (i = 0; i&lt;n; i++)\n        for (j = 0; j&lt;n; j++)\n        {\n            a[i][j] = alglib::randomreal() - 0.5;\n            b[i][j] = alglib::randomreal() - 0.5;\n            c[i][j] = 0.0;\n        }\n\n    // Set global threading settings (applied to all ALGLIB functions);\n    // default is to perform serial computations, unless parallel execution\n    // is activated. Parallel execution tries to utilize all cores; this\n    // behavior can be changed with alglib::setnworkers() call.\n    alglib::setglobalthreading(alglib::parallel);\n\n    // Perform matrix-matrix product.\n    flops = 2 * pow((double)n, (double)3);\n    auto timer_start = std::chrono::high_resolution_clock::now();\n    alglib::rmatrixgemm(\n        n, n, n,\n        1.0,\n        a, 0, 0, 0,\n        b, 0, 0, 1,\n        0.0,\n        c, 0, 0);\n    auto timer_end = std::chrono::high_resolution_clock::now();\n    auto duration = timer_end - timer_start;\n    timeneeded = static_cast&lt;double&gt;(duration.count());\n\n    // Evaluate performance\n    printf(\"Performance is %.1f GFLOPS\\n\", (double)(1.0E-9*flops / timeneeded));\n\n    return 0;\n}\n</code></pre>\n\n<p>I am confident linAlg is correctly linked (as well as all of its dependencies, particularly ap.h and ap.cpp) (Preferences->C++->AllOptions->Additional Include Directories -> aglib's source directory. Changing the link provides a different set of linker errors. AlgLib is a header only-library so I don't think I need to compile any library and add it in the linker. </p>\n\n<p>When compiling this code I get the errors:</p>\n\n<pre><code>1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"public: double * __thiscall alglib::real_2d_array::operator[](int)\" (??Areal_2d_array@alglib@@QAEPANH@Z)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"public: virtual __thiscall alglib::real_2d_array::~real_2d_array(void)\" (??1real_2d_array@alglib@@UAE@XZ)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"public: __thiscall alglib::real_2d_array::real_2d_array(void)\" (??0real_2d_array@alglib@@QAE@XZ)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"struct alglib::xparams const &amp; const alglib::parallel\" (?parallel@alglib@@3ABUxparams@1@B)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"void __cdecl alglib::rmatrixgemm(int,int,int,double,class alglib::real_2d_array const &amp;,int,int,int,class alglib::real_2d_array const &amp;,int,int,int,double,class alglib::real_2d_array const &amp;,int,int,struct alglib::xparams)\" (?rmatrixgemm@alglib@@YAXHHHNABVreal_2d_array@1@HHH0HHHN0HHUxparams@1@@Z)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"double __cdecl alglib::randomreal(void)\" (?randomreal@alglib@@YANXZ)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"public: void __thiscall alglib::ae_matrix_wrapper::setlength(int,int)\" (?setlength@ae_matrix_wrapper@alglib@@QAEXHH@Z)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"void __cdecl alglib::setglobalthreading(struct alglib::xparams)\" (?setglobalthreading@alglib@@YAXUxparams@1@@Z)\n1&gt;RFLearn.obj : error LNK2001: unresolved external symbol \"struct alglib::xparams const &amp; const alglib::xdefault\" (?xdefault@alglib@@3ABUxparams@1@B)\n</code></pre>\n\n<p>I intuit that the problem lies around here: <a href=\"http://www.alglib.net/translator/man/manual.cpp.html#gs_configuring\" rel=\"nofollow noreferrer\">http://www.alglib.net/translator/man/manual.cpp.html#gs_configuring</a></p>\n\n<p>but I cannot make heads or tails of it.  What's the next step?</p>\n"}, {"tags": ["c++", "while-loop", "logical-operators"], "comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 5, "creation_date": 1569437820, "post_id": 58104897, "comment_id": 102600763, "body": "<code>why do error occurs? </code> What error?"}, {"owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "edited": false, "score": 1, "creation_date": 1569437827, "post_id": 58104897, "comment_id": 102600766, "body": "Add <i>what</i> boolean expression <i>where</i>? What is your program expected to be doing and how do you know it doesn&#39;t do that?"}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1569438000, "post_id": 58104897, "comment_id": 102600835, "body": "@eerorika why do error occurs? Why do humans not fly like birds? Humankind has been puzzled by those questions since time immemorial."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1569438050, "post_id": 58104897, "comment_id": 102600855, "body": "Please note, that in this loop you will find not the largest, but smallest number by which <code>i</code> is divisible."}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 0, "last_activity_date": 1569438402, "last_edit_date": 1569438402, "creation_date": 1569437933, "answer_id": 58104949, "question_id": 58104897, "link": "https://stackoverflow.com/questions/58104897/c-why-do-i-have-to-add-a-boolean-expression/58104949#58104949", "title": "C++ : Why do I have to add a boolean expression?", "body": "<p>Rewrite this loop</p>\n\n<pre><code>while( i &gt; 0){\n    if ( n % i == 0){\n        largest = i;\n    }\n    i --;\n}\n</code></pre>\n\n<p>for example like</p>\n\n<pre><code>while( i &gt; 0 &amp;&amp; n % i != 0 ) i--;\n\nif ( i ) largest = i;\n</code></pre>\n\n<p>Also instead of the type int you should use the type unsigned int. Otherwise the user can enter a negative number. In this case the loop does not make sense.</p>\n\n<p>Using your approach the program can look for example the following way</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main() \n{\n    unsigned int n = 0, largest = 1;\n\n    std::cout &lt;&lt; \"enter a non-negative number: \";\n\n    std::cin &gt;&gt; n;\n\n    if ( n != 0 )\n    {\n        unsigned int i = n - 1;\n\n        while ( i &gt; 0 &amp;&amp; n % i != 0 ) i--;\n\n        if ( i ) largest = i;\n    }\n\n    std::cout &lt;&lt; \"The largest own divisor is \" &lt;&lt; largest &lt;&lt; std::endl;\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 2, "last_activity_date": 1569438313, "creation_date": 1569438313, "answer_id": 58105047, "question_id": 58104897, "link": "https://stackoverflow.com/questions/58104897/c-why-do-i-have-to-add-a-boolean-expression/58105047#58105047", "title": "C++ : Why do I have to add a boolean expression?", "body": "<p>(Inspired by Alexandrescu's CppCon 2019 talk)</p>\n\n<p>Recall, that the control check on the loop is not necessary - we know that <code>X % 1</code> is 0 for any X. Also, in-line with Alexandrescu's commitment to endless loops, we could rewrite the loop as following (it will have an added bonus of making it correct, but also will improve it's performance):</p>\n\n<pre><code>if (n &lt;= 1) {\n    return;\n}\nlargest = n - 1;\nfor (;; --largest) {\n    if (n % largest == 0)\n        break;\n}\n\n// Here largest is usable\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 12116617, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-w7t8jM-6aYw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeXQf5Swd4LHGWnePnSB2o9UZPdw/photo.jpg?sz=128", "display_name": "Stella Jin", "link": "https://stackoverflow.com/users/12116617/stella-jin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1569444547, "creation_date": 1569437711, "last_edit_date": 1569444547, "question_id": 58104897, "link": "https://stackoverflow.com/questions/58104897/c-why-do-i-have-to-add-a-boolean-expression", "title": "C++ : Why do I have to add a boolean expression?", "body": "<p>The code is:  </p>\n\n<pre><code>  int main() {\n    int n, largest = 1;\n    cout &lt;&lt; \"enter :\" &lt;&lt; endl;\n    cin &gt;&gt; n;\n    int i = n - 1;\n    while(i &gt; 0) {\n       if (n % i == 0){\n            largest = i;\n       }\n       i--;\n    }\n    cout &lt;&lt; largest &lt;&lt; endl;\n    system(\"pause\");\n    return 0;\n  }\n</code></pre>\n\n<p>Why do these error occur? This code keeps making errors and my professor said that I should add a boolean expression. But I do not know why and where I have to add it?</p>\n"}, {"tags": ["c++", "c++11", "random"], "comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 2, "creation_date": 1569441969, "post_id": 58104845, "comment_id": 102602484, "body": "If I had to guess from your code, I would say you come from a java or C# background. In C++ using <code>new</code> is almost always an error, bug or anti-pattern. using <code>void*</code> is another huge red flag."}, {"owner": {"reputation": 35, "user_id": 2033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b77d878620c96529e17b2d224ed1a5a?s=128&d=identicon&r=PG", "display_name": "user2033594", "link": "https://stackoverflow.com/users/2033594/user2033594"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1569462096, "post_id": 58104845, "comment_id": 102607217, "body": "Thank you @bolov for the answer. It really helped a lot. Can you please tell me some resources other than the standard books how to improve my designing and coding skills. I would be very thankful"}], "answers": [{"comments": [{"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 1, "creation_date": 1569441715, "post_id": 58105718, "comment_id": 102602376, "body": "never use explicit <code>new</code> and never use raw pointers to model ownership (at least not in user code)."}, {"owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1569442302, "post_id": 58105718, "comment_id": 102602608, "body": "I must confess I am impressed. Good job! I have removed the down-vote. However, I can&#39;t upvote your answer because I don&#39;t see the point of using smart pointers since you are not using polymorphism. If you could explain in your post what is the purpose of having smart pointers instead of value objects. Then again, the OP doesn&#39;t explain what it is he/she needs so ..."}, {"owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "reply_to_user": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "edited": false, "score": 0, "creation_date": 1569443445, "post_id": 58105718, "comment_id": 102603062, "body": "@bolov you are right that since I am not using polymorphism so it doesn&#39;t make any sense to use pointers, so updated my answer again without pointers"}], "tags": [], "owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1569443397, "last_edit_date": 1569443397, "creation_date": 1569441342, "answer_id": 58105718, "question_id": 58104845, "link": "https://stackoverflow.com/questions/58104845/polymorphism-with-distribution-in-c11/58105718#58105718", "title": "Polymorphism with Distribution in C++11", "body": "<p>If you know which distribution is applicable in which scenario then using template is better approach. Here is sample code for the same :</p>\n\n<pre><code>template&lt;class C, template &lt;class&gt; class M&gt;\nM&lt;C&gt; getDistributionObject(const C&amp; arg1, const C&amp; arg2)\n{\n   return M&lt;C&gt;(arg1,arg2);\n}\nint main() {\n\nauto normalDistribution = getDistributionObject&lt;double,normal_distribution&gt;(5.0,2.0); \nreturn 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57966, "user_id": 2805305, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/442d249754d1725d9510cf06fa46b964?s=128&d=identicon&r=PG&f=1", "display_name": "bolov", "link": "https://stackoverflow.com/users/2805305/bolov"}, "is_accepted": true, "score": 1, "last_activity_date": 1569447745, "last_edit_date": 1569447745, "creation_date": 1569445795, "answer_id": 58106570, "question_id": 58104845, "link": "https://stackoverflow.com/questions/58104845/polymorphism-with-distribution-in-c11/58106570#58106570", "title": "Polymorphism with Distribution in C++11", "body": "<blockquote>\n  <p>1) Is there a base class of distribution</p>\n</blockquote>\n\n<p>Nope. C++ - unlike Java or C# - is not an OOP language. It's a multi-paradigm language. Instead of a base class for everything, C++ uses metaprogramming instead whenever possible. For instance, there isn't a base class for all containers. Functions wanting to accept as parameters containers, don't have base class as argument. Instead you write a template functions which is capable of handling any kind of range.</p>\n\n<blockquote>\n  <p>2) if no, is there a way to create polymorphism</p>\n</blockquote>\n\n<p>Yes, ofcourse, but it's oh not so simple as it might seem at first glance.</p>\n\n<blockquote>\n  <p>3) Whether the above code is correct approach and what is the bug and how to solve this. I would be very thankful if someone could help me on this</p>\n</blockquote>\n\n<p>First, don't use explicit <code>new</code> in C++. And don't use raw pointers to model ownership. In C++ we use the RAII principle and as such we use smart pointers when pointers who <em>own</em> resources are needed.</p>\n\n<p>Second, don't use <code>void*</code>. If you really need type erasure, use <code>std::any</code> which, admittedly is cumbersome to use at the moment, but it offers a type safe type erasure.</p>\n\n<hr>\n\n<p>So, instead of trying to fix your compile problems - which wouldn't have fixed your design, I instead created one implementation version of the polymorphism.</p>\n\n<p>When we embark on this task, the first issue that we come across is: different types in the distribution generator function (<code>operator()</code>). For once, different distributions can get different types (<code>int</code>, <code>float</code> etc). Then, we need a generator - which is template - to call it. These make it impossible to simply create a virtual function which we can override.</p>\n\n<p>For returning different types you need <code>std::variant</code>. Because implementing is already difficult, I will do this in the second example.</p>\n\n<p>For the generator, there are ways to get away with simpler designs. I chose to store a pointer to a generator in the derived distribution. This encodes the type of the generator in the distribution, but in many scenarios can be acceptable. Another, longer way would be to create polymorphic versions of the generators.</p>\n\n<p>So this is the first example working with a vector of polymorphic int distributions. In the example the vector stores uniform, binomial and poisson distributions to see the polymorphism at work:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;memory&gt;\n#include &lt;vector&gt;\n\nclass Base_int_distribution\n{\npublic:\n    virtual int generate() = 0;\n    virtual ~Base_int_distribution() = default;\n};\n\ntemplate &lt;class Eng, class D&gt;\nclass Int_distribution : public Base_int_distribution\n{\n    std::shared_ptr&lt;Eng&gt; engine_;\n    D distribution_;\n\npublic:\n    template &lt;class... Args&gt;\n    Int_distribution(std::shared_ptr&lt;Eng&gt; engine, Args... args)\n        : engine_{std::move(engine)},\n          distribution_{args...} {}\n\n    Int_distribution(const Int_distribution&amp;) = default;\n    Int_distribution(Int_distribution&amp;&amp;) = default;\n\n    Int_distribution&amp; operator=(const Int_distribution&amp;) = default;\n    Int_distribution&amp; operator=(Int_distribution&amp;&amp;) = default;\n\n    int generate() override { return distribution_(*engine_); }\n};\n\n// some alias helpers, because oh boy, does it get crazy with the types\n\ntemplate &lt;class Gen&gt;\nusing Uniform_int_dist_poly = Int_distribution&lt;Gen, std::uniform_int_distribution&lt;int&gt;&gt;;\n\ntemplate &lt;class Gen&gt;\nusing Binomial_int_dist_poly = Int_distribution&lt;Gen, std::binomial_distribution&lt;int&gt;&gt;;\n\ntemplate &lt;class Gen&gt;\nusing Poisson_int_dist_poly = Int_distribution&lt;Gen, std::poisson_distribution&lt;int&gt;&gt;;\n</code></pre>\n\n<pre><code>int main()\n{\n    std::random_device rd;  \n    auto eng = std::make_shared&lt;std::mt19937&gt;(rd());\n\n    std::vector&lt;std::unique_ptr&lt;Base_int_distribution&gt;&gt; distributions{};\n    // nope, we can't use initializer list, don't get me started\n\n    distributions.push_back(std::make_unique&lt;Uniform_int_dist_poly&lt;std::mt19937&gt;&gt;(eng, -50, 50));\n    distributions.push_back(std::make_unique&lt;Binomial_int_dist_poly&lt;std::mt19937&gt;&gt;(eng, 4, .05));\n    distributions.push_back(std::make_unique&lt;Poisson_int_dist_poly&lt;std::mt19937&gt;&gt;(eng, 4.));\n\n    // for each distribution\n    for (auto&amp; dist : distributions)\n    {\n        // get 10 numbers\n        for (int i = 0; i &lt; 10; ++i)\n        {\n            std::cout &lt;&lt; dist-&gt;generate() &lt;&lt; \" \";\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Sample output:</p>\n\n<blockquote>\n<pre><code>21 0 -43 2 -37 -38 39 42 -37 46 \n0 0 0 0 0 0 0 1 0 0 \n5 4 7 6 5 6 6 4 1 8\n</code></pre>\n</blockquote>\n\n<p>Next, I modified this to work with the standard arithmetic types and I used <code>long long</code>, <code>double</code> and <code>int</code> in the example, along with all the previous different distributions:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;memory&gt;\n#include &lt;vector&gt;\n#include &lt;variant&gt;\n\nusing DistTs = std::variant&lt;\n    signed char, unsigned char, char,\n    short, int, long, long long,\n    unsigned short, unsigned int, unsigned long, unsigned long long,\n    float, double, long double&gt;;\n\nclass Base_distribution\n{\npublic:\n    virtual DistTs generate() = 0;\n    virtual ~Base_distribution() = default;\n};\n\ntemplate &lt;class Eng, class D&gt;\nclass Distribution : public Base_distribution\n{\n    std::shared_ptr&lt;Eng&gt; engine_;\n    D distribution_;\n\npublic:\n    template &lt;class... Args&gt;\n    Distribution(std::shared_ptr&lt;Eng&gt; engine, Args... args)\n        : engine_{std::move(engine)},\n          distribution_{args...} {}\n\n    Distribution(const Distribution&amp;) = default;\n    Distribution(Distribution&amp;&amp;) = default;\n\n    Distribution&amp; operator=(const Distribution&amp;) = default;\n    Distribution&amp; operator=(Distribution&amp;&amp;) = default;\n\n    DistTs generate() override { return distribution_(*engine_); }\n};\n\n// some alias helpers, because oh boy, does it get crazy with the types\n\ntemplate &lt;class Gen, class T = int&gt;\nusing Uniform_int_dist_poly = Distribution&lt;Gen, std::uniform_int_distribution&lt;T&gt;&gt;;\n\ntemplate &lt;class Gen, class T = double&gt;\nusing Uniform_real_dist_poly = Distribution&lt;Gen, std::uniform_real_distribution&lt;T&gt;&gt;;\n\ntemplate &lt;class Gen, class T = int&gt;\nusing Binomial_dist_poly = Distribution&lt;Gen, std::binomial_distribution&lt;T&gt;&gt;;\n\ntemplate &lt;class Gen, class T = int&gt;\nusing Poisson_int_dist_poly = Distribution&lt;Gen, std::poisson_distribution&lt;T&gt;&gt;;\n</code></pre>\n\n<pre><code>int main()\n{\n    std::random_device rd;  \n    auto eng = std::make_shared&lt;std::mt19937&gt;(rd());\n\n    std::vector&lt;std::unique_ptr&lt;Base_distribution&gt;&gt; distributions{};\n    // nope, we can't use initializer list, don't get me started\n\n    distributions.push_back(std::make_unique&lt;Uniform_int_dist_poly&lt;std::mt19937, long long&gt;&gt;(eng, -50, 50));\n    distributions.push_back(std::make_unique&lt;Uniform_real_dist_poly&lt;std::mt19937, double&gt;&gt;(eng, -2.0, 2.0));\n    distributions.push_back(std::make_unique&lt;Binomial_dist_poly&lt;std::mt19937&gt;&gt;(eng, 4, .05));\n    distributions.push_back(std::make_unique&lt;Poisson_int_dist_poly&lt;std::mt19937&gt;&gt;(eng, 4.));\n\n    // for each distribution\n    for (auto&amp; dist : distributions)\n    {\n        // get 10 numbers\n        for (int i = 0; i &lt; 10; ++i)\n        {\n            std::visit([](auto e) { std::cout &lt;&lt; e &lt;&lt; \" \"; }, dist-&gt;generate());\n        }\n        std::cout &lt;&lt; std::endl;\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>Sample output:</p>\n\n<blockquote>\n<pre><code>8 -25 29 14 -17 -6 -16 18 32 16 \n0.683707 0.2806 -1.00301 1.89474 1.19426 0.069856 -0.354233 1.1193 0.0319062 -1.69658 \n0 0 1 1 0 0 0 0 0 0 \n3 4 5 5 2 8 3 8 1 5\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>If you need a factory pattern, that can easily be made on top of this.</p>\n\n<hr>\n\n<p>As you can see, it's ... let's say ... not trivial to make distributions polymorphic. And you need to make some choices regarding your design, and whichever choice you take, you make a compromise.</p>\n\n<p>So you really need to analyze if it's indeed worth it. Only you can answer this question. At least now you have a starting point.</p>\n"}], "owner": {"reputation": 35, "user_id": 2033594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b77d878620c96529e17b2d224ed1a5a?s=128&d=identicon&r=PG", "display_name": "user2033594", "link": "https://stackoverflow.com/users/2033594/user2033594"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 200, "favorite_count": 0, "accepted_answer_id": 58106570, "answer_count": 2, "score": 0, "last_activity_date": 1569447745, "creation_date": 1569437423, "last_edit_date": 1569441766, "question_id": 58104845, "link": "https://stackoverflow.com/questions/58104845/polymorphism-with-distribution-in-c11", "title": "Polymorphism with Distribution in C++11", "body": "<p>I have a problem where I want a single object to represent any distribution class (polymorphism) used in random library in c++11. Since distribution does not have a common base class as far as I know I am using factory pattern to solve my problem. Is there a better way to do so ? I am adding the code below which has some errors</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include&lt;random&gt;\n\nusing namespace std;\n\nclass Distribution \n{\npublic:\n    void *distribution;\n    virtual void get_distribution() = 0;\n};\n\nclass normal_dist: public Distribution\n{\npublic:\n    //normal_distribution&lt;double&gt; *distribution;\n    void get_distribution()\n    {\n        distribution = new normal_distribution&lt;double&gt;(5.0,2.0); \n    }\n};\n\nclass uniform_real_dist: public Distribution\n{\npublic:\n    //uniform_real_distribution&lt;double&gt; *distribution;\n    void get_distribution()\n    {\n        distribution = new uniform_real_distribution&lt;double&gt;(0.0,1.0);\n    }\n};\n\nclass Helper\n{\npublic:\n    Distribution *dist;\n    default_random_engine generator;\n\nHelper(string dist_type) \n{\n    if(dist_type == \"normal\")\n    {\n        dist = new normal_dist;\n        dist-&gt;get_distribution();\n    }\n}\n};\n\n\nint main() {\n\nHelper *help = new Helper(\"normal\");\ncout&lt;&lt;(*(help-&gt;dist-&gt;distribution))(help-&gt;generator);\n\n\n// your code goes here\nreturn 0;\n}\n</code></pre>\n\n<p>My questions are three fold</p>\n\n<p>1) Is there a base class of distribution</p>\n\n<p>2) if no, is there a way to create polymorphism</p>\n\n<p>3) Whether the above code is correct approach and what is the bug and how to solve this. I would be very thankful if someone could help me on this   </p>\n"}, {"tags": ["c++", "windows", "gcc", "g++"], "comments": [{"owner": {"reputation": 2673, "user_id": 11292489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cucr6.jpg?s=128&g=1", "display_name": "Gilles-Philippe Paill&#233;", "link": "https://stackoverflow.com/users/11292489/gilles-philippe-paill%c3%a9"}, "edited": false, "score": 0, "creation_date": 1569437251, "post_id": 58104737, "comment_id": 102600532, "body": "Take a look at this question. It seems that mingw has trouble with paths containing spaces: <a href=\"https://stackoverflow.com/questions/5999507/mingw-make-cant-handle-spaces-in-path\" title=\"mingw make cant handle spaces in path\">stackoverflow.com/questions/5999507/&hellip;</a>"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569437431, "post_id": 58104737, "comment_id": 102600616, "body": "Space is the final frontier. No surprise that it has yet to be addressed."}, {"owner": {"reputation": 1473, "user_id": 1506086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MaFbv.png?s=128&g=1", "display_name": "Rob Streeting", "link": "https://stackoverflow.com/users/1506086/rob-streeting"}, "edited": false, "score": 0, "creation_date": 1569437633, "post_id": 58104737, "comment_id": 102600692, "body": "Please try to post error output and code as text if possible: <a href=\"https://idownvotedbecau.se/imageofanexception/\" rel=\"nofollow noreferrer\">idownvotedbecau.se/imageofanexception</a>"}, {"owner": {"reputation": 20522, "user_id": 11941443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27a880243178eedf3abdab24898b335?s=128&d=identicon&r=PG&f=1", "display_name": "walnut", "link": "https://stackoverflow.com/users/11941443/walnut"}, "edited": false, "score": 0, "creation_date": 1569442321, "post_id": 58104737, "comment_id": 102602619, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5999507/mingw-make-cant-handle-spaces-in-path\">mingw make can&#39;t handle spaces in path?</a>"}], "owner": {"reputation": 1, "user_id": 12121030, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qzVWqCMj4dk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf_coRLDm1SoFlMfv4yQSoetr2y-g/photo.jpg?sz=128", "display_name": "Neel Patel", "link": "https://stackoverflow.com/users/12121030/neel-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1569437530, "creation_date": 1569437008, "last_edit_date": 1569437530, "question_id": 58104737, "link": "https://stackoverflow.com/questions/58104737/codelite-wont-compile-any-program", "title": "Codelite won&#39;t compile any program", "body": "<p>I am getting this error on my codelite IDE and it won't even compile or run a simple hello world program. I tried reinstalling codelite and Mingw compiler but that isn't working either. Does anyone know any potential fix/fixes? </p>\n\n<p>Error: <a href=\"https://i.stack.imgur.com/t3NtN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t3NtN.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569436978, "post_id": 58104724, "comment_id": 102600427, "body": "<code>std::string</code> doesn&#39;t exist in C."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1569437079, "post_id": 58104724, "comment_id": 102600460, "body": "If you want to operate on bytes you shouldn&#39;t store it as a string"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569437184, "post_id": 58104724, "comment_id": 102600509, "body": "The only use case I know of where you get a string like this is the AsciiHex encoding that some formats use (like PDF)."}, {"owner": {"reputation": 7526, "user_id": 4108376, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/163807162a115b27e50f5f5f2b90de26?s=128&d=identicon&r=PG&f=1", "display_name": "tmlen", "link": "https://stackoverflow.com/users/4108376/tmlen"}, "edited": false, "score": 0, "creation_date": 1569437345, "post_id": 58104724, "comment_id": 102600580, "body": "You could write a function to convert the two chars to the byte, for a given index. But maybe it is more useful to store binary data into the <code>std::string</code>, and only convert it to/from hex when it should be outputted or inputted that way."}], "answers": [{"comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 1, "creation_date": 1569440038, "post_id": 58105376, "comment_id": 102601662, "body": "<code>else if (c &lt;= &#39;Z&#39;)</code> -- Of course this assumes the collating sequence is ASCII."}], "tags": [], "owner": {"reputation": 490, "user_id": 7602674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/193276783eb09a4a1b8c7f18b74a731a?s=128&d=identicon&r=PG&f=1", "display_name": "jjh", "link": "https://stackoverflow.com/users/7602674/jjh"}, "is_accepted": false, "score": 0, "last_activity_date": 1569439879, "creation_date": 1569439879, "answer_id": 58105376, "question_id": 58104724, "link": "https://stackoverflow.com/questions/58104724/compare-bytes-from-data-stored-in-a-stdstring/58105376#58105376", "title": "Compare Bytes From Data Stored in a std::string", "body": "<p>(Assuming input is always valid)</p>\n\n<p>Define a small utility to convert a char to its hex interpretation. </p>\n\n<pre><code>inline uint8_t char_to_hex(char c)\n{\n  if(c &lt;= '9') { return static_cast&lt;uint8_t&gt;(c - '0');\n  } else if (c &lt;= 'Z') {\n    return static_cast&lt;uint8_t&gt;(10 + c - 'A');\n  } else {\n    return static_cast&lt;uint8_t&gt;(10 + c - 'a');\n  }\n}\n</code></pre>\n\n<p>Then you can write your own function to extract the byte at a given index.</p>\n\n<pre><code>uint8_t at_index(std::string const&amp; str, std::size_t index)\n{\n  std::size_t real_index = index * 2;\n\n  char lhs = str[real_index];\n  char rhs = str[real_index + 1];\n\n  return (char_to_hex(lhs) &lt;&lt; 4) | char_to_hex(rhs);\n}\n</code></pre>\n\n<p>As you mentioned, you could also transform the string into a vector of bytes.</p>\n\n<pre><code>std::vector&lt;uint8_t&gt; to_hex_vec(std::string foo)\n{\n  std::vector&lt;uint8_t&gt; res(foo.size() / 2);\n\n  for(std::size_t i = 0; i &lt; foo.size(); i += 2)\n  {\n    res[i / 2] = (char_to_hex(foo[i]) &lt;&lt; 4) | char_to_hex(foo[i + 1]);\n  }\n\n  return res;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "is_accepted": false, "score": 0, "last_activity_date": 1569440330, "creation_date": 1569440330, "answer_id": 58105469, "question_id": 58104724, "link": "https://stackoverflow.com/questions/58104724/compare-bytes-from-data-stored-in-a-stdstring/58105469#58105469", "title": "Compare Bytes From Data Stored in a std::string", "body": "<p>Here is a simple function that:</p>\n\n<p>1) Assumes the string consists of characters 0-9, a-f, only.</p>\n\n<p>2) We have an even number of characters in the string.</p>\n\n<p>3) Byte 0 is the most-significant byte (leftmost).  Adjust this if the opposite is desired.</p>\n\n<p>4) No bounds/error checking is done.</p>\n\n<p>Note that this is one of many ways to do this, and not an illustration of the \"best\" or fastest method (probably table lookup is faster):</p>\n\n<pre><code>#include &lt;cstring&gt;\n#include &lt;string&gt;\n#include &lt;iostream&gt;\n\nclass StringToHexByte\n{\n    std::string str;\n\n    char getByteValue(unsigned whichByte) const\n    {\n       static const char *digits=\"0123456789abcdef\";\n       char digit1 = strchr(digits, str[whichByte * 2]) - digits;\n       char digit2 = strchr(digits, str[whichByte * 2 + 1]) - digits;\n       return (digit1 &lt;&lt; 4) | digit2;\n    }\n\n    public:\n        StringToHexByte(const char *s) : str(s) {}\n\n        char operator[] (unsigned idx) const\n        { return getByteValue(idx); }\n};\n\nint main()\n{\n    StringToHexByte stoh(\"ff89d8\");\n    char byteValue0 = stoh[0];\n    char byteValue1 = stoh[1];\n    char byteValue2 = stoh[2];\n    if ( byteValue0 == '\\xff')\n       std::cout &lt;&lt; \"We got the value of hex ff\\n\";\n    if ( byteValue1 == '\\x89')\n       std::cout &lt;&lt; \"We got the value of hex 89\\n\";\n    if ( byteValue2 == '\\xd8')\n       std::cout &lt;&lt; \"We got the value of hex d8\";\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>We got the value of hex ff\nWe got the value of hex 89\nWe got the value of hex d8\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 1273008, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7dwWv.jpg?s=128&g=1", "display_name": "Onyxdragun", "link": "https://stackoverflow.com/users/1273008/onyxdragun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1569440330, "creation_date": 1569436915, "last_edit_date": 1569436971, "question_id": 58104724, "link": "https://stackoverflow.com/questions/58104724/compare-bytes-from-data-stored-in-a-stdstring", "title": "Compare Bytes From Data Stored in a std::string", "body": "<p>Hopefully, I can explain this reasonably enough.</p>\n\n<p>I have a string that is the hex representation of an image file. The data comes from a network stream and then is written to a file but before it is written to the file via <code>write()</code> it is stored in a string such like:</p>\n\n<pre><code>std::string mystr = \"ffd8ffe000104a464946043c87b6e...21451457af4e2b91686e92b1ffd9\";\n</code></pre>\n\n<p>Now the real string, of course, is actually 10k characters but the important info is the <code>ffd8</code> at the beginning and <code>ffd9</code> at the end. Yes a JPEG, but the data could be PNG or GIF as well. </p>\n\n<p>What do I need to do to convert the string into something useable so that I can do comparisons like</p>\n\n<pre><code>if (mystr[0] == '\\xff' &amp;&amp; mystr[1] == '\\xd8') {\n   ..\n}\n</code></pre>\n\n<p>Clearly, I cannot index into the string object that way because <code>mystr[0]</code> is 'f' right?</p>\n\n<p>Do I need to convert the string into a byte array of sorts? Vector of Bytes?</p>\n\n<p>Eventually, I will want to match x length to a series of bytes such as match the above string against <code>89504E470D0A1A0A</code> (PNG). </p>\n"}, {"tags": ["c++", "3d", "2d", "cartesian", "cylindrical"], "answers": [{"comments": [{"owner": {"reputation": 405, "user_id": 7080683, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vHnjck4jA_4/AAAAAAAAAAI/AAAAAAAAACE/wU6N3qQY4hM/photo.jpg?sz=128", "display_name": "Arne J", "link": "https://stackoverflow.com/users/7080683/arne-j"}, "edited": false, "score": 0, "creation_date": 1569439971, "post_id": 58104628, "comment_id": 102601639, "body": "Also : use std::hypot"}], "tags": [], "owner": {"reputation": 240, "user_id": 1901265, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/022417fb9ca8a9dff80be8fa0c64b141?s=128&d=identicon&r=PG", "display_name": "Bob", "link": "https://stackoverflow.com/users/1901265/bob"}, "is_accepted": true, "score": 1, "last_activity_date": 1569436460, "creation_date": 1569436460, "answer_id": 58104628, "question_id": 58104458, "link": "https://stackoverflow.com/questions/58104458/code-for-converting-cartesian-x-y-z-to-cylindrical-%cf%81-%ce%b8-z-coordinates-2d-3d/58104628#58104628", "title": "Code for converting Cartesian (x,y,z) to Cylindrical (\u03c1,\u03b8,z) coordinates 2D/3D", "body": "<p>If you are asking about a standard library function that will do this conversion for you, I do not believe there are any. However, there are some simple equations that relate the two. These equations are:</p>\n\n<pre><code>x = p cos ( theta )\ny = p sin ( theta )\nz = z\n</code></pre>\n\n<p>where</p>\n\n<pre><code>p = sqrt( x^2 + y^2 )\n</code></pre>\n\n<p>Standard C++ has the sin and cos functions. It also has asin and acos for the arc sin and the arc cos functions. These functions work in radians. It should be simple for you to write your own code to do this.</p>\n"}], "owner": {"reputation": 13, "user_id": 11819766, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DV7QWXAEpC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfXJd76DvSdr4El7ZPEIOBNnOMGfA/photo.jpg?sz=128", "display_name": "MAY", "link": "https://stackoverflow.com/users/11819766/may"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 58104628, "answer_count": 1, "score": 0, "last_activity_date": 1569436460, "creation_date": 1569435770, "question_id": 58104458, "link": "https://stackoverflow.com/questions/58104458/code-for-converting-cartesian-x-y-z-to-cylindrical-%cf%81-%ce%b8-z-coordinates-2d-3d", "title": "Code for converting Cartesian (x,y,z) to Cylindrical (\u03c1,\u03b8,z) coordinates 2D/3D", "body": "<p>Is there any code in C++ to converts from Cartesian (x,y,z) to Cylindrical (\u03c1,\u03b8,z) coordinates in 2-dimensions and 3-dimensions!!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["c++", "recursion", "linked-list", "overloading", "friend"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1569435301, "post_id": 58104318, "comment_id": 102599732, "body": "Please provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1569435328, "post_id": 58104318, "comment_id": 102599745, "body": "How do you expect to invoke <code>operator==</code> with 4 operands? You should probably just make that a non-operator function."}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 2, "last_activity_date": 1569436587, "last_edit_date": 1569436587, "creation_date": 1569435894, "answer_id": 58104481, "question_id": 58104318, "link": "https://stackoverflow.com/questions/58104318/overload-to-compare-two-linked-list-recursively/58104481#58104481", "title": "overload == to compare two linked list recursively", "body": "<p>The structure Node is a private data member, It may not be used in the friend declaration</p>\n\n<pre><code>friend bool operator == (const LList&amp; lfSide, Node* headlf, const LList&amp; rtSide, Node* headrt);\n</code></pre>\n\n<p>You could define the structure like</p>\n\n<pre><code>#include &lt;iostream&gt;\nclass  LList {\n   public:\n      friend bool operator == (const LList&amp; lfSide, const LList&amp; rtSide);\n   private:\n      struct Node {\n         int item;\n         Node* next;\n         bool operator ==( const Node &amp;headrt);\n      };\n      Node* head;\n};\n</code></pre>\n\n<p>And within the friend operator use the operator == of the structure Node.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "edited": false, "score": 0, "creation_date": 1569438101, "post_id": 58104725, "comment_id": 102600875, "body": "now its saying identifier internalCompare is undefined."}, {"owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "reply_to_user": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "edited": false, "score": 0, "creation_date": 1569438482, "post_id": 58104725, "comment_id": 102601060, "body": "@Keric, Check the link in previous comment for complete example"}], "tags": [], "owner": {"reputation": 1549, "user_id": 3600304, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/582e17ff0889a21f8b0f39315e064e76?s=128&d=identicon&r=PG&f=1", "display_name": "PapaDiHatti", "link": "https://stackoverflow.com/users/3600304/papadihatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1569436928, "creation_date": 1569436928, "answer_id": 58104725, "question_id": 58104318, "link": "https://stackoverflow.com/questions/58104318/overload-to-compare-two-linked-list-recursively/58104725#58104725", "title": "overload == to compare two linked list recursively", "body": "<p>One more approach could be to have only one argument passed to operator == as <strong>this</strong> is passed implicitly.Here is complete code</p>\n\n<pre><code>template &lt;typename T&gt;\nstruct Node\n{\n    T data;\n    Node&lt;T&gt;* next;\n};\ntemplate &lt;class T&gt;\nclass LinkedList\n{\nprivate:\n    Node&lt;T&gt;* head;  \n\n    bool internalCompare(Node&lt;T&gt;* first, Node&lt;T&gt;* second)\n    {\n        if((first == nullptr) &amp;&amp; (second == nullptr))\n        {\n            return true;\n        }\n        else if(((first == nullptr) &amp;&amp; (second != nullptr)) || ((first != nullptr) &amp;&amp; (second == nullptr)))\n        {\n            return false;\n        }\n        else if (first-&gt;data != second-&gt;data)\n        {\n            return false;\n        }\n        return internalCompare(first-&gt;next,second-&gt;next);\n    }\npublic:\n    LinkedList() :head(nullptr) {}      \n    bool operator ==(LinkedList&lt;T&gt; &amp; second)\n    {\n        if(internalCompare(head,second.head))\n        {\n            return true;\n        }\n        return false;\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10977840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d580b3108508355860f18749cc9a94f3?s=128&d=identicon&r=PG&f=1", "display_name": "Girish", "link": "https://stackoverflow.com/users/10977840/girish"}, "is_accepted": false, "score": 0, "last_activity_date": 1569437761, "creation_date": 1569437761, "answer_id": 58104909, "question_id": 58104318, "link": "https://stackoverflow.com/questions/58104318/overload-to-compare-two-linked-list-recursively/58104909#58104909", "title": "overload == to compare two linked list recursively", "body": "<p>This might help you.\nI kept the things simple by making some member variables as public.</p>\n\n<pre><code>class Node\n{\npublic:\n    int m_Value = -1;\n    Node* m_Next = nullptr;\n    Node()\n    {\n        m_Value = -1;\n        m_Next = NULL;\n    }\n};\n\n//Linked List class\nclass LinkedList\n{\n    //Head Node\n    Node* m_Head;\n    //Tail Node\n    Node* m_Last;\n\npublic:\n    //Constructor\n    LinkedList()\n    {\n        m_Head = nullptr;\n        m_Last = nullptr;\n    }\n    //Add value to list\n    void AddValue(int value)\n    {\n        if (m_Head == nullptr)\n        {\n            m_Head = new Node();\n            m_Head-&gt;m_Value = value;\n            m_Last = m_Head;\n        }\n        else\n        {\n            Node* newNode = new Node();\n            newNode-&gt;m_Value = value;\n            m_Last-&gt;m_Next = newNode;\n            m_Last = newNode;\n        }\n    }\n\n    //Display the elements of the list\n    void display()\n    {\n        Node* travelNode = m_Head;\n        while (travelNode != nullptr)\n        {\n            cout &lt;&lt; travelNode-&gt;m_Value &lt;&lt; \" ==&gt; \";\n            travelNode = travelNode-&gt;m_Next;\n        }\n    }\n\n    //Compare function\n    bool operator==(const LinkedList&amp; List)\n    {\n        return CompareList(this-&gt;m_Head, List.m_Head);\n    }\n\n    bool CompareList( Node* LeftList,  Node* rightList)\n    {\n        //If both nodes reaches to end then it is equal\n        if (LeftList == nullptr &amp;&amp; rightList == nullptr) return true;\n\n        //If one of the node has more nodes then list are not equal\n        if (LeftList == nullptr || rightList == nullptr) return false;\n\n        //Compare the values\n        if (LeftList-&gt;m_Value != rightList-&gt;m_Value) return false;\n\n        //Call recursion\n        CompareList(LeftList-&gt;m_Next, rightList-&gt;m_Next);\n    }\n};\n\nint main()\n{\n    //First List\n    LinkedList list1;\n    list1.AddValue(1);\n    list1.AddValue(2);\n    list1.AddValue(3);\n    list1.AddValue(4);\n    list1.AddValue(5);\n\n    //list1.display();\n\n    //Second List\n    LinkedList list2;\n    list2.AddValue(1);\n    list2.AddValue(2);\n    list2.AddValue(3);\n    list2.AddValue(4);\n    list2.AddValue(5);\n\n    //list2.display();\n\n    //Compare\n    bool areEq = list1 == list2;\n    cout &lt;&lt; \"Are Equal \" &lt;&lt; areEq &lt;&lt; endl;\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 10146700, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-K0bTvRdeqtQ/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7orq4jsMubrwFKwbf0iSFeQl0l8iQ/mo/photo.jpg?sz=128", "display_name": "Keric Ma", "link": "https://stackoverflow.com/users/10146700/keric-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569437761, "creation_date": 1569435144, "last_edit_date": 1569437216, "question_id": 58104318, "link": "https://stackoverflow.com/questions/58104318/overload-to-compare-two-linked-list-recursively", "title": "overload == to compare two linked list recursively", "body": "<p>I have a homework problem, which asks me to overload == operator to compare two linked-list. And i need to do this in recursion.</p>\n\n<p>Here is my .h file</p>\n\n<pre><code>class  LList {\n   public:\n      friend bool operator == (const LList&amp; lfSide, const LList&amp; rtSide);\n   private:\n      struct Node {\n         int item;\n         Node* next;\n      };\n      friend bool operator == (const LList&amp; lfSide, Node* headlf, const LList&amp; rtSide, Node* headrt);\n      Node* head;\n}\n</code></pre>\n\n<p>I tried to use a helper function to make the recursion happen, but it still gives error saying Node is not defined.</p>\n\n<p><code>friend bool operator == (const LList&amp; lfSide, Node* headlf, const LList&amp; rtSide, Node* headrt);</code></p>\n\n<p>Can anyone help me with this?</p>\n"}, {"tags": ["c++", "template-instantiation"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1569435438, "post_id": 58104285, "comment_id": 102599792, "body": "I can&#39;t tell you why they don&#39;t give the objects name, but since they didn&#39;t what it does is create a temporary object that is destroyed at the <code>;</code> after the declaration."}, {"owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569436109, "post_id": 58104285, "comment_id": 102600066, "body": "@NathanOliver: Is this officially documented or compiler specific? such temporary objects are known to be used elsewhere?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1569436441, "post_id": 58104285, "comment_id": 102600201, "body": "It is required to be supported by all compilers due to different sections of the C++ standard.  This is something that happens a lot.  Lets say you have a function that takes an <code>A</code> that you don&#39;t care about.  Instead of creating the <code>A</code> object and giving it a name, you can just do <code>function(A&lt;char, char&gt;(&#39;A&#39;, &#39;A&#39;));</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1582, "user_id": 189297, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/b98a34931025b9d4a04b33b38e7f8504?s=128&d=identicon&r=PG", "display_name": "Aaron Altman", "link": "https://stackoverflow.com/users/189297/aaron-altman"}, "is_accepted": true, "score": 1, "last_activity_date": 1569442845, "creation_date": 1569442845, "answer_id": 58106018, "question_id": 58104285, "link": "https://stackoverflow.com/questions/58104285/how-does-the-object-creation-work-for-this-class-template/58106018#58106018", "title": "How does the object creation work for this class template?", "body": "<pre><code>// Explicit instantiation of A&lt;char, int&gt;.\n// The result of the constructor call A(char x, int y) is not used, i.e. \n// is not bound to a name as in A&lt;char&gt; a('A', 'A'); however, because the\n// constructor has a side effect of calling std::cout, we can still tell that\n// it ran.\nA&lt;char, int&gt;('A', 65);\n\n// Explicit instantiation of A&lt;char, char&gt; that is not bound to a name.\nA&lt;char, char&gt;('A', 'A');\n</code></pre>\n\n<p>Observe that you could give names b, c and d or any other valid identifier to the other A's and still see the same result; or, since the one named <code>a</code> is not used after its definition, you could also remove that name and just have it be a call to the constructor that doesn't get bound to a name like the others.  Same results <em>for this particular program</em> regardless, although if there was something else you wanted to do with <code>a, b, c or d</code> later after construction, they would need to be referenced by a name.</p>\n"}], "owner": {"reputation": 61700, "user_id": 5291015, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZFijZ.jpg?s=128&g=1", "display_name": "Inian", "link": "https://stackoverflow.com/users/5291015/inian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58106018, "answer_count": 1, "score": 0, "last_activity_date": 1569442845, "creation_date": 1569435028, "question_id": 58104285, "link": "https://stackoverflow.com/questions/58104285/how-does-the-object-creation-work-for-this-class-template", "title": "How does the object creation work for this class template?", "body": "<p>I have this code below which I was trying out from a course I was undertaking, that pretty much does what is expected to do</p>\n\n<pre><code>#include &lt;iostream&gt;\n\ntemplate &lt;typename T, class U = int&gt;\nclass A {\npublic:\n    T x;\n    U y;\n    A(T x, U y) { std::cout &lt;&lt; x &lt;&lt; \" \" &lt;&lt; y &lt;&lt; std::endl; }\n};\n\nint main() {\n    A&lt;char&gt; a('A', 'A');\n    A&lt;char, int&gt;('A', 65);\n    A&lt;char, char&gt;('A', 'A');\n    return 0;\n}\n</code></pre>\n\n<p>But I don't understand how the parts below work. I understand how the default parameters part of the template work, but don't understand how the code creates an object once the template class is instantiated. </p>\n\n<pre><code>A&lt;char, int&gt;('A', 65);\nA&lt;char, char&gt;('A', 'A');\n</code></pre>\n\n<p>Why isn't an explicit object created like for the first case with <code>A&lt;char&gt; a('A', 'A');</code>? I saw no compilation errors compiling with <code>g++ -Wall -Wextra --std=c++11</code>. Also if a specific clause from cppreference that explains this behavior would be appreciated, as I've missed identifying where does such a behavior is explained.</p>\n"}, {"tags": ["c++", "gcc-warning"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569434587, "post_id": 58104146, "comment_id": 102599463, "body": "If <code>char_buffer</code> and <code>offset</code> are constant expressions then I don&#39;t think you&#39;re check function is actually working since if it knows you are out of bounds at compile time."}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569434884, "post_id": 58104146, "comment_id": 102599570, "body": "@NathanOliver my <code>check</code> function is working, but the compiler is ignoring its existence for the reason I already explained in the question (which anyway is not a duplicate of the other one since I am asking this specific error, which I do not know which `-Wwhatever-the-name is)"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569434974, "post_id": 58104146, "comment_id": 102599602, "body": "The error message should contain which warning triggered it.  Can you share the full error message?"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569435223, "post_id": 58104146, "comment_id": 102599702, "body": "@NathanOliver <code>path&#47;MyClass.inl: In member function &#39;virtual void MyClassTest_invalid_Test::TestBody()&#39;: path&#47;MyClass.inl:28:53: warning: offset outside bounds of constant string</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569435353, "post_id": 58104146, "comment_id": 102599757, "body": "Looks like <code>-Warray-bounds</code> is the specific warning flag"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569435627, "post_id": 58104146, "comment_id": 102599855, "body": "@NathanOliver I tried that one without any success. I am trying now <code>-Wstringop-overflow</code>. Where are you checking by the way? Unfortunately I found no table which matches together warning code with warning flags with warning messages anywhere so far"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569437372, "post_id": 58104146, "comment_id": 102600596, "body": "@NathanOliver apparently the check is there by default as long as <code>-O2</code> optimization level is being provided. I have no idea how to disable this check with a <code>#pragma</code> directive."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569437866, "post_id": 58104146, "comment_id": 102600779, "body": "Try <code>-Warray-bounds=1</code>  That is the setting that is applied for <code>-O2</code>"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569438191, "post_id": 58104146, "comment_id": 102600918, "body": "@NathanOliver I am writing <code>#pragma GCC diagnostic push</code> then <code>#pragma GCC diagnostic ignored &quot;-Warray-bounds=1&quot;</code> and after my function definition <code>#pragma GCC diagnostic pop</code>, but it does not go away"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1569438444, "post_id": 58104146, "comment_id": 102601042, "body": "I&#39;ve reopened and added info to the question"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1569439648, "post_id": 58104146, "comment_id": 102601533, "body": "@nyarlathotep108 If you shared a fully compilable minimal example rather than one line with a bunch of undefined variables and functions, people might be able to help better."}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1569487417, "post_id": 58104146, "comment_id": 102615379, "body": "@Thomas you are right, question became more complex than expected in the beginning. I updated the question with more code. Please keep in mind only with <code>-O2</code> you will get the warning"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1569492276, "post_id": 58104146, "comment_id": 102618073, "body": "Can&#39;t reproduce on g++ 9.1.0 using <code>g++ --std=c++17 -O2 -otest test.cc</code>. (I had to add <code>#include &lt;string&gt;</code> and <code>#include &lt;algorithm&gt;</code> to make it compile.) I get no warnings with any of the <code>-O</code> options, even if I add <code>-Wall -Wextra -pedantic</code>. Nor with <code>--std=c++11</code> or without <code>--std</code> flag at all."}], "owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 413, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569486779, "creation_date": 1569434435, "last_edit_date": 1569486779, "question_id": 58104146, "link": "https://stackoverflow.com/questions/58104146/how-to-disable-warning-offset-outside-bounds-of-constant-string", "title": "How to disable warning: offset outside bounds of constant string", "body": "<p>I am using GCC 7.4.0 and at some point it started giving me the following warning:</p>\n\n<blockquote>\n  <p>offset outside bounds of constant string</p>\n</blockquote>\n\n<p>The reason is that the code is now templated and inlined and the compiler can now make some additional compile time checks. The code looks more or less like this:</p>\n\n<pre><code>template &lt;typename StringType = std::string&gt;\nclass StringWrapper {\npublic:\n    explicit StringWrapper(const typename StringType::value_type* string_buffer);\n\nprivate:\n    static bool check(const typename StringType::value_type* string_buffer);\n\nprivate:\n    StringType m_text;\n};\n\ntemplate &lt;typename StringType&gt;\nStringWrapper&lt;StringType&gt;::StringWrapper(\n    const typename StringType::value_type* string_buffer)\n    : m_text(check(string_buffer) ? string_buffer + 3U\n                                  : StringType{}) // the warning is at this line\n{\n}\n\ntemplate &lt;typename StringType&gt;\nbool StringWrapper&lt;StringType&gt;::check(const typename StringType::value_type* string_buffer)\n{\n    if (string_buffer == nullptr) {\n        return false;\n    }\n\n    return std::none_of(string_buffer, string_buffer + 3U,\n        [](const typename StringType::value_type&amp; string_element) {\n            return string_element == '\\0';\n        });\n}\n\nint main()\n{\n    StringWrapper&lt;&gt; a(\"na\");\n    return 0;\n}\n</code></pre>\n\n<p>The compiler seems not to be able to understand at compile time that the function <code>check()</code> as already validated the offset to be applicable without any risk. The reason why the compiler basically ignores the call to <code>check()</code> is that the function unfortunately cannot be made <code>constexpr</code>, and therefore it cannot be evaluated at compile time.</p>\n\n<p>How can I disable only this specific warning and only for this specific portion of code?</p>\n\n<p>I've found <a href=\"https://stackoverflow.com/questions/3378560/how-to-disable-gcc-warnings-for-a-few-lines-of-code\">How to disable GCC warnings for a few lines of code</a> but I do not know what <code>-Wname_of_warning</code> should be used.</p>\n"}, {"tags": ["c++", "visual-c++", "c++14"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569433991, "post_id": 58104016, "comment_id": 102599191, "body": "related/dupe: <a href=\"https://stackoverflow.com/questions/1120833/derived-template-class-access-to-base-class-member-data\" title=\"derived template class access to base class member data\">stackoverflow.com/questions/1120833/&hellip;</a>  This is correct behavior, MSVS just didn&#39;t enforce it."}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569434576, "post_id": 58104016, "comment_id": 102599453, "body": "@NathanOliver so you&#39;re saying this was a bug in the MS compiler for many years that was just finally fixed?"}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1569434579, "post_id": 58104016, "comment_id": 102599457, "body": "Note that you are compiling using <a href=\"https://docs.microsoft.com/en-us/cpp/build/reference/permissive-standards-conformance?view=vs-2019\" rel=\"nofollow noreferrer\">(standard) <code>Conformance mode</code></a> introduced in VS2017. They even have &quot;How to fix your code&quot; section in docs listing fixes for breaking changes to address such questions."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569434659, "post_id": 58104016, "comment_id": 102599487, "body": "@MarkRansom Yes.  MSVS is known to have done this in several places.  Like allowing non-const lvalue references to bind to temporaries.  That was around for many years and many versions"}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 1, "creation_date": 1569434933, "post_id": 58104016, "comment_id": 102599590, "body": "@VTT that was accidental because I created a new project for testing. The code where I originally encountered this error did not have that option set."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569435931, "post_id": 58104016, "comment_id": 102600001, "body": "This is getting muddled.  The conformance mode setting is the key.  With it set to Yes it will reject the code even without selecting C++14.  Use No to get old code to compile that relied on &quot;nobody will pay for a compiler when it breaks the code&quot; mode."}, {"owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569436587, "post_id": 58104016, "comment_id": 102600265, "body": "@HansPassant I agree it&#39;s muddled. The project where I first encountered this error <b>did</b> have the option set to &quot;No&quot;, so there&#39;s obviously more to it."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569436820, "post_id": 58104016, "comment_id": 102600359, "body": "Well, there is.  This setting can have different values for different configurations and platforms.  So if you set it to No for Debug (as you did in the screenshot) but forgot for Release then you&#39;ll have a problem.  Not a great idea."}], "owner": {"reputation": 269338, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569433861, "creation_date": 1569433861, "question_id": 58104016, "link": "https://stackoverflow.com/questions/58104016/visual-studio-2019-c14-generates-error-c3646", "title": "Visual Studio 2019/C++14 generates error C3646", "body": "<p>The best I can determine is that symbols defined in the parent class are no longer carried into the child class by default.  This is counter to the way I've always believed C++ to work.</p>\n\n<pre><code>template&lt;typename T&gt;\nclass Parent\n{\npublic:\n    typedef T* iterator;\n};\n\ntemplate&lt;typename T&gt;\nclass Child : public Parent &lt; T &gt;\n{\npublic:\n    //using iterator = Parent&lt;T&gt;::iterator; // this fixes error C3646 and error C2059\n\n    iterator begin(void)\n    {\n        return nullptr;\n    }\n};\n\n1&gt;Test1.cpp(14,1): error C3646:  'begin': unknown override specifier\n1&gt;Test1.cpp(18): message :  see reference to class template instantiation 'Child&lt;T&gt;' being compiled\n1&gt;Test1.cpp(14,16): error C2059:  syntax error: '('\n1&gt;Test1.cpp(15,1): error C2334:  unexpected token(s) preceding '{'; skipping apparent function body\n</code></pre>\n\n<p>This started happening when I changed the file settings to use C++14 or C++17, prior to that it was OK.  There appears to be no way to restore the prior behavior, even selecting \"Default\" generates the errors.  It still works fine in Visual Studio 2013.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ht5bW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ht5bW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["c++", "vtk"], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 10382271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES2MU.jpg?s=128&g=1", "display_name": "Alone Programmer", "link": "https://stackoverflow.com/users/10382271/alone-programmer"}, "is_accepted": false, "score": 1, "last_activity_date": 1569971455, "creation_date": 1569971455, "answer_id": 58193388, "question_id": 58103831, "link": "https://stackoverflow.com/questions/58103831/how-to-get-faces-and-vertices-from-vtkvoxelcontourstosurfacefilter/58193388#58193388", "title": "How to get faces and vertices from vtkVoxelContoursToSurfaceFilter?", "body": "<p>The results of <code>vtkVoxelContoursToSurfaceFilter</code> is a <code>vtkPolyData</code> object. So:</p>\n\n<pre><code>pd = transformFilter-&gt;GetOutput();\n\n// Extracting vertices:\n\nvertices = pd-&gt;GetPoints();\n\n// Extracting faces (cells):\n\ncells = pd-&gt;GetCells();\n</code></pre>\n\n<p>You can access individual vertices or cells by specifying their ids:</p>\n\n<pre><code>// Extracting point with id = 0:\nvert0 = vertices-&gt;GetPoint(0);\n\n//Extracting cell with id = 0:\ncell0 = cells-&gt;GetCell(0);\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 3063131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25093fa8522533462a7a67fc6e46ac49?s=128&d=identicon&r=PG&f=1", "display_name": "hnourzad", "link": "https://stackoverflow.com/users/3063131/hnourzad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569971455, "creation_date": 1569433056, "last_edit_date": 1569433395, "question_id": 58103831, "link": "https://stackoverflow.com/questions/58103831/how-to-get-faces-and-vertices-from-vtkvoxelcontourstosurfacefilter", "title": "How to get faces and vertices from vtkVoxelContoursToSurfaceFilter?", "body": "<p>I am following the  ContoursToSurface (<a href=\"https://lorensen.github.io/VTKExamples/site/Cxx/PolyData/ContoursToSurface/\" rel=\"nofollow noreferrer\">https://lorensen.github.io/VTKExamples/site/Cxx/PolyData/ContoursToSurface/</a>) example from VTK website. My question is simply how to get the faces and vertices after vtkVoxelContoursToSurfaceFilter acts on the contours?</p>\n\n<p>The number of different elements (Poly,Verts,Pieces,Points, Lines and Cells) after transforming back the output of filter from ijk coordinate to world coordinate before visualizing:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>std::cout &lt;&lt; \"GetNumberOfPolys :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfPolys()) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"GetNumberOfPieces :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfPieces()) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"GetNumberOfLines :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfLines()) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"GetNumberOfVerts :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfVerts()) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"GetNumberOfPoints :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfPoints()) &lt;&lt; std::endl;\nstd::cout &lt;&lt; \"GetNumberOfCells :\" &lt;&lt; std::to_string( transformFilter-&gt;GetOutput(0)-&gt;GetNumberOfCells()) &lt;&lt; std::endl;\n</code></pre>\n\n<p>This outputs the following (which I was not expecting)?</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>GetNumberOfPolys :0\nGetNumberOfPieces :1\nGetNumberOfLines :0\nGetNumberOfVerts :0\nGetNumberOfPoints :0\nGetNumberOfCells :0\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 5, "creation_date": 1569432483, "post_id": 58103668, "comment_id": 102598572, "body": "You never assign anything to <code>temp</code> after <code>temp = r;</code> so either it doesn&#39;t enter the loop at all (<code>r</code> is <code>nullptr</code>) or it loops forever. Doesn&#39;t look like you need the loop at all."}], "answers": [{"tags": [], "owner": {"reputation": 7540, "user_id": 4474230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/713c7ce18010e541853962264a719d83?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey", "link": "https://stackoverflow.com/users/4474230/jeffrey"}, "is_accepted": false, "score": 3, "last_activity_date": 1569432877, "creation_date": 1569432877, "answer_id": 58103793, "question_id": 58103668, "link": "https://stackoverflow.com/questions/58103668/why-using-recursion-using-while-loop-goes-in-infinite-loop-but-works-fine-with-i/58103793#58103793", "title": "why using recursion using while loop goes in infinite loop but works fine with if condition", "body": "<p>Imagine you have a <code>node* head</code> that has a <code>nullptr</code> left node and a <code>nullptr</code> right node.</p>\n\n<p>The code above will get into <code>while (temp != NULL)</code>.</p>\n\n<p>It will call <code>inorder(temp-&gt;getleft());</code> on the left node. Because the node is <code>nullptr</code> it, won't get into the <code>while</code>, in the nested call.</p>\n\n<p>It will call <code>inorder(temp-&gt;getright());</code> on the right node. Because the node is <code>nullptr</code>, it won't get into the <code>while</code>, in the nested call.</p>\n\n<p>Then what? It is at the end of the <code>while</code>, but <code>temp</code> is still pointing to your head node. So, it will go back to the beginning of the <code>while</code>. And do that forever.</p>\n"}], "owner": {"reputation": 1, "user_id": 12120669, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mATkPXbGMRqUO-zeE82oHmxBwTsTusZkDaN9qSC=k-s128", "display_name": "varun ", "link": "https://stackoverflow.com/users/12120669/varun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569432877, "creation_date": 1569432365, "question_id": 58103668, "link": "https://stackoverflow.com/questions/58103668/why-using-recursion-using-while-loop-goes-in-infinite-loop-but-works-fine-with-i", "title": "why using recursion using while loop goes in infinite loop but works fine with if condition", "body": "<p>i am working with inorder ,with recursion, but when i use it with while loop,the last call goes in infinite loop, but works fine with if statement.\ncan someone help what actually happens with while loop and if statement with recursion</p>\n\n<pre><code>void tree::inorder(node* r)\n{\n    node* temp;\n    temp = r;\n    while (temp != NULL)\n    {\n        inorder(temp-&gt;getleft());\n        cout &lt;&lt; \"\\n\\n\\t \" &lt;&lt; temp-&gt;getdata();\n        inorder(temp-&gt;getright());\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "list", "iterator", "push-back"], "comments": [{"owner": {"reputation": 14821, "user_id": 5743288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea16526477fd6f1d4cc57f976af38d0?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Sanders", "link": "https://stackoverflow.com/users/5743288/paul-sanders"}, "edited": false, "score": 1, "creation_date": 1569432840, "post_id": 58103649, "comment_id": 102598719, "body": "Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  There are several reasons why the code in your question will not even compile, let alone run."}, {"owner": {"reputation": 9018, "user_id": 5105949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd9d7ecb21c40f7a4256317fd80cecc?s=128&d=identicon&r=PG&f=1", "display_name": "churill", "link": "https://stackoverflow.com/users/5105949/churill"}, "edited": false, "score": 2, "creation_date": 1569433149, "post_id": 58103649, "comment_id": 102598855, "body": "There are some things to mention here, but as already stated this code won&#39;t compile.  1. You never actually set any member variables of your items. 2. It&#39;s easier to use a for loop with <code>for(auto &amp; item : myList) {...}</code> and the compiler will create code similiar to your <code>while</code>-loop, which makes code mor readable 3. what is <code>MDMItemToBeFound</code>? This may be the source of your problem."}, {"owner": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "edited": false, "score": 0, "creation_date": 1589404863, "post_id": 58103649, "comment_id": 109285464, "body": "This was my first question. Not the best question of the world but not even the worse I&#39;ve ever seen. After a meta-post it received 1 UV and 2DV. After today it received a revenge DV, I decided to improve it hoping it will recover its negative score (IMO undeserved). In the worst case I just improved its readability... ;)"}], "answers": [{"comments": [{"owner": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "edited": false, "score": 0, "creation_date": 1569441847, "post_id": 58103996, "comment_id": 102602434, "body": "Forgive the basic level question, but I need to be sure: are you saying that reason why  <code>masterItem != masterItem iterator</code> in my loop is that <code>push_back</code> performs a copy of the object pointed by <code>*masterItem</code> to the list?"}, {"owner": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "edited": false, "score": 0, "creation_date": 1569482765, "post_id": 58103996, "comment_id": 102613070, "body": "Yes, it is, thank you. I&#39;m going to modify the question title in order to  underline &quot;push_back&quot;&#39;s behavior, because it was not clear to me and I think it could be helpful for other developers. In fact, in my previous experience custom list implementations always used to save pointers to objects. <i>PS:</i> I was actually wondering how could <code>list.erase</code> <i>delete</i> pointers allocated to the heap before pushing them to the list... Well, it couldn&#39;t."}], "tags": [], "owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "is_accepted": true, "score": 4, "last_activity_date": 1569443537, "last_edit_date": 1569443537, "creation_date": 1569433783, "answer_id": 58103996, "question_id": 58103649, "link": "https://stackoverflow.com/questions/58103649/list-items-and-iterators-do-either-push-back-or-iterators-create-copies-of-orig/58103996#58103996", "title": "List items and iterators: do either push back or iterators create copies of original data?", "body": "<p>Iterators do not copy anything. In C terms, they behave almost like pointers within array.</p>\n\n<p>However, you do copy elements here:</p>\n\n<pre><code>void PopulateList( void )\n{\n  ItemToBeFound *masterItem = new ItemToBeFound( NULL /* no refItem */ );\n  myList.push_back( *masterItem ); //copy of masterItem pointee\n\n  ItemToBeFound *slaveItem = new ItemToBeFound( masterItem ); //initialized with masterItem, which does not point to the object stored in the list!\n  myList.push_back( *slaveItem ); //copy of slaveItem pointee, also stores masterItem, but not object from the list\n\n//slaveItem is leaked here, masterItem is only kept via slaveItem copy in the list\n}\n</code></pre>\n\n<p>If you initialize objects like this, your slave objects never store pointers to objects in the list, but rather to the objects created with <code>new</code>.</p>\n\n<hr>\n\n<p>Let's go step by step through the code (I'll be a rubber debugger here):</p>\n\n<pre><code>ItemToBeFound *masterItem = new ItemToBeFound( NULL /* no refItem */ );\n</code></pre>\n\n<p>You allocate an object on the heap (they don't have names, but let's call it <code>m1</code>) and a pointer on the stack called <code>masterItem</code>, so derefenced <code>masterItem</code> is exactly <code>m1</code>.</p>\n\n<pre><code>  myList.push_back( *masterItem );\n</code></pre>\n\n<p><a href=\"https://en.cppreference.com/w/cpp/container/list/push_back\" rel=\"nofollow noreferrer\"><code>std::list::push_back()</code></a> creates a copy of the argument given to it (I ignore move semantics - they are not used here). Notice what is the argument - dereferenced <code>masterItem</code> or <code>m1</code> as we called it before.<br>\nThe copy of the object <code>m1</code> created by <code>push_back</code> will be called <code>m2</code></p>\n\n<p>So now we have the following (with <code>a-&gt;b</code> meaning <em><code>a</code> points to <code>b</code></em>):</p>\n\n<pre><code>masterItem-&gt;m1\nmyList-&gt;m2\n</code></pre>\n\n<p>Next line:</p>\n\n<pre><code>  ItemToBeFound *slaveItem = new ItemToBeFound( masterItem );\n</code></pre>\n\n<p>Here, you initialize <code>slaveItem</code> with new object on the heap - <code>s1</code>.</p>\n\n<pre><code>masterItem-&gt;m1\nmyList-&gt;m2\nslaveItem-&gt;s1-&gt;masterItem-&gt;m1 (s1 points to masterItem, which points to m1)\n</code></pre>\n\n<p>Last one:</p>\n\n<pre><code>myList.push_back( *slaveItem );\n</code></pre>\n\n<p>Again, <code>push_back()</code> creates a copy of its argument on the heap (this copy will be called <code>s2</code>)</p>\n\n<pre><code>masterItem-&gt;m1\nslaveItem-&gt;s1-&gt;masterItem-&gt;m1 \nmyList-&gt;m2\nmyList-&gt;s2-&gt;masterItem-&gt;m1\n</code></pre>\n\n<p>Eventually, you have:</p>\n\n<ul>\n<li>4 objects on the heap: <code>m1</code>, <code>m2</code>, <code>s1</code> and <code>s2</code> (all of type <code>ItemToBeFound</code>)</li>\n<li>2 objects on the stack: <code>masterItem</code> and <code>slaveItem</code> (both of pointer type)</li>\n<li>one object in the global area: <code>myList</code> (can be treated as stack object here)</li>\n<li><code>m2</code> and <code>s2</code> are stored in <code>myList</code> and can be iterated over</li>\n<li>Both <code>s1</code> and <code>s2</code> have pointers to <code>m1</code></li>\n<li>No slave object points to <code>m2</code></li>\n</ul>\n\n<p>Later on, when you run <code>mainFunction()</code>, object <code>m2</code> gets filled with data, but object <code>s2</code> is trying to retrieve data from <code>m1</code>, which wasn't filled with any valueable data.</p>\n\n<hr>\n\n<p>It's hard to propose any solution without more info. One I'd use if I couldn't reorganize class structure would be to use <code>std::list&lt;std::shared_ptr&lt;ItemToBeFound&gt;&gt;</code> instead, which will keep your pointers safe, and only store <code>std::weak_ptr&lt;ItemToBeFound&gt; referenceItem</code> in slave objects (to avoid any circular dependecies and declare ownership clearly). </p>\n\n<p>You could have <code>std::list&lt;ItemToBeFound*&gt;</code> and manage memory manually, but that's against modern C++ spirit and should be used with great care - flow can take more branches in C++ than in C and it's more difficult to track all of them to <code>delete</code> everything.</p>\n\n<p>You could technically store in slave objects pointers to objects stored in the list (or even iterators to those), but that feels like a weird solution. You don't control those objects and you don't own them, so you shouldn't keep pointers to those.</p>\n"}], "owner": {"reputation": 6053, "user_id": 11336762, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGPr6.jpg?s=128&g=1", "display_name": "Roberto Caboni", "link": "https://stackoverflow.com/users/11336762/roberto-caboni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 147, "favorite_count": 1, "accepted_answer_id": 58103996, "answer_count": 1, "score": 0, "last_activity_date": 1589474103, "creation_date": 1569432303, "last_edit_date": 1589474103, "question_id": 58103649, "link": "https://stackoverflow.com/questions/58103649/list-items-and-iterators-do-either-push-back-or-iterators-create-copies-of-orig", "title": "List items and iterators: do either push back or iterators create copies of original data?", "body": "<p>Though I've a lot of experience as C Embedded Programmer, I'm actually not so skilled in C++. I'm implementing a parser in which <code>ItemsToBeFound</code> are pushed within a list.</p>\n\n<p>It happens that some of these items (let's say <strong>master items</strong>) carry more information, so that some other items (<strong>slave items</strong>) need to refer to <em>master items</em> to retrieve those info. This link is done at population phase, without iterators.</p>\n\n<p>This is the sequence of the actions:</p>\n\n<ol>\n<li>I save the pointer to the <em>master item</em>, and push it to the list</li>\n<li>I set specific pointer field <code>pReferenceItem</code> of the <em>slave item</em> so that it points to the <em>master item</em></li>\n<li>Later, I start the iteration through the list</li>\n<li>I save parsed information to <em>master item</em></li>\n<li>When it comes to process <em>slave item</em>, I try accessing master item's field. <strong>But it is unchanged!</strong></li>\n<li>The pointer to <em>master item</em> during iteration is different from the original one, so the pointer contained in <em>slave item</em> points to the original (unchanged) data</li>\n</ol>\n\n<p>Any suggestion about some special qualifiers I could use in order to force the iteration through the original data? Any obvious mistake in the way I issue lists and/or iterators?</p>\n\n<p>Please note that I'm sure about what asserted in step #6 above, because I've watched pointers values using the debugger.</p>\n\n<p>Here's the simplified code showing the described issue:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>#include &lt;list&gt;\n#include &lt;iostream&gt;\n\nstd::list&lt;ItemToBeFound&gt; myList;\n\nclass ItemToBeFound\n{\nprivate:\npublic:\n    /* ... */\n    int specialDataToBeRetreived;\n    ItemToBeFound *pReferenceItem;\n    /* ... */\n\n    ItemToBeFound( ItemToBeFound *ref )\n    {\n        pReferenceItem = ref;\n        specialDataToBeRetreived = 777;\n    }\n\n    bool isMaster( void )\n    {\n        return ( pReferenceItem == NULL );\n    }\n}\n\n\nvoid PopulateList( void )\n{\n    ItemToBeFound *masterItem = new ItemToBeFound( NULL /* no refItem */ );\n    myList.push_back( *masterItem );\n\n    ItemToBeFound *slaveItem = new ItemToBeFound( masterItem );\n    myList.push_back( *slaveItem );\n}\n\nint main( void )\n{\n    // ...\n    PopulateList();\n    // ...\n\n    /* Let's iterate and do something */\n    std::list&lt;ItemToBeFound&gt;::iterator it = myList.begin();\n    while( it != itemsList.end() )\n    {\n        if( it-&gt;isMaster() )\n        {\n            it-&gt;specialDataToBeRetreived = 42; /* In the real program I get the value after a parsing activity */\n        }\n        else /* it is a slave item */\n        {\n            it-&gt;specialDataToBeRetreived = it-&gt;referenceItem-&gt;specialDataToBeRetreived;\n\n            /* But it doesn't work! */\n            std::cout &lt;&lt; \"Updated special value: \" &lt;&lt; it-&gt;specialDataToBeRetreived &lt;&lt; std::endl;\n        }\n\n        it++;\n    }\n\n    // ...\n\n    return 0;\n}\n</code></pre>\n\n<p>In the <em>\"slave\"</em> branch of the conditional, during iteration, I expect the <code>specialDataToBeRetreived</code> I set in reference object, but I keep obtaining 777 (the example value I set in the constructor):</p>\n\n<pre><code>Updated special value: 777\n</code></pre>\n\n<p>And the reason why I get this value is that, as shown by the debugger, the reference item in iteration phase has an <strong>address different</strong> from the original one, pointed by the slave item.</p>\n\n<hr>\n\n<h2>The questions</h2>\n\n<ul>\n<li>Why did this change occur?</li>\n<li>I was expecting that the pointer to my object was just <strong>copied</strong> to the list, like in many <em>list</em> implementation I've seen in my life. Does the <code>push_back</code> method of the <code>std::list</code> template perform a copy of the pointed object?</li>\n</ul>\n"}, {"tags": ["c++", "windows", "credential-providers", "winlogon", "screen-lock"], "comments": [{"owner": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 0, "creation_date": 1569436707, "post_id": 58103368, "comment_id": 102600313, "body": "Looks like you can find a demo version of that software. Use a registry snapshot tool and find out where that program registers itself."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "reply_to_user": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 0, "creation_date": 1569437616, "post_id": 58103368, "comment_id": 102600684, "body": "the website for a demo is down."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "reply_to_user": {"reputation": 82917, "user_id": 3501, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/1fd5f5cc203c393634379a3b3b7e7a87?s=128&d=identicon&r=PG", "display_name": "Anders", "link": "https://stackoverflow.com/users/3501/anders"}, "edited": false, "score": 0, "creation_date": 1569437710, "post_id": 58103368, "comment_id": 102600725, "body": "I guess the use the method HRESULT PasswordResetCredential::SetSelected(BOOL* pbAutoLogon)  to launch  the app"}, {"owner": {"reputation": 33265, "user_id": 886887, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1616c7e4fab23f6e014ee11d75408bba?s=128&d=identicon&r=PG", "display_name": "Harry Johnston", "link": "https://stackoverflow.com/users/886887/harry-johnston"}, "edited": false, "score": 3, "creation_date": 1569547539, "post_id": 58103368, "comment_id": 102641040, "body": "It might not actually be an application, the UI could all be part of the credential provider - that&#39;s the way it <i>ought</i> to be done, at any rate.  But I believe if you launch an application from a credential provider (via CreateProcess or by any other means) it will be visible to the user."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 1, "creation_date": 1569575305, "post_id": 58103368, "comment_id": 102649617, "body": "In Provider::SetUsageScenario, enumerate your credential under CPUS_LOGON case.  Increment pdwCount in GetCredentialCount to set number of tiles to display.  Enumerate the credential in getCredentialAt. What you do in that credential doesn&#39;t matter. As @Harry_Johnston said, you can pretty much load any graphical interface (Windows Login screen simply being a desktop particularly locked down to lambda users). Do your stuff in it then call for CredentialsChanged event to get back to Tile selection screen. - Had to pass the details like tile picture load etc... due to comment size restriction."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "edited": false, "score": 0, "creation_date": 1569595904, "post_id": 58103368, "comment_id": 102660387, "body": "Almost everything is set up as you request. I following this <a href=\"https://blogs.technet.microsoft.com/aho/2009/11/14/custom-credential-provider-for-password-reset/\" rel=\"nofollow noreferrer\">blogs.technet.microsoft.com/aho/2009/11/14/&hellip;</a>  I don&#39;t know where open the app and hide all the IU. what I need is just click on the tile then open the app."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569598192, "post_id": 58103368, "comment_id": 102661523, "body": "I&#39;d do it in Credential::SetSelected as you mentionned. I never worked with a &quot;classic behavior&quot; credential though... so make sure there is no problems with loading your interface BEFORE returning S_OK. Might be completely transparent... specially if your IU hide tiles."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "edited": false, "score": 0, "creation_date": 1569600120, "post_id": 58103368, "comment_id": 102662443, "body": "you can see where I call my app <a href=\"https://github.com/azufre/CredentialProvider/blob/8697c8b1b95f6c43853a85dbf803b6d64dcdbcc4/PasswordResetCredentialProvider/PasswordResetCredential.cpp#L132\" rel=\"nofollow noreferrer\">github.com/azufre/CredentialProvider/blob/&hellip;</a>  it works. but when it is selected the tile and get block the screen after a few minutes it open by itself the app."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569601753, "post_id": 58103368, "comment_id": 102663137, "body": "system(start) doesn&#39;t pause the current thread that keeps going &amp; returns S_OK. What you wanna do is to not return while your app is running. And even this might not give you the expected result. In the case your credential formally want you to return, you&#39;d have to launch the App thread before the function and use SetEvent/WaitForSingleObject to decide wether or not the UI should be displayed."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "edited": false, "score": 0, "creation_date": 1569602376, "post_id": 58103368, "comment_id": 102663406, "body": "I don&#39;t want to display the IU. what method should I use?"}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "reply_to_user": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569606763, "post_id": 58103368, "comment_id": 102665171, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/200078/discussion-between-bob-white-and-kianii\">continue this discussion in chat</a>."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 1, "creation_date": 1569835444, "post_id": 58103368, "comment_id": 102711607, "body": "What they seem to be doing in the initial example you gave us is just displaying some kind of user interface so that it hides the logon screen. In your case, the program is totally isolated from the credential code."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "edited": false, "score": 0, "creation_date": 1569851933, "post_id": 58103368, "comment_id": 102720211, "body": "Yep I want to get that. I ask for that."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569858354, "post_id": 58103368, "comment_id": 102723580, "body": "Using system(start), they probably don&#39;t share the same adress space. I don&#39;t think there is anything you can do about it. Except inside TestStartApp.exe code. Depends what it is written with."}, {"owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "edited": false, "score": 0, "creation_date": 1569861909, "post_id": 58103368, "comment_id": 102725092, "body": "yep, I did it. but there is something more to face. I got opened the app but if the screen gets the background lock the app is launched, it&#39;s like the event Credential::SetSelected is triggered by default."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569921243, "post_id": 58103368, "comment_id": 102743171, "body": "Do we agree that the code given below didn&#39;t change. Especially the following :  Credential::SetSelected --&gt; *pbAutoLogon still set to FALSE Provider::GetCredentialCount --&gt; *pdwDefault still set on CREDENTIAL_PROVIDER_NO_DEFAULT &amp; *pbAutoLogonWithDefault to FALSE Provider::GetCredentialAt didn&#39;t change too much."}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569922353, "post_id": 58181178, "comment_id": 102743735, "body": "He&#39;s not using a Dialog. Not sure he can retrieve the handle."}, {"owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "reply_to_user": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569925407, "post_id": 58181178, "comment_id": 102745299, "body": "The linked post is for example of doing some job inside of Credential Provider."}, {"owner": {"reputation": 141, "user_id": 10413236, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hYXzFol29vk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV_R5xQu7hXaWUg1X2HF31nd08XIw/mo/photo.jpg?sz=128", "display_name": "Kianii", "link": "https://stackoverflow.com/users/10413236/kianii"}, "edited": false, "score": 0, "creation_date": 1569930293, "post_id": 58181178, "comment_id": 102747777, "body": "My bad, was looking at Diodacus answer"}], "tags": [], "owner": {"reputation": 886, "user_id": 3868464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JnBN.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/3868464/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1569930498, "last_edit_date": 1569930498, "creation_date": 1569919737, "answer_id": 58181178, "question_id": 58103368, "link": "https://stackoverflow.com/questions/58103368/how-to-set-a-button-to-open-an-application-on-windows-login-screen/58181178#58181178", "title": "How to set a button to open an application on windows login screen", "body": "<p>To implement a call for expternal process inside of your own credential provider tile you must do this steps:</p>\n\n<ol>\n<li><p>Is call to <code>ICredentialProviderCredential::Advise</code> - your provider will receive a pointer to <code>ICredentialProviderCredentialEvents</code> interface of <code>LogonUI</code>.</p></li>\n<li><p>You call to <code>ICredentialProviderCredentialEvents::OnCreatingWindow</code> to obtain a <code>HWND</code> for parent window.</p></li>\n<li><p>As you mentioned above you can create a new process inside of handler to call of your providers <code>ICredentialProviderCredential::SetSelected</code>.</p></li>\n</ol>\n\n<p>Have a look at this <a href=\"https://stackoverflow.com/q/55411840/3868464\">post</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "is_accepted": true, "score": 2, "last_activity_date": 1569943918, "creation_date": 1569943918, "answer_id": 58188110, "question_id": 58103368, "link": "https://stackoverflow.com/questions/58103368/how-to-set-a-button-to-open-an-application-on-windows-login-screen/58188110#58188110", "title": "How to set a button to open an application on windows login screen", "body": "<p>To open a custom app by using credentials provider there are two ways to do it. </p>\n\n<p>1) Launch an app when trigger the event SetSelected from provider credential</p>\n\n<pre><code>HRESULT PasswordResetCredential::SetSelected(BOOL* pbAutoLogon)  \n{\n    *pbAutoLogon = FALSE;  \n\n    system(\"start C:\\\\TestStartApp.exe\");\n\n    return S_OK;\n}\n</code></pre>\n\n<p>It may work fine but when the screen gets the wallpaper lock it will trigger automatically the event SetSelected. so the app will reopen again.</p>\n\n<p>2) Create an CommanLink then launch the app in the event CommandLinkClicked</p>\n\n<pre><code>HRESULT PasswordResetCredential::CommandLinkClicked(DWORD dwFieldID)\n{\n\n    HRESULT hr = S_OK;\n\n    if (dwFieldID &lt; ARRAYSIZE(_rgCredProvFieldDescriptors) &amp;&amp; (CPFT_COMMAND_LINK == _rgCredProvFieldDescriptors[dwFieldID].cpft)) {\n        system(\"start C:\\\\TestStartApp.exe\");\n    }\n\n    return hr;\n\n}\n</code></pre>\n\n<p>both works but it could be a huge risk for our security. majority of developers doesn't recommend to use the credential provider for this way. we are using a fake credential provider to open an app. </p>\n"}], "owner": {"reputation": 611, "user_id": 7747988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHOW3.jpg?s=128&g=1", "display_name": "Bob White", "link": "https://stackoverflow.com/users/7747988/bob-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 860, "favorite_count": 0, "accepted_answer_id": 58188110, "answer_count": 2, "score": 1, "last_activity_date": 1569943918, "creation_date": 1569431028, "last_edit_date": 1569433727, "question_id": 58103368, "link": "https://stackoverflow.com/questions/58103368/how-to-set-a-button-to-open-an-application-on-windows-login-screen", "title": "How to set a button to open an application on windows login screen", "body": "<p>This is my first question. </p>\n\n<p>I would like to know if there is a way to set a button on the login screen to open a custom app.</p>\n\n<p>I have already searched by Microsoft documentation then found about credential provider but I don't want to create an IU login. I just want to open an application like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EGxai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGxai.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/spqcv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/spqcv.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=UeY-4hlJ9gs\" rel=\"nofollow noreferrer\">This is what I want to achieve</a></p>\n\n<p>If there is something that might help me it will be welcome. </p>\n"}, {"tags": ["c++", "variables", "scope", "reference", "declaration"], "comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1569430958, "post_id": 58103325, "comment_id": 102597928, "body": "Are you sure that <code>ns</code> in that library is a namespace, and not a class name?"}], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 1593940, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0e5b94532c4d9008117a87e94792a2b?s=128&d=identicon&r=PG", "display_name": "Elastic Lamb", "link": "https://stackoverflow.com/users/1593940/elastic-lamb"}, "edited": false, "score": 0, "creation_date": 1569431042, "post_id": 58103355, "comment_id": 102597962, "body": "So there definitely has to be a declaration of x anywhere? Because I did not find one in any of the cpp and h files."}, {"owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "reply_to_user": {"reputation": 353, "user_id": 1593940, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0e5b94532c4d9008117a87e94792a2b?s=128&d=identicon&r=PG", "display_name": "Elastic Lamb", "link": "https://stackoverflow.com/users/1593940/elastic-lamb"}, "edited": false, "score": 0, "creation_date": 1569431334, "post_id": 58103355, "comment_id": 102598086, "body": "@ElasticLamb Yes the variable (without its definition, it has a referenced type) shall be already declared."}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1569431347, "post_id": 58103355, "comment_id": 102598096, "body": "@VladfromMoscow Yes \u2014 crossed wires."}], "tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1569431396, "last_edit_date": 1569431396, "creation_date": 1569430958, "answer_id": 58103355, "question_id": 58103325, "link": "https://stackoverflow.com/questions/58103325/variable-declaration-in-c-within-namespaces/58103355#58103355", "title": "Variable declaration in C++ within namespaces", "body": "<p>The first declaration</p>\n\n<pre><code>char &amp;ns::x = y;\n</code></pre>\n\n<p>assumes that the name <code>x</code> is already declared in the namespace <code>ns</code>. However this assumption is wrong (in the provided code snippet there is no previous declaration of the variable. Possibly the code snippet is not complete.).</p>\n\n<p>The code snippet can works provided that the variable x is already declared (without its definition) in the namespace ns.</p>\n\n<p>For example</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nnamespace ns\n{\n    extern char &amp;x;\n}\n\nchar y;\nchar &amp; ns::x = y;\n\nint main() {\n    return 0;\n}\n</code></pre>\n\n<p>In this code snippet</p>\n\n<pre><code>namespace ns {\n    char &amp;x = y;\n}\n</code></pre>\n\n<p>there is defined a reference that is initialized by the object <code>y</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "is_accepted": false, "score": 3, "last_activity_date": 1569431119, "creation_date": 1569431119, "answer_id": 58103393, "question_id": 58103325, "link": "https://stackoverflow.com/questions/58103325/variable-declaration-in-c-within-namespaces/58103393#58103393", "title": "Variable declaration in C++ within namespaces", "body": "<p>If you\u2019re right and the code from the library is exactly as written, then this implies that elsewhere in this library, you\u2019ll find the following declaration:</p>\n\n<pre><code>namespace ns {\n    extern char&amp; x;\n}\n</code></pre>\n\n<p>In other words, <code>x</code> must have already been <em>declared</em> (and not defined!) inside <code>ns</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1569434954, "post_id": 58103589, "comment_id": 102599593, "body": "This doesn&#39;t answer OP&#39;s question."}], "tags": [], "owner": {"reputation": 58, "user_id": 8543439, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7FsVS.jpg?s=128&g=1", "display_name": "Dharmik Unagar", "link": "https://stackoverflow.com/users/8543439/dharmik-unagar"}, "is_accepted": false, "score": 0, "last_activity_date": 1569431998, "creation_date": 1569431998, "answer_id": 58103589, "question_id": 58103325, "link": "https://stackoverflow.com/questions/58103325/variable-declaration-in-c-within-namespaces/58103589#58103589", "title": "Variable declaration in C++ within namespaces", "body": "<p>The Variable declaration using namespace:</p>\n\n<pre><code>#include &lt;iostream&gt; \nusing namespace std; \n\n// Variable created inside namespace \nnamespace first \n{ \n  int val = 500; \n} \n// Global variable \nint val = 100; \nint main() \n{ \n// Local variable \n   int val = 200; \n// These variables can be accessed from \n// outside the namespace using the scope \n// operator :: \n   cout &lt;&lt; first::val &lt;&lt; '\\n';  \n   return 0; \n} \n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 1593940, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0e5b94532c4d9008117a87e94792a2b?s=128&d=identicon&r=PG", "display_name": "Elastic Lamb", "link": "https://stackoverflow.com/users/1593940/elastic-lamb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1569431998, "creation_date": 1569430856, "last_edit_date": 1569431477, "question_id": 58103325, "link": "https://stackoverflow.com/questions/58103325/variable-declaration-in-c-within-namespaces", "title": "Variable declaration in C++ within namespaces", "body": "<p>In a library I am working with some variables are declared like that:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>char &amp;ns::x = y;\n</code></pre>\n\n<p>However, if I do it that way I get the following error:\n<code>error: no member named 'x' in namespace 'ns'</code></p>\n\n<p>If I rewrite it, it works:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>namespace ns {\n    char &amp;x = y;\n}\n</code></pre>\n\n<p>What exactly is the difference? And why is it working within the library?</p>\n"}, {"tags": ["c++", "visual-studio"], "comments": [{"owner": {"reputation": 15260, "user_id": 1968182, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/E5nF2.jpg?s=128&g=1", "display_name": "Ulrich Eckhardt", "link": "https://stackoverflow.com/users/1968182/ulrich-eckhardt"}, "edited": false, "score": 1, "creation_date": 1569445886, "post_id": 58103313, "comment_id": 102603878, "body": "The error message is pretty clear. If you have a question, <a href=\"https://stackoverflow.com/posts/58103313/edit\">edit</a> your posting in order to ask it. As a new user, also take the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569482902, "post_id": 58103313, "comment_id": 102613139, "body": "We can only see the errors <i>after</i> you tried to fix the problem.  You made it worse.  Note how &quot;10.0.17134.o&quot; is mis-spelled, it ends on the letter o instead of the digit 0.  Impossible to guess how you did that and what the real problem was, you&#39;ll have to copy everything again from the working machine and this time not try to fix anything."}], "answers": [{"tags": [], "owner": {"reputation": 1233, "user_id": 11872808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29d7b759b09573f7750c178d99015eca?s=128&d=identicon&r=PG&f=1", "display_name": "Jeaninez - MSFT", "link": "https://stackoverflow.com/users/11872808/jeaninez-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1569482365, "creation_date": 1569482365, "answer_id": 58111473, "question_id": 58103313, "link": "https://stackoverflow.com/questions/58103313/debugging-results-in-numerous-errors-the-code-worked-well-when-i-used-it-on-sch/58111473#58111473", "title": "Debugging results in numerous errors. The code worked well when I used it on school computer. But not on my own PC", "body": "<p>The Windows SDK version 10.0.17134.0 was not found.You should downloaded the SDK .</p>\n\n<p>Run Visual Studio installer click on modify, and select Windows 10 SDK (10.0.17134.0) under SDKs,libraries and framework in individual components tab of the installer.</p>\n\n<p><a href=\"https://i.stack.imgur.com/pHs4a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pHs4a.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 1, "user_id": 12120468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497f4a36d23f5d357d67578bc86d4ee0?s=128&d=identicon&r=PG&f=1", "display_name": "hyresw", "link": "https://stackoverflow.com/users/12120468/hyresw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569482365, "creation_date": 1569430809, "last_edit_date": 1569445303, "question_id": 58103313, "link": "https://stackoverflow.com/questions/58103313/debugging-results-in-numerous-errors-the-code-worked-well-when-i-used-it-on-sch", "title": "Debugging results in numerous errors. The code worked well when I used it on school computer. But not on my own PC", "body": "<p>I cannot build the executable from this program.</p>\n\n<p>I tried adding Windows universal CRT SDK, or changing windows SDK, but it just didn't work.</p>\n\n<p>Here are the errors I got:</p>\n\n<pre><code>variable _ACRTIMP is not a type name\nThe Windows SDK version 10.0.17134.o was not found. Install the requested version of Windows SDK or change the SDK version in the project property pages or by right-clicking the solution and selecting \"Retarget solution\".\nthe global scope has no \"_Mbstatet\"\nthe global scope has no \"Exit\"\nthe global scope has no \"wscanf\"\nthe global scope has no \"wprintf\"\nthe global scope has no \"memset\"\n</code></pre>\n\n<p>And here's the code:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;iomanip&gt;\nusing namespace std;\n\nint main()\n{\n    bool      isNew = true,   isNew2 = true, isNew3 = true;\n    bool      isAuto = true,   isAuto2 = true, isAuto3 = true;\n\n    //working variables\n    float     totalprice = 0.00;\n    int       choice = 0;\n    bool      isValid = true;\n\n    float     baseprice = 40000.0, baseprice2 = 293200.0, baseprice3 = 35000.0;\n    float     taxrate = 1.0875;\n\n    short int year = 2019, year2 = 2019, year3 = 2019;\n    int       mileage = 20, mileage2 = 20, mileage3 = 20;\n\n    string    make = \"BMW\", make2 = \"Porsche\", make3 = \"Ford\";\n    string    model = \"x3\", model2 = \"911 GT2 RS\", model3 = \"Mustang\";\n    string    color = \"Red\", color2 = \"Grey\", color3 = \"Yellow\";\n    string    Engine = \"v8\", engine2 = \"liter Boxer\", engine3 = \"V8\";\n    string    dname = \"Statecars\";\n\n    //Display the welcome message\n    cout &lt;&lt; \"Welcome to \" &lt;&lt; dname &lt;&lt; \"!\" &lt;&lt; endl;\n    cout &lt;&lt; \"We sell the following cars! \" &lt;&lt; endl;\n    cout &lt;&lt; \"1. \" &lt;&lt; year &lt;&lt; \" \" &lt;&lt; color &lt;&lt; \" \" &lt;&lt; make &lt;&lt; \" \" &lt;&lt; model &lt;&lt; endl;\n    cout &lt;&lt; \"2. \" &lt;&lt; year2 &lt;&lt; \" \" &lt;&lt; color2 &lt;&lt; \" \" &lt;&lt; make2 &lt;&lt; \" \" &lt;&lt; model2 &lt;&lt; endl;\n    cout &lt;&lt; \"3. \" &lt;&lt; year3 &lt;&lt; \" \" &lt;&lt; color3 &lt;&lt; \" \" &lt;&lt; make3 &lt;&lt; \" \" &lt;&lt; model3 &lt;&lt; endl;\n    cout &lt;&lt; \"Enter your car choice [1-3]?:  \";\n    cin &gt;&gt; choice;\n\n    switch (choice)\n    {\n    case (1):\n        totalprice = baseprice * taxrate;\n        break;\n    case (2):\n        totalprice = baseprice2 * taxrate;\n        break;\n    case (3):\n        totalprice = baseprice3 * taxrate;\n        break;\n    default:\n    {\n        isValid = false;\n    }\n    }\n\n    if (isValid)\n    {\n        cout &lt;&lt; \"The total price is: $\" &lt;&lt; fixed &lt;&lt; setprecision(2) &lt;&lt; totalprice;\n    }\n    else\n    {\n        cout &lt;&lt; \"invalid choice!\" &lt;&lt; endl;\n    }\n\n\n    system(\"pause\"); //keep the output screen open\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "gcc", "operator-overloading", "c++20", "valarray"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1569430182, "post_id": 58103078, "comment_id": 102597530, "body": "If you replace <code>auto v3 = ...</code> with <code>std::valarray&lt;int&gt; v3 = ...</code> the code compiles and runs as expected. By using <code>auto</code>, <code>v3</code> is some intermediate expression template generated type."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1569430183, "post_id": 58103078, "comment_id": 102597531, "body": "Operators on <code>valarray</code> are allowed to return proxy objects, which lets the implementation optimize multiple operations like <code>a * b + c</code> into a single loop. I don&#39;t know if the proxy objects need to implement <code>begin()</code> and <code>end()</code> or not."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1569430397, "post_id": 58103078, "comment_id": 102597639, "body": "See <a href=\"http://eel.is/c++draft/valarray.syn#3.sentence-1\" rel=\"nofollow noreferrer\">eel.is/c++draft/valarray.syn#3.sentence-1</a>, which implies that you&#39;re not allowed to use <code>auto</code> and have the expectations on it that you&#39;re testing for."}, {"owner": {"reputation": 5184, "user_id": 6350078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fcbd9246215586c3ff1b5c338570dd8d?s=128&d=identicon&r=PG&f=1", "display_name": "metalfox", "link": "https://stackoverflow.com/users/6350078/metalfox"}, "edited": false, "score": 0, "creation_date": 1569580305, "post_id": 58103078, "comment_id": 102652385, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56222576/whats-wrong-with-stdvalarrays-operator\">What&#39;s wrong with std::valarray&#39;s operator*?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": true, "score": 5, "last_activity_date": 1569430443, "last_edit_date": 1569430443, "creation_date": 1569430292, "answer_id": 58103171, "question_id": 58103078, "link": "https://stackoverflow.com/questions/58103078/is-it-a-bug-of-the-implementation-of-stdvalarray-in-gcc/58103171#58103171", "title": "Is it a bug of the implementation of std::valarray in gcc?", "body": "<p>This is not a bug.  <code>std::valarray::operator*</code> does not actually have to return a <code>std::valarray</code> because it is allowed to use expression templates.  That means  it can return a type that has the following properties:</p>\n\n<blockquote>\n  <ul>\n  <li>All const member functions of <code>std::valarray</code> are provided.</li>\n  <li><code>std::valarray</code>, <code>std::slice_array</code>, <code>std::gslice_array</code>, <code>std::mask_array</code> and <code>std::indirect_array</code> can be constructed from the replacement type.</li>\n  <li><strong>All functions accepting an argument of type <code>const std::valarray&amp;</code> except <code>begin()</code> and <code>end()</code> (since C++11) should also accept the replacement type</strong>.</li>\n  <li>All functions accepting two arguments of type <code>const std::valarray&amp;</code> should accept every combination of <code>const std::valarray&amp;</code> and the replacement type.</li>\n  <li>The return type does not add more than two levels of template nesting over the most deeply-nested argument type.</li>\n  </ul>\n</blockquote>\n\n<p><sup>emphasis mine <a href=\"https://en.cppreference.com/w/cpp/numeric/valarray/operator_arith3\" rel=\"nofollow noreferrer\">source</a></sup></p>\n\n<p>Because of this, you need to explicitly capture the return as a <code>std::valarray</code> so the specialization for <code>std::begin</code> can be called.</p>\n"}], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 58103171, "answer_count": 1, "score": 5, "last_activity_date": 1569430443, "creation_date": 1569429926, "question_id": 58103078, "link": "https://stackoverflow.com/questions/58103078/is-it-a-bug-of-the-implementation-of-stdvalarray-in-gcc", "title": "Is it a bug of the implementation of std::valarray in gcc?", "body": "<p>I tried the following program</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;valarray&gt;\n\nint main( void ) \n{\n    std::valarray&lt;int&gt; v1 = { 1, 2, 3, 4, 5 };\n    std::valarray&lt;int&gt; v2 = { 1, 2, 3, 4, 5 };\n\n    auto v3 = v1 * v2;\n\n    for ( const auto &amp;item : v3 ) std::cout &lt;&lt; item &lt;&lt; ' ';\n    std::cout &lt;&lt; '\\n';\n\n    return 0;\n}\n</code></pre>\n\n<p>and got an error message that an appropriate function <code>begin</code> for <code>v3</code> used implicitly in this statement</p>\n\n<pre><code>    for ( const auto &amp;item : v3 ) std::cout &lt;&lt; item &lt;&lt; ' ';\n</code></pre>\n\n<p>can not be found.</p>\n\n<p>So I tried the following code</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;valarray&gt;\n#include &lt;type_traits&gt;\n\nint main( void ) \n{\n    std::valarray&lt;int&gt; v1 = { 1, 2, 3, 4, 5 };\n    std::valarray&lt;int&gt; v2 = { 1, 2, 3, 4, 5 };\n\n    auto v3 = v1 * v2;\n\n    std::cout &lt;&lt; std::is_same&lt;std::valarray&lt;int&gt;, decltype( v3 )&gt;::value &lt;&lt; '\\n';\n    return 0;\n}\n</code></pre>\n\n<p>and got the result</p>\n\n<pre><code>0\n</code></pre>\n\n<p>But when this statement</p>\n\n<pre><code>auto v3 = v1 * v2;\n</code></pre>\n\n<p>is changed to </p>\n\n<pre><code>std::valarray&lt;int&gt; v3 = v1 * v2;\n</code></pre>\n\n<p>then the output is </p>\n\n<pre><code>1\n</code></pre>\n\n<p>The <code>operator *</code> for <code>std::valarray&lt;int&gt;</code> is declared the following way</p>\n\n<pre><code>template&lt;class T&gt; valarray&lt;T&gt; operator* (const valarray&lt;T&gt;&amp;, const valarray&lt;T&gt;&amp;);\n</code></pre>\n\n<p>So is it a bug of the implementation of <code>std::valarray&lt;int&gt;</code>?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1, "user_id": 5955183, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fUFnE38pdA/AAAAAAAAAAI/AAAAAAAAAHA/eo6DixSbTJs/photo.jpg?sz=128", "display_name": "Trishal Mandrik", "link": "https://stackoverflow.com/users/5955183/trishal-mandrik"}, "edited": false, "score": 0, "creation_date": 1569429868, "post_id": 58103050, "comment_id": 102597400, "body": "I have expected below output:  Value Swapped x = 100 y = 400  But the output I have got is:  x = 100 y = 400"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 3, "creation_date": 1569429976, "post_id": 58103050, "comment_id": 102597442, "body": "1) Did you try stepping through your code with a debugger, to confirm, that your function is called instead of <code>std::swap</code>? 2) Related: <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">Why is \u201cusing namespace std;\u201d considered bad practice?</a> 3) &quot;<i>I have expected below output ...</i>&quot; Please provide such information in the question, not in the comments."}, {"owner": {"reputation": 3108, "user_id": 1556820, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cffaba688aa3f0f21ece8e09c9450e37?s=128&d=identicon&r=PG", "display_name": "mangusta", "link": "https://stackoverflow.com/users/1556820/mangusta"}, "edited": false, "score": 0, "creation_date": 1569430013, "post_id": 58103050, "comment_id": 102597457, "body": "your <code>swap</code> function treats arguments as addresses while you are passing integers. that&#39;s not the only problem though"}, {"owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "edited": false, "score": 0, "creation_date": 1569430013, "post_id": 58103050, "comment_id": 102597458, "body": "You are actually calling <code>std::swap</code>. Don&#39;t use <code>using namespace</code>..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569431125, "post_id": 58103050, "comment_id": 102598001, "body": "General debugging note: When you get an inexplicable mystery bug, <code>using namespace std</code> should be one of the first things to go."}, {"owner": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "edited": false, "score": 0, "creation_date": 1569431265, "post_id": 58103050, "comment_id": 102598056, "body": "<code>s&#47;When you get an inexplicable mystery bug, &#47;&#47;</code>  :)  Seriously, if you hate typing <code>std::cout</code> that much, just say <code>using std::cout;</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5955183, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fUFnE38pdA/AAAAAAAAAAI/AAAAAAAAAHA/eo6DixSbTJs/photo.jpg?sz=128", "display_name": "Trishal Mandrik", "link": "https://stackoverflow.com/users/5955183/trishal-mandrik"}, "edited": false, "score": 0, "creation_date": 1569430393, "post_id": 58103176, "comment_id": 102597637, "body": "Thanks @Sudip sarker."}], "tags": [], "owner": {"reputation": 281, "user_id": 4967897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fdee18345974523dac5a583c840a827?s=128&d=identicon&r=PG&f=1", "display_name": "Sudip Sarker", "link": "https://stackoverflow.com/users/4967897/sudip-sarker"}, "is_accepted": false, "score": 0, "last_activity_date": 1569430303, "creation_date": 1569430303, "answer_id": 58103176, "question_id": 58103050, "link": "https://stackoverflow.com/questions/58103050/why-cout-statement-is-not-executing-in-passing-pointer-to-function/58103176#58103176", "title": "Why cout statement is not executing in passing pointer to function?", "body": "<p>your function swap is expecting pointers as arguments, but you are passing integers. So instead of calling your function, it's calling the c++ swap function. To better understand this, change the function name 'swap' to any other name like 'swapp' and you'll see this error: </p>\n\n<pre><code>invalid conversion from int to int*\n</code></pre>\n\n<p>write swap(&amp;x, &amp;y) and you'll get your desired output</p>\n"}, {"comments": [{"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1569486464, "post_id": 58103190, "comment_id": 102614868, "body": "<i>&#39;passed integers, but was expecting pointers&#39;</i> \u2013 that results in a compilation error already..."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1569488118, "post_id": 58103190, "comment_id": 102615754, "body": "@Aconcagua it does, unless there&#39;s another overload that matches, which is the case once OP spilled <code>::std</code> into <code>::</code> ;)"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "reply_to_user": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1569488236, "post_id": 58103190, "comment_id": 102615817, "body": "@Quentin <i>&#39;If you hadn&#39;t said&#39;</i> \u2013 so in <i>this</i> context, no other overload any more..."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 2, "creation_date": 1569488332, "post_id": 58103190, "comment_id": 102615864, "body": "@Aconcagua I think the three of us are agreeing here. Remove <code>using namespace std;</code>, call the expected function, get a compile-time error because the argument types don&#39;t match, find the mistake."}], "tags": [], "owner": {"reputation": 78607, "user_id": 319403, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e92a9af9e53cc8e5af575c4b18b34c21?s=128&d=identicon&r=PG", "display_name": "cHao", "link": "https://stackoverflow.com/users/319403/chao"}, "is_accepted": false, "score": 3, "last_activity_date": 1569430352, "creation_date": 1569430352, "answer_id": 58103190, "question_id": 58103050, "link": "https://stackoverflow.com/questions/58103050/why-cout-statement-is-not-executing-in-passing-pointer-to-function/58103190#58103190", "title": "Why cout statement is not executing in passing pointer to function?", "body": "<p>You're not seeing \"Value swapped\" because your swap function never gets called. Instead, you're calling <code>std::swap&lt;int&gt;</code>.</p>\n\n<p>If you hadn't said <code>using namespace std;</code>, you'd have found out that your <code>swap</code> function is being passed integers, but was expecting pointers. Reason #1 not to use <code>using namespace std;</code> -- you can easily end up not calling what you think you are. :)</p>\n"}, {"tags": [], "owner": {"reputation": 95, "user_id": 11923505, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C6rwhQ11j2c/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9jkyB24w3AUZ5sNzK1lOdvZn_Uw/photo.jpg?sz=128", "display_name": "C. R. Ward", "link": "https://stackoverflow.com/users/11923505/c-r-ward"}, "is_accepted": false, "score": 0, "last_activity_date": 1569431876, "creation_date": 1569431876, "answer_id": 58103560, "question_id": 58103050, "link": "https://stackoverflow.com/questions/58103050/why-cout-statement-is-not-executing-in-passing-pointer-to-function/58103560#58103560", "title": "Why cout statement is not executing in passing pointer to function?", "body": "<p>Consider choosing a unique enough identifier name such that there will not be a conflict with a <code>namespace</code> identifier (as in <code>std::swap</code>). If you can't choose the name of your identifier, <code>put it inside of a namespace</code>.</p>\n\n<p>Secondly, if the compiler does not enforce the function declaration that you state, you should manually check to see that you passed the variables correctly (i.e., <code>&amp;x</code> and <code>&amp;y</code> instead of <code>x</code> and <code>y</code>).</p>\n"}, {"tags": [], "owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "is_accepted": false, "score": 0, "last_activity_date": 1569487306, "creation_date": 1569487306, "answer_id": 58112839, "question_id": 58103050, "link": "https://stackoverflow.com/questions/58103050/why-cout-statement-is-not-executing-in-passing-pointer-to-function/58112839#58112839", "title": "Why cout statement is not executing in passing pointer to function?", "body": "<p><code>using namespace std</code> imports another equally named function from namespace <code>std</code> into global namespace, so you end up in having two overloads:</p>\n\n<pre><code>swap(int&amp;, int&amp;); // from std; actually a template instantiation\nswap(int*, int*);\n</code></pre>\n\n<p>You call <code>swap</code> as</p>\n\n<pre><code>swap(x, y);\n</code></pre>\n\n<p>Now consider: Which are the types of <code>x</code> and <code>y</code>, are they pointers? So decide yourself, which overload will get called?</p>\n\n<p>If you hadn't imported the second overload via <code>using namespace std</code>, which generally is considered <a href=\"https://stackoverflow.com/questions/1452721/why-is-using-namespace-std-considered-bad-practice\">bad practice</a> anyway (well, you got a victim of the pitfalls of right away...), you would have ended up in a compilation error instead (integers aren't converted to pointers implicitly!).</p>\n\n<p>To get <em>your</em> function called, you need to make pointers from:</p>\n\n<pre><code>swap(&amp;x, &amp;y);\n//   ^   ^\n</code></pre>\n\n<p>Actually, that would have worked even with the imported namespace (despite of being bad practice), as the imported overload is a template, yours an ordinary function, thus yours is considered the more specialised overload and thus will be preferred.</p>\n"}], "owner": {"reputation": 1, "user_id": 5955183, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4fUFnE38pdA/AAAAAAAAAAI/AAAAAAAAAHA/eo6DixSbTJs/photo.jpg?sz=128", "display_name": "Trishal Mandrik", "link": "https://stackoverflow.com/users/5955183/trishal-mandrik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1569487306, "creation_date": 1569429829, "last_edit_date": 1569429985, "question_id": 58103050, "link": "https://stackoverflow.com/questions/58103050/why-cout-statement-is-not-executing-in-passing-pointer-to-function", "title": "Why cout statement is not executing in passing pointer to function?", "body": "<p>The cout statement in function call swap is not executing. Why?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nusing namespace std;\n\nvoid swap(int *a, int *b) {\n  int temp = *a;\n  *a = *b;\n  *b = temp;\n  cout &lt;&lt; \"Value Swapped\" &lt;&lt; endl;\n}\n\nint main() {\n  int x = 400, y = 100;\n  swap(x, y);\n  cout &lt;&lt; \"x = \" &lt;&lt; x &lt;&lt; \" y = \" &lt;&lt; y &lt;&lt; endl;\n  return 0;\n}\n</code></pre>\n\n<p>I have expected below output:</p>\n\n<pre><code>Value Swapped\nx = 100 y = 400\n</code></pre>\n\n<p>But the output I have got is: </p>\n\n<pre><code>x = 100 y = 400\n</code></pre>\n"}, {"tags": ["c++", "vector", "filesystems"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1569430744, "post_id": 58103046, "comment_id": 102597821, "body": "Queue up the delete requests and handle them between iterations of the directory."}, {"owner": {"reputation": 3329, "user_id": 481760, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f99efa5275015762b790468f2de08741?s=128&d=identicon&r=PG", "display_name": "Ayjay", "link": "https://stackoverflow.com/users/481760/ayjay"}, "edited": false, "score": 0, "creation_date": 1569433808, "post_id": 58103046, "comment_id": 102599103, "body": "What exception are you getting?"}], "owner": {"reputation": 680, "user_id": 4590499, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RBwCU.jpg?s=128&g=1", "display_name": "Daqs", "link": "https://stackoverflow.com/users/4590499/daqs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569429823, "creation_date": 1569429823, "question_id": 58103046, "link": "https://stackoverflow.com/questions/58103046/trying-to-remove-a-file-getting-iterated-by-the-same-program", "title": "Trying to remove a file getting iterated by the same program", "body": "<p>As the title states, I'm scanning through the files in a directory after every few seconds using a loop.\nSomething like this...</p>\n\n<pre><code>        if (now &gt;= nextTime)\n        {\n            for (const auto&amp; entry : fs::directory_iterator(folderName))\n            {\n                filename.push_back(entry.path().filename().u8string());\n                totalFilesNum++;\n            }\n         }\n...\n</code></pre>\n\n<p>It basically loops the same code every few seconds <code>nextTime</code> and makes it super interactive. It keeps outputting the file data (name, size, etc.) every few seconds. Say, I drop a manually drop a new file in the directory, it takes that into consideration too.</p>\n\n<p>So far so good. Now the problem is, when I try to delete one of the files in the directory. It doesn't let me do that and throws an <code>unhandled exception</code> instead. Following is my code for removing the file.</p>\n\n<pre><code>void RemoveFile()\n{\n    std::string folderName = \"files\";\n\n    for (const auto&amp; entry : fs::directory_iterator(folderName))\n    {\n        if (entry.path().filename() == \"25-Sep-19 9 03 18 PM.jpeg\")\n        {\n            std::filesystem::remove(entry.path().c_str());\n        }\n        else {}\n    }\n</code></pre>\n\n<p>For the record, using the same code I've tried deleting/removing a file in a different directory and it's working fine. Simply changed the directory <code>std::string folderName = \"files_B\"</code>with the same file name and it got deleted. Any help is appreciated. Thanks.</p>\n"}, {"tags": ["c++", "friend", "c++20", "c++-concepts"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569433474, "post_id": 58103219, "comment_id": 102598975, "body": "Thank&#39;s for the answer, it is also what I expected.I am surprised about the clang statement though, we were not able to make it work for clang. We new about the gcc behaviour. MSVC supports concepts in the latest preview versions, i.e. starting  with MSVC 19.3.0 preview 3 if one uses the option std:c++latest. Not all features are implemented, yet. That&#39;s why there is no official std:C++20 option, yet."}, {"owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569433633, "post_id": 58103219, "comment_id": 102599035, "body": "I just looked at your answer and see that it is sligthly different from the question."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569433739, "post_id": 58103219, "comment_id": 102599066, "body": "@H.Gutsche How is it different from the question? What is the question then?"}, {"owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569434124, "post_id": 58103219, "comment_id": 102599256, "body": "I just looked at your an answer and see that it is different from the question. We are not trying to befriend another class, but we want to befriend our self, i.e. what happens if your B changes to A? The friend happens within declaration of it&#39;s friend. The attempt is to declare a friend to an  unspecified instance of the template that one is currently declaring. And now I am totally confused because I realize that the question how it currently stands is not the question I asked. Did you edit it??"}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569436691, "post_id": 58103219, "comment_id": 102600301, "body": "@H.Gutsche Yes, I edited the question so that it consists of real code instead of random dots, to make it a better question. It doesn&#39;t matter between <code>B</code> friending <code>A</code> and <code>A</code> friending <code>A</code>, the correct syntax doesn&#39;t change, and both compilers <a href=\"https://godbolt.org/z/pJ0jb2\" rel=\"nofollow noreferrer\">still accept it</a>."}, {"owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569442621, "post_id": 58103219, "comment_id": 102602750, "body": "O.K. I just don&#39;t know why you would have seen random dots. When I verified it before I submitted it it looked O.K."}, {"owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569443415, "post_id": 58103219, "comment_id": 102603051, "body": "That doesn&#39;t look like disconnected dots to me. It is precisely what I intended to do. There was no attempt to show fully functional code. The triple dots were the commonly used symbols for unspecified continuation of a text. They just symbolize that there can be something where the dots are that are rather irrelevant to the problem. Thanks anyways."}, {"owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "reply_to_user": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569444445, "post_id": 58103219, "comment_id": 102603412, "body": "@H.Gutsche &quot;There was no attempt to show fully functional code [...] the dots just symbolize that there can be something where the dots are that are rather irrelevent&quot; -- yes, I understand that, but in such cases you should just put nothing and have a legitimate code snippet. The dots not only add nothing of value, but actively detract from the ability to understand the snippet. That&#39;s precisely why I edited the question to <i>be</i> functional code, and why I would encourage you to do the same in the future."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "reply_to_user": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "edited": false, "score": 0, "creation_date": 1569488260, "post_id": 58103219, "comment_id": 102615826, "body": "@H.Gutsche It is preferable to have the code in the question compileable. If you decide for whatever reason to have <code>...</code> in the code, please wrap them in comments so people don&#39;t have to modify all occurrences to make the compiler happy. I personally don&#39;t mind the ellipses to denote absent code where it clarifies the intent, but that&#39;s probably unnecessary in some syntax question where it&#39;s fine if the code is otherwise effect-free."}, {"owner": {"reputation": 3747, "user_id": 453925, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/4dd67eab56c9687453c13002faf3df36?s=128&d=identicon&r=PG", "display_name": "bluescarni", "link": "https://stackoverflow.com/users/453925/bluescarni"}, "edited": false, "score": 0, "creation_date": 1569624051, "post_id": 58103219, "comment_id": 102670082, "body": "@Barry it actually does not work in clang if you try to instantiate the class:  <a href=\"https://godbolt.org/z/HEjbKk\" rel=\"nofollow noreferrer\">godbolt.org/z/HEjbKk</a>"}], "tags": [], "owner": {"reputation": 245138, "user_id": 2069064, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/e4V2X.jpg?s=128&g=1", "display_name": "Barry", "link": "https://stackoverflow.com/users/2069064/barry"}, "is_accepted": false, "score": 2, "last_activity_date": 1569430435, "creation_date": 1569430435, "answer_id": 58103219, "question_id": 58102963, "link": "https://stackoverflow.com/questions/58102963/how-to-use-friend-declaration-for-template-class-with-constraints/58103219#58103219", "title": "How to use friend declaration for template class with constraints", "body": "<p>I'm pretty sure this is the correct version (i.e. your 2nd or 3rd option):</p>\n\n<pre><code>template &lt;typename T&gt; concept Constraint = true;\n\ntemplate &lt;Constraint T&gt;\nclass A { };\n\nstruct B {\n    template &lt;Constraint&gt; friend class A;\n};\n</code></pre>\n\n<p>This should befriend all specializations of <code>A</code>. <code>typename</code> there would be incorrect, since that would not match the declaration of <code>A</code>. I don't think we have specific wording for this, but that seems like the clear intent.</p>\n\n<p>Both gcc and clang accept this version (<a href=\"https://godbolt.org/z/cpFpok\" rel=\"nofollow noreferrer\">demo</a>), and the version of MSVC on compiler-explorer does not yet implement concepts at all.</p>\n"}], "owner": {"reputation": 31, "user_id": 12120149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccb5d62c554632145a29b7e57c712652?s=128&d=identicon&r=PG", "display_name": "H. Gutsche", "link": "https://stackoverflow.com/users/12120149/h-gutsche"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1569430435, "creation_date": 1569429483, "last_edit_date": 1569430003, "question_id": 58102963, "link": "https://stackoverflow.com/questions/58102963/how-to-use-friend-declaration-for-template-class-with-constraints", "title": "How to use friend declaration for template class with constraints", "body": "<p>For C++20 concepts are intended and some compilers are providing already some early implementations for it. We ran into some problem with friend declarations of template class where the parameters have constraints. After some soul searching and tryng to find anything in the draft standard and associated documents we are not wiser about what is possible and/or correct.</p>\n\n<p>We have tried the standard ideas one would come up to find a solution but didn't arrive at any that would work for all compilers tried or a formal answer from the standard, which might be just bad luck with reading the proper search results.</p>\n\n<p>What we try to attempt is to create a friend relation between a template class and itself making all other instantiations of the template a friend.</p>\n\n<p>The original version looks like</p>\n\n<pre><code>template &lt;typename T&gt; concept Constraint = true;\n\ntemplate &lt;Constraint T&gt;\nclass A { };\n\nstruct B {\n    template &lt;typename&gt;\n    friend class A;\n};\n</code></pre>\n\n<p>This compiles in gcc but neither in clang nor the latest MSVC preview compiler</p>\n\n<p>The next attempt is to use the constraints in the friend declaration i.e.</p>\n\n<pre><code>template &lt;typename T&gt; concept Constraint = true;\n\ntemplate &lt;Constraint T&gt;\nclass A { };\n\nstruct B {\n    template &lt;Constraint&gt;\n    friend class A;\n};\n</code></pre>\n\n<p>which looks like a natural way of doing it because the friend can only be instantiated anyways with fulfilling the constraints.</p>\n\n<p>This passes with gcc, clang is not happy about it, MSVC is o.K. with the declaration but fails when one is actually trying to use it. It complains that the constraints are not being fulfilled, which is not correct.</p>\n\n<p>One also comes up with putting some class ids into the friend declaration, i.e.</p>\n\n<pre><code>template &lt;typename T&gt; concept Constraint = true;\n\ntemplate &lt;Constraint T&gt;\nclass A { };\n\nstruct B {\n    template &lt;Constraint U&gt;\n    friend class A;\n};\n</code></pre>\n\n<p>This results in the same as the previous attempt. \nSo far we have not been able to come up with a syntax (if it is even possible) that actually works.\nIf one doesn't use constraints and uses SFINAE tricks and uses just \"typename\" it works as expected.</p>\n\n<p>It would be appreciated if anybody would have an idea how to fix it using the actual C++20 features or a pointer where that situation is actually described. We know that we could just use setters and getters but that is not the point.</p>\n"}, {"tags": ["c++", "3d", "skeletal-animation"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9141412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038e1ce25c5efc24d815c3673a370b92?s=128&d=identicon&r=PG&f=1", "display_name": "\u0421\u0442\u0430\u0441 \u041f\u0435\u0447\u0435\u043d\u0441\u043a\u0438\u0445", "link": "https://stackoverflow.com/users/9141412/%d0%a1%d1%82%d0%b0%d1%81-%d0%9f%d0%b5%d1%87%d0%b5%d0%bd%d1%81%d0%ba%d0%b8%d1%85"}, "is_accepted": false, "score": 1, "last_activity_date": 1569578156, "creation_date": 1569578156, "answer_id": 58132210, "question_id": 58102957, "link": "https://stackoverflow.com/questions/58102957/skeletal-animation-interpolation-between-transformation-matrices-collada/58132210#58132210", "title": "Skeletal animation: interpolation between transformation matrices (collada)", "body": "<p>After a long search for the problem, I finally found it.</p>\n\n<p>The main error was in the function <strong>Mathf::Matrix::fromRotationTranslation()</strong></p>\n\n<p>was</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>        void fromRotationTranslation(ScePspFMatrix4* result, const ScePspFVector4* quaternion, const ScePspFVector3* translation)\n        {\n            // Quaternion math\n            float x = quaternion-&gt;x, y = quaternion-&gt;y, z = quaternion-&gt;z, w = quaternion-&gt;w,\n                x2 = x + x,\n                y2 = y + y,\n                z2 = z + z,\n\n                xx = x * x2,\n                xy = x * y2,\n                xz = x * z2,\n                yy = y * y2,\n                yz = y * z2,\n                zz = z * z2,\n                wx = w * x2,\n                wy = w * y2,\n                wz = w * z2;\n\n            result-&gt;x.x = 1 - (yy + zz);\n            result-&gt;x.y = xy + wz;\n            result-&gt;x.z = xz - wy;\n            result-&gt;x.w = 0;\n            result-&gt;y.x = xy - wz;\n            result-&gt;y.y = 1 - (xx + zz);\n            result-&gt;y.z = yz + wx;\n            result-&gt;y.w = 0;\n            result-&gt;z.x = xz + wy;\n            result-&gt;z.y = yz - wx;\n            result-&gt;z.z = 1 - (xx + yy);\n            result-&gt;z.w = 0;\n            result-&gt;w.x = translation-&gt;x;\n            result-&gt;w.y = translation-&gt;y;\n            result-&gt;w.z = translation-&gt;z;\n            result-&gt;w.w = 1;\n        }\n</code></pre>\n\n<p>i have now</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>        void fromRotationTranslation(ScePspFMatrix4* result, const ScePspFVector4* quaternion, const ScePspFVector3* translation)\n        {\n            // Quaternion math\n            float x = quaternion-&gt;x, y = quaternion-&gt;y, z = quaternion-&gt;z, w = quaternion-&gt;w,\n                xx = x * x,\n                xy = x * y,\n                xz = x * z,\n                xw = x * w,\n\n                yy = y * y,\n                yz = y * z,\n                yw = y * w,\n\n                zz = z * z,\n                zw = z * w;\n\n            result-&gt;x.x  = 1 - 2 * ( yy + zz );\n            result-&gt;x.y  =     2 * ( xy - zw );\n            result-&gt;x.z  =     2 * ( xz + yw );\n\n            result-&gt;y.x  =     2 * ( xy + zw );\n            result-&gt;y.y  = 1 - 2 * ( xx + zz );\n            result-&gt;y.z  =     2 * ( yz - xw );\n\n            result-&gt;z.x  =     2 * ( xz - yw );\n            result-&gt;z.y  =     2 * ( yz + xw );\n            result-&gt;z.z  = 1 - 2 * ( xx + yy );\n\n            result-&gt;x.w  = translation-&gt;x;\n            result-&gt;y.w  = translation-&gt;y;\n            result-&gt;z.w  = translation-&gt;z;\n\n            result-&gt;w.x = result-&gt;w.y = result-&gt;w.z = 0;\n            result-&gt;w.w = 1;\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2Nmpk.gif\" rel=\"nofollow noreferrer\">anim done</a></p>\n\n<p>PS: very much helped <a href=\"http://vamos.sourceforge.net/matrixfaq.htm\" rel=\"nofollow noreferrer\">this FAQ</a></p>\n"}], "owner": {"reputation": 21, "user_id": 9141412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/038e1ce25c5efc24d815c3673a370b92?s=128&d=identicon&r=PG&f=1", "display_name": "\u0421\u0442\u0430\u0441 \u041f\u0435\u0447\u0435\u043d\u0441\u043a\u0438\u0445", "link": "https://stackoverflow.com/users/9141412/%d0%a1%d1%82%d0%b0%d1%81-%d0%9f%d0%b5%d1%87%d0%b5%d0%bd%d1%81%d0%ba%d0%b8%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569578156, "creation_date": 1569429462, "question_id": 58102957, "link": "https://stackoverflow.com/questions/58102957/skeletal-animation-interpolation-between-transformation-matrices-collada", "title": "Skeletal animation: interpolation between transformation matrices (collada)", "body": "<p>Good afternoon. I want to implement skeletal animation. I created a simple example in Blender and exported it via collada.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aMRoK.gif\" rel=\"nofollow noreferrer\">anim will be</a></p>\n\n<p>Since this is all new to me, so I used the <a href=\"https://www.khronos.org/files/collada_spec_1_4.pdf\" rel=\"nofollow noreferrer\">collada 1.4.1</a> specification and recreated the mesh by keyframes.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wLhUP.png\" rel=\"nofollow noreferrer\">keyframe_0</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gOD1L.png\" rel=\"nofollow noreferrer\">keyframe_1</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/9JEzj.png\" rel=\"nofollow noreferrer\">keyframe_2</a></p>\n\n<p>Then I tried interpolating between the transforming matrices to get a full animation.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>    Vector32BITF* vertices = (Vector32BITF*)calloc(CubeDAE::verticesCount, sizeof(Vector32BITF));\n    SceUShort16* indices = (SceUShort16*)calloc(CubeDAE::indicesCount, sizeof(SceUShort16));\n    for (unsigned int i = 0; i &lt; CubeDAE::indicesCount; i++) { indices[i] = CubeDAE::indices[i][0]; }\n\n    float                   timer = 2.1f;\n\n    ScePspFMatrix4          bones_transform[3];\n    int                     keyframeA_i = 0;\n    int                     keyframeB_i = 0;\n    float                   lerpFact = 0.0f;\n\n    while(!done){\n        fps-&gt;PreUpdate();\n\n        keyframeA_i = ((int)timer) % CubeDAE::keyframesCount;\n        keyframeB_i = (((int)timer) + 1) % CubeDAE::keyframesCount;\n        lerpFact = pspFpuFrac(timer);\n        // keyframeA_i = 0;\n        // keyframeB_i = 1;\n        // lerpFact = 0.8;\n\n        for (unsigned int bone_i = 0; bone_i &lt; CubeDAE::bonesCount; bone_i++) {\n\n            ScePspFMatrix4* local_matrixA = &amp;CubeDAE::bones[bone_i][keyframeA_i];\n            ScePspFMatrix4* local_matrixB = &amp;CubeDAE::bones[bone_i][keyframeB_i];\n\n            ScePspFVector3 positionA;\n            ScePspFVector3 positionB;\n            Mathf::Matrix::GetPosition(&amp;positionA, local_matrixA);\n            Mathf::Matrix::GetPosition(&amp;positionB, local_matrixB);\n\n            ScePspFMatrix3 rotationA;\n            ScePspFMatrix3 rotationB;\n            Mathf::Matrix::GetRotation(&amp;rotationA, local_matrixA);\n            Mathf::Matrix::GetRotation(&amp;rotationB, local_matrixB);\n\n            ScePspFVector4 q_rotationA;\n            ScePspFVector4 q_rotationB;\n            Mathf::Matrix::ConvertToQuaternion(&amp;q_rotationA, &amp;rotationA);\n            Mathf::Matrix::ConvertToQuaternion(&amp;q_rotationB, &amp;rotationB);\n\n            ScePspFVector3 translation;\n            ScePspFVector4 quaternion; \n            Mathf::Vector::Lerp(&amp;translation, &amp;positionA, &amp;positionB, lerpFact);\n            Mathf::Quaternion::Slerp(&amp;quaternion, &amp;q_rotationA, &amp;q_rotationB, lerpFact);\n\n            ScePspFMatrix4 offsetMatrix;\n            Mathf::Matrix::fromRotationTranslation(&amp;offsetMatrix, &amp;quaternion, &amp;translation);\n\n            if (bone_i == 0) {\n                std::memcpy(&amp;bones_transform[bone_i], &amp;offsetMatrix, sizeof(ScePspFMatrix4));\n            } else if (bone_i == 1) {\n                Mathf::Matrix::Multiply(&amp;bones_transform[bone_i], &amp;offsetMatrix, &amp;bones_transform[bone_i - 1]);\n            } else if (bone_i == 2) {\n                Mathf::Matrix::Multiply(&amp;bones_transform[bone_i], &amp;offsetMatrix, &amp;bones_transform[bone_i - 2]);\n            }\n        }\n\n        unsigned int v_i = 0;\n        for (unsigned int vertices_i = 0; vertices_i &lt; CubeDAE::verticesCount; vertices_i++) {\n\n            vertices[vertices_i].color = (0xff&lt;&lt;24)|((int)(pspFpuAbs(pspFpuCos(vertices_i)) * 255.0f) &lt;&lt; 16)|((int)(pspFpuAbs(pspFpuSin(vertices_i)) * 255.0f) &lt;&lt; 8)|((int)(pspFpuAbs(vertices_i) * 255.0f));\n\n            vertices[vertices_i].x = 0;\n            vertices[vertices_i].y = 0;\n            vertices[vertices_i].z = 0;\n\n            for (unsigned int vcount_i = 0; vcount_i &lt; CubeDAE::vcount[vertices_i]; vcount_i++, v_i += 2) {\n\n                /*\n                SUM += ((v * BSM) * IBMi * JMi) *JM\n\n                \u2022 n: number of joints that influence vertex v\n                \u2022 BSM: bind shape matrix\n                \u2022 IBMi: inverse bind matrix of joint i\n                \u2022 JMi: joint matrix of joint i\n                \u2022 JW: joint weight/influence of joint i on vertex v\n                */\n\n                // (v * BSM)\n                //ScePspFVector3 out = {0,0,0};\n                //Mathf::Vector::Transform(&amp;out, &amp;CubeDAE::shapeMatrix, &amp;CubeDAE::vertices[vertices_i]);\n\n                // IBMi * JMi\n                ScePspFMatrix4 skinning_matrix = {{1,0,0,0}, {0,1,0,0}, {0,0,1,0}, {0,0,0,1}};\n                Mathf::Matrix::Multiply(&amp;skinning_matrix, &amp;CubeDAE::poses[CubeDAE::v[v_i]], &amp;bones_transform[CubeDAE::v[v_i]]);\n\n                // ((v * BSM) * IBMi * JMi)\n                ScePspFVector3 skin = {0,0,0};\n                Mathf::Vector::Transform(&amp;skin, &amp;skinning_matrix, &amp;CubeDAE::vertices[vertices_i]);\n\n                // ((v * BSM) * IBMi * JMi) *JM\n                Mathf::Vector::Scale(&amp;skin, CubeDAE::weights[CubeDAE::v[v_i + 1]]);\n\n                vertices[vertices_i].x += skin.x;\n                vertices[vertices_i].y += skin.y;\n                vertices[vertices_i].z += skin.z;\n            }\n        }\n    // TODO: render here\n    }\n</code></pre>\n\n<p>But I made a mistake somewhere so I got the wrong animation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EqFEJ.gif\" rel=\"nofollow noreferrer\">anim got</a></p>\n\n<p>Where was I wrong?</p>\n\n<p>PS: the application is written under the PSP platform, but the meaning is no different from what is done everywhere. Full simple example you can find <a href=\"https://drive.google.com/open?id=1vj3kKGnfaePDDqQG_FzJcnjPCAsCM7-b\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["c++", "class", "oop", "object", "vector"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1569429947, "post_id": 58102907, "comment_id": 102597433, "body": "You may want to add a name to the <code>Ride</code> class.  Most rides in amusement parks have names."}], "answers": [{"tags": [], "owner": {"reputation": 281, "user_id": 4967897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fdee18345974523dac5a583c840a827?s=128&d=identicon&r=PG&f=1", "display_name": "Sudip Sarker", "link": "https://stackoverflow.com/users/4967897/sudip-sarker"}, "is_accepted": false, "score": 0, "last_activity_date": 1569429616, "creation_date": 1569429616, "answer_id": 58102994, "question_id": 58102907, "link": "https://stackoverflow.com/questions/58102907/how-do-i-call-a-vector-of-type-class-inside-another-class/58102994#58102994", "title": "How do I call a vector of type class inside another class?", "body": "<p>In your function <code>add_line(class Rider)</code>, there is no reference of <code>the_ride</code> to push the rider. You can pass the <code>vector&lt;Rider&gt;</code> you get from <code>get_ride(int whichRide)</code> to the function or you can just combine the get_ride and add_line to one function like this:</p>\n\n<pre><code>void add_rider_to_line(int whichRide, class Rider)\n{\n    all_rides[whichRide].push_back(Rider);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10606018"}, "edited": false, "score": 0, "creation_date": 1569431961, "post_id": 58103318, "comment_id": 102598359, "body": "I&#39;ve fixed some things according to what you said, and now I only have one error message. I moved the add_line function into my Ride class. I&#39;m now getting an error that says [error: &#39;Rider&#39; does not refer to a value all_riders.push_back(Rider); ]"}, {"owner": {"reputation": 116, "user_id": 10485323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QgQc42HLFmc/AAAAAAAAAAI/AAAAAAAAAC4/Y-GEi0TKeiY/photo.jpg?sz=128", "display_name": "Eron", "link": "https://stackoverflow.com/users/10485323/eron"}, "edited": false, "score": 0, "creation_date": 1569432899, "post_id": 58103318, "comment_id": 102598752, "body": "Did you modify your <code>get_ride()</code> function inside <code>Amusement_park</code>? it should return a <code>Ride</code> object, not a <code>vector&lt;Rider&gt;</code> as it is in your code. For this, all you need to do is to modify the return type and then return the value <code>all_rides[whichRide]</code>. Then you could call the function <code>add_line()</code> inside the <code>Ride</code> class through the object returned by your <code>get_ride()</code> function. Also, what line your compiler is pointing to when raising that error message?"}, {"owner": {"reputation": 116, "user_id": 10485323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QgQc42HLFmc/AAAAAAAAAAI/AAAAAAAAAC4/Y-GEi0TKeiY/photo.jpg?sz=128", "display_name": "Eron", "link": "https://stackoverflow.com/users/10485323/eron"}, "edited": false, "score": 0, "creation_date": 1569433588, "post_id": 58103318, "comment_id": 102599018, "body": "Also, the parameter of your <code>add_line()</code> function is not correct. <code>Rider</code> is a type by itself, defined by you, actually. So, your function, logically, should expect a variable with type <code>Rider</code>, and hence its declaration should be <code>void add_line(Rider riderId)</code>, where riderId is the variable name, and Rider is its type. Then, you push riderId to your vector as usual."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10606018"}, "edited": false, "score": 0, "creation_date": 1569433801, "post_id": 58103318, "comment_id": 102599094, "body": "I did what you said and the error was pointing to the add_line function inside my Ride class. That second comment just solved it. I was using (class Rider) as my parameter instead of (Rider (variable name)). Thank you!"}, {"owner": {"reputation": 116, "user_id": 10485323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QgQc42HLFmc/AAAAAAAAAAI/AAAAAAAAAC4/Y-GEi0TKeiY/photo.jpg?sz=128", "display_name": "Eron", "link": "https://stackoverflow.com/users/10485323/eron"}, "edited": false, "score": 0, "creation_date": 1569433804, "post_id": 58103318, "comment_id": 102599097, "body": "I think that this will fix your problem at hand. However, please try to follow my 2nd suggestion/recommendation. There are plenty of good options here [<a href=\"https://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list]\" title=\"the definitive c book guide and list%5d\">stackoverflow.com/questions/388242/&hellip;</a>"}], "tags": [], "owner": {"reputation": 116, "user_id": 10485323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QgQc42HLFmc/AAAAAAAAAAI/AAAAAAAAAC4/Y-GEi0TKeiY/photo.jpg?sz=128", "display_name": "Eron", "link": "https://stackoverflow.com/users/10485323/eron"}, "is_accepted": true, "score": 0, "last_activity_date": 1569431186, "last_edit_date": 1569431186, "creation_date": 1569430830, "answer_id": 58103318, "question_id": 58102907, "link": "https://stackoverflow.com/questions/58102907/how-do-i-call-a-vector-of-type-class-inside-another-class/58103318#58103318", "title": "How do I call a vector of type class inside another class?", "body": "<p>I'll give some advices for your code, and one (or more) of them will presumably solve problems you might have.</p>\n\n<p>First, always try to use constructor <em>initializer lists</em> when possible. Usually, when the constructor is obvious as is yours, using such a list is trivial. In this case, you could just do:</p>\n\n<pre><code>    class Rider\n    {\n    string name;\n    int height;\n    public:\n        Rider(string name, int height) : name(name), height(height) {}\n        Rider(int height) : height(height) {}\n    };\n</code></pre>\n\n<p>and the same for the rest of your trivial constructors.</p>\n\n<p>Now, if you take a closer look at your c'tor for <code>Amusement_park</code> class, you will see that you try to access an index in your <code>vector</code> that hasn't been, let's say, defined yet. That is, you have an <em>empty</em> vector that is supposed to hold objects of <code>Ride</code> type, but since it is empty, trying to access its content (whatever index you might try to reach) is what we call <em>undefined behavior</em>. That's a piece of memory that you don't know what it holds, and that's because you never told your compiler how many <code>Ride</code> objects will be in there so that your program could properly allocate memory and initialize objects for you there. In order for you to actually create a vector of the appropriate size, or, more precisely, properly resize your vector, your <code>Amusement_park</code> c'tor should be something like</p>\n\n<pre><code>Amusement_park(int numRides)\n    {\n        all_rides.resize(numRides);\n    }\n</code></pre>\n\n<p>Your <code>get_ride</code> function inside Amusement_park is also not very good.\nActually, your whole statement <code>a1.get_ride(1).add_line(r1)</code> isn't doing what you are intending to.\nFirst, the <code>get_ride()</code> function returns a <code>vector</code> of <code>Rider</code>, which doesn't have an <code>add_line()</code> member function. You actually want it to return a <code>Amusement_park</code> object, which is the only one in your code that has such a member function. However, returning it is not logical, as you might see.</p>\n\n<p>In short, your code contains many flaws, both language as logically speaking.\nHence, I recommend that you:\n1) Double check the logic of your code;\n2) Get a nice tutorial book on C++ to start on.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10606018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 58103318, "answer_count": 2, "score": 0, "last_activity_date": 1569431186, "creation_date": 1569429241, "question_id": 58102907, "link": "https://stackoverflow.com/questions/58102907/how-do-i-call-a-vector-of-type-class-inside-another-class", "title": "How do I call a vector of type class inside another class?", "body": "<p>I was given the main and told to create a program in response to the main using 3 classes. An amusement park class, a rider class, and a ride class.\nI want to add a rider to a vector of rides and store that vector in a vector of amusement parks. What am I doing wrong? How can I fix this?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nclass Rider\n{\nstring name;\nint height;\npublic:\n    Rider(string name, int height)\n    {\n        this-&gt;name=name;\n        this-&gt;height=height;\n    }\n    Rider(int height)\n    {\n        this-&gt;height=height;\n    }\n};\nclass Ride\n{\n    public:\n    vector &lt;Rider&gt; all_riders;\n};\nclass Amusement_park\n{\n    vector &lt;Ride&gt; all_rides;\n    public:\n        Amusement_park(int numRides)\n        {\n            all_rides[numRides];\n        }\n        vector &lt;Rider&gt; get_ride(int whichRide)\n        {\n            vector &lt;Ride&gt; the_ride= all_rides[whichRide];\n            return the_ride;\n        }\n        void add_line(class Rider)\n        {\n            the_ride.pushback(Rider);\n        }\n};\nint main()\n{\n    Rider r1(\"Yaris\",45);   //name, height in inches\n    Rider r2(49);           //height in inches\n    Amusement_park a1(3);  //3 is the number of rides in the park\n    a1.get_ride(1).add_line(r1); //add a rider to the line of a ride\n    Amusement_park a2(2); //2 is the number of rides in the park\n    a2.get_ride(1).add_line(r2); //add a rider to the line of a ride\n    return  0;\n}\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "performance", "mutex"], "comments": [{"owner": {"reputation": 8402, "user_id": 4664415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hsfxj.jpg?s=128&g=1", "display_name": "mevets", "link": "https://stackoverflow.com/users/4664415/mevets"}, "edited": false, "score": 1, "creation_date": 1569429117, "post_id": 58102763, "comment_id": 102597088, "body": "It isn&#39;t obvious to me what coordination is required.  Are all threads permitted to simultaneously execute func1 and func2; but you want all threads to finish func1 before any thread starts func2?   If so, look up barrier synchronization.  If not, can you clarify the needed coordination."}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1569429341, "post_id": 58102763, "comment_id": 102597178, "body": "No raw synchronization: you want some sort of barrier or latch primitive. E.g. Abseil has the <code>absl::BlockingCounter</code>: <a href=\"https://godbolt.org/z/N4oexX\" rel=\"nofollow noreferrer\">godbolt.org/z/N4oexX</a>, and Boost has <code>boost::latch</code>: <a href=\"https://wandbox.org/permlink/RLZnqUrtDOoA9o7y\" rel=\"nofollow noreferrer\">wandbox.org/permlink/RLZnqUrtDOoA9o7y</a>."}, {"owner": {"reputation": 1042, "user_id": 3906918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a30818a57c11c6d808f4b9ea824e255?s=128&d=identicon&r=PG", "display_name": "fabian", "link": "https://stackoverflow.com/users/3906918/fabian"}, "reply_to_user": {"reputation": 8402, "user_id": 4664415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Hsfxj.jpg?s=128&g=1", "display_name": "mevets", "link": "https://stackoverflow.com/users/4664415/mevets"}, "edited": false, "score": 0, "creation_date": 1569429570, "post_id": 58102763, "comment_id": 102597280, "body": "@mevets : Thanks for your comment. Indeed, I want all threads to finish <code>func1</code> before beginning work on <code>func2</code>. I hope I clarified my question."}], "answers": [{"tags": [], "owner": {"reputation": 50273, "user_id": 167958, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/0defa74609a4ce5d51f2467b69c509be?s=128&d=identicon&r=PG", "display_name": "Omnifarious", "link": "https://stackoverflow.com/users/167958/omnifarious"}, "is_accepted": true, "score": 2, "last_activity_date": 1571149848, "last_edit_date": 1571149848, "creation_date": 1569428972, "answer_id": 58102838, "question_id": 58102763, "link": "https://stackoverflow.com/questions/58102763/how-can-i-syncronize-these-two-threads-properly/58102838#58102838", "title": "How can I syncronize these two threads properly?", "body": "<p>The method you've chosen won't actually work and results in undefined behavior because of the race conditions. As you surmised, you need a condition variable.</p>\n\n<p>Here is a <code>Gate</code> class demonstrating how to use a condition variable to implement a gate that waits for some number of threads to arrive at it before continuing:</p>\n\n<pre><code>#include &lt;thread&gt;\n#include &lt;mutex&gt;\n#include &lt;condition_variable&gt;\n#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;utility&gt;\n#include &lt;cassert&gt;\n\nstruct Gate {\n public:\n    explicit Gate(unsigned int count = 2) : count_(count) { }  // How many threads need to reach the gate before it unlocks\n    Gate(Gate const &amp;) = delete;\n    void operator =(Gate const &amp;) = delete;\n\n    void wait_for_gate();\n\n private:\n    int count_;\n    ::std::mutex count_mutex_;\n    ::std::condition_variable count_gate_;\n};\n\nvoid Gate::wait_for_gate()\n{\n    ::std::unique_lock&lt;::std::mutex&gt; guard(count_mutex_);\n    assert(count &gt; 0); // Count being 0 here indicates an irrecoverable programming error.\n    --count_;\n    count_gate_.wait(guard, [this](){ return this-&gt; count_ &lt;= 0; });\n    guard.unlock();\n    count_gate_.notify_all();\n}\n\nvoid f1()\n{\n    ::std::ostringstream msg;\n    msg &lt;&lt; \"In f1 with thread \" &lt;&lt; ::std::this_thread::get_id() &lt;&lt; '\\n';\n    ::std::cout &lt;&lt; msg.str();\n}\n\nvoid f2()\n{\n    ::std::ostringstream msg;\n    msg &lt;&lt; \"In f2 with thread \" &lt;&lt; ::std::this_thread::get_id() &lt;&lt; '\\n';\n    ::std::cout &lt;&lt; msg.str();\n}\n\nvoid thread_func(Gate &amp;gate)\n{\n    f1();\n    gate.wait_for_gate();\n    f2();\n}\n\nint main()\n{\n    Gate gate;\n    ::std::thread t1{thread_func, ::std::ref(gate)};\n    ::std::thread t2{thread_func, ::std::ref(gate)};\n    t1.join();\n    t2.join();\n}\n</code></pre>\n\n<p>Hopefully the structure of this code looks enough like your code that you can understand what's going on here. From reading your code, it seems like you're looking for all threads to execute <code>func1</code>, then <code>func2</code>. You do not want <code>func2</code> running while any thread is executing <code>func1</code>.</p>\n\n<p>That can be thought of as a gate where all the threads are waiting to arrive at the 'finished func1' location before moving on to run func2.</p>\n\n<p>I tested this code on my own local version of compiler explorer.</p>\n\n<p>The main disadvantage of the latch in the other answer is that it is not yet standard C++. My <code>Gate</code> class is a simple implementation of the latch class mentioned in the other answer, and it is standard C++.</p>\n\n<p>The basic way a condition variable works is that it unlocks a mutex, waits for a notify, then locks that mutex and tests the condition. If the condition is true, it continues without unlocking the mutex. If the condition is false, it starts over again.</p>\n\n<p>So, after the condition variable says the condition is true, you have to do whatever you need to do, then unlock the mutex and notify everybody that you've done it.</p>\n\n<p>The mutex here is guarding the shared count variable. Whenever you have a shared value you should guard it with a mutex so that no thread can see that value in an inconsistent state. The condition is that threads can wait for that count to reach 0, indicating that all threads have decremented the count variable.</p>\n"}, {"comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 1, "creation_date": 1569429806, "post_id": 58103016, "comment_id": 102597378, "body": "Demos: with <a href=\"http://godbolt.org/z/N4oexX\" rel=\"nofollow noreferrer\"><code>absl::BlockingCounter</code></a>, with <a href=\"https://wandbox.org/permlink/RLZnqUrtDOoA9o7y\" rel=\"nofollow noreferrer\"><code>boost::latch</code></a>."}], "tags": [], "owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "is_accepted": false, "score": 3, "last_activity_date": 1569429712, "creation_date": 1569429712, "answer_id": 58103016, "question_id": 58102763, "link": "https://stackoverflow.com/questions/58102763/how-can-i-syncronize-these-two-threads-properly/58103016#58103016", "title": "How can I syncronize these two threads properly?", "body": "<p>Don't write this yourself. This kind of synchronization is known as a \"latch\" (or more generally a \"barrier\", and it's available through various libraries and through the C++ Concurrency TS. (It might also make it into C++20 in some form.)</p>\n\n<p>For example, using <a href=\"https://www.boost.org/doc/html/thread/synchronization.html#thread.synchronization.latches\" rel=\"nofollow noreferrer\">a version from Boost</a>:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\n#include &lt;boost/thread/latch.hpp&gt;\n\nvoid f(boost::latch&amp; c) {\n    std::cout &lt;&lt; \"Doing work in round 1\\n\";\n    c.count_down_and_wait();\n    std::cout &lt;&lt; \"Doing work in round 2\\n\";\n}\n\nint main() {\n    boost::latch c(2);\n\n    std::thread t1(f, std::ref(c)), t2(f, std::ref(c));\n    t1.join();\n    t2.join();\n}\n</code></pre>\n"}], "owner": {"reputation": 1042, "user_id": 3906918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a30818a57c11c6d808f4b9ea824e255?s=128&d=identicon&r=PG", "display_name": "fabian", "link": "https://stackoverflow.com/users/3906918/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 58102838, "answer_count": 2, "score": 0, "last_activity_date": 1571149848, "creation_date": 1569428656, "last_edit_date": 1569429485, "question_id": 58102763, "link": "https://stackoverflow.com/questions/58102763/how-can-i-syncronize-these-two-threads-properly", "title": "How can I syncronize these two threads properly?", "body": "<p>I would like to synchronize different threads properly but so far I have only be able to write an inelegant solution. Can somebody kindly point out how I can improve the following code?</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>typedef void (*func)();\n\nvoid thread(func func1, func func2, int&amp; has_finished, int&amp; id) {\n    has_finished--;\n    func1();\n    has_finished++;\n    while (has_finished != 0) std::cout &lt;&lt; \"thread \" &lt;&lt; id &lt;&lt; \" waiting\\n\";\n    std::cout &lt;&lt; \"thread\" &lt;&lt; id &lt;&lt; \"resuming\\n\";\n    func2();\n}\n\nint main() {\n    int has_finished(0), id_one(0), id_two(1);\n    std::thread t1(thread, fun, fun, std::ref(has_finished), std::ref(id_one));\n    std::thread t2(thread, fun, fun, std::ref(has_finished), std::ref(id_two));\n    t1.join();\n    t2.join();\n};\n</code></pre>\n\n<p>The gist of the program is described by the function <code>thread</code>.  The function is executed by two <code>std::thread</code>s. The function accepts two long-running functions <code>func1</code> and <code>func2</code> and two references of ints as arguments. <strong>The threads should only invoke <code>func2</code> after all threads exited <code>func1</code></strong>. The argument <code>has_finished</code> is used to coordinate the different threads: Upon entering the function, <code>has_arguments</code> is zero. Then each <code>std::thread</code> decrements the value and invokes the long-running function <code>func1</code>. After having left <code>func1</code>, <code>has_finished</code> is incremented again. As long as this value is not at its original value of zero a thread waits. Then, each thread works on <code>func2</code>. The main function is shown at the end.  </p>\n\n<p>How can I coordinate the two threads better? I was thinking of using a <code>std::mutex</code> and <code>std::condition_variable</code> but could not figure out how to use them properly? Does somebody have any idea how I can improve the program? </p>\n"}, {"tags": ["c++", "templates", "naming-conventions", "default-parameters"], "comments": [{"owner": {"reputation": 10055, "user_id": 2466431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gSQh3.png?s=128&g=1", "display_name": "JVApen", "link": "https://stackoverflow.com/users/2466431/jvapen"}, "edited": false, "score": 1, "creation_date": 1569429017, "post_id": 58102734, "comment_id": 102597034, "body": "Your current name (underscore followed by capital letter) is undefined behavior, as the standard library is allowed to use those names (and define then)"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569429026, "post_id": 58102734, "comment_id": 102597041, "body": "You may find better advice on a different StackExchange site. StackOverflow is usually for debugging help and not best practices."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569429062, "post_id": 58102734, "comment_id": 102597065, "body": "I&#39;m not sure I understand. Are users supposed to see/use the <code>MyClass</code> template? And do you want a name for the alias of <code>MyClass&lt;&gt;</code> or for the <code>MyClass</code> template? In any case, what constitutes a good name really depends on how it is used and how the defaulted case differs from the non-defaulted ones."}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 10055, "user_id": 2466431, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/gSQh3.png?s=128&g=1", "display_name": "JVApen", "link": "https://stackoverflow.com/users/2466431/jvapen"}, "edited": false, "score": 1, "creation_date": 1569429131, "post_id": 58102734, "comment_id": 102597094, "body": "@JVApen that is why I specified it was just an example"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569429158, "post_id": 58102734, "comment_id": 102597112, "body": "@AndyG can you suggest one?"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569429267, "post_id": 58102734, "comment_id": 102597146, "body": "@MaxLanghof for the <code>_MyClass&lt;&gt;</code>, so for the &quot;real&quot; class, not the alias"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1569431564, "post_id": 58102734, "comment_id": 102598202, "body": "<a href=\"https://softwareengineering.stackexchange.com/tour\">softwareengineering.stackexchange.com/tour</a>"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569433485, "post_id": 58102734, "comment_id": 102598979, "body": "@AndyG <a href=\"https://softwareengineering.stackexchange.com/questions/398892/naming-convention-for-template-classes\" title=\"naming convention for template classes\">softwareengineering.stackexchange.com/questions/398892/&hellip;</a>"}, {"owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569435874, "post_id": 58102734, "comment_id": 102599981, "body": "@AndyG maybe is a more appropriate site, but community wise doesn&#39;t seem any nicer since the question already got -1"}], "owner": {"reputation": 4621, "user_id": 3074280, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/8pIgB.jpg?s=128&g=1", "display_name": "nyarlathotep108", "link": "https://stackoverflow.com/users/3074280/nyarlathotep108"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569428549, "creation_date": 1569428549, "question_id": 58102734, "link": "https://stackoverflow.com/questions/58102734/naming-convention-for-template-classes", "title": "Naming convention for template classes", "body": "<p>I have a template class of the form:</p>\n\n<pre><code>template&lt; typename AType = DefaultAType,\n          typename BType = DefaultBType,\n          typename CType = DefaultCType &gt;\nclass MyClass\n{ };\n</code></pre>\n\n<p>For most use cases, the defaulted types are perfectly fine. The problem is: in my code I want to refer to <code>MyClass</code> and not to <code>MyClass&lt;&gt;</code>, since I kinda want to hide the fact that is a templated class for the general use case.</p>\n\n<p>For this reason I want to write:</p>\n\n<pre><code>using MyClass = _MyClass&lt;&gt;; // I am still using C++11 and the name needs to be different\n</code></pre>\n\n<p>Now this is just an example, I do not want to use the underscore as a prefix, I would like to find a nice naming convention to identify this type of classes, much like interfaces all starts with <code>I</code>, and all abstract classes starts with <code>Abstract</code>.</p>\n\n<p>Which could be a good recognizable name for this type of template classes?</p>\n"}, {"tags": ["c++", "stack", "n-queens"], "comments": [{"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "edited": false, "score": 0, "creation_date": 1569429916, "post_id": 58102702, "comment_id": 102597417, "body": "Hey chip, its generally preferable to have a very minimal example for stack overflow, and to not necessarily look for holisitic &quot;why doesn&#39;t it work&quot;. Your post would benefit from narrowing down the exact behavior in question. It would also be helpful if you explained the &quot;hang&quot; behavior.  I will also mention that you might want to use codereview.stackexchange.com for general feedback."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1569430026, "post_id": 58102702, "comment_id": 102597466, "body": "Hint:  print out the board at each move or before the move where it crashes."}, {"owner": {"reputation": 3990, "user_id": 6095394, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7e512acda63343ac20eedd20c3964911?s=128&d=identicon&r=PG&f=1", "display_name": "pschill", "link": "https://stackoverflow.com/users/6095394/pschill"}, "edited": false, "score": 1, "creation_date": 1569436201, "post_id": 58102702, "comment_id": 102600113, "body": "In your backtracking step <code>if (col &gt; 7) { ... }</code>, you go to the position of the last queen and remove it. However, then your <code>while(filled &lt; 7) { ... }</code> loop restarts and places the queen at the exact same place again. Backtracking does not work if you do the same thing over and over again - you need to do something different."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12120296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRvNR9JJZdhjbJEZL4QyJtRE6YHGx-uegwd6XowQ=k-s128", "display_name": "Chip Simm", "link": "https://stackoverflow.com/users/12120296/chip-simm"}, "edited": false, "score": 0, "creation_date": 1569436612, "post_id": 58104383, "comment_id": 102600277, "body": "I believe the scope for stack overflow is only one that you place on it. It&#39;s a place to ask questions for potential answers, regardless of how small or obvious. There cannot be valid squares earlier in the row, since two queens cannot be in the same row. That is the kind of conflict that I originally explained. Of course there are parts that can be improved, as this is a brute-force implementation that I have attempted. It&#39;s not supposed to be optimized; I am just trying to get it to work for now."}, {"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "reply_to_user": {"reputation": 1, "user_id": 12120296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRvNR9JJZdhjbJEZL4QyJtRE6YHGx-uegwd6XowQ=k-s128", "display_name": "Chip Simm", "link": "https://stackoverflow.com/users/12120296/chip-simm"}, "edited": false, "score": 0, "creation_date": 1569450170, "post_id": 58104383, "comment_id": 102605080, "body": "Stack overflow does have a few guidelines/ advice on asking questions which you can find here <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>."}, {"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "reply_to_user": {"reputation": 1, "user_id": 12120296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRvNR9JJZdhjbJEZL4QyJtRE6YHGx-uegwd6XowQ=k-s128", "display_name": "Chip Simm", "link": "https://stackoverflow.com/users/12120296/chip-simm"}, "edited": false, "score": 0, "creation_date": 1569450361, "post_id": 58104383, "comment_id": 102605136, "body": "Also, I will say, there can be valid squares earlier in the row. For example in your pasted output you can see one such example. the 3rd column on the 5th row is a place that is &quot;safe&quot; for a queen, but your implementation has already moved forward beyond that column and has no process to check if that is a valid location."}, {"owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "reply_to_user": {"reputation": 1, "user_id": 12120296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRvNR9JJZdhjbJEZL4QyJtRE6YHGx-uegwd6XowQ=k-s128", "display_name": "Chip Simm", "link": "https://stackoverflow.com/users/12120296/chip-simm"}, "edited": false, "score": 0, "creation_date": 1569450519, "post_id": 58104383, "comment_id": 102605171, "body": "I&#39;m also not advising that you modify your solution to make it more optimized. In directing you to code review I am just pointing out that it is also valuable to be concerned about code quality, design principles.  CR.SE is a great network of individuals that regularly give industry quality review."}], "tags": [], "owner": {"reputation": 1541, "user_id": 4327053, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9865f3562a00b1ec526e3a8d521057d6?s=128&d=identicon&r=PG&f=1", "display_name": "Erich", "link": "https://stackoverflow.com/users/4327053/erich"}, "is_accepted": false, "score": -1, "last_activity_date": 1569435490, "creation_date": 1569435490, "answer_id": 58104383, "question_id": 58102702, "link": "https://stackoverflow.com/questions/58102702/why-is-my-n-queens-program-hanging-at-filled-3-row-4-and-col-7-8/58104383#58104383", "title": "Why is my N-Queens program hanging at filled=3, row=4, and col=7/8?", "body": "<p>Again, I will reiterate that debugging more than a single line of code starts to get outside of scope for stackoverflow.</p>\n\n<p>Col does not reset when you place a queen, so you are ignoring potential valid squares earlier in the row. </p>\n\n<p>There are also other bugs, and some parts that could be improved. For example you might prefer to memset your 2d array rather than iterate and each index and do a lot of unecessary math. </p>\n"}], "owner": {"reputation": 1, "user_id": 12120296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDRvNR9JJZdhjbJEZL4QyJtRE6YHGx-uegwd6XowQ=k-s128", "display_name": "Chip Simm", "link": "https://stackoverflow.com/users/12120296/chip-simm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569435490, "creation_date": 1569428395, "last_edit_date": 1569431898, "question_id": 58102702, "link": "https://stackoverflow.com/questions/58102702/why-is-my-n-queens-program-hanging-at-filled-3-row-4-and-col-7-8", "title": "Why is my N-Queens program hanging at filled=3, row=4, and col=7/8?", "body": "<p>So I'm working on an N-Queens problem in C++ that requires me to use stacks for back-tracking. So far, I have the code shown below, and it seems to be stuck in an infinite loop. The values keep getting stuck at:\nrow: 4\ncol: 7\ncol: 8\nfilled: 3\nBasically, all queen characters denoted by \"1\" in the board array have to be placed so that there are no conflicts (any queen can move diagonally or horizontally without running into another queen). \nCan someone help me figure out what's causing it to hang? Sorry if I'm missing any information, this is my first post here. </p>\n\n<p>*edit1: The hanging behavior occurs when the board looks like the one below. So the main problem is after the 4th queen is placed when trying to place the 5th. </p>\n\n<pre><code> 1 0 0 0 0 0 0 0\n 0 0 1 0 0 0 0 0 \n 0 0 0 0 1 0 0 0 \n 0 0 0 0 0 0 1 0 \n 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 \n 0 0 0 0 0 0 0 0 \n</code></pre>\n\n<pre><code>#include &lt;iostream&gt; \n#include &lt;stack&gt; \nusing namespace std;\n\nbool isSafe(int board[8][8], int row, int col);\n\nint main(){\nint board[8][8];\n\nfor(int i = 0; i &lt; 8; i++){\n    for(int j = 0; j &lt; 8; j++){\n        board[i][j] = 0;\n    }\n}\n\nint row = 0, col = 0, filled = 0;\n\nstack &lt;int&gt; rowStack;\nstack &lt;int&gt; colStack;\n\nrowStack.push(row);\ncolStack.push(col);\n\nboard[row][col] = 1;\nrow++;\n\nwhile(filled &lt; 7){\n    if(isSafe(board,row,col)){\n        //if the position is safe, place a queen at row, col and push them to each stack\n        filled++;\n        rowStack.push(row);\n        colStack.push(col);\n        board[row][col] = 1;\n        //if board has all queens placed on it, print the contents\n        if(filled &gt; 8){\n            for(int i=0; i&lt;row; i++){\n                for(int j=0; j&lt;col; j++){\n                    cout&lt;&lt;board[i][j]&lt;&lt;\" \";\n                    cout&lt;&lt;endl;\n                }\n            }\n            return 0;\n            }\n            cout&lt;&lt;\"Filled: \"&lt;&lt;filled&lt;&lt;endl;\n        row++;\n        cout&lt;&lt;\"Row: \"&lt;&lt;row&lt;&lt;endl;\n    }\n    else{\n    col++;\n      cout&lt;&lt;\"Column: \"&lt;&lt;col&lt;&lt;endl;\n    }\n    if(col &gt; 7){\n        row = rowStack.top();\n        rowStack.pop();\n        col = colStack.top();\n        colStack.pop();\n        board[row][col] = 0; //backtracking step\n        filled--;\n    }\n}\nreturn 0;\n}\n\nbool isSafe(int board[8][8], int row, int col){\n\n    for(int i = 0; i &lt; 8; i++){\n        if(board[row][i]==1 || board[i][col]==1) \n        return false;\n    }\n\n    for(int i = 0; (row - i)&gt;=0 &amp;&amp; (col-i) &gt;= 0; i++){\n        if(board[row-i][col-i]==1) \n        return false;\n    }\n\n    for(int i = 0; (row - i)&lt;=8 &amp;&amp; (col-i) &gt;= 0; i++){\n        if(board[row+i][col+i]==1) \n        return false;\n    }\n\nreturn true;\n}\n</code></pre>\n"}, {"tags": ["c++", "floating-point", "mpfr"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1569426973, "post_id": 58102239, "comment_id": 102596144, "body": "<a href=\"https://www.mpfr.org/mpfr-current/mpfr.html\" rel=\"nofollow noreferrer\">Per the docs</a> this is how it is supposed to behave."}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 2759621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d33f87ba32232a35d909e3c20fafc2?s=128&d=identicon&r=PG&f=1", "display_name": "user2759621", "link": "https://stackoverflow.com/users/2759621/user2759621"}, "edited": false, "score": 0, "creation_date": 1569493629, "post_id": 58102478, "comment_id": 102618833, "body": "Thanks to every one for the help!"}], "tags": [], "owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1569427482, "creation_date": 1569427482, "answer_id": 58102478, "question_id": 58102239, "link": "https://stackoverflow.com/questions/58102239/converting-a-floating-point-number-to-string-with-mpfr/58102478#58102478", "title": "Converting a floating point number to string with MPFR", "body": "<p>From the documentation</p>\n\n<blockquote>\n  <p>The generated string is a fraction, with an <strong>implicit</strong> radix point immediately to the left of the first digit. For example, the number -3.1416 would be returned as \"-31416\" in the string and 1 written at expptr.</p>\n</blockquote>\n\n<p>It is up to you to generate a human-readable representation fron the string and the exponent.  </p>\n\n<p>An alternative would be to use <code>mpfr_sprintf</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2300, "user_id": 3782797, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uA8JS.jpg?s=128&g=1", "display_name": "vinc17", "link": "https://stackoverflow.com/users/3782797/vinc17"}, "is_accepted": false, "score": 0, "last_activity_date": 1569500240, "creation_date": 1569500240, "answer_id": 58116646, "question_id": 58102239, "link": "https://stackoverflow.com/questions/58102239/converting-a-floating-point-number-to-string-with-mpfr/58116646#58116646", "title": "Converting a floating point number to string with MPFR", "body": "<p>MPFR's <code>mpfr_get_str</code> function is copied on GMP's <code>mpf_get_str</code> function, explaining why it has been chosen not to write a decimal point. There are two solutions to have a decimal point:</p>\n\n<ol>\n<li>Use <code>mpfr_sprintf</code> (or some variant), as suggested in <a href=\"https://stackoverflow.com/a/58102478/3782797\">this answer</a>. I would recommend this solution (perhaps unless you want to ignore the locales), as it is the most flexible in the output format and does not need a correction.</li>\n<li>If you just want the significand with an explicit decimal point, use <code>mpfr_get_str</code>, but with a pointer <code>buffer+1</code> instead of <code>buffer</code>. Then, do something like (disregarding the locales)</li>\n</ol>\n\n<pre>\n    int neg = buffer[1] == '-';\n    if (neg)\n      buffer[0] = '-';\n    buffer[neg] = '.';\n</pre>\n\n<p>after filtering the special cases (NaN and infinities).</p>\n"}], "owner": {"reputation": 115, "user_id": 2759621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9d33f87ba32232a35d909e3c20fafc2?s=128&d=identicon&r=PG&f=1", "display_name": "user2759621", "link": "https://stackoverflow.com/users/2759621/user2759621"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 58102478, "answer_count": 2, "score": 0, "last_activity_date": 1569500240, "creation_date": 1569426594, "question_id": 58102239, "link": "https://stackoverflow.com/questions/58102239/converting-a-floating-point-number-to-string-with-mpfr", "title": "Converting a floating point number to string with MPFR", "body": "<p>I want to convert a MPFR floating point number into a string.\nIf I run my program the string is generated but without the \".\" in the number. How can I do it right?</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;string.h&gt;\n#include &lt;iostream&gt;\n#include &lt;mpreal.h&gt;\n\nusing mpfr::mpreal;\nusing std::cout;\nusing std::endl;\n\nint main (int ac, char *av[])\n{\n    char data[255];\n    mpreal x = 42.0, y = 3.14159265358979323846, res = 0.0;\n    mp_exp_t exponent = 10;\n\n    // string data_str[256];\n\n    int precision = 50;\n    res = x * y;\n\n    cout.precision(100);\n    cout &lt;&lt; res;\n    cout &lt;&lt; \"\\n\";\n\n    // if (mpfr_snprintf (data, 254, \"%.20Ff\", res.mpfr_srcptr()) &lt; 0)\n/*\n    if (mpfr_snprintf (data, 254, \"%.20Ff\", res.mpfr_srcptr()) &lt; 0)\n    {\n        cout &lt;&lt; \"gmp_prints_float: error saving string!\\n\";\n    }\n    */\n\n    mpfr_get_str ((char *) &amp;data, &amp;exponent, 10, precision, res.mpfr_srcptr(), GMP_RNDN);\n\n    cout &lt;&lt; data;\n    cout &lt;&lt; \"\\n\";\n\n     mpfr_free_cache ();\n}\n</code></pre>\n\n<p>131.946891450771317977341823279857635498046875\n13194689145077131797734182327985763549804687500000</p>\n\n<p>There is no decimal point in the string output!</p>\n"}, {"tags": ["c++", "opengl-es", "egl"], "answers": [{"comments": [{"owner": {"reputation": 3650, "user_id": 5387794, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7c76efa31a04b23c99d0b964a474491c?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/5387794/kovac"}, "edited": false, "score": 0, "creation_date": 1569507275, "post_id": 58102558, "comment_id": 102626467, "body": "Hi thanks for your help. I tried both and I still can&#39;t see the square. Is it may be because either the lines are also draw in black or may be the lines are so thin I can&#39;t see them?"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "reply_to_user": {"reputation": 3650, "user_id": 5387794, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7c76efa31a04b23c99d0b964a474491c?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/5387794/kovac"}, "edited": false, "score": 0, "creation_date": 1569507339, "post_id": 58102558, "comment_id": 102626512, "body": "@swdon By default the lines are &quot;white&quot; (1, 1, 1, 0)"}, {"owner": {"reputation": 3650, "user_id": 5387794, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7c76efa31a04b23c99d0b964a474491c?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/5387794/kovac"}, "edited": false, "score": 0, "creation_date": 1569509025, "post_id": 58102558, "comment_id": 102627628, "body": "<code>eglSwapBuffers(mDisplay, mSurface);</code> I added this too after draw statement, I still can&#39;t get it to render :("}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 1, "last_activity_date": 1569518905, "last_edit_date": 1569518905, "creation_date": 1569427779, "answer_id": 58102558, "question_id": 58101696, "link": "https://stackoverflow.com/questions/58101696/drawing-a-square-using-opengl-es-gldrawelements-is-not-working/58102558#58102558", "title": "Drawing a square using OpenGL ES glDrawElements is not working", "body": "<p>The indices </p>\n\n<blockquote>\n  <pre class=\"lang-cpp prettyprint-override\"><code>GLubyte indices[] = { 0, 1, 2, 3 };\n</code></pre>\n</blockquote>\n\n<p>don't specify a triangle <a href=\"https://www.khronos.org/opengl/wiki/Primitive\" rel=\"nofollow noreferrer\">Primitive</a>. The specify a quad. Use the primitive type <code>GL_QUADS</code> respectively <code>GL_TRIANGLE_FAN</code>:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>GLubyte indices[] = { 0, 1, 2, 3 };\n\nglVertexPointer(2, GL_FLOAT, 0, vertices);\nglDrawElements(GL_TRIANGLE_FAN, 4, GL_UNSIGNED_BYTE, indices);\n</code></pre>\n\n<p>or form the square by 2 triangles with the indices (0 - 1 - 2) and (0 - 2 - 3):</p>\n\n<pre class=\"lang-non prettyprint-override\"><code>3           2\n +------+  +\n |     / / |\n |   / /   |\n | / /     |\n + +-------+\n0           1\n</code></pre>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>GLubyte indices[] = { 0, 1, 2, 0, 2, 3 };\n\nglVertexPointer(2, GL_FLOAT, 0, vertices);\nglDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_BYTE, indices);\n</code></pre>\n"}], "owner": {"reputation": 3650, "user_id": 5387794, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/7c76efa31a04b23c99d0b964a474491c?s=128&d=identicon&r=PG&f=1", "display_name": "kovac", "link": "https://stackoverflow.com/users/5387794/kovac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569518905, "creation_date": 1569424633, "last_edit_date": 1569427101, "question_id": 58101696, "link": "https://stackoverflow.com/questions/58101696/drawing-a-square-using-opengl-es-gldrawelements-is-not-working", "title": "Drawing a square using OpenGL ES glDrawElements is not working", "body": "<p>I'm trying to draw a square on Android using the code below:</p>\n\n<pre><code>void drawSquare()\n{\n    glClear(GL_COLOR_BUFFER_BIT);\n\n    glMatrixMode(GL_MODELVIEW);\n    glLoadIdentity();\n\n    GLfloat vertices[] =\n    {\n        -0.5f, -0.5f,\n        0.5f, -0.5f,\n        0.5f, 0.5f,\n        -0.5f, 0.5f\n    };\n\n    GLubyte indices[] = { 0, 1, 2, 3 };\n\n    glVertexPointer(2, GL_FLOAT, 0, vertices);\n    glDrawElements(GL_TRIANGLES, 4, GL_UNSIGNED_BYTE, indices);\n}\n</code></pre>\n\n<p>Before, I call the above method I set up the display like:</p>\n\n<pre><code>bool initDisplay()\n{\n    const EGLint attribs[] =\n    {\n        EGL_SURFACE_TYPE, EGL_WINDOW_BIT,\n        EGL_BLUE_SIZE, 8,\n        EGL_GREEN_SIZE, 8,\n        EGL_RED_SIZE, 8,\n        EGL_NONE\n    };\n\n    EGLint format;\n    EGLint numConfigs;\n    EGLConfig config;\n\n    EGLDisplay mDisplay = eglGetDisplay(EGL_DEFAULT_DISPLAY);\n\n    eglInitialize(mDisplay, 0, 0);\n    eglChooseConfig(mDisplay, attribs, &amp;config, 1, &amp;numConfigs);\n    eglGetConfigAttrib(mDisplay, config, EGL_NATIVE_VISUAL_ID, &amp;format);\n    ANativeWindow_setBuffersGeometry(mApp-&gt;window, 0, 0, format);\n\n    EGLSurface mSurface = eglCreateWindowSurface(mDisplay, config, mApp-&gt;window, NULL);\n    EGLContext mContext = eglCreateContext(mDisplay, config, NULL, NULL);\n\n    eglMakeCurrent(mDisplay, mSurface, mSurface, mContext);\n    eglQuerySurface(mDisplay, mSurface, EGL_WIDTH, &amp;mWidth);\n    eglQuerySurface(mDisplay, mSurface, EGL_HEIGHT, &amp;mHeight);\n\n    return true;\n}\n</code></pre>\n\n<p>And setup OpenGL like:</p>\n\n<pre><code>bool initGL()\n{\n    glDisable(GL_DITHER);\n    glHint(GL_PERSPECTIVE_CORRECTION_HINT, GL_FASTEST);\n    glClearColor(0.f, 0.f, 0.f, 1.0f);\n    glShadeModel(GL_SMOOTH);\n\n    glViewport(0, 0, mWidth, mHeight);\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n\n    return true;\n}\n</code></pre>\n\n<p>However, I do not see the square on the screen. Just see a black screen. Thanks in advance for your help.</p>\n"}, {"tags": ["c++", "function", "oop", "c++11", "switch-statement"], "comments": [{"owner": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 5, "creation_date": 1569424423, "post_id": 58101602, "comment_id": 102594739, "body": "You do call <code>enc</code>, but <code>enc</code> doesn&#39;t do anything. <code>void open(); void inchar();</code> in <code>enc</code> are function declarations, not calls; drop the <code>void</code>."}, {"owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "reply_to_user": {"reputation": 44802, "user_id": 2752075, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5oQlf.png?s=128&g=1", "display_name": "HolyBlackCat", "link": "https://stackoverflow.com/users/2752075/holyblackcat"}, "edited": false, "score": 0, "creation_date": 1569424562, "post_id": 58101602, "comment_id": 102594832, "body": "@HolyBlackCat I was posting my answer while you were posting your comment!"}, {"owner": {"reputation": 35613, "user_id": 7582247, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OH0qZNY40Y4/AAAAAAAAAAI/AAAAAAAABbc/xAoU3i299E0/photo.jpg?sz=128", "display_name": "Ted Lyngmo", "link": "https://stackoverflow.com/users/7582247/ted-lyngmo"}, "edited": false, "score": 1, "creation_date": 1569424990, "post_id": 58101602, "comment_id": 102595089, "body": "Unrelated: Don&#39;t use <a href=\"https://stackoverflow.com/questions/39334435/variable-length-array-vla-in-c-compilers\">VLA</a>:s (like <code>char dispos[input.size() + 1];</code>) if you want to be portable."}, {"owner": {"reputation": 40328, "user_id": 86967, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/624a9d99ab6293522102feab52c61f36?s=128&d=identicon&r=PG&f=1", "display_name": "Brent Bradburn", "link": "https://stackoverflow.com/users/86967/brent-bradburn"}, "edited": false, "score": 0, "creation_date": 1569425180, "post_id": 58101602, "comment_id": 102595197, "body": "There&#39;s really too much code here.  You should reduce this for purposes of asking a good question.  Also, you can take the debugging one step further by putting the <code>cout&lt;&lt;&quot;Debugger&quot;</code> <i>inside</i> of <code>enc()</code> -- through which you would see that your premise is slightly flawed."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569426063, "post_id": 58101602, "comment_id": 102595691, "body": "<i>&quot;I&#39;ve done moving the function call to before the switch but still it does nothing.&quot;</i> - That was the sign for you that the <code>switch</code> statement probably had nothing to do with it and could be removed from the example code (bringing you closer to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>). Repeating that process would eventually lead you to find out that calling <code>enc</code> itself already does nothing. For next time!"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 7936279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f00856ddd9c482635cdb283ad3c1da2?s=128&d=identicon&r=PG&f=1", "display_name": "KotjengOren", "link": "https://stackoverflow.com/users/7936279/kotjengoren"}, "edited": false, "score": 0, "creation_date": 1569424735, "post_id": 58101668, "comment_id": 102594936, "body": "om*g i literally banging head for an hour for overlooked such a small mistake. thank you very much!!!"}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 47, "user_id": 7936279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f00856ddd9c482635cdb283ad3c1da2?s=128&d=identicon&r=PG&f=1", "display_name": "KotjengOren", "link": "https://stackoverflow.com/users/7936279/kotjengoren"}, "edited": false, "score": 1, "creation_date": 1569424796, "post_id": 58101668, "comment_id": 102594969, "body": "@KotjengOren -- the <code>switch</code> has nothing to do with the problem. Remove the entire <code>switch</code> statement and replace it with <code>enc();</code> and you&#39;ll see the same thing. The problem is in the implementation of <code>enc()</code>, and this answer gives you the solution."}, {"owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "reply_to_user": {"reputation": 47, "user_id": 7936279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f00856ddd9c482635cdb283ad3c1da2?s=128&d=identicon&r=PG&f=1", "display_name": "KotjengOren", "link": "https://stackoverflow.com/users/7936279/kotjengoren"}, "edited": false, "score": 0, "creation_date": 1569424830, "post_id": 58101668, "comment_id": 102594997, "body": "@KotjengOren  The <code>switch</code> <i>statement</i> (it&#39;s not a function) is fine! You don&#39;t need to change your code for <code>main</code>. Just change the definition of <code>enc()</code> as I have suggested, and try it out!"}], "tags": [], "owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "is_accepted": true, "score": 4, "last_activity_date": 1569424522, "creation_date": 1569424522, "answer_id": 58101668, "question_id": 58101602, "link": "https://stackoverflow.com/questions/58101602/cant-call-function-within-switch-case-c/58101668#58101668", "title": "Can&#39;t Call Function Within Switch Case - C++", "body": "<p>The problem is that your <code>enc()</code> function <strong><em>is</em></strong> being called, but it doesn't do anything! The syntax is wrong:</p>\n\n<pre><code>void enc(){\n  void open();   // These lines DECLARE two NEW function ...\n  void inchar(); // ... without ever calling them!\n}\n</code></pre>\n\n<p>To call the two functions, use this:</p>\n\n<pre><code>void enc(void) {\n    open();\n    inchar();\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7936279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f00856ddd9c482635cdb283ad3c1da2?s=128&d=identicon&r=PG&f=1", "display_name": "KotjengOren", "link": "https://stackoverflow.com/users/7936279/kotjengoren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 482, "favorite_count": 0, "accepted_answer_id": 58101668, "answer_count": 1, "score": 2, "last_activity_date": 1569424635, "creation_date": 1569424324, "last_edit_date": 1569424635, "question_id": 58101602, "link": "https://stackoverflow.com/questions/58101602/cant-call-function-within-switch-case-c", "title": "Can&#39;t Call Function Within Switch Case - C++", "body": "<p>I am trying to run encryption program of some sort but i can't call <em>void enc</em> by switch function,\nSource Code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include &lt;windows.h&gt;\n#include &lt;algorithm&gt;\n#include &lt;string&gt;\n\nusing namespace std;\n\nint x,y,z,a,b,c,n;\nchar tabs[26][26],temp[512];\nstring input,output,Key;\n\nvoid open();\nvoid tableau();\nvoid inchar();\nvoid enc();\nvoid dec();\n\nint main() {\n  open();\n  cout &lt;&lt; \"1.\\tEncrypt \\n2.\\tDecrypt \\nOption: \"; cin &gt;&gt; a;\n  switch (a) {\n    case 1:\n      enc(); cout &lt;&lt; a &lt;&lt; \"Debugger\";\n      break;\n    case 2:\n      dec();\n    break;\n  }\n  return 0;\n}\n\nvoid enc(){\n  void open();\n  void inchar();\n}\n\nvoid dec(){\n\n}\n\nvoid inchar(){\n  cout &lt;&lt; \"input: \"; cin &gt;&gt; input; z = input.size();\n  char dispos[input.size() + 1];\n  copy(input.begin(),input.end(),dispos); dispos[input.size()] = '\\0';\n  for (int i = 0; i &lt; z; i++) {\n    temp[i] = dispos [i];\n  }\n}\n\nvoid tableau() {\n  cout &lt;&lt; \"Initialize Table Construct!!\" &lt;&lt; endl;\n  for (int i = 0; i &lt; 26; i++) {\n    for (int j = 0; j &lt; 26; j++) {\n      x = (i + j) % 26; y = x + 65;\n      tabs[i][j] = y;\n      cout &lt;&lt; tabs[i][j] &lt;&lt; \" \";\n    }\n    cout &lt;&lt; endl;\n  }\n}\n\nvoid open() {\n  cout &lt;&lt; \"Well Hello There\";\n}\n</code></pre>\n\n<p>every time i choose option 1 the <em>debugger cout</em> kept on appearing. if the debugger is erased then the code just end.</p>\n\n<p>P.S: I've done moving the function call to before the switch but still it does nothing.\nP.S.S: Sorry for bad English.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 2, "creation_date": 1569425202, "post_id": 58101579, "comment_id": 102595211, "body": "There&#39;s multiple problems here. You never call <code>setSum</code>, which is what does the math. You&#39;re also trying to modify <code>s</code> in <code>setSum</code>. You can&#39;t reassign a parameter that&#39;s been passed by value. Just get rid of the third parameter and return the sum."}, {"owner": {"reputation": 305, "user_id": 7642367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGRHn.jpg?s=128&g=1", "display_name": "Kyy13", "link": "https://stackoverflow.com/users/7642367/kyy13"}, "edited": false, "score": 2, "creation_date": 1569426354, "post_id": 58101579, "comment_id": 102595853, "body": "setSum() doesn&#39;t modify any member variables. s, first, and last only exist within the scope of setSum()."}, {"owner": {"reputation": 9018, "user_id": 5105949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd9d7ecb21c40f7a4256317fd80cecc?s=128&d=identicon&r=PG&f=1", "display_name": "churill", "link": "https://stackoverflow.com/users/5105949/churill"}, "edited": false, "score": 0, "creation_date": 1569429462, "post_id": 58101579, "comment_id": 102597223, "body": "You initialize <code>sum</code> to <code>&#39;\\0&#39;</code> (which equals 0). So <code>getSum()</code> returns 0 and you print 0. How in the world would it be 3? And why do you initialize a int with an char?"}, {"owner": {"reputation": 7540, "user_id": 4474230, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/713c7ce18010e541853962264a719d83?s=128&d=identicon&r=PG&f=1", "display_name": "Jeffrey", "link": "https://stackoverflow.com/users/4474230/jeffrey"}, "edited": false, "score": 0, "creation_date": 1569430554, "post_id": 58101579, "comment_id": 102597723, "body": "setFirstNum also has <code>first</code> and <code>firstnum</code> flipped"}], "owner": {"reputation": 11, "user_id": 12119867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bgUxW.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/12119867/gabriel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569425201, "creation_date": 1569424242, "last_edit_date": 1569425201, "question_id": 58101579, "link": "https://stackoverflow.com/questions/58101579/why-does-the-classobject-getsum-of-main-function-return-the-sum-as-0-when-it", "title": "Why does the classObject.getSum() of main function return the sum as 0, when it&#39;s supposed to return 3?", "body": "<p>In my simpleClass.cpp file, I have initialized firstNum = 1, and secondNum = 2. Sum has been set to 0. However, when the classObject.getSum() is called in the main function, the sum displayed was 0 instead of 3.</p>\n\n<p>I've tried to remove the sum = '0'; (in the simpleClass.cpp file), but the sum returned will display the memory allocated in the RAM (I suppose).</p>\n\n<hr>\n\n<p>This is my main.cpp file:</p>\n\n<pre><code>int main() {\n    // Creating object from the class\n    simpleClass classObject;\n\n    // Expected to print the returned sum which is 3\n    cout &lt;&lt; \"The sum of both numbers are: \" &lt;&lt; classObject.getSum() &lt;&lt; endl;\n    system(\"pause\");\n    return 0;\n}\n</code></pre>\n\n<hr>\n\n<p>This is my simpleClass.h file:</p>\n\n<pre><code>#ifndef SIMPLECLASS_H\n#define SIMPLECLASS_H\n\nclass simpleClass {\npublic:\n    simpleClass(); \n\n    // Setters and getters for firstNum\n    void setFirstNum(int firstNum);\n    int getFirstNum() const;\n\n    // Setters and getters for secondNum\n    void setSecondNum(int secondNum);\n    int getSecondNum() const;\n\n\n   // Setters and getters for sum    \n    void setSum(int firstNum, int secondNum, int sum);\n    int getSum() const;\nprivate:\n    int firstNum, secondNum;\n    int sum;\n};\n#endif\n</code></pre>\n\n<hr>\n\n<p>This is my simpleClass.cpp file:</p>\n\n<pre><code>#include \"simpleClass.h\"\nusing namespace std;\n\nsimpleClass::simpleClass() {\n    firstNum = 1;\n    secondNum = 2;\n    sum ='\\0';\n}\n\n// Setters and getters for firstNum\nvoid simpleClass::setFirstNum(int first) {\n    first = firstNum;\n}\nint simpleClass::getFirstNum() const {\n    return firstNum;\n}\n\n// Setters and getters for secondNum\nvoid simpleClass::setSecondNum(int second) {\n    second = secondNum;\n}\nint simpleClass::getSecondNum() const {\n    return secondNum;\n}\n\n// Setters and getters for sum\nvoid simpleClass::setSum(int first, int second, int s) {\n    s = first + second;\n}\nint simpleClass::getSum() const {\n    return sum;\n}\n</code></pre>\n\n<p>The firstNum and secondNum returned are accurate, except for sum. I'm asking here to get a better understanding of the concept of header and implementation files. Thank you in advance.</p>\n"}, {"tags": ["c++", "windows", "cpprest-sdk"], "comments": [{"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 2, "creation_date": 1569424497, "post_id": 58101561, "comment_id": 102594795, "body": "<code>image_data</code> is a dangling pointer to no-mans land once the <code>wait</code> returns. <code>ustring</code> ceases to exist after that, and with that, so goes the validity of <code>image_data</code>. if you&#39;re using it in a dereference context anywhere after that <code>wait</code>, you&#39;re invoking undefined behavior."}], "owner": {"reputation": 11, "user_id": 12119832, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vvfS9VkTfNY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVQXDU3bqIKLINROcOw0gThXL5Kg/photo.jpg?sz=128", "display_name": "Harsh Shah", "link": "https://stackoverflow.com/users/12119832/harsh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1569424279, "creation_date": 1569424192, "last_edit_date": 1569424279, "question_id": 58101561, "link": "https://stackoverflow.com/questions/58101561/issue-with-converting-string-to-unsigned-char-pointer-in-c-windows-using-cppre", "title": "issue with converting string to unsigned char pointer in c++ windows using cpprestsdk", "body": "<p>I am getting image data from POST API using cpprestsdk in form of vector and then I am trying to convert it into unsigned char pointer for further processing. </p>\n\n<p>Below is my code and it is working properly in ubuntu but in windows, the data is getting corrupted and as a result, I am not able to process image further.</p>\n\n<pre><code>string image_name = (string)http_get_vars[\"name\"];\n    int len;\n\n    unsigned char *image_data = NULL;\n\n    //reading binary data and storing it in a pointer\n    request.extract_vector().then([image_name, &amp;image_data, &amp;len](vector&lt;unsigned char&gt; v) {\n                utility::string_t ustring = {v.begin(),v.end()};\n        image_data = (unsigned char *)ustring.c_str();\n        len = ustring.size();\n            }).wait();\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1138, "user_id": 4221945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd64e16069e10f662f0eb2629f262f6?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique Lorre", "link": "https://stackoverflow.com/users/4221945/dominique-lorre"}, "edited": false, "score": 0, "creation_date": 1569424640, "post_id": 58101420, "comment_id": 102594877, "body": "You can do two Read() call one for 14 bits and the other for 26 bits then use bitmasks and shift to get the data. Since your two codes are 0 and 1, you can store the masks and shift in two arrays and perform your extraction with the same code."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 1628858, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3e5c3f18141f74489327b5600cfa01ae?s=128&d=identicon&r=PG", "display_name": "Moon4u", "link": "https://stackoverflow.com/users/1628858/moon4u"}, "edited": false, "score": 0, "creation_date": 1569499797, "post_id": 58102360, "comment_id": 102622089, "body": "Yap, that will work perfectly. Thank you very much."}], "tags": [], "owner": {"reputation": 1138, "user_id": 4221945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fd64e16069e10f662f0eb2629f262f6?s=128&d=identicon&r=PG&f=1", "display_name": "Dominique Lorre", "link": "https://stackoverflow.com/users/4221945/dominique-lorre"}, "is_accepted": true, "score": 1, "last_activity_date": 1569623953, "last_edit_date": 1569623953, "creation_date": 1569427060, "answer_id": 58102360, "question_id": 58101420, "link": "https://stackoverflow.com/questions/58101420/is-there-a-better-way-to-use-bitstreams-to-decode-a-file-format/58102360#58102360", "title": "Is there a better way to use bitstreams to decode a file format?", "body": "<p>You can use bitmasks and shift to perform the extraction:</p>\n\n<pre><code>int32_t bitmask[2][3] = {\n    {\n         ?, ?, ?\n    },\n    {\n        ?, ?, ?\n    }\n\n};\nint32_t shift[2][3] = {\n    {\n         ?, ?, ?\n    },\n    {\n        ?, ?, ?\n    }\n\n};\n\n\nvoid extraction(int index, uint32_t follow) {\n\n    uint32_t var2 = (follow &amp; bitmask[index][0]) &gt;&gt; shift[index][0];\n    uint32_t var3 = (follow &amp; bitmask[index][1]) &gt;&gt; shift[index][1];\n    uint32_t var4 = (follow &amp; bitmask[index][2]) &gt;&gt; shift[index][2];\n\n}\n\n\nint main()\n{\n    int32_t v = 0;\n\n\n    uint32_t var1 = Read(0, 2, data);\n    int index = 0;\n    switch (var1) {\n    case 0b00: {\n        uint32_t follow = Read(2, 14, data);\n        extraction(0, follow);\n        break;\n    }\n\n    case 0b01: {\n        uint32_t follow = Read(2, 26, data);\n        extraction(1, follow);\n        break;\n    }\n\n\n}\n</code></pre>\n\n<p>I'm not going to search all the values for mask and shift but I can show you how to calculate the first one. You have Read(2, 10), and we have read 14 bits, so the shift is easy it is 4 since you need to shift by 4 bits. The mask in binary is 0011 1111 1111 0000 so 0x3FF0. Naturally big endian and little endian can interfer here so you have to be careful that the data is in the right order. Notice that you can store the variables in an array for extra efficiency and change extraction() into a for loop.</p>\n"}], "owner": {"reputation": 97, "user_id": 1628858, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3e5c3f18141f74489327b5600cfa01ae?s=128&d=identicon&r=PG", "display_name": "Moon4u", "link": "https://stackoverflow.com/users/1628858/moon4u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 58102360, "answer_count": 1, "score": 2, "last_activity_date": 1569623953, "creation_date": 1569423755, "question_id": 58101420, "link": "https://stackoverflow.com/questions/58101420/is-there-a-better-way-to-use-bitstreams-to-decode-a-file-format", "title": "Is there a better way to use bitstreams to decode a file format?", "body": "<p>I am trying to make a program that decodes an mp3 file (as an exercise). The important part is not that it is an mp3 file, but the way that the file format is structured. The length (in bits) of some variables depends on previous variables. So, let's say that you read 2 bits for one variable and based on its value, you have to read either 10 bits or 20 bits for the next variable. What makes things worst is that every consecutive read is offset by the same length. </p>\n\n<p>I'm using the following <a href=\"https://sakhnik.com/2018/03/23/bitstream.html\" rel=\"nofollow noreferrer\">bitstream</a> implementation, which works wonderfully and I'm really happy with the asm that's being generated. </p>\n\n<p>The problem is that this implementation requires to know the offset and length for each bitread during compilation. The variable length of some of the variables makes it really hard to implement.</p>\n\n<p>There are two ideas that come to mind and both of them seems bad. One would be to change the bit reading function so that I pass the offset as a parameter to the function as a regular argument instead of as a template argument. This is obviously awful because we lose the beautiful asm. The bigger point is that this information is already known. This shouldn't happen at runtime when the information is available at compile time. I just need to be able to explain it better to the compiler. </p>\n\n<p>The other idea is to use some weird template metaprogramming (check the second coding example)</p>\n\n<p>The first idea is as follows:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// the function works like the one in the bitstream implementation that I pointed earlier, but the offset is an argument to the function, instead of a template argument.\ntemplate&lt;unsigned count&gt;\nuint32_t Read(int offset, const uint8_t* src, uint32_t accum = 0);\n\nuint32_t var1 = Read(0, 2, data);\nswitch(var1) {\n  case 0b00: {\n    uint32_t var2 = Read(2, 10, data);\n    uint32_t var3 = Read(12, 3, data);\n    uint32_t var4 = Read(15, 1, data);\n    //... etc\n    break;\n  }\n\n  case 0b01: {\n    uint32_t var2 = Read(2, 20, data);\n    uint32_t var3 = Read(22,  3, data);\n    uint32_t var4 = Read(25,  3, data);\n    // ... etc\n   break;\n  }\n  default: \n    break;\n}\n</code></pre>\n\n<p>The second idea is to use the unmodified Read function but move all offsets &amp; lengths to a sperate template class, and have specializations for each case.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>template&lt;enum DIFFERENT_CASES T&gt; struct offsets_and_lengths {};\n\nstruct BitReads { unsigned offset; unsigned length; };\n\ntemplate&lt;&gt; struct offsets_and_lengths&lt;CASE_1&gt; {\n  static constexpr BitReads var2 = { 2, 10 };\n  static constexpr BitReads var3 = { 12, 3 };\n  static constexpr BitReads var4 = { 15, 1 };\n};\n\ntemplate&lt;&gt; struct offsets_and_lengths&lt;CASE_2&gt; {\n  static constexpr BitReads var2 = { 2, 20 };\n  static constexpr BitReads var3 = { 22, 3 };\n  static constexpr BitReads var4 = { 25, 1 };\n};\n\ntemplate&lt;enum DIFFERENT_CASES T&gt;\nvoid doDifferentReads(uint8_t* data) {\n  using offsets = offsets_and_legnths&lt;T&gt;;\n  uint32_t var2 = Read&lt;offsets::var2.offset, offsets.length&gt;(data);\n  uint32_t var3 = Read&lt;offsets::var3.offset, offsets.length&gt;(data);\n  uint32_t var4 = Read&lt;offsets::var4.offset, offsets.length&gt;(data);\n  // ... etc\n}\n\n\nuint32_t var1 = Read(0, 2, data);\nswitch(var1) {\n  case 0b00: {\n    doDifferentReads&lt;CASE_1&gt;(data);\n    break;\n  }\n\n  case 0b01: {\n    doDifferentReads&lt;CASE_2&gt;(data);\n   break;\n  }\n  default: \n    break;\n}\n</code></pre>\n\n<p>The problem with the second implementation is that I may end up having another variable with a possible difference in its length. At that point, I'll have to create 4 different specializations. 8 for the next one... etc. </p>\n\n<p>So I guess the big question is: Is there a sane way to do decoding on such formats if I want to use the static data that I know? So that the generate asm would be small.</p>\n"}, {"tags": ["c++", "c++11", "templates", "visual-studio-2015", "typename"], "comments": [{"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 1, "creation_date": 1569423701, "post_id": 58101319, "comment_id": 102594326, "body": "Later compilers do warn live: <a href=\"https://godbolt.org/z/vw3bsQ\" rel=\"nofollow noreferrer\">godbolt.org/z/vw3bsQ</a>   Have you checked the warning level?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1569423770, "post_id": 58101319, "comment_id": 102594371, "body": "Interestingly enough, in about two year&#39;s time, this should be well-formed."}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1569423777, "post_id": 58101319, "comment_id": 102594377, "body": "Likely a buggy compiler - have you tested with different ones?"}, {"owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "reply_to_user": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1569423851, "post_id": 58101319, "comment_id": 102594433, "body": "@TobySpeight No, I just checked with VS2015."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569423949, "post_id": 58101319, "comment_id": 102594491, "body": "@Gupta That&#39;s a non-conformance issue with Visual Studio. They&#39;ve had that bug for a long long time."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569424020, "post_id": 58101319, "comment_id": 102594520, "body": "<a href=\"https://stackoverflow.com/questions/5683257/why-is-typename-not-needed-here-in-visual-studio-2008-2010\">SImilar question</a> but for VS2008 and VS2010."}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569423809, "post_id": 58101412, "comment_id": 102594398, "body": "VS is notorious for being extra permissive with omitting <code>typename</code> and <code>template</code> in these cases."}, {"owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "edited": false, "score": 0, "creation_date": 1569423900, "post_id": 58101412, "comment_id": 102594460, "body": "Can you provide any references to the standard for this case?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "reply_to_user": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "edited": false, "score": 0, "creation_date": 1569423982, "post_id": 58101412, "comment_id": 102594509, "body": "@Gupta added standard quote."}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1569424147, "post_id": 58101412, "comment_id": 102594589, "body": "I swore I saw a change that changed the rules to permit skipping typename in some contexts.  Like base classes.  Was it just a proposal?"}, {"owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1569424276, "post_id": 58101412, "comment_id": 102594665, "body": "@Yakk-AdamNevraumont The base classes and member initialization list are two exception that you should NEVER use <code>typename</code> there."}, {"owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "edited": false, "score": 0, "creation_date": 1569424450, "post_id": 58101412, "comment_id": 102594756, "body": "But the standard states that &quot;... unless the applicable name lookup finds a type name or ...&quot;. So, if MSVC type name look-up mechanism finds the type name properly, it should not be against the standard, right?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "edited": false, "score": 0, "creation_date": 1569424609, "post_id": 58101412, "comment_id": 102594855, "body": "@Gupta Except there are rules for how to do that lookup."}, {"owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1569424686, "post_id": 58101412, "comment_id": 102594907, "body": "@Yakk-AdamNevraumont, mmmm ... are there such kind of rules in the standard?"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "edited": false, "score": 0, "creation_date": 1569425170, "post_id": 58101412, "comment_id": 102595186, "body": "@Gupta Yes, there are a lot of name lookup rules in the standard.  They are quite complex."}], "tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": false, "score": 4, "last_activity_date": 1569499503, "last_edit_date": 1592644375, "creation_date": 1569423723, "answer_id": 58101412, "question_id": 58101319, "link": "https://stackoverflow.com/questions/58101319/why-typename-keyword-is-not-needed-in-template-dependent-nested-type-names-in-vs/58101412#58101412", "title": "Why typename keyword is not needed in template dependent nested type names in VS2015?", "body": "<p><code>typename</code> <strong>is</strong> needed; the example program is ill-formed. If the compiler does not diagnose the issue, then it doesn't conform to the standard. A correct version is:</p>\n<pre><code>typename C::const_iterator * iter1 = new typename C::const_iterator(cont.begin());\n                                      // ^^^^^^^^ this one only required until C++20\ntypename C::const_iterator   iter2 = cont.begin();\n</code></pre>\n<p>Standard quote (draft for C++17):</p>\n<blockquote>\n<p>[temp.res]</p>\n<p>A name used in a template declaration or definition and that is dependent on atemplate-parameteris assumednot to name a type unless the applicable name lookup finds a type name or the name is qualified by the keyword <code>typename</code>.</p>\n</blockquote>\n<p><code>C::const_iterator</code> depends on the template-parameter <code>C</code>, so it should not be assumed to be a type name unless <code>typename</code> is used. I think the statement should be interpreted as a multiplication operation, but the right hand operand is undeclared identifier and thus ill-formed.</p>\n<p>C++20 introduces rule that allows removing the <code>typename</code> from the new-expression (latest draft):</p>\n<blockquote>\n<p>[temp.res]</p>\n<p>A qualified name is said to be in a type-id-only context if it appears in a type-id, <strong>new-type-id</strong>, or defining-type-id and the smallest enclosing type-id, new-type-id, or defining-type-id is a new-type-id, defining-type-id, trailing-return-type, default argument of a type-parameter of a template, or type-id of a static_\u00adcast, const_\u00adcast, reinterpret_\u00adcast, or dynamic_\u00adcast.</p>\n</blockquote>\n<hr />\n<p>You might want to create a type alias for readability:</p>\n<pre><code>using const_iterator = typename C::const_iterator;\n</code></pre>\n<p>Or you could just use <code>auto</code>:</p>\n<pre><code>auto it = cont.begin();\n</code></pre>\n<p>P.S. It hardly ever makes sense to dynamically allocate an iterator.</p>\n"}, {"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1569425170, "post_id": 58101588, "comment_id": 102595187, "body": "So it was a bug, now a feature? ;)"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569425415, "post_id": 58101588, "comment_id": 102595322, "body": "@NathanOliver The bug was more akin to &quot;compiler ignores syntax errors in function that is never called, because this specific compiler does compiling at link-time&quot;.  The feature is akin to &quot;certain things in this function are not syntax errors&quot;.  They both make certain code not break the compile, but the fact that the bug covered the feature is sort of accidental."}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": true, "score": 5, "last_activity_date": 1569424527, "last_edit_date": 1592644375, "creation_date": 1569424279, "answer_id": 58101588, "question_id": 58101319, "link": "https://stackoverflow.com/questions/58101319/why-typename-keyword-is-not-needed-in-template-dependent-nested-type-names-in-vs/58101588#58101588", "title": "Why typename keyword is not needed in template dependent nested type names in VS2015?", "body": "<p>In <a href=\"/questions/tagged/c%2b%2b20\" class=\"post-tag\" title=\"show questions tagged &#39;c++20&#39;\" rel=\"tag\">c++20</a> <code>typename</code> is not needed there.  In some contexts, the need for <code>typename</code> was removed, because syntactically anything there <em>must</em> be a type.</p>\n<p>In particular:</p>\n<blockquote>\n<p>A qualified name that appears in type-id, where the smallest enclosing type-id is:</p>\n<ul>\n<li>the type in a new expression that does not parenthesize its type;</li>\n</ul>\n</blockquote>\n<p><a href=\"https://en.cppreference.com/w/cpp/language/dependent_name#The_typename_disambiguator_for_dependent_names\" rel=\"nofollow noreferrer\">Quoted source</a> isn't directly from the standard, but pretty reliable.</p>\n<p>Prior to <a href=\"/questions/tagged/c%2b%2b20\" class=\"post-tag\" title=\"show questions tagged &#39;c++20&#39;\" rel=\"tag\">c++20</a> <code>typename</code> was needed there; it would be parsed as a value, and <code>new value</code> is not valid syntax.  In <a href=\"/questions/tagged/c%2b%2b20\" class=\"post-tag\" title=\"show questions tagged &#39;c++20&#39;\" rel=\"tag\">c++20</a> <code>typename</code> is <em>optional</em> in that context.</p>\n<p>Now, <a href=\"/questions/tagged/visual-studio-2015\" class=\"post-tag\" title=\"show questions tagged &#39;visual-studio-2015&#39;\" rel=\"tag\">visual-studio-2015</a> has no <a href=\"/questions/tagged/c%2b%2b20\" class=\"post-tag\" title=\"show questions tagged &#39;c++20&#39;\" rel=\"tag\">c++20</a> features in it; what you are seeing there is MSVC's failure to properly implement <a href=\"/questions/tagged/c%2b%2b11\" class=\"post-tag\" title=\"show questions tagged &#39;c++11&#39;\" rel=\"tag\">c++11</a>/<a href=\"/questions/tagged/c%2b%2b14\" class=\"post-tag\" title=\"show questions tagged &#39;c++14&#39;\" rel=\"tag\">c++14</a>/<a href=\"/questions/tagged/c%2b%2b17\" class=\"post-tag\" title=\"show questions tagged &#39;c++17&#39;\" rel=\"tag\">c++17</a>, not a <a href=\"/questions/tagged/c%2b%2b20\" class=\"post-tag\" title=\"show questions tagged &#39;c++20&#39;\" rel=\"tag\">c++20</a> extension.</p>\n"}], "owner": {"reputation": 7679, "user_id": 896012, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/05779413dbb3915fa5b2f3ed82d66007?s=128&d=identicon&r=PG", "display_name": "Gupta", "link": "https://stackoverflow.com/users/896012/gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 58101588, "answer_count": 2, "score": 3, "last_activity_date": 1569499503, "creation_date": 1569423452, "last_edit_date": 1569498216, "question_id": 58101319, "link": "https://stackoverflow.com/questions/58101319/why-typename-keyword-is-not-needed-in-template-dependent-nested-type-names-in-vs", "title": "Why typename keyword is not needed in template dependent nested type names in VS2015?", "body": "<p>I was reading about the usage of <code>typename</code> in C++ template programming (e.g. <a href=\"https://stackoverflow.com/questions/610245/where-and-why-do-i-have-to-put-the-template-and-typename-keywords\">this Q/A</a>). To me, it seems that when using a <strong>dependent nested type name</strong>, we should use <code>typename</code> for avoiding parsing ambiguity. I also checked this on Scot Meyers book <a href=\"https://rads.stackoverflow.com/amzn/click/com/0321334876\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">effective C++</a>, item #42. </p>\n\n<p>But what is strange for me is that the same example in the book, works without the <code>typename</code>. Here is the code:</p>\n\n<pre><code>template&lt;class C&gt;\nvoid Print2nd(const C &amp; cont)\n{\n   if (cont.size() &gt;= 2)\n   {\n      C::const_iterator * iter1 = new C::const_iterator(cont.begin());  // why typename is NOT needed?\n      C::const_iterator   iter2 = cont.begin();                         // why typename is NOT needed?\n      (*iter1)++;\n      iter2++;\n      int value1 = **iter1;\n      int value2 = *iter2;\n\n      std::cout &lt;&lt; \"The value of 2nd with pointer is: \" &lt;&lt; value1 &lt;&lt; std::endl;\n      std::cout &lt;&lt; \"The value of 2nd without pointer is: \" &lt;&lt; value2 &lt;&lt; std::endl;\n   }\n}\n\n\nint main()\n{\n   std::vector&lt;int&gt; vect = {1,2,3,4,5,6};\n   Print2nd(vect);\n   return 0;\n}\n</code></pre>\n\n<p>I am using VS2015. So, the Q is that why <code>typename</code> is not needed in this context? Is there any upgrade in recent C++ compilers to avoid using <code>typename</code> in such a context? Or I am doing a mistake in the code?</p>\n\n<p><strong>Update 1:</strong> Thanks to @Fran\u00e7oisAndrieux comment, it seems that the same thing is happening in VS2008 and VS2010, as reported in <a href=\"https://stackoverflow.com/questions/5683257/why-is-typename-not-needed-here-in-visual-studio-2008-2010\">this Q/A</a>. </p>\n"}, {"tags": ["c++", "kvm", "conan", "unikernel"], "comments": [{"owner": {"reputation": 1993, "user_id": 2036859, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/N1Esm.jpg?s=128&g=1", "display_name": "uilianries", "link": "https://stackoverflow.com/users/2036859/uilianries"}, "edited": false, "score": 2, "creation_date": 1569434707, "post_id": 58101236, "comment_id": 102599509, "body": "Hi! seems like qemu is not installed, did you check it? Which specific profile are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "edited": false, "score": 0, "creation_date": 1569505784, "post_id": 58104293, "comment_id": 102625455, "body": "Hi Kristin, thank you very much for you help. I already have <code>qemu-system-x86_64</code> installed. I still get the same error. Do you have a different suggestion? Also my terminal says <code>(conanenv) (base)</code> instead of just <code>(conanenv)</code>"}, {"owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "edited": false, "score": 0, "creation_date": 1569505903, "post_id": 58104293, "comment_id": 102625531, "body": "Do you know if it is possible to start <code>hello</code> with qemu directly? Like <code>qemu-system-x86_64 -drive format=raw,file=hello</code>?"}, {"owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "edited": false, "score": 0, "creation_date": 1569506049, "post_id": 58104293, "comment_id": 102625642, "body": "my qemu version is 1:3.1+dfsg-2ubuntu3.4"}, {"owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "edited": false, "score": 0, "creation_date": 1569506690, "post_id": 58104293, "comment_id": 102626089, "body": "I also tried a fresh start with the <code>gcc-7.3.0-linux-x86_64</code> profile, but this does not help either"}], "tags": [], "owner": {"reputation": 31, "user_id": 12120869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cXrLNSnJCIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc6-7INwzvflqs0Xq57QoOw1i4ikQ/photo.jpg?sz=128", "display_name": "Kristian Jerpetj&#248;n", "link": "https://stackoverflow.com/users/12120869/kristian-jerpetj%c3%b8n"}, "is_accepted": false, "score": 3, "last_activity_date": 1569435075, "creation_date": 1569435075, "answer_id": 58104293, "question_id": 58101236, "link": "https://stackoverflow.com/questions/58101236/includeos-hello-world-failing/58104293#58104293", "title": "IncludeOS hello world failing", "body": "<p>can you confirm that qemu-system-x86_64 is installed on this system ? I think i got the same issue when running without qemu installed.</p>\n\n<pre><code>(conanenv) kristian@kristian-Zephyrus:~/git/hello_world/build$ boot hello -v\n* &lt;boot&gt;:  VERBOSE mode set for environment\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from /home/kristian/.conan/data/vmrunner/0.16.0/includeos/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/vmrunner/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  Args to pass to VM:  []\n* &lt;boot&gt;:  1 VM initialized. Commencing build- and boot...\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from /home/kristian/.conan/data/vmrunner/0.16.0/includeos/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/vmrunner/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  No file extension. Trying to boot as kernel\n* &lt;VMRunner&gt;:  VM boot, timeout:  None multiboot:  True Kernel_args:   image_name:  hello \n* &lt;VMRunner&gt;:  Booting with multiboot: True kernel_args:   image_name: hello \n* &lt;qemu&gt;:  KVM ON \n* &lt;VMRunner&gt;:  File magic:  hello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Found 64-bit ELF, need chainloader \nLooking for chainloader: \nFound /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader Type:  /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Booting hello directly without bootloader (multiboot / -kernel args) \n* &lt;VMRunner&gt;:  Command: sudo qemu-system-x86_64 --enable-kvm -cpu kvm64,+rdrand,+rdseed -kernel /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader -append \"\" -initrd hello \"\" -m 128 -nographic \n[ WARNING ] Running with sudo\n* &lt;qemu&gt;:  Started process PID  14648 \n* &lt;VMRunner&gt;:  Event loop done. Exit status: None poll: 1 \n* &lt;VMRunner&gt;:  No poll - getting final output \n* &lt;VMRunner&gt;:  Exit called with status 1 ( PROGRAM_FAILURE ) \n* &lt;VMRunner&gt;:  Message: process exited Keep running:  False \n* &lt;VMRunner&gt;:  Calling on_exit \n* &lt;VMRunner&gt;:  Program exit called with status 1 ( PROGRAM_FAILURE ) \n* &lt;VMRunner&gt;:  Stopping all vms \n</code></pre>\n\n<p>sudo apt-get install qemu</p>\n\n<pre><code>(conanenv) kristian@kristian-Zephyrus:~/git/hello_world/build$ boot hello -v\n* &lt;boot&gt;:  VERBOSE mode set for environment\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from /home/kristian/.conan/data/vmrunner/0.16.0/includeos/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/vmrunner/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  Args to pass to VM:  []\n* &lt;boot&gt;:  1 VM initialized. Commencing build- and boot...\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from /home/kristian/.conan/data/vmrunner/0.16.0/includeos/stable/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/vmrunner/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  No file extension. Trying to boot as kernel\n* &lt;VMRunner&gt;:  VM boot, timeout:  None multiboot:  True Kernel_args:   image_name:  hello \n* &lt;VMRunner&gt;:  Booting with multiboot: True kernel_args:   image_name: hello \n* &lt;qemu&gt;:  KVM ON \n* &lt;VMRunner&gt;:  File magic:  hello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Found 64-bit ELF, need chainloader \nLooking for chainloader: \nFound /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader Type:  /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Booting hello directly without bootloader (multiboot / -kernel args) \n* &lt;VMRunner&gt;:  Command: sudo qemu-system-x86_64 --enable-kvm -cpu kvm64,+rdrand,+rdseed -kernel /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader -append \"\" -initrd hello \"\" -m 128 -nographic \n[ WARNING ] Running with sudo\n* &lt;qemu&gt;:  Started process PID  16622 \n* Multiboot begin: 0x9500\n* Multiboot cmdline @ 0x22e019: /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader \"\"\n* Multiboot end: 0x22e09e\n* Module list @ 0x22e000\n         * Module @ 0x22f000\n         * Args: hello \"\"\n         * End: 0x393978\n * Multiboot end: 0x393978\n&lt;Multiboot&gt;Booted with multiboot\n        * Boot flags: 0x24f\n        * Valid memory (130559 Kib):\n          0x00000000 - 0x0009fbff (639 Kib)\n          0x00100000 - 0x07fdffff (129920 Kib)\n\n        * Booted with parameters @ 0x22e019: /home/kristian/.conan/data/chainloader/0.15.1-5/includeos/latest/package/5ab84d6acfe1f23c4fae0ab88f26e3a396351ac9/bin/chainloader \"\"\n        * Multiboot provided memory map  (7 entries @ 0x9000)\n          0x0000000000 - 0x000009fbff FREE (639 Kb.)\n          0x000009fc00 - 0x000009ffff RESERVED (1 Kb.)\n          0x00000f0000 - 0x00000fffff RESERVED (64 Kb.)\n          0x0000100000 - 0x0007fdffff FREE (129920 Kb.)\n          0x0007fe0000 - 0x0007ffffff RESERVED (128 Kb.)\n          0x00feffc000 - 0x00feffffff RESERVED (16 Kb.)\n          0x00fffc0000 - 0x00ffffffff RESERVED (256 Kb.)\n\n&lt;Multiboot&gt;OS loaded with 1 modules\n        * hello \"\" @ 0x22f000 - 0x393978, size: 1460600b\n* Multiboot begin: 0x9500\n* Multiboot end: 0x326840\n[x86_64 PC] constructor\n[ Machine ] Initializing heap\n[ Machine ] Main memory detected as 130441024 b\n[ Machine ] Reserving 1048576 b for machine use\n&lt;Multiboot&gt;Booted with multiboot\n        * Boot flags: 0x24f\n        * Valid memory (130559 Kib):\n          0x00000000 - 0x0009fbff (639 Kib)\n          0x00100000 - 0x07fdffff (129920 Kib)\n\n        * Booted with parameters @ 0x8000: hello \"\"\n        * Multiboot provided memory map  (7 entries @ 0x9000)\n          0x0000000000 - 0x000009fbff FREE (639 Kb.)\n          0x000009fc00 - 0x000009ffff RESERVED (1 Kb.)\n          0x00000f0000 - 0x00000fffff RESERVED (64 Kb.)\n          0x0000100000 - 0x0007fdffff FREE (129920 Kb.)\n          0x0007fe0000 - 0x0007ffffff RESERVED (128 Kb.)\n          0x00feffc000 - 0x00feffffff RESERVED (16 Kb.)\n          0x00fffc0000 - 0x00ffffffff RESERVED (256 Kb.)\n================================================================================\n IncludeOS 0.15.1-5 (x86_64 / 64-bit)\n +--&gt; Running [ Hello world - OS included ]\n~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nHello world\n       [ main ] returned with status 0\n\n^C[ WARNING ] Process interrupted - stopping vms\n* &lt;VMRunner&gt;:  Exit called with status 70 ( ABORT ) \n* &lt;VMRunner&gt;:  Message: Process terminated by user Keep running:  False \n* &lt;VMRunner&gt;:  Calling on_exit \n* &lt;VMRunner&gt;:  Program exit called with status 70 ( ABORT ) \n* &lt;VMRunner&gt;:  Stopping all vms \n* &lt;VMRunner&gt;:  Stopping hello PID 16622 with -SIGTERM \n* &lt;VMRunner&gt;:   + child process  16623 \n\n[ ABORT ] Process terminated by user\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "is_accepted": true, "score": 0, "last_activity_date": 1569533268, "last_edit_date": 1569533268, "creation_date": 1569532017, "answer_id": 58124793, "question_id": 58101236, "link": "https://stackoverflow.com/questions/58101236/includeos-hello-world-failing/58124793#58124793", "title": "IncludeOS hello world failing", "body": "<p>After some work I found the answer: Hardware virtualization was disabled on my machine. I solved it by using <a href=\"https://askubuntu.com/questions/256792/how-do-i-enable-hardware-virtualization-technology-vt-x-for-use-in-virtualbox\">this solution</a>.</p>\n\n<p>...such a stupid mistake! </p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3154776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ab60ff5475ac34b71ba0b75b5aab25f?s=128&d=identicon&r=PG&f=1", "display_name": "tgmeow16", "link": "https://stackoverflow.com/users/3154776/tgmeow16"}, "is_accepted": false, "score": 3, "last_activity_date": 1575329467, "creation_date": 1575329467, "answer_id": 59148165, "question_id": 58101236, "link": "https://stackoverflow.com/questions/58101236/includeos-hello-world-failing/59148165#59148165", "title": "IncludeOS hello world failing", "body": "<p>I fixed it by installing the other missing <code>qemu</code> packages. Not all of these are required, but I ran</p>\n\n<pre><code>sudo apt-get install qemu-kvm qemu virt-manager virt-viewer\n</code></pre>\n\n<p>I also made sure I was able to run the command <code>qemu-system-x86_64</code><br>\nSource: <a href=\"https://www.unixmen.com/how-to-install-and-configure-qemu-in-ubuntu/\" rel=\"nofollow noreferrer\">https://www.unixmen.com/how-to-install-and-configure-qemu-in-ubuntu/</a></p>\n"}], "owner": {"reputation": 2945, "user_id": 5345715, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/13f05631812e06e1599ce28b59ed000c?s=128&d=identicon&r=PG&f=1", "display_name": "User12547645", "link": "https://stackoverflow.com/users/5345715/user12547645"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 58124793, "answer_count": 3, "score": 1, "last_activity_date": 1575329467, "creation_date": 1569423177, "last_edit_date": 1569423548, "question_id": 58101236, "link": "https://stackoverflow.com/questions/58101236/includeos-hello-world-failing", "title": "IncludeOS hello world failing", "body": "<p>I would like to look into <a href=\"https://www.includeos.org\" rel=\"nofollow noreferrer\">IncludeOS and run their hello world</a>. I am on Ubuntu and did install the <a href=\"https://github.com/includeos/IncludeOS/blob/master/README.md\" rel=\"nofollow noreferrer\">required dependencies</a>. The program exits with an error. <strong>What am I doing wrong here?</strong></p>\n\n<pre><code>apt-get install python3-pip python3-dev git cmake clang-6.0 gcc nasm make qemu\npip3 install setuptools wheel conan psutil jsonschema\nconan config install https://github.com/includeos/conan_config.git\n</code></pre>\n\n<p>I followed the installation instructions and used the <code>clang-6.0-linux-x86_64</code> profile, as is recommended for Linux. The profiles are listed <a href=\"https://github.com/includeos/conan_config/tree/master/profiles\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>git clone https://github.com/includeos/hello_world.git\nmkdir your_build_dir &amp;&amp; cd \"$_\"\nconan install ../hello_world -pr &lt;your_conan_profile&gt;\nsource activate.sh\ncmake ../hello_world\ncmake --build .\nboot hello\n</code></pre>\n\n<p>The program crashes when calling it with the boot command.</p>\n\n<p>The output (some paths altered) when calling <code>boot hello -dv</code> (verbose, debug)</p>\n\n<pre><code>* &lt;boot&gt;:  VERBOSE mode set for environment\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from /path/to/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  Args to pass to VM:  []\n* &lt;boot&gt;:  1 VM initialized. Commencing build- and boot...\n* &lt;VMRunner&gt;:  Loading default config. \n* &lt;VMRunner&gt;:  Trying to load config from path/to/vm.vanilla.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" Single virtio nic with vanilla cpu features \" \n* &lt;VMRunner&gt;:  Trying to load config from ./vm.json \n* &lt;VMRunner&gt;:  Successfully loaded vm config \n* &lt;VMRunner&gt;:  \" {'net': [], 'image': 'service.img', 'mem': 128} \" \n* &lt;VMRunner&gt;:  {'description': 'Single virtio nic with vanilla cpu features', 'net': [], 'image': 'service.img', 'mem': 128} \n* &lt;boot&gt;:  Booting in debug mode\n* &lt;boot&gt;:  No file extension. Trying to boot as kernel\n* &lt;VMRunner&gt;:  VM boot, timeout:  None multiboot:  True Kernel_args:   image_name:  hello \n* &lt;VMRunner&gt;:  Booting with multiboot: True kernel_args:   image_name: hello \n* &lt;qemu&gt;:  KVM ON \n* &lt;VMRunner&gt;:  File magic:  hello: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Found 64-bit ELF, need chainloader \nLooking for chainloader: \nFound /path/to/chainloader Type:  /path/to/chainloader: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, stripped\n\n* &lt;VMRunner&gt;:  Booting hello directly without bootloader (multiboot / -kernel args) \n* &lt;VMRunner&gt;:  Command: sudo qemu-system-x86_64 --enable-kvm -cpu kvm64,+rdrand,+rdseed -kernel /path/to/chainloader -append \"\" -initrd hello \"\" -s -m 128 -nographic \n[ WARNING ] Running with sudo\n* &lt;qemu&gt;:  Started process PID  1343 \n* &lt;VMRunner&gt;:  Event loop done. Exit status: None poll: 1 \n* &lt;VMRunner&gt;:  No poll - getting final output \n* &lt;VMRunner&gt;:  Exit called with status 1 ( PROGRAM_FAILURE ) \n* &lt;VMRunner&gt;:  Message: process exited Keep running:  False \n* &lt;VMRunner&gt;:  Calling on_exit \n* &lt;VMRunner&gt;:  Program exit called with status 1 ( PROGRAM_FAILURE ) \n* &lt;VMRunner&gt;:  Stopping all vms \n\n[ PROGRAM_FAILURE ] process exited\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 355, "user_id": 5343120, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6ko5d.png?s=128&g=1", "display_name": "Harrand", "link": "https://stackoverflow.com/users/5343120/harrand"}, "edited": false, "score": 2, "creation_date": 1569423235, "post_id": 58101160, "comment_id": 102594020, "body": "Can you show your code thus far?"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1569423390, "post_id": 58101160, "comment_id": 102594113, "body": "How do you want to split a line? You could read the whole line, split it at each space and concatenate all but the last two values."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1569423570, "post_id": 58101160, "comment_id": 102594228, "body": "How do you know that <code>jimmy wang</code> is &quot;special&quot; ???"}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 6292506, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IQoXPcubo20/AAAAAAAAAAI/AAAAAAAAANQ/eYe1A1ytxFg/photo.jpg?sz=128", "display_name": "LHK1337", "link": "https://stackoverflow.com/users/6292506/lhk1337"}, "is_accepted": false, "score": -1, "last_activity_date": 1569423614, "creation_date": 1569423614, "answer_id": 58101369, "question_id": 58101160, "link": "https://stackoverflow.com/questions/58101160/how-to-read-file-ignores-the-first-whitespace/58101369#58101369", "title": "how to read file ignores the first whitespace?", "body": "<p>read every line, split every line by ' ' (whitespace).\nNow read from the back (right to left) and insert values with fixed length in your variables. The rest is the name </p>\n"}, {"tags": [], "owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "is_accepted": false, "score": 0, "last_activity_date": 1569423859, "creation_date": 1569423859, "answer_id": 58101453, "question_id": 58101160, "link": "https://stackoverflow.com/questions/58101160/how-to-read-file-ignores-the-first-whitespace/58101453#58101453", "title": "how to read file ignores the first whitespace?", "body": "<p>You could read the whole line, split it at each space and concatenate all but the last two values. Here is a pseudo code for this</p>\n\n<pre><code>while line = getline():\n    words = split(line, ' ')\n    var1 = \"\"\n    first = true\n    for word in words[0:-2]:\n        if not first\n            name += ' '\n        first = false\n        var1 += word\n    var2 = words[-2]\n    var3 = words[-1]\n</code></pre>\n\n<p>This pseudo code is python oriented. <code>words[-2]</code> is the last but one\n element.  <code>words[-1]</code> is the last element. <code>for word in words[0:-2]:</code> is a loop over all elements but the last two.</p>\n"}], "owner": {"reputation": 1, "user_id": 11275620, "user_type": "registered", "profile_image": "https://graph.facebook.com/585780211921261/picture?type=large", "display_name": "Jimmy Chen", "link": "https://stackoverflow.com/users/11275620/jimmy-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1569423859, "creation_date": 1569422945, "last_edit_date": 1569423293, "question_id": 58101160, "link": "https://stackoverflow.com/questions/58101160/how-to-read-file-ignores-the-first-whitespace", "title": "how to read file ignores the first whitespace?", "body": "<p>I am trying to read a plain text file which looks like this:</p>\n\n<pre><code>jimmy wang man staff  \njackson man staff\n</code></pre>\n\n<p>Now, suppose the <code>jimmy wang</code> should be read as one value; this would make the whole line be parsed as three values: <code>jimmy wang</code>, <code>man</code> and <code>staff</code>. The next line should also, obviously, be parsed as three values.</p>\n\n<p>I have tried to use delimiter but that would skip the first line of first whitespace into 4 variables.</p>\n"}, {"tags": ["c++", "point-cloud-library"], "comments": [{"owner": {"reputation": 410, "user_id": 10636162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdzXE.jpg?s=128&g=1", "display_name": "sowlosc", "link": "https://stackoverflow.com/users/10636162/sowlosc"}, "edited": false, "score": 0, "creation_date": 1569428236, "post_id": 58101096, "comment_id": 102596695, "body": "Hi, do you know if the program starts and crashes during loadPCDFile ? or does it crash even before starting ?"}, {"owner": {"reputation": 47, "user_id": 12119792, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214899807634141/picture?type=large", "display_name": "Aldi Lin", "link": "https://stackoverflow.com/users/12119792/aldi-lin"}, "reply_to_user": {"reputation": 410, "user_id": 10636162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdzXE.jpg?s=128&g=1", "display_name": "sowlosc", "link": "https://stackoverflow.com/users/10636162/sowlosc"}, "edited": false, "score": 0, "creation_date": 1569459227, "post_id": 58101096, "comment_id": 102606738, "body": "@Liumatt Hi, It just crashed during loadPCDFile, If I dont type pcl::iio::loadPCDFile, the program still work fine, do you have any idea what happened? thankyou~"}, {"owner": {"reputation": 410, "user_id": 10636162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cdzXE.jpg?s=128&g=1", "display_name": "sowlosc", "link": "https://stackoverflow.com/users/10636162/sowlosc"}, "edited": false, "score": 0, "creation_date": 1569488815, "post_id": 58101096, "comment_id": 102616140, "body": "Are you sure that the file &quot;2.pcd&quot; that you try to load exists just next to your executable ?"}], "owner": {"reputation": 47, "user_id": 12119792, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214899807634141/picture?type=large", "display_name": "Aldi Lin", "link": "https://stackoverflow.com/users/12119792/aldi-lin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1592570308, "creation_date": 1569422747, "question_id": 58101096, "link": "https://stackoverflow.com/questions/58101096/pclioloadpcdfile2-pcd-cloud-error", "title": "pcl::io::loadPCDFile(&quot;2.pcd&quot;, *cloud); ERROR", "body": "<p>I am beginner in PointCloud, and I just followed the tutorial in official website, but I can't run the code in Visual Studio 2019 or 2017.</p>\n\n<p>I have tried this in Studio 2019 and 2017 but the result is same. \"The application was unable to start correctly (0xc000007b). Click OK to close the application. \" Is there any solution for this problem?</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;pcl/io/pcd_io.h&gt;\n#include &lt;pcl/point_types.h&gt;\n\nint main()\n{\n pcl::PointCloud&lt;pcl::PointXYZRGB&gt;::Ptr cloud(new \n pcl::PointCloud&lt;pcl::PointXYZRGB&gt;);\n pcl::io::loadPCDFile(\"2.pcd\", *cloud);\n\n system(\"pause\");\n return (0);\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "memory-management", "qdomdocument"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569423033, "post_id": 58101063, "comment_id": 102593881, "body": "<code>QDomDocument * pDoc = new QDomDocument();</code> -- Did you take in consideration the cost of calling the memory allocator each time?"}], "answers": [{"comments": [{"owner": {"reputation": 577, "user_id": 4577467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QeCEV_3eDeM/AAAAAAAAAAI/AAAAAAAAAE0/KhDbuC4MGs4/photo.jpg?sz=128", "display_name": "Mike Finch", "link": "https://stackoverflow.com/users/4577467/mike-finch"}, "edited": false, "score": 0, "creation_date": 1569425031, "post_id": 58101372, "comment_id": 102595106, "body": "Good catch, @fonZ.  Thanks."}, {"owner": {"reputation": 8919, "user_id": 8873508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uDHi.png?s=128&g=1", "display_name": "p-a-o-l-o", "link": "https://stackoverflow.com/users/8873508/p-a-o-l-o"}, "edited": false, "score": 1, "creation_date": 1569427600, "post_id": 58101372, "comment_id": 102596436, "body": "@fonZ take a look at my (edited) answer (both ways work, but there&#39;s a better third way ...)"}], "tags": [], "owner": {"reputation": 2342, "user_id": 1080633, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/RieF7.jpg?s=128&g=1", "display_name": "fonZ", "link": "https://stackoverflow.com/users/1080633/fonz"}, "is_accepted": false, "score": 0, "last_activity_date": 1569423620, "creation_date": 1569423620, "answer_id": 58101372, "question_id": 58101063, "link": "https://stackoverflow.com/questions/58101063/should-i-create-a-new-qdomdocument-on-the-heap/58101372#58101372", "title": "Should I create a new QDomDocument on the heap?", "body": "<p>It's very clear that your QDomDocument is deleted when the scope ends:</p>\n\n<pre><code>{ // scope starts here \n    // create document on the stack\n    QDomDocument doc;\n    ...\n    docs[\"alpha\"] = doc;\n} // scope ends here, stack is cleaned, doc is deleted\n</code></pre>\n\n<p>Creating QDomDocument on the heap solves the problem but might not be the best solution. For example, this should also work fine:</p>\n\n<pre><code>{\n    ...\n    docs[\"alpha\"] = QDomDocument();\n    docs[\"alpha\"].setContent( &amp;file );\n    ...    \n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8919, "user_id": 8873508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2uDHi.png?s=128&g=1", "display_name": "p-a-o-l-o", "link": "https://stackoverflow.com/users/8873508/p-a-o-l-o"}, "is_accepted": true, "score": 3, "last_activity_date": 1569427400, "last_edit_date": 1569427400, "creation_date": 1569425132, "answer_id": 58101833, "question_id": 58101063, "link": "https://stackoverflow.com/questions/58101063/should-i-create-a-new-qdomdocument-on-the-heap/58101833#58101833", "title": "Should I create a new QDomDocument on the heap?", "body": "<p>The OP suspicions are quite right: <code>QDomDocument</code> holds a pointer to its implementation (PIMPL) through its base class, <code>QDomNode</code>.</p>\n\n<p>While <a href=\"https://stackoverflow.com/users/1080633/fonz\">fonZ</a> is right in saying the original object will go out of scope and destroyed, the copy stored in the map will keep the (shared) implementation alive. Taking a look at <a href=\"https://code.qt.io/cgit/qt/qtbase.git/tree/src/xml/dom/qdom.cpp\" rel=\"nofollow noreferrer\">the source</a>, we see an empty destructor for <code>QDomDocument</code>, and  its base class destructor reveals a reference counting mechanism:</p>\n\n<pre><code>QDomNode::~QDomNode()\n{\n    if (impl &amp;&amp; !impl-&gt;ref.deref())\n        delete impl;\n}\n</code></pre>\n\n<p>the count gets incremented in copy construction:</p>\n\n<pre><code>QDomNode::QDomNode(const QDomNode &amp;n)\n{\n    impl = n.impl;\n    if (impl)\n        impl-&gt;ref.ref();\n}\n</code></pre>\n\n<p>and in assignment as well:</p>\n\n<pre><code>QDomNode&amp; QDomNode::operator=(const QDomNode &amp;n)\n{\n    if (n.impl)\n        n.impl-&gt;ref.ref();\n    if (impl &amp;&amp; !impl-&gt;ref.deref())\n        delete impl;\n    impl = n.impl;\n    return *this;\n}\n</code></pre>\n\n<p>thus method <em>A</em> is legal and safe, and bears no memory handling concerns.</p>\n\n<p>I would also point out that using <code>QMap::insert</code> instead of the subscript operator is a bit more performant.</p>\n\n<p>Doing:</p>\n\n<pre><code>QDomDocument doc;\ndoc.setContent( &amp;file );\ndocs[\"alpha\"] = doc;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>docs[\"alpha\"] = QDomDocument();\ndocs[\"alpha\"].setContent( &amp;file );\n</code></pre>\n\n<p>will both produce this:</p>\n\n<ul>\n<li>a <code>QDomDocument</code> object is created (a temporary, in the second snippet)</li>\n<li>another <code>QDomDocument</code> object is created (inside the map) calling <code>docs[\"alpha\"]</code></li>\n<li>the latter is assigned to the first.</li>\n</ul>\n\n<p>Using </p>\n\n<pre><code>docs.insert(\"alpha\", QDomDocument());\ndocs[\"alpha\"].setContent( &amp;file );\n</code></pre>\n\n<p>will only call the temporary constructor and the map item copy-constructor.</p>\n"}], "owner": {"reputation": 577, "user_id": 4577467, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QeCEV_3eDeM/AAAAAAAAAAI/AAAAAAAAAE0/KhDbuC4MGs4/photo.jpg?sz=128", "display_name": "Mike Finch", "link": "https://stackoverflow.com/users/4577467/mike-finch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 1, "accepted_answer_id": 58101833, "answer_count": 2, "score": 1, "last_activity_date": 1569427400, "creation_date": 1569422679, "question_id": 58101063, "link": "https://stackoverflow.com/questions/58101063/should-i-create-a-new-qdomdocument-on-the-heap", "title": "Should I create a new QDomDocument on the heap?", "body": "<p>I will load multiple XML files, each into a <code>QDomDocument</code>, and then use a <code>QMap</code> to associate an identifying string with each document.  Should I store a <code>QDomDocument</code> or a pointer to a <code>QDomDocument</code> in the map?  i.e., which of the following examples is more in keeping with Qt best design practices.</p>\n\n<p>I suspect that example A is preferred.  All the code samples I see just create a local <code>QDomDocument</code> on the stack.  And, <code>sizeof( QDomDocument )</code> is 4 bytes;  so, <code>QDomDocument</code> is probably a thin wrapper that can be shallow copied without much of a performance hit.</p>\n\n<h3>A: Map contains <code>QDomDocument</code> instances</h3>\n\n<pre><code>class Core\n{\nprivate:\n  QMap&lt;QString, QDomDocument&gt; docs;\n\npublic:\n  Core( void )\n  {\n    QFile file( \"alpha.xml\" );\n    file.open( QIODevice::ReadOnly );\n\n    QDomDocument doc;\n    doc.setContent( &amp;file );\n    docs[\"alpha\"] = doc;\n\n    // ... etc for other XML files\n  }\n\n  QString findThing( QString const &amp; docName, QString const &amp; thingName )\n  {\n    QDomDocument doc = docs[docName];\n\n    // ... search the doc for the thing with the given name\n  }\n};\n</code></pre>\n\n<h3>B. Map contains pointers to <code>QDomDocument</code> instances</h3>\n\n<pre><code>class Core\n{\nprivate:\n  QMap&lt;QString, QDomDocument *&gt; docs;\n\npublic:\n  Core( void )\n  {\n    QFile file( \"alpha.xml\" );\n    file.open( QIODevice::ReadOnly );\n\n    QDomDocument * pDoc = new QDomDocument();\n    pDoc-&gt;setContent( &amp;file );\n    docs[\"alpha\"] = pDoc;\n\n    // ... etc for other XML files\n  }\n\n  QString findThing( QString const &amp; docName, QString const &amp; thingName )\n  {\n    QDomDocument * pDoc = docs[docName];\n\n    // ... search the doc for the thing with the given name\n  }\n};\n</code></pre>\n"}, {"tags": ["c++", "static", "c++17", "global", "inline"], "answers": [{"comments": [{"owner": {"reputation": 2294, "user_id": 3514538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba20c696a992c58c4e7e5c1fe63b84e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3514538", "link": "https://stackoverflow.com/users/3514538/user3514538"}, "edited": false, "score": 0, "creation_date": 1569424754, "post_id": 58101307, "comment_id": 102594944, "body": "What is the reason to not forbid that declaration? Any complications in grammar parsing for compilers?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 2294, "user_id": 3514538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba20c696a992c58c4e7e5c1fe63b84e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3514538", "link": "https://stackoverflow.com/users/3514538/user3514538"}, "edited": false, "score": 1, "creation_date": 1569424933, "post_id": 58101307, "comment_id": 102595055, "body": "@user3514538 - No. Probably no one considered it an actual problem when first adding it. And it isn&#39;t some huge problem that warrants the standardization process now."}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1569423410, "creation_date": 1569423410, "answer_id": 58101307, "question_id": 58101044, "link": "https://stackoverflow.com/questions/58101044/is-there-any-sense-to-declare-static-global-variable-as-inline/58101307#58101307", "title": "Is there any sense to declare static global variable as inline?", "body": "<blockquote>\n  <p>So, has static keyword more priority than inline in that case?</p>\n</blockquote>\n\n<p>Pretty much. <code>static</code> has an effect that interferes with <code>inline</code>. The C++ standard <a href=\"https://timsong-cpp.github.io/cppwp/n4659/dcl.inline#6\" rel=\"nofollow noreferrer\">states that</a></p>\n\n<blockquote>\n  <p>... An inline function or variable with external linkage shall have\n  the same address in all translation units.</p>\n</blockquote>\n\n<p>And the <code>static</code> qualifier imposes <em>internal linkage</em>, so the single address guarantee does not have to hold. Now, a name with internal linkage in different translation units is meant to denote different object in each TU, so getting multiple distinct <code>i</code>'s is intended.</p>\n\n<p>All in all, the <code>static</code> negates the <code>inline</code>. And there is no point to having a <code>static inline</code> variable over a plain <code>static</code> one. </p>\n"}], "owner": {"reputation": 2294, "user_id": 3514538, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba20c696a992c58c4e7e5c1fe63b84e6?s=128&d=identicon&r=PG&f=1", "display_name": "user3514538", "link": "https://stackoverflow.com/users/3514538/user3514538"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 58101307, "answer_count": 1, "score": 8, "last_activity_date": 1569429844, "creation_date": 1569422622, "last_edit_date": 1569429844, "question_id": 58101044, "link": "https://stackoverflow.com/questions/58101044/is-there-any-sense-to-declare-static-global-variable-as-inline", "title": "Is there any sense to declare static global variable as inline?", "body": "<p>Consider, global variable (not static class member!) is declared in the header file:</p>\n\n<pre><code>inline static int i{};\n</code></pre>\n\n<p>It is valid construction for several compilers that I tested, and experiments demonstrate that several distinct objects will be created in different translation units, although it is also declared as inline (it means that only one instance of that variable must exist in the program). So, has <code>static</code> keyword more priority than <code>inline</code> in that case?</p>\n"}, {"tags": ["c++", "linked-list", "processing-efficiency"], "comments": [{"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 3, "creation_date": 1569421732, "post_id": 58100610, "comment_id": 102593113, "body": "<code>int array_add[vals_add.size()];</code> -- This line and others like this are <i>not</i> valid C++.   Arrays in C++ must have their sizes denoted by a constant expression, not a runtime derived result.  You&#39;re using <code>std::vector</code> already, so these also should be vectors."}, {"owner": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1569422001, "post_id": 58100610, "comment_id": 102593271, "body": "you dont have to read lines seperately to process them seperately. I never bothered to make reading from file fast, because it is slow in general, but I would try to read the contents in one chunk and only then split it into lines."}, {"owner": {"reputation": 11, "user_id": 12065680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NfHX0LtQ0uQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRDDCLpI1o5XUAP5JUuBr_k4LS6g/photo.jpg?sz=128", "display_name": "ellieu", "link": "https://stackoverflow.com/users/12065680/ellieu"}, "reply_to_user": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569422124, "post_id": 58100610, "comment_id": 102593357, "body": "@PaulMcKenzie Thanks - didn&#39;t know that! I was attempting to create the array so that it will always contain the exact size of the vector. To allow it to resize dynamically. So, I should convert the vector - vals_add, instead of array_add, into a linked list?"}, {"owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1569422324, "post_id": 58100610, "comment_id": 102593475, "body": "<code>if (file.is_open())</code> is an anti-pattern, avoid. It doesn\u2019t actually perform sufficient checking."}, {"owner": {"reputation": 11, "user_id": 12065680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NfHX0LtQ0uQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRDDCLpI1o5XUAP5JUuBr_k4LS6g/photo.jpg?sz=128", "display_name": "ellieu", "link": "https://stackoverflow.com/users/12065680/ellieu"}, "reply_to_user": {"reputation": 61303, "user_id": 4117728, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/66831ed13ffd9c497541220ec45c15c3?s=128&d=identicon&r=PG&f=1", "display_name": "largest_prime_is_463035818", "link": "https://stackoverflow.com/users/4117728/largest-prime-is-463035818"}, "edited": false, "score": 0, "creation_date": 1569422356, "post_id": 58100610, "comment_id": 102593491, "body": "@formerlyknownas_463035818 -&gt; Thanks, so essentially to do that I would call getline -&gt; read the entire chunk -&gt; use an istringstream to parse the entire chunk by their individual lines?"}, {"owner": {"reputation": 11, "user_id": 12065680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NfHX0LtQ0uQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRDDCLpI1o5XUAP5JUuBr_k4LS6g/photo.jpg?sz=128", "display_name": "ellieu", "link": "https://stackoverflow.com/users/12065680/ellieu"}, "reply_to_user": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "edited": false, "score": 0, "creation_date": 1569422387, "post_id": 58100610, "comment_id": 102593512, "body": "@KonradRudolph Thanks - will reconsider that line!"}, {"owner": {"reputation": 31368, "user_id": 3133316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30f0b31e22bec21f12f31cd30ae5b148?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcKenzie", "link": "https://stackoverflow.com/users/3133316/paulmckenzie"}, "edited": false, "score": 0, "creation_date": 1569422580, "post_id": 58100610, "comment_id": 102593635, "body": "@ellieu Does your linked list class have an <code>insert</code> method?  Then if so, you use <code>std::copy</code> to insert into the list directly from the input.  There would be no need for intermediate vectors."}], "answers": [{"tags": [], "owner": {"reputation": 480272, "user_id": 1968, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fdd630f72eef3790bfb4ef38d08c7f85?s=128&d=identicon&r=PG", "display_name": "Konrad Rudolph", "link": "https://stackoverflow.com/users/1968/konrad-rudolph"}, "is_accepted": false, "score": 1, "last_activity_date": 1569423507, "last_edit_date": 1569423507, "creation_date": 1569422678, "answer_id": 58101062, "question_id": 58100610, "link": "https://stackoverflow.com/questions/58100610/improve-time-efficiency-of-driver-program/58101062#58101062", "title": "Improve Time Efficiency of Driver Program", "body": "<p>There are multiple points that can be improved.</p>\n\n<p>First off, remove unnecessary code: you\u2019re not using <code>iss</code> and <code>iss3</code>. Next, your  <code>array_add</code> and <code>array_remove</code> seem to be redundant. Use the vectors directly.</p>\n\n<p>If you have a rough idea of how many values you\u2019ll read on average, reserve space in the vectors to avoid repeated resizing and copying (actually you seem to have these numbers in your input; <em>use</em> this information instead of throwing it away!). You can also replace your <code>while</code> reading loops with <code>std::copy</code> and <code>std::istream_iterator</code>s.</p>\n\n<p>You haven\u2019t shown how <code>CnvrtVectoList</code> is implemented but <em>in general</em> linked lists aren\u2019t particularly efficient to work with due to lack of locality: they throw data all over the heap. Contiguous containers (= vectors) are almost always more efficient, even when you need to remove elements in the middle. Try using a vector instead and time the performance carefully.</p>\n\n<p>Lastly, can you <em>sort</em> the values? If so, then you can implement the deletion of values a lot more efficiently using iterative calls to <code>std::lower_bound</code>, or a single call to <code>std::set_difference</code>.</p>\n\n<p><strong>If</strong> (and only if!) the overhead is actually in the reading of the numbers from a file, restructure your IO code and don\u2019t read lines separately (that way you\u2019ll avoid many redundant allocations). Instead, scan directly through the input file (optionally using a buffer or memory mapping) and manually keep track of how many newline characters you\u2019ve encountered. You can then use the <a href=\"https://en.cppreference.com/w/cpp/string/byte/strtof\" rel=\"nofollow noreferrer\"><code>strtod</code></a> family of functions to scan numbers from the input read buffer.</p>\n\n<p>Or, if you can assume that the input is correct, you can avoid reading separate lines by using the information provided in the file:</p>\n\n<pre><code>int add_num;\ninfile &gt;&gt; add_num;\nstd::copy_n(std::istream_iterator&lt;int&gt;(infile), std::inserter(your_list, std::end(your_list));\n\nint del_num;\ninfile &gt;&gt; del_num;\nstd::vector&lt;int&gt; to_delete(del_num);\nstd::copy_n(std::istream_iterator&lt;int&gt;(infile), del_num, to_delete.begin());\nfor (auto const n : del_num) {\n    deleteNode(&amp;ptr, n);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "is_accepted": false, "score": 0, "last_activity_date": 1569453537, "creation_date": 1569453537, "answer_id": 58107692, "question_id": 58100610, "link": "https://stackoverflow.com/questions/58100610/improve-time-efficiency-of-driver-program/58107692#58107692", "title": "Improve Time Efficiency of Driver Program", "body": "<p>First of all: why do you use some custom list data structure? It's very likely that it is half-baked, i.e. doesn't have support for allocators, and thus would be much harder to adapt to perform well. Just use <code>std::list</code> for a doubly-linked list, or <code>std::forward_list</code> for a singly-linked list. Easy.</p>\n\n<p>There are several requirements that you seem to imply:</p>\n\n<ol>\n<li><p>The values of type <code>T</code> (for example: an <code>int</code>) are to be stored in a linked list - either <code>std::list&lt;T&gt;</code> or <code>std::forward_list&lt;T&gt;</code> (<strong>not</strong> a raw list of <code>Node</code>s).</p></li>\n<li><p>The data shouldn't be unnecessarily copied - i.e. the memory blocks shouldn't be reallocated.</p></li>\n<li><p>The parsing should be parallelizable, although this makes sense only on fast data sources where the I/O won't dwarf CPU time.</p></li>\n</ol>\n\n<p>The idea is then:</p>\n\n<ol>\n<li><p>Use a custom allocator to carve memory in contiguous segments that can store multiple list nodes.</p></li>\n<li><p>Parse the entire file into linked lists that uses the above allocator. The list will allocate memory segments on demand. A new list is started on each newline.</p></li>\n<li><p>Return the 2nd and 4th list (i.e. lists of elements in the 2nd and 4th line).</p></li>\n</ol>\n\n<p>It's worth noting that the lines that contain element counts are unnecessary. Of course, that data could be passed to the allocator to pre-allocate enough memory segments, but this disallows parallelization, since parallel parsers don't know where the element counts are - these get found only after the parallel-parsed data is reconciled. Yes, with a small modification, this parsing can be completely parallelized. How cool is that!</p>\n\n<p>Let's start simple and minimal: parse the file to produce two lists. The example below uses a <code>std::istringstream</code> over the internally generated text view of the dataset, but <code>parse</code> could also be passed a <code>std::ifstream</code> of course.</p>\n\n<pre><code>// https://github.com/KubaO/stackoverflown/tree/master/questions/linked-list-allocator-58100610\n#include &lt;forward_list&gt;\n#include &lt;iostream&gt;\n#include &lt;sstream&gt;\n#include &lt;vector&gt;\n\nusing element_type = int;\n\ntemplate &lt;typename allocator&gt; using list_type = std::forward_list&lt;element_type, allocator&gt;;\n\ntemplate &lt;typename allocator&gt;\nstd::vector&lt;list_type&lt;allocator&gt;&gt; parse(std::istream &amp;in, allocator alloc)\n{\n   using list_t = list_type&lt;allocator&gt;;\n   std::vector&lt;list_t&gt; lists;\n   element_type el;\n   list_t *list = {};\n   do {\n      in &gt;&gt; el;\n      if (in.good()) {\n         if (!list) list = &amp;lists.emplace_back(alloc);\n         list-&gt;push_front(std::move(el));\n      }\n      while (in.good()) {\n         int c = in.get();\n         if (!isspace(c)) {\n            in.unget();\n            break;\n         }\n         else if (c=='\\n') list = {};\n      }\n   } while (in.good() &amp;&amp; !in.eof());\n   for (auto &amp;list : lists) list.reverse();\n   return lists;\n}\n</code></pre>\n\n<p>And then, to test it:</p>\n\n<pre><code>const std::vector&lt;std::vector&lt;element_type&gt;&gt; test_data = {\n   {6, 18, 5, 20, 48, 2, 97},\n   {3, 6, 9, 12, 28, 5, 7, 10}\n};\n\ntemplate &lt;typename allocator = std::allocator&lt;element_type&gt;&gt;\nvoid test(const std::string &amp;str, allocator alloc = {})\n{\n   std::istringstream input{str};\n   auto lists = parse(input, alloc);\n   assert(lists.size() == 4);\n   lists.erase(lists.begin()+2); // remove the 3rd list\n   lists.erase(lists.begin()+0); // remove the 1st list\n   for (int i = 0; i &lt; test_data.size(); i++)\n      assert(std::equal(test_data[i].begin(), test_data[i].end(), lists[i].begin()));\n}\n\nstd::string generate_input()\n{\n   std::stringstream s;\n   for (auto &amp;data : test_data) {\n      s &lt;&lt; data.size() &lt;&lt; \"\\n\";\n      for (const element_type &amp;el : data) s &lt;&lt; el &lt;&lt; \" \";\n      s &lt;&lt; \"\\n\";\n   }\n   return s.str();\n}\n</code></pre>\n\n<p>Now, let's look at a custom allocator:</p>\n\n<pre><code>class segment_allocator_base\n{\nprotected:\n   static constexpr size_t segment_size = 128;\n   using segment = std::vector&lt;char&gt;;\n   struct free_node {\n      free_node *next;\n      free_node() = delete;\n      free_node(const free_node &amp;) = delete;\n      free_node &amp;operator=(const free_node &amp;) = delete;\n      free_node *stepped_by(size_t element_size, int n) const {\n         auto *p = const_cast&lt;free_node*&gt;(this);\n         return reinterpret_cast&lt;free_node*&gt;(reinterpret_cast&lt;char*&gt;(p) + (n * element_size));\n      }\n   };\n   struct segment_store {\n      size_t element_size;\n      free_node *free = {};\n      explicit segment_store(size_t element_size) : element_size(element_size) {}\n      std::forward_list&lt;segment&gt; segments;\n   };\n   template &lt;typename T&gt; static constexpr size_t size_for() {\n      constexpr size_t T_size = sizeof(T);\n      constexpr size_t element_align = std::max(alignof(free_node), alignof(T));\n      constexpr auto padding = T_size % element_align;\n      return T_size + padding;\n   }\n   struct pimpl {\n      std::vector&lt;segment_store&gt; stores;\n      template &lt;typename T&gt; segment_store &amp;store_for() {\n         constexpr size_t element_size = size_for&lt;T&gt;();\n         for (auto &amp;s : stores)\n            if (s.element_size == element_size) return s;\n         return stores.emplace_back(element_size);\n      }\n   };\n   std::shared_ptr&lt;pimpl&gt; dp{new pimpl};\n};\n\ntemplate&lt;typename T&gt;\nclass segment_allocator : public segment_allocator_base\n{\n   segment_store *d = {};\n   static constexpr size_t element_size = size_for&lt;T&gt;();\n   static free_node *advanced(free_node *p, int n) { return p-&gt;stepped_by(element_size, n); }\n   static free_node *&amp;advance(free_node *&amp;p, int n) { return (p = advanced(p, n)); }\n   void mark_free(free_node *free_start, size_t n)\n   {\n      auto *p = free_start;\n      for (; n; n--) p = (p-&gt;next = advanced(p, 1));\n      advanced(p, -1)-&gt;next = d-&gt;free;\n      d-&gt;free = free_start;\n   }\npublic:\n   using value_type = T;\n   using pointer = T*;\n   template &lt;typename U&gt; struct rebind {\n      using other = segment_allocator&lt;U&gt;;\n   };\n   segment_allocator() : d(&amp;dp-&gt;store_for&lt;T&gt;()) {}\n   segment_allocator(segment_allocator &amp;&amp;o) = default;\n   segment_allocator(const segment_allocator &amp;o) = default;\n   segment_allocator &amp;operator=(const segment_allocator &amp;o) {\n      dp = o.dp;\n      d = o.d;\n      return *this;\n   }\n   template &lt;typename U&gt; segment_allocator(const segment_allocator&lt;U&gt; &amp;o) :\n      segment_allocator_base(o), d(&amp;dp-&gt;store_for&lt;T&gt;()) {}\n   pointer allocate(const size_t n) {\n      if (n == 0) return {};\n      if (d-&gt;free) {\n         // look for a sufficiently long contiguous region\n         auto **base_ref = &amp;d-&gt;free;\n         auto *base = *base_ref;\n         do {\n            auto *p = base;\n            for (auto need = n; need; need--) {\n               auto *const prev = p;\n               auto *const next = prev-&gt;next;\n               advance(p, 1);\n               if (need &gt; 1 &amp;&amp; next != p) {\n                  base_ref = &amp;(prev-&gt;next);\n                  base = next;\n                  break;\n               } else if (need == 1) {\n                  *base_ref = next; // remove this region from the free list\n                  return reinterpret_cast&lt;pointer&gt;(base);\n               }\n            }\n         } while (base);\n      }\n      // generate a new segment, guaranteed to contain enough space\n      size_t count = std::max(n, segment_size);\n      auto &amp;segment = d-&gt;segments.emplace_front(count);\n      auto *const start = reinterpret_cast&lt;free_node*&gt;(segment.data());\n      if (count &gt; n)\n         mark_free(advanced(start, n), count - n);\n      else\n         d-&gt;free = nullptr;\n      return reinterpret_cast&lt;pointer&gt;(start);\n   }\n   void deallocate(pointer ptr, std::size_t n) {\n      mark_free(reinterpret_cast&lt;free_node*&gt;(ptr), n);\n   }\n\n   using propagate_on_container_copy_assignment = std::true_type;\n   using propagate_on_container_move_assignment = std::true_type;\n};\n</code></pre>\n\n<p>For the little test data we've got, the allocator will only allocate a segment... once!</p>\n\n<p>To test:</p>\n\n<pre><code>int main()\n{  \n   auto test_input_str = generate_input();\n   std::cout &lt;&lt; test_input_str &lt;&lt; std::endl;\n   test(test_input_str);\n   test&lt;segment_allocator&lt;element_type&gt;&gt;(test_input_str);\n   return 0;\n}\n</code></pre>\n\n<p>Parallelization would leverage the allocator above, starting multiple threads and in each invoking <code>parse</code> on its own allocator, each parser starting at a different point in the file. When the parsing is done, the allocators would have to merge their segment lists, so that they'd compare equal. At that point, the linked lists could be combined using usual methods. Other than thread startup overhead, the parallelization would have negligible overhead, and there'd be no data copying involved to combine the data post-parallelization. But I leave this exercise to the reader.</p>\n"}], "owner": {"reputation": 11, "user_id": 12065680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NfHX0LtQ0uQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reRDDCLpI1o5XUAP5JUuBr_k4LS6g/photo.jpg?sz=128", "display_name": "ellieu", "link": "https://stackoverflow.com/users/12065680/ellieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569453537, "creation_date": 1569421332, "last_edit_date": 1569422355, "question_id": 58100610, "link": "https://stackoverflow.com/questions/58100610/improve-time-efficiency-of-driver-program", "title": "Improve Time Efficiency of Driver Program", "body": "<p>Sorry that the title is vague. Essentially I am trying to approve the time (and overall) efficiency of a C++ driver program which: </p>\n\n<ol>\n<li><p>Reads in a file line by line using ifstream </p></li>\n<li><p>It is vital to my program that the lines are processed seperately, so I currently have 4 seperate calls to getline. </p></li>\n<li><p>The program reads the string line into a vector of integers using string-stream. </p></li>\n<li><p>Finally, it converts the vector into to a linked list of integers. Is there a way or a function that can directly read the integers from the file into the ll of integers?</p></li>\n</ol>\n\n<p>Here is the driver code: </p>\n\n<pre><code>int main(int argc, char *argv[])\n{\n    ifstream infile(argv[1]);\n\n    vector&lt;int&gt; vals_add;\n    vector&lt;int&gt; vals_remove;\n\n    //Driver Code\n    if(infile.is_open()){\n\n        string line;\n        int n;\n        getline(infile, line);\n        istringstream iss (line);\n\n\n        getline(infile, line);\n        istringstream iss2 (line);\n        while (iss2 &gt;&gt; n){\n            vals_add.push_back(n);\n        }\n\n        getline(infile, line);\n        istringstream iss3 (line);\n\n        getline(infile, line);\n        istringstream iss4 (line);\n        while (iss4 &gt;&gt; n){\n            vals_remove.push_back(n);\n        }\n\n\n        int array_add[vals_add.size()];\n        copy(vals_add.begin(), vals_add.end(), array_add);\n\n\n        int array_remove[vals_remove.size()];\n        copy(vals_remove.begin(), vals_remove.end(), array_remove);\n\n\n\n        Node *ptr = CnvrtVectoList(array_add, sizeof(array_add)/sizeof(int));\n        print(ptr);\n        cout &lt;&lt; \"\\n\";\n\n        for(int i = 0; i &lt; vals_remove.size(); i++){\n           deleteNode(&amp;ptr, vals_remove[i]);\n        }\n\n\n        print(ptr);\n        cout &lt;&lt; \"\\n\";\n\n    }\n</code></pre>\n\n<p>Here is a small example input:</p>\n\n<pre><code>7\n\n6 18 5 20 48 2 97\n\n8\n\n3 6 9 12 28 5 7 10\n</code></pre>\n\n<p>Where lines 2 and 4 MUST be processed as separate lists, and lines 1 and 3 are the size of the lists (they must dynamically allocate memory so the size must remain exact to the input).</p>\n"}, {"tags": ["c++", "c++17"], "comments": [{"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 1, "creation_date": 1569421093, "post_id": 58100475, "comment_id": 102592724, "body": "The question would be easier to answer if <code>getHeadInstance</code> definition were provided. Also, it is not <code>virtual</code>, so you will always call base version."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569422084, "post_id": 58100475, "comment_id": 102593324, "body": "Beware of using reference member types. They generally make assignment difficult to meaningfully implement and move semantics is even more problematic. When you find yourself using a reference type data member, you&#39;ll often be better off using a pointer instead."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 1, "creation_date": 1569422096, "post_id": 58100475, "comment_id": 102593333, "body": "I recommend you add a virtual dtor to the base class, and then use the <code>override</code> keyword on <code>foo</code> in the derived class."}], "answers": [{"comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1569421163, "post_id": 58100539, "comment_id": 102592765, "body": "I tried that and the compiler always wants to use this and complains that it is deleted."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 4, "creation_date": 1569421358, "post_id": 58100539, "comment_id": 102592862, "body": "Deleting the copy constructor does not remove it from overload resolution. You&#39;re right about the source of the issue, but the resolution is not correct."}, {"owner": {"reputation": 156300, "user_id": 1782465, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b45d92faaf9d122bfed585490e0bafc5?s=128&d=identicon&r=PG", "display_name": "Angew is no longer proud of SO", "link": "https://stackoverflow.com/users/1782465/angew-is-no-longer-proud-of-so"}, "edited": false, "score": 2, "creation_date": 1569421668, "post_id": 58100539, "comment_id": 102593066, "body": "Once you add the casts, you don&#39;t need to delete the copy ctor (except as indication that you should have cast)."}, {"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1569421735, "post_id": 58100539, "comment_id": 102593115, "body": "Yes, this answer works. Is there another solution which works with the original code?"}, {"owner": {"reputation": 4756, "user_id": 1364149, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y25ip.jpg?s=128&g=1", "display_name": "Shloim", "link": "https://stackoverflow.com/users/1364149/shloim"}, "edited": false, "score": 1, "creation_date": 1569421903, "post_id": 58100539, "comment_id": 102593210, "body": "Yeah, template the ctor: <code>template&lt;typename T&gt; Concrete(T&amp; f): fwd(f) {}</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1569422142, "post_id": 58100539, "comment_id": 102593367, "body": "Do note that the template constructor is not a copy constructor and you still need to delete the copy constructor in order to stop actual copies."}], "tags": [], "owner": {"reputation": 4756, "user_id": 1364149, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/Y25ip.jpg?s=128&g=1", "display_name": "Shloim", "link": "https://stackoverflow.com/users/1364149/shloim"}, "is_accepted": false, "score": 4, "last_activity_date": 1569421970, "last_edit_date": 1569421970, "creation_date": 1569421103, "answer_id": 58100539, "question_id": 58100475, "link": "https://stackoverflow.com/questions/58100475/concrete-class-not-being-constructed/58100539#58100539", "title": "Concrete class not being constructed", "body": "<p>You have an implicit copy constructor you need to get rid of:</p>\n\n<pre><code>Concrete(const Concrete&amp; c) = delete;\n</code></pre>\n\n<p>and you'll have to cast your <code>c1</code> and <code>c2</code></p>\n\n<pre><code>Concrete c1(Base::getHeadInstance());\nConcrete c2((Base&amp;)c1);\nConcrete c3((Base&amp;)c2);\n</code></pre>\n\n<p>Your other option is to template the constructor:</p>\n\n<pre><code>template&lt;typename T&gt;\nConcrete(T&amp; f): fwd(f) {}\n</code></pre>\n\n<p>and then your original code would work (Yay!).</p>\n\n<pre><code>Concrete c1(Base::getHeadInstance());\nConcrete c2(c1);\nConcrete c3(c2);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 4, "creation_date": 1569422014, "post_id": 58100829, "comment_id": 102593279, "body": "This is more or less abusing the copy constructor for not copying objects... I would strongly advise against that."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 1, "creation_date": 1569422229, "post_id": 58100829, "comment_id": 102593419, "body": "@MaxLanghof Depends on what <code>Concrete</code> is intended to represent. It&#39;s already not assignable or moveable in the usual sense, so good old fashion value semantics are already out of the question. No matter what it won&#39;t be intuitive to use."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1569424485, "post_id": 58100829, "comment_id": 102594778, "body": "@Fran&#231;oisAndrieux I would argue that &quot;not having value/move&quot; semantics is significantly more common and benign than &quot;copy constructor does not actually copy&quot;. But the latter still has its uses occasionally, so in the end it&#39;s up to good engineering judgement."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 3, "last_activity_date": 1569421947, "creation_date": 1569421947, "answer_id": 58100829, "question_id": 58100475, "link": "https://stackoverflow.com/questions/58100475/concrete-class-not-being-constructed/58100829#58100829", "title": "Concrete class not being constructed", "body": "<p>You just need to provide you own copy constructor that does what you want.  Adding</p>\n\n<pre><code>Concrete(Concrete&amp; c): fwd(c) {}\n</code></pre>\n\n<p>Will then make</p>\n\n<pre><code>Concrete c1(Base::getHeadInstance());\nConcrete c2(c1);\nConcrete c3(c2);\n</code></pre>\n\n<p>have <code>c1.fwd == Base::getHeadInstance()</code>, <code>c2.fwd == c1</code>, and <code>c3.fwd == c2</code></p>\n"}, {"comments": [{"owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "edited": false, "score": 0, "creation_date": 1569423333, "post_id": 58101095, "comment_id": 102594082, "body": "I&#39;ve marked this answer as correct because it explains that the compiler is choosing to write and then use its own copy constructor over the constructor I have provided. In my own code I&#39;ve chosen to <code>delete</code> the copy ctor as suggested here and use a template ctor as suggested by @Shloim."}], "tags": [], "owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "is_accepted": true, "score": 5, "last_activity_date": 1569422742, "creation_date": 1569422742, "answer_id": 58101095, "question_id": 58100475, "link": "https://stackoverflow.com/questions/58100475/concrete-class-not-being-constructed/58101095#58101095", "title": "Concrete class not being constructed", "body": "<p>I've had this same problem before. It boils down to overload resolution on your custom constructor <code>Derived(Base&amp;)</code> vs the implicitly defined copy constructor <code>Derived(const Derived&amp;);</code>, where the implicit copy constructor simply wins. Deleting it does not fix this, it still participates in overload resolution (but it does stop the wrong thing from happening silently).</p>\n\n<p>Here is a reduced example:</p>\n\n<pre><code>struct Base\n{\n    virtual ~Base();\n};\n\nstruct Derived : Base\n{\n    Derived(Base&amp;);\n    Derived(const Derived&amp;); // Implicitly or explicitly declared in any case.\n};\n\nDerived getDerived();\n\nvoid test()\n{\n    Derived d1 = getDerived();\n    Derived d2(d1); // copies\n}\n</code></pre>\n\n<p><a href=\"https://godbolt.org/z/aoJFlC\" rel=\"noreferrer\">https://godbolt.org/z/aoJFlC</a></p>\n\n<p>There are several ways to get the code to do what you want the way you've written it (see other answers), but I would like to point out that you should take special care to save the next reader of your code from this same confusion you had. A cast to <code>Base&amp;</code>, repurposed copy constructor semantics or something like using <code>Derived(Base*);</code> will all raise questions in future readers. You can try to solve that through documentation, but chances are somebody misses that and becomes confused. I would suggest making the intent as explicit and visible as possible, for example like this:</p>\n\n<pre><code>enum class ConstructFromBase { Tag };\n\nstruct Derived : Base\n{\n    Derived(Base&amp;, ConstructFromBase);\n    Derived(const Derived&amp;) = delete;\n};\n\nDerived getDerived();\n\nvoid test()\n{\n    Derived d1 = getDerived();\n    Derived d2(d1, ConstructFromBase::Tag);\n}\n</code></pre>\n\n<p><a href=\"https://godbolt.org/z/QfeuAM\" rel=\"noreferrer\">https://godbolt.org/z/QfeuAM</a></p>\n\n<p>That should communicate the intent very clearly and costs virtually nothing. (There are many other ways to write and name such a tag, mine is probably not the most canonical...)</p>\n"}, {"comments": [{"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569423662, "post_id": 58101316, "comment_id": 102594295, "body": "This is the option I went with when I ran into this problem (which is why I had it mentioned in my answer :D). It is a compromise between &quot;keep it non-verbose at the call site&quot; and &quot;it won&#39;t require intricate knowledge to understand why this works&quot; (whereas determining what happens for the &quot;isomorphic&quot; answers is difficult)."}], "tags": [], "owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "is_accepted": false, "score": 1, "last_activity_date": 1569423442, "creation_date": 1569423442, "answer_id": 58101316, "question_id": 58100475, "link": "https://stackoverflow.com/questions/58100475/concrete-class-not-being-constructed/58101316#58101316", "title": "Concrete class not being constructed", "body": "<p>Another possible solution is to avoid using <em>references</em>; even if I admit it is not isomorphic.</p>\n\n<pre><code>class Concrete : public Base {\n public:\n  explicit Concrete(Base* f) : fwd(*f) {\n    // possibly you want to assert precondition? assert(f)?\n  }\n\n private:\n  Base&amp; fwd;  // I would prefer Base* here...\n};\n</code></pre>\n\n<p>In that way, you don't risk to call the <em>implicit copy constructor</em> of <code>Concrete</code>; without override o delete anything.</p>\n\n<pre><code>Concrete c1(&amp;Base::getHeadInstance());\nConcrete c2(&amp;c1);\nConcrete c3(&amp;c2);\n</code></pre>\n"}], "owner": {"reputation": 26796, "user_id": 4834, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/6a04e124482c3750617f8dacde3388ce?s=128&d=identicon&r=PG", "display_name": "quamrana", "link": "https://stackoverflow.com/users/4834/quamrana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 58101095, "answer_count": 4, "score": 1, "last_activity_date": 1569423442, "creation_date": 1569420855, "last_edit_date": 1569422285, "question_id": 58100475, "link": "https://stackoverflow.com/questions/58100475/concrete-class-not-being-constructed", "title": "Concrete class not being constructed", "body": "<p>I have a class hierarchy like this:</p>\n\n<pre><code>class Base {\npublic:\n    virtual bool foo() const = 0;\n    static Base&amp; getHeadInstance();\n};\n\nclass Concrete: public Base {\npublic:\n    explicit Concrete(Base&amp; f): fwd(f) {}\n\n    // ... other member functions elided\n    bool foo() const override { return /* some calculation */ &amp;&amp; fwd.foo(); }\nprivate:\n    Base&amp; fwd;\n};\n</code></pre>\n\n<p>so that I can construct a series of instances like this:</p>\n\n<pre><code>Concrete c1(Base::getHeadInstance());\nConcrete c2(c1);\nConcrete c3(c2);\n</code></pre>\n\n<p>so that <code>c3</code> can make decisions and possibly defer to <code>c2</code>, which in turn could defer to <code>c1</code> and so on like the <code>Chain of Responsibility</code> pattern.</p>\n\n<p>The problem is that <code>c2</code> and <code>c3</code> are not constructed correctly and their <code>fwd</code> member always refers to <code>Base::getHeadInstance()</code>.</p>\n\n<p>What is going wrong here and what is the fix for this?</p>\n\n<p><em>Update:</em></p>\n\n<p>It doesn't matter what the static member returns. Pretend it returns an instance of this:</p>\n\n<pre><code>class Head: public Base {\npublic:\n    Head() = default;\nprivate:\n    bool foo() const override { return true; }\n};\nBase&amp; Base::getHeadInstance(){ static Head head; return head; }\n</code></pre>\n"}, {"tags": ["c++", "directx-11", "direct3d11", "warp"], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 2871778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825e6eb011a9ff40db99ae9fad919c80?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2871778/ben"}, "edited": false, "score": 0, "creation_date": 1569535835, "post_id": 58121039, "comment_id": 102639000, "body": "Thank you for the suggestion, I have looked into that.  One of the two Win10 machines I tested does indeed have &quot;Graphics Tools&quot; installed, and it still loads WARP instead of the reference rasterizer.  I installed &quot;Graphics Tools&quot; to see if I can get any better output by passing the D3D11_CREATE_DEVICE_DEBUG flag into D3D11CreateDevice.  I will update my question with any additional info I find."}], "tags": [], "owner": {"reputation": 28528, "user_id": 3780494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqia1.jpg?s=128&g=1", "display_name": "Chuck Walbourn", "link": "https://stackoverflow.com/users/3780494/chuck-walbourn"}, "is_accepted": false, "score": 0, "last_activity_date": 1569515026, "creation_date": 1569515026, "answer_id": 58121039, "question_id": 58100464, "link": "https://stackoverflow.com/questions/58100464/d3d11-reference-rasterizer-vs-warp/58121039#58121039", "title": "D3D11: Reference Rasterizer vs WARP", "body": "<p>The problem is that you haven't enabled the Windows 10 optional feature \"Graphics Tools\" on that system. That is how you install the DirectX 11/12 Debug Runtime on Windows 10 including Direct3D 11's reference device, WARP for DirectX 12, the DirectX SDK debug layer for DX11/DX12, etc.</p>\n\n<blockquote>\n  <p>WARP for DirectX 11 is available on all systems, not just those with the \"Graphics Tools\" feature. Generally speaking, most people have switched to using WARP instead of the software reference driver since it is a lot faster. If you are having crashes under WARP, you should investigate the source of those crashes by enabling the DEBUG device.</p>\n</blockquote>\n\n<p>See <a href=\"https://devblogs.microsoft.com/cppblog/visual-studio-2015-and-graphics-tools-for-windows-10/\" rel=\"nofollow noreferrer\">this blog post</a>.</p>\n"}], "owner": {"reputation": 369, "user_id": 2871778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/825e6eb011a9ff40db99ae9fad919c80?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/2871778/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1569941534, "creation_date": 1569420818, "last_edit_date": 1569941534, "question_id": 58100464, "link": "https://stackoverflow.com/questions/58100464/d3d11-reference-rasterizer-vs-warp", "title": "D3D11: Reference Rasterizer vs WARP", "body": "<p>I have a test for a pixel shader that does some rendering and compares the result to a reference image to verify that the shader produces an expected output.  When this test is run on a CI machine, it is on a VM without a GPU, so I call D3D11CreateDevice with D3D_DRIVER_TYPE_REFERENCE to use the reference rasterizer.  We have been doing this for years without issue on a Windows 7 VM.</p>\n\n<p>We are now trying to move to a Windows 10 VM for our CI tests.  When I run the test here, various API calls start failing after some number of successful tests (on the order of 5000-10000) with DXGI_ERROR_DEVICE_REMOVED, and calling GetDeviceRemovedReason returns DXGI_ERROR_DRIVER_INTERNAL_ERROR.  After some debugging I've found that the failure originates during a call to ID3D11DeviceContext::PSSetShader (yes, this returns void, but I found this via a breakpoint in KernelBase.dll!RaiseException).  This call looks exactly like the thousands of previous calls to PSSetShader as far as I can tell.  It doesn't appear to be a resource issue, the process is only using 8MB of memory when the error occurs, and the handle count is not growing.</p>\n\n<p>I can reproduce the issue on multiple Win10 systems, and it succeeds on multiple Win7 systems.  The big difference between the two is that on Win7, the API calls are going through d3d11ref.dll, and on Win10 they are going through d3d10warp.dll.  I am not really familiar with what the differences are or why one or the other would be chosen, and MSDN's documentation is quite opaque on the subject.  I know that both d3d11ref.dll and d3d10warp.dll are both present on both failing and passing systems; I don't know what the logic is for one or the other being loaded for the same set of calls, or why the d3d10warp library fails.</p>\n\n<p>So, can someone explain the difference between the two, and/or suggest how I could get d3d11ref.dll to load in Windows 10?  As far as I can tell it is a bug in d3d10warp.dll and for now I would just like to side-step it.</p>\n\n<p>In case it matters, I am calling D3D11CreateDevice with the desired feature level set to D3D_FEATURE_LEVEL_11_0, and I verify that the same level is returned as acheived.  I am passing 0 for creationFlags, and my D3D11_SDK_VERSION is defined as 7 in d3d11.h.  Below is the call stack above PSSetShader when the failure occurs.  This seems to be the first call that fails, and every call after it with a return code also fails.</p>\n\n<pre><code>KernelBase.dll!RaiseException()\nKernelBase.dll!OutputDebugStringA()\nd3d11.dll!CDevice::RemoveDevice(long)\nd3d11.dll!NDXGI::CDevice::RemoveDevice()\nd3d11.dll!CContext::UMSetError_()\nd3d10warp.dll!UMDevice::MSCB_SetError(long,enum UMDevice::DDI_TYPE)\nd3d10warp.dll!UMContext::SetShaderWithInterfaces(enum PIXELJIT_SHADER_STAGE,struct D3D10DDI_HSHADER,unsigned int,unsigned int const *,struct D3D11DDIARG_POINTERDATA const *)\nd3d10warp.dll!UMDevice::PsSetShaderWithInterfaces(struct D3D10DDI_HDEVICE,struct D3D10DDI_HSHADER,unsigned int,unsigned int const *,struct D3D11DDIARG_POINTERDATA const *)\nd3d11.dll!CContext::TID3D11DeviceContext_SetShaderWithInterfaces_&lt;1,4&gt;(class CContext *,struct ID3D11PixelShader *,struct ID3D11ClassInstance * const *,unsigned int)\nd3d11.dll!CContext::TID3D11DeviceContext_SetShader_&lt;1,4&gt;()\nMyTest.exe!MyFunctionThatCallsPSSetShader()\n</code></pre>\n\n<p><strong>Update:</strong> With the D3D Debug layers enabled, I get the following additional output when the error occurs:</p>\n\n<pre><code>D3D11: Removing Device.\nD3D11 WARNING: ID3D11Device::RemoveDevice: Device removal has been triggered for the following reason (DXGI_ERROR_DRIVER_INTERNAL_ERROR: There is strong evidence that the driver has performed an undefined operation; but it may be because the application performed an illegal or undefined operation to begin with.). [ EXECUTION WARNING #379: DEVICE_REMOVAL_PROCESS_POSSIBLY_AT_FAULT]\nD3D11 ERROR: ID3D11DeviceContext::Map: Returning DXGI_ERROR_DEVICE_REMOVED, when a Resource was trying to be mapped with READ or READWRITE. [ RESOURCE_MANIPULATION ERROR #2097214: RESOURCE_MAP_DEVICEREMOVED_RETURN]\n</code></pre>\n\n<p>The third line about the call to Map happens after my test fails to notice and handle the device removed and later tries to map a texture, so I don't think that's related.  The other is about what I expected; there's an error in the driver, and possibly my test is doing something bad to cause it.  I still don't know what that might be, or why it worked in Windows 7.</p>\n\n<p><strong>Update 2:</strong> I have found that if I run my tests on Windows 10 in Windows 7 compatibility mode, there is no device removed error and all of my tests pass.  It is still using d3d10warp.dll instead of d3d11ref.dll, so that wasn't exactly the problem.  I'm not sure how to investigate \"what am I doing that's incompatible with Windows 10 or its WARP device\"; this might need to be a Microsoft support ticket.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1569421856, "post_id": 58100360, "comment_id": 102593186, "body": "Maybe <code>std::is_copy_assignable&lt;decltype(&amp;ok_fun), RequiredSignature&lt;int&gt;*&gt;</code> ?"}, {"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 1, "creation_date": 1569421974, "post_id": 58100360, "comment_id": 102593249, "body": "But have you tried simply changing the line in question to <code>required_sig* rfp; &#47;* defines a function pointer *&#47;</code> ?"}, {"owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1569422854, "post_id": 58100360, "comment_id": 102593791, "body": "@BenVoigt all good ideas are simple ... let me try .."}, {"owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1569423439, "post_id": 58100360, "comment_id": 102594151, "body": "@BenVoigt and it worketh. Too obvious to notice. Thanks."}, {"owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "reply_to_user": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1569423607, "post_id": 58100360, "comment_id": 102594254, "body": "@BenVoigt the other solution I figured is to use <code>std::common_type&lt; signature, decltype(fp)&gt; </code> ... but that requires a little SFINAE number to return true if <code>::type</code> is there .. this is simpler."}], "answers": [{"comments": [{"owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "edited": false, "score": 0, "creation_date": 1569424095, "post_id": 58101480, "comment_id": 102594559, "body": "I think you&#39;d be better off with an explicit template parameter for the &quot;required signature&quot;, usage would look like <code>fp_matches_fp&lt;required_sig&gt;(ok_fun)</code>.  Then you don&#39;t need the dummy variable or dummy function argument."}], "tags": [], "owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485671, "last_edit_date": 1569485671, "creation_date": 1569423948, "answer_id": 58101480, "question_id": 58100360, "link": "https://stackoverflow.com/questions/58100360/how-to-create-a-function-pointer-having-a-function-signature-possibly-at-compil/58101480#58101480", "title": "How to create a function pointer having a function signature, possibly at compile time", "body": "<h1>1</h1>\n\n<p>The solution is (of course) to 1. define and 2. initialize the function pointer from the given function signature. </p>\n\n<pre><code>    using required_sig = RequiredSignature&lt;int&gt;;\n    /*\n      actually define and initialize the required FP\n     */\n    required_sig* rfp{};\n\n    if (inner::fp_matches_fp(rfp, ok_fun))\n    {\n        // ... MATCH ...\n    }\n</code></pre>\n\n<p>Too obvious really, thanks Ben Voight.</p>\n"}, {"comments": [{"owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "edited": false, "score": 0, "creation_date": 1569424459, "post_id": 58101583, "comment_id": 102594762, "body": "You beat me to it :)"}], "tags": [], "owner": {"reputation": 260120, "user_id": 103167, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Ben Voigt", "link": "https://stackoverflow.com/users/103167/ben-voigt"}, "is_accepted": true, "score": 1, "last_activity_date": 1569424464, "last_edit_date": 1569424464, "creation_date": 1569424263, "answer_id": 58101583, "question_id": 58100360, "link": "https://stackoverflow.com/questions/58100360/how-to-create-a-function-pointer-having-a-function-signature-possibly-at-compil/58101583#58101583", "title": "How to create a function pointer having a function signature, possibly at compile time", "body": "<p>The better solution is not to use template parameter deduction plus a dummy parameter, when you mean to control the type.  Just pass the type to the template parameter that wants it...</p>\n\n<pre><code>template&lt;typename T, typename U&gt;\nconstexpr inline bool fp_matches_fp(U y)\n{\n    T* x{};\n    return (sizeof(is_same_helper(x, y))) == (sizeof(yes));\n}\n</code></pre>\n\n<p>You use it like</p>\n\n<pre><code>fp_matches_fp&lt;required_sig&gt;(ok_fun)\n</code></pre>\n\n<p>The caller doesn't have to create a dummy function pointer, the type trait takes care of it.  But we don't need the dummy function pointer at all...</p>\n\n<pre><code>template&lt;typename T&gt;\nyes&amp; is_compatible_helper(T*);  //no need to define it now!\n\ntemplate&lt;typename T&gt;\nno&amp; is_compatible_helper(...); //no definition needed!\n\ntemplate&lt;typename T, typename U&gt;\nconstexpr inline bool fp_matches_fp(U y)\n{\n    return (sizeof(is_compatible_helper&lt;T&gt;(y))) == (sizeof(yes));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "is_accepted": false, "score": 0, "last_activity_date": 1569485648, "last_edit_date": 1569485648, "creation_date": 1569424806, "answer_id": 58101740, "question_id": 58100360, "link": "https://stackoverflow.com/questions/58100360/how-to-create-a-function-pointer-having-a-function-signature-possibly-at-compil/58101740#58101740", "title": "How to create a function pointer having a function signature, possibly at compile time", "body": "<h1>2</h1>\n\n<p>I am adding this as \"another\" answer so that each one is clearer. </p>\n\n<pre><code>    // https://stackoverflow.com/a/18682805/10870835\ntemplate&lt;typename T&gt;\nclass has_type\n{\n    typedef struct { char c[1]; } yes;\n    typedef struct { char c[2]; } no;\n\n    template&lt;typename U&gt; static constexpr yes test(typename U::type);\n    template&lt;typename U&gt; static constexpr no  test(...);\n\npublic:\n    static constexpr bool result = sizeof(test&lt;T&gt;(nullptr)) == sizeof(yes);\n};\n\ntemplate&lt;typename SIG, typename FP &gt;\nconstexpr bool signature_fp_match(FP)\n{\n    using c_t = common_type&lt; SIG, FP &gt;;\n    if (has_type&lt;c_t&gt;::result) return true;\n    return false;\n}\n\n// usage\n template&lt;typename T, typename ... A&gt;\nusing RequiredSignature = bool(T&amp;, A ... a);\n\n  bool ok_fun(int&amp; ) { return true; }\n\n  static_assert( signature_fp_match&lt;RequiredSignature&lt;int&gt; &gt;(ok_fun) ) ;\n</code></pre>\n\n<p>It is just, I thought the previous one is (much) simpler.</p>\n"}, {"tags": [], "owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "is_accepted": false, "score": 0, "last_activity_date": 1569486746, "last_edit_date": 1569486746, "creation_date": 1569485549, "answer_id": 58112336, "question_id": 58100360, "link": "https://stackoverflow.com/questions/58100360/how-to-create-a-function-pointer-having-a-function-signature-possibly-at-compil/58112336#58112336", "title": "How to create a function pointer having a function signature, possibly at compile time", "body": "<h1>3</h1>\n\n<p>Vote me down if you have too, but here is answer number 3 :) I might remove one of the previous two but having them all 3 + Bens concept &amp; answer, gives nice chronological view.</p>\n\n<p>As in my second answer, I am using <code>std::common_type</code>. This variant is just more modern and cleaner.</p>\n\n<pre><code>    template&lt; class, class = void_t&lt;&gt; &gt;\nstruct\n    has_type : false_type { };\n\ntemplate&lt; class T &gt;\nstruct\n    has_type&lt;T, void_t&lt;decltype(declval&lt;T::type&gt;())&gt;&gt; : true_type { };\n\ntemplate&lt;typename SIG, typename FP &gt;\nconstexpr inline bool signature_fp_match(FP)\n{\n    using c_t = common_type&lt; SIG, FP &gt;;\n\n    return has_type&lt;c_t&gt;{}();\n}\n</code></pre>\n\n<p>Here is the usage</p>\n\n<pre><code>    template&lt;typename T, typename ... A&gt;\n      using RequiredSignature = bool(T&amp;, A ... a);\n\nbool ok_fun(int&amp; ) { return true; }\n\nstatic_assert( signature_fp_match&lt; RequiredSignature&lt;int&gt; &gt;(ok_fun) );\n</code></pre>\n\n<p>Or the less snazzy variation:</p>\n\n<pre><code>static_assert( signature_fp_match&lt; bool(int&amp;) &gt;(ok_fun) );\n</code></pre>\n\n<p>For a more generic utility rename <code>signature_fp_match</code> to <code>have_common_type</code> or whatever you fancy. </p>\n"}], "owner": {"reputation": 659, "user_id": 10870835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IlVhK.png?s=128&g=1", "display_name": "Chef Gladiator", "link": "https://stackoverflow.com/users/10870835/chef-gladiator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 58101583, "answer_count": 4, "score": 1, "last_activity_date": 1569563827, "creation_date": 1569420558, "last_edit_date": 1569563827, "question_id": 58100360, "link": "https://stackoverflow.com/questions/58100360/how-to-create-a-function-pointer-having-a-function-signature-possibly-at-compil", "title": "How to create a function pointer having a function signature, possibly at compile time", "body": "<p>I do know about <a href=\"https://stackoverflow.com/questions/14541519/is-it-possible-to-write-c-template-macros-to-check-whether-two-functions-have\">this</a>.</p>\n\n<p>But, I do not have two functions to compare, I have a function signature and a function pointer</p>\n\n<pre><code>template&lt;typename T, typename ... A&gt;\nusing RequiredSignature = bool(T&amp;, A ... a);\n\ntemplate&lt;typename T, typename ... A&gt;\nusing RequiredFP = bool(*)(T&amp;, A ... a);\n</code></pre>\n\n<p>Question: How do I make sure function pointer, I have received  does confirm to the required signature? At compile time.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1327, "user_id": 2990896, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/hSkaq.jpg?s=128&g=1", "display_name": "cplusplusrat", "link": "https://stackoverflow.com/users/2990896/cplusplusrat"}, "edited": false, "score": 0, "creation_date": 1569420707, "post_id": 58100333, "comment_id": 102592489, "body": "Just substitute <code>someType</code> with <code>std::function</code>."}, {"owner": {"reputation": 77, "user_id": 10998581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F7dOJ1JNsHg/AAAAAAAAAAI/AAAAAAAABcw/B9pDlafCZq8/photo.jpg?sz=128", "display_name": "Stefano Rossotti", "link": "https://stackoverflow.com/users/10998581/stefano-rossotti"}, "reply_to_user": {"reputation": 1327, "user_id": 2990896, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/hSkaq.jpg?s=128&g=1", "display_name": "cplusplusrat", "link": "https://stackoverflow.com/users/2990896/cplusplusrat"}, "edited": false, "score": 0, "creation_date": 1569421037, "post_id": 58100333, "comment_id": 102592694, "body": "I have tried but I get the error:   Reference to non-static member function must be called; did you mean to call it with no arguments?"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1569421605, "post_id": 58100333, "comment_id": 102593027, "body": "If you need to have a general solution (albeit heavier weight), <a href=\"https://www.boost.org/doc/libs/1_71_0/doc/html/signals2.html\" rel=\"nofollow noreferrer\">Boost Signals2</a> may be an option."}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 10998581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F7dOJ1JNsHg/AAAAAAAAAAI/AAAAAAAABcw/B9pDlafCZq8/photo.jpg?sz=128", "display_name": "Stefano Rossotti", "link": "https://stackoverflow.com/users/10998581/stefano-rossotti"}, "edited": false, "score": 0, "creation_date": 1569429716, "post_id": 58100644, "comment_id": 102597350, "body": "Thank you! it was so simple!"}], "tags": [], "owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "is_accepted": true, "score": 1, "last_activity_date": 1569421424, "creation_date": 1569421424, "answer_id": 58100644, "question_id": 58100333, "link": "https://stackoverflow.com/questions/58100333/c-pass-class-member-function-to-other-class/58100644#58100644", "title": "C++ Pass class member function to other class", "body": "<p>Replace someType with <code>std::function&lt;void()&gt;</code>, and in <code>wrapper</code>'s constructor, give the trigger a lambda that calls the appropriate method :</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>// in class trigger\nvoid set_callback(std::function&lt;void()&gt; f) {\n    _f = f;\n}\n\n// in class wrapper\nwrapper() {\n    _t.set_callback([this](){ some_function(); });\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 77, "user_id": 10998581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F7dOJ1JNsHg/AAAAAAAAAAI/AAAAAAAABcw/B9pDlafCZq8/photo.jpg?sz=128", "display_name": "Stefano Rossotti", "link": "https://stackoverflow.com/users/10998581/stefano-rossotti"}, "edited": false, "score": 0, "creation_date": 1569429732, "post_id": 58100933, "comment_id": 102597356, "body": "Thank you for the full explanation!"}], "tags": [], "owner": {"reputation": 152528, "user_id": 981959, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04798ba8ef6591a9c23c5868dc0bf664?s=128&d=identicon&r=PG", "display_name": "Jonathan Wakely", "link": "https://stackoverflow.com/users/981959/jonathan-wakely"}, "is_accepted": false, "score": 3, "last_activity_date": 1569422299, "creation_date": 1569422299, "answer_id": 58100933, "question_id": 58100333, "link": "https://stackoverflow.com/questions/58100333/c-pass-class-member-function-to-other-class/58100933#58100933", "title": "C++ Pass class member function to other class", "body": "<p>The syntax to refer to a member function is <code>&amp;wrapper::some_function</code>. That creates a pointer to the member function, which can be passed to another function and stored. Its type will be <code>void (wrapper::*)()</code> and to call that function you have to have an object of type <code>wrapper</code> (you can't just call a member function on thin air, you need an object). So to pass that to the trigger class you'd <em>also</em> need to pass a <code>wrapper*</code> on which the function can be called. Given a pointer <code>p</code> of type <code>wrapper*</code> and a pointer to member <code>m</code> of type <code>void (wrapper::*)()</code> you would call it as <code>(p-&gt;*m)()</code> which is one of the ugliest and hardest to remember forms of C++ syntax.</p>\n\n<p>Alternatively, you can use a lambda expression to create a closure object that captures the object and calls the member function:</p>\n\n<pre><code>set_callback( [this] { this-&gt;some_function(); } );\n</code></pre>\n\n<p>To store that closure object in a member variable you'll need to use a <code>std::function&lt;void()&gt;</code> which can store any callable object that can be called with no arguments.</p>\n\n<p>So change the function parameter and member from <code>someType</code> to <code>std::function&lt;void()&gt;</code> and then use a lambda expression when calling <code>set_callback</code>. Then you can just call that as <code>_f()</code> as in your current code.</p>\n"}], "owner": {"reputation": 77, "user_id": 10998581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-F7dOJ1JNsHg/AAAAAAAAAAI/AAAAAAAABcw/B9pDlafCZq8/photo.jpg?sz=128", "display_name": "Stefano Rossotti", "link": "https://stackoverflow.com/users/10998581/stefano-rossotti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58100644, "answer_count": 2, "score": 0, "last_activity_date": 1569422299, "creation_date": 1569420474, "question_id": 58100333, "link": "https://stackoverflow.com/questions/58100333/c-pass-class-member-function-to-other-class", "title": "C++ Pass class member function to other class", "body": "<p>I have a class <code>wrapper</code> which holds an intance of the class <code>trigger</code>. I want to pass a member function of <code>wrapper</code> to <code>trigger</code> so that, on some event <code>trigger</code> can call such function, having effect on the instance of <code>wrapper</code>. It is possible to do that?</p>\n\n<p>My idea of code is something like this:</p>\n\n<pre><code>class trigger {\npublic:\n    trigger(int trigger_thr): _trigger_thr(trigger_thr){};\n    trigger &amp;operator+=(int v) {\n        _trigger_value += v;\n        check_trigger();\n        return *this;\n    }\n\n    void set_callback(someType f){\n        _f = f;\n    }\n\nprivate:\n    int _trigger_value;\n    int _trigger_thr;\n\n    someType _f;\n\n    void check_trigger() {\n        if (_trigger_value &gt;= _trigger_thr)\n            _f();\n    }\n};\n\nclass wrapper {\npublic:\n    wrapper() {\n        _t.set_callback(someType some_function)\n    }\n\nprivate:\n    void some_function() {/* do something */}\n\nprivate:\n    trigger _t;\n}\n</code></pre>\n"}, {"tags": ["c++", "recursion", "stack"], "comments": [{"owner": {"reputation": 142, "user_id": 5434880, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1158fafb65df46d3be852d84417f1e94?s=128&d=identicon&r=PG&f=1", "display_name": "piepi", "link": "https://stackoverflow.com/users/5434880/piepi"}, "edited": false, "score": 0, "creation_date": 1569420545, "post_id": 58100320, "comment_id": 102592408, "body": "Recurse, go upto that nth element and push everything back from the call stack."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569422778, "post_id": 58100320, "comment_id": 102593748, "body": "A <code>stack</code> is the wrong data structure for this. You need to have another data structure to store the elements you <code>pop</code> as you dig into it to find the one you want. Use a sequential container with random access like <code>vector</code> to avoid this problem."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569423320, "post_id": 58100320, "comment_id": 102594074, "body": "<code>std::stack</code> technically exposes it&#39;s underlying container but it is <code>protected</code>. Possible duplicate of <a href=\"https://stackoverflow.com/questions/13428618/trying-to-access-an-index-of-an-stdstack\">Trying to access an index of an std::stack</a>."}], "answers": [{"comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569422661, "post_id": 58100414, "comment_id": 102593684, "body": "But technically, since you are using the call stack to store popped elements as a &quot;helper stack&quot; it violates the &quot;without using a helper stack&quot; requirement. This answer just makes it less obvious that this requirement is violated by avoiding declaring a <code>stack</code> object explicitly."}, {"owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569423096, "post_id": 58100414, "comment_id": 102593922, "body": "@Fran&#231;oisAndrieux Yeah, more or less what I&#39;ve written in my last point. You <b>need</b> the <i>memory stack</i>. The OP&#39;s constraint states <i>&quot;data structure&quot;</i>, so I assumed &quot;explicit&quot; stack. Also because it is very easily demonstrable, this problem cannot be solved without memory. So the other way around wouldn&#39;t make sense."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569423501, "post_id": 58100414, "comment_id": 102594183, "body": "Conceptually, that is true. But in practice, for reasons that nobody has been able to explain to me, the C++ implementation provides access to the underlying container but it&#39;s <code>protected</code>. See the <code>c</code> member for <a href=\"https://en.cppreference.com/w/cpp/container/stack\" rel=\"nofollow noreferrer\"><code>std::stack</code></a>. Using this <i>requires</i> that you inherit from <code>std::stack</code>. So it makes it questionable if this is applicable to a question about <code>std::stack</code> in general. Same thing for <code>std::queue</code>."}, {"owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569424086, "post_id": 58100414, "comment_id": 102594555, "body": "@Fran&#231;oisAndrieux I don&#39;t completely get your point. Indeed, your &quot;solution&quot; (that is, to hack the data structure) is not general (and pretty dirty, IMHO). My assumption is regarding the proper definition of a stack, as defined in whatever computer science book. Despite the fact, my example snippet is implemented with <code>std::stack</code> just for the sake of simplicity. If you access <code>c</code> you are actually using a <code>std::vector</code>(not a stack data structure) ..."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569424694, "post_id": 58100414, "comment_id": 102594912, "body": "The only point I want to make is that, from a practical stand point you <i>can</i> solve this with constant memory for certain use cases. The mechanisms are ugly but well defined and provided by the standard for this purpose. Though I don&#39;t understand why they chose to provide this, much less why they decided to provide it the way they did. And I <i>did</i> start by saying that you are conceptually correct (with regards to the abstract concept of a stack, without regards to the implementation). Given an idiomatic stack, the solution you&#39;ve shown is probably the best you can get."}, {"owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569424839, "post_id": 58100414, "comment_id": 102595005, "body": "@Fran&#231;oisAndrieux thanks for explaining me your point again. Like you, I just pretend that part of the standard does not exist ;)"}], "tags": [], "owner": {"reputation": 8510, "user_id": 6040181, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh3.googleusercontent.com/-dQXdInUPrE0/AAAAAAAAAAI/AAAAAAAAAdg/_OLdfGWclsw/photo.jpg?sz=128", "display_name": "Biagio Festa", "link": "https://stackoverflow.com/users/6040181/biagio-festa"}, "is_accepted": true, "score": 0, "last_activity_date": 1569421493, "last_edit_date": 1569421493, "creation_date": 1569420680, "answer_id": 58100414, "question_id": 58100320, "link": "https://stackoverflow.com/questions/58100320/getnth-item-in-a-stack/58100414#58100414", "title": "getNth() item in a stack", "body": "<p>Your solution is pretty much ok. Just need to save the top element (that you are going to <code>pop</code>) and restore it after recursion.</p>\n\n<pre><code>template &lt;typename Type&gt;\nType getNth(std::stack&lt;Type&gt;&amp; s, int n) {\n  if (n == 1) {\n    return s.top();\n  } else {\n    auto temp = std::move(s.top());\n    s.pop();\n    const auto rtn = getNth(s, n - 1);\n    s.push(std::move(temp));\n    return rtn;\n  }\n}\n</code></pre>\n\n<p>Of course, you will lose the \"<em>tail-recursion</em>\" property, because you actually need the \"memory stack\" avoiding to explicitly allocate one.</p>\n\n<p><a href=\"https://godbolt.org/z/ThSviP\" rel=\"nofollow noreferrer\">Live example here</a></p>\n"}], "owner": {"reputation": 15, "user_id": 12058694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3cef928cd27fd3134dce50723054a90?s=128&d=identicon&r=PG&f=1", "display_name": "skepesh", "link": "https://stackoverflow.com/users/12058694/skepesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "accepted_answer_id": 58100414, "answer_count": 1, "score": 1, "last_activity_date": 1569421493, "creation_date": 1569420420, "question_id": 58100320, "link": "https://stackoverflow.com/questions/58100320/getnth-item-in-a-stack", "title": "getNth() item in a stack", "body": "<p>I have to implement this function such that it returns the nth item from the stack without using a helper stack (or any other data structure) and still have the stack in its original state in the end, using recursion?</p>\n\n<p>I have managed to implement it but my solution does not leave the stack in its original state.</p>\n\n<pre><code>template &lt;class Type&gt;\nType getNth( stack&lt;Type&gt; &amp; s, int n)\n{\n    if(n == 1)\n    {\n        return s.top();\n    }\n    else\n    {   \n        s.pop();\n        return getNth(s, n - 1);\n    }\n }\n</code></pre>\n"}, {"tags": ["c++", "class", "enums", "field", "member"], "comments": [{"owner": {"reputation": 251, "user_id": 9913309, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FRKhTrsYHho/AAAAAAAAAAI/AAAAAAAAKL4/ng4XZJ7uU2k/photo.jpg?sz=128", "display_name": "SuperG280", "link": "https://stackoverflow.com/users/9913309/superg280"}, "edited": false, "score": 0, "creation_date": 1569420098, "post_id": 58100142, "comment_id": 102592110, "body": "You can write a public member function like getFieldSize() and return the sizeof."}], "answers": [{"comments": [{"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1569420671, "post_id": 58100200, "comment_id": 102592465, "body": "I&#39;d say that it is more usual for order of declarations to matter even within class. The exception is that member function definitions can refer to member declarations after them"}, {"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1569420777, "post_id": 58100200, "comment_id": 102592541, "body": "@eerorika: 6 of one and 1/2 dozen of the other methinks. Anyway I&#39;ve tinned &quot;unusual&quot;."}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1569421431, "post_id": 58100200, "comment_id": 102592911, "body": "Somedays, I wish C++ was a two-pass language."}], "tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 5, "last_activity_date": 1569420754, "last_edit_date": 1569420754, "creation_date": 1569420096, "answer_id": 58100200, "question_id": 58100142, "link": "https://stackoverflow.com/questions/58100142/can-i-assign-a-class-enum-based-on-a-private-protected-member/58100200#58100200", "title": "Can I assign a class enum based on a private/protected member?", "body": "<p>This is one of those instances where the order of what you have in your class matters: <code>myField</code> does not exist at the point <code>sizeof(myField)</code> is reached.</p>\n\n<p>A workaround is to have <code>uint8_t myField;</code> above the <code>enum</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 4, "last_activity_date": 1569420353, "creation_date": 1569420353, "answer_id": 58100288, "question_id": 58100142, "link": "https://stackoverflow.com/questions/58100142/can-i-assign-a-class-enum-based-on-a-private-protected-member/58100288#58100288", "title": "Can I assign a class enum based on a private/protected member?", "body": "<p>The name myField is not declared when it is used in the enum declaration. Exchange the data members declarations like</p>\n\n<pre><code>class MyObject\n{\n  protected:\n    uint8_t myField;\n  public:\n    enum\n    {\n        myFieldSize = sizeof(myField),\n    };\n};\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 8205387, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkeWS.jpg?s=128&g=1", "display_name": "mbowcutt", "link": "https://stackoverflow.com/users/8205387/mbowcutt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 58100200, "answer_count": 2, "score": 4, "last_activity_date": 1569420754, "creation_date": 1569419915, "question_id": 58100142, "link": "https://stackoverflow.com/questions/58100142/can-i-assign-a-class-enum-based-on-a-private-protected-member", "title": "Can I assign a class enum based on a private/protected member?", "body": "<p>I have a class and need to make the size of one of its protected members publicly available.</p>\n\n<p>I cannot make the field public and don't want to introduce a new field, so I am trying to introduce an enum and assign it to the size of the field, like so:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class MyObject\n{\n  public:\n    enum\n    {\n        myFieldSize = sizeof(myField),\n    };\n  protected:\n    uint8_t myField;\n}\n</code></pre>\n\n<p>However my compiler tells me that it can't find a declaration for \"myField\". Is this the expected behavior? I have other public functions that access myField, why is the enum seemingly unable to do so?</p>\n"}, {"tags": ["c++", "inheritance", "stl", "forward-declaration"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569420090, "post_id": 58100135, "comment_id": 102592106, "body": "See <a href=\"https://stackoverflow.com/questions/320798/adding-types-to-the-std-namespace\">this question</a> and <a href=\"https://en.cppreference.com/w/cpp/language/extending_std\" rel=\"nofollow noreferrer\">the rules for extending <code>namespace std</code></a>. You can&#39;t do <code>namespace std { struct type_index; }</code>."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569420140, "post_id": 58100135, "comment_id": 102592152, "body": "And forward-declaring anything from <code>namespace std</code> is forbidden - option 1) is right out."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1569420174, "post_id": 58100135, "comment_id": 102592175, "body": "Why not just include the relevant standard header? It&#39;s a standard header."}, {"owner": {"reputation": 264, "user_id": 4491715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TI0VS.jpg?s=128&g=1", "display_name": "Glib", "link": "https://stackoverflow.com/users/4491715/glib"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569421035, "post_id": 58100135, "comment_id": 102592693, "body": "@Fran&#231;oisAndrieux most of them are quite heavy (may greatly extend compilation time) coz of numerous templates. But yes it is always possible to just include whatever required. But what if I need to Not do this, are there any ways?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569421621, "post_id": 58100135, "comment_id": 102593039, "body": "@Gleb <a href=\"https://timsong-cpp.github.io/cppwp/type.index#synopsis\" rel=\"nofollow noreferrer\"><code>&lt;typeindex&gt;</code></a> has almost nothing it in. But if you insist on not including the header you need to use an opaque type to hide it&#39;s use. You cannot forward declare standard types. Related question : <a href=\"https://stackoverflow.com/questions/307343/forward-declare-an-stl-container\">Forward declare a standard container?</a>."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569421837, "post_id": 58100135, "comment_id": 102593171, "body": "Note that there is <a href=\"https://en.cppreference.com/w/cpp/header/iosfwd\" rel=\"nofollow noreferrer\"><code>&lt;iosfwd&gt;</code></a> which forward declares a lot of stream related types but I don&#39;t think it will help you in this specific case."}, {"owner": {"reputation": 264, "user_id": 4491715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TI0VS.jpg?s=128&g=1", "display_name": "Glib", "link": "https://stackoverflow.com/users/4491715/glib"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569479937, "post_id": 58100135, "comment_id": 102611688, "body": "@Fran&#231;oisAndrieux Ok, forward declaration is forbidden, but what about inheritance? Also - please, answer in answers, not in comments..."}], "owner": {"reputation": 264, "user_id": 4491715, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TI0VS.jpg?s=128&g=1", "display_name": "Glib", "link": "https://stackoverflow.com/users/4491715/glib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569419899, "creation_date": 1569419899, "question_id": 58100135, "link": "https://stackoverflow.com/questions/58100135/forward-declaratioin-or-inheriting-stdtype-index", "title": "Forward declaratioin or inheriting std::type_index", "body": "<p>I am working on several pretty heavy modules and I want to provide light-weight header with just some forward declarations. At the same time I am using <code>std::type_index</code> within the code in order to switch between different types and thus have to introduce this type in that \"forward declarations\" header.</p>\n\n<p>For that I have two questions:\n1) Is it so bad to make a forward declaration like </p>\n\n<pre><code>namespace std { struct type_index; }\n</code></pre>\n\n<p>2) If it is - are there any reasons not to inherit from it, like this:</p>\n\n<pre><code>// light.hpp:\nstruct TypeID;\n\n// heavy_implementation.hpp\nstruct TypeID : std::type_index {}; // just empty body\n</code></pre>\n\n<p>Finally: if both options are error-prone and/or difficult to support for some reason - is there any way to transparently (without opaque types) introduce <code>std::</code> type like <code>type_index</code> in light-weight header?</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 3, "creation_date": 1569419781, "post_id": 58100077, "comment_id": 102591902, "body": "Making <code>List</code> a <code>protected</code> member is explicitly saying you <i>don&#39;t</i> want unrelated types calling <code>List</code>. This is contrary to your stated goal."}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 1, "creation_date": 1569419964, "post_id": 58100077, "comment_id": 102592020, "body": "You can always expose the protected interface via public method."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1569420227, "post_id": 58100077, "comment_id": 102592211, "body": "@AdityaKushwah Make <code>List</code> public if you intend to for it to be publicly accessible."}, {"owner": {"reputation": 63, "user_id": 8566257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-47_u3L_G7N4/AAAAAAAAAAI/AAAAAAAAE9c/5Zm9FslIHfA/photo.jpg?sz=128", "display_name": "Aditya Kushwah", "link": "https://stackoverflow.com/users/8566257/aditya-kushwah"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569420259, "post_id": 58100077, "comment_id": 102592229, "body": "@Fran&#231;oisAndrieux I can make a new class with the same method (a duplicated) but that would not be a write way to write code. So I was thinking if there is a way I can."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569420271, "post_id": 58100077, "comment_id": 102592239, "body": "I don&#39;t see why you would need to make a duplicate of <code>A</code> or how that would even work."}, {"owner": {"reputation": 63, "user_id": 8566257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-47_u3L_G7N4/AAAAAAAAAAI/AAAAAAAAE9c/5Zm9FslIHfA/photo.jpg?sz=128", "display_name": "Aditya Kushwah", "link": "https://stackoverflow.com/users/8566257/aditya-kushwah"}, "edited": false, "score": 0, "creation_date": 1569420339, "post_id": 58100077, "comment_id": 102592285, "body": "I can make the List method from class B public but not from class A. That is how it was coded."}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1569420881, "post_id": 58100077, "comment_id": 102592604, "body": "Is B supposed to comply with the A interface, or not?  It sounds like B is <i>not</i> an A, so why have B inherit from A?"}, {"owner": {"reputation": 230, "user_id": 11514815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9aa54d8869189e7b042d3c4e3e4d390?s=128&d=identicon&r=PG&f=1", "display_name": "R0m1", "link": "https://stackoverflow.com/users/11514815/r0m1"}, "edited": false, "score": 0, "creation_date": 1569422404, "post_id": 58100077, "comment_id": 102593524, "body": "Why do you want to call List() from C? Maybe C should implement A."}, {"owner": {"reputation": 63, "user_id": 8566257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-47_u3L_G7N4/AAAAAAAAAAI/AAAAAAAAE9c/5Zm9FslIHfA/photo.jpg?sz=128", "display_name": "Aditya Kushwah", "link": "https://stackoverflow.com/users/8566257/aditya-kushwah"}, "reply_to_user": {"reputation": 230, "user_id": 11514815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9aa54d8869189e7b042d3c4e3e4d390?s=128&d=identicon&r=PG&f=1", "display_name": "R0m1", "link": "https://stackoverflow.com/users/11514815/r0m1"}, "edited": false, "score": 0, "creation_date": 1569428972, "post_id": 58100077, "comment_id": 102597000, "body": "@R0m1 Class B implements List() and the output from B&#39;s List implementation will be used in C&#39;s method. Implementing List in both B and C would be redundant. And B&#39;s List() has to be implemented in class B because it is being used by other function too. Hence the problem"}, {"owner": {"reputation": 63, "user_id": 8566257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-47_u3L_G7N4/AAAAAAAAAAI/AAAAAAAAE9c/5Zm9FslIHfA/photo.jpg?sz=128", "display_name": "Aditya Kushwah", "link": "https://stackoverflow.com/users/8566257/aditya-kushwah"}, "reply_to_user": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1569429207, "post_id": 58100077, "comment_id": 102597124, "body": "@Eljay I dont understand. The pure virtual function is defined in A and implementation is in B so it does comply with A. (If I am understanding your ques correctly)."}, {"owner": {"reputation": 230, "user_id": 11514815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9aa54d8869189e7b042d3c4e3e4d390?s=128&d=identicon&r=PG&f=1", "display_name": "R0m1", "link": "https://stackoverflow.com/users/11514815/r0m1"}, "edited": false, "score": 0, "creation_date": 1569435757, "post_id": 58100077, "comment_id": 102599907, "body": "@aditya it&#39;s not redundant for an interface to have several implementations :)"}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 1, "creation_date": 1569437282, "post_id": 58100077, "comment_id": 102600550, "body": "Because &quot;I have another class, C, which needs to call implemented interface List() from class B so that I can store the returned result in class C. How can I call an interface in class C?&quot; tells me that C needs a B, not an A, and A doesn&#39;t provide what C needs.  Which smells like B is not an A."}], "owner": {"reputation": 63, "user_id": 8566257, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-47_u3L_G7N4/AAAAAAAAAAI/AAAAAAAAE9c/5Zm9FslIHfA/photo.jpg?sz=128", "display_name": "Aditya Kushwah", "link": "https://stackoverflow.com/users/8566257/aditya-kushwah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569419688, "creation_date": 1569419688, "question_id": 58100077, "link": "https://stackoverflow.com/questions/58100077/how-to-call-an-implementation-of-an-interface-in-c-from-another-class", "title": "How to call an implementation of an interface in c++ from another class?", "body": "<p>I have an abstract class, let's say A, which contains a pure virtual function with an access specifier as protected. Another class, let's say B, overrides the interface and implement function List().</p>\n\n<pre><code>class A {\n public:\n  ...\n protected:\n  virtual std::vector&lt;std::string&gt; List() = 0;\n}\n</code></pre>\n\n<pre><code>class B: public A {\n protected:\n  std::vector&lt;std::string&gt; List() override {\n   //Implementation for the method\n  }\n}\n</code></pre>\n\n<p>My question is that now I have another class, C, which needs to call implemented interface List() from class B so that I can store the returned result in class C. How can I call an interface in class C?</p>\n\n<p>PS: I can change the access specifier of the method to public in class B if that can solve the problem.</p>\n"}, {"tags": ["c++", "arrays", "class", "constructor", "constants"], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 8894112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/351ad98fc5792fc09c9b18cbdeef7fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Padureanu", "link": "https://stackoverflow.com/users/8894112/victor-padureanu"}, "is_accepted": true, "score": 0, "last_activity_date": 1569419749, "creation_date": 1569419749, "answer_id": 58100094, "question_id": 58099967, "link": "https://stackoverflow.com/questions/58099967/assigning-an-array-of-objects-in-another-constructor-where-the-class-contains-c/58100094#58100094", "title": "Assigning an array of Objects in another Constructor, where the Class contains const emember", "body": "<p>This is what you want?</p>\n\n<pre><code>class A {\npublic:\n  A();\n  A(int t, int u);\n  const int x = 5;\n\n  A&amp; operator=(const A&amp; a);\nprivate:\n  int _t;\n  int _u;\n};\n\nclass B {\npublic:\n  B();\n  A a[50][500];\n};\n\nA::A() {\n  //nothing here\n}\n\nA&amp; A::operator=(const A&amp; a) {\n    _t = a._t;\n    _u = a._u;\n}\n\nA::A(int t, int u) {\n  _t = t;\n  _u = u;\n}\n\nB::B() {\n  for (int i=0; i&lt;50; i++)\n    for(int j=0; j&lt;500; j++)\n      a[i][j] = A(i, j);\n}\n</code></pre>\n\n<p>You are just missing the = operator</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "is_accepted": false, "score": 0, "last_activity_date": 1569420759, "creation_date": 1569420759, "answer_id": 58100441, "question_id": 58099967, "link": "https://stackoverflow.com/questions/58099967/assigning-an-array-of-objects-in-another-constructor-where-the-class-contains-c/58100441#58100441", "title": "Assigning an array of Objects in another Constructor, where the Class contains const emember", "body": "<p>If you want to avoid default-initializing your array, you can use <code>std::vector&lt;std::vector&lt;A&gt;&gt;</code> and populate it in B's constructor :</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>class A {\npublic:\n  A(t, u);\n  const int x = 5;\n\nprivate:\n  int _t;\n  int _u;\n}\n\nclass B {\npublic:\n  B();\n  std::vector&lt;std::vector&lt;A&gt;&gt; a;\n}\n\nA::A(t, u) {\n  _t = t;\n  _u = u;\n}\n\nB::B()\n: a(50) { // a will contain 50 empty rows\n  for (int i=0; i&lt;50; i++) {\n    a[i].reserve(500); // allocates enough space in each row for at least 500 elements\n    for(int j=0; j&lt;500; j++)\n      a[i].emplace_back(i, j); // constructs value in-place using given arguments\n  }\n}\n</code></pre>\n\n<p>Note that you don't need A's empty-parameter constructor anymore, so I have removed it.</p>\n"}], "owner": {"reputation": 21, "user_id": 10152768, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a01aabdabf8f3d1d6b284830d58d06?s=128&d=identicon&r=PG&f=1", "display_name": "The Supreme God", "link": "https://stackoverflow.com/users/10152768/the-supreme-god"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 58100094, "answer_count": 2, "score": 0, "last_activity_date": 1597684516, "creation_date": 1569419374, "last_edit_date": 1597684516, "question_id": 58099967, "link": "https://stackoverflow.com/questions/58099967/assigning-an-array-of-objects-in-another-constructor-where-the-class-contains-c", "title": "Assigning an array of Objects in another Constructor, where the Class contains const emember", "body": "<p>I've looked around and only found a solution for either problem, which conflicts with the other.\nI have\nclass A with some const member and other members that need to be initialized\nclass B with some constructor and a 2D array of A's</p>\n<p>like this:</p>\n<pre><code>class A {\npublic:\n  A();\n  A(int t, int u);\n  const int x = 5;\n\nprivate:\n  int _t;\n  int _u;\n}\n\nclass B {\npublic:\n  B();\n  A a[50][500];\n}\n\nA::A() {\n  //nothing here\n}\n\nA::A(int t, int u) {\n  _t = t;\n  _u = u;\n}\n\nB::B() {\n  for (int i=0; i&lt;50; i++)\n    for(int j=0; j&lt;500; j++)\n      a[i][j] = A(i, j);\n}\n</code></pre>\n<p>Now, this doesn't work because A has a const member, so the assignment fails because all the a's have already been default constructed, I obviously don't want to code 25000 initializer values in the member initializer list of B so that is out of the question.</p>\n<p>I need the default initializer because otherwise the constructor of B will throw an error that i can't default initialize the array so i need some way to reassign the array with a newly constructed object of A.\nHow could I accomplish this?</p>\n"}, {"tags": ["c#", "c++", "azure", "azure-web-app-service"], "answers": [{"tags": [], "owner": {"reputation": 8769, "user_id": 1537195, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/xRBvI.jpg?s=128&g=1", "display_name": "silent", "link": "https://stackoverflow.com/users/1537195/silent"}, "is_accepted": false, "score": 0, "last_activity_date": 1569423089, "creation_date": 1569423089, "answer_id": 58101204, "question_id": 58099922, "link": "https://stackoverflow.com/questions/58099922/is-it-possible-to-install-c-compiler-in-azure-app-service/58101204#58101204", "title": "Is it possible to install c++ compiler in azure app service", "body": "<p>No, you cannot install software (like your compiler) in an Azure App Service. <a href=\"https://stackoverflow.com/a/36185208/1537195\">https://stackoverflow.com/a/36185208/1537195</a></p>\n\n<p>You would need to go to something like either your own container (see for example <a href=\"https://docs.microsoft.com/en-us/azure/app-service/containers/quickstart-docker\" rel=\"nofollow noreferrer\">Azure Web App for Containers</a> or Azure Container Instances) or host your custom code inside a VM.</p>\n"}], "owner": {"reputation": 21, "user_id": 11374787, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CpTmE.jpg?s=128&g=1", "display_name": "Nasko", "link": "https://stackoverflow.com/users/11374787/nasko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 447, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569423089, "creation_date": 1569419265, "question_id": 58099922, "link": "https://stackoverflow.com/questions/58099922/is-it-possible-to-install-c-compiler-in-azure-app-service", "title": "Is it possible to install c++ compiler in azure app service", "body": "<p>I have azure app service on Windows and I want to install c++ compiler on it.\nI need the c++ compiler to compile and run c++ code runtime. The user submit some code(console application) I compile it and then run it with different inputs. I run command like <code>g++ file.cpp</code> for compilation and <code>file.exe</code> in cmd using <code>Process</code> class in c#.</p>\n\n<p>Is there a way to connect remotely to my azure app service and install the c++ compiler? Or are there some other ways to install c++ compiler on azure app service?</p>\n"}, {"tags": ["c++", "xcode", "objective-c++"], "comments": [{"owner": {"reputation": 114, "user_id": 8731673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5114129d4d4e6a9222bc92aa05cfda?s=128&d=identicon&r=PG&f=1", "display_name": "Amine", "link": "https://stackoverflow.com/users/8731673/amine"}, "edited": false, "score": 0, "creation_date": 1569425137, "post_id": 58099543, "comment_id": 102595170, "body": "I think the question above boils down to  name collision happen between User defined library and the MacOS SDK. Any links/advice on how to properly solve it without the need to refactor the user supplied code will be very helpful. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 114, "user_id": 8731673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5114129d4d4e6a9222bc92aa05cfda?s=128&d=identicon&r=PG&f=1", "display_name": "Amine", "link": "https://stackoverflow.com/users/8731673/amine"}, "is_accepted": false, "score": 0, "last_activity_date": 1569494273, "creation_date": 1569494273, "answer_id": 58114970, "question_id": 58099543, "link": "https://stackoverflow.com/questions/58099543/xcode-unit-testing-with-c-candidate-found-by-name-lookup-is-and-reference-is/58114970#58114970", "title": "Xcode Unit Testing with C++: candidate found by name lookup is and reference is ambiguous", "body": "<p>Update: After some research, I think I found what was going on with this issue: \"using namespace xxxx\" inside Objective-C++ testing framework instead of fully qualifying the data types with xxxx:: clashes with native Apple API types (Size, Handle, ptr, etc...). Full namespace qualification of C++ data types is required in this case to avoid ambiguity.</p>\n"}], "owner": {"reputation": 114, "user_id": 8731673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b5114129d4d4e6a9222bc92aa05cfda?s=128&d=identicon&r=PG&f=1", "display_name": "Amine", "link": "https://stackoverflow.com/users/8731673/amine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 513, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569494273, "creation_date": 1569418064, "question_id": 58099543, "link": "https://stackoverflow.com/questions/58099543/xcode-unit-testing-with-c-candidate-found-by-name-lookup-is-and-reference-is", "title": "Xcode Unit Testing with C++: candidate found by name lookup is and reference is ambiguous", "body": "<p>I am trying to move a few tests into the XCTest target of my application in Xcode. The library I am testing functionalities for is large, and I include its header files inside my tests.mm file (my Obj-C++ testing file where all unit test cases are). </p>\n\n<p>For one specific \"Size\" type, Compiler reports a series of ambiguous clashes with the Size type already defined as part of the SDK for MacOS10.13 (in /usr/include). Here is how the #include set for my testing file looks like:</p>\n\n<pre><code>#import &lt;XCTest/XCTest.h&gt;\n\n#include &lt;ql/quantlib.hpp&gt;.   &lt;---- defines Size, which clashes with MacTypes.h definition\n#include &lt;Analytics/all.hpp&gt;\n#include &lt;boost/timer.hpp&gt;\n#include &lt;utility&gt;\n#include &lt;typeinfo&gt;\n#include &lt;thread&gt;\n#include &lt;atomic&gt;\n#include &lt;mutex&gt;\n#include &lt;random&gt;\n#include &lt;condition_variable&gt;\n#include &lt;future&gt;\n\nusing namespace src::Utilities;\nusing namespace src::Simulation;\nusing namespace src::MarketData;\nusing namespace src::detail;\nusing namespace std::placeholders;\n\n//...More code down here, but not problematic\n</code></pre>\n\n<p> is the file which contains the definition for Size. Can someone please help spot where I may have gone wrong, especially that when I run the tests as part of a giant Main() function, it all works fine.</p>\n\n<p>Thanks,\nAmine</p>\n"}, {"tags": ["c++", "performance", "vector"], "comments": [{"owner": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "edited": false, "score": 5, "creation_date": 1569418054, "post_id": 58099465, "comment_id": 102590850, "body": "If you <i>would like to make sure that element access is as fast as possible</i>, then don&#39;t use a vector of vectors. Instead, use a plain 1-D vector and optionally wrap it with some class with element accessor based on two (row + column) indexes. And, always <code>reserve</code> or <code>resize</code> your vector if you know the number of elements in advance (which seems to be your case)."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1569418080, "post_id": 58099465, "comment_id": 102590864, "body": "If you are looking for efficiency, don&#39;t use a 2d vector.  Instead put the vector in a class and make it a 1d vector of size <code>num_rows * num_cols</code>.  Then provide a way to access it as if it was a 2d vector."}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "edited": false, "score": 1, "creation_date": 1569418626, "post_id": 58099465, "comment_id": 102591200, "body": "best way to do is it to wrap single <code>std::vector</code> in a class representing a matrix."}, {"owner": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "edited": false, "score": 3, "creation_date": 1569418695, "post_id": 58099465, "comment_id": 102591233, "body": "And, even better best way is to use some library that do this wrapping for you (such as eigen :)."}, {"owner": {"reputation": 22818, "user_id": 1387438, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ad806758c356c915ea08a4bfd79131e3?s=128&d=identicon&r=PG", "display_name": "Marek R", "link": "https://stackoverflow.com/users/1387438/marek-r"}, "reply_to_user": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "edited": false, "score": 1, "creation_date": 1569418808, "post_id": 58099465, "comment_id": 102591309, "body": "@DanielLangr true, as far as this is not task for online task, like hackerrank or spoj."}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 2, "creation_date": 1569419123, "post_id": 58099465, "comment_id": 102591515, "body": "Alternatively, if size is known already at *compile time*(!), you could use <code>std::array&lt;std::array&lt;double, Columns&gt;, Rows&gt;</code> instead. That would spare you mapping two-dimensions into single one."}, {"owner": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "reply_to_user": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 1, "creation_date": 1569419240, "post_id": 58099465, "comment_id": 102591581, "body": "@Aconcagua Just beware of stack overflow (if automatic)."}, {"owner": {"reputation": 49, "user_id": 12075307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd6d0453042b87b9954b6a786068fbe?s=128&d=identicon&r=PG&f=1", "display_name": "schajan", "link": "https://stackoverflow.com/users/12075307/schajan"}, "edited": false, "score": 0, "creation_date": 1569426088, "post_id": 58099465, "comment_id": 102595711, "body": "Thanks a lot for all the quick answers! Actually not all the vector&lt;double&gt; have the same size, hence to use a big 1D plane vector I guess I would need another vector that stores the indices of where the beginning of vector i is stored.. in this case is there still any benefit to this approach?"}, {"owner": {"reputation": 19667, "user_id": 1312382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FL8Fg.jpg?s=128&g=1", "display_name": "Aconcagua", "link": "https://stackoverflow.com/users/1312382/aconcagua"}, "edited": false, "score": 0, "creation_date": 1569428055, "post_id": 58099465, "comment_id": 102596627, "body": "@schajan <i>&#39; stores the indices of where the beginning&#39;</i> \u2013 wait a second, does that mean you have a <i>jagged</i> array (i. e. every single row can have a different length)? Because <i>then</i> first having to look up some index to access the right position in the 1D array might consume again the speed gain of the 1D array. You&#39;d have to profile to be sure, though. If not, no need to store indices, offset is simply calculated as <code>desiredRow * rowSize + desired column</code> (row size is the number of columns, of course)."}, {"owner": {"reputation": 49, "user_id": 12075307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd6d0453042b87b9954b6a786068fbe?s=128&d=identicon&r=PG&f=1", "display_name": "schajan", "link": "https://stackoverflow.com/users/12075307/schajan"}, "edited": false, "score": 0, "creation_date": 1569484799, "post_id": 58099465, "comment_id": 102614139, "body": "That&#39;s exactly right, my array is jagged. I&#39;m actually trying to represent a sparse matrix with z[i] being the entries in the ith row."}, {"owner": {"reputation": 2361, "user_id": 5809597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d43b1c037d08a423aeb6ee10fc922437?s=128&d=identicon&r=PG&f=1", "display_name": "Jorge Bellon", "link": "https://stackoverflow.com/users/5809597/jorge-bellon"}, "edited": false, "score": 0, "creation_date": 1569928019, "post_id": 58099465, "comment_id": 102746686, "body": "If you are representing a sparse matrix, then you should give a look to how sparse matrices are usually represented. I would create a <i>spare matrix</i> class and represent them in Compressed Sparse Row format. Chances are you got already a library that implements this. See <a href=\"https://en.wikipedia.org/wiki/Sparse_matrix#Compressed_sparse_row_(CSR,_CRS_or_Yale_format)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 11804009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tSzKdtZ05Ns/AAAAAAAAAAI/AAAAAAAAAIY/yXJG0DKj7l0/photo.jpg?sz=128", "display_name": "Thomas B&#233;cavin", "link": "https://stackoverflow.com/users/11804009/thomas-b%c3%a9cavin"}, "is_accepted": true, "score": 0, "last_activity_date": 1569419400, "last_edit_date": 1569419400, "creation_date": 1569418404, "answer_id": 58099646, "question_id": 58099465, "link": "https://stackoverflow.com/questions/58099465/allocate-a-fixed-size-vectorvectordouble-for-efficient-access-and-add-them/58099646#58099646", "title": "Allocate a (fixed size) vector&lt;vector&lt;double&gt;&gt; for efficient access and add them?", "body": "<p>There are two ways to do this : <code>vector::resize</code> will create all the elements, and value-initialize them (or copy-initialize them if you give it an initial value), and <code>vector::reserve</code> will let you allocate the amount of memory you need in advance without initializing it (which may be more efficient). In the first case, you'll have to copy the final value to the already existing elements (<code>z[i] = x</code>) whereas in the other you'll have to create the elements as you would do with your current code (<code>z.push_back(x)</code>).</p>\n"}], "owner": {"reputation": 49, "user_id": 12075307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfd6d0453042b87b9954b6a786068fbe?s=128&d=identicon&r=PG&f=1", "display_name": "schajan", "link": "https://stackoverflow.com/users/12075307/schajan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "accepted_answer_id": 58099646, "answer_count": 1, "score": 0, "last_activity_date": 1569419400, "creation_date": 1569417810, "question_id": 58099465, "link": "https://stackoverflow.com/questions/58099465/allocate-a-fixed-size-vectorvectordouble-for-efficient-access-and-add-them", "title": "Allocate a (fixed size) vector&lt;vector&lt;double&gt;&gt; for efficient access and add them?", "body": "<p>I am implementing an algorithm that uses rather large vector(vector(double)) types for storage; no elements will be added or removed after preallocation. I would like to make sure that element access is as fast as possible, also I need to add and scale several of them (elementwise). What is the best way to do this?</p>\n\n<p>Here are relevant parts of my (naive) code, that I doubt is efficient:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>vector&lt;vector&lt;double&gt;&gt; z;\nvector&lt;vector&lt;double&gt;&gt; mu;\nvector&lt;vector&lt;double&gt;&gt; temp_NNZ;\n..\n\nfor(int i = 0; i &lt; init.valsA.size(); ++i){\n    z.push_back({});\n    mu.push_back({});\n    temp_NNZ.push_back({});\n    for(int j = 0; j &lt; init.valsA[i].size(); ++j){\n        z[i].push_back(0);\n        mu[i].push_back(0);\n        temp_NNZ[i].push_back(0);\n    }\n}\n..\n\nfor(int i = 0; i &lt; z.size(); ++i){\n    for(int j = 0; j &lt; z[i].size(); ++j){\n        z[i][j] = temp_NNZ[i][j] - mu[i][j]/rho - z[i][j];\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "templates"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569417870, "post_id": 58099456, "comment_id": 102590751, "body": "<code>e</code> and <code>E</code> are used for scientific notation. e.g. 1e2 is 100. When a number doesn&#39;t follow the <code>e</code>, it&#39;s invalid."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569417883, "post_id": 58099456, "comment_id": 102590761, "body": "Well, the characters <code>e</code> and <code>E</code> can be used to express floating point numbers using scientific notation. So it makes sense that <code>cin</code> would consider those characters as part of the <code>double</code> value it&#39;s trying to extract."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569417980, "post_id": 58099456, "comment_id": 102590808, "body": "I assume that first <code>if</code> is used to protect against calling <code>println</code> with types that it does not support. But, try using <code>getInput</code> with one of those types and you will find that the <code>if</code> doesn&#39;t help. Those <code>println</code> will still <i>try</i> to compile and fail."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569419106, "post_id": 58099456, "comment_id": 102591507, "body": "FYI: <code>while (cin.fail())</code> if we ever enter this loop, there&#39;s a chance we&#39;ll never get out of it."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1569419384, "post_id": 58099456, "comment_id": 102591661, "body": "For a <b>minimal</b> compilable example, most of the code in the question is irrelevant and should have been removed."}, {"owner": {"reputation": 55, "user_id": 10751222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PUTHvcTuuFg/AAAAAAAAAAI/AAAAAAAABTY/gW95PHAIE0s/photo.jpg?sz=128", "display_name": "Joshua Paige", "link": "https://stackoverflow.com/users/10751222/joshua-paige"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569420690, "post_id": 58099456, "comment_id": 102592479, "body": "@Fran&#231;oisAndrieux the print statement will run without that but the only reason I put that was so that it wouldn&#39;t have to run and call cout if there was nothing to pass through. I don&#39;t know a lot about how cout works but I figured it would improve performance slightly."}, {"owner": {"reputation": 55, "user_id": 10751222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PUTHvcTuuFg/AAAAAAAAAAI/AAAAAAAABTY/gW95PHAIE0s/photo.jpg?sz=128", "display_name": "Joshua Paige", "link": "https://stackoverflow.com/users/10751222/joshua-paige"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1569420795, "post_id": 58099456, "comment_id": 102592549, "body": "@PeteBecker most of the code doesn&#39;t effect the problem itself, however, I included it because I didn&#39;t know where it was going wrong at the time."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1569423218, "post_id": 58099456, "comment_id": 102594004, "body": "@JoshuaPaige -- remove code until the problem goes away. Put back the last thing you removed. Repeat until done."}], "answers": [{"tags": [], "owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "is_accepted": true, "score": 1, "last_activity_date": 1569417951, "creation_date": 1569417951, "answer_id": 58099508, "question_id": 58099456, "link": "https://stackoverflow.com/questions/58099456/input-using-stdcin-doesnt-work-for-floating-point-only-when-the-value-is-trai/58099508#58099508", "title": "Input using std::cin doesn&#39;t work for floating point only when the value is trailed by the letter &#39;e&#39; (both upper and lower case)", "body": "<p>If you enter a number followed by an <code>e</code> (or <code>E</code>) then <code>cin</code> expects a number to be entered in <em>scientific notation</em>. If there's no integral number (negative or otherwise) after <code>e</code>, then that's not valid scientific notation and <code>cin</code> will fail to read that as a floating point <code>float</code> or <code>double</code>.</p>\n\n<p>The error is similar to your inputting something like <code>3..</code>.</p>\n"}], "owner": {"reputation": 55, "user_id": 10751222, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PUTHvcTuuFg/AAAAAAAAAAI/AAAAAAAABTY/gW95PHAIE0s/photo.jpg?sz=128", "display_name": "Joshua Paige", "link": "https://stackoverflow.com/users/10751222/joshua-paige"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58099508, "answer_count": 1, "score": 0, "last_activity_date": 1569417998, "creation_date": 1569417775, "last_edit_date": 1569417998, "question_id": 58099456, "link": "https://stackoverflow.com/questions/58099456/input-using-stdcin-doesnt-work-for-floating-point-only-when-the-value-is-trai", "title": "Input using std::cin doesn&#39;t work for floating point only when the value is trailed by the letter &#39;e&#39; (both upper and lower case)", "body": "<p>I wrote a method to get user input from std::cin and return it and it's worked for all of my tests so far except for a float or double followed by the letter 'e'.</p>\n\n<p>This is the method:</p>\n\n<pre><code>template &lt;typename Arg&gt;\nArg getInput(string message = \"\")\n{\n    if (!is_fundamental&lt;Arg&gt;::value &amp;&amp; typeid(string) != typeid(Arg))\n    {\n        return Arg();\n    }\n\n    if (!message.empty())\n    {\n        print(message);\n    }\n\n    Arg out;\n    cin &gt;&gt; out;\n\n    while (cin.fail())\n    {\n        cin.clear();\n        cin.ignore();\n        cin &gt;&gt; out;\n    }\n\n    cin.ignore(INT_MAX, '\\n');\n\n    return out;\n\n}\n</code></pre>\n\n<p>This is the method call:</p>\n\n<pre><code>getInput&lt;double&gt;(\"Please Enter a Double: \");\n</code></pre>\n\n<p>The method returns the correct value for everything I've tried so far but std::cin fails when the value is trailed by an 'e'.</p>\n\n<p>For example: 12.34 is read as 12.34, ae1.23f1 is read as 1.23, but std::cin fails on 1.2ef and 12E because the numbers are immediately followed by and 'e'</p>\n\n<p>As a note, when the return type of the method is changed to float, it still produces the same problem that double does. This doesn't make any sense to me because it's the only thing that I've found to cause the program to not work so my guess is that it's the way std::cin is handling the input.</p>\n\n<p>Disclaimer: I am new to c++ from java so my code probably has some other minor errors like return Arg(); won't work if the class doesn't have a default constructor so I have to fix that.</p>\n"}, {"tags": ["c++", "algorithm", "file", "sorting", "concurrency"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 4, "creation_date": 1569419354, "post_id": 58099409, "comment_id": 102591642, "body": "Please only ask one question. Right now there are multiple: &quot;How can I sort integers line-by-line in a file?&quot; and &quot;How can I run an algorithm on another thread?&quot;, (and debatably a third: &quot;How can I divide an algorithm&#39;s work among four threads?&quot;)"}, {"owner": {"reputation": 302, "user_id": 1343196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vtcby.jpg?s=128&g=1", "display_name": "Amaresh", "link": "https://stackoverflow.com/users/1343196/amaresh"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1569421671, "post_id": 58099409, "comment_id": 102593069, "body": "should i edit this question?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1569430512, "post_id": 58099409, "comment_id": 102597700, "body": "Study up on &quot;merge sort&quot;.  The merge sort was an excellent sort for files (and tape drives)."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1569746373, "post_id": 58099409, "comment_id": 102690300, "body": "Please provide the definition of <a href=\"https://en.m.wikipedia.org/wiki/In-place_algorithm\" rel=\"nofollow noreferrer\">in-place</a> for this question."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 2, "creation_date": 1569746542, "post_id": 58099409, "comment_id": 102690331, "body": "There is an overhead to managing threads. As of 2019, I&#39;d expect the number of primitive values (<code>integers</code>) to sort needed for threading to be helpful to be in the thousands."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1569746791, "post_id": 58099409, "comment_id": 102690366, "body": "Once a line (a set of values to be put in order with no regard to other input) is read, it can be sorted right away."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1569746876, "post_id": 58099409, "comment_id": 102690389, "body": "<code>hope you get what I wanted to ask</code> No. I&#39;m left with the impression that you dumped an assignment."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2693780"}, "edited": false, "score": 2, "creation_date": 1569765073, "post_id": 58099409, "comment_id": 102694412, "body": "You are using std::sort which works in-place. Your code looks OK, what improvements do you have in mind?"}, {"owner": {"reputation": 302, "user_id": 1343196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vtcby.jpg?s=128&g=1", "display_name": "Amaresh", "link": "https://stackoverflow.com/users/1343196/amaresh"}, "reply_to_user": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 0, "creation_date": 1569766830, "post_id": 58099409, "comment_id": 102694856, "body": "@greybeard sorry for late reply. in-place i meant, we shouldn&#39;t take a buffer like i did (copying into a vector, sorting and then writing it back to file), and sort those lines of integers then and there, can that be done at all!?"}, {"owner": {"reputation": 302, "user_id": 1343196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vtcby.jpg?s=128&g=1", "display_name": "Amaresh", "link": "https://stackoverflow.com/users/1343196/amaresh"}, "edited": false, "score": 0, "creation_date": 1569766931, "post_id": 58099409, "comment_id": 102694885, "body": "Hi @denniskb i am using another buffer, please see above reply. thanks for your time reading my code"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2693780"}, "edited": false, "score": 2, "creation_date": 1569767683, "post_id": 58099409, "comment_id": 102695078, "body": "@Amaresh you can&#39;t avoid the buffer, you can&#39;t sort &#39;directly inside a text file&#39;."}], "answers": [{"tags": [], "owner": {"reputation": 3693, "user_id": 11455384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e87a1e837a79a0248716b61a930f67fa?s=128&d=identicon&r=PG&f=1", "display_name": "Fareanor", "link": "https://stackoverflow.com/users/11455384/fareanor"}, "is_accepted": true, "score": 4, "last_activity_date": 1569852129, "last_edit_date": 1569852129, "creation_date": 1569851829, "answer_id": 58169438, "question_id": 58099409, "link": "https://stackoverflow.com/questions/58099409/sorting-a-text-file-which-contains-integers-sorting-has-to-be-done-line-by-line/58169438#58169438", "title": "Sorting a text file which contains integers, sorting has to be done line by line", "body": "<p>I cannot see how to do it <em>\"in-place\"</em>. Perhaps with some black magic we could sort elements without having them somewhere in memory but I don't have knowledge about such an occult science :)</p>\n\n<p>Joking aside, if storing the lines into a <code>std::vector</code> does not suit your needs, you can use any other container you may want, even a raw array or a custom one. But in any case, you have to store the lines somewhere to handle them (to sort them in this case).</p>\n\n<hr>\n\n<p>I have written an example to achieve what you want:</p>\n\n<pre><code>#include &lt;vector&gt;\n#include &lt;fstream&gt;\n#include &lt;algorithm&gt;\n#include &lt;thread&gt;\n\nstd::vector&lt;std::string&gt; split(const std::string &amp; s, char c)\n{\n    std::vector&lt;std::string&gt; splitted;\n\n    std::string word;\n    for(char ch : s)\n    {\n        if((ch == c) &amp;&amp; (!word.empty()))\n        {\n            splitted.push_back(word);\n            word.clear();\n        }\n        else\n            word += ch;\n    }\n    if(!word.empty())\n        splitted.push_back(word);\n\n    return splitted;\n}\nbool read_data(const std::string &amp; file_path, std::vector&lt;std::vector&lt;int&gt;&gt; &amp; data)\n{\n    data.clear();\n\n    std::ifstream in_s(file_path);\n    if(!in_s)\n        return false;\n\n    std::string line;\n    std::vector &lt;int&gt; row;\n    while(std::getline(in_s, line))\n    {\n        if(!line.empty())\n        {\n            for(auto s : split(line, ' '))\n                row.push_back(std::stoi(s));\n            data.push_back(row);\n            row.clear();\n        }\n    }\n\n    in_s.close();\n    return true;\n}\nbool write_data(const std::string &amp; file_path, const std::vector&lt;std::vector&lt;int&gt;&gt; &amp; data)\n{\n    std::ofstream out_s(file_path);\n    if(!out_s)\n        return false;\n\n    for(const auto &amp; row : data)\n    {\n        for(size_t i = 0; i &lt; row.size(); ++i)\n        {\n            if(i == 0)\n                out_s &lt;&lt; row[i];\n            else\n            {\n                out_s &lt;&lt; ((row[i] &lt; 0) ? (\" \") : (\"  \")) &lt;&lt; row[i];\n            }\n        }\n        out_s &lt;&lt; std::endl;\n    }\n\n    out_s.close();\n    return true;\n}\nvoid sort_line(std::vector&lt;int&gt; &amp; line)\n{\n    std::sort(line.begin(), line.end(), [](const int &amp; i, const int &amp; j){return i&lt;j;});\n}\nvoid sort_data_lines(std::vector&lt;std::vector&lt;int&gt;&gt; &amp; data)\n{\n    std::vector&lt;std::thread&gt; thread_mem;\n\n    for(auto &amp; row : data)\n    {\n        thread_mem.push_back(std::thread(sort_line, std::ref(row)));\n    }\n\n    for(auto &amp; t : thread_mem)\n        t.join();\n}\n</code></pre>\n\n<p>I have separated the code in three main functions, <code>read_data()</code> to read data from a file, <code>sort_data_lines()</code> to sort the data and <code>write_data()</code> to write data into a file.</p>\n\n<p>It may be used as follows:</p>\n\n<pre><code>int main()\n{\n    const std::string in_file_path(\"path/to/the/input_file.txt\");\n    const std::string out_file_path(\"path/to/the/output_file.txt\");\n\n    std::vector&lt;std::vector&lt;int&gt;&gt; data;\n    if(!read_data(in_file_path, data))   // Read the data\n        return -1;\n\n    sort_data_lines(data);               // Sort the data\n\n    if(!write_data(out_file_path, data)) // Write the sorted data\n        return -2;\n\n    return 0;\n}\n</code></pre>\n\n<p>I have multi-threaded the sorting of each line (as asked) but I think it may be important to notice that it is not a good idea if your file contains a lot of lines (and consequently, a lot of simultaneously running threads).<br/>\nUsually, fix a limit at between 4 and 8 running threads is a good choice.<br/>\nOf course, if your file is supposed to contain only four lines, there is no problem since you'll only have 4 running threads :)</p>\n\n<hr>\n\n<p>I've made the test with the following input file:</p>\n\n<pre><code>5  2  4  3  1 -3  8 -4 -1  0  1  0  6\n6  9  3  1  5  2  6  8 -7 -1  0  0 -3\n2  7  9  3  4  5 -5  6 -1  0  2 -2  3\n0 -6 -2  8  5 -1  4  5 -6  7  2  2  0\n</code></pre>\n\n<p>And I obtained the following output file:</p>\n\n<pre><code>-4 -3 -1  0  0  1  1  2  3  4  5  6  8\n-7 -3 -1  0  0  1  2  3  5  6  6  8  9\n-5 -2 -1  0  2  2  3  3  4  5  6  7  9\n-6 -6 -2 -1  0  0  2  2  4  5  5  7  8\n</code></pre>\n\n<p>Hope it can help a bit.</p>\n"}], "owner": {"reputation": 302, "user_id": 1343196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vtcby.jpg?s=128&g=1", "display_name": "Amaresh", "link": "https://stackoverflow.com/users/1343196/amaresh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 2, "accepted_answer_id": 58169438, "answer_count": 1, "score": 1, "last_activity_date": 1569852129, "creation_date": 1569417647, "last_edit_date": 1592644375, "question_id": 58099409, "link": "https://stackoverflow.com/questions/58099409/sorting-a-text-file-which-contains-integers-sorting-has-to-be-done-line-by-line", "title": "Sorting a text file which contains integers, sorting has to be done line by line", "body": "<p>I want to sort a file which contains integers but wanted to sort only line by line. I tried, but I am sure what I am doing below isn't in-place.</p>\n<pre><code>void sort_file_in_place(const char* filename) {\n    fstream sort_file;\n    sort_file.open(filename, ios::out | ios::in);\n    vector &lt;vector &lt;int&gt; &gt; input_vect;\n    string line;\n    std::string delimiter = &quot; &quot;;\n    int vect_index = 0;\n    while (getline(cin, line)) {\n        //store into vector of vectors\n        //tokenise string \n        size_t pos = 0;\n        int value = 0;\n        int count = 0;\n        while ((pos = line.find(delimiter)) != std::string::npos) {\n            string token = line.substr(0, pos);\n            line.erase(0, pos + delimiter.length());\n            value = std::atoi(token.c_str());\n            count++;\n        }\n        input_vect.resize(vect_index++, vector&lt;int&gt;(count));\n    }\n    //sort vector of vectors\n    for (int i = 0; i &lt; input_vect.size(); i++) {\n        sort(input_vect[i].begin(), input_vect[i].end(), std::less&lt;int&gt;());\n        //print the sorted vectors and alos verify the content \n        for (auto v : input_vect[i]) cout &lt;&lt; v &lt;&lt; &quot; &quot;;\n    }\n    //write back into the file\n    //Todo\n}\n</code></pre>\n<p>The above code isn't complete but I hope you get what I wanted to ask.</p>\n<p>Please suggest a better solution.</p>\n<p>Also I want to sort these lines using different threads, for example:</p>\n<p>If the file content is:</p>\n<blockquote>\n<p>13 38 13 100 4 234 85 34 0 100 88</p>\n<p>1 4 5 3 8 9 1 10</p>\n<p>111 10 112 3 4 098 194</p>\n<p>5 4 8 3 9 13 24 78 09 99</p>\n</blockquote>\n<p>I want to create four threads to sort each line in-place.</p>\n"}, {"tags": ["c++", "visual-studio-code", "vscode-settings", "vscode-debugger"], "comments": [{"owner": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1569508861, "post_id": 58099295, "comment_id": 102627525, "body": "What happens when you try?"}, {"owner": {"reputation": 68, "user_id": 10542695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2fXxa.jpg?s=128&g=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/10542695/emkay"}, "reply_to_user": {"reputation": 5746, "user_id": 1563833, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f3d7ae271e46eb178e7dd4f2ef760e6f?s=128&d=identicon&r=PG", "display_name": "Wyck", "link": "https://stackoverflow.com/users/1563833/wyck"}, "edited": false, "score": 0, "creation_date": 1569510406, "post_id": 58099295, "comment_id": 102628412, "body": "i cant find runinterminal checkbox"}], "owner": {"reputation": 68, "user_id": 10542695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2fXxa.jpg?s=128&g=1", "display_name": "emkay", "link": "https://stackoverflow.com/users/10542695/emkay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569507771, "creation_date": 1569417265, "last_edit_date": 1569507771, "question_id": 58099295, "link": "https://stackoverflow.com/questions/58099295/cant-input-in-vscode-while-debugging", "title": "Cant input in vscode while debugging", "body": "<p>i am not able to input while debugging a cpp code in vs code \nand i tried to find runinterminal command in vs code setting but i was unsuccessfull\nThanks in advance</p>\n"}, {"tags": ["c++", "gcc", "makefile", "shared-libraries", "dynamic-linking"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1569417203, "post_id": 58099244, "comment_id": 102590343, "body": "&quot;[I]t doesn&#39;t work&quot; isn&#39;t a very good problem description. Please take some time to refresh <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask good questions</a>, as well as <a href=\"https://codeblog.jonskeet.uk/2012/11/24/stack-overflow-question-checklist/\" rel=\"nofollow noreferrer\">this question checklist</a>. Then edit your question to tell us <i>how</i> &quot;it doesn&#39;t work&quot;."}, {"owner": {"reputation": 39, "user_id": 4566773, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fd8e164898ce326bf6a5c07a5094b746?s=128&d=identicon&r=PG&f=1", "display_name": "xodos", "link": "https://stackoverflow.com/users/4566773/xodos"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569417393, "post_id": 58099244, "comment_id": 102590454, "body": "It is simply dynamically linked."}], "answers": [{"tags": [], "owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "is_accepted": true, "score": 1, "last_activity_date": 1569465810, "creation_date": 1569465810, "answer_id": 58108877, "question_id": 58099244, "link": "https://stackoverflow.com/questions/58099244/how-to-set-libstdc-linking-to-static-when-other-linked-library-link-stdc-as/58108877#58108877", "title": "How to set libstdc++ linking to static when other linked library link stdc++ as dynamic?", "body": "<blockquote>\n  <p>I have libraries that link stdc ++ dynamically. I want to create new shared library with new files, link them and link libstdc++ statically.</p>\n</blockquote>\n\n<p>That is a <em>really bad idea</em>(TM). When your binary executes on a system with a different version of <code>libstdc++.so.6</code>, you will have symbol collisions (unless you are extremely careful about hiding all relevant symbols inside your shared library), which will likely lead to very hard to debug crashes or other undefined behavior.</p>\n\n<blockquote>\n  <p>I tried to add -static-libstdc++ to compilation but it doesn't work. I checked with ldd and my library is still dynamically linked.</p>\n</blockquote>\n\n<p>First, adding <code>-static-libstdc++</code> to <em>compilation</em> does <em>nothing</em>. You need to add to <em>linking</em>.</p>\n\n<p>Second, it's unclear what you ran <code>ldd</code> on, and whether your library depends on other shared libraries. If it does, <code>ldd</code> will show <em>transitive</em> dependency on <code>libstdc++</code>, which is entirely expected.</p>\n\n<p>To see whether your library <em>directly</em> depends on <code>libstdc++.so.6</code>, do this:</p>\n\n<pre><code>readelf -d yourlib.so | grep 'NEEDED.*libstdc'\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 4566773, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fd8e164898ce326bf6a5c07a5094b746?s=128&d=identicon&r=PG&f=1", "display_name": "xodos", "link": "https://stackoverflow.com/users/4566773/xodos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 274, "favorite_count": 0, "accepted_answer_id": 58108877, "answer_count": 1, "score": 1, "last_activity_date": 1569597066, "creation_date": 1569417071, "last_edit_date": 1569597066, "question_id": 58099244, "link": "https://stackoverflow.com/questions/58099244/how-to-set-libstdc-linking-to-static-when-other-linked-library-link-stdc-as", "title": "How to set libstdc++ linking to static when other linked library link stdc++ as dynamic?", "body": "<p>I have libraries that link <code>stdc++</code> dynamically. I want to create new shared library with new files, link them and link <code>libstdc++</code> statically.</p>\n\n<p>I tried to add <code>-static-libstdc++</code> to the compilation but it doesn't work. I checked with <code>ldd</code> and my library is still dynamically linked.</p>\n\n<p>How can I do it?</p>\n"}, {"tags": ["c++", "opengl", "rotation", "stretch", "opengl-compat"], "comments": [{"owner": {"reputation": 1578, "user_id": 9516968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15afa6fdf1897c5ba92cea3946a5635?s=128&d=identicon&r=PG&f=1", "display_name": "Romen", "link": "https://stackoverflow.com/users/9516968/romen"}, "edited": false, "score": 1, "creation_date": 1569417207, "post_id": 58099193, "comment_id": 102590348, "body": "Just showing that one line of code isn&#39;t enough for us to help you. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> of your problem. For now, I can only guess that your viewport size and <code>glOrtho</code> arguments do not represent the same aspect ratio."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1569417511, "post_id": 58099193, "comment_id": 102590522, "body": "You should propably take a look at <a href=\"https://stackoverflow.com/questions/2571402/how-to-use-glortho-in-opengl\">How to use <code>glOrtho()</code> in OpenGL?</a>"}, {"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "reply_to_user": {"reputation": 1578, "user_id": 9516968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15afa6fdf1897c5ba92cea3946a5635?s=128&d=identicon&r=PG&f=1", "display_name": "Romen", "link": "https://stackoverflow.com/users/9516968/romen"}, "edited": false, "score": 0, "creation_date": 1569418387, "post_id": 58099193, "comment_id": 102591046, "body": "@Romen I add more code."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569420001, "post_id": 58100081, "comment_id": 102592048, "body": "I try this one but It will be not showing me in center."}, {"owner": {"reputation": 1578, "user_id": 9516968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15afa6fdf1897c5ba92cea3946a5635?s=128&d=identicon&r=PG&f=1", "display_name": "Romen", "link": "https://stackoverflow.com/users/9516968/romen"}, "reply_to_user": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569420219, "post_id": 58100081, "comment_id": 102592208, "body": "@Unknown, That is expected if you change the arguments to <code>glOrtho</code>, since that moves your view into the 3D world. You can move the object you&#39;re drawing back to the center by drawing it at <code>x = width&#47;2, y = height&#47;2</code>."}], "tags": [], "owner": {"reputation": 1578, "user_id": 9516968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f15afa6fdf1897c5ba92cea3946a5635?s=128&d=identicon&r=PG&f=1", "display_name": "Romen", "link": "https://stackoverflow.com/users/9516968/romen"}, "is_accepted": false, "score": 0, "last_activity_date": 1569419700, "creation_date": 1569419700, "answer_id": 58100081, "question_id": 58099193, "link": "https://stackoverflow.com/questions/58099193/how-to-stop-stretching-in-opengl/58100081#58100081", "title": "How to stop stretching in opengl", "body": "<p>Your window size and orthographic \"view\" do not have the same aspect ratio:</p>\n\n<pre><code>// This creates a window that's 1268 x 720 (a wide rectangle)\nint width = 1268;\nint height = 720;\nglutInitWindowSize(width, height);    \n\n// This creates a \"view\" that's 300 x 300 (a square)\nglOrtho(-300, 300, -10, 25, 0, 1);    \n</code></pre>\n\n<p>The \"view\" will be stretched to fill the viewport (window). You are seeing a 300 x 300 image being stretched to 1268x720, which definitely makes horizontal lines appear longer than vertical lines even though they're the same length in the code.</p>\n\n<p>You should call <code>glOrtho</code> using the <code>width</code> and <code>height</code> variables of your window:</p>\n\n<pre><code>glOrtho(0, width, 0, height, 0, 1);\n</code></pre>\n\n<p>Notice that I have changed the arguments to <code>(left = 0, right = width, bottom = 0, top = height, ...)</code>. This allows you to work with a screen coordinate space that is similar to 2D rendering but the bottom-left corner is <code>(0,0)</code> and the top-right is <code>(width,height)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569421203, "post_id": 58100283, "comment_id": 102592792, "body": "Do you know how to stop scrolling at 90? if I press down or up button it will be scrolling unlimited time. I want to stop that scrolling in 90"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "reply_to_user": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569421429, "post_id": 58100283, "comment_id": 102592908, "body": "@Unknown e.g. <code>case GLUT_KEY_UP:</code> <code>if (translate &lt; 90.0f ) { translate += 1.0f; }</code>"}, {"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569422114, "post_id": 58100283, "comment_id": 102593350, "body": "I try but It&#39;s not working. Still it is going in infine loop"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "reply_to_user": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569422226, "post_id": 58100283, "comment_id": 102593414, "body": "@Unknown Do you want to limit the rotation or the translation?"}, {"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 1, "creation_date": 1569422415, "post_id": 58100283, "comment_id": 102593534, "body": "It&#39;s working. My mistake I did wrong place. sorry It&#39;s working perfectly."}, {"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569422449, "post_id": 58100283, "comment_id": 102593556, "body": "Can I use 2 if condition in same place?"}, {"owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "reply_to_user": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569426777, "post_id": 58100283, "comment_id": 102596057, "body": "@Unknown Yes of course, but conditions can be concatenate by AND (<code>&amp;&amp;</code>) or OR (<code>||</code>). e.g. <code>if (translate &lt; 90.0f &amp;&amp; translate &gt; -90.0f) { ...}</code>."}, {"owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "edited": false, "score": 0, "creation_date": 1569491601, "post_id": 58100283, "comment_id": 102617742, "body": "How can I rotated text 180 degree?"}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 0, "last_activity_date": 1569421205, "last_edit_date": 1569421205, "creation_date": 1569420345, "answer_id": 58100283, "question_id": 58099193, "link": "https://stackoverflow.com/questions/58099193/how-to-stop-stretching-in-opengl/58100283#58100283", "title": "How to stop stretching in opengl", "body": "<p>At Orthographic Projection, the view space coordinates are linearly mapped to the clip space coordinates respectively normalized device coordinates. The normlaized device space is a cube with a minimum of (-1, -1, -1) and a maximum of (1, 1, 1).<br>\nFinally the coordinates in normalized device space are mapped to the rectangular viewport. </p>\n\n<p>If the viewport is rectangular then the aspect ratio has to be considered, when the view space coordinates are transformed to clip space.<br>\nThe mapping of the normalized device coordinates to the viewport distorted the geometry by the reciprocal aspect ration of the viewport. This distortion has to be compensated by the orthographic projection.</p>\n\n<p>When the orthographic projection is set by <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl2.1/xhtml/glOrtho.xml\" rel=\"nofollow noreferrer\"><code>glOrtho(left, right, bottom, top, near, far)</code></a>, then the cuboid volume is defined, which maps (left, bottom, near) to (-1, -1, -1) and (right, top, far) to (1, 1, 1).<br>\nIt is not necessary that the x and y range of the orthographic projection is equal the view port rectangle, bit the ration <code>(left-right)/(top-bottom)</code>hast to be equal the ration of the viewport rectangle else the geometry will be distored.</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>double size = 200.0f;\ndouble aspect = (double)width / (double)height;\nglOrtho(-aspect*size/2.0, aspect*size/2.0, -size/2.0, size/2.0, -1.0, 1.0);\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9061720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ac343942a9118e3dca49008be7f17ba?s=128&d=identicon&r=PG&f=1", "display_name": "Unknown", "link": "https://stackoverflow.com/users/9061720/unknown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 58100283, "answer_count": 2, "score": 1, "last_activity_date": 1569421205, "creation_date": 1569416934, "last_edit_date": 1569418470, "question_id": 58099193, "link": "https://stackoverflow.com/questions/58099193/how-to-stop-stretching-in-opengl", "title": "How to stop stretching in opengl", "body": "<p>I created Lines and when I'm rotate the line. Line will be stretch. How can I stop stretch at rotation time. When I change height in Ortho it will be not displaying properly. When Line is going left or right it will be start strtching but when it will be reach in main point it will come in real position.</p>\n\n<pre><code>#include&lt;fstream&gt;\n#include&lt;iostream&gt;\n#include&lt;stdlib.h&gt;\n#include&lt;glut.h&gt;\nusing namespace std;\nfloat yr = 0;\nvoid introscreen();\nvoid screen();\nvoid screen1();\nvoid PitchLadder();\n\nint width = 1268;\nint height = 720;\n\nfloat translate =  0.0f;\nGLfloat angle = 0.0f;\n\nvoid display(void) {\n    glClearColor(0, 0, 0, 0);\n    glMatrixMode(GL_PROJECTION);\n    glLoadIdentity();\n    glOrtho(-300, 300, -10, 25, 0, 1);\n    glMatrixMode(GL_MODELVIEW);\n    glLoadIdentity();\n    static int center_x = 0;\n    static int center_y = 0;\n}\n\nvoid specialKey(int key, int x, int y) {\n    switch (key) {\n    case GLUT_KEY_UP:\n        translate += 1.0f;\n        break;\n    case GLUT_KEY_DOWN:\n        translate -= 1.0f;\n        break;\n    case GLUT_KEY_LEFT:\n        angle += 1.0f;\n        break;\n    case GLUT_KEY_RIGHT:\n        angle -= 1.0f;\n        break;\n    }\n\n    glutPostRedisplay();\n}\n\nvoid Rolling(void) {\n    glClear(GL_COLOR_BUFFER_BIT);\n    glColor3f(0, 1, 0);\n    glPushMatrix();\n    glRotatef(-angle, 0, 0, 1);\n    glTranslatef(-10, translate,0);\n    PitchLadder();\n    glPopMatrix();\n    glFlush();\n}\n\nvoid PitchLadder() {\n    GLfloat y;\n    GLfloat y2;\n    GLfloat fSize[5];\n    GLfloat fCurrSize;\n    fCurrSize = fSize[2];\n    for (y2 = -90.0f ; y2 &lt;= 90.0f ; y2 += 10.0f) {\n        glLineWidth(fCurrSize);\n        glBegin(GL_LINES);\n        glVertex3f(-50.0f , y2 , 0);\n        glVertex3f(50.0f , y2 , 0);\n        glEnd();\n        fCurrSize += 1.0f;\n        screen();\n        screen1();\n    }\n}\n\nvoid renderbitmap1(float x3, float y3, void *font1, char *string1) {\n    char *c1;\n    glRasterPos2f(x3, y3);\n    for (c1=string1; *c1 != '\\0'; c1++) {\n        glutBitmapCharacter(font1, *c1);\n    }\n}\n\nvoid screen(void) {\n    glColor3f(0, 1, 0);\n    char buf1[20] = { '\\0' };\n    for (int row1 = -90.0f; row1 &lt;= 90 + yr; row1 +=10.0f) {\n        sprintf_s(buf1,\"%i\", row1);\n        renderbitmap1(70 , (yr+row1), GLUT_BITMAP_TIMES_ROMAN_24, buf1);\n    }\n }\n\nvoid renderbitmap2(float x4, float y4, void *font2, char *string2) {\n    char *c1;\n    glRasterPos2f(x4, y4);\n    for (c1=string2; *c1 != '\\0'; c1++) {\n        glutBitmapCharacter(font2, *c1);\n    }\n}\n\nvoid screen1(void) {\n    glColor3f(0, 1, 0);\n    char buf1[20] = { '\\0' };\n    for (int row1 = -90.0f; row1 &lt;= 90 + yr; row1 +=10.0f) {\n        sprintf_s(buf1,\"%i\", row1);\n        renderbitmap2(-70 , (yr+row1), GLUT_BITMAP_TIMES_ROMAN_24, buf1);\n    }\n }\n\nint main(int arg, char** argv) {\n    glutInit(&amp;arg, argv);\n    glutInitDisplayMode(GLUT_SINGLE | GLUT_RGB);\n    glutInitWindowSize(width, height);\n    glutInitWindowPosition(50, 100);\n    glutCreateWindow(\"HUD Lines\");\n    display();\n    glutDisplayFunc(Rolling);\n    glutSpecialFunc(specialKey);\n    glutMainLoop();\n    return 0;\n}\n\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1738, "user_id": 1342231, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/MUVfk.jpg?s=128&g=1", "display_name": "Machinegon", "link": "https://stackoverflow.com/users/1342231/machinegon"}, "edited": false, "score": 0, "creation_date": 1569416651, "post_id": 58099038, "comment_id": 102590002, "body": "Not sure that I get your question, the zero comes from first loop."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 1, "creation_date": 1569416844, "post_id": 58099038, "comment_id": 102590130, "body": "Your output doesn&#39;t match the code. The code outputs <code>i</code> before each array value, but this isn&#39;t shown in your output."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1569416867, "post_id": 58099038, "comment_id": 102590148, "body": "@interjay That is because ideone does not support files so the code does nothing: <a href=\"https://ideone.com/gLHbFH\" rel=\"nofollow noreferrer\">ideone.com/gLHbFH</a>"}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1569417481, "post_id": 58099038, "comment_id": 102590509, "body": "@NathanOliver Yes, I deleted that comment. What confused me is that the output shown in the question could not possibly have resulted from this code, whether files are supported or not."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 12119182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351541688345829/picture?type=large", "display_name": "Raja Roshaan", "link": "https://stackoverflow.com/users/12119182/raja-roshaan"}, "edited": false, "score": 0, "creation_date": 1569417604, "post_id": 58099116, "comment_id": 102590589, "body": "Ok i understand i have to store the integers in the file with spaces. But how do i retrieve the integers from the file and store them back to the array?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 19, "user_id": 12119182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351541688345829/picture?type=large", "display_name": "Raja Roshaan", "link": "https://stackoverflow.com/users/12119182/raja-roshaan"}, "edited": false, "score": 0, "creation_date": 1569417722, "post_id": 58099116, "comment_id": 102590658, "body": "@RajaRoshaan You loop does that already.  <code>for (int i = 0; i &lt; 5; i++) {     in&gt;&gt;arr[i]; }</code> says to read in 5 white space separated integers and that is what you have once you add spaces to your output loop."}], "tags": [], "owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "is_accepted": false, "score": 4, "last_activity_date": 1569416661, "creation_date": 1569416661, "answer_id": 58099116, "question_id": 58099038, "link": "https://stackoverflow.com/questions/58099038/i-am-writing-a-code-to-store-an-int-array-in-a-file-and-then-retrieve-it-in-c/58099116#58099116", "title": "I am writing a code to store an int array in a file and then retrieve it in c++, but on retrieving the first item is bogus value, how do i fix this?", "body": "<p>You forgot to add spaces to your output.  When you do </p>\n\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n    out &lt;&lt; arr[i];\n}\n</code></pre>\n\n<p><code>arr</code> contains <code>{0,1,2,3,4}</code> so you write to the file <code>01234</code> and when you read that back with</p>\n\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n    in&gt;&gt;arr[i];\n}\n</code></pre>\n\n<p>The whole <code>01234</code> is tread as a single integer of the value <code>1234</code> instead of reading each digit as a seperate number.  Changing your output loop to</p>\n\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n    out &lt;&lt; arr[i] &lt;&lt; \" \";\n}\n</code></pre>\n\n<p>will make the file have <code>0 1 2 3 4</code> and then those will be read in as separate integers.</p>\n"}, {"tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": false, "score": 7, "last_activity_date": 1569416677, "creation_date": 1569416677, "answer_id": 58099123, "question_id": 58099038, "link": "https://stackoverflow.com/questions/58099038/i-am-writing-a-code-to-store-an-int-array-in-a-file-and-then-retrieve-it-in-c/58099123#58099123", "title": "I am writing a code to store an int array in a file and then retrieve it in c++, but on retrieving the first item is bogus value, how do i fix this?", "body": "<p>When you write the data, you're going to need to put whitespace between the numbers</p>\n\n<pre><code>for (int i = 0; i &lt; 5; i++) {\n    out &lt;&lt; arr[i] &lt;&lt; ' ';\n}\n</code></pre>\n\n<p>Otherwise they'll be read in as a single <code>int</code> all at once.</p>\n"}], "owner": {"reputation": 19, "user_id": 12119182, "user_type": "registered", "profile_image": "https://graph.facebook.com/1351541688345829/picture?type=large", "display_name": "Raja Roshaan", "link": "https://stackoverflow.com/users/12119182/raja-roshaan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1569416886, "creation_date": 1569416417, "last_edit_date": 1569416886, "question_id": 58099038, "link": "https://stackoverflow.com/questions/58099038/i-am-writing-a-code-to-store-an-int-array-in-a-file-and-then-retrieve-it-in-c", "title": "I am writing a code to store an int array in a file and then retrieve it in c++, but on retrieving the first item is bogus value, how do i fix this?", "body": "<p>I am trying to store integer array in a file in c++. \nthe code is </p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;string&gt;\nusing namespace std;\nint main() {\n\n    int arr[5];\n\n    for (int i = 0; i &lt; 5; i++) {\n        arr[i] = i;\n        cout &lt;&lt; arr[i];\n    }\n    cout &lt;&lt; endl;\n    ofstream out;\n    out.open(\"arr.txt\");\n    for (int i = 0; i &lt; 5; i++) {\n        out &lt;&lt; arr[i];\n    }\n    out.close();\n\n    ifstream in;\n    in.open(\"arr.txt\");\n    for (int i = 0; i &lt; 5; i++) {\n        in&gt;&gt;arr[i];\n    }\n    in.close();\n\n    for (int i = 0; i &lt; 5; i++) {\n        cout &lt;&lt; i &lt;&lt; \" \" &lt;&lt; arr[i] &lt;&lt; endl;\n    }\n    cout &lt;&lt; arr[0] &lt;&lt; endl;\n    return 0;\n}\n\n</code></pre>\n\n<p>Now the output i am getting is </p>\n\n<pre><code>01234\n1234\n1\n2\n3\n4\n</code></pre>\n\n<p>where is the zero in the first index?</p>\n"}, {"tags": ["android", "c++", "assembly", "arm64"], "comments": [{"owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "edited": false, "score": 0, "creation_date": 1569417201, "post_id": 58098972, "comment_id": 102590341, "body": "Get a recent version of MUSL libc or something and use their syscall macro for AArch64.  The calling convention is different and registers are 64-bit so if you don&#39;t already know asm well enough to port this yourself, just get an AArch64 version of the macro."}, {"owner": {"reputation": 76134, "user_id": 417501, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/703f62ead2e305b1dff62066065a0554?s=128&d=identicon&r=PG", "display_name": "fuz", "link": "https://stackoverflow.com/users/417501/fuz"}, "edited": false, "score": 0, "creation_date": 1569422949, "post_id": 58098972, "comment_id": 102593839, "body": "Try using the <code>syscall</code> function instead."}, {"owner": {"reputation": 21, "user_id": 12119097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bF5tRt_jfSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYUEeyW7ZixCkxNa5MDEH25DXMg/photo.jpg?sz=128", "display_name": "Gaspard Le Rat", "link": "https://stackoverflow.com/users/12119097/gaspard-le-rat"}, "edited": false, "score": 0, "creation_date": 1569423770, "post_id": 58098972, "comment_id": 102594370, "body": "Thank a lot. I was doing it based on MUSL libc for AArch64, it is can be compiled, but it doesn&#39;t work. In logcat it shows an error in the place of this calling."}, {"owner": {"reputation": 21, "user_id": 12119097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bF5tRt_jfSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYUEeyW7ZixCkxNa5MDEH25DXMg/photo.jpg?sz=128", "display_name": "Gaspard Le Rat", "link": "https://stackoverflow.com/users/12119097/gaspard-le-rat"}, "edited": false, "score": 0, "creation_date": 1569502829, "post_id": 58098972, "comment_id": 102623732, "body": "Thanks a lot again for your hints. I&#39;ve tried to do it based on MUSL libc and also using by calling <code>syscall</code> directly, but I&#39;ve always got the following error in logcat: <code>seccomp prevented call to disallowed arm64 system call 0</code>"}], "owner": {"reputation": 21, "user_id": 12119097, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bF5tRt_jfSo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rclYUEeyW7ZixCkxNa5MDEH25DXMg/photo.jpg?sz=128", "display_name": "Gaspard Le Rat", "link": "https://stackoverflow.com/users/12119097/gaspard-le-rat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1569417624, "creation_date": 1569416231, "last_edit_date": 1569417624, "question_id": 58098972, "link": "https://stackoverflow.com/questions/58098972/how-can-i-switch-in-c-code-the-armeabi-v7a-assembler-to-arm64", "title": "How can I switch in C++ code the ARMEABI-V7A assembler to ARM64?", "body": "<p>I have an old code written for armeabi-v7a and I need to switch it to arm64-v8a. The part of the code is written as macro in assembler and the instruction set is not supported for arm64-v8a how it was supported for armeabi-v7a.</p>\n\n<pre><code>    #define LOAD_ARGS_0()\n    #define ASM_ARGS_0\n    #define LOAD_ARGS_1(a1)             \\\n      int _a1tmp = (int) (a1);          \\\n      LOAD_ARGS_0 ()                \\\n      _a1 = _a1tmp;\n    #define ASM_ARGS_1  ASM_ARGS_0, \"r\" (_a1)\n    #define LOAD_ARGS_2(a1, a2)         \\\n      int _a2tmp = (int) (a2);          \\\n      LOAD_ARGS_1 (a1)              \\\n      register int _a2 asm (\"a2\") = _a2tmp;\n    #define ASM_ARGS_2  ASM_ARGS_1, \"r\" (_a2)\n    #define LOAD_ARGS_3(a1, a2, a3)         \\\n      int _a3tmp = (int) (a3);          \\\n      LOAD_ARGS_2 (a1, a2)              \\\n      register int _a3 asm (\"a3\") = _a3tmp;\n    #define ASM_ARGS_3  ASM_ARGS_2, \"r\" (_a3)\n    #define LOAD_ARGS_4(a1, a2, a3, a4)     \\\n      int _a4tmp = (int) (a4);          \\\n      LOAD_ARGS_3 (a1, a2, a3)          \\\n      register int _a4 asm (\"a4\") = _a4tmp;\n    #define ASM_ARGS_4  ASM_ARGS_3, \"r\" (_a4)\n    #define LOAD_ARGS_5(a1, a2, a3, a4, a5)     \\\n      int _v1tmp = (int) (a5);          \\\n      LOAD_ARGS_4 (a1, a2, a3, a4)          \\\n      register int _v1 asm (\"v1\") = _v1tmp;\n    #define ASM_ARGS_5  ASM_ARGS_4, \"r\" (_v1)\n    #define LOAD_ARGS_6(a1, a2, a3, a4, a5, a6) \\\n      int _v2tmp = (int) (a6);          \\\n      LOAD_ARGS_5 (a1, a2, a3, a4, a5)      \\\n      register int _v2 asm (\"v2\") = _v2tmp;\n    #define ASM_ARGS_6  ASM_ARGS_5, \"r\" (_v2)\n    # define LOAD_ARGS_7(a1, a2, a3, a4, a5, a6, a7)    \\\n      int _v3tmp = (int) (a7);              \\\n      LOAD_ARGS_6 (a1, a2, a3, a4, a5, a6)          \\\n      register int _v3 asm (\"v3\") = _v3tmp;\n    # define ASM_ARGS_7 ASM_ARGS_6, \"r\" (_v3)\n    # define INTERNAL_SYSCALL_RAW(name, err, nr, args...)       \\\n      ({                                \\\n           register int _a1 asm (\"r0\"), _nr asm (\"r7\");     \\\n           LOAD_ARGS_##nr (args)                    \\\n           _nr = name;                      \\\n           __asm__ __volatile__ (\"swi   0x0 @ syscall \" #name   \\\n                 : \"=r\" (_a1)               \\\n                 : \"r\" (_nr) ASM_ARGS_##nr          \\\n                 : \"memory\");               \\\n           _a1; })\n\n</code></pre>\n\n<p>The compiler reports - \nerror: unknown register name 'a2' in asm \nres = INTERNAL_SYSCALL_RAW (__NR_set_robust_list, NULL, 2, &amp;pd->robust_head, sizeof (f_robust_list_head_type));</p>\n\n<p>This macro is called as - </p>\n\n<pre><code>res = INTERNAL_SYSCALL_RAW (__NR_set_robust_list, NULL, 2, &amp;pd-&gt;robust_head, sizeof (f_robust_list_head_type));\n</code></pre>\n\n<p>Can somebody of you help me with that?</p>\n"}, {"tags": ["c++", "arrays", "class", "oop", "object"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1569415973, "post_id": 58098798, "comment_id": 102589565, "body": "A debugger should let you see the call stack which would go a long way to explaining what is happening."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1569415992, "post_id": 58098798, "comment_id": 102589576, "body": "Are you allowed to use a <code>std::vector</code>?"}, {"owner": {"reputation": 27, "user_id": 11936923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rH4ja.jpg?s=128&g=1", "display_name": "User234", "link": "https://stackoverflow.com/users/11936923/user234"}, "edited": false, "score": 0, "creation_date": 1569433490, "post_id": 58098798, "comment_id": 102598981, "body": "No, we can&#39;t use that too :x"}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1569416088, "post_id": 58098914, "comment_id": 102589636, "body": "You may want to mention that <code>bankaccount persons[100]=0;</code> is not legal code and wont compile in modern compilers."}], "tags": [], "owner": {"reputation": 206047, "user_id": 126769, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zBsgn.png?s=128&g=1", "display_name": "nos", "link": "https://stackoverflow.com/users/126769/nos"}, "is_accepted": false, "score": 2, "last_activity_date": 1569416190, "last_edit_date": 1569416190, "creation_date": 1569416030, "answer_id": 58098914, "question_id": 58098798, "link": "https://stackoverflow.com/questions/58098798/why-is-my-bank-management-system-not-working-properly/58098914#58098914", "title": "Why is my Bank Management System not working properly?", "body": "<p><code>bankaccount persons[100]=0;</code></p>\n\n<p>Here you construct 100 objects of your <code>bankaccount</code>.</p>\n\n<p>Your <code>bankaccount</code> constructor has these 2 lines:</p>\n\n<pre><code>cout&lt;&lt;\"\\n Enter Full Name:\";\ngetline(cin,name);\n</code></pre>\n\n<p>So each time you create a <code>bankaccount</code> object, you're prompted for its name. You probably didn't intend that. You need to de-couple this, so asking the user for the Full Name, assigning it to a bankaccount, and constructing a bankaccount object are separate.</p>\n\n<p>e.g. you can create option 6 to assign a name to the bankaccount instead of doing it inside the constructor of your <code>bankaccount</code> class.</p>\n"}, {"tags": [], "owner": {"reputation": 16, "user_id": 12133869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a06846dad1c214923a7154cc81357e01?s=128&d=identicon&r=PG&f=1", "display_name": "iSuckAtCpp", "link": "https://stackoverflow.com/users/12133869/isuckatcpp"}, "is_accepted": true, "score": 0, "last_activity_date": 1569652699, "creation_date": 1569652699, "answer_id": 58143987, "question_id": 58098798, "link": "https://stackoverflow.com/questions/58098798/why-is-my-bank-management-system-not-working-properly/58143987#58143987", "title": "Why is my Bank Management System not working properly?", "body": "<p>If you aren't restricted the use of pointers or you don't <em>have</em> to specifically store it in a static array you can try this. You can create an array of bankaccount type pointers. In this case an array of 100 pointers. Each pointer will point to a separate object of bankaccount. <a href=\"https://imgur.com/a/KflNVbc\" rel=\"nofollow noreferrer\">https://imgur.com/a/KflNVbc</a> for a better visual understanding.</p>\n\n<p>You can create it like this:</p>\n\n<pre><code>bankaccount* persons[100];\n</code></pre>\n\n<p>So in case 1, when you create a new account and add it to the array you can do this:</p>\n\n<pre><code>persons[number] = new bankaccount();\nnumber++;\n</code></pre>\n\n<p>This way you won't have to change your constructor. Just a cool way of doing this.</p>\n"}], "owner": {"reputation": 27, "user_id": 11936923, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rH4ja.jpg?s=128&g=1", "display_name": "User234", "link": "https://stackoverflow.com/users/11936923/user234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 58143987, "answer_count": 2, "score": 0, "last_activity_date": 1569652699, "creation_date": 1569415709, "last_edit_date": 1569415884, "question_id": 58098798, "link": "https://stackoverflow.com/questions/58098798/why-is-my-bank-management-system-not-working-properly", "title": "Why is my Bank Management System not working properly?", "body": "<p>So, I am making this bank management system in c++ where I will have to give the user an option to create an account, deposit the money, withdraw it, and display the details. I also need to store in the array of objects so that the entire data can be displayed after the user exits. The restrictions are that I cannot use file handling. But it isn't working properly.</p>\n\n<p>Please help.</p>\n\n<p>When I run it, it keeps asking me for full name. How do I resolve this issue?\nI feel like this issue is occurring because of the persons array of type bankaccount, but I don't see any other possible way to do this.\nI have deleted the details of some functions because it became a lengthy block of code.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;string&gt;\n#include &lt;time.h&gt;  \n#include &lt;cstdlib&gt;\nusing namespace std;\nclass bankaccount {\nprivate:\n    int id;\n    string name;\n    int cash;\n    int money;\n    int age;\npublic:\n    string get_name() {\n        return name;\n    }\n    int get_id() {\n        return id;\n    }\n    void withdraw();\n    void deposit();\n    int see_money();\n    bankaccount(int id1) {\n        id = id1;\n\n        cout &lt;&lt; \"\\n Enter Full Name:\";\n        getline(cin, name);\n\n    }\n    friend ostream&amp; operator&lt;&lt;(ostream&amp; os, const bankaccount&amp; d);\n\n\n\n\n};\n\nostream&amp; operator&lt;&lt;(ostream&amp; os, bankaccount&amp; d) {\n    os &lt;&lt; \"\\n Your name is:\" &lt;&lt; d.get_name();\n    os &lt;&lt; \"\\n Your id is:\" &lt;&lt; d.get_id();\n    os &lt;&lt; \"\\n You have a total of : \" &lt;&lt; d.see_money();\n}\nint main() {\n    bankaccount persons[100] = 0;\n    int option;\n    int id;\n    int number = 0;\n    cout &lt;&lt; \"BANKING MANAGEMENT SYSTEM!\" &lt;&lt; endl;\n    cout &lt;&lt; \"-------------------------------------------------------------------------------\";\n    while (1) {\n\n        cout &lt;&lt; \"\\nEnter 1 to create an account. Enter 2 to deposit money. Enter 3 to withdraw money. Enter 4 to check money. Enter 5 to display. Enter 6 to exit\";\n        cin &gt;&gt; option;\n        switch (option) {\n        case 1: {\n\n            bankaccount p(number);\n            persons[number] = p;\n\n            cout &lt;&lt; \"Your ID is:\" &lt;&lt; number &lt;&lt; endl;\n            number++;\n            break;\n        }\n        case 2: {\n            cout &lt;&lt; \"\\n Enter Your ID:\";\n            cin &gt;&gt; number;\n\n\n            persons[number].deposit();\n            break;\n        }\n        case 3: {\n            cout &lt;&lt; \"\\n Enter Your ID:\";\n            cin &gt;&gt; number;\n            persons[number].withdraw();\n            break;\n        }\n        case 4: {\n            cout &lt;&lt; \"\\n Enter Your ID:\";\n            cin &gt;&gt; number;\n            persons[number].see_money();\n            break;\n        }\n        case 5: {\n            cout &lt;&lt; \"\\n Enter Your ID:\";\n            cin &gt;&gt; number;\n            cout &lt;&lt; persons[number];\n            break;\n        }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/3DyOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3DyOc.png\" alt=\"Here is the output:\"></a></p>\n"}, {"tags": ["c++", "templates", "parameters", "linked-list"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1569414538, "post_id": 58098371, "comment_id": 102588619, "body": "related: <a href=\"https://stackoverflow.com/questions/2592137/what-is-the-point-of-function-pointers\" title=\"what is the point of function pointers\">stackoverflow.com/questions/2592137/&hellip;</a>  Trying to find a better target for a dupe"}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 3, "creation_date": 1569414545, "post_id": 58098371, "comment_id": 102588626, "body": "Search for <i>function pointers</i>."}, {"owner": {"reputation": 12749, "user_id": 7976805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a559df8b4b287aad23724b4c66d67c?s=128&d=identicon&r=PG&f=1", "display_name": "Yksisarvinen", "link": "https://stackoverflow.com/users/7976805/yksisarvinen"}, "edited": false, "score": 2, "creation_date": 1569414612, "post_id": 58098371, "comment_id": 102588676, "body": "There&#39;s this <a href=\"https://cdecl.org/?q=void+%28%2Aop%29%28int+%26%2C+void+%2A%29\" rel=\"nofollow noreferrer\">translator</a>  from C (and bits of C++) to English."}, {"owner": {"reputation": 5569, "user_id": 201787, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/vgB9F.jpg?s=128&g=1", "display_name": "metal", "link": "https://stackoverflow.com/users/201787/metal"}, "edited": false, "score": 0, "creation_date": 1569414918, "post_id": 58098371, "comment_id": 102588877, "body": "See also <a href=\"https://isocpp.org/wiki/faq/pointers-to-members#fnptr-vs-memfnptr-types\" rel=\"nofollow noreferrer\">this FAQ</a>."}, {"owner": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 5, "creation_date": 1569415359, "post_id": 58098371, "comment_id": 102589180, "body": "It&#39;s amazing that someone would give you this assignment without having previously explained the function pointer syntax."}, {"owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "reply_to_user": {"reputation": 55059, "user_id": 212858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1166c87b6f3fc2e6746da96b60fefb46?s=128&d=identicon&r=PG", "display_name": "Useless", "link": "https://stackoverflow.com/users/212858/useless"}, "edited": false, "score": 0, "creation_date": 1569416042, "post_id": 58098371, "comment_id": 102589602, "body": "@Useless - Indeed, function pointer syntax is probably one of the top 5 causes of confusion for students of C++!"}, {"owner": {"reputation": 9396, "user_id": 2261538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4e60dd44745bd1518ee933e081119de?s=128&d=identicon&r=PG", "display_name": "darune", "link": "https://stackoverflow.com/users/2261538/darune"}, "edited": false, "score": 3, "creation_date": 1569416114, "post_id": 58098371, "comment_id": 102589654, "body": "Rant: It amazes me sometimes how bad teachers are at teaching c++. I think this is one reason why the langauge isn&#39;t used more widespread. It&#39;s as if some teachers are at point where they teach &#39;C with classes&#39; (actually one of the first c++ versions was called that) and not c++. If you give someone a course of Java - it would be insane to start teaching them bytecode (even though the teacher may know bytecode really well). Perhaps not a good example but you get my point. It should be the other way around !"}], "answers": [{"comments": [{"owner": {"reputation": 1557, "user_id": 455272, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7136815360dc6a31fa98264dd712a4e1?s=128&d=identicon&r=PG", "display_name": "DanS", "link": "https://stackoverflow.com/users/455272/dans"}, "edited": false, "score": 1, "creation_date": 1569415211, "post_id": 58098521, "comment_id": 102589070, "body": "It&#39;s a pointer to a function, and there needs to be a function that it points to. In this case, the function needs to be passed in when traverse() is called"}, {"owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "reply_to_user": {"reputation": 1557, "user_id": 455272, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/7136815360dc6a31fa98264dd712a4e1?s=128&d=identicon&r=PG", "display_name": "DanS", "link": "https://stackoverflow.com/users/455272/dans"}, "edited": false, "score": 0, "creation_date": 1569415653, "post_id": 58098521, "comment_id": 102589373, "body": "@DanS Thanks for the comment! I&#39;ve expanded my answer to incorporate your suggestion."}], "tags": [], "owner": {"reputation": 29641, "user_id": 10871073, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ddBW9.png?s=128&g=1", "display_name": "Adrian Mole", "link": "https://stackoverflow.com/users/10871073/adrian-mole"}, "is_accepted": true, "score": 4, "last_activity_date": 1569415533, "last_edit_date": 1569415533, "creation_date": 1569414891, "answer_id": 58098521, "question_id": 58098371, "link": "https://stackoverflow.com/questions/58098371/what-are-void-opt-and-void-opt-void/58098521#58098521", "title": "What are void (*op)(T &amp;) and void (*op)(T &amp;, void *)?", "body": "<p>The code <code>void (*op)(T &amp;)</code> declares <code>op</code> as a <em>pointer to a function</em> taking a reference to a type <code>T</code> as an argument; <code>void (*op)(T &amp;, void *)</code> is similar but with an extra argument of type <code>void*</code>.</p>\n\n<p>Rather than trying to assign a pointer to an <em>object</em> to it in your (commented-out) code, <code>op = this-&gt;_pHead;</code> you should be <strong><em>calling</em></strong> the function passed. Something like this, for example:</p>\n\n<pre><code>void traverse(void (*op)(T &amp;, void *), void *pParam) {\n// TODO: Your code goes here\n    op(pHead-&gt;data, pParam); // First parameter is a T passed by reference\n}\n</code></pre>\n\n<p>Elsewhere in your code, when you actually <strong>call</strong> <code>traverse</code>, you would need to give, as its first argument, (the address of) a function that you (or somebody) has defined; for example:</p>\n\n<pre><code>template &lt;class T&gt; void myFunc(T&amp; obj, void *pParam) {\n    string *Req = static_cast&lt;string *&gt;(pParam);\n    if (*Req == \"find city's id\") {\n    // do something with/to \"obj\"\n    }\n}\n//...\ntraverse(myFunc, pString);\n// ...\n</code></pre>\n\n<p>Feel free to ask for further explanation (but also read the comments given in your question)!</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1569419763, "last_edit_date": 1569419763, "creation_date": 1569418182, "answer_id": 58099574, "question_id": 58098371, "link": "https://stackoverflow.com/questions/58098371/what-are-void-opt-and-void-opt-void/58099574#58099574", "title": "What are void (*op)(T &amp;) and void (*op)(T &amp;, void *)?", "body": "<p>This: </p>\n\n<pre><code>void traverse(void (*op)(T &amp;)) {\n  // TODO: Your code goes here\n}\n</code></pre>\n\n<p>is a function declaration that has one parameter of pointer to the function type \n<code>void ( * )(T &amp;)</code>.</p>\n\n<p>The declaration would look more simple if instead of the function pointer there will be a function type as for example:</p>\n\n<pre><code>void traverse( void op( T &amp; ) ) {\n    // TODO: Your code goes here\n}\n</code></pre>\n\n<p>The compiler implicitly converts the function type to pointer to the function type.</p>\n\n<p>This: </p>\n\n<pre><code>void traverse(void (*op)(T &amp;, void *), void *pParam) {\n    // TODO: Your code goes here\n    //    string *Req = static_cast&lt;string *&gt;(pParam);\n    //    if (*Req == \"find city's id\") {\n    //        op = this-&gt;_pHead;\n    //    };\n}\n</code></pre>\n\n<p>is also a function declaration with two parameters the first of which has a pointer to function type.</p>\n\n<p>Again instead of a function pointer there could be declared a parameter of a function type:</p>\n\n<pre><code>void traverse( void op(T &amp;, void *), void *pParam ) {\n   // TODO: Your code goes here\n   //    string *Req = static_cast&lt;string *&gt;(pParam);\n   //    if (*Req == \"find city's id\") {\n   //        op = this-&gt;_pHead;\n   //    };\n}\n</code></pre>\n\n<p>That makes the declaration clearer.</p>\n"}], "owner": {"reputation": 55, "user_id": 8051562, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r0KipxdJkqk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIrtiUEajiBlGzZpJausk5DPAnEA/photo.jpg?sz=128", "display_name": "Daanturo", "link": "https://stackoverflow.com/users/8051562/daanturo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 58098521, "answer_count": 2, "score": 2, "last_activity_date": 1569419763, "creation_date": 1569414427, "last_edit_date": 1569419525, "question_id": 58098371, "link": "https://stackoverflow.com/questions/58098371/what-are-void-opt-and-void-opt-void", "title": "What are void (*op)(T &amp;) and void (*op)(T &amp;, void *)?", "body": "<p>I have an assignment about linked list and template where there are functions with strange parameters which are mandatory.\nI couldn't find online document about it and any provided materials are appreciated.</p>\n\n<p>I have tried to assign op with another address and then it compiled just fine but I couldn't call it.</p>\n\n<pre><code>template &lt;class T&gt; struct L1Item {\n  T data;\n  L1Item&lt;T&gt; *pNext;\n  L1Item() : pNext(NULL) {}\n  L1Item(T &amp;a) : data(a), pNext(NULL) {}\n};\n\ntemplate &lt;class T&gt; class L1List {\n  L1Item&lt;T&gt; *_pHead; // The head pointer of linked list\n  size_t _size;      // number of elements in this list\npublic:\n  void traverse(void (*op)(T &amp;)) {\n    // TODO: Your code goes here\n  }\n  void traverse(void (*op)(T &amp;, void *), void *pParam) {\n    // TODO: Your code goes here\n    //    string *Req = static_cast&lt;string *&gt;(pParam);\n    //    if (*Req == \"find city's id\") {\n    //        op = this-&gt;_pHead;\n    //    };\n  }\n};\n</code></pre>\n"}, {"tags": ["c++", "g++", "mingw", "stdcall"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569414295, "post_id": 58098222, "comment_id": 102588473, "body": "How do you link your application?"}, {"owner": {"reputation": 1, "user_id": 11993105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R_9bX9izg8U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9aooDtAjskueuKu7NZIJfqMP7JQ/photo.jpg?sz=128", "display_name": "Pablo", "link": "https://stackoverflow.com/users/11993105/pablo"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569417150, "post_id": 58098222, "comment_id": 102590303, "body": "I&#39;m using Qt, the &quot;LIBS&quot; section is as follows: -L$$PWD/sdk/lib -someOthersDll $$PWD/sdk/lib/theirDLL.a"}], "owner": {"reputation": 1, "user_id": 11993105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-R_9bX9izg8U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re9aooDtAjskueuKu7NZIJfqMP7JQ/photo.jpg?sz=128", "display_name": "Pablo", "link": "https://stackoverflow.com/users/11993105/pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569417242, "creation_date": 1569413916, "last_edit_date": 1569417242, "question_id": 58098222, "link": "https://stackoverflow.com/questions/58098222/problems-linking-against-a-dll", "title": "Problems linking against a DLL", "body": "<p>I'm trying to use a third party DLL (I'm compiling using MinGW) but I'm facing some troubles. First of all, the DLL exports undecorated names, but the declaration of the functions seen in the header files contain \"__stdcall\". Appart of that, I'm using C++, but I've sorrounded the include with 'extern \"C\"'. </p>\n\n<p>The error:</p>\n\n<blockquote>\n  <p>undefined reference to `Play_Stop@4'</p>\n</blockquote>\n\n<p>I've tried to link directly to the DLL, as G++ is theorically capable of doing that, but I got some \"undefined reference\"s. </p>\n\n<p>Then I tried to generate a <code>.def</code> file, using gendef (<code>gendef theirDLL.dll</code>) and later I used <code>dlltool</code> to generate an import lib:\n<code>dlltool -k --no-leading-underscore -d theirDLL.def -D theirDLL.dll -l theirDLL.a</code>. Note that I used <code>--no-leading-underscore</code> as I observed with <code>nm</code> that all the functions were preceeded by one underscore, which was causing troubles. </p>\n\n<p>However, even doing all of that, I don't get it to link properly. Any ideas? </p>\n\n<p>I've checked that the linker founds the static library. </p>\n\n<p>The function declaration in header file:</p>\n\n<pre><code>BOOL __stdcall Play_Stop(LONG nPort);\n</code></pre>\n\n<p>The include directive:</p>\n\n<pre><code>extern \"C\"{\n#include \"PlaySDK.h\"\n}\n</code></pre>\n\n<p>The nm command output (theirDLL.a)</p>\n\n<pre><code>...\ndaazs00103.o:\n00000000 b .bss\n00000000 d .data\n00000000 i .idata$4\n00000000 i .idata$5\n00000000 i .idata$6\n00000000 i .idata$7\n00000000 t .text\n00000000 T Play_Stop@4\n00000000 I __imp_Play_Stop@4\n...\n</code></pre>\n\n<p>And the error:</p>\n\n<blockquote>\n  <p>undefined reference to `Play_Stop@4'</p>\n</blockquote>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["c++", "c++11", "c++17"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 10, "creation_date": 1569413694, "post_id": 58098054, "comment_id": 102588098, "body": "If the code you have works, and you are only looking to improve it, I think that it would be more on-topic on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>."}, {"owner": {"reputation": 1894, "user_id": 8473031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4878bfc9d6a80397a8446111fffa4dd?s=128&d=identicon&r=PG&f=1", "display_name": "RoQuOTriX", "link": "https://stackoverflow.com/users/8473031/roquotrix"}, "edited": false, "score": 0, "creation_date": 1569413697, "post_id": 58098054, "comment_id": 102588100, "body": "And what does not work?"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1569414005, "post_id": 58098054, "comment_id": 102588295, "body": "I would replace <code>std::cout</code> by <code>throw</code>/<code>return</code> (<code>std::string_view</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 9396, "user_id": 2261538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4e60dd44745bd1518ee933e081119de?s=128&d=identicon&r=PG", "display_name": "darune", "link": "https://stackoverflow.com/users/2261538/darune"}, "is_accepted": true, "score": 1, "last_activity_date": 1569418139, "last_edit_date": 1569418139, "creation_date": 1569417826, "answer_id": 58099469, "question_id": 58098054, "link": "https://stackoverflow.com/questions/58098054/extracting-a-substring-to-the-last-nth-delimiter-c/58099469#58099469", "title": "Extracting a substring to the last-nth delimiter C++", "body": "<p>You are over-complicating things :)</p>\n\n<p>Just do:</p>\n\n<pre><code>std::string elaborateParent( const std::string&amp; input, unsigned int levels )\n{\n  auto result = input;\n  for(; levels != -1; --levels) {\n    result.erase(result.find_last_of('.'));\n  }\n  return result;\n}\n</code></pre>\n\n<p><strong>And I doubt you get better performance than this!</strong></p>\n"}], "owner": {"reputation": 5, "user_id": 5809710, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207499150173696/picture?type=large", "display_name": "Paris Moschovakos", "link": "https://stackoverflow.com/users/5809710/paris-moschovakos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "closed_date": 1569433549, "accepted_answer_id": 58099469, "answer_count": 1, "score": -3, "last_activity_date": 1569418139, "creation_date": 1569413433, "question_id": 58098054, "link": "https://stackoverflow.com/questions/58098054/extracting-a-substring-to-the-last-nth-delimiter-c", "closed_reason": "Needs details or clarity", "title": "Extracting a substring to the last-nth delimiter C++", "body": "<p>I am trying in C++ to find </p>\n\n<ol>\n<li>the most performant</li>\n<li>the most elegant </li>\n</ol>\n\n<p>code that takes a string and an integer and for a given delimiter, let's say \".\", results to the nth from the last substring.</p>\n\n<p>Example\nInput:</p>\n\n<p>string \"a.b.c.d.e\" and delimFromEndLevel = 1 => string \"a.b.c.d\"</p>\n\n<p>string \"a.b.c.d.e\" and delimFromEndLevel = 2 => string \"a.b.c\"</p>\n\n<p>etc.</p>\n\n<p>Starting point is the following code:</p>\n\n<pre><code>void elaborateParent( const std::string&amp; input, unsigned int levels )\n{\n    std::size_t cutOffIndex = std::string::npos;\n    while (levels &gt; 0)\n    {\n        cutOffIndex = input.rfind('.', cutOffIndex);\n        if (cutOffIndex == std::string::npos)\n            std::cout &lt;&lt; \"Not enough levels to go up!\" &lt;&lt; std::endl; \n        levels--;\n        if (levels&gt;0)\n        {\n            if (cutOffIndex&gt;0)\n                cutOffIndex--;\n            else\n                std::cout &lt;&lt; \"Not enough levels to go up!\" &lt;&lt; std::endl;\n        }\n    }\n    std::string result = input.substr(0, cutOffIndex);\n    std::cout &lt;&lt; \"Elaboration parent result: '\" &lt;&lt; result &lt;&lt; \"'\" &lt;&lt; std::endl;\n}\n</code></pre>\n"}, {"tags": ["c++", "cryptography", "crypto++", "der"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1569508316, "post_id": 58097935, "comment_id": 102627171, "body": "Also see <a href=\"https://www.cryptopp.com/wiki/DSAConvertSignatureFormat\" rel=\"nofollow noreferrer\">DSAConvertSignatureFormat</a> on the Crypto++ wiki. It is a relatively new page. It was written after this question."}], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 7404222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829c3c8a820a46a600b240c56cad1bfd?s=128&d=identicon&r=PG&f=1", "display_name": "pipou", "link": "https://stackoverflow.com/users/7404222/pipou"}, "edited": false, "score": 0, "creation_date": 1569501578, "post_id": 58109411, "comment_id": 102623034, "body": "Thanks a lot for this complete and efficient reply, you definitely saved my week ! :)"}], "tags": [], "owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "is_accepted": true, "score": 2, "last_activity_date": 1570416803, "last_edit_date": 1570416803, "creation_date": 1569470754, "answer_id": 58109411, "question_id": 58097935, "link": "https://stackoverflow.com/questions/58097935/convert-signature-from-p1363-to-asn-1-der-format-using-crypto/58109411#58109411", "title": "Convert signature from P1363 to ASN.1/DER format using Crypto++?", "body": "<blockquote>\n  <p>The output of this convertion is curious, it seems to be only the\n  first part of the signature. It have a size of 8 and contains :</p>\n\n<pre><code>300D020500ECCD53\n</code></pre>\n  \n  <p>What is wrong ?</p>\n</blockquote>\n\n<p>Instead of:</p>\n\n<blockquote>\n<pre><code>size_t converted_size = DSAConvertSignatureFormat(\n    (byte*) (derSign.data()), sizeof(derSign.data()), DSA_DER,\n    (byte*) (signature.data()), sizeof(signature.data()), DSA_P1363);\n</code></pre>\n</blockquote>\n\n<p>You should use something like:</p>\n\n<pre><code>size_t converted_size = DSAConvertSignatureFormat(\n    (byte*) (derSign.data()), derSign.size(), DSA_DER,\n    (const byte*) (signature.data()), signature.size(), DSA_P1363);\n</code></pre>\n\n<p><code>sizeof(derSign.data())</code> yields the <code>sizeof</code> a <code>size_t</code>, which is different then the size of the string data.</p>\n\n<p>Also, since <code>derSign</code> is being written to, you need a non-const pointer. The way to get that with nearly all versions of C++ is using the address of the first element:</p>\n\n<pre><code>size_t converted_size = DSAConvertSignatureFormat(\n    (byte*) (&amp;derSign[0]), derSign.size(), DSA_DER,\n    (const byte*) (signature.data()), signature.size(), DSA_P1363);\n</code></pre>\n\n<p>Nearly finally, this is what you have in P1363, where <code>r</code> and <code>s</code> are a concatenation and each is based on the size of a field element and subgroup order:</p>\n\n<pre><code>[ r ] [ s ]\n</code></pre>\n\n<p>This is what you need in ASN.1/DER. There are 3 ASN.1 objects - one sequence and two integers. Each object needs one octet for the ASN.1 type, and at most two octets for the length. <code>r</code> and <code>s</code> are the size of the field element. Each ASN.1 integer may need a leading 0, so add two additional bytes for both <code>r</code> and <code>s</code>.</p>\n\n<pre><code>SEQUENCE = {\n    INTEGER r;\n    INTEGER s;\n}\n</code></pre>\n\n<p>So, for the ASN.1/DER buffer, you need 3+3+3+COUNTOF(r)+1+COUNTOF(s)+1.</p>\n\n<p>Finally, the snippet may look like:</p>\n\n<pre><code>using namespace CryptoPP;\n// ... Other gyrations\n\nstd::string derSign, signature;\n// ...Calculate signature\n\n// Make room for the ASN.1/DER encoding\nderSign.resize(3+3+3+2+signature.size())\n\nsize_t converted_size = DSAConvertSignatureFormat(\n    (byte*) (&amp;derSign[0]), derSign.size(), DSA_DER,\n    (const byte*) (signature.data()), signature.size(), DSA_P1363);\n\nASSERT(converted_size &lt;= derSign.size());\nderSign.resize(converted_size);\n</code></pre>\n\n<hr>\n\n<p>Crypto++ now has a page on the wiki at <a href=\"https://www.cryptopp.com/wiki/DSAConvertSignatureFormat\" rel=\"nofollow noreferrer\"><code>DSAConvertSignatureFormat</code></a>. There is an example of using <code>DSAConvertSignatureFormat</code> at <a href=\"https://www.cryptopp.com/wiki/Elliptic_Curve_Digital_Signature_Algorithm#OpenSSL_and_Java\" rel=\"nofollow noreferrer\">ECDSA | OpenSSL and Java</a>, but the conversion is going the other way.</p>\n\n<p>(Your question and lack of documentation effectively triggered a bug, and we closed the gap).</p>\n\n<hr>\n\n<p>I just noticed this...</p>\n\n<blockquote>\n<pre><code>size_t siglenth = _signer.SignatureLength();\nQByteArray signature(siglenth, 0x00);\nsignature.reserve(siglenth);\nsiglenth = _signer.SignMessage(_prng, (const CryptoPP::byte*) (message.constData()),\n                               message.length(), (CryptoPP::byte*) signature.data());\n</code></pre>\n</blockquote>\n\n<p>Instead use this:</p>\n\n<pre><code>QByteArray signature;\nsize_t siglenth = _signer.SignatureLength();\n\nsignature.resize(siglenth);\nsiglenth = _signer.SignMessage(_prng,\n             (const byte*) (message.constData()), message.length(),\n             (byte*) (&amp;signature[0]));\nsignature.resize(siglenth);\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 7404222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/829c3c8a820a46a600b240c56cad1bfd?s=128&d=identicon&r=PG&f=1", "display_name": "pipou", "link": "https://stackoverflow.com/users/7404222/pipou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 436, "favorite_count": 0, "accepted_answer_id": 58109411, "answer_count": 1, "score": 5, "last_activity_date": 1570416803, "creation_date": 1569413041, "last_edit_date": 1569541563, "question_id": 58097935, "link": "https://stackoverflow.com/questions/58097935/convert-signature-from-p1363-to-asn-1-der-format-using-crypto", "title": "Convert signature from P1363 to ASN.1/DER format using Crypto++?", "body": "<p>I have a signature created this way:</p>\n\n<pre class=\"lang-cxx prettyprint-override\"><code>size_t siglenth = _signer.MaxSignatureLength();\nQByteArray signature(siglenth, 0x00);\nsignature.reserve(siglenth);\nsiglenth = _signer.SignMessage(_prng,\n        (const CryptoPP::byte*) (message.constData()),\n        message.length(), (CryptoPP::byte*) signature.data());\n</code></pre>\n\n<p>My signature have a size of 64 and contains:</p>\n\n<blockquote>\n  <p>ECCD530E5F232B7C566CA5322F990B3D55ED91156DF3845C4B9105BFE57606DDD68F332A0A5BF7CAB673E4970D10109B72F114571E7474F93ED7C89CD1B89AD4</p>\n</blockquote>\n\n<p>From what I have read in <code>dsa.h</code> file this signature is currently in <code>DSA_P1363</code> format. I need to convert it to <code>DSA_DER</code> format. </p>\n\n<p>To perform this action I try : </p>\n\n<pre class=\"lang-cxx prettyprint-override\"><code>QByteArray derSign(70, 0xFF);\nsize_t converted_size = CryptoPP::DSAConvertSignatureFormat(\n        (CryptoPP::byte*) (derSign.data()), sizeof(derSign.data()), CryptoPP::DSA_DER,\n        (CryptoPP::byte*) (signature.data()), sizeof(signature.data()), CryptoPP::DSA_P1363);\n</code></pre>\n\n<p>The output of this conversion is shown below. It seems to be only the first part of the signature. It has a size of 8 and contains: </p>\n\n<blockquote>\n  <p>300D020500ECCD53</p>\n</blockquote>\n\n<p>What is wrong? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["c#", "c++", "windows", "scheduled-tasks", "multiple-instances"], "comments": [{"owner": {"reputation": 428, "user_id": 5165289, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PF51Jtn1524/AAAAAAAAAAI/AAAAAAAAABM/8D6JrCYReME/photo.jpg?sz=128", "display_name": "Stf Kolev", "link": "https://stackoverflow.com/users/5165289/stf-kolev"}, "edited": false, "score": 0, "creation_date": 1569412202, "post_id": 58097649, "comment_id": 102587301, "body": "You can try out and run multiple threads whilst managing them with condition variables/mutexes. Please take a look at this book I found online about C++ concurrency <a href=\"https://www.bogotobogo.com/cplusplus/files/CplusplusConcurrencyInAction_PracticalMultithreading.pdf\" rel=\"nofollow noreferrer\">C++ Concurrency in Action</a>."}, {"owner": {"reputation": 15949, "user_id": 687262, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/x6GN0.png?s=128&g=1", "display_name": "BugFinder", "link": "https://stackoverflow.com/users/687262/bugfinder"}, "edited": false, "score": 0, "creation_date": 1569412629, "post_id": 58097649, "comment_id": 102587500, "body": "if you started the process from your own c# app you can check if the app is still alive."}, {"owner": {"reputation": 106, "user_id": 1977537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e13e29ee12bd180bcae208ab17c795?s=128&d=identicon&r=PG", "display_name": "vlad", "link": "https://stackoverflow.com/users/1977537/vlad"}, "edited": false, "score": 0, "creation_date": 1569413778, "post_id": 58097649, "comment_id": 102588156, "body": "I do not start process. it is an executable file that is run manually."}, {"owner": {"reputation": 504, "user_id": 995038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/708553130737d64a8eb8a19dff189b2d?s=128&d=identicon&r=PG", "display_name": "jondow", "link": "https://stackoverflow.com/users/995038/jondow"}, "edited": false, "score": 0, "creation_date": 1569415265, "post_id": 58097649, "comment_id": 102589116, "body": "In my setup I have each application write a record to a database table on startup, then update a timestamp on the record periodically. I have a central service that monitors the table, and looks for instances that haven&#39;t been updated within the defined period, it then deletes the record and then restarts the application. I believe Apache Zoo Keeper does this sort of thing at an enterprise scale."}, {"owner": {"reputation": 106, "user_id": 1977537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e13e29ee12bd180bcae208ab17c795?s=128&d=identicon&r=PG", "display_name": "vlad", "link": "https://stackoverflow.com/users/1977537/vlad"}, "edited": false, "score": 0, "creation_date": 1569417308, "post_id": 58097649, "comment_id": 102590401, "body": "yes we do the same thing. but some times the app just stop responding. I need a windows local solution.  the DB cleanup is automatic. when app starts it calls DB and gets a token. the user/app settings determined the life of the token and it gets clean up or expires fine.  but, if app crashes I need to restart it. nothing I tried so far works. I am still experimenting with windows task/schedule but no luck so far. it&#39;s like all instances look the same to it. so can not maintain a count."}], "owner": {"reputation": 106, "user_id": 1977537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e13e29ee12bd180bcae208ab17c795?s=128&d=identicon&r=PG", "display_name": "vlad", "link": "https://stackoverflow.com/users/1977537/vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1569413715, "creation_date": 1569412030, "last_edit_date": 1569413715, "question_id": 58097649, "link": "https://stackoverflow.com/questions/58097649/runing-and-monitoring-several-instances-of-a-custom-c-c-application-automatic", "title": "Runing and monitoring several instances of a custom C++/C# application automatically, possible?", "body": "<p>Ok, I guess I need to make myself a bit clearer, sorry.\nI DO NOT have problem with the app it self. it runs single or multiple instances just fine. we have mechanism built in to prevent cross-instance interference, file/record blocking etc..</p>\n\n<p>the issue is that sometimes  when running several instances, (some one go and click on myapp.exe several times manually ) one or more instances can crush. \nbe it from a bad data in the file, loss db connection, what ever. I am still trying to figure out some of the unexplained crushes and hanged instances sources.</p>\n\n<p>what I am looking for is a way for me to setup a monitoring process that \nA. can identify each instance of the app running  as separate entity. \nB. check if that one instance is running and not hanged / crushed , this maybe mediated but me changing the code and force the app to quit if a fatal error is detected, as in I crushed and can not recover I quit, kind of setup. \nC. start new additional instances up to the total count of desired instances running. that is I want to have a minimal count or app running at the same time. if current count is less start up new until desired count is reached. </p>\n\n<p>what would be the best approach to have this setup. </p>\n\n<hr>\n\n<p>I have a custom inhouse application written on C++ and C# mixed API. \nit is a file processing parser for EDI process, that takes data from flat files or Flat file representation from a DB table (we have other modules that store a contents of flat file in DB varchar field) and process and store data in appropriate DB tables. \nit works fine for the most part, but several clients have a need to run multiple instances of it to speed up the process. </p>\n\n<p>problem is that when the app crashes, there is no automatic way I know  to identify the instance that crashed , shut it down and restart.</p>\n\n<p>need help to identify my options here. \nhow can I run the same EXE multiple time yet monitor and manage each in the event of instance misbehaving. </p>\n\n<p>a code change is possible but C++ is not my main language so it will be a nightmare for me to do any extensive changes.</p>\n\n<p>PS>  the app is a mix of C++ and C# modules with MSSQL DB backend</p>\n\n<p>thanks.</p>\n\n<p>the process is monitored with MSSQL SPs. an issue can be identified by luck of new records processed and other factors</p>\n\n<p>my needs are to be able to \n1. start several instances of an app at the same time.\n2. monitor each instance of running EXE and if crush is detected kill and restart that one instance.  I have a kill switch in the app that can shut it down gracefully, but need a way to monitor and restart it. but only that one.</p>\n"}, {"tags": ["c++", "winapi", "dll"], "comments": [{"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1569411413, "post_id": 58097461, "comment_id": 102586886, "body": "Pass a pointer to a function, to a function in .dll, from your main application, that will be used to create the object? When you <code>new</code> in a .dll, it is created in the memory space of the .dll."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569411543, "post_id": 58097461, "comment_id": 102586956, "body": "how can i do a function in dll that will add &quot;new NumberValue&quot;  to my vector?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 1, "creation_date": 1569411687, "post_id": 58097461, "comment_id": 102587047, "body": "Re-read my comment. You can&#39;t, without changing the interface, in the manner, that I described."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569411951, "post_id": 58097461, "comment_id": 102587176, "body": "\u0421an I somehow return the values \u200b\u200bof C ++ types from the library?"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569412038, "post_id": 58097461, "comment_id": 102587219, "body": "Define what do you mean by &quot;\u0421an I somehow return the values \u200b\u200bof C ++ types from the library?&quot;."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569412159, "post_id": 58097461, "comment_id": 102587277, "body": "Don&#39;t use extern &quot;C&quot;, because when extern &quot;C&quot; used, i can&#39;t return c++ types of value (extern &quot;C&quot; std::vector&lt;int&gt; func1(); //error)"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 0, "creation_date": 1569412433, "post_id": 58097461, "comment_id": 102587405, "body": "<i>&quot;\u0421an I somehow return the values \u200b\u200bof C ++ types from the library?&quot;</i> No, unfortunately you can&#39;t. Imagine the function in the DLL returns a vector filled with some values. The memory for the vector will be allocated by the DLL&#39;s <code>new</code>. Now you resize this vector from your main program, where the main program&#39;s <code>delete</code>/<code>new</code> will be used and as we are now in a different memory space bad things will happen."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "edited": false, "score": 0, "creation_date": 1569412658, "post_id": 58097461, "comment_id": 102587513, "body": "I&#39;m writing my own interpreter, and i want to create functionality for creating user&#39;s own functions, that are written in c++.   can you offer any alternative to implement something like this?"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569412986, "post_id": 58097461, "comment_id": 102587695, "body": "Belaying the &quot;memory space&quot; lingo being tossed about, a few questions: are your DLL and EXE both built on the <i>same</i> runtime-usage settings (i.e. are they both compiling to code using the dynamic msvcrt runtime, as opposed to one being built for dynamic runtime, the other static ? Normally I discourage sending non-trivial objects in-general across DLL/EXE boundaries, but the question is important, so please look into that."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569413076, "post_id": 58097461, "comment_id": 102587734, "body": "@VovaKosachev &quot;<i>can you offer any alternative to implement something like this?</i>&quot; I already told you the first solution that came to mind: provide a callback, that allocates the memory in the main process. Couldn&#39;t think of the possible signature of such a callback yet (given the hints of infrastructure, you have, in the question), but it would depend on the infrastructure, of classes you need to allocate."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "edited": false, "score": 0, "creation_date": 1569413196, "post_id": 58097461, "comment_id": 102587797, "body": "Yes, settings are identical."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569413437, "post_id": 58097461, "comment_id": 102587945, "body": "Can you elaborate. &quot;settings are identical&quot; doesn&#39;t mean much when we don&#39;t know what those settings <i>are</i>. On both, drilling into properties, &quot;C++/Code Generation&quot; , the &quot;Runtime Library&quot; setting is set to &quot;Multi-threaded Debug DLL&quot; for debug builds, and &quot;Multi-threaded DLL&quot; for release builds ? And just-as-important, you&#39;re loading debug and debug, not debug and release (or release and debug) builds respectively (hope that made sense)."}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569413893, "post_id": 58097461, "comment_id": 102588230, "body": "@WhozCraig, &quot;Runtime Library&quot; already set correctly, and i use only debug in main app and in dll"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569414127, "post_id": 58097461, "comment_id": 102588372, "body": "Ok. last try: <i>What exactly is the Runtime Library setting for both your exe and your dll?</i> Are both  being built with  &quot;Multi-threaded Debug DLL&quot; for debug builds, and &quot;Multi-threaded DLL&quot; for release builds. Further, when testing, you&#39;re always running like-builds (i.e. if you&#39;re running the debug exe, its loading the debug dll) ?"}, {"owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "reply_to_user": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569414474, "post_id": 58097461, "comment_id": 102588585, "body": "@WhozCraig, For debug builds i use &quot;Multi-threaded Debug DLL&quot; for both, and for release builds i use &quot;Multi-threaded DLL&quot; for both. I&#39;m running test1.exe(Debug build) and trying to load DllTest1.dll(Debug build)"}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 0, "creation_date": 1569414757, "post_id": 58097461, "comment_id": 102588778, "body": "OK. Thanks. I&#39;ll have to stand up a test jig, because that <i>should</i> have a decent shot at working. As I said before, I don&#39;t advise what you&#39;re doing in general just because the setup is so finicky, and I agree with Algirdas that a callback mechanic is probably a better idea, but now i&#39;m super curious. Regardless, if everyone is using the same allocator (and they are, out of the active msvcrt in your process), things should line up. It&#39;s late here, so it may be awhile before I get to this, but I&#39;ll try to when time allows. Thx for providing the info requested."}, {"owner": {"reputation": 33827, "user_id": 506413, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1a474f3be606bcc6f964913b523626e9?s=128&d=identicon&r=PG", "display_name": "Jonathan Potter", "link": "https://stackoverflow.com/users/506413/jonathan-potter"}, "edited": false, "score": 0, "creation_date": 1569416176, "post_id": 58097461, "comment_id": 102589690, "body": "DLLs don&#39;t have their own &quot;memory space&quot;, what&#39;s happening is the DLL creates a memory heap, the vector is allocated on the DLL&#39;s heap and then when the DLL is unloaded the memory heap is freed. If you return objects from a DLL that need to be freed by the DLL you should increment the DLL&#39;s reference count to prevent it being unloaded prematurely. Obviously you can&#39;t do this with <code>std::vector</code> so you should wrap it in your own structure and provide a matching &quot;Free()&quot; function."}, {"owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "edited": false, "score": 0, "creation_date": 1569419527, "post_id": 58097461, "comment_id": 102591738, "body": "&quot;I catch an error&quot; is too vague.  What ought to happen is a hard crash on an AV, exception code 0xc0000005.  The FreeLibrary() call is dangerous, it unloads the code that implements the NumberValue class.  So anything you&#39;d do with the object, including copying and destructing it, is going to take a nose-dive.  Just don&#39;t unload it, there is no compelling reason to do so."}], "owner": {"reputation": 21, "user_id": 11090974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UAfztdrNHM4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQN93OngRYrrA9dUETTWFgug43ziXw/mo/photo.jpg?sz=128", "display_name": "Vova Kosachev", "link": "https://stackoverflow.com/users/11090974/vova-kosachev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569413709, "creation_date": 1569411311, "last_edit_date": 1569413709, "question_id": 58097461, "link": "https://stackoverflow.com/questions/58097461/c-how-to-prevent-winapifreelibrary-removing-a-variable", "title": "C++ How to prevent Winapi::FreeLibrary removing a variable?", "body": "<p>I have a dll with lib.h:</p>\n\n<pre><code>#pragma once\n\n#ifdef EXPORTS\n#define API __declspec(dllexport)\n#else\n#define API __declspec(dllimport)\n#endif\n\nextern \"C\" API void test1(std::vector&lt;ValueType*&gt;* functions);\n</code></pre>\n\n<p>and lib.cpp:</p>\n\n<pre><code>#include \"pch.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n\n#include \"ValueType.h\"\n#include \"NumberValue.h\"\n\n#include \"TestLib.h\"\n\nvoid test1(std::vector&lt;ValueType*&gt;* functions) {\n    functions-&gt;push_back(new NumberValue(123321));\n</code></pre>\n\n<p>And main file, that uses this dll is:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;Windows.h&gt;   \n\n#include \"ValueType.h\"  \n\nusing namespace std;   \n\ntypedef void (__cdecl* importedInitFunction)(std::vector&lt;ValueType*&gt;*);\nimportedInitFunction test1F;\n\nstd::vector&lt;ValueType*&gt; values;   \n\nint main() {\n    while (1) {\n        HMODULE lib = LoadLibrary(\"DllTest1.dll\");  \n        test1F = (importedInitFunction)GetProcAddress(lib, \"test1\");\n        test1F(&amp;values);\n        FreeLibrary(lib);\n        std::cout &lt;&lt; values.at(0)-&gt;asString();\n        system(\"pause\");\n    }\n    return 0;\n}\n</code></pre>\n\n<p>When I'm trying to compile my code, I catch an error because <code>values.at(0)</code> is removed.\nHow to prevent deleting my variable when calling FreeLibrary(lib) ? or\nHow to implement alternative way ?</p>\n\n<p>Another classes that used:\nValueType.h:</p>\n\n<pre><code>#pragma once\n#include &lt;string&gt;\nclass ValueType {\npublic:\n\n\n    virtual double asDouble() { return 999; }\n    virtual std::string asString() { return \"\"; }\n\n\n};\n</code></pre>\n\n<p>NumberValue.h:</p>\n\n<pre><code>#pragma once\n#include &lt;string&gt;\n#include \"ValueType.h\"\n\nclass NumberValue : public ValueType {\npublic:\n\n    double m_value;\n\n    NumberValue(double value) : m_value(value) {}\n\n    virtual double asDouble() {\n        return m_value;\n    }\n\n    virtual std::string asString() {\n        return std::to_string(m_value);\n    }\n};\n</code></pre>\n"}, {"tags": ["c++", "visual-c++", "clion", "virtual-functions", "pure-virtual"], "comments": [{"owner": {"reputation": 4513, "user_id": 1810087, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/T2x51.jpg?s=128&g=1", "display_name": "user1810087", "link": "https://stackoverflow.com/users/1810087/user1810087"}, "edited": false, "score": 0, "creation_date": 1569410787, "post_id": 58097214, "comment_id": 102586576, "body": "I just was about to edit :D"}, {"owner": {"reputation": 32072, "user_id": 7860670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LH36y.png?s=128&g=1", "display_name": "user7860670", "link": "https://stackoverflow.com/users/7860670/user7860670"}, "edited": false, "score": 0, "creation_date": 1569410846, "post_id": 58097214, "comment_id": 102586610, "body": "Pure specifier and definition at the same time is not valid indeed. It would probably be a good idea to fill a bug report."}, {"owner": {"reputation": 16265, "user_id": 7478597, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yBOIj.jpg?s=128&g=1", "display_name": "Scheff", "link": "https://stackoverflow.com/users/7478597/scheff"}, "edited": false, "score": 0, "creation_date": 1569411296, "post_id": 58097214, "comment_id": 102586826, "body": "<i>in VS2019 I&#39;m writing like that: <code>virtual ~A() = 0 {};</code> and it&#39;s fine</i> That might be a native extension of MS (and not the first one I recognized)."}, {"owner": {"reputation": 3108, "user_id": 4641116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gc52U.png?s=128&g=1", "display_name": "Eljay", "link": "https://stackoverflow.com/users/4641116/eljay"}, "edited": false, "score": 0, "creation_date": 1569411629, "post_id": 58097214, "comment_id": 102587015, "body": "In the declaration, <code>virtual ~A() = 0;</code> and provide an implementation after the declaration <code>inline A::~A() = default;</code> (because it is a destructor, it still needs to be provided).  If the implementation is in the .cpp file, omit the <code>inline</code>.  If the destructor needs to do something other than <code>default</code> provide the destructor behavior as needed."}], "answers": [{"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 5, "last_activity_date": 1569410942, "creation_date": 1569410942, "answer_id": 58097345, "question_id": 58097214, "link": "https://stackoverflow.com/questions/58097214/pure-virtual-destructors-in-c-clion-and-vs2019/58097345#58097345", "title": "pure virtual destructors in c++ Clion and VS2019", "body": "<p>From the C++ 20 (11.6.3 Abstract classes)</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>...[Note: A function declaration cannot provide both a pure-specifier and\n  a definition \u2014 end note] [Example:</li>\n  </ol>\n</blockquote>\n\n<pre><code>struct C {\n  virtual void f() = 0 { }; // ill-formed\n};\n</code></pre>\n\n<blockquote>\n  <p>\u2014 end example]</p>\n</blockquote>\n"}], "owner": {"reputation": 932, "user_id": 6345323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6dbbb0c750be6073b0d251899c74a47?s=128&d=identicon&r=PG&f=1", "display_name": "yaodav", "link": "https://stackoverflow.com/users/6345323/yaodav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "closed_date": 1569411239, "accepted_answer_id": 58097345, "answer_count": 1, "score": 3, "last_activity_date": 1569411123, "creation_date": 1569410429, "last_edit_date": 1569411123, "question_id": 58097214, "link": "https://stackoverflow.com/questions/58097214/pure-virtual-destructors-in-c-clion-and-vs2019", "closed_reason": "Duplicate", "title": "pure virtual destructors in c++ Clion and VS2019", "body": "<p>I'm trying do declare pure virtual destructor,\nin VS2019 I'm writing like that:</p>\n\n<pre><code>    virtual ~A() = 0 {};\n</code></pre>\n\n<p>and it's fine, but in Clion don't accept that\nI'm getting the following message:</p>\n\n<blockquote>\n  <p>pure-specifier on function-definition virtual ~A() = 0{ };</p>\n</blockquote>\n\n<p>and it forces me to write a different implementation for the function (not that it to much trouble but id like to know why is that)</p>\n"}, {"tags": ["c++", "lnk2019"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 2, "creation_date": 1569410467, "post_id": 58097196, "comment_id": 102586423, "body": "Linker errors are almost always unrelated to header files. Linker errors usually is because you forgot to link with some source-, object- or library-file. Or because you forgot to define (implement) some functions, or you <a href=\"https://stackoverflow.com/questions/495021/why-can-templates-only-be-implemented-in-the-header-file\">define templated functions in source files instead of header files</a>."}, {"owner": {"reputation": 443, "user_id": 6632694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a733fba5a6e866a17b36d7873a8e68f7?s=128&d=identicon&r=PG&f=1", "display_name": "Kiran Thilak", "link": "https://stackoverflow.com/users/6632694/kiran-thilak"}, "edited": false, "score": 0, "creation_date": 1569410591, "post_id": 58097196, "comment_id": 102586475, "body": "Is the function defined in your .cpp file?"}, {"owner": {"reputation": 157, "user_id": 10848189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z03flaulPCQ/AAAAAAAAAAI/AAAAAAAABJs/_gDLxfDB6u4/photo.jpg?sz=128", "display_name": "Onkar Nirhali", "link": "https://stackoverflow.com/users/10848189/onkar-nirhali"}, "edited": false, "score": 0, "creation_date": 1569411088, "post_id": 58097196, "comment_id": 102586724, "body": "yes, but in other file i.e the header file   So i have added #include&lt;config.h&gt; config.h file has been added with its path config.h file has the function in it Am i doing it the right way?"}, {"owner": {"reputation": 1894, "user_id": 8473031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4878bfc9d6a80397a8446111fffa4dd?s=128&d=identicon&r=PG&f=1", "display_name": "RoQuOTriX", "link": "https://stackoverflow.com/users/8473031/roquotrix"}, "edited": false, "score": 0, "creation_date": 1569411172, "post_id": 58097196, "comment_id": 102586761, "body": "show what you added in config.cpp"}, {"owner": {"reputation": 164, "user_id": 5138445, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EWRY5YxkFAA/AAAAAAAAAAI/AAAAAAAAHXQ/-BpBNll5Zq4/photo.jpg?sz=128", "display_name": "F&#235;amarto", "link": "https://stackoverflow.com/users/5138445/f%c3%abamarto"}, "edited": false, "score": 0, "creation_date": 1569411335, "post_id": 58097196, "comment_id": 102586845, "body": "Please produce a minimal compiling (not linking obviously) example. It is hard to say what is wrong in code without seeing the code."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569411440, "post_id": 58097196, "comment_id": 102586897, "body": "Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to show us. What is this &quot;config.h&quot; file? What does it contain? How do you use the code in that header file? Where are the <b><i>implementation</i></b> of the functions declared in the header file? How do you build? What files are you building with?"}, {"owner": {"reputation": 157, "user_id": 10848189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z03flaulPCQ/AAAAAAAAAAI/AAAAAAAABJs/_gDLxfDB6u4/photo.jpg?sz=128", "display_name": "Onkar Nirhali", "link": "https://stackoverflow.com/users/10848189/onkar-nirhali"}, "edited": false, "score": 0, "creation_date": 1569412240, "post_id": 58097196, "comment_id": 102587321, "body": "bool ConfigInfo::GetDefaultTargetConfigSettings(const CString &amp;Module, CAdsTargetEditDlg &amp;dlg)  this is how the funtion starts in config.cpp config.cpp is located in ADSReset Project of ADSModule solution and I have linked the config.h as the header file in ADSUser.cpp where the error is present. ADSUser.cpp is present in ADSModule project of the same solution"}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 2, "creation_date": 1569413874, "post_id": 58097196, "comment_id": 102588217, "body": "@OnkarNirhali Don&#39;t describe the code. Show the code. You have been asked to provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> multiple times, why haven&#39;t you done so?"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 1, "creation_date": 1569422091, "post_id": 58097196, "comment_id": 102593328, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 3155421, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/812055006/picture?type=large", "display_name": "Darinth", "link": "https://stackoverflow.com/users/3155421/darinth"}, "is_accepted": true, "score": 0, "last_activity_date": 1569421518, "creation_date": 1569421518, "answer_id": 58100686, "question_id": 58097196, "link": "https://stackoverflow.com/questions/58097196/cant-solve-this-error-c-although-i-have-added-the-header-file/58100686#58100686", "title": "can&#39;t solve this error c++ , although i have added the header file", "body": "<p>Lets try to teach you to read the error you're getting.</p>\n\n<p>The process of compilation in C++ is split into 2 parts: Compile your code (.cpp files) into object (.obj) files. This part is successful. Once that's done, the .obj files are handed off to what's called the linker, which is essentially responsible for taking all of the relevant components in the .obj files and hooking them all together in your .exe file. This is where the error is.</p>\n\n<p>So lets take a look at the error you're getting:</p>\n\n<pre><code>Error   13  error LNK2019: unresolved external symbol \"public: bool\n__thiscall ConfigInfo::GetDefaultTargetConfigSettings(class ATL::CStringT&lt;char,class StrTraitMFC_DLL&lt;char,class ATL::ChTraitsCRT&lt;char&gt; &gt; &gt; const &amp;,class CAdsTargetEditDlg &amp;)\" (?GetDefaultTargetConfigSettings@ConfigInfo@@QAE_NABV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@AAVCAdsTargetEditDlg@@@Z) referenced in function \"struct IADsUser * __cdecl __GetAdsUser(wchar_t const *,wchar_t const *)\" (?__GetAdsUser@@YAPAUIADsUser@@PB_W0@Z)    AdsUser.obj\n</code></pre>\n\n<p>The first part <code>Error   13  error LNK2019: unresolved external symbol</code> says that the linker was looking for something, but wasn't able to find it in any of the object files.</p>\n\n<p>The first quoted string <code>public: bool\n__thiscall ConfigInfo::GetDefaultTargetConfigSettings(class ATL::CStringT&lt;char,class StrTraitMFC_DLL&lt;char,class ATL::ChTraitsCRT&lt;char&gt; &gt; &gt; const &amp;,class CAdsTargetEditDlg &amp;)</code>  is the signature or declaration of what (a function) it's looking for, but can't find.</p>\n\n<p>The part that follows the string in parenthesis is essentially an alternate form of the same thing, I suspect some people are really familiar with that format... but it's really of no use to most people.</p>\n\n<p>After the parenthesis it says <code>referenced in function</code> followed by another quoted string <code>struct IADsUser * __cdecl __GetAdsUser(wchar_t const *,wchar_t const *)</code>. The second quoted string is the signature of the function that is calling the missing one.</p>\n\n<p>So, all together this error says 'Hey, function \"IADsUser* GetAdsUser(wchar_t const *,wchar_t const *)\" is looking for a function \"bool\nConfigInfo::GetDefaultTargetConfigSettings(class ATL::CStringT > > const &amp;,class CAdsTargetEditDlg &amp;)\" but I can't find it.'</p>\n\n<p>Because it made it to the linker stage, we know the function declaration is included in the header file(functions won't compile if they can't find a valid declaration)... but it's not in any of the object files. That means it was declared, but never defined. You've either got a call somewhere in GetAdsUser to ConfigInfo::GetDefaultTargetConfigSettings that is bad or you're missing the definition/body of the function somewhere.</p>\n\n<p>Learning to read the errors you're getting in extremely important.</p>\n"}], "owner": {"reputation": 157, "user_id": 10848189, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Z03flaulPCQ/AAAAAAAAAAI/AAAAAAAABJs/_gDLxfDB6u4/photo.jpg?sz=128", "display_name": "Onkar Nirhali", "link": "https://stackoverflow.com/users/10848189/onkar-nirhali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1569433629, "accepted_answer_id": 58100686, "answer_count": 1, "score": -3, "last_activity_date": 1569421518, "creation_date": 1569410379, "last_edit_date": 1569410535, "question_id": 58097196, "link": "https://stackoverflow.com/questions/58097196/cant-solve-this-error-c-although-i-have-added-the-header-file", "closed_reason": "Not suitable for this site", "title": "can&#39;t solve this error c++ , although i have added the header file", "body": "<p>this is the error i am getting</p>\n\n<pre><code>Error   13  error LNK2019: unresolved external symbol \"public: bool\n__thiscall ConfigInfo::GetDefaultTargetConfigSettings(class ATL::CStringT&lt;char,class StrTraitMFC_DLL&lt;char,class ATL::ChTraitsCRT&lt;char&gt; &gt; &gt; const &amp;,class CAdsTargetEditDlg &amp;)\" (?GetDefaultTargetConfigSettings@ConfigInfo@@QAE_NABV?$CStringT@DV?$StrTraitMFC_DLL@DV?$ChTraitsCRT@D@ATL@@@@@ATL@@AAVCAdsTargetEditDlg@@@Z) referenced in function \"struct IADsUser * __cdecl __GetAdsUser(wchar_t const *,wchar_t const *)\" (?__GetAdsUser@@YAPAUIADsUser@@PB_W0@Z)    AdsUser.obj\n</code></pre>\n"}, {"tags": ["c++"], "owner": {"reputation": 11, "user_id": 11680934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1a9218c90986fd41f24d67256e19782?s=128&d=identicon&r=PG&f=1", "display_name": "kirini", "link": "https://stackoverflow.com/users/11680934/kirini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1569959064, "answer_count": 0, "score": 1, "last_activity_date": 1569409882, "creation_date": 1569409882, "question_id": 58097044, "link": "https://stackoverflow.com/questions/58097044/i-want-to-implement-huffman-tree-using-the-data-structure-heap-but-im-confus", "closed_reason": "Duplicate", "title": "I want to implement Huffman tree using the data structure &quot;heap&quot;, but I&#39;m confused about these errors", "body": "<p>I think it is not caused by library losing.And I am sure that I have implemented every function I declare.</p>\n\n<p>The most of the codes are from the book &lt; Data structures and algorithm analysis in c++ >.And I have searched many other similar questions,but I 'm still confused.\nCan anyone tell me how can I solve the problem?</p>\n\n<p>heap.h</p>\n\n<pre><code>#pragma once\ntemplate &lt;typename E, typename Comp&gt;\nclass heap\n{\nprivate:\n    E* Heap;        //Pointer to the heap array\n    int maxsize;    //Maximum size of the heap\n    int n;          //Number of elements now in the heap\n        //Helper function to put element in its correct place,and that moves the father node down\n    void siftdown(int pos);\npublic:\n    heap(E* h, int num, int max);\n    int size()const;\n    bool isLeaf(int pos)const;\n    int leftchild(int pos)const;\n    int rightchild(int pos)const;\n    int parent(int pos)const;\n    void buildHeap();\n    void insert(const E&amp; it);\n    E removefirst();\n    E remove(int pos);\n};\n\n\n</code></pre>\n\n<p>heap.cpp</p>\n\n<pre><code>#include \"heap.h\"\n#include&lt;assert.h&gt;\n\n//Swap two elements in the container\ntemplate&lt;typename E&gt;\nvoid swap(E*array,int pos1,int pos2) {\n    int temp = array[pos1];\n    array[pos1] = array[pos2];\n    array[pos2] = temp;\n}\n\n//Heap class\n// E is the element in heap\n//Comp is a class used to compare two elements\n//Helper function to put element in its correct place,and that moves the father node down\n    template &lt;typename E, typename Comp&gt;\n    void heap&lt;E, Comp&gt;::siftdown(int pos) {\n        while (!isLeaf(pos)) {//Stop if pos is a leaf\n            int j = leftchild(pos);\n            int rc = rightchild(pos);\n            if ((rc &lt; n) &amp;&amp; Comp::prior(Heap[rc], Heap[j]))\n                j = rc;     //Set j to greater child's value\n            if (Comp::prior(Heap[pos], Heap[j]))\n                return; //Done\n            swap(Heap, pos, j);\n            pos = j;        //Move down\n        }\n    }\n    template &lt;typename E, typename Comp&gt;\n    heap&lt;E,Comp&gt;::heap(E* h, int num, int max) {\n        Heap = h;\n        n = num;\n        maxsize = max;\n    }\n    //Return current heap size\n    template &lt;typename E, typename Comp&gt;\n    int heap&lt;E, Comp&gt;::size()const {\n        return n;\n    }\n    //True if pos is a leaf\n    template &lt;typename E, typename Comp&gt;\n    bool heap&lt;E, Comp&gt;::isLeaf(int pos)const {\n        return ((pos &gt;= n / 2) &amp;&amp; (pos &lt; n));\n    }\n    //Return leftchild position\n    template &lt;typename E, typename Comp&gt;\n    int heap&lt;E,Comp&gt;::leftchild(int pos)const {\n        return 2 * pos + 1;\n    }\n    //Return rightchild position\n    template &lt;typename E, typename Comp&gt;\n    int heap&lt;E,Comp&gt;::rightchild(int pos)const {\n        return 2 * pos + 2;\n    }\n    //Return parent position\n    template &lt;typename E, typename Comp&gt;\n    int heap&lt;E,Comp&gt;::parent(int pos)const {\n        return (pos - 1) / 2;\n    }\n    //Heapify contents of Heap\n    template &lt;typename E, typename Comp&gt;\n    void heap&lt;E, Comp&gt;:: buildHeap() {\n        for (int i = n / 2 - 1; i &gt;= 0; --i) {\n            siftdown(i);\n        }\n    }\n    //Insert \"it\" into the heap\n    template &lt;typename E, typename Comp&gt;\n    void heap&lt;E,Comp&gt;::insert(const E&amp; it) {\n        assert(n &lt; maxsize);    //Terminate if heap is full\n        int curr = n++;\n        Heap[curr] = it;        //Start at end of heap\n        //Move up until curr's parent &gt; curr\n        while ((curr != 0) &amp;&amp; (Comp::prior(Heap[curr], Heap[parent(curr)]))) {\n            swap(Heap, curr, parent(curr));\n            curr = parent(curr);\n        }\n    }\n\n    template &lt;typename E, typename Comp&gt;\n    E heap&lt;E, Comp&gt;::removefirst() {\n        assert(n &gt; 0);      //Interrupt if heap is empty\n        swap(Heap, 0, --n);     //Swap first with last value.\n        if (n != 0)siftdown(0);     //Siftdown new root val\n        return Heap[n];         //Return deleted value\n    }\n\n    template &lt;typename E, typename Comp&gt;\n    E heap&lt;E, Comp&gt;::remove(int pos) {\n        assert((pos &gt;= 0) &amp;&amp; (pos &lt; n));  //Intertupt if it is in bad position\n        if (pos == n - 1)n--;       //Last element,no work to do\n        else {\n            swap(Heap, pos, --n);       //Swap with last value\n            while ((pos != 0) &amp;&amp; (Comp::prior(Heap[pos], Heap[parent(pos)]))) {\n                swap(Heap, pos, parent(pos));       //Push up large key\n                pos = parent(pos);\n            }\n            if (n != 0)siftdown(pos);       //Push down small key\n        }\n        return Heap[n];\n    }\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include\"heap.h\"\n#include&lt;time.h&gt;\n#include&lt;iostream&gt;\nusing namespace std;\n//Huffman tree node abstract base class\ntemplate&lt;typename E&gt; \nclass HuffNode {\npublic:\n    virtual ~HuffNode(){}       //Base destructor\n    virtual int weight() = 0;   //Return frequency\n    virtual bool isLeaf() = 0;  //Determine type\n};\n\ntemplate&lt;typename E&gt;    //Leaf node subclass\nclass LeafNode :public HuffNode&lt;E&gt; {\nprivate:\n    E it;           //Value\n    int wgt;        //Weight\npublic:\n    LeafNode(const E&amp; val, int freq) {\n        it = val;\n        wgt = freq;\n    }\n    int weight() { return wgt; }\n    E val() { return it; }\n    bool isLeaf() { return true; }\n    ~LeafNode(){}\n};\n\ntemplate&lt;typename E&gt;        //Internal node subclass\nclass IntlNode : public HuffNode&lt;E&gt; {\nprivate:\n    HuffNode&lt;E&gt;* lc;        //Left child\n    HuffNode&lt;E&gt;* rc;        //Right child\n    int wgt;                //Subtree weight\npublic:\n    IntlNode(HuffNode&lt;E&gt;* l, HuffNode&lt;E&gt;* r) {\n        wgt = l-&gt;weight() + r-&gt;weight();\n        lc = l;\n        rc = r;\n    }\n    int weight() { return wgt; }\n    bool isLeaf() { return false; }\n    HuffNode&lt;E&gt;* left()const { return lc; }\n    void setLeft(HuffNode&lt;E&gt;* b) {\n        lc = b;\n    }\n    HuffNode&lt;E&gt;* right()const { return rc; }\n    void setRight(HuffNode&lt;E&gt;* b) {\n        rc = b;\n    }\n    ~IntlNode(){}\n};\n\ntemplate&lt;typename E&gt;\nclass HuffTree {\nprivate:\n    HuffNode&lt;E&gt;* Root;      //Tree root\npublic:\n    HuffTree(E&amp; val, int freq) {    //Leaf constructor\n        Root = new LeafNode&lt;E&gt;(val, freq);\n    }\n    //Internal node construtor\n    HuffTree(HuffTree&lt;E&gt;* l, HuffTree&lt;E&gt;* r) {\n        Root = new IntlNode&lt;E&gt;(l-&gt;root(), r-&gt;root());\n    }\n    HuffTree() { Root = NULL; }\n    ~HuffTree(){}\n    HuffNode&lt;E&gt;* root() { return Root; }\n    int weight() { return Root-&gt;weight(); }\n    };\n\ntemplate&lt;typename E&gt;\nclass minTreeComp {\npublic:\n    bool prior(HuffTree&lt;E&gt;* a, HuffTree&lt;E&gt;* b) {\n        return b-&gt;weight() - a-&gt;weight();\n    }\n};\n\n\n//Build a Huffman tree from a collection of frequencies\ntemplate&lt;typename E&gt;\nHuffTree&lt;E&gt;* buildHuff(HuffTree&lt;E&gt;** TreeArray, int count) {\n    heap&lt;HuffTree&lt;E&gt;*, minTreeComp&lt;E&gt;&gt;* forest =\n        new heap&lt;HuffTree&lt;E&gt;*, minTreeComp&lt;E&gt;&gt;(TreeArray, count, count);\n    HuffTree&lt;char&gt; *temp1, *temp2, *temp3 = NULL;\n    while (forest-&gt;size() &gt; 1) {\n        temp1 = forest-&gt;removefirst();  //Pull first two trees\n        temp2 = forest-&gt;removefirst();  //off the list\n        temp3 = new HuffTree&lt;E&gt;(temp1, temp2);  \n        forest-&gt;insert(temp3);          //Put the new tree back on list\n        delete temp1;       //Must delete the remnants  \n        delete temp2;       //of the trees we created\n    }\n    return temp3;\n}\n\ntemplate&lt;typename E&gt;\nvoid traverse(HuffNode&lt;E&gt;* forest) {\n    if (forest-&gt;isLeaf() == true) {\n        cout &lt;&lt;((LeafNode&lt;E&gt;*)forest)-&gt;val()&lt;&lt;\" : \"&lt;&lt;forest-&gt;weight() &lt;&lt; endl;\n    }\n    else {\n        traverse(((IntlNode&lt;E&gt;*)forest)-&gt;left());\n        traverse(((IntlNode&lt;E&gt;*)forest)-&gt;right());\n    }\n}\n\nint main() {\n    srand((unsigned int)time(0));\n    char ch = 'A';\n    HuffTree&lt;char&gt;** forests= new HuffTree&lt;char&gt;*[10];\n    //vector&lt;HuffTree&lt;char&gt;*&gt;trees;\n    for (int i = 0; i &lt; 10; ++i) {\n        ch += 1;\n       forests[i]= new HuffTree&lt;char&gt;(ch,rand() % 50 + 1);\n}\n    HuffTree&lt;char&gt;* forest = buildHuff(forests, 4);\n    traverse(forest-&gt;root());\n}\n\n</code></pre>\n\n<p>I have four errors:</p>\n\n<blockquote>\n  <p>1>Source.obj : error LNK2019: unresolved external symbol \"public: __thiscall heap *,class minTreeComp >::heap *,class minTreeComp >(class HuffTree * *,int,int)\" (??0?$heap@PAV?$HuffTree@D@@V?$minTreeComp@D@@@@QAE@PAPAV?$HuffTree@D@@HH@Z) referenced in function \"class HuffTree * __cdecl buildHuff(class HuffTree * *,int)\"</p>\n  \n  <p>1>Source.obj : error LNK2019: unresolved external symbol \"public: int __thiscall heap *,class minTreeComp >::size(void)const \" (?size@?$heap@PAV?$HuffTree@D@@V?$minTreeComp@D@@@@QBEHXZ) referenced in function \"class HuffTree * __cdecl buildHuff(class HuffTree * *,int)\" (??$buildHuff@D@@YAPAV?$HuffTree@D@@PAPAV0@H@Z)</p>\n  \n  <p>1>Source.obj : error LNK2019: unresolved external symbol \"public: void __thiscall heap *,class minTreeComp >::insert(class HuffTree * const &amp;)\" (?insert@?$heap@PAV?$HuffTree@D@@V?$minTreeComp@D@@@@QAEXABQAV?$HuffTree@D@@@Z) referenced in function \"class HuffTree * __cdecl buildHuff(class HuffTree * *,int)\" (??$buildHuff@D@@YAPAV?$HuffTree@D@@PAPAV0@H@Z)</p>\n  \n  <p>1>Source.obj : error LNK2019: unresolved external symbol \"public: class HuffTree * __thiscall heap *,class minTreeComp >::removefirst(void)\" (?removefirst@?$heap@PAV?$HuffTree@D@@V?$minTreeComp@D@@@@QAEPAV?$HuffTree@D@@XZ) referenced in function \"class HuffTree * __cdecl buildHuff(class HuffTree * *,int)\" (??$buildHuff@D@@YAPAV?$HuffTree@D@@PAPAV0@H@Z)</p>\n</blockquote>\n"}, {"tags": ["c++", "multithreading", "mutex"], "comments": [{"owner": {"reputation": 18020, "user_id": 580083, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/085edb5b64d5db3362d784bd9d35f99c?s=128&d=identicon&r=PG", "display_name": "Daniel Langr", "link": "https://stackoverflow.com/users/580083/daniel-langr"}, "edited": false, "score": 2, "creation_date": 1569410154, "post_id": 58096994, "comment_id": 102586273, "body": "I would recommend to read this question: <a href=\"https://stackoverflow.com/q/19744250/580083\">What happens to a detached thread when main() exits?</a>."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1569416429, "post_id": 58096994, "comment_id": 102589849, "body": "Don&#39;t detach the threads. Join them. <code>detach()</code> should not be in your toolkit when you&#39;re just getting started with threads."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10650904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f96884bebf9b9c239afa6a6d188a30?s=128&d=identicon&r=PG&f=1", "display_name": "anaVC94", "link": "https://stackoverflow.com/users/10650904/anavc94"}, "edited": false, "score": 0, "creation_date": 1569414307, "post_id": 58097123, "comment_id": 102588482, "body": "Thank you, I really appreciate it"}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1569417609, "post_id": 58097123, "comment_id": 102590594, "body": "Re, &quot;You should do X... There&#39;s no standard way to do X, so you&#39;ll have to use system-dependent functions.&quot; That might be good advice if doing X was the only way to solve some problem, but that&#39;s not the case here. The OP does not <i>need</i> the main thread to terminate before the other threads. The program would work just as well if the OP re-wrote it so that the main thread would <code>join()</code> the threads that it created."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "reply_to_user": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1569417743, "post_id": 58097123, "comment_id": 102590665, "body": "@SolomonSlow Except that detached threads can&#39;t be joined. And there are plenty of use-cases where one could want detached threads that continue to work even though the main thread exits."}, {"owner": {"reputation": 19267, "user_id": 801894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67f2ccd17aa6fd622152ad88fc2ae784?s=128&d=identicon&r=PG", "display_name": "Solomon Slow", "link": "https://stackoverflow.com/users/801894/solomon-slow"}, "edited": false, "score": 0, "creation_date": 1569418076, "post_id": 58097123, "comment_id": 102590860, "body": "Sorry, I assumed that it was well known that a C++ program must make <i>exactly one</i> call to either <code>t.detach()</code> or <code>t.join()</code> on every <code>std::thread t</code>. Bad assumption. I guess should have said, &quot;The program would work just as well if the OP re-wrote it so that the main thread would join() each of the threads that it created <i>instead of detach()ing them.</i>&quot;"}], "tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 3, "last_activity_date": 1569417992, "last_edit_date": 1569417992, "creation_date": 1569410138, "answer_id": 58097123, "question_id": 58096994, "link": "https://stackoverflow.com/questions/58096994/detached-threads-mutex-destroyed-while-busy-error-c/58097123#58097123", "title": "Detached Threads: mutex destroyed while busy Error C++", "body": "<p>You launch some threads and detach them. Then you let the <code>main</code> function return which <em>terminates the process</em>. That process termination kills all threads and also causes all global objects to be destructed.</p>\n\n<p>You should only exit the <em>thread</em> that the <code>main</code> function is running in, which lets the detached threads continue running in the process (which then exits when the last thread have exited).</p>\n\n<p>There's currently no way to exit a thread in the C++ standard library, so you have to use system-dependent functions. For example in POSIX systems (like Linux or macOS) you use the <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/functions/pthread_exit.html\" rel=\"nofollow noreferrer\"><code>pthread_exit</code></a> function.</p>\n\n<hr>\n\n<p>There are of course two other possible solutions:</p>\n\n<ol>\n<li><p>Don't detach the threads, and <code>join</code> them before exiting from <code>main</code>. This might not always be possible or desired though.</p></li>\n<li><p>Wait inside the <code>main</code> function for the detached threads to exit, using some other kind of waiting or polling mechanism that the threads have exited. This might also not be desired. And could be problematic if the threads set a flag inside the threads themselves that the <code>main</code> function checks, which might lead to a race condition where the thread haven't actually exited before the <code>main</code> function returns.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 154, "user_id": 10993806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7dc5d5534436498f71e34a0432cf48c6?s=128&d=identicon&r=PG", "display_name": "Xellos", "link": "https://stackoverflow.com/users/10993806/xellos"}, "is_accepted": false, "score": 2, "last_activity_date": 1569410525, "last_edit_date": 1569410525, "creation_date": 1569410141, "answer_id": 58097124, "question_id": 58096994, "link": "https://stackoverflow.com/questions/58096994/detached-threads-mutex-destroyed-while-busy-error-c/58097124#58097124", "title": "Detached Threads: mutex destroyed while busy Error C++", "body": "<p>Your main function ends - and so does your whole program. Any other threads can't stop this - so you have to wait for them to finish (see std::thread::join). That is probably all you need.\nBut whats with mutex? All program resources are destroyed at the end of a program - and you can't destroy busy mutex (see std::lock_guard)</p>\n\n<p>Update: noticed another bad thing - you didn't synchronize threads - so producing/consuming threads will have data race and it is not guaranteed that all your data is processed.</p>\n"}], "owner": {"reputation": 3, "user_id": 10650904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28f96884bebf9b9c239afa6a6d188a30?s=128&d=identicon&r=PG&f=1", "display_name": "anaVC94", "link": "https://stackoverflow.com/users/10650904/anavc94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569417992, "creation_date": 1569409607, "question_id": 58096994, "link": "https://stackoverflow.com/questions/58096994/detached-threads-mutex-destroyed-while-busy-error-c", "title": "Detached Threads: mutex destroyed while busy Error C++", "body": "<p>I am completely begginner in C++ and threads as well. I have made a very simple example of my problem. In the code I provide, I create threads and detach them. Each thread executes a different function: one which consists in pushing an int into a queue, and the other one reads that value and simulate a long processing with the read value and the function's argument. The queue object is protected by a mutex as it is shared between the two threads. I know that my code is a bit stupid but I have made it to represent my real problem, which uses detached threads and a shared queue protected by mutex.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>#include &lt;mutex&gt;\n#include &lt;iostream&gt;\n#include &lt;thread&gt;\n#include &lt;queue&gt;    \nusing namespace std;      \n\nstd::queue&lt;int&gt; tasks;\nstd::mutex m; \n\nvoid push_task(int arg) {\n\n    printf(\"[Pushing task into the queue]\");\n\n    m.lock();\n    tasks.push(arg);\n    m.unlock();\n\n}\n\nvoid process_task(int number) {\n\n    printf(\"[Processing task from the queue]\");\n\n    m.lock();\n\n    while (tasks.empty() == false){\n\n        int task = tasks.front(); \n        tasks.pop(); \n        printf(\"[Processing...]\");\n        std::this_thread::sleep_for(std::chrono::milliseconds((task+number)*1000)); //simulate some execution\n        printf(\"[Task has been successfully processed]\");\n    }\n\n    m.unlock(); \n}\n\nint launch_threads(int nTask, int n){\n\n    int counter = 0;\n\n    while(counter &lt; 8){\n        std::thread(push_task, nTask).detach();\n        std::thread(process_task, n).detach();\n        counter++;\n    }\n\n    printf(\"[Launch Threads Ends]\");\n\n    return 0;\n}\n\nint main(){\n\n   launch_threads(0, 10000);\n\n    printf(\"[Main Ends]\");\n\n    return 0;\n\n}\n</code></pre>\n\n<p>Well, the problem I am facing is that I got the following error:</p>\n\n<p><strong>mutex destroyed while busy</strong></p>\n\n<p>I have investigate and I have read (correct me if I am wrong) that this happens because the calling function, in my case launch_threads(), ends while the local threads created inside it are still running and therefore the mutex can still be owned by some thread (is busy), giving that error. In fact, no processing inside the threads really ends.</p>\n\n<p><em>My question is: How can I avoid that error?</em> </p>\n\n<p>I have also read that not making the threads as local variables may solve the problem. In that case, how can I declare the threads as global, if I am passing a function with an argument to them?</p>\n\n<p>Extra question related to the topic: May using <em>std::lock_guard lock(m)</em> help to avoid the problem?</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569409267, "post_id": 58096880, "comment_id": 102585774, "body": "please ignore the _delete function."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 7, "creation_date": 1569409295, "post_id": 58096880, "comment_id": 102585787, "body": "1) &quot;<i>I&#39;ve been debugging all afternoon</i>&quot; Are you stepping through your code line-by-line, while investigating the values, <b>at each</b> execution step, taking note of when the values don&#39;t match your expectations? 2) &quot;<i>please ignore the _delete function.</i>&quot; You are supposed to provide us with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If we can ignore one thing, how can we know what else should we ignore? Please provide us with <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> then."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1569409544, "post_id": 58096880, "comment_id": 102585927, "body": "What&#39;s the input to reproduce the problem? Why do you pass a <code>book</code> to <code>b.insert(b)</code>? That make no sense for me. You can access <code>b</code> in <code>insert</code> with <code>this</code>"}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569409661, "post_id": 58096880, "comment_id": 102586007, "body": "I have deleted some functions, I don&#39;t know what my error is, so I can&#39;t provide minimal reproducible example.And when I run the find function, I got an error, but I don&#39;t think the find function has some problems."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 3, "creation_date": 1569409685, "post_id": 58096880, "comment_id": 102586023, "body": "If you can&#39;t provide <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> we can&#39;t help. You post a code that can&#39;t be compiled and ask us to find a runtime error. How can we reproduce it?"}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569409794, "post_id": 58096880, "comment_id": 102586077, "body": "17 0 Evan 57298577609 1 65 0 WINNIE 37367348390 4 1 3 Evan 3 WINNIE 3 MARYAM 3 CAMERON 3 TZIVIA 0 OMAR 16447001130 6 55 3 JADEN 3 ELIZABETH 3 JOSHUA 3 Azaan 3 MARIA 0 HANNAH 94060479192 5 98 3 HEIDY 0 Axel 92066832927 3 70 3 TIFFANY"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1569410463, "post_id": 58096880, "comment_id": 102586421, "body": "Are you aware that you are deleting all old entries with <code>delete []b.a; b.a = new address[2*arraylength];</code> in <code>void book::insert(book &amp;b)</code>? You should use stl containers to avoid such problems. Use <a href=\"https://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a>"}, {"owner": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 0, "creation_date": 1569410677, "post_id": 58096880, "comment_id": 102586512, "body": "<code>address* a = NULL;</code> in a class declaration rather than as a constructor initialiser. Is that even legal?"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 1, "creation_date": 1569410773, "post_id": 58096880, "comment_id": 102586568, "body": "@iwarv Of course, why not?"}, {"owner": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "reply_to_user": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1569410858, "post_id": 58096880, "comment_id": 102586616, "body": "@Thomas Sablik. I am using an older compiler obviously. A bit behind on all of you."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "reply_to_user": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 2, "creation_date": 1569410957, "post_id": 58096880, "comment_id": 102586657, "body": "@iwarv Then you should upgrade the compiler, since such initialization was possible since C++11: for 8 years, at the very least."}, {"owner": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569411063, "post_id": 58096880, "comment_id": 102586710, "body": "@lllsy &quot;<i>I can&#39;t provide minimal reproducible example</i>&quot; Did you read the link? It explains what <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is, and the techniques in making it."}, {"owner": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "reply_to_user": {"reputation": 1727, "user_id": 5440453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3500f6dc5327b259bb48da3399268b0?s=128&d=identicon&r=PG&f=1", "display_name": "Algirdas Preid\u017eius", "link": "https://stackoverflow.com/users/5440453/algirdas-preid%c5%beius"}, "edited": false, "score": 0, "creation_date": 1569411108, "post_id": 58096880, "comment_id": 102586734, "body": "@Algirdas No can do. Workplace dictates what we use. I&#39;ll bow out. Over to you guys."}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569412838, "post_id": 58096880, "comment_id": 102587601, "body": "I&#39;ve changed the code to make it look clearer"}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 1, "creation_date": 1569414818, "post_id": 58096880, "comment_id": 102588809, "body": "Please do not put information like example input into the comments, <a href=\"https://stackoverflow.com/posts/58096880/edit\">edit</a> the question instead!"}, {"owner": {"reputation": 23378, "user_id": 4850040, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/acYd0.png?s=128&g=1", "display_name": "Toby Speight", "link": "https://stackoverflow.com/users/4850040/toby-speight"}, "edited": false, "score": 0, "creation_date": 1569422296, "post_id": 58096880, "comment_id": 102593457, "body": "Please <a href=\"https://stackoverflow.com/posts/58096880/edit\">edit</a> your question to show us what kind of debugging you&#39;ve done.  I expect you to have run your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> within Valgrind or a similar checker, and to have investigated with a debugger such as GDB, for example.  Ensure you&#39;ve enabled a full set of compiler warnings, too.  What did the tools tell you, and what information are they missing?  And read Eric Lippert&#39;s <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569412490, "post_id": 58097433, "comment_id": 102587431, "body": "yes\uff0ci find it \uff0cbut there is still some wrong\uff0cWhen I debug it, it gets stuck in return false"}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569412816, "post_id": 58097433, "comment_id": 102587589, "body": "I&#39;ve changed the code to make it look clearer"}, {"owner": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 1, "creation_date": 1569413395, "post_id": 58097433, "comment_id": 102587920, "body": "@Illsy Sorry, I said I&#39;d bow out, but I cannot see where <code>listsize</code> gets set other than to zero in the constructor. If it is indeed zero for the lifetime of execution, then your <code>Book::find()</code> isn&#39;t going to find anything. To me it seems that <code>listsize</code> is superfluous. Get rid and just use <code>arraylength</code>."}], "tags": [], "owner": {"reputation": 1285, "user_id": 8440128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ebWk2.jpg?s=128&g=1", "display_name": "Landstalker", "link": "https://stackoverflow.com/users/8440128/landstalker"}, "is_accepted": false, "score": 5, "last_activity_date": 1569411220, "creation_date": 1569411220, "answer_id": 58097433, "question_id": 58096880, "link": "https://stackoverflow.com/questions/58096880/what-went-wrong-with-memory/58097433#58097433", "title": "What went wrong with memory?", "body": "<p>your probleme is caused by this :</p>\n\n<pre><code>book::~book()\n{\n    for (int i = 0; i &lt; arraylength; i++)\n    {\n        delete []a;\n    }\n}\n</code></pre>\n\n<p>you delete several times the table</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569412587, "post_id": 58097439, "comment_id": 102587491, "body": "however,after you input 3 Evan,the program will be terminated"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569412646, "post_id": 58097439, "comment_id": 102587506, "body": "@Illsy yes, I described it in my answer. Your input doesn&#39;t work with your program. I added a solution for this program."}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413035, "post_id": 58097439, "comment_id": 102587716, "body": "you can see my code which had been updated,and when I debug it, it gets stuck in return false"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413196, "post_id": 58097439, "comment_id": 102587799, "body": "@lllsy I don&#39;t understand. For me it works without infinite loop, errors, segmentation fault or terminate: <a href=\"https://wandbox.org/permlink/88R5ZMUGIhLXsZ2j\" rel=\"nofollow noreferrer\">wandbox.org/permlink/88R5ZMUGIhLXsZ2j</a>"}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413466, "post_id": 58097439, "comment_id": 102587962, "body": "Thank you very much.But could you help me see What&#39;s wrong with my code,I just corrected it, but there&#39;s still a mistake.It&#39;s on top"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413515, "post_id": 58097439, "comment_id": 102587989, "body": "@lllsy Why don&#39;t you use my code? It works."}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413613, "post_id": 58097439, "comment_id": 102588055, "body": "yes,yes,i konw,but But I still had doubts about my code,you know it&#39;s very uncomfortable"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569413730, "post_id": 58097439, "comment_id": 102588117, "body": "@lllsy The problem was that you read an <code>int</code> but provided a <code>string</code>. That blocked the input. Your current code causes undefined behvaior because you read an uninitialized value in <code>if (nn2 == 3)</code>."}, {"owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "edited": false, "score": 0, "creation_date": 1569414143, "post_id": 58097439, "comment_id": 102588379, "body": "oh yeah,i am silly.\u3042\u308a\u304c\u3068\u3046"}, {"owner": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 0, "creation_date": 1569420818, "post_id": 58097439, "comment_id": 102592571, "body": "See my comment on @Landstalker&#39;s answer. How can <code>Book::find()</code> ever work? I don&#39;t see <code>listsize</code> being initialised anywhere other than the ctor. I think @Illsy should just use <code>arraylength</code> in that loop."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 235, "user_id": 6224553, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/076Q9.png?s=128&g=1", "display_name": "iwarv", "link": "https://stackoverflow.com/users/6224553/iwarv"}, "edited": false, "score": 0, "creation_date": 1569423223, "post_id": 58097439, "comment_id": 102594009, "body": "@iwarv The code was changed. At the beginning it made sense. Now the whole code makes no sense. You can check the edit history."}], "tags": [], "owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "is_accepted": false, "score": 0, "last_activity_date": 1569412756, "last_edit_date": 1569412756, "creation_date": 1569411236, "answer_id": 58097439, "question_id": 58096880, "link": "https://stackoverflow.com/questions/58096880/what-went-wrong-with-memory/58097439#58097439", "title": "What went wrong with memory?", "body": "<p>I cleaned up your code, applied the rules of modern c++ and removed all unused functions. This is the result</p>\n\n<pre><code>#ifndef ADDRESS_BOOK_H\n#define ADDRESS_BOOK_H\n\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct address\n{\n    std::string name;\n    long long phone_number;\n    long long classroom;\n    long long dormitory;\n};\n\nclass book\n{\nprotected:\n    std::vector&lt;address&gt; a;\npublic:\n    void insert();\n    bool find(std::string c);\n};\n#endif\n\n#include &lt;iostream&gt;\n\nvoid book::insert() {\n    a.emplace_back();\n    std::cin &gt;&gt; a.back().name &gt;&gt; a.back().phone_number &gt;&gt; a.back().classroom &gt;&gt; a.back().dormitory;\n}\n\nbool book::find(std::string c)\n{\n    return std::find_if(std::begin(a), std::end(a), [&amp;c](const auto &amp;a) {\n        return a.name == c;\n    }) != std::end(a);\n}\n\n#include &lt;iostream&gt;\n\nint main()\n{\n    int nn1;\n    std::cin &gt;&gt; nn1;\n    book b; \n    std::string c;\n    for(int i = 0; i &lt; nn1; i++) {\n        int nn2;\n        std::cin &gt;&gt; nn2;\n        if (nn2 == 0)\n            b.insert();\n        else if (nn2 == 1)\n        {\n            std::cin &gt;&gt; c;\n        }\n        else \n            std::cout &lt;&lt; std::boolalpha &lt;&lt; b.find(c) &lt;&lt; '\\n';\n    }\n    return 0;\n}\n</code></pre>\n\n<p>You should avoid naked <code>new</code> and <code>delete</code>. Avoid C-style arrays. Use a <a href=\"https://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a>. Then you can use default constructors and destructor. You don't have to manage the size of your list. Use stl algorithms like <a href=\"https://en.cppreference.com/w/cpp/algorithm/find\" rel=\"nofollow noreferrer\">std::find_if</a></p>\n\n<p>The input </p>\n\n<pre><code>17 \n0 Evan 57298577609 1 65 \n0 WINNIE 37367348390 4 1 \n3 Evan \n3 WINNIE \n3 MARYAM \n3 CAMERON \n3 TZIVIA \n0 OMAR 16447001130 6 55 \n3 JADEN \n3 ELIZABETH \n3 JOSHUA \n3 Azaan \n3 MARIA \n0 HANNAH 94060479192 5 98 \n3 HEIDY \n0 Axel 92066832927 3 70 \n3 TIFFANY\n</code></pre>\n\n<p>doesn't work with the code you provided. You have to enter the number of actions you want to do (17). Then you can choose the action. </p>\n\n<ul>\n<li>0 - you can insert a new element. </li>\n<li>1 - you can set the search string. </li>\n<li>else - you search for the term. </li>\n</ul>\n\n<p>An input like <code>3 Evan</code> stops your program from working correctly. A correct input would be</p>\n\n<pre><code>4 \n0 Evan 57298577609 1 65 \n0 WINNIE 37367348390 4 1 \n1 Evan\n3\n</code></pre>\n\n<p>If you want your input to work you have to change the program to</p>\n\n<pre><code>#ifndef ADDRESS_BOOK_H\n#define ADDRESS_BOOK_H\n\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\nstruct address\n{\n    std::string name;\n    long long phone_number;\n    long long classroom;\n    long long dormitory;\n};\n\nclass book\n{\nprotected:\n    std::vector&lt;address&gt; a;\npublic:\n    void insert();\n    bool find(std::string c);\n};\n#endif\n\n#include &lt;iostream&gt;\n\nvoid book::insert() {\n    a.emplace_back();\n    std::cin &gt;&gt; a.back().name &gt;&gt; a.back().phone_number &gt;&gt; a.back().classroom &gt;&gt; a.back().dormitory;\n}\n\nbool book::find(std::string c)\n{\n    return std::find_if(std::begin(a), std::end(a), [&amp;c](const auto &amp;a) {\n        return a.name == c;\n    }) != std::end(a);\n}\n\n#include &lt;iostream&gt;\n\nint main()\n{\n    int nn1;\n    std::cin &gt;&gt; nn1;\n    book b; \n    std::string c;\n    for(int i = 0; i &lt; nn1; i++) {\n        int nn2;\n        std::cin &gt;&gt; nn2;\n        if (nn2 == 0)\n            b.insert();\n        else if (nn2 == 3)\n        {\n            std::cin &gt;&gt; c;\n            std::cout &lt;&lt; std::boolalpha &lt;&lt; b.find(c) &lt;&lt; '\\n';\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11865106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/718a575492d4e04bf35cc11e40ea96d0?s=128&d=identicon&r=PG&f=1", "display_name": "lllsy", "link": "https://stackoverflow.com/users/11865106/lllsy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "closed_date": 1569434311, "answer_count": 2, "score": -3, "last_activity_date": 1569412757, "creation_date": 1569409162, "last_edit_date": 1569412757, "question_id": 58096880, "link": "https://stackoverflow.com/questions/58096880/what-went-wrong-with-memory", "closed_reason": "Not suitable for this site", "title": "What went wrong with memory?", "body": "<p>My code terminates unexpectedly after running part of it. I know there is a memory problem, but which sentence is wrong?\nVisual studio 2019 said Read access permissions conflict.</p>\n\n<p>This is a practice experiment in our school</p>\n\n<pre><code>#include &lt;iostream&gt; \nusing std::cin;\nusing std::cout;\nusing std::endl;\nusing std::string;\nstruct address\n{\n    string name;\n    long long phone_number;\n    long long classroom;\n    long long dormitory;\n};\nclass book\n{\nprotected:\n    address* a = NULL;\n    int listsize;\n    int arraylength;\npublic:\n    book();\n    ~book()\uff1b\n    bool find(string &amp;c);\n};\nbook::book()\n{\n    listsize = 0;\n    arraylength = 50;\n    a = new address[arraylength];\n    for (int i = 0; i &lt; arraylength; i++)\n    {\n        a[i].classroom = 0; a[i].dormitory = 0; a[i].phone_number = 0;\n    }\n}\nbool book::find(string &amp;c)\n{\n    int i;\n    for (i = 0; i &lt; listsize; i++)\n    {\n        if (a[i].name == c)\n            return true;\n    }\n    return false;\n}\nbook::~book()\n{\n    delete[]a;\n}\nint main()\n{\n    int nn2;\n    book b;string c;\n    if (nn2 == 3)\n    {\n        cin &gt;&gt; c;\n        cout &lt;&lt; b.find(c) &lt;&lt; endl;\n    }return 0;\n}\n</code></pre>\n\n<p>What's wrong with me? I've been debugging all afternoon, and I realize that I need more practice</p>\n"}, {"tags": ["c++", "qt"], "comments": [{"owner": {"reputation": 18971, "user_id": 2674506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QvQN8.jpg?s=128&g=1", "display_name": "vahancho", "link": "https://stackoverflow.com/users/2674506/vahancho"}, "edited": false, "score": 0, "creation_date": 1569410068, "post_id": 58096876, "comment_id": 102586223, "body": "What do you want to do with <code>MainWindow</code> in <code>addUser</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 5396, "user_id": 304090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea21a0ee88ea25ce0fba351149362b29?s=128&d=identicon&r=PG", "display_name": "Jens", "link": "https://stackoverflow.com/users/304090/jens"}, "is_accepted": true, "score": 0, "last_activity_date": 1569411043, "creation_date": 1569411043, "answer_id": 58097379, "question_id": 58096876, "link": "https://stackoverflow.com/questions/58096876/qt-use-parent-function-in-child-c/58097379#58097379", "title": "Qt use parent function in child (C++)", "body": "<p>You should not use the parent() method to access any other window from your adduser window. The reason is that <code>parent()</code> will give you the parent in the window hierarchy and most probably you'll end up getting a proxy window of MainWindow.\nInstead, MainWindow should have a slot where it receives added users via a signal from your child window. on_actionAdd_Friend_triggered will have to set up a connection with <code>connect()</code> before calling <code>adduser-&gt;show();</code></p>\n"}], "owner": {"reputation": 35, "user_id": 11516828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e84e2e1dbc95fd7593973ac8db2a9a57?s=128&d=identicon&r=PG&f=1", "display_name": "Someone", "link": "https://stackoverflow.com/users/11516828/someone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58097379, "answer_count": 1, "score": 0, "last_activity_date": 1569412098, "creation_date": 1569409140, "last_edit_date": 1569412098, "question_id": 58096876, "link": "https://stackoverflow.com/questions/58096876/qt-use-parent-function-in-child-c", "title": "Qt use parent function in child (C++)", "body": "<p>I am learning Qt with Qt creator and I have a question.</p>\n\n<p>I saw a lot of people asking the same thing but nothing helped me.</p>\n\n<p>I have a MainWindow and in a function i create a subwindow like this :</p>\n\n<pre><code>void MainWindow::on_actionAdd_Friend_triggered()\n{\n    adduser = new addUser(this);\n    adduser-&gt;show();\n}\n</code></pre>\n\n<p>In my MainWindow.h :</p>\n\n<pre><code>private:\n    addUser *adduser;\n</code></pre>\n\n<p>And I want to access at a function of Mainwindow in adduser.</p>\n\n<p>I have tried to put a getter in addUser (child) and try to get the info after the <code>adduser-&gt;show();</code> but the child is destroyed so I have access to nothing...</p>\n\n<p>I saw that there is a solution with <code>conect()</code> : is this a good solution? or is there another way?</p>\n"}, {"tags": ["python", "c++", "gpu", "dlib"], "comments": [{"owner": {"reputation": 2907, "user_id": 1928515, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a01ce6c702f6514136cfecc06b8cdb25?s=128&d=identicon&r=PG", "display_name": "nabroyan", "link": "https://stackoverflow.com/users/1928515/nabroyan"}, "edited": false, "score": 1, "creation_date": 1570976019, "post_id": 58096802, "comment_id": 103079547, "body": "I had the same question and installing via <code>python setup.py install --no DLIB_USE_CUDA</code> worked for me."}, {"owner": {"reputation": 514, "user_id": 8857724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ddee62010c906f5851400fc3bb3c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan", "link": "https://stackoverflow.com/users/8857724/rizwan"}, "reply_to_user": {"reputation": 2907, "user_id": 1928515, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a01ce6c702f6514136cfecc06b8cdb25?s=128&d=identicon&r=PG", "display_name": "nabroyan", "link": "https://stackoverflow.com/users/1928515/nabroyan"}, "edited": false, "score": 1, "creation_date": 1571041003, "post_id": 58096802, "comment_id": 103094713, "body": "Yeah it also worked for me ... Needed to restart the system though :)"}], "answers": [{"tags": [], "owner": {"reputation": 119, "user_id": 9595032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/114bd378d35c80c03cd710c9640b9551?s=128&d=identicon&r=PG&f=1", "display_name": "kolukuri", "link": "https://stackoverflow.com/users/9595032/kolukuri"}, "is_accepted": false, "score": 2, "last_activity_date": 1575140832, "creation_date": 1575140832, "answer_id": 59119326, "question_id": 58096802, "link": "https://stackoverflow.com/questions/58096802/force-dlib-python-to-install-with-cpu-support-only-on-a-gpu-machine-with-cuda-a/59119326#59119326", "title": "Force Dlib python to install with CPU support only; on a GPU machine with Cuda and everything", "body": "<p>If you want to install from pip packages directly use following below command</p>\n\n<p><code>sudo pip install -v --install-option=\"--no\" --install-option=\"DLIB_USE_CUDA\" dlib</code></p>\n"}, {"comments": [{"owner": {"reputation": 514, "user_id": 8857724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ddee62010c906f5851400fc3bb3c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan", "link": "https://stackoverflow.com/users/8857724/rizwan"}, "edited": false, "score": 0, "creation_date": 1581974339, "post_id": 60246080, "comment_id": 106609319, "body": "Is there a way to select two hardware accelerators? . I needed to use TPU, so either we can select TPU or GPU? And my problem was not to use GPU, instead it was to NOT use it.  Anyways, the problem is solved, You can check it issues of Dlib with the title of this post i guess."}], "tags": [], "owner": {"reputation": 95, "user_id": 9815786, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nHeefB1BFu8/AAAAAAAAAAI/AAAAAAAAEcU/LL71OxZ5CFE/photo.jpg?sz=128", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/9815786/nikhil"}, "is_accepted": false, "score": 2, "last_activity_date": 1581835547, "creation_date": 1581835547, "answer_id": 60246080, "question_id": 58096802, "link": "https://stackoverflow.com/questions/58096802/force-dlib-python-to-install-with-cpu-support-only-on-a-gpu-machine-with-cuda-a/60246080#60246080", "title": "Force Dlib python to install with CPU support only; on a GPU machine with Cuda and everything", "body": "<p>In Google Colab Go to Toolbar > RunTime > Change runtime type> Set Hardware Accelerator> GPU</p>\n"}, {"comments": [{"owner": {"reputation": 2058, "user_id": 1821692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/aXNO2.jpg?s=128&g=1", "display_name": "feeeper", "link": "https://stackoverflow.com/users/1821692/feeeper"}, "edited": false, "score": 2, "creation_date": 1593065764, "post_id": 62568804, "comment_id": 110649722, "body": "As I can see the question was about how to use CPU instead of GPU. I&#39;m not sure that your answer is valid."}], "tags": [], "owner": {"reputation": 1, "user_id": 13532350, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aCTg2Yi6Jxc/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmV7UXseQK70zhgS2FHn9zZK4jM-Q/photo.jpg?sz=128", "display_name": "Gaurav s", "link": "https://stackoverflow.com/users/13532350/gaurav-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1593064886, "creation_date": 1593064886, "answer_id": 62568804, "question_id": 58096802, "link": "https://stackoverflow.com/questions/58096802/force-dlib-python-to-install-with-cpu-support-only-on-a-gpu-machine-with-cuda-a/62568804#62568804", "title": "Force Dlib python to install with CPU support only; on a GPU machine with Cuda and everything", "body": "<p>If you are using google collaboratory and installed\n<strong>!pip install face_recognition</strong> in the collab.\nThen you should change your runtime acceleration to GPU to <strong>import face_recognition</strong></p>\n"}], "owner": {"reputation": 514, "user_id": 8857724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93ddee62010c906f5851400fc3bb3c6a?s=128&d=identicon&r=PG&f=1", "display_name": "Rizwan", "link": "https://stackoverflow.com/users/8857724/rizwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4431, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1593064886, "creation_date": 1569408893, "last_edit_date": 1569420284, "question_id": 58096802, "link": "https://stackoverflow.com/questions/58096802/force-dlib-python-to-install-with-cpu-support-only-on-a-gpu-machine-with-cuda-a", "title": "Force Dlib python to install with CPU support only; on a GPU machine with Cuda and everything", "body": "<p>I have searched it over the internet and all I can find is that people having trouble with installation of Dlib with Cuda.\nI have exact opposite problem. I can successfully install Dlib with Cuda and GPU support on Ubuntu (Google Colab). But I don't want that. \nI want to force Dlib to use CPU since when I change the runtime to TPU, there will be no GPU. But Dlib finds CUDA while installation and add support of CUDA while installation even though runtime is set to \"NOT GPU\".          </p>\n\n<pre><code>pip install Dlib\n</code></pre>\n\n<p>this will by default install Dlib with cuda, since I am unaware of any flags to disable Cuda.\nBut even if I try to build Dlib from source like:</p>\n\n<pre><code>!git clone https://github.com/davisking/dlib.git\n%cd dlib\n!mkdir build\n%cd build\n!cmake .. -DDLIB_USE_CUDA=0 -DUSE_AVX_INSTRUCTIONS=1 \n!cmake --build .\n# !sudo make install\n# !sudo ldconfig\n%cd ..\n# !python setup.py build --no DLIB_USE_CUDA\n!python setup.py install --no DLIB_USE_CUDA\n</code></pre>\n\n<p>I can successfully do</p>\n\n<pre><code>import Dlib\n</code></pre>\n\n<p>But when I used \"face_recogntion\" which calls Dlib at backend</p>\n\n<pre><code>!pip install face_recognition\nimport dlib\nimport face_recognition\n</code></pre>\n\n<p>it throws an error:</p>\n\n<pre><code>---------------------------------------------------------------------------\nRuntimeError                              Traceback (most recent call last)\n&lt;ipython-input-52-c42385b122ec&gt; in &lt;module&gt;()\n      2 get_ipython().system('pip install face_recognition')\n      3 import dlib\n----&gt; 4 import face_recognition\n\n1 frames\n/usr/local/lib/python3.6/dist-packages/face_recognition/api.py in &lt;module&gt;()\n     21 \n     22 cnn_face_detection_model = face_recognition_models.cnn_face_detector_model_location()\n---&gt; 23 cnn_face_detector = dlib.cnn_face_detection_model_v1(cnn_face_detection_model)\n     24 \n     25 face_recognition_model = face_recognition_models.face_recognition_model_location()\n\nRuntimeError: Error while calling cudaGetDevice(&amp;the_device_id) in file /tmp/pip-install-9p_kkgzg/dlib/dlib/cuda/gpu_data.cpp:178. code: 38, reason: no CUDA-capable device is detected\n</code></pre>\n\n<p>Now I am unable to understand what I am missing.\nWhat Flag should I set in order to Force DLIB to use CPU and not even look for GPU even when there is one.</p>\n"}, {"tags": ["c++", "qt", "qtcpsocket"], "comments": [{"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569408432, "post_id": 58096634, "comment_id": 102585352, "body": "Multiple calls to read? You must do that anyway with TCP, because since it&#39;s a streaming protocol there&#39;s no packages or beginnings or ends. A single receive can give you less than one message, a full message, or more than a single message."}, {"owner": {"reputation": 13, "user_id": 11880541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297e007adfbf9673bea918f4fb2ae42a?s=128&d=identicon&r=PG&f=1", "display_name": "laju bajili", "link": "https://stackoverflow.com/users/11880541/laju-bajili"}, "reply_to_user": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569409096, "post_id": 58096634, "comment_id": 102585680, "body": "do you mean like <code>socket-&gt;read(4096)</code> in a while? then what should be the condition in that while?"}, {"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1569409103, "post_id": 58096634, "comment_id": 102585683, "body": "Multiple calls to read <b><i>and</i></b> write. The shown code appears to not fully check the return value of <code>write()</code> and, as such, may not actually write everything, depending on how Qt&#39;s wrapper for bezerkeley sockets works. The reason &quot;other programs&quot; can send and receive more stuff is because they actually understand how reading and writing from sockets works, and may not read or write everything, so they&#39;re specifically coded to have logic that tries agan, until everything is fully read and written."}, {"owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "edited": false, "score": 0, "creation_date": 1569409386, "post_id": 58096634, "comment_id": 102585838, "body": "You need to come up with a protocol on top of TCP, some way to tell you how much you need to receive. That can be done by using a fixed-sized message header containing the data length to receive, or by having a specific message or &quot;package&quot; separator that you check for. Or, like old HTTP, read until the connection is closed by the other end."}, {"owner": {"reputation": 31019, "user_id": 2230, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a905a92a336eaea1b936c100ec49e229?s=128&d=identicon&r=PG", "display_name": "Euro Micelli", "link": "https://stackoverflow.com/users/2230/euro-micelli"}, "edited": false, "score": 0, "creation_date": 1569446619, "post_id": 58096634, "comment_id": 102604100, "body": "DataGrams are UDP concept, not TCP. You need to understand that TCP doesn\u2019t work in packets. It\u2019s a streaming protocol: You get one or more chunks of data, in spurts. You have no control on the size of the chunks; each might different; you are responsible for assembling those chunks yourself (they are correctly sorted). You also need to know when the data is done by means outside of TCP (i.e. knowing how many bytes in advance, or delimiters)."}], "answers": [{"tags": [], "owner": {"reputation": 2045, "user_id": 6842395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d215da0d7fcc97ae7fbca3af451bf10d?s=128&d=identicon&r=PG&f=1", "display_name": "Former contributor", "link": "https://stackoverflow.com/users/6842395/former-contributor"}, "is_accepted": false, "score": 0, "last_activity_date": 1569423042, "creation_date": 1569423042, "answer_id": 58101189, "question_id": 58096634, "link": "https://stackoverflow.com/questions/58096634/how-to-read-more-than-8192-byte-with-qtcpsocket/58101189#58101189", "title": "how to read more than 8192 byte with QTcpSocket?", "body": "<p>You may need to set QAbstractSocket::setReadBufferSize() to a larger value, if the current value is too small. But this is an internal Qt buffer, and by default should be large enough. Most probably you need to set <a href=\"https://doc.qt.io/qt-5/qabstractsocket.html#SocketOption-enum\" rel=\"nofollow noreferrer\">QAbstractSocket::ReceiveBufferSizeSocketOption</a> which is an OS level socket option. See QAbstractSocket::socketOption() and <a href=\"https://doc.qt.io/qt-5/qabstractsocket.html#setSocketOption\" rel=\"nofollow noreferrer\">QAbstractSocket::setSocketOption()</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3021058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUi9v.png?s=128&g=1", "display_name": "Amphaal", "link": "https://stackoverflow.com/users/3021058/amphaal"}, "is_accepted": false, "score": 0, "last_activity_date": 1569444838, "creation_date": 1569444838, "answer_id": 58106391, "question_id": 58096634, "link": "https://stackoverflow.com/questions/58096634/how-to-read-more-than-8192-byte-with-qtcpsocket/58106391#58106391", "title": "how to read more than 8192 byte with QTcpSocket?", "body": "<p>The issue here is that the <code>socket-&gt;write()</code> is a relatively low-level operation, which is part of the <code>QIODevice</code> API. It <strong>will not</strong> split your whole data into smaller chunks of &lt;8192 bytes to comply to the TCP protocol requirements.</p>\n\n<p>Hopefully, you can leverage <code>QDataStream</code> to send/receive data painlessly, without thinking of protocol implementations :</p>\n\n<pre><code>//send data\nQDataStream sender(socket);\nQByteArray dataWhichMightBeBiggerThan8192Bytes = jsonRequest.toLatin1();\nsender &lt;&lt; dataWhichMightBeBiggerThan8192Bytes;\n</code></pre>\n\n<p>To receive data :</p>\n\n<pre><code>//connect your socket\nQObject::connect(\n    socket, &amp;QIODevice::readyRead,\n    this, &amp;mywindow::_processIncomingData\n);\n</code></pre>\n\n<p>Then, in your class :</p>\n\n<pre><code>//Is called every time new data is sent to the socket \nvoid mywindow::_processIncomingData() {\n\n    //prepare to receive data \n    QDataStream receiver(this-&gt;_innerSocket); \n\n    //will loop until the whole waitingBytes of the socket are exhausted \n    while(!receiver.atEnd()) { \n\n        //start a transaction, so the waitingBytes of the socket can be automatically reset if not all the expected data is there \n        receiver.startTransaction();\n\n        //push waitingBytes into a QByteArray\n        QByteArray myJsonAsLatin1;\n        receiver &gt;&gt; myJsonAsLatin1;\n\n        //commit : if it failed, means data is missing, so you may keep looping while the client downloads more\n        if(auto commitFailed = !receiver.commitTransaction()) continue;\n\n        //commit succeeded, waitingBytes are freed from your QByteArray, you can now process your data\n        this-&gt;_useMyData(myJsonAsLatin1);\n\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11880541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/297e007adfbf9673bea918f4fb2ae42a?s=128&d=identicon&r=PG&f=1", "display_name": "laju bajili", "link": "https://stackoverflow.com/users/11880541/laju-bajili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 354, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1569444838, "creation_date": 1569408287, "question_id": 58096634, "link": "https://stackoverflow.com/questions/58096634/how-to-read-more-than-8192-byte-with-qtcpsocket", "title": "how to read more than 8192 byte with QTcpSocket?", "body": "<p>i send a request to server and get a response my code is like this:</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>QString mywindow::SocketCommunication(QString JsonRequest)\n{\n    QTcpSocket *socket = new QTcpSocket(this);\n    QString result;\n    socket-&gt;connectToHost(SOCKET_IP, SOCKET_PORT);//SOCKET_IP and SOCKET_PORT are defined constants and are correct\n\n    if (socket-&gt;waitForConnected(-1) &amp;&amp; socket-&gt;state() == QAbstractSocket::ConnectedState)\n    {\n\n        if (socket-&gt;write(JsonRequest.toLatin1()) == -1)\n        {\n\n            socket-&gt;disconnectFromHost();\n            result = \"Could not send message\";\n        }\n        else\n        {\n            socket-&gt;flush();\n\n\n            if (!socket-&gt;waitForReadyRead(90000))\n            {\n                socket-&gt;disconnectFromHost();\n                result = \"tcp con timeout for reading\";\n            }\n            else\n            {\n                QByteArray JsonResponse = socket-&gt;readAll();// the problem is here\n\n                socket-&gt;close();\n\n                JsonResponse = JsonResponse.trimmed();\n                QString jsonResp = QString::fromStdString(JsonResponse.toStdString());\n\n                result = ParseResponse(jsonResp) // here i parse the response. it works fine and is not important in this question.\n            }\n        }\n    }\n\n    else\n    {\n        qDebug() &lt;&lt; \"cannot connect\";\n        socket-&gt;disconnectFromHost();\n        result = \"Could not Connect to Server\";\n    }\n    return result;\n}\n\n</code></pre>\n\n<p>now this works fine when ever the response coming from server is less than 8192 bytes. otherwise this only reads the first 8192 bytes. when i put <code>socket-&gt;error()</code> after read all i get -1 which is QAbstractSocket::UnknownSocketError. do you have any idea why this happens and how should i remedy it?</p>\n\n<p><strong>ps</strong>: i dont think the problem is the QAbstractSocket::DatagramTooLargeError which is </p>\n\n<blockquote>\n  <p>The datagram was larger than the operating system's limit (which can be as low as <strong>8192</strong> bytes).</p>\n</blockquote>\n\n<p>because i can send more than 8192 and other programs can communicate with larger messages all right.</p>\n"}, {"tags": ["c++", "gdb"], "comments": [{"owner": {"reputation": 26552, "user_id": 448932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QgLLl.png?s=128&g=1", "display_name": "500 - Internal Server Error", "link": "https://stackoverflow.com/users/448932/500-internal-server-error"}, "edited": false, "score": 0, "creation_date": 1569408371, "post_id": 58096443, "comment_id": 102585317, "body": "Indeed. You can verify this by looking at the stack memory in the debugger after a return from a sub-function. It&#39;s hard to know what is where, though, since you no longer have  matching stack and or base pointers."}, {"owner": {"reputation": 22348, "user_id": 9528746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ukFe1.png?s=128&g=1", "display_name": "Max Langhof", "link": "https://stackoverflow.com/users/9528746/max-langhof"}, "edited": false, "score": 0, "creation_date": 1569408662, "post_id": 58096443, "comment_id": 102585459, "body": "What do you mean with &quot;entering a new stack frame&quot; exactly? The change of the stack pointer to some higher frame itself won&#39;t clobber the data in the frame you left, but you don&#39;t have to go down a frame again for the old frame to be clobbered - that can happen because of operations in the upper frame (such as allocating 1000 bytes of &quot;stack memory&quot; after returning from the called function)."}, {"owner": {"reputation": 58792, "user_id": 1006010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f683d229f3673c9dcc3f3f2796d75c09?s=128&d=identicon&r=PG", "display_name": "MathematicalOrchid", "link": "https://stackoverflow.com/users/1006010/mathematicalorchid"}, "edited": false, "score": 0, "creation_date": 1569424622, "post_id": 58096443, "comment_id": 102594861, "body": "Couldn&#39;t you scan the stack looking for 64-bit numbers that coincide with memory addresses that have code in them? (I.e., numbers that might be return addresses.)"}], "answers": [{"tags": [], "owner": {"reputation": 119228, "user_id": 412080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/239e18525e4c29872d85b2b553b2e4d2?s=128&d=identicon&r=PG", "display_name": "Maxim Egorushkin", "link": "https://stackoverflow.com/users/412080/maxim-egorushkin"}, "is_accepted": false, "score": 1, "last_activity_date": 1569408610, "last_edit_date": 1569408610, "creation_date": 1569408287, "answer_id": 58096633, "question_id": 58096443, "link": "https://stackoverflow.com/questions/58096443/access-old-stack-frames/58096633#58096633", "title": "Access old stack frames", "body": "<p>Stackframes do not contain any information about its size or boundaries, rather this knowledge is hardcoded into functions' code. There is a (stack) frame pointer register, using which makes it possible to walk the stack up, but not down. In the current function you know the boundaries of the current frame, but there is no information of what could possibly be below it.</p>\n"}, {"tags": [], "owner": {"reputation": 162629, "user_id": 50617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YFykQ.png?s=128&g=1", "display_name": "Employed Russian", "link": "https://stackoverflow.com/users/50617/employed-russian"}, "is_accepted": true, "score": 2, "last_activity_date": 1569433750, "creation_date": 1569433750, "answer_id": 58103990, "question_id": 58096443, "link": "https://stackoverflow.com/questions/58096443/access-old-stack-frames/58103990#58103990", "title": "Access old stack frames", "body": "<blockquote>\n  <p>But it appears to me that the data on the old stack frame is still there, it's just not referenced any more.</p>\n</blockquote>\n\n<p>Correct.</p>\n\n<blockquote>\n  <p>Is there some way to make GDB show me these deleted stack frames? </p>\n</blockquote>\n\n<p>You can trivially look at the unused stack with GDB <code>examine</code> command. For example:</p>\n\n<pre><code>void fn()\n{\n  int x[100];\n  for (int j = 0; j &lt; 100; j++) x[j] = (0x1234 &lt;&lt; 12) + j;\n}\n\n\nint main()\n{\n  fn();\n  return 0;\n}\n</code></pre>\n\n<p>Build and debug with:</p>\n\n<pre><code>gcc -g t.c\ngdb -q ./a.out\n\n(gdb) start\nTemporary breakpoint 1 at 0x115f: file t.c, line 10.\nStarting program: /tmp/a.out \n\nTemporary breakpoint 1, main () at t.c:10\n10    fn();\n(gdb) n\n11    return 0;\n(gdb) x/40x $rsp-0x40\n0x7fffffffdc60: 0x0123405c  0x0123405d  0x0123405e  0x0123405f\n0x7fffffffdc70: 0x01234060  0x01234061  0x01234062  0x01234063\n0x7fffffffdc80: 0x55555170  0x00005555  0x55555040  0x00000064\n0x7fffffffdc90: 0xffffdca0  0x00007fff  0x55555169  0x00005555\n0x7fffffffdca0: 0x55555170  0x00005555  0xf7a3a52b  0x00007fff\n0x7fffffffdcb0: 0x00000000  0x00000000  0xffffdd88  0x00007fff\n0x7fffffffdcc0: 0x00080000  0x00000001  0x5555515b  0x00005555\n0x7fffffffdcd0: 0x00000000  0x00000000  0xa91c6994  0xc8f4292d\n0x7fffffffdce0: 0x55555040  0x00005555  0xffffdd80  0x00007fff\n0x7fffffffdcf0: 0x00000000  0x00000000  0x00000000  0x00000000\n</code></pre>\n\n<p>Here you can clearly see <code>x</code> still on stack: <code>0x7fffffffdc60</code> is where <code>x[92]</code> used to be, <code>0x7fffffffdc70</code> is where <code>x[96]</code> used to be, etc.</p>\n\n<p>There is no easy way to make GDB <em>interpret</em> that data as locals of <code>fn</code> though.</p>\n"}], "owner": {"reputation": 58792, "user_id": 1006010, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f683d229f3673c9dcc3f3f2796d75c09?s=128&d=identicon&r=PG", "display_name": "MathematicalOrchid", "link": "https://stackoverflow.com/users/1006010/mathematicalorchid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 58103990, "answer_count": 2, "score": 2, "last_activity_date": 1569433750, "creation_date": 1569407636, "question_id": 58096443, "link": "https://stackoverflow.com/questions/58096443/access-old-stack-frames", "title": "Access old stack frames", "body": "<p>If I'm understanding this right, each time you call a C++ function, SP (and possibly BP) get moved to allocate some temporary space on the stack \u2014 a stack frame. And when the function returns, the pointers get moved back, deallocating the stack frame again.</p>\n\n<p>But it appears to me that the data on the old stack frame is still <em>there</em>, it's just not referenced any more. Is there some way to make GDB show me these deleted stack frames? (Obviously once you enter a <em>new</em> stack frame it will at least partially overwrite any previous ones... but until then it seems like it should be possible.)</p>\n"}, {"tags": ["python", "c++", "boost", "cmake", "anaconda"], "comments": [{"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 1, "creation_date": 1569409552, "post_id": 58096297, "comment_id": 102585933, "body": "&quot;But I get the same error with or without these arguments.&quot; - That is, even when you set <code>PYTHON_INCLUDE_DIR</code> variable, the error message you got still contains <code>PYTHON_INCLUDE_DIRS</code> as missing? Are you sure? As for <code>PYTHON_LIBRARY</code> variable setting, it should contain path to the library <b>file</b>, not a <i>directory</i>, as you currently have (<code>&#47;Users&#47;chris&#47;anaconda3&#47;lib</code>)."}, {"owner": {"reputation": 33, "user_id": 9401540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fb6e01123d1c2fd8a99a6a8327f568?s=128&d=identicon&r=PG&f=1", "display_name": "C.Marsden", "link": "https://stackoverflow.com/users/9401540/c-marsden"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1569415155, "post_id": 58096297, "comment_id": 102589030, "body": "What should the library file be called? I have <code>&#47;Users&#47;chris&#47;anaconda3&#47;lib&#47;libpython3.6m.dylib</code>, is this correct?"}, {"owner": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1569415285, "post_id": 58096297, "comment_id": 102589130, "body": "Yes, file <code>&#47;Users&#47;chris&#47;anaconda3&#47;lib&#47;libpython3.6m.dylib</code> looks OK for being a python library."}, {"owner": {"reputation": 33, "user_id": 9401540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fb6e01123d1c2fd8a99a6a8327f568?s=128&d=identicon&r=PG&f=1", "display_name": "C.Marsden", "link": "https://stackoverflow.com/users/9401540/c-marsden"}, "reply_to_user": {"reputation": 44923, "user_id": 3440745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e5b88faef87b734150f28962f0c8e5?s=128&d=identicon&r=PG&f=1", "display_name": "Tsyvarev", "link": "https://stackoverflow.com/users/3440745/tsyvarev"}, "edited": false, "score": 0, "creation_date": 1569421085, "post_id": 58096297, "comment_id": 102592723, "body": "I can&#39;t just set the variable PYTHON_LIBRARIES to this for reasons I&#39;ve explained in the update above."}], "owner": {"reputation": 33, "user_id": 9401540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97fb6e01123d1c2fd8a99a6a8327f568?s=128&d=identicon&r=PG&f=1", "display_name": "C.Marsden", "link": "https://stackoverflow.com/users/9401540/c-marsden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1228, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1569420966, "creation_date": 1569407165, "last_edit_date": 1569420966, "question_id": 58096297, "link": "https://stackoverflow.com/questions/58096297/could-not-find-pythonlibs-anaconda3", "title": "Could NOT find PythonLibs, anaconda3", "body": "<p>ORIGINAL POST:</p>\n\n<p>I am trying to compile a simple 'hello world' to call from python (anaconda3), complied using CMake.</p>\n\n<p>I get:</p>\n\n<pre><code>Could NOT find PythonLibs (missing: PYTHON_LIBRARIES PYTHON_INCLUDE_DIRS)\n</code></pre>\n\n<p>hello.cpp:</p>\n\n<pre><code>#include &lt;boost/python.hpp&gt;\n#include &lt;string&gt;\n\nstd::string greet(std::string name){\n    return std::string(\"Hello, \") + name;\n}\n\nBOOST_PYTHON_MODULE(hello){\n    using namespace boost::python;\n    def(\"greet\", greet, \"Prepends a greeting to the passed name\");\n}\n</code></pre>\n\n<p>CMakeLists.txt:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.0)\nfind_package(PythonLibs 3 REQUIRED)\n\nset(BOOST_PYTHONLIB python-py36)\nfind_package(Boost COMPONENTS ${BOOST_PYTHONLIB})\n\npython_add_module(hello hello.cpp)\ntarget_include_directories(hello PUBLIC ${Boost_INCLUDE_DIRS} ${PYTHON_INCLUDE_DIRS})\ntarget_link_libraries(hello ${Boost_LIBRARIES} ${PYTHON_LIBRARIES})\n</code></pre>\n\n<p>Crucally, I'm trying to use anaconda3, so based on some other posts I've added the following arguments for when CMake is called:</p>\n\n<pre><code>-DPYTHON_LIBRARY=/Users/chris/anaconda3/lib\n-DPYTHON_INCLUDE_DIR=/Users/chris/anaconda3/include\n</code></pre>\n\n<p>But I get the same error with or without these arguments. I'm still relatively new to this, so apologies if this is something trivial.</p>\n\n<p>I'm running Mojave 10.14.6, and I'm doing this through CLion.</p>\n\n<p>UPDATE:</p>\n\n<p>As suggested in <a href=\"https://stackoverflow.com/questions/42445169/pythonlibs3-cmake-and-macos\">this</a>post, editing the package finds to </p>\n\n<pre><code>FIND_PACKAGE(PythonInterp 3)\nFIND_PACKAGE(PythonLibs 3)\n</code></pre>\n\n<p>Seems to help - it finds PythonLibs but not the correct one.</p>\n\n<pre><code>Could NOT find PythonLibs: Found unsuitable version \"2.7.10\", but required is at least \"3\" (found /usr/lib/libpython2.7.dylib)\n</code></pre>\n\n<p>I am aware that I can (in principle) do:</p>\n\n<pre><code>set(PYTHON_LIBRARIES /Users/chris/anaconda3/lib/libpython3.6m.dylib)\n</code></pre>\n\n<p>As discussed in the comments, which does find the correct library, but as discussed in the above post, later gives me the error <code>Unknown CMake command \"PYTHON_ADD_MODULE\".</code></p>\n\n<p>According to that post, the \"reason for this appears to be because this function is provided by FindPythonLibs.cmake which is loaded in by find_package(Pythonlibs) and therefore, if this is not used to located PythonLibs, this function cannot be called\".</p>\n\n<p>So, it seems that the path to <code>/Users/chris/anaconda3/lib/libpython3.6m.dylib</code> needs to be somehow added to FindPackage()s search. Anyone know how to do this?</p>\n"}]