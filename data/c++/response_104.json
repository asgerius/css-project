[{"tags": ["c++", "sfml"], "answers": [{"comments": [{"owner": {"reputation": 189, "user_id": 6396858, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-g5bbM57lK_M/AAAAAAAAAAI/AAAAAAAAAEU/e_yiFCZXB7k/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/6396858/peter"}, "edited": false, "score": 0, "creation_date": 1483575781, "post_id": 41475291, "comment_id": 70156890, "body": "But what if I have multiple textures?"}, {"owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "reply_to_user": {"reputation": 189, "user_id": 6396858, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-g5bbM57lK_M/AAAAAAAAAAI/AAAAAAAAAEU/e_yiFCZXB7k/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/6396858/peter"}, "edited": false, "score": 0, "creation_date": 1483575980, "post_id": 41475291, "comment_id": 70156955, "body": "In that case you would have to keep multiple variables(or a vector/array/something else) somewhere. Each Texture instance must somehow outlive its usage by any Sprite instance."}, {"owner": {"reputation": 1096, "user_id": 4477125, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JYZmH.jpg?s=128&g=1", "display_name": "Lorence Hernandez", "link": "https://stackoverflow.com/users/4477125/lorence-hernandez"}, "edited": false, "score": 1, "creation_date": 1483579635, "post_id": 41475291, "comment_id": 70157896, "body": "its not good to use vector for storing textures because when its resized the vector will need to create a new bigger array and copy those textures to that and copying texture is a slow operation. unless you use vector::reserve() if you can foresee the size"}, {"owner": {"reputation": 1096, "user_id": 4477125, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/JYZmH.jpg?s=128&g=1", "display_name": "Lorence Hernandez", "link": "https://stackoverflow.com/users/4477125/lorence-hernandez"}, "reply_to_user": {"reputation": 189, "user_id": 6396858, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-g5bbM57lK_M/AAAAAAAAAAI/AAAAAAAAAEU/e_yiFCZXB7k/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/6396858/peter"}, "edited": false, "score": 2, "creation_date": 1483579927, "post_id": 41475291, "comment_id": 70157977, "body": "@Peter you should write class that manages your textures (ie resource manager), in that class you can hide a bunch of different texture that can be use to every objects, its also bad to put texture as data member for your pickup,  assuming there will be more than one instances of pickup ( so thats means more than 1 instances of sf::Texture with same textures ), you can also hide static texture in your class if all pickup objects will just use one texture theres more efficient way to do that, but beware of good and bad design of your class"}, {"owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "edited": false, "score": 0, "creation_date": 1483595929, "post_id": 41475291, "comment_id": 70161888, "body": "You are correct, what i suggested as a possible solution was merely the first and simplest that came to mind to fix the problem in the specific case presented, not a good one as such. I will amend my answer with the suggestions in your comment. Thank you ;-)"}], "tags": [], "owner": {"reputation": 826, "user_id": 1760583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ceb7fbcd8fae120967309f671e34acd1?s=128&d=identicon&r=PG", "display_name": "Philipp Lenk", "link": "https://stackoverflow.com/users/1760583/philipp-lenk"}, "is_accepted": true, "score": 1, "last_activity_date": 1483599237, "last_edit_date": 1483599237, "creation_date": 1483574794, "answer_id": 41475291, "question_id": 41475074, "link": "https://stackoverflow.com/questions/41475074/lost-link-with-sprite-texture/41475291#41475291", "title": "Lost link with Sprite texture", "body": "<p>The <a href=\"http://www.sfml-dev.org/documentation/2.0/classsf_1_1Sprite.php#a3729c88d88ac38c19317c18e87242560\" rel=\"nofollow noreferrer\">SFML documentation</a> states:</p>\n\n<blockquote>\n  <p>The texture argument refers to a texture that must exist as long as\n  the sprite uses it. Indeed, the sprite doesn't store its own copy of\n  the texture, but rather keeps a pointer to the one that you passed to\n  this function. If the source texture is destroyed and the sprite tries\n  to use it, the behaviour is undefined.</p>\n</blockquote>\n\n<p>The Texture Object you create and load is local to your constructor and destroyed at its end, so once it is actually used later in your programs execution, the pointer/reference kept by the Sprite-Object is dangling. </p>\n\n<p>To avoid the issue you could, for instance, save the Texture as an additional member in your Pickup class. </p>\n\n<p>As pointed out by Lorence Hernandez in an insightful comment below, this would not, however, be an exceedingly good idea. Each instance of Pickup would hold its own texture instance, despite the textures being the same, wasting memory. Furthermore, Pickup could no longer use the default copy operations, as a copied Pickup's Sprite instance would subsequently refer to the texture instance in the original object. </p>\n\n<p>A better approach would be to move the handling of this issue, i.e. management of texture instances and their lifetime, outside the Pickup class itself. \nThere is a multitude of possible solutions ranging from simple functions doing internal caching to more complicated resource manager classes. </p>\n\n<p>The former could be as simple as the following snippet:</p>\n\n<pre><code>const Texture&amp; load(const std::string &amp;filename)\n{\n    static std::map&lt;std::string,std::unique_ptr&lt;Texture&gt;&gt; textures;\n    auto &amp;tex_ptr=textures[filename];\n    if(!tex_ptr)\n        tex_ptr=std::make_unique&lt;Texture&gt;(filename);\n    return *tex_ptr;\n}\n</code></pre>\n\n<p>This simplistic version does, of course, have a minor \"leak\" as unused textures will never be freed during the programs execution.</p>\n\n<p>Googling \"texture manager sfml\" will yield many examples and tutorials regarding the latter, for instance <a href=\"https://github.com/SFML/SFML/wiki/Tutorial:-Image-Manager\" rel=\"nofollow noreferrer\">this rather old unofficial one</a> in SFML's github. It manages sf::Image, not sf::Texture, but the same general ideas apply.</p>\n"}], "owner": {"reputation": 189, "user_id": 6396858, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-g5bbM57lK_M/AAAAAAAAAAI/AAAAAAAAAEU/e_yiFCZXB7k/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/6396858/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 41475291, "answer_count": 1, "score": 0, "last_activity_date": 1483599237, "creation_date": 1483573357, "question_id": 41475074, "link": "https://stackoverflow.com/questions/41475074/lost-link-with-sprite-texture", "title": "Lost link with Sprite texture", "body": "<p>I have this class to add Sprites to my game:</p>\n\n<pre><code>class Pickup {\n   public:\n       Pickup::Pickup()\n       {\n            Texture healthTexture;\n            healthTexture.loadFromFile(\"health.png\");\n            m_Sprite.setTexture(healthTexture);\n        } \n       Sprite Pickup::getSprite()\n       {\n            return m_Sprite;\n       }\n   private: \n        Sprite m_Sprite;\n};\n</code></pre>\n\n<p>I use Pickup nameSprite() to add another sprite to my game. But every time I do this (I tried with different images, I used <code>if(!healthTexture.loadFromFile(..))</code>to see if the problem is with the image) I only see a white rectangle instead of what I wanted, and nothing seems to be wrong. My question is: what is the cause for the link problem?</p>\n"}, {"tags": ["c++", "algorithm", "sorting", "c++11", "memory"], "comments": [{"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 3, "creation_date": 1483573188, "post_id": 41474992, "comment_id": 70156139, "body": "I don&#39;t know if there are any general answers or &quot;guarantees&quot; to this. But if the issue is crucial, then a general answer is probably not good enough anyway. You need an answer for the specific implementation for std::sort and such on the platform you&#39;re using. You may be in luck though, since a lot of std stuff (particularly anything templates) is implemented entirely in the C++ headers. In that case there&#39;s not really anything stopping you from looking at the implementation yourself to verify everything you&#39;re concerned about."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483573593, "post_id": 41474992, "comment_id": 70156263, "body": "Just took a browse through a recent standard draft. I see nothing stating that <code>sort</code> can&#39;t use heap, just requirements on how <code>swap</code> is supported. Digging through <code>swap</code>, again no details on whether the heap is used to store temporaries during the swap."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483573800, "post_id": 41474992, "comment_id": 70156337, "body": "@user4581301 The standard does not even has the concept of &quot;heap&quot; and &quot;stack&quot; to begin with, so any guarantee concerning &quot;where&quot; the memory is allocated would be rather surprising."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1483573955, "post_id": 41474992, "comment_id": 70156379, "body": "@BaummitAugen The standard has concepts of dynamically allocated memory and local variables, which correspond to heap and stack respectively in implementations."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1483574011, "post_id": 41474992, "comment_id": 70156395, "body": "@interjay That&#39;s {static, automatic, dynamic} storage duration, not &quot;what kind of memory&quot;."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1483574058, "post_id": 41474992, "comment_id": 70156405, "body": "@BaummitAugen And in practice any reasonable implementation will use heap and stack for those storage durations."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1483574149, "post_id": 41474992, "comment_id": 70156427, "body": "@interjay Until you have some platform without a heap, that somehow manages to implement dynamic storage duration on the &quot;stack&quot; (or some other concept of memory to begin with). The C++ standard is more general than &quot;everyone does it like this so far&quot;."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 1, "creation_date": 1483574234, "post_id": 41474992, "comment_id": 70156451, "body": "@BaummitAugen The question asked here is a practical question about a real platform, it isn&#39;t a language-lawyer question about unpractical possibilities. Saying that there is an imaginary platform that behaves differently doesn&#39;t help. It seems that you&#39;re arguing for the sake of arguing."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1483574523, "post_id": 41474992, "comment_id": 70156518, "body": "@interjay I don&#39;t feel like I&#39;m arguing; of course common platforms us the stack and the heap as we know it. However, as my answer states: The important part is that the implementation does the right thing, as in observable effects. What memory it uses for that is irrelevant and rightfully not mandated by the standard. Again: As long as the outcome is right, the &quot;how&quot; does not matter."}, {"owner": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "reply_to_user": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 0, "creation_date": 1483574886, "post_id": 41474992, "comment_id": 70156618, "body": "@BaummitAugen Well, what memory is used is certainly important in this case (where heap memory is constrained), so I don&#39;t understand your point. The outcome won&#39;t be &quot;right&quot; if you run out of memory. Again, you seem to be looking at this from a pure standard view, while this question is about what practically happens in a reasonable implementation. Imagine that the question had asked &quot;Will std::sort allocate memory with a dynamic storage duration&quot; if you prefer."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 97030, "user_id": 189205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c60305494593d556e57a3cf8e4a8c163?s=128&d=identicon&r=PG", "display_name": "interjay", "link": "https://stackoverflow.com/users/189205/interjay"}, "edited": false, "score": 0, "creation_date": 1483575274, "post_id": 41474992, "comment_id": 70156751, "body": "@interjay One could of course ask <i>&quot;How does implementation X implement <code>std::sort</code> on platform Y?&quot;</i> and answer &quot;uses heap&quot; or not. But as it stands, I think my answer hits the point: In general, we can&#39;t know, some implementations may provide additional guarantees, but it must do as told by the standard."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483575944, "post_id": 41474992, "comment_id": 70156940, "body": "True enough to all that. The implementation could use memory from Pluto over quantum entanglement and be correct. I chose my wording poorly when I used heap."}], "answers": [{"comments": [{"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1483585471, "post_id": 41475062, "comment_id": 70159259, "body": "<code>std::sort</code> <i>may not</i> in practice use the heap, because it <i>may not</i> throw <code>bad_alloc</code> as far as I know? (unless your code does)  (And yes, pathologically it could, with a pointless heap allocation then a catch that ignores the error)"}, {"owner": {"reputation": 22874, "user_id": 3282056, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IXonK.jpg?s=128&g=1", "display_name": "rcgldr", "link": "https://stackoverflow.com/users/3282056/rcgldr"}, "edited": false, "score": 0, "creation_date": 1483593918, "post_id": 41475062, "comment_id": 70161178, "body": "In the case of std::sort, typically the source code in &lt; algorithm &gt; could be viewed using an editor to see exactly what it&#39;s doing. In the case of Visual Studio, std::sort uses a combination of quick sort, heap sort (used to prevent O(n^2) worst case time complexity of quick sort), and insertion sort, all of them being in place sorts, so no apparent allocation of memory from the heap. std::stable_sort() is a variation of merge sort and does allocate a temp buffer (1/2 the size of the original array). The VS implementation of quick sort limits stack space complexity to O(log2(n))."}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 0, "creation_date": 1483620711, "post_id": 41475062, "comment_id": 70176004, "body": "@Yakk The standard library implementation could use some non-throwing allocation I suppose, and getting terminated by the OS is not  an exception in the standard sense. However, I believe this falls under the second part of my answer: <code>std::sort</code> must sort and not throw, <i>how</i> it does this need not concern us users."}, {"owner": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "reply_to_user": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "edited": false, "score": 1, "creation_date": 1605595325, "post_id": 41475062, "comment_id": 114691117, "body": "@Yakk-AdamNevraumont <a href=\"https://en.cppreference.com/w/cpp/algorithm/sort\" rel=\"nofollow noreferrer\">cppreference</a> says <code>std::sort</code> can throw <code>bad_alloc</code>"}, {"owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "reply_to_user": {"reputation": 22416, "user_id": 5494370, "user_type": "registered", "profile_image": "https://graph.facebook.com/10152989584621642/picture?type=large", "display_name": "Alan Birtles", "link": "https://stackoverflow.com/users/5494370/alan-birtles"}, "edited": false, "score": 1, "creation_date": 1605652268, "post_id": 41475062, "comment_id": 114716144, "body": "@AlanBirtles That is under the <code>ExecutionPolicy</code> cases, which are permitted to allocate resources (for example, a message being sent to a worker thread, or whatever)."}], "tags": [], "owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "is_accepted": true, "score": 8, "last_activity_date": 1483573688, "last_edit_date": 1483573688, "creation_date": 1483573236, "answer_id": 41475062, "question_id": 41474992, "link": "https://stackoverflow.com/questions/41474992/stdsort-algorithms-memory-usage/41475062#41475062", "title": "std::sort algorithms memory usage", "body": "<p>What memory the standard library algorithms can use is not mandated by the standard, so the implementation can generally do as it wants. That includes allocating heap memory.</p>\n\n<p>You can check if some <em>specific</em> implementation provides the guarantees you want, but again, in general, you have no control over how the implementation implements its algorithms.</p>\n\n<hr>\n\n<p>However:</p>\n\n<blockquote>\n  <p>The background is that I consider to introduce some of the standard library algorithms into an embedded environment in which a controlled memory usage is crucial. (especially the heap shall not be used).</p>\n</blockquote>\n\n<p>The implementation <em>must</em> make sure that its algorithms do what they are supposed to do as defined by the standards. That means: If you have a C++ compiler that supports your target environment, it must do the right thing on said target platform, however it achieves that.</p>\n\n<p>In particular: If your platform does not have a heap, any implementation that supports it must not use the heap.</p>\n"}], "owner": {"reputation": 263, "user_id": 4569127, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/53747371e83e96cdfed342589a31570a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4569127/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1796, "favorite_count": 2, "accepted_answer_id": 41475062, "answer_count": 1, "score": 9, "last_activity_date": 1483573688, "creation_date": 1483572709, "question_id": 41474992, "link": "https://stackoverflow.com/questions/41474992/stdsort-algorithms-memory-usage", "title": "std::sort algorithms memory usage", "body": "<p>I'm wondering whether the standard libraries sorting algorithms (e.g. std::sort) are using the heap memory for sorting. </p>\n\n<p>Is there any reliable source how to find out what kind (heap, stack) and how much of temporary memory is used by a sorting algorithm or any standard library algorithm in general?</p>\n\n<p>The background is that I consider to introduce some of the standard library algorithms into an embedded environment in which a controlled memory usage is crucial. (especially the heap shall not be used).</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["c++", "opengl", "orientation", "axis", "transformation"], "answers": [{"tags": [], "owner": {"reputation": 30170, "user_id": 5231607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QzGsq.jpg?s=128&g=1", "display_name": "1201ProgramAlarm", "link": "https://stackoverflow.com/users/5231607/1201programalarm"}, "is_accepted": false, "score": 0, "last_activity_date": 1483580725, "creation_date": 1483580725, "answer_id": 41476084, "question_id": 41474932, "link": "https://stackoverflow.com/questions/41474932/how-to-align-the-y-axis-of-an-object-with-a-vector-eminating-from-the-centre-poi/41476084#41476084", "title": "How to align the Y-Axis of an object with a vector eminating from the centre point of their parent", "body": "<p>In other words, you want a way to point your child sphere at the parent one.</p>\n\n<p>Compute a new Y axis direction for the child by subtracting the child's position from the parent's (to get a Y axis that points to the center of the parent) and normalize it.  Compute a new X axis by crossing the new Y axis vector with the existing Z axis vector (in a left handed system), taking care to handle the case where they are pointing in the same direction or exactly opposite each other (possibly normalizing to remove error).  Then cross this new X axis vector with the new Y axis vector to get a new Z axis vector.  Store this in your orientation matrix for the child.</p>\n"}], "owner": {"reputation": 25, "user_id": 7326691, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/746b295cb02104a391e3a72cdd8e7845?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7326691/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483580725, "creation_date": 1483572321, "last_edit_date": 1483573238, "question_id": 41474932, "link": "https://stackoverflow.com/questions/41474932/how-to-align-the-y-axis-of-an-object-with-a-vector-eminating-from-the-centre-poi", "title": "How to align the Y-Axis of an object with a vector eminating from the centre point of their parent", "body": "<p>So I have an object (Sphere) and I want to align the y-axis of the sphere with the vector that is used to plot its mid-point. </p>\n\n<p>As it stands now, all objects created have the axis' set as shown below, so everything created in the world space has an axis orientation as seen in the picture below. But I want the axis of the spheres in local coordinates to have their y axis in the direction of their parent object (the sphere which they surround) but I'm unsure what blanket transformation I could do for each object in order for this transformation to occur.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Du30g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Du30g.png\" alt=\"enter image description here\"></a></p>\n\n<p>Pictured below is the desired orientation of the objects.</p>\n\n<p><a href=\"https://i.stack.imgur.com/V87WO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V87WO.png\" alt=\"Desired orientation of object axis&#39;\"></a></p>\n\n<p>I need this orientation, so the child spheres instead of all pointing upwards like they do in both pictures below, pont outwards based on the orientation. So if I was to generate a sphere at the bottom, rather than its child spheres being generated at the top of their x-axis and subsequently half merging with the large centre sphere, they point outwards away from the large centre sphere</p>\n\n<p>Below is the code where I generate the spheres ( I generate more spheres in this code than pictured i.e 9  but lessened the amount of spheres present in the pictures for clarification and not to clutter the image )</p>\n\n<pre><code>bool static CreateSphereLevels(Sphere *parent, float childRadiusRatio, int levels,\n            Material** materials)\n\n{\n    if (levels == 1) {\n        for (int i = 0; i &lt; 6; i++) {\n            Sphere * s = new Sphere(childRadiusRatio, materials[i % 6]);\n            parent-&gt;AddChild(s);\n            float rm = parent-&gt;GetRadius() + s-&gt;GetRadius();\n            if (i == 0)\n                s-&gt;SetPosition(vec3(0.0f, rm, 0.0f));\n            if (i &gt;= 1 &amp;&amp; i &lt; 6)\n                s-&gt;SetPosition(vec3(RotationY(60 * i) * vec4(0.0f, rm, 0.0f, 0.0f)));\n            if (i == 1 || i == 3 || i == 5) {\n                Sphere * sn = new Sphere(childRadiusRatio, materials[i]);\n                parent-&gt;AddChild(sn);\n                sn-&gt;SetPosition(vec3(RotationY(60 * i) * RotationZ(60) * vec4(0.0f, rm, 0.0f, 0.0f)));\n            }\n        }\n        return true;\n    }\n    else {\n        for (int i = 0; i &lt; 6; i++) {\n            Sphere * s = new Sphere(childRadiusRatio, materials[i % 6]);\n            parent-&gt;AddChild(s);\n            int newLevels = levels - 1;\n            CreateSphereLevels(s, (childRadiusRatio / 3), newLevels, materials);\n            float rm = parent-&gt;GetRadius() + s-&gt;GetRadius();\n            if (i == 0)\n                s-&gt;SetPosition(vec3(0.0f, rm, 0.0f));\n            if (i &gt;= 1 &amp;&amp; i &lt; 6)\n                s-&gt;SetPosition(vec3(RotationY(60 * i) * vec4(0.0f, rm, 0.0f, 0.0f)));\n            if (i == 1 || i == 3 || i == 5) {\n                Sphere * sn = new Sphere(childRadiusRatio, materials[i]);\n                parent-&gt;AddChild(sn);\n                CreateSphereLevels(sn, (childRadiusRatio / 3), newLevels, materials);\n                sn-&gt;SetPosition(vec3(RotationY(60 * i) * RotationZ(60) * vec4(0.0f, rm, 0.0f, 0.0f)));\n            }\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>Below now is the possible transformations that can be performed on my objects</p>\n\n<pre><code>#ifndef RAYTRACER_SCENES_SCENEOBJECT_H\n#define RAYTRACER_SCENES_SCENEOBJECT_H\n\n#include &lt;Raytracer/Scenes/SceneObjectType.h&gt;\n\n#include &lt;vector&gt;\n\nnamespace Raytracer\n{\n    namespace Scenes\n    {\n        class SceneObject\n        {\n        private:\n\n            /**\n             * The transformation matrix to transform a point from world coordinates to local\n             * coordinates.\n             */\n            glm::mat4x4 globalTransformation;\n\n            glm::mat4x4 transformation;\n\n            glm::mat4x4 globalToLocal;\n\n            /**\n             * Updates the global transformation based on the current transformation. This\n             * includes child objects.\n             */\n            void UpdateTransformations();\n\n            std::vector&lt;SceneObject *&gt; children;\n            SceneObject * parent;\n\n        public:\n\n            /**\n             * Constructs a new SceneObject.\n             */\n            SceneObject();\n\n            /**\n             * Destructs a SceneObject and deletes all child objects.\n             */\n            virtual ~SceneObject();\n\n            /**\n             * Adds a new child to this object.\n             *\n             * @param child The new child object. This object becomes child's parent object. This\n             *   object takes ownership of child.\n             * @return true if the child was added successfully, false otherwise.\n             */\n            bool AddChild(SceneObject *child);\n\n            /**\n             * Retrieves a list of all children of this object.\n             *\n             * @return A list of all children of this object\n             */\n            const std::vector&lt;SceneObject *&gt; &amp;GetChildren() const;\n\n            /**\n            * Retrieves the position of this object in world space, i.e. the translation component\n            * of the global transformation matrix.\n            *\n            * @return The global position of this object\n            */\n            const glm::vec3 GetGlobalPosition() const;\n\n            /**\n            * Retrieves a matrix that can be used to transform coordinates from world space to\n            * object space. This is the inverse of the global transformation matrix.\n            *\n            * @return The inverse of the global transformation matrix\n            */\n            const glm::mat4x4 &amp;GetGlobalToLocal() const;\n\n            /**\n             * Retrieves the global transformation matrix. The global transformation matrix is used\n             * to transform coordinates from object space to world space.\n             *\n             * @return The global transformation matrix\n             */\n            const glm::mat4x4 &amp;GetGlobalTransformation() const;\n\n            /**\n             * Retrieves the parent object of this object.\n             *\n             * @param The parent object of this object or NULL if this object has no parent\n             */\n            SceneObject *GetParent() const;\n\n            /**\n             * Retrieves the position of this object, i.e. the translation component of the\n             * transformation matrix.\n             *\n             * @return The position of the object\n             */\n            const glm::vec3 GetPosition() const;\n\n            /**\n             * Retrieves the transformation matrix. The transformation matrix is used to transform\n             * coordinates from object space to the object space of the parent object (or world\n             * space if this object has no parent).\n             *\n             * @return The transformation matrix\n             */\n            const glm::mat4x4 &amp;GetTransformation() const;\n\n            /**\n             * Checks whether this instance is of the given type.\n             *\n             * @param type The type to check against\n             * @return true if this object is of type type, false otherwise\n             */\n            virtual bool IsInstanceOf(SceneObjectType type) const = 0;\n\n            /**\n            * Sets the global transformation matrix. The global transformation matrix is used\n            * to transform coordinates from object space to world space.\n            *\n            * @param transformation The new global transformation matrix\n            */\n            void SetGlobalTransformation(const glm::mat4x4 &amp;transformation);\n\n            /**\n             * Sets the position of this object, i.e. the translation component of the\n             * transformation matrix.\n             *\n             * @param position The new position\n             */\n            void SetPosition(const glm::vec3 &amp;position);\n\n            /**\n             * Sets the transformation matrix. The transformation matrix is used to transform\n             * coordinates from object space to the object space of the parent object (or world\n             * space if this object has no parent).\n             *\n             * @param transformation The new transformation matrix\n             */\n            void SetTransformation(const glm::mat4x4 &amp;transformation);\n\n            void ChildRemove(SceneObject * child);\n        };\n    }\n}\n\n#endif // RAYTRACER_SCENES_SCENEOBJECT_H\n</code></pre>\n"}, {"tags": ["c++", "boost", "network-programming"], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 5923865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a995a83f09a2a96153574fc73e67292?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/5923865/ben"}, "is_accepted": false, "score": 4, "last_activity_date": 1483575299, "creation_date": 1483575299, "answer_id": 41475353, "question_id": 41474820, "link": "https://stackoverflow.com/questions/41474820/c-boost-asio-networking-server-client/41475353#41475353", "title": "c++ - Boost ASIO networking server/client", "body": "<p>Start with learning some of the basics.  There are excellent tutorials and examples provided by the library that will walk you through concepts and examples of both synchronous and async servers.</p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio.html</a></p>\n\n<p>Start at the beginning.  Work through the basic concepts with timers and callbacks.  Continue with the tutorial into the networking.  Build on the core ideas over the course of a few hours by editing the tutorial programs to try out ideas on your own.</p>\n\n<p>Then work your way over to the examples section.  The 'Chat' example is really close to what you are looking to build.  This specific example shows how to connections open by re-issuing async_reads in the read handlers.  Asynchronous asio servers will service multiple clients as long as the service threads continue to run with the assigned async_accept task.</p>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio/examples/cpp11_examples.html\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio/examples/cpp11_examples.html</a>\n<a href=\"http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio/example/cpp11/chat/chat_server.cpp\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_62_0/doc/html/boost_asio/example/cpp11/chat/chat_server.cpp</a></p>\n"}], "owner": {"reputation": 907, "user_id": 4646394, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/59cde1f2da25b8437f9a390c303734b7?s=128&d=identicon&r=PG&f=1", "display_name": "helix", "link": "https://stackoverflow.com/users/4646394/helix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10935, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1483575299, "creation_date": 1483571694, "last_edit_date": 1483573231, "question_id": 41474820, "link": "https://stackoverflow.com/questions/41474820/c-boost-asio-networking-server-client", "title": "c++ - Boost ASIO networking server/client", "body": "<p>I have written a program for client and server. The program currently does the following:</p>\n\n<ol>\n<li>Server listens to an end point for a connection</li>\n<li>Client connects to the server</li>\n<li>server sends message on accepting a connection</li>\n<li>client receives the message</li>\n</ol>\n\n<p>I'm doing this asynchronously. But, the problem is they can only send/receive one message. After that, they just terminate. Below is my code:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include&lt;boost/asio.hpp&gt;\n\nstd::vector&lt;char&gt; buff(256);\n\nvoid SendHandler(boost::system::error_code ex){\n    std::cout &lt;&lt; \" do something here\" &lt;&lt; std::endl;\n}\n\nvoid ReadHandler(boost::system::error_code ex){\n    std::cout &lt;&lt; \" print the buffer data...\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; buff.data() &lt;&lt; std::endl;\n\n}\n\nvoid Server(){\n    boost::asio::io_service service;\n    using namespace boost::asio::ip;\n    tcp::endpoint endpoint(tcp::v4(), 4000);\n    tcp::acceptor acceptor(service, endpoint); \n    tcp::socket socket(service);\n    std::cout &lt;&lt; \"[Server] Waiting for connection\" &lt;&lt; std::endl;\n\n\n    acceptor.accept(socket);\n    std::cout &lt;&lt; \"[Server] Accepted a connection from client\" &lt;&lt; std::endl;\n\n    std::string msg = \"Message from server\";\n    socket.async_send(boost::asio::buffer(msg), SendHandler);\n    service.run();\n\n}\n\nvoid Client(){\n    boost::asio::io_service service;\n    using namespace boost::asio::ip;\n    tcp::endpoint endpoint(address::from_string(\"127.0.0.1\"), 4000);\n    tcp::socket socket(service);\n    std::cout &lt;&lt; \"[Client] Connecting to server...\" &lt;&lt; std::endl;\n    socket.connect(endpoint);\n    std::cout &lt;&lt; \"[Client] Connection successful\" &lt;&lt; std::endl;\n\n    socket.async_read_some(boost::asio::buffer(buff), ReadHandler);\n    service.run();\n}\n\nint main(int argc, char **argv) {\n    if(argc == 1){\n        std::cout &lt;&lt; \"Please specify s for server or c for client\" &lt;&lt; std::endl;\n        return -1;\n    }\n    if(argv[1][0] == 's'){\n        Server();\n    }\n    else{\n        Client();\n    }\n    return 0;\n}\n</code></pre>\n\n<p>I want to scale this program so that:</p>\n\n<ol>\n<li>server can listen and client can send request indefinitely. More like a one way chat system.</li>\n<li>server being able to connect to multiple clients.</li>\n</ol>\n\n<p>Putting the <code>async_send()</code> and <code>service.run()</code> in an infinite loop didn't help. It just prints the message over and over on the client side until the client terminates.</p>\n\n<p>I'm fairly new to <code>boost::asio</code> even to <code>network programming</code>. Please tell me where and what I should modify in my code?</p>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 2, "creation_date": 1483571046, "post_id": 41474680, "comment_id": 70155375, "body": "Accessing an array index that is outside of the array is undefined behavior. You might get 11 or 34000 or -21938... you get the idea. In short, you should not do this. Instead, change your for loop to only loop until the end of the array."}, {"owner": {"reputation": 21605, "user_id": 1142167, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f9MAS.jpg?s=128&g=1", "display_name": "Joel Cornett", "link": "https://stackoverflow.com/users/1142167/joel-cornett"}, "edited": false, "score": 1, "creation_date": 1483571131, "post_id": 41474680, "comment_id": 70155417, "body": "Also, arrays are indexed by 0, not 1, so <code>arrayName[0]</code> gives you the first element, while <code>arrayName[1]</code> actually gives you the second element. (And of course <code>arrayName[arraySize - 1]</code> gives you the last element)."}, {"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 0, "creation_date": 1483571167, "post_id": 41474680, "comment_id": 70155427, "body": "Trying to access past the end of an array is undefined behavior. Although it probably has a completely rational explanation (for instance, you may be reading array index <code>i</code> after an increment when you access element at index ten) ultimately the exercise leads to nowhere. The proper way to deal with UB is eliminating it."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1483571682, "post_id": 41474680, "comment_id": 70155611, "body": "<code>arrayName[i] &lt;= 20</code> when this condition in your program will be realized?"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1483571859, "post_id": 41474680, "comment_id": 70155670, "body": "I&#39;m voting to close this as &quot;too broad&quot;, as my impression of the question is &quot;Explain arrays, comparisons, and for loops&quot;"}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1483571931, "post_id": 41474680, "comment_id": 70155696, "body": "@host_255 if you did write this code: <code>arrayName[i] &lt;= 20</code>, can you tell us what <i>you</i> think it means?"}, {"owner": {"reputation": 7700, "user_id": 126027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d083341daacfb4942b835e3f6f2fd804?s=128&d=identicon&r=PG", "display_name": "TheUndeadFish", "link": "https://stackoverflow.com/users/126027/theundeadfish"}, "edited": false, "score": 0, "creation_date": 1483572814, "post_id": 41474680, "comment_id": 70156023, "body": "&quot;And, if I make i=0, it also prints a 0&quot; ... &quot;outputs 7 integers that I did not specify to be included in the arrayName[]&quot; Take a close look at your own code. <code>cout &lt;&lt; i</code> You&#39;re outputting the value of the integer index <code>i</code> itself, not the value from the array at position i, which would be <code>arrayName[i]</code>."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "reply_to_user": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "edited": false, "score": 0, "creation_date": 1483589613, "post_id": 41474680, "comment_id": 70160124, "body": "@George <code>arrayName[10]</code> does not exist at all, it&#39;s not uninitialized and doesn&#39;t contain anything"}, {"owner": {"reputation": 2055, "user_id": 6564148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u3HL5.png?s=128&g=1", "display_name": "George", "link": "https://stackoverflow.com/users/6564148/george"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1483605108, "post_id": 41474680, "comment_id": 70165913, "body": "@M.M Ah yes, thanks for pointing that out!"}], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483586755, "post_id": 41474748, "comment_id": 70159506, "body": "@Fran&#231;ois_Andrieux Very cool. I set <code>i=1</code> in that case on purpose, because the output would then start at 1, instead of 0. I didn&#39;t the the C++ standard handles it that way. I just tried changing <code>&lt;20</code> to <code>&lt;10</code> and set <code>i=0</code>, but it prints <code>0,1,2,3,4,5,6,7,8</code>. <code>&lt;=10</code> prints <code>0...8,9,10,11&#39;, </code>&lt;=9` prints <code>0...8</code>. How do I get it to output the values I initialized, <code>{ 1,2,3,4,5,6,7,8,9,10 }</code>?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483586943, "post_id": 41474748, "comment_id": 70159546, "body": "@host_255 If you want to simply print all the values, then iterate as long as <code>i &lt; 10</code> (where 10 is the size of your array). <code>for (int i = 0; i &lt; 10; i++)</code>"}, {"owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483589169, "post_id": 41474748, "comment_id": 70160041, "body": "@Fran&#231;ois_Andrieux The for loop does loop through an array. I found an answer and posted it and it printed all of the items in the array. I would like a way to control how many iterations, though. Maybe you can help with that?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483589324, "post_id": 41474748, "comment_id": 70160066, "body": "@host_255 I do not understand the question in your last comment. In the loop <code>for (int i = 0; i &lt; 10; i++)</code> the number 10 is how many iterations. <code>for (int i = 0; i &lt; n; i++)</code> will do n iterations."}, {"owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483633243, "post_id": 41474748, "comment_id": 70185106, "body": "@Fran&#231;ois_Andrieux What I meant was that I initialized an array, and want to iterate through it and print its values with a for loop. You just wrote <code>for (int i = 0; i &lt; n; i++)</code>, is <code>n</code> substituted with the array, such as <code>for (int i = 0; i &lt; arrayName[10]; i++)</code>?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483633316, "post_id": 41474748, "comment_id": 70185162, "body": "@host_255 No, <code>n</code> is substituted for the number of iterations you want. To iterate 4 tiems <code>for (int i = 0; i &lt; 4; i++)</code>. Your loop body will execute 4 times with <code>i</code> taking the values 0, 1, 2 then 3. <code>int i = 0</code> means <code>i</code> starts with the value 0. <code>i &lt; 4</code> means to loop <i>as long as</i> <code>i</code> is less than 4. <code>i++</code> means <code>i</code> should be incremented after each loop."}, {"owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483635954, "post_id": 41474748, "comment_id": 70187006, "body": "@Fran&#231;ois_Andrieux I think I figured it out based on what you said: <code>int array1[] = {1,2,3,4,5}; for {i=0;i&lt;5;i++){int arrayElements=array1[i]; std::cout&lt;&lt;i&lt;&lt;std::endl;}</code> Would that be correct?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "edited": false, "score": 0, "creation_date": 1483636229, "post_id": 41474748, "comment_id": 70187195, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/132422/discussion-between-francois-andrieux-and-host-255\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 3, "last_activity_date": 1483571419, "last_edit_date": 1495541421, "creation_date": 1483571278, "answer_id": 41474748, "question_id": 41474680, "link": "https://stackoverflow.com/questions/41474680/c-for-loop-and-do-while-loop-of-a-single-dimensional-array-gives-questionable/41474748#41474748", "title": "C++ for loop and do-while loop of a single dimensional array gives questionable output", "body": "<p>First, note that arrays in c++ start at index 0. So in <code>int arrayName[3] = {10, 42, 88};</code> then <code>arrayName[1]</code> is 42, not 10. That means the last element in this array is <code>int arrayName[2]</code>. There is no element at index 3.</p>\n\n<p>Your array only contains 10 elements (indices 0 to 9). The standard does not specify what happens when you access an element past the end of an array, anything can happen. In your case, <code>arrayName[10]</code> and <code>arrayName[11]</code> happens to give you something less than or equal to 20, and then <code>arrayName[12]</code> gave you something greater than 20, ending the loop. If you try it on another computer, or even at a different time, the results will vary. It might also crash (this is the best case scenario).</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/2397984/undefined-unspecified-and-implementation-defined-behavior\">this answer</a> for more information on undefined behavior.</p>\n"}, {"tags": [], "owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "is_accepted": false, "score": -1, "last_activity_date": 1483588251, "last_edit_date": 1495542749, "creation_date": 1483588251, "answer_id": 41477049, "question_id": 41474680, "link": "https://stackoverflow.com/questions/41474680/c-for-loop-and-do-while-loop-of-a-single-dimensional-array-gives-questionable/41477049#41477049", "title": "C++ for loop and do-while loop of a single dimensional array gives questionable output", "body": "<p>I finally found this: <a href=\"https://stackoverflow.com/questions/20234898/correct-way-of-loop-through-the-c-array\">Correct way of loop through the C++ arrays</a>, answer by <a href=\"https://stackoverflow.com/users/1619294/mark-garcia\">https://stackoverflow.com/users/1619294/mark-garcia</a>. </p>\n\n<p>Changed my code to:</p>\n\n<pre><code>std::cout &lt;&lt; \"Looping through arrayName3 with std::array and letting the compiler determine how many objects to print:\" &lt;&lt; std::endl;\n// Need to #include &lt;array&gt;\nstd::array&lt;int, 10&gt; arrayName3 = { 1,2,3,4,5,6,7,8,9,10 };\nfor (const auto&amp; i : arrayName3) // Range-for\n{\n    std::cout &lt;&lt; i &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>The output was what I wanted:</p>\n\n<pre><code>    1\n    2\n    3\n    4\n    5\n    6\n    7\n    8\n    9\n    10\n</code></pre>\n\n<p>This let's the compiler know it is deciding what to output. It would be great to know how to change this to control how many indices to loop through. </p>\n"}], "owner": {"reputation": 303, "user_id": 6566684, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ed15d4f8dfc17126d3952abbc099dd42?s=128&d=identicon&r=PG&f=1", "display_name": "host_255", "link": "https://stackoverflow.com/users/6566684/host-255"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 845, "favorite_count": 0, "closed_date": 1483589717, "answer_count": 2, "score": -3, "last_activity_date": 1483614209, "creation_date": 1483570870, "question_id": 41474680, "link": "https://stackoverflow.com/questions/41474680/c-for-loop-and-do-while-loop-of-a-single-dimensional-array-gives-questionable", "closed_reason": "Needs more focus", "title": "C++ for loop and do-while loop of a single dimensional array gives questionable output", "body": "<p>I am taking a course on edx.org Introduction to C++ by Microsoft. I get unwanted output when looping through a single dimensional array. The code is below.</p>\n\n<pre><code>&lt;#include &lt;iostream&gt;\n\nint main() {\nint arrayName[10] = { 1,2,3,4,5,6,7,8,9,10 };\nfor (int i = 1; arrayName[i] &lt;= 20; i++) {\n   std::cout &lt;&lt; i &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n11 \n</code></pre>\n\n<p>Where does the 11 come from? And, if I make i=0, it also prints a 0. How does it print more than 10? And, when I try to change arrayName[10] to arrayName[9], I get a compiler error that there are too many initialized values:</p>\n\n<pre><code>int arrayName[10] = { 1,2,3,4,5,6,7,8,9,10 };\n\ndo {\n    std::cout &lt;&lt; i &lt;&lt; std::endl;\n    i++;\n} while (arrayName[i] &lt; 5);\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>12\n13\n14\n15\n16\n17\n18\n</code></pre>\n\n<p>That do-while loop outputs 7 integers that I did not specify to be included in the arrayName[] array.</p>\n\n<p>I don't know what I am doing wrong or what I am not understanding.</p>\n\n<p>Please help. Thank you!</p>\n"}, {"tags": ["c++", "visual-c++", "g++", "clang++", "manipulators"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483571304, "post_id": 41474615, "comment_id": 70155475, "body": "A much shorter <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> is available <a href=\"http://ideone.com/44UWla\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 1916, "user_id": 3964927, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e623e3d178746197d3de47e02f2be97?s=128&d=identicon&r=PG", "display_name": "Null", "link": "https://stackoverflow.com/users/3964927/null"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483571544, "post_id": 41474615, "comment_id": 70155551, "body": "@Rob\u1d69 ideone.com is blocked at work for me. Feel free to edit your MCVE into my question."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 1, "creation_date": 1483571641, "post_id": 41474615, "comment_id": 70155596, "body": "Possible duplicate: <a href=\"http://stackoverflow.com/questions/23540764/friend-function-is-not-visible-in-the-class\" title=\"friend function is not visible in the class\">stackoverflow.com/questions/23540764/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 2, "last_activity_date": 1483572019, "creation_date": 1483572019, "answer_id": 41474883, "question_id": 41474615, "link": "https://stackoverflow.com/questions/41474615/custom-manipulator-compiles-with-visual-c-but-not-g-clang/41474883#41474883", "title": "Custom manipulator compiles with Visual C++ but not g++/clang", "body": "<p>friend functions defined inside a class definition are only visible inside that class definition. You need to declare the function outside the class definition. Add this line outside your <code>class QueuedLog</code>, but inside your <code>namespace Logger</code>:</p>\n\n<pre><code>extern QueuedLog&amp; endm(QueuedLog&amp;);\n</code></pre>\n"}], "owner": {"reputation": 1916, "user_id": 3964927, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8e623e3d178746197d3de47e02f2be97?s=128&d=identicon&r=PG", "display_name": "Null", "link": "https://stackoverflow.com/users/3964927/null"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 41474883, "answer_count": 1, "score": 0, "last_activity_date": 1483572019, "creation_date": 1483570540, "last_edit_date": 1483571718, "question_id": 41474615, "link": "https://stackoverflow.com/questions/41474615/custom-manipulator-compiles-with-visual-c-but-not-g-clang", "title": "Custom manipulator compiles with Visual C++ but not g++/clang", "body": "<p>I have a logger class <code>QueuedLog</code> which queues up log messages and inserts all the log message(s) in the queue into a <code>std::ostream</code> if and when desired. To separate each log message, I wrote a manipulator called <code>endm</code> which is used in a similar manner as <code>std::endl</code>. For example, here's a use case:</p>\n\n<pre><code>QueuedLog log(INFO);\n\n// do stuff\n\nlog &lt;&lt; \"test: 0x\" &lt;&lt; std::hex &lt;&lt; std::uppercase &lt;&lt; 15 &lt;&lt; endm; // add a log message\n\n// do more stuff\n\nlog &lt;&lt; \"log something else\" &lt;&lt; endm;\n\nstd::cout &lt;&lt; log &lt;&lt; std::endl; // insert all the queued up log messages into cout\n\n// do more stuff\n\nlog &lt;&lt; \"start another message...\";\n\n// calculate something, add it to a log message and end the message\nlog &lt;&lt; std::dec &lt;&lt; 42 &lt;&lt; endm;\n\nstd::cout &lt;&lt; log &lt;&lt; std::endl; // insert all the queued up log messages into cout\n\nlog &lt;&lt; \"add yet another message\" &lt;&lt; endm;\n\n// don't need to log that last message after all\n// leave it in the QueuedLog instead of inserting it into cout\n</code></pre>\n\n<p>My code compiles fine with Visual C++ but g++ and clang++ fail compilation when I try to use the <code>endm</code> manipulator. Here is a minimal version of the <code>QueuedLog</code> (which usually resides in a separate header file), with a small example usage demonstrating the problem:</p>\n\n<pre><code>#include &lt;ios&gt;\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;sstream&gt;\n#include &lt;deque&gt;\n#include &lt;stdexcept&gt;\n\nnamespace Logger {\n\nenum LogType {\n    NONE,   \n    DEBUG,  \n    INFO,   \n    WARN,   \n    ERROR,  \n    FATAL   \n};\n\n// Converts a LogType to a `std::string` which can be prepended to a log message.\nstd::string prepend_type(LogType type) {\n    switch (type) {\n        case DEBUG: return std::string(\"[DEBUG] \");\n        case INFO: return std::string(\"[INFO] \");\n        case WARN: return std::string(\"[WARN] \");\n        case ERROR: return std::string(\"[ERROR] \");\n        case FATAL: return std::string(\"[FATAL] \");\n        default: return std::string(\"\");\n    }\n}\n\nclass QueuedLog {\n    /* Holds a partially contructed log message.\n\n    A std::stringstream is used instead of a std::string so that non-string data types can be inserted into\n    the QueuedLog without requiring conversion. Also, client code can apply I/O manipulators like std::hex.\n    */\n    std::ostringstream stream;\n\n    std::deque&lt;std::string&gt; messages; // Holds the queued, completed log message(s).\n\n    // The LogType of new messages inserted into the QueuedLog. This can be changed at any time.\n    LogType log_type;\npublic:\n    QueuedLog(LogType logtype = NONE) : log_type(logtype) {} // Constructs a QueuedLog with no text and an initial LogType.\n\n    // Inserts a character sequence into the QueuedLog.\n    template&lt;typename T&gt; inline QueuedLog&amp; operator&lt;&lt;(const T&amp; message) {\n    //inline QueuedLog&amp; operator&lt;&lt;(const std::string&amp; message) { // non-template version doesn't work, either\n        // Only prepend with logtype if it is the beginning of the message\n        if (stream.str().empty()) stream &lt;&lt; prepend_type(log_type);\n\n        stream &lt;&lt; message;\n        return *this;\n    }\n\n    // Overload used for manipulators like QueuedLog::endm()\n    inline QueuedLog&amp; operator&lt;&lt;(QueuedLog&amp; (*pf)(QueuedLog&amp;)) {\n        (*pf)(*this);\n        return *this;\n    }\n\n    // Adds the newline character and marks the end of a log message.\n    friend inline QueuedLog&amp; endm(QueuedLog&amp; log) {\n        log.stream &lt;&lt; log.stream.widen('\\n');\n\n        // Add the completed message to the messages deque, and reset the stream for the next message\n        log.messages.push_back(log.stream.str());\n        log.stream.str(\"\"); // clear the underlying string\n        log.stream.clear(); // clear any error flags on the stream\n\n        return log;\n    }\n\n    /* Inserts all the completed log messages in the QueuedLog object into a std::ostream.\n\n    If the QueuedLog contains an incomplete log message (a message that has not been terminated by QueuedLog::endm())\n    then that partial message will not be inserted into the std::ostream.\n    */\n    friend inline std::ostream&amp; operator&lt;&lt;(std::ostream&amp; os, QueuedLog&amp; log) {\n        while (!log.messages.empty()) {\n            os &lt;&lt; log.messages.front();\n            log.messages.pop_front();\n        }\n\n        return os;\n    }\n};\n\n} // end namespace Logger\n\nusing namespace Logger;\n\nint main() {\n    QueuedLog log(INFO);\n\n    log &lt;&lt; \"test: 0x\" &lt;&lt; std::hex &lt;&lt; std::uppercase &lt;&lt; 15; // compiles by itself with all compilers\n    log &lt;&lt; endm; // but compilation error w/ g++/clang++ when trying to use endm\n    std::cout &lt;&lt; log &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>Or, this (possibly over-)simplified example:</p>\n\n<pre><code>class QueuedLog {\npublic:\n    friend inline void endm() {\n    }\n};\n\nint main() {\n    endm;\n}\n</code></pre>\n\n<p>I've attempted to compile it with all three compilers at <a href=\"http://rextester.com/l/cpp_online_compiler_visual\" rel=\"nofollow noreferrer\">rextester</a> but it only compiles successfully with Visual C++.</p>\n\n<p>g++ gives the following error:</p>\n\n<blockquote>\n  <p><code>error: \u2018endm\u2019 was not declared in this scope</code></p>\n</blockquote>\n\n<p>The error message from clang++ is similar:</p>\n\n<blockquote>\n  <p><code>error: use of undeclared identifier 'endm'</code></p>\n</blockquote>\n\n<p>Why does this work in Visual C++ but not g++ or clang++? How do I fix it for g++/clang++? The solution does not need to work in all three compilers simultaneously, I just want to know how to fix it for g++ and clang++.</p>\n"}, {"tags": ["c++", "c", "recursion", "uppercase", "lowercase"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 1, "creation_date": 1483571256, "post_id": 41474602, "comment_id": 70155459, "body": "This probably isn&#39;t the problem, but there is nothing in standard C or standard C++ that requires <code>array[d]&gt;=&#39;A&#39; &amp;&amp; array[d]&lt;=&#39;Z&#39;</code> to do anything sensible. Use <code>std::isupper</code> and <code>std::islower</code>. Also read about <code>std::topper</code> and <code>std::tolower</code>."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1483571342, "post_id": 41474602, "comment_id": 70155491, "body": "Use a <code>printf</code> to show the value of <code>d</code>, <code>array[d]</code>, and <code>array[d-1]</code> at the beginning of the <code>rek</code> function and the problem should be obvious."}, {"owner": {"reputation": 31945, "user_id": 3386109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zt9UL.png?s=128&g=1", "display_name": "user3386109", "link": "https://stackoverflow.com/users/3386109/user3386109"}, "edited": false, "score": 1, "creation_date": 1483571418, "post_id": 41474602, "comment_id": 70155512, "body": "Also note that you&#39;re going to have a problem if <code>d</code> is ever an odd number, because the recursive call will never reach <code>0</code> in that case."}, {"owner": {"reputation": 21, "user_id": 7117250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d55f00ff2fc926835d34860896da53e?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy D", "link": "https://stackoverflow.com/users/7117250/tommy-d"}, "edited": false, "score": 0, "creation_date": 1483571618, "post_id": 41474602, "comment_id": 70155585, "body": "I don&#39;t know wheres the mistake, is it in the recursive call ?, also i how to make it work if {d} is odd number?"}, {"owner": {"reputation": 4023, "user_id": 1033075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c2a6e72447d9d41ac31b987a7b2e6341?s=128&d=identicon&r=PG", "display_name": "Patru", "link": "https://stackoverflow.com/users/1033075/patru"}, "edited": false, "score": 0, "creation_date": 1483580588, "post_id": 41474602, "comment_id": 70158145, "body": "This is once more a question where &quot;it doesn&#39;t work&quot; is not enough. Please provide some input values, your expected output and the actual output of your program. Otherwise people will just be guessing (what you homework was?)"}, {"owner": {"reputation": 15485, "user_id": 3629249, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000228362830/picture?type=large", "display_name": "user3629249", "link": "https://stackoverflow.com/users/3629249/user3629249"}, "edited": false, "score": 0, "creation_date": 1483610772, "post_id": 41474602, "comment_id": 70169291, "body": "the function: <code>gets()</code> has been depreciated for years and is completely missing from the latest C standard (your compiler should have told you that)  Strongly suggest using <code>fgets()</code> instead of <code>gets()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7117250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d55f00ff2fc926835d34860896da53e?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy D", "link": "https://stackoverflow.com/users/7117250/tommy-d"}, "edited": false, "score": 0, "creation_date": 1483571802, "post_id": 41474821, "comment_id": 70155652, "body": "Thanks alot mate big help"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 21, "user_id": 7117250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d55f00ff2fc926835d34860896da53e?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy D", "link": "https://stackoverflow.com/users/7117250/tommy-d"}, "edited": false, "score": 0, "creation_date": 1483571868, "post_id": 41474821, "comment_id": 70155675, "body": "You&#39;re welcome.  Remember to accept your favourite answer and up-vote the helpful comments."}, {"owner": {"reputation": 112912, "user_id": 2410359, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pIl9T.png?s=128&g=1", "display_name": "chux - Reinstate Monica", "link": "https://stackoverflow.com/users/2410359/chux-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1483572521, "post_id": 41474821, "comment_id": 70155913, "body": "Why use magic number 32?  Perhaps <code>array[d]=array[d]+32;</code> --&gt; <code>array[d]=array[d] + (&#39;a&#39; - &#39;A&#39;);</code> which self documents more the intent.  To covert upper to lower, code could use <code>array[d] ^= &#39;a&#39; &amp; &#39;A&#39;;</code> which works for ASCII and EBCDIC.  Of course <code>tolower()</code> is quite standard."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1483572666, "post_id": 41474821, "comment_id": 70155980, "body": "Good point -- but please move the comment to the main body.  Down here, it&#39;s not going to get the notice it deserves."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1483571695, "creation_date": 1483571695, "answer_id": 41474821, "question_id": 41474602, "link": "https://stackoverflow.com/questions/41474602/how-to-make-recursive-function-it-needs-to-check-if-in-a-given-string-the-curre/41474821#41474821", "title": "How to make recursive function, it needs to check if in a given string the current letter and the one next to it is either lowercase or upper case?", "body": "<p>The <em>main</em> problem is that you recur <em>only</em> if your have a pair of upper-case or lower-case letters.  Otherwise, you drop off the end of your <strong>if</strong>, return to the calling program, and quit converting things.</p>\n\n<p>The initial problem is that you've indexed your string with the length.  A string with 6 characters has indices 0-5, but you've started with locations 5 and 6 -- the final 'O' and the null character.</p>\n\n<p>The result is that you check 'O' and '\\0'; the latter isn't alphabetic at all, so you drop through all of your logic without doing anything, return to the main program, and finish.</p>\n\n<p>For future reference, Here's the debugging instrumentation I used.  Also see the canonical SO <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug help</a>.</p>\n\n<pre><code>#include&lt;stdio.h&gt;\n#include&lt;string.h&gt;\n#include&lt;ctype.h&gt;\nvoid rek(char array[], int d)\n{\n    int counter=0;\n\n    printf(\"ENTER rek %s %d\\n\", array, d);\n\n    if(d==0)\n    {\n        printf(\"%s \\n\",array);\n        printf(\"%d \\n\",counter);\n    }\n    else\n    {\n        printf(\"TRACE 1: %d %c%c\\n\", d, array[d-1], array[d]);\n        if((array[d]&gt;='A' &amp;&amp; array[d]&lt;='Z')&amp;&amp;(array[d-1]&gt;='A' &amp;&amp; array[d-1]&lt;='Z'))\n        {\n            printf(\"TRACE 2: upper case\");\n            array[d]=array[d]+32;\n            array[d-1]=array[d-1]+32;\n            counter++;\n            rek(array,d-2);\n        }\n        if((array[d]&gt;='a' &amp;&amp; array[d]&lt;='z')&amp;&amp;(array[d-1]&gt;='a' &amp;&amp; array[d-1]&lt;='z'))\n        {\n            printf(\"TRACE 3: lower case\");\n            array[d]=array[d]-32;\n            array[d-1]=array[d-1]-32;\n            counter++;\n            rek(array,d-2);\n        }\n    }\n}\nint main()\n{\n    char *array;\n    int d;\n\n    array = \"HEloOO\";\n    d=strlen(array);\n\n    rek(array,d);\n    printf(\"%s\\n\", array);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": false, "score": 1, "last_activity_date": 1483573736, "last_edit_date": 1483573736, "creation_date": 1483571728, "answer_id": 41474830, "question_id": 41474602, "link": "https://stackoverflow.com/questions/41474602/how-to-make-recursive-function-it-needs-to-check-if-in-a-given-string-the-curre/41474830#41474830", "title": "How to make recursive function, it needs to check if in a given string the current letter and the one next to it is either lowercase or upper case?", "body": "<p>Your function does not call itself when two adjacent characters have different cases. Also you can get different results when the string is processed from the start or from the end. </p>\n\n<p>I would write the function the following way</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;ctype.h&gt;\n\nchar * rek(char *s)\n{\n    if (s[0] &amp;&amp; s[1])\n    {\n        size_t i = 1;\n        if (islower((unsigned char)s[0]) &amp;&amp; islower((unsigned char)s[1]))\n        {\n            s[0] = toupper((unsigned char)s[0]);\n            s[1] = toupper((unsigned char)s[1]);\n            ++i;\n        }\n        else if (isupper((unsigned char)s[0]) &amp;&amp; isupper((unsigned char)s[1]))\n        {\n            s[0] = tolower((unsigned char)s[0]);\n            s[1] = tolower((unsigned char)s[1]);\n            ++i;\n        }\n\n        rek(s + i);\n    }\n\n    return s;\n}\n\nint main( void )\n{\n    char s[] = \"HEloOO\";\n\n    puts(rek(s));\n\n    return 0;\n}\n</code></pre>\n\n<p>The program output is</p>\n\n<pre><code>heLOoo\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 355, "user_id": 5955876, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5b29bb86b71b9c789283bd5180355d5c?s=128&d=identicon&r=PG&f=1", "display_name": "Count Zero", "link": "https://stackoverflow.com/users/5955876/count-zero"}, "is_accepted": false, "score": 0, "last_activity_date": 1483573983, "creation_date": 1483573983, "answer_id": 41475173, "question_id": 41474602, "link": "https://stackoverflow.com/questions/41474602/how-to-make-recursive-function-it-needs-to-check-if-in-a-given-string-the-curre/41475173#41475173", "title": "How to make recursive function, it needs to check if in a given string the current letter and the one next to it is either lowercase or upper case?", "body": "<p>I come up with this dirty solution:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include &lt;cctype&gt;\n\nusing namespace std;\n\nstring solve(const string&amp; str)\n{\n    if (str.empty()) {\n        return \"\";\n    }\n    if (str.front() &gt;= 'a' &amp;&amp; str.front() &lt;= 'z') {\n        return (char)toupper(str.front()) + solve(str.substr(1));\n    }\n    if (str.front() &gt;= 'A' &amp;&amp; str.front() &lt;= 'Z') {\n        return (char)tolower(str.front()) + solve(str.substr(1));\n    }\n}\n\nint main()\n{\n    string str;\n    cin &gt;&gt; str;\n    cout &lt;&lt; solve(str) &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7117250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d55f00ff2fc926835d34860896da53e?s=128&d=identicon&r=PG&f=1", "display_name": "Tommy D", "link": "https://stackoverflow.com/users/7117250/tommy-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 715, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1483573983, "creation_date": 1483570469, "last_edit_date": 1483571068, "question_id": 41474602, "link": "https://stackoverflow.com/questions/41474602/how-to-make-recursive-function-it-needs-to-check-if-in-a-given-string-the-curre", "title": "How to make recursive function, it needs to check if in a given string the current letter and the one next to it is either lowercase or upper case?", "body": "<p>It should convert a string like this: Example: <strong>HEloOO</strong>, should be converted into : <strong>heLOoo</strong> . For some reason it doesn't work,it just wont convert the letters from uppercase to lowercase and vice versa  any help would be appreciated ?</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;string.h&gt;\n#include &lt;ctype.h&gt;\n\nvoid rek(char array[], int d)\n{\n    int counter=0;\n\n    if(d==0)\n    {\n        printf(\"%s \\n\",array);\n        printf(\"%d \\n\",counter);\n    }\n    else\n    {\n        if((array[d]&gt;='A' &amp;&amp; array[d]&lt;='Z')&amp;&amp;(array[d-1]&gt;='A' &amp;&amp; array[d-1]&lt;='Z'))\n        {\n            array[d]=array[d]+32;\n            array[d-1]=array[d-1]+32;\n            counter++;\n            rek(array,d-2);\n        }\n        if((array[d]&gt;='a' &amp;&amp; array[d]&lt;='z')&amp;&amp;(array[d-1]&gt;='a' &amp;&amp; array[d-1]&lt;='z'))\n        {\n            array[d]=array[d]-32;\n            array[d-1]=array[d-1]-32;\n            counter++;\n            rek(array,d-2);\n        }\n    }\n}\n\nint main()\n{\n    char array[100];\n    int d;\n\n    gets(array);\n    d=strlen(array);\n\n    rek(array,d);\n\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "visual-studio-2010"], "comments": [{"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1483569905, "post_id": 41474468, "comment_id": 70154898, "body": "Can you add your project file (.pro for qmake project) to the question."}, {"owner": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 1, "creation_date": 1483570147, "post_id": 41474468, "comment_id": 70155004, "body": "Just currious, but why are you using a 7 year old IDE/compiler? Why not use VS2015update3 in this day and age?"}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 1, "user_id": 5910058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e1ce21ce04eb150f59eaec245d4ff8?s=128&d=identicon&r=PG&f=1", "display_name": "Jesper Juhl", "link": "https://stackoverflow.com/users/5910058/jesper-juhl"}, "edited": false, "score": 0, "creation_date": 1483572549, "post_id": 41474468, "comment_id": 70155927, "body": "@JesperJuhl I am trying to build a quick and simple GUI for windows. Do you have a better idea? I don&#39;t know MFC and it cannot use the .net framework, so I need a native GUI app"}, {"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "reply_to_user": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1483572568, "post_id": 41474468, "comment_id": 70155940, "body": "@hyde Where is the .pro file? What is qmake?"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1483600868, "post_id": 41474468, "comment_id": 70163915, "body": "For quick start, just go <a href=\"https://www.qt.io/download-open-source/#section-2\" rel=\"nofollow noreferrer\">here</a> and download <i>Qt 5.7.1 for Windows 32-bit (MinGW 5.3.0, 1.1 GB)</i> or whatever is the latest MinGW version at the time. If I&#39;m not mistaken, it will include Qt Creator as IDE, and also that version of MinGW toolchain. After installing, just launch Qt Creator and start exploring."}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1483601298, "post_id": 41474468, "comment_id": 70164142, "body": "In general, Online Installer is a better option, as it&#39;ll handle upgrades etc, but it can be a bit overwhelming, there are a lot of checkboxes to choose from... If you go with online installer, just install the latest Qt for MinGw, and then also add <i>matching version</i> of MinGW to be installed (under Tools or whatever)."}], "answers": [{"comments": [{"owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "edited": false, "score": 0, "creation_date": 1483626809, "post_id": 41474627, "comment_id": 70180448, "body": "Will this mean I need Qt installed on the target machine or will everything link together in one executable?   I ask because my destination machine won&#39;t have qt installed."}, {"owner": {"reputation": 5175, "user_id": 1625987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FkrJK.jpg?s=128&g=1", "display_name": "Barath Ravikumar", "link": "https://stackoverflow.com/users/1625987/barath-ravikumar"}, "reply_to_user": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "edited": false, "score": 0, "creation_date": 1483636094, "post_id": 41474627, "comment_id": 70187102, "body": "You need to release (deploy) your application so that it is packaged with QtLibraryFiles (Windows DLL&#39;s), these dll&#39;s should be installed in the same location as the target executable"}], "tags": [], "owner": {"reputation": 5175, "user_id": 1625987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FkrJK.jpg?s=128&g=1", "display_name": "Barath Ravikumar", "link": "https://stackoverflow.com/users/1625987/barath-ravikumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1483570575, "creation_date": 1483570575, "answer_id": 41474627, "question_id": 41474468, "link": "https://stackoverflow.com/questions/41474468/qt-4-8-link-error-with-visual-studio-2010/41474627#41474627", "title": "Qt 4.8 Link error with Visual Studio 2010", "body": "<p>You are missing reference to QtCore, QtWidget and other Core library modules. Adding the Qt4.8/bin path to the environment variable should fix this.</p>\n\n<p>Found a useful set up guide <a href=\"http://portfolio.delinkx.com/files/Qt.pdf\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 3440, "user_id": 1226843, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/txrOm.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/1226843/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 41474627, "answer_count": 1, "score": 0, "last_activity_date": 1483570575, "creation_date": 1483569699, "question_id": 41474468, "link": "https://stackoverflow.com/questions/41474468/qt-4-8-link-error-with-visual-studio-2010", "title": "Qt 4.8 Link error with Visual Studio 2010", "body": "<p>I am receiving a link error when trying to compile my \"hello world\" Qt program.</p>\n\n<p><code>Error  1   error LNK2001: unresolved external symbol \"__declspec(dllimport) protected: virtual void __thiscall QObject::disconnectNotify(char const *)\" (__imp_?disconnectNotify@QObject@@MAEXPBD@Z)   C:\\Users\\Matthew\\documents\\visual studio 2010\\Projects\\FBIDecryptor\\FBIDecryptor\\main.obj   FBIDecryptor\n</code></p>\n\n<p>I believe I am missing a library input, but I don't know which library.</p>\n\n<p>This is the code I am trying to execute:</p>\n\n<pre><code>int main(int argc, char* argv[])\n{\n    QApplication app(argc, argv);\n    QLabel *label = new QLabel(\"Hello Qt\");\n    label-&gt;show();\n\n    return app.exec();\n}\n</code></pre>\n"}, {"tags": ["c++", "memory-management", "vector", "stl", "set"], "comments": [{"owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "edited": false, "score": 0, "creation_date": 1483569678, "post_id": 41474454, "comment_id": 70154806, "body": "Not as long as <code>v</code> containts at least six values."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483571590, "post_id": 41474454, "comment_id": 70155572, "body": "Show more code. There&#39;s nothing wrong with the snippet shown here."}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483572654, "post_id": 41474454, "comment_id": 70155974, "body": "I&#39;m voting to close this question as off-topic because the problem was in another place"}], "answers": [{"comments": [{"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483569976, "post_id": 41474496, "comment_id": 70154927, "body": "Aren&#39;t sets going one by one in memory?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483570014, "post_id": 41474496, "comment_id": 70154946, "body": "@Pavel The only potential undefined behavior is accessing the vector, not inserting into the sets."}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "reply_to_user": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483570046, "post_id": 41474496, "comment_id": 70154962, "body": "@Pavel, you are accessing the vector, and inserting into the set. Inserting into the set is not undefined behaviour."}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483570127, "post_id": 41474496, "comment_id": 70154999, "body": "@Barmar, I changed <code>[5]</code> to <code>.at(5)</code> but debugger still catches <code>SIGSEGV</code> at the line, not <code>out_of_range</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483570220, "post_id": 41474496, "comment_id": 70155031, "body": "Not sure why you&#39;re getting any error, since you declared the vector to hold 10 elements with <code>v(10)</code>."}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483570238, "post_id": 41474496, "comment_id": 70155042, "body": "@Barmar, it also shows where <code>SIGSEGV</code> appeared (in calling stack), it&#39;s call of <code>operator new</code> in <code>new_allocator.h</code>"}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483570300, "post_id": 41474496, "comment_id": 70155050, "body": "Should I search for UB cause somewhere before?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1483570479, "post_id": 41474496, "comment_id": 70155123, "body": "You should post a <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>"}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483570732, "post_id": 41474496, "comment_id": 70155242, "body": "@Barmar, I know about MCVE but I can&#39;t reduce my code. Is it correct to post all algorithm and problem input?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483571005, "post_id": 41474496, "comment_id": 70155361, "body": "We really don&#39;t like to get huge amounts of code. But you need to post something if you want help with it. Have you tried stepping through the debugger, or using <code>valgrind</code>?"}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483571138, "post_id": 41474496, "comment_id": 70155419, "body": "@Barmar, I tried stepping using the debugger, but all looked okay and <code>SIGSEGV</code> suddenly appeared at the line wit <code>insert</code>. What about <code>valgrind</code>, I&#39;ve read about it but don&#39;t know how to install it"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483571194, "post_id": 41474496, "comment_id": 70155437, "body": "I&#39;m sure the documentation at valgrind.org explains how to install it."}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483572459, "post_id": 41474496, "comment_id": 70155885, "body": "@Barmar, the problem was really at another place. I used <code>v[a].erase(v[b].begin(); v[b].end());</code> trying to remove all elements presents in <code>v[b]</code> from <code>v[a]</code> but <code>erase</code> work differently :) Can it be useful for anyone or I can just remove the question now?"}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "reply_to_user": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483572498, "post_id": 41474496, "comment_id": 70155900, "body": "@Pavel is your variable really <code>vector&lt;set&lt;int&gt;&gt;</code> or is it more complex than that? It&#39;s easy to simplify the problem <i>too</i> much."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "edited": false, "score": 0, "creation_date": 1483572550, "post_id": 41474496, "comment_id": 70155929, "body": "@Pavel I don&#39;t think you&#39;ll be able to remove the question, since it has an answer posted. But the question probably isn&#39;t useful, so you should flag it for closing."}, {"owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483572750, "post_id": 41474496, "comment_id": 70156004, "body": "@Barmar, I&#39;ve flagged it but it showed that it need 50 more flags to close o_O"}, {"owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "edited": false, "score": 0, "creation_date": 1483574650, "post_id": 41474496, "comment_id": 70156552, "body": "@Barmer, can you start a conversation next time. My inbox is on fire!"}], "tags": [], "owner": {"reputation": 26959, "user_id": 1294207, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Inny3.jpg?s=128&g=1", "display_name": "Fantastic Mr Fox", "link": "https://stackoverflow.com/users/1294207/fantastic-mr-fox"}, "is_accepted": true, "score": 1, "last_activity_date": 1483571542, "last_edit_date": 1483571542, "creation_date": 1483569894, "answer_id": 41474496, "question_id": 41474454, "link": "https://stackoverflow.com/questions/41474454/is-it-correct-to-fill-sets-contained-in-vector/41474496#41474496", "title": "Is it correct to fill sets contained in vector?", "body": "<p>Only if you go out of bounds of the vector. </p>\n\n<p>If your <code>vector</code> has at least 6 elements, then <code>v[5].insert(99);</code> is well defined.</p>\n\n<p>To be sure that you don't, you can use the <a href=\"http://en.cppreference.com/w/cpp/container/vector/at\" rel=\"nofollow noreferrer\"><code>at</code></a> accessor function:</p>\n\n<pre><code> v.at(5).insert(99);\n</code></pre>\n\n<p>Which will throw a <code>std::out_of_range</code> exception if you try to access past the end of the array.</p>\n"}], "owner": {"reputation": 3252, "user_id": 6131611, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3789df5ff075b7a2bfa71c8e2dccd18d?s=128&d=identicon&r=PG&f=1", "display_name": "Pavel", "link": "https://stackoverflow.com/users/6131611/pavel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "closed_date": 1483612624, "accepted_answer_id": 41474496, "answer_count": 1, "score": 0, "last_activity_date": 1483571542, "creation_date": 1483569635, "question_id": 41474454, "link": "https://stackoverflow.com/questions/41474454/is-it-correct-to-fill-sets-contained-in-vector", "closed_reason": "Not suitable for this site", "title": "Is it correct to fill sets contained in vector?", "body": "<p>I have a <code>vector&lt;set&lt;int&gt;&gt; v(10);</code>. Each set can be filled by some data. Then I insert integers to randomly sets, e.g. <code>v[5].insert(99);</code>. Can it cause undefined behavior?</p>\n"}, {"tags": ["c++", "c", "parallel-processing", "openmp", "parallel-for"], "comments": [{"owner": {"reputation": 6533, "user_id": 1918193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b70a14318e0f417ecac47809f38fafc?s=128&d=identicon&r=PG", "display_name": "Marc Glisse", "link": "https://stackoverflow.com/users/1918193/marc-glisse"}, "edited": false, "score": 0, "creation_date": 1483570303, "post_id": 41474424, "comment_id": 70155051, "body": "You have a reduction and loops not in canonical form, I would have expected a message from the compiler."}, {"owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1483593094, "post_id": 41474424, "comment_id": 70160924, "body": "How do you time it?"}, {"owner": {"reputation": 1, "user_id": 6899309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n7FfMAjfHdQ/AAAAAAAAAAI/AAAAAAAAACc/8KX37RLuiy8/photo.jpg?sz=128", "display_name": "QckNdDrt", "link": "https://stackoverflow.com/users/6899309/qcknddrt"}, "edited": false, "score": 0, "creation_date": 1483601285, "post_id": 41474424, "comment_id": 70164128, "body": "I time it with omp_get_wtime()  ... one call direct before this loop and one directly after."}, {"owner": {"reputation": 656, "user_id": 2722057, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/094b253c70fd99cb98d72026099c1f91?s=128&d=identicon&r=PG&f=1", "display_name": "Paul R.", "link": "https://stackoverflow.com/users/2722057/paul-r"}, "edited": false, "score": 1, "creation_date": 1483614303, "post_id": 41474424, "comment_id": 70171544, "body": "Just to make sure: Did you enable openmp support in the compiler options and did you include the omp.h header to your file? Could you provide a <a href=\"http://stackoverflow.com/help/mcve\">minimal, correct and verifiable example</a>? This helps people to better understand your problem."}, {"owner": {"reputation": 1, "user_id": 6899309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n7FfMAjfHdQ/AAAAAAAAAAI/AAAAAAAAACc/8KX37RLuiy8/photo.jpg?sz=128", "display_name": "QckNdDrt", "link": "https://stackoverflow.com/users/6899309/qcknddrt"}, "edited": false, "score": 0, "creation_date": 1483616166, "post_id": 41474424, "comment_id": 70172818, "body": "OpenMp flag is set (compiled with visual studio 2015) and omp.h is also included. Will add an verifiable  example."}, {"owner": {"reputation": 1, "user_id": 6899309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n7FfMAjfHdQ/AAAAAAAAAAI/AAAAAAAAACc/8KX37RLuiy8/photo.jpg?sz=128", "display_name": "QckNdDrt", "link": "https://stackoverflow.com/users/6899309/qcknddrt"}, "reply_to_user": {"reputation": 656, "user_id": 2722057, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/094b253c70fd99cb98d72026099c1f91?s=128&d=identicon&r=PG&f=1", "display_name": "Paul R.", "link": "https://stackoverflow.com/users/2722057/paul-r"}, "edited": false, "score": 0, "creation_date": 1483619020, "post_id": 41474424, "comment_id": 70174787, "body": "@Paul R. You were right ... had set the false flag, thank you ! Better look twice -.-"}, {"owner": {"reputation": 656, "user_id": 2722057, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/094b253c70fd99cb98d72026099c1f91?s=128&d=identicon&r=PG&f=1", "display_name": "Paul R.", "link": "https://stackoverflow.com/users/2722057/paul-r"}, "edited": false, "score": 0, "creation_date": 1483620626, "post_id": 41474424, "comment_id": 70175952, "body": "I think there is another problem with this code. I never used collapse myself before, but If I understand it right, there is a race condition in the inner loop.  <code>result[mNdx * N + nNdx] +=</code> can be executed by different threads having different <code>elemNdx</code> but identical <code>mNdx</code> and <code>nNdx</code>. Maybe collapse(2) would be a better choice."}, {"owner": {"reputation": 1, "user_id": 6899309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n7FfMAjfHdQ/AAAAAAAAAAI/AAAAAAAAACc/8KX37RLuiy8/photo.jpg?sz=128", "display_name": "QckNdDrt", "link": "https://stackoverflow.com/users/6899309/qcknddrt"}, "edited": false, "score": 0, "creation_date": 1483621745, "post_id": 41474424, "comment_id": 70176825, "body": "Had to remove the collapse, the vs-compiler supports only OpenMP 2.0. Collapse is a OpenMP 3.0 feature. But your argument is also correct, this should cause an race condition. So collapse(2) should be the correct option, if you can use collapse at all."}, {"owner": {"reputation": 8381, "user_id": 5239503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MqgeX.jpg?s=128&g=1", "display_name": "Gilles", "link": "https://stackoverflow.com/users/5239503/gilles"}, "edited": false, "score": 0, "creation_date": 1483633241, "post_id": 41474424, "comment_id": 70185103, "body": "Actually, you cannot use <code>collapse</code> at all here since the 2nd level loop isn&#39;t in the <a href=\"http://www.openmp.org/wp-content/uploads/openmp-4.5.pdf#section.2.6\" rel=\"nofollow noreferrer\">canonical form</a>, as it uses the 1st level index as start for iteration. The most important art of the standard that forbids collapsing your construct is: &quot;<b>The <i>b</i>, <i>lb</i> and <i>incr</i> expressions may not reference <i>var</i> of any of the associated loops.</b>&quot;"}], "owner": {"reputation": 1, "user_id": 6899309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-n7FfMAjfHdQ/AAAAAAAAAAI/AAAAAAAAACc/8KX37RLuiy8/photo.jpg?sz=128", "display_name": "QckNdDrt", "link": "https://stackoverflow.com/users/6899309/qcknddrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483621964, "creation_date": 1483569526, "last_edit_date": 1483621964, "question_id": 41474424, "link": "https://stackoverflow.com/questions/41474424/openmp-for-loop-parallelization", "title": "OpenMp For-Loop Parallelization", "body": "<p>I try to parallelize the following piece of code with OpenMP.</p>\n\n<pre><code>#pragma omp parallel for collapse(2)\n{\n    for (int mNdx = 0; mNdx &lt; M; ++mNdx)\n    {\n        for (int nNdx = mNdx; nNdx &lt; N; ++nNdx)\n        {\n            for (int elemNdx = mNdx; elemNdx &lt;= nNdx; ++elemNdx)\n            {\n                result[mNdx * N + nNdx] += matrixOne[mNdx * N + elemNdx] * matrixTwo[elemNdx * N + nNdx];\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>But the SpeedUp is always about 1.0 (+- 0.05). I tried every possible scheduling (auto, dynamic, static and guided ), different chunk sizes, without collapse and with collapse(2).\nThe runtime doesn't change at all ...</p>\n\n<p>Can anyone explain me why or where my fault is ? <br>\nCould it be due to automated for-loop compiler parallelization ?</p>\n\n<p>Thanks in advance for any advice/tip !</p>\n\n<p>Update:</p>\n\n<p>As required an verifiable example.</p>\n\n<pre><code>#include &lt;omp.h&gt;\n#include &lt;iostream&gt;\n\nvoid initMatrix(float* mat, const int M, const int N);\nvoid initResMatrix(float* mat, const int M, const int N);\n\ndouble matMulUpperTriangular_C(float* matrixOne, float* matrixTwo, float* result, const int M, const int N);\ndouble matMulUpperTriangular_Omp(float* matrixOne, float* matrixTwo, float* result, const int M, const int N);\n\nint main()\n{\n    const int M = 2048, N = 2048;\n    float* matOne = (float*)malloc(M * N * sizeof(float));\n    float* matTwo = (float*)malloc(M * N * sizeof(float));\n    float* res = (float*)malloc(M * N * sizeof(float));\n\n    initMatrix(matOne, M, N);\n    initMatrix(matTwo, M, N);\n    initResMatrix(res, M, N);\n\n    double timeConsumption[2] = { 0.0, 0.0 };\n\n    timeConsumption[0] = matMulUpperTriangular_C(matOne, matTwo, res, M, N);\n    timeConsumption[1] = matMulUpperTriangular_Omp(matOne, matTwo, res, M, N);\n\n    std::cout &lt;&lt; \"Runtime C:\\t\\t\" &lt;&lt; timeConsumption[0] &lt;&lt; \"s\" &lt;&lt; std::endl;\n    std::cout &lt;&lt; \"Runtime Omp:\\t\\t\" &lt;&lt; timeConsumption[1] &lt;&lt; \"s\";\n    std::cout &lt;&lt; \" | SpeedUp: \" &lt;&lt; timeConsumption[0] / timeConsumption[1] &lt;&lt; std::endl;\n\n    system(\"PAUSE\");\n    return 0;\n}\n\nvoid initMatrix(float* mat, const int M, const int N)\n{\n    for (int mNdx = 0; mNdx &lt; M; ++mNdx)\n    {\n        for (int nNdx = 0; nNdx &lt; mNdx; ++nNdx)\n        {\n            mat[mNdx * N + nNdx] = 0;\n        }\n        for (int nNdx = mNdx; nNdx &lt; N; ++nNdx)\n        {\n            mat[mNdx * N + nNdx] = ((mNdx + nNdx) % 5 + 1) * 0.1f;\n        }\n    }\n}\n\nvoid initResMatrix(float* mat, const int M, const int N)\n{\n    for (int mNdx = 0; mNdx &lt; M; ++mNdx)\n    {\n        for (int nNdx = 0; nNdx &lt; N; ++nNdx)\n        {\n            mat[mNdx * N + nNdx] = 0.0f;\n        }\n    }\n}\n\ndouble matMulUpperTriangular_C(float* matrixOne, float* matrixTwo, float* result, const int M, const int N)\n{\n    double startTime = omp_get_wtime();\n\n    for (int mNdx = 0; mNdx &lt; M; ++mNdx)\n    {\n        for (int nNdx = mNdx; nNdx &lt; N; ++nNdx)\n        {\n            for (int elemNdx = mNdx; elemNdx &lt;= nNdx; ++elemNdx)\n            {\n                result[mNdx * N + nNdx] += matrixOne[mNdx * N + elemNdx] * matrixTwo[elemNdx * N + nNdx];\n            }\n        }\n    }\n\n    double endTime = omp_get_wtime();\n\n    return endTime - startTime;\n}\n\ndouble matMulUpperTriangular_Omp(float* matrixOne, float* matrixTwo, float* result, const int M, const int N)\n{\n    double startTime = omp_get_wtime();\n\n    #pragma omp parallel for collapse(2)\n    {\n        for (int mNdx = 0; mNdx &lt; M; ++mNdx)\n        {\n            for (int nNdx = mNdx; nNdx &lt; N; ++nNdx)\n            {\n                for (int elemNdx = mNdx; elemNdx &lt;= nNdx; ++elemNdx)\n                {\n                    result[mNdx * N + nNdx] += matrixOne[mNdx * N + elemNdx] * matrixTwo[elemNdx * N + nNdx];\n                }\n            }\n        }\n    }\n\n    double endTime = omp_get_wtime();\n\n    return endTime - startTime;\n}\n</code></pre>\n\n<p>Solved:</p>\n\n<p>Stupid mistake ...\nhad set the /MP-Flag (Build with Multiple Processes) instead of /openmp.\nNow the SpeedUp is about 2.0 :)</p>\n\n<p>Sorry and thank you all for your help !</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1483569359, "post_id": 41474338, "comment_id": 70154698, "body": "Can you show what is in the file that the paths are being read from?"}, {"owner": {"reputation": 9345, "user_id": 4237316, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/100004533998341/picture?type=large", "display_name": "Harald Nordgren", "link": "https://stackoverflow.com/users/4237316/harald-nordgren"}, "edited": false, "score": 0, "creation_date": 1483569985, "post_id": 41474338, "comment_id": 70154930, "body": "The general problem of handling file with spaces on them in on Unix (which OS X is) is to quote the file names. I don&#39;t know exactly what means in this example, but to print a file from the terminal it&#39;s usually a good idea to do <code>cat &quot;some filename&quot;</code>."}], "answers": [{"tags": [], "owner": {"reputation": 6013, "user_id": 3310281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b8b4ec03e2c7a424fdc428eb55f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm McLean", "link": "https://stackoverflow.com/users/3310281/malcolm-mclean"}, "is_accepted": false, "score": 0, "last_activity_date": 1483576715, "creation_date": 1483576715, "answer_id": 41475534, "question_id": 41474338, "link": "https://stackoverflow.com/questions/41474338/c-reading-from-multiple-files-with-spaces-in-their-names/41475534#41475534", "title": "C++: Reading from multiple files with spaces in their names", "body": "<p>Don't use backs;ash to denote spaces in filenames or you'll get into an even worse mess. Backslash is directory separator on MS DOS.</p>\n\n<p>If </p>\n\n<pre><code>    fopen(\"path/my file.txt\", \"w\");\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    fopen(\"path/my filetxt\", \"r\");\n</code></pre>\n\n<p>both work as expected (creating a file with a space in its name and opening it) you don't really have a problem. The rest of the system has the problem, but if you must have files with spaces in their names, you can read and write them.</p>\n\n<p>Of course convert to hyphen, underscores or simple concatenation as soon as possible, spaces in filenames make for endless problems. </p>\n\n<p>The function</p>\n\n<pre><code>   std::string spacesToUnderscores(std:string const &amp;nasty)\n</code></pre>\n\n<p>is easy enough to write.</p>\n"}], "owner": {"reputation": 105, "user_id": 7143169, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/20b147e4c754fea37adf92aec7a59374?s=128&d=identicon&r=PG&f=1", "display_name": "Schbabako", "link": "https://stackoverflow.com/users/7143169/schbabako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1483576715, "creation_date": 1483569131, "question_id": 41474338, "link": "https://stackoverflow.com/questions/41474338/c-reading-from-multiple-files-with-spaces-in-their-names", "title": "C++: Reading from multiple files with spaces in their names", "body": "<p>Essential to this problem is, that i am programming on Xcode. I wrote a function that reads in a given amount of text files into my sensor vector: To get the text file Paths i wrote also a function that gives me the filenames inclusive their paths and stores them in a list. The text files contain data that are delimited by a tab and will be stored in excel later on. The problem is they include spaces in their names and Mac has a problem with spaces in file names. I tried to replace the spaces with \"\\ \". This is what the terminal does with a space when i echo a file with a space in it. I cant open the files to read from them. I appreciate your help.</p>\n\n<p>The path function:</p>\n\n<pre><code>void get_filelist(list&lt;string&gt;&amp; list_in)\n{\nstring full_path;\nDIR *dir;\nstruct dirent *ent;\n\nif((dir = opendir (dir_target.c_str()))!=NULL)\n{\nwhile((ent = readdir (dir)) != NULL)\n{\n    if(strstr(ent-&gt;d_name, \".txt\") &amp;&amp; !strstr(ent-&gt;d_name, \"Summary\"))\n    {\n        full_path = dir_target;\n        full_path = full_path + ent-&gt;d_name;\n        list_in.push_back(full_path);\n    }\n}\nclosedir(dir);\n}\nelse{\nprintf(\"could not open directory\");\nperror(\"\");\n}\n}\n</code></pre>\n\n<p>now here is the function that writes into my 3D vector</p>\n\n<pre><code>void fill_vector(list&lt;string&gt; list_in, data_vec&amp; sensors)    \n{\nifstream myfile;\nsize_t found;\nfor(list&lt;string&gt;::iterator it = list_in.begin(); it!= list_in.end(); it++)\n{\nstring tab = \"\";\nvector&lt;vector&lt;string&gt; &gt; temp_matrix;\ncout &lt;&lt; *it &lt;&lt; endl;\nmyfile.open(*it);\nif(myfile.is_open())\n{\n    vector&lt;string&gt; temp_row;\n    while(myfile.is_open())\n    {\n        getline(myfile, tab, '\\t');\n        found = tab.find('\\n');\n        if(found == string::npos) temp_row.push_back(tab);\n        else{\n            temp_row.push_back(tab.substr(0, found));\n            temp_matrix.push_back(temp_row);\n            temp_row.clear();\n            temp_row.push_back(tab.substr(found+1));\n        }\n    }\n    myfile.close();\n}\nelse cout &lt;&lt; \"unable to open file\" ;\nsensors.push_back(temp_matrix);\n}\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio-2015"], "comments": [{"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 8, "creation_date": 1483569006, "post_id": 41474298, "comment_id": 70154528, "body": "There&#39;s nothing wrong with the code you&#39;ve shown, so the problem must be in the code you haven&#39;t shown."}, {"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 2, "creation_date": 1483569014, "post_id": 41474298, "comment_id": 70154532, "body": "So where&#39;s the problem? What have you tried doing?"}, {"owner": {"reputation": 46073, "user_id": 3002139, "user_type": "moderator", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tYIVC.png?s=128&g=1", "display_name": "Baum mit Augen", "link": "https://stackoverflow.com/users/3002139/baum-mit-augen"}, "edited": false, "score": 3, "creation_date": 1483569068, "post_id": 41474298, "comment_id": 70154553, "body": "What kind of trouble? Compiler errors, unexpected results? Have you read a good C++ book? If not, you definitely should. If you have trouble with existing code, please <a href=\"https://stackoverflow.com/posts/41474298/edit\">edit</a> your question to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> as well as a clear problem statement."}], "answers": [{"tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 0, "last_activity_date": 1483569221, "creation_date": 1483569221, "answer_id": 41474362, "question_id": 41474298, "link": "https://stackoverflow.com/questions/41474298/access-variables-in-a-struct/41474362#41474362", "title": "Access variables in a struct?", "body": "<p>Those variables are available if you create an object. With that declaration in scope, and with the appropriate headers included, try this:</p>\n\n<pre><code>int main() {\n    vectorVariables vv;\n    std::cout &lt;&lt; vv.v &lt;&lt; \" \" &lt;&lt; vv.a &lt;&lt; \"\\n\";\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7043583, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/6187dcf218bea753b16e842ffa30cf17?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Tanos", "link": "https://stackoverflow.com/users/7043583/ben-tanos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4695, "favorite_count": 0, "accepted_answer_id": 41474362, "answer_count": 1, "score": 0, "last_activity_date": 1483569221, "creation_date": 1483568961, "question_id": 41474298, "link": "https://stackoverflow.com/questions/41474298/access-variables-in-a-struct", "title": "Access variables in a struct?", "body": "<p>I'm building a small vector engine and I'm having some trouble accessing the variables I have made in my <code>struct</code>.</p>\n\n<p>Here's my <code>struct</code>:</p>\n\n<pre><code>struct vectorVariables {\n\n    float v = 0, a = 0;\n    float u = 20;\n    float deltaT = 0.01;\n    float posNew = 0 , posOld = 0;\n    float gravity = -9.81;\n};\n</code></pre>\n\n<p>All I want to be able to do for example, is print out one of these variables to the console.</p>\n"}, {"tags": ["c++", "stdmap"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1483568918, "post_id": 41474262, "comment_id": 70154504, "body": "VLA <code>unsigned f[n]</code> is not allowed in standard C++."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7278029, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202462277154099/picture?type=large", "display_name": "Michael Tito", "link": "https://stackoverflow.com/users/7278029/michael-tito"}, "edited": false, "score": 0, "creation_date": 1483646209, "post_id": 41474564, "comment_id": 70193166, "body": "Thank you for your help! I just stared at the code for 90 minutes without figuring out the error. Sorry for my trivial mistakes."}], "tags": [], "owner": {"reputation": 6610, "user_id": 2403810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84c63a4cc13b434306ccc00ba2cd64d6?s=128&d=identicon&r=PG&f=1", "display_name": "tinstaafl", "link": "https://stackoverflow.com/users/2403810/tinstaafl"}, "is_accepted": true, "score": 0, "last_activity_date": 1483571501, "last_edit_date": 1483571501, "creation_date": 1483570256, "answer_id": 41474564, "question_id": 41474262, "link": "https://stackoverflow.com/questions/41474262/my-program-that-uses-maps-crashes-after-first-input/41474564#41474564", "title": "My program that uses maps crashes after first input", "body": "<p>I think using the map that way is OK, but if I read your comments right, you might have the value and key reversed.  Remember, that if the keys aren't unique then the way you're doing will just change the value for any key you try to add more than once, not create another key. However, <code>scanf</code> needs a pointer to an object whose type corresponds to the format string, and you aren't even declaring what type of array <code>f</code> is.  If you have some non standard compiler that recognizes, or if you're defining, unsigned as unsigned int, then try:</p>\n\n<pre><code>scanf(\"%u\", &amp;n);\nscanf(\"%u\", &amp;f[c]);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7278029, "user_type": "registered", "profile_image": "https://graph.facebook.com/10202462277154099/picture?type=large", "display_name": "Michael Tito", "link": "https://stackoverflow.com/users/7278029/michael-tito"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 41474564, "answer_count": 1, "score": 0, "last_activity_date": 1483571501, "creation_date": 1483568788, "question_id": 41474262, "link": "https://stackoverflow.com/questions/41474262/my-program-that-uses-maps-crashes-after-first-input", "title": "My program that uses maps crashes after first input", "body": "<p>I'm trying to solve <a href=\"http://codeforces.com/problemset/problem/136/A#\" rel=\"nofollow noreferrer\">136A-Presents</a> in Codeforces. My program crashes when trying to enter the second input. This is my first time to code with maps. What's wrong with my code?</p>\n\n<pre><code>#include &lt;map&gt;\n#include &lt;iostream&gt;\n#include &lt;cstdio&gt;\nusing namespace std;\n\nint main()\n{\n    unsigned n; // number of friends\n    scanf(\"%u\", n);\n\n    unsigned f[n]; // array of numbered friends\n    for(int c = 0; c &lt; n; c++)\n        scanf(\"%u\", f[c]); // getting input that tells you, for each friend to whom he gave a gift.\n\n    map&lt;unsigned, unsigned&gt; friends; // a map of friends, mapped by their digits and given numbers.\n\n    for(int i = 0; i &lt; n; i++)\n        friends[f[i]] = i+1;\n        //       ^       ^\n        //      input   indexes from 1 to n\n\n    /* Since keys are already sorted in the map, there is no need to re-sort them again. */\n\n    for(int j = 0; j &lt; n; j++){\n        printf(\"%u\", friends[j]); // printing values of keys.\n        if(j != n-1)\n            printf(\" \");\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "parameters", "implicit-conversion", "function-parameter"], "comments": [{"owner": {"reputation": 6367, "user_id": 4451732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UQN4l.jpg?s=128&g=1", "display_name": "Franklin Yu", "link": "https://stackoverflow.com/users/4451732/franklin-yu"}, "edited": false, "score": 0, "creation_date": 1483569155, "post_id": 41474232, "comment_id": 70154601, "body": "Thank you both. Valid answers. My bad not trying non-template methods."}], "answers": [{"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 1, "last_activity_date": 1483568875, "creation_date": 1483568875, "answer_id": 41474280, "question_id": 41474232, "link": "https://stackoverflow.com/questions/41474232/implicit-conversion-fails-in-function-parameter/41474280#41474280", "title": "implicit conversion fails in function parameter", "body": "<p>Template function arguments don't get converted. The two arguments to <code>std::distance</code> are required to be the same type.</p>\n"}, {"tags": [], "owner": {"reputation": 219644, "user_id": 2877241, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/63d17ecdadc8917254be4fb70e86246b?s=128&d=identicon&r=PG&f=1", "display_name": "Vlad from Moscow", "link": "https://stackoverflow.com/users/2877241/vlad-from-moscow"}, "is_accepted": true, "score": 1, "last_activity_date": 1483569353, "last_edit_date": 1483569353, "creation_date": 1483568929, "answer_id": 41474295, "question_id": 41474232, "link": "https://stackoverflow.com/questions/41474232/implicit-conversion-fails-in-function-parameter/41474295#41474295", "title": "implicit conversion fails in function parameter", "body": "<p>The function has one template parameter</p>\n\n<pre><code>template &lt;class InputIterator&gt; \ntypename iterator_traits&lt;InputIterator&gt;::difference_type \ndistance(InputIterator first, InputIterator last); \n</code></pre>\n\n<p>So it can not deduce the type of the template parameter because either iterator const or non-const can be used for each function parameter.</p>\n\n<p>You could write without casting the following way</p>\n\n<pre><code>std::distance&lt;std::string::const_iterator&gt;(b, s.end()) \n</code></pre>\n\n<p>explicitly specifying the template argument.</p>\n\n<p>Another example. This code snippet also will not compile</p>\n\n<pre><code>long x = 0;\nint y = 0;\nstd::min(x, y);\n</code></pre>\n\n<p>However if you will write</p>\n\n<pre><code>long x = 0;\nint y = 0;\nstd::min&lt;long&gt;(x, y);\n</code></pre>\n\n<p>then the code compiles.</p>\n"}], "owner": {"reputation": 6367, "user_id": 4451732, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/UQN4l.jpg?s=128&g=1", "display_name": "Franklin Yu", "link": "https://stackoverflow.com/users/4451732/franklin-yu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 41474295, "answer_count": 2, "score": 1, "last_activity_date": 1483569899, "creation_date": 1483568644, "last_edit_date": 1483569899, "question_id": 41474232, "link": "https://stackoverflow.com/questions/41474232/implicit-conversion-fails-in-function-parameter", "title": "implicit conversion fails in function parameter", "body": "<pre><code>#include &lt;iostream&gt;\n#include &lt;string&gt;\n\nint main() {\n    using std::string;\n    using std::distance;\n    using std::cout;\n    using std::endl;\n\n    string s(\"abc\");\n    string::const_iterator b = s.begin();\n    string::const_iterator e = s.end(); // success\n    cout &lt;&lt; distance(b, e) &lt;&lt; endl;\n    cout &lt;&lt; distance(b, static_cast&lt;string::const_iterator&gt;(s.end())) &lt;&lt; endl;\n    cout &lt;&lt; distance(b, s.end()) &lt;&lt; endl; // error\n    return 0;\n}\n</code></pre>\n\n<p>End of the string <code>s.end()</code> can be <a href=\"http://en.cppreference.com/w/cpp/language/implicit_conversion\" rel=\"nofollow noreferrer\">implicitly converted</a> to <code>std::string::const_iterator</code> as <code>e</code>, but when it is passed as function parameter, it has to be explicitly casted; otherwise an error is raised in compile time. Why is that?</p>\n\n<p>FYI, <code>s.begin()</code> and <code>s.end()</code> both seem to return <code>std::string::iterator</code>.</p>\n\n<blockquote>\n  <p>An expression <code>e</code> is said to be implicitly convertible to <code>T2</code> if and only if <code>T2</code> can be copy-initialized from <code>e</code>, that is the declaration <code>T2 t = e;</code> is well-formed (can be compiled), for some invented temporary <code>t</code>.</p>\n</blockquote>\n"}, {"tags": ["c++", "visual-c++", "bit-fields"], "comments": [{"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 1, "creation_date": 1483569083, "post_id": 41474209, "comment_id": 70154566, "body": "simply print the integer value of a as being invisible character: <code>cout &lt;&lt; (int)bf.a; </code>"}], "answers": [{"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": true, "score": 1, "last_activity_date": 1483569614, "last_edit_date": 1495540909, "creation_date": 1483568839, "answer_id": 41474273, "question_id": 41474209, "link": "https://stackoverflow.com/questions/41474209/bitfields-why-is-there-no-output/41474273#41474273", "title": "Bitfields. Why is there no output?", "body": "<blockquote>\n  <p>When i type cast bf.a to int it gives the desired output (7). But when\n  i dont type cast it, it gives no output and gives no errors. Why is it\n  so?</p>\n</blockquote>\n\n<p>The character (number 7) was written to the console. Character 7 is the <a href=\"https://en.wikipedia.org/wiki/Bell_character\" rel=\"nofollow noreferrer\">bell character</a>.</p>\n\n<hr>\n\n<p>So you can't see it, but you can hear it. Or rather I could hear the notification sound on Windows 10 when I ran the program. </p>\n\n<p>The same output is generated with:</p>\n\n<pre><code>cout &lt;&lt; '\\a';\n</code></pre>\n\n<hr>\n\n<p>The bell is part of a group of characters that can be referenced with <a href=\"http://en.cppreference.com/w/cpp/language/escape\" rel=\"nofollow noreferrer\">escape sequences</a>. </p>\n\n<hr>\n\n<p>Note that in this case the use of a <code>char</code> bitfield is not guaranteed by the standard. See <a href=\"https://stackoverflow.com/q/3971085/1460794\">here</a> for a question regarding the use of <code>char</code> bitfields.</p>\n"}, {"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 2, "last_activity_date": 1483569278, "last_edit_date": 1495539961, "creation_date": 1483568971, "answer_id": 41474303, "question_id": 41474209, "link": "https://stackoverflow.com/questions/41474209/bitfields-why-is-there-no-output/41474303#41474303", "title": "Bitfields. Why is there no output?", "body": "<p>You are printing the character who's value is 7. Others have pointed out that this is a special character that is usually not displayed. Cast your value to <code>int</code> or another non-char integer type to display the value, rather than the character. Go look at <a href=\"http://www.asciitable.com/\" rel=\"nofollow noreferrer\">the ascii table</a> and you'll see character 7 is BEL (bell).</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nstruct bitfield\n{\n    unsigned char a : 3, b : 3;\n};\n\nint main()\n{\n    bitfield bf;\n    bf.a = 7;\n    cout &lt;&lt; (int)bf.a; // Added (int) here\n    char c;\n    cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n\n<p>Edit 1: Since <code>bf.a</code> is only 3 bits, it cannot be set to any displayable character values. If you increase it's size, you can display characters. Setting it to 46 gives the period character.</p>\n\n<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nstruct bitfield\n{\n    unsigned char a : 6, b : 2;\n};\n\nint main()\n{\n    bitfield bf;\n    bf.a = 46;\n    cout &lt;&lt; bf.a;   \n    char c;\n    cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n\n<p>Edit 2: See <a href=\"https://stackoverflow.com/a/41474349/7359094\">This answer</a> about using bitfields and <code>char</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5175, "user_id": 1625987, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FkrJK.jpg?s=128&g=1", "display_name": "Barath Ravikumar", "link": "https://stackoverflow.com/users/1625987/barath-ravikumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1483569168, "creation_date": 1483569168, "answer_id": 41474349, "question_id": 41474209, "link": "https://stackoverflow.com/questions/41474209/bitfields-why-is-there-no-output/41474349#41474349", "title": "Bitfields. Why is there no output?", "body": "<p>Char type bitfield is not supported.</p>\n\n<p>Bitfield declaration supports only 4 identifiers, </p>\n\n<ul>\n<li>unsigned int</li>\n<li>signed int</li>\n<li>int</li>\n<li>bool</li>\n</ul>\n\n<p><a href=\"http://en.cppreference.com/w/c/language/bit_field\" rel=\"nofollow noreferrer\">Source</a></p>\n"}], "owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 41474273, "answer_count": 3, "score": 1, "last_activity_date": 1483569614, "creation_date": 1483568557, "question_id": 41474209, "link": "https://stackoverflow.com/questions/41474209/bitfields-why-is-there-no-output", "title": "Bitfields. Why is there no output?", "body": "<pre><code>#include &lt;iostream&gt;\nusing namespace std;\nstruct bitfield\n{\n    unsigned char a : 3, b : 3;\n};\n\nint main()\n{\n    bitfield bf;\n    bf.a = 7;\n    cout &lt;&lt; bf.a;   \n    char c;\n    cin &gt;&gt; c;\n    return 0;\n}\n</code></pre>\n\n<p>I am using VC++ with its latest compiler. When i type cast bf.a to int it gives the desired output (7). But when i dont type cast it, it gives no output and gives no errors. Why is it so?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 1, "creation_date": 1483568336, "post_id": 41474138, "comment_id": 70154282, "body": "It doesn&#39;t look like you are tracking your inputs. Use an <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\">std::vector</a> to accumulate your inputs."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483569131, "post_id": 41474138, "comment_id": 70154589, "body": "This isn&#39;t the problem, but don&#39;t use <code>std::endl</code> unless you need the extra stuff that it does. <code>&#39;\\n&#39;</code> ends a line."}, {"owner": {"reputation": 1, "user_id": 7376354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5989e20a5db6bf5b26d12128993c353e?s=128&d=identicon&r=PG&f=1", "display_name": "D.Zamora", "link": "https://stackoverflow.com/users/7376354/d-zamora"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1483569132, "post_id": 41474138, "comment_id": 70154591, "body": "@PaulRooney. Could you explain what you mean by no code. How could I fix it?."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 1, "creation_date": 1483569404, "post_id": 41474138, "comment_id": 70154714, "body": "You have shown us some code and described some functionality. The code and the description don&#39;t seem to match up. You are saying that after the loop ends that it should print something. After the loop ends there is no code there except <code>return 0;</code>. I would have expected to see your loop store each entry in a container e.g. <code>vector</code> and after the loop, iterate over the container and print its contents. Or am I missing something?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1483569691, "post_id": 41474138, "comment_id": 70154817, "body": "First thing define some <code>struct</code> or <code>class</code> to hold the details of one entry (hours, employee type, pay etc) and declare a vector of these. When each entry is made populate one these structs and add it to the vector. At the end iterate over the vector and print out its contents."}], "owner": {"reputation": 1, "user_id": 7376354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5989e20a5db6bf5b26d12128993c353e?s=128&d=identicon&r=PG&f=1", "display_name": "D.Zamora", "link": "https://stackoverflow.com/users/7376354/d-zamora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483568158, "creation_date": 1483568158, "question_id": 41474138, "link": "https://stackoverflow.com/questions/41474138/cant-get-my-c-program-to-add-at-the-end", "title": "Cant get my c++ program to add at the end.", "body": "<p>I am trying to get my program to add all the switch case inputs. When running it, I get it to ask me to input a Case# ((1-4) and any other number than those 4 will give you an error code) while keeping a log of the inputs generated. However, when I want to end it with a (-1) it just stops working as oppose of giving me a summary of all the registered inputs i have given. This is what i have so far.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;iomanip&gt; \nusing namespace std;\n\nint main()\n{\nint paycode = 0;\ndouble weeklySalary, hourlySalary, grossSales, payPerItem, totalPay;\nint hours, items;\n\ncout &lt;&lt; \"Enter paycode for employee (-1 to end): \";\ncin &gt;&gt; paycode;\n\nwhile (paycode != -1)\n{\n    switch (paycode)\n    {\n        case 1:\n            cout &lt;&lt; \"Enter weekly salary for manager: \";\n            cin &gt;&gt; weeklySalary;\n            totalPay = weeklySalary;\n            break;\n        case 2:\n            cout &lt;&lt; \"Enter hourly salary for hourly worker: \";\n            cin &gt;&gt; hourlySalary;\n            cout &lt;&lt; \"Enter number of hours worked: \";\n            cin &gt;&gt; hours;\n            if (hours &lt;= 40)\n                totalPay = hours * hourlySalary;\n            else\n                totalPay = 40 * hourlySalary + (hours - 40) * hourlySalary * 1.5;\n            break;\n        case 3:\n            cout &lt;&lt; \"Enter gross sales for comission worker: \";\n            cin &gt;&gt; grossSales;\n            totalPay = 250 + grossSales * 0.057;\n            break;\n        case 4:\n            cout &lt;&lt; \"Enter number of produced items for pieceworker: \";\n            cin &gt;&gt; items;\n            cout &lt;&lt; \"Enter pay for each item: \";\n            cin &gt;&gt; payPerItem;\n            totalPay = items * payPerItem;\n            break;\n        default:\n            cout &lt;&lt; \"Wrong input!\" &lt;&lt; endl;\n            totalPay = 0;\n            break;              \n    }\n    cout    &lt;&lt; setiosflags(ios::fixed);\n    cout    &lt;&lt; setiosflags(ios::showpoint);\n    cout    &lt;&lt; setprecision(2);\n    cout &lt;&lt; \"Total weekly pay is: $ \" &lt;&lt; totalPay &lt;&lt; endl &lt;&lt; endl;\n    cout &lt;&lt; \"Enter paycode for next employee (-1 for exit): \";\n    cin &gt;&gt; paycode;\n}\nreturn 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays", "struct"], "comments": [{"owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "edited": false, "score": 0, "creation_date": 1483568039, "post_id": 41474043, "comment_id": 70154158, "body": "Do you want/need array? Part of the process in design is choosing data structures. I&#39;d first go for map of strings to sets of a custom struct which contains city and size (and is ordered by the latter). Then you can iterate over the map and the sets are always ordered. Unless performance issues, I&#39;d go for this as it describes the problem well."}, {"owner": {"reputation": 3, "user_id": 6702039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa72962f4959baecd42348180f90d79e?s=128&d=identicon&r=PG&f=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/6702039/vilius"}, "reply_to_user": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1483568598, "post_id": 41474043, "comment_id": 70154380, "body": "Arrays are not necessary, I have tried finding the smallest value of the city and eliminating it, then finding anotherone by eliminatinig the previous and repeating the same but with different country. However it is very unefficient. @StephanLechner"}], "answers": [{"tags": [], "owner": {"reputation": 718, "user_id": 4885127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d03a4283a4fb815a1f77e8793b1c94cf?s=128&d=identicon&r=PG&f=1", "display_name": "Moshe D", "link": "https://stackoverflow.com/users/4885127/moshe-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1483569021, "creation_date": 1483569021, "answer_id": 41474314, "question_id": 41474043, "link": "https://stackoverflow.com/questions/41474043/how-to-find-the-maximum-value-of-array-elements-in-c/41474314#41474314", "title": "how to find the maximum value of array elements in c++?", "body": "<p>If you know from advance which countries you will have.</p>\n\n<p>You can create a map of a \"string\" and \"int\", and also an array of cities where the size will be the same as the size of the map.</p>\n\n<p>In the map the \"string\" is names of the country and the \"int\" is the number of people you have in a country.</p>\n\n<p>Then iterate over the list and check for each item if it's have the smallest number of people.\nand write the name of the particular city in the array.</p>\n"}, {"comments": [{"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1483569712, "post_id": 41474345, "comment_id": 70154820, "body": "Due to the &quot;of each country&quot; requirement, I would suggest first sorting it by country, then sorting each country&#39;s section by population.  This guarantees that, depending on the comparison function supplied to <code>std::sort()</code>, either the first or last entry for any given country will contain the smallest population for that country."}, {"owner": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "edited": false, "score": 1, "creation_date": 1483571828, "post_id": 41474345, "comment_id": 70155661, "body": "Good catch Justin.  That answer isn&#39;t actually going to give the correct result according to the requirement.  I&#39;m also unclear whether it would give the most &quot;efficient&quot; solution either.  If this is a trivia question about efficiency then that would be the kind of question that would elicit a lot of debate.  I agree with the approach because it gets close to a correct answer but it certainly isn&#39;t guaranteed to be the most efficient."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "reply_to_user": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1483621902, "post_id": 41474345, "comment_id": 70176935, "body": "@JustinTime You are correct. I missed that part of the original post. I have updated my answer. Thanks."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "reply_to_user": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "edited": false, "score": 2, "creation_date": 1483622055, "post_id": 41474345, "comment_id": 70177040, "body": "@shawn1874 My goal was clarity over performance. If the list is relatively small or the sorting is not done very often, this algorithm should be fine. OP does not mention how large the list might be or how important speed is."}, {"owner": {"reputation": 836, "user_id": 2993440, "user_type": "registered", "accept_rate": 69, "profile_image": "https://graph.facebook.com/566310225/picture?type=large", "display_name": "shawn1874", "link": "https://stackoverflow.com/users/2993440/shawn1874"}, "edited": false, "score": 0, "creation_date": 1483646739, "post_id": 41474345, "comment_id": 70193487, "body": "that&#39;s fine with me.  The words &quot;most efficient&quot; are ambiguous as different people could mean different things, and the OP accepted your answer so that is what matters most.  I agree with your general approach to solving a problem but I thought maybe the OP meant performance when he asked for the most efficient solution."}], "tags": [], "owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "is_accepted": true, "score": 2, "last_activity_date": 1483621856, "last_edit_date": 1483621856, "creation_date": 1483569149, "answer_id": 41474345, "question_id": 41474043, "link": "https://stackoverflow.com/questions/41474043/how-to-find-the-maximum-value-of-array-elements-in-c/41474345#41474345", "title": "how to find the maximum value of array elements in c++?", "body": "<p>I would put the data in a vector, then sort the vector</p>\n\n<pre><code>struct City {\n    std::string name;\n    std::string country;\n    int population;\n};\nstd::vector&lt;City&gt; cities;\n</code></pre>\n\n<p>And then sort them based on population:</p>\n\n<pre><code>std::sort(cities.begin(), cities.end(), \n     [](City&amp; a, City&amp; b) { return a.population &gt; b.population; });\n</code></pre>\n\n<p>Then remove the lowest items.</p>\n\n<p><strong>EDIT</strong>\nHere is a different version that creates a vector of lowest populations by country.</p>\n\n<p>First, change the <code>sort</code> to sort by country <em>and</em> population:</p>\n\n<pre><code>std::sort(cities.begin(), cities.end(), \n    [](City&amp; a, City&amp; b) {\n        if (a.country == b.country) {\n            return a.population &lt; b.population;\n        }\n        else {\n            return a.country.compare(b.country) &lt; 0;\n        }\n    });\n</code></pre>\n\n<p>Now, create a second vector with smallest populations:</p>\n\n<pre><code>// Copy\nstd::vector&lt;City&gt; countries = cities;\n// Remove duplicates.\n// Note this works in our case because of the way the vector is sorted\nauto it = std::unique(countries.begin(), countries.end(),\n    [](City&amp; a, City&amp; b) { return a.country == b.country; });\ncountries.resize(std::distance(countries.begin(), it));\n</code></pre>\n\n<p>At this point, the <code>countries</code> vector looks like this:</p>\n\n<pre><code>Lao China 502\nSaji India 774\nPubfield UK 332\nHuffington USA 7891\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6702039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa72962f4959baecd42348180f90d79e?s=128&d=identicon&r=PG&f=1", "display_name": "Vilius", "link": "https://stackoverflow.com/users/6702039/vilius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "closed_date": 1483585726, "accepted_answer_id": 41474345, "answer_count": 2, "score": -2, "last_activity_date": 1483621856, "creation_date": 1483567637, "last_edit_date": 1483568716, "question_id": 41474043, "link": "https://stackoverflow.com/questions/41474043/how-to-find-the-maximum-value-of-array-elements-in-c", "closed_reason": "Needs more focus", "title": "how to find the maximum value of array elements in c++?", "body": "<p>I have a list of countries, their cities and numbers of people living in them. I need to find the city with the smallest number of people of each country:</p>\n\n<p>data given:</p>\n\n<pre><code>Springfield USA 16876\nXao China 1477555\nGetfield UK 812 \nSheffield USA 18600\nJoji India 5565\nHuffington USA 7891\nSaji India 774\nPubfield UK 332 \nMing China 4555\nLao China 502\n</code></pre>\n\n<p>the result has to be:</p>\n\n<pre><code>Huffington 7891\nLao 502\nPubfield 332\nSaji 774\n</code></pre>\n\n<p>what's the most efficient way to do that?</p>\n"}, {"tags": ["c++", "string", "c++11", "variable-assignment"], "comments": [{"owner": {"reputation": 435647, "user_id": 367273, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/f1ed2b0c87f602ef30229f5c4b04eff6?s=128&d=identicon&r=PG", "display_name": "NPE", "link": "https://stackoverflow.com/users/367273/npe"}, "edited": false, "score": 3, "creation_date": 1483567656, "post_id": 41473995, "comment_id": 70153977, "body": "Google <code>std::stringstream</code>."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": false, "score": 3, "last_activity_date": 1483567692, "creation_date": 1483567692, "answer_id": 41474054, "question_id": 41473995, "link": "https://stackoverflow.com/questions/41473995/c11-is-it-possible-to-do-this-string-foo-cout-00000023-00000023/41474054#41474054", "title": "c++11. Is it possible to do this: string foo = cout &lt;&lt; (.00000023)*(.00000023) &lt;&lt; endl; -with precision", "body": "<p>You could split this into steps using <code>std::ostringstream</code>:</p>\n\n<pre><code>std::ostringstream output;\noutput &lt;&lt; &lt;&lt; endl &lt;&lt; std::setprecision(20) &lt;&lt; std::fixed;\noutput &lt;&lt; ((.0000023)*(.00000023))&lt;&lt; endl;\nstd::string result_string = output.str();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4939, "user_id": 6292621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a024e1125c7f69a49d7f1a4861d7b63?s=128&d=identicon&r=PG&f=1", "display_name": "lorro", "link": "https://stackoverflow.com/users/6292621/lorro"}, "is_accepted": false, "score": 0, "last_activity_date": 1483567701, "creation_date": 1483567701, "answer_id": 41474056, "question_id": 41473995, "link": "https://stackoverflow.com/questions/41473995/c11-is-it-possible-to-do-this-string-foo-cout-00000023-00000023/41474056#41474056", "title": "c++11. Is it possible to do this: string foo = cout &lt;&lt; (.00000023)*(.00000023) &lt;&lt; endl; -with precision", "body": "<p>I suggest to try std::ostringstream:</p>\n\n<pre><code>std::ostringstream oss;\noss &lt;&lt; ...;\nstd::string result(oss.str());\n</code></pre>\n\n<p>Note that it's slow on some platfroms/compilers.</p>\n"}, {"comments": [{"owner": {"reputation": 3184, "user_id": 6710751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmR1W.jpg?s=128&g=1", "display_name": "Striezel", "link": "https://stackoverflow.com/users/6710751/striezel"}, "edited": false, "score": 0, "creation_date": 1483568224, "post_id": 41474067, "comment_id": 70154244, "body": "You forgot to set the precision."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 3184, "user_id": 6710751, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qmR1W.jpg?s=128&g=1", "display_name": "Striezel", "link": "https://stackoverflow.com/users/6710751/striezel"}, "edited": false, "score": 0, "creation_date": 1483568423, "post_id": 41474067, "comment_id": 70154317, "body": "This is an example, notice that I did not do any of the math from the original question. The actual math is irrelevant to the question, which is to convert a result to a string. I&#39;ll add a note that stream manipulators work for <code>std::ostringstream</code> just like <code>std::cout</code>."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 0, "last_activity_date": 1483568702, "last_edit_date": 1483568702, "creation_date": 1483567784, "answer_id": 41474067, "question_id": 41473995, "link": "https://stackoverflow.com/questions/41473995/c11-is-it-possible-to-do-this-string-foo-cout-00000023-00000023/41474067#41474067", "title": "c++11. Is it possible to do this: string foo = cout &lt;&lt; (.00000023)*(.00000023) &lt;&lt; endl; -with precision", "body": "<p>See <a href=\"http://en.cppreference.com/w/cpp/io/basic_stringstream\" rel=\"nofollow noreferrer\">std::stringstream</a> to stream into a string.</p>\n\n<pre><code>#include &lt;string&gt;\n#include &lt;sstream&gt;\nint main()\n{\n    std::ostringstream stream;\n    stream &lt;&lt; 10 + 10;\n    std::string result = stream.str(); // result contains \"20\"\n    return 0;\n}\n</code></pre>\n\n<p>Edit: String manipulators work with <code>std::ostringstream</code> just like <code>std::cout</code>.</p>\n\n<pre><code>stream &lt;&lt; std::fixed &lt;&lt; (1.0 / 100.0); // result will contain \"0.010000\"\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 5349372, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/57f3a8dce750c38ad0cb87da7d317b35?s=128&d=identicon&r=PG&f=1", "display_name": "djent", "link": "https://stackoverflow.com/users/5349372/djent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1483568702, "creation_date": 1483567466, "question_id": 41473995, "link": "https://stackoverflow.com/questions/41473995/c11-is-it-possible-to-do-this-string-foo-cout-00000023-00000023", "title": "c++11. Is it possible to do this: string foo = cout &lt;&lt; (.00000023)*(.00000023) &lt;&lt; endl; -with precision", "body": "<p>I want to save the output from</p>\n\n<pre><code>  std::cout &lt;&lt; endl &lt;&lt; std::setprecision(20) &lt;&lt; std::fixed;\n  cout &lt;&lt; ((.0000023)*(.00000023))&lt;&lt; endl; \n</code></pre>\n\n<p>Which is: <code>0.00000000000052900000</code></p>\n\n<p>-into a string variable.</p>\n"}, {"tags": ["c++", "c++11", "std", "shared-ptr"], "comments": [{"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483567377, "post_id": 41473882, "comment_id": 70153834, "body": "Not an answer to your question, but a workaround: If you use a tuple instead of a casual struct, you will be provided with the appropriate constructor, and it&#39;s even terser: <code>using LambdaArgs = std::tuple&lt;std::string,std::string,std::string&gt;</code>;"}, {"owner": {"reputation": 5074, "user_id": 5522303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c236ba3d52af53355a4d1a44a5145b04?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/5522303/kevin"}, "edited": false, "score": 0, "creation_date": 1483567499, "post_id": 41473882, "comment_id": 70153902, "body": "The problem <code>std::make_shared</code> is solving is making sure everything is cleaned up properly if an exception is thrown after the object is created but before the shared_ptr takes ownership. With that said this does look like a minor oversight."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 0, "creation_date": 1483568447, "post_id": 41473882, "comment_id": 70154324, "body": "You may find this interesting: <a href=\"http://stackoverflow.com/questions/24234480/stdmake-shared-with-stdinitializer-list\" title=\"stdmake shared with stdinitializer list\">stackoverflow.com/questions/24234480/&hellip;</a>"}, {"owner": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1483569207, "post_id": 41473882, "comment_id": 70154628, "body": "Am I missing something - why not simply create <code>make_shared</code> that is of your interest <a href=\"http://melpon.org/wandbox/permlink/sTBVNPq6uNxymcuK\" rel=\"nofollow noreferrer\">like this</a>?"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 2, "creation_date": 1483579928, "post_id": 41473882, "comment_id": 70157978, "body": "@W.F: You may be missing that <code>T{a,b}</code> and <code>T(a,b)</code> can have different effects. E.g. they have different effects for <code>T</code> = <code>std::string</code>. Ideally there should be a curly braces based <code>make_shared</code> <i>in addition to</i> the old one, either with slightly different names or with some disambiguating dummy argument (tag)."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483583391, "post_id": 41473882, "comment_id": 70158797, "body": "&quot;<i>A real-life scenarios, such as declaring casual structures within a function, to efficiently supply set of arguments to a lambda became very common, in my experience:</i>&quot; Why is heap-allocating storage for a lambda a common thing for you? Storing those arguments directly would be more efficient. Well, perhaps not if you&#39;ve got dozens of copies of a lambda running around. But in that case... why do you have dozens of copies of it running around?"}, {"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483596750, "post_id": 41473882, "comment_id": 70162234, "body": "@NicolBolas Because C++11 does not allow you to move arguments into lambda. So, for example, if you have a <i>heavy</i> stuff, you can&#39;t pass it like this <code>auto lambda = [heavy_stuff] {... };</code> without copying it. So, <code>std::shared_ptr</code> is basically the only feasible solution."}, {"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "reply_to_user": {"reputation": 13337, "user_id": 4324224, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/YF2EX.png?s=128&g=1", "display_name": "W.F.", "link": "https://stackoverflow.com/users/4324224/w-f"}, "edited": false, "score": 0, "creation_date": 1483596834, "post_id": 41473882, "comment_id": 70162265, "body": "@W.F. The question was about possible pitfalls of having your own version, and <i>Alf</i> actually points to one of them."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483633880, "post_id": 41473882, "comment_id": 70185557, "body": "@GreenScape: &quot;<i>So, std::shared_ptr is basically the only feasible solution.</i>&quot; Here&#39;s another feasible solution: don&#39;t use a lambda. If your lambda really does need &quot;heavy stuff&quot;, then it isn&#39;t a lambda. It&#39;s a struct with an <code>operator()</code> overload. And since you&#39;re <i>already defining</i> a struct... just give it an <code>operator()</code> overload and put the body of your lambda in it. Problem solved."}, {"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483634184, "post_id": 41473882, "comment_id": 70185789, "body": "@Nicol Bolas you&#39;re definitely haven&#39;t heard about <code>boost::asio</code>, have you? Lambda is lambda, it isn&#39;t made to serve a specific task, it&#39;s made to serve you, your needs."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483634414, "post_id": 41473882, "comment_id": 70185937, "body": "@GreenScape: I don&#39;t see what that has to do with what I said. I outlined a mechanism for you to avoid the overhead of copying &quot;heavy stuff&quot; by using a struct rather than a lambda+<code>shared_ptr</code>. What does <code>asio</code> have to do with that?"}, {"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "reply_to_user": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 0, "creation_date": 1483634530, "post_id": 41473882, "comment_id": 70186004, "body": "@NicolBolas you&#39;ve said <i>If your lambda really does need &quot;heavy stuff&quot;, then it isn&#39;t a lambda</i>."}], "answers": [{"comments": [{"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483567700, "post_id": 41474041, "comment_id": 70153993, "body": "make_shared has nothing to do with memory leaks. What make_shared provides is guaranteed locality of reference between the reference count and object, potentially avoiding an extra cache miss when dereferencing it."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483567769, "post_id": 41474041, "comment_id": 70154034, "body": "@Frank, perhaps you can educate yourself by looking here: <a href=\"http://en.cppreference.com/w/cpp/memory/shared_ptr/make_shared\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/memory/shared_ptr/make_shared</a>"}, {"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483567790, "post_id": 41474041, "comment_id": 70154042, "body": "I stand corrected. Thanks for the reference! Edit: Your link does say that the avoiding the extra allocation is the main reason, and avoiding the memory leak is a nice benefit, I don&#39;t feel THAT foolish."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483569844, "post_id": 41474041, "comment_id": 70154875, "body": "@Frank, it doesn&#39;t actually say what is more important, it just lists them in a specific order, but in my view, program correctness always trumps optimizations."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 0, "creation_date": 1483578622, "post_id": 41474041, "comment_id": 70157668, "body": "The &quot;It is also&quot; is the main and sole motivation for <code>make_shared</code>. The memory leak problem was a main motivation for <code>make_unique</code> (Herb offered a GOTW-like debate on his site about it)."}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1483579075, "post_id": 41474041, "comment_id": 70157773, "body": "<code>make_shared</code> came from Boost, and <a href=\"http://www.boost.org/doc/libs/1_63_0/libs/smart_ptr/make_shared_array.html\" rel=\"nofollow noreferrer\">the Boost docs</a> say &quot;Originally the Boost function templates make_shared and allocate_shared were for efficient allocation of shared objects only.&quot;. Kneel and surrender! Basta!"}, {"owner": {"reputation": 135186, "user_id": 464581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/v2PxU.jpg?s=128&g=1", "display_name": "Cheers and hth. - Alf", "link": "https://stackoverflow.com/users/464581/cheers-and-hth-alf"}, "edited": false, "score": 1, "creation_date": 1483579587, "post_id": 41474041, "comment_id": 70157881, "body": "<b>\u22121</b> \u201cThe main problem make_shared is solving is a potential for a memory leak\u201d is at least historically incorrect. And it&#39;s worth noting that it doesn&#39;t solve the memory leak problem: it merely <i>supports</i> writing safe code. In order to solve the problem so that client code using a function taking shared pointers, is constrained to safe ways (not multiple <code>new</code> expressions in the arguments), one needs a formal argument type that can not be initialized with pointer or temporary <code>shared_ptr</code>."}, {"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "edited": false, "score": 0, "creation_date": 1483597414, "post_id": 41474041, "comment_id": 70162462, "body": "I don&#39;t see how it solves anything. Memory leak is obviously caused by the bad way of coding. Yes, scenario described on <i>cppreference</i> is covered but it does not mean that coder can&#39;t make more mistakes. Moreover, it never was an unavoidable problem to the extent where fix is needed in the standard library. Just allocate smart pointer before passing it to the function, problem solved."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": false, "score": 1, "last_activity_date": 1483567735, "last_edit_date": 1483567735, "creation_date": 1483567626, "answer_id": 41474041, "question_id": 41473882, "link": "https://stackoverflow.com/questions/41473882/is-there-a-reason-why-stdmake-shared-stdmake-unique-dont-use-list-initializ/41474041#41474041", "title": "Is there a reason why std::make_shared/std::make_unique don&#39;t use list initialization?", "body": "<blockquote>\n  <p>The problem that was supposed to be solved with std::make_shared still persists for object without constructor. </p>\n</blockquote>\n\n<p>No, the problem does not persist. The main problem <code>make_shared</code> is solving is a potential for a memory leak between the object is allocated and the ownership is taken by the smart pointer. It is also capable of removing one extra allocation for control block.</p>\n\n<p>Yes, it is inconvenient to not be able to use a direct initialization, but this was never the declared goal of <code>make_shared</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "edited": false, "score": 0, "creation_date": 1483597875, "post_id": 41476396, "comment_id": 70162624, "body": "BTW casual structure is not the substitute for <i>aggregate</i>, it&#39;s a name that I came up with for structures that are declared for one-time use within a narrow context (<i>body of a function</i>)."}, {"owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 0, "creation_date": 1528842836, "post_id": 41476396, "comment_id": 88658180, "body": "The sad part is that there seems to be no solution in sight to this problem, not even in principle. no?"}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 0, "creation_date": 1528843440, "post_id": 41476396, "comment_id": 88658321, "body": "@alfC: <a href=\"http://wg21.link/P0960\" rel=\"nofollow noreferrer\">P0960</a> would solve this problem adequately."}, {"owner": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 0, "creation_date": 1528844548, "post_id": 41476396, "comment_id": 88658576, "body": "@NicolBolas, ok, thanks for the link. But how will variantions of  <code>std::make_unique&lt;std::vector&lt;int&gt;&gt;(3,4)</code> can be interpreted either as <code>std::vector&lt;int&gt;{3, 4}</code> and <code>std::vector&lt;int&gt;(3,4)</code>?"}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "reply_to_user": {"reputation": 9958, "user_id": 225186, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dbc60362bf2df08202ff198e00085a5c?s=128&d=identicon&r=PG", "display_name": "alfC", "link": "https://stackoverflow.com/users/225186/alfc"}, "edited": false, "score": 0, "creation_date": 1528850508, "post_id": 41476396, "comment_id": 88659799, "body": "@alfC: I said that it would solve <i>this problem</i> adequately: the initialization of an aggregate. There&#39;s no generalized solution for using list initialization, because the entire premise is contingent on an incorrect assumption: that a list of values is sufficient information to know how the user wants to use them to initialize any object."}], "tags": [], "owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "is_accepted": true, "score": 8, "last_activity_date": 1596577659, "last_edit_date": 1596577659, "creation_date": 1483582978, "answer_id": 41476396, "question_id": 41473882, "link": "https://stackoverflow.com/questions/41473882/is-there-a-reason-why-stdmake-shared-stdmake-unique-dont-use-list-initializ/41476396#41476396", "title": "Is there a reason why std::make_shared/std::make_unique don&#39;t use list initialization?", "body": "<blockquote>\n<p>Specifically, what pitfalls can be in the list initialization solution?</p>\n</blockquote>\n<p>All of the typical pitfalls of using list-initialization.</p>\n<p>For example, the hiding of non-initializer_list constructors. What does <code>make_shared&lt;vector&lt;int&gt;&gt;(5, 2)</code> do? If your answer is &quot;constructs an array of 5 <code>int</code>s&quot;, that's absolute correct... so long as <code>make_shared</code> <em>isn't using list-initialization</em>. Because that changes the moment you do.</p>\n<p>Note that suddenly changing this would <em>break existing code</em>, since right now all of the indirect initialization functions use constructor syntax. So you can't just change it willy-nilly and expect the world to keep working.</p>\n<p>Plus one more unique to this case: the narrowing issue:</p>\n<pre><code>struct Agg\n{\n  char c;\n  int i;\n};\n</code></pre>\n<p>You can do <code>Agg a{5, 1020};</code> to initialize this aggregate. But you could never do <code>make_shared&lt;Agg&gt;(5, 1020)</code>. Why? Because the compiler can guarantee that the literal <code>5</code>can be converted to a <code>char</code> with no loss of data. However, when you use indirect initialization like this, the literal <code>5</code> is template-deduced as <code>int</code>. And the compiler <em>cannot</em> guarantee that any <code>int</code> can be converted to a <code>char</code> with no loss of data. This is called a &quot;narrowing conversion&quot; and is expressly forbidden in list initialization.</p>\n<p>You would need to explicitly convert that <code>5</code> to a <code>char</code>.</p>\n<p>The standard library has an issue on this: <a href=\"http://cplusplus.github.io/LWG/lwg-active.html#2089\" rel=\"nofollow noreferrer\">LWG 2089</a>. Though technically this issue talks about <code>allocator::construct</code>, it should equally apply to all indirect initialization functions like <code>make_X</code> and C++17's in-place constructors for <code>any</code>/<code>optional</code>/<code>variant</code>.</p>\n<blockquote>\n<p>why does it too follow same pattern?</p>\n</blockquote>\n<p>It follows the same pattern because having two different functions that look almost identical that have radically and unexpectedly different behaviors would not be a good thing.</p>\n<hr />\n<p>Note that C++20 resolves the aggregate part of this issue at least by making constructor-style syntax invoke aggregate initialization if the initializers would have been ill-formed for regular direct initialization. So if <code>T</code> is some aggregate type (with no user-declared constructors), and <code>T(args)</code> wouldn't invoke a copy/move constructor (the only constructors that take arguments which a type with no user-declared constructors could have), then the arguments will instead be used to attempt to aggregate initialize the structure.</p>\n<p>Since <code>allocator::construct</code> and other forms of forwarded initialization default to direct-initialization, this will let you initialize aggregates through forwarded initialization.</p>\n<p>You still can't do other list-initialization stuff without explicitly using an <code>initializer_list</code> at the call site. But that's probably for the best.</p>\n"}], "owner": {"reputation": 5668, "user_id": 966376, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/L6Wh4.jpg?s=128&g=1", "display_name": "GreenScape", "link": "https://stackoverflow.com/users/966376/greenscape"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1925, "favorite_count": 3, "accepted_answer_id": 41476396, "answer_count": 2, "score": 7, "last_activity_date": 1596577659, "creation_date": 1483566862, "question_id": 41473882, "link": "https://stackoverflow.com/questions/41473882/is-there-a-reason-why-stdmake-shared-stdmake-unique-dont-use-list-initializ", "title": "Is there a reason why std::make_shared/std::make_unique don&#39;t use list initialization?", "body": "<p>To be specific: <strong>direct-list-initialization</strong> (<a href=\"http://en.cppreference.com/w/cpp/language/list_initialization\" rel=\"noreferrer\">cppreference.com</a> <strong>(3)</strong>).</p>\n\n<p>Both <code>std::make_shared</code> and <em>uniform initialization</em> features were introduced in <strong>C++11</strong>. So we can use <em>aggregate initialization</em> when allocating objects on heap: <code>new Foo{1, \"2\", 3.0f}</code>. This is a nice way to directly initialize objects that have no constructors, such as aggregates, pods, etc.</p>\n\n<p>A real-life scenarios, such as declaring <em>casual</em> structures within a function, to efficiently supply set of arguments to a lambda became very common, in my experience:</p>\n\n<pre><code>void foo()\n{\n    struct LambdaArgs\n    {\n        std::string arg1;\n        std::string arg2;\n        std::string arg3;\n    };\n\n    auto args = std::make_shared&lt;LambdaArgs&gt;(LambdaArgs{\"1\", \"2\", \"3\"});\n\n    auto lambda = [args] {\n        /// ...\n    };\n\n    /// Use lambda\n    /// ...\n}\n</code></pre>\n\n<p>Here <code>auto args = std::make_shared&lt;LambdaArgs&gt;(\"1\", \"2\", \"3\");</code> whould be nice but isn't going to work, because <code>std::make_shared</code> is usually implemented as:</p>\n\n<pre><code>template&lt;typename T, typename... Args&gt;\nstd::shared_ptr&lt;T&gt; make_shared(Args &amp;&amp; ...args)\n{\n    return std::shared_ptr&lt;T&gt;(new T(std::forward&lt;Args&gt;(args)...));\n}\n</code></pre>\n\n<p>So we're stuck with the <code>auto args = std::make_shared&lt;LambdaArgs&gt;(LambdaArgs{\"1\", \"2\", \"3\"});</code>.</p>\n\n<p>The problem that was supposed to be solved with <code>std::make_shared</code> still persists for object without constructor. And the workaround is not only unaesthetic but also less efficient.</p>\n\n<p>Is this another oversight or are there some reasons that defend this choice. Specifically, what pitfalls can be in the list initialization solution? <code>std::make_unique</code> was introduced later, in <strong>C++14</strong>, why does it too follow same pattern?</p>\n"}, {"tags": ["c++", "if-statement", "recursion", "while-loop", "null"], "comments": [{"owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 2, "creation_date": 1483567212, "post_id": 41473862, "comment_id": 70153749, "body": "<code>while (root != NULL)</code> .. When this condition is satisfied, what is it that will make the loop stop?"}, {"owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "reply_to_user": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 0, "creation_date": 1483567335, "post_id": 41473862, "comment_id": 70153811, "body": "shouldn&#39;t it call preorder(root-&gt;left) preorder(root-&gt;right) and be re evaluated with the new root-&gt; data?"}, {"owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 1, "creation_date": 1483568103, "post_id": 41473862, "comment_id": 70154184, "body": "No, it shouldn&#39;t. Each <i>invocation</i> of the function will work on its own <code>copy</code> it received for the pointer <code>root</code> as its parameter. Also, any <i>local variables</i> defined in the function are local to the invocation."}, {"owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "reply_to_user": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 0, "creation_date": 1483569476, "post_id": 41473862, "comment_id": 70154738, "body": "I see. Thanks so much for your time!"}], "answers": [{"comments": [{"owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "edited": false, "score": 0, "creation_date": 1483569374, "post_id": 41474063, "comment_id": 70154704, "body": "Thanks so much for the very detailed answer-- I appreciate your time!"}], "tags": [], "owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "is_accepted": true, "score": 3, "last_activity_date": 1483567755, "creation_date": 1483567755, "answer_id": 41474063, "question_id": 41473862, "link": "https://stackoverflow.com/questions/41473862/behavior-of-if-versus-while-in-a-recursive-c-function/41474063#41474063", "title": "Behavior of if versus while in a recursive C++ function", "body": "<p><code>root</code> can never become null within the context of the final call to <code>preOrder</code>.</p>\n\n<p>A common mistake with recursion is to confuse variables with the same name at different levels of the stack.  <code>root</code> from the first call to <code>preOrder</code> is <em>not</em> the same as <code>root</code> from the second call; rather, <code>root</code> from the second call is actually <code>root-&gt;left</code> or <code>root-&gt;right</code> from the first call.  But as the recursion is unwinding, if you ever make it back out to the original call to <code>preOrder</code>, then you will once again be dealing with the original <code>root</code>.</p>\n\n<p>When you hit a leaf node, you call <code>preOrder</code> with <code>left</code> and <code>right</code> which will both immediately return because the while loop will fail.  Now you are back in the previous call to <code>preorder</code>, and <code>root</code> still points to the leaf node, not null.  Within this context, <code>root</code> never changes, therefore how could it ever make it out of the while loop?</p>\n"}, {"tags": [], "owner": {"reputation": 343, "user_id": 5704995, "user_type": "registered", "profile_image": "https://graph.facebook.com/1714182875479763/picture?type=large", "display_name": "Shashi Kundan", "link": "https://stackoverflow.com/users/5704995/shashi-kundan"}, "is_accepted": false, "score": 2, "last_activity_date": 1483569338, "creation_date": 1483569338, "answer_id": 41474384, "question_id": 41473862, "link": "https://stackoverflow.com/questions/41473862/behavior-of-if-versus-while-in-a-recursive-c-function/41474384#41474384", "title": "Behavior of if versus while in a recursive C++ function", "body": "<p>First of all,you have to see how preorder works  you are using </p>\n\n<p>while </p>\n\n<p>than calling</p>\n\n<p>preOrder(root->left);</p>\n\n<p>preOrder(root->right);</p>\n\n<h2>but you have to store node's child  in stack before calling next nodes otherwise all nodes are not not reached</h2>\n\n<p>// An iterative process to print preorder traversal of Binary tree</p>\n\n<p><code>void iterativePreorder(node *root)</code>\n<code>{</code></p>\n\n<pre><code>`// Base Case`\n`if (root == NULL)`\n   `return;`\n\n`// Create an empty stack and push root to it`\n`stack&lt;node *&gt; nodeStack;`\n`nodeStack.push(root);`\n</code></pre>\n\n<p><code>/* Pop all items one by one. Do following for every popped item</code></p>\n\n<pre><code>   `a) print it`\n\n   `b) push its right child`\n\n   `c) push its left child`\n</code></pre>\n\n<p><code>Note that right child is pushed first so that left is processed first</code> <code>*/</code></p>\n\n<p><code>while (nodeStack.empty() == false)</code>\n    {</p>\n\n<pre><code>    `// Pop the top item from stack and print it`\n\n   ` struct node *node = nodeStack.top();`\n\n   ` printf (\"%d \", node-&gt;data);`\n\n   ` nodeStack.pop();`\n\n    `// Push right and left children of the popped node to stack`\n   ` if (node-&gt;right)`\n       ` nodeStack.push(node-&gt;right);`\n    `if (node-&gt;left)`\n       ` nodeStack.push(node-&gt;left);`\n</code></pre>\n\n<p><code>}</code></p>\n\n<p><code>}</code></p>\n\n<p>here stack is used to store nodes</p>\n"}], "owner": {"reputation": 626, "user_id": 4142312, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lMJYp.jpg?s=128&g=1", "display_name": "Edward Tyler", "link": "https://stackoverflow.com/users/4142312/edward-tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 41474063, "answer_count": 2, "score": 0, "last_activity_date": 1483569338, "creation_date": 1483566778, "question_id": 41473862, "link": "https://stackoverflow.com/questions/41473862/behavior-of-if-versus-while-in-a-recursive-c-function", "title": "Behavior of if versus while in a recursive C++ function", "body": "<p>I'm new to C++, but I bumped into this problem on HackerRank and ran into a situation that seemed strange to me (coming from R/Python/Java):\n<a href=\"https://www.hackerrank.com/challenges/tree-preorder-traversal\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/tree-preorder-traversal</a></p>\n\n<p>To give some background, the HackerRank problem was:</p>\n\n<p><em>Complete the preOrder function in your editor below, which has 1 parameter: a pointer to the root of a binary tree. It must print the values in the tree's preorder traversal as a single line of space-separated values.</em> </p>\n\n<p><strong><em>Input Format:</strong>\nOur hidden tester code passes the root node of a binary tree to your preOrder function.</em></p>\n\n<blockquote>\n  <p>Input:<br>\n  6 </p>\n  \n  <p>3 5 2 1 4 6</p>\n  \n  <p>Expected Output:</p>\n  \n  <p>3 5 1 4 2 6</p>\n</blockquote>\n\n<p>I wrote this solution, which I thought would work:</p>\n\n<pre><code>//node is defined as:\n/*\nstruct node\n{\n    int data;\n    node* left;\n    node* right;\n};\n*/\n\n\nvoid preOrder(node *root){\n    while (root != NULL){ \n        cout &lt;&lt; root-&gt;data &lt;&lt; \" \";\n        preOrder(root-&gt;left);\n        preOrder(root-&gt;right);\n    }\n    return;\n}\n</code></pre>\n\n<p>This code, though, never terminates and instead outputs:</p>\n\n<blockquote>\n  <p>3 5 1 1 1 1 1 1 1 1 1... (etc.)</p>\n</blockquote>\n\n<p>What is strange and I am curious about is that if I change the <code>while</code> loop to the <code>if</code> conditional (as below) the program executes perfectly:</p>\n\n<pre><code>void preOrder(node *root){\n    if (root == NULL){ \n        return;\n    }\n    cout &lt;&lt; root-&gt;data &lt;&lt; \" \";\n    preOrder(root-&gt;left);\n    preOrder(root-&gt;right);\n}\n</code></pre>\n\n<p>It is my understanding that both <code>if</code> and <code>while</code> ought to assess the condition each time <code>preOrder()</code> is called, but at some point, particularly after the 3rd iteration, the <code>preOrder()</code> function begins to continuously print 1 without terminating.</p>\n\n<p>Any ideas, or could it be related to the <code>main()</code> code which I cannot see?</p>\n"}, {"tags": ["c++", "arrays", "hdf5", "hdf"], "comments": [{"owner": {"reputation": 2943, "user_id": 1842511, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d85046ee1a7aafc1f255b8c5423d12a4?s=128&d=identicon&r=PG", "display_name": "Creak", "link": "https://stackoverflow.com/users/1842511/creak"}, "edited": false, "score": 1, "creation_date": 1483567472, "post_id": 41473853, "comment_id": 70153894, "body": "I think this is the method you wanted to link to: <a href=\"https://support.hdfgroup.org/HDF5/doc/cpplus_RM/class_h5_1_1_data_set.html#a2f0278a519122419ae9981666277c9bb\" rel=\"nofollow noreferrer\">support.hdfgroup.org/HDF5/doc/cpplus_RM/&hellip;</a>"}, {"owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "reply_to_user": {"reputation": 2943, "user_id": 1842511, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d85046ee1a7aafc1f255b8c5423d12a4?s=128&d=identicon&r=PG", "display_name": "Creak", "link": "https://stackoverflow.com/users/1842511/creak"}, "edited": false, "score": 0, "creation_date": 1483567625, "post_id": 41473853, "comment_id": 70153962, "body": "Thanks, I updated the post."}], "answers": [{"tags": [], "owner": {"reputation": 6013, "user_id": 3310281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b8b4ec03e2c7a424fdc428eb55f2e8?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm McLean", "link": "https://stackoverflow.com/users/3310281/malcolm-mclean"}, "is_accepted": false, "score": 2, "last_activity_date": 1483567646, "creation_date": 1483567646, "answer_id": 41474046, "question_id": 41473853, "link": "https://stackoverflow.com/questions/41473853/creating-a-3d-array-in-c-using-passed-in-parameters/41474046#41474046", "title": "Creating a 3D array in C++ using passed in parameters", "body": "<p>Do it like this:</p>\n\n<pre><code>    std::vector&lt;int&gt; array;\n\n    array.resize(Nx*Ny*Nz);\n\n    array[z*Ny*Nx + y*Nx + x] = value\n</code></pre>\n\n<p>It's nice to have the array[z][y][x] syntax, but supporting it is more trouble than it is worth.</p>\n"}, {"comments": [{"owner": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 0, "creation_date": 1483573070, "post_id": 41474069, "comment_id": 70156105, "body": "Although I voted up the answer, the additional <i>C++1 style</i> remark bothers me, since it needs <code>NX * NY * NZ</code> to be a compile-time constant, in which case the OP could have easily made a C-style array and would not have asked this question."}, {"owner": {"reputation": 2943, "user_id": 1842511, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d85046ee1a7aafc1f255b8c5423d12a4?s=128&d=identicon&r=PG", "display_name": "Creak", "link": "https://stackoverflow.com/users/1842511/creak"}, "reply_to_user": {"reputation": 28373, "user_id": 4926357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3f559694d3ca65b39220166b865276d?s=128&d=identicon&r=PG&f=1", "display_name": "A.S.H", "link": "https://stackoverflow.com/users/4926357/a-s-h"}, "edited": false, "score": 0, "creation_date": 1483574805, "post_id": 41474069, "comment_id": 70156593, "body": "True! Then the only solution is std::vector, I&#39;ll edit my answer."}], "tags": [], "owner": {"reputation": 2943, "user_id": 1842511, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d85046ee1a7aafc1f255b8c5423d12a4?s=128&d=identicon&r=PG", "display_name": "Creak", "link": "https://stackoverflow.com/users/1842511/creak"}, "is_accepted": true, "score": 2, "last_activity_date": 1483629719, "last_edit_date": 1483629719, "creation_date": 1483567789, "answer_id": 41474069, "question_id": 41473853, "link": "https://stackoverflow.com/questions/41473853/creating-a-3d-array-in-c-using-passed-in-parameters/41474069#41474069", "title": "Creating a 3D array in C++ using passed in parameters", "body": "<p>I think the easiest is to do this:</p>\n\n<pre><code>int* data_out = new int[NX * NY * NZ];\n</code></pre>\n\n<p>You can then access this 1D array as a 3D array like that:</p>\n\n<pre><code>int value = array[z * NX * NY + y * NX + x];\n</code></pre>\n\n<hr>\n\n<p>In a more C++11 style, you can use an <a href=\"http://en.cppreference.com/w/cpp/container/vector\" rel=\"nofollow noreferrer\"><code>std::vector</code></a>:</p>\n\n<pre><code>std::vector&lt;int&gt; data_out;\ndata_out.resize(NX * NY * NZ);\n</code></pre>\n\n<p>And calling the function like that:</p>\n\n<pre><code>h5Dataset.read(data_out.begin(), H5::PredType::NATIVE_INT, memspace, h5Dataspace);\n</code></pre>\n"}], "owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 41474069, "answer_count": 2, "score": 2, "last_activity_date": 1483629719, "creation_date": 1483566735, "last_edit_date": 1483567606, "question_id": 41473853, "link": "https://stackoverflow.com/questions/41473853/creating-a-3d-array-in-c-using-passed-in-parameters", "title": "Creating a 3D array in C++ using passed in parameters", "body": "<p>I have a function that takes in a <strong>void* buffer</strong> parameter. This function (which is provided by HDF <a href=\"https://support.hdfgroup.org/HDF5/doc/cpplus_RM/class_h5_1_1_data_set.html#a2f0278a519122419ae9981666277c9bb\" rel=\"nofollow noreferrer\">here</a>. From my understanding, it reads info from a dataset into the buffer. I have this working, but only if I create a 3d int array using constant values. I need to be able to do this using values passed in by the user. \nHere is the start of that function:</p>\n\n<pre><code>void* getDataTest(int countX, int countY)\n{\n    int NX = countX;\n    int NY = countY;\n    int NZ = 1;\n\n    int data_out[NX][NY][NZ]; //I know this doesn't work, just posting it for reference\n\n   //.\n   //. more code here...\n   //.\n\n   // Read function is eventually called...\n   h5Dataset.read(data_out, H5::PredType::NATIVE_INT, memspace, h5Dataspace);\n}\n</code></pre>\n\n<p>This constantly fails on me. However, my previoud implementation that used const int values when creating the data_out array worked fine:</p>\n\n<pre><code>void* getDataTest(int countX, int countY)\n{\n    const int NX = 5;\n    const int NY = 5;\n    const int NZ = 1;\n\n    int data_out[NX][NY][NZ]; \n\n   //.\n   //. more code here...\n   //.\n\n   // Read function is eventually called...\n   h5Dataset.read(data_out, H5::PredType::NATIVE_INT, memspace, h5Dataspace);\n}\n</code></pre>\n\n<p>This works fine. From my understanding, this function (which I have no control over) requires dataspaces of the same dimensionality (e.g. a 3D array will only work with a 3D array while a 2D array will only work with a 2D array when copying over the data to the buffer).</p>\n\n<p>So, my key problem here is that I can't seem to figure out how to create a 3D int array that the read function is happy with (the function parameter is a void* but I can't seem to get anything other than a 3d int array to work). I've tried a 3D int array represented as an array of arrays of arrays using:</p>\n\n<pre><code>   int*** data_out = new int**[NX];\n</code></pre>\n\n<p>but this failed as well. Any ideas on how I can create a 3D int array of the form int arrayName[non-constant value][non-constant value][non-constant value]? I know you can't create an array using non-constant values, but I added them in an attempt to clarify my goal. Should there be a way in C++ to use function parameters as values for instantiating an array?</p>\n"}, {"tags": ["c++", "templates", "constructor", "c++14", "specialization"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1483566567, "post_id": 41473675, "comment_id": 70153439, "body": "A code sample would go much further in describing your problem. Are you looking for something like this - <a href=\"http://coliru.stacked-crooked.com/a/5d9ea40421963b70\" rel=\"nofollow noreferrer\">coliru.stacked-crooked.com/a/5d9ea40421963b70</a> ?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483581858, "post_id": 41473675, "comment_id": 70158438, "body": "I&#39;ll edit my answer with the example you&#39;ve supplied as soon as I get the opportunity."}], "answers": [{"comments": [{"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 2, "creation_date": 1483612284, "post_id": 41473950, "comment_id": 70170240, "body": "Hint: delegating constructors and tag dispatching. Or SFINAE, delayed to the constructor instantiation (using an additional dummy template parameter)."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 2, "creation_date": 1483631605, "post_id": 41473950, "comment_id": 70183920, "body": "@bogdan I&#39;ve done some research based on your hints and I&#39;ve come up with an example (very good hints!). I&#39;m not confident enough in my solution to post it as answer but I would still like to present it in the context of this question for some feedback. Could you take a quick look at what I have and give me some feed back? <a href=\"http://pastebin.com/34brLjeL\" rel=\"nofollow noreferrer\">pastebin</a>"}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1483639938, "post_id": 41473950, "comment_id": 70189546, "body": "@bogdan I had tried sfinae before I posted the question (<a href=\"http://pastebin.com/NrpHFeM7\" rel=\"nofollow noreferrer\">pastebin.com/NrpHFeM7</a>), but I get <code>template cannot be overloaded</code>."}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1483640382, "post_id": 41473950, "comment_id": 70189794, "body": "@Fran&#231;oisAndrieux I think you should add your example with delegate constructors to your answer, so that others can see it too, if the pastebin expires."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1483640467, "post_id": 41473950, "comment_id": 70189839, "body": "@SU3 I will definitively do that as soon as I get the opportunity."}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 1, "creation_date": 1483645404, "post_id": 41473950, "comment_id": 70192713, "body": "@SU3 Yes, because you&#39;re actually trying to redefine the same template. Default template arguments are not part of the template signature. You need to change something in the template parameters or function parameters (or function return type even) in order to actually declare different overloaded templates. For example: <a href=\"http://melpon.org/wandbox/permlink/kaCBcIbzAJU67X4t\" rel=\"nofollow noreferrer\">melpon.org/wandbox/permlink/kaCBcIbzAJU67X4t</a>"}, {"owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "reply_to_user": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "edited": false, "score": 0, "creation_date": 1483653325, "post_id": 41473950, "comment_id": 70196942, "body": "@bogdan Thanks for the explanation! Could you please also explain why this (<a href=\"http://pastebin.com/wBd1pz52\" rel=\"nofollow noreferrer\">pastebin.com/wBd1pz52</a>) works then?"}, {"owner": {"reputation": 8744, "user_id": 4326278, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FzH4Z.png?s=128&g=1", "display_name": "bogdan", "link": "https://stackoverflow.com/users/4326278/bogdan"}, "reply_to_user": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "edited": false, "score": 0, "creation_date": 1483666508, "post_id": 41473950, "comment_id": 70201303, "body": "@SU3 For the first initialization, both <code>foo(const std::vector&lt;int&gt;&amp;)</code> and <code>foo&lt;int, std::vector&lt;int&gt;, void&gt;(std::initializer_list&lt;int&gt;)</code> are viable; the second one is chosen because a list-initialization sequence that converts to <code>std::initializer_list&lt;X&gt;</code> is better than one that doesn&#39;t. For the second initialization, a specialization of the constructor template is not added to the overload set because it&#39;s disabled by SFINAE, so we&#39;re left with only one constructor (not a great choice because it creates a temporary <code>std::array</code> (to bind the reference) and then copies it into <code>container</code>)."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 4, "last_activity_date": 1483643003, "last_edit_date": 1483643003, "creation_date": 1483567235, "answer_id": 41473950, "question_id": 41473675, "link": "https://stackoverflow.com/questions/41473675/template-class-template-constructor-specialization/41473950#41473950", "title": "Template class template constructor specialization", "body": "<p>Your question is a little bit tricky to understand without an example. My understanding of it is that you want to specialize the constructor of a class template and construct it's member differently for different template arguments. If this isn't correct, let me know and I will adjust my answer.</p>\n\n<p>Again without an example it's hard to know what you do and do not understand. But generally this is done the same way as you would specialize other methods. Declare all the specializations in your headers and implement them in your implementation file (unless they are partial specializations!). Remember to use <code>template&lt;&gt;</code> when specializing. Here is an example :</p>\n\n<pre><code>struct t_param_for_int {};\nstruct t_param_for_double {};\n\n\n// t_member's constructor is very different depending on T\ntemplate&lt;class T&gt; struct t_member {};\n\ntemplate&lt;&gt; struct t_member&lt;int&gt; {\n    explicit t_member(const t_param_for_int value) {};\n};\n\ntemplate&lt;&gt; struct t_member&lt;double&gt; {\n    explicit t_member(const t_param_for_double value) {};\n};\n\n// Foo has a t_member and a constructor\ntemplate&lt;class T&gt;\nstruct foo\n{\n    foo();\n\n    t_member&lt;T&gt; member;\n};\n\n// Declare specialization\ntemplate&lt;&gt; foo&lt;int&gt;::foo();\ntemplate&lt;&gt; foo&lt;double&gt;::foo();\n\n// Specialization implementations (in a .cpp)\ntemplate&lt;&gt; foo&lt;int&gt;::foo() : member(t_param_for_int{})\n{ }\n\n// Specialization implementations (in a .cpp)\ntemplate&lt;&gt; foo&lt;double&gt;::foo() : member(t_param_for_double{})\n{ }\n\nint main()\n{\n    foo&lt;int&gt; int_foo;\n    foo&lt;double&gt; dbl_foo;\n    return 0;\n}\n</code></pre>\n\n<p>Edit: In response to the edit to the question.</p>\n\n<p>You cannot specialize a constructor in this case. The best solution is likely going to be to use a helper structs to do the actual initialization. You mentioned you want to initialize your containers with some number of 0 or default constructed elements <code>T</code>. However you didn't specify how large your containers should be. I've constructed an example to illustrate the solution of using helper structs using bogus container sizes.</p>\n\n<pre><code>#include &lt;array&gt;\n#include &lt;iostream&gt;\n#include &lt;type_traits&gt;\n#include &lt;string&gt;\n#include &lt;utility&gt;\n#include &lt;vector&gt;\n\ntemplate&lt;typename T, typename C&gt;\nstruct helper_init;\n\ntemplate&lt;typename T&gt;\nstruct helper_init&lt;T, std::vector&lt;T&gt;&gt; {\n    static std::vector&lt;T&gt; init() {\n        return std::vector&lt;T&gt;(3, T{});  // init your vector with 3 elements\n    }\n};\n\ntemplate&lt;typename T&gt;\nstruct helper_init&lt;T, std::array&lt;T, 2&gt;&gt; {\n    static std::array&lt;T, 2&gt; init() {\n        return {};  // init your array with 2 elements\n    }\n};\n\ntemplate &lt;typename T, typename C&gt;\nstruct foo {\n  T m;\n  C container;\n  using value_type = typename C::value_type;\n\n  template &lt;typename... Args&gt;\n  foo(Args&amp;&amp;... args)\n  : m(std::forward&lt;Args&gt;(args)...)\n  , container(helper_init&lt;T, C&gt;::init())\n  {}\n};\n\nint main()\n{\n    foo&lt;int, std::vector&lt;int&gt;&gt; vec_foo(5);\n    foo&lt;std::string, std::array&lt;std::string, 2&gt;&gt; str_foo(\"hello\");\n\n    // Output to illustrate\n\n    // The size of the containers are 3 and 2 (see container initialization)\n    std::cout &lt;&lt; vec_foo.container.size() &lt;&lt; ' ' \n        &lt;&lt; str_foo.container.size() &lt;&lt; std::endl;\n\n    // The m members contain the assigned values\n    std::cout &lt;&lt; vec_foo.m &lt;&lt; \" \\'\" &lt;&lt; str_foo.m &lt;&lt; '\\'' &lt;&lt; std::endl;\n\n    // The containers are zero or default initialized\n    std::cout &lt;&lt; vec_foo.container.front() &lt;&lt; \" \\'\" &lt;&lt; \n        str_foo.container.front() &lt;&lt; '\\'' &lt;&lt; std::endl;\n    return 0;\n}\n</code></pre>\n\n<p>For the second part of your question, initializing to 0 to arithmetic types and default constructing for class types, the language already has a feature for this.</p>\n\n<p><a href=\"http://en.cppreference.com/w/cpp/container/array\" rel=\"nofollow noreferrer\">std::array</a> specifically says this about it's construction.</p>\n\n<blockquote>\n  <p>initialized the array following the rules of <strong>aggregate initialization</strong></p>\n</blockquote>\n\n<p>Then <a href=\"http://en.cppreference.com/w/cpp/language/aggregate_initialization\" rel=\"nofollow noreferrer\">aggregate initialization</a> says this.</p>\n\n<blockquote>\n  <p>If the number of initializer clauses is less than the number of members <strong>or initializer list is completely empty</strong>, the remaining members are <strong>value-initialized</strong>. </p>\n</blockquote>\n\n<p>Finally <a href=\"http://en.cppreference.com/w/cpp/language/value_initialization\" rel=\"nofollow noreferrer\">value initialization</a> says this.</p>\n\n<blockquote>\n  <p>1) if T is a class type with at least one user-provided constructor of any kind, the default constructor is called;</p>\n  \n  <p>4) otherwise, the object is zero-initialized.</p>\n</blockquote>\n\n<p>This allow us to do this <code>std::array&lt;T, 10&gt; my_array{};</code> and have ten zeroed or default constructed <code>T</code>s. We can also do <code>std::vector&lt;T&gt; my_vector(10, T{});</code> to get the same results (<code>T{}</code> is value constructed`).</p>\n\n<p>Edit 2: Here is another solution that more adheres to the question's requirements using a [delegating constructor] and tag dispatching.</p>\n\n<pre><code>#include &lt;array&gt;\n#include &lt;string&gt;\n#include &lt;vector&gt;\n\n\n// Tags for supported containers\nstruct t_tag_array {};\nstruct t_tag_vector {};\n\n// Tag dispatching\ntemplate&lt;class T, size_t S&gt;\nstruct t_container_tag {};\n\ntemplate&lt;class T, size_t S&gt;\nstruct t_container_tag&lt;std::vector&lt;T&gt;, S&gt; {\n    using type = t_tag_vector;\n};\n\ntemplate&lt;class T, size_t S&gt;\nstruct t_container_tag&lt;std::array&lt;T, S&gt;, S&gt; {\n    using type = t_tag_array;\n};\n\n// Helper to fetch the size of an std::array\ntemplate&lt;typename&gt;\nstruct array_size;\n\ntemplate&lt;typename T, size_t S&gt;\nstruct array_size&lt;std::array&lt;T, S&gt;&gt; {\n    static const auto value = S;\n};\n\ntemplate &lt;typename C, size_t S = array_size&lt;C&gt;::value&gt;\nstruct foo \n{\n    using value_type = typename C::value_type;\n\n    // Constructor\n    template&lt;typename... Args&gt;\n    foo(Args&amp;&amp;... args) : foo(typename t_container_tag&lt;C, S&gt;::type{}, std::forward&lt;Args&gt;(args)...) {}\n\n    // Specialized constructor for vectors\n    template&lt;typename... Args&gt;\n    foo(t_tag_vector &amp;&amp;, Args&amp;&amp;... args) : m(std::forward&lt;Args&gt;(args)...), container(S, value_type{}) {}\n\n    // Specialized constructor for arrays\n    template&lt;typename... Args&gt;\n    foo(t_tag_array &amp;&amp;, Args&amp;&amp;... args) : m(std::forward&lt;Args&gt;(args)...), container{} {}\n\n    value_type m;\n    C container;\n};\n</code></pre>\n"}], "owner": {"reputation": 4305, "user_id": 2640636, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/NWXEh.jpg?s=128&g=1", "display_name": "SU3", "link": "https://stackoverflow.com/users/2640636/su3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2501, "favorite_count": 0, "accepted_answer_id": 41473950, "answer_count": 1, "score": 3, "last_activity_date": 1483643003, "creation_date": 1483566007, "last_edit_date": 1483567800, "question_id": 41473675, "link": "https://stackoverflow.com/questions/41473675/template-class-template-constructor-specialization", "title": "Template class template constructor specialization", "body": "<p>I have a template class with a member whose type depends on the class' template argument. The class has a template constructor. How do I specialize the constructor for different cases of the class' template argument that determines the type of the said member. The different types in question are classes with different constructor signatures, and I'd like to call the member's constructor in the initializer list. Is there a workaround? I would like to avoid resorting to factory functions, because I don't want to rely on the move constructor of the member being cheap.</p>\n\n<p><strong>Edit</strong>:\nHere's a code example,</p>\n\n<pre><code>template &lt;typename T, typename C&gt;\nstruct foo {\n  T m;\n  C container;\n  using value_type = typename C::value_type;\n\n  template &lt;typename... Args&gt;\n  foo(Args&amp;&amp;... args)\n  : m(std::forward&lt;Args&gt;(args)...), container(/*different stuff here*/)\n  {}\n};\n</code></pre>\n\n<p>My goal is to properly initialize the <code>container</code> regardless of whether <code>C</code> is a <code>std::vector</code> or <code>std::array</code>. If <code>std::is_arithmetic&lt;value_type&gt;::value==true</code>, I want to initialize the container with all zeros (this is where the issue with different constructor signatures comes in). If <code>std::is_arithmetic&lt;value_type&gt;::value==false</code>, I want to default initialize.</p>\n"}, {"tags": ["c++", "sockets", "asynchronous", "boost", "tcp"], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 2510141, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/073a353c1f6e69f1d79b4bfa20e4b24f?s=128&d=identicon&r=PG", "display_name": "user2510141", "link": "https://stackoverflow.com/users/2510141/user2510141"}, "edited": false, "score": 0, "creation_date": 1483641644, "post_id": 41488098, "comment_id": 70190479, "body": "Thanks for the detailed answer and the heads up on the &quot;single call at the time&quot;. For future reference this answer <a href=\"http://stackoverflow.com/a/1998127/2510141\">stackoverflow.com/a/1998127/2510141</a> also provides a bit of insight."}], "tags": [], "owner": {"reputation": 8073, "user_id": 2852624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/682806d261e4f00f77aa8633689a9558?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias247", "link": "https://stackoverflow.com/users/2852624/matthias247"}, "is_accepted": true, "score": 2, "last_activity_date": 1483628268, "creation_date": 1483628268, "answer_id": 41488098, "question_id": 41473627, "link": "https://stackoverflow.com/questions/41473627/what-happens-in-boostasio-when-tcp-tx-buffer-fills-up/41488098#41488098", "title": "What happens in boost::asio when TCP TX buffer fills up?", "body": "<p>asio doesn't buffer internally. And you will always get signaled if you can't transfer more data to the remote.</p>\n\n<p>E.g. if you use synchronous writes in asio they will block until the data could be sent (or at least be copied into the kernel send buffers). If you use async writes the callback/acknowledgement will only be called once it could be sent. If you use nonblocking writes you get EAGAIN/WOULD_BLOCK errors. If you use multiple async_write's in parallel - well - you shouldn't do that, it's behavior is undefined according to the asio docs: </p>\n\n<blockquote>\n  <p>This operation is implemented in terms of zero or more calls to the stream's async_write_some function, and is known as a composed operation. The program must ensure that the stream performs no other write operations (such as async_write, the stream's async_write_some function, or any other composed operations that perform writes) until this operation completes.</p>\n</blockquote>\n\n<p>Guarantee in your application that you always only perform a single async write operation and once that finishes write the next piece of data. If you need to write data in between you would need to buffer that inside your application.</p>\n"}], "owner": {"reputation": 335, "user_id": 2510141, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/073a353c1f6e69f1d79b4bfa20e4b24f?s=128&d=identicon&r=PG", "display_name": "user2510141", "link": "https://stackoverflow.com/users/2510141/user2510141"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 814, "favorite_count": 3, "accepted_answer_id": 41488098, "answer_count": 1, "score": 3, "last_activity_date": 1483628268, "creation_date": 1483565791, "question_id": 41473627, "link": "https://stackoverflow.com/questions/41473627/what-happens-in-boostasio-when-tcp-tx-buffer-fills-up", "title": "What happens in boost::asio when TCP TX buffer fills up?", "body": "<p>I'm trying to get to grips with boost asio but I'm having trouble understanding some of the behavior behind the asynchronous interface.</p>\n\n<p>I have a simple setup with a client and a server.</p>\n\n<ul>\n<li>The client calls async_write regularly with a fixed amount of data</li>\n<li>The server polls for data regularly</li>\n<li>What happens when the server stops polling for data ?</li>\n</ul>\n\n<p>I guess the various buffers would fill up in the server OS and it would stop sending ACKs ?</p>\n\n<p>Regardless of what happens it seems that the client can happily continue to send several gigabytes of data without receiving any error callback (doesn't receive any success either of course).</p>\n\n<p>I assume the client OS stops accepting packets at one point since they can't be TX'ed ?</p>\n\n<p>Does this means that boost::asio buffers data internally ?</p>\n\n<p>If it does, can I use socket.cancel() to drop packets in case I don't want to wait for delivery ? (I need to make sure ASIO forgets about my packets so I can reuse old buffers for new packets)</p>\n"}, {"tags": ["c++", "sockets", "boost", "socket.io", "cmake"], "comments": [{"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1483565595, "post_id": 41473458, "comment_id": 70152939, "body": "Looks like your boost installations is incomplete (<code>Could not find the following static Boost libraries:</code>)."}, {"owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "edited": false, "score": 0, "creation_date": 1483565810, "post_id": 41473458, "comment_id": 70153029, "body": "Make sure that you&#39;ve built Boost libraries statically (it can be disabled by default)."}], "answers": [{"comments": [{"owner": {"reputation": 940, "user_id": 2439750, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e9af54206662a497b6c47080d4b924b7?s=128&d=identicon&r=PG", "display_name": "Eugene Alexeev", "link": "https://stackoverflow.com/users/2439750/eugene-alexeev"}, "edited": false, "score": 0, "creation_date": 1483610166, "post_id": 41473730, "comment_id": 70168880, "body": "Hello, nightuser! Ok, I&#39;ll give it a shot and get back to you shortly. Thank you for advice!"}], "tags": [], "owner": {"reputation": 584, "user_id": 954532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63PFs.jpg?s=128&g=1", "display_name": "nightuser", "link": "https://stackoverflow.com/users/954532/nightuser"}, "is_accepted": false, "score": 1, "last_activity_date": 1483614360, "last_edit_date": 1483614360, "creation_date": 1483566218, "answer_id": 41473730, "question_id": 41473458, "link": "https://stackoverflow.com/questions/41473458/building-socket-io-c-with-boost-libraries/41473730#41473730", "title": "Building socket.io C++ with boost libraries", "body": "<p>I suppose, you haven't build static versions of Boost libraries.</p>\n\n<p>If you've built Boost using Boost.Build (<code>b2</code> program), then you should recompile it with <code>link=static,shared</code> (run <code>b2 link=static,shared &lt;other_flags&gt;</code>) flag set, so that both dynamic and static libraries will be built.</p>\n\n<p><strong>upd:</strong> Also, this project's readme says that you should run your CMake with <code>cmake -DBOOST_ROOT:STRING=/opt/local -DBOOST_VER:STRING=&lt;your boost version&gt; ./</code> with appropriate Boost version specified. </p>\n"}], "owner": {"reputation": 940, "user_id": 2439750, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/e9af54206662a497b6c47080d4b924b7?s=128&d=identicon&r=PG", "display_name": "Eugene Alexeev", "link": "https://stackoverflow.com/users/2439750/eugene-alexeev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483614360, "creation_date": 1483564984, "question_id": 41473458, "link": "https://stackoverflow.com/questions/41473458/building-socket-io-c-with-boost-libraries", "title": "Building socket.io C++ with boost libraries", "body": "<p>Guys, I'm facing a little problem here. Basically, I'm trying to build this wonderful library <a href=\"https://github.com/socketio/socket.io-client-cpp\" rel=\"nofollow noreferrer\">https://github.com/socketio/socket.io-client-cpp</a> with CMake.</p>\n\n<p>First of all, I installed boost as a required and it went to opt/local/include/boost and opt/local/lib. But the problem is that CMake couldn't find required boost libraries. After <code>Configure</code> CMake gave me that log:</p>\n\n<pre><code>not define build type, set to release\nCMake Error at /Applications/CMake.app/Contents/share/cmake-3.6/Modules/FindBoost.cmake:1753 (message):\n  Unable to find the requested Boost libraries.\n\n  Boost version: 1.59.0\n\n  Boost include path: /opt/local/include\n\n  Could not find the following static Boost libraries:\n\n          boost_date_time\n          boost_random\n\n  Some (but not all) of the required Boost libraries were found.  You may\n  need to install these additional Boost libraries.  Alternatively, set\n  BOOST_LIBRARYDIR to the directory containing Boost libraries or BOOST_ROOT\n  to the location of Boost.\nCall Stack (most recent call first):\n  CMakeLists.txt:23 (find_package)\n</code></pre>\n\n<p>Once I faced that problem, I tried to setup BOOST_LIBRARYDIR in hands, but that didn't work either. </p>\n\n<p>Here's CMake file which goes with library which I unsuccessfully tried to compile:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.1.0 FATAL_ERROR)\nPROJECT(sioclient)\n\noption(BUILD_SHARED_LIBS \"Build the shared library\" OFF)\noption(Boost_USE_STATIC_LIBS \"Use Boost static version\" ON)\n\nset(MAJOR 1)\nset(MINOR 6)\nset(PATCH 0)\n\nif(NOT CMAKE_BUILD_TYPE )\nMESSAGE(STATUS \"not define build type, set to release\" )\nset(CMAKE_BUILD_TYPE Release )\nelseif(NOT (${CMAKE_BUILD_TYPE} STREQUAL \"Release\" OR ${CMAKE_BUILD_TYPE} STREQUAL \"Debug\" ))\nMESSAGE(SEND_ERROR \"CMAKE_BUILD_TYPE must be either Release or Debug\")\nreturn()\nendif()\n\nset(BOOST_VER \"1.55.0\" CACHE STRING \"boost version\" )\n\nset(Boost_USE_MULTITHREADED ON) \nset(Boost_USE_STATIC_RUNTIME OFF)\nfind_package(Boost ${BOOST_VER} REQUIRED COMPONENTS system date_time random) \n\naux_source_directory(${CMAKE_CURRENT_LIST_DIR}/src ALL_SRC)\naux_source_directory(${CMAKE_CURRENT_LIST_DIR}/src/internal ALL_SRC)\nfile(GLOB ALL_HEADERS ${CMAKE_CURRENT_LIST_DIR}/src/*.h )\nset(SIO_INCLUDEDIR ${CMAKE_CURRENT_LIST_DIR})\n\nadd_library(sioclient ${ALL_SRC})\ntarget_include_directories(sioclient PRIVATE ${Boost_INCLUDE_DIRS} \n    ${CMAKE_CURRENT_LIST_DIR}/src \n    ${CMAKE_CURRENT_LIST_DIR}/lib/websocketpp \n    ${CMAKE_CURRENT_LIST_DIR}/lib/rapidjson/include\n)\n\nset_property(TARGET sioclient PROPERTY CXX_STANDARD 11)\nset_property(TARGET sioclient PROPERTY CXX_STANDARD_REQUIRED ON)\ntarget_link_libraries(sioclient PRIVATE ${Boost_LIBRARIES})\nif(BUILD_SHARED_LIBS)\nset_target_properties(sioclient\n    PROPERTIES\n        SOVERSION ${MAJOR}\n        VERSION ${MAJOR}.${MINOR}.${PATCH}\n    )\nendif()\nlist(APPEND TARGET_LIBRARIES sioclient)\n\nfind_package(OpenSSL)\nif(OPENSSL_FOUND)\nadd_library(sioclient_tls ${ALL_SRC})\ntarget_include_directories(sioclient_tls PRIVATE ${Boost_INCLUDE_DIRS} \n    ${CMAKE_CURRENT_LIST_DIR}/src \n    ${CMAKE_CURRENT_LIST_DIR}/lib/websocketpp \n    ${CMAKE_CURRENT_LIST_DIR}/lib/rapidjson/include\n    ${OPENSSL_INCLUDE_DIR}\n)\n\nset_property(TARGET sioclient_tls PROPERTY CXX_STANDARD 11)\nset_property(TARGET sioclient_tls PROPERTY CXX_STANDARD_REQUIRED ON)\ntarget_link_libraries(sioclient_tls PRIVATE ${Boost_LIBRARIES} ${OPENSSL_LIBRARIES} )\ntarget_compile_definitions(sioclient_tls PRIVATE -DSIO_TLS)\nif(BUILD_SHARED_LIBS)\nset_target_properties(sioclient_tls\n    PROPERTIES\n        SOVERSION ${MAJOR}\n        VERSION ${MAJOR}.${MINOR}.${PATCH}\n    )\nendif()\nlist(APPEND TARGET_LIBRARIES sioclient_tls)\n\nendif()\n\ninstall(FILES ${ALL_HEADERS} \n    DESTINATION \"${CMAKE_CURRENT_LIST_DIR}/build/include\"\n)\n\ninstall(TARGETS ${TARGET_LIBRARIES}\n    DESTINATION \"${CMAKE_CURRENT_LIST_DIR}/build/lib/${CMAKE_BUILD_TYPE}\"\n)\n\ninstall(FILES ${Boost_LIBRARIES} \n    DESTINATION \"${CMAKE_CURRENT_LIST_DIR}/build/lib/${CMAKE_BUILD_TYPE}\"\n)\n</code></pre>\n\n<p>I appreciate any help here, guys! And one observation: if I'm not wrong, it tries to find <code>boost_random</code> when in <code>include</code> folder it has the name <code>random</code>. Maybe that's the problem? </p>\n"}, {"tags": ["c++", "menu", "mfc", "sdi"], "answers": [{"tags": [], "owner": {"reputation": 435402, "user_id": 179910, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8962238339d771f0348967be6f97b1b?s=128&d=identicon&r=PG", "display_name": "Jerry Coffin", "link": "https://stackoverflow.com/users/179910/jerry-coffin"}, "is_accepted": false, "score": 1, "last_activity_date": 1483567363, "creation_date": 1483567363, "answer_id": 41473979, "question_id": 41473382, "link": "https://stackoverflow.com/questions/41473382/in-sdi-where-to-disable-menu-code-ok-in-mdi/41473979#41473979", "title": "In SDI: where to disable menu, code ok in MDI", "body": "<p>You don't want to directly enable/disable menu items under MFC, whether it's SDI or MDI.</p>\n\n<p>Instead, when you add the item to the menu, you add two event handlers for it. One will be for \"COMMAND\", the other for \"UPDATE_COMMAND_UI\".</p>\n\n<p><a href=\"https://i.stack.imgur.com/Wbmun.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wbmun.png\" alt=\"enter image description here\"></a></p>\n\n<p>the <code>COMMAND</code> handler actually carries out the command for that menu entry.</p>\n\n<p>The <code>UPDATE_COMMAND_UI</code> handler (indirectly) enables/disables the menu entry by returning true/false to indicate whether it should be enabled.</p>\n\n<p>As to why this is preferable: first and foremost, because you can have (for example) both a menu entry and a toolbar that invoke the same action. This automatically enables/disables both as appropriate.</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 2579846, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/42b07c575b55b029a20834a2c617e246?s=128&d=identicon&r=PG", "display_name": "opto", "link": "https://stackoverflow.com/users/2579846/opto"}, "edited": false, "score": 0, "creation_date": 1483606821, "post_id": 41474629, "comment_id": 70166811, "body": "I  think both answers apply to when I want to disable a subentry. If I want to disable files-&gt;New, then I use UPDATE_COMMAND_UI. But I want to disable the full files menu item. I think I got my solution from Paetzold&#39;s book. Only problem: if I do it in the wrong place, the menu may be reenabled later"}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1483570587, "creation_date": 1483570587, "answer_id": 41474629, "question_id": 41473382, "link": "https://stackoverflow.com/questions/41473382/in-sdi-where-to-disable-menu-code-ok-in-mdi/41474629#41474629", "title": "In SDI: where to disable menu, code ok in MDI", "body": "<p>you can do that by using class wizard to add function that handles Enabling/disabling menu items via UPDATE_COMMAND_UI:</p>\n\n<pre><code>void CMyAdoMfcView::OnUpdateAddnew(CCmdUI* pCmdUI) \n{\n    // TODO: Add your command update UI handler code here\n    pCmdUI-&gt;Enable(true);\n}\n</code></pre>\n\n<p>in my code I enabled the menu item <code>AddNew</code>.</p>\n"}], "owner": {"reputation": 57, "user_id": 2579846, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/42b07c575b55b029a20834a2c617e246?s=128&d=identicon&r=PG", "display_name": "opto", "link": "https://stackoverflow.com/users/2579846/opto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1483570587, "creation_date": 1483564622, "last_edit_date": 1483565989, "question_id": 41473382, "link": "https://stackoverflow.com/questions/41473382/in-sdi-where-to-disable-menu-code-ok-in-mdi", "title": "In SDI: where to disable menu, code ok in MDI", "body": "<p>I am trying to disable main menu items.\nin MDI application, this works:</p>\n\n<pre><code>CWnd *pW=AfxGetMainWnd();\nCMenu * pMenu=pW-&gt;GetMenu();\npMenu-&gt;EnableMenuItem(5, MF_BYPOSITION | MF_GRAYED | MF_DISABLED);  \n</code></pre>\n\n<p>Not in SDI. Most likely, I am putting it into the wrong place. CMainframe? The view? Which speific subroutine? I tried the constructors, but no change in UI.</p>\n\n<p>Any help is appreciated, I am banging my head and searched numerous web places (and here) but didn't find the right direction.</p>\n\n<p>many thanks</p>\n"}, {"tags": ["c++", "class"], "comments": [{"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483564923, "post_id": 41473361, "comment_id": 70152620, "body": "Returning a reference to a heap-allocated instance with no other ownership on it is sending shivers down my spine. Please don&#39;t do that."}, {"owner": {"reputation": 5589, "user_id": 1615183, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/7567bbb6b4a4a88001bcddefd5d27390?s=128&d=identicon&r=PG", "display_name": "Hola Soy Edu Feliz Navidad", "link": "https://stackoverflow.com/users/1615183/hola-soy-edu-feliz-navidad"}, "edited": false, "score": 0, "creation_date": 1483564988, "post_id": 41473361, "comment_id": 70152657, "body": "Add the <code>SetCoeff</code> code, it might be wrong."}, {"owner": {"reputation": 145, "user_id": 7076083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f2c666b942ffbbc0a50d633a47cccb?s=128&d=identicon&r=PG&f=1", "display_name": "AxiomaticApproach", "link": "https://stackoverflow.com/users/7076083/axiomaticapproach"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483565248, "post_id": 41473361, "comment_id": 70152786, "body": "@Frank .. Uh oh... Im sorry for that... I was afraid that someone would say that, because to be honest... I did not think it was a good idea either. Unfortunately, I was not quite sure how else I should do it, Can I just return the object itself, instead of the reference?"}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 1, "creation_date": 1483565383, "post_id": 41473361, "comment_id": 70152848, "body": "Yes, return an object (but don&#39;t <code>new</code> it, that is a recipe for trouble.)"}, {"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483565423, "post_id": 41473361, "comment_id": 70152859, "body": "@M3xr What you &quot;should&quot; do, ideally, is use <code>std::vector&lt;double&gt;</code> instead of <code>double*</code> for <code>coeff</code>, create <code>poly</code> on the stack instead of the heap, and return that. As a minimal change, you should just return a <code>Polynomial*</code> instead. If you return a Polynomial by value with the current implementation, you would need to add a copy constructor to your class."}, {"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "reply_to_user": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 0, "creation_date": 1483565652, "post_id": 41473361, "comment_id": 70152959, "body": "@juanchopanza His class (most likely) doesn&#39;t have a copy/move constructor and handles resources as raw pointers. That&#39;s a recipe for disaster."}, {"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483565725, "post_id": 41473361, "comment_id": 70152994, "body": "@Frank A good opportunity to learn to write unbroken classes."}, {"owner": {"reputation": 145, "user_id": 7076083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f2c666b942ffbbc0a50d633a47cccb?s=128&d=identicon&r=PG&f=1", "display_name": "AxiomaticApproach", "link": "https://stackoverflow.com/users/7076083/axiomaticapproach"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483565800, "post_id": 41473361, "comment_id": 70153024, "body": "@Frank actually, I did write a copy constructor (just for learning purposes. )Your approach did fix my problem, thank you very much for that. What just confused me is: I thought I had to &quot;new&quot; it into the heap, because I thought once I return the function, my object will otherwise get destroyed, even with a copy constructor in place."}, {"owner": {"reputation": 5092, "user_id": 5481471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf6efc50461d3521db348bf483652040?s=128&d=identicon&r=PG&f=1", "display_name": "G. Sliepen", "link": "https://stackoverflow.com/users/5481471/g-sliepen"}, "edited": false, "score": 0, "creation_date": 1483565829, "post_id": 41473361, "comment_id": 70153047, "body": "Remove the <code>if(n&gt;0)</code> from the destructor: you always allocate the array <code>coeff</code>, even if <code>n</code> is zero."}, {"owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "edited": false, "score": 0, "creation_date": 1483566082, "post_id": 41473361, "comment_id": 70153180, "body": "Hm - although I agree that the code lacks a copy constructor, I do not understand why the program aborts. <code>ScanPoly</code> allocates a new object on the heap, and this object isn&#39;t destroyed anywhere. So the default copy constructor should have - besides copying &#39;n&#39; by value - also having copied the pointer <code>coeff</code> by value, which then still points to a valid memory, right?"}], "owner": {"reputation": 145, "user_id": 7076083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38f2c666b942ffbbc0a50d633a47cccb?s=128&d=identicon&r=PG&f=1", "display_name": "AxiomaticApproach", "link": "https://stackoverflow.com/users/7076083/axiomaticapproach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483565017, "creation_date": 1483564525, "last_edit_date": 1483565017, "question_id": 41473361, "link": "https://stackoverflow.com/questions/41473361/getting-aborted-error-when-scanning-a-polynomial-structure", "title": "Getting aborted error when scanning a polynomial structure", "body": "<p>I wrote a little class for polynomials, which saves a degree n, and a vector corresponding to the coefficients of my polynomial. I also wrote a function to get an input from the user, so that the program creates a polynomial with the degree you put in and the corresponding coefficients. Here is the simple class:</p>\n\n<pre><code>class Polynomial {\n    int n;\n    double* coeff;\n</code></pre>\n\n<p>and my constructor/destructor and the scan function:</p>\n\n<pre><code>Polynomial::Polynomial(int n)\n{\n    assert(n &gt;= 0);\n    this-&gt;n = n;\n    coeff = new double[(n + 1)];\n}\n\nvoid Polynomial::SetCoeff(int n, double x)\n{\n    coeff[n] = x;\n}\n\n\n\nPolynomial::~Polynomial()\n{\n    if(n&gt;0) delete[] coeff;\n}\n\n\nPolynomial&amp; ScanPoly()\n{\n    int n = 0;\n    cout &lt;&lt; \"n= \";\n    cin &gt;&gt; n;\n    double x = 0;\n\n    Polynomial* poly = new Polynomial(n);\n\n    for (int i = n; i &gt;= 0; i--)\n    {\n        cout &lt;&lt; \"a_\" &lt;&lt; i &lt;&lt; \"= \";\n        cin &gt;&gt; x;\n        (*poly).SetCoeff(i, x); //Error occurs here\n    }\n    return (*poly);\n}\n</code></pre>\n\n<p>When I call the ScanPoly() function, I get an \"Aborted\" error at the end of the for loop, when i reaches its lowest value. I tried changing the range of i, making it stop at 1, but this did not help. At first, I thought that my vector is not large enough, but that does not seem to be the problem. Any help would be greatly appreciated!</p>\n"}, {"tags": ["c++", "bit-manipulation", "bitwise-operators"], "comments": [{"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 0, "creation_date": 1483564811, "post_id": 41473351, "comment_id": 70152559, "body": "What is <code>int i{}</code> supposed to mean? Or <code>int x{}</code> for that matter? An empty initializer list for an ordinal, vs <code>=0</code>, which is the default for that datatype, anyway?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1483564902, "post_id": 41473351, "comment_id": 70152607, "body": "Left shift of signed variables is undefined if it overflows."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 4, "creation_date": 1483564905, "post_id": 41473351, "comment_id": 70152608, "body": "@DavidLively <code>int i{}</code> means value initialization. For a POD integer this means it will be initialized to 0."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483564955, "post_id": 41473351, "comment_id": 70152640, "body": "@Barmar Good point. But does it overflow in this case?"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 0, "creation_date": 1483564957, "post_id": 41473351, "comment_id": 70152642, "body": "<code>int</code>s are default-initialized to 0, and in 30 years of development this is the only time I&#39;ve seen anyone use a <code>{}</code> on an ordinal type. Also, <code>{}</code> basically means &quot;default initializer&quot; MOST of the time, so it&#39;s useless. Thus concludes my rant."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 0, "creation_date": 1483565052, "post_id": 41473351, "comment_id": 70152691, "body": "@DavidLively - You&#39;d prefer <code>int i = 0</code>?"}, {"owner": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483565088, "post_id": 41473351, "comment_id": 70152714, "body": "@Rob\u1d69 I&#39;d prefer it just be left off, but <code>int i = 0</code> is a lot more readable. But, I didn&#39;t mean to start an argument in the comments. Cheers."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 0, "creation_date": 1483565496, "post_id": 41473351, "comment_id": 70152884, "body": "@DavidLively the empty braces are <a href=\"http://en.cppreference.com/w/cpp/language/value_initialization\" rel=\"nofollow noreferrer\">not an initializer list in this case</a>. Only if the type has no default constructor but has a constructor taking std::initializer_list will it perform list initialization. I truly want to avoid obfuscated code. For me this style has developed from consistent use of brace initialization wherever possible. Declared variables without an initializer become easier to see."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483565728, "post_id": 41473351, "comment_id": 70152996, "body": "@Rob\u1d69 Which answer are you referring to? I see <b>Otherwise, if E1 has a signed type and non-negative value, and E1&#215;2E^2 is representable in the result type, then that is the resulting value; otherwise, the behavior is undefined.</b> This question is creating a negative value when it does <code>~x</code>, then it shifts it. Shifting a negative is undefined."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483565732, "post_id": 41473351, "comment_id": 70152997, "body": "@Muscampester - yes, it overflows in the first iteration. <code>x = ~0; x&lt;&lt;=1;</code> overflows."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483565829, "post_id": 41473351, "comment_id": 70153048, "body": "Related: <a href=\"http://stackoverflow.com/questions/11644362/are-the-results-of-bitwise-operations-on-signed-integers-defined\" title=\"are the results of bitwise operations on signed integers defined\">stackoverflow.com/questions/11644362/&hellip;</a>"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483565897, "post_id": 41473351, "comment_id": 70153085, "body": "@Barmar - I misread that answer."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1483565955, "post_id": 41473351, "comment_id": 70153116, "body": "@Barmar Undefined behavior it is then. Thanks for the answer."}, {"owner": {"reputation": 792, "user_id": 2780612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yCzhW.jpg?s=128&g=1", "display_name": "nikau6", "link": "https://stackoverflow.com/users/2780612/nikau6"}, "reply_to_user": {"reputation": 26838, "user_id": 135769, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Pghgx.jpg?s=128&g=1", "display_name": "3Dave", "link": "https://stackoverflow.com/users/135769/3dave"}, "edited": false, "score": 0, "creation_date": 1483567879, "post_id": 41473351, "comment_id": 70154090, "body": "@David Lively <code>int i{}</code> is the sort of new stupidities that arrived with c++11, making the language ever more of a mess than it was already."}], "answers": [{"comments": [{"owner": {"reputation": 1791, "user_id": 794606, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9a1d5c337bdddae373bbdcb92fdb7077?s=128&d=identicon&r=PG", "display_name": "Jacek Cz", "link": "https://stackoverflow.com/users/794606/jacek-cz"}, "edited": false, "score": 1, "creation_date": 1483567050, "post_id": 41473781, "comment_id": 70153675, "body": "test on one/some/most platform cannot be evidence for ALL platforms"}, {"owner": {"reputation": 1791, "user_id": 794606, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9a1d5c337bdddae373bbdcb92fdb7077?s=128&d=identicon&r=PG", "display_name": "Jacek Cz", "link": "https://stackoverflow.com/users/794606/jacek-cz"}, "edited": false, "score": 0, "creation_date": 1483567181, "post_id": 41473781, "comment_id": 70153733, "body": "to be true, real modern platforms usually are more common in arithmetic than ancient. I can conditionally agree with practice assumptions on 99% today architectures. But aren&#39;t portable in general."}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 1791, "user_id": 794606, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9a1d5c337bdddae373bbdcb92fdb7077?s=128&d=identicon&r=PG", "display_name": "Jacek Cz", "link": "https://stackoverflow.com/users/794606/jacek-cz"}, "edited": false, "score": 0, "creation_date": 1483567182, "post_id": 41473781, "comment_id": 70153736, "body": "@JacekCz Good point. Only if the platforms are c++ standards compliant."}, {"owner": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 1, "creation_date": 1483567472, "post_id": 41473781, "comment_id": 70153893, "body": "Your &quot;produces&quot; would be different on non 2&#39;s complement"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 129565, "user_id": 1505939, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/131c67ef492a8d8352c6cf642a52e20f?s=128&d=identicon&r=PG", "display_name": "M.M", "link": "https://stackoverflow.com/users/1505939/m-m"}, "edited": false, "score": 0, "creation_date": 1483567633, "post_id": 41473781, "comment_id": 70153969, "body": "@M.M Hmm. Didn&#39;t consider that. So it would still converge, but just to a different value?"}, {"owner": {"reputation": 1113, "user_id": 4092381, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-iUd348W6B_A/AAAAAAAAAAI/AAAAAAAAAjs/0d8MLWyOoFo/photo.jpg?sz=128", "display_name": "Jordan Melo", "link": "https://stackoverflow.com/users/4092381/jordan-melo"}, "edited": false, "score": 1, "creation_date": 1483567864, "post_id": 41473781, "comment_id": 70154085, "body": "I think you meant &quot;If the variable had been an unsigned integer&quot;"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "reply_to_user": {"reputation": 1113, "user_id": 4092381, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh4.googleusercontent.com/-iUd348W6B_A/AAAAAAAAAAI/AAAAAAAAAjs/0d8MLWyOoFo/photo.jpg?sz=128", "display_name": "Jordan Melo", "link": "https://stackoverflow.com/users/4092381/jordan-melo"}, "edited": false, "score": 0, "creation_date": 1483568162, "post_id": 41473781, "comment_id": 70154206, "body": "@JordanMelo :) Yes that&#39;s what I meant."}], "tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 0, "last_activity_date": 1483568141, "last_edit_date": 1495535437, "creation_date": 1483566457, "answer_id": 41473781, "question_id": 41473351, "link": "https://stackoverflow.com/questions/41473351/will-repeated-and-operations-converge-to-a-negative-value-on-all-platforms/41473781#41473781", "title": "Will repeated ~ and &lt;&lt; operations converge to a negative value on all platforms?", "body": "<blockquote>\n  <p>My assessment is that it will because the left shift is not\n  implementation defined.</p>\n</blockquote>\n\n<p>The above statement is wrong. Left shift of a negative value is <a href=\"https://stackoverflow.com/a/3785121/1460794\">undefined behavior</a> and the value is negative as soon as the bits of the initial zero value are inverted.</p>\n\n<hr>\n\n<p>If the variable had been an unsigned integer then it would be fair to say that it will converge to a positive value on all compliant platforms (if enough of the bits are shifted):</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;limits&gt;\n\nint main()\n{\n    unsigned short x{};\n    for(int i{}; i &lt; CHAR_BIT*sizeof(unsigned short); ++i) {\n        x = ~x;\n        x &lt;&lt;= 1;\n        std::cout &lt;&lt; x &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>Produces (on a 2's complement system):</p>\n\n<pre><code>65534\n2\n65530\n10\n65514\n42\n65450\n170\n65194\n682\n64170\n2730\n60074\n10922\n43690\n43690\n</code></pre>\n"}], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1483568141, "creation_date": 1483564487, "question_id": 41473351, "link": "https://stackoverflow.com/questions/41473351/will-repeated-and-operations-converge-to-a-negative-value-on-all-platforms", "title": "Will repeated ~ and &lt;&lt; operations converge to a negative value on all platforms?", "body": "<p>In the following program, will repeated ~ and &lt;&lt; operations converge to a negative value on all platforms?</p>\n\n<pre><code>#include &lt;iostream&gt;\n\nint main()\n{\n    int x{};\n    for(int i{}; i &lt; 32; ++i) {\n        x = ~x;\n        x &lt;&lt;= 1;\n        std::cout &lt;&lt; x &lt;&lt; '\\n';\n    }\n}\n</code></pre>\n\n<p>My assessment is that it will because the left shift is not implementation defined. Would it be true to say that the only time it will not converge is if <code>int</code> is larger than 32 bits?</p>\n"}, {"tags": ["c++", "function", "class", "pointers"], "comments": [{"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 1, "creation_date": 1483564488, "post_id": 41473310, "comment_id": 70152400, "body": "<code>m_pRenderer-&gt;setPixel(m_PositionX, m_PositionY, ball);</code>"}, {"owner": {"reputation": 9, "user_id": 7376247, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PtlG3_q5M4o/AAAAAAAAAAI/AAAAAAAAADU/t0NQa545Zbw/photo.jpg?sz=128", "display_name": "ShadowPrice57", "link": "https://stackoverflow.com/users/7376247/shadowprice57"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1483564715, "post_id": 41473310, "comment_id": 70152511, "body": "When I enter that, I get an error under the m_pRenderer, the exact error message is: expression must have pointer type."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 2, "creation_date": 1483564917, "post_id": 41473310, "comment_id": 70152616, "body": "Then you didn&#39;t follow the first instruction which said you should create a <i>pointer</i> called <code>m_pRenderer</code>."}, {"owner": {"reputation": 9, "user_id": 7376247, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PtlG3_q5M4o/AAAAAAAAAAI/AAAAAAAAADU/t0NQa545Zbw/photo.jpg?sz=128", "display_name": "ShadowPrice57", "link": "https://stackoverflow.com/users/7376247/shadowprice57"}, "reply_to_user": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 0, "creation_date": 1483565339, "post_id": 41473310, "comment_id": 70152832, "body": "That&#39;s the thing though, I DO have a pointer with that name."}, {"owner": {"reputation": 165665, "user_id": 721269, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/346ca03edfbde2a468adc289867ab975?s=128&d=identicon&r=PG", "display_name": "David Schwartz", "link": "https://stackoverflow.com/users/721269/david-schwartz"}, "edited": false, "score": 3, "creation_date": 1483567729, "post_id": 41473310, "comment_id": 70154011, "body": "Well, I can&#39;t debug code I can&#39;t see. But clearly you got something wrong with the first step."}, {"owner": {"reputation": 333, "user_id": 6168549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04203874c94da7b9bcd58f6096ae8375?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6168549/carlos"}, "edited": false, "score": 0, "creation_date": 1483641443, "post_id": 41473310, "comment_id": 70190377, "body": "Please show some code as David Schwartz mentioned above so we can verify."}], "answers": [{"tags": [], "owner": {"reputation": 333, "user_id": 6168549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04203874c94da7b9bcd58f6096ae8375?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos", "link": "https://stackoverflow.com/users/6168549/carlos"}, "is_accepted": false, "score": 1, "last_activity_date": 1483564801, "creation_date": 1483564801, "answer_id": 41473424, "question_id": 41473310, "link": "https://stackoverflow.com/questions/41473310/how-do-i-call-a-function-in-one-class-from-another-class-c/41473424#41473424", "title": "How do I call a function in one class from another class? (C++)", "body": "<p>Based on the details you provided this is what I gathered.  Assuming the BouncingBall class would get the X and Y pos and call the function foo with\nthe X and Y values to have the Renderer set.  Also, I don't know how you will\ninitialize the pointer as it's not detailed above.  Hope this helps.</p>\n\n<pre><code>class BouncingBall\n{\n     public:\n         void foo( int posX, int posY)\n         {\n             m_pRenderer-&gt;setPixel( posX, posY);\n         }\n     private:\n        ASCIIRenderer* m_pRenderer;\n\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 889, "user_id": 5127698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf5f9fa2e9d5310e3cae38a4ef3552b4?s=128&d=identicon&r=PG&f=1", "display_name": "JonatanE", "link": "https://stackoverflow.com/users/5127698/jonatane"}, "is_accepted": false, "score": 0, "last_activity_date": 1483565366, "creation_date": 1483565366, "answer_id": 41473532, "question_id": 41473310, "link": "https://stackoverflow.com/questions/41473310/how-do-i-call-a-function-in-one-class-from-another-class-c/41473532#41473532", "title": "How do I call a function in one class from another class? (C++)", "body": "<p>The code I have included below shows an example of a class, in this case <code>Ball</code>, having a pointer to another class, in this case <code>Renderer</code>, injected and stored for later use.</p>\n\n<p>The <code>Ball</code> class can then call public functions on the <code>Renderer</code> class using the 'arrow' syntax <code>pointer-&gt;MemberFunction(arg1, arg2);</code></p>\n\n<pre><code>#include &lt;iostream&gt;\n\nclass Renderer\n{\npublic:\n    /* Constructor and other functions omitted */\n    void SetPixel(const int x, const int y) const;\n};\n\nvoid Renderer::SetPixel(const int x, const int y) const\n{\n    std::cout &lt;&lt; \"Set pixel: (\" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \")\" &lt;&lt; std::endl;\n}\n\nclass Ball\n{\npublic:\n    Ball(const Renderer *const renderer, const int posX, const int posY);\n    void Render() const;\nprivate:\n    const Renderer* _renderer;\n    int _posX;\n    int _posY;\n};\n\nBall::Ball(const Renderer *const renderer, const int posX, const int posY)\n    : _renderer(renderer), _posX(posX), _posY(posY)\n{}\n\nvoid Ball::Render() const\n{\n    _renderer-&gt;SetPixel(_posX, _posY);\n}\n\nint main()\n{\n    const Renderer renderer;\n    const Ball ball(&amp;renderer, 10, 20);\n\n    ball.Render();\n\n    return 0;\n}\n</code></pre>\n\n<p>The output of the program is: <code>Set pixel: (10, 20)</code></p>\n"}], "owner": {"reputation": 9, "user_id": 7376247, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-PtlG3_q5M4o/AAAAAAAAAAI/AAAAAAAAADU/t0NQa545Zbw/photo.jpg?sz=128", "display_name": "ShadowPrice57", "link": "https://stackoverflow.com/users/7376247/shadowprice57"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 859, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1483565947, "creation_date": 1483564293, "last_edit_date": 1483565947, "question_id": 41473310, "link": "https://stackoverflow.com/questions/41473310/how-do-i-call-a-function-in-one-class-from-another-class-c", "title": "How do I call a function in one class from another class? (C++)", "body": "<p>I'll start out with some context.</p>\n\n<p>Making a simple game.</p>\n\n<p>I have two classes, one called BouncingBall, and the other called ASCIIRenderer.\nI have a list of instructions to follow, but some of the instructions aren't entirely clear.</p>\n\n<p>First instruction was to create a pointer in BouncingBall called m_pRenderer, and have it point to a member variable in ASCIIRenderer. It wasn't specified which member variable I had to point to, and both existing member variables in there were private, so I made my own and called it Renderer.</p>\n\n<p>Second instruction <strong>(the one I need help with)</strong> is when I'm writing a function for the BouncingBall class to call SetPixel using the m_pRenderer, and with three variables as parameters.</p>\n\n<p>SetPixel is the name of a public function in the ASCIIRenderer class, and the instruction states I have to call it by using the pointer somehow.</p>\n\n<p>Summary: I need to call a class' function from within the function of a separate class using a pointer.</p>\n\n<p>Could someone explain to me what syntax I would use to accomplish this?</p>\n"}, {"tags": ["c++", "qt", "qml"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 1, "creation_date": 1483564055, "post_id": 41473160, "comment_id": 70152196, "body": "check this: <a href=\"http://doc.qt.io/qt-5/qtwidgets-itemviews-puzzle-example.html\" rel=\"nofollow noreferrer\">doc.qt.io/qt-5/qtwidgets-itemviews-puzzle-example.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7376237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5047d3940f60bf9c5d2eec93fcdeb11?s=128&d=identicon&r=PG&f=1", "display_name": "LrDis", "link": "https://stackoverflow.com/users/7376237/lrdis"}, "edited": false, "score": 0, "creation_date": 1483612514, "post_id": 41479983, "comment_id": 70170400, "body": "Thank you! This is exactly what I needed."}], "tags": [], "owner": {"reputation": 10381, "user_id": 2981610, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/BYsd3.jpg?s=128&g=1", "display_name": "folibis", "link": "https://stackoverflow.com/users/2981610/folibis"}, "is_accepted": true, "score": 2, "last_activity_date": 1483627348, "last_edit_date": 1483627348, "creation_date": 1483603447, "answer_id": 41479983, "question_id": 41473160, "link": "https://stackoverflow.com/questions/41473160/split-image-into-cells-qml-qt/41479983#41479983", "title": "Split image into cells QML/QT", "body": "<p>Also you can load an image into Image item with offset. Since once loaded image is cached there will be no additional overhead.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Window {\n    visible: true\n    width: 600\n    height: 600\n\n    Component {\n        id: imgComponent\n        Item {\n            property int row: index / 3\n            property int col: index % 3\n            x: col * (200)\n            y: row * (200)\n            width: 200\n            height: 200\n            clip: true\n            Image {\n                x: col * (-200)\n                y: row * (-200)\n                width: 600\n                height: 600\n                fillMode: Image.Pad\n                source: \"http://images.all-free-download.com/images/graphiclarge/green_homes_polar_coordinates_02_hd_picture_165795.jpg\"\n                Component.onCompleted: console.log(row, col);\n            }\n            MouseArea {\n                anchors.fill: parent\n                drag.target: parent\n            }\n        }\n    }\n\n    Repeater {\n        model: 9\n        delegate: imgComponent\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7376237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5047d3940f60bf9c5d2eec93fcdeb11?s=128&d=identicon&r=PG&f=1", "display_name": "LrDis", "link": "https://stackoverflow.com/users/7376237/lrdis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 1, "accepted_answer_id": 41479983, "answer_count": 1, "score": 1, "last_activity_date": 1483627348, "creation_date": 1483563662, "question_id": 41473160, "link": "https://stackoverflow.com/questions/41473160/split-image-into-cells-qml-qt", "title": "Split image into cells QML/QT", "body": "<p>I was wondering if there was a way to split image into cells (i.e 4*4 grid) in QML or C++? So say I load an image in a window/rectangle and want to split it in a grid, to be later able to manipulate each cell separately.\nThanks in advance. </p>\n"}, {"tags": ["c++", "tree", "huffman-code"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483564164, "post_id": 41473005, "comment_id": 70152242, "body": "Off topic: It looks like you are misusing <code>std::shared_ptr</code>. Recommend a a read of <a href=\"http://stackoverflow.com/questions/8706192/which-kind-of-pointer-do-i-use-when\">Which kind of pointer do I use when?</a>"}, {"owner": {"reputation": 3, "user_id": 7355587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3555283539e3d999403108220f8a6426?s=128&d=identicon&r=PG&f=1", "display_name": "ArekJastrzebski", "link": "https://stackoverflow.com/users/7355587/arekjastrzebski"}, "reply_to_user": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483565143, "post_id": 41473005, "comment_id": 70152736, "body": "I can&#39;t use Unique_ptr becouse of operation u don&#39;t see in my post."}], "answers": [{"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": true, "score": 0, "last_activity_date": 1483568904, "creation_date": 1483568904, "answer_id": 41474287, "question_id": 41473005, "link": "https://stackoverflow.com/questions/41473005/huffman-coding-creating-tree-c/41474287#41474287", "title": "Huffman Coding Creating Tree C++", "body": "<p>I'd drop this as a comment because OP's question is missing too much information for a proper answer, but it's too complex for a comment. Note the code is totally untested because too many assumptions would be required.</p>\n\n<p>OP has greatly over-complicated. All that is needed is something along the lines of</p>\n\n<pre><code>std::shared_ptr&lt;Leaf&gt; HUFFMAN::TreeGenerating()\n{\n    if (!prioriQueue.empty())\n    {\n        while (prioriQueue.size() &gt; 1)\n        {\n            std::shared_ptr&lt;Leaf&gt; node = std::make_shared&lt;Leaf&gt;(getElement(), \n                                                                getElement());\n            InsertIntoQueue(node);\n        }\n        return (getElement());\n    }\n    else\n    {\n        // handle the empty case\n    }\n}\n</code></pre>\n\n<p>with the <code>Leaf</code> constructor something along the lines of:</p>\n\n<pre><code>Leaf::Leaf(std::shared_ptr&lt;Leaf&gt; right, \n           std::shared_ptr&lt;Leaf&gt; left)\n{\n    rightChild = right;\n    leftChild = left;\n    freq = right-&gt;freq + left-&gt;freq\n}\n</code></pre>\n\n<p>or using a <a href=\"http://en.cppreference.com/w/cpp/language/initializer_list\" rel=\"nofollow noreferrer\">Member Initializer List</a></p>\n\n<pre><code>Leaf::Leaf(std::shared_ptr&lt;Leaf&gt; right, \n           std::shared_ptr&lt;Leaf&gt; left):\n    rightChild(right),\n    leftChild(left),\n    freq(right-&gt;freq + left-&gt;freq)\n{\n}\n</code></pre>\n\n<p>I also strongly recommend reconsidering this abuse of <code>std::shared_ptr</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 7355587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3555283539e3d999403108220f8a6426?s=128&d=identicon&r=PG&f=1", "display_name": "ArekJastrzebski", "link": "https://stackoverflow.com/users/7355587/arekjastrzebski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 41474287, "answer_count": 1, "score": -1, "last_activity_date": 1483568904, "creation_date": 1483563056, "question_id": 41473005, "link": "https://stackoverflow.com/questions/41473005/huffman-coding-creating-tree-c", "title": "Huffman Coding Creating Tree C++", "body": "<p>The code is a part of bigger solution.\nWhen I have only one element in prioriQueue, lastLeft and lastRight are nullptr. \nAny idea how to change this algorithm to work corectly with only one element, or some tips how to write it better?\nProblem is in line with comment \"HERE IS A PROBLEM\".</p>\n\n<pre><code> std::shared_ptr&lt;Leaf&gt; HUFFMAN::TreeGenerating()\n    {\n        std::shared_ptr&lt;Leaf&gt; lastLeft = nullptr; // addr of last left child\n        std::shared_ptr&lt;Leaf&gt; lastRight = nullptr; // addr of last right child\n\n        while (!prioriQueue.empty())\n        {\n            std::shared_ptr&lt;Leaf&gt; rightChild = std::make_shared&lt;Leaf&gt;();\n            std::shared_ptr&lt;Leaf&gt; leftChild = std::make_shared&lt;Leaf&gt;();\n            std::shared_ptr&lt;Leaf&gt; nRoot = std::make_shared&lt;Leaf&gt;();\n\n            if (prioriQueue.size() == 1) // getting last element from prioriQueue, this if end algorithm\n            {\n                *nRoot = getElement();\n                nRoot-&gt;setLeftChild(lastLeft);\n                nRoot-&gt;setRightChild(lastRight);\n\n                nRoot-&gt;setFreq(lastLeft-&gt;getFreq() + lastRight-&gt;getFreq()); // HERE IS A PROBLEM !!\n                nRoot-&gt;setValue(0);\n                return nRoot;\n            }\n            else \n            {\n                *leftChild = getElement();\n                *rightChild = getElement();\n\n                nRoot-&gt;setLeftChild(leftChild);\n                nRoot-&gt;setRightChild(rightChild);\n                nRoot-&gt;setFreq(leftChild-&gt;getFreq() + rightChild-&gt;getFreq());\n                nRoot-&gt;setValue(0);\n\n                lastLeft = leftChild;\n                lastRight = rightChild;\n\n                InsertIntoQueue(*nRoot);\n            }\n        }\n\n}\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "edited": false, "score": 0, "creation_date": 1483563144, "post_id": 41472811, "comment_id": 70151759, "body": "You missing the function signature which looks something like <code>double determinant(int n, double mat[10][10])</code>"}, {"owner": {"reputation": 1382, "user_id": 4855159, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/Qs0Mv.jpg?s=128&g=1", "display_name": "Mara Black", "link": "https://stackoverflow.com/users/4855159/mara-black"}, "edited": false, "score": 0, "creation_date": 1483563405, "post_id": 41472811, "comment_id": 70151891, "body": "Here is an example of <a href=\"http://www.geeksforgeeks.org/determinant-of-a-matrix/\" rel=\"nofollow noreferrer\">Determinant of a Matrix</a> explained pretty nice.  submat is a temporary matrix with row as subi and column as subj."}], "answers": [{"tags": [], "owner": {"reputation": 328, "user_id": 5310949, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/db24109eda7d3c2acc82704aac7a741f?s=128&d=identicon&r=PG&f=1", "display_name": "Chen Chen", "link": "https://stackoverflow.com/users/5310949/chen-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1483563871, "last_edit_date": 1483563871, "creation_date": 1483563372, "answer_id": 41473089, "question_id": 41472811, "link": "https://stackoverflow.com/questions/41472811/calculating-the-determinant-of-a-matrix/41473089#41473089", "title": "Calculating the determinant of a matrix", "body": "<p>This is a recursive function using <a href=\"https://en.wikipedia.org/wiki/Laplace_expansion\" rel=\"nofollow noreferrer\">Laplace expansion</a> to calculate the determinant whose base case is a 2 by 2 matrix. </p>\n\n<p>However, it does not seem to be a good program to me for:</p>\n\n<ol>\n<li><p>what if the input is a 1 by 1 matrix</p></li>\n<li><p>submat is limited by size of 10 by 10</p></li>\n<li><p>submat is a waste of memory</p></li>\n<li><p>When matrix is large, it is better to use <a href=\"https://en.wikipedia.org/wiki/LU_decomposition\" rel=\"nofollow noreferrer\">LU decomposition</a>.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 26087, "user_id": 1312406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5418f577abfa7c529dd026723462b440?s=128&d=identicon&r=PG", "display_name": "Paul Evans", "link": "https://stackoverflow.com/users/1312406/paul-evans"}, "is_accepted": false, "score": 0, "last_activity_date": 1483563391, "creation_date": 1483563391, "answer_id": 41473092, "question_id": 41472811, "link": "https://stackoverflow.com/questions/41472811/calculating-the-determinant-of-a-matrix/41473092#41473092", "title": "Calculating the determinant of a matrix", "body": "<p>The function, which looks like:</p>\n\n<pre><code>double determinant(int n, double mat[10][10]);\n</code></pre>\n\n<p>recursively goes through rows and calls itself on the submatrices for that row and the first column return a value for all  by  matrices.  The recursion ends for 2 by 2 matrices.</p>\n"}], "owner": {"reputation": 1, "user_id": 7182957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aa97c1aa4f9406b429a641054716e66?s=128&d=identicon&r=PG&f=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7182957/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 199, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1483564576, "creation_date": 1483562273, "last_edit_date": 1483564576, "question_id": 41472811, "link": "https://stackoverflow.com/questions/41472811/calculating-the-determinant-of-a-matrix", "title": "Calculating the determinant of a matrix", "body": "<p>I am trying to calculate the determinant of a square matrix using row operations.\nI ran into this code but I do not really understand how it works.</p>\n\n<p>What do <code>subi</code> and <code>subj</code> do? Does it use row operations?</p>\n\n<p>What is the logic behind this code?</p>\n\n<pre><code>int c, subi, i, j, subj;\n\ndouble submat[10][10],d=0;\n\nif (n == 2) {\n    return((mat[0][0] * mat[1][1]) - (mat[1][0] * mat[0][1]));\n}\nelse {\n    for (c = 0; c &lt; n; c++) {\n        subi = 0;\n        for (int i = 1; i &lt; n; i++) {\n            subj = 0;\n            for (j = 0; j &lt; n; j++) {\n                if (j == c)\n                    continue;\n                submat[subi][subj] = mat[i][j];\n                subj++;\n            }\n            subi++;\n        }\n        d = d + (pow(-1, c)*mat[0][c] * determinant(n - 1, submat));\n    }\n}\nreturn d;\n</code></pre>\n"}, {"tags": ["c#", "c++", "nlog"], "answers": [{"comments": [{"owner": {"reputation": 2474, "user_id": 2212458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9e76219cee455d802cf12fb56f9600dd?s=128&d=identicon&r=PG", "display_name": "denver", "link": "https://stackoverflow.com/users/2212458/denver"}, "edited": false, "score": 0, "creation_date": 1483563337, "post_id": 41472939, "comment_id": 70151854, "body": "Thanks.  I see it now on the 2.1 tag.  Wonder if it will work if I build it."}, {"owner": {"reputation": 2474, "user_id": 2212458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9e76219cee455d802cf12fb56f9600dd?s=128&d=identicon&r=PG", "display_name": "denver", "link": "https://stackoverflow.com/users/2212458/denver"}, "edited": false, "score": 1, "creation_date": 1483566606, "post_id": 41472939, "comment_id": 70153458, "body": "It works!  You can just take the NLogC project from the 2.1 tag, build it, and use it with the current NLog release (I used the one from Nuget)."}], "tags": [], "owner": {"reputation": 26197, "user_id": 201303, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/AQoqr.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/201303/julian"}, "is_accepted": true, "score": 1, "last_activity_date": 1483562779, "creation_date": 1483562779, "answer_id": 41472939, "question_id": 41472747, "link": "https://stackoverflow.com/questions/41472747/nlog-in-mixed-c-c-application/41472939#41472939", "title": "NLog in mixed C#\\C++ Application", "body": "<p>This was supported in NLog 2 (called NLogC). </p>\n\n<p>The support for it had been dropped in NLog 3: <a href=\"http://nlog-project.org/2013/12/14/nlog-3-0.html\" rel=\"nofollow noreferrer\">http://nlog-project.org/2013/12/14/nlog-3-0.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 11822, "user_id": 193178, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DUlHJ.png?s=128&g=1", "display_name": "Rolf Kristensen", "link": "https://stackoverflow.com/users/193178/rolf-kristensen"}, "is_accepted": false, "score": 2, "last_activity_date": 1483907648, "creation_date": 1483907648, "answer_id": 41537570, "question_id": 41472747, "link": "https://stackoverflow.com/questions/41472747/nlog-in-mixed-c-c-application/41537570#41537570", "title": "NLog in mixed C#\\C++ Application", "body": "<p>I would probably just add a C++/Interop-Helper-project to your solution, that \nimplements an abstract C++ logging-interface, that calls into the .NET NLog-methods.</p>\n\n<p>Then the Helper-project will work as interface between the C#-application and the existing C++ DLL-project. It will initialize the C++ DLL and give the abstract C++ logging-interface to the C++ DLL.</p>\n\n<p>With this method, then you can use any version of NLog.</p>\n"}, {"tags": [], "owner": {"reputation": 1559, "user_id": 4151175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05b33287a805dc76ea7bec15c6f65c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Charles Owen", "link": "https://stackoverflow.com/users/4151175/charles-owen"}, "is_accepted": false, "score": 1, "last_activity_date": 1523119529, "creation_date": 1523119529, "answer_id": 49709661, "question_id": 41472747, "link": "https://stackoverflow.com/questions/41472747/nlog-in-mixed-c-c-application/49709661#49709661", "title": "NLog in mixed C#\\C++ Application", "body": "<p>I'm actually able to use NLog from a Managed C++ project and I haven't seen any other examples of this working.  In fact, I don't think it's supported by the NLog development team.  But it's nice to be able to add logging to a Managed C++ project.  If you want instructions, I can provide it.  If you're looking for a solution for an NLog solution for native C++, there was an older version 2.0 that supported it.  See this example: <a href=\"https://stackoverflow.com/questions/9077478/how-to-use-nlog-in-c?noredirect=1&amp;lq=1\">How to use NLog in C++?</a></p>\n\n<p>This is the code I'm running in a CLR console app VS 2013 with NLog 4.0.0:</p>\n\n<pre><code>using namespace NLog;\n\nNLog::Logger^ LO = nullptr;\nNLog::LogManager^ LM = nullptr;\nLO = LM-&gt;GetCurrentClassLogger();\nLO-&gt;Debug(\"Ha\");\n</code></pre>\n"}], "owner": {"reputation": 2474, "user_id": 2212458, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9e76219cee455d802cf12fb56f9600dd?s=128&d=identicon&r=PG", "display_name": "denver", "link": "https://stackoverflow.com/users/2212458/denver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 849, "favorite_count": 0, "accepted_answer_id": 41472939, "answer_count": 3, "score": 0, "last_activity_date": 1523119529, "creation_date": 1483562024, "last_edit_date": 1495542834, "question_id": 41472747, "link": "https://stackoverflow.com/questions/41472747/nlog-in-mixed-c-c-application", "title": "NLog in mixed C#\\C++ Application", "body": "<p>We are using NLog in our solution, which is primarily a C# application.  We do however have a native C++ DLL project and a managed C++ DLL project that wraps it.  We would like to be able to log from those projects to NLog like we do throughout the rest of the application.</p>\n\n<p>I found some hints online that this was possible, but all the trails went cold.\n<a href=\"https://stackoverflow.com/a/9213528/2212458\">https://stackoverflow.com/a/9213528/2212458</a></p>\n\n<p>Does anyone know if this is possible or how to proceed?  Thanks.</p>\n"}, {"tags": ["c++", "file", "char", "unsigned-char"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1483562037, "post_id": 41472720, "comment_id": 70151223, "body": "No, I don&#39;t think so."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483564823, "post_id": 41472720, "comment_id": 70152565, "body": "This doesn&#39;t answer the question, but &quot;casting it to unsigned char&quot; isn&#39;t necessary; <code>int</code> is convertible to <code>unsigned char</code>, so no cast is needed."}], "answers": [{"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 2, "last_activity_date": 1483562933, "last_edit_date": 1483562933, "creation_date": 1483562630, "answer_id": 41472896, "question_id": 41472720, "link": "https://stackoverflow.com/questions/41472720/is-there-a-way-to-directly-read-a-number-from-file-to-unsigned-char-variable/41472896#41472896", "title": "Is there a way to directly read a number from file to unsigned char variable?", "body": "<p>Try <code>scanf</code> with format specifier <code>hhud</code> (cf. <a href=\"http://www.cplusplus.com/reference/cstdio/scanf/\" rel=\"nofollow noreferrer\">scanf format specifiers at cplusplus.com</a>)</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>unsigned char c;\nscanf(\"%hhud\", &amp;c);\n</code></pre>\n\n<p>In the terminal, I enter <code>117</code>, and variable <code>c</code> then shows value <code>'u'</code> in the debugger...</p>\n"}], "owner": {"reputation": 37, "user_id": 3019593, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000876015503/picture?type=large", "display_name": "user3019593", "link": "https://stackoverflow.com/users/3019593/user3019593"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483562933, "creation_date": 1483561901, "question_id": 41472720, "link": "https://stackoverflow.com/questions/41472720/is-there-a-way-to-directly-read-a-number-from-file-to-unsigned-char-variable", "title": "Is there a way to directly read a number from file to unsigned char variable?", "body": "<p>As in reading \"117\" in a text file and giving the variable value 'u', not '1'. And I know I can do it simply and quickly by reading the value to an int and then casting it to unsigned char, I just need to know if I can do it directly. </p>\n"}, {"tags": ["c++", "multithreading", "c++11", "atomic", "lock-free"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 5166832, "user_type": "registered", "profile_image": "https://graph.facebook.com/688226600/picture?type=large", "display_name": "alfalfasprout", "link": "https://stackoverflow.com/users/5166832/alfalfasprout"}, "edited": false, "score": 0, "creation_date": 1483563624, "post_id": 41472917, "comment_id": 70152007, "body": "Aha. Yeah, I assumed that only the native atomic operations could actually guarantee atomic behavior. It looks like the pointer swap is the way to go then.  Can&#39;t really use a Mutex or spinlock here since there will be very heavy contention and I&#39;d like to guarantee progress."}, {"owner": {"reputation": 517, "user_id": 4559267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8624d984d67a6e4b0135fafea49580cd?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Nystr&#246;m", "link": "https://stackoverflow.com/users/4559267/erik-nystr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1484213523, "post_id": 41472917, "comment_id": 70420508, "body": "I searched, but could not find any reference to a CMPXCHG32B instruction. If such an instruction actually exists, it would be sufficient in this case, as 3 doubles only amount to 24B on most systems today. Did you perhaps confuse it with CMPXCHG16B? In that case, your argument makes much more sense."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 517, "user_id": 4559267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8624d984d67a6e4b0135fafea49580cd?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Nystr&#246;m", "link": "https://stackoverflow.com/users/4559267/erik-nystr%c3%b6m"}, "edited": false, "score": 0, "creation_date": 1484240828, "post_id": 41472917, "comment_id": 70439463, "body": "@ErikNystr&#246;m, 100% yes! Thanks for spotting."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 4, "last_activity_date": 1484240836, "last_edit_date": 1484240836, "creation_date": 1483562689, "answer_id": 41472917, "question_id": 41472712, "link": "https://stackoverflow.com/questions/41472712/multithreaded-atomic-store-load-of-multiple-values-in-c/41472917#41472917", "title": "Multithreaded Atomic Store/Load of multiple values in C++", "body": "<p>The devil is here: <code>//updates highest_x, highest_y, highest_z atomically</code>. How do you guarantee that they are, indeed, atomic? Since 3 doubles do not fit into 16B (the largest atomic operation I know on X86_64 platform) the only way to ensure this would be to use <code>mutex</code>.</p>\n\n<p>Your problem is not with the fence. By issuing the fence instruction, you will guarantee that all previous updates would be visible. What you can't guarantee, though, is that they would not be visible <strong>before</strong> this. As a result, you would be able to read the more recent value for one of the vector variables. </p>\n\n<p>To solve your issue, you should either go with <code>mutex</code> - they are quite efficient when uncontended - or, if you are allergic to mutexes, pointer swap solution you described yourself.</p>\n"}], "owner": {"reputation": 309, "user_id": 5166832, "user_type": "registered", "profile_image": "https://graph.facebook.com/688226600/picture?type=large", "display_name": "alfalfasprout", "link": "https://stackoverflow.com/users/5166832/alfalfasprout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 41472917, "answer_count": 1, "score": 2, "last_activity_date": 1484240836, "creation_date": 1483561870, "question_id": 41472712, "link": "https://stackoverflow.com/questions/41472712/multithreaded-atomic-store-load-of-multiple-values-in-c", "title": "Multithreaded Atomic Store/Load of multiple values in C++", "body": "<p>Suppose I have a structure and class in C++:</p>\n\n<pre><code>struct Vec {\n   double x;\n   double y;\n   double z;\n}\n\nclass VecTracker {\n   Vec latest_vec;\n   std::atomic&lt;double&gt; highest_x;\n   std::atomic&lt;double&gt; highest_y;\n   std::atomic&lt;double&gt; highest_z;\n\n   //updates highest_x, highest_y, highest_z atomically\n   void push_vec(const Vec&amp; v);\n   double get_high_x() const;\n   double get_high_y() const;\n   double get_high_z() const;\n   //returns Vec consisting of snapshot of highest_x, highest_y, highest_z\n   Vec get_highs() const;\n}\n</code></pre>\n\n<p>I'll have <em>R</em> reader threads and one writer thread. The writer thread will update zero or more of the <code>highest_*</code> members. If the reader thread calls <code>get_highs()</code> I need all the writes from the current invocation of the writer thread's <code>push_vec()</code> function to be visible to the reader thread <em>before</em> the reader thread reads <code>highest_x</code>, <code>highest_y</code>, etc. to produce a vector.</p>\n\n<p>Now, I know that if <code>Vec</code> is sufficiently small, I could just use a <code>std::atomic&lt;Vec&gt;</code>. Problem is, if it's too big, native CPU instructions for these store/loads can't be used. Is there any way to use <code>std::atomic_thread_fence</code> to guarantee that multiple atomic writes are committed by the writer thread before the reader thread picks them up? That is, a guarantee that all writes by the writer thread are committed before a reader thread sees any of them? Or does <code>std::atomic_thread_fence</code> only provide reordering guarantees within a thread? Currently, just using the <code>.store(std::memory_order_release)</code> for each member doesn't seem to guarantee that all three stores happen before any reads.</p>\n\n<p>Obviously, I could use a lock here, but ideally I want to find a way to make this data structure lockfree.</p>\n\n<p>I know that I could put <code>highest_x</code>, <code>highest_y</code>, and <code>highest_z</code> in a single struct and allocate two copies of it on the heap, swapping pointers atomically after each write. Is this the only way to do it?</p>\n"}, {"tags": ["c++", "qt", "wmi", "ram", "windows-applications"], "comments": [{"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 1, "creation_date": 1483561587, "post_id": 41472598, "comment_id": 70151028, "body": "<code>but I can&#39;t convert it to GB</code> why?"}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "reply_to_user": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483561852, "post_id": 41472598, "comment_id": 70151150, "body": "When converting to GB: userRAMCapacity = QString::fromWCharArray(ramCapacity.bstrVal) / (1024) / (1024) / (1024);  Error: error: C2678: binary &#39;/&#39;: no operator found which takes a left-hand operand of type &#39;QString&#39; (or there is no acceptable conversion)"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483561887, "post_id": 41472598, "comment_id": 70151159, "body": "exactly, because you are trying to convert a sting, convert it to a number first and then do the rest of the math"}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "reply_to_user": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483562041, "post_id": 41472598, "comment_id": 70151226, "body": "I know that I using the wrong type, but how to convert to number? When using QString::number(ramCapacity.uintVal) / (1024) / (1024) / (1024)  it shows not proper values."}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483562071, "post_id": 41472598, "comment_id": 70151243, "body": "see my  answer below"}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562216, "post_id": 41472741, "comment_id": 70151313, "body": "I tried your code, but in console when I print using qDebug() function, the result is &quot;\\u0000&quot; &quot;\\u0000&quot; &quot;\\u0000&quot; &quot;\\u0000&quot;"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562246, "post_id": 41472741, "comment_id": 70151335, "body": "when you print what?"}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562284, "post_id": 41472741, "comment_id": 70151352, "body": "Code: QString userRAMCapacity = QString::fromWCharArray(ramCapacity.bstrVal).toInt() / (1024) / (1024) / (1024);  qDebug() &lt;&lt; userRAMCapacity;"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562317, "post_id": 41472741, "comment_id": 70151368, "body": "but ist not QString you are getting, its <code>int</code>, declare it as <code>int</code>"}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562531, "post_id": 41472741, "comment_id": 70151470, "body": "int ramCapacity_GB = QString::fromWCharArray(ramCapacity.bstrVal).toInt() / (1024) / (1024) / (1024); qDebug() &lt;&lt; ramCapacity_GB;  This code shows 0 in console. Here is the image: <a href=\"http://i86.fastpic.ru/big/2017/0104/6a/3977d1b6885d881fc8f8759a7bc87d6a.png\" rel=\"nofollow noreferrer\">i86.fastpic.ru/big/2017/0104/6a/&hellip;</a>"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562761, "post_id": 41472741, "comment_id": 70151576, "body": "what value do you get when printing just QString::fromWCharArray(ramCapacity.bstrVal) ?"}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483562894, "post_id": 41472741, "comment_id": 70151635, "body": "Values are &quot;8589934592&quot; &quot;8589934592&quot; &quot;8589934592&quot; &quot;8589934592&quot; bytes for 4 slots.  It should be 8 GB for 1 slot."}, {"owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483563205, "post_id": 41472741, "comment_id": 70151791, "body": "I also check values in cmd using wmic.  Image:  <a href=\"http://i88.fastpic.ru/big/2017/0104/57/da524dc5ff288270fd08a8a386f3d557.png\" rel=\"nofollow noreferrer\">i88.fastpic.ru/big/2017/0104/57/&hellip;</a>"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "edited": false, "score": 0, "creation_date": 1483563429, "post_id": 41472741, "comment_id": 70151899, "body": "ah sorry I changed my answer, int is overflowing, you need to use toLongLong()"}], "tags": [], "owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1483563408, "last_edit_date": 1483563408, "creation_date": 1483562013, "answer_id": 41472741, "question_id": 41472598, "link": "https://stackoverflow.com/questions/41472598/wmi-types-conversion-issue/41472741#41472741", "title": "WMI types conversion issue", "body": "<p>QString has <a href=\"http://doc.qt.io/qt-5/qstring.html#toInt\" rel=\"nofollow noreferrer\">toInt()</a> method that you would need to apply before doing any math:</p>\n\n<pre><code>auto result = QString::fromWCharArray(ramCapacity.bstrVal). toLongLong() / (1024) / (1024) / (1024);\n</code></pre>\n"}], "owner": {"reputation": 390, "user_id": 3731050, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y3wvH.jpg?s=128&g=1", "display_name": "Cobra91151", "link": "https://stackoverflow.com/users/3731050/cobra91151"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 41472741, "answer_count": 1, "score": 1, "last_activity_date": 1483563408, "creation_date": 1483561329, "question_id": 41472598, "link": "https://stackoverflow.com/questions/41472598/wmi-types-conversion-issue", "title": "WMI types conversion issue", "body": "<p>I want to get ram slots memory and convert it to GB. I use WMI, Win32_PhysicalMemory class with property Capacity. </p>\n\n<p>Code:</p>\n\n<pre><code>QString userRAMCapacity = QString::fromWCharArray(ramCapacity.bstrVal);\n</code></pre>\n\n<p>When using Qt function - </p>\n\n<pre><code>QString::fromWCharArray(ramCapacity.bstrVal); \n</code></pre>\n\n<p>I get proper ram slots memory capacity in bytes, but I can't convert it to GB. I tried to use another function - </p>\n\n<pre><code>QString::number(ramCapacity.uintVal), \n</code></pre>\n\n<p>it works but display the wrong memory amount. Please help to fix this issue. Thanks in advance.</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "edited": false, "score": 1, "creation_date": 1483561670, "post_id": 41472583, "comment_id": 70151070, "body": "a set can&#39;t have multiple identical numbers, so you could repeatedly insert your random numbers into a std::set&lt;int&gt; until the size of the set is 8... there are ways you could do it with std::array/vector and std::find, as well as many more."}, {"owner": {"reputation": 58995, "user_id": 1322972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puZFr.png?s=128&g=1", "display_name": "WhozCraig", "link": "https://stackoverflow.com/users/1322972/whozcraig"}, "edited": false, "score": 1, "creation_date": 1483562328, "post_id": 41472583, "comment_id": 70151371, "body": "Never let the chance to suggest a <a href=\"https://en.wikipedia.org/wiki/Rube_Goldberg\" rel=\"nofollow noreferrer\">Rube Goldberg</a> solution be heard: <a href=\"http://ideone.com/spQ8ln\" rel=\"nofollow noreferrer\">something like this</a>. Best of luck."}], "answers": [{"tags": [], "owner": {"reputation": 1181, "user_id": 2708904, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b7b059287e83e57ccf1ffd04ccbd6314?s=128&d=identicon&r=PG&f=1", "display_name": "Innot Kauker", "link": "https://stackoverflow.com/users/2708904/innot-kauker"}, "is_accepted": false, "score": 0, "last_activity_date": 1483562201, "creation_date": 1483562201, "answer_id": 41472789, "question_id": 41472583, "link": "https://stackoverflow.com/questions/41472583/how-to-check-if-the-numbers-arent-the-same-value-while-using-random-generators/41472789#41472789", "title": "How to check if the numbers aren&#39;t the same value while using random generator(srand,rand)", "body": "<p>If you're fine with using STL, you can check whether the array contains a pair of equal numbers by subsequently applying sort() and unique() to it, and then comparing the sizes. Here is an example:</p>\n\n<pre><code>std::array&lt;int&gt; u(tabela, tabela + sizeof(tabela));\nstd::sort(u.begin(), u.end());\nu.erase(std::unique(u.begin(), u.end()), u.end());\nbool hasCollisions = u.size() != sizeof(tabela);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10359, "user_id": 1216776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/504692de390dabd9ca22fd716e178993?s=128&d=identicon&r=PG", "display_name": "stark", "link": "https://stackoverflow.com/users/1216776/stark"}, "edited": false, "score": 0, "creation_date": 1483566733, "post_id": 41472791, "comment_id": 70153512, "body": "Pretty sure they will match when i == j."}], "tags": [], "owner": {"reputation": 13, "user_id": 7376120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YBzDV.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7376120/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1483623123, "last_edit_date": 1483623123, "creation_date": 1483562212, "answer_id": 41472791, "question_id": 41472583, "link": "https://stackoverflow.com/questions/41472583/how-to-check-if-the-numbers-arent-the-same-value-while-using-random-generators/41472791#41472791", "title": "How to check if the numbers aren&#39;t the same value while using random generator(srand,rand)", "body": "<p>With the for-for-if-loop you can compare every number with every other number.</p>\n\n<pre><code>for (int i = 0; i &lt; 8; i++)\n    for (int j = i + 1; j &lt; 8; j++)\n        if (tabela[i] == tabela[j])\n            cout &lt;&lt; tabela[i] &lt;&lt; \" exist more often than once!\\nNeed to restart!\";\n</code></pre>\n\n<p>If you check every number with every other, yet existing number, during the generation, than you would save the time you would need to create the rest of the numbers.</p>\n\n<p>(Sorry for my english)</p>\n"}, {"tags": [], "owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "is_accepted": false, "score": 0, "last_activity_date": 1483562742, "creation_date": 1483562742, "answer_id": 41472932, "question_id": 41472583, "link": "https://stackoverflow.com/questions/41472583/how-to-check-if-the-numbers-arent-the-same-value-while-using-random-generators/41472932#41472932", "title": "How to check if the numbers aren&#39;t the same value while using random generator(srand,rand)", "body": "<p>Using the STL here are two different solutions that would simplify things a bit (working example <a href=\"https://ideone.com/X4lSj1\" rel=\"nofollow noreferrer\">https://ideone.com/X4lSj1</a>):</p>\n\n<p>Edit: this assumes you need 8 random numbers without repeat. you might want 8 random numbers, with repeats erased. i couldn't quite tell from your question.</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;random&gt;\n#include &lt;set&gt;\n#include &lt;algorithm&gt;\n\nint main()\n{\n    std::random_device rd;\n    std::mt19937 randomEngine(rd());\n    std::uniform_int_distribution&lt;int&gt; distribution(1, 21);\n\n    std::set&lt;int&gt; setInts;\n    while(setInts.size() &lt; 8)\n    {\n        setInts.insert(distribution(randomEngine));\n    }\n\n    std::cout &lt;&lt; \"Using Set (sorted)\" &lt;&lt; std::endl;\n    for(const auto currInt : setInts)\n    {\n        std::cout &lt;&lt; currInt &lt;&lt; '\\n';\n    }\n\n    std::vector&lt;int&gt; vectorInts;\n    while(vectorInts.size() &lt; 8)\n    {\n        const auto randomNumber = distribution(randomEngine);\n        if (std::find(vectorInts.begin(), vectorInts.end(), randomNumber) == vectorInts.end())\n        {\n            vectorInts.push_back(randomNumber);\n        }\n    }\n\n    std::cout &lt;&lt; \"\\nUsing Vectors (unsorted)\" &lt;&lt; std::endl;\n    for(const auto currInt : vectorInts)\n    {\n        std::cout &lt;&lt; currInt &lt;&lt; '\\n';\n    }\n\n    return EXIT_SUCCESS;\n}\n</code></pre>\n\n<p>Test Output:\nUsing Set (sorted)\n1\n3\n4\n5\n10\n11\n12\n14</p>\n\n<p>Using Vectors (unsorted)\n3\n18\n14\n16\n15\n1\n8\n4</p>\n"}, {"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 2, "last_activity_date": 1483566109, "creation_date": 1483566109, "answer_id": 41473702, "question_id": 41472583, "link": "https://stackoverflow.com/questions/41472583/how-to-check-if-the-numbers-arent-the-same-value-while-using-random-generators/41473702#41473702", "title": "How to check if the numbers aren&#39;t the same value while using random generator(srand,rand)", "body": "<p>Brute force:</p>\n\n<pre><code>// start with empty table:\nint* first = std::begin(tabela);\n\ndo {\n    // fill end of table with random values:\n    std::for_each(first, std::end(tabela),\n        [](int&amp; x) { x = std::rand() % 20 + 1; });\n    // sort and remove duplicates:\n    std::sort(std::begin(tabela), std::end(tabela));\n    first = std::unique(std::begin(tabela), std::end(tabela));\n    // repeat until done:\n} while (first != std::end(tabela));\n</code></pre>\n\n<p>Probably cleaner and faster for 8 values selected from a range of 20:</p>\n\n<pre><code>// generate range of values from 1 to 20:\nint values[20];\nstd::iota(std::begin(values), std::end(values), 1);\n\n// randomize the values:\nstd::random_shuffle(std::begin(values), std::end(values));\n\n// select the first 8:\nint tabela[8];\nstd::copy_n(std::begin(values), 8, std::begin(tabela));\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7375734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9mM0o.png?s=128&g=1", "display_name": "Marc890", "link": "https://stackoverflow.com/users/7375734/marc890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 4, "score": -4, "last_activity_date": 1483623123, "creation_date": 1483561253, "question_id": 41472583, "link": "https://stackoverflow.com/questions/41472583/how-to-check-if-the-numbers-arent-the-same-value-while-using-random-generators", "title": "How to check if the numbers aren&#39;t the same value while using random generator(srand,rand)", "body": "<p>The program needs to have 8 random numbers and the range I've written in the program below. There shouldn't be any commas behind the last number that is written out. </p>\n\n<p><strong>On the end it needs to check the random numbers so that their values aren't the same. This is the part that is bothering me.</strong></p>\n\n<p>I was trying to find a solution on my own for about 1-2 hours, after that I asked my friend for help.My friend said I should use this:\n2 for clauses, one within the other and an if clause inside.</p>\n\n<pre><code>int tabela[8];\nsrand(time(0));\n\nfor(int i=0; i&lt;8; i++){\n    tabela[i] = rand() % 20+1;\n}\n\nfor(int i=0; i&lt;8; i++){\n    cout &lt;&lt; tabela[i];\n    if (i&lt;7) cout &lt;&lt; \",\";\n\n// 2 for clauses, one within the other\n// if clause\n\n}\n</code></pre>\n\n<p>Any help is very much appreciated. Thanks in advance! Sorry for bad English.</p>\n"}, {"tags": ["c++", "static", "linker"], "comments": [{"owner": {"reputation": 3612, "user_id": 1813336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zONI.jpg?s=128&g=1", "display_name": "cleblanc", "link": "https://stackoverflow.com/users/1813336/cleblanc"}, "edited": false, "score": 0, "creation_date": 1483563232, "post_id": 41472448, "comment_id": 70151803, "body": "I notice that you&#39;re showing us what&#39;s in liblept.so.5.0.0 and linking against liblept.so.  Is it possible that you need to update a symbolic link so that you&#39;re linking against the correct .so file?"}, {"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1483564328, "post_id": 41472448, "comment_id": 70152311, "body": "<code>nm</code> is not the best tool here, try <code>readelf --dyn-syms -W</code>."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 1, "creation_date": 1483564835, "post_id": 41472448, "comment_id": 70152576, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/12573816/what-is-an-undefined-reference-unresolved-external-symbol-error-and-how-do-i-fix\">What is an undefined reference/unresolved external symbol error and how do I fix it?</a>"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1483564838, "post_id": 41472448, "comment_id": 70152577, "body": "Have you made correct declarations of your newly-external functions visible to the client code?"}, {"owner": {"reputation": 137, "user_id": 4058857, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/22c14cf5f8ce7c2f3afa19953a5b0378?s=128&d=identicon&r=PG&f=1", "display_name": "B&#225;mer Bal&#225;zs", "link": "https://stackoverflow.com/users/4058857/b%c3%a1mer-bal%c3%a1zs"}, "edited": false, "score": 0, "creation_date": 1483604928, "post_id": 41472448, "comment_id": 70165815, "body": "Sorry for the post, I have found the problem: there was an old instance of the .so in /usr/local/lib which I forgot. Removing it fixed the problem. Thank Cleblanc for the hint!"}], "answers": [{"comments": [{"owner": {"reputation": 12992, "user_id": 2170527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f36e49ac8529003cf57c003746388b?s=128&d=identicon&r=PG", "display_name": "yugr", "link": "https://stackoverflow.com/users/2170527/yugr"}, "edited": false, "score": 0, "creation_date": 1483564448, "post_id": 41472490, "comment_id": 70152371, "body": "On the other hand, symbols in app seem to be mangled (as otherwise linker wouldn&#39;t know their types). Maybe OP is missing extern &quot;C&quot; in application code?"}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483564878, "post_id": 41472490, "comment_id": 70152591, "body": "That&#39;s a comment, not an answer."}], "tags": [], "owner": {"reputation": 3612, "user_id": 1813336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zONI.jpg?s=128&g=1", "display_name": "cleblanc", "link": "https://stackoverflow.com/users/1813336/cleblanc"}, "is_accepted": false, "score": 0, "last_activity_date": 1483563432, "last_edit_date": 1483563432, "creation_date": 1483560835, "answer_id": 41472490, "question_id": 41472448, "link": "https://stackoverflow.com/questions/41472448/symbol-present-in-so-compiled-o-references-it-but-link-fails/41472490#41472490", "title": "Symbol present in .so, compiled .o references it but link fails", "body": "<p><s>I think you may need the extern \"C\" keywords around those functions if you want to expose them in the so.</s>  Since the names don't appear to be mangled by the C++ compiler in the .so this is probably not the case.</p>\n\n<p>I notice that you're showing us what's in liblept.so.5.0.0 and linking against liblept.so. Is it possible that you need to update a symbolic link so that you're linking against the correct .so file?</p>\n"}], "owner": {"reputation": 137, "user_id": 4058857, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/22c14cf5f8ce7c2f3afa19953a5b0378?s=128&d=identicon&r=PG&f=1", "display_name": "B&#225;mer Bal&#225;zs", "link": "https://stackoverflow.com/users/4058857/b%c3%a1mer-bal%c3%a1zs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483564806, "creation_date": 1483560660, "last_edit_date": 1483564806, "question_id": 41472448, "link": "https://stackoverflow.com/questions/41472448/symbol-present-in-so-compiled-o-references-it-but-link-fails", "title": "Symbol present in .so, compiled .o references it but link fails", "body": "<p>I have a strange problem linking c++ with Leptonica. Normal function invocation works fine, but I need functions from the library which were originally not exposed in the .so library. So I have searched for the two interesting functions in the source, removed the <em>static</em> keyword, so they look similar to exposed ones. I have remade the full library after a make clean. The .so file looks OK:</p>\n\n<pre>\nnm liblept.so.5.0.0\n...\n000000000009d010 T dewarpGetMeanVerticals\n000000000009d160 T dewarpGetTextlineCenters\n000000000009d8f0 T dewarpIsLineCoverageValid\n</pre>\n\n<p>Compiling to .o file and observing it:</p>\n\n<pre>\ng++ -c -std=c++11 -I../leptonica/src/src/ preproc.cpp -L../leptonica/src/.libs/ -llept -o preproc\nnm preproc\n...\nU dewarpGetMeanVerticals\nU dewarpIsLineCoverageValid\n</pre>\n\n<p>While the same compiling without -c flag results in</p>\n\n<pre>\n/tmp/ccCPqS1R.o: In function `_dewarpGetTextlineCenters(Pix*, int)':\npreproc.cpp:(.text+0x3d5): undefined reference to `dewarpGetMeanVerticals'\n/tmp/ccCPqS1R.o: In function `_dewarpBuildPageModel(L_Dewarp*, char const*)':\npreproc.cpp:(.text+0x81d): undefined reference to `dewarpIsLineCoverageValid'\ncollect2: error: ld returned 1 exit status\n</pre>\n\n<p>What do I do wrong?</p>\n\n<p>Thank you in advance: Bal\u00e1zs</p>\n"}, {"tags": ["c++", "qt", "serial-port"], "comments": [{"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1483560402, "post_id": 41472267, "comment_id": 70150422, "body": "Seems like the problem is with the data being sent? If it is mixed by the time the program sees it then there doesn&#39;t seem to be much you can do. Do you have any control over how the data is sent?"}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1483560547, "post_id": 41472267, "comment_id": 70150479, "body": "Well I am just using some C code that came with the controller. I actually posted another question on here to convert it to use QSerial. Think that would help?"}, {"owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1483560864, "post_id": 41472267, "comment_id": 70150664, "body": "Perhaps a mutex could be introduced to ensure that only one set of parameters is sent at a time?"}, {"owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "reply_to_user": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "edited": false, "score": 0, "creation_date": 1483563331, "post_id": 41472267, "comment_id": 70151852, "body": "Any other ideas? I tried to put some delays and whatnot in there, but nothing really seems to work. I dont really want to convert everything to use the QSerial integration, as I am not even sure if that will work."}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1483624733, "post_id": 41472267, "comment_id": 70178919, "body": "The idea to continuously open and close the serial port is wrong. This can take a very long time, is blocking, and you&#39;re not supposed to behave that way. You should have the <code>QSerialPort</code> instance open and ready for commands."}], "owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483559981, "creation_date": 1483559981, "question_id": 41472267, "link": "https://stackoverflow.com/questions/41472267/continuously-checking-status-on-serial-port", "title": "Continuously checking status on Serial Port", "body": "<p>I am having some issues with a serial application I am developing with QT. </p>\n\n<p>I need to continuously output a command via serial to get back a reply from the controller im working with -- (motor position, motor speed, etc).</p>\n\n<p>It looks something like this:</p>\n\n<pre><code>void MainWindow::updateMCTarRotvalues()\n{\n      HANDLE RS232Handle;\n      RS232Handle=OpenRS232(MotorControlCommPortSelection(), 9600);\n      SendCmd(RS232Handle, 1, 6, 3, 5, 0); //motor 5 get speed\n      auto result = GetResult(RS232Handle);\n      QString AddressOutCS = QString::number(result.address);\n      QString GuessOutCS = QString::number(result.guess);\n      QString StatusOutCS = QString::number(result.status);\n      QString ValueOutCS = QString::number(result.value);\n      CloseRS232(RS232Handle);\n\n      RS232Handle=OpenRS232(MotorControlCommPortSelection(), 9600);\n      SendCmd(RS232Handle, 1, 6, 3, 4, 0); //motor 4 get speed\n      auto result2 = GetResult(RS232Handle);\n      QString AddressOutCS2 = QString::number(result.address);\n      QString GuessOutCS2 = QString::number(result.guess);\n      QString StatusOutCS2 = QString::number(result.status);\n      QString ValueOutCS2 = QString::number(result.value);\n      CloseRS232(RS232Handle);\n}\n</code></pre>\n\n<p>Then I use the QString variables to print the data I am after. </p>\n\n<p>I have come up with a solution to use a QTimer to call the function:</p>\n\n<pre><code>QTimer *timer2 = new QTimer(this);\nconnect(timer2, SIGNAL(timeout()), this, SLOT(updateMCTarRotvalues()));\ntimer2 -&gt; start();\n</code></pre>\n\n<p>This actually works well for one motor, but now when I wanna call another motors parameters I get mixing of the variables. Meaning sometimes AddressOutCS is not of motor 5 but of motor 4.  If this makes sense. Its like the function is being asynchronously run and mixing happens. </p>\n\n<p>I hope I explained my problem well enough to get some help. Let me know if it is not clear. </p>\n\n<p>Is there a better solution for this?</p>\n"}, {"tags": ["c++", "encoding", "openssl", "cryptography"], "comments": [{"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483561201, "post_id": 41472137, "comment_id": 70150843, "body": "@MaartenBodewes the accepted solution is not proper base64, I needed strict please. I am trying to get hmac sha1 of &quot;message&quot; and &quot;key&quot; to result in <code>IIjfdNXyFGtIFGyvSWU3fp0L46Q=</code>. Thanks so much though for pointing me there."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483561477, "post_id": 41472137, "comment_id": 70150977, "body": "Are you just missing the <code>=</code>  at the end? Did you use the solution posted by <a href=\"http://stackoverflow.com/a/5331271/589259\">TCS</a>?"}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483561614, "post_id": 41472137, "comment_id": 70151038, "body": "Thanks @MaartenBodewes but doing calcHmacSha1(&quot;message&quot;, &quot;key&quot;) is giving me hex string of <code>2088df74d5f2146b48146caf4965377e9d0be3a4</code>. Then using the base64 encode from that accepted solution linked to, it just converts this to <code>MjA4OGRmNzRkNWYyMTQ2YjQ4MTQ2Y2FmNDk2NTM3N2U5ZDBiZTNhNA==</code>. Whereas it should convert it to <code>IIjfdNXyFGtIFGyvSWU3fp0L46Q=</code> for proper b64 hash. I think its called &quot;strict base64&quot;."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1483561646, "post_id": 41472137, "comment_id": 70151051, "body": "@Noitidart I&#39;ve reopened this, since you believe it&#39;s not a true duplicate."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 2, "creation_date": 1483561795, "post_id": 41472137, "comment_id": 70151122, "body": "You should not encode it first to hexadecimals. Try to use base 64 directly on the result of SHA-1. Hexadecimals is just used to <i>represent</i> the bytes so that they are human readable."}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 0, "creation_date": 1483561806, "post_id": 41472137, "comment_id": 70151126, "body": "Thank you @DrewDormann I have added more to explain why it&#39;s different then regular &quot;base64 encoding&quot;. I needed the &quot;b64 hash encoding&quot;. Which might be called &quot;strict b64&quot;"}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483561836, "post_id": 41472137, "comment_id": 70151142, "body": "I&#39;ll try that now @MaartenBodewes thank you and I&#39;ll report back."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1483562149, "post_id": 41472137, "comment_id": 70151281, "body": "<a href=\"http://tomeko.net/online_tools/base64.php?lang=en\" rel=\"nofollow noreferrer\">This page</a> returns the same result (displayed as hex) so it <i>must</i> work."}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483562210, "post_id": 41472137, "comment_id": 70151311, "body": "Thanks @MaartenBodewes I tried it, it gave me weird result of <code>Rg==</code>, may you please see my attempt - <a href=\"https://gist.github.com/Noitidart/99fff093bdd03418140b360d242b1d06#file-blah-cpp-L101-L108\" rel=\"nofollow noreferrer\">gist.github.com/Noitidart/&hellip;</a> - I am very new to writing C++."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483562354, "post_id": 41472137, "comment_id": 70151382, "body": "Well in this case you simply encoded the wrong variable I guess."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "edited": false, "score": 0, "creation_date": 1483562410, "post_id": 41472137, "comment_id": 70151411, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/132338/discussion-between-maarten-bodewes-and-noitidart\">continue this discussion in chat</a>."}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 3, "creation_date": 1483562583, "post_id": 41472137, "comment_id": 70151495, "body": "You should also stop using <code>strlen</code> because of embedded NULLs. <code>std::string</code> has a <code>length()</code>, and you should use it instead. Also, you should Base64 encode the binary string; and not your ASCII representation of it."}, {"owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1483563103, "post_id": 41472137, "comment_id": 70151743, "body": "Thank you @jww yep that fixed it! :) Maarten helped me in chat. Thanks very muc hboth!"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 1, "creation_date": 1483815533, "post_id": 41472137, "comment_id": 70256405, "body": "@jww Hu, a golden OpenSSL badge. And I thought my Crypto &amp; Encryption golden badges were specialized :)"}, {"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483837237, "post_id": 41472137, "comment_id": 70262620, "body": "@MaartenBodewes - Congrats. I&#39;m hoping to get one for Crypto++ eventually."}], "owner": {"reputation": 30076, "user_id": 1828637, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/46b5428a878306d5af0a87fc7b2db499?s=128&d=identicon&r=PG", "display_name": "Noitidart", "link": "https://stackoverflow.com/users/1828637/noitidart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "closed_date": 1483562405, "answer_count": 0, "score": 1, "last_activity_date": 1516666379, "creation_date": 1483559431, "last_edit_date": 1516666379, "question_id": 41472137, "link": "https://stackoverflow.com/questions/41472137/openssl-hmac-sha1-as-b64-hash-not-base64-encoded", "closed_reason": "Duplicate", "title": "OpenSSL HMAC_SHA1 as b64 hash (not base64 encoded)", "body": "<p>I was successfully able to get a HMAC_SHA1, however it is hex. I am not able to figure out how to get base64 string. This is how I get hex string:</p>\n\n<p>Running this on \"message\" and \"key\" gives me hex string of <code>2088df74d5f2146b48146caf4965377e9d0be3a4</code>, this is correct. Doing a base64 encode on this gives me <code>MjA4OGRmNzRkNWYyMTQ2YjQ4MTQ2Y2FmNDk2NTM3N2U5ZDBiZTNhNA==</code>, this is correctly base64 encoded, but not a b64 hash string, which should be <code>IIjfdNXyFGtIFGyvSWU3fp0L46Q=</code>. </p>\n\n<pre><code>#include &lt;openssl/evp.h&gt;\n#include &lt;openssl/sha.h&gt;\n#include &lt;openssl/hmac.h&gt;\n\nstd::string calcHmac(std::string message, std::string key, std::string aStrType=\"base64\") {\n    char hash[41];\n\n    // The data that we\u2019re going to hash using HMAC\n    const unsigned char *unsignedData = (unsigned char *)message.c_str();\n    unsigned char *digest;\n    // I have used sha1 hash engine here.\n    digest = HMAC(EVP_sha1(), key.c_str(), strlen(key.c_str()), unsignedData, strlen((char *)unsignedData), NULL, NULL);\n\n    // Length of string depends on the chosen hash engine for example with the\n    // chosen hash engine  i.e SHA1 it produces a 20-byte hash value which\n    // rendered as 40 characters.\n    // Length of the string need to be changed as per hash engine used.\n    for (int i = 0; i &lt; 20; i++) {\n      sprintf(&amp;hash[i * 2], \"% 02x\", (unsigned int)digest[i]);\n    }\n\n    std::string hash_hex = std::string(hash);\n\n    // if (aStrType == \"base64\") {\n    //     std::string hash_b64 = \"\";\n    //     return hash_b64;\n    // }\n    return hash_hex;\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "vector"], "comments": [{"owner": {"reputation": 4168, "user_id": 6273251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fCGXep-7snc/AAAAAAAAAAI/AAAAAAAAADk/nk_YDFGfkc0/photo.jpg?sz=128", "display_name": "Random Davis", "link": "https://stackoverflow.com/users/6273251/random-davis"}, "edited": false, "score": 1, "creation_date": 1483558605, "post_id": 41471846, "comment_id": 70149571, "body": "You should be running this in debug mode with the debugger enabled. please see <a href=\"http://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>."}, {"owner": {"reputation": 19146, "user_id": 635654, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b8fb58eef98caeec6ab3366e0ac986d7?s=128&d=identicon&r=PG", "display_name": "CygnusX1", "link": "https://stackoverflow.com/users/635654/cygnusx1"}, "edited": false, "score": 1, "creation_date": 1483559580, "post_id": 41471846, "comment_id": 70150034, "body": "I would also like to point that you are probably making unnecessary copy of your arrays. Unlike Java, all parameters, regardless of its type, are passed by value. In your case, your toSort array is <i>copied</i> when <code>selectionSort</code> is invoked. If all you need is a reference (or better yet: a constant reference), you need to do it explicitly, e.g. <code>selectionSort(const vector&lt;int&gt;&amp; toSort)</code>"}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "reply_to_user": {"reputation": 19146, "user_id": 635654, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/b8fb58eef98caeec6ab3366e0ac986d7?s=128&d=identicon&r=PG", "display_name": "CygnusX1", "link": "https://stackoverflow.com/users/635654/cygnusx1"}, "edited": false, "score": 0, "creation_date": 1483567096, "post_id": 41471846, "comment_id": 70153700, "body": "To build on what @CygnusX1 said, see <a href=\"http://ideone.com/IXr4xz\" rel=\"nofollow noreferrer\">this example of pass-by-value and pass-by-reference</a>."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1483568220, "post_id": 41471846, "comment_id": 70154242, "body": "Also note that <code>const</code> can be placed before or after the actual type.  <code>const int</code> and <code>int const</code> are both &quot;constant <code>int</code>&quot;, for example, just as <code>const int&amp;</code> and <code>int const&amp;</code> are both &quot;reference to <code>const int</code>&quot;.  While this is mainly a coding style thing, it becomes important when pointers are involved: <code>int const *</code> and <code>const int *</code> are both &quot;pointer to <code>const int</code>&quot;, but <code>int * const</code> is &quot;<code>const</code> pointer to <code>int</code>&quot;.  The distinction also matters with references to pointers: <code>const int*&amp;</code> is &quot;reference to <code>const int*</code>&quot;, but <code>int* const&amp;</code> is &quot;<code>const</code> reference to <code>int*</code>&quot;."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1483568914, "post_id": 41471846, "comment_id": 70154503, "body": "(In case you haven&#39;t encountered this yet, I should also clarify that you can bind a less-cv-qualified variable to a more-cv-qualified pointer/reference, but not the other way around; <code>const int*</code> can hold the address of <code>int</code> or <code>const int</code>, and <code>const int&amp;</code> can reference <code>int</code> or <code>const int</code>, but <code>int*</code> can only hold the address of <code>int</code>, and <code>int&amp;</code> can only reference <code>int</code>. <a href=\"http://stackoverflow.com/a/15413274/5386374\">&#91;&quot;cv-qualified&quot; means &quot;<code>const</code>-qualified, <code>volatile</code>-qualified, or <code>const volatile</code>-qualified.&quot;; cv-unqualified (no cv-qualifiers) is thus the least cv-qualified option.&#93;</a>)"}], "answers": [{"comments": [{"owner": {"reputation": 512, "user_id": 2372101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36fb804ec9b9aa6b4fa6c0b90ca8b2d5?s=128&d=identicon&r=PG", "display_name": "Omer Eldar", "link": "https://stackoverflow.com/users/2372101/omer-eldar"}, "edited": false, "score": 0, "creation_date": 1483558713, "post_id": 41471896, "comment_id": 70149628, "body": "That was a good catch, I changed the code to that and all of the errors have disappeared. However, the sort function isn&#39;t sorting correctly haha. I&#39;ll mark your answer correct once it allows me. Thank you!"}, {"owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 1, "creation_date": 1483559660, "post_id": 41471896, "comment_id": 70150072, "body": "If you ever want to notch up the compiler warning level, you&#39;ll have to get out of the habit of using <code>int</code>s for the sizes of standard containers.  In 32-bit, you&#39;re implicitly converting between signed an unsigned integers.  In 62-bit, you&#39;re also truncating."}, {"owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "reply_to_user": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "edited": false, "score": 0, "creation_date": 1483560172, "post_id": 41471896, "comment_id": 70150327, "body": "@AdrianMcCarthy: Totally agree, did not want to change the code too much. As this <code>int</code> usage was not the cause of the problem. Updated my post anyway."}], "tags": [], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "is_accepted": true, "score": 2, "last_activity_date": 1483560097, "last_edit_date": 1483560097, "creation_date": 1483558492, "answer_id": 41471896, "question_id": 41471846, "link": "https://stackoverflow.com/questions/41471846/visual-studio-throws-a-lot-of-debug-errors-on-this-selection-sort/41471896#41471896", "title": "Visual Studio throws a lot of debug errors on this selection sort", "body": "<p>Your <code>selectionSort</code> function is wierd, I would use <code>std::sort</code>.</p>\n\n<p>Anyway, replace:</p>\n\n<pre><code>for (int i = 0; i &lt; toSort.size(); i++) {\n    int tempIndex = findLowest(toSort);\n    temp.push_back(toSort[tempIndex]);\n    temp.erase(temp.begin() + tempIndex);\n}\n</code></pre>\n\n<p>by:</p>\n\n<pre><code>size_t size = toSort.size();\nfor (size_t i = 0; i &lt; size; i++) {\n    int tempIndex = findLowest(toSort);\n    temp.push_back(toSort[tempIndex]);\n    toSort.erase(toSort.begin() + tempIndex);\n}\n</code></pre>\n\n<p>to fix your seg fault and have your container sorted.</p>\n\n<p>Note that by saving size in a variable, you make sure you do 20 iterations...not 10...</p>\n\n<p>Also, as commented by Adrian <code>size_t</code> (unsigned) should also be used rather than <code>int</code> (same comment for <code>findLowest</code>)</p>\n\n<p>Next time, use a debugger, it should have been easy to spot this out by doing so...;-)</p>\n"}, {"tags": [], "owner": {"reputation": 9737, "user_id": 1460794, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/7lOXx.png?s=128&g=1", "display_name": "wally", "link": "https://stackoverflow.com/users/1460794/wally"}, "is_accepted": false, "score": 4, "last_activity_date": 1483558688, "last_edit_date": 1592644375, "creation_date": 1483558688, "answer_id": 41471943, "question_id": 41471846, "link": "https://stackoverflow.com/questions/41471846/visual-studio-throws-a-lot-of-debug-errors-on-this-selection-sort/41471943#41471943", "title": "Visual Studio throws a lot of debug errors on this selection sort", "body": "<p>Click on break so that it can show you where the program encountered the error.</p>\n<p>It will show you the call stack:\n<a href=\"https://i.stack.imgur.com/wjmHt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjmHt.png\" alt=\"enter image description here\" /></a></p>\n<p>Double click on a line that is not greyed out (your code).</p>\n<p>Then you will see your code and you can add some data views (or add a watch, or just hover with your mouse):\n<a href=\"https://i.stack.imgur.com/OH2lL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OH2lL.png\" alt=\"enter image description here\" /></a></p>\n<p>From here you can see that the <code>temp</code> vector has a size of 1, but the <code>tempIndex</code> variable had a value of 3 which means that the call to <code>erase()</code> is out of range as the error message mentioned.</p>\n"}], "owner": {"reputation": 512, "user_id": 2372101, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/36fb804ec9b9aa6b4fa6c0b90ca8b2d5?s=128&d=identicon&r=PG", "display_name": "Omer Eldar", "link": "https://stackoverflow.com/users/2372101/omer-eldar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 41471896, "answer_count": 2, "score": 0, "last_activity_date": 1483560097, "creation_date": 1483558257, "question_id": 41471846, "link": "https://stackoverflow.com/questions/41471846/visual-studio-throws-a-lot-of-debug-errors-on-this-selection-sort", "title": "Visual Studio throws a lot of debug errors on this selection sort", "body": "<p>So I recently switched from Java to C++ and am building an example of selection sort as a way to get to know the Vector library a little bit better. However, when I try to run the program, there are no build errors but there are two debug errors.</p>\n\n<p><a href=\"https://i.stack.imgur.com/DeGhG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DeGhG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/uDrGm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uDrGm.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>After clicking ignore, I get a ton of warnings like this one:</p>\n\n<p><a href=\"https://i.stack.imgur.com/lXL4s.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lXL4s.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>I am still pretty new to C++ so I have no idea what is causing these errors and any help would be greatly appreciated. Here is the code I have written, thank you in advance. If you would like any more information please ask and I will provide what is needed.</p>\n\n<pre><code>#include &lt;stdlib.h&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\nusing namespace std;\n\nint findLowest(vector&lt;int&gt; in) {\n\n    int min = in[0];\n    int index = 0;\n\n    for (int i = 1; i &lt; in.size(); i++) {\n        if (in[i] &lt; min) {\n            min = in[i];\n            index = i;\n        }\n    }\n\n    return index;\n}\n\nvoid printVector(vector&lt;int&gt; in) {\n    vector&lt;int&gt;::iterator v = in.begin();\n    while (v != in.end()) {\n        cout &lt;&lt; *v &lt;&lt; endl;\n        v++;\n    }\n}\n\nvector&lt;int&gt; selectionSort(vector&lt;int&gt; toSort) {\n    vector&lt;int&gt; temp;\n\n    for (int i = 0; i &lt; toSort.size(); i++) {\n        int tempIndex = findLowest(toSort);\n        temp.push_back(toSort[tempIndex]);\n        temp.erase(temp.begin() + tempIndex);\n    }\n\n    return temp;\n}\n\nvector&lt;int&gt; randomArray(int size) {\n    vector&lt;int&gt; temp;\n    for (int i = 0; i &lt; size; i++) {\n        temp.push_back(rand() % 100);\n    }\n    return temp;\n}\n\nvoid main() {\n    vector&lt;int&gt; toSort = randomArray(20);\n    printVector(toSort);\n\n    vector&lt;int&gt; sorted = selectionSort(toSort);\n    printVector(sorted);\n\n    cin.ignore();\n}\n</code></pre>\n"}, {"tags": ["c++", "string"], "comments": [{"owner": {"reputation": 1283, "user_id": 2747160, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xE6Dt.png?s=128&g=1", "display_name": "m8mble", "link": "https://stackoverflow.com/users/2747160/m8mble"}, "edited": false, "score": 1, "creation_date": 1483558027, "post_id": 41471741, "comment_id": 70149276, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/7921601/c-is-size-t-a-companion-type-just-like-size-type\">C++ : Is size_t a companion type just like size_type?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "is_accepted": false, "score": 4, "last_activity_date": 1483558229, "last_edit_date": 1483558229, "creation_date": 1483558077, "answer_id": 41471792, "question_id": 41471741, "link": "https://stackoverflow.com/questions/41471741/string-companion-types/41471792#41471792", "title": "String &quot;companion types&quot;", "body": "<p>The <code>std::string</code> type - along with the other sequence containers - have a bunch of associated types. For example, there's <code>string::iterator</code>, a type that can iterate over characters from a string.</p>\n\n<p>The type <code>string::size_type</code> is some type that's capable of holding the size of a string. You can use it by writing something like this:</p>\n\n<pre><code>string::size_type size = myString.size(); // Or something else\n</code></pre>\n\n<p>It's uncommon to see people actually use this type in routine programming practice. Most folks just use <code>size_t</code> or <code>auto</code> here.</p>\n\n<p>The reason the <code>string::size_type</code> type is there is so that template functions that work on sequence containers can take in a template argument and then extract useful information from it, like this:</p>\n\n<pre><code>template &lt;typename Sequence&gt; void doSomething(const Sequence&amp; seq) {\n    typename Sequence::size_type size = seq.size();\n    ...\n}\n</code></pre>\n\n<p>You're probably not going to be doing things like that any time soon, though, so feel free to just use <code>size_t</code> or something like it.</p>\n"}, {"comments": [{"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 325120, "user_id": 501557, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/e4bac7ebd5f5a06c716f508af656e24b?s=128&d=identicon&r=PG", "display_name": "templatetypedef", "link": "https://stackoverflow.com/users/501557/templatetypedef"}, "edited": false, "score": 0, "creation_date": 1483558320, "post_id": 41471817, "comment_id": 70149432, "body": "I&#39;m not sure, lets see what author says"}, {"owner": {"reputation": 629, "user_id": 6572399, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2978ebff6889a3b25cccc12375a7f753?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/6572399/gigi"}, "edited": false, "score": 0, "creation_date": 1483558580, "post_id": 41471817, "comment_id": 70149563, "body": "Why would I want to use foo::bar instead of int?"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 629, "user_id": 6572399, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2978ebff6889a3b25cccc12375a7f753?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/6572399/gigi"}, "edited": false, "score": 0, "creation_date": 1483558676, "post_id": 41471817, "comment_id": 70149609, "body": "@gigi because you don&#39;t really know it is <code>int</code> unless you look inside foo implementation, in case of <code>std::string::size_type</code> you dont really need to know what it alises as long as you use it consistently"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "reply_to_user": {"reputation": 629, "user_id": 6572399, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2978ebff6889a3b25cccc12375a7f753?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/6572399/gigi"}, "edited": false, "score": 0, "creation_date": 1483558711, "post_id": 41471817, "comment_id": 70149626, "body": "@gigi it also lets author of foo and string to change it later without you rewriting your code"}, {"owner": {"reputation": 629, "user_id": 6572399, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2978ebff6889a3b25cccc12375a7f753?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/6572399/gigi"}, "edited": false, "score": 0, "creation_date": 1483562959, "post_id": 41471817, "comment_id": 70151666, "body": "Also, it is written that &quot;these companion types make it possible to use the library types in a machine-independent manner.&quot; What does that mean?"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 1, "creation_date": 1483563053, "post_id": 41471817, "comment_id": 70151715, "body": "Same what I meant, if you use <code>std::string::size_type</code> it may be defined/aliased to 16 bits on one platform and 32 or 64 bits on another but you dont even need to know that. I.e can just recompile your code and everything would work as expected"}], "tags": [], "owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1483559331, "last_edit_date": 1483559331, "creation_date": 1483558168, "answer_id": 41471817, "question_id": 41471741, "link": "https://stackoverflow.com/questions/41471741/string-companion-types/41471817#41471817", "title": "String &quot;companion types&quot;", "body": "<p><code>Companion types</code> is likely just a figurative way to mention <code>member types</code> i.e. types declared within another type</p>\n\n<p>For instance <a href=\"http://en.cppreference.com/w/cpp/string/basic_string\" rel=\"nofollow noreferrer\">string</a> has a bunch of them along with <code>size_type</code></p>\n\n<p>You are right, they are type aliases created with <code>typedef</code> or <code>using</code> (since c++11) </p>\n\n<p>For example <code>foo</code> has two <code>companion</code> types in it but only one is accessible to users due to visibility</p>\n\n<pre><code>class foo\n{\npublic:\n    using bar = int;\nprivate:\n    struct internal { /* impl */};\n    ...\n    typedef internal baz;\n}\n</code></pre>\n\n<p>Anyone can now instantiate variables of <code>foo::bar</code> type and it also lets author of <code>foo</code> (or <code>std::string</code>) to change member types later without you rewriting your code as long as you use them consistently</p>\n"}], "owner": {"reputation": 629, "user_id": 6572399, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/2978ebff6889a3b25cccc12375a7f753?s=128&d=identicon&r=PG&f=1", "display_name": "gigi", "link": "https://stackoverflow.com/users/6572399/gigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 41471817, "answer_count": 2, "score": 2, "last_activity_date": 1483561239, "creation_date": 1483557842, "last_edit_date": 1483561239, "question_id": 41471741, "link": "https://stackoverflow.com/questions/41471741/string-companion-types", "title": "String &quot;companion types&quot;", "body": "<p>A book talks about <code>string::size_type</code> (which is the return type of the <code>string.size()</code> function of the <code>std::string</code> class).</p>\n\n<p>I don't understand what are these \"companion types\". Could someone give me a detailed explanation of what they are? How can we access them? How can we create them in a class? I heard they are some kind of type alias, how? I can't find any of these information on the net.</p>\n"}, {"tags": ["c++", "css", "gtkmm3"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 3805611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQD5q.jpg?s=128&g=1", "display_name": "F&#233;licien", "link": "https://stackoverflow.com/users/3805611/f%c3%a9licien"}, "edited": false, "score": 0, "creation_date": 1483620022, "post_id": 41477361, "comment_id": 70175516, "body": "I edited my question to be more precise (your answer does not resolve my problem)"}, {"owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "reply_to_user": {"reputation": 17, "user_id": 3805611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQD5q.jpg?s=128&g=1", "display_name": "F&#233;licien", "link": "https://stackoverflow.com/users/3805611/f%c3%a9licien"}, "edited": false, "score": 0, "creation_date": 1483674756, "post_id": 41477361, "comment_id": 70203138, "body": "I think it does. If you set the timeout to, for example, 1050 ms, then you get 500 ms of the transition to purple, a 50 ms purple flash, and 500 ms of the transition back to the original color."}, {"owner": {"reputation": 17, "user_id": 3805611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQD5q.jpg?s=128&g=1", "display_name": "F&#233;licien", "link": "https://stackoverflow.com/users/3805611/f%c3%a9licien"}, "edited": false, "score": 0, "creation_date": 1483801057, "post_id": 41477361, "comment_id": 70251358, "body": "Again, I don&#39;t want the button to flash. I want it to wait until the end of the CSS transition before changing its color. It can be multiple successive color changes, in all cases I want the user to see these successive changes (and not just the last color, as it is for the moment). Glib::SignalTimout is not a solution for my problem (I already tested it)."}, {"owner": {"reputation": 17, "user_id": 3805611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQD5q.jpg?s=128&g=1", "display_name": "F&#233;licien", "link": "https://stackoverflow.com/users/3805611/f%c3%a9licien"}, "edited": false, "score": 0, "creation_date": 1483818233, "post_id": 41477361, "comment_id": 70257334, "body": "I have spent a long time learning how to use it, but finally, I managed to do what I wanted with <code>Glib::signal_timeout ().connect ()</code>. Thank you and sorry for how long it tool me to accept your answer !"}], "tags": [], "owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "is_accepted": true, "score": 0, "last_activity_date": 1483590854, "creation_date": 1483590854, "answer_id": 41477361, "question_id": 41471716, "link": "https://stackoverflow.com/questions/41471716/gtkmm3-wait-for-css-transition-to-finish/41477361#41477361", "title": "Gtkmm3 : wait for css transition to finish", "body": "<p>Are you trying to make the button flash purple briefly? If so, you can set a timeout with <a href=\"https://developer.gnome.org/glibmm/stable/classGlib_1_1SignalTimeout.html\" rel=\"nofollow noreferrer\"><code>GLib::SignalTimeout</code></a> for the correct amount of time that you want the button to flash for.</p>\n"}], "owner": {"reputation": 17, "user_id": 3805611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WQD5q.jpg?s=128&g=1", "display_name": "F&#233;licien", "link": "https://stackoverflow.com/users/3805611/f%c3%a9licien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 41477361, "answer_count": 1, "score": 0, "last_activity_date": 1483801396, "creation_date": 1483557736, "last_edit_date": 1483801396, "question_id": 41471716, "link": "https://stackoverflow.com/questions/41471716/gtkmm3-wait-for-css-transition-to-finish", "title": "Gtkmm3 : wait for css transition to finish", "body": "<p>My question does not concern JavaScript, but C++ :</p>\n\n<p>In gtkmm3, application appearance is managed by CSS, so transitions can be set like that :</p>\n\n<p><em>theme.css :</em></p>\n\n<pre><code>.purple {\ntransition: 500ms linear;\nbackground-image: -gtk-gradient (radial,\n    center center, 0,\n    center center, 1,\n    from (#FFB2E8),\n    to (#80005A));\n }\n</code></pre>\n\n<p><em>main.cc :</em></p>\n\n<pre><code>   // Create and define the StyleContext\n   CssProvider = Gtk::CssProvider::create();\n   CssProvider-&gt;load_from_path (Glib::build_filename (UI_DIR, \"theme.css\"));\n   Glib::RefPtr&lt;Gtk::StyleContext&gt; ButtonContext = button-&gt;get_style_context ();\n   ButtonContext-&gt;add_provider (CssProvider,\n                                GTK_STYLE_PROVIDER_PRIORITY_APPLICATION);\n   // Assign new color\n   ButtonContext-&gt;add_class (\"purple\");\n   // Assign an intermediate color\n   ButtonContext-&gt;remove_class (\"purple\");\n   ButtonContexy-&gt;add_class (\"green\");\n   // To something\n   // ... ...\n   // Change the color again\n   ButtonContext-&gt;remove_class (\"green\");\n   ButtonContext-&gt;add_class (\"yellow\")\n</code></pre>\n\n<p>With this code, the user sees only the \"yellow\" state of the button, and not the previous ones, because transitions are skipped.\nHow to display all the color changes one after the other?</p>\n\n<p><strong>EDIT :</strong></p>\n\n<p>My application is a game, where buttons are colored accordingly to their label. This label can change multiple times very closely, and I want the user to see these changes, so, to see the transitions between each state. So, it is not just a flash (my example was not perfect, if you want the whole code of the application, you can get it <a href=\"https://framadrop.org/r/xoc4jBExD-#65qj7nq2T+rb/cqvfsVkKSyoStGNxE1qm8hDxUdNHYU=\" rel=\"nofollow noreferrer\" title=\"make7libre-0.7.tar.gz\">here</a>).</p>\n\n<p><strong>EDIT 2:</strong></p>\n\n<p>I modified the code above and the following sentences to explain my problem better.</p>\n"}, {"tags": ["c++", "qt", "serial-port"], "answers": [{"tags": [], "owner": {"reputation": 2395, "user_id": 624483, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/UZa0K.png?s=128&g=1", "display_name": "rm5248", "link": "https://stackoverflow.com/users/624483/rm5248"}, "is_accepted": false, "score": 0, "last_activity_date": 1483719694, "creation_date": 1483719694, "answer_id": 41509790, "question_id": 41471696, "link": "https://stackoverflow.com/questions/41471696/convert-from-writefile-to-qtserial-write/41509790#41509790", "title": "Convert from WriteFile to QtSerial write", "body": "<p>Since <code>QSerialPort</code> extends from <code>QIODevice</code>, just use the <code>read</code> and <code>write</code> methods to send and receive data from the port.  In this regard, the <code>QSerialPort</code> acts just like any other file that you open with Qt.  When you write out something to the serial port, the easiest way to to simply put your data into a <code>QByteArray</code> and then write that out.  Something like the following should work:</p>\n\n<pre><code>void SendCmd(QSerialPort* port, UCHAR Address, UCHAR Command, UCHAR Type, UCHAR Motor, INT Value)\n{\n\nQByteArray ba;\nUCHAR checksum = 0;\n\nba.append(Address);\nba.append(Command);\nba.append(Type);\nba.append(Motor);\nba.append(Value &gt;&gt; 24;\nba.append(Value &gt;&gt; 16);\nba.append(Value &gt;&gt; 8);\nba.append(Value &amp; 0xff);\nfor(i=0; i&lt;8; i++)\n    checksum += ba[i];\nba.append( checksum );\n\n//Send the datagram\nport-&gt;write( ba );\n}\n</code></pre>\n\n<p>Note that at this point, the data has probably not been written to the device(that happens once the control goes back to the main loop).</p>\n\n<p>To read the data, create a slot that connects to the <code>readyRead</code> signal of the serial port.  This signal is emitted when there is some data to be read from the port.  A simple implementation may look like this:</p>\n\n<pre><code>/* When the seral port is made */\n/* (using new signal/slot syntax) */\nconnect( serialPort, &amp;QSerialPort::readyRead,\n         this, &amp;MyClass::readyRead );\n\n/* ... other initialization code ... */\n\nvoid MyClass::readyRead(){\n    QByteArray data = serialPort.readAll();\n\n    /* Data processing here */\n}\n</code></pre>\n"}], "owner": {"reputation": 1793, "user_id": 3285950, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/bb8d232c5ebd5a668197d3b24dd3f62f?s=128&d=identicon&r=PG", "display_name": "sci-guy", "link": "https://stackoverflow.com/users/3285950/sci-guy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483719694, "creation_date": 1483557661, "last_edit_date": 1483565567, "question_id": 41471696, "link": "https://stackoverflow.com/questions/41471696/convert-from-writefile-to-qtserial-write", "title": "Convert from WriteFile to QtSerial write", "body": "<p>I am trying to convert some old code to make use of the <code>QtSerial</code> integration. </p>\n\n<p>I have the following:</p>\n\n<pre><code>void SendCmd(HANDLE Handle, UCHAR Address, UCHAR Command, UCHAR Type, UCHAR Motor, INT Value)\n{\n\n    UCHAR TxBuffer[9];\n    DWORD BytesWritten;\n    int i;\n\n    TxBuffer[0]=Address;\n    TxBuffer[1]=Command;\n    TxBuffer[2]=Type;\n    TxBuffer[3]=Motor;\n    TxBuffer[4]=Value &gt;&gt; 24;\n    TxBuffer[5]=Value &gt;&gt; 16;\n    TxBuffer[6]=Value &gt;&gt; 8;\n    TxBuffer[7]=Value &amp; 0xff;\n    TxBuffer[8]=0;\n    for(i=0; i&lt;8; i++)\n        TxBuffer[8]+=TxBuffer[i];\n\n    //Send the datagram\n\n  WriteFile(Handle, TxBuffer, 9, &amp;BytesWritten, NULL);\n}\n</code></pre>\n\n<p>I want to use <code>QTSerial</code> for the handling of the port and the reading/sending of data. Im in a little over my head. For the handling I currently have:</p>\n\n<pre><code>HANDLE OpenRS2322(const wchar_t* ComName, DWORD BaudRate)\n{\n    HANDLE ComHandle;\n    DCB CommDCB;\n    COMMTIMEOUTS CommTimeouts;\n    ComHandle=CreateFileW(ComName, GENERIC_READ|GENERIC_WRITE, 0, NULL, OPEN_EXISTING, FILE_ATTRIBUTE_NORMAL, NULL);\n    if(GetLastError()!=ERROR_SUCCESS) return INVALID_HANDLE_VALUE;\n    else\n    {\n        GetCommState(ComHandle, &amp;CommDCB);\n\n        CommDCB.BaudRate=BaudRate;\n        CommDCB.Parity=NOPARITY;\n        CommDCB.StopBits=ONESTOPBIT;\n        CommDCB.ByteSize=8;\n\n        CommDCB.fBinary=1;  //Binary Mode only\n        CommDCB.fParity=0;\n        CommDCB.fOutxCtsFlow=0;\n        CommDCB.fOutxDsrFlow=0;\n        CommDCB.fDtrControl=0;\n        CommDCB.fDsrSensitivity=0;\n        CommDCB.fTXContinueOnXoff=0;\n        CommDCB.fOutX=0;\n        CommDCB.fInX=0;\n        CommDCB.fErrorChar=0;\n        CommDCB.fNull=0;\n        CommDCB.fRtsControl=RTS_CONTROL_TOGGLE;\n        CommDCB.fAbortOnError=0;\n\n        SetCommState(ComHandle, &amp;CommDCB);\n\n        //Set buffer size\n        SetupComm(ComHandle, 100, 100);\n\n        //Set up timeout values (very important, as otherwise the program will be very slow)\n        GetCommTimeouts(ComHandle, &amp;CommTimeouts);\n\n        CommTimeouts.ReadIntervalTimeout=MAXDWORD;\n        CommTimeouts.ReadTotalTimeoutMultiplier=0;\n        CommTimeouts.ReadTotalTimeoutConstant=0;\n\n        SetCommTimeouts(ComHandle, &amp;CommTimeouts);\n\n        return ComHandle;\n  }\n}\n</code></pre>\n\n<p>and when I send a command I use (for example): </p>\n\n<pre><code>HANDLE RS232Handle;\n    RS232Handle=OpenRS232(COM5, 9600);\n    SendCmd(RS232Handle, 1, 5, 154, 5, 0);\n    CloseRS232(RS232Handle);\n</code></pre>\n\n<p>I have run into some problems using the above code in QT. Like asynchronously reading issues.</p>\n\n<p>My lame attempt to modify the above code to use <code>QSerialPort</code>:</p>\n\n<p>For the handle of the port:</p>\n\n<pre><code>QSerialPort serial;\n    serial.setPortName(\"COM5\");\n    serial.open(QIODevice::ReadWrite);\n    serial.setBaudRate(QSerialPort::Baud115200);\n    serial.setDataBits(QSerialPort::Data8);\n    serial.setParity(QSerialPort::NoParity);\n    serial.setStopBits(QSerialPort::OneStop);\n    serial.setFlowControl(QSerialPort::HardwareControl);\n    if (serial.isOpen() &amp;&amp; serial.isWritable())\n    {\n    qDebug() &lt;&lt; \"Serial is open\";\n      }\n</code></pre>\n\n<p>and for the actual writing of data that is previously being sent via <code>WriteFile</code>, I don't know. Any help would be appreciated.</p>\n"}, {"tags": ["c++", "winapi", "visual-studio-2015"], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483557933, "post_id": 41471722, "comment_id": 70149224, "body": "But this requires me to place the dll into the executable directory, which I&#39;m trying to avoid. Is there a way to build the library into the executable?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483558032, "post_id": 41471722, "comment_id": 70149281, "body": "@MiPo Sorry, I misunderstood the question. I will edit my answer."}, {"owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483558497, "post_id": 41471722, "comment_id": 70149528, "body": "Thanks for your answer, I already tried this however, and it still requires a dll. It also builds a lib and a dll file together when I build the library. did I miss a setting somewhere? Does the Runtime Library setting in Code Generation have anything to do with this? I tried changing this too without success"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483558638, "post_id": 41471722, "comment_id": 70149594, "body": "If the project is set to Static Library then it will not build a dll file. Make sure that you clean up before you build the static library (perhaps the old dll file was never deleted). Are there other projects in your solution that might build the dll? Is the library you are linking itself dependent on the dll file, rather than building it? Check the build events in &#39;Project-&gt;Properties-&gt;Build Events&#39; for other events that might build a dll."}, {"owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483558988, "post_id": 41471722, "comment_id": 70149760, "body": "No I don&#39;t see anything, and there are no references in the library to any other libraries, the only thing I can think of are the pre-processor definitions:   WIN32;_DEBUG;_WINDOWS;_USRDLL;DXL_X86_CPP_EXPORTS;    but I tried removing them and it still builds a dll"}, {"owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483559115, "post_id": 41471722, "comment_id": 70149811, "body": "The only other thing was &quot;Use of MFC&quot; and I tried setting to &quot;Use MFC in a static library&quot; but I dont think it uses MFC for anything"}, {"owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "edited": false, "score": 0, "creation_date": 1483559323, "post_id": 41471722, "comment_id": 70149902, "body": "Ok I think I got it, I needed to change this setting for &quot;All Configurations&quot;. For some reason it was building in debug and the configuration was for debug but it still built the dll"}, {"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1483618827, "post_id": 41471722, "comment_id": 70174644, "body": "That pretty much misrepresents, what LIB files are. They are import libraries, that can contain object code. They are used for compile-time linking for both DLL&#39;s as well as static libraries."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 0, "last_activity_date": 1483619405, "last_edit_date": 1483619405, "creation_date": 1483557753, "answer_id": 41471722, "question_id": 41471613, "link": "https://stackoverflow.com/questions/41471613/are-lib-files-exclusively-statically-linked-or-do-they-need-to-be-compiled-speci/41471722#41471722", "title": "Are lib files exclusively statically linked or do they need to be compiled specifically (VS2015)", "body": "<p>In Windows, dll files (dynamically linked libraries) need to be in the same directory as the application or on the search path. lib files (static libraries) need to be statically linked during linking (the last step of building the application). It's common in Windows so have a library come with both a dll and lib file. In this case, the lib file is an import library containing the information needed to easily link to the dll.</p>\n\n<p>Place the dll file where your application will be built and statically link with the lib file. Go to 'Project->Properties->Link->Input->Additional Dependencies' and 'Project->Properties->Link->General->Additional Library Directories' to specify the static libraries you want to link.</p>\n\n<p>Edit: It seems I misunderstood the question. The question is how to recompile a dynamic library as a static library. You need the source code of the library you are using along with it's Visual Studio Project file. Open the library and in `Project->Properties->General->Configuration Type' change it from Dynamic Library to Static Library.</p>\n\n<p>Beware that Dynamic Library uses the Linker group of properties while the Static Library uses the Librarian group of properties. Changing between these types may cause the project to drop essential linker flags options. Since every library is different, I can't predict what you will have to do work around this. Make sure to backup the project file so you can see the original options and flags.</p>\n"}, {"tags": [], "owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "is_accepted": false, "score": 0, "last_activity_date": 1483561149, "creation_date": 1483561149, "answer_id": 41472560, "question_id": 41471613, "link": "https://stackoverflow.com/questions/41471613/are-lib-files-exclusively-statically-linked-or-do-they-need-to-be-compiled-speci/41472560#41472560", "title": "Are lib files exclusively statically linked or do they need to be compiled specifically (VS2015)", "body": "<p>I had to change the setting for \"Static Library\" for All Configurations, not just Debug, although it was building in Debug. Not sure what may have caused this. Possibly because the debug and release builds for the library were set to the same folder, it may have been overwriting the debug builds with release builds when building</p>\n"}], "owner": {"reputation": 629, "user_id": 7375877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ebd55229168e7e58684bdaa28d556d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mi Po", "link": "https://stackoverflow.com/users/7375877/mi-po"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 41471722, "answer_count": 2, "score": -1, "last_activity_date": 1483619405, "creation_date": 1483557377, "last_edit_date": 1483557858, "question_id": 41471613, "link": "https://stackoverflow.com/questions/41471613/are-lib-files-exclusively-statically-linked-or-do-they-need-to-be-compiled-speci", "title": "Are lib files exclusively statically linked or do they need to be compiled specifically (VS2015)", "body": "<p>I have some confusion about static and dynamic linked libraries and .lib and .dll files. </p>\n\n<p>I have a project with two libraries, one I built myself and one is from an open source library.</p>\n\n<p>The one I built myself is a separate project in the same solution (Visual Studio 2015, C++), and I don't need to copy over the .lib files or create a DLL for the executable to build and run </p>\n\n<p>For the other open source library, I do need to copy over the .lib file and the DLL into the executable folder. However, I thought it would be possible to statically link a .lib file and not have to copy over the DLL. </p>\n\n<p>Does this mean I need to compile the Open Source library differently? Like change the define <em>__declspec(dllexport)  to  __declspec(dllimport)</em> ?  Or change <em>/mD to /mT</em> in compiler options?</p>\n\n<p>I tried both of these, but it's still saying that it can't start without the .dll</p>\n\n<p>Or can I get away with changing a setting in the executable project to link this library statically? If so, what are these settings?</p>\n\n<p>EDIT: I know this is a standard question that can be looked up on google, but I haven't been able to find an exact answer for a while. Mainly, I'm confused about <strong>what</strong> settings need to be changed, and <strong>which</strong> project they need to be changed in. (The library or the executable). </p>\n\n<p>I'm under assumption that static linking means the library is built into the executable, and dynamic linking means the library needs to be in a separate file, if this is incorrect, please let me know. Otherwise, I need to know how to build the library <em>into</em> the executable file. </p>\n\n<p>And I can go ahead and change the build options in the open source library, and I tried this already.</p>\n\n<p>Thanks,\n-D</p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 0, "creation_date": 1483560612, "post_id": 41471587, "comment_id": 70150513, "body": "<code>for each</code> ? Is this C++ ?"}, {"owner": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "reply_to_user": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 0, "creation_date": 1483562888, "post_id": 41471587, "comment_id": 70151630, "body": "yes, it&#39;s a c++ 11 feature(might be wrong)."}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 1, "creation_date": 1483563838, "post_id": 41471587, "comment_id": 70152105, "body": "Seems to be a MS specific thing from before the range based for loop was introduced in c++11: <a href=\"http://stackoverflow.com/questions/9182879/which-is-preferable-for-each-in-or-for-each\" title=\"which is preferable for each in or for each\">stackoverflow.com/questions/9182879/&hellip;</a>."}, {"owner": {"reputation": 155, "user_id": 2647614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5808b4faa22effde3109a7a8eb3adfd?s=128&d=identicon&r=PG", "display_name": "DarkPhantom", "link": "https://stackoverflow.com/users/2647614/darkphantom"}, "edited": false, "score": 0, "creation_date": 1483572896, "post_id": 41471587, "comment_id": 70156052, "body": "Are you sure that <code>getText()</code> returns a reference?"}, {"owner": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "reply_to_user": {"reputation": 155, "user_id": 2647614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5808b4faa22effde3109a7a8eb3adfd?s=128&d=identicon&r=PG", "display_name": "DarkPhantom", "link": "https://stackoverflow.com/users/2647614/darkphantom"}, "edited": false, "score": 0, "creation_date": 1483600493, "post_id": 41471587, "comment_id": 70163743, "body": "@DarkPhantom Yes. sf::Text&amp; TextButton::getText(){return mText;}"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "edited": false, "score": 0, "creation_date": 1483562934, "post_id": 41472569, "comment_id": 70151654, "body": "the game doesn&#39;t get stuck, as it allows me to input data, such as keyboard movement data."}, {"owner": {"reputation": 7, "user_id": 5899904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717a5d83cd2cbe3578464f1b9b92cddf?s=128&d=identicon&r=PG&f=1", "display_name": "Verideth", "link": "https://stackoverflow.com/users/5899904/verideth"}, "reply_to_user": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "edited": false, "score": 0, "creation_date": 1483563249, "post_id": 41472569, "comment_id": 70151808, "body": "@ijustpostedsomethingdumb well, based on your code it seems to be different. Based upon what I see its hitting the while loop then stopping there."}, {"owner": {"reputation": 7, "user_id": 5899904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717a5d83cd2cbe3578464f1b9b92cddf?s=128&d=identicon&r=PG&f=1", "display_name": "Verideth", "link": "https://stackoverflow.com/users/5899904/verideth"}, "reply_to_user": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "edited": false, "score": 0, "creation_date": 1483565108, "post_id": 41472569, "comment_id": 70152724, "body": "@ijustpostedsomethingdumb there isn&#39;t enough information to make a suggestion after rereading this code."}], "tags": [], "owner": {"reputation": 7, "user_id": 5899904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717a5d83cd2cbe3578464f1b9b92cddf?s=128&d=identicon&r=PG&f=1", "display_name": "Verideth", "link": "https://stackoverflow.com/users/5899904/verideth"}, "is_accepted": false, "score": 0, "last_activity_date": 1483561193, "creation_date": 1483561193, "answer_id": 41472569, "question_id": 41471587, "link": "https://stackoverflow.com/questions/41471587/sfml-sftextsetfillcolor-is-broken-or-am-i-doing-something-wrong/41472569#41472569", "title": "SFML sf::Text::setFillColor is broken or am I doing something wrong?", "body": "<p>It's probably because you have a while loop in the GameState_MainMenu::handleRealTimeInput that the program is getting stuck in.</p>\n\n<p>You can try to use threads, though that way could get pretty messy. I suggest revising your code.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "is_accepted": false, "score": 0, "last_activity_date": 1483638453, "creation_date": 1483638453, "answer_id": 41491505, "question_id": 41471587, "link": "https://stackoverflow.com/questions/41471587/sfml-sftextsetfillcolor-is-broken-or-am-i-doing-something-wrong/41491505#41491505", "title": "SFML sf::Text::setFillColor is broken or am I doing something wrong?", "body": "<p>Okay, so I figured out this had something to do with c++'s for each instruction. As soon as I switched to the classic array-like traversal, my buttons started changing colors. I'm not saying this is THE solution, just that it worked for me. If anyone has the same problem, you might want to check that.</p>\n"}], "owner": {"reputation": 81, "user_id": 7178464, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e3a2e0605e0306d36c5cef0d400b467a?s=128&d=identicon&r=PG&f=1", "display_name": "ijustpostedsomethingdumb", "link": "https://stackoverflow.com/users/7178464/ijustpostedsomethingdumb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 825, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1483638453, "creation_date": 1483557304, "question_id": 41471587, "link": "https://stackoverflow.com/questions/41471587/sfml-sftextsetfillcolor-is-broken-or-am-i-doing-something-wrong", "title": "SFML sf::Text::setFillColor is broken or am I doing something wrong?", "body": "<p>The code I've written displays the sf::Drawable objects only for the top state of the state stack. Rendering works fine for everything, except the sf::Text type, that does not change the color of the text when button.getText().setFillColor(sf::Color:Red) is called. However, when I construct a button with a red text, whenever I try to set another color to that button, I only get a white text, no matter what color I request.</p>\n\n<p>Here's where I change the color of a button:</p>\n\n<pre><code>void GameState_MainMenu::handleRealTimeInput()\n{\n    for each (TextButton button in mButtons)\n    {\n        if (button.isSpriteClicked())\n        {\n            button.getText().setFillColor(sf::Color::Red);\n            button.triggerAction();\n            sf::Clock wait;\n            sf::Time timer = sf::Time::Zero;\n            timer = sf::seconds(0.15f);\n            while (wait.getElapsedTime() &lt; timer)\n            {\n\n            }\n            wait.restart();\n        }\n    }\n}\n</code></pre>\n\n<p>and this is my Game::render() method:</p>\n\n<pre><code>void Game::render()\n{\n    GameState *currentState = getActiveState();\n    if (currentState != nullptr)\n    {\n        mWindow.clear();\n        currentState-&gt;draw();\n    }\n    mWindow.display();\n}\n</code></pre>\n\n<p>Lastly, this is the draw method of the MainMenu state:</p>\n\n<pre><code>void GameState_MainMenu::draw()\n{\n    game-&gt;mWindow.draw(game-&gt;mBackground);\n    game-&gt;mWindow.draw(mSelector.mSprite);\n    for each (TextButton button in mButtons)\n    {\n        game-&gt;mWindow.draw(button.getText());\n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "arrays"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1483557249, "post_id": 41471557, "comment_id": 70148857, "body": "Ideally you should use a 1 dimensional <code>vector</code> or <code>unique_ptr&lt;T[]&gt;</code> and fake the three dimensions using math."}, {"owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "edited": false, "score": 0, "creation_date": 1483557358, "post_id": 41471557, "comment_id": 70148924, "body": "@MichaelO.Your suggestion still throws the same &quot;expression must have a constant value&quot; error. EDIT: The &quot;const int NZ - countZ&quot; was a type - I edited the post to have the proper &quot;=&quot;."}, {"owner": {"reputation": 49854, "user_id": 16287, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Ogq0T.png?s=128&g=1", "display_name": "Drew Dormann", "link": "https://stackoverflow.com/users/16287/drew-dormann"}, "edited": false, "score": 1, "creation_date": 1483557681, "post_id": 41471557, "comment_id": 70149103, "body": "Short answer: <i>You can&#39;t do this</i>.  Long answer: <i>You shouldn&#39;t do this</i>.  Arrays are the wrong tool, because they do not track their own size.  See NathanOliver&#39;s comment."}, {"owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483558310, "post_id": 41471557, "comment_id": 70149424, "body": "@NathanOliver do any of you know where I can find a simple example that illustrates this concept?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1483558397, "post_id": 41471557, "comment_id": 70149473, "body": "@Roka545 see: <a href=\"http://stackoverflow.com/questions/3902648/c-representing-a-3d-array-in-a-1d-array\" title=\"c representing a 3d array in a 1d array\">stackoverflow.com/questions/3902648/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "is_accepted": false, "score": 2, "last_activity_date": 1483558969, "creation_date": 1483558969, "answer_id": 41472022, "question_id": 41471557, "link": "https://stackoverflow.com/questions/41471557/instantiating-a-3d-array-in-c-using-parameters/41472022#41472022", "title": "Instantiating a 3D array in C++ using parameters", "body": "<p>To explain the error: C++ requires a name of a type in its <code>new</code> operator. A name of a type cannot have runtime dimensions, because all types in C++ are static (determined at compilation time).</p>\n\n<p>For example, this allocates 3 elements of type <code>int[4][5]</code>:</p>\n\n<pre><code>new int[3][4][5];\n</code></pre>\n\n<p>Another example: this allocates NX elements of type <code>int[4][5]</code>:</p>\n\n<pre><code>new int[NX][4][5];\n</code></pre>\n\n<p>An incorrect example: this would allocate NX elements of type <code>int[NY][NZ]</code>, if C++ had support for \"dynamic\" types:</p>\n\n<pre><code>new int[NX][NY][NZ];\n</code></pre>\n\n<hr>\n\n<p>To allocate a 3-dimensional array, or something that looks like it, you can use <code>std::vector</code>:</p>\n\n<pre><code>std::vector&lt;std::vector&lt;std::vector&lt;int&gt;&gt;&gt; my_3D_array;\n... // initialization goes here\nmy_3D_array[2][2][2] = 222; // whatever you want to do with it\n</code></pre>\n\n<p>To make the syntax less verbose, and streamline the initialization, use <code>typedef</code> (or here <code>using</code>, which is the same):</p>\n\n<pre><code>using int_1D = std::vector&lt;int&gt;;    // this is a 1-dimensional array type\nusing int_2D = std::vector&lt;int_1D&gt;; // this is a 2-dimensional array type\nusing int_3D = std::vector&lt;int_2D&gt;; // this is a 3-dimensional array type\nint_3D data(NX, int_2D(NY, int_1D(NZ))); // allocate a 3-D array, elements initialized to 0\ndata[2][2][2] = 222;\n</code></pre>\n\n<p>If you want to return this array from your function, you should declare it; you cannot just return a <code>void</code> pointer to the <code>data</code> variable. Here is a syntax of a declaration:</p>\n\n<pre><code>using int_1D = std::vector&lt;int&gt;;\nusing int_2D = std::vector&lt;int_1D&gt;;\nusing int_3D = std::vector&lt;int_2D&gt;;\nint_3D testFunction(int countX, int countY, int countZ)\n{\n    int_3D data(...);\n    ...\n    return data;\n}\n</code></pre>\n\n<p>That is, instead of using <code>new</code>, just use <code>std::vector&lt;whatever&gt;</code> as if it were any other type.</p>\n"}], "owner": {"reputation": 2566, "user_id": 5874702, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/IPSB7.png?s=128&g=1", "display_name": "Roka545", "link": "https://stackoverflow.com/users/5874702/roka545"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1483558969, "creation_date": 1483557152, "last_edit_date": 1483557483, "question_id": 41471557, "link": "https://stackoverflow.com/questions/41471557/instantiating-a-3d-array-in-c-using-parameters", "title": "Instantiating a 3D array in C++ using parameters", "body": "<p>Sorry if this is a noob question, but I'm currently learning C++. I have a function that takes in several parameters - I would like to use those parameters when creating a 3D int array. </p>\n\n<pre><code>void* testFunction(int countX, int countY, int countZ)\n{\n    const int NX = countX;\n    const int NY = countY;\n    const int NZ = countZ;\n\n    int* data_out = new int*[NX][NY][NZ]; \n    // The above line throws the error on \"NY\" - expression must\n    // have a constant value\n}\n</code></pre>\n\n<p>From various posts I've learned that you must allocate the array first but I guess I'm doing that wrong? How do you properly initialize a multidimensional array. Also, why does the initialization require a pointer?</p>\n"}, {"tags": ["c++", "qt"], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "edited": false, "score": 0, "creation_date": 1483622797, "post_id": 41471851, "comment_id": 70177583, "body": "One of the only things that is consistent is the reception of the \\n character.  I can see that the start of the message is received, and the end, but the middle is where characters get lost.  I&#39;ve tried both readAll and readLine and it&#39;s relatively the same result.  I know the full message is being sent, I&#39;m just not receiving it via this serial port.  What is my next line of recourse?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "reply_to_user": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "edited": false, "score": 0, "creation_date": 1483624507, "post_id": 41471851, "comment_id": 70178762, "body": "@bauervision This is an important bit of information: it belongs in the question itself. You&#39;d need to convince us that you indeed only receive parts of the message: e.g. use <code>qDebug() &lt;&lt; line.toHex();</code>, where line comes from <code>readLine</code>. Perhaps you&#39;re not using flow control and you overrun a buffer somewhere. Most likely, you need to show a minimum code example that demonstrates the issue."}, {"owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "edited": false, "score": 0, "creation_date": 1483626177, "post_id": 41471851, "comment_id": 70180002, "body": "Baudrate = 38400, DataBits = 8, No Parity,One Stop, No Flow Control  These are the setting given to me from the admin, not sure if changing it on my end will matter, or if it will break the connection. Just don&#39;t know enough about this stuff yet."}, {"owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "reply_to_user": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1483628622, "post_id": 41471851, "comment_id": 70181730, "body": "thanks @KubaOber, I didn&#39;t realize that it was the slow read of readAll that was my problem, hence not stumbling on the title of the suggested post.  Using your suggested while(canReadLine) has helped for sure. I&#39;m now getting clean messages &gt;80% of the time, which is light years ahead of where I was. Still not 100% of the time, but this is doable for now.  As of right now, the serial port code is still in Mainwindow. Do you think moving it out of the widget would clean it up the rest of the way?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1483709674, "post_id": 41471851, "comment_id": 70219248, "body": "Of course. Separation of concerns and all that. Move all the communications code into a communications controller that communicates with other parts of the code via signals/slots."}], "tags": [], "owner": {"reputation": 15535, "user_id": 123378, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6e9089fdd1c3a0c2d9ca808e7b118b4f?s=128&d=identicon&r=PG", "display_name": "kaliatech", "link": "https://stackoverflow.com/users/123378/kaliatech"}, "is_accepted": false, "score": 1, "last_activity_date": 1483558863, "last_edit_date": 1483558863, "creation_date": 1483558301, "answer_id": 41471851, "question_id": 41471547, "link": "https://stackoverflow.com/questions/41471547/qt-serial-dropping-data/41471851#41471851", "title": "QT Serial dropping data", "body": "<p>The <code>readAll</code> returns whatever is currently available. There is no guarantee that all data has been received.  My guess is that your data is still being transferred when you make that call.</p>\n\n<p>You need to read data <em>until</em> you receive the <code>\\r\\n</code>.</p>\n\n<p>Depending on your needs, you might find <a href=\"http://doc.qt.io/qt-5/qiodevice.html#readLine\" rel=\"nofollow noreferrer\">readLine</a> easier to use.</p>\n"}], "owner": {"reputation": 575, "user_id": 3229381, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100000448580016/picture?type=large", "display_name": "bauervision", "link": "https://stackoverflow.com/users/3229381/bauervision"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "closed_date": 1483624337, "answer_count": 1, "score": 0, "last_activity_date": 1483558863, "creation_date": 1483557118, "question_id": 41471547, "link": "https://stackoverflow.com/questions/41471547/qt-serial-dropping-data", "closed_reason": "Duplicate", "title": "QT Serial dropping data", "body": "<p>I've looked at several questions on here regarding this topic but nothing is providing me with a solution.</p>\n\n<p>Testing over a VM, I have incoming data that runs either 47, 80 or 31 characters long.</p>\n\n<p>Serial port's readyRead is connected to:</p>\n\n<pre><code>void MainWindow::readData(){\n    QString buf; \n    myByteArray = serial-&gt;readAll();\n    for(int i = 0; i &lt; myByteArray.size(); ++i){\n        if(myByteArray.at(i) == '\\n'){\n            buf.append(myByteArray.at(i));\n            qDebug() &lt;&lt; buf &lt;&lt; endl;\n            buf.clear();\n        else{\n            buf.append(myByteArray.at(i)); \n        }\n</code></pre>\n\n<p>I know that every message ends with a \"\\r\\n\" so we use that as a point to end the current message.</p>\n\n<p>The issue I'm having is that I maybe get a clean message every 50.  It is dropping characters left and right.  I have a text file that is showing the messages being sent over serial so I can compare with what is received and it's disgusting how off they are.</p>\n\n<p>I've tried readLine() as well as several other suggestions in other threads and it's always the same result.</p>\n\n<p>My thought was to check to see if the messages received match the length of what I'm expecting, 47, 80, or 31 chars, and then disregard the ones that don't match. The issue with this is that I'll get an actual clean message every 2 minutes....maybe.</p>\n\n<p>If I dump out what comes over the wire as soon as I get it, the results are really no different than when I'm buffering the data.</p>\n\n<p>The other issue I'm having is for every message I receive, I miss about 3-4 altogether.</p>\n\n<p>Any suggestions on how to handle this better?</p>\n"}, {"tags": ["c++", "language-lawyer", "declaration", "definition", "name-lookup"], "comments": [{"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "edited": false, "score": 0, "creation_date": 1483557236, "post_id": 41471439, "comment_id": 70148845, "body": "Why was the <code>language-lawyer</code> tag removed?"}, {"owner": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "reply_to_user": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "edited": false, "score": 0, "creation_date": 1483557297, "post_id": 41471439, "comment_id": 70148883, "body": "@giusti I have just reinserted the tag"}, {"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "reply_to_user": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 1, "creation_date": 1483558028, "post_id": 41471439, "comment_id": 70149278, "body": "I&#39;d like to understand why @RyanHaining removed it in the first place. Maybe he had a reason."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 4, "creation_date": 1483558439, "post_id": 41471439, "comment_id": 70149493, "body": "There&#39;s some gray area of course. The general trend I&#39;ve seen in C++ language-lawyer questions has been towards compiler&#39;s disagreeing, or programs compiling without assurance of them being well-defined behavior. These would be places for the &quot;language lawyers&quot; to debate what which compiler was behaving correctly, or whether a program meets the standards requirements for being well defined. Since you should be receiving an accurate error message from this code, IMO it falls outside what is <i>generally</i> posted with [language-lawyer]"}, {"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 4, "creation_date": 1483560691, "post_id": 41471439, "comment_id": 70150553, "body": "Actually, this doesn&#39;t seem a good candidate for the <i>language-lawyer</i> tag. The standard is clear and the snippet is ill-formed. That&#39;s all. My two cents."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 3, "creation_date": 1483564916, "post_id": 41471439, "comment_id": 70152613, "body": "@RyanHaining AFAIK language-lawyer simply states that the OP wants a precise reference from the official standard that clarifies what happens in the question. Hence, question about <b>any</b> behaviour can be asked with said tag, whether you find them interesting or not."}, {"owner": {"reputation": 30558, "user_id": 1013719, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/U8X0A.jpg?s=128&g=1", "display_name": "Ryan Haining", "link": "https://stackoverflow.com/users/1013719/ryan-haining"}, "edited": false, "score": 0, "creation_date": 1483566227, "post_id": 41471439, "comment_id": 70153261, "body": "<code>language-lawyer</code> is a language agnostic tag, this seems like the kind of question that gets it removed in c++. I&#39;m not disagreeing that it meets the stated requirements of it. If I&#39;m in the minority here, nbd it&#39;s back now anyway."}, {"owner": {"reputation": 7287, "user_id": 963864, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/94e2dd813e278309b6281b4a4b7fdddd?s=128&d=identicon&r=PG", "display_name": "curiousguy", "link": "https://stackoverflow.com/users/963864/curiousguy"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1485369999, "post_id": 41471439, "comment_id": 70902382, "body": "@skypjack &quot;<i>this doesn&#39;t seem a good candidate for the language-lawyer tag. The standard is clear and the snippet is ill-formed</i>&quot; language-lawyer has nothing to do with the std being unclear!"}], "answers": [{"comments": [{"owner": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 4, "creation_date": 1483560168, "post_id": 41471490, "comment_id": 70150325, "body": "I would mention explicitly the fact that&#39;s a <i>forward declaration</i>."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 44996, "user_id": 4987285, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/7063d966c8dfa84aefbd06786824090e?s=128&d=identicon&r=PG", "display_name": "skypjack", "link": "https://stackoverflow.com/users/4987285/skypjack"}, "edited": false, "score": 0, "creation_date": 1483560217, "post_id": 41471490, "comment_id": 70150351, "body": "@skypjack Thank you. I will fix the oversight."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 2, "creation_date": 1483603548, "post_id": 41471490, "comment_id": 70165195, "body": "@Fran&#231;oisAndrieux: I wouldn&#39;t characterize it as an &quot;oversight&quot;.  Your original version was technically correct  (<code>struct A;</code> is a declaration, but not a definition).  However, writing &quot;forward declaration&quot; rather than &quot;declaration&quot; does make it the answer easier to read for non language lawyers."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 44, "last_activity_date": 1483560252, "last_edit_date": 1483560252, "creation_date": 1483556926, "answer_id": 41471490, "question_id": 41471439, "link": "https://stackoverflow.com/questions/41471439/the-first-snippet-below-compiles-but-the-second-doesnt-why/41471490#41471490", "title": "The first snippet below compiles, but the second doesn&#39;t. Why?", "body": "<p>In the second example the line <code>struct A;</code> is a forward declaration for a struct called A in the main function's scope. This struct  will be preferred to the global <code>struct A</code>. The next line defines a variable called <code>a</code> of type <code>struct A</code>. Since a <code>struct A</code> was declared in the main function's scope, that's where the compiler will search for it's definition there. It fails to find one (it's commented out). The first example compiles because there is definition in the same scope. The following example will compile however because it specified that <code>A</code> is in the global namespace :</p>\n\n<pre><code>struct A{ int i = 10; };\n\nint main() {\n//    struct A{ int i = 20; };\n    struct A;\n    struct ::A a;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "edited": false, "score": 0, "creation_date": 1483568454, "post_id": 41472929, "comment_id": 70154330, "body": "1) [basic.scope.pdecl]/7 starts with the following statement: <code>The point of declaration of a class **first** declared in an elaborated-type-specifier is as follows:</code>. That means, that bullet points (7.1) and (7.2) are considered only if the declaration <code>class A;</code> is <b>first</b> declared in an <i>elaborated-type-specifier</i>, which is not the case in both examples, as I pointed out at the end of my question."}, {"owner": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "edited": false, "score": 0, "creation_date": 1483568501, "post_id": 41472929, "comment_id": 70154351, "body": "2) So, as far as [basic.scope.pdecl]/7 is concerned, I don&#39;t think we can say that the declaration <code>struct A;</code> in main(), in my second example, cannot refer to a class declared in outer scope, as you asserted above. Thanks for your reply anyway."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "edited": false, "score": 0, "creation_date": 1483570102, "post_id": 41472929, "comment_id": 70154989, "body": "I explained why, in your second example, <code>struct A;</code> <b>is</b> the first declaration of <code>A</code>, because the <code>A</code> at global scope is a completely different class with the same name."}, {"owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "reply_to_user": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "edited": false, "score": 0, "creation_date": 1483571070, "post_id": 41472929, "comment_id": 70155389, "body": "[basic.scope.declarative]/1: &quot;The scope of a declaration is the same as its potential scope unless the potential scope contains another declaration of the same name. In that case, the potential scope of the declaration in the inner declarative region is excluded from the scope of the declaration in the outer declarative region.&quot;"}, {"owner": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "edited": false, "score": 1, "creation_date": 1483573449, "post_id": 41472929, "comment_id": 70156226, "body": "I think I found the answer to my question in <a href=\"http://eel.is/c++draft/class.name#2\" rel=\"nofollow noreferrer\">&#91;class.name&#93;/2</a> which states exactly what you said in your answer (<code>Under no circumstances can it refer to a class declared in an outer scope.</code>). Thanks (+1)."}], "tags": [], "owner": {"reputation": 13070, "user_id": 1639256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8KYbp.jpg?s=128&g=1", "display_name": "Oktalist", "link": "https://stackoverflow.com/users/1639256/oktalist"}, "is_accepted": true, "score": 67, "last_activity_date": 1483562737, "last_edit_date": 1592644375, "creation_date": 1483562737, "answer_id": 41472929, "question_id": 41471439, "link": "https://stackoverflow.com/questions/41471439/the-first-snippet-below-compiles-but-the-second-doesnt-why/41472929#41472929", "title": "The first snippet below compiles, but the second doesn&#39;t. Why?", "body": "<p>Each of the examples contains declarations of two different classes, both with the name <code>A</code>.</p>\n<p>Let's distinguish between the classes by renaming one of them to <code>B</code>:</p>\n<pre><code>struct A{ int i = 10; };\n\nint main() {\n    struct B{ int i = 20; };\n    struct B;\n    struct B b;\n}\n</code></pre>\n<p>The above is semantically identical to your first example. The class <code>A</code> is never used.</p>\n<pre><code>struct A{ int i = 10; };\n\nint main() {\n    struct B;\n    struct B b;\n}\n</code></pre>\n<p>This is semantically identical to your second example. You are trying to create an object of an incomplete type, the forward-declared class <code>B</code>.</p>\n<p>Renaming <code>B</code> back to <code>A</code> doesn't change anything because then the declaration of <code>A</code> in <code>main</code> shadows the declaration of the other <code>A</code> at global scope.</p>\n<p><strong>[basic.lookup.elab]/2</strong></p>\n<blockquote>\n<p>If the <em>elaborated-type-specifier</em> has no <em>nested-name-specifier</em>, and [...] if the <em>elaborated-type-specifier</em> appears in a declaration with the form:</p>\n<blockquote>\n<p><em><code>class-key</code></em> <em><code>attribute-specifier-seq</code><sub>opt</sub></em> <em><code>identifier</code></em> <code>;</code></p>\n</blockquote>\n<p>the <em>elaborated-type-specifier</em> is a declaration that introduces the <em>class-name</em> as described in [basic.scope.pdecl].</p>\n</blockquote>\n<p>So <code>struct A;</code> is a <strong>declaration</strong> that <strong>introduces</strong> the class name in the scope of the declaration. Under no circumstances can it refer to a class declared in an outer scope.</p>\n<p><strong>[basic.scope.pdecl]/7</strong></p>\n<blockquote>\n<p>[ <em>Note:</em> Other forms of <em>elaborated-type-specifier</em> do not declare a new name [...] \u2014 <em>end note</em> ]</p>\n</blockquote>\n<p>By implication, this form of <em>elaborated-type-specifier</em> declares a new name.</p>\n"}, {"comments": [{"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1483955491, "post_id": 41481828, "comment_id": 70294839, "body": "Downvoting without a comment? What&#39;s wrong with this answer?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6244076"}, "reply_to_user": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1483967578, "post_id": 41481828, "comment_id": 70302476, "body": "@exilit What do you mean?"}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1483967682, "post_id": 41481828, "comment_id": 70302551, "body": "I mean, that somebody downvoted your answer but did not leave a comment explaining why he did that."}, {"owner": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1483967956, "post_id": 41481828, "comment_id": 70302714, "body": "No it is not, at least in my opinion. This is why I upvoted."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6244076"}, "reply_to_user": {"reputation": 1099, "user_id": 2980895, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9bb82b18f4f03a6a9138e5cda05a73c9?s=128&d=identicon&r=PG&f=1", "display_name": "exilit", "link": "https://stackoverflow.com/users/2980895/exilit"}, "edited": false, "score": 0, "creation_date": 1483968076, "post_id": 41481828, "comment_id": 70302783, "body": "@exilit Thanks!"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6244076"}, "is_accepted": false, "score": 5, "last_activity_date": 1483609995, "creation_date": 1483609995, "answer_id": 41481828, "question_id": 41471439, "link": "https://stackoverflow.com/questions/41471439/the-first-snippet-below-compiles-but-the-second-doesnt-why/41481828#41481828", "title": "The first snippet below compiles, but the second doesn&#39;t. Why?", "body": "<p>It doesn't compile because it can't find a definition for A.</p>\n\n<pre><code>int main() {\n//    struct A{ int i = 20; };\n      struct A;\n      struct A a;\n}\n</code></pre>\n\n<p>The code above is equal to your first example, as the global A is shadowed by the local A. In the second example A doesn't have a definition. It's just a prototype. Prototypes are supposed to be placed before a piece of code that needs a definition when the definition is placed AFTER the code which needs it.\nIf the compliler cannot find that definition it will fail because it doesn't know what A is supposed to be (the global definition is shadowed by the local prototype, which causes it to be ignored).</p>\n"}], "owner": {"reputation": 1839, "user_id": 4463557, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uMZ2v.png?s=128&g=1", "display_name": "Jo&#227;o Afonso", "link": "https://stackoverflow.com/users/4463557/jo%c3%a3o-afonso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4212, "favorite_count": 3, "accepted_answer_id": 41472929, "answer_count": 3, "score": 47, "last_activity_date": 1485369903, "creation_date": 1483556728, "last_edit_date": 1485369903, "question_id": 41471439, "link": "https://stackoverflow.com/questions/41471439/the-first-snippet-below-compiles-but-the-second-doesnt-why", "title": "The first snippet below compiles, but the second doesn&#39;t. Why?", "body": "<p>The snippet below compiles (<a href=\"http://coliru.stacked-crooked.com/a/ae861a1f3121da33\">demo</a>):</p>\n\n<pre><code>struct A{ int i = 10; };\n\nint main() {\n    struct A{ int i = 20; };\n    struct A;\n    struct A a;\n}\n</code></pre>\n\n<p>But this doesn't:</p>\n\n<pre><code>struct A{ int i = 10; };\n\nint main() {\n//    struct A{ int i = 20; };\n    struct A;\n    struct A a;\n}\n</code></pre>\n\n<p>I can see that the answer is probably given by these paragraphs in the Standard:</p>\n\n<p><a href=\"http://eel.is/c++draft/basic.lookup.elab#2\">[basic.lookup.elab]/2</a> and <a href=\"http://eel.is/c++draft/basic.scope.pdecl#7\">[basic.scope.pdecl]/7</a>.</p>\n\n<p>But I really don't know how to deduce the different behaviors shown above from these two paragraphs.</p>\n\n<p>Note that in the first example the <code>struct A</code> is <strong>not</strong> first declared in the <em>elaborated-type-specifier</em> <code>struct A;</code>, but in the definition of <code>struct A</code> in <code>main()</code>.</p>\n\n<p>In the second example, the <code>struct A</code> is also <strong>not</strong> first declared in the <em>elaborated-type-specifier</em> <code>struct A;</code>, but in the definition of <code>struct A</code>in global scope.</p>\n"}, {"tags": ["c++", "stl"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1483556810, "post_id": 41471421, "comment_id": 70148595, "body": "Please <b><a href=\"https://stackoverflow.com/posts/41471421/edit\">edit</a></b> your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\">SSCCE (Short, Self Contained, Correct Example)</a>"}, {"owner": {"reputation": 106, "user_id": 207540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739b020f875d2359d73f4b1361a308b9?s=128&d=identicon&r=PG", "display_name": "Oliver Seiler", "link": "https://stackoverflow.com/users/207540/oliver-seiler"}, "edited": false, "score": 0, "creation_date": 1483557596, "post_id": 41471421, "comment_id": 70149055, "body": "Short answer seems to be that you ran out of memory. Not sure what OS or machine you&#39;re on (iOS?), but the size in <code>mach_vm_map(size=1059546636242944) failed</code> looks hard to satisfy (963+ TiB) by mortal hardware. On what part of this code does it actually fail? I&#39;m guessing the <code>population.getVectorofIndividuals().insert(...)</code> call? It strikes me that vector will grow pretty quickly on each iteration, since <code>children</code> itself is initialized from <code>population</code>, but I don&#39;t know the API you&#39;re using."}, {"owner": {"reputation": 117, "user_id": 6867422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d63338754a7f6efa91547f5e04b565?s=128&d=identicon&r=PG&f=1", "display_name": "S.Piechaczek", "link": "https://stackoverflow.com/users/6867422/s-piechaczek"}, "reply_to_user": {"reputation": 106, "user_id": 207540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739b020f875d2359d73f4b1361a308b9?s=128&d=identicon&r=PG", "display_name": "Oliver Seiler", "link": "https://stackoverflow.com/users/207540/oliver-seiler"}, "edited": false, "score": 0, "creation_date": 1483557922, "post_id": 41471421, "comment_id": 70149213, "body": "@OliverSeiler It&#39;s strange because <code>children</code> contains only 5 elements. I&#39;m using Clion on MacOS."}, {"owner": {"reputation": 85822, "user_id": 597607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jCzJi.png?s=128&g=1", "display_name": "Bo Persson", "link": "https://stackoverflow.com/users/597607/bo-persson"}, "edited": false, "score": 1, "creation_date": 1483557999, "post_id": 41471421, "comment_id": 70149259, "body": "<code>vector&lt;Individual&gt; Population::getVectorOfIndividuals()</code> will get you a fresh new <b>copy</b> of the vector for each call. Any changes will be lost immediately."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 6867422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d63338754a7f6efa91547f5e04b565?s=128&d=identicon&r=PG&f=1", "display_name": "S.Piechaczek", "link": "https://stackoverflow.com/users/6867422/s-piechaczek"}, "edited": false, "score": 0, "creation_date": 1483558805, "post_id": 41471781, "comment_id": 70149677, "body": "Yeah, that was about reference, Thank you very much."}], "tags": [], "owner": {"reputation": 18867, "user_id": 3336423, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MfMjU.png?s=128&g=1", "display_name": "jpo38", "link": "https://stackoverflow.com/users/3336423/jpo38"}, "is_accepted": false, "score": 2, "last_activity_date": 1483558021, "creation_date": 1483558021, "answer_id": 41471781, "question_id": 41471421, "link": "https://stackoverflow.com/questions/41471421/inserting-into-vector-doesnt-insert-values/41471781#41471781", "title": "Inserting into vector doesn&#39;t insert values", "body": "<p>Your getter must return a reference, not a copy:</p>\n\n<pre><code>vector&lt;Individual&gt;&amp; Population::getVectorOfIndividuals()\n{\n    return vectorOfIndividuals;\n}\n</code></pre>\n\n<p>Else, when you do:</p>\n\n<pre><code>population.getVectorOfIndividuals().insert(population.getVectorOfIndividuals().begin(),children.getVectorOfIndividuals().begin(),children.getVectorOfIndividuals().end());\n</code></pre>\n\n<p>You mix different objects together (you insert to one, at the beginning of another...as every call to <code>population.getVectorOfIndividuals()</code> returns a different <code>vector&lt;Individual&gt;</code> object: it's like doing <code>vectorA.insert(vectorB.begin(),vectorC.begin(),vectorC.end())</code>, which is not valid...<code>vectorA</code> and <code>vectorB</code> must be the same object).</p>\n"}, {"tags": [], "owner": {"reputation": 40276, "user_id": 432358, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/D931H.png?s=128&g=1", "display_name": "Slava", "link": "https://stackoverflow.com/users/432358/slava"}, "is_accepted": false, "score": 1, "last_activity_date": 1483558068, "creation_date": 1483558068, "answer_id": 41471789, "question_id": 41471421, "link": "https://stackoverflow.com/questions/41471421/inserting-into-vector-doesnt-insert-values/41471789#41471789", "title": "Inserting into vector doesn&#39;t insert values", "body": "<p>Your method:</p>\n\n<pre><code>vector&lt;Individual&gt; Population::getVectorOfIndividuals()\n</code></pre>\n\n<p>returns vector instance by value, which means every time you call this method a new copy is created. So first of all you pass <code>begin()</code> of another vector for which you call insert and <code>begin()</code> and <code>end()</code> of children also iterators for 2 different containers. Also result of <code>insert</code> would be dropped even if you pass parameters properly. Most probably you want that method to return <code>vector&lt;Individual&gt;</code> by reference.</p>\n"}], "owner": {"reputation": 117, "user_id": 6867422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95d63338754a7f6efa91547f5e04b565?s=128&d=identicon&r=PG&f=1", "display_name": "S.Piechaczek", "link": "https://stackoverflow.com/users/6867422/s-piechaczek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1483558068, "creation_date": 1483556644, "last_edit_date": 1483557785, "question_id": 41471421, "link": "https://stackoverflow.com/questions/41471421/inserting-into-vector-doesnt-insert-values", "title": "Inserting into vector doesn&#39;t insert values", "body": "<p>I don't know why it doesn't work. I tried to do it with push_back and it doesn't work either. </p>\n\n<p>When I try to debug it I get error:</p>\n\n<blockquote>\n  <p>GeneticAlgorithm(8942,0x7fffc40183c0) malloc: <strong>* mach_vm_map(size=1059546636242944) failed (error code=3)\n  *</strong> error: can't allocate region\n  *** set a breakpoint in malloc_error_break to debug\n  libc++abi.dylib: terminating with uncaught exception of type std::bad_alloc: std::bad_alloc</p>\n</blockquote>\n\n<p>I also tried to resize vectorOfIndividuals but then I get BAD_ACCESS ERROR</p>\n\n<pre><code>    Population children(population);\n    population.getVectorOfIndividuals().insert(population.getVectorOfIndividuals().begin(),children.getVectorOfIndividuals().begin(),children.getVectorOfIndividuals().end());\n</code></pre>\n\n<p>Population copying constructor:</p>\n\n<pre><code>Population::Population(const Population &amp;populationToSave){\nvectorOfIndividuals = populationToSave.vectorOfIndividuals;\nbestFitnessScore = populationToSave.bestFitnessScore;\n</code></pre>\n\n<p>}</p>\n\n<p>Getter:</p>\n\n<pre><code>vector&lt;Individual&gt; Population::getVectorOfIndividuals(){\nreturn vectorOfIndividuals;\n</code></pre>\n\n<p>}</p>\n\n<p>I would be very grateful for your help.</p>\n"}, {"tags": ["c++", "visual-c++", "dll", "crt"], "comments": [{"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 1, "creation_date": 1483557042, "post_id": 41471419, "comment_id": 70148741, "body": "Add the runtime back. There&#39;s no good reason to remove it."}, {"owner": {"reputation": 31, "user_id": 5335456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275ea57f7ab8154fff5c24e07b32f4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Corick", "link": "https://stackoverflow.com/users/5335456/jason-corick"}, "reply_to_user": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1483558468, "post_id": 41471419, "comment_id": 70149516, "body": "Well Rob, the reason I removed CRT is because I am writing my own OS and would like to support PE files (currently I only support elf) its a small kernel and I will work on my own CRT later, for now all I need is a small PE binary like if it was compiled with nasm or the like."}], "answers": [{"tags": [], "owner": {"reputation": 40893, "user_id": 1386054, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/424ZW.jpg?s=128&g=1", "display_name": "Adrian McCarthy", "link": "https://stackoverflow.com/users/1386054/adrian-mccarthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1483563371, "creation_date": 1483563371, "answer_id": 41473086, "question_id": 41471419, "link": "https://stackoverflow.com/questions/41471419/compiler-issue-after-removing-crt-dll/41473086#41473086", "title": "Compiler issue after removing CRT (DLL)", "body": "<p>There's nothing weird about those errors.</p>\n\n<p>Compilers are allowed to assume that they can generate code that rely on their runtime libraries.  If you're going omit the runtime library at the link step, then you'll have to provide definitions for the missing symbols in your own code.</p>\n\n<p>Turning off certain compiler features may reduce the number of missing symbols.  You could try, for example, turning off exception handling support to see if the internal exception classes are still expected.  In debug builds, the compiler may expect even more support from the runtime that in release builds.</p>\n"}], "owner": {"reputation": 31, "user_id": 5335456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/275ea57f7ab8154fff5c24e07b32f4c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Corick", "link": "https://stackoverflow.com/users/5335456/jason-corick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1645, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1483563371, "creation_date": 1483556640, "last_edit_date": 1483562334, "question_id": 41471419, "link": "https://stackoverflow.com/questions/41471419/compiler-issue-after-removing-crt-dll", "title": "Compiler issue after removing CRT (DLL)", "body": "<p>After removing the CRT from my DLL I have gotten these weird errors.</p>\n\n<p>Here are they:</p>\n\n<blockquote>\n  <ul>\n  <li>LNK2001    unresolved external symbol \"void __cdecl    std::_Xbad_alloc(void)\" (?_Xbad_alloc@std@@YAXXZ) </li>\n  <li>LNK2001    unresolved external symbol \"void __cdecl std::_Xlength_error(char const *)\" (?_Xlength_error@std@@YAXPBD@Z)</li>\n  <li>LNK2001    unresolved external symbol \"void __cdecl std::_Xout_of_range(char const *)\" (?_Xout_of_range@std@@YAXPBD@Z)</li>\n  <li>unresolved external symbol __dtest</li>\n  <li>unresolved external symbol __fdtest</li>\n  <li>unresolved external symbol __invalid_parameter)noinfo_noreturn</li>\n  <li>unresolved external symbol __stdio_common_vsnprintf_s</li>\n  <li>unresolved external symbol __stdio_common_vsprintf</li>\n  <li>unresolved external symbol __std_terminate</li>\n  </ul>\n</blockquote>\n\n<p>If I understand correctly the <code>Xbad_alloc</code> and <code>Xlength_error</code> are because of the <code>new</code> and <code>delete</code> operators? In that case I create my class instance like this:</p>\n\n<pre><code>class sc_Core\n    {\n    public:\n        static sc_Core *Instance(void);\n        func A();\n    public:\n        void *operator new(size_t si)\n        {\n            return HeapAlloc(GetProcessHeap(), NULL, si);\n        }\n        void operator delete(void *pv) throw()\n        {\n            HeapFree(GetProcessHeap(), NULL, pv);\n        }\n    private:\n        sc_Core(void) { }\n        ~sc_Core(void) { }\n        sc_Core(const sc_Core&amp;) { }\n        sc_Core(sc_Core&amp;&amp;) {}\n        sc_Core&amp; operator=(const sc_Core&amp;) {}\n        sc_Core&amp; operator=(sc_Core&amp;&amp;) {}\n        static sc_Core *p_Instance;\n    };\n\n// Global Scope\nsc_Core *sc_Core::p_Instance = nullptr;\n\n\n    sc_Core *sc_Core::Instance(void)\n    {\n        if (p_Instance == nullptr)\n            p_Instance = new sc_Core();\n\n        return p_Instance;\n    }\n</code></pre>\n\n<p>If anyone knows how these occur or how I can fix them it would be very much appreciated!</p>\n"}, {"tags": ["c++", "token", "newline"], "comments": [{"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483556437, "post_id": 41471251, "comment_id": 70148362, "body": "The sample given doesn&#39;t reproduce this error with Visual Studio 2015 or Visual Studio 2010. What version of Visual Studio are you using? Are you sure this is the example you meant to give?"}, {"owner": {"reputation": 21, "user_id": 5637255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad291191bf58c492654e5837cd3df57a?s=128&d=identicon&r=PG&f=1", "display_name": "DesPhantomes", "link": "https://stackoverflow.com/users/5637255/desphantomes"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483558305, "post_id": 41471251, "comment_id": 70149421, "body": "I&#39;m using Visual Studio 15, and have recompiled the program and remade it from scratch only to get the same issue :/"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483558428, "post_id": 41471251, "comment_id": 70149488, "body": "Perhaps the issue lies in your precompiled header. I had to exclude the line <code>#include &quot;stdafx.h&quot;</code> to compile (I do not have this header)."}, {"owner": {"reputation": 21, "user_id": 5637255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad291191bf58c492654e5837cd3df57a?s=128&d=identicon&r=PG&f=1", "display_name": "DesPhantomes", "link": "https://stackoverflow.com/users/5637255/desphantomes"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483558520, "post_id": 41471251, "comment_id": 70149540, "body": "My compiler requires it, and won&#39;t run unless it is present. It&#39;s also never created a problem for me before"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 2, "creation_date": 1483558748, "post_id": 41471251, "comment_id": 70149646, "body": "Try to delete the line that is causing the error, along with the previous and following line, then retype them (do not copy/paste them). I have encountered a problem once where an non displayable character caused a compiler error."}, {"owner": {"reputation": 42446, "user_id": 902497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff13ece6277497484bfa2911c6183a30?s=128&d=identicon&r=PG", "display_name": "Raymond Chen", "link": "https://stackoverflow.com/users/902497/raymond-chen"}, "edited": false, "score": 0, "creation_date": 1483559892, "post_id": 41471251, "comment_id": 70150193, "body": "The error message in the title appears nowhere in your error output. This will completely confuse future users of this site."}, {"owner": {"reputation": 3771, "user_id": 5386374, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Justin Time - Reinstate Monica", "link": "https://stackoverflow.com/users/5386374/justin-time-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1483573597, "post_id": 41471251, "comment_id": 70156264, "body": "Hmm... try opening the file up in Notepad, maybe that line has a *nix newline (LF) instead of a Windows newline (CR + LF); Notepad has trouble displaying LF newlines, so lines 17 &amp; 18 will be mashed together if this is the case.  I wouldn&#39;t expect it to have a problem with that, but it&#39;s possible."}, {"owner": {"reputation": 21, "user_id": 5637255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad291191bf58c492654e5837cd3df57a?s=128&d=identicon&r=PG&f=1", "display_name": "DesPhantomes", "link": "https://stackoverflow.com/users/5637255/desphantomes"}, "reply_to_user": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483640324, "post_id": 41471251, "comment_id": 70189776, "body": "Thank you @Fran&#231;oisAndrieux and everyone else who replied! The fix of retyping worked, and the program now functions fine."}], "answers": [{"tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1483559932, "creation_date": 1483559932, "answer_id": 41472253, "question_id": 41471251, "link": "https://stackoverflow.com/questions/41471251/unexpected-tokens-following-preprocessor-directive-expected-a-newline/41472253#41472253", "title": "&quot;unexpected tokens following preprocessor directive - expected a newline&quot;", "body": "<p>the problem as I guess if some compiler warning settings which in vs 2015 by default prevents using UN-initialiazed variables so initialize intInput before using it:</p>\n\n<pre><code>int intInput = 0;\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5637255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad291191bf58c492654e5837cd3df57a?s=128&d=identicon&r=PG&f=1", "display_name": "DesPhantomes", "link": "https://stackoverflow.com/users/5637255/desphantomes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3144, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483559932, "creation_date": 1483556046, "last_edit_date": 1483558435, "question_id": 41471251, "link": "https://stackoverflow.com/questions/41471251/unexpected-tokens-following-preprocessor-directive-expected-a-newline", "title": "&quot;unexpected tokens following preprocessor directive - expected a newline&quot;", "body": "<p>I created this program, and for some reason Visual Studio is giving this 'warning'(\"unexpected tokens following preprocessor directive - expected a newline\") whilst also finding errors that seem to reference the contents one line down from the line the compiler claims they're on. For instant, error <a href=\"https://i.stack.imgur.com/mqRlp.png\" rel=\"nofollow noreferrer\">Carat Error</a> seems to refer to something only applicable <a href=\"https://i.stack.imgur.com/lz4hW.png\" rel=\"nofollow noreferrer\">one line down</a>. Thus, I believe something must have gone horribly wrong in the header of the program, but am unsure.Here is the code:</p>\n\n<pre><code>    //1/4/2017\n\n#include \"stdafx.h\"\n#include &lt;iostream&gt;\n#include &lt;vector&gt;\n#include &lt;string&gt;\n#include &lt;ctime&gt;\n#include &lt;cstdlib&gt; \n\n\nusing namespace std;\n\nvoid getNewItem();\nvoid displayItems();\nvoid displayRand();\nvector&lt;string&gt; vecItems;\n\nint main()\n{\n    //declaration phase\n\n    int intInput;\n    string strNewItem;\n\n\n    cout &lt;&lt; \"Random Item Generator\" &lt;&lt; endl &lt;&lt; \"Written by #XXXXX\" &lt;&lt; endl &lt;&lt; \"1. Add Item\" &lt;&lt; endl &lt;&lt; \"2. Display All Items \" &lt;&lt; endl &lt;&lt; \"3. Display Random Item\" &lt;&lt; endl &lt;&lt; \"4. Quit\" &lt;&lt; endl;\n    while (intInput != 4)\n    {\n        cin &gt;&gt; intInput;\n        switch (intInput)\n        {\n        case 1:\n            getNewItem();\n            break;\n\n        case 2:\n            displayItems();\n            break;\n\n        case 3:\n            displayRand();\n            break;\n        }\n    }\n    return 0;\n}\n\nvoid getNewItem() {\n    string strNewItem;\n    cin &gt;&gt; strNewItem;\n    vecItems.push_back(strNewItem);\n}\n\nvoid displayItems() {\n    for (int i = 0; i &lt; vecItems.size(); i++) {\n        cout &lt;&lt; vecItems.at(i) &lt;&lt; endl;\n    }\n}\n\nvoid displayRand() {\n    int intRandIndex;\n    //random number generator\n    srand((unsigned)time(0));\n    intRandIndex = rand() % 10;\n\n    cout &lt;&lt; vecItems.at(intRandIndex) &lt;&lt; endl;\n}\n</code></pre>\n\n<p>Screenshot 1</p>\n\n<p><a href=\"https://i.stack.imgur.com/mqRlp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mqRlp.png\" alt=\"Screenshot 1\"></a></p>\n\n<p>Screenshot 2</p>\n\n<p><a href=\"https://i.stack.imgur.com/lz4hW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lz4hW.png\" alt=\"Screenshot 2\"></a></p>\n\n<p>EDIT: Visual Studio version is Visual Studio 2015, and I have both recompiled and ran in entirely new projects to no avail.</p>\n"}, {"tags": ["c++", "windows", "winapi", "visual-c++"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4215067"}, "edited": false, "score": 0, "creation_date": 1483556333, "post_id": 41471207, "comment_id": 70148312, "body": "maybe ... the machine is protected by admin rights .."}, {"owner": {"reputation": 14052, "user_id": 1513286, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kUz60.png?s=128&g=1", "display_name": "snoopy", "link": "https://stackoverflow.com/users/1513286/snoopy"}, "edited": false, "score": 1, "creation_date": 1483556866, "post_id": 41471207, "comment_id": 70148633, "body": "Note that you are not checking whether <code>OpenProcess</code> is correctly opening the process, (maybe it fails), you use a very heavy access rights parameter <code>PROCESS_ALL_ACCESS</code>, maybe try using <code>PROCESS_VM_WRITE</code> - <code>if(hProc == NULL) { MessageBox(0, &quot;Couldn&#39;t open process&quot;, &quot;Error&quot;, MB_ICONERROR); }</code>  try this. Getting your friend to run the program with admin rights might be a good tip too."}, {"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483557350, "post_id": 41471207, "comment_id": 70148919, "body": "Yes i tried with admin rights ...  i forgot however to check if OpenProcess fails ... I will check . Thank you for the sugestion."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "reply_to_user": {"reputation": 14052, "user_id": 1513286, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kUz60.png?s=128&g=1", "display_name": "snoopy", "link": "https://stackoverflow.com/users/1513286/snoopy"}, "edited": false, "score": 2, "creation_date": 1483558912, "post_id": 41471207, "comment_id": 70149721, "body": "@ViniyoShouta - <code>PROCESS_VM_WRITE</code> not enough here - need <code>PROCESS_VM_OPERATION|PROCESS_VM_WRITE|PROCESS_CREATE_THREAD</code>"}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1483802448, "post_id": 41471207, "comment_id": 70251754, "body": "you compile both <code>exe</code> and <code>dll</code> with static linked CRT ? this is your <code>exe</code> or <code>dll</code> depended from <code>MSVCP110D.dll</code> ?"}, {"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "reply_to_user": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 0, "creation_date": 1483802677, "post_id": 41471207, "comment_id": 70251816, "body": "@RbMm : well , i compile only the exe this way ...."}, {"owner": {"reputation": 25518, "user_id": 6401656, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jtwou.jpg?s=128&g=1", "display_name": "RbMm", "link": "https://stackoverflow.com/users/6401656/rbmm"}, "edited": false, "score": 2, "creation_date": 1483802773, "post_id": 41471207, "comment_id": 70251834, "body": "but you must and dll compile also with static CRT :)"}, {"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483803061, "post_id": 41471207, "comment_id": 70251935, "body": "thank you .... i completeley forgot about it .... ? I forgot i replaced the dll and thought it was already compiled the right way .."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1483806284, "post_id": 41471207, "comment_id": 70253030, "body": "You may find that static linking doesn&#39;t work with a MFC DLL. You end up with two copies of the MFC runtime, and there are static structures like window tables that won&#39;t be shared between them."}, {"owner": {"reputation": 4893, "user_id": 194709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oTCwx.png?s=128&g=1", "display_name": "Chris O", "link": "https://stackoverflow.com/users/194709/chris-o"}, "reply_to_user": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 1, "creation_date": 1483810066, "post_id": 41471207, "comment_id": 70254378, "body": "@MarkRansom  This <code>MSVCP110D.dll</code> is not MFC, just one part of CRT."}, {"owner": {"reputation": 269328, "user_id": 5987, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2a1f9f4986b58015691eb2014e78869f?s=128&d=identicon&r=PG", "display_name": "Mark Ransom", "link": "https://stackoverflow.com/users/5987/mark-ransom"}, "edited": false, "score": 0, "creation_date": 1483811531, "post_id": 41471207, "comment_id": 70254924, "body": "That doesn&#39;t matter, my point still stands. If both the DLL and Exe use MFC, you might run into problems. I was reading your last comment to say that the base problem was that you forgot to change the setting or recompile the DLL, and that part was solved."}], "answers": [{"comments": [{"owner": {"reputation": 35031, "user_id": 1889329, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/57bec3f0b9c5879cdd9d9fa2e8629318?s=128&d=identicon&r=PG&f=1", "display_name": "IInspectable", "link": "https://stackoverflow.com/users/1889329/iinspectable"}, "edited": false, "score": 0, "creation_date": 1483989206, "post_id": 41525420, "comment_id": 70315615, "body": "<i>&quot;change such a setting for</i> all <i>configurations and</i> all <i>platforms. Tedious, so it often gets skipped.&quot;</i> - Not really tedious, since the project properties GUI offers <i>&quot;All Configurations&quot;</i> and <i>&quot;All Platforms&quot;</i> filters. The tedious part usually was settings the appropriate filters. A lot less tedious now, since the GUI <i>does</i> remember settings in between invocations."}], "tags": [], "owner": {"reputation": 870071, "user_id": 17034, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cii6b.png?s=128&g=1", "display_name": "Hans Passant", "link": "https://stackoverflow.com/users/17034/hans-passant"}, "is_accepted": true, "score": 10, "last_activity_date": 1483816374, "creation_date": 1483816374, "answer_id": 41525420, "question_id": 41471207, "link": "https://stackoverflow.com/questions/41471207/c-requesting-msvcp110d-dll-even-though-staticly-linked/41525420#41525420", "title": "C++ Requesting MSVCP110D.dll even though staticly linked", "body": "<blockquote>\n  <p>weird , asking for the debug version</p>\n</blockquote>\n\n<p>Tells you what you did wrong, you accidentally copied the Debug build of the DLL instead of the Release build.  Since you only changed the setting for the Release build, it still requires msvcp110d.dll.  It is in general wise to change such a setting for <em>all</em> configurations and <em>all</em> platforms.  Tedious, so it often gets skipped.</p>\n\n<blockquote>\n  <p>I copied the requested library manually in the release path and still wont work</p>\n</blockquote>\n\n<p>Right, that cannot work since you injected the DLL.  A different process.  So when it is loaded, the install directory for the game is searched for the file, not the directory where your utility is installed.</p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 7403219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356974d37bdcc78ed5cc3d54d9514ab0?s=128&d=identicon&r=PG&f=1", "display_name": "Droopy", "link": "https://stackoverflow.com/users/7403219/droopy"}, "is_accepted": false, "score": 3, "last_activity_date": 1484124288, "creation_date": 1484124288, "answer_id": 41586233, "question_id": 41471207, "link": "https://stackoverflow.com/questions/41471207/c-requesting-msvcp110d-dll-even-though-staticly-linked/41586233#41586233", "title": "C++ Requesting MSVCP110D.dll even though staticly linked", "body": "<p>Your friend needs the <code>Visual-C++ Redistributables</code> in order to properly run your injector, and for the DLL to be loaded. <strong>However</strong></p>\n\n<p>After Injection, the dll is trying to <code>LoadLibrary</code> (if <code>GetModuleHandle</code> fails) the CRT dlls. There are a lot of them!</p>\n\n<p>You have some options:</p>\n\n<ol>\n<li><p>Include the required DLLs inside your Injector (Resource, Bytecode, etc) and write them to the directory <strong>where the game is run from</strong></p></li>\n<li><p>Download the DLLs from a server on the internet and put them in the directory <strong>where the game is run from</strong></p></li>\n<li><p>Statically linking the CRT (to the injected DLL) also works, but you have to make sure you get all dependencies too!</p></li>\n</ol>\n\n<p>The reason you need to have the required DLLs in the folder where the game is run from is because the <code>LoadLibrary</code> call will be made explicitly from the <code>Game.exe</code> itself, and it will only be looking for the DLLs in that directory.</p>\n\n<p>You can choose to attach a Runtime-debugger such as WinDbg to the injected DLL, set a breakpoint at the DLL entry-point (wherever it is for you). Then check what sort of LoadLibrary/GetModuleHandle calls are made when your DLL is loaded, this will give you a hint as to what DLLs are required!</p>\n\n<p>The problem here is because your friend doesn't have the <code>Visual-C++ Redistributables</code> installed, many of the CRT files also have dependencies of their own! Your injector will have to have a Win-Installer which in turn installs the redistributables MSI from the Microsoft website, a technique which many modern games (at install time) adapted.</p>\n"}, {"tags": [], "owner": {"reputation": 78, "user_id": 7417903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2edec11a1271b61bee8846703da07151?s=128&d=identicon&r=PG&f=1", "display_name": "RaspiRepo", "link": "https://stackoverflow.com/users/7417903/raspirepo"}, "is_accepted": false, "score": 2, "last_activity_date": 1484386598, "creation_date": 1484386598, "answer_id": 41648554, "question_id": 41471207, "link": "https://stackoverflow.com/questions/41471207/c-requesting-msvcp110d-dll-even-though-staticly-linked/41648554#41648554", "title": "C++ Requesting MSVCP110D.dll even though staticly linked", "body": "<p>Try following on your project settings</p>\n\n<ol>\n<li><p>C/C++ Runtime Library : Multi-threaded /MT - as you already have.</p></li>\n<li><p>C/C++ Code Generation -> Basic Run time checks -> \"Default\" if anything else in your settings.</p></li>\n<li><p>Linker->Manifest File-> Generate Manifest \"No\"</p></li>\n<li><p>Manifest tool->Input and Output -> Embed Manifest -> \"NO\". </p>\n\n<ol start=\"5\">\n<li>Rebuild your application in Release mode and check. </li>\n</ol></li>\n<li><p>also use and Check with Dependency walker to find which DLL is linking to your EXE \"debug DLL\".</p></li>\n</ol>\n"}], "owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 904, "favorite_count": 2, "accepted_answer_id": 41525420, "answer_count": 3, "score": 13, "last_activity_date": 1559403888, "creation_date": 1483555914, "last_edit_date": 1559403888, "question_id": 41471207, "link": "https://stackoverflow.com/questions/41471207/c-requesting-msvcp110d-dll-even-though-staticly-linked", "title": "C++ Requesting MSVCP110D.dll even though staticly linked", "body": "<p>I created a <code>library</code> injection method on my machine in C++ which works very well when I try to inject a specific dll into a process. However, when I run the program on my friend's computer (where <code>Visual Studio</code>'s redistributables are not installed), I am warned that I need <code>MSVCR</code>, etc ... (the redistributables).  </p>\n\n<p>So I compiled in the <code>release</code> mode with the following setting in Visual Studio 2012  : <code>Runtime Library : Multi-threaded /MT</code>. Now when I run it on my friend's \nmachine I am warned that I need only the library <code>MSVCP110D.dll</code>  ( weird, asking for the debug version) (there is no antivirus, and UAC is disabled ). \nI copied the requested library manually in the release path and still wont work.</p>\n\n<p>This is the injection code i made :</p>\n\n<pre><code>int inject(string lpLibraryPath)\n{\n    HANDLE      hProc;\n    LPVOID      paramAddr;\n    HINSTANCE   hDll;\n\n    hDll = LoadLibrary(L\"KERNEL32\");\n\n    fpLoadLibrary LoadLibraryAddr = (fpLoadLibrary)GetProcAddress(hDll, \"LoadLibraryA\");\n\n    hProc = OpenProcess(PROCESS_ALL_ACCESS, false, id);\n\n    paramAddr = VirtualAllocEx(hProc, 0, strlen(lpLibraryPath.c_str()) + 1, MEM_COMMIT, PAGE_READWRITE);\n\n    if(WriteProcessMemory(hProc, paramAddr, lpLibraryPath.c_str(), strlen(lpLibraryPath.c_str()) + 1, NULL) == NULL)\n    {\n        return 0;\n    }\n\n    CreateRemoteThread(hProc, 0, 0, (LPTHREAD_START_ROUTINE)LoadLibraryAddr, paramAddr, 0, 0);\n\n    CloseHandle(hProc);\n\n    return 1;   \n}\n};\n</code></pre>\n\n<p>I found some references on stackoverflow but they were of no help .\nlike\n<a href=\"https://stackoverflow.com/questions/21103532/msvcp110-dll-how-do-i-get-around-it\">msvcp110.dll, how do I get around it?</a> or <a href=\"https://stackoverflow.com/questions/21458908/fixing-the-msvcp110d-dll-is-missing-from-your-computer-issue\">Fixing the &quot;MSVCP110D.dll is missing from your computer&quot; issue</a></p>\n"}, {"tags": ["c++", "string", "c++11"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483555975, "post_id": 41471184, "comment_id": 70148121, "body": "<code>string str;</code> makes an empty string. You need to tell it to be a size if you want to use <code>[]</code>."}, {"owner": {"reputation": 87, "user_id": 5899094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7d480a6926fd28ab12c0224bb01108?s=128&d=identicon&r=PG&f=1", "display_name": "Duh", "link": "https://stackoverflow.com/users/5899094/duh"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483556054, "post_id": 41471184, "comment_id": 70148176, "body": "Why is this question being downvoted? I tried my best to answer my questions on my own but failed and that&#39;s why asking here. What is the use of this community if all people do is downvote questions even if the person who asked did his homework? :-/"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1483556055, "post_id": 41471184, "comment_id": 70148177, "body": "<code>str[0]</code> returns a reference to the <code>&#39;\\0&#39;</code> terminator, that <a href=\"http://www.cplusplus.com/reference/string/string/operator%5B%5D/\" rel=\"nofollow noreferrer\"><i>should not be modified</i></a>. Everything after that modification is undefined behavior."}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 5, "creation_date": 1483556096, "post_id": 41471184, "comment_id": 70148193, "body": "<code>I insert a character using [] operator</code> - no you dont and the rest is irrelvant, you are just tinkering with memory you dont own"}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1483556110, "post_id": 41471184, "comment_id": 70148197, "body": "Read some documentation, you&#39;re violating the preconditions of <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/operator_at\" rel=\"nofollow noreferrer\"><code>string::operator[]</code></a>. And your compiler should be warning you about multi-character literals here - <code>str = &#39;ABC&#39;;</code>"}, {"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483556207, "post_id": 41471184, "comment_id": 70148238, "body": "<code>essentially a string in single quotes</code> No, you should have got a warning , see <a href=\"http://stackoverflow.com/questions/7755202/multi-character-constant-warnings\" title=\"multi character constant warnings\">stackoverflow.com/questions/7755202/&hellip;</a>"}, {"owner": {"reputation": 87, "user_id": 5899094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7d480a6926fd28ab12c0224bb01108?s=128&d=identicon&r=PG&f=1", "display_name": "Duh", "link": "https://stackoverflow.com/users/5899094/duh"}, "edited": false, "score": 0, "creation_date": 1483556569, "post_id": 41471184, "comment_id": 70148433, "body": "I don&#39;t want to come off as &quot;not listening&quot; but I didn&#39;t get any warnings. I&#39;m not sure why. I&#39;ll see if they are being suppressed or turned off. I&#39;m on a PC in my college."}, {"owner": {"reputation": 374849, "user_id": 734069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a356923f858fbe363dad1dc566837fc6?s=128&d=identicon&r=PG", "display_name": "Nicol Bolas", "link": "https://stackoverflow.com/users/734069/nicol-bolas"}, "edited": false, "score": 2, "creation_date": 1483557306, "post_id": 41471184, "comment_id": 70148892, "body": "@Duh: &quot;<i>I don&#39;t want to come off as &quot;not listening&quot; but I didn&#39;t get any warnings. I&#39;m not sure why.</i>&quot; Because you&#39;re using C++. And C++ is not a <i>safe</i> language. It allows you to do by default plenty of things that could break if you don&#39;t know what you&#39;re doing."}, {"owner": {"reputation": 106, "user_id": 207540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/739b020f875d2359d73f4b1361a308b9?s=128&d=identicon&r=PG", "display_name": "Oliver Seiler", "link": "https://stackoverflow.com/users/207540/oliver-seiler"}, "edited": false, "score": 0, "creation_date": 1483558739, "post_id": 41471184, "comment_id": 70149640, "body": "@Duh: &quot;but I didn&#39;t get any warnings. I&#39;m not sure why.&quot; It depends on the compiler, which you haven&#39;t told us about. The thing to understand is <code>&#39;ABC&#39;</code> is an int, not a char; if I compile this in gcc I get two warnings, one for the multi-character character constant, and one for the implicit conversion from int to char when I assign the int to the string with it&#39;s char assignment operator."}, {"owner": {"reputation": 87, "user_id": 5899094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7d480a6926fd28ab12c0224bb01108?s=128&d=identicon&r=PG&f=1", "display_name": "Duh", "link": "https://stackoverflow.com/users/5899094/duh"}, "reply_to_user": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483608642, "post_id": 41471184, "comment_id": 70167897, "body": "@OlegBogdanov &quot;you are just tinkering with memory you dont own&quot; I understand now but according to the <a href=\"http://www.geeksforgeeks.org/c-string-class-and-its-applications/\" rel=\"nofollow noreferrer\">page</a> from where I was reading about  C++ strings &quot;C++ string class internally uses char array to store character&quot;. Meaning <code>str[0] = &#39;a&#39;</code> should work with string just like it does with <code>char str[] = &quot;&quot;</code> (but it doesn&#39;t as we saw). Can you help me understand why <code>[]</code> operator has different behavior in dealing with array of characters than string? Should I ask this as a separate question if it qualifies?"}, {"owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1483612868, "post_id": 41471184, "comment_id": 70170620, "body": "@Duh see the edit to my answer."}, {"owner": {"reputation": 87, "user_id": 5899094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7d480a6926fd28ab12c0224bb01108?s=128&d=identicon&r=PG&f=1", "display_name": "Duh", "link": "https://stackoverflow.com/users/5899094/duh"}, "reply_to_user": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "edited": false, "score": 0, "creation_date": 1483624431, "post_id": 41471184, "comment_id": 70178713, "body": "@user2079303 Thanks, you&#39;ve been really helpful with your answer. Things are much clearer to me now."}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "is_accepted": false, "score": 2, "last_activity_date": 1483557250, "creation_date": 1483557250, "answer_id": 41471577, "question_id": 41471184, "link": "https://stackoverflow.com/questions/41471184/understanding-c-strings/41471577#41471577", "title": "Understanding C++ strings", "body": "<p>You should take a look at <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/operator_at\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/string/basic_string/operator_at</a>. Namely, the portion about \"If pos == size(), the behavior is undefined.\"</p>\n\n<p>The following line creates an empty string:</p>\n\n<pre><code>string str;\n</code></pre>\n\n<p>so size() will return 0.</p>\n"}, {"tags": [], "owner": {"reputation": 178960, "user_id": 2079303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf7f63e49a75376e0f761c8abeb6d5a?s=128&d=identicon&r=PG", "display_name": "eerorika", "link": "https://stackoverflow.com/users/2079303/eerorika"}, "is_accepted": true, "score": 5, "last_activity_date": 1483613170, "last_edit_date": 1592644375, "creation_date": 1483559943, "answer_id": 41472257, "question_id": 41471184, "link": "https://stackoverflow.com/questions/41471184/understanding-c-strings/41472257#41472257", "title": "Understanding C++ strings", "body": "<blockquote>\n<p>Considering a string, I insert a character (not using append()) using [] operator:</p>\n<pre><code>string str;\nstr[0] = 'a';\n</code></pre>\n</blockquote>\n<p>You did not <em>insert</em> a character. <code>operator[](size_type pos)</code> returns a reference to the - already existing - character at <code>pos</code>. If <code>pos == size()</code> then behaviour is undefined. Your string is empty, so <code>size() == 0</code> and therefore <code>str[0]</code> has undefined behaviour.</p>\n<blockquote>\n<p>Q1. What happened there? Why was a not printed in the first case?</p>\n</blockquote>\n<p>The behaviour is undefined.</p>\n<hr />\n<blockquote>\n<p>Now, I do something that should throw a compilation error but it doesn't and my question is again, why.</p>\n<p>str = 'ABC';</p>\n<p>Q2. How's that not an incorrect semantic i.e. assigning a character ... to a string?</p>\n</blockquote>\n<p>Assigning a character to a string is not incorrect semantic. It sets the content of the string to that single character.</p>\n<blockquote>\n<p>Q2. ... a character (which is not really a character but essentially a string in single quotes) ...</p>\n</blockquote>\n<p>It is a multicharacter literal. The type of a multicharacter literal is <code>int</code>. If the compiler supports multicharacter literals, then the semantic is not incorrect.</p>\n<p>There isn't an assignment operator for string that would accept an <code>int</code>. However, <code>int</code> is implicitly convertible to <code>char</code>, so the assignment operator that accepts a <code>char</code> is used after the conversion.</p>\n<p><code>char</code> cannot necessarily represent all the values that <code>int</code> can, so it is possible that the conversion overflows. If <code>char</code> is a signed type, then this overflow has undefined behaviour.</p>\n<hr />\n<blockquote>\n<p>Q3. Why was the last character printed, not first?</p>\n</blockquote>\n<p>The value of a multicharacter literal is implementation-defined. You'll need to consult the manual of your compiler to find out whether multicharacter literals are supported, and what value you should expect. Furthermore, you'll need to consider the fact that the <code>char</code> that the value is converted to probably cannot represent all values of <code>int</code>.</p>\n<hr />\n<blockquote>\n<p>but I didn't get any warnings</p>\n</blockquote>\n<p>Then consider getting a better compiler. This is what GCC warns:</p>\n<blockquote>\n<p>warning: multi-character character constant [-Wmultichar]</p>\n<pre><code> str = 'ABC';\n</code></pre>\n<p>warning: overflow in implicit constant conversion [-Woverflow]</p>\n</blockquote>\n<hr />\n<blockquote>\n<p><code>str[0] = 'a'</code> should work with string just like it does with <code>char str[] = &quot;&quot;</code> (but it doesn't as we saw). Can you help me understand why [] operator has different behavior in dealing with array of characters than string?</p>\n</blockquote>\n<p>Because that's how the standard has defined the behaviour and requirements of <code>std::string</code>.</p>\n<pre><code>char str[] = &quot;&quot;;\n</code></pre>\n<p>Creates an array of size 1, consisting of the null terminator. This element of the array is like any other, and you can freely modify it:</p>\n<pre><code>str[0] = 'a';\n</code></pre>\n<p>This is well defined and OK. But now <code>str</code> no longer contains a null-terminated string, so trying to use it as such has undefined behaviour:</p>\n<pre><code>out &lt;&lt; &quot;str:&quot; &lt;&lt; str &lt;&lt; endl; // oops, str is not a null terminated string\n</code></pre>\n<p>So, <code>std::string</code> has been designed such that you cannot mess with the final null terminator - as long as you obey the requirements of <code>std::string</code>. Not allowing touching the null terminator also allows the implementation to never allocate a memory buffer for an empty string. Not allocating memory may be faster than allocating memory, so this is a good thing.</p>\n"}, {"tags": [], "owner": {"reputation": 33645, "user_id": 2630032, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hQF09.jpg?s=128&g=1", "display_name": "Stephan Lechner", "link": "https://stackoverflow.com/users/2630032/stephan-lechner"}, "is_accepted": false, "score": 2, "last_activity_date": 1483560598, "last_edit_date": 1483560598, "creation_date": 1483560221, "answer_id": 41472338, "question_id": 41471184, "link": "https://stackoverflow.com/questions/41471184/understanding-c-strings/41472338#41472338", "title": "Understanding C++ strings", "body": "<p>Your statement <code>str string; str[0]='a'</code> is undefined behaviour, though the reason for this differs between \"before C++11\" and \"from C++11 on\". Note that <code>str</code> is a non-const string. Before C++11 already a (read) access like <code>str[pos]</code> with <code>pos == size()</code> and <code>str</code> being a non-const string yields undefined behaviour. From C++11 on, a read-access would be permitted (yielding a reference to the <code>'\\0'</code>-character. A modification, however, again is undefined in its behaviour.\nSo far to the Cpp reference regarding <a href=\"http://en.cppreference.com/w/cpp/string/basic_string/operator_at\" rel=\"nofollow noreferrer\">std::basic_string::operator_at</a>.</p>\n\n<p>But now let's explain the behaviour of a program similar to yours but with defined behaviour; (I'll use this then as analogy to describe the behaviour of your program):</p>\n\n<pre class=\"lang-cpp prettyprint-override\"><code>string str = \"bbbb\";\n\nconst char* cstr = str.data();\nprintf(\"adress: %p; content:%s\\n\", cstr, cstr);\n// yields \"adress: 0x7fff5fbff5d9; content:bbbb\"\n\nstr[0] = 'a';\nconst char* cstr2 = &amp;str[0];\nprintf(\"adress: %p; content:%s\\n\", cstr2, cstr2);\n// yields \"adress: 0x7fff5fbff5d9; content:abbb\"\n\ncout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n// yields \"str:abbb\"\n</code></pre>\n\n<p>The program is almost self explanatory, but note that <code>str.data()</code>gives a pointer to the internal data buffer, and <code>str.data()</code> returns the same address as <code>&amp;str[0]</code>.</p>\n\n<p>If we now change the same program to your setting with <code>string str = \"\"</code>, then there does not even change to much in the behaviour (although this behaviour is undefined, not safe, not guaranteed, and may differ from compiler to compiler):</p>\n\n<pre><code>string str;  // is the same as string str = \"\"\n\nconst char* cstr = str.data();\nprintf(\"adress: %p; content:%s\\n\", cstr, cstr);\n// yields \"adress: 0x7fff5fbff5c1; content:\"\n\nstr[0] = 'a';\nconst char* cstr2 = &amp;str[0];\nprintf(\"adress: %p; content:%s\\n\", cstr2, cstr2);\n// yields \"adress: 0x7fff5fbff5c1; content:a\"\n\ncout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n// yields \"str:\"\n</code></pre>\n\n<p>Note that <code>str.data()</code> returns the same address as <code>&amp;str[0]</code> and that <code>'a'</code> has actually been written to that address (if we have good luck, we do not access non-allocated memory, as an empty string is not guaranteed to have a buffer ready; maybe we have really good luck). So printing out <code>str.data()</code> actually gives you <code>a</code> (if we have additional luck that the character after <code>'a'</code> is a string terminating char). Anyway, statement <code>str[0]='a'</code> does not increase string size, which is still <code>0</code>, such that <code>cout &lt;&lt; str</code> gives an empty string.</p>\n\n<p>Hope this helps somehow.</p>\n"}, {"tags": [], "owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "is_accepted": false, "score": 1, "last_activity_date": 1483560572, "creation_date": 1483560572, "answer_id": 41472420, "question_id": 41471184, "link": "https://stackoverflow.com/questions/41471184/understanding-c-strings/41472420#41472420", "title": "Understanding C++ strings", "body": "<pre><code>string str;\n</code></pre>\n\n<p>Makes a string of length 0.</p>\n\n<pre><code>str[0] = 'a';\n</code></pre>\n\n<p>Sets the first element of the string to 'a'. Note that the length of the string is still 0. Also note there may not be space allocated to hold this 'a' and the program is broken at this point so further analysis is best guesses.</p>\n\n<pre><code>cout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n</code></pre>\n\n<p>Prints the contents of the string. The string is length 0, so nothing prints.</p>\n\n<pre><code>cout &lt;&lt; \"str[0]:\" &lt;&lt; str[0] &lt;&lt; endl;\n</code></pre>\n\n<p>reaches into undefined territories and tries to read back the previously stored 'a'. This won't work, and the result is undefined. In this case it gave the appearance of working, possibly the nastiest thing undefined behaviour can do.</p>\n\n<pre><code>str = 'ABC';\n</code></pre>\n\n<p>is not necessarily an error as there are multibyte characters out there, but this most likely will, but is not required to, result in a warning from the compiler as it's probably a mistake.</p>\n\n<pre><code>cout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n</code></pre>\n\n<p>Your guess is as good as mine what the compiler will do since <code>str = 'ABC';</code> was logically incorrect (although syntactically valid). The compiler seems to have truncated <code>ABC</code> to the last character much like putting 257 into a 8 bit integer  may result in preserving only the least significant bit.</p>\n"}], "owner": {"reputation": 87, "user_id": 5899094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf7d480a6926fd28ab12c0224bb01108?s=128&d=identicon&r=PG&f=1", "display_name": "Duh", "link": "https://stackoverflow.com/users/5899094/duh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 1, "accepted_answer_id": 41472257, "answer_count": 4, "score": 4, "last_activity_date": 1483613170, "creation_date": 1483555820, "question_id": 41471184, "link": "https://stackoverflow.com/questions/41471184/understanding-c-strings", "title": "Understanding C++ strings", "body": "<p>I'm trying to understand how strings really work in C++ because I just got really confused after coming across an unexpected behavior.</p>\n\n<p>Considering a string, I insert a character (not using <code>append()</code>) using <code>[]</code> operator:</p>\n\n<pre><code>string str;\nstr[0] = 'a';\n</code></pre>\n\n<p>Let's print the string:</p>\n\n<pre><code>cout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n</code></pre>\n\n<p>I get NULL as output:</p>\n\n<pre><code>str:\n</code></pre>\n\n<p>Ok, let's try printing the only character in the string:</p>\n\n<pre><code>cout &lt;&lt; \"str[0]:\" &lt;&lt; str[0] &lt;&lt; endl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>str[0]:a\n</code></pre>\n\n<p><strong>Q1. What happened there? Why was <code>a</code> not printed in the first case?</strong></p>\n\n<p>Now, I do something that should throw a compilation error but it doesn't and my question is again, why.</p>\n\n<pre><code>str = 'ABC';\n</code></pre>\n\n<p><strong>Q2. How's that not an incorrect semantic i.e. assigning a character (which is not really a character but essentially a string in single quotes) to a string?</strong></p>\n\n<p>Now, worse when I print the string, it always prints last character i.e C (I was expecting first character i.e. A):</p>\n\n<pre><code>cout &lt;&lt; \"str:\" &lt;&lt; str &lt;&lt; endl;\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>str:C\n</code></pre>\n\n<p><strong>Q3. Why was the last character printed, not first?</strong></p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 6, "creation_date": 1483555875, "post_id": 41471176, "comment_id": 70148056, "body": "Then don&#39;t use a ternary operator...?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483555899, "post_id": 41471176, "comment_id": 70148072, "body": "<code>?</code> represents an <code>if...else</code>.  if you just have an <code>if</code> why not use <code>if (condition) action;</code>"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1483555903, "post_id": 41471176, "comment_id": 70148075, "body": "You can&#39;t leave the &quot;else&quot; part blank."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1483555961, "post_id": 41471176, "comment_id": 70148113, "body": "<code>0</code>&#39;s good, I guess."}, {"owner": {"reputation": 319, "user_id": 7355205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e9934bb8a2f0cb7c64969e27ffbffe42?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Mishra", "link": "https://stackoverflow.com/users/7355205/pankaj-mishra"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483555992, "post_id": 41471176, "comment_id": 70148134, "body": "@NathanOliver Because its one liner"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1483556029, "post_id": 41471176, "comment_id": 70148159, "body": "@PankajMishra What I wrote is also one line.  Nothing says <code>action</code> needs to be on its one line."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 3, "creation_date": 1483556037, "post_id": 41471176, "comment_id": 70148162, "body": "@PankajMishra - So is <code>if (condition) action;</code>. And it&#39;s far less &quot;clever&quot;."}, {"owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "edited": false, "score": 0, "creation_date": 1483556855, "post_id": 41471176, "comment_id": 70148626, "body": "Also, be careful about evaluating <code>temp</code> as a raw boolean...  if <code>temp</code> could ever be negative, then strictly speaking <code>if (temp)</code> and <code>if (temp &gt; 0)</code> are not equivalent"}], "answers": [{"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 2, "last_activity_date": 1483556037, "creation_date": 1483556037, "answer_id": 41471243, "question_id": 41471176, "link": "https://stackoverflow.com/questions/41471176/how-to-use-ternary-operator-just-as-if-statement/41471243#41471243", "title": "How to use ternary operator just as if statement?", "body": "<p>The ternary operator is used in an expression. As such, the entire expression must evaluate to a single value. This means that you must supply both the \"if\" and \"else\" clauses. There is no way to leave the \"else\" part blank.</p>\n\n<p>In addition, embedding an increment operator within an expression such as this is inadvisable since the consequences of the side-effect are so error-prone.</p>\n"}, {"comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1483556387, "post_id": 41471266, "comment_id": 70148339, "body": "for the second option, just get rid of the braces if you&#39;re going to do that. Also note that the parentheses in the first are redundant"}, {"owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1483556554, "post_id": 41471266, "comment_id": 70148421, "body": "@AndrewLi I&#39;ve gotten in the habit of using the the parentheses and braces for the sake of readability, especially whenever the sub-expressions are multi-operator expressions.  (better visual delineation)  Although you&#39;re right, I guess in this case that doesn&#39;t apply."}, {"owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "reply_to_user": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1483557197, "post_id": 41471266, "comment_id": 70148829, "body": "@anatolyg No, you literally <i>can&#39;t</i> &quot;do nothing&quot; in the third operand if the second operand returns a value.  <i>Something</i> must go there.  The behavioral effect may be equivalent to a no-op (as both other answers <i>as well as my answer</i> show), but the third operand <i>cannot</i> &quot;do nothing&quot; if the second operand returns a value."}], "tags": [], "owner": {"reputation": 1975, "user_id": 5029307, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5481fa266e0007d9c497e95b41019fc0?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/5029307/travis"}, "is_accepted": true, "score": 6, "last_activity_date": 1483557438, "last_edit_date": 1483557438, "creation_date": 1483556102, "answer_id": 41471266, "question_id": 41471176, "link": "https://stackoverflow.com/questions/41471176/how-to-use-ternary-operator-just-as-if-statement/41471266#41471266", "title": "How to use ternary operator just as if statement?", "body": "<h1>Answer</h1>\n\n<p>Strictly speaking, you can't do this:</p>\n\n<pre><code>(boolean expression) ? (returning expression) : /* no-op */;\n</code></pre>\n\n<p><em>Something</em> has to go in the third operand.  However, you can make that \"something\" behaviorally equivalent to a no-op in terms of the post-conditions of evaluating the ternary operator.  See below.</p>\n\n<hr>\n\n<h1>Explanation</h1>\n\n<p>The ternary operator must return a value, and the type is deduced as the most derived type that is a supertype of the return type of each of the second and third operands.  So if the third operand is a blank expression (i.e. it returns nothing), then the compiler cannot deduce a return type for the operator as a whole.  Thus, it will not compile.</p>\n\n<hr>\n\n<h1>Solution</h1>\n\n<p><strong>Using the ternary operator:</strong></p>\n\n<p>If you really wanted to, this is how you might do it using the ternary operator:</p>\n\n<pre><code>i = temp&gt;0 ? i+1 : i;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>temp&gt;0 ? ++i : i;\n</code></pre>\n\n<p><strong>Preferred syntax:</strong></p>\n\n<p>Although if all you're looking for is a one-liner, then the following syntax is preferred:</p>\n\n<pre><code>if (temp&gt;0) ++i;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 1, "creation_date": 1483614702, "post_id": 41471278, "comment_id": 70171829, "body": "The part with <code>void</code> casting doesn&#39;t work. If you want to use the casting, add parentheses around the whole expression (however, that will make it ugly)."}, {"owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "reply_to_user": {"reputation": 22818, "user_id": 509868, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/83450238b4ee0eddbf54d7ce5a3a64e4?s=128&d=identicon&r=PG", "display_name": "anatolyg", "link": "https://stackoverflow.com/users/509868/anatolyg"}, "edited": false, "score": 0, "creation_date": 1483629381, "post_id": 41471278, "comment_id": 70182283, "body": "You&#39;re right; I&#39;ve added the parentheses.  It was already ugly so nothing is lost there."}], "tags": [], "owner": {"reputation": 56858, "user_id": 131930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/91536fe27d32713b8a154a0bf42f6748?s=128&d=identicon&r=PG", "display_name": "Jeremy Friesner", "link": "https://stackoverflow.com/users/131930/jeremy-friesner"}, "is_accepted": false, "score": 4, "last_activity_date": 1483629365, "last_edit_date": 1483629365, "creation_date": 1483556145, "answer_id": 41471278, "question_id": 41471176, "link": "https://stackoverflow.com/questions/41471176/how-to-use-ternary-operator-just-as-if-statement/41471278#41471278", "title": "How to use ternary operator just as if statement?", "body": "<p>This will work:</p>\n\n<pre><code>(void) ((temp&gt;0)?i++:0);  \n</code></pre>\n\n<p>Note that the (void) does not change the behavior of the code; rather it is there to indicate to the reader (and/or any style checking programs you might invoke in the future) that the result of the expression is being deliberately discarded.  Without it you may get warnings from the compiler and/or other programmers suspecting a bug and trying to \"fix\" your code.</p>\n\n<p>Actually, you may get that anyway, since the above is a very unusual way to express what you are trying to do.  The code will be easier for others to understand and maintain if you instead use the traditional form:</p>\n\n<pre><code>if (temp&gt;0) i++;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 0, "last_activity_date": 1483556612, "creation_date": 1483556612, "answer_id": 41471413, "question_id": 41471176, "link": "https://stackoverflow.com/questions/41471176/how-to-use-ternary-operator-just-as-if-statement/41471413#41471413", "title": "How to use ternary operator just as if statement?", "body": "<p>you can:</p>\n\n<pre><code>    int temp = 20, i = 0;\n\n    (temp)? i++: i;\n\n    cout &lt;&lt; i &lt;&lt; endl;\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 7355205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e9934bb8a2f0cb7c64969e27ffbffe42?s=128&d=identicon&r=PG&f=1", "display_name": "Pankaj Mishra", "link": "https://stackoverflow.com/users/7355205/pankaj-mishra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 41471266, "answer_count": 4, "score": 0, "last_activity_date": 1483629365, "creation_date": 1483555808, "question_id": 41471176, "link": "https://stackoverflow.com/questions/41471176/how-to-use-ternary-operator-just-as-if-statement", "title": "How to use ternary operator just as if statement?", "body": "<p>I want to use ternary operator(\"? : \") as if statement statement.To be precise I want to do something like this,if(temp>0) so increment 'i' else do nothing.</p>\n\n<pre><code>          temp?i++:WHAT_SHOULD_COME_HERE_SO_NO_CHANGES_ARE_MADE_ANYWHERE\n</code></pre>\n"}, {"tags": ["c++", "macros", "c-preprocessor"], "comments": [{"owner": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 1, "creation_date": 1483555614, "post_id": 41471087, "comment_id": 70147922, "body": "What compiler are you using? What error/warning message do you see?"}, {"owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1483555628, "post_id": 41471087, "comment_id": 70147929, "body": "@Carcigenicate i hope to find this way )"}, {"owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "reply_to_user": {"reputation": 4418, "user_id": 5264388, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/160f1b756f3f4a0ba9a2a58f4cce911b?s=128&d=identicon&r=PG", "display_name": "owacoder", "link": "https://stackoverflow.com/users/5264388/owacoder"}, "edited": false, "score": 0, "creation_date": 1483555767, "post_id": 41471087, "comment_id": 70148006, "body": "@owacoder C2059, MSVC++ 10"}, {"owner": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1483556018, "post_id": 41471087, "comment_id": 70148157, "body": "Thanks for the error number, but what exact error message(s) do you see?"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1483556285, "post_id": 41471087, "comment_id": 70148285, "body": "The tilde is <i>not</i> a special character to the preprocessor. Your error comes from something else."}, {"owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "reply_to_user": {"reputation": 1636, "user_id": 3370124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f73352b4adb282c092738f34883488dd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Critten", "link": "https://stackoverflow.com/users/3370124/richard-critten"}, "edited": false, "score": 0, "creation_date": 1483556296, "post_id": 41471087, "comment_id": 70148294, "body": "@Richard Critten i see the syntax errors C2059, C2143, but this errors are effect. They generated subsequently using the tilde"}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1483556401, "post_id": 41471087, "comment_id": 70148345, "body": "This is a bad idea. Please don&#39;t do it."}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "edited": false, "score": 0, "creation_date": 1483556408, "post_id": 41471087, "comment_id": 70148350, "body": "Confirming my thoughts: <a href=\"http://coliru.stacked-crooked.com/a/bcc66093f068d674\" rel=\"nofollow noreferrer\">it works fine</a>."}, {"owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "reply_to_user": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1483556786, "post_id": 41471087, "comment_id": 70148582, "body": "@Rob K it is not bad idea, because i do it for study only )"}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1483556895, "post_id": 41471087, "comment_id": 70148648, "body": "Study of what? How to write incomprehensible, unmaintainable code? Why don&#39;t you study something that will make your code better, not worse?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483562479, "post_id": 41471087, "comment_id": 70151451, "body": "If you <i>need</i> a macro like this, I recommend taking keyboarding or typing courses.  I often cheat by using a stencil, then doing a global replace."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483562524, "post_id": 41471087, "comment_id": 70151467, "body": "See <a href=\"http://stackoverflow.com/questions/14041453/why-are-preprocessor-macros-evil-and-what-are-the-alternatives\">Why preprocessor macros are evil</a>"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "edited": false, "score": 0, "creation_date": 1483557153, "post_id": 41471300, "comment_id": 70148807, "body": "thanks, i found a problem, a one line has tab character after the slash ) Thanks you very much!"}], "tags": [], "owner": {"reputation": 14052, "user_id": 1513286, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kUz60.png?s=128&g=1", "display_name": "snoopy", "link": "https://stackoverflow.com/users/1513286/snoopy"}, "is_accepted": true, "score": 0, "last_activity_date": 1483556230, "last_edit_date": 1483556230, "creation_date": 1483556199, "answer_id": 41471300, "question_id": 41471087, "link": "https://stackoverflow.com/questions/41471087/how-to-screen-the-tilde-in-preprocessor-macros/41471300#41471300", "title": "How to screen the tilde in preprocessor macros?", "body": "<p>This is the proper way to declare it:</p>\n\n<pre><code>#define MAKECLASS(name) \\\nclass name \\\n{ \\\npublic: \\\n    name() {} \\\n    ~name() {} \\\n};\n\nMAKECLASS(a)\n</code></pre>\n\n<p>But I should warn you that this is in general a bad idea, why does the design of your program requires this? If it doesn't, you better not using it.</p>\n"}], "owner": {"reputation": 41, "user_id": 6772781, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-LEFzRw_K_3s/AAAAAAAAAAI/AAAAAAAAAb8/f8Ci0_B0WSk/photo.jpg?sz=128", "display_name": "Sergey Creator", "link": "https://stackoverflow.com/users/6772781/sergey-creator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 121, "favorite_count": 0, "accepted_answer_id": 41471300, "answer_count": 1, "score": -1, "last_activity_date": 1483976035, "creation_date": 1483555427, "last_edit_date": 1483976035, "question_id": 41471087, "link": "https://stackoverflow.com/questions/41471087/how-to-screen-the-tilde-in-preprocessor-macros", "title": "How to screen the tilde in preprocessor macros?", "body": "<p>I try write macros to define some class, but in this case i can not write destructor, because the tilde is a special character for preprocessor.</p>\n\n<p>There is a example:</p>\n\n<pre><code>#define CLASS( cName ) \\\nclass cName \\\n{ \\\npublic: \\\n    cName() \\\n    { \\\n    \\\n    } \\\n    \\\n    ~cName() \\\n    { \\\n    \\\n    } \\ \n};\\\n</code></pre>\n\n<p>How to screen the tilde?</p>\n"}, {"tags": ["c++", "inheritance", "overriding"], "answers": [{"tags": [], "owner": {"reputation": 4569, "user_id": 2528472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4642a8b49e1e965eccc07ec69f6eade4?s=128&d=identicon&r=PG", "display_name": "hubatish", "link": "https://stackoverflow.com/users/2528472/hubatish"}, "is_accepted": false, "score": 1, "last_activity_date": 1483555332, "creation_date": 1483555332, "answer_id": 41471070, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting/41471070#41471070", "title": "C++ Rename function argument when inheriting?", "body": "<p>I compiled the code with an additional:</p>\n\n<pre><code>int main() {\n    // your code goes here\n    Animal a;\n    Cat c;\n    cout &lt;&lt; a.foo(4) &lt;&lt; endl;\n    cout &lt;&lt; c.foo(4) &lt;&lt;endl;\n    return 0;\n}\n</code></pre>\n\n<p>This ran and gave the expected output of 5, 3.</p>\n\n<p>So it seems changing argument names is perfectly valid.</p>\n"}, {"tags": [], "owner": {"reputation": 83151, "user_id": 3943312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc00b38b94ca7b6f820622b0a8af8ded?s=128&d=identicon&r=PG", "display_name": "Sam Varshavchik", "link": "https://stackoverflow.com/users/3943312/sam-varshavchik"}, "is_accepted": false, "score": 4, "last_activity_date": 1483555483, "creation_date": 1483555483, "answer_id": 41471103, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting/41471103#41471103", "title": "C++ Rename function argument when inheriting?", "body": "<p>The name of the argument is irrelevant.</p>\n\n<p>The only thing that must match is the type of the parameter.</p>\n\n<p>And also whether the class method itself is <code>const</code>, or not. And the method's return value must match.</p>\n"}, {"comments": [{"owner": {"reputation": 4569, "user_id": 2528472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4642a8b49e1e965eccc07ec69f6eade4?s=128&d=identicon&r=PG", "display_name": "hubatish", "link": "https://stackoverflow.com/users/2528472/hubatish"}, "edited": false, "score": 0, "creation_date": 1483556006, "post_id": 41471149, "comment_id": 70148147, "body": "Thanks for the response and link! Your comment and Sam&#39;s about <code>const</code> seem contradictory though?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 4569, "user_id": 2528472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4642a8b49e1e965eccc07ec69f6eade4?s=128&d=identicon&r=PG", "display_name": "hubatish", "link": "https://stackoverflow.com/users/2528472/hubatish"}, "edited": false, "score": 1, "creation_date": 1483556154, "post_id": 41471149, "comment_id": 70148214, "body": "@hubatish Sam is talking about the function being marked as <code>const</code>.  Not the parameters of the function."}, {"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 1, "creation_date": 1483556552, "post_id": 41471149, "comment_id": 70148420, "body": "Also, note that constness is a little more subtle than this. <code>void foo(const int* x);</code> and <code>void foo(int* x)</code> are two different functions (because it&#39;s not x that&#39;s const here)."}], "tags": [], "owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "is_accepted": true, "score": 3, "last_activity_date": 1483555685, "creation_date": 1483555685, "answer_id": 41471149, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting/41471149#41471149", "title": "C++ Rename function argument when inheriting?", "body": "<p>To give a proper answer, the names of the arguments do not matter because they are not part of function signature. See <a href=\"http://en.cppreference.com/w/cpp/language/function\" rel=\"nofollow noreferrer\">http://en.cppreference.com/w/cpp/language/function</a> for (quite comprehensive) explanation. </p>\n\n<p>By the way, <code>const</code>-ness of the argument itself is not part of the signature either. This way, <code>void foo(const int x);</code> and <code>foo (int x)</code> are equivalent.</p>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 7008582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00a84315a410182b6b935689a9e46c74?s=128&d=identicon&r=PG&f=1", "display_name": "Dreamer", "link": "https://stackoverflow.com/users/7008582/dreamer"}, "is_accepted": false, "score": 0, "last_activity_date": 1483555712, "creation_date": 1483555712, "answer_id": 41471156, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting/41471156#41471156", "title": "C++ Rename function argument when inheriting?", "body": "<p>While using virtual method, all you need to do is to keep the declaration of the method same. That is, if I talk about your code you can change the variable number but not the <strong>datatype, parameter list, return type and function name</strong>.</p>\n"}, {"comments": [{"owner": {"reputation": 4569, "user_id": 2528472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4642a8b49e1e965eccc07ec69f6eade4?s=128&d=identicon&r=PG", "display_name": "hubatish", "link": "https://stackoverflow.com/users/2528472/hubatish"}, "edited": false, "score": 1, "creation_date": 1483556550, "post_id": 41471325, "comment_id": 70148419, "body": "unnamed parameters are crazy! Thanks for the revelation."}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 1, "last_activity_date": 1483558754, "last_edit_date": 1483558754, "creation_date": 1483556285, "answer_id": 41471325, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting/41471325#41471325", "title": "C++ Rename function argument when inheriting?", "body": "<p>You can as long as parameters are scoped to the function being declared to. What matters is the number of parameters and type so be sure that the overriden function has the same <code>signature</code> as the base's</p>\n\n<pre><code>class Animal\n{\n    public:\n    virtual int foo(int) { // even no parameter identifier and it is ok\n        return 0;\n    }\n};\n\nclass Cat : public Animal\n{\n    public:\n        int foo(int n) {\n        return n - 1;\n    }\n};\n</code></pre>\n"}], "owner": {"reputation": 4569, "user_id": 2528472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4642a8b49e1e965eccc07ec69f6eade4?s=128&d=identicon&r=PG", "display_name": "hubatish", "link": "https://stackoverflow.com/users/2528472/hubatish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 41471149, "answer_count": 5, "score": 1, "last_activity_date": 1483558754, "creation_date": 1483555332, "question_id": 41471069, "link": "https://stackoverflow.com/questions/41471069/c-rename-function-argument-when-inheriting", "title": "C++ Rename function argument when inheriting?", "body": "<p>If I override a virtual method, can I change the name of an argument in the child? Same type of argument, just change say <code>(int num)</code> to <code>(int n)</code>?</p>\n\n<p>Is this example valid?</p>\n\n<pre><code>class Animal\n{\n    public:\n    virtual int foo(int num) {\n        return num + 1;\n    }\n};\n\nclass Cat : public Animal\n{\n    public:\n    int foo(int n) override {\n        return n - 1;\n    }\n};\n</code></pre>\n\n<p>If it is, why do argument names not matter? </p>\n"}, {"tags": ["c++", "r", "makefile", "packages", "rcpp"], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "edited": false, "score": 0, "creation_date": 1483556260, "post_id": 41471170, "comment_id": 70148269, "body": "&quot;you just need to rebuild the wrapper calling it&quot; -- precisely! And what is the best way to do that? By default, <code>R CMD INSTALL</code> will not rebuild this if the timestamp has not changed."}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "reply_to_user": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "edited": false, "score": 0, "creation_date": 1483556368, "post_id": 41471170, "comment_id": 70148333, "body": "My packages all have a script <code>cleanup</code> (which is standard-but-optional part) which blows away, <i>inter alia</i>, what remains from <code>configure</code> and <code>gcc</code> and ...   These things can be studied by looking at existing packages -- you have almost 10k to choose from!"}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "reply_to_user": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "edited": false, "score": 0, "creation_date": 1483556425, "post_id": 41471170, "comment_id": 70148357, "body": "In RStudio you also have a &#39;clean &amp; rebuild&#39; option.  Approximating the cleaning step, you can probably just do <code>rm src&#47;*.{o,so,dylib}</code>."}, {"owner": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "edited": false, "score": 0, "creation_date": 1483556905, "post_id": 41471170, "comment_id": 70148654, "body": "Thanks for the hint. This led me to the <code>--preclean</code> flag, which seems like the easiest solution. (Incidentally, I haven&#39;t seen the use of <code>cleanup</code> scripts before but this sounds like a great idea in general. Would love to see some kind of description of how this works!)"}, {"owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "reply_to_user": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "edited": false, "score": 3, "creation_date": 1483557000, "post_id": 41471170, "comment_id": 70148716, "body": "I am not sure why you may this sound so difficult as <a href=\"https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Configure-and-cleanup\" rel=\"nofollow noreferrer\">this is documented</a>."}], "tags": [], "owner": {"reputation": 329671, "user_id": 143305, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4e96ca7ae02c37e7d940d17997d780e5?s=128&d=identicon&r=PG", "display_name": "Dirk Eddelbuettel", "link": "https://stackoverflow.com/users/143305/dirk-eddelbuettel"}, "is_accepted": false, "score": 1, "last_activity_date": 1483577576, "last_edit_date": 1483577576, "creation_date": 1483555776, "answer_id": 41471170, "question_id": 41471066, "link": "https://stackoverflow.com/questions/41471066/force-source-rebuild-in-r-package/41471170#41471170", "title": "Force source rebuild in R package", "body": "<p>Regarding</p>\n\n<blockquote>\n  <p>what is the correct way to force a rebuild using Rcpp</p>\n</blockquote>\n\n<p>the obvious answer is to rebuild from source</p>\n\n<pre><code>R CMD INSTALL sourceTarballOfPackage_0.1.2.tar.gz\n</code></pre>\n\n<p>The question then becomes where to get the source: CRAN, GitHub, GitLab, BitBucket, ... but we have helpers for that.</p>\n\n<p>If your code is internal, then you just need to rebuild <em>the wrapper</em> calling it, and that is still in <code>src/</code> in the package.  That is no different then another R(cpp) package linking against external resources.</p>\n"}, {"tags": [], "owner": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "is_accepted": false, "score": 1, "last_activity_date": 1483556767, "creation_date": 1483556767, "answer_id": 41471453, "question_id": 41471066, "link": "https://stackoverflow.com/questions/41471066/force-source-rebuild-in-r-package/41471453#41471453", "title": "Force source rebuild in R package", "body": "<p>The simplest solution is to add the flag <code>--preclean</code> to <code>R CMD INSTALL</code>. In Rstudio, this flag can be added under Project Options -> Build Tools -> Build and reload - R CMD INSTALL additonal options.</p>\n"}], "owner": {"reputation": 291, "user_id": 3961092, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/afb7474e3fe8b0eb46cdbc500aa7f670?s=128&d=identicon&r=PG&f=1", "display_name": "JohnA", "link": "https://stackoverflow.com/users/3961092/johna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 788, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1483577576, "creation_date": 1483555326, "last_edit_date": 1495542275, "question_id": 41471066, "link": "https://stackoverflow.com/questions/41471066/force-source-rebuild-in-r-package", "title": "Force source rebuild in R package", "body": "<p>This is similar to <a href=\"https://stackoverflow.com/a/816400/3961092\">this question and answer</a>, except specialized to R packages. Since R uses its own custom build process, what is the correct way to force a rebuild using Rcpp?</p>\n\n<p>(For reasons that I won't go into here, all of my C++ code is located outside /pkg/src, and is called via a simple wrapper function that never changes. For this reason, when the important code changes, R thinks nothing has changed and declares the dreaded <code>make: Nothing to be done for 'all'.</code>)</p>\n"}, {"tags": ["c++", "c++11", "initializer-list"], "comments": [{"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1483556449, "post_id": 41471002, "comment_id": 70148370, "body": "<i>the custom array class below uses a C array and it works</i> ... no, it doesn&#39;t really work. Try making a copy of a <code>myArray</code> instance. See <a href=\"https://stackoverflow.com/q/4172722/241631\">rule of three</a>."}, {"owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "reply_to_user": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 0, "creation_date": 1483556853, "post_id": 41471002, "comment_id": 70148620, "body": "@Praetorian, I wanted to keep the class as concise as possible.   I am not interested in any other constructors in this example.  Please see the UPDATE, I added a little more information to my question.  See the line that is commented out.  I want to know why the commented line will work only in the initializer list."}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 1, "creation_date": 1483557304, "post_id": 41471002, "comment_id": 70148890, "body": "That&#39;s how C++ constructor initializers work. It&#39;s similar to an argument to a constructor. Have you read <a href=\"http://stackoverflow.com/questions/388242/the-definitive-c-book-guide-and-list?lq=1\">a good C++ book</a>? I highly recommend The C++ Programming Language. It&#39;s an investment that will pay off well."}, {"owner": {"reputation": 99973, "user_id": 241631, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6099f76a0c24b09ca71f3e25eea7ce65?s=128&d=identicon&r=PG", "display_name": "Praetorian", "link": "https://stackoverflow.com/users/241631/praetorian"}, "edited": false, "score": 1, "creation_date": 1483557385, "post_id": 41471002, "comment_id": 70148938, "body": "The commented line won&#39;t compile because there&#39;s a difference between initialization and assignment. <a href=\"https://stackoverflow.com/a/8523361/241631\">This answer</a> explains things pretty well. And you really should be learning C++ from a book instead of random code samples."}, {"owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "reply_to_user": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 0, "creation_date": 1483557436, "post_id": 41471002, "comment_id": 70148965, "body": "@RobK, If you notice on the UPDATE part, I would expect that the commented line would compile but it does not.  Yet it works in the initializer list--confusing :("}, {"owner": {"reputation": 8326, "user_id": 53089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525dac0c4812e8e8753935590b40ddb6?s=128&d=identicon&r=PG", "display_name": "Rob K", "link": "https://stackoverflow.com/users/53089/rob-k"}, "edited": false, "score": 1, "creation_date": 1483558128, "post_id": 41471002, "comment_id": 70149332, "body": "It&#39;s the difference between assignment and construction. You can only use that function-style syntax to assign a value as part of construction. In the initializer list, it&#39;s actually constructing <code>elements</code> as part of constructing the <code>myArray</code> instance. As part of a statement in the body of a function though, the compiler sees it as an attempt to call a function."}], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 0, "creation_date": 1483557147, "post_id": 41471056, "comment_id": 70148798, "body": "I am familiar with initializing the array exactly like in your code example.  Please see the UPDATE post for more details to my question."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 1, "creation_date": 1483557722, "post_id": 41471056, "comment_id": 70149119, "body": "@CarolineBeltran when compiler see <code>elements(new int[size]);</code> in the function body it thinks <code>elements</code> is a function. That is why this construct is not allowed in the function body."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 1, "creation_date": 1483558244, "post_id": 41471056, "comment_id": 70149394, "body": "btw. you may also find intializer list with braced initializations, like: <code>size{size}</code>, the difference from <code>size(size)</code> is that the former prohibits narrowing conversions."}, {"owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 0, "creation_date": 1483558809, "post_id": 41471056, "comment_id": 70149680, "body": "The function style syntax that only works in the initializer list is so strange to me.  I have not learned about braced initializations next.  But I do have one last question.  Why can&#39;t it be initialized as follows: myArray(int size) : size(size), (elements = new int[size])"}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 1, "creation_date": 1483559600, "post_id": 41471056, "comment_id": 70150040, "body": "Thats is how c++ language syntax was made, each language has its own grammar, whether its english or C++ there is no difference, for C++ you can see here <a href=\"http://eel.is/c++draft/gram.special\" rel=\"nofollow noreferrer\">eel.is/c++draft/gram.special</a> its mem-initializer-list. <code>(elements = new int[size])</code> is not valid because compiler expects class member or base class name before <code>(</code>."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "reply_to_user": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 1, "creation_date": 1483559636, "post_id": 41471056, "comment_id": 70150061, "body": "C++ syntax is quite complicated, from this link you may find that expression-list allows to use quite complicated logic in initializer lists, example is <code>myArray(int size) : size(size), elements(this-&gt;elements = new int[size])</code> - not that I encourage it as it makes no sense. This would make more sense: <code>myArray(int size) : size(size), elements(size==0?nullptr:new int[size])</code>"}], "tags": [], "owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "is_accepted": true, "score": 3, "last_activity_date": 1483557903, "last_edit_date": 1483557903, "creation_date": 1483555292, "answer_id": 41471056, "question_id": 41471002, "link": "https://stackoverflow.com/questions/41471002/initialize-a-dynamic-c-array-within-a-c-initializer-list/41471056#41471056", "title": "Initialize a dynamic C array within a C++ initializer list", "body": "<blockquote>\n  <p>I don't understand how the C array is being initialized within the initializer list.</p>\n</blockquote>\n\n<p>here:</p>\n\n<pre><code>myArray(int size) : size(size), elements(new int[size])\n</code></pre>\n\n<p><code>elements</code> are basicly assigned value returned by <code>new int[size]</code></p>\n\n<p>You could rewrite it as :</p>\n\n<pre><code>myArray(int size)\n{\n    this-&gt;size = size;\n    elements = new int[size];\n    std::cout &lt;&lt; \"Constructed array of size \" &lt;&lt; size &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>[edit]</p>\n\n<p>This:</p>\n\n<pre><code>// elements(new int[size]); // why will line only work in initializer list?\n</code></pre>\n\n<p>will not work in the function body, because in this place compiler thinks that you want to call a function named <code>elements</code>, but there is no such function. </p>\n\n<p>The fact that it works in the initializer list is because that is how the language syntax was made.</p>\n"}, {"comments": [{"owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "edited": false, "score": 0, "creation_date": 1483557300, "post_id": 41471228, "comment_id": 70148888, "body": "I am going to read the information you directed me to, but if possible, please see the UPDATE of my original post with more details of what I don&#39;t understand."}], "tags": [], "owner": {"reputation": 113, "user_id": 5057075, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p1CFG.jpg?s=128&g=1", "display_name": "Titch", "link": "https://stackoverflow.com/users/5057075/titch"}, "is_accepted": false, "score": 1, "last_activity_date": 1483555990, "last_edit_date": 1495542275, "creation_date": 1483555990, "answer_id": 41471228, "question_id": 41471002, "link": "https://stackoverflow.com/questions/41471002/initialize-a-dynamic-c-array-within-a-c-initializer-list/41471228#41471228", "title": "Initialize a dynamic C array within a C++ initializer list", "body": "<p>There are two initialization way. First way is trivial (literal) types initialization. Second way is the non-trivial type init.</p>\n\n<p>For difference between this types see <a href=\"https://stackoverflow.com/questions/3899223/what-is-a-non-trivial-constructor-in-c\">What is a non-trivial constructor in C++?</a></p>\n\n<p>Also you can see, that trivial behavior may be different if you call default constructor manually or if it can be called implicitly. This will determine whether the memory is initialized (zerofill) with the allocation.</p>\n\n<p>Some usefull information about hidden initialization you can find in book Anthony Williams \"C++ Concurrency in Action: Practical Multithreading\"</p>\n"}], "owner": {"reputation": 778, "user_id": 2853283, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Jvl9a.jpg?s=128&g=1", "display_name": "Caroline Beltran", "link": "https://stackoverflow.com/users/2853283/caroline-beltran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 41471056, "answer_count": 2, "score": 0, "last_activity_date": 1483557903, "creation_date": 1483555114, "last_edit_date": 1483556888, "question_id": 41471002, "link": "https://stackoverflow.com/questions/41471002/initialize-a-dynamic-c-array-within-a-c-initializer-list", "title": "Initialize a dynamic C array within a C++ initializer list", "body": "<p>Most people will probably recommend that I use a <code>std::vector</code> or even a <code>std::array</code> but the custom array class below uses a C array and it works, I just need some explanation as to why it works.</p>\n\n<p>For reference, here is a common way to initialize a dynamic C style array:</p>\n\n<pre><code>int* elements = new int[size];\n</code></pre>\n\n<p>Now below, we have our own custom array class that initializes a dynamic C style array within the initializer list.  The problem is that <strong>I don't understand how the C array is being initialized</strong> within the <strong>initializer list</strong>.</p>\n\n<pre><code>class myArray \n{\npublic:\n\n    myArray(int size) : size(size), elements(new int[size])\n    {\n        std::cout &lt;&lt; \"Constructed array of size \" &lt;&lt; size &lt;&lt; std::endl;\n    }\n\n    ~myArray()\n    {\n        delete[] elements;\n        std::cout &lt;&lt; \"Deleted elements\" &lt;&lt; std::endl;\n    }\n\n    int getSize() const { return size; }\n\nprivate:\n    int size;\n    int* elements;  // our C style array\n};\n</code></pre>\n\n<p>Thank you</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I would like to clarify my question a little more.  Below is the old fashioned \"assignment\" way that I would normally initialize the dynamic C array:</p>\n\n<pre><code>myArray(int size)\n{\n    elements = new int[size];\n    // elements(new int[size]); // why will line only work in initializer list?\n    std::cout &lt;&lt; \"Constructed array of size \" &lt;&lt; size &lt;&lt; std::endl;\n}\n</code></pre>\n\n<p>But please see the <strong>commented line</strong>.  Why does that not work but it does work within the initializer list?</p>\n"}, {"tags": ["c++", "multithreading"], "comments": [{"owner": {"reputation": 673100, "user_id": 335858, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/4af3541c00d591e9a518b9c0b3b1190a?s=128&d=identicon&r=PG", "display_name": "Sergey Kalinichenko", "link": "https://stackoverflow.com/users/335858/sergey-kalinichenko"}, "edited": false, "score": 3, "creation_date": 1483555080, "post_id": 41470942, "comment_id": 70147665, "body": "&quot;I am not huge fan of it&quot; - that&#39;s right, you don&#39;t want to be a fan of a broken solution :-)"}], "answers": [{"tags": [], "owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "is_accepted": false, "score": 11, "last_activity_date": 1483555023, "creation_date": 1483555023, "answer_id": 41470963, "question_id": 41470942, "link": "https://stackoverflow.com/questions/41470942/stop-infinite-loop-in-different-thread/41470963#41470963", "title": "Stop infinite loop in different thread", "body": "<p>With just a slight change, your code will be fine:</p>\n\n<pre><code>std::atomic&lt;bool&gt; stop_flag;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "edited": false, "score": 0, "creation_date": 1483555361, "post_id": 41471042, "comment_id": 70147811, "body": "I&#39;ve got to say that the idea of passing it to the foo also looks better for me in this case."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483560988, "post_id": 41471042, "comment_id": 70150726, "body": "Passing it as an argument makes it harder to stop the thread from more than one place."}], "tags": [], "owner": {"reputation": 23009, "user_id": 3613500, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/lIfov.png?s=128&g=1", "display_name": "David Haim", "link": "https://stackoverflow.com/users/3613500/david-haim"}, "is_accepted": true, "score": 4, "last_activity_date": 1483555245, "creation_date": 1483555245, "answer_id": 41471042, "question_id": 41470942, "link": "https://stackoverflow.com/questions/41470942/stop-infinite-loop-in-different-thread/41471042#41471042", "title": "Stop infinite loop in different thread", "body": "<p>reading and writing to the same un-synchronized variable from multiple thread is anyway undefined behavior. Fan or not, the compiler may just optimize the check away and the loop may never start or never end.</p>\n\n<p>as answered before, you can use <code>std::atomic_bool</code>. I'm not a fan of doing it globally - pass it to <code>foo</code> as its \"cancellation token\". </p>\n\n<pre><code>void foo(std::atomic_bool&amp; cancellation_token)\n{\n    while(!cancellationToken)\n    {\n        //do something\n    }\n    clean_after();\n}\n</code></pre>\n"}], "owner": {"reputation": 2159, "user_id": 1080517, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2716302deba4765ec00122e0b0da833d?s=128&d=identicon&r=PG", "display_name": "sebap123", "link": "https://stackoverflow.com/users/1080517/sebap123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2518, "favorite_count": 0, "accepted_answer_id": 41471042, "answer_count": 2, "score": 6, "last_activity_date": 1483555245, "creation_date": 1483554939, "question_id": 41470942, "link": "https://stackoverflow.com/questions/41470942/stop-infinite-loop-in-different-thread", "title": "Stop infinite loop in different thread", "body": "<p>In my application I am using multiple threads for some time consuming task, that is intended to run for the whole duration f the application. What I am trying to achieve is some nice and clean approach to kill the loop in second thread just before exiting app, so I can clean after loop and then close everything.</p>\n\n<p>So far I've come up with this approach, but to be honest I am not huge fan of it:</p>\n\n<pre><code>#include &lt;iostream&gt;\n#include &lt;thread&gt;\n\nbool stop_flag;\n\nvoid foo()\n{\n    while(!stop_flag)\n    {\n        //do something\n    }\n    clean_after();\n}\n\nint main()\n{\n    stop_flag = false;\n    std::thread whileThread(foo);\n\n    // app lifetime\n\n    stop_flag = true;   \n    whileThread.join();\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "arduino"], "comments": [{"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1483554960, "post_id": 41470869, "comment_id": 70147593, "body": "Do you need to send the entire sequence to the Arduino all at once? Couldn&#39;t you just send one command at a time? What type of connection do you make to the Arduino. Bluetooth? Wifi? Also, I think this question would be better placed at <a href=\"https://arduino.stackexchange.com\">Arduino</a>."}, {"owner": {"reputation": 1006, "user_id": 3888756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mPnk1.jpg?s=128&g=1", "display_name": "DigitalNinja", "link": "https://stackoverflow.com/users/3888756/digitalninja"}, "edited": false, "score": 0, "creation_date": 1483555005, "post_id": 41470869, "comment_id": 70147618, "body": "I think what you have proposed sounds alright. Why would the value be really big? You wouldn&#39;t have to send the whole mapping sequence at once. You could send it in steps just as if the user hit the buttons in the app. You could store the sequence in the app (maybe even have a list of mapped sequences for the user to choose from) and then the app would send the moves one by one, but in a manner that wouldn&#39;t slow down the robot."}, {"owner": {"reputation": 15, "user_id": 7358983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff9a0035c4cb2e5c3d0c1413b9598ce?s=128&d=identicon&r=PG&f=1", "display_name": "Cuca Beludo", "link": "https://stackoverflow.com/users/7358983/cuca-beludo"}, "edited": false, "score": 0, "creation_date": 1483555214, "post_id": 41470869, "comment_id": 70147744, "body": "I will use Bluetooth to control the robot. And DigitalNinja, It seems a good idea to store the values on the app and send it one by one, we never though about that, thank you."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1483567119, "post_id": 41470869, "comment_id": 70153710, "body": "i agree that most of the work should be done in the app, since the phone has more CPU, RAM, and storage, and is arguably easier to program than the MCU"}, {"owner": {"reputation": 6681, "user_id": 6024122, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-uiRWa4coXLs/AAAAAAAAAAI/AAAAAAAAJUs/5BxfhSS1bUY/photo.jpg?sz=128", "display_name": "Patrick Trentin", "link": "https://stackoverflow.com/users/6024122/patrick-trentin"}, "edited": false, "score": 0, "creation_date": 1483603026, "post_id": 41470869, "comment_id": 70164944, "body": "Compress the sequence: <code>3f3l</code> instead of <code>ffflll</code>. Even better: reserve the 2 least significant bits in a <code>byte</code> to encode the direction and use the other six to encode the number of steps in that direction, up to <code>2^6-1 = 63</code>. e.g., if <code>f = 00</code> and <code>l = 01</code>, then <code>ffflll</code> becomes <code>67</code> <i>(in binary mode!)</i>, 2 bytes instead of the original 6."}], "owner": {"reputation": 15, "user_id": 7358983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff9a0035c4cb2e5c3d0c1413b9598ce?s=128&d=identicon&r=PG&f=1", "display_name": "Cuca Beludo", "link": "https://stackoverflow.com/users/7358983/cuca-beludo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483554647, "creation_date": 1483554647, "question_id": 41470869, "link": "https://stackoverflow.com/questions/41470869/trying-to-create-a-mapping-for-arduino", "title": "Trying to create a mapping for Arduino", "body": "<p>I'm building a school project with some colleagues and we have to create a robot using Arduino. </p>\n\n<p>The robot owner will be able to create a mapping while he is controlling the robot.</p>\n\n<p>Our initial idea is, when the user controls his robot, the system saves all the mapping routes, and stores it into a Database, so the user could be able to have access to his own mapping, and replay it everytime he wants.</p>\n\n<p>The connection between the Arduino and the user will be done through an Android App that will serve as a remote control.</p>\n\n<p>We don't know yet which logic we are going to use to create the mapping, but our first idea was to create a sequence and increment in this sequence all the moves that the robot does.</p>\n\n<p>Example: The user is controlling his car using the app, and everytime that he clicks at the button to go forward, this value is allocated in a array.</p>\n\n<p>[forward, forward, forward, left, left left]</p>\n\n<p>And this sequence would be read by arduino.</p>\n\n<p>The problem here is that the value that we are going to send to arduino could be really big, and thats not good practice, it seems a bad idea.</p>\n\n<p>So I'm here to ask to you guys, some ideas to build a mapping, to get some inspiration.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483554644, "post_id": 41470821, "comment_id": 70147428, "body": "Why would the maximum of 1,2,3,4,5,6 be 5?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483554679, "post_id": 41470821, "comment_id": 70147444, "body": "Are you saying that <code>T</code> is always <code>int</code> <i>in this case</i> or is <code>T</code> <i>always</i> <code>int</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483554680, "post_id": 41470821, "comment_id": 70147445, "body": "that&#39;s a point to print XYZ just testing"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1483554686, "post_id": 41470821, "comment_id": 70147449, "body": "<code>template&lt;int... Is&gt; class Nzm</code> Doesn&#39;t work for you?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483554704, "post_id": 41470821, "comment_id": 70147466, "body": "yup T is always int"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483554730, "post_id": 41470821, "comment_id": 70147482, "body": "<a href=\"http://coliru.stacked-crooked.com/a/22dba3d584bdbb0e\" rel=\"nofollow noreferrer\">It works</a> just change your static_assert to be correct."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483554745, "post_id": 41470821, "comment_id": 70147492, "body": "storyTeller will it work in compile time?"}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483554748, "post_id": 41470821, "comment_id": 70147495, "body": "If <code>T</code> is always <code>int</code>, then why template in the first place?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483554787, "post_id": 41470821, "comment_id": 70147514, "body": "my issue is I dont want to put that int typename as i mention"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1483554792, "post_id": 41470821, "comment_id": 70147516, "body": "@VenuKantSahu - Of course. Are you familiar with non-type template parameters? You can have packs of those as well"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483554808, "post_id": 41470821, "comment_id": 70147526, "body": "i used template to calculate Max in compile time"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483554949, "post_id": 41470821, "comment_id": 70147587, "body": "@StoryTeller not that much clear i can read that stuff. but is it possible to make all int with that?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1483555060, "post_id": 41470821, "comment_id": 70147651, "body": "Yes. You can have a template that accepts an unspecified number of integers. A parameter pack of non-type parameters..."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483555182, "post_id": 41470821, "comment_id": 70147722, "body": "@StoryTeller, why don&#39;t you make it a proper answer?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483555339, "post_id": 41470821, "comment_id": 70147805, "body": "I&#39;m new user first of all, I&#39;m learning things here only, what do you mean with a proper answer?"}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1483555518, "post_id": 41470821, "comment_id": 70147884, "body": "@SergeyA - Just Did. Wanted to be sure that&#39;s what the OP wanted."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483555788, "post_id": 41471071, "comment_id": 70148011, "body": "assertion failed at Z==6 try that"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483555923, "post_id": 41471071, "comment_id": 70148089, "body": "@VenuKantSahu Yep, that will make the assertion pass. I left it as is because it was not part of the question. I will edit my answer."}, {"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483555928, "post_id": 41471071, "comment_id": 70148095, "body": "@VenuKantSahu: I&#39;ve said it before and I&#39;ll say it again... your static_assert is wrong! Your are hoping the maximum is 5, when in reality it&#39;s 6"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483556066, "post_id": 41471071, "comment_id": 70148180, "body": "but fpr Z==6 it has to print nothing but it prints you can check assertion also failed for Z==6"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483556341, "post_id": 41471071, "comment_id": 70148316, "body": "@Fran&#231;oisAndrieux thanks helper is working for me but can I rename it?"}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "edited": false, "score": 0, "creation_date": 1483556519, "post_id": 41471071, "comment_id": 70148403, "body": "@VenuKantSahu yes, you can use whatever name you want, helper is just an example. However, the first solution is helpful if you are not able to edit the class you are using. If you can edit <code>Nzm</code> then I recommend you use the second solution."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 4, "last_activity_date": 1483555942, "last_edit_date": 1483555942, "creation_date": 1483555337, "answer_id": 41471071, "question_id": 41470821, "link": "https://stackoverflow.com/questions/41470821/setting-typename-default-value-for-vardiac-and-normal-template/41471071#41471071", "title": "setting typename default value for vardiac and normal template", "body": "<p>The quick solution is to use a <code>using</code> declaration to get ride of the int.</p>\n\n<pre><code>template&lt;int... x&gt;\nusing helper =  Nzm&lt;int, x...&gt;;\n\nint main() {\n\n    static_assert(helper&lt;1, 2, 3, 4, 5, 6&gt;::Z == 6, \"XYZ\");\n\n    return 0;\n}\n</code></pre>\n\n<p>Another (better) way is to modify Nzm and replace all the <code>typename</code> templates with <code>int</code> templates. You're left with a redundancy between the parameters and template arguments, so you can get rid of the parameters.</p>\n\n<pre><code>template&lt;int... Xs&gt; class Nzm\n{\nprivate:\n    template&lt;int x&gt; static constexpr int Max()\n    {\n        return x;\n    }\n\n    template&lt;int x, int y, int... rest&gt; static constexpr int Max()\n    {\n        return x &gt; y ? Max&lt;x, rest...&gt;() : Max&lt;y, rest...&gt;();\n    }\n\npublic:\n    static const int Z = Max&lt;Xs...&gt;();\n};\n\nint main() {\n\n    static_assert(Nzm&lt;1, 2, 3, 4, 5, 6&gt;::Z == 6, \"XYZ\");\n\n    return 0;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "edited": false, "score": 0, "creation_date": 1483556211, "post_id": 41471108, "comment_id": 70148240, "body": "You are right but my main issue is to run this at compile time only."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1483556260, "post_id": 41471108, "comment_id": 70148268, "body": "It <b>is</b> at compile time!"}], "tags": [], "owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1483555498, "creation_date": 1483555498, "answer_id": 41471108, "question_id": 41470821, "link": "https://stackoverflow.com/questions/41470821/setting-typename-default-value-for-vardiac-and-normal-template/41471108#41471108", "title": "setting typename default value for vardiac and normal template", "body": "<p>If you want a template that accepts a parameter pack of <code>int</code>s, have yourself such a template:</p>\n\n<pre><code>template&lt;int ...Is&gt; class Nzm {\n  // Your implementation follows\n};\n</code></pre>\n\n<p>Templates can accept parameters which aren't types (among them parameters which are integers), and consequently they can accept analogous parameter packs.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5697768"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 41471071, "answer_count": 2, "score": 0, "last_activity_date": 1483555942, "creation_date": 1483554479, "question_id": 41470821, "link": "https://stackoverflow.com/questions/41470821/setting-typename-default-value-for-vardiac-and-normal-template", "title": "setting typename default value for vardiac and normal template", "body": "<pre><code>template&lt;typename T, T... Xs&gt; class Nzm\n{\nprivate:\ntemplate&lt;typename... Ts&gt; static constexpr T Max(Ts... xs);\n\ntemplate&lt;typename Tx&gt; static constexpr T Max(Tx x)\n{\n    return x;\n}\n\ntemplate&lt;typename T1, typename T2, typename... Ts&gt; static constexpr T Max(T1 x, T2 y, Ts... xs)\n{\n    return y &gt; x ? Max&lt;T2, Ts...&gt;(y, xs...) : Max&lt;T1, Ts...&gt;(x, xs...);\n}\n\npublic:\nstatic const T Z = Max(Xs...);\n};\n\n\nint main() {\n\nstatic_assert(Nzm&lt;int,1,2,3,4,5,6&gt;::Z==5,\"XYZ\");\n\nreturn 0;\n}\n</code></pre>\n\n<p>I already know that all the typename are going to be int and I only want to use</p>\n\n<pre><code>Nzm&lt;1,2,3,4,5,6&gt; \n</code></pre>\n\n<p>instead of </p>\n\n<pre><code>Nzm&lt;int,1,2,3,4,5,6&gt; \n</code></pre>\n\n<p>this is for compile time execution no code or tips for making it runtime.\nis this possible? to set all this typename to int ?</p>\n"}, {"tags": ["c#", "c++", "encryption", "openssl", "cryptography"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1483555423, "post_id": 41470767, "comment_id": 70147838, "body": "Note that you are currently using the highly secure OAEP padding (<code>true</code> in RSA encryption). OpenSSL is likely to default to PKCS#1 v1.5 padding. Neither PKCS#1 v1.5 <i>or</i> CBC/PKCS#7 is secure for use in transport protocols due to padding oracle attacks and the lack of authentication / integrity protection."}, {"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1483556044, "post_id": 41470767, "comment_id": 70148169, "body": "I switched to <code>false</code> and I still get the same error."}, {"owner": {"reputation": 22888, "user_id": 6535399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5vsS.jpg?s=128&g=1", "display_name": "bartonjs", "link": "https://stackoverflow.com/users/6535399/bartonjs"}, "edited": false, "score": 0, "creation_date": 1483567874, "post_id": 41470767, "comment_id": 70154088, "body": "RSACryptoServiceProvider ignores set attempts on KeySize.  To use RSACryptoServiceProvider to create a 2048-bit key you need to use <code>new RSACryptoServiceProvider(2048)</code>."}, {"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483568224, "post_id": 41470767, "comment_id": 70154245, "body": "Didn&#39;t help :( but thanks"}], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483555913, "post_id": 41471057, "comment_id": 70148083, "body": "I have since tried using <code>Convert.ToBase64String</code> (and have changed my code to reflect this) and I still get the same error."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483556940, "post_id": 41471057, "comment_id": 70148671, "body": "Can you print out the wrapped <code>eKey</code> in hexadecimals on both sides (you can find such a function here on stackoverflow if you don&#39;t know how). If those byte arrays are not identical then there is something wrong before entering RSA decrypt."}, {"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483559529, "post_id": 41471057, "comment_id": 70150007, "body": "I tried the raw string and the hexadecimal string. The raw strings are equal but the hexadecimal strings are different? I&#39;m not sure how that is. Both sides put out the same hexadecimal string with the test data, but not with the <code>eKey</code>."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483559685, "post_id": 41471057, "comment_id": 70150088, "body": "The idea is to compare the output of RSA encryption with the input of RSA decryption. That two sides encrypt to different values is OK. Each encryption will be different from a previous encryption, enen when using the same key."}, {"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483561527, "post_id": 41471057, "comment_id": 70151005, "body": "I took @andy &#39;s advice and decoded the string from base64 and I get the same hexadecimal value on each side now, but I still get the same error from <code>EVP_OpenInit</code>."}], "tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 2, "last_activity_date": 1483555295, "creation_date": 1483555295, "answer_id": 41471057, "question_id": 41470767, "link": "https://stackoverflow.com/questions/41470767/openssl-error-data-greater-than-mod-len/41471057#41471057", "title": "OpenSSL error &quot;data greater than mod len&quot;", "body": "<p><code>Encoding.Default.GetString</code> won't work. The IV, wrapped key and ciphertext are all binary, and (as good as) indistinguishable from random. That means that the encoding may go wrong as not all bytes will map to characters. This means that information is lost. Try and use base 64 encoding instead.</p>\n\n<p>Your IV, wrapped key and ciphertext should also be distinguishable from each other. This is however not hard as the IV has the block size of the underlying cipher (16 bytes for AES/CBC), the wrapped key has the same size in bytes of the modulus (or the RSA key size), and the ciphertext, well, is the rest. In other words you might as well simply concatenate them all.</p>\n\n<p>So your hunch was right.</p>\n"}, {"comments": [{"owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483562146, "post_id": 41471745, "comment_id": 70151279, "body": "I took your advice and decoded the information on the server first as well as adding <code>keyPair.KeySize = 2048</code> on the client to bring it inline with the key size the server uses. Also, I added the code you requested at the bottom of my post in the edit."}, {"owner": {"reputation": 12696, "user_id": 70465, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vqerK.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/70465/andy"}, "reply_to_user": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "edited": false, "score": 0, "creation_date": 1483584484, "post_id": 41471745, "comment_id": 70159047, "body": "I added an update in my answer to allow for formatting."}], "tags": [], "owner": {"reputation": 12696, "user_id": 70465, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/vqerK.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/70465/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1483584477, "last_edit_date": 1483584477, "creation_date": 1483557848, "answer_id": 41471745, "question_id": 41470767, "link": "https://stackoverflow.com/questions/41470767/openssl-error-data-greater-than-mod-len/41471745#41471745", "title": "OpenSSL error &quot;data greater than mod len&quot;", "body": "<p>RSA 4096 w/ OAEP can only encrypt 446 bytes of data (<a href=\"https://tools.ietf.org/html/rfc2437#section-7.1\" rel=\"nofollow noreferrer\">see 7.1 of RSA RFC 2437</a>), and RSA 2048 w/ OAEP can only encrypt 245 bytes (still should be plenty of room for 16 + 32 bytes for IV and symmetric key). I don't see anywhere that you set the key length for the RSA provider, so it may be failing for some reason to encrypt the AES key. </p>\n\n<p>Can you provide at least the line at which the server code throws the exception? What are you providing for the <code>eki</code> parameter (symmetric secret key length) in <a href=\"https://wiki.openssl.org/index.php/Manual:EVP_OpenInit(3)\" rel=\"nofollow noreferrer\"><code>EVP_OpenInit</code></a>? Are you performing the Base64 decoding of the symmetric key before attempting to decrypt it using RSA on the server?</p>\n\n<p>And for the record, you do not need to encrypt the IV before transmitting, but it has no negative impact (other than computation cost) to do so. </p>\n\n<p><strong>Update:</strong></p>\n\n<p>It is always helpful when debugging crypto issues to reduce the number of steps in each statement so you can find where the error is occurring. I'd recommend breaking out the last few statements of your client code into individual steps and walking through them (i.e. RSA encryption and Base64-encoding on separate lines). </p>\n\n<p>So you can now compare the following values on client and server and they are byte-for-byte equal (no extra <code>0x00</code>, etc.)?</p>\n\n<pre><code>Reference    |    Client                           |    Server\n------------------------------------------------------------------\n    A        |    keyPair.Encrypt(aes.Key, false)  |    ek\n Base64E(A)  |    eKey                             |    ??\n  len(A)     |    len(A)                           |  len(ek)   \n</code></pre>\n\n<p>You mentioned in another comment that you compared the hex-encoded value of the Base64-decoded, encrypted key on both client and server and it was identical? Can you try just using the client &amp; server to encrypt and decrypt an arbitrary plaintext message (&lt;&lt; 245 bytes in order to ensure that OAEP or PKCS#1 v1.5 padding does not then exceed 245 bytes) with that key pair to ensure everything is correct?</p>\n\n<p>I'm not particularly familiar with the C# implementation -- is there something additional you need to do to replicate <code>EVP_SealInit</code> on the client? </p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "is_accepted": false, "score": 0, "last_activity_date": 1483740131, "last_edit_date": 1483740131, "creation_date": 1483725934, "answer_id": 41511638, "question_id": 41470767, "link": "https://stackoverflow.com/questions/41470767/openssl-error-data-greater-than-mod-len/41511638#41511638", "title": "OpenSSL error &quot;data greater than mod len&quot;", "body": "<p>My issue lied in how the message, key, and iv were encoded on the client and decoded on the server. The client encoded them in base64, so it had to be decoded on the server in order for OpenSSL to understand them (OpenSSL uses raw bytes rather than an encoding scheme).</p>\n\n<p>EDIT: There also seems to be a conflict between the C# implementation and the OpenSSL implementation. The C# Aes implementation does not seem to match the OpenSSL exactly. I get the correct plain text when decrypting in OpenSSL, but there is a bunch of garbage data that follows and <code>EVP_OpenFinal</code> causes an error that says \"bad decrypt\". If anyone knows a way around this, please let me know! I have tried the openssl.net API, but it throws an error if I try to use BIO.</p>\n"}], "owner": {"reputation": 186, "user_id": 7281886, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/31d73d44425ba14b30e46e1b4125b3f9?s=128&d=identicon&r=PG&f=1", "display_name": "Ricky L.", "link": "https://stackoverflow.com/users/7281886/ricky-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2492, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1483740131, "creation_date": 1483554269, "last_edit_date": 1483571718, "question_id": 41470767, "link": "https://stackoverflow.com/questions/41470767/openssl-error-data-greater-than-mod-len", "title": "OpenSSL error &quot;data greater than mod len&quot;", "body": "<p>I have a client/server setup that consists of a server written in C++ using <code>OpenSSL</code> and a client written in C# using <code>Aes/RSACryptoServiceProvider</code>. I generate an RSA key pair on both sides and send each side the public key. Then, when I'm ready to send a message I generate an Aes key/iv and encrypt the message with this, and then encrypt the Aes key (and the iv too? I've tried both encrypting it and not encrypting it, but both give me the same error, which I will mention in a bit) with the public key of the recipient and then send the Aes encrypted key, the iv and the encrypted message. However, when I try to send from the client to the server, I get an OpenSSL error that reads \"data greater than mod len\" when using <code>EVP_OpenInit</code>.</p>\n\n<p>Here is how I generate the data in C#:</p>\n\n<pre><code>var keyPair = new RSACryptoServiceProvider(2048); //server uses 2048 too (added on Edit)\nvar aes = new AesCryptoServiceProvider();\n//OpenSSL uses the EVP_CIPHER* EVP_aes_256_cbc()\naes.Mode = CipherMode.CBC;\naes.Padding = PaddingMode.PKCS7;\naes.KeySize = 256; //bits\naes.GenerateKey();\naes.GenerateIV();\nvar message = Encoding.Default.GetBytes(\"test data\");\nvar eMessage = new byte[4096];\nusing (var stream = new MemoryStream(eMessage))\n{\n    var encryptor = aes.CreateEncryptor();\n    using (var cryptoStream = new CryptoStream(stream, encryptor, CryptoStreamMode.Write))\n    {\n        await cryptoStream.WriteAsync(message, 0, message.Length);\n    }\n}\nstring eMessageString = null;\nfor (int i = 0; i &lt; eMessage.Length; i++)\n{\n    if (eMessage[i] == '\\0')\n    {\n        eMessageString = Convert.ToBase64String(eMessage, 0, i-1);\n    }\n}\nvar eKey = Convert.ToBase64String(keyPair.Encrypt(aes.Key, false));\nvar eIV = Convert.ToBase64String(aes.IV); //may not need to encrypt\n</code></pre>\n\n<p>I know my C++ implementation works as OpenSSL correctly reads in the client public key and I can encrypt/decrypt data using the <code>EVP_Seal</code>/<code>EVP_Open</code> functions when using a different key generated through <code>OpenSSL</code> on the server. So, I'm not sure what's causing this error, but I think I have an idea. Could it be the way that the key/iv/encrypted message is encoded when I'm sending the data to the server? Or could it be the differences in implementation between <code>OpenSSL</code> and C#? Or maybe something I'm not catching altogether?</p>\n\n<p>EDIT: Here is the requested code for how I use <code>EVP_OpenInit</code>.</p>\n\n<pre><code>BlueSOD::Encryption::DecryptionData BlueSOD::Encryption::EncryptionFactory::Decrypt2(DecryptionWork2 &amp;&amp; work)\n{\n    DecryptionData data;\n    EVP_PKEY* privateKey = work.privateKey.get();\n    auto encryptionKey = (unsigned char*)work.info.key.c_str();\n    auto encryptionIV = (unsigned char*)work.info.iv.c_str();\n    EVP_CIPHER_CTX_ptr cipherCtxPtr{ AcquireCipherCtx() };\n    EVP_CIPHER_CTX* cipher = cipherCtxPtr.get();\n    int status;\n\n    //ERROR HAPPENS HERE\n    status = EVP_OpenInit(cipher, m_Cipher, encryptionKey, work.info.key.size(), encryptionIV, privateKey);\n    cout &lt;&lt; ERR_error_string(ERR_get_error(), nullptr) &lt;&lt; endl;\n    CheckForError(status, \"EVP_OpenInit failed.\");\n\n    int bufferLength = work.cipherText.size() + EVP_MAX_BLOCK_LENGTH;\n    auto buffer = make_unique&lt;unsigned char[]&gt;(bufferLength);\n    auto cipherTemp = (unsigned char*)work.cipherText.c_str();\n\n    status = EVP_OpenUpdate(cipher, buffer.get(), &amp;bufferLength, cipherTemp, work.cipherText.size());\n    CheckForError(status, \"EVP_OpenUpdate failed.\");\n\n    status = EVP_OpenFinal(cipher, buffer.get(), &amp;bufferLength);\n    CheckForError(status, \"EVP_OpenFinal failed.\");\n\n    data.plainText = CreateSecureString(buffer.get(), bufferLength);\n\n    return move(data);\n}\n</code></pre>\n"}, {"tags": ["c++", "qt"], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 7271301, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/B9fkH.jpg?s=128&g=1", "display_name": "Ghazal Sahebzamani", "link": "https://stackoverflow.com/users/7271301/ghazal-sahebzamani"}, "edited": false, "score": 0, "creation_date": 1483556318, "post_id": 41471074, "comment_id": 70148305, "body": "OK , then my previous main contained some c++ libraries included...now if I include them in the new main() generated by Qt,does it understand?and in the makefile there are other object files,some depending on each other,and my main should use them all.Is Qt able to understand and compile them without  my makefile?"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4489658"}, "is_accepted": false, "score": 1, "last_activity_date": 1483555360, "creation_date": 1483555360, "answer_id": 41471074, "question_id": 41470762, "link": "https://stackoverflow.com/questions/41470762/how-do-i-import-my-makefile-project-into-qtcreator/41471074#41471074", "title": "How do I import my makefile project into QtCreator?", "body": "<p>Create a Qt project (I guess, you need Qt Widgets application). Copy your existing files into project's directory. Import all these files to your project. Then look what you have to do in <code>main()</code> function. In Qt project it will be in the file <code>main.cpp</code>, and a minimal code for <code>main()</code> will be automatically created by Qt Creator. So, move the necessary code from your <code>main()</code> function there. Then bit by bit look which parts of your code will interact with Qt. Makefile will be created by Qt Creator. Files <code>mainwindow.cpp</code> and <code>mainwindow.h</code> relate to your main window's GUI.</p>\n"}, {"tags": [], "owner": {"reputation": 3808, "user_id": 1597714, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/mH9hv.png?s=128&g=1", "display_name": "AMA", "link": "https://stackoverflow.com/users/1597714/ama"}, "is_accepted": false, "score": 0, "last_activity_date": 1483560926, "last_edit_date": 1495541785, "creation_date": 1483560590, "answer_id": 41472426, "question_id": 41470762, "link": "https://stackoverflow.com/questions/41470762/how-do-i-import-my-makefile-project-into-qtcreator/41472426#41472426", "title": "How do I import my makefile project into QtCreator?", "body": "<p>QtCreator supports working with makefile projects. Basically it becomes a glorified text editor and directly invokes make for your project directory. Some features, like compiling a particular file might not work. See <a href=\"https://stackoverflow.com/questions/18496188/use-qtcreator-with-makefile-project\">this SO question</a> for more details. And then one can manually link/include Qt for your application's GUI.</p>\n\n<p>Project configuration that is natively supported by QtCreator are qmake files. It converts directly into makefiles. This will provide the best QtCreator experience. So another option would be to convert your makefiles into qmake .pro/.pri files. This will require some effort. </p>\n\n<p>I digress, but if you are going to go this way, I can also recommend CMake. QtCreator has on okay (and constantly improving) support for CMake. So do some other IDEs (CLion, VS). And you will always have the option to convert your CMake files into makefiles, Ninja files, VS solution, or even XCode project.</p>\n"}], "owner": {"reputation": 117, "user_id": 7271301, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/B9fkH.jpg?s=128&g=1", "display_name": "Ghazal Sahebzamani", "link": "https://stackoverflow.com/users/7271301/ghazal-sahebzamani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2760, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1483563995, "creation_date": 1483554250, "last_edit_date": 1483563995, "question_id": 41470762, "link": "https://stackoverflow.com/questions/41470762/how-do-i-import-my-makefile-project-into-qtcreator", "title": "How do I import my makefile project into QtCreator?", "body": "<p>I have previously written a large C++ server and client project (containing multiple .cpp's and .h's which run with makefile). Now I want to modify the client to use a graphical user interface.</p>\n\n<p>Should I import all of my codes to Qtcreator and compile them all in the software? How can I implement the makefile then? </p>\n\n<p>Next, how can I modify my client so that the interfaction with the server is controlled from the graphical interface?</p>\n"}, {"tags": ["c++", "arrays", "file"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1483553953, "post_id": 41470627, "comment_id": 70147054, "body": "Please describe how this code does not work and only post the minimal amount of code to reproduce that.  See: What is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 3, "creation_date": 1483554109, "post_id": 41470627, "comment_id": 70147133, "body": "&quot;Haven&#39;t moved in front of the laptop for the last 7-8 hours.&quot; You&#39;d be surprised at how often leaving the computer and going for a walk, or doing some other non-computer activity, helps."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1483554232, "post_id": 41470627, "comment_id": 70147195, "body": "I highly recommend overloading <code>operator&gt;&gt;</code> in your <code>struct</code>.  This will simplify your code.  There are many examples of how to do this already on StackOverflow."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 1, "creation_date": 1483554292, "post_id": 41470627, "comment_id": 70147224, "body": "Also, use <code>std::string</code> rather than character arrays.  The <code>std::string</code> type allows using operators &lt;, &gt;, ==, !=, etc.  With character arrays, a common mistake is to compare two pointers, instead of the targets they are pointing to.  See <code>strcmp</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483554408, "post_id": 41470627, "comment_id": 70147301, "body": "Prefer to use <code>std::vector</code> instead of arrays.  The <code>std::vector</code> is easier to pass to functions and maintains the capacity and size attributes.  With arrays, you&#39; need to pass the array and its capacity.  Pass <code>std::vector</code> by reference or constant reference."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483554531, "post_id": 41470627, "comment_id": 70147365, "body": "I suggest <i>telling the User how to end the price loop</i>, such as &quot;... (enter -1 to end)&quot;."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483554642, "post_id": 41470627, "comment_id": 70147427, "body": "To find the largest value, you can <i>iterate</i> over the <code>vector</code> of trips, looking at the prices.  See <code>std::vector::const_iterator</code> and <code>std::vector::begin()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "is_accepted": true, "score": 0, "last_activity_date": 1483555118, "creation_date": 1483555118, "answer_id": 41471003, "question_id": 41470627, "link": "https://stackoverflow.com/questions/41470627/c-files-writing-reading-arrays/41471003#41471003", "title": "C++ Files - Writing, Reading, Arrays;", "body": "<p>Given a <code>vector</code> of <code>trip</code>:  </p>\n\n<pre><code>std::vector&lt;trip&gt; database;\n</code></pre>\n\n<p>You can <em>iterate</em> through it looking for the largest sum, and maintaining an iterator to the trip with the largest sum:  </p>\n\n<pre><code>float largest_sum = -1.0f;\nstd::vector&lt;trip&gt;::const_iterator trip_with_largest_sum = database.end();\nstd::vector&lt;trip&gt;::const_iterator iter;\nfor (iter = database.begin(); iter != database.end(); ++iter)\n{\n  if (iter-&gt;sum &gt; largest_sum)\n  {\n    largest_sum = iter-&gt;sum;\n    trip_with_largest_sum = iter;\n  }\n}\n</code></pre>\n\n<p>At the end of the loop, <code>trip_with_largest_sum</code> will point to the trip that has the largest sum or <code>database.end()</code> if no item was found. </p>\n\n<p>If you insist on using arrays, same algorithm, use an index variable instead of the iterator.  </p>\n"}], "owner": {"reputation": 3, "user_id": 7202982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f058f0c25619392026e7bbd053b682?s=128&d=identicon&r=PG&f=1", "display_name": "Rainberry", "link": "https://stackoverflow.com/users/7202982/rainberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1483567284, "accepted_answer_id": 41471003, "answer_count": 1, "score": 0, "last_activity_date": 1483555118, "creation_date": 1483553829, "question_id": 41470627, "link": "https://stackoverflow.com/questions/41470627/c-files-writing-reading-arrays", "closed_reason": "Not suitable for this site", "title": "C++ Files - Writing, Reading, Arrays;", "body": "<p>What am I doing wrong? I can't understand. And if anybody has any ideas how to find out which Sea Trip had the largest amount of sales [the sum of tickets is largest] and then how can I display it - you will notice where it should be in the source code. I kept trying and trying and I just can't anymore.. Haven't moved in front of the laptop for the last 7-8 hours. Help needed.</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include&lt;fstream&gt;\n#include&lt;string&gt;\n#include&lt;cstdlib&gt;\nusing namespace std;\n\nstruct trip\n{\n    int day; //day of Sea Trip\n    int fln; //No. of Sea Trip\n    char name[14]; //Ship name\n    char capname[14]; // Captain Name\n    char destination[14]; // Destination\n    int br1; // No. pass in 1 class\n    int br2; // No. pass in 2 class\n    float price1; // Ticket price 1 class\n    float price2; // Ticket price 2 class\n    float sum; // Sum of sold tickets\n};\nfstream seatrips;\nint add_trip(trip trip[]) //adding sea trips\n{\n    int n;\n    seatrips.open(\"SeaTrips.txt\", ios::out);\n    if (seatrips.fail())\n    {\n        cout &lt;&lt; \"Opening file had no success\";\n        exit(1);\n    }\n    cout &lt;&lt; \"Enter the number of Sea Trips (max 25): \";\n    do\n    {\n        cin &gt;&gt; n;\n    } while (n &lt; 0 || n &gt; 25);\n    for (int i = 0; i &lt; n; i++)\n    {\n        cout &lt;&lt; \"Enter the day of the trip (1-31) : \";\n        do{\n            cin &gt;&gt; trip.day;\n        } while (trip.day &lt; 1 || trip.day &gt; 31);\n        seatrips &lt;&lt; trip.day &lt;&lt; endl;\n        cout &lt;&lt; \"Sea Trip Number : \";\n        cin &gt;&gt; trip.fln;\n        seatrips &lt;&lt; trip.fln &lt;&lt; endl;\n        cout &lt;&lt; \"Ship name : \";\n        cin &gt;&gt; trip.name;\n        seatrips &lt;&lt; trip.name &lt;&lt; endl;\n        cout &lt;&lt; \"Captain name : \";\n        cin &gt;&gt; trip.capname;\n        seatrips &lt;&lt; trip.capname &lt;&lt; endl;\n        cout &lt;&lt; \"Destination : \";\n        cin &gt;&gt; trip.destination;\n        seatrips &lt;&lt; trip.destination &lt;&lt; endl;\n        cout &lt;&lt; \"Number of passengers in 1. class : \";\n        cin &gt;&gt; trip.br1;\n        seatrips &lt;&lt; trip.br1 &lt;&lt; endl;\n        cout &lt;&lt; \"Number of passengers in 2.class : \";\n        cin &gt;&gt; trip.br2;\n        seatrips &lt;&lt; trip.br2 &lt;&lt; endl;\n        cout &lt;&lt; \"Ticket price 1. class : \";\n        do{\n            cin &gt;&gt; trip.price1;\n            seatrips &lt;&lt; trip.price1 &lt;&lt; endl;\n        } while (trip.price1 &lt; 1);\n        cout &lt;&lt; \"Ticket price 2. class : \";\n        do{\n            cin &gt;&gt; trip.price2;\n            seatrips &lt;&lt; trip.price2 &lt;&lt; endl;\n        } while (trip.price2 &lt; 1);\n        trip.sum = trip.br1 * trip.price1 + trip.br2 * trip.price2;\n        seatrips &lt;&lt; trip.sum;\n        cout &lt;&lt; endl &lt;&lt; endl;\n\n\n    }\n    seatrips.close();\n    return n;\n}\nvoid edit(trip trip[], int n) //editing pass. info\n    int t_fln; //temp sea trip number\n    seatrips.open(\"SeaTrips.txt\", ios::out);\n    seatrips.seekg(0);\n    if (seatrips.fail())\n    {\n        cout &lt;&lt; \"Unable to open SeaTrips file\";\n        exit(1);\n    }\n    cout &lt;&lt; \"Enter the number of the sea trip u want to edit: \";\n    cin &gt;&gt; t_fln;\n    for (int i = 0; i &lt; n; i++)\n    {\n        seatrips &gt;&gt; trip.day;\n        seatrips &gt;&gt; trip.fln;\n        seatrips &gt;&gt; trip.name;\n        seatrips &gt;&gt; trip.br1;\n        seatrips &gt;&gt; trip.br2;\n        seatrips &gt;&gt; trip.price1;\n        seatrips &gt;&gt; trip.price2;\n        seatrips &gt;&gt; trip.sum;\n        if (t_fln == trip.fln)\n        {\n            cout &lt;&lt; \"Add new number of ppl in 1. class : \";\n            cin &gt;&gt; trip.br1;\n            seatrips &lt;&lt; trip.br1 &lt;&lt; endl;\n            cout &lt;&lt; \"Add new number of ppl in 2. class : \";\n            cin &gt;&gt; trip.br2;\n            seatrips &lt;&lt; trip.br2 &lt;&lt; endl;\n\n        }\n    }\n    seatrips.close();\n}\nvoid look(trip trip[], int n) //search by ship name, and list of all trips\n    int choice2, flag = 0;\n    string t_name;\n    seatrips.open(\"SeaTrips.txt\", ios::in);\n    seatrips.seekg(0);\n    if (seatrips.fail())\n    {\n        cout &lt;&lt; \"Unable to open\";\n        exit(1);\n    }\n    do{\n        cout &lt;&lt; endl &lt;&lt; \"Choose...\" &lt;&lt; endl;\n        cout &lt;&lt; \"1. Find a Sea Trip by entered Ship Name.\" &lt;&lt; endl;\n        cout &lt;&lt; \"2. List of all Sea Trips\" &lt;&lt; endl;\n        cout &lt;&lt; \"3. Show Sea Trip with Maximum Sold Tickets\" &lt;&lt; endl;\n        cout &lt;&lt; \"4. Exit\" &lt;&lt; endl;\n        cout &lt;&lt; \"Choice: \";\n        cin &gt;&gt; choice2;\n        switch (choice2)\n        {\n        case 1:{cout &lt;&lt; \"Enter info about the wanted Sea Trip...\" &lt;&lt; endl;\n            cout &lt;&lt; \"Ship Name: \";\n            cin &gt;&gt; t_name;\n            for (int i = 0; i &lt; n; i++)\n            {\n                seatrips &gt;&gt; trip.day;\n                seatrips &gt;&gt; trip.fln;\n                seatrips &gt;&gt; trip.name;\n                seatrips &gt;&gt; trip.capname;\n                seatrips &gt;&gt; trip.destination;\n                seatrips &gt;&gt; trip.br1;\n                seatrips &gt;&gt; trip.br2;\n                seatrips &gt;&gt; trip.price1;\n                seatrips &gt;&gt; trip.price2;\n                seatrips &gt;&gt; trip.sum;\n                if (t_name == trip.name)\n                {\n                    cout &lt;&lt; \"Day: \" &lt;&lt; trip.day &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of Sea Trip: \" &lt;&lt; trip.fln &lt;&lt; endl;\n                    cout &lt;&lt; \"Ship name : \" &lt;&lt; trip.name &lt;&lt; endl;\n                    cout &lt;&lt; \"Name of captain: \" &lt;&lt; trip.capname &lt;&lt; endl;\n                    cout&lt;&lt; \"Destination: \" &lt;&lt; trip.destination &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of passengers in 1. class: \" &lt;&lt; trip.br1 &lt;&lt; endl;\n                    cout &lt;&lt; \"Ticket price 1. class \" &lt;&lt; trip.price1 &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of passengers in 2. class: \" &lt;&lt; trip.br2 &lt;&lt; endl;\n                    cout &lt;&lt; \"Ticket price 2. class \" &lt;&lt; trip.price2 &lt;&lt; endl;\n                    cout &lt;&lt; \"Sum of sold tickets: \" &lt;&lt; trip.sum &lt;&lt; endl;\n                    cout &lt;&lt; endl;\n                    flag++;\n                }\n            } break; }\n        case 2:\n        for (i = 0; i &lt; n; i++)\n        {\n                    seatrips &gt;&gt; trip.day;\n                    seatrips &gt;&gt; trip.fln;\n                    seatrips &gt;&gt; trip.name;\n                    seatrips &gt;&gt; trip.capname;\n                    seatrips &gt;&gt; trip.destination;\n                    seatrips &gt;&gt; trip.br1;\n                    seatrips &gt;&gt; trip.br2;\n                    seatrips &gt;&gt; trip.price1;\n                    seatrips &gt;&gt; trip.price2;\n                    seatrips &gt;&gt; trip.sum;\n\n                    cout &lt;&lt; \"Day: \" &lt;&lt; trip.day &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of Sea Trip: \" &lt;&lt; trip.fln &lt;&lt; endl;\n                    cout &lt;&lt; \"Ship Name: \" &lt;&lt; trip.name &lt;&lt; \" Captain Name \" &lt;&lt; trip.capname &lt;&lt; \" Destination \" &lt;&lt; trip.destination &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of ppl 1. class  : \" &lt;&lt; trip.br1 &lt;&lt; endl;\n                    cout &lt;&lt; \"Ticket price 1. class: \" &lt;&lt; trip.price1 &lt;&lt; endl;\n                    cout &lt;&lt; \"Number of ppl 2. class: \" &lt;&lt; trip.br2 &lt;&lt; endl;\n                    cout &lt;&lt; \"Ticket price 2. class: \" &lt;&lt; trip.price2 &lt;&lt; endl;\n                    cout &lt;&lt; \"Sum of sold tickets: \"&lt;&lt; trip.sum &lt;&lt; endl;  }\n            } break; }\n        case 3:\n\n/* max sales function\n*\n* Trip's sum is the largest one\n* And display the Sea Trip here.\n*\n*/\n\n    } while (choice2 != 4);\n    seatrips.close();\n}\n\nvoid main()\n{\n    setlocale(LC_ALL, \"Bulgarian\");\n    int choice1;\n    int n;\n    trip trip[25];\n    do\n    {\n        cout &lt;&lt; \"Menu...\" &lt;&lt; endl;\n        cout &lt;&lt; \"1. Adding and saving to file Sea Trips data [deletes any existing]\" &lt;&lt; endl;\n        cout &lt;&lt; \"2. Editing content\" &lt;&lt; endl;\n        cout &lt;&lt; \"3. Search and look up\" &lt;&lt; endl;\n        cout &lt;&lt; \"4. End\" &lt;&lt; endl;\n        cout &lt;&lt; \"Enter your choice: \";\n        cin &gt;&gt; choice1;\n        switch (choice1)\n        {\n        case 1:n = add_trip(trip); break;\n        case 2: edit(trip, n); break;\n        case 3:look(trip, n);\n        }\n    } while (choice1 != 4);\n\n\n}\n</code></pre>\n"}, {"tags": ["c++", "visual-studio", "formatting"], "comments": [{"owner": {"reputation": 6029, "user_id": 3577745, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4646095ed212f8392ed0cd522b84e7e3?s=128&d=identicon&r=PG&f=1", "display_name": "javaLover", "link": "https://stackoverflow.com/users/3577745/javalover"}, "edited": false, "score": 0, "creation_date": 1484120616, "post_id": 41470590, "comment_id": 70374456, "body": "Do you know how to do the opposite?    <a href=\"http://stackoverflow.com/questions/41582286\">stackoverflow.com/questions/41582286</a>"}, {"owner": {"reputation": 10829, "user_id": 258772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65e43f9d887c6cd56dcece012f8f165b?s=128&d=identicon&r=PG", "display_name": "mrts", "link": "https://stackoverflow.com/users/258772/mrts"}, "edited": false, "score": 0, "creation_date": 1619180554, "post_id": 41470590, "comment_id": 118833647, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/9260500/how-can-i-sort-method-implementations-according-to-their-declaration-order\">How can I sort method implementations according to their declaration order</a>"}], "answers": [{"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 0, "last_activity_date": 1483554105, "creation_date": 1483554105, "answer_id": 41470705, "question_id": 41470590, "link": "https://stackoverflow.com/questions/41470590/order-functions-in-cpp-files-to-match-order-in-h-files-in-visual-studio-2015/41470705#41470705", "title": "Order functions in .cpp files to match order in .h files in Visual Studio 2015?", "body": "<p>There isn't a built-in feature to do this. However you can collapse all of your implementations using Ctrl+M then Ctrl+O to make it easier to manipulate them. Ctrl+M then Ctrl+P disabled outlining after your done.</p>\n\n<p>For the second part of your question, press Ctrl+K then Ctrl+F to automatically format any highlighted code. Ctrl+K then Ctrl+D automatically formats the entire document. The formatting rules are controlled in Tools->Options...->Text Editor->C/C++.</p>\n\n<p>Other useful shortcuts can be found in Edit->Advanced or Edit->Outlining.</p>\n"}], "owner": {"reputation": 11, "user_id": 6350777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf99e2b8c52e1fce72073a0f2a606147?s=128&d=identicon&r=PG&f=1", "display_name": "e_lektro", "link": "https://stackoverflow.com/users/6350777/e-lektro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 1, "is_answered": false, "view_count": 806, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1483554105, "creation_date": 1483553690, "question_id": 41470590, "link": "https://stackoverflow.com/questions/41470590/order-functions-in-cpp-files-to-match-order-in-h-files-in-visual-studio-2015", "title": "Order functions in .cpp files to match order in .h files in Visual Studio 2015?", "body": "<p>I've written a lot of functions without paying attention to their order and it has gotten kind of messy.</p>\n\n<p>I want to make my code more readable by having the order of functions in my .cpp files match the order in the .h files. Is there a way to do this automatically in Visual Studio 2015 or do I have to do it manually?</p>\n\n<p>What other options are there to automatically format my code to make it more readable in Visual Studio 2015?</p>\n"}, {"tags": ["c++", "sfml"], "comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 1, "creation_date": 1483553886, "post_id": 41470579, "comment_id": 70147020, "body": "nvm look at your constructor, you are creating a sprite named m_sprite instead of just setting your m_sprite."}], "answers": [{"tags": [], "owner": {"reputation": 361191, "user_id": 440558, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/9ZYta.jpg?s=128&g=1", "display_name": "Some programmer dude", "link": "https://stackoverflow.com/users/440558/some-programmer-dude"}, "is_accepted": false, "score": 2, "last_activity_date": 1483553946, "creation_date": 1483553946, "answer_id": 41470660, "question_id": 41470579, "link": "https://stackoverflow.com/questions/41470579/not-displaying-sprite-created-with-class/41470660#41470660", "title": "Not displaying Sprite created with class", "body": "<p>From the constructor:</p>\n\n<pre><code>Pickup (int type)\n{\n    m_Type = type;\n    if (m_Type == 1)\n    {\n        Sprite m_Sprite;\n        ...\n</code></pre>\n\n<p>Here you define a <em>local variable</em> with the same name as the member variable. This creates a local variable that will go out of scope and be destructed.</p>\n\n<p>The constructor leaves the member variable uninitialized.</p>\n\n<hr>\n\n<p>To solve your problem <em>properly</em> there are two changes you need to make: The first is to construct the member variable <code>m_Sprite</code>. The second is to not define the local variable.</p>\n\n<p>Something like this:</p>\n\n<pre><code>Pickup (int type)\n    : m_Sprite()    // Constructor initializer list, default-constructs the m_Sprite member\n{\n    m_Type = type;\n    if (m_Type == 1)\n    {\n        // Don't define a local variable m_Sprite\n        Texture health;\n        health.loadFromFile(\"health.png\");\n        m_Sprite.setTexture(health);\n    }\n    ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "is_accepted": true, "score": 1, "last_activity_date": 1483553968, "creation_date": 1483553968, "answer_id": 41470665, "question_id": 41470579, "link": "https://stackoverflow.com/questions/41470579/not-displaying-sprite-created-with-class/41470665#41470665", "title": "Not displaying Sprite created with class", "body": "<p>Your code should be:</p>\n\n<pre><code>class Pickup\n{\nprivate:\n    Sprite m_Sprite;\n    int m_Value;\n    int m_Type;\npublic:\nPickup (int type)\n{\n    m_Type = type;\n    if (m_Type == 1)\n    {\n        Texture health; // removed the declaration of m_Sprite that was here.\n        health.loadFromFile(\"health.png\");\n        m_Sprite.setTexture(health);\n    }\n    else ...\n\n}\nvoid spawn()\n{\n    srand((int)time(0) / m_Type);\n    int x = (rand() % 1366);\n    srand((int)time(0) * m_Type);\n    int y = (rand() % 768);\n    m_Sprite.setPosition(x, y);\n}\nSprite getSprite()\n{\n    return m_Sprite;\n}\n};\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 6396858, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-g5bbM57lK_M/AAAAAAAAAAI/AAAAAAAAAEU/e_yiFCZXB7k/photo.jpg?sz=128", "display_name": "Peter", "link": "https://stackoverflow.com/users/6396858/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 41470665, "answer_count": 2, "score": 0, "last_activity_date": 1483553968, "creation_date": 1483553625, "question_id": 41470579, "link": "https://stackoverflow.com/questions/41470579/not-displaying-sprite-created-with-class", "title": "Not displaying Sprite created with class", "body": "<p>I created a class for my pickups, in my Pickup.h. \nThis would be:</p>\n\n<pre><code>class Pickup\n{\nprivate:\n    Sprite m_Sprite;\n    int m_Value;\n    int m_Type;\npublic:\nPickup (int type)\n{\n    m_Type = type;\n    if (m_Type == 1)\n    {\n        Sprite m_Sprite;\n        Texture health;\n        health.loadFromFile(\"health.png\");\n        m_Sprite.setTexture(health);\n    }\n    else ...\n\n}\nvoid spawn()\n{\n    srand((int)time(0) / m_Type);\n    int x = (rand() % 1366);\n    srand((int)time(0) * m_Type);\n    int y = (rand() % 768);\n    m_Sprite.setPosition(x, y);\n}\nSprite getSprite()\n{\n    return m_Sprite;\n}\n};\n</code></pre>\n\n<p>If I try to draw on the screen a Sprite created with this class, using </p>\n\n<pre><code>Pickup healthPickup(1);\nhealthPickup.spawn();\n</code></pre>\n\n<p>before entering the game loop, and inside the game loop to put </p>\n\n<pre><code>    mainScreen.draw(healthPickup.getSprite());\n</code></pre>\n\n<p>I never get to see that Sprite on the screen. I tried to make another Sprite using </p>\n\n<pre><code>Sprite m_Sprite2;\nTexture health2;\nhealth2.loadFromFile(\"health.png\");\nm_Sprite2.setTexture(health2);\nm_Sprite2.setPosition(healthPickup.getSprite().getPosition().x, healthPickup.getSprite().getPosition().y);\n</code></pre>\n\n<p>and if I try to display it in the game loop, everything works just fine. My question is: why this doesn't work with my created class?</p>\n"}, {"tags": ["c++", "algorithm", "sorting", "c++14"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483553521, "post_id": 41470507, "comment_id": 70146813, "body": "Where did you learn that arrays are passed by reference?"}, {"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483553745, "post_id": 41470507, "comment_id": 70146942, "body": "@NathanOliver By default c++ passes arrays by reference"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483553831, "post_id": 41470507, "comment_id": 70146994, "body": "That is not true.  By default when an aray is passed to a function a pointer to the first element of the array is passed.  To pass an array by reference you would have something like <code>void foo(int (&amp;arr)[10])</code>"}, {"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483553941, "post_id": 41470507, "comment_id": 70147049, "body": "I understand your point but the fact remains that no extra memory is allocated so can we say that for c++ the space complexity of merge sort is constant?"}, {"owner": {"reputation": 50126, "user_id": 1717300, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/81b91f602ce8acea8cbeb29f62725627?s=128&d=identicon&r=PG", "display_name": "hyde", "link": "https://stackoverflow.com/users/1717300/hyde"}, "edited": false, "score": 0, "creation_date": 1483554639, "post_id": 41470507, "comment_id": 70147424, "body": "Having in-place merge sort is possible but complicated: <a href=\"http://stackoverflow.com/questions/2571049/how-to-sort-in-place-using-the-merge-sort-algorithm\" title=\"how to sort in place using the merge sort algorithm\">stackoverflow.com/questions/2571049/&hellip;</a> . However, it has nothing to do with  C++ array passing. In general, when analyzing algorithms, it is always assumed that data is passed &quot;by reference&quot;, not copied in O(N)."}], "answers": [{"comments": [{"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1483555207, "post_id": 41470908, "comment_id": 70147741, "body": "<a href=\"http://quiz.geeksforgeeks.org/merge-sort/\" rel=\"nofollow noreferrer\">link</a> Here in the C++ code the buffer array is &#39;int arr[]&#39; in the merge function. But since the data is being passed by reference it doesnt take any extra space apart from the pointer &#39;arr&#39; itself. So how is the space complexity O(n)"}, {"owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "reply_to_user": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 1, "creation_date": 1483555650, "post_id": 41470908, "comment_id": 70147944, "body": "You forgot about internal buffer arrays: <code>&#47;* create temp arrays *&#47;  int L[n1], R[n2];</code>"}], "tags": [], "owner": {"reputation": 65718, "user_id": 844416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e39c2364935265593d76247ddc6d07c?s=128&d=identicon&r=PG", "display_name": "MBo", "link": "https://stackoverflow.com/users/844416/mbo"}, "is_accepted": true, "score": 1, "last_activity_date": 1483554774, "creation_date": 1483554774, "answer_id": 41470908, "question_id": 41470507, "link": "https://stackoverflow.com/questions/41470507/space-complexity-analysis-of-merge-sort-c/41470908#41470908", "title": "Space Complexity Analysis of Merge Sort (C++)", "body": "<p>Space complexity remains O(n) independently on array argument calling method - it is size of buffer needed for (classic) merge sort implementation.</p>\n\n<p>So you have input array (it is usually also output array) and buffer array of the same size - that is why additional space is O(n)</p>\n"}], "owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 41470908, "answer_count": 1, "score": -2, "last_activity_date": 1483555347, "creation_date": 1483553357, "question_id": 41470507, "link": "https://stackoverflow.com/questions/41470507/space-complexity-analysis-of-merge-sort-c", "title": "Space Complexity Analysis of Merge Sort (C++)", "body": "<p>Since arrays are passed by reference in C++ does the space complexity of merge sort (recursive) still remain O(n) ? If yes then why?\n(I argue that since elements of the array are not being copied so the space complexity should be constant, i.e. , O(k).)</p>\n"}, {"tags": ["c++", "visual-studio", "nmake"], "comments": [{"owner": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 1, "creation_date": 1483557652, "post_id": 41470308, "comment_id": 70149086, "body": "it really depends on what is in your makefile"}, {"owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "reply_to_user": {"reputation": 1582, "user_id": 6592023, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jXicBKLVtww/AAAAAAAAAAI/AAAAAAAAQNE/UalqLQawigo/photo.jpg?sz=128", "display_name": "Oleg Bogdanov", "link": "https://stackoverflow.com/users/6592023/oleg-bogdanov"}, "edited": false, "score": 0, "creation_date": 1483559211, "post_id": 41470308, "comment_id": 70149859, "body": "@OlegBogdanov Thank you very much.. it seems like that .. this link command was written inside the makefile but I did not realize that"}], "owner": {"reputation": 17676, "user_id": 4523099, "user_type": "registered", "accept_rate": 85, "profile_image": "https://lh5.googleusercontent.com/-p3t1IDsNokk/AAAAAAAAAAI/AAAAAAAAABE/EsrSYS8ok2Y/photo.jpg?sz=128", "display_name": "Humam Helfawi", "link": "https://stackoverflow.com/users/4523099/humam-helfawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 282, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483552561, "creation_date": 1483552561, "question_id": 41470308, "link": "https://stackoverflow.com/questions/41470308/calling-nmake-with-link-options", "title": "Calling nmake with link options", "body": "<p>I am calling <code>nmake</code> from <code>VS2015 X64 Native Tools</code>. I am getting this output:</p>\n\n<pre><code>Microsoft (R) Program Maintenance Utility Version 14.00.24210.0\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        \"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\BIN\\amd64\\nmake.exe\" -f Makefile.Release\n\nMicrosoft (R) Program Maintenance Utility Version 14.00.24210.0\nCopyright (C) Microsoft Corporation.  All rights reserved.\n\n        link /NOLOGO /DYNAMICBASE /NXCOMPAT /INCREMENTAL:NO /INCREMENTAL:NO /SUBSYSTEM:WINDOWS \"/MANIFESTDEPENDENCY:type='win32' name='Microsoft.Windows.Common-Controls' version='6.0.0.0' publicKeyToken='6595b64144ccf1df' language='*' processorArchitecture='*'\" /MANIFEST:embed /OUT:..\\bin\\scan3d-capture.exe @C:\\Users\\HF220~1.HEL\\AppData\\Local\\Temp\\nm231F.tmp\n</code></pre>\n\n<p>After this, I am getting link errors telling me that I am linking X86 with X64 libs. I want to link against X64 and I am trying to build X64 version. but it seems that from this linking option <code>/MANIFESTDEPENDENCY:type='win32'</code> the problem exists.</p>\n\n<p>how can change link option when calling <code>nmake</code>? </p>\n"}, {"tags": ["c++", "clang", "llvm"], "comments": [{"owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "edited": false, "score": 0, "creation_date": 1487885291, "post_id": 41470241, "comment_id": 71998508, "body": "You might also be interested in the answer of Sean Silva-2 in <a href=\"http://clang-developers.42468.n3.nabble.com/How-to-determine-clang-s-system-include-dirs-to-set-in-ASTVisitor-td4029080.html\" rel=\"nofollow noreferrer\">this thread</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23688, "user_id": 1256041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NJUNN.jpg?s=128&g=1", "display_name": "sdgfsdh", "link": "https://stackoverflow.com/users/1256041/sdgfsdh"}, "edited": false, "score": 1, "creation_date": 1483638186, "post_id": 41491331, "comment_id": 70188470, "body": "Yes, I have found this to be the case myself. The most robust solution I could find (although certainly not the most efficient) was to create a <code>CompilerInstance</code> using the <code>Driver</code> class, read off the properties and then dispose of the instances. Luckily I only need to read these properties once."}, {"owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "reply_to_user": {"reputation": 23688, "user_id": 1256041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NJUNN.jpg?s=128&g=1", "display_name": "sdgfsdh", "link": "https://stackoverflow.com/users/1256041/sdgfsdh"}, "edited": false, "score": 0, "creation_date": 1487885200, "post_id": 41491331, "comment_id": 71998455, "body": "@sdgfsdh That&#39;s actually not bad at all ... thanks for the tip."}, {"owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "reply_to_user": {"reputation": 23688, "user_id": 1256041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NJUNN.jpg?s=128&g=1", "display_name": "sdgfsdh", "link": "https://stackoverflow.com/users/1256041/sdgfsdh"}, "edited": false, "score": 0, "creation_date": 1487936146, "post_id": 41491331, "comment_id": 72019280, "body": "@sdgfsdh: any chance you could post the source of how you did it? I&#39;m struggling to get it working"}], "tags": [], "owner": {"reputation": 8022, "user_id": 164925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35f656cad1ff0d8797c598930dda7faa?s=128&d=identicon&r=PG", "display_name": "Anton Korobeynikov", "link": "https://stackoverflow.com/users/164925/anton-korobeynikov"}, "is_accepted": true, "score": 1, "last_activity_date": 1483637876, "creation_date": 1483637876, "answer_id": 41491331, "question_id": 41470241, "link": "https://stackoverflow.com/questions/41470241/how-do-i-extract-the-search-paths-for-headers-in-the-standard-library-in-clang/41491331#41491331", "title": "How do I extract the search paths for headers in the standard library in Clang?", "body": "<p>Unfortunately, it's not that easy, because the set of header search paths depends on plenty of factors, including language, platform, command line options, configure-time settings, etc. Also, usually driver may add additional paths, etc. </p>\n\n<p>There is <code>HeaderSearch</code> / <code>InitHeaderSearch</code> classes inside Frontend library that do the bulk of the work. You may want to look into <code>clang::ApplyHeaderSearchOptions</code> - basically allow it to fill a <code>HeaderSearch</code> instance and you could iterate over various header search paths.</p>\n"}, {"tags": [], "owner": {"reputation": 1504, "user_id": 1173521, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e53bbfee240b8cbd7af6e5629968a48b?s=128&d=identicon&r=PG", "display_name": "samvv", "link": "https://stackoverflow.com/users/1173521/samvv"}, "is_accepted": false, "score": 1, "last_activity_date": 1488022818, "creation_date": 1488022818, "answer_id": 42455587, "question_id": 41470241, "link": "https://stackoverflow.com/questions/41470241/how-do-i-extract-the-search-paths-for-headers-in-the-standard-library-in-clang/42455587#42455587", "title": "How do I extract the search paths for headers in the standard library in Clang?", "body": "<p>If anyone else stumbles on this: with LLVM 3.9.1, it is not enough to merely create a compiler instance and read header search information from there. You have to create the preprocessor as well using <code>CI.createPreprocessor()</code>; that's the only place - at least in 3.9.1 -  where <code>ApplyHeaderSearchOptions</code> is called, and invoking that function is what you want if you want to get the default header search directories.</p>\n\n<p>After that, you can read the headers from <code>HeaderSearch</code> attained from <code>CI.getPreprocessor().getHeaderSearchInfo()</code> using <code>HeaderSearch.system_dir_begin()</code> and <code>HeaderSearch.system_dir_end()</code>.</p>\n\n<p>Thanks @sdgfsdh for the hint on how to get going.</p>\n"}], "owner": {"reputation": 23688, "user_id": 1256041, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/NJUNN.jpg?s=128&g=1", "display_name": "sdgfsdh", "link": "https://stackoverflow.com/users/1256041/sdgfsdh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 2, "accepted_answer_id": 41491331, "answer_count": 2, "score": 4, "last_activity_date": 1488022818, "creation_date": 1483552350, "question_id": 41470241, "link": "https://stackoverflow.com/questions/41470241/how-do-i-extract-the-search-paths-for-headers-in-the-standard-library-in-clang", "title": "How do I extract the search paths for headers in the standard library in Clang?", "body": "<p>I am using Clang as a <em>library</em> and I would like to extract the paths where the user's standard library headers are. </p>\n\n<p>I can extract this information using the command-line tool. For example, on OSX: </p>\n\n<pre><code>clang -E -v -x c++ /dev/null -fsyntax-only\n\n...\n#include \"...\" search starts here:\n#include &lt;...&gt; search starts here:\n /usr/local/bin/../include/c++/v1\n /usr/local/include\n /usr/local/bin/../lib/clang/3.9.0/include\n /usr/include\n /System/Library/Frameworks (framework directory)\n /Library/Frameworks (framework directory)\nEnd of search list.\n...\n</code></pre>\n\n<p>However, I would like to get it programatically. Something like: </p>\n\n<pre><code>// (just an example)\nstd::vector&lt;std::string&gt; searchPaths = clang::GetTypicalHeaderSearchPaths();\n</code></pre>\n\n<p>How does Clang expose this information? </p>\n"}, {"tags": ["c++", "ifstream", "ofstream"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 2, "creation_date": 1483552552, "post_id": 41470234, "comment_id": 70146296, "body": "Part of the problem is that your <code>userRank</code> has a <code>std::string</code> in it, which includes heap-allocated memory, which won&#39;t be accessible simply by going to the address of an instance of <code>userRank</code>"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483552667, "post_id": 41470234, "comment_id": 70146373, "body": "Complex types may have pointers.  The address (pointer value) may not be valid the next time the program is loaded.  So, don&#39;t store pointers in binary files."}, {"owner": {"reputation": 9, "user_id": 7375556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05939c4708380c87b4edf83804b3fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "PauBlanes", "link": "https://stackoverflow.com/users/7375556/paublanes"}, "edited": false, "score": 0, "creation_date": 1483552723, "post_id": 41470234, "comment_id": 70146416, "body": "Ah thanks, so the only way would be using an array of chars?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483552742, "post_id": 41470234, "comment_id": 70146433, "body": "A text string is a variable record.  You will need to either store the length and the text, or store the text with some sentinal value.  If you wish to use binary writing and reading, you may want to use fixed size character arrays to hold the text (also put in a text length field in the structure)."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483552849, "post_id": 41470234, "comment_id": 70146495, "body": "FYI, you can keep the string class in your structure, but write and read the text using a different algorithm.  I recommend this since writing and reading of the structure will occur less frequently than other access to the data."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483552852, "post_id": 41470234, "comment_id": 70146498, "body": "Not sure if this qualifies as a dupe so just linking it here: <a href=\"http://stackoverflow.com/questions/7046244/serializing-a-class-which-contains-a-stdstring\" title=\"serializing a class which contains a stdstring\">stackoverflow.com/questions/7046244/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 7375556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05939c4708380c87b4edf83804b3fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "PauBlanes", "link": "https://stackoverflow.com/users/7375556/paublanes"}, "edited": false, "score": 0, "creation_date": 1483553006, "post_id": 41470234, "comment_id": 70146578, "body": "But if i do sizeof(emptyuserRank) and sizeof(userRankwithvalues) i get 48 both times, does this mean anything?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483553594, "post_id": 41470234, "comment_id": 70146858, "body": "@PauBlanes No because the size of <code>std::string</code> does not include the size of the bytes it uses for the string(disregarding small string optimization."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 7375556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05939c4708380c87b4edf83804b3fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "PauBlanes", "link": "https://stackoverflow.com/users/7375556/paublanes"}, "edited": false, "score": 0, "creation_date": 1483553285, "post_id": 41470385, "comment_id": 70146717, "body": "than you, I&#39;ll use the quick fix, sry guys i&#39;ll do it the right way at some point. I used char* instead of string btw."}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": true, "score": 0, "last_activity_date": 1483552863, "creation_date": 1483552863, "answer_id": 41470385, "question_id": 41470234, "link": "https://stackoverflow.com/questions/41470234/program-stopped-working-when-trying-to-file-read-to-a-new-variable/41470385#41470385", "title": "Program stopped working when trying to file.read() to a new variable", "body": "<p>Using <code>reinterpret_cast</code> in that way is dangerous and may break for many reasons.  In this particular case, the reason it doesn't work is because <code>struct userRank</code> contains <code>std::string</code> which is not <a href=\"http://en.cppreference.com/w/cpp/concept/PODType\" rel=\"nofollow noreferrer\">a POD type</a> (plain old data type). That means you can't simply set it's bits and expect to get the right state. <code>std::string</code> contains a pointer to allocated memory. Setting the bits of a <code>std::string</code> doesn't allocate the memory it is expecting to find at that pointer's address.</p>\n\n<p>The quick fix (relatively speaking) is to use <code>std::array</code> instead of <code>std::string</code> to store the <code>userName</code>. The right fix is to write functions that will read/write the structure's state to/from the file member by member.</p>\n"}], "owner": {"reputation": 9, "user_id": 7375556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05939c4708380c87b4edf83804b3fe3a?s=128&d=identicon&r=PG&f=1", "display_name": "PauBlanes", "link": "https://stackoverflow.com/users/7375556/paublanes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 41470385, "answer_count": 1, "score": 0, "last_activity_date": 1483552863, "creation_date": 1483552326, "question_id": 41470234, "link": "https://stackoverflow.com/questions/41470234/program-stopped-working-when-trying-to-file-read-to-a-new-variable", "title": "Program stopped working when trying to file.read() to a new variable", "body": "<p>Ok so i have this code i just want to write my struct to the file and then read using another variable because i want to return a vector of userRankings when reading.</p>\n\n<p>Here'es my write/read</p>\n\n<pre><code>void IOManager::WriteBin(const string &amp;filename, userRank u1) {\n\n    ofstream fsalida(filename, ios::out | ios::binary); //obrim un archiu per escriure en binari i de tipo append per poder escriure al final i no xafar-ho tot cada cop\n\n    if (fsalida.is_open())\n    {\n        fsalida.write(reinterpret_cast&lt;char*&gt;(&amp;u1), sizeof(u1));\n        fsalida.close();\n\n\n    }\n    else cout &lt;&lt; \"Unable to open file for writing\\n\";\n\n}\n\nvoid IOManager::ReadBin(const string &amp;filename) {\n\n\n\n    ifstream fentrada(filename, ios::in | ios::binary); //ate per posarnos al final del archiu i tenir el tamany\n\n    if (fentrada.is_open())\n    {   \n        userRank tempUser;\n        fentrada.read(reinterpret_cast&lt;char*&gt;(&amp;tempUser), sizeof(tempUser));\n        fentrada.close();\n\n        cout &lt;&lt; sizeof(tempUser) &lt;&lt; endl;\n\n    }\n    else cout &lt;&lt; \"Unable to open file for reading\\n\";   \n\n}\n</code></pre>\n\n<p>And my userRank:</p>\n\n<pre><code>struct userRank\n{\n    std::string userName;\n    int score;\n};\n</code></pre>\n\n<p>The line that fails is fentrada.read(reinterpret_cast(&amp;tempUser), sizeof(tempUser));</p>\n\n<p>Please help, this seems to work with ints, chars, etc but not with strings and complex types, does anybody know why?</p>\n"}, {"tags": ["c++", "macos", "qt", "amazon-web-services"], "comments": [{"owner": {"reputation": 1594, "user_id": 1127601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da2b3eb10bee191b77d5b23035ebad3d?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Rapp", "link": "https://stackoverflow.com/users/1127601/christian-rapp"}, "edited": false, "score": 0, "creation_date": 1483604891, "post_id": 41470229, "comment_id": 70165792, "body": "Could you provide us a basic code example?"}, {"owner": {"reputation": 1, "user_id": 7375511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525ff8f434d2c81dd253f92090910c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Starver", "link": "https://stackoverflow.com/users/7375511/starver"}, "reply_to_user": {"reputation": 1594, "user_id": 1127601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da2b3eb10bee191b77d5b23035ebad3d?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Rapp", "link": "https://stackoverflow.com/users/1127601/christian-rapp"}, "edited": false, "score": 0, "creation_date": 1483637228, "post_id": 41470229, "comment_id": 70187865, "body": "I try to enter the part that seems most relevant to me (I can&#39;t embed the whole .zip file)"}, {"owner": {"reputation": 1, "user_id": 7375511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525ff8f434d2c81dd253f92090910c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Starver", "link": "https://stackoverflow.com/users/7375511/starver"}, "reply_to_user": {"reputation": 1594, "user_id": 1127601, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/da2b3eb10bee191b77d5b23035ebad3d?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Rapp", "link": "https://stackoverflow.com/users/1127601/christian-rapp"}, "edited": false, "score": 0, "creation_date": 1483911192, "post_id": 41470229, "comment_id": 70281488, "body": "error should be on the SignatureMethod, according to my A|B testing, but cannot find which method to use."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7375511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525ff8f434d2c81dd253f92090910c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Starver", "link": "https://stackoverflow.com/users/7375511/starver"}, "is_accepted": false, "score": 0, "last_activity_date": 1483637424, "creation_date": 1483637424, "answer_id": 41491186, "question_id": 41470229, "link": "https://stackoverflow.com/questions/41470229/aws-query-through-qt-mac-osx-is-not-getting-any-result/41491186#41491186", "title": "AWS query through Qt (mac - OSX) is not getting any result", "body": "<p>this is the most relevant part of the code. I suspect I cannot embed .zip file</p>\n\n<pre><code>AWSQueryRequest::AWSQueryRequest(QObject *parent) :\n    QObject(parent)\n{\n    m_netManager = new QNetworkAccessManager(this);\n}\n\nQString AWSQueryRequest::hmacSha1(QByteArray key, QByteArray baseString)\n{\n    int blockSize = 64; // HMAC-SHA-1 block size, defined in SHA-1 standard\n    if (key.length() &gt; blockSize)\n    {\n        // if key is longer than block size (64), reduce key length with SHA-1 compression\n        key = QCryptographicHash::hash(key, QCryptographicHash::Sha1);\n    }\n\n    QByteArray innerPadding(blockSize, char(0x36)); // initialize inner padding with char \"6\"\n    QByteArray outerPadding(blockSize, char(0x5c)); // initialize outer padding with char \"quot;\n    // ascii characters 0x36 (\"6\") and 0x5c (\"quot;) are selected because they have large\n    // Hamming distance (http://en.wikipedia.org/wiki/Hamming_distance)\n\n    for (int i = 0; i &lt; key.length(); i++)\n    {\n        innerPadding[i] = innerPadding[i] ^ key.at(i); // XOR operation between every byte in key and innerpadding, of key length\n        outerPadding[i] = outerPadding[i] ^ key.at(i); // XOR operation between every byte in key and outerpadding, of key length\n    }\n\n    // result = hash ( outerPadding CONCAT hash ( innerPadding CONCAT baseString ) ).toBase64\n    QByteArray total = outerPadding;\n    QByteArray part = innerPadding;\n    part.append(baseString);\n    total.append(QCryptographicHash::hash(part, QCryptographicHash::Sha1));\n    QByteArray hashed = QCryptographicHash::hash(total, QCryptographicHash::Sha1);\n    return hashed.toBase64();\n}\n\nQByteArray AWSQueryRequest::getTimeStamp()\n{\n    QDateTime dateTime = QDateTime::currentDateTimeUtc();\n    return dateTime.toString(Qt::ISODate).toUtf8();\n}\n\nQByteArray AWSQueryRequest::createSignature(const QMap&lt;QString,QString&gt; &amp; queryItems)\n{\n    QUrl url(END_POINT);\n    QString stringToSign = \"GET\\n\";\n    stringToSign.append(url.host() + \"\\n\");\n    stringToSign.append(url.path() + \"\\n\");\n\n    QList&lt;QString&gt; keys = queryItems.keys();\n    for( int i=0; i &lt; keys.count() ; ++i )\n    {\n        stringToSign.append(keys[i]+\"=\"+queryItems[keys[i]]);\n        if( i != keys.count() -1  )\n            stringToSign.append(\"&amp;\");\n    }\n    QString signature = hmacSha1(AWS_PASS, stringToSign.toUtf8());\n    return QUrl::toPercentEncoding(signature);\n}\n#if 0\nQByteArray AWSQueryRequest::createSignature(const QList&lt; QPair&lt;QString,QString&gt; &gt; &amp; queryItems)\n{\n    QUrl url(END_POINT);\n    QString stringToSign = \"GET\\n\";\n    stringToSign.append(url.host() + \"\\n\");\n    stringToSign.append(url.path() + \"\\n\");\n\n    for (int i=0; i&lt;queryItems.count(); ++i)\n    {\n        QPair&lt;QString,QString&gt; pairValue = queryItems[i];\n        stringToSign.append(pairValue.first+\"=\"+pairValue.second);\n        if( i != queryItems.count() -1)\n            stringToSign.append(\"&amp;\");\n    }\n\n    QString signature = hmacSha1(AWS_PASS, stringToSign.toUtf8());\n    return QUrl::toPercentEncoding(signature);\n}\n#endif\nQUrl AWSQueryRequest::createUrl( const QMap&lt; QString,QString &gt;&amp; queryItems )\n{\n    QUrl url(END_POINT);\n    QUrlQuery query;\n    QMapIterator&lt;QString, QString&gt; it(queryItems);\n    while (it.hasNext())\n    {\n        it.next();\n        query.addQueryItem(it.key().toUtf8(), it.value().toUtf8());\n    }\n    url.setQuery(query);\n    return url;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 7375511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525ff8f434d2c81dd253f92090910c0f?s=128&d=identicon&r=PG&f=1", "display_name": "Starver", "link": "https://stackoverflow.com/users/7375511/starver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483637424, "creation_date": 1483552302, "question_id": 41470229, "link": "https://stackoverflow.com/questions/41470229/aws-query-through-qt-mac-osx-is-not-getting-any-result", "title": "AWS query through Qt (mac - OSX) is not getting any result", "body": "<p>I'm currently trying to create a C++ program to track prices for a bunch of ASINs.\nI'm using C++ with Qt (Version 5.5), compiling on mac OSX through Xcode (5.1.1).\nWhen compiling, it's running but no output is given. I have the following warning message instead (I encrypted AccessKey &amp; AssociateTag for privacy reasons as \"/////////////\")</p>\n\n<pre><code>*QUrl(\"http://ecs.amazonaws.com/onca/xml?AWSAccessKeyId=///////////////&amp;AssociateTag=/////////////&amp;ItemId=B00181T20O&amp;Operation=ItemLookup&amp;ResponseGroup=OfferSummary&amp;Service=AWSECommerceService&amp;Signature=1K69SLmTkZ9hZwwt5ualR4uDRwY%3D&amp;SignatureMethod=HmacSHA1&amp;Timestamp=2017-01-04T10%3A21%3A46Z\")\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\nqt.network.ssl: Error receiving trust for a CA certificate\n\"&lt;?xml version=\\\"1.0\\\"?&gt;\\n&lt;ItemLookupErrorResponse \nxmlns=\\\"http://ecs.amazonaws.com/doc/2005-10-05/\\\"&gt;&lt;Error&gt;\n&lt;Code&gt;SignatureDoesNotMatch&lt;/Code&gt;&lt;Message&gt;The request signature we calculated \ndoes not match the signature you provided. Check your AWS Secret Access Key and \nsigning method. Consult the service documentation for details.&lt;/Message&gt;&lt;/Error&gt;\n&lt;RequestId&gt;f4626242-a110-43f1-9b56-b8a696b3f299&lt;/RequestId&gt;\n&lt;/ItemLookupErrorResponse&gt;\"\n\nRET:\n(\"\", \"\")*\n</code></pre>\n\n<p>To test it again, I copied URL (first few rows of warning message) in the browser and I get the same error as well:\n<em>\"The request signature we calculated does not match the signature you provided. Check your AWS Secret Access Key and signing method. Consult the service documentation for details.\"</em></p>\n\n<p>Can anyone give me a hint of what's wrong in the URL? \nThanks in advance!</p>\n"}, {"tags": ["c++", "c++11", "ubuntu-16.04", "linkage", "undefined-symbol"], "comments": [{"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483552177, "post_id": 41470139, "comment_id": 70146135, "body": "Is updating your toolchain an option?"}, {"owner": {"reputation": 960, "user_id": 1782553, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc4d4fbae28ecd225bd84e7e8cb6fc5e?s=128&d=identicon&r=PG", "display_name": "Jav", "link": "https://stackoverflow.com/users/1782553/jav"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483552478, "post_id": 41470139, "comment_id": 70146265, "body": "I&#39;m not sure I fully understood the suggestion but most of our developers don&#39;t use c++11 so I don&#39;t want to force using it."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483552678, "post_id": 41470139, "comment_id": 70146385, "body": "My suggestion stems from the symbols you showed. <code>libtinyxml 16.04</code> is built using a different version of the standard library than <code>14.04</code>. Since binary compatibility isn&#39;t promised here, you need to update your toolchain. Also, using a compiler which supports C++11/14 doesn&#39;t mean you need to start using all the new language features. You can still write what is pretty much legal C++03."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483552805, "post_id": 41470139, "comment_id": 70146467, "body": "Or you can try to do what this post did <a href=\"http://stackoverflow.com/questions/33394934/converting-std-cxx11string-to-stdstring\" title=\"converting std cxx11string to stdstring\">stackoverflow.com/questions/33394934/&hellip;</a>"}, {"owner": {"reputation": 960, "user_id": 1782553, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc4d4fbae28ecd225bd84e7e8cb6fc5e?s=128&d=identicon&r=PG", "display_name": "Jav", "link": "https://stackoverflow.com/users/1782553/jav"}, "reply_to_user": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 0, "creation_date": 1483604737, "post_id": 41470139, "comment_id": 70165718, "body": "I&#39;m using g++ 4.8.5. I tried to define the macro <code>#define _GLIBCXX_USE_CXX11_ABI 1</code> but doesn&#39;t change anything, the compilation still tries to use the <code>std::string const&amp;</code> and not the <code>std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;</code>."}, {"owner": {"reputation": 147720, "user_id": 817643, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3ec3655af26685ce29823b04cb6c78d5?s=128&d=identicon&r=PG", "display_name": "StoryTeller - Unslander Monica", "link": "https://stackoverflow.com/users/817643/storyteller-unslander-monica"}, "edited": false, "score": 1, "creation_date": 1483605384, "post_id": 41470139, "comment_id": 70166056, "body": "It didn&#39;t help because your toolchain doesn&#39;t support the C++11 ABI... Of course <i>enabling</i> the ABI won&#39;t help. Your options are limited to updating your toolchain or building TinyXml from source with <code>_GLIBCXX_USE_CXX11_ABI  0</code>."}], "answers": [{"tags": [], "owner": {"reputation": 960, "user_id": 1782553, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc4d4fbae28ecd225bd84e7e8cb6fc5e?s=128&d=identicon&r=PG", "display_name": "Jav", "link": "https://stackoverflow.com/users/1782553/jav"}, "is_accepted": false, "score": 0, "last_activity_date": 1484570276, "creation_date": 1484570276, "answer_id": 41676606, "question_id": 41470139, "link": "https://stackoverflow.com/questions/41470139/the-same-library-defines-different-symbols-under-16-04-and-under-14-04/41676606#41676606", "title": "The same library defines different symbols under 16.04 and under 14.04", "body": "<p>The problem was related to a different gcc version.</p>\n\n<p>The best thing is to use under each Ubuntu, the <code>gcc</code> that is in the default repositories.</p>\n"}], "owner": {"reputation": 960, "user_id": 1782553, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bc4d4fbae28ecd225bd84e7e8cb6fc5e?s=128&d=identicon&r=PG", "display_name": "Jav", "link": "https://stackoverflow.com/users/1782553/jav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1484570276, "creation_date": 1483551982, "question_id": 41470139, "link": "https://stackoverflow.com/questions/41470139/the-same-library-defines-different-symbols-under-16-04-and-under-14-04", "title": "The same library defines different symbols under 16.04 and under 14.04", "body": "<p>I'm using vagrant to build the same code under multiple versions of Ubuntu (<code>12.04</code>, <code>14.04</code> and <code>16.04</code>).</p>\n\n<p>Under <code>16.04</code>, I have a missing symbol:</p>\n\n<pre><code>undefined reference to TiXmlElement::TiXmlElement(std::string const&amp;)\n</code></pre>\n\n<p>The linkage is done with the same version of <code>libtinyxml</code> (see below), but when I look at the symbols inside the libraries, there's a small difference:</p>\n\n<p><strong>Ubuntu 14.04:</strong></p>\n\n<pre><code>$ ldd libcustomlib.so\nlibtinyxml.so.2.6.2 =&gt; /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 (0x00007fe6c9789000)\n$ objdump -TC /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 | grep \"TiXmlElement::TiXmlElement(std\"\n000000000000a0f0 g  DF .text  0000000000000072  Base  TiXmlElement::TiXmlElement(std::string const&amp;)\n000000000000a0f0 g  DF .text  0000000000000072  Base  TiXmlElement::TiXmlElement(std::string const&amp;)\n</code></pre>\n\n<p><strong>Ubuntu 16.04:</strong></p>\n\n<pre><code>$ ldd libcustomlib.so\nlibtinyxml.so.2.6.2 =&gt; /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 (0x00007f08eb3c0000)\n$ objdump -TC /usr/lib/x86_64-linux-gnu/libtinyxml.so.2.6.2 | grep \"TiXmlElement::TiXmlElement(std\"\n000000000000aad0 g  DF .text  0000000000000072  Base  TiXmlElement::TiXmlElement(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)\n000000000000aad0 g  DF .text  0000000000000072  Base  TiXmlElement::TiXmlElement(std::__cxx11::basic_string&lt;char, std::char_traits&lt;char&gt;, std::allocator&lt;char&gt; &gt; const&amp;)\n</code></pre>\n\n<p>As you can see, under <code>16.04</code>, the library seems to have been built with c++11 while not under <code>14.04</code>.</p>\n\n<p>How is that since the version number is the same? And what can I do to make my code compile?</p>\n"}, {"tags": ["python", "c++", "opencv"], "comments": [{"owner": {"reputation": 319, "user_id": 1637710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c283dd2e1a536db19a4309ff322fd3?s=128&d=identicon&r=PG", "display_name": "hiroki", "link": "https://stackoverflow.com/users/1637710/hiroki"}, "edited": false, "score": 0, "creation_date": 1483582550, "post_id": 41470063, "comment_id": 70158606, "body": "Maybe the Mat rescolor is 1-channel image but you are accessing it as 3-channel image with at&lt;cv::Vec3b&gt;. I don&#39;t see the reason why you need to convert the matching result to color. Try changing Vec3b to uchar."}, {"owner": {"reputation": 169, "user_id": 7375296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7aadcaf2b5f6c3794a51a67306a1d57?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/7375296/ashwin"}, "reply_to_user": {"reputation": 319, "user_id": 1637710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c283dd2e1a536db19a4309ff322fd3?s=128&d=identicon&r=PG", "display_name": "hiroki", "link": "https://stackoverflow.com/users/1637710/hiroki"}, "edited": false, "score": 0, "creation_date": 1485250745, "post_id": 41470063, "comment_id": 70836550, "body": "You are right! I am struggling to assign a weighted combination of Vec3b values to a uchar matrix."}, {"owner": {"reputation": 169, "user_id": 7375296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7aadcaf2b5f6c3794a51a67306a1d57?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/7375296/ashwin"}, "reply_to_user": {"reputation": 319, "user_id": 1637710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08c283dd2e1a536db19a4309ff322fd3?s=128&d=identicon&r=PG", "display_name": "hiroki", "link": "https://stackoverflow.com/users/1637710/hiroki"}, "edited": false, "score": 0, "creation_date": 1485323840, "post_id": 41470063, "comment_id": 70873262, "body": "Figured out how to get around my previous limitation too. We have to split channels using cv::split to access each one as a single colour channel;"}], "owner": {"reputation": 169, "user_id": 7375296, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e7aadcaf2b5f6c3794a51a67306a1d57?s=128&d=identicon&r=PG&f=1", "display_name": "Ashwin", "link": "https://stackoverflow.com/users/7375296/ashwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 723, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483551661, "creation_date": 1483551661, "question_id": 41470063, "link": "https://stackoverflow.com/questions/41470063/duplicate-matches-in-template-matching-using-opencv-with-c", "title": "Duplicate matches in template matching using OpenCV with C++", "body": "<p>I implemented a C++ code in OpenCv based on an OpenCV youtube Python tutorial:</p>\n\n<p>This code is about matching a template to an image and getting occurences of it on the image. \nThe masking step outputs the same regions as expected but the output shows both the expected regions and a set of duplicate values. I have two doubts</p>\n\n<p>a)Why is there a duplication?</p>\n\n<p>b)I had to offset the rectangles around the objects by a value. Which error caused this offset? I had to offset in only direction, leading me to believe that there is an error in the code rather than it being an intended function. Some regions at the bottom of the image have also been falsely marked as positive.</p>\n\n<p>C++ Code:</p>\n\n<pre><code>int main(){\n    Mat img,gray,temp,res,graytemp;\n    img=imread(\"/home/robo123/Downloads/opencv-template-matching-python-tutorial.jpg\",1);\n    temp=imread(\"/home/robo123/Downloads/opencv-template-for-matching.jpg\",1);\n    cvtColor(img,gray, COLOR_BGR2GRAY);\n    cvtColor(temp,graytemp,COLOR_BGR2GRAY);\n    matchTemplate(gray,graytemp,res,TM_CCOEFF_NORMED);\n    double thresh = 0.78;\n    threshold(res, res, thresh, 1., THRESH_BINARY);\n    Mat rescolor;\n    res.convertTo(rescolor, CV_8U, 255);\n    int w,h,width,height;\n    w=temp.rows;\n    h=temp.cols;\n    width=rescolor.rows;\n    height=rescolor.cols;\n    imshow(\"rescolor\",rescolor);\n    waitKey(0);\n\n\n    for(int i=0;i&lt;width;i++)\n        for(int j=0;j&lt;height;j++){\n            Vec3b intensity = rescolor.at&lt;cv::Vec3b&gt;(j, i);\n            uchar blue = intensity.val[0];\n            uchar green = intensity.val[1];\n            uchar red = intensity.val[2];\n            if(blue!=0 || green!=0 || red!= 0){\n                rectangle(img,Point(i+1.25*w,j),Point(i+2.25*w,j+h),Scalar(255,255,255),2,LINE_AA);\n            }\n        }\n    imshow(\"IMage\",img);\n    waitKey(0);\n    return 0;\n}\n</code></pre>\n\n<p>Python code from online[The code that I tried to write in C++]:</p>\n\n<pre><code>import numpy as np\nimport cv2\n\nimg_bgr=cv2.imread('opencv-template-matching-python-tutorial.jpg')\nimg_gray=cv2.cvtColor(img_bgr,cv2.COLOR_BGR2GRAY)\n\ntemplate= cv2.imread('opencv-template-for-matching.jpg',0)\nw, h=template.shape[::-1]\n\nres= cv2.matchTemplate(img_gray, template, cv2.TM_CCOEFF_NORMED)\nthreshold= 0.78\nloc= np.where(res&gt;= threshold)\n\nfor pt in zip(*loc[::-1]):\n    cv2.rectangle(img_bgr, pt, (pt[0]+w,pt[1]+h), (0,255,255) ,2)\n\ncv2.imshow('detected', img_bgr)\ncv2.waitKey(0)\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ml22l.png\" rel=\"nofollow noreferrer\">Mask</a>\n<a href=\"https://i.stack.imgur.com/XhvoX.jpg\" rel=\"nofollow noreferrer\">Matches of the template</a></p>\n"}, {"tags": ["c++", "visual-studio", "list", "visual-studio-2015", "iterator"], "comments": [{"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1483550818, "post_id": 41469761, "comment_id": 70145345, "body": "You&#39;re iterating twice over <code>ballList</code> (why?) and invalidating iterators as you  go."}, {"owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "edited": false, "score": 0, "creation_date": 1483550889, "post_id": 41469761, "comment_id": 70145382, "body": "remove the outer loop, then try <code>it = ballList.erase(it)</code> instead of <code>ballList.remove(ball)</code>"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483550892, "post_id": 41469761, "comment_id": 70145385, "body": "A for each or a ranged based for loop should not mutate the container but only the elements of the container."}, {"owner": {"reputation": 44381, "user_id": 471160, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/9Z23A.jpg?s=128&g=1", "display_name": "marcinj", "link": "https://stackoverflow.com/users/471160/marcinj"}, "edited": false, "score": 1, "creation_date": 1483551004, "post_id": 41469761, "comment_id": 70145456, "body": "<code>for each</code> is non standard VS2015 extension, which as I checked is also available for native C++ (with /ZW). Why not using standard c++? But back to the topic, you remove a ball from a list you are iterating, so it might cause UB - and debug mode is kind enough to give you assertion with such nice title."}], "answers": [{"tags": [], "owner": {"reputation": 17031, "user_id": 185915, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/207045374ab195353388d9fcc77af9c5?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/185915/chad"}, "is_accepted": true, "score": 2, "last_activity_date": 1483551392, "creation_date": 1483551392, "answer_id": 41469992, "question_id": 41469761, "link": "https://stackoverflow.com/questions/41469761/list-iterators-incompatible-while-running/41469992#41469992", "title": "&quot;List iterators incompatible&quot; while running", "body": "<pre><code>void GameLogic::isHit(int mousePressX, int mousePressY) \n{\n    // iterate all the balls in the list...\n    for (it = ballList.begin(); it != ballList.end();)\n    {\n        bool isHit = (*it)-&gt;EvaluateHit(mousePressX, mousePressY);\n\n        if (isHit == true)\n        {\n            mScore++;\n            // This invalidates iterators, and is linear in complexity\n            // (it iterates the list too, but you're already doing that)\n            // ballList.remove(ball);\n\n            // erase the ball at this iteration, save off the result\n            // so you can continue iterating\n            it = ballList.erase(it);\n        }\n        else\n        {\n            // if the ball wasn't hit, increment the iterator normally\n            ++it;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7375398, "user_type": "registered", "profile_image": "https://graph.facebook.com/1272884776067217/picture?type=large", "display_name": "Branislav Kraj\u010do", "link": "https://stackoverflow.com/users/7375398/branislav-kraj%c4%8do"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 41469992, "answer_count": 1, "score": 0, "last_activity_date": 1483551546, "creation_date": 1483550562, "last_edit_date": 1483550758, "question_id": 41469761, "link": "https://stackoverflow.com/questions/41469761/list-iterators-incompatible-while-running", "title": "&quot;List iterators incompatible&quot; while running", "body": "<pre><code>void GameLogic::isHit(int mousePressX, int mousePressY) \n{\n\nfor each(BallObject* ball in ballList) {\n    for (it = ballList.begin(); it != ballList.end();)\n    {\n        bool isHit = ball-&gt;EvaluateHit(mousePressX, mousePressY);\n        if (isHit == true)\n        {\n            mScore++;\n            ballList.remove(ball);\n        }\n        else\n        {\n            ++it;\n        }\n    }\n}\n</code></pre>\n\n<p>I am trying to remove ball from \"ballList\" while playing game via click on surface(ball should dissapear). Program is running correctly until click. When I click, it gives an error from the title. How does it right? </p>\n"}, {"tags": ["c++", "c++11", "data-structures", "segmentation-fault", "stack"], "comments": [{"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483550726, "post_id": 41469735, "comment_id": 70145280, "body": "Since you &quot;just started C++&quot;, you should invest time in using a debugger.  A debugger allows you to execute each statement one at a time (a.k.a single stepping) and see values of variables."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483550781, "post_id": 41469735, "comment_id": 70145320, "body": "Since you are using C++, use the <code>bool</code> type with <code>true</code> and <code>false</code> values.  Using 1 and 0 is an ancient practice (like around 1960&#39;s or earlier)."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483550838, "post_id": 41469735, "comment_id": 70145353, "body": "You can simplify some of your functions by placing the comparison into a <code>return</code> statement, such as <code>return (top == max);</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483550910, "post_id": 41469735, "comment_id": 70145395, "body": "Also, rename your <code>stack</code> as <code>std::stack</code> is already in use and you have allowed every symbol from the <code>std</code> namespace by <code>using namespace std;</code>."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483551012, "post_id": 41469735, "comment_id": 70145459, "body": "In your <code>push</code> method, you need to check for stack full before pushing an element.  Otherwise, you are accessing beyond the array, which causes <i>Undefined Behavior</i> (anything could happen).  Similarly, you need to check for stack empty before popping elements."}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 0, "creation_date": 1483551018, "post_id": 41469735, "comment_id": 70145464, "body": "<code>init</code>, manually called, for a C++ class ?"}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483551129, "post_id": 41469735, "comment_id": 70145546, "body": "If you use the <code>bool</code> data type, you don&#39;t need to perform &quot;<code>==0</code>&quot; in your <code>if</code> statements."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483551190, "post_id": 41469735, "comment_id": 70145579, "body": "A good practice is to declare (define) variables close to where you use them.  So, you can define <code>a</code> inside the <code>while</code> loop."}, {"owner": {"reputation": 52656, "user_id": 225074, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/dea26ac1ef8259140d28aa8b5ba4f1b3?s=128&d=identicon&r=PG", "display_name": "Thomas Matthews", "link": "https://stackoverflow.com/users/225074/thomas-matthews"}, "edited": false, "score": 0, "creation_date": 1483551264, "post_id": 41469735, "comment_id": 70145631, "body": "Prefer not to use the <code>exit</code> function, break out of the loop and return from the main function.  Or change the loop to check for an exit condition instead of looping forever."}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1483551266, "post_id": 41469735, "comment_id": 70145632, "body": "&quot;i coded it corectly but [...] it shows segmentation fault&quot; \u2013 Those statements can&#39;t both be true at the same time."}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 0, "creation_date": 1483551267, "post_id": 41469735, "comment_id": 70145634, "body": "<code>push</code> and <code>pop</code> allow to go out of bounds on the array."}, {"owner": {"reputation": 3, "user_id": 7375431, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IuJMRspifSg/AAAAAAAAAAI/AAAAAAAAE9c/0k5uwWaLfi4/photo.jpg?sz=128", "display_name": "SAQIB KAMAL", "link": "https://stackoverflow.com/users/7375431/saqib-kamal"}, "edited": false, "score": 0, "creation_date": 1483551805, "post_id": 41469735, "comment_id": 70145939, "body": "&quot;i coded it corectly but [...] it shows segmentation fault&quot; \u2013 sorry for that....but i am getting segmentation fault now also....what should i do..."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483551935, "post_id": 41469735, "comment_id": 70146008, "body": "Find the error with the debugging software that came with your development environment and and fix the error."}, {"owner": {"reputation": 3, "user_id": 7375431, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IuJMRspifSg/AAAAAAAAAAI/AAAAAAAAE9c/0k5uwWaLfi4/photo.jpg?sz=128", "display_name": "SAQIB KAMAL", "link": "https://stackoverflow.com/users/7375431/saqib-kamal"}, "edited": false, "score": 0, "creation_date": 1483551985, "post_id": 41469735, "comment_id": 70146031, "body": "thats not helpful in any sort of way...@user4581301"}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 0, "creation_date": 1483552072, "post_id": 41469735, "comment_id": 70146078, "body": "Regardless, it&#39;s what you should do."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7375431, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IuJMRspifSg/AAAAAAAAAAI/AAAAAAAAE9c/0k5uwWaLfi4/photo.jpg?sz=128", "display_name": "SAQIB KAMAL", "link": "https://stackoverflow.com/users/7375431/saqib-kamal"}, "edited": false, "score": 0, "creation_date": 1483552818, "post_id": 41470242, "comment_id": 70146483, "body": "Thanks for the help\ud83d\ude01\ud83d\ude01"}], "tags": [], "owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "is_accepted": true, "score": 2, "last_activity_date": 1483552355, "creation_date": 1483552355, "answer_id": 41470242, "question_id": 41469735, "link": "https://stackoverflow.com/questions/41469735/segmentation-fault-while-using-two-different-stack-of-same-class-in-a-program/41470242#41470242", "title": "segmentation fault while using two different stack of same class in a program", "body": "<p>Much more useful than a debugger is the art of reading carefully:</p>\n\n<pre><code>void init()\n{\n    int top=0;\n}\n</code></pre>\n\n<p>declares a local variable <code>top</code>.</p>\n\n<p>The member variable is left uninitialised, leading to Undefined Behaviour.<br>\nThat one of the stacks appears to work is just bad luck.</p>\n\n<p>Making it a proper assignment:</p>\n\n<pre><code>void init()\n{\n    top=0;\n}\n</code></pre>\n\n<p>would do it, but this is C++, so you should use a constructor:</p>\n\n<pre><code>class stack\n{\npublic:\n    stack();\n// ...\n};\n\nstack::stack()\n    : top(0)\n{\n\n}\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>stack s1;\nstack s2;\nwhile(1)\n{\n// ...\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7375431, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-IuJMRspifSg/AAAAAAAAAAI/AAAAAAAAE9c/0k5uwWaLfi4/photo.jpg?sz=128", "display_name": "SAQIB KAMAL", "link": "https://stackoverflow.com/users/7375431/saqib-kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 41470242, "answer_count": 1, "score": 0, "last_activity_date": 1483552355, "creation_date": 1483550480, "question_id": 41469735, "link": "https://stackoverflow.com/questions/41469735/segmentation-fault-while-using-two-different-stack-of-same-class-in-a-program", "title": "segmentation fault while using two different stack of same class in a program", "body": "<p>i just started c++ and coded a program to push and pop in 2 stacks simultaneously inn a program....i coded it corectly but while i run the program and try to access the first stack i.e s1 it shows segmentation fault but i am able access my second stack s2 very perfectly.....help me</p>\n\n<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n#define max 10\nclass stack\n{\nprivate:\n    int arr[max],top;\npublic:\n    void init()\n    {\n        int top=0;\n    }\n    void push(int a)\n    {\n        arr[top++]=a;\n    }\n    int pop()\n    {\n        return arr[--top];\n    }\n    int isempty()\n    {\n        if(top==0)\n            return 1;\n        else\n            return 0;\n    }\n    int isfull()\n    {\n        if(top==max)\n            return 1;\n        else\n            return 0;\n    }\n};\nint main()\n{\n    int a,z,cas;\n    stack s1;\n    stack s2;\n    s1.init();\n    s2.init();\n    while(1)\n    {\n        cout&lt;&lt;\"Enter your choice i.e. :\\n\";\n        cout&lt;&lt;\"1.Pushing in stack s1.\\n\";\n        cout&lt;&lt;\"2.Pushing in stack s2.\\n\";\n        cout&lt;&lt;\"3.Poping from stack s1.\\n\";\n        cout&lt;&lt;\"4.Poping from stack s2.\\n\";\n        cout&lt;&lt;\"5.To STOP.\\n\";\n        cin&gt;&gt;cas;\n        switch(cas)\n        {\n        case 1:\n            cout&lt;&lt;\"Enter the number to push in stack s1:\\n\";\n            cin&gt;&gt;a;\n            if(s1.isfull()==0)\n                s1.push(a);\n            else\n                cout&lt;&lt;\"The Stack is full.\\n\";\n            break;\n        case 2:\n            cout&lt;&lt;\"Enter the number to push in stack s2:\\n\";\n            cin&gt;&gt;a;\n            if(s2.isfull()==0)\n                s2.push(a);\n            else\n                cout&lt;&lt;\"The Stack is full.\\n\";\n            break;\n        case 3:\n            if(s1.isempty()==0)\n                cout&lt;&lt;\"The number poped out is :\\n\"&lt;&lt;s1.pop()&lt;&lt;endl;\n            else\n                cout&lt;&lt;\"The stack is empty.\\n\";\n            break;\n        case 4:\n            if(s2.isempty()==0)\n                cout&lt;&lt;\"The number poped out is :\\n\"&lt;&lt;s2.pop()&lt;&lt;endl;\n            else\n                cout&lt;&lt;\"The stack is empty.\\n\";\n            break;\n        case 5:\n            cout&lt;&lt;\"The elements in stack s1 are :\\n\";\n            while(!s1.isempty())\n                cout&lt;&lt;s1.pop()&lt;&lt;\" \";\n            cout&lt;&lt;endl;\n            cout&lt;&lt;\"The elements in stack s2 are :\\n\";\n            while(!s2.isempty())\n                cout&lt;&lt;s2.pop()&lt;&lt;\" \";\n            cout&lt;&lt;endl;\n            exit(1);\n        }\n    }\n    return 0;\n}\n</code></pre>\n"}, {"tags": ["c++", "undefined"], "comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 1, "creation_date": 1483550460, "post_id": 41469715, "comment_id": 70145131, "body": "You should got warning about signed versus unsigned comparison... <i>&quot;view.size() - 1 is -1&quot;</i>, no, it would be a very large number."}, {"owner": {"reputation": 11, "user_id": 6090893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcd7ce37ed4219c99ae11b60d416a2f3?s=128&d=identicon&r=PG&f=1", "display_name": "gigiman", "link": "https://stackoverflow.com/users/6090893/gigiman"}, "reply_to_user": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1483550551, "post_id": 41469715, "comment_id": 70145183, "body": "@Jarod42 I&#39;m using an online platform, therefore I knew nothing about such warnings"}, {"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "edited": false, "score": 0, "creation_date": 1483550629, "post_id": 41469715, "comment_id": 70145229, "body": "Use <code>static_cast&lt;int&gt;(view.size()) - 1</code>."}, {"owner": {"reputation": 313, "user_id": 4179490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nFIlM.jpg?s=128&g=1", "display_name": "Desaroll", "link": "https://stackoverflow.com/users/4179490/desaroll"}, "edited": false, "score": 1, "creation_date": 1483550725, "post_id": 41469715, "comment_id": 70145279, "body": "Or use <code>level + 1 &gt; view.size()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "reply_to_user": {"reputation": 11, "user_id": 6090893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcd7ce37ed4219c99ae11b60d416a2f3?s=128&d=identicon&r=PG&f=1", "display_name": "gigiman", "link": "https://stackoverflow.com/users/6090893/gigiman"}, "edited": false, "score": 0, "creation_date": 1483551593, "post_id": 41469832, "comment_id": 70145828, "body": "You display the result to <code>signed int</code>."}, {"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "reply_to_user": {"reputation": 11, "user_id": 6090893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcd7ce37ed4219c99ae11b60d416a2f3?s=128&d=identicon&r=PG&f=1", "display_name": "gigiman", "link": "https://stackoverflow.com/users/6090893/gigiman"}, "edited": false, "score": 0, "creation_date": 1483551597, "post_id": 41469832, "comment_id": 70145830, "body": "@gigiman &quot;%d&quot; tells <code>printf</code> to format a signed integer. You passed it an unsigned integer which <code>printf</code> will misinterpret because it doesn&#39;t know any better. One of the downsides of <code>printf</code> is it relies on the programmer to not lie to it (accidentally or otherwise) about the types of the inputs. Prefer <code>std::cout</code> which will print correctly or refuse to compile."}], "tags": [], "owner": {"reputation": 171938, "user_id": 2684539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5fff6fb65e95570ad1a90fe1e3522e?s=128&d=identicon&r=PG&f=1", "display_name": "Jarod42", "link": "https://stackoverflow.com/users/2684539/jarod42"}, "is_accepted": true, "score": 3, "last_activity_date": 1483550764, "creation_date": 1483550764, "answer_id": 41469832, "question_id": 41469715, "link": "https://stackoverflow.com/questions/41469715/comparison-odd-behaviour/41469832#41469832", "title": "Comparison odd behaviour", "body": "<p><code>view.size() - 1</code> would be the largest number for <code>std::size_t</code> when <code>view.size()</code> is <code>0</code>, as it is <code>unsigned</code>.</p>\n\n<p>Use</p>\n\n<pre><code>if (level &gt; static_cast&lt;int&gt;(view.size()) - 1) {\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if (level + 1 &gt; view.size()) {\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 6090893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fcd7ce37ed4219c99ae11b60d416a2f3?s=128&d=identicon&r=PG&f=1", "display_name": "gigiman", "link": "https://stackoverflow.com/users/6090893/gigiman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 41469832, "answer_count": 1, "score": 0, "last_activity_date": 1483550764, "creation_date": 1483550396, "last_edit_date": 1483550501, "question_id": 41469715, "link": "https://stackoverflow.com/questions/41469715/comparison-odd-behaviour", "title": "Comparison odd behaviour", "body": "<p>The following code never executes the <code>if</code> part... at the first call <code>level</code> is <code>0</code>  and <code>view.size() - 1</code> is <code>-1</code>,  but the <code>else</code> option is chosen instead ..</p>\n\n<pre><code>vector&lt;int&gt; rightSideView(TreeNode* root) {\n        vector&lt;int&gt; solution;\n        createView(root, solution, 0);\n        return solution;\n\n    }\n    void createView(TreeNode* root, vector&lt;int&gt;&amp; view, int level) {\n        if(root == NULL)\n            return;\n        if(level &gt; view.size() - 1) {\n           view.push_back(root-&gt;val);\n        }\n        else {\n            // only this part is executed\n            view[level] = root-&gt;val;\n        }\n        createView(root-&gt;left, view, level + 1);\n        createView(root-&gt;right, view, level + 1);\n\n    }\n</code></pre>\n\n<p>The root is not <code>NULL</code> .. actually if I put a message in the <code>else</code> bracket and I have n nodes it will print n times. What's the reason for this odd behaviour?</p>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 28836, "user_id": 4581301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5580eebb22e2c65c9b2325d2276d92a?s=128&d=identicon&r=PG&f=1", "display_name": "user4581301", "link": "https://stackoverflow.com/users/4581301/user4581301"}, "edited": false, "score": 1, "creation_date": 1483551451, "post_id": 41469672, "comment_id": 70145753, "body": "May we have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 1, "creation_date": 1483551502, "post_id": 41469672, "comment_id": 70145778, "body": "Typo? <code>arg1.insert(std::make_pair&lt;std::string,int&gt;(str1,int1));</code> &lt;-- <code>))</code>"}], "answers": [{"tags": [], "owner": {"reputation": 32027, "user_id": 2104697, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/22ba5a5469953d6ab315e6c2c02a1ee2?s=128&d=identicon&r=PG", "display_name": "Guillaume Racicot", "link": "https://stackoverflow.com/users/2104697/guillaume-racicot"}, "is_accepted": false, "score": 1, "last_activity_date": 1483564697, "last_edit_date": 1483564697, "creation_date": 1483564391, "answer_id": 41473330, "question_id": 41469672, "link": "https://stackoverflow.com/questions/41469672/linux-compilation-error-cannot-convert-type-string-to-type-string/41473330#41473330", "title": "Linux compilation error - cannot convert type \u2018string\u2019 to type \u2018string&amp;&amp;\u2019", "body": "<p>That's because <code>std::make_pair</code> takes forwarding reference as parameter. You should use <code>std::make_pair</code> with a deducing context and the constructor of <code>std::pair</code> when you want to specify template parameter explicitly. </p>\n\n<p>Here's are your choices :</p>\n\n<p><strong>make_pair:</strong></p>\n\n<pre><code>void insertIf(std::string str1, int value, std::map&lt;std::string,int&gt;&amp; myMap) {\n    if(value == 1 {\n        myMap.insert(std::make_pair(str1, value));\n    }\n}\n</code></pre>\n\n<p><strong>pair constructor</strong></p>\n\n<pre><code>void insertIf(std::string str1, int value, std::map&lt;std::string,int&gt;&amp; myMap) {\n    if(value == 1 {\n        myMap.insert(std::pair&lt;std::string, int&gt;(str1, value));\n    }\n}\n</code></pre>\n\n<p><strong>Even better, <code>emplace</code>:</strong></p>\n\n<pre><code>void insertIf(std::string str1, int value, std::map&lt;std::string,int&gt;&amp; myMap) {\n    if(value == 1 {\n        myMap.emplace(str1, value);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>If you really want to use <code>std::make_pair</code> with explicit parameters, you can specify the value category in the template parameter <strong>but I advise you to not do this</strong>, it kinda defeats the whole purpose of <code>std::make_pair</code> :</p>\n\n<pre><code>void insertIf(std::string str1, int value, std::map&lt;std::string,int&gt;&amp; myMap) {\n    if(value == 1 {\n        myMap.insert(std::make_pair&lt;std::string&amp;, int&amp;&gt;(str1, value));\n    }\n}\n</code></pre>\n\n<p><strong>Edit:</strong> it worked on Windows because you must use an outdated version of VS, which don't support forwarding reference yet.</p>\n"}], "owner": {"reputation": 1, "user_id": 7374485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c219cfcec84ee7a2ddbc99923e9b526?s=128&d=identicon&r=PG&f=1", "display_name": "Beginner", "link": "https://stackoverflow.com/users/7374485/beginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483564697, "creation_date": 1483550265, "last_edit_date": 1483561054, "question_id": 41469672, "link": "https://stackoverflow.com/questions/41469672/linux-compilation-error-cannot-convert-type-string-to-type-string", "title": "Linux compilation error - cannot convert type \u2018string\u2019 to type \u2018string&amp;&amp;\u2019", "body": "<p>Linux compilation error - cannot convert type \u2018string\u2019 to type \u2018string&amp;&amp;\u2019, when inserting into a map containing string. The same is building fine on Windows.\nMy use case: </p>\n\n<pre><code>void insertIf(std::string str1, int value, std::map&lt;std::string,int&gt; &amp;myMap) const\n{\n    if(value == 1)\n    {\n        myMap.insert(std::make_pair&lt;std::string, int&gt;(str1, value));       \n    }\n}\n</code></pre>\n"}, {"tags": ["c++", "rotation", "directx"], "comments": [{"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "edited": false, "score": 0, "creation_date": 1483552473, "post_id": 41469631, "comment_id": 70146261, "body": "<a href=\"http://stackoverflow.com/questions/35393594/directx-matrix-translation-in-local-axis\" title=\"directx matrix translation in local axis\">stackoverflow.com/questions/35393594/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7375411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f9ebf8134be0afaabb135f5997c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "RattlerCreed", "link": "https://stackoverflow.com/users/7375411/rattlercreed"}, "edited": false, "score": 0, "creation_date": 1483574452, "post_id": 41470253, "comment_id": 70156501, "body": "Thanks for the quick response. All I&#39;ve been trying to do over the last few days is to get the object to move in the direction it is facing. I cant use the directx toolkit as it&#39;s for an assignment so just basic directx 11 for me. I generally believed it would be easy to do."}], "tags": [], "owner": {"reputation": 15641, "user_id": 126995, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/bdd0d42e87a7c2636f0570ce12d069e5?s=128&d=identicon&r=PG", "display_name": "Soonts", "link": "https://stackoverflow.com/users/126995/soonts"}, "is_accepted": true, "score": 1, "last_activity_date": 1483552405, "creation_date": 1483552405, "answer_id": 41470253, "question_id": 41469631, "link": "https://stackoverflow.com/questions/41469631/directx-11-move-object-based-on-rotation/41470253#41470253", "title": "directx 11 move object based on rotation", "body": "<p>A matrix don\u2019t contain scale in the top row, rotation in the second and translation in the third. They are more complex than that.</p>\n\n<p>To decompose a matrix, you can use XMMatrixDecompose. To compose back, you can use XMMatrixTranslationFromVector, XMMatrixRotationQuaternion, XMMatrixScalingFromVector, and multiply the results.</p>\n\n<p>Fortunately, to move object in it\u2019s local coordinates (if that\u2019s what you want) you don\u2019t need to decompose the matrix. You need to construct a <code>localTranslation</code> matrix using <code>XMMatrixTranslationFromVector</code>, and update your world matrix to <code>XMMatrixMultiply( localTranslation, _world )</code></p>\n\n<p>P.S. I recommend <a href=\"https://github.com/Microsoft/DirectXTK\" rel=\"nofollow noreferrer\">DirectX Toolkit library</a> for that kind of things. Especially if you\u2019re new to DirectX. The SimpleMath.h header contains easy to use wrappers around those vectors and matrices.</p>\n"}], "owner": {"reputation": 15, "user_id": 7375411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f9ebf8134be0afaabb135f5997c1e0?s=128&d=identicon&r=PG&f=1", "display_name": "RattlerCreed", "link": "https://stackoverflow.com/users/7375411/rattlercreed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 703, "favorite_count": 0, "accepted_answer_id": 41470253, "answer_count": 1, "score": 0, "last_activity_date": 1483552405, "creation_date": 1483550129, "question_id": 41469631, "link": "https://stackoverflow.com/questions/41469631/directx-11-move-object-based-on-rotation", "title": "directx 11 move object based on rotation", "body": "<p>Hi I'm new to using DirectX 11 and I'm just trying to get my game object to move forward based on it's rotation. This is what I have but it just moves in a line no matter if im turning it or not.</p>\n\n<pre><code>void Object::MoveObject(float x, float y, float z)\n{\n\n    Position.x += x;\n    Position.y += y;\n    Position.z += z;\n\n    _translate = XMMatrixIdentity();\n    _translate *= XMMatrixTranslation(Position.x, Position.y, Position.z);\n\n    XMVECTOR forward = { Position.x,Position.y,Position.z };\n    XMFLOAT4X4 currrentWorld = GetWorld();\n    XMMATRIX currentWorldM = XMLoadFloat4x4(&amp;currrentWorld);\n\n    XMVECTOR scale = currentWorldM.r[0];\n    XMVECTOR rotation = currentWorldM.r[1];\n    XMVECTOR translation = currentWorldM.r[2];\n    forward *= currentWorldM.r[3];\n\n    forward = XMVector3Normalize(forward);\n\n    translation = XMVectorAdd(translation, forward);\n\n    XMStoreFloat4x4(&amp;_world, XMMATRIX(scale, rotation, translation, forward));\n\n    UpdateWorld();\n}\n</code></pre>\n"}, {"tags": ["c++", "qt", "c++11", "smart-pointers"], "comments": [{"owner": {"reputation": 19910, "user_id": 1621391, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ec331963e9d60347c1e80e294b14940c?s=128&d=identicon&r=PG", "display_name": "WhiZTiM", "link": "https://stackoverflow.com/users/1621391/whiztim"}, "edited": false, "score": 11, "creation_date": 1483550457, "post_id": 41469606, "comment_id": 70145125, "body": "Have you heard of the phrase <i>&quot;When in Rome, do as the Romans do&quot;</i>? ... <code>QObject</code>s and all its derivatives have an <a href=\"http://stackoverflow.com/questions/13876835/qt-raw-vs-stdshared-ptr?rq=1\">ownership</a> model that doesn&#39;t fit too well with the semantics <code>std::shared_ptr</code>"}, {"owner": {"reputation": 54864, "user_id": 404970, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/o6X94.jpg?s=128&g=1", "display_name": "molbdnilo", "link": "https://stackoverflow.com/users/404970/molbdnilo"}, "edited": false, "score": 0, "creation_date": 1483550511, "post_id": 41469606, "comment_id": 70145157, "body": "The feedback is correct, but it&#39;s not clear what your question is."}, {"owner": {"reputation": 85518, "user_id": 1593077, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/10c44e0d9568e48d05708ae196ad936f?s=128&d=identicon&r=PG", "display_name": "einpoklum", "link": "https://stackoverflow.com/users/1593077/einpoklum"}, "edited": false, "score": 0, "creation_date": 1483813512, "post_id": 41469606, "comment_id": 70255655, "body": "@nax, please clarify what it is that you&#39;re asking (otherwise people might close your question)."}], "owner": {"reputation": 532, "user_id": 3274299, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36fb3494dca1629f2a914f5851758cd7?s=128&d=identicon&r=PG&f=1", "display_name": "Tipok", "link": "https://stackoverflow.com/users/3274299/tipok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 297, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483553967, "creation_date": 1483550053, "last_edit_date": 1483553967, "question_id": 41469606, "link": "https://stackoverflow.com/questions/41469606/stl-smart-pointers-and-qt-objects", "title": "stl smart pointers and qt objects", "body": "<p>Sorry for my English. Executes a test job, and I was told in the feedback: \"you can not just transfer the right of ownership of objects Qt smart pointers stl\".\nHere is an example of the job code:</p>\n\n<pre><code>std::shared_ptr&lt;QWidget&gt; window = std::make_shared&lt;QWidget&gt;();\n</code></pre>\n\n<p>And:</p>\n\n<pre><code>std::shared_ptr&lt;AdaptedWidget&gt; WindowManager::findWindow(std::string title)\n{\n    auto windowsStack = m_windowsStack;\n\n    while(!windowsStack.empty())\n    {\n        auto window = windowsStack.top();\n        windowsStack.pop();\n\n        if(title == window-&gt;windowTitle().toStdString())\n        {\n            return window;\n        }\n    }\n    return std::shared_ptr&lt;AdaptedWidget&gt;();\n}\n</code></pre>\n\n<p>As used in this case, the objects Qt in conjunction with smart pointers STL?</p>\n"}, {"tags": ["c++", "googletest"], "comments": [{"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483554878, "post_id": 41469579, "comment_id": 70147551, "body": "Looks like an <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>. What is the problem to which you think this is the solution."}, {"owner": {"reputation": 734, "user_id": 7033436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZmMT.png?s=128&g=1", "display_name": "Nogoseke", "link": "https://stackoverflow.com/users/7033436/nogoseke"}, "reply_to_user": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483620412, "post_id": 41469579, "comment_id": 70175783, "body": "@MikeKinghan You might be right, I edit the question to explain what I want to solve."}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483638607, "post_id": 41469579, "comment_id": 70188737, "body": "This isn&#39;t how to write a gtest fixture class. You should derive it from <a href=\"https://github.com/google/googletest/blob/master/googletest/docs/Primer.md#test-fixtures-using-the-same-data-configuration-for-multiple-tests\" rel=\"nofollow noreferrer\">::testing::Test</a>"}, {"owner": {"reputation": 734, "user_id": 7033436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZmMT.png?s=128&g=1", "display_name": "Nogoseke", "link": "https://stackoverflow.com/users/7033436/nogoseke"}, "reply_to_user": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483642894, "post_id": 41469579, "comment_id": 70191238, "body": "@MikeKinghan My mistake, forgot to put it on the example code. Included it in the question now."}, {"owner": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483646214, "post_id": 41469579, "comment_id": 70193167, "body": "So why is <code>C *c</code> static? If it was just a data member of <code>MyFixture</code> then @OlegBogdanov&#39;s answer would apply? And you say that you create/destroy a new C one-for-one with MyFixture construction/destruction."}, {"owner": {"reputation": 734, "user_id": 7033436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZmMT.png?s=128&g=1", "display_name": "Nogoseke", "link": "https://stackoverflow.com/users/7033436/nogoseke"}, "reply_to_user": {"reputation": 45838, "user_id": 1362568, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/EAFi0.jpg?s=128&g=1", "display_name": "Mike Kinghan", "link": "https://stackoverflow.com/users/1362568/mike-kinghan"}, "edited": false, "score": 0, "creation_date": 1483698649, "post_id": 41469579, "comment_id": 70212642, "body": "@MikeKinghan It wouldn&#39;t work. The destructor of A, for some reason, &quot;crashes&quot; if <code>c</code> was destroyed before, and since A is the base class, it will always be the last to be destroyed."}], "owner": {"reputation": 734, "user_id": 7033436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yZmMT.png?s=128&g=1", "display_name": "Nogoseke", "link": "https://stackoverflow.com/users/7033436/nogoseke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 762, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483642806, "creation_date": 1483549924, "last_edit_date": 1483642806, "question_id": 41469579, "link": "https://stackoverflow.com/questions/41469579/gtest-per-test-tear-down-after-fixture-destructor", "title": "Gtest per test tear down after fixture destructor", "body": "<p>I know that Gtest has a <code>TearDown</code>, but it is called before the destructor of the fixture class is called. I also know that there is the <code>TearDownTestCase</code>, which is called after all the tests using that fixture are executed and after the last instance of the fixture is deleted.</p>\n\n<p>Are there any form of tear down that executes for each test but after the destructor of the fixture has been called?</p>\n\n<p>Trying to explain the problem I want to solve with this approach. This is what the code looks like:</p>\n\n<pre><code>class c;\n\nclass MyFixture : public ::testing::Test, public A {\n...\nstatic C *c;\n\n    SetUp(){\n        c = new C();\n        SetC(c) // this function is from base class A\n    }\n};\n\nTEST_F(B, test1){\n...\n}\n</code></pre>\n\n<p>I don't have access to the implementation of A. What happens is that I always need to create and destroy <code>c</code> on each test, but if I destroy it before the destructor of base class A is called, something happens there that causes the test to exit (without any explicit error, it just exits with code 255).</p>\n\n<p>The real solution is probably some fix on <code>class A</code>'s destructor. But while I don't have it, I was wondering if there was a standard way to destroy <code>c</code> after each test, after the destructor of A is called.</p>\n"}, {"tags": ["c++", "stl", "rotation"], "comments": [{"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 1, "creation_date": 1483550067, "post_id": 41469564, "comment_id": 70144907, "body": "You don&#39;t use &#39;K&#39; in your sample code.  I am <i>deeply</i> suspicious of passing <code>V.end()</code> rather than <code>V.rend()</code> to the rotate."}, {"owner": {"reputation": 10498, "user_id": 669576, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mRhrB.jpg?s=128&g=1", "display_name": "Johnny Mopp", "link": "https://stackoverflow.com/users/669576/johnny-mopp"}, "edited": false, "score": 1, "creation_date": 1483550219, "post_id": 41469564, "comment_id": 70144979, "body": "According to <a href=\"http://en.cppreference.com/w/cpp/algorithm/rotate\" rel=\"nofollow noreferrer\">this</a>, <i>A precondition of this function is that [first, n_first) and [n_first, last) are valid ranges.</i>"}], "answers": [{"comments": [{"owner": {"reputation": 2691, "user_id": 5477287, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/yKMgF.jpg?s=128&g=1", "display_name": "Babra Cunningham", "link": "https://stackoverflow.com/users/5477287/babra-cunningham"}, "edited": false, "score": 0, "creation_date": 1483550672, "post_id": 41469671, "comment_id": 70145253, "body": "Thanks for this Martin!"}], "tags": [], "owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "is_accepted": true, "score": 5, "last_activity_date": 1483550260, "creation_date": 1483550260, "answer_id": 41469671, "question_id": 41469564, "link": "https://stackoverflow.com/questions/41469564/rotating-vector-elements-by-value-greater-than-vector-size/41469671#41469671", "title": "Rotating vector elements by value greater than vector size?", "body": "<p>If <code>K</code> is greater than <code>V.size()</code>, then <code>V.rbegin()+K</code> is an invalid iterator.  You need to reduce K by mod size.  Something like:</p>\n\n<pre><code>if (V.size() != 0) {\n    std::rotate(V.rbegin(), V.rbegin() + (K % V.size()), V.rend());\n}\n</code></pre>\n\n<p>Note the test for <code>size != 0</code> first  - otherwise you'll get division by zero.</p>\n"}, {"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 1, "last_activity_date": 1483550343, "last_edit_date": 1495539964, "creation_date": 1483550343, "answer_id": 41469703, "question_id": 41469564, "link": "https://stackoverflow.com/questions/41469564/rotating-vector-elements-by-value-greater-than-vector-size/41469703#41469703", "title": "Rotating vector elements by value greater than vector size?", "body": "<p><code>V.rebegin() + 6</code> is not a valid iterator. Which element would it point to? I will assume you want to rotate the vector by K elements. What you need to do is apply the modulo operator to find out which value should be at the front of the vector.</p>\n\n<pre><code>std::vector&lt;int&gt; V {1,2,3,4};\nconst auto K = 4 % V.size();\nstd::rotate(V.rbegin(), V.rbegin() + K, V.rend());\n</code></pre>\n\n<p>I'm not sure why you expect that K of 6 should result in {2,3,4,1}, it gives {3,4,1,2}. Perhaps I've misunderstood the question.</p>\n\n<p>Edit: See <a href=\"https://stackoverflow.com/a/41469671/7359094\">this answer</a> about checking the size first.</p>\n"}], "owner": {"reputation": 2691, "user_id": 5477287, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/yKMgF.jpg?s=128&g=1", "display_name": "Babra Cunningham", "link": "https://stackoverflow.com/users/5477287/babra-cunningham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 41469671, "answer_count": 2, "score": 0, "last_activity_date": 1483550343, "creation_date": 1483549853, "last_edit_date": 1483550087, "question_id": 41469564, "link": "https://stackoverflow.com/questions/41469564/rotating-vector-elements-by-value-greater-than-vector-size", "title": "Rotating vector elements by value greater than vector size?", "body": "<p>Somewhat of a simple question, I'm rotating the order of elements in a vector using std::rotate: </p>\n\n<pre><code>std::vector&lt;int&gt; V {1,2,3,4};\nstd::rotate(V.rbegin(), V.rbegin() + K, V.rend());\n\n//output: {4,1,2,3}\n</code></pre>\n\n<p>I'm getting a segmentation fault where K is >= V.size(), and I'm struggling to understand: 1) why this error is occurring? and 2) how I can perform a rotate operation with such a K value? </p>\n\n<p>For example, a K of 6 should output {2,3,4,1}</p>\n"}, {"tags": ["c++", "boost"], "comments": [{"owner": {"reputation": 24791, "user_id": 499214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PObJM.png?s=128&g=1", "display_name": "John Dvorak", "link": "https://stackoverflow.com/users/499214/john-dvorak"}, "edited": false, "score": 2, "creation_date": 1483549872, "post_id": 41469550, "comment_id": 70144774, "body": "C++ lets you divide strings by strings? What does it do?"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 10, "creation_date": 1483549973, "post_id": 41469550, "comment_id": 70144853, "body": "They are obviously not strings. Operator overloading. Read the expletive documentation."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 3, "creation_date": 1483550210, "post_id": 41469550, "comment_id": 70144974, "body": "Poor choice for operator overloading, in my view."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483550440, "post_id": 41469550, "comment_id": 70145121, "body": "Very poor choice.  For shame boost."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 8, "creation_date": 1483550644, "post_id": 41469550, "comment_id": 70145233, "body": "The operator looks like the path separator, on that side it looks fine. IMHO unless there&#39;s something wrong semantically, e.g. wrong operator precedence I think you&#39;re merely expressing your tastes and biases."}, {"owner": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1483554271, "post_id": 41469550, "comment_id": 70147214, "body": "@KarolyHorvath, first of, it looks like path separator <b>on linux</b>. Windows have a different one. Second, it doesn&#39;t work well with &#39;+&#39;. Third, one could expect it to do the opposite of &#39;*&#39; - while in fact it does not. Overall, it violates the semantics of built-in operator, and I do not welcome that."}, {"owner": {"reputation": 14358, "user_id": 3962537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AI0Bc.png?s=128&g=1", "display_name": "Dan Ma\u0161ek", "link": "https://stackoverflow.com/users/3962537/dan-ma%c5%a1ek"}, "reply_to_user": {"reputation": 55924, "user_id": 5245033, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6dbfd37ccb940fd2afcd49e966ad97e4?s=128&d=identicon&r=PG&f=1", "display_name": "SergeyA", "link": "https://stackoverflow.com/users/5245033/sergeya"}, "edited": false, "score": 0, "creation_date": 1483568225, "post_id": 41469550, "comment_id": 70154247, "body": "@SergeyA That poor choice seems to be in its way to the standard (<a href=\"https://isocpp.org/files/papers/P0218r1.html#path-appends\" rel=\"nofollow noreferrer\">File System TS</a>). I suppose you always have the choice to call <code>append</code> explicitly."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3399850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fab4fb8c42366867e9efff81f4666c?s=128&d=identicon&r=PG&f=1", "display_name": "Sildeag", "link": "https://stackoverflow.com/users/3399850/sildeag"}, "edited": false, "score": 0, "creation_date": 1483569588, "post_id": 41469812, "comment_id": 70154778, "body": "Appreciate the reference to the docs.  Not able to vote, otherwise +1."}], "tags": [], "owner": {"reputation": 1283, "user_id": 319021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b60d7f482b9f88cb3a673f370ea15c9c?s=128&d=identicon&r=PG", "display_name": "Michael Cornelius", "link": "https://stackoverflow.com/users/319021/michael-cornelius"}, "is_accepted": false, "score": 7, "last_activity_date": 1483550857, "last_edit_date": 1483550857, "creation_date": 1483550723, "answer_id": 41469812, "question_id": 41469550, "link": "https://stackoverflow.com/questions/41469550/what-does-do-in-the-c-example-below/41469812#41469812", "title": "what does /= do in the c++ example below?", "body": "<p>boost::filesystem is overloading the /= operator to call the append method of the path object, \"filename\" in this case.</p>\n\n<p>According to the <a href=\"http://www.boost.org/doc/libs/1_63_0/libs/filesystem/doc/reference.html#path-appends\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><em>Effects:</em></p>\n  \n  <p>Appends path::preferred_separator to pathname, converting format and\n  encoding if required ([path.arg.convert]), unless:</p>\n  \n  <ul>\n  <li>an added separator would be redundant, or</li>\n  <li>would change an relative path to an absolute path, or</li>\n  <li>p.empty(), or</li>\n  <li>*p.native().cbegin() is a directory separator.</li>\n  </ul>\n  \n  <p>Then appends p.native() to pathname.</p>\n  \n  <p><em>Returns:</em> *this</p>\n</blockquote>\n\n<p>The two snippets are not equivalent, so they can't be compared for relative stylistic merit.</p>\n"}], "owner": {"reputation": 19, "user_id": 3399850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44fab4fb8c42366867e9efff81f4666c?s=128&d=identicon&r=PG&f=1", "display_name": "Sildeag", "link": "https://stackoverflow.com/users/3399850/sildeag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1483550857, "creation_date": 1483549819, "last_edit_date": 1483549875, "question_id": 41469550, "link": "https://stackoverflow.com/questions/41469550/what-does-do-in-the-c-example-below", "title": "what does /= do in the c++ example below?", "body": "<p>Example:</p>\n\n<pre><code>boost::filesystem::path filename;\nfilename /= boost::filesystem::temp_directory_path();\nfilename /= boost::filesystem::unique_path();\n</code></pre>\n\n<p>Is it better than?</p>\n\n<p><code>auto filename = boost::filesystem::unique_path(\"%%%%-%%%%-%%%%-%%%%\");</code></p>\n"}, {"tags": ["c++", "boost"], "comments": [{"owner": {"reputation": 61, "user_id": 5685755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5222a8b216b26fa4b00422776780de?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5685755/tom"}, "edited": false, "score": 0, "creation_date": 1483605341, "post_id": 41469253, "comment_id": 70166038, "body": "When updating to boost 1.63, the issue dissapears, so issue is solved by that."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 5235279, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LgAWKEHLt5o/AAAAAAAAAAI/AAAAAAAAC58/i42p5KbCMOs/photo.jpg?sz=128", "display_name": "Grzesiek Mal", "link": "https://stackoverflow.com/users/5235279/grzesiek-mal"}, "is_accepted": false, "score": 0, "last_activity_date": 1499324348, "last_edit_date": 1499324348, "creation_date": 1499322660, "answer_id": 44941342, "question_id": 41469253, "link": "https://stackoverflow.com/questions/41469253/boost-msm-euml-fusion-issue/44941342#44941342", "title": "boost msm euml fusion issue", "body": "<p>Define <code>FUSION_MAX_VECTOR_SIZE</code> to whatever you need before the include section. In case your transition table exceeds 20 entries, following defines have to be added:</p>\n\n<pre><code>#define BOOST_MPL_CFG_NO_PREPROCESSED_HEADERS\n#define BOOST_MPL_LIMIT_VECTOR_SIZE 30 //max table size                   \n#define BOOST_MPL_LIMIT_MAP_SIZE 30 //max table size   \n</code></pre>\n\n<p><a href=\"http://www.boost.org/doc/libs/1_63_0/libs/msm/doc/HTML/ch03s02.html#d0e358\" rel=\"nofollow noreferrer\">http://www.boost.org/doc/libs/1_63_0/libs/msm/doc/HTML/ch03s02.html#d0e358</a></p>\n"}], "owner": {"reputation": 61, "user_id": 5685755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5222a8b216b26fa4b00422776780de?s=128&d=identicon&r=PG&f=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5685755/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499324348, "creation_date": 1483548869, "question_id": 41469253, "link": "https://stackoverflow.com/questions/41469253/boost-msm-euml-fusion-issue", "title": "boost msm euml fusion issue", "body": "<p>I am actually working in boost::msm with eUML, which is really a great thing and I created some simpler FSM with it before.</p>\n\n<p>However I am facing an issue, that I am not able to solve, so I hope to get some help here.</p>\n\n<p>The code is fairly easy (but a bit long - see end of this post). The issue is located within the transition table, that is somewho misformed:</p>\n\n<pre><code>BOOST_MSM_EUML_TRANSITION_TABLE ((\n\n  state_entryPrimary == state_init  [ fsm_(FsmNo) == Int_&lt;fsm_primary&gt;() ]   ,\n  state_entrySecondary == state_init  [ fsm_(FsmNo) == Int_&lt;fsm_secondary&gt;() ] ,\n\n  state_1 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_1&gt;() ],\n  state_2 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_3&gt;() ], //!!!!!\n  state_3 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_4&gt;() ],\n  state_6 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_2&gt;() ],\n\n  state_4 == state_1 + event_1,\n  state_5 == state_4 + event_2,\n  state_1 == state_3 + event_3,\n  state_7 == state_6 + event_4,\n  state_exit == state_5 + event_9,\n  state_exit == state_7 + event_9\n\n), my_transition_table)\n</code></pre>\n\n<p>I got a <strong>very</strong> long error message with g++ 5.4.0 and boost 1.58 based on some fusion code that failed to build the code. The first error line is like:</p>\n\n<pre><code>/usr/include/boost/fusion/container/set/convert.hpp:27:13: error: invalid use of incomplete type \u2018struct boost::fusion::detail::barrier::as_set&lt;11&gt;\u2019\n</code></pre>\n\n<p>In case, I comment out the line marked with //!!!!!, the FSM compiles without any issue.</p>\n\n<p>Is somebody out there, who could help with this?</p>\n\n<pre><code>#include &lt;boost/msm/front/euml/euml.hpp&gt;\n#include &lt;boost/msm/front/euml/state_grammar.hpp&gt;\n#include &lt;boost/msm/back/state_machine.hpp&gt;\n#include &lt;boost/msm/front/euml/operator.hpp&gt;\n#include &lt;iostream&gt;\n\nnamespace msm = boost::msm;\nusing namespace boost::msm::front::euml;\nusing namespace msm::front::euml;\n\nenum UStatusType {\n    statid_1,\n    statid_2,\n    statid_3,\n    statid_4\n};\n\nenum FsmType {\n    fsm_primary,\n    fsm_secondary\n};\n\nBOOST_MSM_EUML_DECLARE_ATTRIBUTE(UStatusType, uStatus)\nBOOST_MSM_EUML_DECLARE_ATTRIBUTE(FsmType, FsmNo)\nBOOST_MSM_EUML_DECLARE_ATTRIBUTE(int, cnt)\n\nBOOST_MSM_EUML_ACTION(act_do_a) { \n  template &lt;class Evt,class Fsm, class State&gt; void operator()(Evt const&amp; ,Fsm&amp; fsm, State&amp; state ) const\n    { std::cout &lt;&lt; \" -&gt; do a \" &lt;&lt; std::endl; } \n};\n\nBOOST_MSM_EUML_ACTION(act_do_b) {\n  template &lt;class Evt,class Fsm, class State&gt; void operator()(Evt const&amp; ,Fsm&amp; fsm, State&amp; state ) const\n    { std::cout &lt;&lt; \" -&gt; do b \" &lt;&lt; std::endl; }\n};\n\nBOOST_MSM_EUML_STATE((), state_init)\nBOOST_MSM_EUML_STATE((act_do_b), state_exit)\n\nBOOST_MSM_EUML_STATE((), state_entryPrimary)\nBOOST_MSM_EUML_STATE((act_do_a), state_1)\nBOOST_MSM_EUML_STATE((act_do_a), state_2)\nBOOST_MSM_EUML_STATE((act_do_a), state_3)\nBOOST_MSM_EUML_STATE((act_do_a), state_4)\nBOOST_MSM_EUML_STATE((act_do_a), state_5)\nBOOST_MSM_EUML_STATE((act_do_a), state_6)\nBOOST_MSM_EUML_STATE((act_do_a), state_7)\n\nBOOST_MSM_EUML_STATE((), state_entrySecondary)\n\nBOOST_MSM_EUML_EVENT(event_1)\nBOOST_MSM_EUML_EVENT(event_2)\nBOOST_MSM_EUML_EVENT(event_3)\nBOOST_MSM_EUML_EVENT(event_4)\nBOOST_MSM_EUML_EVENT(event_9)\n\n\nBOOST_MSM_EUML_TRANSITION_TABLE ((\n\n  state_entryPrimary == state_init  [ fsm_(FsmNo) == Int_&lt;fsm_primary&gt;() ]   ,\n  state_entrySecondary == state_init  [ fsm_(FsmNo) == Int_&lt;fsm_secondary&gt;() ] ,\n\n  state_1 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_1&gt;() ],\n  state_2 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_3&gt;() ], //!!!!!\n  state_3 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_4&gt;() ],\n  state_6 == state_entryPrimary [ fsm_(uStatus) == Int_&lt;statid_2&gt;() ],\n\n  state_4 == state_1 + event_1,\n  state_5 == state_4 + event_2,\n  state_1 == state_3 + event_3,\n  state_7 == state_6 + event_4,\n  state_exit == state_5 + event_9,\n  state_exit == state_7 + event_9\n\n), my_transition_table)\n\nBOOST_MSM_EUML_DECLARE_STATE_MACHINE((my_transition_table, init_ &lt;&lt; state_init, no_action, no_action, \n    attributes_ &lt;&lt; FsmNo &lt;&lt; uStatus &lt;&lt; cnt ), my_fsm)\n\nint main()\n{\n  msm::back::state_machine&lt;my_fsm&gt; my;\n\n  // testing some start conditions\n  my.get_attribute(uStatus) = statid_1; // read from device\n  my.get_attribute(FsmNo) = fsm_primary;\n  my.get_attribute(cnt) = 1;\n\n  my.start(); \n  my.process_event(event_1);\n  my.process_event(event_2);\n  my.process_event(event_9);\n\n  std::cout &lt;&lt; \"\\nRestart Statemachine with statid_3\\n\\n\";\n  my.get_attribute(uStatus) = statid_3;\n  my.start();\n  my.process_event(event_3);\n\n  std::cout &lt;&lt; \"\\nRestart Statemachine with statid_2\\n\\n\";\n  my.get_attribute(uStatus) = statid_2;\n  my.start();\n  my.process_event(event_4);\n  my.process_event(event_9);\n}\n</code></pre>\n"}, {"tags": ["c++", "stl", "c++14"], "comments": [{"owner": {"reputation": 209335, "user_id": 661519, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1735ab1c8ba4229daa855ec6aad03065?s=128&d=identicon&r=PG", "display_name": "juanchopanza", "link": "https://stackoverflow.com/users/661519/juanchopanza"}, "edited": false, "score": 2, "creation_date": 1483548812, "post_id": 41469176, "comment_id": 70144058, "body": "<a href=\"http://en.cppreference.com/w/cpp/container/set\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/container/set</a>"}, {"owner": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "edited": false, "score": 0, "creation_date": 1483548814, "post_id": 41469176, "comment_id": 70144060, "body": "You write &quot;it didn&#39;t work&quot;; can you show us a (minimal) example of code that didn&#39;t work?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483548850, "post_id": 41469176, "comment_id": 70144085, "body": "related/dupe: <a href=\"http://stackoverflow.com/questions/1114856/stdset-with-user-defined-type-how-to-ensure-no-duplicates\" title=\"stdset with user defined type how to ensure no duplicates\">stackoverflow.com/questions/1114856/&hellip;</a>"}, {"owner": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "reply_to_user": {"reputation": 59936, "user_id": 6022656, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/bf138f6c424001ac8491ca86b1976c0c?s=128&d=identicon&r=PG&f=1", "display_name": "max66", "link": "https://stackoverflow.com/users/6022656/max66"}, "edited": false, "score": 0, "creation_date": 1483548854, "post_id": 41469176, "comment_id": 70144089, "body": "@max66 let me add it in a second."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1483550918, "post_id": 41469176, "comment_id": 70145404, "body": "Also, see &quot;Relational Operators&quot; on this page: <a href=\"http://en.cppreference.com/w/cpp/language/operators\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/operators</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 4, "creation_date": 1483549242, "post_id": 41469323, "comment_id": 70144369, "body": "<code>std::binary_function</code> is deprecated and should no longer be used."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483549945, "post_id": 41469323, "comment_id": 70144825, "body": "@NathanOliver - <code>std::binary_function</code> is deprecated because there are newer styles for doing this sort of thing that don&#39;t need the names it introduces, but there&#39;s nothing wrong with using it when you&#39;re writing old-style comparators."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 2, "creation_date": 1483550347, "post_id": 41469323, "comment_id": 70145060, "body": "@PeteBecker My warning was because this is tagged as C++14."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483550912, "post_id": 41469323, "comment_id": 70145397, "body": "@NathanOliver - non sequitur."}], "tags": [], "owner": {"reputation": 38726, "user_id": 301883, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/937b36681a56def2b41c438a00e12b46?s=128&d=identicon&r=PG", "display_name": "Edward Strange", "link": "https://stackoverflow.com/users/301883/edward-strange"}, "is_accepted": false, "score": 0, "last_activity_date": 1483549053, "creation_date": 1483549053, "answer_id": 41469323, "question_id": 41469176, "link": "https://stackoverflow.com/questions/41469176/c-stdset-uniqueness-override/41469323#41469323", "title": "C++ std::set uniqueness override", "body": "<p>First of all, don't override comparison operators to compare anything but TOTAL equivalence.  Otherwise you end up with a maintenance nightmare.</p>\n\n<p>That said, you'd override <code>operator &lt;</code>.  You should instead give set a comparitor type though.</p>\n\n<pre><code>struct compare_people : std::binary_function&lt;person,person,bool&gt;\n{\n    bool operator () ( person const&amp; a, person const&amp; b) const { return a.name() &lt; b.name();\n};\n\nstd::set&lt;person, compare_people&gt; my_set;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "edited": false, "score": 0, "creation_date": 1483549596, "post_id": 41469445, "comment_id": 70144577, "body": "Would this also work if I use the function std::find? Would it find two objects with the same uid?"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "edited": false, "score": 0, "creation_date": 1483549834, "post_id": 41469445, "comment_id": 70144747, "body": "@ElMac: No. That needs <code>operator==</code>. But you wouldn&#39;t use <code>std::find</code> with a set."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "edited": false, "score": 0, "creation_date": 1483550417, "post_id": 41469445, "comment_id": 70145099, "body": "@ElMac I added a call to <code>std::set::find()</code> to the example."}, {"owner": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "edited": false, "score": 0, "creation_date": 1483606396, "post_id": 41469445, "comment_id": 70166586, "body": "@Rob\u1d69 what happens if I have for example a <code>shared_ptr</code> of a <code>Person</code> and my set is of <code>set&lt;shared_ptr&lt;Person&gt;&gt;</code>?  How can I find a name of a person, if the Person in the  <code>set</code> is first nested in a <code>shared_ptr</code>? I mean I want to do something like <code>my_set.find(&quot;STRING&quot;);</code>"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 3, "last_activity_date": 1483550123, "last_edit_date": 1483550123, "creation_date": 1483549442, "answer_id": 41469445, "question_id": 41469176, "link": "https://stackoverflow.com/questions/41469176/c-stdset-uniqueness-override/41469445#41469445", "title": "C++ std::set uniqueness override", "body": "<p><code>std::set&lt;T&gt;</code> doesn't compare using <code>==</code>. It compares, by default, using <code>std::less&lt;T&gt;</code>. In turn <code>std::less&lt;T&gt;</code> uses, by default, the operator <code>&lt;</code>.</p>\n\n<p>One way to implement a set is to override <code>operator&lt;</code>, like so:</p>\n\n<pre><code>#include &lt;set&gt;\n#include &lt;cassert&gt;\n\nstruct Person {\n    const char *name;\n    int uid;\n};\nbool operator&lt;(const Person&amp; a, const Person&amp; b) {\n    return a.uid &lt; b.uid;\n}\nint main () {\n   Person joe = {\"joseph\", 1};\n   Person bob = {\"robert\", 2};\n   Person rob = {\"robert\", 3};\n   Person sue = {\"susan\", 4};\n\n   std::set&lt;Person&gt; people;\n   people.insert(joe);\n   people.insert(bob);\n   people.insert(rob);\n\n   assert(people.count(joe) == 1);\n   assert(people.count(bob) == 1);\n   assert(people.count(rob) == 1);\n   assert(people.count(sue) == 0);\n\n   Person anonymous_3 = {\"\", 3};\n   assert( std::strcmp(people.find(anonymous_3)-&gt;name, \"robert\") == 0);\n}\n</code></pre>\n\n<p>Alternatively, one can pass a compare operator as a template parameter when declaring the <code>set</code>. In the example above, this might be the compare operator:</p>\n\n<pre><code>struct Person_Compare {\n    bool operator()(const Person&amp; a, const Person&amp; b) const {\n        return a.uid &lt; b.uid;\n    }\n};\n</code></pre>\n\n<p>And the <code>std::set</code> declaration might look like this:</p>\n\n<pre><code>std::set&lt;Person, Person_Compare&gt; people;\n</code></pre>\n\n<p>The rest of the example is unchanged.</p>\n"}], "owner": {"reputation": 2682, "user_id": 2632991, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f288d74aee52861accfceba53ec0bfcd?s=128&d=identicon&r=PG", "display_name": "El Mac", "link": "https://stackoverflow.com/users/2632991/el-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1819, "favorite_count": 0, "accepted_answer_id": 41469445, "answer_count": 2, "score": 3, "last_activity_date": 1483550123, "creation_date": 1483548650, "last_edit_date": 1483549215, "question_id": 41469176, "link": "https://stackoverflow.com/questions/41469176/c-stdset-uniqueness-override", "title": "C++ std::set uniqueness override", "body": "<p>How does the <code>std::set&lt;T&gt;</code> container check if two objects are unique? I tried overriding the equality operators (==), but it didn't work.</p>\n\n<p>The reason I want to do this is that I have let's say a class Person and I specify that my Person is the same person if they have the same name (maybe even birthdate, address, etc.).</p>\n\n<p>In <a href=\"http://en.cppreference.com/w/cpp/container/set\" rel=\"nofollow noreferrer\">ccpreference.com</a>, they write the following (which is a bit unclear to me):</p>\n\n<blockquote>\n  <p>Everywhere the standard library uses the Compare concept, <strong>uniqueness</strong>\n  is determined by using the equivalence relation. In imprecise terms,\n  two objects a and b are considered equivalent (<strong>not unique</strong>) if neither\n  compares less than the other: !comp(a, b) &amp;&amp; !comp(b, a).</p>\n</blockquote>\n\n<p>I assume, that this question also expands to other STL containers and even algorithms (maybe even to the whole STL). So if in future, I want to use the function <code>std::find</code>, I would be looking up the name of the person and not the object itself. Is this correct?</p>\n\n<hr>\n\n<h2>EDIT</h2>\n\n<p>I want to add some example code.</p>\n\n<pre><code>// My operator overloading comparing two strings.\nbool operator==(Node &amp; rhs) const {\n        return this-&gt;name.compare(rhs.name);\n}\n</code></pre>\n\n<p>Then, in the UnitTest I add twice an object with the same name into the set. It is added twice (but should be the same according to the <code>operator==</code>.</p>\n\n<pre><code>void test_adding_two_identical_nodes() {\n    // The pool is a set&lt;Node&gt; inside\n    model::Node_Pool pool{};\n    pool.store_node(model::Node{\"Peter\"});\n    pool.store_node(model::Node{\"Peter\"});\n    // Should be only 1 because the same node should be added once into a set.\n    ASSERT_EQUAL(1, pool.size());\n}\n</code></pre>\n"}, {"tags": ["c++"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 6182477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8015f229064308f8cef9e67dc346e4c7?s=128&d=identicon&r=PG&f=1", "display_name": "Bonbin", "link": "https://stackoverflow.com/users/6182477/bonbin"}, "edited": false, "score": 0, "creation_date": 1483549259, "post_id": 41469246, "comment_id": 70144378, "body": "Thanks but what are the actual benifits of restricting a method so that it can only be called using lvalues of myclass? Is not redundant to use a ref qualified member function this situation?"}, {"owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "reply_to_user": {"reputation": 265, "user_id": 6182477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8015f229064308f8cef9e67dc346e4c7?s=128&d=identicon&r=PG&f=1", "display_name": "Bonbin", "link": "https://stackoverflow.com/users/6182477/bonbin"}, "edited": false, "score": 0, "creation_date": 1483549639, "post_id": 41469246, "comment_id": 70144603, "body": "@Bonbin it&#39;s an unusual requirement, but this tool is available if you end up with a design where calling a certain function on an rvalue is definitely a bug."}, {"owner": {"reputation": 16482, "user_id": 5632316, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/9I9Vm.jpg?s=128&g=1", "display_name": "Oliv", "link": "https://stackoverflow.com/users/5632316/oliv"}, "edited": false, "score": 1, "creation_date": 1483558431, "post_id": 41469246, "comment_id": 70149490, "body": "It is mostly used when you also declare an overload with rvalue reference qualification: <code>getInteger() &amp;&amp;</code>"}], "tags": [], "owner": {"reputation": 58398, "user_id": 3233393, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c4c576e0ebcdf0efd653269a5b020347?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/3233393/quentin"}, "is_accepted": true, "score": 5, "last_activity_date": 1483548854, "creation_date": 1483548854, "answer_id": 41469246, "question_id": 41469165, "link": "https://stackoverflow.com/questions/41469165/reference-sign-after-method-declaration-c/41469246#41469246", "title": "Reference sign after method declaration c++", "body": "<p>Yes, this is a <a href=\"http://en.cppreference.com/w/cpp/language/member_functions#const-.2C_volatile-.2C_and_ref-qualified_member_functions\" rel=\"noreferrer\">ref-qualified member function</a>. The lvalue-reference notation on the right makes this function callable only on lvalues of <code>myclass</code>, that is:</p>\n\n<pre><code>myclass c;\nc.getInteger(); // OK\nmyclass{}.getInteger(); // Compile-time error\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 6182477, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8015f229064308f8cef9e67dc346e4c7?s=128&d=identicon&r=PG&f=1", "display_name": "Bonbin", "link": "https://stackoverflow.com/users/6182477/bonbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 1, "accepted_answer_id": 41469246, "answer_count": 1, "score": 5, "last_activity_date": 1483548854, "creation_date": 1483548623, "question_id": 41469165, "link": "https://stackoverflow.com/questions/41469165/reference-sign-after-method-declaration-c", "title": "Reference sign after method declaration c++", "body": "<p>In what case is it benificial to declare a method or function using const&amp; instead of just using const? I know that using const is saying that this method does not modify the members of a class but what exactly happens when i add the reference sign after?</p>\n\n<p>Example: </p>\n\n<pre><code>int myclass::getInteger() const&amp; {\n    return theInt;\n}\n</code></pre>\n\n<p>Is this a so called reference quailifier by the way? And more importantly\nwhat does the reference sign say about the method getInteger? Thanks!</p>\n"}, {"tags": ["c++", "interface", "overriding", "visual-studio-2005", "definition"], "comments": [{"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 2, "creation_date": 1483548912, "post_id": 41469120, "comment_id": 70144137, "body": "the <code>override</code> keyword is a c++11 feature, and VS 2005 uses a compiler written before that specification was created. It&#39;s not actually required to specify <code>override</code>though to implement the virtual functions. I&#39;d suggest trying to just remove the keyword."}, {"owner": {"reputation": 11, "user_id": 7375040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e618b73885df82c68049dab753cdfc?s=128&d=identicon&r=PG&f=1", "display_name": "QuinoaWrap", "link": "https://stackoverflow.com/users/7375040/quinoawrap"}, "reply_to_user": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1483551867, "post_id": 41469120, "comment_id": 70145970, "body": "@Nicolas The one I am using is the MS extension used back then. I should probably not use it for this example to make it clearer. But yeah, removing it doesn&#39;t fix the problem :( Thanks"}, {"owner": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1483553037, "post_id": 41469120, "comment_id": 70146596, "body": "OK, so your problem is actually with the similarly-named functions coming from two interfaces?"}, {"owner": {"reputation": 11, "user_id": 7375040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e618b73885df82c68049dab753cdfc?s=128&d=identicon&r=PG&f=1", "display_name": "QuinoaWrap", "link": "https://stackoverflow.com/users/7375040/quinoawrap"}, "reply_to_user": {"reputation": 6710, "user_id": 4052030, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-k4nrKct_Bc8/AAAAAAAAAAI/AAAAAAAABBk/fIYqRy8gDVA/photo.jpg?sz=128", "display_name": "Nicolas Holthaus", "link": "https://stackoverflow.com/users/4052030/nicolas-holthaus"}, "edited": false, "score": 0, "creation_date": 1483555769, "post_id": 41469120, "comment_id": 70148008, "body": "@Nicolas, What I want to do is move the method definitions to my .cpp file, outside the class declaration. The function having the same name is not the issue, in fact, it is what I want. Ta"}], "answers": [{"tags": [], "owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "is_accepted": false, "score": 0, "last_activity_date": 1483548761, "creation_date": 1483548761, "answer_id": 41469211, "question_id": 41469120, "link": "https://stackoverflow.com/questions/41469120/how-can-i-implement-my-explicit-override-outside-the-class-declaration/41469211#41469211", "title": "How can I implement my explicit override outside the class declaration?", "body": "<p>Even though it's not exactly what you are looking for, the obvious workaround is to dispatch to helper functions:</p>\n\n<pre><code>class ConcreteClass : public InterfaceA, public InterfaceB\n{\npublic:\n    void InterfaceA::doSomething() override {\n        InterfaceA_doSomething();\n    }\n\n    void InterfaceB::doSomething() override {\n        InterfaceB_doSomething();\n    }\n\n private:\n    void InterfaceA_doSomething();\n    void InterfaceB_doSomething();\n};\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7375040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e618b73885df82c68049dab753cdfc?s=128&d=identicon&r=PG&f=1", "display_name": "QuinoaWrap", "link": "https://stackoverflow.com/users/7375040/quinoawrap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 808, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1483548761, "creation_date": 1483548456, "question_id": 41469120, "link": "https://stackoverflow.com/questions/41469120/how-can-i-implement-my-explicit-override-outside-the-class-declaration", "title": "How can I implement my explicit override outside the class declaration?", "body": "<p>I have two classes with the same pure virtual method:</p>\n\n<pre><code>class InterfaceA\n{\n    public: virtual void doSomething() = 0;\n};\nclass InterfaceB\n{\n    public: virtual void doSomething() = 0;\n};\n</code></pre>\n\n<p>And I have a class that derives from these interfaces. I want to override\neach virtual function. I can do it this way (this works):</p>\n\n<pre><code>class ConcreteClass : public InterfaceA, public InterfaceB\n{\n    public:\n\n    void InterfaceA::doSomething() override\n    {\n        printf( \"In ConcreteClass::InterfaceA::doSomething()\\n\" );\n    }\n\n    void InterfaceB::doSomething() override\n    {\n        printf( \"In ConcreteClass::InterfaceB::doSomething()\\n\" );\n    }\n};\n</code></pre>\n\n<p>My question is however, how can I have my methods' definitions outside the class declaration? So I can have them in my .cpp file. I tried this first:</p>\n\n<pre><code>// .h\nclass ConcreteClass : public InterfaceA, public InterfaceB\n{\n    public:\n\n    void InterfaceA::doSomething() override;\n    void InterfaceB::doSomething() override;\n};\n// .cpp\nvoid ConcreteClass::InterfaceA::doSomething()\n{\n    printf( \"In ConcreteClass::InterfaceA::doSomething()\\n\" );\n}\nvoid ConcreteClass::InterfaceB::doSomething()\n{\n    printf( \"In ConcreteClass::InterfaceB::doSomething()\\n\" );\n}\n</code></pre>\n\n<p>This doesn't compile in Visual C++ 2005 (VS 2005):</p>\n\n<pre><code>error C2509: 'doSomething' : member function not declared in 'ConcreteClass'\n</code></pre>\n\n<p>Does it require a specific sintax in order to be compiled?</p>\n\n<p>Microsoft's MSDN documentation has a working example. But they use their __interface extension. I want to achieve the same but code that complies with standard c++03, if it is even possible.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["c++", "include", "new-operator"], "comments": [{"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 1, "creation_date": 1483548242, "post_id": 41468971, "comment_id": 70143675, "body": "That&#39;s a global variable. It&#39;s bad practice. Maybe you could tell us a bit more about what you want to do with <code>list</code> could it be a member, or static member of <code>A</code> for example?"}, {"owner": {"reputation": 40219, "user_id": 898348, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/13b3f2c44ba8449bd60764d07f4538dc?s=128&d=identicon&r=PG", "display_name": "Jabberwocky", "link": "https://stackoverflow.com/users/898348/jabberwocky"}, "edited": false, "score": 1, "creation_date": 1483548268, "post_id": 41468971, "comment_id": 70143688, "body": "Yes, having a global variable <code>float *list=new float[10];</code> is bad design. But the actual cause is because you declare a global variable in a header file."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 2, "creation_date": 1483548687, "post_id": 41468971, "comment_id": 70143980, "body": "No, the actual cause is that you declare a global variable in a header file, then include that header file in multiple translation units."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483548843, "post_id": 41468971, "comment_id": 70144080, "body": "@JinoPark Even if I had time to look over all your code, I&#39;d still need you to explain what you were doing with it. Can you explain what this is used for? Is it only used by <code>class A</code>? If not what else uses it?"}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483548863, "post_id": 41468971, "comment_id": 70144096, "body": "@JonathanMee <a href=\"https://github.com/pjessesco/2017-Cpp/tree/master/In%20winter../Week5\" rel=\"nofollow noreferrer\">github.com/pjessesco/2017-Cpp/tree/master/In%20winter../Week&zwnj;&#8203;5</a> I tried to make geometrical object using class. When I input x and y coordinates to draw, values in pixel array in Setting.h change, so it may draw."}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483548921, "post_id": 41468971, "comment_id": 70144143, "body": "I&#39;m sorry, I didn&#39;t know I can&#39;t newline in comment..."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483548947, "post_id": 41468971, "comment_id": 70144159, "body": "@JinoPark It sounds to me as though <code>list</code> should be an object type and rather than <code>class A</code> you should just write it a constructor."}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483549570, "post_id": 41468971, "comment_id": 70144557, "body": "@JonathanMee Thanks for helping, but I can&#39;t understand exactly. You mean that should I make <code>list</code> as an object using class? and what does it mean &#39;just write it a constructor?&#39;"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483555246, "post_id": 41468971, "comment_id": 70147765, "body": "Rather than having a global <code>list</code> variable, I&#39;m suggesting that you should be passing around a <code>vector&lt;float&gt;</code> or if that container is too rudimentary for your needs then create your own class which can be passed around. To discuss how this would happen, let&#39;s start with this: 1) What would an <code>A</code> object do to your current <code>list</code>? 2) What should cause an <code>A</code> object to do this? 3) How would <code>list</code> be used after being updated by the <code>A</code> object?"}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "reply_to_user": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483582178, "post_id": 41468971, "comment_id": 70158521, "body": "@JonathanMee Thanks so much. I&#39;ll try it!"}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "edited": false, "score": 0, "creation_date": 1483620575, "post_id": 41468971, "comment_id": 70175913, "body": "@JinoPark You seemed willing to give it a shot, so I&#39;ve made my recommendations for what would need to change in your code in an answer. Let me know if you have any questions."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483687617, "post_id": 41485550, "comment_id": 70207245, "body": "Thanks for your kindness answer! I have some questions. Is there a difference between <code>std::vector&lt;float&gt; pixels(width*height*3,0.0f);</code> and <code>float *list=new float[10];</code>? I thought that variables defined outside { } were called global variables..."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483703426, "post_id": 41485550, "comment_id": 70215390, "body": "@JinoPark You&#39;re correct that variables declared within a namespace scope (not a function&#39;s scope) are globals. Don&#39;t declare those. In my last bullet point I suggest you define <code>pixels</code> within <code>main</code>&#39;s scope. This is why you&#39;ll have to add it as a reference parameter to be passed from <code>main</code> into any function that will need it (even if it&#39;s passed multiple times, like in <code>drawPixel</code> or <code>drawLine</code>&#39;s case.) As far as why you&#39;d want to use a <code>vector</code> instead of a dynamically allocated array, that&#39;s discussed in the first bullet, but basically so the standard will manage your memory for you."}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483706767, "post_id": 41485550, "comment_id": 70217399, "body": "It works when I make pixel vector in my main function. However it still does not compile when I split function&#39;s definition and declaration into, for example, Line.h and Line.cpp..  I found that <i>duplicate symbol error</i> is caused when global variable is included more than twice in header. I changed <code>const int width=640</code> into <code>#define Width 640</code> to remove global variables, but It still does not working... Also I put <code>#pragma once</code>, I think headers are not duplicated.."}, {"owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "reply_to_user": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483707343, "post_id": 41485550, "comment_id": 70217774, "body": "@JinoPark I&#39;m sorry but it&#39;s too hard for me to understand: &quot;It still does not compile when I split function&#39;s definition and declaration into, for example, Line.h and Line.cpp.&quot; It should be fine to put the declaration in Line.h and the definition in Line.cpp. But you&#39;ve probably got a syntax error on one of those. If you can create another Minimal, Complete, Verifiable Example, ask the question using that example, and link the question here, I&#39;d be happy to come try to answer."}, {"owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "edited": false, "score": 0, "creation_date": 1483707956, "post_id": 41485550, "comment_id": 70218166, "body": "Thanks, Jonathan, very much for helping me. :) I&#39;ll try it"}], "tags": [], "owner": {"reputation": 34957, "user_id": 2642059, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Jonathan Mee", "link": "https://stackoverflow.com/users/2642059/jonathan-mee"}, "is_accepted": true, "score": 0, "last_activity_date": 1483620508, "creation_date": 1483620508, "answer_id": 41485550, "question_id": 41468971, "link": "https://stackoverflow.com/questions/41468971/split-functions-declaration-and-definition-or-delete-new-operator-in-header/41485550#41485550", "title": "Split function&#39;s declaration and definition, or delete new operator in header?", "body": "<p>In your actual code, \"<code>line</code>\" is declared in <a href=\"https://github.com/pjessesco/2017-Cpp/blob/master/In%20winter../Week5/Setting.h\" rel=\"nofollow noreferrer\">Settings.h</a> and used in it's <code>drawPixel</code> function.</p>\n\n<p>The only other place that it's used is in <a href=\"https://github.com/pjessesco/2017-Cpp/blob/master/In%20winter../Week5/main.cpp\" rel=\"nofollow noreferrer\">main.cpp</a> I'm going to discuss these points in reverse order so our discussion can make more sense:</p>\n\n<ul>\n<li>Cleanup: <code>delete[] pixels</code> You should be using a <code>vector&lt;float&gt;</code> instead so you avoid all the problems associated with dynamic memory:\n\n<ol>\n<li>What if <code>drawPixel</code> is called after cleanup?</li>\n<li>What if your code exits with an error?</li>\n<li>How will you ensure that your <code>main</code> function doesn't exit early and miss this?</li>\n</ol></li>\n<li>Usage: <code>glDrawPixels(width, height, GL_RGB, GL_FLOAT, pixels)</code> The final <a href=\"https://www.opengl.org/sdk/docs/man2/xhtml/glDrawPixels.xml\" rel=\"nofollow noreferrer\"><code>glDrawPixels</code></a> parameter is of type <code>void*</code> So, if you've correctly replaced <code>pixels</code> with a <code>vector&lt;float&gt;</code> you can make the implicit conversion by passing <code>data(pixels)</code></li>\n<li>Initialization: <code>fill_n(pixels, width*height * 3, 1.0f)</code> Rather than in <a href=\"https://github.com/pjessesco/2017-Cpp/blob/master/In%20winter../Week5/Setting.h\" rel=\"nofollow noreferrer\">Settings.h</a>, this is where <code>pixels</code> should be defined: <code>vector&lt;float&gt; pixels(width * height * 3, 1.0F)</code> you'll need to make these changes to your system to avoid the global variable:\n\n<ol>\n<li>All instances of <code>void draw()</code> will need to be changed to <code>void draw(vector&lt;float&gt;&amp; pixels)</code> and when any <code>draw</code> method is called <code>pixels</code> will be the argument</li>\n<li><code>void drawPixel(const int&amp; i, const int&amp; j, const float&amp; red, const float&amp; green, const float&amp; blue)</code> should be changed to <code>void drawPixel(vector&lt;float&gt;&amp; pixels, const int i, const int j, const float red, const float green, const float blue)</code> and any call to the <code>drawPixel</code> function must take <code>pixel</code> as it's 1<sup>st</sup> argument</li>\n<li><code>void drawLine(const int&amp; i0, const int&amp; j0, const int&amp; i1, const int&amp; j1, const float&amp; red, const float&amp; green, const float&amp; blue)</code> should be changed to <code>void drawLine(vector&lt;float&gt;&amp; pixels, const int i0, const int j0, const int i1, const int j1, const float red, const float green, const float blue)</code> and any call to the <code>drawLine</code> function must take <code>pixel</code> as it's 1<sup>st</sup> argument</li>\n</ol></li>\n</ul>\n"}], "owner": {"reputation": 23, "user_id": 7374126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c39403fcce69be678d94cd0a36fd5761?s=128&d=identicon&r=PG&f=1", "display_name": "jino", "link": "https://stackoverflow.com/users/7374126/jino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 335, "favorite_count": 0, "accepted_answer_id": 41485550, "answer_count": 1, "score": 2, "last_activity_date": 1483620508, "creation_date": 1483547967, "last_edit_date": 1483548352, "question_id": 41468971, "link": "https://stackoverflow.com/questions/41468971/split-functions-declaration-and-definition-or-delete-new-operator-in-header", "title": "Split function&#39;s declaration and definition, or delete new operator in header?", "body": "<p>I'm new in C++, and I have difficulty in my project. </p>\n\n<p>Super.h</p>\n\n<pre><code>#pragma once\n#include &lt;iostream&gt;\n\nfloat *list=new float[10];\n\nclass Super{\npublic:\n    void function(){}\n};\n</code></pre>\n\n<p>A.h</p>\n\n<pre><code>#pragma once\n#include \"Super.h\"\n\nclass A{  \npublic:\n    void function();\n};\n</code></pre>\n\n<p>A.cpp</p>\n\n<pre><code>#include \"A.h\"\nvoid A::function(){\n    std::cout&lt;&lt;\"Working A!\"&lt;&lt;std::endl;\n}\n</code></pre>\n\n<p>main.cpp</p>\n\n<pre><code>#include \"A.h\"\n\nint main(int argc, const char * argv[]) {\n    A a;\n    a.function();\n    return 0;\n}\n</code></pre>\n\n<p>This code is not compiled,(clang: error: linker command failed with exit code 1 (use -v to see invocation)) and I found if I delete</p>\n\n<pre><code>float *list=new float[10];\n</code></pre>\n\n<p>in Super.h, It compiled.</p>\n\n<p>However, I need the array that can be accessed in class A. So I have tried many ways, and found it can be compiled if I leave float array, and  combine A.h and A.cpp, like </p>\n\n<pre><code>//Super.h    \n\nfloat *list=new float[10];\n\nclass Super{\n\npublic:\n    void function(){}\n};\n\n------------------------------------\n// A.h\n\n#pragma once\n#include \"Super.h\"\n\n\nclass A{\n\npublic:    \n    void function();\n};\n\nvoid A::function(){\n    std::cout&lt;&lt;\"Working A!\"&lt;&lt;std::endl;\n}\n</code></pre>\n\n<p>Do I have to combine A.cpp and A.h? or is my design bad? I use XCode 8.</p>\n"}, {"tags": ["c++", "c", "gcc", "clang", "standards"], "comments": [{"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 0, "creation_date": 1483548034, "post_id": 41468934, "comment_id": 70143505, "body": "the document preceeding the final standard is fine"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1483548042, "post_id": 41468934, "comment_id": 70143515, "body": "They standard committee has to charge for the standard in a quirk of how standardization works.  They are working to make the actual standard free instead of having to charge it.  That said you can get by with the draft the was published right before the release of the standard.  That will be right 99.9% of the time.  Also, if you really want to get into the nitty gritty details paying for the standard is not really a big deal. It&#39;s about the cost of a good textbook."}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "edited": false, "score": 0, "creation_date": 1483548045, "post_id": 41468934, "comment_id": 70143519, "body": "I knew that question would get downvoted given the lack of info I found online - still, please answer my ignorance =)"}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 3, "creation_date": 1483548124, "post_id": 41468934, "comment_id": 70143582, "body": "my reason for downvoting: <a href=\"https://www.google.hu/search?q=c+standard+stackoverflow\" rel=\"nofollow noreferrer\">google.hu/search?q=c+standard+stackoverflow</a>"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1483548212, "post_id": 41468934, "comment_id": 70143646, "body": "This is half dupe, half lack of reading compiler documentation, and half off-topic rant about how everything should cost nothing to consume. Yes, three halves :D"}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483548228, "post_id": 41468934, "comment_id": 70143662, "body": "@NathanOliver, so they are working on making the standard ISO/IEC 9899:2011 public but currently can&#39;t due to &quot;politics&quot;? So the compilers do really implement exactly this standard?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 2, "creation_date": 1483548360, "post_id": 41468934, "comment_id": 70143742, "body": "@DimBimJim I doubt any compiler is 100% standard compliant but they try to be.  As far as what standard is implemented it is actually multiple.  It is controlled with compiler flags like <code>-std=c99</code> or <code>-std=c11</code> so you can compile the same code to different standards on the same compiler."}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "reply_to_user": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1483548372, "post_id": 41468934, "comment_id": 70143748, "body": "@KarolyHorvath, well thank you for giving me that google search, I obviously just guessed the price of the document right."}, {"owner": {"reputation": 26917, "user_id": 1892179, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/umfON.jpg?s=128&g=1", "display_name": "Theodoros Chatzigiannakis", "link": "https://stackoverflow.com/users/1892179/theodoros-chatzigiannakis"}, "edited": false, "score": 0, "creation_date": 1483548384, "post_id": 41468934, "comment_id": 70143759, "body": "@DimBimJim The developers of &quot;large&quot; compilers and toolchains are probably willing to pay for access to the official document. It&#39;s not like it&#39;s hidden anyway -- it&#39;s just behind a paywall, like many scientific papers etc."}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "edited": false, "score": 0, "creation_date": 1483548642, "post_id": 41468934, "comment_id": 70143944, "body": "I&#39;m not rambling about software costing money, of course that&#39;s fine. It&#39;s rather that an &quot;Open&quot; software orientes on a &quot;closed&quot; document. Though I did really not know exactly in which stackexchange subcategory this was supposed to go."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483548695, "post_id": 41468934, "comment_id": 70143987, "body": "You get downvotes mostly for doing no research at all. The gcc as well as clang documentation are very clear about whihc standard they implement. And a simple search for &quot;c standard&quot; or &quot;c++ standard&quot; directly lead to the documents. If you don&#39;t want to pay for them is a secondary problem and can be solved by another simple search for the differences between the drafts and the standard."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483548875, "post_id": 41468934, "comment_id": 70144102, "body": "@DimBimJim: you should talk to your gouvernment. ISO and IEEE are financed by public funds. It is not the compiler which handle it wrong, but the standardisation organisations. It was fine years ago when there were effective costs for distribution, but now those are negligible - at least for online-publishing."}, {"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "edited": false, "score": 0, "creation_date": 1483548896, "post_id": 41468934, "comment_id": 70144122, "body": "Open is not a synonym of free. The C standard is open in the sense that you can obtain a copy of the text and implement your own compiler. Can you find Delphi&#39;s specification and make your own Delphi IDE?"}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483548929, "post_id": 41468934, "comment_id": 70144146, "body": "@NathanOliver: I believe the Final Committee Draft has to be character-by-character identical with the actual standard <i>apart</i> from some material at the front.  The National Bodies can either accept or reject the FCD - they don&#39;t get an opportunity to &quot;edit it just a bit&quot;."}, {"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483548956, "post_id": 41468934, "comment_id": 70144169, "body": "@Olaf This is a huge can of worms. Do we have time to discuss open access to all scientific paper publications too?"}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1483548995, "post_id": 41468934, "comment_id": 70144194, "body": "@MartinBonner If that is true that is good to know.  I though I had heard there could be some very small differences but it should not affect anything."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "edited": false, "score": 1, "creation_date": 1483549096, "post_id": 41468934, "comment_id": 70144259, "body": "@giusti: It is and it is a political thing. There are countries which require publically financed information to be free. Not sure about you, but I think this is much better way to spend my taxes than financing weapons, and wars."}, {"owner": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483549103, "post_id": 41468934, "comment_id": 70144267, "body": "@NathanOliver Sorry.  What I said was true ... but the FCD is the one committee draft that is <i>not</i> open access - so you have to look at the draft before that (which will obviously be slightly different).   Bother."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 26945, "user_id": 771073, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/412bf39694cbe9d1fc0374deda225b18?s=128&d=identicon&r=PG", "display_name": "Martin Bonner supports Monica", "link": "https://stackoverflow.com/users/771073/martin-bonner-supports-monica"}, "edited": false, "score": 0, "creation_date": 1483549159, "post_id": 41468934, "comment_id": 70144305, "body": "@MartinBonner Okay.  So the most current draft is the draft right before the FCD and there can be different?"}, {"owner": {"reputation": 2783, "user_id": 782570, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cbbf87d7ce9ed596faa7e64231114991?s=128&d=identicon&r=PG&f=1", "display_name": "giusti", "link": "https://stackoverflow.com/users/782570/giusti"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483549228, "post_id": 41468934, "comment_id": 70144357, "body": "@Olaf I&#39;m very interested in that subject, actually, and I do agree with you. I find it absurd that I have to use government money to pay Springer/IEEE/etc to have the results of my government-funded projects published in a conference that was organized by a University with public money."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483549254, "post_id": 41468934, "comment_id": 70144373, "body": "@NathanOliver: The difference bnetween the final draft and the standard document is just two constant macros related to the C version (iirc the draft uses something like a value of <code>201X</code>, while the standard uses <code>2011</code>. I think there is a corrigendum about those two changes for download (or there even are comments about the expected value int th draft). The other is similar. Both are irrelevant for 99,99% of all clode."}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483549517, "post_id": 41468934, "comment_id": 70144515, "body": "Again because I want to clarify: I see nothing wrong in making money with scientific papers/software etc. Just that I find it hard to believe that such a huge open-source software is build upon a document one has to pay 200CHF for. @NathanOliver, thank you, I knew about the standard flags. What would rather interest me is if the -std=c11 standard is based upon the &quot;free&quot; document linked in open-std.org or the ISO/IEC 9899:2011 one has to pay for or rather their slightly own adjusted standard."}, {"owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "reply_to_user": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483549658, "post_id": 41468934, "comment_id": 70144614, "body": "@Olaf, thank you about the note about the two different macros! I will now pressume that both compilers implement the ISO/IEC 9899:2011 paid standard."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483549889, "post_id": 41468934, "comment_id": 70144788, "body": "@DimBimJim Honestly I do not think there is one document you could point to and say the compiler implements that standard.  As the standard evolves/is used all sorts of defects are found and changes are requested.  If it looks like that change is going to make it into the standard then a lot of compilers implement it even though it is not standard yet.  Most likely they are using the the actual standard but the latest draft would do you just as well."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483550021, "post_id": 41468934, "comment_id": 70144875, "body": "@DimBimJim: You confuse cause and effect. What do you expect a <b>C</b> compiler to implement if not what the <b>C</b> standard specifies? ANd why do you complain here? Afaik stack overflow is no way affiliated with IEEE, IEC, ISO etc. You should complain there."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483550056, "post_id": 41468934, "comment_id": 70144900, "body": "@NathanOliver: Still there is only one standard."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "edited": false, "score": 0, "creation_date": 1483550476, "post_id": 41468934, "comment_id": 70145139, "body": "One for the way: There is only <b>one</b> C standard and one C++ standard. So there is no other <i>standard</i> to implement."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483550578, "post_id": 41468934, "comment_id": 70145198, "body": "Despite assertions in these comments about government funding, both ISO and IEEE are private-sector organizations, funded by member dues and sales of standards documents."}], "answers": [{"comments": [{"owner": {"reputation": 228853, "user_id": 827263, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/216c1db53d752f87dd8176a6ba0c2190?s=128&d=identicon&r=PG", "display_name": "Keith Thompson", "link": "https://stackoverflow.com/users/827263/keith-thompson"}, "edited": false, "score": 0, "creation_date": 1483551241, "post_id": 41469172, "comment_id": 70145612, "body": "The question (now closed as a duplicate) asks about both C and C++. The situation happens to be similar for both."}], "tags": [], "owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "is_accepted": false, "score": 0, "last_activity_date": 1483548642, "creation_date": 1483548642, "answer_id": 41469172, "question_id": 41468934, "link": "https://stackoverflow.com/questions/41468934/where-is-actual-standard-for-open-source-c-compilers-gcc-clang-that-they-impl/41469172#41469172", "title": "Where is actual standard for open-source C compilers (gcc, clang) that they implement?", "body": "<p>See the following articles:</p>\n\n<p><a href=\"https://isocpp.org/std/the-standard\" rel=\"nofollow noreferrer\">The Standard</a></p>\n\n<blockquote>\n  <p>The current ISO C++ standard is officially known as ISO International Standard <strong>ISO/IEC 14882:2014(E)</strong> \u2013 Programming Language C++.</p>\n  \n  <p>...</p>\n  \n  <p>Q: Why are the C++ working drafts freely available on GitHub when the standard must be purchased from ISO or another standards organization?</p>\n  \n  <p>ISO holds the copyright for all balloted drafts of the standard, as well as the standard itself. The GitHub repo contains the incremental in-progress working source snapshots as they are edited, which are not the final standards.</p>\n  \n  <p>The only documents that the C++ committee is not permitted to provide freely are the final published standards. The draft repository on GitHub does not contain the final source for any published standards. It contains interim working materials only, and those differ in their contents from the published standards.</p>\n</blockquote>\n\n<p><a href=\"https://www.google.com/amp/s/herbsutter.com/2010/03/03/where-can-you-get-the-iso-c-standard-and-what-does-open-standard-mean/amp/\" rel=\"nofollow noreferrer\">Where can you get the ISO C++ standard, and what does \u201copen standard\u201d mean?</a>.</p>\n\n<blockquote>\n  <p>Today\u2019s question comes from someone who recently asked about why, if ISO C++ is an open standard, ISO charges for it and we can\u2019t just download it for free.</p>\n  \n  <p>The short answer is that people sometimes confuse \u201copen\u201d with \u201cfree.\u201d ISO standards aren\u2019t \u201copen\u201d like the O in FOSS, they\u2019re \u201copen\u201d like \u201cnot developed behind closed doors.\u201d Anyone who wants to pay for membership in their national body (if their country participates in ISO and in the specific project in question) is able to come join the fun. In free-as-in-beer terms, this means that experts are welcome to come to the ISO brewery at their own expense and volunteer their time to help brew the beer, and then when the beer is ready the customers still pay ISO to drink it (the helpers don\u2019t get a cut of that, only a free bottle for their personal use and the satisfaction of having brewed a mighty fine keg).</p>\n  \n  <p>...</p>\n  \n  <blockquote>\n    <p>ISO C++ claims to be an OPEN STANDARD. Where can I download the OPEN STANDARD for ISO C++.</p>\n  </blockquote>\n  \n  <p>All published ISO standards are available for sale from the ISO store, via <a href=\"http://iso.org\" rel=\"nofollow noreferrer\">http://iso.org</a>. </p>\n</blockquote>\n\n<p>So, while the official standard is <em>public</em>, the final release is not <em>free</em>, only the working drafts and other intermediate papers are. You have to pay to access the final standard (unless you find a bootleg copy).</p>\n"}], "owner": {"reputation": 462, "user_id": 3965581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf90e390117a0232c11a80c862baae47?s=128&d=identicon&r=PG&f=1", "display_name": "PaulOnStackoverflow", "link": "https://stackoverflow.com/users/3965581/paulonstackoverflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 108, "favorite_count": 0, "closed_date": 1483548163, "answer_count": 1, "score": 0, "last_activity_date": 1483548642, "creation_date": 1483547851, "question_id": 41468934, "link": "https://stackoverflow.com/questions/41468934/where-is-actual-standard-for-open-source-c-compilers-gcc-clang-that-they-impl", "closed_reason": "Duplicate", "title": "Where is actual standard for open-source C compilers (gcc, clang) that they implement?", "body": "<p>I wanted to learn more about C and instead of getting a rehash in form of a book about C, I wanted to read the \"Standard that compilers are actually implementing\". This seems to be ISO/IEC 9899:2011 Document, currently available on their website for 198 CHF. </p>\n\n<p>This bothered me, as after a quick search I realized that the \"C11\" standard seems to be not publicly available. Open-std.org lists only <a href=\"http://open-std.org/JTC1/SC22/WG14/www/docs/n1570.pdf\" rel=\"nofollow noreferrer\">this document</a> as \"...reflects what was to become the standard at the time of issue.\", but not the actual standard. </p>\n\n<p>Now my question: </p>\n\n<ul>\n<li>Which Standard exactly are the open-source compilers (especially clang and gcc) implementing? </li>\n<li>Where can I find this standard?</li>\n</ul>\n\n<p>And in case open-source compilers implement a standard that is not publicly available:</p>\n\n<ul>\n<li>Why exactly is a open-source compiler implementing a non-public standard? Does that not greatly prevent people from contributing code or fully understanding the code, which I think is the purpose of open-source. Given all the hours spend on coding and then giving away the code, surely some hours can be spend on writing a standard instead of code.</li>\n</ul>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 3, "creation_date": 1483547733, "post_id": 41468877, "comment_id": 70143283, "body": "Are you required to write the check code yourself?  If not use <code>isupper</code>"}, {"owner": {"reputation": 17871, "user_id": 1171191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e7708869e2b3234fbf0e34c9506742?s=128&d=identicon&r=PG", "display_name": "BoBTFish", "link": "https://stackoverflow.com/users/1171191/bobtfish"}, "edited": false, "score": 5, "creation_date": 1483547735, "post_id": 41468877, "comment_id": 70143284, "body": "<a href=\"http://en.cppreference.com/w/cpp/string/byte/isupper\" rel=\"nofollow noreferrer\"><code>isupper</code></a>, <a href=\"http://en.cppreference.com/w/cpp/algorithm/count\" rel=\"nofollow noreferrer\"><code>count_if</code></a>."}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1483547838, "post_id": 41468877, "comment_id": 70143357, "body": "Or the <a href=\"http://en.cppreference.com/w/cpp/locale/isupper\" rel=\"nofollow noreferrer\">locale-enabled <code>isupper</code></a>, if you care about other than English ASCII."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 1, "creation_date": 1483548036, "post_id": 41468877, "comment_id": 70143509, "body": "@FredLarson - C&#39;s <code>isupper</code> is also locale-sensitive. It uses the global locale."}, {"owner": {"reputation": 14052, "user_id": 1513286, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/kUz60.png?s=128&g=1", "display_name": "snoopy", "link": "https://stackoverflow.com/users/1513286/snoopy"}, "edited": false, "score": 1, "creation_date": 1483548135, "post_id": 41468877, "comment_id": 70143592, "body": "shouldn&#39;t <code>main</code> be <code>int main()</code>? Also I see that you&#39;re learning, I highly recommend you study <code>std::string</code>, stuff like <code>strlen</code> <code>char x[100]</code> is more like the <code>C</code> way and not the <code>C++</code> way of doing things. And, you wrote <code>if(iscapital)</code> I guess you meant <code>if(iscapital(a[i]))</code>"}, {"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "reply_to_user": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483548250, "post_id": 41468877, "comment_id": 70143680, "body": "@PeteBecker: Ah. I guess I should say, &quot;... if you care about other than the default locale.&quot;"}, {"owner": {"reputation": 1964, "user_id": 1320881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b69670b7cc6bce132f443eee557c9448?s=128&d=identicon&r=PG", "display_name": "Unimportant", "link": "https://stackoverflow.com/users/1320881/unimportant"}, "edited": false, "score": 0, "creation_date": 1483548496, "post_id": 41468877, "comment_id": 70143843, "body": "1) You should include <code>cstring</code> for <code>strlen</code>. 2) <code>for (int i = 0; i &lt; len; i++) if (iscapital(a[i])) { c++; }</code>. 3) <code>cin &gt;&gt; a</code> can overflow your buffer."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1483549394, "post_id": 41468877, "comment_id": 70144450, "body": "@FredLarson - looks like I was a bit too terse in my comment. The global locale defaults to the &quot;C&quot; locale which, as you mentioned, is usually ASCII. But you can <b>set</b> the global locale in C and C++ with <code>set_locale()</code>. The advantage of C++&#39;s <code>isupper</code> etc. is that they&#39;re much easier to use when you need different locales in different functions or threads. The C interface can lead to confusion if you need different locales in different parts of your program."}, {"owner": {"reputation": 68702, "user_id": 1593860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1361e47a8bf06d20ffda9a686ceb7e68?s=128&d=identicon&r=PG", "display_name": "Pete Becker", "link": "https://stackoverflow.com/users/1593860/pete-becker"}, "edited": false, "score": 0, "creation_date": 1483549667, "post_id": 41468877, "comment_id": 70144619, "body": "There is nothing in standard C or standard C++ that requires <code>x&gt;=&#39;A&#39;&amp;&amp;x&lt;=&#39;Z&#39;</code> to do anything sensible. This works for ASCII because the character set uses contiguous increasing values for capital letters, but other character sets don&#39;t do that. It&#39;s not like <code>&#39;0&#39;</code> ... <code>&#39;9&#39;</code>, which are required by the language definition to have contiguous increasing values, which makes <code>ch - &#39;0&#39;</code> work to convert digit characters to numeric values."}, {"owner": {"reputation": 31, "user_id": 7375178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xSwODRPtR38/AAAAAAAAAAI/AAAAAAAAAEM/y1AjgX9TSdE/photo.jpg?sz=128", "display_name": "Ibra OpEd", "link": "https://stackoverflow.com/users/7375178/ibra-oped"}, "edited": false, "score": 0, "creation_date": 1483549971, "post_id": 41468877, "comment_id": 70144852, "body": "everyone thank you for helping me I solved the problem now :D"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7375178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xSwODRPtR38/AAAAAAAAAAI/AAAAAAAAAEM/y1AjgX9TSdE/photo.jpg?sz=128", "display_name": "Ibra OpEd", "link": "https://stackoverflow.com/users/7375178/ibra-oped"}, "edited": false, "score": 0, "creation_date": 1483549734, "post_id": 41469145, "comment_id": 70144667, "body": "thanks a lot for your and I&#39;ll look up for std::isupper I didn&#39;t know it before ,"}, {"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483550601, "post_id": 41469145, "comment_id": 70145212, "body": "This is stupid ... &#39; Using int to represent true or false values is outdated ... &#39; .The only advantage bool has is the semantic meaning of your code. If another developer reads your code and sees a return type of bool, he immediately understands that it returns a truth value. That&#39;s all .."}, {"owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "reply_to_user": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483552261, "post_id": 41469145, "comment_id": 70146173, "body": "@ReznicencuBogdan Using <code>int</code> to represent boolean was done in C before C99 when there was no <code>bool</code> type. Is there a situation where it&#39;s advantageous to use <code>int</code> instead of <code>bool</code> to represent the boolean result of a function in C++?"}], "tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 2, "last_activity_date": 1483548557, "creation_date": 1483548557, "answer_id": 41469145, "question_id": 41468877, "link": "https://stackoverflow.com/questions/41468877/c-function-to-check-if-char-is-a-capital-letter-and-compute-no-of-capital-lett/41469145#41469145", "title": "C++ function to check if char is a capital letter and compute no of capital letters in a given string", "body": "<p>You are not using <code>iscapital</code> correctly.</p>\n\n<pre><code>for (int i=0;i&lt;=len;i++)\n    iscapital(a[i]); // Call the function, ignore the result\nif (iscapital)   // &lt;- This is not valid C++\n{\n    c++;\n}\n</code></pre>\n\n<p>What you want is this</p>\n\n<pre><code>for (int i=0;i&lt;=len;i++)\n    if (iscapital(a[i]))\n    {\n        c++;\n    }\n</code></pre>\n\n<p>As others have commented, look up <a href=\"http://en.cppreference.com/w/cpp/string/byte/isupper\" rel=\"nofollow noreferrer\">std::isupper</a> to know if a letter is a capital and <a href=\"http://en.cppreference.com/w/cpp/algorithm/count\" rel=\"nofollow noreferrer\">std::count, std::count_if</a> to count the number of occurrences of a value or the number of times a condition is true.</p>\n\n<p>Additionally, <code>main</code> should return <code>int</code> and <code>iscapital</code> should return <code>bool</code>. Using <code>int</code> to represent true or false values is outdated and should not be used in new code. Finally, consider using <code>std::string</code> instead of <code>char []</code>. Using character arrays to represent strings is the C way of doing things. C++ uses <code>std::string</code> which many subtle problems.</p>\n"}, {"comments": [{"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483550058, "post_id": 41469305, "comment_id": 70144904, "body": "Maybe it&#39;s time to get to read some documentation ... In c++ bool true represents a value of 1 (casted to int)  // <a href=\"http://stackoverflow.com/questions/2725044/can-i-assume-booltrue-int1-for-any-c-compiler\" title=\"can i assume booltrue int1 for any c compiler\">stackoverflow.com/questions/2725044/&hellip;</a>"}, {"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483550155, "post_id": 41469305, "comment_id": 70144948, "body": "According to the standard, you should be safe with that assumption. The C++ bool type has two values - true and false with corresponding values 1 and 0."}], "tags": [], "owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "is_accepted": true, "score": 2, "last_activity_date": 1483550221, "last_edit_date": 1483550221, "creation_date": 1483548995, "answer_id": 41469305, "question_id": 41468877, "link": "https://stackoverflow.com/questions/41468877/c-function-to-check-if-char-is-a-capital-letter-and-compute-no-of-capital-lett/41469305#41469305", "title": "C++ function to check if char is a capital letter and compute no of capital letters in a given string", "body": "<p>Your code should look like this :</p>\n\n<pre><code>int iscapital(char x)\n{\n       if (x &gt;='A' &amp;&amp; x &lt;= 'Z')    return 1;\n       else  return 0;\n}\n\nint main()\n{\n  char a[20];int len; int c=0;\n  cout&lt;&lt;\"enter your line: \";\n  cin.getline(a , 20);      \n  // Note : ' getline ' will read the entire line written in the console and will stop only at the end line mark...will include and the white spaces .\n  // http://stackoverflow.com/questions/4745858/stdcin-getline-vs-stdcin\n\n  len=strlen(a);\n  for (int i = 0;i &lt; len;i++)\n  {\n    if (iscapital(a[i]))\n    {\n       c++;\n    }\n  }\n  cout&lt;&lt;\"capital letter in string is: \"&lt;&lt;c;\n\n  return 0;\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 911, "user_id": 5056622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40ac41414354b234863571efdb0d020a?s=128&d=identicon&r=PG&f=1", "display_name": "Reznicencu Bogdan", "link": "https://stackoverflow.com/users/5056622/reznicencu-bogdan"}, "edited": false, "score": 0, "creation_date": 1483550363, "post_id": 41469539, "comment_id": 70145071, "body": "c++ says that there should be a &#39; int main(int argc , char ** ....) ..... &#39; . Just &#39;main&#39; is ambiguos ..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4215067"}, "edited": false, "score": 1, "creation_date": 1483550948, "post_id": 41469539, "comment_id": 70145417, "body": "&#39; IsCapital() should return a bool not an integer. &#39; . Not necesarily ... How come all of you wrote this ? .The Standard allows both using int to return a bool value , and a bool to return a int (casting) ."}, {"owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "edited": false, "score": 0, "creation_date": 1483551881, "post_id": 41469539, "comment_id": 70145981, "body": "@AntonVignoli: I not it is not necessarily but as long as it returns only true or false then the right return type is bool, if there&#39;s another value other than two then an integer is ok"}, {"owner": {"reputation": 1518, "user_id": 2434628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f694c7757c0085ac1f0ed88d960ff657?s=128&d=identicon&r=PG", "display_name": "AresCaelum", "link": "https://stackoverflow.com/users/2434628/arescaelum"}, "reply_to_user": {"reputation": 31, "user_id": 7375178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xSwODRPtR38/AAAAAAAAAAI/AAAAAAAAAEM/y1AjgX9TSdE/photo.jpg?sz=128", "display_name": "Ibra OpEd", "link": "https://stackoverflow.com/users/7375178/ibra-oped"}, "edited": false, "score": 0, "creation_date": 1483552032, "post_id": 41469539, "comment_id": 70146053, "body": "@IbraOpEd Yes you can return 1 or 0 as it will be converted to true or false when compiled, however for readability you should use return true or false, not return 1 or return 0."}], "tags": [], "owner": {"reputation": 3797, "user_id": 2874856, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/kWxOm.jpg?s=128&g=1", "display_name": "Raindrop7", "link": "https://stackoverflow.com/users/2874856/raindrop7"}, "is_accepted": false, "score": 1, "last_activity_date": 1483549790, "creation_date": 1483549790, "answer_id": 41469539, "question_id": 41468877, "link": "https://stackoverflow.com/questions/41468877/c-function-to-check-if-char-is-a-capital-letter-and-compute-no-of-capital-lett/41469539#41469539", "title": "C++ function to check if char is a capital letter and compute no of capital letters in a given string", "body": "<p>correct your code:</p>\n\n<ul>\n<li><p><code>IsCapital()</code> should return a bool not an integer.</p></li>\n<li><p><code>for (int i=0; i&lt;=len; i++)</code> also this you are using a[len] so correct it to: </p></li>\n</ul>\n\n<p><code>for (int i = 0; i &lt;len; i++)</code></p>\n\n<ul>\n<li><p>what is this <code>if (iscapital) { c++;}</code>? this is not how to call function <code>isCapital</code> to call it add <code>()</code> and the parameter.</p></li>\n<li><p>make <code>if(iscapital)</code> inside the loop not outside and as you know your loop for here has only one statement as long as you don't add parenthesis.</p></li>\n</ul>\n\n<p>so the code will look like:</p>\n\n<pre><code>bool iscapital(char x)\n{\n    if (x &gt;= 'A' &amp;&amp; x &lt;= 'Z')\n        return 1;\n    else\n        return 0;\n}\n\nmain()\n{\n    char a[20];\n    int len;\n    int c = 0;\n\n    cout &lt;&lt; \"enter your line: \";\n    cin &gt;&gt; a;\n    len = strlen(a);\n\n    for(int i = 0; i &lt; len; i++)\n    {\n        if (iscapital(a[i]))\n            c++;\n    }\n\n    cout &lt;&lt; \"capital letter in string is: \" &lt;&lt; c;\n\n    return 0;\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7375178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xSwODRPtR38/AAAAAAAAAAI/AAAAAAAAAEM/y1AjgX9TSdE/photo.jpg?sz=128", "display_name": "Ibra OpEd", "link": "https://stackoverflow.com/users/7375178/ibra-oped"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11341, "favorite_count": 1, "accepted_answer_id": 41469305, "answer_count": 3, "score": 2, "last_activity_date": 1483551660, "creation_date": 1483547695, "last_edit_date": 1483551660, "question_id": 41468877, "link": "https://stackoverflow.com/questions/41468877/c-function-to-check-if-char-is-a-capital-letter-and-compute-no-of-capital-lett", "title": "C++ function to check if char is a capital letter and compute no of capital letters in a given string", "body": "<p>I tried to write a C++ function to check if a char is a capital letter in a given string.</p>\n\n<p>Here's my attempt:</p>\n\n<pre><code>#include&lt;iostream&gt;\n#include &lt;conio.h&gt;\n#include&lt;string&gt;\nusing namespace std;\nint iscapital(char x)\n{\n if (x&gt;='A'&amp;&amp;x&lt;='Z')    return 1;\n\n else  return 0;\n}\nmain()\n{\nchar a[20];int len; int c=0;\ncout&lt;&lt;\"enter your line: \";\ncin&gt;&gt;a;\nlen=strlen(a);\nfor (int i=0;i&lt;=len;i++)\niscapital(a[i]);\nif (iscapital)\n{\n    c++;\n}\n\ncout&lt;&lt;\"capital letter in string is: \"&lt;&lt;c;\n}\n</code></pre>\n"}, {"tags": ["c++", "html", "apache"], "owner": {"reputation": 11, "user_id": 7374506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd523c4d03882181bb8d15fe8aa54b47?s=128&d=identicon&r=PG&f=1", "display_name": "Wasim", "link": "https://stackoverflow.com/users/7374506/wasim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 9, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1483547317, "creation_date": 1483547317, "question_id": 41468741, "link": "https://stackoverflow.com/questions/41468741/unable-to-perform-sql-request-from-cgi-applicationc-cgi-hangs-up-on-open-d", "title": "Unable to perform SQL request from CGI application(c++) - CGI hangs up on open database step", "body": "<p>I've tested work of apache server with simple GET quest and worked\nThen i've tested work of sql server with console c++ and it's worked.\nTo make them both work i've tried this code:</p>\n\n<pre><code>int main()\n{\nint nRetCode = 0;\n\nHMODULE hModule = ::GetModuleHandle(nullptr);\n\nif (hModule != nullptr)\n{\n    // initialize MFC and print and error on failure\n    if (!AfxWinInit(hModule, nullptr, ::GetCommandLine(), 0))\n    {\n        // TODO: change error code to suit your needs\n        wprintf(L\"Fatal Error: MFC initialization failed\\n\");\n        nRetCode = 1;\n    }\n    else\n    {\n        // TODO: code your application's behavior here.\n        wprintf(L\"Server: Apache\\n\");\n        wprintf(L\"Pragma: no-cache\\n\");\n        wprintf(L\"Cache-control: no-cache\\n\");\n...\n            CDatabase db;\n            db.OpenEx(_T(\"Driver={SQL Server}; Server=..\\\\SQLSERVER;Database=...;Trusted_Connection=True;\"));\n            std::wstring str(_T(\"SELECT * FROM Play where  Play.NameOfThePlay='\") + Name + _T(\"' or Play.NameOfThePlay like'\") + Name + _T(\"%'\"));\n...\n</code></pre>\n\n<p>but it doesn't work!\nWin32 application project exe was replaced with cgi - is it correct?</p>\n"}, {"tags": ["c++", "templates", "operator-keyword", "friend"], "comments": [{"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1483547519, "post_id": 41468654, "comment_id": 70143120, "body": "&quot;mingw32&quot; if you mean mingw32-gcc, which version? &quot;linux&quot; there is more than one compiler for linux."}, {"owner": {"reputation": 97, "user_id": 6450561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/95da50e673b98d786c0a687738661053?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Collier", "link": "https://stackoverflow.com/users/6450561/michael-collier"}, "reply_to_user": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1483556166, "post_id": 41468654, "comment_id": 70148222, "body": "I have editied my question to show compiler versions"}, {"owner": {"reputation": 94553, "user_id": 775806, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/XNd2C.png?s=128&g=1", "display_name": "n. &#39;pronouns&#39; m.", "link": "https://stackoverflow.com/users/775806/n-pronouns-m"}, "edited": false, "score": 0, "creation_date": 1483596687, "post_id": 41468654, "comment_id": 70162204, "body": "You&#39;re comparing different minor versions of gcc (all of them rather old) in addition to different targets. Get a current release (5.4 or 6.3)."}], "answers": [{"tags": [], "owner": {"reputation": 97, "user_id": 6450561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/95da50e673b98d786c0a687738661053?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Collier", "link": "https://stackoverflow.com/users/6450561/michael-collier"}, "is_accepted": false, "score": 0, "last_activity_date": 1483797863, "creation_date": 1483797863, "answer_id": 41522260, "question_id": 41468654, "link": "https://stackoverflow.com/questions/41468654/template-friend-operator-new-mingw32/41522260#41522260", "title": "template friend operator new mingw32", "body": "<p>I updated to latest Mingw and it now correctly reports the misuse of template declaration (as per other compilers). Looks like old version of mingw was the problem.</p>\n"}], "owner": {"reputation": 97, "user_id": 6450561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/95da50e673b98d786c0a687738661053?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Collier", "link": "https://stackoverflow.com/users/6450561/michael-collier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483797863, "creation_date": 1483547075, "last_edit_date": 1483556136, "question_id": 41468654, "link": "https://stackoverflow.com/questions/41468654/template-friend-operator-new-mingw32", "title": "template friend operator new mingw32", "body": "<p>My understanding is that operator new cannot be templated (when declared using the parameters I have used.. (size_t)</p>\n\n<p>The following compiles OK on mingw32 and arduino DUE, but not on other platforms e.g. linux.</p>\n\n<p>Is there a bug in mingw32, or should this be allowed on other targets too ?</p>\n\n<pre><code>class t_other_class\n{\n  public:\n\n  // This form of operator new is ***NOT*** allowed to be templated.\n  void*                  operator new     ( size_t            arg1  ) ;\n\n  // This form of operator new CAN be templated, and IS.\n  template&lt;typename TF&gt;\n  void*                  operator new     ( size_t            arg1\n                                          , int               arg2\n                                          ) ;\n\n  // This form of operator new CAN be templated, but IS NOT.\n  void*                  operator new     ( size_t            arg1\n                                          , int               arg2\n                                          , int               arg3\n                                          ) ;\n};\n\n\n\ntemplate &lt;typename TCLASS&gt;\nclass t_class\n{\n  public:\n\n    // This form of operator new can NOT be templated, but is ALLOWED in mingw32\n    template&lt;typename TF&gt; // THIS SHOULD GENERATE AN ERROR\n    friend\n    void*   t_other_class::operator new   ( size_t            arg1  ) ;\n\n\n    // Examples of templating..\n    template&lt;typename TF&gt;\n    friend  /* IS templated in t_other_class*/\n    void*   t_other_class::operator new   ( size_t            arg1\n                                          , int               arg2\n                                          ) ;\n    template&lt;typename TF&gt;\n    friend  /* IS NOT templated in t_other_class*/\n    void*                  operator new   ( size_t            arg1\n                                          , int               arg2\n                                          , int               arg3\n                                          ) ;\n} ; \n\n\n/*\nOK\n====\nwindows\nGNU C++ (GCC) version 4.8.2 (i686-w64-mingw32)\nDUE\ngcc version 4.8.3 20140228 (release) [ARM/embedded-4_8-branch revision 208322] (GNU Tools for ARM Embedded Processors)\n\nError\n====\nlinux\nGNU C++ (Ubuntu 4.8.4-2ubuntu1~14.04.3) version 4.8.4 (i686-linux-gnu)\n*/   \n</code></pre>\n"}, {"tags": ["c++", "windows", "debugging", "gdb", "coredump"], "comments": [{"owner": {"reputation": 1700, "user_id": 3517823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ead39c453c59e5666b801a3a17919d?s=128&d=identicon&r=PG&f=1", "display_name": "Arash", "link": "https://stackoverflow.com/users/3517823/arash"}, "edited": false, "score": 1, "creation_date": 1490171667, "post_id": 41468614, "comment_id": 72988445, "body": "The source code appears to be <a href=\"https://bitbucket.org/staceyoi/bb101repo/src/cd731c4615fd5b9e806e6bdc9ffa3ea7b9c95826/Src/gnu/gdb/corelow.c?at=master&amp;fileviewer=file-view-default#corelow.c-269\" rel=\"nofollow noreferrer\">here</a>. I suspected that lack of enough space or lack of write permission caused the <code>bfd_close</code> to fail. None of them were correct (based on 2501)."}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "edited": false, "score": 0, "creation_date": 1490172404, "post_id": 41468614, "comment_id": 72988896, "body": "In my case the file gets created, but it&#39;s empty. Attaching to and debugging the process otherwise works correctly."}, {"owner": {"reputation": 158, "user_id": 1400381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fb4db792a109dcf089189177648f2e3?s=128&d=identicon&r=PG", "display_name": "Srini", "link": "https://stackoverflow.com/users/1400381/srini"}, "edited": false, "score": 0, "creation_date": 1490682999, "post_id": 41468614, "comment_id": 73208518, "body": "did you check core file size limit? May be it was set to 0 in your case."}, {"owner": {"reputation": 24488, "user_id": 4082723, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/LJbVr.png?s=128&g=1", "display_name": "2501", "link": "https://stackoverflow.com/users/4082723/2501"}, "reply_to_user": {"reputation": 158, "user_id": 1400381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fb4db792a109dcf089189177648f2e3?s=128&d=identicon&r=PG", "display_name": "Srini", "link": "https://stackoverflow.com/users/1400381/srini"}, "edited": false, "score": 1, "creation_date": 1490688690, "post_id": 41468614, "comment_id": 73211932, "body": "@Srini How do you do that in Windows?"}, {"owner": {"reputation": 1090, "user_id": 1983398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bba922326537fd12144b9a2587f742f?s=128&d=identicon&r=PG", "display_name": "ssbssa", "link": "https://stackoverflow.com/users/1983398/ssbssa"}, "edited": false, "score": 0, "creation_date": 1492275341, "post_id": 41468614, "comment_id": 73915285, "body": "Looks like <code>gcore</code> is not implemented for gdb on Windows."}], "owner": {"user_type": "does_not_exist", "display_name": "user2838319"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 317, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1490168814, "creation_date": 1483546944, "last_edit_date": 1490168814, "question_id": 41468614, "link": "https://stackoverflow.com/questions/41468614/warning-cannot-close-core-xxxxx-invalid-operation", "title": "warning: cannot close &quot;core.xxxxx&quot;: Invalid operation", "body": "<p>Let's say i attach to process 5400 using <code>gdb.exe -pid 5400</code>. When i try to save core dump using <code>gcore</code> or <code>gcore nameoffile</code> into file, i'm getting an error that says <code>warning: cannot close \"core.5400\": Invalid operation</code> in cmd. I tried different versions and tried to attach to other programs but same error.</p>\n\n<p>My PC is running Windows 10 x64. I'm using pre-build gdb for Windows <a href=\"http://www.equation.com/servlet/equation.cmd?fa=gdb\" rel=\"nofollow noreferrer\">http://www.equation.com/servlet/equation.cmd?fa=gdb</a></p>\n"}, {"tags": ["c++", "templates", "object", "linker-errors"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "edited": false, "score": 0, "creation_date": 1483554318, "post_id": 41469396, "comment_id": 70147234, "body": "I&#39;m using visual studio 2015. I tried your example but to no avail."}, {"owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "reply_to_user": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "edited": false, "score": 0, "creation_date": 1483555796, "post_id": 41469396, "comment_id": 70148018, "body": "After looking around, it appears that <a href=\"http://stackoverflow.com/questions/622229/error-lnk2005-already-defined-c\">this</a> will help you. After testing your problem locally, making everything (Including constructors) inline, it built successfully."}, {"owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "reply_to_user": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "edited": false, "score": 0, "creation_date": 1483555892, "post_id": 41469396, "comment_id": 70148065, "body": "Although I&#39;m curious, why can&#39;t you separate the code into a hpp/cpp file?"}, {"owner": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "edited": false, "score": 0, "creation_date": 1483614892, "post_id": 41469396, "comment_id": 70171973, "body": "I can&#39;t declare everything as inline as it will damage the quality of the code. I also cannot separate it into a cpp file as its a template class"}, {"owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "reply_to_user": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "edited": false, "score": 0, "creation_date": 1483625599, "post_id": 41469396, "comment_id": 70179558, "body": "Then would you be able to do away with the cpp file completely? Or go the route of making an h file and a tpp file with the declarations, and including the tpp file at the end of the h file?"}], "tags": [], "owner": {"reputation": 366, "user_id": 4991953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UWcJl.jpg?s=128&g=1", "display_name": "Trevor", "link": "https://stackoverflow.com/users/4991953/trevor"}, "is_accepted": false, "score": 0, "last_activity_date": 1483549304, "creation_date": 1483549304, "answer_id": 41469396, "question_id": 41468327, "link": "https://stackoverflow.com/questions/41468327/method-already-defined-template-class/41469396#41469396", "title": "method already defined (template class)", "body": "<p>Could it be your usage of #pragma once? What compiler are you using? </p>\n\n<p>And have you tried using include guards instead to see if that resolves the errors? For example:</p>\n\n<pre><code>#ifndef POLY_H\n#define POLY_H\n//your code minus the pragma once\n#endif //POLY_H\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23093, "user_id": 7359094, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/HxJgU.jpg?s=128&g=1", "display_name": "Fran&#231;ois Andrieux", "link": "https://stackoverflow.com/users/7359094/fran%c3%a7ois-andrieux"}, "is_accepted": false, "score": 1, "last_activity_date": 1483559415, "creation_date": 1483559415, "answer_id": 41472130, "question_id": 41468327, "link": "https://stackoverflow.com/questions/41468327/method-already-defined-template-class/41472130#41472130", "title": "method already defined (template class)", "body": "<p>The problem is your definitions are in your header, and it's probably being included in multiple .cpp files. Each .cpp file is a new translation unit. Imagine you compile each .cpp file one at a time. For each .cpp file that includes your header, it will be the first time that header is encountered, <code>POLY_H</code> will not have been defined yet. Declarations are allowed to appear multiple times, but definitions are not. Move your definitions to a separate .cpp file and everything should work.</p>\n\n<p>Edit: Keeping the definition in your header is necessary and allowed for template classes, but your class is not templated.</p>\n"}], "owner": {"reputation": 21, "user_id": 4363920, "user_type": "registered", "profile_image": "https://graph.facebook.com/742962556/picture?type=large", "display_name": "Leo", "link": "https://stackoverflow.com/users/4363920/leo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 696, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1483560560, "creation_date": 1483546076, "last_edit_date": 1483560560, "question_id": 41468327, "link": "https://stackoverflow.com/questions/41468327/method-already-defined-template-class", "title": "method already defined (template class)", "body": "<p>I am getting the error \"method already defined in class.obj\" on ALL my methods,\nI've seen that some of the solutions include separating the class into a header and a .cpp file but it's not possible in this case.</p>\n\n<p>Any help will be much appreciated.</p>\n\n<p>this is my h file: <a href=\"http://pastebin.com/k46JEQBH\" rel=\"nofollow noreferrer\">http://pastebin.com/k46JEQBH</a></p>\n\n<p>the cpp has:</p>\n\n<pre><code>#include \"stdafx.h\"\n#include \"poly.h\"\n</code></pre>\n"}, {"tags": ["c++", "multithreading", "pipeline"], "comments": [{"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483546388, "post_id": 41468301, "comment_id": 70142243, "body": "Does this have to be portable, or are you bound to a specific OS/architecture?"}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1483546938, "post_id": 41468301, "comment_id": 70142671, "body": "One thing that is not clear from the pseudo-code is whether the the access of the processed-state is protected (atomic, locks, cv).  Otherwise the compiler/cpu could cause the combining thread not to see the correct processed state, especially when running multi-core."}, {"owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483547152, "post_id": 41468301, "comment_id": 70142840, "body": "@Frank it needs to be portable"}, {"owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "reply_to_user": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 0, "creation_date": 1483547163, "post_id": 41468301, "comment_id": 70142854, "body": "@stefaanv the processing state is protected using condition variables, forgot to mention that."}, {"owner": {"reputation": 368, "user_id": 4021785, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/urYmi.jpg?s=128&g=1", "display_name": "Mahesh Attarde", "link": "https://stackoverflow.com/users/4021785/mahesh-attarde"}, "edited": false, "score": 0, "creation_date": 1483548448, "post_id": 41468301, "comment_id": 70143807, "body": "Your problem can be model with graphs. Many executors reduce to one, In general you should be using abstraction that executes in graphical format with thread pooling underhood. This graph has to be described in advance. Check out java implementation of same concept.   <a href=\"https://github.com/dexecutor/dexecutor-core/wiki\" rel=\"nofollow noreferrer\">github.com/dexecutor/dexecutor-core/wiki</a>"}], "answers": [{"comments": [{"owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "edited": false, "score": 0, "creation_date": 1483546969, "post_id": 41468433, "comment_id": 70142690, "body": "I think this is optimal under the condition that all threads are executed in parallel. Let&#39;s consider my laptop (Core i5 dual core). I would use 4 threads to max performance, but AFAIK only two threads are executed in parallel. The above approach would lead to a max of 1/4 of the compute time being used for combining even though 1/2 would be optimal. Am I right?"}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "reply_to_user": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "edited": false, "score": 0, "creation_date": 1483547413, "post_id": 41468433, "comment_id": 70143033, "body": "There are some assumptions packed in there.  Combining in series takes as long as processing in parallel according to the data in the question, so spending half the processor time on combining is far from optimal - it would mean throttling the processing and making everything take longer."}, {"owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "reply_to_user": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "edited": false, "score": 0, "creation_date": 1483547575, "post_id": 41468433, "comment_id": 70143168, "body": "To put it another way, if the clock time for combining roughly equals the clock time for processing, that suggests the division of labor is pretty good; that was never the issue, you just want both things going on at once.   Making the threads non-specialized just keeps the combining work &quot;in the mix&quot; without depending on one special thread to always get a share of the processor time."}, {"owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "edited": false, "score": 0, "creation_date": 1483548977, "post_id": 41468433, "comment_id": 70144186, "body": "Isn&#39;t this almost equal to just having one thread less? At the moment i&#39;m spawning 24 threads that do processing and one thread that does combining. Using non-specialized threads, I would have 24 threads of which at most one does combining and all others do processing."}, {"owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "edited": false, "score": 0, "creation_date": 1483553122, "post_id": 41468433, "comment_id": 70146645, "body": "Wow thank you very much for the great answer! I&#39;ll do the implementation as suggested and I&#39;ll post my results when I&#39;m done."}], "tags": [], "owner": {"reputation": 32602, "user_id": 7050130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd06b6898f66b91234471a40cffae45?s=128&d=identicon&r=PG", "display_name": "Mark Adelsberger", "link": "https://stackoverflow.com/users/7050130/mark-adelsberger"}, "is_accepted": false, "score": 4, "last_activity_date": 1483550817, "last_edit_date": 1483550817, "creation_date": 1483546422, "answer_id": 41468433, "question_id": 41468301, "link": "https://stackoverflow.com/questions/41468301/c-thread-pipeline-balancing/41468433#41468433", "title": "c++: Thread pipeline balancing", "body": "<p>You could make your worker threads less specialized.  So each time a worker thread is free, it could look for work to do; if a chunk is processed but not combined <em>and no thread is currently combining</em>, then the thread can run the combine for that chunk.  Otherwise it can check the unprocessed queue for the next chunk to process.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>First, I've thought a little more about why this might (or might not) help; and second, form the comments it's clear that some additional clarification is required.</p>\n\n<p>But before I get into it - have you actually tried this approach to see if it helps?  Because the fact is, reasoning about parallel processing it hard, which is why frameworks for parallel processing do everything they can to make simplifying assumptions.  So if you want to know if it helps, try doing it and let the results direct the conversation.  In truth neither of us can say for sure if it's going to help.</p>\n\n<p>So, what this approach gives you is a more fluid acceptance of work onto the cores.  Instead of having one worker who, if work is available when his turn comes up, will do that work <em>but won't do anything else</em>, and X (say 24) workers who will never do that one task even if it's ready to do, you have a pool of workers doing what needs done.</p>\n\n<p>Now it's a simple reality that at any time when one core is being used to combine, one less core will be available for processing than would otherwise.  And the total aggregate processor time that will be spent on each kind of work is constant.  So those aren't variables to optimize.  What we'd like is for the allocation of resources at any time to approximate the ratio of total work to be done.</p>\n\n<p>Now to analyze in any detail we'd need to know whether each task (processing task, combining task) is processor-bound or not (and a million follow-up questions depending on the answer).  I don't know that, so the following is only generally accurate...</p>\n\n<p>Your initial data suggests that you spent 3 seconds of single-processing time on combining; lets just call that 3 units of work.</p>\n\n<p>You spent 3 seconds of parallel processing time across 24 cores to do the processing task.  Let's swag that out as 72 units of work.</p>\n\n<p>So we'd guess that having roughly 1/25 of your resources on combining wouldn't be bad, but serialization constraints may keep you from realizing that ratio.  (And again, if some other resource than processor is the real bottleneck in one or both tasks, then that ratio <em>could be completely wrong anyway</em>.)</p>\n\n<p>Your pipeline approach should get close to that if you could ensure 100% utilization without the combiner thread ever falling asleep.  But it can fall asleep, either because work isn't ready for it or because it loses the scheduler lottery some of the time.  You can't do much about the former, and maybe the question is can you fix the latter...?</p>\n\n<p>There may be architecture-specific games you can play with thread priority or affinity, but you specified portability and I would <em>at best</em> expect you to have to re-tune parameters to each specific hardware if you play those games.  Again, my question is can we get by with something simpler?</p>\n\n<p>The intuition behind my suggestion is simply this:  Run enough workers to keep the system busy, and let them do whatever work is ready to do.</p>\n\n<p>The limitation of this approach is that if a worker is put to sleep while it is doing combine work, then the combine pipeline is stalled.  But you can't help that unless you can inoculate \"thread that's doing combine work\" - be that a specialized thread or a worker that happens to be doing a combine unit of work - against being put aside to let other threads run.  Again, I'm not saying there's no way - but I'm saying there's no <em>portable</em> way, especially that would run optimally without machine-specific tuning.</p>\n\n<p>And even if you are on a system where you can just outright assign one core to your combiner thread, that still might not be optimal because (a) combining work can still only be done as processing tasks finish, and (b) any time combining work isn't ready that reserved core would sit idle.</p>\n\n<p>Anyway, my guess is that cases where a generic worker gets put to sleep when he happened to be combining would be less frequent then the cases where a dedicated combiner thread is unable to move forward.  That's what would drive gains with this approach.</p>\n\n<p>Sometimes it's better to let the incoming workload determine your task allocations, than to try to anticipate and outmaneuver the incoming workload.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5363492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20115debd1c4c174f9da116692bafa8f?s=128&d=identicon&r=PG&f=1", "display_name": "jonathan_beard", "link": "https://stackoverflow.com/users/5363492/jonathan-beard"}, "is_accepted": false, "score": 1, "last_activity_date": 1513980986, "last_edit_date": 1513980986, "creation_date": 1513875895, "answer_id": 47929618, "question_id": 41468301, "link": "https://stackoverflow.com/questions/41468301/c-thread-pipeline-balancing/47929618#47929618", "title": "c++: Thread pipeline balancing", "body": "<p>One limitation of the approach the OP asked about is the wait on all threads. You need to pipeline the passing of finished jobs from the workers to the one combining as soon as they are ready to make maximum use of all cores, unless the combining operation really takes very little time compared to the actual computation in the workers (as in almost zero in comparison). </p>\n\n<p>Using a simple threading framework like TBB or OpenMP would enable parallelization of the workers, but the reduce phase tuning will be critical (the chunk joining). If each join takes awhile, doing that at a course granularity will be needed. In OpenMP you could do something like:</p>\n\n<pre><code>join_arr;\n#pragma omp parallel\n{\n  double local_result;\n#pragma omp for\n  for (i=0; i&lt;N; i++) {\n    do work()\n#pragma omp critical\n    join()\n  } // end of for loop\n}\n</code></pre>\n\n<p>A more explicit and simpler way to do it would be to use something like RaftLib (<a href=\"http://raftlib.io\" rel=\"nofollow noreferrer\">http://raftlib.io</a>, full disclosure, I'm one of the maintainers..but this is what I designed it for):</p>\n\n<pre><code>int main()\n{\n   arr some_arr;\n   using foreach  = raft::for_each&lt; type_t &gt;;\n   foreach fe( some_arr, arr_size, thread_count );\n   raft::map m;\n   /**\n    * send data, zero copy, from fe to join as soon as items are\n    * ready to be joined, so everything is done fully in parallel\n    * where fe is duplicated on fibers/threads up to thread_count\n    * wide and the join is on a separate fiber/thread and gathering\n    */\n   m += fe &gt;&gt; join;\n   m.exe();\n}\n</code></pre>\n"}], "owner": {"reputation": 5008, "user_id": 3594526, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/VfPew.jpg?s=128&g=1", "display_name": "Felix", "link": "https://stackoverflow.com/users/3594526/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 603, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1513980986, "creation_date": 1483546020, "question_id": 41468301, "link": "https://stackoverflow.com/questions/41468301/c-thread-pipeline-balancing", "title": "c++: Thread pipeline balancing", "body": "<p>I've got an array of <code>chunks</code> that first need to be <code>processed</code> and then <code>combined</code>. <code>chunks</code> can be <strong>processed</strong> in <strong>arbitrary order</strong> but need to be <strong>combined in the order they appear in the array</strong>.</p>\n\n<p>The following pseudo-code shows my first approach:    </p>\n\n<pre><code>array chunks;\n\ndef worker_process(chunks):\n    while not all_chunks_processed:\n        // get the next chunk that isn't processed or in processing yet\n        get_next_chunk()\n        process_chunk()\n\ndef worker_combine(chunks):\n    for i=0 to num_chunks:\n        // wait until chunk i is processed\n        wait_until(chunks[i].is_processed())\n        combine_chunk(i)\n\ndef main():\n    array chunks;\n\n    // execute worker_process in n threads where n is the number of (logical) cores\n    start_n_threads(worker_process, chunks)\n\n    // wait until all processing threads are finished\n    join_threads()\n\n    // combine chunks in a single thread\n    start_1_thread(worker_combine, chunks)\n\n    // wait until combine thread is finished\n    join_threads()\n</code></pre>\n\n<p>Measurements of the above algorithm show that processing all chunks in parallel and combining the processed chunks sequentially both takes about 3 seconds which leads to a total runtime of roughly 6 seconds. </p>\n\n<p>I'm using a 24 core CPU which means that during the combine stage, only one of those cores is used. My idea then was to use a pipeline to reduce the execution time. My expectation is that the execution time using a pipeline should be somewhere between 3 and 4 seconds. This is how the main function changes when using a pipeline:</p>\n\n<pre><code>def main():\n    array chunks;\n\n    // execute worker_process in n threads where n is the number of (logical) cores\n    start_n_threads(worker_process, chunks)\n\n    // combine chunks in a single thread\n    start_1_thread(worker_combine, chunks)\n\n    // wait until ALL threads are finished\n    join_threads()\n</code></pre>\n\n<p>This change decreases the runtime slightly, but by far not as much as I would have expected. I found out that all processing threads were finished after 3 to 4 seconds and the combine thread needed about 2 seconds more. </p>\n\n<p>The problem is that the all threads are treated equally by the scheduler which leads to the combine thread being paused. </p>\n\n<p><em>Now the question:</em></p>\n\n<p>How can I change the pipeline so that the combine thread executes faster while still taking advantage of all cores?</p>\n\n<p>I already tried reducing the number of processing threads which helped a bit, but this leads to some cores not being used at all which isn't good either.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>While this question wasn't language-specific until here, I actually need to implement in c++ 14.</p>\n"}, {"tags": ["c++", "sockets", "curl", "groovy"], "comments": [{"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "edited": false, "score": 1, "creation_date": 1483546270, "post_id": 41468186, "comment_id": 70142163, "body": "Sorry, but where is the request being repeated? I see no evidence of that in your post."}, {"owner": {"reputation": 12896, "user_id": 104774, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/gQmt5.jpg?s=128&g=1", "display_name": "stefaanv", "link": "https://stackoverflow.com/users/104774/stefaanv"}, "edited": false, "score": 2, "creation_date": 1483547028, "post_id": 41468186, "comment_id": 70142742, "body": "When in doubt, check with wireshark."}, {"owner": {"reputation": 129, "user_id": 6760806, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/410mT.jpg?s=128&g=1", "display_name": "Kid", "link": "https://stackoverflow.com/users/6760806/kid"}, "edited": false, "score": 0, "creation_date": 1483613929, "post_id": 41468186, "comment_id": 70171296, "body": "Hi <a href=\"http://stackoverflow.com/users/560648/lightness-races-in-orbit\">stackoverflow.com/users/560648/lightness-races-in-orbit</a>, Thanks for the reply. I have explained that in the end of my post. Once I kill  the client , the server receive body of the request again."}, {"owner": {"reputation": 129, "user_id": 6760806, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/410mT.jpg?s=128&g=1", "display_name": "Kid", "link": "https://stackoverflow.com/users/6760806/kid"}, "edited": false, "score": 0, "creation_date": 1483615971, "post_id": 41468186, "comment_id": 70172687, "body": "Added trace of the server\u201ds received message  after I killed  the client."}], "owner": {"reputation": 129, "user_id": 6760806, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/410mT.jpg?s=128&g=1", "display_name": "Kid", "link": "https://stackoverflow.com/users/6760806/kid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1483615550, "creation_date": 1483545723, "last_edit_date": 1483615550, "question_id": 41468186, "link": "https://stackoverflow.com/questions/41468186/why-does-my-curl-post-my-request-twice-or-why-does-my-stream-contains-repeated-r", "title": "Why does my CURL post my request twice or why does my stream contains repeated request message?", "body": "<p>Hi I have written code in c++ to post a request using cURL. And also I have written a code which receives this request in groovy. While testing the code it seems curl repost the request. But I am bit unsure since it does not reflected in my curl trace. On the other hand my socket stream reflects that. I could not guess where the problem lies. </p>\n\n<p>Expectation:</p>\n\n<p>Server side: \nIf the server receives some certain request it will send some response message, if not it will simply send some integer( for the sake of testing it is integer now).</p>\n\n<p>Client side: \nIt will occasionally send request and get response if there is nothing to request it will simply listen to receive the message ( those integer numbers for example)</p>\n\n<p>C++ Curl Call:</p>\n\n<pre><code> if(curl){\n\n        curl_easy_setopt(curl, CURLOPT_DEBUGFUNCTION, my_trace);\n        curl_easy_setopt(curl, CURLOPT_VERBOSE, 1L);\n        curl_easy_setopt(curl,CURLOPT_FOLLOWLOCATION, 1);\n\n        string Mydata;\n\n        char errbuf[CURL_ERROR_SIZE];\n        chunk.memory = (char*)malloc(1);  /* will be grown as needed by the realloc above */\n        chunk.size = 0;    /* no data at this point */\n        FILE * rfp = fopen(\"/Users/Uma/request.xml\", \"r\");\n\n        if(rfp != NULL){\n            cout&lt;&lt;\"File is opened \"&lt;&lt;endl;\n        }else{\n        cout&lt;&lt;\"File is close\"&lt;&lt;endl;\n\n        }\n\n        curl_easy_setopt(curl, CURLOPT_URL, myUrl);\n        curl_easy_setopt(curl, CURLOPT_HTTPHEADER, header);\n\n        const char* req= \"&lt;soapenv:Envelope xmlns:soapenv=\\\"http://schemas.xmlsoap.org/soap/envelope/\\\" xmlns:blz=\\\"http://thomas-bayer.com/blz/\\\"&gt;  &lt;soapenv:Header/&gt; &lt;soapenv:Body&gt;   &lt;blz:getBank&gt;  &lt;blz:blz&gt;50070010&lt;/blz:blz&gt; &lt;/blz:getBank&gt;  &lt;/soapenv:Body&gt;  &lt;/soapenv:Envelope&gt; \\n\";\n\n        curl_easy_setopt(curl,CURLOPT_HTTPPOST, 1L);\n\n        curl_easy_setopt(curl, CURLOPT_POSTFIELDS, req);\n\n        cout&lt;&lt;\"requested posted \"&lt;&lt;endl;\n\n        curl_easy_setopt(curl, CURLOPT_READFUNCTION, reader);\n        curl_easy_setopt(curl, CURLOPT_READDATA, rfp);\n\n        errbuf[0] = 0;\n\n        /* send all data to this function  */\n\n        curl_easy_setopt(curl, CURLOPT_WRITEFUNCTION, WriteMemoryCallback);\n\n        curl_easy_setopt(curl,CURLOPT_WRITEDATA,(void *)&amp;chunk);\n\n        curlCode = curl_easy_perform(curl);\n        //  always cleanup\n        if(curlCode != CURLE_OK  | curlCode != 0) {\n\n            std::cout&lt;&lt;\"  traced data \"&lt;&lt;traceData&lt;&lt;std::endl;\n\n            size_t len = strlen(errbuf);\n            fprintf(stderr, \"\\nlibcurl: (%d) \", curlCode);\n            if(len)\n                fprintf(stderr, \"%s%s\", errbuf,\n                        ((errbuf[len - 1] != '\\n') ? \"\\n\" : \"\"));\n            else\n                fprintf(stderr, \"%s\\n\", curl_easy_strerror(curlCode));\n        } else {\n\n            std::cout&lt;&lt;\"CURl Code \"&lt;&lt;curlCode&lt;&lt;std::endl;\n\n                     /*\n             * Now, our chunk.memory points to a memory block that is chunk.size\n             * bytes big and contains the remote file.\n             */\n            std::cout&lt;&lt;\"CURL code on error --\"&lt;&lt;curlCode&lt;&lt;std::endl;\n            printf(\"%lu bytes retrieved\\n\", (long)chunk.size);\n\n            //cout&lt;&lt;\"My Response ---\"&lt;&lt;response&lt;&lt;endl;\n\n            cout&lt;&lt;\"My Chunck -- \"&lt;&lt;chunk.memory&lt;&lt;endl;\n        }                      \n\n        curl_easy_cleanup(curl);\n    }\n</code></pre>\n\n<p>Groovy Server:</p>\n\n<pre><code>def server = new ServerSocket(2000)\nprintln(\"Waiting for connection\")\n\nString receivedRecord \nwhile (true) \n{\n  println \" Input data \"      \n\n    server.accept() { socket -&gt;\n              socket.withStreams { input, output -&gt;\n                    def w = new BufferedWriter(new OutputStreamWriter(output))\n\n            String message = \"Connection was successful\"\n            println message\n     def r = new BufferedReader(new InputStreamReader(input))\n\n     println (\"Stream \")\n\n    String requestMessage = \"\"\n\n    def cont = true\n    String tempMsg;\n     while (cont)\n       { \n            tempMsg = r.readLine() \n\n            if(tempMsg == null)\n            {\n\n            cont = false\n\n            }\n            else\n            {\n\n            requestMessage = requestMessage  +   tempMsg\n            }\n\n            println (requestMessage)\n            println(cont)\n\n            tempMsg = \" \"\n       }\n\n     int  i = 0;\n\n    while (i &lt;20)\n    {\n        //String requestMessage = r.readLine()\n\n        //println(\" Request Received \")\n        //println(requestMessage)\n\n        String echo = \"EchoRequestMsg\"\n        String vehicleSync = \"EenheidSynchronisatieRequestMsg\"\n\n        if(requestMessage != null )\n        {\n                        if(requestMessage.toLowerCase().contains(echo.toLowerCase()))\n            {\n                println (i)\n                println (\"Echo Request True \")\n                sendMessage(\"Echo\", w)\n                println(\" Echo Message Sent \")\n\n            }\n            else if(requestMessage.toLowerCase().contains(vehicleSync.toLowerCase()))\n            {     \n                println (i)\n                println (\" Vehicle Sync True \")       \n                sendMessage(\"VehicleSync\", w)\n                println(\" Vehicle Sync Message Sent \")\n            }\n            else\n            {\n                println (i)\n                println (\" push message \")\n                i++;\n                sendMessage(i, w)\n            }\n\n        }\n\n\n            }\n        }\n    }\n}\n\ndef sendMessage(msg, writer) {\n    println(\"Sending: &gt;\" + msg + \"&lt;\")\n    writer.writeLine(msg.toString())\n    writer.flush();\n}\n</code></pre>\n\n<p>Server Output:</p>\n\n<pre><code> Input data \nConnection was successful\nStream \nPOST / HTTP/1.1\ntrue\nPOST / HTTP/1.1Host: localhost:2000\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xml\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBank\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 251\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 251\ntrue\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 251&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:blz=\"http://thomas-bayer.com/blz/\"&gt;  &lt;soapenv:Header/&gt; &lt;soapenv:Body&gt;   &lt;blz:getBank&gt;  &lt;blz:blz&gt;50070010&lt;/blz:blz&gt; &lt;/blz:getBank&gt;  &lt;/soapenv:Body&gt;  &lt;/soapenv:Envelope&gt; \ntrue\n</code></pre>\n\n<p>\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014> still waiting to receive further message if i terminate client it will receive one more message and start sending message to the client </p>\n\n<p>Trace after I kill the client</p>\n\n<pre><code>groovy groovyServer.groovy \nWaiting for connection\n Input data \n Input data \nConnection was successful\nStream \nPOST / HTTP/1.1\nPOST / HTTP/1.1Host: localhost:2000\nPOST / HTTP/1.1Host: localhost:2000Accept: */*\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xml\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBank\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 256\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 256\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 256&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:blz=\"http://thomas-bayer.com/blz/\"&gt;  &lt;soapenv:Header/&gt; &lt;soapenv:Body&gt;   &lt;blz:getBank&gt;  &lt;blz:blz&gt;50070010&lt;/blz:blz&gt; &lt;/blz:getBank&gt;  &lt;/soapenv:Body&gt;  &lt;/soapenv:Envelope&gt;\nPOST / HTTP/1.1Host: localhost:2000Accept: */*content-type:text/xmlSOAPAction:urn:getBankContent-Length: 256&lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:blz=\"http://thomas-bayer.com/blz/\"&gt;  &lt;soapenv:Header/&gt; &lt;soapenv:Body&gt;   &lt;blz:getBank&gt;  &lt;blz:blz&gt;50070010&lt;/blz:blz&gt; &lt;/blz:getBank&gt;  &lt;/soapenv:Body&gt;  &lt;/soapenv:Envelope&gt; \n0\n push message \nSending: &gt;1&lt;\n1\n push message \nSending: &gt;2&lt;\nException in thread \"Thread-1\" java.net.SocketException: Broken pipe\n    at java.net.SocketOutputStream.socketWrite0(Native Method)\n    at java.net.SocketOutputStream.socketWrite(SocketOutputStream.java:109)\n    at java.net.SocketOutputStream.write(SocketOutputStream.java:153)\n    at sun.nio.cs.StreamEncoder.writeBytes(StreamEncoder.java:221)\n    at sun.nio.cs.StreamEncoder.implFlushBuffer(StreamEncoder.java:291)\n    at sun.nio.cs.StreamEncoder.implFlush(StreamEncoder.java:295)\n    at sun.nio.cs.StreamEncoder.flush(StreamEncoder.java:141)\n    at java.io.OutputStreamWriter.flush(OutputStreamWriter.java:229)\n    at java.io.BufferedWriter.flush(BufferedWriter.java:254)\n</code></pre>\n\n<p>Please note that there is one more request message is added after I killed client. It is just placed right above the push message starts.</p>\n"}, {"tags": ["c++", "cmake", "fortran", "clang"], "comments": [{"owner": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483545720, "post_id": 41468128, "comment_id": 70141773, "body": "Can you show us how you are invoking cmake, specifically how you specified the toolchain?"}, {"owner": {"reputation": 1577, "user_id": 3360590, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000049532032/picture?type=large", "display_name": "Knowledge", "link": "https://stackoverflow.com/users/3360590/knowledge"}, "reply_to_user": {"reputation": 8856, "user_id": 4442671, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/-nSzcZygTwLs/AAAAAAAAAAI/AAAAAAAAADA/virGKG3deIo/photo.jpg?sz=128", "display_name": "Frank", "link": "https://stackoverflow.com/users/4442671/frank"}, "edited": false, "score": 0, "creation_date": 1483546807, "post_id": 41468128, "comment_id": 70142572, "body": "@Frank I use the command <code>cmake ..</code> from my build folder. What do you mean by toolchain?"}, {"owner": {"reputation": 530, "user_id": 2394541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f9b9b9399b329591f7be92da1c5e442?s=128&d=identicon&r=PG", "display_name": "tim18", "link": "https://stackoverflow.com/users/2394541/tim18"}, "edited": false, "score": 0, "creation_date": 1483546974, "post_id": 41468128, "comment_id": 70142691, "body": "If you are using gfortran and g++ together (excluding clang++, a reasonable tactic) it would seem you should permit g++ to use -lstdc++."}, {"owner": {"reputation": 814, "user_id": 6382074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04807dc4decf96efa9a9de10715ac35?s=128&d=identicon&r=PG&f=1", "display_name": "d_1999", "link": "https://stackoverflow.com/users/6382074/d-1999"}, "edited": false, "score": 2, "creation_date": 1483547444, "post_id": 41468128, "comment_id": 70143061, "body": "There seems to be an example in the question <a href=\"http://stackoverflow.com/q/25493039\">here</a> which seems to show how to force different compilers."}, {"owner": {"reputation": 1577, "user_id": 3360590, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000049532032/picture?type=large", "display_name": "Knowledge", "link": "https://stackoverflow.com/users/3360590/knowledge"}, "reply_to_user": {"reputation": 814, "user_id": 6382074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04807dc4decf96efa9a9de10715ac35?s=128&d=identicon&r=PG&f=1", "display_name": "d_1999", "link": "https://stackoverflow.com/users/6382074/d-1999"}, "edited": false, "score": 0, "creation_date": 1483548210, "post_id": 41468128, "comment_id": 70143641, "body": "@d_1999 I forced cmake now to use clang++ via <code>-DCMAKE_CXX_COMPILER=clang++</code> and for now it seems to work fine."}, {"owner": {"reputation": 4153, "user_id": 2938526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aba561f633da5f6fe58b227c5e685b6?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo Rodrigues", "link": "https://stackoverflow.com/users/2938526/rodrigo-rodrigues"}, "reply_to_user": {"reputation": 814, "user_id": 6382074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e04807dc4decf96efa9a9de10715ac35?s=128&d=identicon&r=PG&f=1", "display_name": "d_1999", "link": "https://stackoverflow.com/users/6382074/d-1999"}, "edited": false, "score": 0, "creation_date": 1533939286, "post_id": 41468128, "comment_id": 90546846, "body": "@d_1999 are you planning to write a proper answer? There is a bounty, and it would be fair if you received it, as you pointed to the right direction. (Or, the owner of the answer in the linked question)."}], "answers": [{"comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1534423552, "post_id": 51801163, "comment_id": 90706041, "body": "We found CMake is mostly broken for C++ projects. It will use the C compiler for tests even after setting the project to C++. We have experienced all kinds of stupid breaks, from failed feature tests to failed links because of it."}, {"owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "reply_to_user": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1534443487, "post_id": 51801163, "comment_id": 90717904, "body": "In the last 10 years I always didn&#39;t like cmake (even though I even pushed commits to cmake). Funny thing, right now our team is discussing switching to something else (cmake or ...) and I&#39;m strongly against :)"}], "tags": [], "owner": {"reputation": 13852, "user_id": 468725, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/85a49cd89084e6512dee0f140e86d5b4?s=128&d=identicon&r=PG", "display_name": "Pavel P", "link": "https://stackoverflow.com/users/468725/pavel-p"}, "is_accepted": true, "score": 4, "last_activity_date": 1534001269, "creation_date": 1534001269, "answer_id": 51801163, "question_id": 41468128, "link": "https://stackoverflow.com/questions/41468128/mixing-c-and-fortran/51801163#51801163", "title": "Mixing C++ and Fortran", "body": "<p>You can always override c/c++ compiler by changing <a href=\"https://cmake.org/cmake/help/latest/variable/CMAKE_LANG_COMPILER.html\" rel=\"nofollow noreferrer\">CMAKE_&lt;LANG&gt;_COMPILER</a>, where &lt;LANG&gt; in your case is C or CXX.</p>\n\n<ol>\n<li>You can set your <code>CC</code> and <code>CXX</code> environment variables to override defaults for CMAKE_C_COMPILER  / CMAKE_CXX_COMPILER:</li>\n</ol>\n\n<p><code>CC=clang CXX=clang++ cmake</code></p>\n\n<ol start=\"2\">\n<li>You can set these on command line when invoking cmake:</li>\n</ol>\n\n<p><code>cmake -D CMAKE_C_COMPILER=clang -D CMAKE_CXX_COMPILER=clang++</code></p>\n\n<ol start=\"3\">\n<li>You can also set these directly in your cmake file:</li>\n</ol>\n\n<p><code>set(CMAKE_C_COMPILER clang)\nset(CMAKE_CXX_COMPILER clang++)</code></p>\n\n<p>make sure however that you do that at the very top of your cmake file before any project/enable_language directive is used.</p>\n"}], "owner": {"reputation": 1577, "user_id": 3360590, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100000049532032/picture?type=large", "display_name": "Knowledge", "link": "https://stackoverflow.com/users/3360590/knowledge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 958, "favorite_count": 0, "accepted_answer_id": 51801163, "answer_count": 1, "score": 11, "last_activity_date": 1534001269, "creation_date": 1483545534, "last_edit_date": 1483556904, "question_id": 41468128, "link": "https://stackoverflow.com/questions/41468128/mixing-c-and-fortran", "title": "Mixing C++ and Fortran", "body": "<p><strong>Is there a way to use the Clang compiler while mixing C++ and Fortran?</strong></p>\n\n<p>Until now I use cmake with </p>\n\n<pre><code>project(mixing CXX Fortran)\n</code></pre>\n\n<p>but this triggers the use of <code>g++</code>. </p>\n\n<blockquote>\n  <p>-- The CXX compiler identification is GNU 6.2.0</p>\n</blockquote>\n\n<p>CMakeLists.txt of my project with Fortran mixing:</p>\n\n<pre><code>cmake_minimum_required(VERSION 3.7.0)\nproject(mixing CXX Fortran)\n\n# SET UP ROOT https://root.cern.ch/how/integrate-root-my-project-cmake\nset(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} /opt/local/libexec/root6/etc/root/cmake)\nfind_package(ROOT REQUIRED COMPONENTS MATH MINUIT2)\ninclude(${ROOT_USE_FILE})\n\ninclude_directories(Experiment Theory ${ROOT_INCLUDE_DIRS})\n\nadd_executable(mixing main.cpp)\n\ntarget_link_libraries(mixing ${ROOT_LIBRARIES})\n</code></pre>\n\n<p>Not working, because g++ cannot use the needed Clang flag <code>-stdlib=libc++</code> of the ROOT library.</p>\n"}, {"tags": ["c++", "c++11"], "comments": [{"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 0, "creation_date": 1483545673, "post_id": 41468125, "comment_id": 70141731, "body": "Try making your move constructor  <code>noexcept</code>."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "reply_to_user": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "edited": false, "score": 2, "creation_date": 1483545733, "post_id": 41468125, "comment_id": 70141786, "body": "@KerrekSB Doesn&#39;t the OP need to define a move assignment operator?"}, {"owner": {"reputation": 426981, "user_id": 596781, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a18405dd4b022837867d1f5453a05f41?s=128&d=identicon&r=PG", "display_name": "Kerrek SB", "link": "https://stackoverflow.com/users/596781/kerrek-sb"}, "reply_to_user": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 0, "creation_date": 1483545938, "post_id": 41468125, "comment_id": 70141925, "body": "@NathanOliver: Yes, indeed."}, {"owner": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483545941, "post_id": 41468125, "comment_id": 70141927, "body": "Is this the entire code? Your <code>while</code> loop looks incomplete (no increment of the iterator, no <code>break</code> when the condition is matched)."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 1, "creation_date": 1483546020, "post_id": 41468125, "comment_id": 70141970, "body": "@FelixLauer: The <code>break</code> is probably not appropriate. Clue: the OP has gone out of their way to leave <code>iter</code> valid for the next iteration, and the container is a vector, which may contain duplicates."}, {"owner": {"reputation": 149509, "user_id": 4342498, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/l3j88.jpg?s=128&g=1", "display_name": "NathanOliver", "link": "https://stackoverflow.com/users/4342498/nathanoliver"}, "edited": false, "score": 1, "creation_date": 1483546026, "post_id": 41468125, "comment_id": 70141972, "body": "Also note in this case you do not need to define any constructors except one to populate the cache members if you want.  All the other special member functions will be generated by the compiler."}, {"owner": {"reputation": 35, "user_id": 1448191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/211f05056302fc103cae5dd2387b98ea?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/1448191/sandy"}, "reply_to_user": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483596834, "post_id": 41468125, "comment_id": 70162264, "body": "@FelixLauer: Updated the sample code so that there won&#39;t be infinite loop."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483546050, "post_id": 41468233, "comment_id": 70141995, "body": "Generally, sticking to basic design rules (<a href=\"http://en.cppreference.com/w/cpp/language/rule_of_three\" rel=\"nofollow noreferrer\">en.cppreference.com/w/cpp/language/rule_of_three</a>) may help circumvent these kinds of issues."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483546060, "post_id": 41468233, "comment_id": 70142000, "body": "@FelixLauer: The rule of zero is better."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483546095, "post_id": 41468233, "comment_id": 70142020, "body": "Ah, I see the page has a misleading URI :)"}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1483546103, "post_id": 41468233, "comment_id": 70142035, "body": "one? never heard that one"}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1483546128, "post_id": 41468233, "comment_id": 70142052, "body": "@GillBates: The rule of one is &quot;always use the rule of zero&quot;"}, {"owner": {"reputation": 181, "user_id": 6523780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0iKNK.jpg?s=128&g=1", "display_name": "Felix Lauer", "link": "https://stackoverflow.com/users/6523780/felix-lauer"}, "edited": false, "score": 0, "creation_date": 1483546145, "post_id": 41468233, "comment_id": 70142061, "body": "@LightnessRacesinOrbit It was the first match on Google :D But yeah, the rule of zero is appropriate."}, {"owner": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 0, "creation_date": 1483546160, "post_id": 41468233, "comment_id": 70142076, "body": "@LightnessRacesinOrbit I&#39;d love to see that published in a book."}, {"owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "reply_to_user": {"reputation": 32882, "user_id": 1870760, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/NAAkp.png?s=128&g=1", "display_name": "Hatted Rooster", "link": "https://stackoverflow.com/users/1870760/hatted-rooster"}, "edited": false, "score": 1, "creation_date": 1483546225, "post_id": 41468233, "comment_id": 70142130, "body": "@GillBates: Does the periodic Stack Exchange DB data dump count? :D"}, {"owner": {"reputation": 35, "user_id": 1448191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/211f05056302fc103cae5dd2387b98ea?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/1448191/sandy"}, "edited": false, "score": 0, "creation_date": 1483597022, "post_id": 41468233, "comment_id": 70162338, "body": "I have added the move assignment operator, now it compiles fine without any issues. Thanks for the help."}], "tags": [], "owner": {"reputation": 357695, "user_id": 560648, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/pBDFJ.jpg?s=128&g=1", "display_name": "Lightness Races in Orbit", "link": "https://stackoverflow.com/users/560648/lightness-races-in-orbit"}, "is_accepted": true, "score": 5, "last_activity_date": 1483545849, "creation_date": 1483545849, "answer_id": 41468233, "question_id": 41468125, "link": "https://stackoverflow.com/questions/41468125/not-able-to-erase-vector-element-using-iterator-vector-element-implements-the-m/41468233#41468233", "title": "Not able to erase vector element using iterator, vector element implements the move constructor", "body": "<p>By creating a move constructor and not a copy constructor, you have made your type non-copyable.</p>\n\n<p>That's fine, but a vector requires that your elements can be copied or moved around in its storage space, particularly when you remove from the container and all the following elements have to be shuffled down. It does this by assignment.</p>\n\n<p>So, you can keep your class moveable and uncopyable, but you do need to write a <strong>move assignment operator</strong>.</p>\n\n<p>Generally: if you write a copy constructor, write a copy assignment operator; and, if you write a move constructor, write a move assignment operator.</p>\n\n<p>By the way, your loop is broken; it does not progress through the container if the service name <em>doesn't</em> match.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 1448191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/211f05056302fc103cae5dd2387b98ea?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/1448191/sandy"}, "edited": false, "score": 0, "creation_date": 1483597331, "post_id": 41469664, "comment_id": 70162438, "body": "I have made these changes and tried. Its resolves the issue. The struct provided here is a miniaturized one, the actual struct is quite bigger than this and its better for me to keep the move constructor. Anyway thanks for the insight:)"}], "tags": [], "owner": {"reputation": 233737, "user_id": 1774667, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/b6516fec2c5997b867545d285304cf12?s=128&d=identicon&r=PG", "display_name": "Yakk - Adam Nevraumont", "link": "https://stackoverflow.com/users/1774667/yakk-adam-nevraumont"}, "is_accepted": false, "score": 0, "last_activity_date": 1483550241, "creation_date": 1483550241, "answer_id": 41469664, "question_id": 41468125, "link": "https://stackoverflow.com/questions/41468125/not-able-to-erase-vector-element-using-iterator-vector-element-implements-the-m/41469664#41469664", "title": "Not able to erase vector element using iterator, vector element implements the move constructor", "body": "<p>Remove this code:</p>\n\n<pre><code>Cache(Cache&amp;&amp; other)\n    : serviceName(std::move(other.serviceName))\n{}\n</code></pre>\n\n<p>It serves no good purpose.  It even looks buggy, and if not buggy extremely surprising.</p>\n\n<p>Replace with:</p>\n\n<pre><code>Cache(Cache&amp;&amp; other)=default;\nCache(Cache const&amp; other)=default;\nCache&amp; operator=(Cache&amp;&amp; other)=default;\nCache&amp; operator=(Cache const&amp; other)=default;\n</code></pre>\n\n<p>Or, in some cases, omit all 4.  I like making them explicitly defaulted.</p>\n\n<p>The compiler error is because creating <code>Cache(Cache&amp;&amp;)</code> implicitly gets rid of the other member functions above, in particular <code>operator=(Cache&amp;&amp;)</code> which <code>vector.erase</code> uses.</p>\n"}], "owner": {"reputation": 35, "user_id": 1448191, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/211f05056302fc103cae5dd2387b98ea?s=128&d=identicon&r=PG", "display_name": "sandy", "link": "https://stackoverflow.com/users/1448191/sandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 41468233, "answer_count": 2, "score": 0, "last_activity_date": 1483596669, "creation_date": 1483545525, "last_edit_date": 1483596669, "question_id": 41468125, "link": "https://stackoverflow.com/questions/41468125/not-able-to-erase-vector-element-using-iterator-vector-element-implements-the-m", "title": "Not able to erase vector element using iterator, vector element implements the move constructor", "body": "<p>I have a vector of struct Cache. Cache which implements Move constructor. Whenever I try to iterate over this vector and try to erase an element on specific condition it fails to compile.</p>\n\n<pre><code>struct Cache {\n    Cache() {}\n\n    Cache(Cache&amp;&amp; other)\n        : serviceName(std::move(other.serviceName))\n    {}\n\n    ~Cache() {}\n\n    size_t referenceCount;\n    std::string serviceName;\n};\n\nstd::vector&lt;Cache&gt; vectorCaches;\nauto iter = vectorCaches.begin();\nwhile(iter != vectorCaches.end()) {\n     if(iter-&gt;serviceName == \"Sample\") {\n         iter = vectorCaches.erase(iter); //compiler error here\n     } else {\n         iter++;\n     }\n}\n</code></pre>\n\n<p>Compiler error:</p>\n\n<blockquote>\n  <p>error: use of deleted function 'Cache&amp; Cache::operator=(const Cache&amp;)'\n          <em>__result = std::move(</em>__first);\n                    ^ note: 'Cache&amp; Cache::operator=(const Cache&amp;)' is implicitly declared as deleted because 'Cache' declares a move\n  constructor or move assignment operator\n       struct Cache {</p>\n</blockquote>\n\n<p>Is there any workaround to achieve erase when vector element implements move constructor? Any help is appreciated.</p>\n"}, {"tags": ["c++", "qt", "c++11", "android-ndk", "qmake"], "comments": [{"owner": {"reputation": 566, "user_id": 4667104, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rGRu3uu46Vg/AAAAAAAAAAI/AAAAAAAAAS4/sFeLdQuPwdU/photo.jpg?sz=128", "display_name": "Elvis Teixeira", "link": "https://stackoverflow.com/users/4667104/elvis-teixeira"}, "edited": false, "score": 0, "creation_date": 1483546616, "post_id": 41468042, "comment_id": 70142418, "body": "As long as you are using Qt I would suggest you to use QString as much as you can. You can for example do QString(YOUR_STRING).toLong(). Here YOUR_STRING may as well be a standard C++ string."}, {"owner": {"reputation": 4578, "user_id": 6626554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Cn7Ya.png?s=128&g=1", "display_name": "TheWaterProgrammer", "link": "https://stackoverflow.com/users/6626554/thewaterprogrammer"}, "reply_to_user": {"reputation": 566, "user_id": 4667104, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rGRu3uu46Vg/AAAAAAAAAAI/AAAAAAAAAS4/sFeLdQuPwdU/photo.jpg?sz=128", "display_name": "Elvis Teixeira", "link": "https://stackoverflow.com/users/4667104/elvis-teixeira"}, "edited": false, "score": 0, "creation_date": 1483546713, "post_id": 41468042, "comment_id": 70142496, "body": "I am writing this code in core C++ class. this code has to be strictly C++. I don&#39;t have that <code>QString</code> option"}, {"owner": {"reputation": 566, "user_id": 4667104, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rGRu3uu46Vg/AAAAAAAAAAI/AAAAAAAAAS4/sFeLdQuPwdU/photo.jpg?sz=128", "display_name": "Elvis Teixeira", "link": "https://stackoverflow.com/users/4667104/elvis-teixeira"}, "edited": false, "score": 0, "creation_date": 1483546841, "post_id": 41468042, "comment_id": 70142606, "body": "Ok, what compiler are you using in Android? As a last resource you can try the old good sscanf function like sscanf(str.c_str(), &quot;%ld, &amp;yourInteger) if stoll is not available."}, {"owner": {"reputation": 4578, "user_id": 6626554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Cn7Ya.png?s=128&g=1", "display_name": "TheWaterProgrammer", "link": "https://stackoverflow.com/users/6626554/thewaterprogrammer"}, "reply_to_user": {"reputation": 566, "user_id": 4667104, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-rGRu3uu46Vg/AAAAAAAAAAI/AAAAAAAAAS4/sFeLdQuPwdU/photo.jpg?sz=128", "display_name": "Elvis Teixeira", "link": "https://stackoverflow.com/users/4667104/elvis-teixeira"}, "edited": false, "score": 0, "creation_date": 1483547813, "post_id": 41468042, "comment_id": 70143337, "body": "the compiler is gcc with the version that latest ndk provides"}], "answers": [{"tags": [], "owner": {"reputation": 821, "user_id": 4791654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-f6OIWNb562I/AAAAAAAAAAI/AAAAAAAAACY/Kuh1tIUZLbk/photo.jpg?sz=128", "display_name": "Tyler Lewis", "link": "https://stackoverflow.com/users/4791654/tyler-lewis"}, "is_accepted": false, "score": 1, "last_activity_date": 1483547365, "last_edit_date": 1483547365, "creation_date": 1483546995, "answer_id": 41468629, "question_id": 41468042, "link": "https://stackoverflow.com/questions/41468042/stdstoul-errors-out-on-a-qt-app-for-android-with-ndk-r13b/41468629#41468629", "title": "std::stoul errors out on a Qt app for android with NDK r13b", "body": "<p>The easiest way to work around this is to inject the functions into namespace std. Please note that you may need to implement these in a more correct manner, as I've only just scabbed in some code to make this look correct. So make a new file called whatever you like and add this:</p>\n\n<pre><code>#ifndef MYFILE_H\n#define MYFILE_H\n\n#if defined(__ANDROID__)\nnamespace std {\n    unsigned long stoul(const std::string &amp;str)\n    {\n        if (str.length() == 0) {\n            return 0;\n        }\n        auto returnValue = atoi(str.c_str());\n        if (returnValue == 0) {\n            throw std::invalid_argument(\"stoul: invalid string \" + str);\n        }\n        return returnValue;\n    }\n}\n#endif\n\n#endif //MYFILE_H\n</code></pre>\n"}], "owner": {"reputation": 4578, "user_id": 6626554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Cn7Ya.png?s=128&g=1", "display_name": "TheWaterProgrammer", "link": "https://stackoverflow.com/users/6626554/thewaterprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1483547365, "creation_date": 1483545330, "last_edit_date": 1495542275, "question_id": 41468042, "link": "https://stackoverflow.com/questions/41468042/stdstoul-errors-out-on-a-qt-app-for-android-with-ndk-r13b", "title": "std::stoul errors out on a Qt app for android with NDK r13b", "body": "<p>I <code>Qt app</code> which works on <code>android</code>. I am writing code which is pretty much <code>C++ 14</code> standard. Using functions like <code>make_unique</code> &amp; <code>make_shared</code> as well.</p>\n\n<p>However when I try to use <code>std::stoul</code>, <strong>it only fails to compile on <code>android</code></strong>. It compiles &amp; works for <code>clang</code> on <code>osx</code> &amp; <code>iOS</code>. Works for <code>Microsoft compiler on windows</code>. But only fails to compile on Android with the following error saying :-</p>\n\n<pre><code>error: 'stoul' is not a member of 'std'\n</code></pre>\n\n<p>My <code>Qt app</code> uses latest <code>NDK r13b</code> to compile the code for <code>android</code>.</p>\n\n<p>I searched around quite a bit &amp; found similar problems people are facing like <a href=\"https://stackoverflow.com/questions/17950814/how-to-use-stdstoul-and-stdstoull-in-android\">here</a> &amp; <a href=\"https://stackoverflow.com/questions/22774009/android-ndk-stdto-string-support\">here</a>. <strong>But, I need a way to resolve this on a <code>Qt app</code>. for <code>android</code></strong> </p>\n\n<p>I added the following to my <code>Qt App</code>'s <code>.pro</code> file. But doesnt work.</p>\n\n<p><strong>How can I make <code>std::stoul</code> compile in a <code>Qt app</code> for <code>android</code> using latest <code>NDK r13b</code> ?</strong></p>\n\n<p>Also tried adding the following block to my app's <code>.pro</code> file. <strong>But doesn't help</strong>.</p>\n\n<pre><code>android {\n QMAKE_CXXFLAGS_RELEASE += -std=c++1y\n QMAKE_CXXFLAGS_DEBUG += -std=c++1y\n CONFIG += c++14\n\n QMAKE_APP_FLAG +=c++_static\n}\n</code></pre>\n"}, {"tags": ["java", "android", "c++", "java-native-interface", "superpowered"], "answers": [{"comments": [{"owner": {"reputation": 1033, "user_id": 1147171, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5bba64a7fa6ea29fcfbb1ce7a6a039?s=128&d=identicon&r=PG", "display_name": "user1147171", "link": "https://stackoverflow.com/users/1147171/user1147171"}, "edited": false, "score": 0, "creation_date": 1483550883, "post_id": 41467919, "comment_id": 70145378, "body": "So it&#39;s really just JNIEXPORT in disguise!  Thanks!"}], "tags": [], "owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "is_accepted": true, "score": 3, "last_activity_date": 1483545018, "creation_date": 1483545018, "answer_id": 41467919, "question_id": 41467854, "link": "https://stackoverflow.com/questions/41467854/superpowered-android-jni-understanding-jnijintarray-format/41467919#41467919", "title": "Superpowered Android JNI: understanding &quot;JNI(jintArray ...&quot; format", "body": "<p>Look at the code in that example:</p>\n\n<pre><code>// Beautifying the ugly Java-C++ bridge (JNI) with these macros.\n#define PID com_superpowered_simpleusb_SuperpoweredUSBAudio // Java package name and class name. Don't forget to update when you copy this code.\n#define MAKE_JNI_FUNCTION(r, n, p) extern \"C\" JNIEXPORT r JNICALL Java_ ## p ## _ ## n\n#define JNI(r, n, p) MAKE_JNI_FUNCTION(r, n, p)\n</code></pre>\n\n<p>He's using some macro magic to make things \"cleaner\".  In reality it makes it less wordy but far harder to understand, and production code should never have stuff like this.</p>\n"}], "owner": {"reputation": 1033, "user_id": 1147171, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/dc5bba64a7fa6ea29fcfbb1ce7a6a039?s=128&d=identicon&r=PG", "display_name": "user1147171", "link": "https://stackoverflow.com/users/1147171/user1147171"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "accepted_answer_id": 41467919, "answer_count": 1, "score": 1, "last_activity_date": 1483545018, "creation_date": 1483544798, "question_id": 41467854, "link": "https://stackoverflow.com/questions/41467854/superpowered-android-jni-understanding-jnijintarray-format", "title": "Superpowered Android JNI: understanding &quot;JNI(jintArray ...&quot; format", "body": "<p>The Superpowered \"<a href=\"https://github.com/superpoweredSDK/Low-Latency-Android-Audio-iOS-Audio-Engine/blob/master/Android/SuperpoweredUSBExample/simpleusb/src/main/jni/simpleusb.cpp\" rel=\"nofollow noreferrer\">Simple USB Example</a>\" uses the code below to update the UI on the Java side based on a C++ method. This is the first time I've seen <code>JNI</code> alone followed by a method. I've seen <code>JNIEXPORT</code> in similar situations, but not just <code>JNI</code>. I'd like to learn more about this usage but haven't had any luck trying to Google it. Any explanations or references would be appreciated!</p>\n\n<p><a href=\"https://github.com/superpoweredSDK/Low-Latency-Android-Audio-iOS-Audio-Engine/blob/master/Android/SuperpoweredUSBExample/simpleusb/src/main/jni/simpleusb.cpp\" rel=\"nofollow noreferrer\">C++ Code</a>:</p>\n\n<pre><code>// This is called by the MainActivity Java object periodically.\nJNI(jintArray, getLatestMidiMessage, PID)(JNIEnv *env, jobject __unused obj) {\n    jintArray ints = env-&gt;NewIntArray(4);\n    jint *i = env-&gt;GetIntArrayElements(ints, NULL);\n    pthread_mutex_lock(&amp;mutex);\n    i[0] = latestMidiCommand;\n    i[1] = latestMidiChannel;\n    i[2] = latestMidiNumber;\n    i[3] = latestMidiValue;\n    pthread_mutex_unlock(&amp;mutex);\n    env-&gt;ReleaseIntArrayElements(ints, i, NULL);\n    return ints;\n}\n</code></pre>\n\n<p><a href=\"https://github.com/superpoweredSDK/Low-Latency-Android-Audio-iOS-Audio-Engine/blob/master/Android/SuperpoweredUSBExample/simpleusb/src/main/java/com/superpowered/simpleusb/MainActivity.java\" rel=\"nofollow noreferrer\">Java code</a>:</p>\n\n<pre><code> // Update UI every 40 ms.\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                int[] midi = getLatestMidiMessage();\n                switch (midi[0]) {\n                    case 8: textView.setText(String.format(Locale.ENGLISH, \"Note Off, CH %d, %d, %d\", midi[1] + 1, midi[2], midi[3])); break;\n                    case 9: textView.setText(String.format(Locale.ENGLISH, \"Note On, CH %d, %d, %d\", midi[1] + 1, midi[2], midi[3])); break;\n                    case 11: textView.setText(String.format(Locale.ENGLISH, \"Control Change, CH %d, %d, %d\", midi[1] + 1, midi[2], midi[3])); break;\n                }\n                handler.postDelayed(this, 40);\n            }\n        };\n        handler = new Handler();\n        handler.postDelayed(runnable, 40);\n    }\n</code></pre>\n"}, {"tags": ["c++"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483544764, "post_id": 41467795, "comment_id": 70141089, "body": "All data in a vector is on the heap as a rule of thumb, barring optimizations for small vectors."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 3511860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a8ff5655e03dfb8a9e168beeb3bc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3511860", "link": "https://stackoverflow.com/users/3511860/user3511860"}, "edited": false, "score": 0, "creation_date": 1483548570, "post_id": 41467998, "comment_id": 70143892, "body": "Thanks. This helps. Is there a way to add a std::vector to the struct constructor? Say, I modify my struct to:  struct MySt {  std::vector&lt;std::string &gt; firstSen; std::string secondSen; };  How do I add constructor?"}, {"owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "reply_to_user": {"reputation": 17, "user_id": 3511860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a8ff5655e03dfb8a9e168beeb3bc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3511860", "link": "https://stackoverflow.com/users/3511860/user3511860"}, "edited": false, "score": 0, "creation_date": 1483549125, "post_id": 41467998, "comment_id": 70144285, "body": "@user3511860 same exact way. Instead of <code>MySt( const std::string&amp;....</code> it&#39;d be <code>MySt( const std::vector&lt;std::string&gt; &gt;&amp;....</code> It is just your type that is changing."}], "tags": [], "owner": {"reputation": 1838, "user_id": 4525052, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0780adfbbb6b445dac0c9e12d3c73f50?s=128&d=identicon&r=PG&f=1", "display_name": "RyanP", "link": "https://stackoverflow.com/users/4525052/ryanp"}, "is_accepted": false, "score": 2, "last_activity_date": 1483547457, "last_edit_date": 1483547457, "creation_date": 1483545189, "answer_id": 41467998, "question_id": 41467795, "link": "https://stackoverflow.com/questions/41467795/c-struct-initialization/41467998#41467998", "title": "C++ struct initialization", "body": "<p>There is a lot going on here.</p>\n\n<p><code>dataSen</code> is a vector which means that it has a small amount of space on the stack to store a pointer to its storage as well as some overhead stuff (like size, etc) but everything it stores is on the heap via an allocation that it manages.</p>\n\n<p><code>std::string</code>, the type stored by dataSen, actually has a small amount of data being stored inside your vector (which again, is on the heap) and then creates a heap allocation of it's own for it's data. (There is a small string optimization that can take place, but that's beyond the scope of this).</p>\n\n<p>So you read things into a tokens vector, which stores the data as strings. The storage for the strings is on the heap (through vector's heap allocation) as is the storage within the string for the actual characters (through a heap allocation managed by the string).</p>\n\n<p>Then you use <code>c_str()</code> to get a <code>const char*</code> reference from the each string to create a temporary MySt (which has create two new strings, initialized by the const char*'s). This temporary is then copied into the vector, which means it is stored on the heap managed by the vector, with each of the strings data being stored on the heap through different allocations managed by string.</p>\n\n<p>Now... none of that might actually be true because the optimizer can do lots of tricks, but that's what you are requesting be done.</p>\n\n<p>Coincidentally, if you use <code>emplace_back(const char*, const char*)</code> instead of <code>push_back(MySt(...))</code> you would construct it in place instead of making a temporary and moving.</p>\n\n<p>Additionally, if you added a constructor for MySt that took std::string&amp;&amp; values you could move the strings you have already created into MySt to avoid casting to a const char* and then creating another string from that.</p>\n\n<p>Edit for your comment:</p>\n\n<pre><code>struct MySt\n{\n    // existing constructor, creating strings from const char*\n    MySt( const char * m, const char * gm ):\n        firstSen(m),\n        secondSen(gm)\n    {\n    }\n\n    // constructor copying string inputs\n    MySt( const std::string&amp; m, const std::string&amp; gm) :\n        firstSen(m),\n        secondSen(gm)\n    {\n    }\n\n    // constructor moving existing strings (strings from calling code\n    // will be in an unusable state other than to re-assign them to\n    // something new... but it will take the allocated heap from the\n    // existing strings as to avoid making another heap allocation)\n    MySt( std::string&amp;&amp; m, std::string&amp;&amp; gm) :\n        firstSen(std::move(m)),\n        secondSen(std::move(gm))\n    {\n    }\n\n    std::string firstSen;\n    std::string secondSen;\n};\n</code></pre>\n\n<p>Then use...</p>\n\n<pre><code>getTokens( cp, tokens );\n\nif(tokens.size() == 2 )\n{\n    // to copy...\n    dataSen.emplace_back( tokens[0], tokens[1] );\n\n    // or to move...\n    dataSen.emplace_back( std::move(tokens[0]), std::move(tokens[1]) );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3099493"}, "reply_to_user": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1483550357, "post_id": 41468490, "comment_id": 70145064, "body": "@AndyG. Ah. Right. :-)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3099493"}, "is_accepted": false, "score": 0, "last_activity_date": 1483546616, "creation_date": 1483546616, "answer_id": 41468490, "question_id": 41467795, "link": "https://stackoverflow.com/questions/41467795/c-struct-initialization/41468490#41468490", "title": "C++ struct initialization", "body": "<ul>\n<li>If you declare objects globally or as static local, they are\nallocated statically.</li>\n<li>If you declare in a block, they are allocated on the stack.</li>\n<li>If you use <code>new</code> keyword, they are allocated on the heap.</li>\n<li>Elements of STL containers are also stored on the heap.</li>\n</ul>\n"}], "owner": {"reputation": 17, "user_id": 3511860, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a8ff5655e03dfb8a9e168beeb3bc8e2?s=128&d=identicon&r=PG&f=1", "display_name": "user3511860", "link": "https://stackoverflow.com/users/3511860/user3511860"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1483547457, "creation_date": 1483544658, "question_id": 41467795, "link": "https://stackoverflow.com/questions/41467795/c-struct-initialization", "title": "C++ struct initialization", "body": "<p>I have the following struct declaration in somecode.h:</p>\n\n<pre><code>    struct MySt\n    {\n        MySt( const char * m, const char * gm ):\n            firstSen(m),\n            secondSen(gm)\n        {\n        }\n\n        std::string firstSen;\n        std::string secondSen;\n    };\n</code></pre>\n\n<p>Here is the code in somecode.cpp:</p>\n\n<pre><code>        std::vector&lt;MySt&gt; dataSen;\n\n        char * cp = trim(buff);\n        std::vector&lt;std::string&gt; tokens;\n\n        getTokens( cp, tokens );\n\n        if(tokens.size() == 2 )\n        {\n\n            dataSen.push_back( MySt(tokens[0].c_str(), tokens[1].c_str() ));\n        }\n</code></pre>\n\n<p>This code works. My question is: This type of MySt initialization, is it stack or heap, is it dynamically or statically allocated?\nThnx. </p>\n"}]